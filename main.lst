                             #[1]   "main.s"
   27                        	
   28               0010     	CORE_VERSION	=	$10			; Version 1.0
   29                        	
   30                        			; Get the user program's configuration settings, this will
   31                        			; be read from the current directory, if it exists, or the
   32                        			; "../include/" directory if not.
   33                        	
                             #[4]   "..\..\..\include\hucc\core-config.inc"
   34                        			include	"core-config.inc"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; core-config.inc
    5                        	;
    6                        	; Configuration settings for the "CORE(not TM)" PC Engine library code.
    7                        	;
    8                        	; Copyright John Brandwood 2021-2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; The idea is that you, a PCE developer, copy this file from the ../include/
   18                        	; directory and into your project's directory, and then customize the values
   19                        	; to suit your particular project.
   20                        	;
   21                        	; Because PCEAS searches the current (i.e. project) directory for an include
   22                        	; file first, then it will find your customized copy of the file rather than
   23                        	; the original copy in the ../include/ directory.
   24                        	;
   25                        	; That means that all of the different overlay programs in your project will
   26                        	; share the same overall library configuration for your game.
   27                        	;
   28                        	; ***************************************************************************
   29                        	; ***************************************************************************
   30                        	
   31                        	;
   32                        	; Are we going to take over MPR7?
   33                        	;
   34                        	; While this is the default for the "CORE(not TM)" library, it is definitely
   35                        	; possible to use the library to build CD-ROM code that runs with the System
   36                        	; Card in MPR7, and with the 1st bank remaining in MPR2.
   37                        	;
   38                        	; N.B. The CD-ROM Stage1 loader runs the library with USING_MPR7=0 while it
   39                        	;      installs the kernel into PCE RAM in MPR1.
   40                        	;
   41                        	
   42               0000     		.ifndef	USING_MPR7
   44                        		.endif
   45                        	
   46                        	;
   47                        	; Are we building a CD-ROM overlay that uses an already-built CD-ROM Stage1
   48                        	; loader to install the library's kernel code into PCE RAM in MPR1?
   49                        	;
   50                        	; If this is set, the library's kernel code will be excluded from the build,
   51                        	; which will save about 1KB-3KB of code space in every overlay program!
   52                        	;
   53                        	; N.B. The CD-ROM Stage1 loader sets USING_STAGE1=0 so it builds correctly.
   54                        	;
   55                        	
   56               0000     		.ifndef	USING_STAGE1
   58                        		.endif
   59                        	
   60                        	;
   61                        	; Are we currently building the CD-ROM Stage1 loader?
   62                        	;
   63                        	; If this is set, the library's startup code does not call the __sound_init
   64                        	; macro because the sound driver code is not usually a part of the kernel.
   65                        	;
   66                        	; N.B. The CD-ROM Stage1 loader sets BUILDING_STAGE1=1 so it builds correctly.
   67                        	;
   68                        	
   69               0000     		.ifndef	BUILDING_STAGE1
   71                        		.endif
   72                        	
   73                        	;
   74                        	; Is the last track of the CD a duplicate of the main ISO data track?
   75                        	;
   76                        	; Most CD games put two copies of the same ISO track on the CD, so that data
   77                        	; can be read from the secondary track if the drive has a problem reading it
   78                        	; it from the primary location.
   79                        	;
   80                        	; If set, the secondary track will be enabled when the library first starts.
   81                        	;
   82                        	
   83               0000     		.ifndef	SUPPORT_2ISO
   85                        		.endif
   86                        	
   87                        	;
   88                        	; Maximum number of directory entries to use from the ISO.
   89                        	;
   90                        	; The fewer that we choose, the less RAM memory we need. A setting of 64 is
   91                        	; a good compromise to use until you are putting lots of files on the ISO.
   92                        	;
   93                        	
   94               0000     		.ifndef	MAX_DIRSIZE
   96                        		.endif
   97                        	
   98                        	;
   99                        	; Use the System Card's PSG driver code instead of a modern alternative
  100                        	; sound driver like a DefleMask or Furnace player?
  101                        	;
  102                        	
  103               0000     		.ifndef	USING_PSGDRIVER
  105                        		.endif
  106                        	
  107                        	;
  108                        	; Support development for the Turbo EverDrive v2?
  109                        	;
  110                        	; This only applies to HuCard programs, but when chosen, the "CORE(not TM)"
  111                        	; kernel is moved from bank 0 to bank 2, and a minimal set of startup code
  112                        	; is put in bank 0.
  113                        	;
  114                        	; This is because the TED2 hardware occupies the whole of bank 0 when it is
  115                        	; activated, and so we need to run with a different bank in MPR7.
  116                        	;
  117                        	
  118               0000     		.ifndef	SUPPORT_TED2
  120                        		.endif
  121                        	
  122                        	;
  123                        	; Support development for the SuperGRAFX?
  124                        	;
  125                        	; This enables SuperGRAFX support in certain library functions.
  126                        	;
  127                        	
  128               0000     		.ifndef	SUPPORT_SGX
  130                        		.endif
  131                        	
  132                        	;
  133                        	; Choose SuperGRAFX VPC initialization mode.
  134                        	;
  135                        	; SGX_PARALLAX=0 (useful when VDC #1 is a fullscreen HUD)
  136                        	;
  137                        	;  FRONT
  138                        	;   SP1 = VDC #1 (pce) sprite pixels
  139                        	;   BG1 = VDC #1 (pce) background pixels
  140                        	;   SP2 = VDC #2 (sgx) sprite pixels
  141                        	;   BG2 = VDC #2 (sgx) background pixels
  142                        	;  BACK
  143                        	;
  144                        	; SGX_PARALLAX=1
  145                        	;
  146                        	;  FRONT
  147                        	;   SP1 = VDC #1 (pce) sprite pixels
  148                        	;   SP2 = VDC #2 (sgx) sprite pixels
  149                        	;   BG1 = VDC #1 (pce) background pixels
  150                        	;   BG2 = VDC #2 (sgx) background pixels
  151                        	;  BACK
  152                        	;
  153                        	
  154               0000     		.ifndef	SGX_PARALLAX
  156                        		.endif
  157                        	
  158                        	;
  159                        	; Support development for the ArcadeCard?
  160                        	;
  161                        	; This enables ArcadeCard support in certain library functions.
  162                        	;
  163                        	
  164               0000     		.ifndef	SUPPORT_ACD
  166                        		.endif
  167                        	
  168                        	;
  169                        	; Support development for the IFU's ADPCM hardware?
  170                        	;
  171                        	; Developers would normally just use the System Card functions for ADPCM, but
  172                        	; enabling this adds alternative functions, and allows ADPCM use on a HuCARD.
  173                        	;
  174                        	
  175               0000     		.ifndef	SUPPORT_ADPCM
  177                        		.endif
  178                        	
  179                        	;
  180                        	; Select which version of the joystick library code to include, only one of
  181                        	; these can be set to '1' ...
  182                        	;
  183                        	; SUPPORT_2BUTTON : Only returns buttons I and II.
  184                        	; SUPPORT_6BUTTON : Read buttons III-VI, but ignore a mouse.
  185                        	; SUPPORT_MOUSE	  : Read mouse, but ignore buttons III-VI.
  186                        	;
  187                        	; It doesn't make sense to design a game the relies on both the 6-button and
  188                        	; the mouse, so the joystick library is optimized for one or the other.
  189                        	;
  190                        	; Note that both those devices are always detected and no conflicts occur,
  191                        	; this just controls reading either buttons III-VI or the Mouse Y-movement.
  192                        	;
  193                        	
  194               0000     		.ifndef	SUPPORT_6BUTTON
  200                        		.endif
  201                        	
  202                        	;
  203                        	; How many joypad/mouse devices should be supported?
  204                        	;
  205                        	; This is normally 5, but can be set to 3 (or lower) in order to speed up
  206                        	; the processing and free up CPU time for other code, which is especially
  207                        	; useful for mouse games.
  208                        	;
  209                        	
  210               0000     		.ifndef	MAX_PADS
  212                        		.endif
  213                        	
  214                        	;
  215                        	; Implement a HuC-compatible seperate array for accumulating joypad presses?
  216                        	;
  217                        	; This is only really needed if your game is not expected to run at 60Hz and
  218                        	; so you will sometimes miss joypad presses.
  219                        	;
  220                        	; Alternatively you can set ACCUMULATE_JOY so that joypad presses are always
  221                        	; accumulated in the normal joytrg array, which is how asm programmers would
  222                        	; normally deal with this situation.
  223                        	;
  224                        	
  225               0000     		.ifndef HUC_JOY_EVENTS
  227                        		.endif
  228                        	
  229                        	;
  230                        	; Should "joytrg" accumulate presses, and so need to be explicitely cleared
  231                        	; after reading, or should it just be the result of the last read?
  232                        	;
  233                        	; This option has no effect if HUC_JOY_EVENTS is non-zero since that option
  234                        	; takes precedence over this one!
  235                        	;
  236                        	
  237               0000     		.ifndef ACCUMULATE_JOY
  239                        		.endif
  240                        	
  241                        	;
  242                        	; The DATA_BANK location needs to be set as early as possible so that library
  243                        	; code is able to put data in there before the total overall size of the code
  244                        	; is known.
  245                        	;
  246                        	; By default, DATA_BANK is the next bank after the CORE_BANK.
  247                        	;
  248                        	; RESERVE_BANKS allows developers to reserve some banks between the CORE_BANK
  249                        	; and the DATA_BANK that they can use however they wish.
  250                        	;
  251                        	; One use for RESERVE_BANKS is to create empty space that PCEAS can use when
  252                        	; it relocates procedures. This provides a way for a developer to group code
  253                        	; together at the start of memory, and leave the maximum number of banks for
  254                        	; loading dynamic data from CD-ROM.
  255                        	;
  256                        	; The KickC environment sets RESERVE_BANKS=1 (or higher) so that there is a
  257                        	; a bank for the permanent C code and static constants.
  258                        	;
  259                        	
  260               0000     		.ifndef	RESERVE_BANKS
  266                        		.endif	RESERVE_BANKS
                             #[3]   "..\..\..\include\hucc\core.inc"
   35                        	
   36                        	;
   37                        	; This is a simple macro to call System Card functions when using MPR7 for
   38                        	; running the "CORE(not TM)" PC Engine library code.
   39                        	;
   40                        	
   41                        	system		.macro
   42                        			ldy     #<\1
   43                        			jsr	call_bios
   44                        			.endm
   45                        	
   46                        	;
   47                        	; This replaces the System Card's ex_setvec, because "call_bios" uses the
   48                        	; Y register.
   49                        	;
   50                        	
   51                        	setvec		.macro
   52                        			php
   53                        			sei
   54                        			lda.l	#\2
   55                        			sta.l	\1
   56                        			lda.h	#\2
   57                        			sta.h	\1
   58                        			plp
   59                        			.endm
   60                        	
   61                        	;
   62                        	; Repurpose this System Card variable, since nmi_hook is never used.
   63                        	;
   64                        	; We'll use it as a vector to a user-supplied sound driver instead.
   65                        	;
   66                        	
   67               2206     	sound_hook	=	nmi_hook		; Sound Driver to run in VBL.
   68                        	
   69                        	;
   70                        	; CORE Zero-Page variables, relative to the System Card's ZP variables.
   71                        	;
   72                        	
   73               0000     		.if	USING_PSGDRIVER
   75                        		.else
   76               20EC     	core_zpend	=	$F8:20EC
   77                        		.endif	USING_PSGDRIVER
   78                        	
   79               0001     		.if	SUPPORT_SGX
   80                        	
   81                        			; Put some "CORE(not TM)" variables at the start of Zero Page.
   82                        			;
   83                        			; These are at the *start* of ZP so that the SuperGrafx shadow
   84                        			; "sgx_" registers are at a specific offset from their System
   85                        			; Card "vdc_" counterparts, and they MUST NOT be moved!
   86                        			;
   87                        			; This allows us to put SGX_VDC_OFFSET or PCE_VDC_OFFSET into
   88                        			; the X register, and then index into either set of hardware
   89                        			; registers and the "sgx_reg" or "vdc_reg" shadow-variables.
   90                        	
   91               0000     	PCE_VDC_OFFSET	=	$00		; Offset to PCE VDC chip & shadow vars.
   92               0010     	SGX_VDC_OFFSET	=	$10		; Offset to SGX VDC chip & shadow vars.
   93                        	
   94               2000     			.zp
   95               2000     			.org	$2000
   96    F8:2000             	__temp		ds	2		; $F8:2000 Use within any ASM routine.
   97    F8:2002             	_bp_bank	ds	1		; $F8:2002 Use within any ASM/HuCC routine.
   98    F8:2003             	sgx_crl		ds	1		; $F8:2003 SGX shadow (vdc_crl = $20F3).
   99    F8:2004             	sgx_crh		ds	1		; $F8:2004 SGX shadow (vdc_crh = $20F4).
  100    F8:2005             	core_1stbank	ds	1		; $F8:2005 1st bank of library code.
  101    F8:2006             	sgx_sr		ds	1		; $F8:2006 SGX shadow (vdc_sr  = $20F6).
  102    F8:2007             	sgx_reg		ds	1		; $F8:2007 SGX shadow (vdc_reg = $20F7).
  103                        	
  104               2008     	core_zp1st	=	*		; $F8:2008 1st free user address.
  105                        	
  106                        		.else	SUPPORT_SGX
  116                        		.endif	SUPPORT_SGX
  117                        	
  118                        	;
  119                        	; The kernel code in RAM follows the System Card's RAM variables.
  120                        	;
  121                        	
  122               0000     		.if	USING_PSGDRIVER
  124                        		.else
  125               22D0     	core_ram1st     =	$F8:22D0
  126                        		.endif	USING_PSGDRIVER
  127                        	
  128                        	;
  129                        	; Include the "CORE(not TM)" startup code to begin the HuCARD / Overlay.
  130                        	;
  131                        	
                             #[4]   "..\..\..\include\hucc\core-startup.asm"
  132                        			include	"core-startup.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; core-startup.asm
    5                        	;
    6                        	; The "CORE(not TM)" PC Engine library startup code that runs at boot/reset.
    7                        	;
    8                        	; Copyright John Brandwood 2021-2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; This is the initialization code in the 1st bank, and it is responsible for
   18                        	; setting up a consistant runtime environment for the developer's program,
   19                        	; so that the developer can concentrate on writing the program itself.
   20                        	;
   21                        	; The idea is that when a program is loaded, the first 40KB of it is mapped
   22                        	; as $4000..$DFFF, and initialization starts at $4000, with the developer's
   23                        	; program getting control after initialization, with a jump to "core_main".
   24                        	;
   25                        	; The initializtion sets up a small kernel of code that provides interrupt
   26                        	; handling that mimics a subset of the System Card's behavior, designed to
   27                        	; act in the same way on HuCARD and CD-ROM, with either the System Card in
   28                        	; MPR7, or with an overlay in MPR7.
   29                        	;
   30                        	; The kernel handles reading the joypad/mouse, and it offers handler hooks
   31                        	; for running the developer's interrupt code.  On CD-ROM systems, it also
   32                        	; handles the loading and running of subsequent overlay programs.
   33                        	;
   34                        	; On HuCARD, the kernel itself runs in MPR7; while on CD-ROM systems it is
   35                        	; run from RAM in MPR1, so that overlay programs are independant from each
   36                        	; other, and can be written in different programming languages.
   37                        	;
   38                        	;
   39                        	; 1) If we're running on a HuCARD, the initialization is simple!
   40                        	;
   41                        	;    The PC Engine's memory map is set to ...
   42                        	;
   43                        	;      MPR0 = bank $FF : PCE hardware
   44                        	;      MPR1 = bank $F8 : PCE RAM with Stack & ZP
   45                        	;      MPR2 = bank $00 : HuCARD ROM
   46                        	;      MPR3 = bank $01 : HuCARD ROM
   47                        	;      MPR4 = bank $02 : HuCARD ROM
   48                        	;      MPR5 = bank $03 : HuCARD ROM
   49                        	;      MPR6 = bank $04 : HuCARD ROM
   50                        	;      MPR7 = bank $00 : HuCARD ROM
   51                        	;
   52                        	;
   53                        	; 2) If we're running on a HuCARD that supports the Turbo Everdrive, then the
   54                        	;    first 2 banks are reserved for mapping the TED2 hardware and a RAM bank.
   55                        	;
   56                        	;    The PC Engine's memory map is set to ...
   57                        	;
   58                        	;      MPR0 = bank $FF : PCE hardware
   59                        	;      MPR1 = bank $F8 : PCE RAM with Stack & ZP
   60                        	;      MPR2 = bank $02 : HuCARD ROM
   61                        	;      MPR3 = bank $03 : HuCARD ROM
   62                        	;      MPR4 = bank $04 : HuCARD ROM
   63                        	;      MPR5 = bank $05 : HuCARD ROM
   64                        	;      MPR6 = bank $06 : HuCARD ROM
   65                        	;      MPR7 = bank $02 : HuCARD ROM
   66                        	;
   67                        	;
   68                        	; 3) If we're running on an old CD System, the overlay is loaded from the ISO
   69                        	;    into banks $80-$87 (64KB max).
   70                        	;
   71                        	;    The PC Engine's memory map is set to ...
   72                        	;
   73                        	;      MPR0 = bank $FF : PCE hardware
   74                        	;      MPR1 = bank $F8 : PCE RAM with Stack & ZP
   75                        	;      MPR2 = bank $80 : CD RAM
   76                        	;      MPR3 = bank $81 : CD RAM
   77                        	;      MPR4 = bank $82 : CD RAM
   78                        	;      MPR5 = bank $83 : CD RAM
   79                        	;      MPR6 = bank $84 : CD RAM
   80                        	;      MPR7 = bank $80 : CD RAM or System Card's bank $00
   81                        	;
   82                        	;
   83                        	; 4) If we're running on a SuperCD System, the overlay is loaded from the ISO
   84                        	;    into banks $68-$87 (256KB max).
   85                        	;
   86                        	;    The PC Engine's memory map is set to ...
   87                        	;
   88                        	;      MPR0 = bank $FF : PCE hardware
   89                        	;      MPR1 = bank $F8 : PCE RAM with Stack & ZP
   90                        	;      MPR2 = bank $68 : SCD RAM
   91                        	;      MPR3 = bank $69 : SCD RAM
   92                        	;      MPR4 = bank $6A : SCD RAM
   93                        	;      MPR5 = bank $6B : SCD RAM
   94                        	;      MPR6 = bank $6C : SCD RAM
   95                        	;      MPR7 = bank $68 : SCD RAM or System Card's bank $00
   96                        	;
   97                        	; ***************************************************************************
   98                        	; ***************************************************************************
   99                        	
  100                        	
  101                        	
  102               E000     			.code
  103               0000     			.bank	0
  104                        	
  105               0000     		.if	SUPPORT_TED2			; Do we want to use a TED2?
  177                        		.endif	SUPPORT_TED2
  178                        	
  179                        	
  180                        	
  181               0001     		.if	USING_MPR7
  182                        	
  183                        	; ***************************************************************************
  184                        	; ***************************************************************************
  185                        	;
  186                        	; RESET VECTORS (when running in MPR7, either as a HuCARD, or a CD overlay)
  187                        	;
  188                        	
  189                        			; Hardware reset and interrupt vectors.
  190                        	
  191               FFF4     			.org	$FFF4
  192                        	
  193    00:FFF4  10         	core_version:	db	CORE_VERSION		; CORE(not TM) Version.
  194    00:FFF5  80         			db	$80			; System Card compatibility.
  195                        	
  196    00:FFF6  5D E0      			dw	core_irq2		; IRQ2	(from CD/ADPCM)
  197    00:FFF8  64 E0      			dw	core_irq1		; IRQ1	(from VDC)
  198    00:FFFA  58 E1      			dw	core_timer		; TIMER (from CPU)
  199    00:FFFC  5E E1      			dw	core_rti		; NMI	(unused)
  200               0000     		.if	CDROM
  202                        		.else
  203    00:FFFE  21 E0      			dw	core_hw_reset		; RESET (HuCARD)
  204                        		.endif	CDROM
  205                        	
  206               0001     		.if	USING_NEWPROC			; If the ".proc" trampolines
  207               FFF3     	__trampolineptr =	$FFF3			; are in MPR7, tell PCEAS to
  208                        		.endif					; put them below the vectors.
  209                        	
  210                        		.else	USING_MPR7
  222                        		.endif	USING_MPR7
  223                        	
  224                        	
  225                        	
  226                        	; ***************************************************************************
  227                        	; ***************************************************************************
  228                        	;
  229                        	; !!! THE HuCARD/OVERLAY PROGRAM'S FIRST BANK STARTS HERE !!!
  230                        	;
  231                        	
  232                        			; Switch to MPR2 for the "CORE(not TM)" library init.
  233                        			;
  234                        			; This is also executed by a HuCARD once it has run
  235                        			; its initial hardware-reset code.
  236                        			;
  237                        			; When run, MPR2-MPR6 are always mapped to the 1st 5 banks of
  238                        			; the overlay program, and MPR7 contains the System Card.
  239                        	
  240               4000     			.org	$4000
  241                        	
  242               0000     	CORE_BANK	=	bank(*) - _bank_base	; It isn't always zero! ;-)
  243                        	
  244               0000     			.bank	CORE_BANK, "CORE_BANK"	; Give it a label.
  245                        	
  246               0001     		.if	USING_MPR7
  247               0007     	CORE_PAGE	=	7			; User code runs in MPR7.
  248                        		.else
  250                        		.endif	USING_MPR7
  251                        	
  252    00:4000  4C 06 40   	core_boot:	jmp	* + 6			; Allow someone to patch this.
  253                        	
  254                        			; Add an ident string so isoLINK can autodetect configuration.
  255                        			;
  256                        			; This allows isoLINK to decide whether to use the IPL-SCD boot
  257                        			; sector hack, and whether to include a SuperGRAFX signature in
  258                        			; the boot sector, without the user having to manually use some
  259                        			; command line parameters, although they are free to do that if
  260                        			; they wish.
  261                        	
  262               0001     		.if	SUPPORT_SGX
  263               0000     		.if	BUILDING_STAGE1
  265                        		.else
  266    00:4003  53 47 58   			db	"SGX"			; SGX SuperCD or SGX HuCARD.
  267                        		.endif	BUILDING_STAGE1
  268                        		.else
  282                        		.endif	SUPPORT_SGX
  283                        	
  284               0000     		.if	CDROM
  331                        		.else	CDROM
  332                        	
  333                        			; Set up HuCARD RAM in a compatible way to the System Card.
  334                        			;
  335                        			; Note that the entire RAM is cleared by "core_hw_reset".
  336                        	
  337    00:4006  A9 1F      			lda	#%11111			; Enable joypad soft-reset.
  338    00:4008  8D 27 22   			sta	joyena
  339                        	
  340                        		.endif	CDROM
  341                        	
  342                        			; Now that RAM is initialized ...
  343                        	
  344    00:400B  43 04      			tma2				; Remember overlay's 1st bank
  345    00:400D  85 05      			sta	<core_1stbank		; $00, $02, $68 or $80!
  346               0001     		.if	USING_MPR7
  347    00:400F  53 80      			tam7				; "CORE(not TM)" takes MPR7!
  348                        		.endif
  349                        	
  350    00:4011  A2 FF      			ldx	#$FF			; Initialize stack pointer.
  351    00:4013  9A         			txs
  352                        	
  353    00:4014  20 5F E1   			jsr	core_clr_hooks		; Reset default hooks.
  354                        	
  355                        	;		stz	TIMER_CR		; Stop HuC6280 timer.
  356                        	;		stz	IRQ_ACK			; Clr HuC6280 timer interrupt.
  357                        	;		stz	IRQ_MSK			; Clr HuC6280 interrupt mask.
  358                        	
  359    00:4017  AD 00 02   			lda	VDC_SR			; Purge any overdue VBL.
  360    00:401A  9C 41 22   			stz	irq_cnt			; Make it easy to check.
  361    00:401D  58         			cli				; Restore interrupts.
  362                        	
  363    00:401E  4C E5 FF   			jmp	core_main		; Start the game's code.
  364                        	
  365                        	
  366                        	
  367               0001     		.if	!CDROM
  368                        	
  369                        	; ***************************************************************************
  370                        	; ***************************************************************************
  371                        	;
  372                        	; HuCARD Kernel Code
  373                        	;
  374                        	; core_ram1st - Start of code to relocate to MPR1.
  375                        	; core_ramend - End of code to relocate to MPR1.
  376                        	;
  377                        	
  378                        			; In a HuCARD, BSS variables start as low as possible.
  379                        	
  380               2200     			.bss
  381               22D0     			.org	core_ram1st
  382               22D0     	core_ramend	=	*
  383               4021     			.code
  384                        	
  385                        			; Normal HuCARD hardware-reset code, executed in MPR7.
  386                        			;
  387                        			; This does the basic PCE startup that every HuCARD (including
  388                        			; a System Card) needs to do, and then it remaps memory to be
  389                        			; compatible with the "CORE(not TM)" CD overlay program start.
  390                        	
  391               E021     			.page	7			; This will run in MPR7.
  392                        	
  393    00:E021  78         	core_hw_reset:	sei				; Disable interrupts.
  394    00:E022  D4         			csh				; Set high-speed mode.
  395    00:E023  D8         			cld
  396                        	
  397    00:E024  A2 FF      			ldx	#$FF			; Initialize stack pointer.
  398    00:E026  9A         			txs
  399    00:E027  8A         			txa				; MPR0 = $FF : PCE hardware
  400    00:E028  53 01      			tam0				; MPR1 = $F8 : PCE RAM
  401    00:E02A  A9 F8      			lda	#$F8
  402    00:E02C  53 02      			tam1
  403                        	
  404    00:E02E  9C 01 0C   			stz	TIMER_CR		; HW reset already does these,
  405    00:E031  9C 03 14   			stz	IRQ_ACK			; but this may be a reset from
  406    00:E034  9C 02 14   			stz	IRQ_MSK			; software (i.e. joypad).
  407                        	
  408    00:E037  F3 53 E0 00			tai	const_0000, $2000, 8192 ; Clear RAM.
         00:E03B  20 00 20    
  409                        	
  410    00:E03E  43 80      			tma7				; Not always bank 0!
  411                        	
  412    00:E040  53 04      			tam2				; Set CD-ROM overlay memory map,
  413    00:E042  1A         			inc	a			; 1st 5 banks in MPR2-MPR6.
  414    00:E043  53 08      			tam3
  415    00:E045  1A         			inc	a
  416    00:E046  53 10      			tam4
  417    00:E048  1A         			inc	a
  418    00:E049  53 20      			tam5
  419    00:E04B  1A         			inc	a
  420    00:E04C  53 40      			tam6
  421                        	
  422    00:E04E  4C 00 40   			jmp	core_boot		; Continue execution in MPR2.
  423                        	
  424                        			; In a HuCARD, the kernel code is permanently in MPR7.
  425                        	
                             #[5]   "..\..\..\include\hucc\core-kernel.asm"
  426                        			include "core-kernel.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; core-kernel.asm
    5                        	;
    6                        	; The "CORE(not TM)" PC Engine library kernel code that runs after startup.
    7                        	;
    8                        	; Copyright John Brandwood 2021-2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; This code is permanently located in either MPR7 (HuCARD), or MPR1 (CD-ROM),
   18                        	; and it provides a consistant method of interrupt-handling on both systems
   19                        	; that is designed to be compatible with the System Card.
   20                        	;
   21                        	; The library uses the "irq1_hook" for its own VDC interrupt handler, and PCE
   22                        	; developers are expected to use "vsync_hook" and "hsync_hook" for their VDC
   23                        	; interrupt functions.  Plenty of memory is available in the 1st bank for the
   24                        	; developer to put those functions.
   25                        	;
   26                        	; The reason for using "irq1_hook", is so that the library can work properly
   27                        	; if either the current overlay program, or the System Card, are mapped into
   28                        	; MPR7 whenever an interrupt occurs.
   29                        	;
   30                        	; The VDC interupt handler itself is changed from the System Card's handler,
   31                        	; and it is designed to provide faster response to vsync_hook, and to enable
   32                        	; interrupts during the slow(ish) joypad and sound driver code, so that both
   33                        	; raster and timer interrupts are not delayed.
   34                        	;
   35                        	; Developers are free to enable interrupts during their own vsync_hook code,
   36                        	; if they wish to do so.
   37                        	;
   38                        	; On CD-ROM systems, this library kernel also provides a function to load and
   39                        	; run a new overlay program, without relying upon any of the code/data within
   40                        	; the current overlay program's memory (unlike HuC v3).
   41                        	;
   42                        	; ***************************************************************************
   43                        	; ***************************************************************************
   44                        	
   45                        	
   46                        	
   47                        	; ***************************************************************************
   48                        	; ***************************************************************************
   49                        	;
   50                        	; core_kernel - Start of kernel code.
   51                        	;
   52                        	
   53               E051     	core_kernel	=	*
   54                        	
   55                        	
   56                        	
   57                        	; ***************************************************************************
   58                        	; ***************************************************************************
   59                        	;
   60                        	; Useful constants, needed by joypad library code, and used by many others.
   61                        	;
   62                        	; The kernel starts with a non-zero byte so that core-startup.asm can check
   63                        	; whether it has already been loaded into RAM.
   64                        	;
   65                        	
   66    00:E051  FF FF      	const_FFFF:	dw	$FFFF			; Useful constant for TAI.
   67    00:E053  00 00      	const_0000:	dw	$0000			; Useful constant for TAI.
   68                        	
   69    00:E055  01 02 04 08	bit_mask:	db	$01,$02,$04,$08,$10,$20,$40,$80
         00:E059  10 20 40 80 
   70                        	
   71                        	
   72                        	
   73                        	; ***************************************************************************
   74                        	; ***************************************************************************
   75                        	;
   76                        	; core_irq2  - Minimal interrupt handler compatible with System Card.
   77                        	; core_irq1  - Minimal interrupt handler compatible with System Card.
   78                        	; core_timer - Minimal interrupt handler compatible with System Card.
   79                        	; core_rti   - Minimal interrupt handler compatible with System Card.
   80                        	;
   81                        	; Note that it takes 8 cycles to respond to an IRQ.
   82                        	;
   83                        	; These routines are copied to a location in RAM that does not vary when
   84                        	; a different overlay program is loaded.
   85                        	;
   86                        	; All overlay programs are set up to vector interrupts to these routines,
   87                        	; which is designed to avoid interrupt-related crashes when loading a new
   88                        	; overlay on top of an old overlay in memory.
   89                        	;
   90                        	; All of the game's actual interrupt handling itself is done in the "hook"
   91                        	; functions so that everything works the same if the System Card is banked
   92                        	; into MPR7 when an interrupt occurs.
   93                        	;
   94                        	; ***************************************************************************
   95                        	; ***************************************************************************
   96                        	;
   97                        	; Bit settings for irq_vec  ...
   98                        	;
   99                        	;   7 : 1 to skip BIOS hsync processsing
  100                        	;   6 : 1 to call [hsync_hook]
  101                        	;   5 : 1 to skip BIOS vsync processsing
  102                        	;   4 : 1 to call [vsync_hook]
  103                        	;
  104                        	;   3 : 1 to jump [nmi_hook]
  105                        	;   2 : 1 to jump [timer_hook]
  106                        	;   1 : 1 to jump [irq1_hook]
  107                        	;   0 : 1 to jump [irq2_hook]
  108                        	;
  109                        	; ***************************************************************************
  110                        	; ***************************************************************************
  111                        	
  112    00:E05D  8F F5 01   	core_irq2:	bbs0	<irq_vec, .hook		; 8 cycles if using hook.
  113                        	
  114               0000     		.if	CDROM
  138                        		.else
  139                        			; Does this HuCARD support the IFU's ADPCM hardware?
  140                        	
  141               0000     		.if	SUPPORT_ADPCM
  153                        		.endif	SUPPORT_ADPCM
  154                        	
  155    00:E060  40         			rti				; No IRQ2 hardware on HuCARD.
  156                        	
  157    00:E061  6C 00 22   	.hook:		jmp	[irq2_hook]		; 7 cycles.
  158                        		.endif	CDROM
  159                        	
  160                        	
  161                        	
  162                        	; ***************************************************************************
  163                        	; ***************************************************************************
  164                        	;
  165                        	; core_irq1 - Minimal interrupt handler compatible with System Card.
  166                        	;
  167                        	; irq1_handler - Basic "CORE(not TM)" IRQ1 handler to use as the "irq1_hook".
  168                        	;
  169                        	; Doing the IRQ1 handler processing in this hook means that things operate
  170                        	; the same whether the System Card or an Overlay is paged into MPR7.
  171                        	
  172               0000     		.ifndef	HUCC
  181                        		.else
  182                        			; Faster IRQ servicing for HuCC and code that would like to
  183                        			; avoid the 8 cycles used by the "bbs1" instruction that is
  184                        			; taken when the System Card is mapped into MPR7.
  185                        	
  186    00:E064             	core_irq1:	;;;				; 8 (cycles for the INT)
  187               0001     		.if	CDROM || !defined(NO_CORE_IRQ1_HOOK)
  188    00:E064  6C 02 22   			jmp	[irq1_hook]		; 7 cycles.
  189                        	
  190                        		.endif
  191                        		.endif
  192                        	
  193    00:E067  48         	irq1_handler:	pha				; 3 Save all registers.
  194    00:E068  DA         			phx				; 3
  195    00:E069  5A         			phy				; 3
  196                        	
  197               0000     		.ifndef	USING_RCR_MACROS		;   This slows things down
  206                        		.endif	USING_RCR_MACROS
  207                        	
  208    00:E06A  AD 00 02   			lda	VDC_SR			; 6 Acknowledge the VDC's IRQ.
  209    00:E06D  85 F6      			sta	<vdc_sr			; 4 Remember what caused it.
  210                        	
  211               0001     		.if	SUPPORT_SGX
  212    00:E06F  AE 10 02   			ldx	SGX_SR			; 6 Read SGX_SR after VDC_SR in
  213    00:E072  86 06      			stx	<sgx_sr			; 4 case this is not an SGX!
  214                        		.endif
  215                        	
  216                        			; Handle the VDC's RCR interrupt.
  217                        	
  218    00:E074  29 04      	!:		and	#$04			; 2 Is this an HSYNC interrupt?
  219    00:E076  F0 44      			beq	!+			; 2
  220                        	
  221               0001     		.ifdef	USING_RCR_MACROS
  222                        			VDC_RCR_MACRO
                             	
         00:E078  03 06      			st0	#VDC_RCR		; 5
                             	
         00:E07A  AE 4D 27   			ldx	vdc_next_region		; 5 X and Y can be greater than
         00:E07D  BC 4E 27   			ldy	vdc_regionA_nxt, x	; 5 HUCC_PCE_SPLITS if regionB!
         00:E080  18         			clc				; 2
         00:E081  D0 05      			bne	!set_next_rcr+		; 4 Stop RCR if next line is 0.
                             	
         00:E083  2D 53 E0   			and	const_0000		; 5 A=$00 with the same #cycles
         00:E086  80 05      			bra	!clr_next_rcr+		; 4 as if the branch were taken.
                             	
         00:E088  B9 FD 26   	!set_next_rcr:	lda	vdc_regionA_rcr, y	; 5 Set next RCR 1 line before
         00:E08B  69 3F      			adc	#64-1			; 2 the region begins, or 0 to
         00:E08D  8D 02 02   	!clr_next_rcr:	sta	VDC_DL			; 6 disable.
         00:E090  62         			cla				; 2
         00:E091  2A         			rol	a			; 2
         00:E092  8D 03 02   			sta	VDC_DH			; 6
                             	
         00:E095  03 08      			st0	#VDC_BYR		; 5 Do BYR first to mitigate the
         00:E097  BD 2D 27   			lda	vdc_regionA_yl, x	; 5 glitch if the IRQ is delayed.
         00:E09A  8D 02 02   			sta	VDC_DL			; 6 = 105 cycles from RCR on SGX
         00:E09D  BD 3D 27   			lda	vdc_regionA_yh, x	; 5
         00:E0A0  8D 03 02   			sta	VDC_DH			; 6
                             	
         00:E0A3  03 05      			st0	#VDC_CR			; 5
         00:E0A5  BD ED 26   			lda	vdc_regionA_crl, x	; 5
                             	;		asl	a
         00:E0A8  8D 02 02   			sta	VDC_DL			; 6
                             	
         00:E0AB  03 07      			st0	#VDC_BXR		; 2
         00:E0AD  BD 0D 27   			lda	vdc_regionA_xl, x	; 5
         00:E0B0  8D 02 02   			sta	VDC_DL			; 6
         00:E0B3  BD 1D 27   			lda	vdc_regionA_xh, x	; 5
         00:E0B6  8D 03 02   			sta	VDC_DH			; 6 = 156 cycles from RCR if DUO
                             	
                             	;		bcc	!+
                             	;		lda	vdc_regionA_yh, x	; 5
                             	;		sta.l	VCE_CTW			; 6
                             	
         00:E0B9  8C 4D 27   			sty	vdc_next_region		; 5
                             	
  223                        		.else
  225                        		.endif
  226                        	
  227               0001     		.if	SUPPORT_SGX
  228                        	
  229                        			; Handle the SGX's RCR interrupt.
  230                        	
  231    00:E0BC  2F 06 50   	!:		bbr2	<sgx_sr, !+		; 6 Is this an HSYNC interrupt?
  232                        	
  233               0001     		.ifdef	USING_RCR_MACROS
  234                        			SGX_RCR_MACRO
                             	
         00:E0BF  A9 06      			lda	#VDC_RCR		; 2
         00:E0C1  8D 10 02   			sta	SGX_AR			; 6
                             	
         00:E0C4  AE CE 27   			ldx	sgx_next_region		; 5 X and Y can be greater than
         00:E0C7  BC CF 27   			ldy	sgx_regionA_nxt, x	; 5 HUCC_SGX_SPLITS if regionB!
         00:E0CA  18         			clc				; 2
         00:E0CB  D0 05      			bne	!set_next_rcr+		; 4 Stop RCR if next line is 0.
                             	
         00:E0CD  2D 53 E0   			and	const_0000		; 5 A=$00 with the same #cycles
         00:E0D0  80 05      			bra	!clr_next_rcr+		; 4 as if the branch were taken.
                             	
         00:E0D2  B9 7E 27   	!set_next_rcr:	lda	sgx_regionA_rcr, y	; 5 Set next RCR 1 line before
         00:E0D5  69 3F      			adc	#64-1			; 2 the region begins, or 0 to
         00:E0D7  8D 12 02   	!clr_next_rcr:	sta	SGX_DL			; 6 disable.
         00:E0DA  62         			cla				; 2
         00:E0DB  2A         			rol	a			; 2
         00:E0DC  8D 13 02   			sta	SGX_DH			; 6
                             	
         00:E0DF  A9 08      			lda	#VDC_BYR		; 2 Do BYR first to mitigate the
         00:E0E1  8D 10 02   			sta	SGX_AR			; 6 glitch if the IRQ is delayed.
         00:E0E4  BD AE 27   			lda	sgx_regionA_yl, x	; 5
         00:E0E7  8D 12 02   			sta	SGX_DL			; 6
         00:E0EA  BD BE 27   			lda	sgx_regionA_yh, x	; 5
         00:E0ED  8D 13 02   			sta	SGX_DH			; 6
                             	
         00:E0F0  A9 05      			lda	#VDC_CR			; 2
         00:E0F2  8D 10 02   			sta	SGX_AR			; 6
         00:E0F5  BD 6E 27   			lda	sgx_regionA_crl, x	; 5
         00:E0F8  8D 12 02   			sta	SGX_DL			; 6
                             	
         00:E0FB  A9 07      			lda	#VDC_BXR		; 2
         00:E0FD  8D 10 02   			sta	SGX_AR			; 6
         00:E100  BD 8E 27   			lda	sgx_regionA_xl, x	; 5
         00:E103  8D 12 02   			sta	SGX_DL			; 6
         00:E106  BD 9E 27   			lda	sgx_regionA_xh, x	; 5
         00:E109  8D 13 02   			sta	SGX_DH			; 6 = 293 cycles (282 if no YH)
                             	
         00:E10C  8C CE 27   			sty	sgx_next_region		; 5
                             	
  235                        		.else
  237                        		.endif
  238                        	
  239                        		.endif	SUPPORT_SGX
  240                        	
  241                        			; Handle the VDC's VBL interrupt.
  242                        	
  243    00:E10F  5F F6 32   	!:		bbr5	<vdc_sr, .exit_irq1	; 6 Is this a VBLANK interrupt?
  244                        	
  245               0001     		.ifdef	USING_RCR_MACROS		;   If we didn't do it earlier
  246               0000     		.if	CDROM				;   then we need to do it now.
  253                        		.endif	CDROM
  254                        		.endif	USING_RCR_MACROS
  255                        	
  256               0001     		.if	SUPPORT_SGX
  257    00:E112  A9 05      			lda	#VDC_CR			; Update the SGX's Control
  258    00:E114  8D 10 02   			sta	SGX_AR			; Register first, just in
  259    00:E117  8D 00 02   			sta	VDC_AR			; case this is not an SGX!
  260    00:E11A  A5 03      			lda	<sgx_crl		
  261    00:E11C  8D 12 02   			sta	SGX_DL
  262    00:E11F  A5 F3      			lda	<vdc_crl
  263    00:E121  8D 02 02   			sta	VDC_DL
  264                        	
  265                        	;		lda	<sgx_crh		; Do not mess with the SGX's
  266                        	;		sta	SGX_DH			; auto-increment!!!
  267                        	;		lda	<vdc_crh		; Do not mess with the VDC's
  268                        	;		sta	VDC_DH			; auto-increment!!!
  269                        		.else
  277                        		.endif	SUPPORT_SGX
  278                        	
  279    00:E124  EE 41 22   			inc	irq_cnt			; Mark that a VBLANK occurred.
  280                        	
  281    00:E127  4F F5 02   			bbr4	<irq_vec, .skip_hookv	; Is a driver registered?
  282                        	
  283    00:E12A  44 26      			bsr	.user_vsync		; Call game's VBLANK code.
  284                        	
  285    00:E12C  DF F5 15   	.skip_hookv:	bbs5	<irq_vec, .exit_vbl	; Should we skip "BIOS" stuff?
  286                        	
  287    00:E12F  58         			cli				; Allow HSYNC and TIMER IRQ.
  288                        	
  289    00:E130  20 DB FF   			call	read_joypads		; Update joypad state.
  290                        	
  291               0000     		.if	USING_PSGDRIVER
  305                        		.else
  306    00:E133  AD 07 22   			lda	sound_hook + 1		; Is a driver registered?
  307    00:E136  F0 0C      			beq	.exit_vbl
  308                        	
  309    00:E138  A9 80      			lda	#$80			; Acquire sound mutex to avoid
  310    00:E13A  0C E7 22   			tsb	sound_mutex		; conflict with a delayed VBL.
  311    00:E13D  30 05      			bmi	.exit_vbl
  312                        	
  313    00:E13F  44 14      			bsr	.user_sound		; Call the driver hook.
  314                        	
  315    00:E141  9C E7 22   			stz	sound_mutex		; Release sound mutex.
  316                        		.endif	USING_PSGDRIVER
  317                        	
  318    00:E144             	.exit_vbl:
  319                        	
  320               0001     		.ifdef	USING_RCR_MACROS		; If USING_RCR_MACROS then 
  321               0000     		.if	CDROM				; restore after the VBLANK.
  326                        		.endif	CDROM
  327                        		.endif	USING_RCR_MACROS
  328                        	
  329    00:E144             	.exit_irq1:
  330                        	
  331               0000     		.ifndef	USING_RCR_MACROS		; If !USING_RCR_MACROS then
  338                        		.endif	USING_RCR_MACROS
  339                        	
  340               0001     		.if	SUPPORT_SGX
  341    00:E144  A5 07      			lda	<sgx_reg		; Restore SGX_AR first, just
  342    00:E146  8D 10 02   			sta	SGX_AR			; in case this is not an SGX!
  343                        		.endif
  344                        	
  345    00:E149  A5 F7      			lda	<vdc_reg		; Restore VDC_AR in case we
  346    00:E14B  8D 00 02   			sta	VDC_AR			; changed it.
  347                        	
  348    00:E14E  7A         			ply				; Restore all registers.
  349    00:E14F  FA         			plx
  350    00:E150  68         			pla
  351                        	
  352    00:E151  40         			rti				; Return from interrupt.
  353                        	
  354    00:E152  6C 08 22   	.user_vsync:	jmp	[vsync_hook]		; 7
  355    00:E155  6C 06 22   	.user_sound:	jmp	[sound_hook]		; 7
  356                        	
  357               0000     		.ifndef	USING_RCR_MACROS
  362                        		.endif	USING_RCR_MACROS
  363                        	
  364                        	
  365                        	
  366                        	; ***************************************************************************
  367                        	; ***************************************************************************
  368                        	;
  369                        	; core_timer - Minimal interrupt handler compatible with System Card.
  370                        	;
  371                        	; tirq_handler - Basic "CORE(not TM)" TIRQ handler to use as the "timer_hook".
  372                        	;
  373                        	; Doing the TIRQ handler processing in this hook means that things operate
  374                        	; the same whether the System Card or an Overlay is paged into MPR7.
  375                        	
  376               0000     		.ifndef	HUCC
  385                        		.else
  386                        			; Faster IRQ servicing for HuCC and code that would like to
  387                        			; avoid the 8 cycles used by the "bbs2" instruction that is
  388                        			; taken when the System Card is mapped into MPR7.
  389                        	
  390    00:E158             	core_timer:	;;;				; 8 (cycles for the INT)
  391               0001     		.if	CDROM || !defined(NO_CORE_TIRQ_HOOK)
  392    00:E158  6C 04 22   			jmp	[timer_hook]		; 7 cycles.
  393                        		.endif
  394                        		.endif
  395                        	
  396    00:E15B             	tirq_handler:
  397               0000     		.ifdef	USING_TIRQ_MACRO
  399                        		.else
  400    00:E15B  9C 03 14   			stz	IRQ_ACK			; 5 Clear timer interrupt.
  401                        		.endif
  402                        	
  403    00:E15E  40         	core_rti:	rti
  404                        	
  405                        	
  406                        	
  407                        	; ***************************************************************************
  408                        	; ***************************************************************************
  409                        	;
  410                        	; core_clr_hooks - Reset default "CORE(not TM)" interrupt-handling hooks.
  411                        	;
  412                        	
  413    00:E15F  08         	core_clr_hooks:	php				; Preserve interrupt state.
  414    00:E160  78         			sei				; Disable interrupts.
  415                        	
  416               0000     		.if	USING_PSGDRIVER
  419                        		.else
  420    00:E161  9C 07 22   			stz.h	sound_hook		; Disable sound driver calls.
  421                        		.endif
  422                        	
  423    00:E164  A9 88      			lda	#<core_sw_reset		; Set up the soft-reset hook.
  424    00:E166  8D 84 22   			sta.l	reset_hook
  425    00:E169  A9 E1      			lda	#>core_sw_reset
  426    00:E16B  8D 85 22   			sta.h	reset_hook
  427                        	
  428    00:E16E  A9 67      			lda	#<irq1_handler		; Set up the IRQ1 hook.
  429    00:E170  8D 02 22   			sta.l	irq1_hook
  430    00:E173  A9 E0      			lda	#>irq1_handler
  431    00:E175  8D 03 22   			sta.h	irq1_hook
  432                        	
  433    00:E178  A9 5B      			lda	#<tirq_handler		; Set up the TIRQ hook.
  434    00:E17A  8D 04 22   			sta.l	timer_hook
  435    00:E17D  A9 E1      			lda	#>tirq_handler
  436    00:E17F  8D 05 22   			sta.h	timer_hook
  437                        	
  438    00:E182  A9 06      			lda	#%00000110		; Replace the System Card's
  439    00:E184  85 F5      			sta	<irq_vec		; IRQ1 and TIRQ processing.
  440                        	
  441    00:E186  28         			plp				; Restore interrupt state.
  442    00:E187  60         			rts
  443                        	
  444                        	
  445                        	
  446                        	; ***************************************************************************
  447                        	; ***************************************************************************
  448                        	;
  449                        	; Include the joypad library, with configuration from "core-config.inc".
  450                        	;
  451                        	
                             #[6]   "..\..\..\include\hucc\joypad.asm"
  452                        			include "joypad.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; joypad.asm
    5                        	;
    6                        	; Read 2-button & 6-button joypads & PCE mouse, with or without a MultiTap.
    7                        	;
    8                        	; Copyright John Brandwood 2019-2025.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; Unlike Lemmings, this code does not interfere with a Memory Base 128! ;-)
   18                        	;
   19                        	; ***************************************************************************
   20                        	; ***************************************************************************
   21                        	;
   22                        	; With SUPPORT_MOUSE ..... 2602 cycles to read 5 ports with 5 mice
   23                        	;
   24                        	; With HuC library code .. 2442 cycles to read 5 ports with 5 pads (2-button)
   25                        	; With HuC library code .. 2442 cycles to read 5 ports with 5 pads (6-button)
   26                        	;
   27                        	; With SUPPORT_MOUSE ....  2016 cycles to read 5 ports with 5 pads (2-button)
   28                        	; With SUPPORT_MOUSE ..... 1976 cycles to read 5 ports with 5 pads (6-button)
   29                        	;
   30                        	; With SUPPORT_MOUSE ....  1618 cycles to read 3 ports with 3 mice
   31                        	; With SUPPORT_MOUSE ..... 1462 cycles to read 3 ports with 2 mice
   32                        	; With SUPPORT_MOUSE ..... 1306 cycles to read 3 ports with 1 mouse
   33                        	;
   34                        	; With SUPPORT_6BUTTON ... 1235 cycles to read 5 ports with 5 pads (2-button)
   35                        	; With SUPPORT_6BUTTON ... 1215 cycles to read 5 ports with 5 pads (6-button)
   36                        	;
   37                        	; With SUPPORT_MOUSE ..... 1126 cycles to read 2 ports with 2 mice
   38                        	; With SUPPORT_MOUSE ...... 970 cycles to read 2 ports with 1 mouse
   39                        	;
   40                        	; Only SUPPORT_2BUTTON .... 971 cycles to read 5 ports with 5 pads (2-button)
   41                        	; Only SUPPORT_2BUTTON .... 861 cycles to read 5 ports with 5 pads (6-button)
   42                        	;
   43                        	; With SUPPORT_MOUSE ...... 634 cycles to read 1 port  with 1 mouse
   44                        	;
   45                        	; ***************************************************************************
   46                        	; ***************************************************************************
   47                        	
  142                        	
  143                        	;
  144                        	; Now choose which version of the code to include.
  145                        	;
  146                        	
  147               0000     		.if	SUPPORT_2BUTTON
  278                        		.endif	SUPPORT_2BUTTON
  279                        	
  280                        	
  281                        	
  282               0000     		.if	SUPPORT_MOUSE
  845                        		.else	SUPPORT_MOUSE
  846                        	
  847                        	
  848                        	
  849               0001     		.if	SUPPORT_6BUTTON			; Without mouse!
  850                        	
  851                        	; ***************************************************************************
  852                        	; ***************************************************************************
  853                        	;
  854                        	; read_joypads - full 6-button pad support, but mouse movement is ignored.
  855                        	;
  856                        	; This code distinguishes between a mouse and a 2-button or 6-button joypad,
  857                        	; so that unsupported devices do not have to be unplugged from the MultiTap.
  858                        	;
  859                        	; The code loops two times to get both sets of buttons on a 6-button joypad.
  860                        	;
  861                        	; N.B. Takes approx 1/3 frame to detect mice the first time it is run.
  862                        	;
  863                        	; bit values for joypad 2-button bytes: (MSB = #7; LSB = #0)
  864                        	; ----------------------------------------------------------
  865                        	; bit 0 (ie $01) = I
  866                        	; bit 1 (ie $02) = II
  867                        	; bit 2 (ie $04) = SELECT
  868                        	; bit 3 (ie $08) = RUN
  869                        	; bit 4 (ie $10) = UP
  870                        	; bit 5 (ie $20) = RIGHT
  871                        	; bit 6 (ie $40) = DOWN
  872                        	; bit 7 (ie $80) = LEFT
  873                        	;
  874                        	; bit values for joypad 6-button bytes: (MSB = #7; LSB = #0)
  875                        	; ----------------------------------------------------------
  876                        	; bit 0 (ie $01) = III
  877                        	; bit 1 (ie $02) = IV
  878                        	; bit 2 (ie $04) = V
  879                        	; bit 3 (ie $08) = VI
  880                        	; bit 4 (ie $10) = zero
  881                        	; bit 5 (ie $20) = zero
  882                        	; bit 6 (ie $40) = zero
  883                        	; bit 7 (ie $80) = zero, but set to one if 6-button pad detected.
  884                        	;
  885                        	
  886               E188     			.code
  887                        	
  888               0001     		.if	(* >= $4000)			; Make this a ".proc" if it
  889    1F:C13E             	read_joypads	.proc                           ; not running in RAM.
  890                        		.else
  892                        		.endif
  893                        	
  894    1F:C13E  A9 80      			lda	#$80			; Acquire port mutex to avoid
  895    1F:C140  0C D0 22   			tsb	port_mutex		; conflict with a delayed VBL
  896    1F:C143  30 75      			bmi	.exit			; or access to an MB128.
  897                        	
  898    1F:C145  73 28 22 32			tii	joynow,joyold,MAX_PADS	; Save the previous values.
         1F:C149  22 05 00    
  899    1F:C14C  73 D3 22 D8			tii	joy6now,joy6old,MAX_PADS
         1F:C150  22 05 00    
  900                        	
  901                        			; Reset the 6-btn bits, the user might change the joypad mode!
  902                        	
  903    1F:C153  F3 53 E0 D3			tai	const_0000, joy6now, MAX_PADS
         1F:C157  22 05 00    
  904                        	
  905                        			; Detect attached mice the first time this routine is called.
  906                        	
  907    1F:C15A  AD D2 22   			lda	mouse_flg		; Has mouse detection happened?
  908    1F:C15D  30 28      			bmi	.calc_pressed
  909                        	
  910    1F:C15F  A9 05      			lda	#MAX_PADS		; Reset number of pads to read.
  911    1F:C161  8D D1 22   			sta	num_ports
  912                        	
  913    1F:C164  A9 1F      			lda	#%00011111		; Try reading everything as a
  914    1F:C166  8D D2 22   			sta	mouse_flg		; mouse.
  915                        	
  916    1F:C169  A0 17      			ldy	#23			; Initialize repeat count.
  917    1F:C16B  A9 80      			lda	#$80			; Initialize mouse detection.
  918    1F:C16D  5A         	.detect_loop:	phy
  919    1F:C16E  48         			pha
  920    1F:C16F  44 53      			bsr	.read_devices		; Read all devices as if mice.
  921    1F:C171  68         			pla
  922    1F:C172  82         			clx
  923    1F:C173  BC E2 22   	.detect_port:	ldy	mouse_x, x		; A movement of zero means
  924    1F:C176  D0 03      			bne	.detect_next		; this port is a mouse.
  925    1F:C178  1D 55 E0   			ora	bit_mask, x
  926    1F:C17B  E8         	.detect_next:	inx				; Get the next pad from the
  927    1F:C17C  E0 05      			cpx	#MAX_PADS		; multitap.
  928    1F:C17E  D0 F3      			bne	.detect_port
  929    1F:C180  7A         			ply				; Repeat the detection test.
  930    1F:C181  88         			dey
  931    1F:C182  D0 E9      			bne	.detect_loop
  932                        	
  933                        	;	.if	DETECT_PHANTOMS
  934                        	;		cmp	#(1 << MAX_PADS) + 127	; If we find a mouse in every
  935                        	;		bne	.detect_done		; port, then assume mirrored!
  936                        	;		lda	#1			; Report a single mouse in a
  937                        	;		sta	num_ports		; single port.
  938                        	;		lda	#$81
  939                        	;	.endif
  940                        	
  941    1F:C184  8D D2 22   	.detect_done:	sta	mouse_flg		; Report mouse detection.
  942                        	
  943                        			; See what has just been pressed, and check for soft-reset.
  944                        	
  945    1F:C187  44 3B      	.calc_pressed:	bsr	.read_devices		; Read all devices normally.
  946                        	
  947    1F:C189  A2 04      			ldx	#MAX_PADS - 1
  948                        	
  949    1F:C18B  BD D3 22   	.pressed_loop:	lda	joy6now, x		; Calc which buttons have just
  950    1F:C18E  5D D8 22   			eor	joy6old, x		; been pressed (6-button).
  951    1F:C191  3D D3 22   			and	joy6now, x
  952               0000     		.if	HUC_JOY_EVENTS
  956                        		.else
  957               0000     		.if	ACCUMULATE_JOY
  959                        		.endif
  960    1F:C194  9D DD 22   			sta	joy6trg, x
  961                        		.endif
  962                        	
  963    1F:C197  BD 28 22   			lda	joynow, x		; Calc which buttons have just
  964    1F:C19A  A8         			tay                             ; been pressed (2-button).
  965    1F:C19B  5D 32 22   			eor	joyold, x
  966    1F:C19E  3D 28 22   			and	joynow, x
  967               0000     		.if	HUC_JOY_EVENTS
  971                        		.else
  972               0000     		.if	ACCUMULATE_JOY
  974                        		.endif
  975    1F:C1A1  9D 2D 22   			sta	joytrg, x
  976                        		.endif
  977                        	
  978    1F:C1A4  C9 04      			cmp	#$04			; Detect the soft-reset combo,
  979    1F:C1A6  D0 0C      			bne	.not_reset		; hold RUN then press SELECT.
  980    1F:C1A8  C0 0C      			cpy	#$0C
  981    1F:C1AA  D0 08      			bne	.not_reset
  982    1F:C1AC  BD 55 E0   			lda	bit_mask, x
  983    1F:C1AF  2C 27 22   			bit	joyena
  984    1F:C1B2  D0 09      			bne	.soft_reset
  985                        	
  986    1F:C1B4  CA         	.not_reset:	dex				; Check the next pad from the
  987    1F:C1B5  10 D4      			bpl	.pressed_loop		; multitap.
  988                        	
  989    1F:C1B7  9C D0 22   			stz	port_mutex		; Release port mutex.
  990                        	
  991               0001     		.if	(* >= $4000)			; This is a ".proc" if it is
  992                        	.exit:		leave                           ; not running in RAM.
         1F:C1BA  4C EF FF   			jmp	leave_proc
  993                        		.else
  995                        		.endif
  996                        	
  997    1F:C1BD  78         	.soft_reset:	sei				; Disable interrupts.
  998    1F:C1BE  9C D0 22   			stz	port_mutex		; Release port mutex.
  999    1F:C1C1  6C 84 22   			jmp	[reset_hook]		; Jump to the soft-reset hook.
 1000                        	
 1001                        			; Read all of the devices attached to the MultiTap.
 1002                        	
 1003    1F:C1C4  A2 02      	.read_devices:	ldx	#2			; Repeat this loop 2 times.
 1004                        	
 1005    1F:C1C6  A9 01      	.read_multitap:	lda	#$01			; CLR lo, SEL hi for d-pad.
 1006    1F:C1C8  8D 00 10   			sta	IO_PORT
 1007    1F:C1CB  A9 03      			lda	#$03			; CLR hi, SEL hi, reset tap.
 1008    1F:C1CD  8D 00 10   			sta	IO_PORT
 1009    1F:C1D0  C2         			cly				; Start at port 1.
 1010                        	
 1011    1F:C1D1  A9 01      	.read_port:	lda	#$01			; CLR lo, SEL hi for d-pad.
 1012    1F:C1D3  8D 00 10   			sta	IO_PORT			; Wait 1.25us (9 cycles).
 1013                        	
 1014    1F:C1D6  B9 55 E0   			lda	bit_mask, y		; Is there a mouse attached?
 1015    1F:C1D9  2D D2 22   			and	mouse_flg
 1016    1F:C1DC  D0 33      			bne	.read_mouse
 1017                        	
 1018    1F:C1DE  AD 00 10   	.read_pad:	lda	IO_PORT			; Read direction-pad bits.
 1019    1F:C1E1  9C 00 10   			stz	IO_PORT			; CLR lo, SEL lo for buttons.
 1020    1F:C1E4  0A         			asl	a			; Wait 1.25us (9 cycles).
 1021    1F:C1E5  0A         			asl	a
 1022    1F:C1E6  0A         			asl	a
 1023    1F:C1E7  0A         			asl	a
 1024    1F:C1E8  F0 1B      			beq	.read_6button		; 6-btn pad if UDLR all held.
 1025                        	
 1026    1F:C1EA  99 28 22   	.read_2button:	sta	joynow, y		; Get buttons of 2-btn pad.
 1027    1F:C1ED  AD 00 10   			lda	IO_PORT
 1028    1F:C1F0  29 0F      			and	#$0F
 1029    1F:C1F2  19 28 22   			ora	joynow, y
 1030    1F:C1F5  49 FF      			eor	#$FF
 1031    1F:C1F7  99 28 22   			sta	joynow, y
 1032                        	
 1033    1F:C1FA  C8         	.next_port:	iny				; Get the next pad from the
 1034    1F:C1FB  CC D1 22   			cpy	num_ports		; multitap.
 1035    1F:C1FE  90 D1      			bcc	.read_port
 1036                        	
 1037    1F:C200  CA         			dex				; Do the next complete pass.
 1038    1F:C201  CA         			dex
 1039    1F:C202  10 C2      			bpl	.read_multitap		; Have we finished 2 passes?
 1040    1F:C204  60         			rts				; Now that everything is read.
 1041                        	
 1042    1F:C205  AD 00 10   	.read_6button:	lda	IO_PORT			; Get buttons of 6-btn pad.
 1043    1F:C208  29 0F      			and	#$0F
 1044    1F:C20A  49 8F      			eor	#$8F			; Set bit-7 to show that a
 1045    1F:C20C  99 D3 22   			sta	joy6now, y		; 6-button pad is present.
 1046    1F:C20F  80 E9      			bra	.next_port
 1047                        	
 1048    1F:C211  7C 42 C2   	.read_mouse:	jmp	[.mouse_vectors, x]	; Which mouse info is next?
 1049                        	
 1050                        			; Mouse processing, normally four passes, here just two.
 1051                        	
 1052    1F:C214  A9 1C      	.mouse_x_hi:	lda	#28			; 189 cycle delay after CLR lo
 1053    1F:C216  3A         	.wait_loop:	dec	a			; on port to allow the mouse
 1054    1F:C217  D0 FD      			bne	.wait_loop		; to buffer and reset counters.
 1055                        	
 1056    1F:C219  AD 00 10   			lda	IO_PORT			; Read direction-pad bits.
 1057    1F:C21C  9C 00 10   			stz	IO_PORT			; CLR lo, SEL lo for buttons.
 1058    1F:C21F  0A         			asl	a			; Wait 1.25us (9 cycles).
 1059    1F:C220  0A         			asl	a
 1060    1F:C221  0A         			asl	a
 1061    1F:C222  0A         			asl	a
 1062    1F:C223  99 E2 22   			sta	mouse_x, y		; Save port's X-hi nibble.
 1063                        	
 1064    1F:C226  AD 00 10   			lda	IO_PORT			; Get mouse buttons.
 1065    1F:C229  29 0F      			and	#$0F
 1066    1F:C22B  49 0F      			eor	#$0F
 1067    1F:C22D  99 28 22   			sta	joynow, y
 1068    1F:C230  80 C8      			bra	.next_port
 1069                        	
 1070    1F:C232  AD 00 10   	.mouse_x_lo:	lda	IO_PORT			; Read direction-pad bits.
 1071    1F:C235  9C 00 10   			stz	IO_PORT			; CLR lo, SEL lo for buttons.
 1072    1F:C238  29 0F      			and	#$0F			; Wait 1.25us (9 cycles).
 1073    1F:C23A  19 E2 22   			ora	mouse_x, y		; Add port's X-hi nibble.
 1074                        	;		eor	#$FF			; Negate so LEFT is -ve.
 1075                        	;		inc	a
 1076    1F:C23D  99 E2 22   			sta	mouse_x, y
 1077    1F:C240  80 B8      			bra	.next_port
 1078                        	
 1079    1F:C242  32 C2      	.mouse_vectors: dw	.mouse_x_lo		; Pass 2
 1080    1F:C244  14 C2      			dw	.mouse_x_hi		; Pass 1
 1081                        	
 1082               0001     		.if	(* >= $4000)			; This is a ".proc" if it is
 1083                        			.endp                           ; not running in RAM.
 1084               22D0     			.bss				; Put the variables in RAM.
 1085                        		.endif
 1086                        	
 1087    F8:22D0             	port_mutex:	ds	1			; NZ when controller port busy.
 1088    F8:22D1             	num_ports:	ds	1			; Set to 1 if no multitap.
 1089    F8:22D2             	mouse_flg:	ds	1			; Which ports are mice?
 1090               0000     		.if	HUC_JOY_EVENTS
 1093                        		.endif
 1094    F8:22D3             	joy6now:	ds	MAX_PADS
 1095    F8:22D8             	joy6old:	ds	MAX_PADS
 1096    F8:22DD             	joy6trg:	ds	MAX_PADS
 1097    F8:22E2             	mouse_x:	ds	MAX_PADS
 1098                        	
 1099               E188     			.code
 1100                        	
 1101                        		.endif	SUPPORT_6BUTTON			; Without mouse!
 1102                        	
 1103                        		.endif	SUPPORT_MOUSE
                             #[5]   "..\..\..\include\hucc\core-kernel.asm"
  453                        	
  454                        	
  455                        	
  456               0001     		.if	!CDROM
  457                        	
  458                        	; ***************************************************************************
  459                        	; ***************************************************************************
  460                        	;
  461                        	; core_sw_reset - Default HuCARD handler for a joypad "soft-reset".
  462                        	;
  463                        	
  464    00:E188  78         	core_sw_reset:	sei				; Disable interrupts.
  465                        	
  466    00:E189  6C FE FF   			jmp	[$FFFE]			; Jump to the HuCARD reset.
  467                        	
  468                        	
  469                        	
  470                        		.else	!CDROM
  616                        		.endif	!CDROM
  617                        	
  618                        	
  619                        	
  620                        	; ***************************************************************************
  621                        	; ***************************************************************************
  622                        	
  623               0001     		.if	(core_kernel >= $4000)		; If not running in RAM, then
  624               22E7     			.bss				; put these variables in RAM.
  625                        		.endif
  626                        	
  627    F8:22E7             	sound_mutex:	ds	1			; NZ when controller port busy.
  628                        	
  629               0001     		.if	SUPPORT_SGX
  630    F8:22E8             	sgx_detected:	ds	1			; NZ if SuperGrafx detected.
  631    F8:22E9             	hsync_hook_sgx:	ds	2			; SGX version of hsync_hook.
  632                        		.endif
  633                        	
  634               0000     		.if	SUPPORT_ACD
  636                        		.endif
  637                        	
  638               0001     		.if	(core_kernel >= $4000)
  639               E18C     			.code
  640                        		.endif
                             #[4]   "..\..\..\include\hucc\core-startup.asm"
  427                        	
  428                        	
  429                        	
  430                        		.else	!CDROM
  524                        		.endif	!CDROM
  525                        	
  526                        	
  527                        	
  528                        	; ***************************************************************************
  529                        	; ***************************************************************************
  530                        	;
  531                        	; With the availability of so many different configuration options, we've now
  532                        	; built somewhere between a few hundred bytes, and a couple of KB, of code in
  533                        	; the CORE_BANK of the HuCARD / overlay program.
  534                        	;
  535                        	; This is the end of the "CORE(not TM)" library code!
  536                        	;
  537                        	; Remember that the ".proc" trampolines are located at the end of this bank,
  538                        	; so the amount of free space left depends upon the number of ".proc" calls.
  539                        	;
  540                        	
  541                        			; Switch to CORE_PAGE to run the developer's game code.
  542               E18C     			.page	CORE_PAGE
  543                        	
  544                        	
  545                        	
  546                        	; ***************************************************************************
  547                        	; ***************************************************************************
  548                        	;
  549                        	; The DATA_BANK location needs to be set as early as possible so that library
  550                        	; code is able to put data in there before the total overall size of the code
  551                        	; is known.
  552                        	;
  553                        	; By default, DATA_BANK is the next bank after the CORE_BANK.
  554                        	;
  555                        	; RESERVE_BANKS allows developers to reserve some banks between the CORE_BANK
  556                        	; and the DATA_BANK that they can use however they wish.
  557                        	;
  558                        	; One use for RESERVE_BANKS is to create empty space that PCEAS can use when
  559                        	; it relocates procedures. This provides a way for a developer to group code
  560                        	; together at the start of memory, and leave the maximum number of banks for
  561                        	; loading dynamic data from CD-ROM.
  562                        	;
  563                        	; The KickC environment sets RESERVE_BANKS=1 (or higher) so that there is a
  564                        	; a bank for the permanent C code and static constants.
  565                        	;
  566                        	; RESERVE_BANKS is normally defined in each project's "core-config.inc".
  567                        	;
  568                        	
  569                        			.opt	d+			; DATA labels use fixed MPR.
  570                        	
  571               0001     			.rsset	CORE_BANK + 1
  572                        	
  573               0000     		.ifdef	NEED_HOME_BANK
  580                        		.endif
  581                        	
  582               0001     		.ifdef	NEED_SOUND_BANK			; Defined in hucc-sound.inc
  583               0000     		.if	NEED_SOUND_BANK			; if the driver wants a bank.
  585                        		.endif
  586                        		.endif
  587                        	
  588               0001     		.ifdef	RESERVE_BANKS			; For CORE projects.
  589               0001     	RESERVED_BANK	.rs	RESERVE_BANKS
  590                        		.endif
  591                        	
  592               0001     		.ifdef	HUCC
  593               0001     		.ifdef	HUC_RESERVE_BANKS		; For HuCC projects.
  594               0001     	HUC_USER_BANK	.rs	HUC_RESERVE_BANKS
  595                        		.endif
  596                        	
  597               0001     	CONST_BANK	.rs	2
  598               6000     			.rodata
  599               0001     			.bank	CONST_BANK, ".rodata"
  600                        		.endif	HUCC
  601                        	
  602               0003     	DATA_BANK	.rs	0
  603               6000     			.data
  604               0000     		.if	BUILDING_STAGE1
  606                        		.else
  607               0003     			.bank	DATA_BANK, ".data"
  608                        		.endif
  609               6000     			.org	$6000
  610                        	
  611               E18C     			.code
                             #[3]   "..\..\..\include\hucc\core.inc"
                             #[2]   "..\..\..\include\hucc\hucc.asm"
  120                        		.else
  126                        		.endif
  127                        	
  128                        			; Allocate this as early as possible to ensure bank-aligned
  129                        			; so that there is no wasted space for aligning the table.
  130                        	
  131               0000     		.if	FAST_MULTIPLY
  138                        		.endif
  139                        	
  140                        			;
  141                        	
  144                        	
  145                        			; The hardware stack is used for expressions.
  146                        	
  147               00FF     	__tos		=	$F8:2101, 255
  148                        	
  149               2008     			.zp
  150               2008     			.align	2
  151    F8:2008             	__stack:	ds	HUCC_STACK_SZ
  152                        	
  153    F8:2088             	__ptr:		ds	2
  154    F8:208A             	__fptr:		ds	2
  155    F8:208C             	__fbank:	ds	1
  156    F8:208D             	__sp:		ds	1
  157                        	
  158                        			; REGTEMP 6-byte stack for temporaries used by SDCC.
  159                        			; Keep the size in sync with NUM_TEMP_REGS in sdcc/src/mos6502/gen.h!
  160                        	
  161    F8:208E             	REGTEMP:	ds	6
  162                        	
  163                        			; HuCC's non-recursive consecutive varargs for printf().
  164                        	
  165               2008     	__vararg1	=	__stack + 0
  166               200A     	__vararg2	=	__stack + 2
  167               200C     	__vararg3	=	__stack + 4
  168               200E     	__vararg4	=	__stack + 6
  169                        	
  170                        			; Pointer used by poke() because __ptr could be overwritten.
  171                        	
  172               20EE     	__poke		=	__si
  173                        	
  174                        			; Used for indirect calls because __ptr could be overwritten.
  175                        	
  176               20EE     	__func		=	__si
  177                        	
  178                        			; Data pointer used by SDCC for indirect indexed memory access.
  179                        	
  180               2088     	DPTR		=	__ptr
  181                        	
  182                        			; Values returned from SDCC functions that don't fit into XA.
  183                        			; These are also used as workspace for SDCC library functions,
  184                        			; including HuCC's multiplication and division functions.
  185                        	
  186    F8:2094             	___SDCC_m6502_ret0:	ds	1
  187    F8:2095             	___SDCC_m6502_ret1:	ds	1
  188    F8:2096             	___SDCC_m6502_ret2:	ds	1
  189    F8:2097             	___SDCC_m6502_ret3:	ds	1
  190                        	
  191               0000     		.if	0
  196                        		.endif
  197                        	
  198                        			; Permanent pointers for fast table-of-squares multiplication.
  199                        	
  200               0000     		.if	FAST_MULTIPLY
  205                        		.endif
  206                        	
  207                        			; HuCC keeps a realtime clock, updated in hucc_vbl.
  208                        			;
  209                        			; Defining this here means that it will go before any HuCC
  210                        			; variables in "globals.h", and so it won't get cleared in
  211                        			; a CDROM game when loading different overlays.
  212                        	
  213               22EB     			.bss
  214    F8:22EB             	old_cnt:	ds	1			; irq_cnt of previous vsync().
  215    F8:22EC             	clock_hh:	ds	1			; System Clock, hours	(0-11)
  216    F8:22ED             	clock_mm:	ds	1			; System Clock, minutes (0-59)
  217    F8:22EE             	clock_ss:	ds	1			; System Clock, seconds (0-59)
  218    F8:22EF             	clock_tt:	ds	1			; System Clock, ticks	(0-59)
  219               E18C     			.code
  220                        	
  221                        			; Critical HuCC libraries that the compiler depends upon.
  222                        			;
  223                        			; These include various macros that must be defined before
  224                        			; they are encountered in any compiler-generated code.
  225                        	
                             #[3]   "..\..\..\include\hucc\hucc-codegen.asm"
  226                        			include "hucc-codegen.asm"	; HuCC i-code macros and funcs.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-codegen.asm
    5                        	;
    6                        	; The HuCC compiler translates C code into these macros, it does not directly
    7                        	; generate HuC6280 instructions.
    8                        	;
    9                        	; Based on the original HuC macros created by David Michel and the other HuC
   10                        	; developers, later modified and improved by Ulrich Hecht.
   11                        	;
   12                        	; Modifications copyright John Brandwood 2024.
   13                        	;
   14                        	; Distributed under the Boost Software License, Version 1.0.
   15                        	; (See accompanying file LICENSE_1_0.txt or copy at
   16                        	;  http://www.boost.org/LICENSE_1_0.txt)
   17                        	;
   18                        	; ***************************************************************************
   19                        	; ***************************************************************************
   20                        	;
   21                        	; NAMING SCHEME FOR HuCC MACROS ...
   22                        	;
   23                        	;   __function.parameters
   24                        	;
   25                        	; {parameters} is a list of alphanumeric specifiers, starting with {size} and
   26                        	; followed by {where}, followed by {index} if an array, then optional {value}
   27                        	; and finally ending with optional {suffix}
   28                        	;
   29                        	; {size}
   30                        	;   w : 16-bit signed int (default "int" in HuCC)
   31                        	;   c : 16-bit unsigned int (a "cardinal" in Pascal terms)
   32                        	;   b :  8-bit signed char
   33                        	;   u :  8-bit unsigned char (default "char" in HuCC)
   34                        	;
   35                        	; {where} or {index}
   36                        	;   r : HuCC primary register, made up of the Y:A cpu registers
   37                        	;   t : top of expression stack
   38                        	;   p : indirect pointer, usually [__ptr]
   39                        	;   f : structure field (member) offset value
   40                        	;   i : immediate value, i.e. a decimal number
   41                        	;   m : memory, i.e. C global, static, and "-fno-recursive" variables
   42                        	;   s : stack, i.e. C function parameters and locals (not "-fno-recursive")
   43                        	;   a : array, i.e. C global, static, "-fno-recursive" arrays <= 256 bytes
   44                        	;   x : array index already in the X register
   45                        	;   y : array index already in the Y register
   46                        	;
   47                        	; {value} OPTIONAL
   48                        	;   i : immediate value, i.e. a decimal number
   49                        	;   z : zero value
   50                        	;
   51                        	; {suffix} OPTIONAL
   52                        	;   q : quick, used for optimized math on only 8-bit values, because all math
   53                        	;       is normally promoted to "int" size in C; and when optimized stores do
   54                        	;       not need to preserve the primary register contents
   55                        	;
   56                        	; ***************************************************************************
   57                        	; ***************************************************************************
   58                        	
   59                        	
   60                        	
 8399                        	
 8400                        	; ***************************************************************************
 8401                        	; ***************************************************************************
 8402                        	; subroutines for logical and arithmetic shifts by a constant amount
 8403                        	; ***************************************************************************
 8404                        	; ***************************************************************************
 8405                        	
 8406                        	; **************
 8407                        	; Y:A = Y:A << const
 8408                        	
 8409    00:E1BE  0A         	aslw15:		asl	a
 8410    00:E1BF  0A         	aslw14:		asl	a
 8411    00:E1C0  0A         	aslw13:		asl	a
 8412    00:E1C1  0A         	aslw12:		asl	a
 8413    00:E1C2  0A         	aslw11:		asl	a
 8414    00:E1C3  0A         	aslw10:		asl	a
 8415    00:E1C4  0A         	aslw9:		asl	a
 8416    00:E1C5  A8         	aslw8:		tay
 8417    00:E1C6  62         			cla
 8418    00:E1C7  60         			rts
 8419                        	
 8420               0001     		.if	1
 8421    00:E1C8  66 00      	aslw5:		ror	<__temp
 8422    00:E1CA  6A         			ror	a
 8423    00:E1CB  66 00      	aslw6:		ror	<__temp
 8424    00:E1CD  6A         			ror	a
 8425    00:E1CE  66 00      	aslw7:		ror	<__temp
 8426    00:E1D0  6A         			ror	a
 8427    00:E1D1  A4 00      			ldy	<__temp
 8428    00:E1D3  60         			rts
 8429                        		.else
 8436                        		.endif
 8437    00:E1D4  0A         	aslw4:		asl	a
 8438    00:E1D5  26 00      			rol	<__temp
 8439    00:E1D7  0A         	aslw3:		asl	a
 8440    00:E1D8  26 00      			rol	<__temp
 8441    00:E1DA  0A         	aslw2:		asl	a
 8442    00:E1DB  26 00      			rol	<__temp
 8443    00:E1DD  0A         	aslw1:		asl	a
 8444    00:E1DE  26 00      			rol	<__temp
 8445    00:E1E0  A4 00      	aslw0:		ldy	<__temp
 8446    00:E1E2  60         			rts
 8447                        	
 8448                        	; **************
 8449                        	; Y:A = Y:A >> const
 8450                        	
 8451    00:E1E3  C9 80      	asrw15:		cmp	#$80
 8452    00:E1E5  6A         			ror	a
 8453    00:E1E6  C9 80      	asrw14:		cmp	#$80
 8454    00:E1E8  6A         			ror	a
 8455    00:E1E9  C9 80      	asrw13:		cmp	#$80
 8456    00:E1EB  6A         			ror	a
 8457    00:E1EC  C9 80      	asrw12:		cmp	#$80
 8458    00:E1EE  6A         			ror	a
 8459    00:E1EF  C9 80      	asrw11:		cmp	#$80
 8460    00:E1F1  6A         			ror	a
 8461    00:E1F2  C9 80      	asrw10:		cmp	#$80
 8462    00:E1F4  6A         			ror	a
 8463    00:E1F5  C9 80      	asrw9:		cmp	#$80
 8464    00:E1F7  6A         			ror	a
 8465    00:E1F8  C9 80      	asrw8:		cmp	#$80
 8466    00:E1FA  C2         			cly
 8467    00:E1FB  90 01      			bcc	!+
 8468    00:E1FD  88         			dey
 8469    00:E1FE  60         	!:		rts
 8470                        	
 8471    00:E1FF  C0 80      	asrw7:		cpy	#$80
 8472    00:E201  66 00      			ror	<__temp
 8473    00:E203  6A         			ror	a
 8474    00:E204  C0 80      	asrw6:		cpy	#$80
 8475    00:E206  66 00      			ror	<__temp
 8476    00:E208  6A         			ror	a
 8477    00:E209  C0 80      	asrw5:		cpy	#$80
 8478    00:E20B  66 00      			ror	<__temp
 8479    00:E20D  6A         			ror	a
 8480    00:E20E  C0 80      	asrw4:		cpy	#$80
 8481    00:E210  66 00      			ror	<__temp
 8482    00:E212  6A         			ror	a
 8483    00:E213  C0 80      	asrw3:		cpy	#$80
 8484    00:E215  66 00      			ror	<__temp
 8485    00:E217  6A         			ror	a
 8486    00:E218  C0 80      	asrw2:		cpy	#$80
 8487    00:E21A  66 00      			ror	<__temp
 8488    00:E21C  6A         			ror	a
 8489    00:E21D  C0 80      	asrw1:		cpy	#$80
 8490    00:E21F  66 00      			ror	<__temp
 8491    00:E221  6A         			ror	a
 8492    00:E222  A4 00      	asrw0:		ldy	<__temp
 8493    00:E224  60         			rts
 8494                        	
 8495                        	; **************
 8496                        	; Y:A = Y:A >> const
 8497                        	
 8498    00:E225  4A         	lsrw15:		lsr	a
 8499    00:E226  4A         	lsrw14:		lsr	a
 8500    00:E227  4A         	lsrw13:		lsr	a
 8501    00:E228  4A         	lsrw12:		lsr	a
 8502    00:E229  4A         	lsrw11:		lsr	a
 8503    00:E22A  4A         	lsrw10:		lsr	a
 8504    00:E22B  4A         	lsrw9:		lsr	a
 8505    00:E22C  C2         	lsrw8:		cly
 8506    00:E22D  60         			rts
 8507                        	
 8508    00:E22E  46 00      	lsrw7:		lsr	<__temp
 8509    00:E230  6A         			ror	a
 8510    00:E231  46 00      	lsrw6:		lsr	<__temp
 8511    00:E233  6A         			ror	a
 8512    00:E234  46 00      	lsrw5:		lsr	<__temp
 8513    00:E236  6A         			ror	a
 8514    00:E237  46 00      	lsrw4:		lsr	<__temp
 8515    00:E239  6A         			ror	a
 8516    00:E23A  46 00      	lsrw3:		lsr	<__temp
 8517    00:E23C  6A         			ror	a
 8518    00:E23D  46 00      	lsrw2:		lsr	<__temp
 8519    00:E23F  6A         			ror	a
 8520    00:E240  46 00      	lsrw1:		lsr	<__temp
 8521    00:E242  6A         			ror	a
 8522    00:E243  A4 00      	lsrw0:		ldy	<__temp
 8523    00:E245  60         			rts
 8524                        	
 8525                        	
 8526                        	
 8527                        	; ***************************************************************************
 8528                        	; ***************************************************************************
 8529                        	; subroutines for logical and arithmetic shifts by a variable amount
 8530                        	; ***************************************************************************
 8531                        	; ***************************************************************************
 8532                        	
 8533                        	; **************
 8534                        	; Y:A = Y:A << X
 8535                        	
 8536    00:E246  84 00      	asl.wx:		sty	<__temp
 8537    00:E248  E0 10      			cpx	#16
 8538    00:E24A  B0 37      			bcs	!zero+
 8539    00:E24C  CA         			dex
 8540    00:E24D  30 06      			bmi	.done
 8541    00:E24F  0A         	.loop:		asl	a
 8542    00:E250  26 00      			rol	<__temp
 8543    00:E252  CA         			dex
 8544    00:E253  10 FA      			bpl	.loop
 8545    00:E255  A4 00      	.done:		ldy	<__temp
 8546    00:E257  60         			rts
 8547                        	
 8548                        	; **************
 8549                        	; Y:A = Y:A >> X
 8550                        	
 8551    00:E258  84 00      	asr.wx:		sty	<__temp
 8552    00:E25A  10 17      			bpl	!positive+
 8553    00:E25C  E0 10      	!negative:	cpx	#16
 8554    00:E25E  B0 0D      			bcs	.sign
 8555    00:E260  CA         			dex
 8556    00:E261  30 07      			bmi	.done
 8557    00:E263  38         	.loop:		sec
 8558    00:E264  66 00      			ror	<__temp
 8559    00:E266  6A         			ror	a
 8560    00:E267  CA         			dex
 8561    00:E268  10 F9      			bpl	.loop
 8562    00:E26A  A4 00      	.done:		ldy	<__temp
 8563    00:E26C  60         			rts
 8564                        	
 8565    00:E26D  A9 FF      	.sign:		lda	#$FF
 8566    00:E26F  A8         			tay
 8567    00:E270  60         			rts
 8568                        	
 8569                        	; **************
 8570                        	; Y:A = Y:A >> X
 8571                        	
 8572    00:E271  84 00      	lsr.wx:		sty	<__temp
 8573    00:E273  E0 10      	!positive:	cpx	#16
 8574    00:E275  B0 0C      			bcs	!zero+
 8575    00:E277  CA         			dex
 8576    00:E278  30 06      			bmi	.done
 8577    00:E27A  46 00      	.loop:		lsr	<__temp
 8578    00:E27C  6A         			ror	a
 8579    00:E27D  CA         			dex
 8580    00:E27E  10 FA      			bpl	.loop
 8581    00:E280  A4 00      	.done:		ldy	<__temp
 8582    00:E282  60         			rts
 8583                        	
 8584    00:E283  62         	!zero:		cla
 8585    00:E284  C2         			cly
 8586    00:E285  60         			rts
 8587                        	
 8588                        	
 8589                        	
 8590                        	; ***************************************************************************
 8591                        	; ***************************************************************************
 8592                        	; POTENTIAL OPTIMIZATIONS, NOT YET ADDED
 8593                        	; ***************************************************************************
 8594                        	; ***************************************************************************
                             #[2]   "..\..\..\include\hucc\hucc.asm"
                             #[3]   "..\..\..\include\hucc\hucc-baselib.asm"
  227                        			include	"hucc-baselib.asm"	; HuCC base library macros.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-baselib.asm
    5                        	;
    6                        	; Basic library functions provided (mostly) as macros.
    7                        	;
    8                        	; Copyright John Brandwood 2024-2025.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	
   17                        	
   18                        	
   19                        	; ***************************************************************************
   20                        	; ***************************************************************************
   21                        	;
   22                        	; Make certain System Card variables accessible to HuCC.
   23                        	
   24    00:E286             	_irq_cnt	.alias	irq_cnt
   25    00:E286             	_joynow		.alias	joynow
   26    00:E286             	_joytrg		.alias	joytrg
   27    00:E286             	_joy6now	.alias	joy6now
   28    00:E286             	_joy6trg	.alias	joy6trg
   29    00:E286             	_bg_x1		.alias	bg_x1
   30    00:E286             	_bg_y1		.alias	bg_y1
   31    00:E286             	_bg_x2		.alias	bg_x2
   32    00:E286             	_bg_y2		.alias	bg_y2
   33                        	
   34                        	
   35                        	
   36                        	; ***************************************************************************
   37                        	; ***************************************************************************
   38                        	;
   39                        	; void __fastcall dump_screen( void );
   40                        	;
   41                        	; THIS IS AN ILLEGAL INSTRUCTION ONLY IMPLEMENTED BY THE TGEMU EMULATOR!
   42                        	
   43    00:E286  33         	_dump_screen:	db	0x33
   44                        	
   45                        	
   46                        	
   47                        	; ***************************************************************************
   48                        	; ***************************************************************************
   49                        	;
   50                        	; void __fastcall abort( void );
   51                        	;
   52                        	; THIS IS AN ILLEGAL INSTRUCTION ONLY IMPLEMENTED BY THE TGEMU EMULATOR!
   53                        	
   54    00:E287  E2         	_abort:		db	0xE2
   55                        	
   56                        	
   57                        	
   58                        	; ***************************************************************************
   59                        	; ***************************************************************************
   60                        	;
   61                        	; void __fastcall exit( int value<acc> );
   62                        	;
   63                        	; THIS IS AN ILLEGAL INSTRUCTION ONLY IMPLEMENTED BY THE TGEMU EMULATOR!
   64                        	
   65    00:E288  AA         	_exit.1:	tax				; Put the return code into X.
   66    00:E289  63         			db	0x63
   67                        	
   68    00:E28A  80 FE      	.hang:		bra	.hang			; Hang if used in normal code.
   69                        	
   70                        	
   71                        	
   72                        	; ***************************************************************************
   73                        	; ***************************************************************************
   74                        	;
   75                        	; unsigned char __fastcall __macro cd_execoverlay( unsigned char ovl_index<acc> );
   76                        	;
   77                        	; Execute program overlay from disc
   78                        	;
   79                        	; N.B. This does not return, even if there's an error.
   80                        	
   81                        			.macro	_cd_execoverlay.1
   82                        			tax
   83                        			jmp	exec_overlay
   84                        			.endm
   85                        	
   86                        	
   87                        	
   88                        	; ***************************************************************************
   89                        	; ***************************************************************************
   90                        	;
   91                        	; void __fastcall __nop set_far_base( unsigned char data_bank<_bp_bank>, unsigned char *data_addr<_bp> );
   92                        	; void __fastcall set_far_offset( unsigned int offset<_bp>, unsigned char data_bank<_bp_bank>, unsigned char *data_addr<acc> );
   93                        	
   94    00:E28C             	_set_far_offset.3:
   95    00:E28C  18         			clc
   96    00:E28D  65 EC      			adc.l	<_bp
   97    00:E28F  85 EC      			sta.l	<_bp
   98    00:E291  98         			tya
   99    00:E292  29 1F      			and	#$1F
  100    00:E294  65 ED      			adc.h	<_bp
  101    00:E296  A8         			tay
  102    00:E297  29 1F      			and	#$1F
  103    00:E299  09 60      			ora	#$60
  104    00:E29B  85 ED      			sta.h	<_bp
  105    00:E29D  98         			tya
  106    00:E29E  6A         			ror	a
  107    00:E29F  4A         			lsr	a
  108    00:E2A0  4A         			lsr	a
  109    00:E2A1  4A         			lsr	a
  110    00:E2A2  4A         			lsr	a
  111    00:E2A3  18         			clc
  112    00:E2A4  65 02      			adc	<_bp_bank
  113    00:E2A6  85 02      			sta	<_bp_bank
  114    00:E2A8  60         			rts
  115                        	
  116                        	
  117                        	; ***************************************************************************
  118                        	; ***************************************************************************
  119                        	;
  120                        	; void __fastcall __macro reset_mpr2( void );
  121                        	; void __fastcall __macro reset_mpr34( void );
  122                        	;
  123                        	; void * __fastcall __macro set_mpr2( void __far *addr<_bp_bank:_bp> );
  124                        	; void * __fastcall __macro set_mpr34( void __far *addr<_bp_bank:_bp> );
  125                        	;
  126                        	; void * __fastcall __macro far_set_mpr2( void );
  127                        	; void * __fastcall __macro far_set_mpr34( void );
  128                        	
  129                        	_reset_mpr2	.macro
  130                        		.if	SUPPORT_SGX
  131                        			lda	#$F9
  132                        		.else
  133                        			lda	#$87
  134                        		.endif
  135                        			tam2
  136                        			.endm
  137                        	
  138                        	_reset_mpr34	.macro
  139                        			lda	#CONST_BANK + _bank_base
  140                        			tam3
  141                        			inc	a
  142                        			tam4
  143                        			.endm
  144                        	
  145                        	_farset_mpr2.1	.macro
  146                        			lda	<_bp_bank
  147                        			tam2
  148                        			lda.l	<_bp
  149                        			ldy.h	<_bp
  150                        			.endm
  151                        	
  152                        	_farset_mpr34.1	.macro
  153                        			lda	<_bp_bank
  154                        			tam3
  155                        			inc	a
  156                        			tam4
  157                        			lda.l	<_bp
  158                        			ldy.h	<_bp
  159                        			.endm
  160                        	
  161                        	_far_set_mpr2	.macro
  162                        			lda	<_bp_bank
  163                        			tam2
  164                        			lda.l	<_bp
  165                        			ldy.h	<_bp
  166                        			.endm
  167                        	
  168                        	_far_set_mpr34	.macro
  169                        			lda	<_bp_bank
  170                        			tam3
  171                        			inc	a
  172                        			tam4
  173                        			lda.l	<_bp
  174                        			ldy.h	<_bp
  175                        			.endm
  176                        	
  177                        	
  178                        	
  179                        	; ***************************************************************************
  180                        	; ***************************************************************************
  181                        	;
  182                        	; unsigned char __fastcall __macro ac_exists( void );
  183                        	
  184                        	_ac_exists	.macro
  185                        			cla
  186                        			ldy	ACD_FLAG
  187                        			cpy	#ACD_ID
  188                        			bne	!+
  189                        			inc	a
  190                        	!:		cly
  191                        			.endm
  192                        	
  193                        	
  194                        	
  195                        	; ***************************************************************************
  196                        	; ***************************************************************************
  197                        	;
  198                        	; unsigned char __fastcall __macro _sgx_detect( void );
  199                        	
  200                        	_sgx_detect	.macro
  201                        			lda	sgx_detected
  202                        			cly
  203                        			.endm
  204                        	
  205                        	
  206                        	
  207                        	; ***************************************************************************
  208                        	; ***************************************************************************
  209                        	;
  210                        	; unsigned int __fastcall __macro peek( unsigned int addr<__ptr> );
  211                        	
  212                        	_peek.1		.macro
  213                        			lda	[__ptr]
  214                        			cly
  215                        			.endm
  216                        	
  217                        	
  218                        	
  219                        	; ***************************************************************************
  220                        	; ***************************************************************************
  221                        	;
  222                        	; unsigned int __fastcall __macro peekw( unsigned int addr<__ptr> );
  223                        	
  224                        	_peekw.1	.macro
  225                        			lda	[__ptr]
  226                        			pha
  227                        			ldy	#1
  228                        			lda	[__ptr], y
  229                        			tay
  230                        			pla
  231                        			.endm
  232                        	
  233                        	
  234                        	
  235                        	; ***************************************************************************
  236                        	; ***************************************************************************
  237                        	;
  238                        	; void __fastcall __macro poke( unsigned int addr<__poke>, unsigned char with<acc> );
  239                        	;
  240                        	; N.B. Because the <acc> value can be a complex C calculation, it isn't safe
  241                        	; to use __ptr as the destination, which can be overwritten in C macros.
  242                        	
  243                        	_poke.2		.macro
  244                        			sta	[__poke]
  245                        			.endm
  246                        	
  247                        	
  248                        	
  249                        	; ***************************************************************************
  250                        	; ***************************************************************************
  251                        	;
  252                        	; void __fastcall __macro pokew( unsigned int addr<__poke>, unsigned int with<acc> );
  253                        	;
  254                        	; N.B. Because the <acc> value can be a complex C calculation, it isn't safe
  255                        	; to use __ptr as the destination, which can be overwritten in C macros.
  256                        	
  257                        	_pokew.2	.macro
  258                        			sta	[__poke]
  259                        			tya
  260                        			ldy	#1
  261                        			sta	[__poke], y
  262                        			.endm
  263                        	
  264                        	
  265                        	
  266                        	; ***************************************************************************
  267                        	; ***************************************************************************
  268                        	;
  269                        	; unsigned char __fastcall __macro clock_hh( void );
  270                        	
  271                        	_clock_hh	.macro
  272                        			lda	clock_hh
  273                        			cly
  274                        			.endm
  275                        	
  276                        	
  277                        	
  278                        	; ***************************************************************************
  279                        	; ***************************************************************************
  280                        	;
  281                        	; unsigned char __fastcall __macro clock_mm( void );
  282                        	
  283                        	_clock_mm	.macro
  284                        			lda	clock_mm
  285                        			cly
  286                        			.endm
  287                        	
  288                        	
  289                        	
  290                        	; ***************************************************************************
  291                        	; ***************************************************************************
  292                        	;
  293                        	; unsigned char __fastcall __macro clock_ss( void );
  294                        	
  295                        	_clock_ss	.macro
  296                        			lda	clock_ss
  297                        			cly
  298                        			.endm
  299                        	
  300                        	
  301                        	
  302                        	; ***************************************************************************
  303                        	; ***************************************************************************
  304                        	;
  305                        	; unsigned char __fastcall __macro clock_tt( void );
  306                        	
  307                        	_clock_tt	.macro
  308                        			lda	clock_tt
  309                        			cly
  310                        			.endm
  311                        	
  312                        	
  313                        	
  314                        	; ***************************************************************************
  315                        	; ***************************************************************************
  316                        	;
  317                        	; void __fastcall __macro clock_reset( void );
  318                        	
  319                        	_clock_reset	.macro
  320                        			stz	clock_hh
  321                        			stz	clock_mm
  322                        			stz	clock_ss
  323                        			stz	clock_tt
  324                        			.endm
  325                        	
  326                        	
  327                        	
  328                        	; ***************************************************************************
  329                        	; ***************************************************************************
  330                        	;
  331                        	; unsigned int __fastcall __macro joy( unsigned char which<acc> );
  332                        	
  333                        	_joy.1		.macro
  334                        			tax
  335                        			lda	joynow, x
  336                        		.if	SUPPORT_6BUTTON
  337                        			ldy	joy6now, x
  338                        		.else
  339                        			cly
  340                        		.endif
  341                        			.endm
  342                        	
  343                        	
  344                        	
  345                        	; ***************************************************************************
  346                        	; ***************************************************************************
  347                        	;
  348                        	; unsigned int __fastcall __macro joytrg( unsigned char which<acc> );
  349                        	
  350                        	_joytrg.1	.macro
  351                        			tax
  352                        			lda	joytrg, x
  353                        		.if	SUPPORT_6BUTTON
  354                        			ldy	joy6trg, x
  355                        		.else
  356                        			cly
  357                        		.endif
  358                        			.endm
  359                        	
  360                        	
  361                        	
  362                        	; ***************************************************************************
  363                        	; ***************************************************************************
  364                        	;
  365                        	; unsigned int __fastcall __macro joybuf( unsigned char which<acc> );
  366                        	
  367                        	_joybuf.1	.macro
  368                        		.if	HUC_JOY_EVENTS
  369                        			tax
  370                        			lda	joybuf, x
  371                        		.if	SUPPORT_6BUTTON
  372                        			ldy	joy6buf, x
  373                        		.else
  374                        			cly
  375                        		.endif
  376                        		.else
  377                        			.fail	You must enable HUC_JOY_EVENTS in your hucc-config.inc!
  378                        		.endif
  379                        			.endm
  380                        	
  381                        	
  382                        	
  383                        	; ***************************************************************************
  384                        	; ***************************************************************************
  385                        	;
  386                        	; unsigned int __fastcall __macro get_joy_events( unsigned char which<acc> );
  387                        	;
  388                        	; N.B. This is just a version of joybuf() that clears the accumulated events.
  389                        	
  390                        			.macro	_get_joy_events.1
  391                        		.if	HUC_JOY_EVENTS
  392                        			tax
  393                        			lda	joybuf, x
  394                        			stz	joybuf, x
  395                        		.if	SUPPORT_6BUTTON
  396                        			ldy	joy6buf, x
  397                        			stz	joy6buf, x
  398                        		.else
  399                        			cly
  400                        		.endif
  401                        		.else
  402                        		.if	ACCUMULATE_JOY
  403                        			tax
  404                        			lda	joytrg, x
  405                        			stz	joytrg, x
  406                        		.if	SUPPORT_6BUTTON
  407                        			ldy	joy6trg, x
  408                        			stz	joy6trg, x
  409                        		.else
  410                        			cly
  411                        		.endif
  412                        		.else
  413                        			.fail	You must enable HUC_JOY_EVENTS or ACCUMULATE_JOY in your hucc-config.inc!
  414                        		.endif
  415                        		.endif
  416                        			.endm
  417                        	
  418                        	
  419                        	
  420                        	; ***************************************************************************
  421                        	; ***************************************************************************
  422                        	;
  423                        	; void __fastcall __macro clear_joy_events( unsigned char mask<acc> );
  424                        	
  425                        			.macro	_clear_joy_events.1
  426                        			php
  427                        			sei
  428                        			and	#(1 << MAX_PADS) - 1
  429                        			ldx	#$FF
  430                        	.loop:		inx
  431                        			lsr	a
  432                        			bcc	.next
  433                        		.if	HUC_JOY_EVENTS
  434                        			stz	joybuf, x
  435                        		.if	SUPPORT_6BUTTON
  436                        			stz	joy6buf, x
  437                        		.endif
  438                        		.else
  439                        		.if	ACCUMULATE_JOY
  440                        			stz	joytrg, x
  441                        		.if	SUPPORT_6BUTTON
  442                        			stz	joy6trg, x
  443                        		.endif
  444                        		.else
  445                        			.fail	You must enable HUC_JOY_EVENTS or ACCUMULATE_JOY in your hucc-config.inc!
  446                        		.endif
  447                        		.endif
  448                        	.next:		bne	.loop
  449                        			plp
  450                        			.endm
  451                        	
  452                        	
  453                        	
  454                        	; ***************************************************************************
  455                        	; ***************************************************************************
  456                        	;
  457                        	; void __fastcall srand( unsigned char seed<acc> );
  458                        	
  459               0001     		.ifndef	HUCC_NO_DEFAULT_RANDOM
  460                        	_srand.1	.macro
  461                        			tay
  462                        			jsr	init_random
  463                        			.endm
  464                        		.endif
  465                        	
  466                        	
  467                        	
  468                        	; ***************************************************************************
  469                        	; ***************************************************************************
  470                        	;
  471                        	; unsigned int __fastcall rand( void );
  472                        	; unsigned char __fastcall rand8( void );
  473                        	
  474               0001     		.ifndef	HUCC_NO_DEFAULT_RANDOM
  475    00:E2A9  20 C3 E5   	_rand:		jsr	get_random		; Random in A, preserve Y.
  476    00:E2AC  A8         			tay
  477    00:E2AD  4C C3 E5   			jmp	get_random		; Random in A, preserve Y.
  478                        		.endif
  479                        	
  480                        	
  481                        	
  482                        	; ***************************************************************************
  483                        	; ***************************************************************************
  484                        	;
  485                        	; unsigned char __fastcall random8( unsigned char limit<acc> );
  486                        	;
  487                        	; IN :	A = range (0..255)
  488                        	; OUT : A = random number interval 0 <= x < A
  489                        	
  490               0001     		.ifndef	HUCC_NO_DEFAULT_RANDOM
  491                        	
  492    00:E2B0  A8         	_random8.1:	tay				; Preserve the limit.
  493    00:E2B1  20 C3 E5   			jsr	get_random		; Random in A, preserve Y.
  494                        	
  495    00:E2B4  20 F0 E4   			jsr	__muluchar
  496    00:E2B7  98         			tya				; Do a 8.0 x 0.8 fixed point
  497    00:E2B8  C2         			cly				; fractional multiply.
  498    00:E2B9  60         			rts
  499                        		.endif
  500                        	
  501                        	
  502                        	
  503                        	; ***************************************************************************
  504                        	; ***************************************************************************
  505                        	;
  506                        	; unsigned char __fastcall random( unsigned char limit<acc> );
  507                        	;
  508                        	; IN :	A = range (0..128), 129..255 is treated as 128
  509                        	; OUT : A = random number interval 0 <= x < A
  510                        	
  511               0001     		.ifndef	HUCC_NO_DEFAULT_RANDOM
  512                        	
  513    00:E2BA  A8         	_random.1:	tay				; Preserve the limit.
  514    00:E2BB  20 C3 E5   			jsr	get_random		; Random in A, preserve Y.
  515                        	
  516    00:E2BE  C0 80      			cpy	#128			; Check the limit.
  517    00:E2C0  90 04      			bcc	!+
  518                        	
  519    00:E2C2  29 7F      			and	#$7F			; Just mask the random if
  520    00:E2C4  C2         			cly				; the limit is >= 128.
  521    00:E2C5  60         			rts
  522                        	
  523    00:E2C6  20 F0 E4   	!:		jsr	__muluchar
  524    00:E2C9  98         			tya				; If the limit is < 128 then
  525    00:E2CA  C2         			cly				; do a 8.0 x 0.8 fixed point
  526    00:E2CB  60         			rts				; fractional multiply.
  527                        		.endif
  528                        	
  529                        	
  530                        	
  531                        	; ***************************************************************************
  532                        	; ***************************************************************************
  533                        	;
  534                        	; unsigned char __fastcall __builtin_ffs( unsigned int value<__temp> );
  535                        	
  536                        			.proc	___builtin_ffs.1
  556                        			.endp
  557                        	
  558                        	
  559                        	
  560                        	; ***************************************************************************
  561                        	; ***************************************************************************
  562                        	;
  563                        	; N.B. Declared in hucc-string.h, but defined here because they're macros!
  564                        	;
  565                        	; int __fastcall __macro memcmp( unsigned char *destination<_di>, unsigned char *source<_bp>, unsigned int count<acc> );
  566                        	
  567                        	_memcmp.3	.macro
  568                        			stz	<_bp_bank		; Map the source string.
  569                        			call	_farmemcmp.3
  570                        			.endm
  571                        	
  572                        	
  573                        	
  574                        	; ***************************************************************************
  575                        	; ***************************************************************************
  576                        	;
  577                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  578                        	;
  579                        	; void __fastcall __macro get_color( unsigned int index<VCE_CTA> );
  580                        	
  581                        	_get_color.1	.macro
  582                        			lda.l	VCE_CTR
  583                        			ldy.h	VCE_CTR
  584                        			.endm
  585                        	
  586                        	
  587                        	
  588                        	; ***************************************************************************
  589                        	; ***************************************************************************
  590                        	;
  591                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  592                        	;
  593                        	; void __fastcall __macro fade_to_black( unsigned int __far *from<_bp_bank:_bp>, unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_sub<_ah> );
  594                        	; void __fastcall __macro fade_to_white( unsigned int __far *from<_bp_bank:_bp>, unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_add<_ah> );
  595                        	; void __fastcall __macro cross_fade_to( unsigned int __far *from<_bp_bank:_bp>, unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char which_component<_ah );
  596                        	;
  597                        	; void __fastcall __macro far_fade_to_black( unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_sub<_ah> );
  598                        	; void __fastcall __macro far_fade_to_white( unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_add<_ah> );
  599                        	; void __fastcall __macro far_cross_fade_to( unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char which_component<_ah );
  600                        	
  601                        			.macro	_fade_to_black.4
  602                        			ldy	<_bp_bank
  603                        			call	fade_to_black
  604                        			.endm
  605                        	
  606                        			.macro	_fade_to_white.4
  607                        			ldy	<_bp_bank
  608                        			call	fade_to_white
  609                        			.endm
  610                        	
  611                        			.macro	_cross_fade_to.4
  612                        			ldy	<_bp_bank
  613                        			call	cross_fade_to
  614                        			.endm
  615                        	
  616                        			.macro	_far_fade_to_black.3
  617                        			ldy	<_bp_bank
  618                        			call	fade_to_black
  619                        			.endm
  620                        	
  621                        			.macro	_far_fade_to_white.3
  622                        			ldy	<_bp_bank
  623                        			call	fade_to_white
  624                        			.endm
  625                        	
  626                        			.macro	_far_cross_fade_to.3
  627                        			ldy	<_bp_bank
  628                        			call	cross_fade_to
  629                        			.endm
  630                        	
  631                        	
  632                        	
  633                        	; ***************************************************************************
  634                        	; ***************************************************************************
  635                        	;
  636                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  637                        	;
  638                        	; void __fastcall __macro set_xres( unsigned int x_pixels<_ax> );
  639                        	; void __fastcall __macro sgx_set_xres( unsigned int x_pixels<_ax> );
  640                        	;
  641                        	; void __fastcall set_xres( unsigned int x_pixels<_ax>, unsigned char blur_flag<_bl> );
  642                        	; void __fastcall sgx_set_xres( unsigned int x_pixels<_ax>, unsigned char blur_flag<_bl> );
  643                        	
  644                        	_set_xres.1	.macro
  645                        			lda	#XRES_SOFT
  646                        			sta	<_bl
  647                        			call	_set_xres.2
  648                        			.endm
  649                        	
  650               0001     		.if	SUPPORT_SGX
  651                        			.macro	_sgx_set_xres.1
  652                        			lda	#XRES_SOFT
  653                        			sta	<_bl
  654                        			call	_sgx_set_xres.2
  655                        			.endm
  656                        		.endif
  657                        	
  658                        	
  659                        	
  660                        	; ***************************************************************************
  661                        	; ***************************************************************************
  662                        	;
  663                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  664                        	;
  665                        	; unsigned int __fastcall __macro vram_addr( unsigned char bat_x<_al>, unsigned char bat_y<_ah> );
  666                        	; unsigned int __fastcall __macro sgx_vram_addr( unsigned char bat_x<_al>, unsigned char bat_y<_ah> );
  667                        	
  668                        			.macro	_vram_addr.2
  669                        			cla
  670                        			bit	vdc_bat_width
  671                        			bmi	!w128+
  672                        			bvs	!w64+
  673                        	!w32:		lsr	<_ah
  674                        			ror	a
  675                        	!w64:		lsr	<_ah
  676                        			ror	a
  677                        	!w128:		lsr	<_ah
  678                        			ror	a
  679                        			ora	<_al
  680                        			ldy	<_ah
  681                        			.endm
  682                        	
  683               0001     		.if	SUPPORT_SGX
  684                        			.macro	_sgx_vram_addr.2
  685                        			cla
  686                        			bit	sgx_bat_width
  687                        			bmi	!w128+
  688                        			bvs	!w64+
  689                        	!w32:		lsr	<_ah
  690                        			ror	a
  691                        	!w64:		lsr	<_ah
  692                        			ror	a
  693                        	!w128:		lsr	<_ah
  694                        			ror	a
  695                        			ora	<_al
  696                        			ldy	<_ah
  697                        			.endm
  698                        		.endif
  699                        	
  700                        	
  701                        	
  702                        	; ***************************************************************************
  703                        	; ***************************************************************************
  704                        	;
  705                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  706                        	;
  707                        	; unsigned int __fastcall __macro get_vram( unsigned int address<_di> );
  708                        	; void __fastcall __macro put_vram( unsigned int address<_di>, unsigned int data<acc> );
  709                        	;
  710                        	; unsigned int __fastcall __macro sgx_get_vram( unsigned int address<_di> );
  711                        	; void __fastcall __macro sgx_put_vram( unsigned int address<_di>, unsigned int data<acc> );
  712                        	
  713                        			.macro	_get_vram.1
  714                        			jsr	vdc_di_to_marr
  715                        			lda	VDC_DL
  716                        			ldy	VDC_DH
  717                        			.endm
  718                        	
  719                        			.macro	_put_vram.2
  720                        			pha
  721                        			jsr	vdc_di_to_mawr
  722                        			pla
  723                        			sta	VDC_DL
  724                        			sty	VDC_DH
  725                        			.endm
  726                        	
  727               0001     		.if	SUPPORT_SGX
  728                        			.macro	_sgx_get_vram.1
  729                        			jsr	sgx_di_to_marr
  730                        			lda	SGX_DL
  731                        			ldy	SGX_DH
  732                        			.endm
  733                        	
  734                        			.macro	_sgx_put_vram.2
  735                        			pha
  736                        			jsr	sgx_di_to_mawr
  737                        			pla
  738                        			sta	SGX_DL
  739                        			sty	SGX_DH
  740                        			.endm
  741                        		.endif
  742                        	
  743                        	
  744                        	
  745                        	; ***************************************************************************
  746                        	; ***************************************************************************
  747                        	;
  748                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  749                        	;
  750                        	; void __fastcall __macro set_bgpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp> );
  751                        	; void __fastcall __macro set_bgpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_palettes<_ah> );
  752                        	; void __fastcall __macro set_sprpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp> );
  753                        	; void __fastcall __macro set_sprpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_palettes<_ah> );
  754                        	
  755                        	_set_bgpal.2	.macro
  756                        			lda	#1
  757                        			sta	<_ah
  758                        			call	_load_palette.3
  759                        			.endm
  760                        	
  761                        	_set_bgpal.3	.macro
  762                        			call	_load_palette.3
  763                        			.endm
  764                        	
  765                        	_set_sprpal.2	.macro
  766                        			lda	#1
  767                        			sta	<_ah
  768                        			smb4	<_al
  769                        			call	_load_palette.3
  770                        			.endm
  771                        	
  772                        	_set_sprpal.3	.macro
  773                        			smb4	<_al
  774                        			call	_load_palette.3
  775                        			.endm
  776                        	
  777                        	
  778                        	
  779                        	; ***************************************************************************
  780                        	; ***************************************************************************
  781                        	;
  782                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  783                        	;
  784                        	; void __fastcall __macro load_vram( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_words<_ax> );
  785                        	; void __fastcall __macro sgx_load_vram( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_words<_ax> );
  786                        	;
  787                        	; void __fastcall __macro far_load_vram( unsigned int vram<_di>, unsigned int num_words<_ax> );
  788                        	; void __fastcall __macro sgx_far_load_vram( unsigned int vram<_di>, unsigned int num_words<_ax> );
  789                        	;
  790                        	
  791               0001     		.if	SUPPORT_SGX
  792                        			.macro	_sgx_load_vram.3
  793                        			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  794                        			call	load_vram_x
  795                        			.endm
  796                        	
  797                        			.macro	_sgx_far_load_vram.2
  798                        			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  799                        			call	load_vram_x
  800                        			.endm
  801                        		.endif
  802                        	
  803                        			.macro	_load_vram.3
  804                        			clx				; Offset to PCE VDC.
  805                        			call	load_vram_x
  806                        			.endm
  807                        	
  808                        			.macro	_far_load_vram.2
  809                        			clx				; Offset to PCE VDC.
  810                        			call	load_vram_x
  811                        			.endm
  812                        	
  813                        	
  814                        	
  815                        	; ***************************************************************************
  816                        	; ***************************************************************************
  817                        	;
  818                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  819                        	;
  820                        	; void __fastcall __macro load_sprites( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_groups<acc> );
  821                        	; void __fastcall __macro sgx_load_sprites( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_groups<acc> );
  822                        	; void __fastcall __macro far_load_sprites( unsigned int vram<_di>, unsigned int num_groups<acc> );
  823                        	; void __fastcall __macro sgx_far_load_sprites( unsigned int vram<_di>, unsigned int num_groups<acc> );
  824                        	
  825               0001     		.if	SUPPORT_SGX
  826                        			.macro	_sgx_load_sprites.3
  827                        			stz.l	<_ax
  828                        			asl	a
  829                        			sta.h	<_ax
  830                        			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  831                        			call	load_vram_x
  832                        			.endm
  833                        	
  834                        			.macro	_sgx_far_load_sprites.2
  835                        			stz.l	<_ax
  836                        			asl	a
  837                        			sta.h	<_ax
  838                        			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  839                        			call	load_vram_x
  840                        			.endm
  841                        		.endif
  842                        	
  843                        			.macro	_load_sprites.3
  844                        			stz.l	<_ax
  845                        			asl	a
  846                        			sta.h	<_ax
  847                        			clx				; Offset to PCE VDC.
  848                        			call	load_vram_x
  849                        			.endm
  850                        	
  851                        			.macro	_far_load_sprites.2
  852                        			stz.l	<_ax
  853                        			asl	a
  854                        			sta.h	<_ax
  855                        			clx				; Offset to PCE VDC.
  856                        			call	load_vram_x
  857                        			.endm
  858                        	
  859                        	
  860                        	
  861                        	; ***************************************************************************
  862                        	; ***************************************************************************
  863                        	;
  864                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  865                        	;
  866                        	; void __fastcall load_default_font( void );
  867                        	; void __fastcall sgx_load_default_font( void );
  868                        	;
  869                        	
  870               0001     		.if	SUPPORT_SGX
  871                        			.macro	_sgx_load_default_font
  872                        			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  873                        			call	huc_monofont_x
  874                        			.endm
  875                        		.endif
  876                        	
  877                        			.macro	_load_default_font
  878                        			clx				; Offset to PCE VDC.
  879                        			call	huc_monofont_x
  880                        			.endm
  881                        	
  882                        	
  883                        	
  884                        	; ***************************************************************************
  885                        	; ***************************************************************************
  886                        	
  887               0000     		.if	0
  905                        		.endif
                             #[2]   "..\..\..\include\hucc\hucc.asm"
  228                        	
  229               0000     		.if	CDROM
  231                        		.endif
  232                        	
  233                        			; Definitions for compatibility with old HuC/MagicKit projects.
  234                        	
  235               0001     		.ifndef	HUCC_NO_DEPRECATED
                             #[3]   "..\..\..\include\hucc\hucc-deprecated.inc"
  236                        			include	"hucc-deprecated.inc"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-deprecated.inc
    5                        	;
    6                        	; Macros and definitions for compatibility with old HuC/MagicKit projects.
    7                        	;
    8                        	; Based on the original HuC and MagicKit definitions by David Michel and the
    9                        	; other original HuC developers.
   10                        	;
   11                        	; ***************************************************************************
   12                        	; ***************************************************************************
   13                        	
   14                        			; For compatibility with HuC projects that use the old name.
   15                        	
   16               0001     	HUC_USER_RESERVED = HUC_USER_BANK
   17                        	
   18                        			; For compatibility with code that expects the HuC naming that
   19                        			; is used in the newer HuC, rather than the original HuC v3.21.
   20                        			;
   21                        			; Code generated by HuCC uses the original single-underscore.
   22                        	
   23               0001     		.if	1				
   24               0002     	__bp		=	$F8:20EC, 2		; base pointer
   25               0002     	__si		=	$F8:20EE, 2		; source address
   26               0002     	__di		=	$F8:20F0, 2		; destination address
   27                        	
   28               0002     	__ax		=	$F8:20F8, 2
   29               0001     	__al		=	$F8:20F8, 1
   30               0001     	__ah		=	$F8:20F9, 1
   31                        	
   32               0002     	__bx		=	$F8:20FA, 2
   33               0001     	__bl		=	$F8:20FA, 1
   34               0001     	__bh		=	$F8:20FB, 1
   35                        	
   36               0002     	__cx		=	$F8:20FC, 2
   37               0001     	__cl		=	$F8:20FC, 1
   38               0001     	__ch		=	$F8:20FD, 1
   39                        	
   40               0002     	__dx		=	$F8:20FE, 2
   41               0001     	__dl		=	$F8:20FE, 1
   42               0001     	__dh		=	$F8:20FF, 1
   43                        		.endif
   44                        	
   45                        			; For compatibility with code that expects the HuC naming that
   46                        			; is used rather than the shorter upper-case #define naming.
   47                        	
   48               0001     		.if	1				
   49               0001     	video_reg	=	$FF:0200, 1		; Address/Status Register
   50               0001     	video_reg_l	=	$FF:0200, 1		; Address/Status Register
   51               0001     	video_reg_h	=	$FF:0201, 1		; Address/Status Register
   52               0002     	video_data	=	$FF:0202, 2		; Data (Read/Write) Low
   53               0001     	video_data_l	=	$FF:0202, 1		; Data (Read/Write) Low
   54               0001     	video_data_h	=	$FF:0203, 1		; Data (Read/Write) High
   55                        	
   56               0002     	color_ctrl	=	$FF:0400, 2		; Control Register
   57               0002     	color_reg	=	$FF:0402, 2		; Color Table Address
   58               0001     	color_reg_l	=	$FF:0402, 1		; Color Table Address
   59               0001     	color_reg_h	=	$FF:0402, 1		; Color Table Address
   60               0002     	color_data	=	$FF:0404, 2		; Color Table Data Read/Write
   61               0001     	color_data_l	=	$FF:0404, 1		; Color Table Data Read/Write
   62               0001     	color_data_h	=	$FF:0405, 1		; Color Table Data Read/Write
   63                        	
   64               0001     	psg_ch		=	$FF:0800, 1		; Channel Select
   65               0001     	psg_mainvol	=	$FF:0801, 1		; Main Amplitude Level
   66               0001     	psg_freqlo	=	$FF:0802, 1		; Frequency Low
   67               0001     	psg_freqhi	=	$FF:0803, 1		; Frequency High
   68               0001     	psg_ctrl	=	$FF:0804, 1		; Control & Channel Amplitude
   69               0001     	psg_pan		=	$FF:0805, 1		; L/R Amplitude Level
   70               0001     	psg_wavebuf	=	$FF:0806, 1		; Waveform
   71               0001     	psg_noise	=	$FF:0807, 1		; Noise
   72               0001     	psg_lfofreq	=	$FF:0808, 1		; LFO Frequency
   73               0001     	psg_lfoctrl	=	$FF:0809, 1		; LFO Control
   74                        	
   75               0001     	irq_m		=	irq_vec, 1		; Old System Card name.
   76               0002     	irq2_jmp	=	irq2_hook, 2		; Old System Card name.
   77               0002     	irq1_jmp	=	irq1_hook, 2		; Old System Card name.
   78               0002     	timer_jmp	=	timer_hook, 2		; Old System Card name.
   79               0002     	nmi_jmp		=	nmi_hook, 2		; Old System Card name.
   80               0002     	sat_adr		=	satb_addr, 2		; Old System Card name.
   81               0005     	joy		=	joynow, 5		; Old System Card name.
   82               0001     	mwr_m		=	vdc_mwr, 1		; Old System Card name.
   83               0001     	dcr_m		=	vdc_dcr, 1		; Old System Card name.
   84                        		.endif
   85                        	
   86                        			; Macros for compatibility with #asm usage in old HuC projects.
   87                        	
   88                        	stw		.macro
   89                        			lda.l	\1
   90                        			sta.l	\2
   91                        			lda.h	\1
   92                        			sta.h	\2
   93                        			.endm
   94                        	
   95                        	stb		.macro
   96                        			lda	\1
   97                        			sta	\2
   98                        			.endm
   99                        	
  100                        	addw		.macro
  101                        		.if	(\# = 3)
  102                        			clc
  103                        			lda.l	\2
  104                        			adc.l	\1
  105                        			sta.l	\3
  106                        			lda.h	\2
  107                        			adc.h	\1
  108                        			sta.h	\3
  109                        		.else
  110                        			clc
  111                        			lda.l	\2
  112                        			adc.l	\1
  113                        			sta.l	\2
  114                        			lda.h	\2
  115                        			adc.h	\1
  116                        			sta.h	\2
  117                        		.endif
  118                        			.endm
  119                        	
  120                        	add		.macro			; add byte-sized value to
  121                        		.if (\# = 2)			; register A (handle carry
  122                        			lda	\2		; flag)
  123                        			clc
  124                        			adc	\1
  125                        			sta	\2
  126                        		.else
  127                        			clc
  128                        			adc	\1
  129                        		.endif
  130                        			.endm
  131                        	
  132                        	subw		.macro
  133                        			sec
  134                        			lda.l	\2
  135                        			sbc.l	\1
  136                        			sta.l	\2
  137                        			lda.h	\2
  138                        			sbc.h	\1
  139                        			sta.h	\2
  140                        			.endm
  141                        	
  142                        	sub		.macro			; subtract byte-sized value
  143                        		.if (\# = 2)			; from register A (handle
  144                        			lda	\2		; carry flag)
  145                        			sec
  146                        			sbc	\1
  147                        			sta	\2
  148                        		.else
  149                        			sec
  150                        			sbc	\1
  151                        		.endif
  152                        			.endm
  153                        	
  154                        	incw		.macro			; increment a word-sized
  155                        			inc.l	\1		; value at stated memory
  156                        			bne	!+		; location
  157                        			inc.h	\1
  158                        	!:
  159                        			.endm
  160                        	
  161                        	decw		.macro			; decrement a word-sized
  162                        			lda	\1		; value at stated memory
  163                        			bne	!+		; location
  164                        			dec.h	\1
  165                        	!:		dec.l	\1
  166                        			.endm
  167                        	
  168                        	lbne		.macro
  169                        			bne	\1
  170                        			.endm
  171                        	
  172                        	lbeq		.macro
  173                        			beq	\1
  174                        			.endm
  175                        	
  176                        	lbpl		.macro
  177                        			bpl	\1
  178                        			.endm
  179                        	
  180                        	lbmi		.macro
  181                        			bmi	\1
  182                        			.endm
  183                        	
  184                        	lbcc		.macro
  185                        			bcc	\1
  186                        			.endm
  187                        	
  188                        	lbcs		.macro
  189                        			bcs	\1
  190                        			.endm
  191                        	
  192                        	lblo		.macro
  193                        			bcc	\1
  194                        			.endm
  195                        	
  196                        	lbhs		.macro
  197                        			bcs	\1
  198                        			.endm
  199                        	
  200                        	__ldwi		.macro
  201                        		__ld.wi		\1
  202                        			.endm
                             #[2]   "..\..\..\include\hucc\hucc.asm"
  237                        		.endif
  238                        	
  239                        			;
  240                        			;
  241                        			;
  242                        	
  243                        	
  244                        	
  245                        	; ***************************************************************************
  246                        	; ***************************************************************************
  247                        	;
  248                        	; core_main - This is executed after "CORE(not TM)" library initialization.
  249                        	;
  250                        	; This is the first code assembled after the library includes, so we're still
  251                        	; in the CORE_BANK, usually ".bank 0"; and because this is assembled with the
  252                        	; default configuration from "include/core-config.inc", which sets the option
  253                        	; "USING_MPR7", then we're running in MPR7 ($E000-$FFFF).
  254                        	
  255    1F:C9F2             	core_main	.proc
  256                        	
  257               0001     		.if	SUPPORT_SGX
  258    1F:C9F2  A9 F9      			lda	#$F9			; Map the 2nd SGX RAM bank.
  259                        		.else
  261                        		.endif
  262    1F:C9F4  53 04      			tam2
  263                        	
  264    1F:C9F6  A9 01      			lda	#CONST_BANK + _bank_base; Map HuCC's .RODATA bank.
  265    1F:C9F8  53 08      			tam3
  266    1F:C9FA  1A         			inc	a
  267    1F:C9FB  53 10      			tam4
  268                        	
  269               0000     		.ifdef	HOME_BANK
  271                        		.else
  272    1F:C9FD  1A         			inc	a
  273                        		.endif
  274    1F:C9FE  53 20      			tam5
  275                        	
  276    1F:CA00  08         			php				; Disable interrupts while
  277    1F:CA01  78         			sei				; clearing overlay's BSS.
  278                        	
  279               0000     		.ifndef	USING_RCR_MACROS
  294                        		.endif	USING_RCR_MACROS
  295                        	
  296    1F:CA02  A9 CC      			lda	#<hucc_vbl		; Setup HuCC's VBL IRQ handler.
  297    1F:CA04  8D 08 22   			sta.l	vsync_hook
  298    1F:CA07  A9 E2      			lda	#>hucc_vbl
  299    1F:CA09  8D 09 22   			sta.h	vsync_hook
  300                        	
  301               0000     		.if	CDROM				; Overlays should clear BSS.
  303                        		.else
  304    1F:CA0C  73 59 CA F0			tii	.rom_tia, ram_tia, 16	; Only needed on HuCARD.
         1F:CA10  22 10 00    
  305                        		.endif	CDROM
  306                        	
  307               0000     		.if	(__heap_start - __bss_init)	; Copy initialized BSS data.
  309                        		.endif
  310                        	
  311    1F:CA13  F3 57 CA 08			tai	.stack_fill, __stack, HUCC_STACK_SZ
         1F:CA17  20 80 00    
  312                        	
  313               0000     		.if	FAST_MULTIPLY
  322                        		.endif
  323                        	
  324    1F:CA1A  A9 10      			lda	#$10			; Enable HuCC's vblank IRQ
  325    1F:CA1C  04 F5      			tsb	<irq_vec		; handler.
  326                        	
  327                        			__sound_init			; Initialize a sound driver.
  328                        	
  329    1F:CA1E  AD 00 02   			lda	VDC_SR			; Purge any overdue VBL.
  330    1F:CA21  9C 41 22   			stz	irq_cnt			; Make it easy to check.
  331                        	
  332    1F:CA24  28         			plp				; Restore interrupts.
  333                        	
  334               0001     		.ifndef	HUCC_NO_DEFAULT_SCREEN
  335    1F:CA25  20 D1 FF   			call	_init_256x224		; HuCC initializes the VDC and
  336    1F:CA28  20 16 E4   			jsr	set_dspon		; turns the display on.
  337                        		.endif
  338                        	
  339               0001     		.ifndef	HUCC_NO_DEFAULT_FONT
  340    1F:CA2B  A9 01      			lda	#1			; HuCC loads a default font.
  341    1F:CA2D  8D DB 26   			sta	monofont_fg
  342    1F:CA30  9C DC 26   			stz	monofont_bg
  343                        			_load_default_font
         1F:CA33  82         			clx				; Offset to PCE VDC.
         1F:CA34  20 C7 FF   			call	huc_monofont_x
  344    1F:CA37  A9 01      			lda	#$01			; Set the font palette entry to
  345    1F:CA39  8D 02 04   			sta.l	VCE_CTA			; cyan which is a) visible, but
  346    1F:CA3C  9C 03 04   			stz.h	VCE_CTA			; b) a clear indicator that the
  347    1F:CA3F  A0 96      			ldy	#$96			; user hasn't set a palette yet.
  348    1F:CA41  8C 04 04   			sty.l	VCE_CTW
  349    1F:CA44  8D 05 04   			sta.h	VCE_CTW
  350                        		.endif
  351                        	
  352               0001     		.ifndef	HUCC_NO_DEFAULT_RANDOM
  353    1F:CA47  AC 41 22   			ldy	irq_cnt			; Initialize random seed.
  354    1F:CA4A  20 BD FF   			call	init_random
  355                        		.endif
  356                        	
  357    1F:CA4D  A2 80      			ldx	#HUCC_STACK_SZ		; Initialize the HuCC stack.
  358    1F:CA4F  86 8D      			stx	<__sp
  359                        	
  360    1F:CA51  20 B3 FF   			call	_main			; Execute the HuCC program.
  361                        	
  362    1F:CA54  4C 88 E2   			jmp	_exit.1			; Pass the exit code on.
  363                        	
  364    1F:CA57  EA EA      	.stack_fill:	db	$EA,$EA			; To make it easier to see.
  365                        	
  366               0001     		.if	!CDROM
  367                        	
  368    1F:CA59  E3 34 12 02	.rom_tia:	tia	$1234, VDC_DL, 32
         1F:CA5D  02 20 00    
  369    1F:CA60  60         			rts
  370                        	
  371    1F:CA61  73 34 12 78	.rom_tii:	tii	$1234, $5678, $9ABC
         1F:CA65  56 BC 9A    
  372    1F:CA68  60         			rts
  373                        	
  374               22F0     			.bss
  375    F8:22F0             	ram_tia:	ds	8
  376    F8:22F8             	ram_tii:	ds	8
  377               CA69     			.code
  378                        	
  379                        		.endif	!CDROM
  380                        	
  381                        			.endp
  382                        	
  383                        			;
  384                        			; Self-Modifying TIA and TII instruction subroutines.
  385                        			;
  386                        			; These need to be in permanently-accessible memory so that
  387                        			; HuCC code can modify the values as __fastcall parameters.
  388                        			;
  389                        	
  390               0000     		.if	CDROM
  398                        		.endif	CDROM
  399                        	
  400               22F0     			rsset	ram_tia
  401               22F0     	ram_tia_opc	rs	1
  402               22F1     	ram_tia_src	rs	2
  403               22F3     	ram_tia_dst	rs	2
  404               22F5     	ram_tia_len	rs	2
  405               22F7     	ram_tia_rts	rs	1
  406                        	
  407               22F8     			rsset	ram_tii
  408               22F8     	ram_tii_opc	rs	1
  409               22F9     	ram_tii_src	rs	2
  410               22FB     	ram_tii_dst	rs	2
  411               22FD     	ram_tii_len	rs	2
  412               22FF     	ram_tii_rts	rs	1
  413                        	
  414                        	
  415                        	
  416                        	; ***************************************************************************
  417                        	; ***************************************************************************
  418                        	;
  419                        	; hucc_vbl - vblank IRQ handler, called by the "CORE(not TM)" kernel.
  420                        	;
  421                        	; This uses the kernel's hook to process things during vblank. It returns
  422                        	; with a simple RTS, and it can corrupt any register.
  423                        	;
  424                        	; Any slow routines in here should enable interrupts and protect itself from
  425                        	; re-entrancy problems.
  426                        	;
  427                        	
  428    00:E2CC  20 A9 FF   	hucc_vbl:	call	vbl_init_scroll		; Prepare for the next frame.
  429                        	
  430    00:E2CF  F8         			sed				; Update the HuC system clock
  431    00:E2D0  38         			sec				; which is in BCD here rather
  432    00:E2D1  AD EF 22   			lda	clock_tt		; than the binary one in HuC.
  433    00:E2D4  69 00      			adc	#0			; BCD add ...
  434    00:E2D6  C9 60      			cmp	#$60			; ... but binary comparison.
  435    00:E2D8  90 28      			bcc	.ticks
  436    00:E2DA  AD EE 22   			lda	clock_ss
  437    00:E2DD  69 00      			adc	#0			; BCD add ...
  438    00:E2DF  C9 60      			cmp	#$60			; ... but binary comparison.
  439    00:E2E1  90 1B      			bcc	.seconds
  440    00:E2E3  AD ED 22   			lda	clock_mm
  441    00:E2E6  69 00      			adc	#0			; BCD add ...
  442    00:E2E8  C9 60      			cmp	#$60			; ... but binary comparison.
  443    00:E2EA  90 0E      			bcc	.minutes
  444    00:E2EC  AD EC 22   			lda	clock_hh
  445    00:E2EF  69 00      			adc	#0			; BCD add ...
  446    00:E2F1  C9 12      			cmp	#$12			; ... but binary comparison.
  447    00:E2F3  90 01      			bcc	.hours
  448    00:E2F5  62         			cla
  449    00:E2F6  8D EC 22   	.hours:		sta	clock_hh
  450    00:E2F9  62         			cla
  451    00:E2FA  8D ED 22   	.minutes:	sta	clock_mm
  452    00:E2FD  62         			cla
  453    00:E2FE  8D EE 22   	.seconds:	sta	clock_ss
  454    00:E301  62         			cla
  455    00:E302  8D EF 22   	.ticks:		sta	clock_tt
  456    00:E305  D8         			cld
  457                        	
  458    00:E306  4C 96 E3   			jmp	xfer_palettes		; Upload any palette changes.
                             #[1]   "main.s"
   15               6000     			.data
   16               0003     			.bank	DATA_BANK
   17                        	
   18               E309     		.code
   19                        	
   20                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 1; // **************************************************************************
   21                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 2; // **************************************************************************
   22                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 3; //
   23                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 4; // globals.h
   24                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 5; //
   25                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 6; // **************************************************************************
   26                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 7; // **************************************************************************
   27                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 8; //
   28                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 9; // The idea is that you, a PCE developer, copy this file from the ../include/
   29                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 10; // directory and into your project's directory, and then define the variables
   30                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 11; // that you want to have shared access to in all overlay programs on your CD.
   31                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 12; //
   32                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 13; // Because PCEAS searches the current (i.e. project) directory for an include
   33                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 14; // file first, then it will find your customized copy of the file rather than
   34                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 15; // the original copy in the ../include/ directory.
   35                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 16; //
   36                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 17; // **************************************************************************
   37                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 18; // **************************************************************************
   38                        		.dbg	clear
   39               2300     		.bss
   40    F8:2300             	huc_globals:
   41                        	
   42    F8:2300             	huc_globals_end:
   43               E309     		.code
   44                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
   45                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
   46                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
   47                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
   48                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
   49                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
   50                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
   51                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
   52                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
   53                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
   54                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
   55                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
   56                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
   57                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
   58                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
   59                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
   60                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
   61                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
   62                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
   63                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
   64                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
   65                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
   66                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
   67                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
   68                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
   69                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
   70                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
   71                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
   72                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
   73                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
   74                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
   75                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 1; #ifndef _hucc_systemcard_h
   76                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 2; #define _hucc_systemcard_h
   77                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 4; /****************************************************************************
   78                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 5; ; ***************************************************************************
   79                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 6; ;
   80                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 7; ; hucc-systemcard.h
   81                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 8; ;
   82                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 9; ; Macros and library functions for using the System Card.
   83                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 10; ;
   84                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 11; ; Copyright John Brandwood 2024.
   85                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 12; ;
   86                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 13; ; Distributed under the Boost Software License, Version 1.0.
   87                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
   88                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
   89                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 16; ;
   90                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 17; ; ***************************************************************************
   91                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 18; ; ***************************************************************************
   92                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 19; ;
   93                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 20; ; Because these are mainly macros, and so must be included before being used
   94                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 21; ; in compiled code, the actual functions here are written to avoid using any
   95                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 22; ; BSS memory so that HuCC's overlay global-shared-variables are not effected.
   96                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 23; ;
   97                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 24; ; ***************************************************************************
   98                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 25; ; **************************************************************************/
   99                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 27; // *************
  100                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 28; // Backup RAM defines ...
  101                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 29; // *************
  102                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 31; #define  BM_OK             0
  103                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 32; #define  BM_NOT_FOUND      1
  104                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 33; #define  BM_BAD_CHECKSUM   2
  105                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 34; #define  BM_DIR_CORRUPTED  3
  106                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 35; #define  BM_FILE_EMPTY     4
  107                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 36; #define  BM_FULL           5
  108                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 37; #define  BM_NOT_FORMATED   0xFF			// HuC incorrect spelling.
  109                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 38; #define  BM_NOT_FORMATTED  0xFF			// HuCC can use a dictionary!
  110                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 40; #define  BRAM_STARTPTR     0x8010
  111                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 42; // *************
  112                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 43; // CD defines ...
  113                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 44; // *************
  114                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 46; #define	CDPLAY_MUTE		0
  115                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 47; #define	CDPLAY_REPEAT		1
  116                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 48; #define	CDPLAY_NORMAL		2
  117                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 49; #define	CDPLAY_ENDOFDISC	0
  118                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 51; #define	CDFADE_CANCEL	0
  119                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 52; #define	CDFADE_PCM6	8
  120                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 53; #define	CDFADE_ADPCM6	10
  121                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 54; #define	CDFADE_PCM2	12
  122                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 55; #define	CDFADE_ADPCM2	14
  123                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 57; #define CDTRK_AUDIO	0
  124                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 58; #define CDTRK_DATA	4
  125                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 60; // *************
  126                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 61; // ADPCM defines ...
  127                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 62; // *************
  128                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 64; #define	ADPLAY_AUTOSTOP		0
  129                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 65; #define	ADPLAY_REPEAT		0x80
  130                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 67; #define ADPLAY_FREQ_16KHZ	0xE
  131                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 68; #define ADPLAY_FREQ_10KHZ	0xD
  132                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 69; #define ADPLAY_FREQ_8KHZ	0xC
  133                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 70; #define ADPLAY_FREQ_6KHZ	0xB
  134                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 71; #define ADPLAY_FREQ_5KHZ	0xA
  135                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 73; #define ADREAD_RAM	0
  136                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 74; #define ADREAD_VRAM	0xFF
  137                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 76; #define ADWRITE_RAM	0
  138                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 77; #define ADWRITE_VRAM	0xFF
  139                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 79; // *************
  140                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 80; // Functions in hucc-systemcard.asm ...
  141                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 81; // *************
  142                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 83; #ifdef __HUCC__
  143                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 85; #asmdef	HUCC_USES_SYSTEMCARD 1
  144               0001     	HUCC_USES_SYSTEMCARD = 1
  145                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 87; extern void __fastcall __macro cd_boot( void );
  146                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 88; extern unsigned int __fastcall __macro cd_getver( void );
  147                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 89; extern void __fastcall __macro cd_reset( void );
  148                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 90; extern unsigned char __fastcall __macro cd_pause( void );
  149                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 91; extern unsigned char __fastcall cd_unpause( void );
  150                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 92; extern void __fastcall __macro cd_fade( unsigned char type<acc> );
  151                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 93; extern unsigned char __fastcall cd_playtrk( unsigned char start_track<_bx>, unsigned char end_track<_cx>, unsigned char mode<_dh> );
  152                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 94; extern unsigned char __fastcall cd_playmsf( unsigned char start_minute<_al>,  unsigned char start_second<_ah>,  unsigned char start_frame<_bl>, unsigned char end_minute<_cl>,  unsigned char end_second<_ch>,  unsigned char end_frame<_dl>,  unsigned char mode<_dh> );
  153                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 95; extern unsigned char __fastcall cd_fastvram( unsigned char ovl_index<_cl>, unsigned int sect_offset<_si>, unsigned int vramaddr<_bx>, unsigned int sectors<_al> );
  154                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 96; extern unsigned char __fastcall cd_loadvram( unsigned char ovl_index<_cl>, unsigned int sect_offset<_si>, unsigned int vramaddr<_bx>, unsigned int bytes<_ax> );
  155                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 97; extern unsigned char __fastcall cd_loaddata( unsigned char ovl_index<_cl>, unsigned int sect_offset<_si>, unsigned char __far *buffer<_bp_bank:_bp>, unsigned int bytes<__ptr> );
  156                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 98; extern unsigned char __fastcall cd_loadbank( unsigned char ovl_index<_cl>, unsigned int sect_offset<_si>, unsigned char bank<_bl>, unsigned int sectors<_al> );
  157                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 99; extern unsigned char __fastcall __macro cd_status( unsigned char mode<acc> );
  158                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 101; extern void __fastcall __macro ad_reset( void );
  159                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 102; extern unsigned char __fastcall __macro ad_trans( unsigned char ovl_index<_cl>, unsigned int sect_offset<_si>, unsigned char nb_sectors<_dh>, unsigned int ad_addr<_bx> );
  160                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 103; extern void __fastcall __macro ad_read( unsigned int ad_addr<_cx>, unsigned char mode<_dh>, unsigned int buf<_bx>, unsigned int bytes<_ax> );
  161                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 104; extern void __fastcall __macro ad_write( unsigned int ad_addr<_cx>, unsigned char mode<_dh>, unsigned int buf<_bx>, unsigned int bytes<_ax> );
  162                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 105; extern unsigned char __fastcall __macro ad_play( unsigned int ad_addr<_bx>, unsigned int bytes<_ax>, unsigned char freq<_dh>, unsigned char mode<_dl> );
  163                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 106; extern unsigned char __fastcall __macro ad_cplay( unsigned char ovl_index<_cl>, unsigned int sect_offset<_si>, unsigned int nb_sectors<_bx>, unsigned char freq<_dh> );
  164                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 107; extern void __fastcall __macro ad_stop( void );
  165                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 108; extern unsigned char __fastcall __macro ad_stat( void );
  166                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 110; extern unsigned char __fastcall bm_check( void );
  167                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 111; extern unsigned char __fastcall bm_format( void );
  168                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 112; extern unsigned int __fastcall __macro bm_free( void );
  169                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 113; extern unsigned char __fastcall __macro bm_read( unsigned char *buffer<_bx>, unsigned char *name<_ax>, unsigned int offset<_dx>, unsigned int length<_cx> );
  170                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 114; extern unsigned char __fastcall __macro bm_write( unsigned char *buffer<_bx>, unsigned char *name<_ax>, unsigned int offset<_dx>, unsigned int length<_cx> );
  171                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 115; extern unsigned char __fastcall __macro bm_delete( unsigned char *name<_ax> );
  172                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 117; // Deprecated functions ...
  173                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 119; extern unsigned char __fastcall __macro bm_exist( unsigned char *name<_ax> );
  174                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 120; extern unsigned char __fastcall __macro bm_create( unsigned char *name<_ax>, unsigned int length<_cx> );
  175                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 122; // void __fastcall _xsafe add_sectors( unsigned int sector_offset<acc> );
  176                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 124; #endif // __HUCC__
  177                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 126; #endif // _hucc_systemcard_h
  178                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
  179                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 1; #ifndef _hucc_baselib_h
  180                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 2; #define _hucc_baselib_h
  181                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 4; /****************************************************************************
  182                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 5; ; ***************************************************************************
  183                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 6; ;
  184                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 7; ; hucc-baselib.h
  185                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 8; ;
  186                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 9; ; Basic library functions provided as macros.
  187                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 10; ;
  188                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 11; ; Copyright John Brandwood 2024.
  189                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 12; ;
  190                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 13; ; Distributed under the Boost Software License, Version 1.0.
  191                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
  192                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
  193                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 16; ;
  194                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 17; ; ***************************************************************************
  195                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 18; ; **************************************************************************/
  196                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 20; // *************
  197                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 21; // Joypad defines ...
  198                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 22; // *************
  199                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 24; #define	JOY_A		0x01
  200                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 25; #define	JOY_I		0x01
  201                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 26; #define	JOY_B		0x02
  202                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 27; #define	JOY_II		0x02
  203                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 28; #define	JOY_SLCT	0x04
  204                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 29; #define	JOY_SEL		0x04
  205                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 30; #define	JOY_STRT	0x08
  206                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 31; #define	JOY_RUN		0x08
  207                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 32; #define	JOY_UP		0x10
  208                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 33; #define	JOY_RGHT	0x20
  209                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 34; #define	JOY_RIGHT	0x20
  210                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 35; #define	JOY_DOWN	0x40
  211                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 36; #define	JOY_LEFT	0x80
  212                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 38; #define	JOY_C		0x0100
  213                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 39; #define	JOY_III		0x0100
  214                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 40; #define	JOY_D		0x0200
  215                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 41; #define	JOY_IV		0x0200
  216                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 42; #define	JOY_E		0x0400
  217                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 43; #define	JOY_V		0x0400
  218                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 44; #define	JOY_F		0x0800
  219                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 45; #define	JOY_VI		0x0800
  220                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 47; #define JOY_SIXBUT	0x8000
  221                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 48; #define JOY_TYPE6	0x8000
  222                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 50; // *************
  223                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 51; // SuperGRAFX VPC settings for set_vpc_ctl() ...
  224                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 52; // *************
  225                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 54; #define VPC_SPR1_BKG1_SPR2_BKG2	0x3000 // same as SGX_PARALLAX=0
  226                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 55; #define VPC_SPR1_SPR2_BKG1_BKG2	0x7000 // same as SGX_PARALLAX=1
  227                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 56; #define VPC_BKG1_BKG2_SPR1_SPR2	0xB000
  228                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 58; // *************
  229                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 59; // System Card variables ...
  230                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 60; // *************
  231                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 62; extern unsigned int si;
  232                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 63; extern unsigned int di;
  233                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 64; extern unsigned int bp;
  234                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 66; extern unsigned int ax;
  235                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 67; extern unsigned int bx;
  236                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 68; extern unsigned int cx;
  237                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 69; extern unsigned int dx;
  238                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 71; extern unsigned char al;
  239                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 72; extern unsigned char ah;
  240                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 73; extern unsigned char bl;
  241                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 74; extern unsigned char bh;
  242                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 75; extern unsigned char cl;
  243                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 76; extern unsigned char ch;
  244                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 77; extern unsigned char dl;
  245                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 78; extern unsigned char dh;
  246                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 80; extern unsigned char irq_cnt;
  247                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 81; extern unsigned char joynow[5];
  248                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 82; extern unsigned char joytrg[5];
  249                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 83; extern unsigned char joy6now[5];
  250                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 84; extern unsigned char joy6trg[5];
  251                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 85; extern unsigned int  bg_x1;
  252                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 86; extern unsigned int  bg_y1;
  253                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 87; extern unsigned int  bg_x2;
  254                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 88; extern unsigned int  bg_y2;
  255                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 90; // *************
  256                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 91; // Special macros to get information from PCEAS ...
  257                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 92; // *************
  258                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 94; #define BANK( datasym ) ((unsigned) (&__bank__ ## datasym))
  259                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 95; #define SIZEOF( datasym ) ((unsigned) (&__sizeof__ ## datasym))
  260                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 96; #define COUNTOF( datasym ) ((unsigned) (&__countof__ ## datasym))
  261                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 97; #define OVERLAY( datasym ) ((unsigned) (&__overlay__ ## datasym))
  262                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 100; // *************
  263                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 101; // Functions in hucc-baselib.asm ...
  264                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 102; // *************
  265                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 104; #ifdef __HUCC__
  266                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 106; #asmdef	HUCC_USES_BASELIB 1
  267               0001     	HUCC_USES_BASELIB = 1
  268                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 108; #define	_OPTIMIZE 1
  269                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 111; // *************
  270                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 112; // Hardware Detection
  271                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 113; // *************
  272                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 115; extern unsigned char __fastcall __macro sgx_detect( void );
  273                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 116; extern unsigned char __fastcall __macro ac_exists( void );
  274                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 119; // *************
  275                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 120; // Memory Access
  276                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 121; // *************
  277                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 123; extern unsigned char __fastcall __macro peek( unsigned int addr<__ptr> );
  278                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 124; extern unsigned int  __fastcall __macro peekw( unsigned int addr<__ptr> );
  279                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 126; extern void __fastcall __macro poke( unsigned int addr<__poke>, unsigned char with<acc> );
  280                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 127; extern void __fastcall __macro pokew( unsigned int addr<__poke>, unsigned int with<acc> );
  281                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 129; extern unsigned char __fastcall farpeek( void __far *addr<_bp_bank:_bp> );
  282                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 130; extern unsigned int  __fastcall farpeekw( void __far *addr<_bp_bank:_bp> );
  283                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 132; extern void __fastcall __nop set_far_base( unsigned char data_bank<_bp_bank>, unsigned char *data_addr<_bp> );
  284                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 133; extern void __fastcall set_far_offset( unsigned int offset<_bp>, unsigned char data_bank<_bp_bank>, unsigned char *data_addr<acc> );
  285                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 135; extern unsigned char __fastcall far_peek( void );
  286                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 136; extern unsigned int  __fastcall far_peekw( void );
  287                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 138; extern void __fastcall __macro reset_mpr2( void );
  288                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 139; extern void __fastcall __macro reset_mpr34( void );
  289                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 141; extern void * __fastcall __macro farset_mpr2( void __far *addr<_bp_bank:_bp> );
  290                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 142; extern void * __fastcall __macro farset_mpr34( void __far *addr<_bp_bank:_bp> );
  291                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 144; extern void * __fastcall __macro far_set_mpr2( void );
  292                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 145; extern void * __fastcall __macro far_set_mpr34( void );
  293                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 148; // *************
  294                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 149; // Clock Functions
  295                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 150; // *************
  296                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 152; extern unsigned char __fastcall __macro clock_hh( void );
  297                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 153; extern unsigned char __fastcall __macro clock_mm( void );
  298                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 154; extern unsigned char __fastcall __macro clock_ss( void );
  299                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 155; extern unsigned char __fastcall __macro clock_tt( void );
  300                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 156; extern void __fastcall __macro clock_reset( void );
  301                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 159; // *************
  302                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 160; // Joypad Functions
  303                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 161; // *************
  304                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 163; extern unsigned int __fastcall __macro joy( unsigned char which<acc> );
  305                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 164; extern unsigned int __fastcall __macro joytrg( unsigned char which<acc> );
  306                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 167; // *************
  307                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 168; // Number Functions
  308                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 169; // *************
  309                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 171; extern int __fastcall abs( int value<acc> );
  310                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 173; extern void __fastcall __macro srand( unsigned char seed<acc> );
  311                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 174; extern unsigned int __fastcall rand( void );
  312                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 175; extern unsigned char __fastcall rand8( void );
  313                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 177; // Note: "limit" is 0..255.
  314                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 178; extern unsigned char __fastcall random8( unsigned char limit<acc> );
  315                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 180; // Note: "limit" is 0..128, 129..255 are treated as 128!
  316                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 181; extern unsigned char __fastcall random( unsigned char limit<acc> );
  317                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 184; // *************
  318                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 185; // Overlay Execution
  319                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 186; // *************
  320                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 188; extern unsigned char __fastcall __macro cd_execoverlay( unsigned char ovl_index<acc> );
  321                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 191; // *************
  322                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 192; // Functions that are only optionally available if configured in your hucc-config.inc
  323                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 193; // *************
  324                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 195; extern unsigned int __fastcall __macro joybuf( unsigned char which<acc> );
  325                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 196; extern unsigned int __fastcall __macro get_joy_events( unsigned char which<acc> );
  326                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 197; extern void __fastcall __macro clear_joy_events( unsigned char mask<acc> );
  327                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 200; // *************
  328                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 201; // Functions that are only implemented in the TGEMU emulator for unit-testing
  329                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 202; // the compiler, and which should never be used in normal HuCC projects ...
  330                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 203; // *************
  331                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 205; extern void __fastcall dump_screen( void );
  332                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 206; extern void __fastcall abort( void );
  333                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 207; extern void __fastcall exit( int value<acc> );
  334                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 209; extern unsigned char __fastcall __builtin_ffs( unsigned int value<__temp> );
  335                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 211; #endif // __HUCC__
  336                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 213; #endif // _hucc_baselib_h
  337                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
  338                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 1; #ifndef _hucc_gfx_h
  339                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 2; #define _hucc_gfx_h
  340                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 4; /****************************************************************************
  341                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 5; ; ***************************************************************************
  342                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 6; ;
  343                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 7; ; huc-gfx.h
  344                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 8; ;
  345                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 9; ; Based on the original HuC and MagicKit functions by David Michel and the
  346                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 10; ; other original HuC developers.
  347                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 11; ;
  348                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 12; ; Modifications copyright John Brandwood 2024.
  349                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 13; ;
  350                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 14; ; Distributed under the Boost Software License, Version 1.0.
  351                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 15; ; (See accompanying file LICENSE_1_0.txt or copy at
  352                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 16; ;  http://www.boost.org/LICENSE_1_0.txt)
  353                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 17; ;
  354                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 18; ; ***************************************************************************
  355                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 19; ; **************************************************************************/
  356                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 21; // *************
  357                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 22; // Screen defines ...
  358                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 23; // *************
  359                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 25; #define	SCR_SIZE_32x32	0
  360                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 26; #define	SCR_SIZE_64x32	1
  361                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 27; #define	SCR_SIZE_128x32	2
  362                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 28; #define	SCR_SIZE_32x64	4
  363                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 29; #define	SCR_SIZE_64x64	5
  364                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 30; #define	SCR_SIZE_128x64	6
  365                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 32; #define	XRES_SHARP	0
  366                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 33; #define	XRES_SOFT	4
  367                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 34; #define	XRES_KEEP	128
  368                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 36; #define VPC_WIN_A	0x00
  369                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 37; #define VPC_WIN_B	0x01
  370                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 38; #define	VPC_WIN_AB	0x02
  371                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 39; #define	VPC_WIN_NONE	0x03
  372                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 40; #define	VPC_NORM	0x00
  373                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 41; #define	VPC_SPR		0x04
  374                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 42; #define	VPC_INV_SPR	0x08
  375                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 43; #define VDC1_ON		0x01
  376                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 44; #define	VDC1_OFF	0x00
  377                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 45; #define VDC2_ON		0x02
  378                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 46; #define	VDC2_OFF	0x00
  379                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 47; #define VDC_ON		0x03
  380                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 48; #define	VDC_OFF		0x00
  381                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 50; // *************
  382                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 51; // Functions in hucc-gfx.asm ...
  383                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 52; // *************
  384                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 54; #ifdef __HUCC__
  385                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 56; #asmdef	HUCC_USES_GFX 1
  386               0001     	HUCC_USES_GFX = 1
  387                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 58; // *************
  388                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 59; // Color and Palette Functions
  389                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 60; // *************
  390                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 62; extern void __fastcall clear_palette( void );
  391                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 64; extern void __fastcall __nop set_color( unsigned int index<VCE_CTA>, unsigned int value<VCE_CTW> );
  392                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 65; extern void __fastcall set_color_rgb( unsigned int index<VCE_CTA>, unsigned char r<_al>, unsigned char g<_ah>, unsigned char b<acc> );
  393                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 66; extern unsigned int __fastcall __macro get_color( unsigned int index<VCE_CTA> );
  394                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 68; extern void __fastcall load_palette( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp>, unsigned char num_palettes<_ah> );
  395                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 69; extern void __fastcall far_load_palette( unsigned char palette<_al>, unsigned char num_palettes<_ah> );
  396                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 71; extern void __fastcall read_palette( unsigned char palette<_al>, unsigned char num_palettes<_ah>, unsigned int *destination<_di> );
  397                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 73; extern void __fastcall __macro fade_to_black( unsigned int __far *from<_bp_bank:_bp>, unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_sub<_ah> );
  398                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 74; extern void __fastcall __macro fade_to_white( unsigned int __far *from<_bp_bank:_bp>, unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_add<_ah> );
  399                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 75; extern void __fastcall __macro cross_fade_to( unsigned int __far *from<_bp_bank:_bp>, unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char which_component<_ah> );
  400                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 77; extern void __fastcall __macro far_fade_to_black( unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_sub<_ah> );
  401                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 78; extern void __fastcall __macro far_fade_to_white( unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_add<_ah> );
  402                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 79; extern void __fastcall __macro far_cross_fade_to( unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char which_component<_ah> );
  403                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 83; // *************
  404                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 84; // Video Functions
  405                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 85; // *************
  406                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 87; extern void __fastcall init_240x208( void );
  407                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 88; extern void __fastcall init_256x224( void );
  408                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 90; extern void __fastcall vsync( void );
  409                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 91; extern void __fastcall vsync( unsigned char count<_al> );
  410                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 93; extern void __fastcall disp_on( void );
  411                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 94; extern void __fastcall disp_off( void );
  412                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 96; extern void __fastcall set_screen_size( unsigned char value<_al> );
  413                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 98; extern void __fastcall set_xres( unsigned int x_pixels<_ax>, unsigned char blur_flag<_bl> );
  414                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 100; extern void __fastcall cls( void );
  415                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 101; extern void __fastcall cls( unsigned int tile<acc> );
  416                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 103; extern unsigned int __fastcall __macro vram_addr( unsigned char bat_x<_al>, unsigned char bat_y<_ah> );
  417                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 104; extern unsigned int __fastcall __macro get_vram( unsigned int address<_di> );
  418                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 105; extern void __fastcall __macro put_vram( unsigned int address<_di>, unsigned int data<acc> );
  419                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 107; extern void __fastcall __macro load_vram( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_words<_ax> );
  420                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 108; extern void __fastcall __macro far_load_vram( unsigned int vram<_di>,  unsigned int num_words<_ax> );
  421                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 110; extern void __fastcall load_bat( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  422                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 111; extern void __fastcall far_load_bat( unsigned int vram<_di>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  423                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 113; extern void __fastcall __macro load_sprites( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_groups<acc> );
  424                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 114; extern void __fastcall __macro far_load_sprites( unsigned int vram<_di>, unsigned int num_groups<acc> );
  425                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 116; extern void __fastcall vram2vram( unsigned int vram_dst<_ax>, unsigned int vram_src<_bx>, unsigned int word_len<_cx> );
  426                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 119; // *************
  427                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 120; // SuperGRAFX Video Functions
  428                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 121; // *************
  429                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 123; extern void __fastcall __nop vpc_set_ctl( unsigned int bits<VPC_CR> );
  430                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 124; extern void __fastcall __nop vpc_set_win1( unsigned int width<VPC_WINDOW1> );
  431                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 125; extern void __fastcall __nop vpc_set_win2( unsigned int width<VPC_WINDOW2> );
  432                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 127; extern void __fastcall sgx_set_screen_size( unsigned char value<_al> );
  433                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 129; extern void __fastcall sgx_set_xres( unsigned int x_pixels<_ax>, unsigned char blur_flag<_bl> );
  434                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 131; extern void __fastcall sgx_cls( void );
  435                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 132; extern void __fastcall sgx_cls( unsigned int tile<acc> );
  436                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 134; extern unsigned int __fastcall __macro sgx_vram_addr( unsigned char bat_x<_al>, unsigned char bat_y<_ah> );
  437                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 135; extern unsigned int __fastcall __macro sgx_get_vram( unsigned int address<_di> );
  438                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 136; extern void __fastcall __macro sgx_put_vram( unsigned int address<_di>, unsigned int data<acc> );
  439                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 138; extern void __fastcall __macro sgx_load_vram( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_words<_ax> );
  440                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 139; extern void __fastcall __macro sgx_far_load_vram( unsigned int vram<_di>, unsigned int num_words<_ax> );
  441                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 141; extern void __fastcall sgx_load_bat( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  442                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 142; extern void __fastcall sgx_far_load_bat( unsigned int vram<_di>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  443                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 144; extern void __fastcall __macro sgx_load_sprites( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_groups<acc> );
  444                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 145; extern void __fastcall __macro sgx_far_load_sprites( unsigned int vram<_di>, unsigned int num_groups<acc> );
  445                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 147; extern void __fastcall sgx_vram2vram( unsigned int vram_dst<_ax>, unsigned int vram_src<_bx>, unsigned int word_len<_cx> );
  446                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 150; // *************
  447                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 151; // Font Functions
  448                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 152; // *************
  449                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 154; extern void __fastcall set_font_addr( unsigned int vram<acc> );
  450                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 155; extern void __fastcall set_font_pal( unsigned char palette<acc> );
  451                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 157; extern void __fastcall load_font( unsigned char __far *font<_bp_bank:_bp>, unsigned char count<_al>, unsigned int vram<acc> );
  452                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 158; extern void __fastcall far_load_font( unsigned char count<_al>, unsigned int vram<acc> );
  453                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 160; extern void __fastcall __nop set_font_color( unsigned char foreground<monofont_fg>, unsigned char background<monofont_bg> );
  454                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 161; extern void __fastcall __macro load_default_font( void );
  455                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 164; // *************
  456                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 165; // SuperGRAFX Font Functions
  457                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 166; // *************
  458                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 168; extern void __fastcall sgx_set_font_addr( unsigned int vram<acc> );
  459                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 169; extern void __fastcall sgx_set_font_pal( unsigned char palette<acc> );
  460                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 171; extern void __fastcall sgx_load_font( char __far *font<_bp_bank:_bp>, unsigned char count<_al>, unsigned int vram<acc> );
  461                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 172; extern void __fastcall sgx_far_load_font( unsigned char count<_al>, unsigned int vram<acc> );
  462                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 174; extern void __fastcall __macro sgx_load_default_font( void );
  463                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 177; // *************
  464                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 178; // Deprecated functions ...
  465                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 179; // *************
  466                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 181; extern void __fastcall __macro set_xres( unsigned int x_pixels<_ax> );
  467                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 182; extern void __fastcall __macro sgx_set_xres( unsigned int x_pixels<_ax> );
  468                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 184; extern void __fastcall load_background( unsigned char __far *tiles<_bp_bank:_bp>, unsigned char __far *palettes<__fbank:__fptr>, unsigned char __far *bat<_cl:_bx>, unsigned char w<_dl>, unsigned char h<_dh> );
  469                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 186; extern void __fastcall __macro set_bgpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp> );
  470                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 187; extern void __fastcall __macro set_bgpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_palettes<_ah> );
  471                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 188; extern void __fastcall __macro set_sprpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp> );
  472                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 189; extern void __fastcall __macro set_sprpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_palettes<_ah> );
  473                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 191; extern void __fastcall load_font( char __far *font<_bp_bank:_bp>, unsigned char count<_al> );
  474                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 193; extern void __fastcall put_string( unsigned char *string<_bp>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
  475                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 195; extern void __fastcall put_char( unsigned char digit<_bl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
  476                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 196; extern void __fastcall put_digit( unsigned char digit<_bl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
  477                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 197; extern void __fastcall put_hex( unsigned int number<_bx>, unsigned char length<_cl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
  478                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 198; extern void __fastcall put_number( unsigned int number<_bx>, unsigned char length<_cl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
  479                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 199; extern void __fastcall put_raw( unsigned int data<_bx>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
  480                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 201; #endif // __HUCC__
  481                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 203; #endif // _hucc_gfx_h
  482                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-string.h"
  483                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 1; #ifndef _hucc_string_h
  484                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 2; #define _hucc_string_h
  485                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 4; /****************************************************************************
  486                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 5; ; ***************************************************************************
  487                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 6; ;
  488                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 7; ; hucc-string.h
  489                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 8; ;
  490                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 9; ; Not-quite-standard, but fast, replacements for <string.h>.
  491                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 10; ;
  492                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 11; ; Copyright John Brandwood 2024.
  493                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 12; ;
  494                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 13; ; Distributed under the Boost Software License, Version 1.0.
  495                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
  496                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
  497                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 16; ;
  498                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 17; ; ***************************************************************************
  499                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 18; ; ***************************************************************************
  500                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 19; ;
  501                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 20; ; !!! WARNING : non-standard return values !!!
  502                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 21; ;
  503                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 22; ; Strings are limited to a maximum of 255 characters (+ the terminator)!
  504                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 23; ;
  505                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 24; ; The memcpy(), strcpy() and strcat() functions do NOT return the destination
  506                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 25; ; address, and they are declared "void" to check that the value is not used.
  507                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 26; ;
  508                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 27; ; mempcpy() is provided which returns the end address instead of the starting
  509                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 28; ; address, because this is typically more useful.
  510                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 29; ;
  511                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 30; ; Please note that both memcpy() and memset() are implemented using a TII for
  512                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 31; ; speed, and so the length should be < 16 bytes if used in time-critical bits
  513                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 32; ; of code (such as when using a split screen) because they delay interrupts.
  514                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 33; ;
  515                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 34; ; strncpy() and strncat() are not provided, because strncpy() was not created
  516                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 35; ; for the purpose of avoiding string overruns, and strncat() is just a poorly
  517                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 36; ; designed function IMHO.
  518                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 37; ;
  519                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 38; ; POSIX strlcpy() and strlcat() are provided instead, but once again they are
  520                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 39; ; slightly non-standard in that the return value when there is an overflow is
  521                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 40; ; the buffer size (so that the overflow can be detected), instead of the full
  522                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 41; ; size of the destination string that was too big to fit in the buffer.
  523                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 42; ;
  524                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 43; ; ***************************************************************************
  525                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 44; ; **************************************************************************/
  526                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 46; // *************
  527                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 47; // Functions in hucc-string.asm ...
  528                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 48; // *************
  529                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 50; #ifdef __HUCC__
  530                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 52; #asmdef	HUCC_USES_STRING 1
  531               0001     	HUCC_USES_STRING = 1
  532                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 54; extern void __fastcall strcpy( char *destination<_di>, char *source<_bp> );
  533                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 55; extern void __fastcall strcat( char *destination<_di>, char *source<_bp> );
  534                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 57; extern unsigned int __fastcall strlen( char *source<_bp> );
  535                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 59; extern unsigned int __fastcall strlcpy( char *destination<_di>, char *source<_bp>, unsigned char size<acc> );
  536                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 60; extern unsigned int __fastcall strlcat( char *destination<_di>, char *source<_bp>, unsigned char size<acc> );
  537                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 62; extern void __fastcall memcpy( unsigned char *destination<ram_tii_dst>, unsigned char *source<ram_tii_src>, unsigned int count<acc> );
  538                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 63; extern void __fastcall farmemcpy( unsigned char *destination<ram_tii_dst>, unsigned char __far *source<_bp_bank:ram_tii_src>, unsigned int count<acc> );
  539                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 64; extern void __fastcall far_memcpy( unsigned char *destination<ram_tii_dst>, unsigned int count<acc> );
  540                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 66; extern unsigned char * __fastcall mempcpy( unsigned char *destination<ram_tii_dst>, unsigned char *source<ram_tii_src>, unsigned int count<acc> );
  541                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 67; extern unsigned char * __fastcall farmempcpy( unsigned char *destination<ram_tii_dst>, unsigned char __far *source<_bp_bank:ram_tii_src>, unsigned int count<acc> );
  542                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 68; extern unsigned char * __fastcall far_mempcpy( unsigned char *destination<ram_tii_dst>, unsigned int count<acc> );
  543                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 70; extern void __fastcall memset( unsigned char *destination<ram_tii_src>, unsigned char value<_al>, unsigned int count<acc> );
  544                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 72; //  0 	if strings are equal
  545                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 73; //  1 	if the first non-matching character in string1 > string2 (in ASCII).
  546                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 74; // -1 	if the first non-matching character in string1 < string2 (in ASCII).
  547                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 76; extern int __fastcall strcmp( char *string1<_di>, char *string2<_bp> );
  548                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 77; extern int __fastcall strncmp( char *string1<_di>, char *string2<_bp>, unsigned int count<_ax> );
  549                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 79; extern int __fastcall __macro memcmp( unsigned char *string1<_di>, unsigned char *string2<_bp>, unsigned int count<acc> );
  550                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 80; extern int __fastcall farmemcmp( unsigned char *string1<_di>, unsigned char __far *string2<_bp_bank:_bp>, unsigned int count<acc> );
  551                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 81; extern int __fastcall far_memcmp( unsigned char *string1<_di>, unsigned int count<acc> );
  552                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 83; #endif // __HUCC__
  553                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 85; #endif // _hucc_string_h
  554                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-scroll.h"
  555                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 1; #ifndef _hucc_old_scroll_h
  556                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 2; #define _hucc_old_scroll_h
  557                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 4; /****************************************************************************
  558                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 5; ; ***************************************************************************
  559                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 6; ;
  560                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 7; ; hucc-old-scroll.h
  561                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 8; ;
  562                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 9; ; Based on the original HuC and MagicKit functions by David Michel and the
  563                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 10; ; other original HuC developers.
  564                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 11; ;
  565                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 12; ; Modifications copyright John Brandwood 2024.
  566                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 13; ;
  567                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 14; ; Distributed under the Boost Software License, Version 1.0.
  568                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 15; ; (See accompanying file LICENSE_1_0.txt or copy at
  569                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 16; ;  http://www.boost.org/LICENSE_1_0.txt)
  570                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 17; ;
  571                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 18; ; ***************************************************************************
  572                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 19; ; ***************************************************************************
  573                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 20; ;
  574                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 21; ; HuC's old scrolling library is provided for use with existing HuC projects,
  575                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 22; ; but it should preferably be avoided in new projects because it is slow and
  576                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 23; ; forever limited by its choice to handle gaps between areas, and sorting.
  577                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 24; ;
  578                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 25; ; HuCC's new scrolling library puts the responibility for defining both gaps
  579                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 26; ; and the display order into the project's hands, but in return it runs much
  580                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 27; ; faster, using less than 1/6 of the processing time in VBLANK, and far less
  581                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 28; ; time in the RCR interrputs themselves. It also supports the 2nd SuperGRAFX
  582                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 29; ; screen layer, which HuC's old scrolling library ignores.
  583                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 30; ;
  584                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 31; ; ***************************************************************************
  585                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 32; ; **************************************************************************/
  586                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 34; // *************
  587                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 35; // Functions in hucc-old-scroll.asm ...
  588                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 36; // *************
  589                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 38; #ifdef __HUCC__
  590                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 40; #asmdef	HUCC_USES_OLD_SCROLL 1
  591               0001     	HUCC_USES_OLD_SCROLL = 1
  592                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 42; extern void __fastcall scroll( unsigned char num<_al>, unsigned int x<_cx>, unsigned int y<_dx>, unsigned char top<_ah>, unsigned char bottom<_bl>, unsigned char disp<acc> );
  593                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 43; extern void __fastcall scroll_disable( unsigned char num<acc> );
  594                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 45; #endif // __HUCC__
  595                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 47; #endif // _hucc_old_scroll_h
  596                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-spr.h"
  597                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 1; #ifndef _hucc_old_spr_h
  598                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 2; #define _hucc_old_spr_h
  599                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 4; /****************************************************************************
  600                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 5; ; ***************************************************************************
  601                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 6; ;
  602                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 7; ; hucc-old-spr.h
  603                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 8; ;
  604                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 9; ; Based on the original HuC and MagicKit functions by David Michel and the
  605                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 10; ; other original HuC developers.
  606                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 11; ;
  607                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 12; ; Modifications copyright John Brandwood 2024.
  608                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 13; ;
  609                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 14; ; Distributed under the Boost Software License, Version 1.0.
  610                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 15; ; (See accompanying file LICENSE_1_0.txt or copy at
  611                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 16; ;  http://www.boost.org/LICENSE_1_0.txt)
  612                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 17; ;
  613                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 18; ; ***************************************************************************
  614                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 19; ; **************************************************************************/
  615                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 21; // *************
  616                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 22; // Sprite defines ...
  617                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 23; // *************
  618                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 25; #define FLIP_X_MASK 0x08
  619                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 26; #define FLIP_Y_MASK 0x80
  620                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 27; #define FLIP_MAS    0x88
  621                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 28; #define SIZE_MAS    0x31
  622                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 30; #define NO_FLIP     0x00
  623                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 31; #define NO_FLIP_X   0x00
  624                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 32; #define NO_FLIP_Y   0x00
  625                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 33; #define FLIP_X      0x08
  626                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 34; #define FLIP_Y      0x80
  627                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 35; #define SZ_16x16    0x00
  628                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 36; #define SZ_16x32    0x10
  629                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 37; #define SZ_16x64    0x30
  630                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 38; #define SZ_32x16    0x01
  631                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 39; #define SZ_32x32    0x11
  632                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 40; #define	SZ_32x64    0x31
  633                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 42; // *************
  634                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 43; // Functions in hucc-old-spr.asm ...
  635                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 44; // *************
  636                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 46; #ifdef __HUCC__
  637                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 48; #asmdef	HUCC_USES_OLD_SPR 1
  638               0001     	HUCC_USES_OLD_SPR = 1
  639                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 50; extern void __fastcall init_satb( void );
  640                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 51; extern void __fastcall reset_satb( void );
  641                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 52; extern void __fastcall satb_update( void );
  642                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 53; extern void __fastcall spr_set( unsigned char num<acc> );
  643                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 54; extern void __fastcall spr_hide( void );
  644                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 55; extern void __fastcall spr_show( void );
  645                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 56; extern void __fastcall spr_x( unsigned int value<acc> );
  646                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 57; extern void __fastcall spr_y( unsigned int value<acc> );
  647                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 58; extern void __fastcall spr_pattern( unsigned int vaddr<acc> );
  648                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 59; extern void __fastcall spr_ctrl( unsigned char mask<_al>, unsigned char value<acc> );
  649                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 60; extern void __fastcall spr_pal( unsigned char palette<acc> );
  650                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 61; extern void __fastcall spr_pri( unsigned char priority<acc> );
  651                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 63; extern unsigned int __fastcall spr_get_x( void );
  652                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 64; extern unsigned int __fastcall spr_get_y( void );
  653                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 66; extern void __fastcall sgx_init_satb( void );
  654                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 67; extern void __fastcall sgx_reset_satb( void );
  655                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 68; extern void __fastcall sgx_satb_update( void );
  656                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 69; extern void __fastcall sgx_spr_set( unsigned char num<acc> );
  657                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 70; extern void __fastcall sgx_spr_hide( void );
  658                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 71; extern void __fastcall sgx_spr_show( void );
  659                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 72; extern void __fastcall sgx_spr_x( unsigned int value<acc> );
  660                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 73; extern void __fastcall sgx_spr_y( unsigned int value<acc> );
  661                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 74; extern void __fastcall sgx_spr_pattern( unsigned int vaddr<acc> );
  662                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 75; extern void __fastcall sgx_spr_ctrl( unsigned char mask<_al>, unsigned char value<acc> );
  663                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 76; extern void __fastcall sgx_spr_pal( unsigned char palette<acc> );
  664                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 77; extern void __fastcall sgx_spr_pri( unsigned char priority<acc> );
  665                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 79; extern unsigned int __fastcall sgx_spr_get_x( void );
  666                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 80; extern unsigned int __fastcall sgx_spr_get_y( void );
  667                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 82; #endif // __HUCC__
  668                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 84; #endif // _hucc_old_spr_h
  669                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-map.h"
  670                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 1; #ifndef _hucc_old_map_h
  671                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 2; #define _hucc_old_map_h
  672                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 4; /****************************************************************************
  673                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 5; ; ***************************************************************************
  674                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 6; ;
  675                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 7; ; hucc-old-map.h
  676                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 8; ;
  677                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 9; ; Based on the original HuC and MagicKit functions by David Michel and the
  678                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 10; ; other original HuC developers.
  679                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 11; ;
  680                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 12; ; Modifications copyright John Brandwood 2024.
  681                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 13; ;
  682                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 14; ; Distributed under the Boost Software License, Version 1.0.
  683                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 15; ; (See accompanying file LICENSE_1_0.txt or copy at
  684                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 16; ;  http://www.boost.org/LICENSE_1_0.txt)
  685                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 17; ;
  686                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 18; ; ***************************************************************************
  687                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 19; ; **************************************************************************/
  688                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 21; // *************
  689                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 22; // Functions in hucc-old-map.asm ...
  690                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 23; // *************
  691                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 25; #ifdef __HUCC__
  692                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 27; #asmdef	HUCC_USES_OLD_MAP 1
  693               0001     	HUCC_USES_OLD_MAP = 1
  694                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 29; extern void __fastcall set_tile_address( unsigned int vram<_di> );
  695                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 30; extern void __fastcall sgx_set_tile_address( unsigned int vram<_di> );
  696                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 32; extern void __fastcall __nop set_tile_data( unsigned char __far *tiles<vdc_tile_bank:vdc_tile_addr>, unsigned char num_tiles<vdc_num_tiles>, unsigned char __far *palette_table<vdc_attr_bank:vdc_attr_addr>, unsigned char tile_type<vdc_tile_type> );
  697                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 33; extern void __fastcall __nop sgx_set_tile_data( unsigned char __far *tiles<sgx_tile_bank:sgx_tile_addr>, unsigned char num_tiles<sgx_num_tiles>, unsigned char __far *palette_table<sgx_attr_bank:sgx_attr_addr>, unsigned char tile_type<sgx_tile_type> );
  698                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 35; extern void __fastcall __nop set_far_tile_data( unsigned char tile_bank<vdc_tile_bank>, unsigned char *tile_addr<vdc_tile_addr>, unsigned char num_tiles<vdc_num_tiles>, unsigned char palette_table_bank<vdc_attr_bank>, unsigned char *palette_table_addr<vdc_attr_addr>, unsigned char tile_type<vdc_tile_type> );
  699                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 36; extern void __fastcall __nop sgx_set_far_tile_data( unsigned char tile_bank<sgx_tile_bank>, unsigned char *tile_addr<sgx_tile_addr>, unsigned char num_tiles<sgx_num_tiles>, unsigned char palette_table_bank<sgx_attr_bank>, unsigned char *palette_table_addr<sgx_attr_addr>, unsigned char tile_type<sgx_tile_type> );
  700                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 38; extern void __fastcall __nop set_map_data( unsigned char __far *map<vdc_map_bank:vdc_map_addr>, unsigned char w<vdc_map_width>, unsigned char h<vdc_map_height> );
  701                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 39; extern void __fastcall __nop sgx_set_map_data( unsigned char __far *map<sgx_map_bank:sgx_map_addr>, unsigned char w<sgx_map_width>, unsigned char h<sgx_map_height> );
  702                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 41; extern void __fastcall __nop set_far_map_data( unsigned char map_bank<vdc_map_bank>, unsigned char *map_addr<vdc_map_addr>, unsigned char w<vdc_map_width>, unsigned char h<vdc_map_height> );
  703                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 42; extern void __fastcall __nop sgx_set_far_map_data( unsigned char map_bank<vdc_map_bank>, unsigned char *map_addr<vdc_map_addr>, unsigned char w<sgx_map_width>, unsigned char h<sgx_map_height> );
  704                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 44; extern void __fastcall load_tile( unsigned int vram<_di> );
  705                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 45; extern void __fastcall sgx_load_tile( unsigned int vram<_di> );
  706                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 47; extern void __fastcall load_map( unsigned char bat_x<_al>, unsigned char bat_y<_ah>, int map_x<_bx>, int map_y<_dx>, unsigned char tiles_w<_cl>, unsigned char tiles_h<_ch> );
  707                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 48; extern void __fastcall sgx_load_map( unsigned char bat_x<_al>, unsigned char bat_y<_ah>, int map_x<_bx>, int map_y<_dx>, unsigned char tiles_w<_cl>, unsigned char tiles_h<_ch> );
  708                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 50; extern unsigned char __fastcall map_get_tile( unsigned char map_x<_bl>, unsigned char map_y<_bh> );
  709                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 51; extern unsigned char __fastcall sgx_map_get_tile( unsigned char map_x<_bl>, unsigned char map_y<_bh> );
  710                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 53; extern void __fastcall map_put_tile( unsigned char map_x<_bl>, unsigned char map_y<_bh>, unsigned char tile<_al> );
  711                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 54; extern void __fastcall sgx_map_put_tile( unsigned char map_x<_bl>, unsigned char map_y<_bh>, unsigned char tile<_al> );
  712                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 56; extern void __fastcall put_tile( unsigned char tile<_bl>, unsigned char bat_x<_al>, unsigned char bat_y<_ah> );
  713                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 57; extern void __fastcall sgx_put_tile( unsigned char tile<_bl>, unsigned char bat_x<_al>, unsigned char bat_y<_ah> );
  714                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 59; // Deprecated functions ...
  715                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 61; extern void __fastcall set_tile_data( unsigned char *tile_ex<_di> );
  716                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 63; extern void __fastcall __nop set_map_pals( unsigned char __far *palette_table<vdc_attr_bank:vdc_attr_addr> );
  717                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 64; extern void __fastcall __nop set_map_tile_type( unsigned char tile_type<vdc_tile_type> );
  718                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 66; extern void __fastcall __nop sgx_set_map_pals( unsigned char __far *palette_table<sgx_attr_bank:sgx_attr_addr> );
  719                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 67; extern void __fastcall __nop sgx_set_map_tile_type( unsigned char tile_type<sgx_tile_type> );
  720                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 69; extern void __fastcall set_map_tile_base( unsigned int vram<_di> );
  721                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 70; extern void __fastcall sgx_set_map_tile_base( unsigned int vram<_di> );
  722                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 72; #endif // __HUCC__
  723                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 74; #endif // _hucc_old_map_h
  724                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 40; #include "hucc-old-line.h"
  725                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 1; #ifndef _hucc_old_line_h
  726                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 2; #define _hucc_old_line_h
  727                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 4; /****************************************************************************
  728                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 5; ; ***************************************************************************
  729                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 6; ;
  730                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 7; ; hucc-old-line.h
  731                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 8; ;
  732                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 9; ; Based on the original HuC and MagicKit functions by David Michel and the
  733                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 10; ; other original HuC developers.
  734                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 11; ;
  735                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 12; ; Modifications copyright John Brandwood 2024.
  736                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 13; ;
  737                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 14; ; Distributed under the Boost Software License, Version 1.0.
  738                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 15; ; (See accompanying file LICENSE_1_0.txt or copy at
  739                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 16; ;  http://www.boost.org/LICENSE_1_0.txt)
  740                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 17; ;
  741                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 18; ; ***************************************************************************
  742                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 19; ; **************************************************************************/
  743                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 21; // *************
  744                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 22; // Functions in hucc-old-line.asm ...
  745                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 23; // *************
  746                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 25; #ifdef __HUCC__
  747                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 27; #asmdef	HUCC_USES_OLD_LINE 1
  748               0001     	HUCC_USES_OLD_LINE = 1
  749                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 29; extern void __fastcall gfx_init( unsigned int start_vram_addr<_ax> );
  750                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 30; extern void __fastcall gfx_clear( unsigned int start_vram_addr<_di> );
  751                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 31; extern void __fastcall gfx_plot( unsigned int x<_gfx_x1>, unsigned int y<_gfx_y1>, char color<_gfx_color> );
  752                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 32; extern void __fastcall gfx_line( unsigned int x1<_gfx_x1>, unsigned int y1<_gfx_y1>, unsigned int x2<_gfx_x2>, unsigned int y2<_gfx_y2>, unsigned char color<_gfx_color> );
  753                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 34; #endif // __HUCC__
  754                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 36; #endif // _hucc_old_line_h
  755                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #endif // _hucc_legacy_h
  756                        		.dbg	line,	"main.c", 1; #include "huc.h"
  757                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
  758                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
  759                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
  760                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
  761                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
  762                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
  763                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
  764                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
  765                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
  766                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
  767                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
  768                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
  769                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
  770                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
  771                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
  772                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
  773                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
  774                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
  775                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
  776                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
  777                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
  778                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
  779                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
  780                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
  781                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
  782                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
  783                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
  784                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
  785                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
  786                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
  787                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
  788                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
  789                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
  790                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-string.h"
  791                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-scroll.h"
  792                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-spr.h"
  793                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-map.h"
  794                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 40; #include "hucc-old-line.h"
  795                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #endif // _hucc_legacy_h
  796                        		.dbg	line,	"main.c", 2; #include "hucc-scroll.h"
  797                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
  798                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
  799                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
  800                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
  801                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
  802                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
  803                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
  804                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
  805                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
  806                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
  807                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
  808                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
  809                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
  810                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
  811                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
  812                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
  813                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
  814                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
  815                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
  816                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
  817                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
  818                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
  819                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
  820                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
  821                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
  822                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
  823                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
  824                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
  825                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
  826                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
  827                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
  828                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
  829                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
  830                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
  831                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
  832                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
  833                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
  834                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
  835                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
  836                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
  837                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
  838                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
  839                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
  840                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
  841                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
  842                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
  843                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
  844                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
  845                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
  846                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
  847                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
  848                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
  849                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
  850               0001     	HUCC_USES_NEW_SCROLL = 1
  851                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
  852                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
  853                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
  854                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
  855                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
  856                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
  857                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
  858                        		.dbg	clear
  859                        			.macro	_disable_all_splits
  860                        			ldy	#HUCC_PCE_SPLITS - 1
  861                        	!loop:		tya
  862                        			call	_disable_split.1
  863                        			dey
  864                        			bpl	!loop-
  865                        			.endm
  866                        			.macro	_sgx_disable_all_splits
  867                        			ldy	#HUCC_SGX_SPLITS - 1
  868                        	!loop:		tya
  869                        			call	_sgx_disable_split.1
  870                        			dey
  871                        			bpl	!loop-
  872                        			.endm
  873                        	
  874                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
  875                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
  876                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
  877                        		.dbg	line,	"main.c", 3; #include "hucc-chrmap.h"
  878                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
  879                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
  880                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
  881                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
  882                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
  883                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
  884                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
  885                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
  886                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
  887                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
  888                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
  889                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
  890                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
  891                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
  892                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
  893                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
  894                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
  895                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
  896                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
  897                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
  898                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
  899                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
  900                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
  901                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
  902                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
  903                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
  904                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
  905                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
  906                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
  907                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
  908                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
  909                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
  910                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
  911                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
  912                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
  913                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
  914                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
  915                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
  916                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
  917                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
  918                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
  919                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
  920                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
  921                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
  922                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
  923                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
  924                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
  925                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
  926                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
  927                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
  928                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
  929                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
  930                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
  931                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
  932                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
  933                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
  934                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
  935                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
  936                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
  937                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
  938                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
  939                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
  940                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
  941                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
  942                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
  943                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
  944               0001     	HUCC_USES_BLKMAP = 1
  945                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
  946                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
  947                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
  948                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
  949                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
  950                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
  951                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
  952                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
  953                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
  954                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
  955                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
  956                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
  957                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
  958                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
  959                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
  960                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
  961                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
  962                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
  963                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
  964                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
  965                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
  966                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
  967                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
  968                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
  969                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
  970                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
  971                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
  972                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
  973                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
  974                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
  975                        		.dbg	clear
  976                        			.macro	_set_blkmap.2
  977                        			stz	vdc_scr_bank
  978                        			.endm
  979                        			.macro	_set_multimap.2
  980                        			lda	vdc_bat_width
  981                        			lsr	a
  982                        			sta	vdc_map_line_w
  983                        			.endm
  984                        			.macro	SCREEN
  985                        			db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
  986                        			db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
  987                        			db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
  988                        			dw	(\4)
  989                        			.endm
  990                        	
  991                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
  992                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
  993                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
  994                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
  995                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
  996                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
  997                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
  998                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
  999                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 1000                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 1001                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 1002                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 1003                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 1004                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 1005                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 1006                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 1007                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 1008                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 1009                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 1010                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 1011                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 1012                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 1013                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 1014                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 1015                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 1016                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1017                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 1018                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 1019                        		.dbg	clear
 1020                        			.macro	_sgx_set_blkmap.2
 1021                        			stz	sgx_scr_bank
 1022                        			.endm
 1023                        			.macro	_sgx_set_multimap.2
 1024                        			lda	sgx_bat_width
 1025                        			lsr	a
 1026                        			sta	sgx_map_line_w
 1027                        			.endm
 1028                        	
 1029                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 1030                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 1031                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 1032                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 1033                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 1034                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 1035                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 1036                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 1037                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 1038               0001     	HUCC_USES_CHRMAP = 1
 1039                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 1040                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 1041                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 1042                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1043                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 1044                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 1045                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 1046                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 1047                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1048                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 1049                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 1050                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 1051                        		.dbg	line,	"main.c", 4; #include "hucc-blkmap.h"
 1052                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 1053                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 1054                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 1055                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 1056                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 1057                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 1058                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 1059                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 1060                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 1061                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 1062                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 1063                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1064                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1065                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1066                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 1067                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 1068                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 1069                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 1070                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 1071                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 1072                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 1073                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 1074                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 1075                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 1076                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 1077                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 1078                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 1079                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 1080                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 1081                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 1082                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 1083                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 1084                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 1085                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 1086                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 1087                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 1088                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 1089                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 1090                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 1091                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 1092                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 1093                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 1094                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 1095                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 1096                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 1097                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 1098                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 1099                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 1100                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 1101                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 1102                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 1103                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 1104                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 1105                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 1106                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 1107                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 1108                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 1109                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 1110                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 1111                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 1112                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 1113                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 1114                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 1115                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 1116                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1117                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 1118                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 1119                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 1120                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 1121                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 1122                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 1123                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 1124                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 1125                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 1126                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 1127                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 1128                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 1129                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 1130                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 1131                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 1132                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 1133                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 1134                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 1135                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 1136                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 1137                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 1138                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 1139                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 1140                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 1141                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 1142                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 1143                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 1144                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 1145                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 1146                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 1147                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 1148                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 1149                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 1150                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 1151                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 1152                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 1153                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 1154                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 1155                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 1156                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 1157                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 1158                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1159                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 1160                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 1161                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 1162                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 1163                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 1164                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 1165                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 1166                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 1167                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 1168                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 1169                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 1170                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 1171                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 1172                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 1173                        		.dbg	line,	"main.c", 7; #include "include/constants.c"
 1174                        		.dbg	line,	"include\constants.c", 1; //*****************************************************************************//
 1175                        		.dbg	line,	"include\constants.c", 2; //                                                                             //
 1176                        		.dbg	line,	"include\constants.c", 3; //                                SYSTEM CONSTANTS                             //
 1177                        		.dbg	line,	"include\constants.c", 4; //                                                                             //
 1178                        		.dbg	line,	"include\constants.c", 5; //*****************************************************************************//
 1179                        		.dbg	line,	"include\constants.c", 7; #define FALSE 0
 1180                        		.dbg	line,	"include\constants.c", 8; #define TRUE  1
 1181                        		.dbg	line,	"include\constants.c", 10; #define YES   1
 1182                        		.dbg	line,	"include\constants.c", 11; #define NO    2
 1183                        		.dbg	line,	"include\constants.c", 13; #define JOYPAD_1 0
 1184                        		.dbg	line,	"include\constants.c", 14; #define JOYPAD_2 1
 1185                        		.dbg	line,	"include\constants.c", 16; #define BAT_SIZE_W 2048 // IN PIXELS
 1186                        		.dbg	line,	"include\constants.c", 17; #define BAT_SIZE_H 256  // IN PIXELS
 1187                        		.dbg	line,	"include\constants.c", 19; #define NUMBERS_FONT_VRAM_ADR   0x0900
 1188                        		.dbg	line,	"include\constants.c", 21; #define JOY_DIR_PRESSED (JOY_DOWN | JOY_UP | JOY_RIGHT | JOY_LEFT)
 1189                        		.dbg	line,	"include\constants.c", 24; #define TILES_1   16
 1190                        		.dbg	line,	"include\constants.c", 25; #define TILES_2   32
 1191                        		.dbg	line,	"include\constants.c", 26; #define TILES_3   48
 1192                        		.dbg	line,	"include\constants.c", 27; #define TILES_4   64
 1193                        		.dbg	line,	"include\constants.c", 28; #define TILES_8   128
 1194                        		.dbg	line,	"include\constants.c", 29; #define TILES_12  192
 1195                        		.dbg	line,	"include\constants.c", 30; #define TILES_16  256
 1196                        		.dbg	line,	"include\constants.c", 31; #define TILES_24  384
 1197                        		.dbg	line,	"include\constants.c", 32; #define TILES_32  512
 1198                        		.dbg	line,	"include\constants.c", 33; #define TILES_48  768
 1199                        		.dbg	line,	"include\constants.c", 34; #define TILES_64  1024
 1200                        		.dbg	line,	"include\constants.c", 35; #define TILES_80  1280
 1201                        		.dbg	line,	"include\constants.c", 36; #define TILES_96  1536
 1202                        		.dbg	line,	"include\constants.c", 37; #define TILES_128 2048
 1203                        		.dbg	line,	"include\constants.c", 38; #define TILES_144 2304
 1204                        		.dbg	line,	"include\constants.c", 39; #define TILES_160 2560
 1205                        		.dbg	line,	"include\constants.c", 40; #define TILES_256 4096
 1206                        		.dbg	line,	"include\constants.c", 41; #define TILES_384 6144
 1207                        		.dbg	line,	"include\constants.c", 42; #define TILES_400 6400
 1208                        		.dbg	line,	"include\constants.c", 48; #define SEQUENCE_TITLE      0
 1209                        		.dbg	line,	"include\constants.c", 49; #define SEQUENCE_INTRO      1
 1210                        		.dbg	line,	"include\constants.c", 50; #define SEQUENCE_GAME       2
 1211                        		.dbg	line,	"include\constants.c", 51; #define SEQUENCE_NPC        3
 1212                        		.dbg	line,	"include\constants.c", 52; #define SEQUENCE_SHOP       4
 1213                        		.dbg	line,	"include\constants.c", 55; #define CAMERA_RECENTER_VELOCITY    4
 1214                        		.dbg	line,	"include\constants.c", 60; //-----------------------------------------------------------------------------//
 1215                        		.dbg	line,	"include\constants.c", 61; //                                                                             //
 1216                        		.dbg	line,	"include\constants.c", 62; //                                    INTRO                                    //
 1217                        		.dbg	line,	"include\constants.c", 63; //                                                                             //
 1218                        		.dbg	line,	"include\constants.c", 64; //-----------------------------------------------------------------------------//
 1219                        		.dbg	line,	"include\constants.c", 66; #define DRAGON_INTRO_VRAM_ADR       0x2C00
 1220                        		.dbg	line,	"include\constants.c", 71; //-----------------------------------------------------------------------------//
 1221                        		.dbg	line,	"include\constants.c", 72; //                                                                             //
 1222                        		.dbg	line,	"include\constants.c", 73; //                                   PLAYER                                    //
 1223                        		.dbg	line,	"include\constants.c", 74; //                                                                             //
 1224                        		.dbg	line,	"include\constants.c", 75; //-----------------------------------------------------------------------------//
 1225                        		.dbg	line,	"include\constants.c", 77; #define AXIS_RIGHT          0
 1226                        		.dbg	line,	"include\constants.c", 78; #define AXIS_LEFT           1
 1227                        		.dbg	line,	"include\constants.c", 79; #define AXIS_UP             2
 1228                        		.dbg	line,	"include\constants.c", 80; #define AXIS_DOWN           3
 1229                        		.dbg	line,	"include\constants.c", 84; #define STATE_IDLE          0
 1230                        		.dbg	line,	"include\constants.c", 85; #define STATE_WALK          1
 1231                        		.dbg	line,	"include\constants.c", 86; #define STATE_ATTACK        2
 1232                        		.dbg	line,	"include\constants.c", 87; #define STATE_JUMP          4
 1233                        		.dbg	line,	"include\constants.c", 88; #define STATE_JUMP_RIGHT    5
 1234                        		.dbg	line,	"include\constants.c", 89; #define STATE_JUMP_LEFT     6
 1235                        		.dbg	line,	"include\constants.c", 90; #define STATE_CROUCH        7
 1236                        		.dbg	line,	"include\constants.c", 91; #define STATE_CROUCH_ATTACK 8
 1237                        		.dbg	line,	"include\constants.c", 92; #define STATE_FALL          9
 1238                        		.dbg	line,	"include\constants.c", 93; #define STATE_HANG          10
 1239                        		.dbg	line,	"include\constants.c", 94; #define STATE_CLIMB_UP      11
 1240                        		.dbg	line,	"include\constants.c", 95; #define STATE_CLIMB_DOWN    12
 1241                        		.dbg	line,	"include\constants.c", 96; #define STATE_JUMP_LADDER   13
 1242                        		.dbg	line,	"include\constants.c", 97; #define STATE_HANG_ATTACK   14
 1243                        		.dbg	line,	"include\constants.c", 102; #define PLAYER_BASE_Y_POS   128
 1244                        		.dbg	line,	"include\constants.c", 104; #define RESPAWN_DEAD        1
 1245                        		.dbg	line,	"include\constants.c", 105; #define RESPAWN_SHOP        2
 1246                        		.dbg	line,	"include\constants.c", 107; #define PLAYER_START_INDEX  14
 1247                        		.dbg	line,	"include\constants.c", 111; #define PLAYER_VRAM_ADR                     0x1400
 1248                        		.dbg	line,	"include\constants.c", 112; #define PLAYER_IDLE_VRAM_ADR                PLAYER_VRAM_ADR
 1249                        		.dbg	line,	"include\constants.c", 113; #define PLAYER_WALK_1_VRAM_ADR              PLAYER_VRAM_ADR+TILES_16
 1250                        		.dbg	line,	"include\constants.c", 114; #define PLAYER_WALK_2_VRAM_ADR              PLAYER_WALK_1_VRAM_ADR+TILES_16
 1251                        		.dbg	line,	"include\constants.c", 115; #define PLAYER_WALK_3_VRAM_ADR              PLAYER_WALK_2_VRAM_ADR+TILES_16
 1252                        		.dbg	line,	"include\constants.c", 116; #define PLAYER_WALK_4_VRAM_ADR              PLAYER_WALK_3_VRAM_ADR+TILES_16
 1253                        		.dbg	line,	"include\constants.c", 117; #define PLAYER_WALK_5_VRAM_ADR              PLAYER_WALK_4_VRAM_ADR+TILES_16
 1254                        		.dbg	line,	"include\constants.c", 118; #define PLAYER_WALK_6_VRAM_ADR              PLAYER_WALK_5_VRAM_ADR+TILES_16
 1255                        		.dbg	line,	"include\constants.c", 120; #define PLAYER_JUMP_VRAM_ADR                PLAYER_WALK_6_VRAM_ADR+TILES_16
 1256                        		.dbg	line,	"include\constants.c", 121; #define PLAYER_CROUCH_VRAM_ADR              PLAYER_JUMP_VRAM_ADR+TILES_16
 1257                        		.dbg	line,	"include\constants.c", 122; #define PLAYER_HANG_VRAM_ADR                PLAYER_CROUCH_VRAM_ADR+TILES_16
 1258                        		.dbg	line,	"include\constants.c", 124; #define PLAYER_CLIMB_1_VRAM_ADR             PLAYER_HANG_VRAM_ADR+TILES_16
 1259                        		.dbg	line,	"include\constants.c", 125; #define PLAYER_CLIMB_2_VRAM_ADR             PLAYER_CLIMB_1_VRAM_ADR+TILES_16
 1260                        		.dbg	line,	"include\constants.c", 126; #define PLAYER_CLIMB_3_VRAM_ADR             PLAYER_CLIMB_2_VRAM_ADR+TILES_16
 1261                        		.dbg	line,	"include\constants.c", 127; #define PLAYER_CLIMB_4_VRAM_ADR             PLAYER_CLIMB_3_VRAM_ADR+TILES_16
 1262                        		.dbg	line,	"include\constants.c", 128; #define PLAYER_CLIMB_5_VRAM_ADR             PLAYER_CLIMB_4_VRAM_ADR+TILES_16
 1263                        		.dbg	line,	"include\constants.c", 129; #define PLAYER_CLIMB_6_VRAM_ADR             PLAYER_CLIMB_5_VRAM_ADR+TILES_16
 1264                        		.dbg	line,	"include\constants.c", 131; #define PLAYER_FALL_VRAM_ADR                PLAYER_CLIMB_6_VRAM_ADR+TILES_16
 1265                        		.dbg	line,	"include\constants.c", 133; #define PLAYER_ATTACK_1_VRAM_ADR            PLAYER_FALL_VRAM_ADR+TILES_16
 1266                        		.dbg	line,	"include\constants.c", 134; #define PLAYER_ATTACK_2_VRAM_ADR            PLAYER_ATTACK_1_VRAM_ADR+TILES_16
 1267                        		.dbg	line,	"include\constants.c", 136; #define PLAYER_CROUCH_ATTACK_1_VRAM_ADR     PLAYER_ATTACK_2_VRAM_ADR+TILES_16
 1268                        		.dbg	line,	"include\constants.c", 137; #define PLAYER_CROUCH_ATTACK_2_VRAM_ADR     PLAYER_CROUCH_ATTACK_1_VRAM_ADR+TILES_16
 1269                        		.dbg	line,	"include\constants.c", 139; #define PLAYER_JUMP_ATTACK_1_VRAM_ADR       PLAYER_CROUCH_ATTACK_2_VRAM_ADR+TILES_16
 1270                        		.dbg	line,	"include\constants.c", 140; #define PLAYER_JUMP_ATTACK_2_VRAM_ADR       PLAYER_JUMP_ATTACK_1_VRAM_ADR+TILES_16
 1271                        		.dbg	line,	"include\constants.c", 142; #define PLAYER_HANG_ATTACK_1_VRAM_ADR       PLAYER_JUMP_ATTACK_2_VRAM_ADR+TILES_16
 1272                        		.dbg	line,	"include\constants.c", 143; #define PLAYER_HANG_ATTACK_2_VRAM_ADR       PLAYER_HANG_ATTACK_1_VRAM_ADR+TILES_16
 1273                        		.dbg	line,	"include\constants.c", 148; //-----------------------------------------------------------------------------//
 1274                        		.dbg	line,	"include\constants.c", 149; //                                                                             //
 1275                        		.dbg	line,	"include\constants.c", 150; //                                  WEAPONS                                    //
 1276                        		.dbg	line,	"include\constants.c", 151; //                                                                             //
 1277                        		.dbg	line,	"include\constants.c", 152; //-----------------------------------------------------------------------------//
 1278                        		.dbg	line,	"include\constants.c", 154; #define CHAIN_VRAM_ADR                  0x7C00
 1279                        		.dbg	line,	"include\constants.c", 155; #define WEAPON_VRAM_ADR                 CHAIN_VRAM_ADR+TILES_4
 1280                        		.dbg	line,	"include\constants.c", 156; #define CHAIN_START_INDEX               PLAYER_START_INDEX-3
 1281                        		.dbg	line,	"include\constants.c", 158; #define WEAPON_IDLE_VRAM_ADRESS         WEAPON_VRAM_ADR
 1282                        		.dbg	line,	"include\constants.c", 159; #define WEAPON_WALK_1_VRAM_ADRESS       WEAPON_IDLE_VRAM_ADRESS+TILES_4
 1283                        		.dbg	line,	"include\constants.c", 160; #define WEAPON_WALK_2_VRAM_ADRESS       WEAPON_WALK_1_VRAM_ADRESS+TILES_4
 1284                        		.dbg	line,	"include\constants.c", 162; #define WEAPON_ATTACK_1_VRAM_ADRESS     WEAPON_WALK_2_VRAM_ADRESS+TILES_4
 1285                        		.dbg	line,	"include\constants.c", 163; #define WEAPON_ATTACK_2_VRAM_ADRESS     WEAPON_ATTACK_1_VRAM_ADRESS+TILES_4
 1286                        		.dbg	line,	"include\constants.c", 168; //-----------------------------------------------------------------------------//
 1287                        		.dbg	line,	"include\constants.c", 169; //                                                                             //
 1288                        		.dbg	line,	"include\constants.c", 170; //                                  COLLISIONS                                 //
 1289                        		.dbg	line,	"include\constants.c", 171; //                                                                             //
 1290                        		.dbg	line,	"include\constants.c", 172; //-----------------------------------------------------------------------------//
 1291                        		.dbg	line,	"include\constants.c", 174; #define TILE_EMPTY          0
 1292                        		.dbg	line,	"include\constants.c", 175; #define TILE_BG             1
 1293                        		.dbg	line,	"include\constants.c", 176; #define TILE_LADDER         2
 1294                        		.dbg	line,	"include\constants.c", 181; //-----------------------------------------------------------------------------//
 1295                        		.dbg	line,	"include\constants.c", 182; //                                                                             //
 1296                        		.dbg	line,	"include\constants.c", 183; //                                     HUD                                     //
 1297                        		.dbg	line,	"include\constants.c", 184; //                                                                             //
 1298                        		.dbg	line,	"include\constants.c", 185; //-----------------------------------------------------------------------------//
 1299                        		.dbg	line,	"include\constants.c", 187; #define LIFEBAR_1_VRAM_ADR      0x1000
 1300                        		.dbg	line,	"include\constants.c", 188; #define LIFEBAR_2_VRAM_ADR      LIFEBAR_1_VRAM_ADR+TILES_2
 1301                        		.dbg	line,	"include\constants.c", 189; #define LIFEBAR_3_VRAM_ADR      LIFEBAR_2_VRAM_ADR+TILES_2
 1302                        		.dbg	line,	"include\constants.c", 190; #define LIFEBAR_4_VRAM_ADR      LIFEBAR_3_VRAM_ADR+TILES_2
 1303                        		.dbg	line,	"include\constants.c", 191; #define LIFEBAR_5_VRAM_ADR      LIFEBAR_4_VRAM_ADR+TILES_2
 1304                        		.dbg	line,	"include\constants.c", 193; #define WEAPON_ICON_VRAM_ADR    LIFEBAR_5_VRAM_ADR+TILES_2
 1305                        		.dbg	line,	"include\constants.c", 194; #define ARMOR_VRAM_ADR          WEAPON_ICON_VRAM_ADR+TILES_4
 1306                        		.dbg	line,	"include\constants.c", 199; //-----------------------------------------------------------------------------//
 1307                        		.dbg	line,	"include\constants.c", 200; //                                                                             //
 1308                        		.dbg	line,	"include\constants.c", 201; //                                    LEVELS                                   //
 1309                        		.dbg	line,	"include\constants.c", 202; //                                                                             //
 1310                        		.dbg	line,	"include\constants.c", 203; //-----------------------------------------------------------------------------//
 1311                        		.dbg	line,	"include\constants.c", 205; #define LV1_WALL_VRAM_ADR       0x1000
 1312                        		.dbg	line,	"include\constants.c", 206; #define LV1_DOOR_VRAM_ADR       LV1_WALL_VRAM_ADR+256
 1313                        		.dbg	line,	"include\constants.c", 211; #define OBJECT_NUMBER_LV1       23
 1314                        		.dbg	line,	"include\constants.c", 212; #define CHEST_NUMBER_LV1        2
 1315                        		.dbg	line,	"include\constants.c", 213; #define NPC_NUMBER_LV1          2
 1316                        		.dbg	line,	"include\constants.c", 215; #define OBJECT_START_INDEX_LV1  0
 1317                        		.dbg	line,	"include\constants.c", 216; #define CHEST_START_INDEX_LV1   OBJECT_START_INDEX_LV1+OBJECT_NUMBER_LV1
 1318                        		.dbg	line,	"include\constants.c", 217; #define NPC_START_INDEX_LV1     CHEST_START_INDEX_LV1+CHEST_NUMBER_LV1
 1319                        		.dbg	line,	"include\constants.c", 222; //-----------------------------------------------------------------------------//
 1320                        		.dbg	line,	"include\constants.c", 223; //                                                                             //
 1321                        		.dbg	line,	"include\constants.c", 224; //                                   OBJECT                                    //
 1322                        		.dbg	line,	"include\constants.c", 225; //                                                                             //
 1323                        		.dbg	line,	"include\constants.c", 226; //-----------------------------------------------------------------------------//
 1324                        		.dbg	line,	"include\constants.c", 228; #define TYPE_HOURGLASS          0
 1325                        		.dbg	line,	"include\constants.c", 229; #define TYPE_POT                1
 1326                        		.dbg	line,	"include\constants.c", 230; #define TYPE_POW                2
 1327                        		.dbg	line,	"include\constants.c", 231; #define TYPE_CHEST              3
 1328                        		.dbg	line,	"include\constants.c", 232; #define TYPE_GRAY_KEY           4
 1329                        		.dbg	line,	"include\constants.c", 233; #define TYPE_GOLD_KEY           5
 1330                        		.dbg	line,	"include\constants.c", 234; #define TYPE_1UP                6
 1331                        		.dbg	line,	"include\constants.c", 235; #define TYPE_COIN_1             7
 1332                        		.dbg	line,	"include\constants.c", 236; #define TYPE_COIN_5             8
 1333                        		.dbg	line,	"include\constants.c", 237; #define TYPE_COIN_10            9
 1334                        		.dbg	line,	"include\constants.c", 238; #define TYPE_COIN_50            10
 1335                        		.dbg	line,	"include\constants.c", 239; #define TYPE_COIN_100           11
 1336                        		.dbg	line,	"include\constants.c", 240; #define TYPE_COIN_500           12
 1337                        		.dbg	line,	"include\constants.c", 241; #define TYPE_COIN_1000          13
 1338                        		.dbg	line,	"include\constants.c", 242; #define TYPE_YASHICHI           14
 1339                        		.dbg	line,	"include\constants.c", 245; #define STATE_ACTIVE            0
 1340                        		.dbg	line,	"include\constants.c", 246; #define STATE_INACTIVE          1
 1341                        		.dbg	line,	"include\constants.c", 248; #define OBJECT_MARGIN           10//9
 1342                        		.dbg	line,	"include\constants.c", 251; #define POT1_VRAM_ADR           0x6800
 1343                        		.dbg	line,	"include\constants.c", 252; #define POT2_VRAM_ADR           POT1_VRAM_ADR+TILES_4
 1344                        		.dbg	line,	"include\constants.c", 253; #define POT3_VRAM_ADR           POT2_VRAM_ADR+TILES_4
 1345                        		.dbg	line,	"include\constants.c", 254; #define POT4_VRAM_ADR           POT3_VRAM_ADR+TILES_4
 1346                        		.dbg	line,	"include\constants.c", 255; #define POT5_VRAM_ADR           POT4_VRAM_ADR+TILES_4
 1347                        		.dbg	line,	"include\constants.c", 256; #define POT6_VRAM_ADR           POT5_VRAM_ADR+TILES_4
 1348                        		.dbg	line,	"include\constants.c", 257; #define POT7_VRAM_ADR           POT6_VRAM_ADR+TILES_4
 1349                        		.dbg	line,	"include\constants.c", 258; #define POT8_VRAM_ADR           POT7_VRAM_ADR+TILES_4
 1350                        		.dbg	line,	"include\constants.c", 260; #define POW_VRAM_ADR            POT8_VRAM_ADR+TILES_4
 1351                        		.dbg	line,	"include\constants.c", 261; #define GRAY_KEY_VRAM_ADR       POW_VRAM_ADR+TILES_4
 1352                        		.dbg	line,	"include\constants.c", 262; #define GOLD_KEY_VRAM_ADR       GRAY_KEY_VRAM_ADR+TILES_4
 1353                        		.dbg	line,	"include\constants.c", 263; #define LIFE_VRAM_ADR           GOLD_KEY_VRAM_ADR+TILES_4
 1354                        		.dbg	line,	"include\constants.c", 265; #define COIN_1_VRAM_ADR         LIFE_VRAM_ADR+TILES_4
 1355                        		.dbg	line,	"include\constants.c", 266; #define COIN_5_VRAM_ADR         COIN_1_VRAM_ADR+TILES_4
 1356                        		.dbg	line,	"include\constants.c", 267; #define COIN_10_VRAM_ADR        COIN_5_VRAM_ADR+TILES_4
 1357                        		.dbg	line,	"include\constants.c", 268; #define COIN_50_VRAM_ADR        COIN_10_VRAM_ADR+TILES_4
 1358                        		.dbg	line,	"include\constants.c", 269; #define COIN_100_VRAM_ADR       COIN_50_VRAM_ADR+TILES_4
 1359                        		.dbg	line,	"include\constants.c", 270; #define COIN_500_VRAM_ADR       COIN_100_VRAM_ADR+TILES_4
 1360                        		.dbg	line,	"include\constants.c", 271; #define COIN_1000_VRAM_ADR      COIN_500_VRAM_ADR+TILES_4
 1361                        		.dbg	line,	"include\constants.c", 273; #define STAR_VRAM_ADR           COIN_1000_VRAM_ADR+TILES_4
 1362                        		.dbg	line,	"include\constants.c", 274; #define OCTOPUS_VRAM_ADR        STAR_VRAM_ADR+TILES_4
 1363                        		.dbg	line,	"include\constants.c", 275; #define FRUIT_VRAM_ADR          OCTOPUS_VRAM_ADR+TILES_4
 1364                        		.dbg	line,	"include\constants.c", 276; #define BARREL_VRAM_ADR         FRUIT_VRAM_ADR+TILES_4
 1365                        		.dbg	line,	"include\constants.c", 277; #define HOURGLASS_VRAM_ADR      BARREL_VRAM_ADR+TILES_4
 1366                        		.dbg	line,	"include\constants.c", 278; #define BAMBOO_VRAM_ADR         HOURGLASS_VRAM_ADR+TILES_4
 1367                        		.dbg	line,	"include\constants.c", 279; #define YASHICHI_VRAM_ADR       BAMBOO_VRAM_ADR+TILES_4
 1368                        		.dbg	line,	"include\constants.c", 280; #define ELEPHANT_VRAM_ADR       YASHICHI_VRAM_ADR+TILES_4
 1369                        		.dbg	line,	"include\constants.c", 281; #define DRAGONFLY_VRAM_ADR      ELEPHANT_VRAM_ADR+TILES_4
 1370                        		.dbg	line,	"include\constants.c", 282; #define COW_VRAM_ADR            DRAGONFLY_VRAM_ADR+TILES_4
 1371                        		.dbg	line,	"include\constants.c", 283; #define MOBICHAN_VRAM_ADR       COW_VRAM_ADR+TILES_4
 1372                        		.dbg	line,	"include\constants.c", 285; #define CHEST_VRAM_ADR          0x7000
 1373                        		.dbg	line,	"include\constants.c", 286; #define NPC_VRAM_ADR            CHEST_VRAM_ADR+TILES_96
 1374                        		.dbg	line,	"include\constants.c", 291; //-----------------------------------------------------------------------------//
 1375                        		.dbg	line,	"include\constants.c", 292; //                                                                             //
 1376                        		.dbg	line,	"include\constants.c", 293; //                                    NPC                                      //
 1377                        		.dbg	line,	"include\constants.c", 294; //                                                                             //
 1378                        		.dbg	line,	"include\constants.c", 295; //-----------------------------------------------------------------------------//
 1379                        		.dbg	line,	"include\constants.c", 297; #define TYPE_NPC_REWARD         0
 1380                        		.dbg	line,	"include\constants.c", 298; #define TYPE_NPC_SHOP           1
 1381                        		.dbg	line,	"include\constants.c", 303; //-----------------------------------------------------------------------------//
 1382                        		.dbg	line,	"include\constants.c", 304; //                                                                             //
 1383                        		.dbg	line,	"include\constants.c", 305; //                                    SHOP                                     //
 1384                        		.dbg	line,	"include\constants.c", 306; //                                                                             //
 1385                        		.dbg	line,	"include\constants.c", 307; //-----------------------------------------------------------------------------//
 1386                        		.dbg	line,	"include\constants.c", 309; #define SHOP_PHASE_ENTER        0
 1387                        		.dbg	line,	"include\constants.c", 310; #define SHOP_PHASE_BUY          1
 1388                        		.dbg	line,	"include\constants.c", 311; #define SHOP_PHASE_EXIT         2
 1389                        		.dbg	line,	"include\constants.c", 313; #define TYPE_ITEM_WEAPON_2      0
 1390                        		.dbg	line,	"include\constants.c", 314; #define TYPE_ITEM_WEAPON_3      1
 1391                        		.dbg	line,	"include\constants.c", 315; #define TYPE_ITEM_WEAPON_4      2
 1392                        		.dbg	line,	"include\constants.c", 316; #define TYPE_ITEM_WEAPON_5      3
 1393                        		.dbg	line,	"include\constants.c", 317; #define TYPE_ITEM_KEY           4
 1394                        		.dbg	line,	"include\constants.c", 319; #define TYPE_ITEM_ARMOR_2       5
 1395                        		.dbg	line,	"include\constants.c", 320; #define TYPE_ITEM_ARMOR_3       6
 1396                        		.dbg	line,	"include\constants.c", 321; #define TYPE_ITEM_ARMOR_4       7
 1397                        		.dbg	line,	"include\constants.c", 322; #define TYPE_ITEM_ARMOR_5       8
 1398                        		.dbg	line,	"include\constants.c", 323; #define TYPE_ITEM_POTION        9
 1399                        		.dbg	line,	"include\constants.c", 328; //-----------------------------------------------------------------------------//
 1400                        		.dbg	line,	"include\constants.c", 329; //                                                                             //
 1401                        		.dbg	line,	"include\constants.c", 330; //                                   ENEMIES                                   //
 1402                        		.dbg	line,	"include\constants.c", 331; //                                                                             //
 1403                        		.dbg	line,	"include\constants.c", 332; //-----------------------------------------------------------------------------//
 1404                        		.dbg	line,	"include\constants.c", 334; //-----------------------------------------------------------------------------//
 1405                        		.dbg	line,	"include\constants.c", 335; //                                     ORC                                     //
 1406                        		.dbg	line,	"include\constants.c", 336; //-----------------------------------------------------------------------------//
 1407                        		.dbg	line,	"include\constants.c", 338; #define ORC_VRAM_ADR                     PLAYER_HANG_ATTACK_2_VRAM_ADR+TILES_16
 1408                        		.dbg	line,	"include\constants.c", 340; #define ORC_WALK_1_VRAM_ADR              ORC_VRAM_ADR
 1409                        		.dbg	line,	"include\constants.c", 341; #define ORC_WALK_2_VRAM_ADR              ORC_WALK_1_VRAM_ADR+TILES_16
 1410                        		.dbg	line,	"include\constants.c", 342; #define ORC_WALK_3_VRAM_ADR              ORC_WALK_2_VRAM_ADR+TILES_16
 1411                        		.dbg	line,	"include\constants.c", 343; #define ORC_ATTACK_1_VRAM_ADR            ORC_WALK_3_VRAM_ADR+TILES_16
 1412                        		.dbg	line,	"include\constants.c", 345; #define ORC_ATTACK_2_VRAM_ADR            ORC_ATTACK_1_VRAM_ADR+TILES_16
 1413                        		.dbg	line,	"include\constants.c", 346; #define ORC_ATTACK_3_VRAM_ADR            ORC_ATTACK_2_VRAM_ADR+TILES_16
 1414                        		.dbg	line,	"include\constants.c", 347; #define ORC_ATTACK_4_VRAM_ADR            ORC_ATTACK_3_VRAM_ADR+TILES_16
 1415                        		.dbg	line,	"include\constants.c", 348; #define ORC_ATTACK_5_VRAM_ADR            ORC_ATTACK_4_VRAM_ADR+TILES_16
 1416                        		.dbg	line,	"include\constants.c", 349; #define ORC_ATTACK_6_VRAM_ADR            ORC_ATTACK_5_VRAM_ADR+TILES_16
 1417                        		.dbg	line,	"include\constants.c", 351; #define ORC_DEAD_1_VRAM_ADR              ORC_ATTACK_6_VRAM_ADR+TILES_16
 1418                        		.dbg	line,	"include\constants.c", 352; #define ORC_DEAD_2_VRAM_ADR              ORC_DEAD_1_VRAM_ADR+TILES_16
 1419                        		.dbg	line,	"include\constants.c", 353; #define ORC_DEAD_3_VRAM_ADR              ORC_DEAD_2_VRAM_ADR+TILES_16
 1420                        		.dbg	line,	"include\constants.c", 354; #define ORC_DEAD_4_VRAM_ADR              ORC_DEAD_3_VRAM_ADR+TILES_16
 1421                        		.dbg	line,	"include\constants.c", 356; #define ORC_AXE_1_VRAM_ADR               ORC_DEAD_4_VRAM_ADR+TILES_16
 1422                        		.dbg	line,	"include\constants.c", 357; #define ORC_AXE_2_VRAM_ADR               ORC_AXE_1_VRAM_ADR+TILES_4
 1423                        		.dbg	line,	"include\constants.c", 358; #define ORC_AXE_3_VRAM_ADR               ORC_AXE_2_VRAM_ADR+TILES_4
 1424                        		.dbg	line,	"include\constants.c", 359; #define ORC_AXE_4_VRAM_ADR               ORC_AXE_3_VRAM_ADR+TILES_4
 1425                        		.dbg	line,	"include\constants.c", 360; #define ORC_AXE_5_VRAM_ADR               ORC_AXE_4_VRAM_ADR+TILES_4
 1426                        		.dbg	line,	"include\constants.c", 361; #define ORC_AXE_6_VRAM_ADR               ORC_AXE_5_VRAM_ADR+TILES_4
 1427                        		.dbg	line,	"include\constants.c", 364; //-----------------------------------------------------------------------------//
 1428                        		.dbg	line,	"include\constants.c", 365; //                                                                             //
 1429                        		.dbg	line,	"include\constants.c", 366; //                                   SERPENT                                   //
 1430                        		.dbg	line,	"include\constants.c", 367; //                                                                             //
 1431                        		.dbg	line,	"include\constants.c", 368; //-----------------------------------------------------------------------------//
 1432                        		.dbg	line,	"include\constants.c", 370; #define SERPENT_VRAM_ADR                    ORC_AXE_6_VRAM_ADR+TILES_4
 1433                        		.dbg	line,	"include\constants.c", 371; #define SERPENT_LEFT_VRAM_ADR               SERPENT_VRAM_ADR
 1434                        		.dbg	line,	"include\constants.c", 372; #define SERPENT_FRONT_VRAM_ADR              SERPENT_LEFT_VRAM_ADR+TILES_16
 1435                        		.dbg	line,	"include\constants.c", 373; #define SERPENT_RIGHT_VRAM_ADR              SERPENT_FRONT_VRAM_ADR+TILES_16
 1436                        		.dbg	line,	"include\constants.c", 374; #define SERPENT_ATTACK_LEFT_VRAM_ADR        SERPENT_RIGHT_VRAM_ADR+TILES_16
 1437                        		.dbg	line,	"include\constants.c", 375; #define SERPENT_ATTACK_FRONT_VRAM_ADR       SERPENT_ATTACK_LEFT_VRAM_ADR+TILES_16
 1438                        		.dbg	line,	"include\constants.c", 376; #define SERPENT_ATTACK_RIGHT_VRAM_ADR       SERPENT_ATTACK_FRONT_VRAM_ADR+TILES_16
 1439                        		.dbg	line,	"include\constants.c", 379; //-----------------------------------------------------------------------------//
 1440                        		.dbg	line,	"include\constants.c", 380; //                                                                             //
 1441                        		.dbg	line,	"include\constants.c", 381; //                                    PLANT                                    //
 1442                        		.dbg	line,	"include\constants.c", 382; //                                                                             //
 1443                        		.dbg	line,	"include\constants.c", 383; //-----------------------------------------------------------------------------//
 1444                        		.dbg	line,	"include\constants.c", 385; #define PLANT_VRAM_ADR                      SERPENT_ATTACK_RIGHT_VRAM_ADR+TILES_16
 1445                        		.dbg	line,	"include\constants.c", 386; #define PLANT_IDLE_VRAM_ADR                 PLANT_VRAM_ADR
 1446                        		.dbg	line,	"main.c", 8; #include "include/variables.c"
 1447                        		.dbg	line,	"include\variables.c", 1; #include "huc.h"
 1448                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 1449                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 1450                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 1451                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 1452                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 1453                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 1454                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 1455                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 1456                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 1457                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 1458                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 1459                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1460                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1461                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1462                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 1463                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 1464                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 1465                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 1466                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 1467                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 1468                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 1469                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 1470                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 1471                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 1472                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 1473                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 1474                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 1475                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 1476                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 1477                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 1478                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 1479                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 1480                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 1481                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-string.h"
 1482                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-scroll.h"
 1483                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-spr.h"
 1484                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-map.h"
 1485                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 40; #include "hucc-old-line.h"
 1486                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #endif // _hucc_legacy_h
 1487                        		.dbg	line,	"include\variables.c", 2; #include "hucc-scroll.h"
 1488                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
 1489                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
 1490                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
 1491                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
 1492                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
 1493                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
 1494                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
 1495                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
 1496                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
 1497                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
 1498                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
 1499                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1500                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1501                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1502                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
 1503                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
 1504                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
 1505                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
 1506                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
 1507                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
 1508                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
 1509                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
 1510                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
 1511                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
 1512                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
 1513                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
 1514                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
 1515                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
 1516                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
 1517                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
 1518                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
 1519                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
 1520                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
 1521                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
 1522                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
 1523                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
 1524                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
 1525                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
 1526                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
 1527                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
 1528                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
 1529                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
 1530                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
 1531                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
 1532                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
 1533                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
 1534                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
 1535                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
 1536                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
 1537                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
 1538                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
 1539                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
 1540                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
 1541                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 1542                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 1543                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
 1544                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
 1545                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
 1546                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
 1547                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
 1548                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
 1549                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
 1550                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
 1551                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
 1552                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
 1553                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
 1554                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
 1555                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
 1556                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
 1557                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
 1558                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
 1559                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
 1560                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
 1561                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
 1562                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
 1563                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
 1564                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
 1565                        		.dbg	line,	"include\variables.c", 3; #include "hucc-chrmap.h"
 1566                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
 1567                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
 1568                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
 1569                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
 1570                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
 1571                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
 1572                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
 1573                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
 1574                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
 1575                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
 1576                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
 1577                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1578                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1579                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1580                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
 1581                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
 1582                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
 1583                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
 1584                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
 1585                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
 1586                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
 1587                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
 1588                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
 1589                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
 1590                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
 1591                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
 1592                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
 1593                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
 1594                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
 1595                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 1596                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 1597                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 1598                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 1599                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 1600                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 1601                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 1602                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 1603                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1604                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 1605                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 1606                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 1607                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 1608                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1609                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 1610                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 1611                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 1612                        		.dbg	line,	"include\variables.c", 4; #include "hucc-blkmap.h"
 1613                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 1614                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 1615                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 1616                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 1617                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 1618                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 1619                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 1620                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 1621                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 1622                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 1623                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 1624                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1625                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1626                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1627                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 1628                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 1629                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 1630                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 1631                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 1632                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 1633                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 1634                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 1635                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 1636                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 1637                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 1638                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 1639                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 1640                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 1641                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 1642                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 1643                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 1644                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 1645                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 1646                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 1647                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 1648                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 1649                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 1650                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 1651                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 1652                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 1653                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 1654                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 1655                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 1656                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 1657                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 1658                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 1659                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 1660                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 1661                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 1662                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 1663                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 1664                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 1665                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 1666                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 1667                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 1668                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 1669                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 1670                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 1671                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 1672                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 1673                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 1674                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 1675                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 1676                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 1677                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1678                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 1679                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 1680                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 1681                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 1682                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 1683                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 1684                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 1685                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 1686                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 1687                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 1688                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 1689                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 1690                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 1691                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 1692                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 1693                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 1694                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 1695                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 1696                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 1697                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 1698                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 1699                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 1700                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 1701                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 1702                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 1703                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 1704                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 1705                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 1706                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 1707                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 1708                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 1709                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 1710                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 1711                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 1712                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 1713                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 1714                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 1715                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 1716                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 1717                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 1718                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 1719                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1720                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 1721                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 1722                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 1723                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 1724                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 1725                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 1726                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 1727                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 1728                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 1729                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 1730                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 1731                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 1732                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 1733                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 1734                        		.dbg	line,	"include\variables.c", 13; unsigned char   sequence_id,
 1735                        		.dbg	line,	"include\variables.c", 14; sequence_loaded,
 1736                        		.dbg	line,	"include\variables.c", 16; level_id,
 1737                        		.dbg	line,	"include\variables.c", 18; // PLAYER //
 1738                        		.dbg	line,	"include\variables.c", 19; respawn,
 1739                        		.dbg	line,	"include\variables.c", 20; player_id,
 1740                        		.dbg	line,	"include\variables.c", 21; player_state,
 1741                        		.dbg	line,	"include\variables.c", 22; player_axis,
 1742                        		.dbg	line,	"include\variables.c", 23; player_previous_axis,
 1743                        		.dbg	line,	"include\variables.c", 24; player_counter_anim,
 1744                        		.dbg	line,	"include\variables.c", 25; player_index_jump,
 1745                        		.dbg	line,	"include\variables.c", 26; player_index_fall,
 1746                        		.dbg	line,	"include\variables.c", 27; player_counter_attack,
 1747                        		.dbg	line,	"include\variables.c", 29; player_naked,
 1748                        		.dbg	line,	"include\variables.c", 30; player_attack,
 1749                        		.dbg	line,	"include\variables.c", 32; jump_ladder,
 1750                        		.dbg	line,	"include\variables.c", 33; jump_max_index,
 1751                        		.dbg	line,	"include\variables.c", 34; fall_ladder,
 1752                        		.dbg	line,	"include\variables.c", 35; hit_wall,
 1753                        		.dbg	line,	"include\variables.c", 37; // ARMOR + WEAPON //
 1754                        		.dbg	line,	"include\variables.c", 38; chain_id,
 1755                        		.dbg	line,	"include\variables.c", 39; weapon_id,
 1756                        		.dbg	line,	"include\variables.c", 40; armor_level,
 1757                        		.dbg	line,	"include\variables.c", 41; weapon_level,                
 1758                        		.dbg	line,	"include\variables.c", 42; list_chain_active[3],
 1759                        		.dbg	line,	"include\variables.c", 44; // HUD //
 1760                        		.dbg	line,	"include\variables.c", 45; life_amount,
 1761                        		.dbg	line,	"include\variables.c", 46; credits_amount,
 1762                        		.dbg	line,	"include\variables.c", 47; key_amount,
 1763                        		.dbg	line,	"include\variables.c", 48; potion_amount,
 1764                        		.dbg	line,	"include\variables.c", 50; // TIME //
 1765                        		.dbg	line,	"include\variables.c", 51; minutes,
 1766                        		.dbg	line,	"include\variables.c", 52; seconds,
 1767                        		.dbg	line,	"include\variables.c", 53; time_counter,
 1768                        		.dbg	line,	"include\variables.c", 55; minutes_backup,
 1769                        		.dbg	line,	"include\variables.c", 56; seconds_backup,
 1770                        		.dbg	line,	"include\variables.c", 59; // OBJECTS //
 1771                        		.dbg	line,	"include\variables.c", 60; object_start_index,
 1772                        		.dbg	line,	"include\variables.c", 61; level_object_number,
 1773                        		.dbg	line,	"include\variables.c", 62; onscreen_object_number,
 1774                        		.dbg	line,	"include\variables.c", 63; 
 1775                        		.dbg	line,	"include\variables.c", 64; list_object_type[25],
 1776                        		.dbg	line,	"include\variables.c", 65; list_object_state[25],
 1777                        		.dbg	line,	"include\variables.c", 66; list_object_energy[25],
 1778                        		.dbg	line,	"include\variables.c", 67; list_reward_type[25],
 1779                        		.dbg	line,	"include\variables.c", 68; 
 1780                        		.dbg	line,	"include\variables.c", 69; list_onscreen_object[8],
 1781                        		.dbg	line,	"include\variables.c", 70; 
 1782                        		.dbg	line,	"include\variables.c", 71; // CHESTS //
 1783                        		.dbg	line,	"include\variables.c", 72; chest_start_index,
 1784                        		.dbg	line,	"include\variables.c", 73; level_chest_number,
 1785                        		.dbg	line,	"include\variables.c", 74; onscreen_chest_number,
 1786                        		.dbg	line,	"include\variables.c", 75; 
 1787                        		.dbg	line,	"include\variables.c", 76; list_chest_state[8],
 1788                        		.dbg	line,	"include\variables.c", 77; list_onscreen_chest[8],
 1789                        		.dbg	line,	"include\variables.c", 79; // NPC //
 1790                        		.dbg	line,	"include\variables.c", 80; npc_start_index,
 1791                        		.dbg	line,	"include\variables.c", 81; level_npc_number,
 1792                        		.dbg	line,	"include\variables.c", 82; onscreen_npc_number,
 1793                        		.dbg	line,	"include\variables.c", 84; list_npc_type[9],
 1794                        		.dbg	line,	"include\variables.c", 85; list_npc_state[9],
 1795                        		.dbg	line,	"include\variables.c", 86; list_onscreen_npc[9],
 1796                        		.dbg	line,	"include\variables.c", 88; // SHOPS //
 1797                        		.dbg	line,	"include\variables.c", 89; index_x,
 1798                        		.dbg	line,	"include\variables.c", 90; index_y,
 1799                        		.dbg	line,	"include\variables.c", 91; item_index,
 1800                        		.dbg	line,	"include\variables.c", 93; shop_phase,
 1801                        		.dbg	line,	"include\variables.c", 94; shop_counter,
 1802                        		.dbg	line,	"include\variables.c", 96; palette_step,
 1803                        		.dbg	line,	"include\variables.c", 97; 
 1804                        		.dbg	line,	"include\variables.c", 98; tilemap_mask[256];
 1805                        		.dbg	line,	"include\variables.c", 103; signed int      player_pos_x,
 1806                        		.dbg	line,	"include\variables.c", 104; player_pos_y,
 1807                        		.dbg	line,	"include\variables.c", 105; camera_max_y_position,
 1808                        		.dbg	line,	"include\variables.c", 107; camera_pos_x_backup,
 1809                        		.dbg	line,	"include\variables.c", 108; camera_pos_y_backup,
 1810                        		.dbg	line,	"include\variables.c", 111; list_object_x_pos[25],
 1811                        		.dbg	line,	"include\variables.c", 112; list_object_y_pos[25],
 1812                        		.dbg	line,	"include\variables.c", 113; list_object_x_pos_ref[25],
 1813                        		.dbg	line,	"include\variables.c", 114; list_object_y_pos_ref[25],
 1814                        		.dbg	line,	"include\variables.c", 117; list_chest_x_pos[8],
 1815                        		.dbg	line,	"include\variables.c", 118; list_chest_y_pos[8],
 1816                        		.dbg	line,	"include\variables.c", 119; list_chest_x_pos_ref[8],
 1817                        		.dbg	line,	"include\variables.c", 120; list_chest_y_pos_ref[8],
 1818                        		.dbg	line,	"include\variables.c", 123; list_npc_x_pos[9],
 1819                        		.dbg	line,	"include\variables.c", 124; list_npc_y_pos[9],
 1820                        		.dbg	line,	"include\variables.c", 125; list_npc_x_pos_ref[9],
 1821                        		.dbg	line,	"include\variables.c", 126; list_npc_y_pos_ref[9];
 1822                        		.dbg	line,	"include\variables.c", 127; 
 1823                        		.dbg	line,	"include\variables.c", 131; int             global_counter,
 1824                        		.dbg	line,	"include\variables.c", 132; letter_index,
 1825                        		.dbg	line,	"include\variables.c", 133; letter_counter,
 1826                        		.dbg	line,	"include\variables.c", 134; zenny_amount,
 1827                        		.dbg	line,	"include\variables.c", 135; score,
 1828                        		.dbg	line,	"include\variables.c", 137; shop_prices[10],
 1829                        		.dbg	line,	"include\variables.c", 138; palette_buffer[16];
 1830                        		.dbg	line,	"include\variables.c", 143; signed char weapon_y_offset;
 1831                        		.dbg	line,	"include\variables.c", 148; extern unsigned char tileset_LV1_BG_B[];
 1832                        		.dbg	line,	"include\variables.c", 149; extern unsigned char multimap_LV1_BG_B[];
 1833                        		.dbg	line,	"include\variables.c", 151; extern unsigned char tileset_HUD[];
 1834                        		.dbg	line,	"include\variables.c", 152; extern unsigned char multimap_LV1_BG_A[];
 1835                        		.dbg	line,	"include\variables.c", 154; extern unsigned char tileset_SHOP_BG_B[];
 1836                        		.dbg	line,	"include\variables.c", 157; int *ptr_SHOP_ITEM_PRICES;
 1837                        		.dbg	line,	"main.c", 11; #include "include/gfx_BG_INTRO.c"
 1838                        		.dbg	line,	"include\gfx_BG_INTRO.c", 1; #include "huc.h"
 1839                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 1840                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 1841                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 1842                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 1843                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 1844                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 1845                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 1846                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 1847                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 1848                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 1849                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 1850                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1851                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1852                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1853                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 1854                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 1855                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 1856                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 1857                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 1858                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 1859                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 1860                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 1861                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 1862                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 1863                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 1864                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 1865                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 1866                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 1867                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 1868                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 1869                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 1870                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 1871                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 1872                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-string.h"
 1873                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-scroll.h"
 1874                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-spr.h"
 1875                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-map.h"
 1876                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 40; #include "hucc-old-line.h"
 1877                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #endif // _hucc_legacy_h
 1878                        		.dbg	line,	"include\gfx_BG_INTRO.c", 2; #include "hucc-scroll.h"
 1879                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
 1880                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
 1881                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
 1882                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
 1883                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
 1884                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
 1885                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
 1886                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
 1887                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
 1888                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
 1889                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
 1890                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1891                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1892                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1893                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
 1894                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
 1895                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
 1896                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
 1897                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
 1898                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
 1899                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
 1900                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
 1901                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
 1902                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
 1903                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
 1904                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
 1905                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
 1906                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
 1907                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
 1908                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
 1909                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
 1910                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
 1911                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
 1912                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
 1913                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
 1914                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
 1915                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
 1916                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
 1917                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
 1918                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
 1919                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
 1920                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
 1921                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
 1922                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
 1923                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
 1924                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
 1925                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
 1926                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
 1927                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
 1928                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
 1929                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
 1930                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
 1931                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
 1932                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 1933                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 1934                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
 1935                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
 1936                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
 1937                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
 1938                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
 1939                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
 1940                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
 1941                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
 1942                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
 1943                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
 1944                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
 1945                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
 1946                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
 1947                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
 1948                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
 1949                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
 1950                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
 1951                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
 1952                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
 1953                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
 1954                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
 1955                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
 1956                        		.dbg	line,	"include\gfx_BG_INTRO.c", 3; #include "hucc-chrmap.h"
 1957                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
 1958                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
 1959                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
 1960                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
 1961                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
 1962                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
 1963                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
 1964                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
 1965                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
 1966                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
 1967                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
 1968                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1969                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1970                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1971                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
 1972                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
 1973                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
 1974                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
 1975                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
 1976                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
 1977                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
 1978                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
 1979                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
 1980                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
 1981                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
 1982                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
 1983                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
 1984                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
 1985                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
 1986                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 1987                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 1988                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 1989                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 1990                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 1991                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 1992                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 1993                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 1994                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1995                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 1996                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 1997                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 1998                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 1999                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2000                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 2001                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 2002                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 2003                        		.dbg	line,	"include\gfx_BG_INTRO.c", 4; #include "hucc-blkmap.h"
 2004                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 2005                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 2006                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 2007                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 2008                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 2009                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 2010                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 2011                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 2012                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 2013                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 2014                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 2015                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2016                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2017                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2018                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 2019                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 2020                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 2021                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 2022                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 2023                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 2024                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 2025                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 2026                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 2027                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 2028                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 2029                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 2030                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 2031                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 2032                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 2033                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 2034                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 2035                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 2036                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 2037                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 2038                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 2039                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 2040                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 2041                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 2042                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 2043                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 2044                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 2045                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 2046                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 2047                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 2048                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 2049                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 2050                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 2051                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 2052                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 2053                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 2054                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 2055                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 2056                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 2057                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 2058                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 2059                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 2060                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 2061                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 2062                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 2063                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 2064                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 2065                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 2066                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 2067                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 2068                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2069                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 2070                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 2071                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 2072                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 2073                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 2074                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 2075                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 2076                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 2077                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 2078                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 2079                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 2080                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 2081                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 2082                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 2083                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 2084                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 2085                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 2086                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 2087                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 2088                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 2089                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 2090                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 2091                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 2092                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 2093                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 2094                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 2095                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 2096                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 2097                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 2098                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 2099                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 2100                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 2101                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 2102                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 2103                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 2104                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 2105                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 2106                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 2107                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 2108                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 2109                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 2110                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2111                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 2112                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 2113                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 2114                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 2115                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 2116                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 2117                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 2118                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 2119                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 2120                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 2121                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 2122                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 2123                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 2124                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 2125                        		.dbg	line,	"include\gfx_BG_INTRO.c", 13; #incchr(tileset_FONT_INTRO,"res/maps/tiles_FONT_INTRO.png");
 2126               6000     		.data
 2127    03:6000             	_tileset_FONT_INTRO: 	.incchr		"res/maps/tiles_FONT_INTRO.png"
 2128               E309     		.code
 2129                        		.dbg	line,	"include\gfx_BG_INTRO.c", 15; #incpal(palette_FONT_INTRO, "res/maps/tiles_FONT_INTRO.png")
 2130               6C00     		.data
 2131    03:6C00             	_palette_FONT_INTRO:	.incpal		"res/maps/tiles_FONT_INTRO.png"
 2132               E309     		.code
 2133                        		.dbg	line,	"include\gfx_BG_INTRO.c", 17; #incpal(palette_BLACK, "res/palettes/palette_BLACK.png")
 2134               6E00     		.data
 2135    03:6E00             	_palette_BLACK:	.incpal		"res/palettes/palette_BLACK.png"
 2136               E309     		.code
 2137                        		.dbg	line,	"include\gfx_BG_INTRO.c", 20; //**************************************************************************************//
 2138                        		.dbg	line,	"include\gfx_BG_INTRO.c", 21; //                                                                                      //
 2139                        		.dbg	line,	"include\gfx_BG_INTRO.c", 22; //                                        TITLE                                         //
 2140                        		.dbg	line,	"include\gfx_BG_INTRO.c", 23; //                                                                                      //
 2141                        		.dbg	line,	"include\gfx_BG_INTRO.c", 24; //**************************************************************************************//
 2142                        		.dbg	line,	"include\gfx_BG_INTRO.c", 26; #incchr(tileset_INTRO_BG_B, "res/maps/tilemap_INTRO_BG_B.png", _OPTIMIZE)
 2143               7000     		.data
 2144    03:7000             	_tileset_INTRO_BG_B: 	.incchr		"res/maps/tilemap_INTRO_BG_B.png", 1
 2145               E309     		.code
 2146                        		.dbg	line,	"include\gfx_BG_INTRO.c", 27; #incbat(tilemap_INTRO_BG_B,"res/maps/tilemap_INTRO_BG_B.png", 0x1000 , 32 , 28 , tileset_INTRO_BG_B);
 2147               6460     		.data
 2148    05:6460             	_tilemap_INTRO_BG_B:	.incbat		"res/maps/tilemap_INTRO_BG_B.png", 4096, 32, 28, _tileset_INTRO_BG_B
 2149               E309     		.code
 2150                        		.dbg	line,	"include\gfx_BG_INTRO.c", 29; #incchr(tileset_INTRO_BG_A, "res/maps/tilemap_INTRO_BG_A.png", _OPTIMIZE)
 2151               6B60     		.data
 2152    05:6B60             	_tileset_INTRO_BG_A: 	.incchr		"res/maps/tilemap_INTRO_BG_A.png", 1
 2153               E309     		.code
 2154                        		.dbg	line,	"include\gfx_BG_INTRO.c", 30; #incbat(tilemap_INTRO_BG_A,"res/maps/tilemap_INTRO_BG_A.png", 0x1000 , 64 , 64 , tileset_INTRO_BG_A);
 2155               76E0     		.data
 2156    05:76E0             	_tilemap_INTRO_BG_A:	.incbat		"res/maps/tilemap_INTRO_BG_A.png", 4096, 64, 64, _tileset_INTRO_BG_A
 2157               E309     		.code
 2158                        		.dbg	line,	"include\gfx_BG_INTRO.c", 32; #incpal(palette_INTRO_1, "res/maps/tilemap_INTRO_BG_B.png")
 2159               76E0     		.data
 2160    06:76E0             	_palette_INTRO_1:	.incpal		"res/maps/tilemap_INTRO_BG_B.png"
 2161               E309     		.code
 2162                        		.dbg	line,	"include\gfx_BG_INTRO.c", 33; #incpal(palette_INTRO_2, "res/palettes/palette_INTRO_2.png")
 2163               78E0     		.data
 2164    06:78E0             	_palette_INTRO_2:	.incpal		"res/palettes/palette_INTRO_2.png"
 2165               E309     		.code
 2166                        		.dbg	line,	"include\gfx_BG_INTRO.c", 34; #incpal(palette_INTRO_3, "res/palettes/palette_INTRO_3.png")
 2167               7AE0     		.data
 2168    06:7AE0             	_palette_INTRO_3:	.incpal		"res/palettes/palette_INTRO_3.png"
 2169               E309     		.code
 2170                        		.dbg	line,	"main.c", 12; #include "include/gfx_BG_LEVELS.c"
 2171                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 1; #include "huc.h"
 2172                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 2173                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 2174                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 2175                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 2176                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 2177                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 2178                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 2179                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 2180                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 2181                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 2182                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 2183                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2184                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2185                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2186                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 2187                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 2188                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 2189                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 2190                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 2191                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 2192                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 2193                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 2194                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 2195                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 2196                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 2197                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 2198                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 2199                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 2200                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 2201                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 2202                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 2203                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 2204                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 2205                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-string.h"
 2206                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-scroll.h"
 2207                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-spr.h"
 2208                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-map.h"
 2209                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 40; #include "hucc-old-line.h"
 2210                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #endif // _hucc_legacy_h
 2211                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 2; #include "hucc-scroll.h"
 2212                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
 2213                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
 2214                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
 2215                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
 2216                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
 2217                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
 2218                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
 2219                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
 2220                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
 2221                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
 2222                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
 2223                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2224                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2225                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2226                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
 2227                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
 2228                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
 2229                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
 2230                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
 2231                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
 2232                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
 2233                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
 2234                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
 2235                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
 2236                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
 2237                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
 2238                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
 2239                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
 2240                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
 2241                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
 2242                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
 2243                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
 2244                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
 2245                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
 2246                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
 2247                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
 2248                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
 2249                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
 2250                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
 2251                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
 2252                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
 2253                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
 2254                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
 2255                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
 2256                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
 2257                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
 2258                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
 2259                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
 2260                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
 2261                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
 2262                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
 2263                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
 2264                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
 2265                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 2266                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 2267                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
 2268                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
 2269                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
 2270                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
 2271                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
 2272                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
 2273                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
 2274                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
 2275                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
 2276                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
 2277                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
 2278                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
 2279                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
 2280                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
 2281                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
 2282                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
 2283                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
 2284                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
 2285                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
 2286                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
 2287                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
 2288                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
 2289                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 3; #include "hucc-chrmap.h"
 2290                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
 2291                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
 2292                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
 2293                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
 2294                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
 2295                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
 2296                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
 2297                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
 2298                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
 2299                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
 2300                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
 2301                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2302                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2303                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2304                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
 2305                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
 2306                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
 2307                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
 2308                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
 2309                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
 2310                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
 2311                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
 2312                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
 2313                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
 2314                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
 2315                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
 2316                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
 2317                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
 2318                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
 2319                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 2320                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 2321                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 2322                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 2323                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 2324                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 2325                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 2326                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 2327                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2328                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 2329                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 2330                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 2331                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 2332                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2333                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 2334                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 2335                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 2336                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 4; #include "hucc-blkmap.h"
 2337                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 2338                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 2339                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 2340                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 2341                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 2342                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 2343                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 2344                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 2345                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 2346                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 2347                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 2348                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2349                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2350                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2351                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 2352                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 2353                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 2354                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 2355                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 2356                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 2357                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 2358                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 2359                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 2360                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 2361                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 2362                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 2363                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 2364                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 2365                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 2366                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 2367                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 2368                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 2369                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 2370                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 2371                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 2372                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 2373                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 2374                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 2375                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 2376                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 2377                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 2378                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 2379                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 2380                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 2381                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 2382                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 2383                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 2384                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 2385                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 2386                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 2387                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 2388                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 2389                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 2390                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 2391                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 2392                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 2393                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 2394                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 2395                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 2396                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 2397                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 2398                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 2399                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 2400                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 2401                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2402                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 2403                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 2404                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 2405                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 2406                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 2407                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 2408                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 2409                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 2410                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 2411                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 2412                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 2413                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 2414                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 2415                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 2416                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 2417                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 2418                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 2419                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 2420                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 2421                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 2422                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 2423                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 2424                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 2425                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 2426                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 2427                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 2428                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 2429                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 2430                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 2431                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 2432                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 2433                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 2434                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 2435                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 2436                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 2437                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 2438                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 2439                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 2440                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 2441                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 2442                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 2443                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2444                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 2445                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 2446                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 2447                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 2448                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 2449                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 2450                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 2451                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 2452                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 2453                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 2454                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 2455                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 2456                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 2457                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 2458                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 13; #incchr(tileset_FONT,"res/maps/tiles_FONT.png");
 2459               7CE0     		.data
 2460    06:7CE0             	_tileset_FONT: 	.incchr		"res/maps/tiles_FONT.png"
 2461               E309     		.code
 2462                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 16; //**************************************************************************************//
 2463                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 17; //                                                                                      //
 2464                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 18; //                                       LEVEL 1                                        //
 2465                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 19; //                                                                                      //
 2466                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 20; //**************************************************************************************//
 2467                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 22; #incchr(tileset_LV1_WALL,"res/maps/tiles_LV1_WALL.png", 4 , 4);
 2468               68E0     		.data
 2469    07:68E0             	_tileset_LV1_WALL: 	.incchr		"res/maps/tiles_LV1_WALL.png", 4, 4
 2470               E309     		.code
 2471                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 23; #incchr(tileset_LV1_DOOR_OPEN,"res/maps/tiles_LV1_DOOR_OPEN.png", 4 , 6);
 2472               6AE0     		.data
 2473    07:6AE0             	_tileset_LV1_DOOR_OPEN: 	.incchr		"res/maps/tiles_LV1_DOOR_OPEN.png", 4, 6
 2474               E309     		.code
 2475                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 24; #incchr(tileset_LV1_DOOR_CLOSED,"res/maps/tiles_LV1_DOOR_CLOSED.png", 4 , 6);
 2476               6DE0     		.data
 2477    07:6DE0             	_tileset_LV1_DOOR_CLOSED: 	.incchr		"res/maps/tiles_LV1_DOOR_CLOSED.png", 4, 6
 2478               E309     		.code
 2479                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 26; #incchr(tileset_LIFE_RED,"res/maps/tileset_LIFE_RED.png", 2 , 1);
 2480               70E0     		.data
 2481    07:70E0             	_tileset_LIFE_RED: 	.incchr		"res/maps/tileset_LIFE_RED.png", 2, 1
 2482               E309     		.code
 2483                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 27; #incchr(tileset_LIFE_ORANGE,"res/maps/tileset_LIFE_ORANGE.png", 2 , 1);
 2484               7120     		.data
 2485    07:7120             	_tileset_LIFE_ORANGE: 	.incchr		"res/maps/tileset_LIFE_ORANGE.png", 2, 1
 2486               E309     		.code
 2487                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 28; #incchr(tileset_LIFE_YELLOW,"res/maps/tileset_LIFE_YELLOW.png", 2 , 1);
 2488               7160     		.data
 2489    07:7160             	_tileset_LIFE_YELLOW: 	.incchr		"res/maps/tileset_LIFE_YELLOW.png", 2, 1
 2490               E309     		.code
 2491                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 29; #incchr(tileset_LIFE_EMPTY,"res/maps/tileset_LIFE_EMPTY.png", 2 , 1);
 2492               71A0     		.data
 2493    07:71A0             	_tileset_LIFE_EMPTY: 	.incchr		"res/maps/tileset_LIFE_EMPTY.png", 2, 1
 2494               E309     		.code
 2495                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 31; #incchr(tileset_ARMOR_1,"res/maps/tileset_ARMOR_1.png", 2 , 2);
 2496               71E0     		.data
 2497    07:71E0             	_tileset_ARMOR_1: 	.incchr		"res/maps/tileset_ARMOR_1.png", 2, 2
 2498               E309     		.code
 2499                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 32; #incchr(tileset_ARMOR_2,"res/maps/tileset_ARMOR_2.png", 2 , 2);
 2500               7260     		.data
 2501    07:7260             	_tileset_ARMOR_2: 	.incchr		"res/maps/tileset_ARMOR_2.png", 2, 2
 2502               E309     		.code
 2503                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 33; #incchr(tileset_ARMOR_4,"res/maps/tileset_ARMOR_4.png", 2 , 2);
 2504               72E0     		.data
 2505    07:72E0             	_tileset_ARMOR_4: 	.incchr		"res/maps/tileset_ARMOR_4.png", 2, 2
 2506               E309     		.code
 2507                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 34; #incchr(tileset_ARMOR_8,"res/maps/tileset_ARMOR_8.png", 2 , 2);
 2508               7360     		.data
 2509    07:7360             	_tileset_ARMOR_8: 	.incchr		"res/maps/tileset_ARMOR_8.png", 2, 2
 2510               E309     		.code
 2511                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 36; #incchr(tileset_WEAPON_1,"res/maps/tileset_WEAPON_1.png", 2 , 2);
 2512               73E0     		.data
 2513    07:73E0             	_tileset_WEAPON_1: 	.incchr		"res/maps/tileset_WEAPON_1.png", 2, 2
 2514               E309     		.code
 2515                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 37; #incchr(tileset_WEAPON_2,"res/maps/tileset_WEAPON_2.png", 2 , 2);
 2516               7460     		.data
 2517    07:7460             	_tileset_WEAPON_2: 	.incchr		"res/maps/tileset_WEAPON_2.png", 2, 2
 2518               E309     		.code
 2519                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 38; #incchr(tileset_WEAPON_4,"res/maps/tileset_WEAPON_4.png", 2 , 2);
 2520               74E0     		.data
 2521    07:74E0             	_tileset_WEAPON_4: 	.incchr		"res/maps/tileset_WEAPON_4.png", 2, 2
 2522               E309     		.code
 2523                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 39; #incchr(tileset_WEAPON_5,"res/maps/tileset_WEAPON_5.png", 2 , 2);
 2524               7560     		.data
 2525    07:7560             	_tileset_WEAPON_5: 	.incchr		"res/maps/tileset_WEAPON_5.png", 2, 2
 2526               E309     		.code
 2527                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 40; #incchr(tileset_WEAPON_8,"res/maps/tileset_WEAPON_8.png", 2 , 2);
 2528               75E0     		.data
 2529    07:75E0             	_tileset_WEAPON_8: 	.incchr		"res/maps/tileset_WEAPON_8.png", 2, 2
 2530               E309     		.code
 2531                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 43; //--------------------------------------------------------------------------------------//
 2532                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 44; //                                        VDC 2                                         //
 2533                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 45; //--------------------------------------------------------------------------------------//
 2534                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 47; #asm
 2535                        		.dbg	clear
 2536               0001     	OPTIMIZE	=	1
 2537               7660     			.data
 2538                        	; EXTRACT TILESET
 2539                        	;----------------
 2540    07:7660             	_tileset_LV1_BG_B:  incchr	"res/maps/template_LV1_WALL.png"
 2541    07:7860             			incchr	"res/maps/template_LV1_DOOR.png"
 2542    07:7B60             			incchr	"res/maps/tilemap_LV1_BG_B.png", OPTIMIZE
 2543                        	; EXTRACT BLOCKS
 2544                        	;--------------
 2545    0B:7000             	blocks_LV1_BG_B1:	incblk	"res/maps/tilemap_LV1_BG_B.png" , 0x1000 ,    0 ,   0 ,  64 , 32 , _tileset_LV1_BG_B ; // 96x16 = 1536 | 32x16 =  512
 2546    0B:7800             	blocks_LV1_BG_B2:	incblk	"res/maps/tilemap_LV1_BG_B.png" , 0x1000 , 1024 ,   0 ,  96 , 32 , _tileset_LV1_BG_B ; // 64x16 = 1024 | 32x16 =  512
 2547    0C:6000             	blocks_LV1_BG_B3:	incblk	"res/maps/tilemap_LV1_BG_B.png" , 0x1000 ,    0 , 512 ,  64 , 32 , _tileset_LV1_BG_B ; // 96x16 = 1536 | 16x16 =  256
 2548    0C:6800             	blocks_LV1_BG_B4:	incblk	"res/maps/tilemap_LV1_BG_B.png" , 0x1000 , 1024 , 512 ,  96 , 32 , _tileset_LV1_BG_B ; // 64x16 = 1024 | 16x16 =  256
 2549                        	; EXTRACT MAPS
 2550                        	;------------
 2551               7000     			align	256
 2552    0C:7000             	MAP_LV1_BG_B1:		incmap	"res/maps/tilemap_LV1_BG_B.png",    0 ,   0 ,  64 , 32 , blocks_LV1_BG_B1 ; // 96x16 = 1536 | 32x16 =  512
 2553               7800     			align	256
 2554    0C:7800             	MAP_LV1_BG_B2:		incmap	"res/maps/tilemap_LV1_BG_B.png", 1024 ,   0 ,  96 , 32 , blocks_LV1_BG_B2 ; // 64x16 = 1024 | 32x16 =  512
 2555               6400     			align	256
 2556    0D:6400             	MAP_LV1_BG_B3:		incmap	"res/maps/tilemap_LV1_BG_B.png",    0 , 512 ,  64 , 32 , blocks_LV1_BG_B3 ; // 96x16 = 1536 | 16x16 =  256
 2557               6C00     			align	256
 2558    0D:6C00             	MAP_LV1_BG_B4:		incmap	"res/maps/tilemap_LV1_BG_B.png", 1024 , 512 ,  96 , 32 , blocks_LV1_BG_B4 ; // 64x16 = 1024 | 16x16 =  256
 2559                        	; MASK (EMPTY)
 2560                        	;----------------
 2561    0D:7800  00 00 00 00	dummy_tbl:	ds	256
         0D:7804  00 00 00 00 
         0D:7808  00 00 00 00 
         0D:780C  00 00 00 00 
         0D:7810  00 00 00 00 
         0D:7814  00 00 00 00 
         0D:7818  00 00 00 00 
         0D:781C  00 00 00 00 
         0D:7820  00 00 00 00 
         0D:7824  00 00 00 00 
         0D:7828  00 00 00 00 
         0D:782C  00 00 00 00 
         0D:7830  00 00 00 00 
         0D:7834  00 00 00 00 
         0D:7838  00 00 00 00 
         0D:783C  00 00 00 00 
         0D:7840  00 00 00 00 
         0D:7844  00 00 00 00 
         0D:7848  00 00 00 00 
         0D:784C  00 00 00 00 
         0D:7850  00 00 00 00 
         0D:7854  00 00 00 00 
         0D:7858  00 00 00 00 
         0D:785C  00 00 00 00 
         0D:7860  00 00 00 00 
         0D:7864  00 00 00 00 
         0D:7868  00 00 00 00 
         0D:786C  00 00 00 00 
         0D:7870  00 00 00 00 
         0D:7874  00 00 00 00 
         0D:7878  00 00 00 00 
         0D:787C  00 00 00 00 
         0D:7880  00 00 00 00 
         0D:7884  00 00 00 00 
         0D:7888  00 00 00 00 
         0D:788C  00 00 00 00 
         0D:7890  00 00 00 00 
         0D:7894  00 00 00 00 
         0D:7898  00 00 00 00 
         0D:789C  00 00 00 00 
         0D:78A0  00 00 00 00 
         0D:78A4  00 00 00 00 
         0D:78A8  00 00 00 00 
         0D:78AC  00 00 00 00 
         0D:78B0  00 00 00 00 
         0D:78B4  00 00 00 00 
         0D:78B8  00 00 00 00 
         0D:78BC  00 00 00 00 
         0D:78C0  00 00 00 00 
         0D:78C4  00 00 00 00 
         0D:78C8  00 00 00 00 
         0D:78CC  00 00 00 00 
         0D:78D0  00 00 00 00 
         0D:78D4  00 00 00 00 
         0D:78D8  00 00 00 00 
         0D:78DC  00 00 00 00 
         0D:78E0  00 00 00 00 
         0D:78E4  00 00 00 00 
         0D:78E8  00 00 00 00 
         0D:78EC  00 00 00 00 
         0D:78F0  00 00 00 00 
         0D:78F4  00 00 00 00 
         0D:78F8  00 00 00 00 
         0D:78FC  00 00 00 00 
 2562                        	; SWIZZLE MAPS
 2563                        	;-------------
 2564    0D:7900             	swizzle	MAP_LV1_BG_B1,  32, 16 ;
 2565    0D:7900             	swizzle	MAP_LV1_BG_B2,  32, 16 ;
 2566    0D:7900             	swizzle	MAP_LV1_BG_B3,  32, 16 ;
 2567    0D:7900             	swizzle	MAP_LV1_BG_B4,  32, 16 ;
 2568                        	; BUILD MULTIMAP
 2569                        	;---------------
 2570    0D:7900             	_multimap_LV1_BG_B:
 2571                        			; 1st line of 5 screens (512x256)
 2572                        			SCREEN MAP_LV1_BG_B1 + 0x0000, blocks_LV1_BG_B1, dummy_tbl, 0
         0D:7900  70 0C      			db	(((MAP_LV1_BG_B1 + 0x0000) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B1 + 0x0000)
         0D:7902  50 0B      			db	(((blocks_LV1_BG_B1) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B1)
         0D:7904  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7906  00 00      			dw	(0)
 2573                        			SCREEN MAP_LV1_BG_B1 + 0x0200, blocks_LV1_BG_B1, dummy_tbl, 0
         0D:7908  72 0C      			db	(((MAP_LV1_BG_B1 + 0x0200) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B1 + 0x0200)
         0D:790A  50 0B      			db	(((blocks_LV1_BG_B1) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B1)
         0D:790C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:790E  00 00      			dw	(0)
 2574                        			SCREEN MAP_LV1_BG_B2 + 0x0000, blocks_LV1_BG_B2, dummy_tbl, 0
         0D:7910  78 0C      			db	(((MAP_LV1_BG_B2 + 0x0000) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B2 + 0x0000)
         0D:7912  58 0B      			db	(((blocks_LV1_BG_B2) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B2)
         0D:7914  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7916  00 00      			dw	(0)
 2575                        			SCREEN MAP_LV1_BG_B2 + 0x0200, blocks_LV1_BG_B2, dummy_tbl, 0
         0D:7918  7A 0C      			db	(((MAP_LV1_BG_B2 + 0x0200) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B2 + 0x0200)
         0D:791A  58 0B      			db	(((blocks_LV1_BG_B2) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B2)
         0D:791C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:791E  00 00      			dw	(0)
 2576                        			SCREEN MAP_LV1_BG_B2 + 0x0400, blocks_LV1_BG_B2, dummy_tbl, 0
         0D:7920  7C 0C      			db	(((MAP_LV1_BG_B2 + 0x0400) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B2 + 0x0400)
         0D:7922  58 0B      			db	(((blocks_LV1_BG_B2) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B2)
         0D:7924  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7926  00 00      			dw	(0)
 2577                        			; 2nd line of 5 screens (512x256)
 2578                        			SCREEN MAP_LV1_BG_B1 + 0x0400, blocks_LV1_BG_B1, dummy_tbl, 0
         0D:7928  74 0C      			db	(((MAP_LV1_BG_B1 + 0x0400) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B1 + 0x0400)
         0D:792A  50 0B      			db	(((blocks_LV1_BG_B1) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B1)
         0D:792C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:792E  00 00      			dw	(0)
 2579                        			SCREEN MAP_LV1_BG_B1 + 0x0600, blocks_LV1_BG_B1, dummy_tbl, 0
         0D:7930  76 0C      			db	(((MAP_LV1_BG_B1 + 0x0600) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B1 + 0x0600)
         0D:7932  50 0B      			db	(((blocks_LV1_BG_B1) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B1)
         0D:7934  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7936  00 00      			dw	(0)
 2580                        			SCREEN MAP_LV1_BG_B2 + 0x0600, blocks_LV1_BG_B2, dummy_tbl, 0
         0D:7938  7E 0C      			db	(((MAP_LV1_BG_B2 + 0x0600) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B2 + 0x0600)
         0D:793A  58 0B      			db	(((blocks_LV1_BG_B2) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B2)
         0D:793C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:793E  00 00      			dw	(0)
 2581                        			SCREEN MAP_LV1_BG_B2 + 0x0800, blocks_LV1_BG_B2, dummy_tbl, 0
         0D:7940  60 0D      			db	(((MAP_LV1_BG_B2 + 0x0800) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B2 + 0x0800)
         0D:7942  58 0B      			db	(((blocks_LV1_BG_B2) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B2)
         0D:7944  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7946  00 00      			dw	(0)
 2582                        			SCREEN MAP_LV1_BG_B2 + 0x0A00, blocks_LV1_BG_B2, dummy_tbl, 0
         0D:7948  62 0D      			db	(((MAP_LV1_BG_B2 + 0x0A00) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B2 + 0x0A00)
         0D:794A  58 0B      			db	(((blocks_LV1_BG_B2) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B2)
         0D:794C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:794E  00 00      			dw	(0)
 2583                        			; 3rd line of 5 screens (512x256)
 2584                        			SCREEN MAP_LV1_BG_B3 + 0x0000, blocks_LV1_BG_B3, dummy_tbl, 0
         0D:7950  64 0D      			db	(((MAP_LV1_BG_B3 + 0x0000) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B3 + 0x0000)
         0D:7952  40 0C      			db	(((blocks_LV1_BG_B3) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B3)
         0D:7954  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7956  00 00      			dw	(0)
 2585                        			SCREEN MAP_LV1_BG_B3 + 0x0200, blocks_LV1_BG_B3, dummy_tbl, 0
         0D:7958  66 0D      			db	(((MAP_LV1_BG_B3 + 0x0200) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B3 + 0x0200)
         0D:795A  40 0C      			db	(((blocks_LV1_BG_B3) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B3)
         0D:795C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:795E  00 00      			dw	(0)
 2586                        			SCREEN MAP_LV1_BG_B4 + 0x0000, blocks_LV1_BG_B4, dummy_tbl, 0
         0D:7960  6C 0D      			db	(((MAP_LV1_BG_B4 + 0x0000) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B4 + 0x0000)
         0D:7962  48 0C      			db	(((blocks_LV1_BG_B4) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B4)
         0D:7964  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7966  00 00      			dw	(0)
 2587                        			SCREEN MAP_LV1_BG_B4 + 0x0200, blocks_LV1_BG_B4, dummy_tbl, 0
         0D:7968  6E 0D      			db	(((MAP_LV1_BG_B4 + 0x0200) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B4 + 0x0200)
         0D:796A  48 0C      			db	(((blocks_LV1_BG_B4) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B4)
         0D:796C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:796E  00 00      			dw	(0)
 2588                        			SCREEN MAP_LV1_BG_B4 + 0x0400, blocks_LV1_BG_B4, dummy_tbl, 0
         0D:7970  70 0D      			db	(((MAP_LV1_BG_B4 + 0x0400) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B4 + 0x0400)
         0D:7972  48 0C      			db	(((blocks_LV1_BG_B4) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B4)
         0D:7974  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7976  00 00      			dw	(0)
 2589                        			; 4th line of 5 screens (512x256)
 2590                        			SCREEN MAP_LV1_BG_B3 + 0x0400, blocks_LV1_BG_B3, dummy_tbl, 0
         0D:7978  68 0D      			db	(((MAP_LV1_BG_B3 + 0x0400) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B3 + 0x0400)
         0D:797A  40 0C      			db	(((blocks_LV1_BG_B3) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B3)
         0D:797C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:797E  00 00      			dw	(0)
 2591                        			SCREEN MAP_LV1_BG_B3 + 0x0600, blocks_LV1_BG_B3, dummy_tbl, 0
         0D:7980  6A 0D      			db	(((MAP_LV1_BG_B3 + 0x0600) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B3 + 0x0600)
         0D:7982  40 0C      			db	(((blocks_LV1_BG_B3) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B3)
         0D:7984  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7986  00 00      			dw	(0)
 2592                        			SCREEN MAP_LV1_BG_B4 + 0x0600, blocks_LV1_BG_B4, dummy_tbl, 0
         0D:7988  72 0D      			db	(((MAP_LV1_BG_B4 + 0x0600) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B4 + 0x0600)
         0D:798A  48 0C      			db	(((blocks_LV1_BG_B4) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B4)
         0D:798C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:798E  00 00      			dw	(0)
 2593                        			SCREEN MAP_LV1_BG_B4 + 0x0800, blocks_LV1_BG_B4, dummy_tbl, 0
         0D:7990  74 0D      			db	(((MAP_LV1_BG_B4 + 0x0800) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B4 + 0x0800)
         0D:7992  48 0C      			db	(((blocks_LV1_BG_B4) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B4)
         0D:7994  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7996  00 00      			dw	(0)
 2594                        			SCREEN MAP_LV1_BG_B4 + 0x0A00, blocks_LV1_BG_B4, dummy_tbl, 0
         0D:7998  76 0D      			db	(((MAP_LV1_BG_B4 + 0x0A00) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B4 + 0x0A00)
         0D:799A  48 0C      			db	(((blocks_LV1_BG_B4) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B4)
         0D:799C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:799E  00 00      			dw	(0)
 2595                        	;//--------------------------------------------------------------------------------------//
 2596                        	;//                                        VDC 1                                         //
 2597                        	;//--------------------------------------------------------------------------------------//
 2598                        	; EXTRACT TILESET
 2599                        	;----------------
 2600    0D:79A0             	_tileset_HUD:	incchr	"res/maps/template_LIFEBAR_1.png"
 2601    0D:79E0             			incchr	"res/maps/template_LIFEBAR_2.png"
 2602    0D:7A20             			incchr	"res/maps/template_LIFEBAR_3.png"
 2603    0D:7A60             			incchr	"res/maps/template_LIFEBAR_4.png"
 2604    0D:7AA0             			incchr	"res/maps/template_LIFEBAR_5.png"
 2605    0D:7AE0             			incchr	"res/maps/tileset_WEAPON_1.png"
 2606    0D:7B60             			incchr	"res/maps/tileset_ARMOR_2.png"
 2607    0D:7BE0             			incchr	"res/maps/tilemap_HUD.png", OPTIMIZE
 2608                        	; EXTRACT BLOCKS
 2609                        	;--------------
 2610    0E:6000             	blocks_HUD1:	incblk	"res/maps/tilemap_HUD.png" , 0x1000 ,    0 ,   0 , 128 , 64 , _tileset_HUD ; // 128x16 = 2048 | 64x16 = 1024
 2611    0E:6800             	blocks_HUD2:	incblk	"res/maps/tilemap_HUD.png" , 0x1000 , 2048 ,   0 ,  32 , 64 , _tileset_HUD ; //  32x16 =  512 | 64x16 = 1024
 2612                        	; EXTRACT MAPS
 2613                        	;------------
 2614               7000     			align	256
 2615    0E:7000             	MAP_HUD1:		incmap	"res/maps/tilemap_HUD.png",    0 ,   0 , 128 , 64 , blocks_HUD1 ; // 128x16 = 2048 | 64x16 = 1024
 2616    0F:7000             			flagmap "res/maps/collision_LV1.png",       0 ,   0 , 128 , 64 , MAP_HUD1
 2617               7000     			align	256
 2618    0F:7000             	MAP_HUD2:		incmap	"res/maps/tilemap_HUD.png", 2048 ,   0 ,  32 , 64 , blocks_HUD2 ; //  32x16 =  512 | 64x16 = 1024
 2619    0F:7800             			flagmap "res/maps/collision_LV1.png",    2048 ,   0 ,  32 , 64 , MAP_HUD2
 2620                        	; SWIZZLE MAPS
 2621                        	;-------------
 2622    0F:7800             	swizzle	MAP_HUD1,  32, 16 ;
 2623    0F:7800             	swizzle	MAP_HUD2,  32, 16 ;
 2624                        	; BUILD MULTIMAP
 2625                        	;---------------
 2626    0F:7800             	_multimap_LV1_BG_A:
 2627                        			; 1st line of 5 screens (512x256)
 2628                        			SCREEN MAP_HUD1 + 0x0000, blocks_HUD1, dummy_tbl, 0
         0F:7800  70 0E      			db	(((MAP_HUD1 + 0x0000) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0000)
         0F:7802  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:7804  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:7806  00 00      			dw	(0)
 2629                        			SCREEN MAP_HUD1 + 0x0200, blocks_HUD1, dummy_tbl, 0
         0F:7808  72 0E      			db	(((MAP_HUD1 + 0x0200) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0200)
         0F:780A  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:780C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:780E  00 00      			dw	(0)
 2630                        			SCREEN MAP_HUD1 + 0x0400, blocks_HUD1, dummy_tbl, 0
         0F:7810  74 0E      			db	(((MAP_HUD1 + 0x0400) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0400)
         0F:7812  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:7814  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:7816  00 00      			dw	(0)
 2631                        			SCREEN MAP_HUD1 + 0x0600, blocks_HUD1, dummy_tbl, 0
         0F:7818  76 0E      			db	(((MAP_HUD1 + 0x0600) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0600)
         0F:781A  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:781C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:781E  00 00      			dw	(0)
 2632                        			SCREEN MAP_HUD2 + 0x0000, blocks_HUD2, dummy_tbl, 0
         0F:7820  70 0F      			db	(((MAP_HUD2 + 0x0000) & $1FFF) | $6000) >> 8, bank(MAP_HUD2 + 0x0000)
         0F:7822  48 0E      			db	(((blocks_HUD2) & $1FFF) | $4000) >> 8, bank(blocks_HUD2)
         0F:7824  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:7826  00 00      			dw	(0)
 2633                        			; 2nd line of 5 screens (512x256)
 2634                        			SCREEN MAP_HUD1 + 0x0800, blocks_HUD1, dummy_tbl, 0
         0F:7828  78 0E      			db	(((MAP_HUD1 + 0x0800) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0800)
         0F:782A  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:782C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:782E  00 00      			dw	(0)
 2635                        			SCREEN MAP_HUD1 + 0x0A00, blocks_HUD1, dummy_tbl, 0
         0F:7830  7A 0E      			db	(((MAP_HUD1 + 0x0A00) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0A00)
         0F:7832  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:7834  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:7836  00 00      			dw	(0)
 2636                        			SCREEN MAP_HUD1 + 0x0C00, blocks_HUD1, dummy_tbl, 0
         0F:7838  7C 0E      			db	(((MAP_HUD1 + 0x0C00) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0C00)
         0F:783A  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:783C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:783E  00 00      			dw	(0)
 2637                        			SCREEN MAP_HUD1 + 0x0E00, blocks_HUD1, dummy_tbl, 0
         0F:7840  7E 0E      			db	(((MAP_HUD1 + 0x0E00) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0E00)
         0F:7842  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:7844  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:7846  00 00      			dw	(0)
 2638                        			SCREEN MAP_HUD2 + 0x0200, blocks_HUD2, dummy_tbl, 0
         0F:7848  72 0F      			db	(((MAP_HUD2 + 0x0200) & $1FFF) | $6000) >> 8, bank(MAP_HUD2 + 0x0200)
         0F:784A  48 0E      			db	(((blocks_HUD2) & $1FFF) | $4000) >> 8, bank(blocks_HUD2)
         0F:784C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:784E  00 00      			dw	(0)
 2639                        			; 3rd line of 5 screens (512x256)
 2640                        			SCREEN MAP_HUD1 + 0x1000, blocks_HUD1, dummy_tbl, 0
         0F:7850  60 0F      			db	(((MAP_HUD1 + 0x1000) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1000)
         0F:7852  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:7854  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:7856  00 00      			dw	(0)
 2641                        			SCREEN MAP_HUD1 + 0x1200, blocks_HUD1, dummy_tbl, 0
         0F:7858  62 0F      			db	(((MAP_HUD1 + 0x1200) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1200)
         0F:785A  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:785C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:785E  00 00      			dw	(0)
 2642                        			SCREEN MAP_HUD1 + 0x1400, blocks_HUD1, dummy_tbl, 0
         0F:7860  64 0F      			db	(((MAP_HUD1 + 0x1400) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1400)
         0F:7862  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:7864  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:7866  00 00      			dw	(0)
 2643                        			SCREEN MAP_HUD1 + 0x1600, blocks_HUD1, dummy_tbl, 0
         0F:7868  66 0F      			db	(((MAP_HUD1 + 0x1600) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1600)
         0F:786A  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:786C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:786E  00 00      			dw	(0)
 2644                        			SCREEN MAP_HUD2 + 0x0400, blocks_HUD2, dummy_tbl, 0
         0F:7870  74 0F      			db	(((MAP_HUD2 + 0x0400) & $1FFF) | $6000) >> 8, bank(MAP_HUD2 + 0x0400)
         0F:7872  48 0E      			db	(((blocks_HUD2) & $1FFF) | $4000) >> 8, bank(blocks_HUD2)
         0F:7874  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:7876  00 00      			dw	(0)
 2645                        			; 4th line of 5 screens (512x256)
 2646                        			SCREEN MAP_HUD1 + 0x1800, blocks_HUD1, dummy_tbl, 0
         0F:7878  68 0F      			db	(((MAP_HUD1 + 0x1800) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1800)
         0F:787A  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:787C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:787E  00 00      			dw	(0)
 2647                        			SCREEN MAP_HUD1 + 0x1A00, blocks_HUD1, dummy_tbl, 0
         0F:7880  6A 0F      			db	(((MAP_HUD1 + 0x1A00) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1A00)
         0F:7882  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:7884  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:7886  00 00      			dw	(0)
 2648                        			SCREEN MAP_HUD1 + 0x1C00, blocks_HUD1, dummy_tbl, 0
         0F:7888  6C 0F      			db	(((MAP_HUD1 + 0x1C00) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1C00)
         0F:788A  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:788C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:788E  00 00      			dw	(0)
 2649                        			SCREEN MAP_HUD1 + 0x1E00, blocks_HUD1, dummy_tbl, 0
         0F:7890  6E 0F      			db	(((MAP_HUD1 + 0x1E00) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1E00)
         0F:7892  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:7894  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:7896  00 00      			dw	(0)
 2650                        			SCREEN MAP_HUD2 + 0x0600, blocks_HUD2, dummy_tbl, 0
         0F:7898  76 0F      			db	(((MAP_HUD2 + 0x0600) & $1FFF) | $6000) >> 8, bank(MAP_HUD2 + 0x0600)
         0F:789A  48 0E      			db	(((blocks_HUD2) & $1FFF) | $4000) >> 8, bank(blocks_HUD2)
         0F:789C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:789E  00 00      			dw	(0)
 2651               E309     			.code
 2652                        	
 2653                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 207; #endasm
 2654                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 211; //--------------------------------------------------------------------------------------//
 2655                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 212; //                                   EXTRACT PALETTES                                   //
 2656                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 213; //--------------------------------------------------------------------------------------//
 2657                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 215; #incpal(palette_LV1,"res/maps/tilemap_LV1_BG_B.png");
 2658               78A0     		.data
 2659    0F:78A0             	_palette_LV1:	.incpal		"res/maps/tilemap_LV1_BG_B.png"
 2660               E309     		.code
 2661                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 224; //**************************************************************************************//
 2662                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 225; //                                                                                      //
 2663                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 226; //                                         SHOP                                         //
 2664                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 227; //                                                                                      //
 2665                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 228; //**************************************************************************************//
 2666                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 230; #asm
 2667                        		.dbg	clear
 2668               0001     	OPTIMIZE	=	1
 2669               7AA0     			.data
 2670                        	;//--------------------------------------------------------------------------------------//
 2671                        	;//                                        VDC 1                                         //
 2672                        	;//--------------------------------------------------------------------------------------//
 2673                        	; EXTRACT TILESET
 2674                        	;----------------
 2675    0F:7AA0             	_tileset_SHOP_BG_B:		incchr	"res/maps/template_ITEM_1.png"
 2676    0F:7B20             			incchr	"res/maps/template_ITEM_2.png"
 2677    0F:7BA0             			incchr	"res/maps/template_ITEM_3.png"
 2678    0F:7C20             			incchr	"res/maps/template_ITEM_4.png"
 2679    0F:7CA0             			incchr	"res/maps/template_ITEM_5.png"
 2680    0F:7D20             			incchr	"res/maps/template_ITEM_6.png"
 2681    0F:7DA0             			incchr	"res/maps/template_ITEM_7.png"
 2682    0F:7E20             			incchr	"res/maps/template_ITEM_8.png"
 2683    0F:7EA0             			incchr	"res/maps/template_ITEM_9.png"
 2684    0F:7F20             			incchr	"res/maps/template_ITEM_10.png"
 2685    0F:7FA0             			incchr	"res/maps/tilemap_SHOP_BG_B.png", OPTIMIZE
 2686               E309     			.code
 2687                        	
 2688                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 254; #endasm
 2689                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 257; // EXTRACT BLOCKS //
 2690                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 258; #incblk(blocks_SHOP_BG_B, "res/maps/tilemap_SHOP_BG_B.png", 0x1000, tileset_SHOP_BG_B);
 2691               7400     		.data
 2692    11:7800             	_blocks_SHOP_BG_B:	.incblk		"res/maps/tilemap_SHOP_BG_B.png", 4096, _tileset_SHOP_BG_B
 2693               E309     		.code
 2694                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 260; // EXTRACT MAP //
 2695                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 261; #incmap(map_SHOP_BG_B, "res/maps/tilemap_SHOP_BG_B.png", blocks_SHOP_BG_B);
 2696               8000     		.data
 2697    12:6000             	_map_SHOP_BG_B:	.incmap		"res/maps/tilemap_SHOP_BG_B.png", _blocks_SHOP_BG_B
 2698               E309     		.code
 2699                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 264; //--------------------------------------------------------------------------------------//
 2700                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 265; //                                        ITEMS                                         //
 2701                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 266; //--------------------------------------------------------------------------------------//
 2702                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 268; #incchr(tiles_ITEM_WEAPON_2,"res/maps/tiles_ITEM_WEAPON_2.png", 2 , 2);
 2703               60E0     		.data
 2704    12:60E0             	_tiles_ITEM_WEAPON_2: 	.incchr		"res/maps/tiles_ITEM_WEAPON_2.png", 2, 2
 2705               E309     		.code
 2706                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 269; #incchr(tiles_ITEM_WEAPON_3,"res/maps/tiles_ITEM_WEAPON_3.png", 2 , 2);
 2707               6160     		.data
 2708    12:6160             	_tiles_ITEM_WEAPON_3: 	.incchr		"res/maps/tiles_ITEM_WEAPON_3.png", 2, 2
 2709               E309     		.code
 2710                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 270; #incchr(tiles_ITEM_WEAPON_4,"res/maps/tiles_ITEM_WEAPON_4.png", 2 , 2);
 2711               61E0     		.data
 2712    12:61E0             	_tiles_ITEM_WEAPON_4: 	.incchr		"res/maps/tiles_ITEM_WEAPON_4.png", 2, 2
 2713               E309     		.code
 2714                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 271; #incchr(tiles_ITEM_WEAPON_5,"res/maps/tiles_ITEM_WEAPON_5.png", 2 , 2);
 2715               6260     		.data
 2716    12:6260             	_tiles_ITEM_WEAPON_5: 	.incchr		"res/maps/tiles_ITEM_WEAPON_5.png", 2, 2
 2717               E309     		.code
 2718                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 272; #incchr(tiles_ITEM_KEY,"res/maps/tiles_ITEM_KEY.png", 2 , 2);
 2719               62E0     		.data
 2720    12:62E0             	_tiles_ITEM_KEY: 	.incchr		"res/maps/tiles_ITEM_KEY.png", 2, 2
 2721               E309     		.code
 2722                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 273; #incchr(tiles_ITEM_ARMOR_2,"res/maps/tiles_ITEM_ARMOR_2.png", 2 , 2);
 2723               6360     		.data
 2724    12:6360             	_tiles_ITEM_ARMOR_2: 	.incchr		"res/maps/tiles_ITEM_ARMOR_2.png", 2, 2
 2725               E309     		.code
 2726                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 274; #incchr(tiles_ITEM_ARMOR_3,"res/maps/tiles_ITEM_ARMOR_3.png", 2 , 2);
 2727               63E0     		.data
 2728    12:63E0             	_tiles_ITEM_ARMOR_3: 	.incchr		"res/maps/tiles_ITEM_ARMOR_3.png", 2, 2
 2729               E309     		.code
 2730                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 275; #incchr(tiles_ITEM_ARMOR_4,"res/maps/tiles_ITEM_ARMOR_4.png", 2 , 2);
 2731               6460     		.data
 2732    12:6460             	_tiles_ITEM_ARMOR_4: 	.incchr		"res/maps/tiles_ITEM_ARMOR_4.png", 2, 2
 2733               E309     		.code
 2734                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 276; #incchr(tiles_ITEM_ARMOR_5,"res/maps/tiles_ITEM_ARMOR_5.png", 2 , 2);
 2735               64E0     		.data
 2736    12:64E0             	_tiles_ITEM_ARMOR_5: 	.incchr		"res/maps/tiles_ITEM_ARMOR_5.png", 2, 2
 2737               E309     		.code
 2738                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 277; #incchr(tiles_ITEM_POTION,"res/maps/tiles_ITEM_POTION.png", 2 , 2);
 2739               6560     		.data
 2740    12:6560             	_tiles_ITEM_POTION: 	.incchr		"res/maps/tiles_ITEM_POTION.png", 2, 2
 2741               E309     		.code
 2742                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 279; //#incchr(tileset_NUMBERS_SHOP_FONT,"res/maps/tiles_NUMBERS_SHOP_FONT.png");
 2743                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 282; //--------------------------------------------------------------------------------------//
 2744                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 283; //                                   EXTRACT PALETTES                                   //
 2745                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 284; //--------------------------------------------------------------------------------------//
 2746                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 286; #incpal(palette_SHOP,"res/maps/tilemap_SHOP_BG_B.png");
 2747               65E0     		.data
 2748    12:65E0             	_palette_SHOP:	.incpal		"res/maps/tilemap_SHOP_BG_B.png"
 2749               E309     		.code
 2750                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 287; #incpal(palette_SHOP_ITEMS,"res/palettes/palette_SHOP_ITEMS.png");
 2751               67E0     		.data
 2752    12:67E0             	_palette_SHOP_ITEMS:	.incpal		"res/palettes/palette_SHOP_ITEMS.png"
 2753               E309     		.code
 2754                        		.dbg	line,	"main.c", 13; #include "include/gfx_BG_TITLE.c"
 2755                        		.dbg	line,	"include\gfx_BG_TITLE.c", 1; #include "huc.h"
 2756                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 2757                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 2758                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 2759                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 2760                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 2761                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 2762                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 2763                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 2764                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 2765                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 2766                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 2767                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2768                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2769                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2770                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 2771                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 2772                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 2773                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 2774                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 2775                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 2776                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 2777                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 2778                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 2779                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 2780                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 2781                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 2782                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 2783                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 2784                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 2785                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 2786                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 2787                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 2788                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 2789                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-string.h"
 2790                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-scroll.h"
 2791                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-spr.h"
 2792                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-map.h"
 2793                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 40; #include "hucc-old-line.h"
 2794                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #endif // _hucc_legacy_h
 2795                        		.dbg	line,	"include\gfx_BG_TITLE.c", 2; #include "hucc-scroll.h"
 2796                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
 2797                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
 2798                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
 2799                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
 2800                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
 2801                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
 2802                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
 2803                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
 2804                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
 2805                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
 2806                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
 2807                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2808                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2809                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2810                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
 2811                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
 2812                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
 2813                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
 2814                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
 2815                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
 2816                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
 2817                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
 2818                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
 2819                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
 2820                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
 2821                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
 2822                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
 2823                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
 2824                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
 2825                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
 2826                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
 2827                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
 2828                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
 2829                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
 2830                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
 2831                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
 2832                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
 2833                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
 2834                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
 2835                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
 2836                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
 2837                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
 2838                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
 2839                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
 2840                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
 2841                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
 2842                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
 2843                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
 2844                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
 2845                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
 2846                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
 2847                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
 2848                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
 2849                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 2850                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 2851                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
 2852                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
 2853                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
 2854                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
 2855                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
 2856                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
 2857                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
 2858                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
 2859                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
 2860                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
 2861                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
 2862                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
 2863                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
 2864                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
 2865                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
 2866                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
 2867                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
 2868                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
 2869                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
 2870                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
 2871                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
 2872                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
 2873                        		.dbg	line,	"include\gfx_BG_TITLE.c", 3; #include "hucc-chrmap.h"
 2874                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
 2875                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
 2876                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
 2877                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
 2878                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
 2879                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
 2880                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
 2881                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
 2882                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
 2883                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
 2884                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
 2885                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2886                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2887                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2888                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
 2889                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
 2890                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
 2891                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
 2892                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
 2893                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
 2894                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
 2895                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
 2896                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
 2897                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
 2898                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
 2899                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
 2900                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
 2901                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
 2902                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
 2903                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 2904                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 2905                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 2906                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 2907                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 2908                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 2909                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 2910                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 2911                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2912                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 2913                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 2914                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 2915                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 2916                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2917                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 2918                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 2919                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 2920                        		.dbg	line,	"include\gfx_BG_TITLE.c", 4; #include "hucc-blkmap.h"
 2921                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 2922                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 2923                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 2924                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 2925                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 2926                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 2927                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 2928                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 2929                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 2930                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 2931                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 2932                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2933                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2934                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2935                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 2936                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 2937                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 2938                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 2939                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 2940                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 2941                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 2942                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 2943                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 2944                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 2945                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 2946                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 2947                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 2948                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 2949                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 2950                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 2951                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 2952                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 2953                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 2954                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 2955                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 2956                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 2957                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 2958                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 2959                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 2960                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 2961                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 2962                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 2963                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 2964                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 2965                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 2966                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 2967                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 2968                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 2969                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 2970                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 2971                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 2972                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 2973                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 2974                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 2975                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 2976                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 2977                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 2978                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 2979                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 2980                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 2981                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 2982                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 2983                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 2984                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 2985                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2986                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 2987                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 2988                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 2989                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 2990                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 2991                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 2992                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 2993                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 2994                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 2995                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 2996                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 2997                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 2998                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 2999                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 3000                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 3001                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 3002                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 3003                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 3004                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 3005                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 3006                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 3007                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 3008                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 3009                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 3010                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 3011                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 3012                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 3013                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 3014                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 3015                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 3016                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 3017                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 3018                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 3019                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 3020                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 3021                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 3022                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 3023                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 3024                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 3025                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 3026                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 3027                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 3028                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 3029                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 3030                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 3031                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 3032                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 3033                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 3034                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 3035                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 3036                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 3037                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 3038                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 3039                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 3040                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 3041                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 3042                        		.dbg	line,	"include\gfx_BG_TITLE.c", 13; #incchr(tileset_FONT_TITLE,"res/maps/tiles_FONT_TITLE.png");
 3043               69E0     		.data
 3044    12:69E0             	_tileset_FONT_TITLE: 	.incchr		"res/maps/tiles_FONT_TITLE.png"
 3045               E309     		.code
 3046                        		.dbg	line,	"include\gfx_BG_TITLE.c", 16; //**************************************************************************************//
 3047                        		.dbg	line,	"include\gfx_BG_TITLE.c", 17; //                                                                                      //
 3048                        		.dbg	line,	"include\gfx_BG_TITLE.c", 18; //                                        TITLE                                         //
 3049                        		.dbg	line,	"include\gfx_BG_TITLE.c", 19; //                                                                                      //
 3050                        		.dbg	line,	"include\gfx_BG_TITLE.c", 20; //**************************************************************************************//
 3051                        		.dbg	line,	"include\gfx_BG_TITLE.c", 22; #incchr(tileset_TITLE_BG_B, "res/maps/tilemap_TITLE_BG_B.png", _OPTIMIZE)
 3052               75E0     		.data
 3053    12:75E0             	_tileset_TITLE_BG_B: 	.incchr		"res/maps/tilemap_TITLE_BG_B.png", 1
 3054               E309     		.code
 3055                        		.dbg	line,	"include\gfx_BG_TITLE.c", 24; #incbat(tilemap_TITLE_BG_B,"res/maps/tilemap_TITLE_BG_B.png", 0x1000 , 32 , 28 , tileset_TITLE_BG_B);
 3056               7240     		.data
 3057    13:7240             	_tilemap_TITLE_BG_B:	.incbat		"res/maps/tilemap_TITLE_BG_B.png", 4096, 32, 28, _tileset_TITLE_BG_B
 3058               E309     		.code
 3059                        		.dbg	line,	"main.c", 13; #incpal(palette_TITLE, "res/maps/tilemap_TITLE_BG_B.png")
 3060               7940     		.data
 3061    13:7940             	_palette_TITLE:	.incpal		"res/maps/tilemap_TITLE_BG_B.png"
 3062               E309     		.code
 3063                        		.dbg	line,	"main.c", 14; #include "include/gfx_SPRITES.c"
 3064                        		.dbg	line,	"include\gfx_SPRITES.c", 1; #include "huc.h"
 3065                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 3066                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 3067                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 3068                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 3069                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 3070                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 3071                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 3072                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 3073                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 3074                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 3075                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 3076                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 3077                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 3078                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 3079                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 3080                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 3081                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 3082                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 3083                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 3084                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 3085                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 3086                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 3087                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 3088                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 3089                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 3090                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 3091                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 3092                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 3093                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 3094                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 3095                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 3096                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 3097                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 3098                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-string.h"
 3099                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-scroll.h"
 3100                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-spr.h"
 3101                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-map.h"
 3102                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 40; #include "hucc-old-line.h"
 3103                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #endif // _hucc_legacy_h
 3104                        		.dbg	line,	"include\gfx_SPRITES.c", 10; #incspr(tiles_SPR_DRAGON_INTRO,"res/sprites/tiles_SPR_DRAGON_INTRO.png")
 3105               7B40     		.data
 3106    13:7B40             	_tiles_SPR_DRAGON_INTRO:	.incspr		"res/sprites/tiles_SPR_DRAGON_INTRO.png"
 3107               E309     		.code
 3108                        		.dbg	line,	"include\gfx_SPRITES.c", 11; #incpal(palette_SPR_DRAGON_INTRO,"res/sprites/tiles_SPR_DRAGON_INTRO.png");
 3109               7B40     		.data
 3110    15:7B40             	_palette_SPR_DRAGON_INTRO:	.incpal		"res/sprites/tiles_SPR_DRAGON_INTRO.png"
 3111               E309     		.code
 3112                        		.dbg	line,	"include\gfx_SPRITES.c", 13; #incspr(tiles_SPR_SELECTOR,"res/sprites/tiles_SPR_SELECTOR.png")
 3113               7D40     		.data
 3114    15:7D40             	_tiles_SPR_SELECTOR:	.incspr		"res/sprites/tiles_SPR_SELECTOR.png"
 3115               E309     		.code
 3116                        		.dbg	line,	"include\gfx_SPRITES.c", 16; // EXTRACT PLAYER TILES //
 3117                        		.dbg	line,	"include\gfx_SPRITES.c", 17; #incspr(tiles_SPR_PLAYER_ARMOR,"res/sprites/tiles_SPR_PLAYER_ARMOR.png")
 3118               7DC0     		.data
 3119    15:7DC0             	_tiles_SPR_PLAYER_ARMOR:	.incspr		"res/sprites/tiles_SPR_PLAYER_ARMOR.png"
 3120               E309     		.code
 3121                        		.dbg	line,	"include\gfx_SPRITES.c", 18; #incspr(tiles_SPR_PLAYER_NAKED,"res/sprites/tiles_SPR_PLAYER_NAKED.png")
 3122               6FC0     		.data
 3123    17:6FC0             	_tiles_SPR_PLAYER_NAKED:	.incspr		"res/sprites/tiles_SPR_PLAYER_NAKED.png"
 3124               E309     		.code
 3125                        		.dbg	line,	"include\gfx_SPRITES.c", 20; // EXTRACT PLAYER PALETTE //
 3126                        		.dbg	line,	"include\gfx_SPRITES.c", 21; #incpal(palette_PLAYER_1,"res/palettes/palette_PLAYER_1.png");
 3127               61C0     		.data
 3128    19:61C0             	_palette_PLAYER_1:	.incpal		"res/palettes/palette_PLAYER_1.png"
 3129               E309     		.code
 3130                        		.dbg	line,	"include\gfx_SPRITES.c", 22; #incpal(palette_PLAYER_4,"res/palettes/palette_PLAYER_4.png");
 3131               63C0     		.data
 3132    19:63C0             	_palette_PLAYER_4:	.incpal		"res/palettes/palette_PLAYER_4.png"
 3133               E309     		.code
 3134                        		.dbg	line,	"include\gfx_SPRITES.c", 23; #incpal(palette_PLAYER_5,"res/palettes/palette_PLAYER_5.png");
 3135               65C0     		.data
 3136    19:65C0             	_palette_PLAYER_5:	.incpal		"res/palettes/palette_PLAYER_5.png"
 3137               E309     		.code
 3138                        		.dbg	line,	"include\gfx_SPRITES.c", 24; #incpal(palette_PLAYER_8,"res/palettes/palette_PLAYER_8.png");
 3139               67C0     		.data
 3140    19:67C0             	_palette_PLAYER_8:	.incpal		"res/palettes/palette_PLAYER_8.png"
 3141               E309     		.code
 3142                        		.dbg	line,	"include\gfx_SPRITES.c", 27; // EXTRACT WEAPONS TILES //
 3143                        		.dbg	line,	"include\gfx_SPRITES.c", 28; #incspr(tiles_SPR_CHAIN,"res/sprites/tiles_SPR_CHAIN.png")
 3144               69C0     		.data
 3145    19:69C0             	_tiles_SPR_CHAIN:	.incspr		"res/sprites/tiles_SPR_CHAIN.png"
 3146               E309     		.code
 3147                        		.dbg	line,	"include\gfx_SPRITES.c", 29; #incspr(tiles_SPR_WEAPON_0,"res/sprites/tiles_SPR_WEAPON_0.png")
 3148               6A40     		.data
 3149    19:6A40             	_tiles_SPR_WEAPON_0:	.incspr		"res/sprites/tiles_SPR_WEAPON_0.png"
 3150               E309     		.code
 3151                        		.dbg	line,	"include\gfx_SPRITES.c", 30; #incspr(tiles_SPR_WEAPON_1,"res/sprites/tiles_SPR_WEAPON_1.png")
 3152               6CC0     		.data
 3153    19:6CC0             	_tiles_SPR_WEAPON_1:	.incspr		"res/sprites/tiles_SPR_WEAPON_1.png"
 3154               E309     		.code
 3155                        		.dbg	line,	"include\gfx_SPRITES.c", 31; #incspr(tiles_SPR_WEAPON_2,"res/sprites/tiles_SPR_WEAPON_2.png")
 3156               6F40     		.data
 3157    19:6F40             	_tiles_SPR_WEAPON_2:	.incspr		"res/sprites/tiles_SPR_WEAPON_2.png"
 3158               E309     		.code
 3159                        		.dbg	line,	"include\gfx_SPRITES.c", 32; #incspr(tiles_SPR_WEAPON_3,"res/sprites/tiles_SPR_WEAPON_3.png")
 3160               71C0     		.data
 3161    19:71C0             	_tiles_SPR_WEAPON_3:	.incspr		"res/sprites/tiles_SPR_WEAPON_3.png"
 3162               E309     		.code
 3163                        		.dbg	line,	"include\gfx_SPRITES.c", 33; #incspr(tiles_SPR_WEAPON_4,"res/sprites/tiles_SPR_WEAPON_4.png")
 3164               7440     		.data
 3165    19:7440             	_tiles_SPR_WEAPON_4:	.incspr		"res/sprites/tiles_SPR_WEAPON_4.png"
 3166               E309     		.code
 3167                        		.dbg	line,	"include\gfx_SPRITES.c", 36; #incspr(tiles_SPR_HIT,"res/sprites/tiles_SPR_HIT.png")
 3168               76C0     		.data
 3169    19:76C0             	_tiles_SPR_HIT:	.incspr		"res/sprites/tiles_SPR_HIT.png"
 3170               E309     		.code
 3171                        		.dbg	line,	"include\gfx_SPRITES.c", 39; // EXTRACT OBJECTS TILES //
 3172                        		.dbg	line,	"include\gfx_SPRITES.c", 40; #incspr(tiles_SPR_BARREL,"res/sprites/tiles_SPR_BARREL.png")
 3173               7740     		.data
 3174    19:7740             	_tiles_SPR_BARREL:	.incspr		"res/sprites/tiles_SPR_BARREL.png"
 3175               E309     		.code
 3176                        		.dbg	line,	"include\gfx_SPRITES.c", 41; #incspr(tiles_SPR_CHEST,"res/sprites/tiles_SPR_CHEST.png")
 3177               77C0     		.data
 3178    19:77C0             	_tiles_SPR_CHEST:	.incspr		"res/sprites/tiles_SPR_CHEST.png"
 3179               E309     		.code
 3180                        		.dbg	line,	"include\gfx_SPRITES.c", 42; #incspr(tiles_SPR_COIN_1,"res/sprites/tiles_SPR_COIN_1.png")
 3181               63C0     		.data
 3182    1A:63C0             	_tiles_SPR_COIN_1:	.incspr		"res/sprites/tiles_SPR_COIN_1.png"
 3183               E309     		.code
 3184                        		.dbg	line,	"include\gfx_SPRITES.c", 43; #incspr(tiles_SPR_COIN_5,"res/sprites/tiles_SPR_COIN_5.png")
 3185               6440     		.data
 3186    1A:6440             	_tiles_SPR_COIN_5:	.incspr		"res/sprites/tiles_SPR_COIN_5.png"
 3187               E309     		.code
 3188                        		.dbg	line,	"include\gfx_SPRITES.c", 44; #incspr(tiles_SPR_COIN_10,"res/sprites/tiles_SPR_COIN_10.png")
 3189               64C0     		.data
 3190    1A:64C0             	_tiles_SPR_COIN_10:	.incspr		"res/sprites/tiles_SPR_COIN_10.png"
 3191               E309     		.code
 3192                        		.dbg	line,	"include\gfx_SPRITES.c", 45; #incspr(tiles_SPR_COIN_50,"res/sprites/tiles_SPR_COIN_50.png")
 3193               6540     		.data
 3194    1A:6540             	_tiles_SPR_COIN_50:	.incspr		"res/sprites/tiles_SPR_COIN_50.png"
 3195               E309     		.code
 3196                        		.dbg	line,	"include\gfx_SPRITES.c", 46; #incspr(tiles_SPR_COIN_100,"res/sprites/tiles_SPR_COIN_100.png")
 3197               65C0     		.data
 3198    1A:65C0             	_tiles_SPR_COIN_100:	.incspr		"res/sprites/tiles_SPR_COIN_100.png"
 3199               E309     		.code
 3200                        		.dbg	line,	"include\gfx_SPRITES.c", 47; #incspr(tiles_SPR_COIN_500,"res/sprites/tiles_SPR_COIN_500.png")
 3201               6640     		.data
 3202    1A:6640             	_tiles_SPR_COIN_500:	.incspr		"res/sprites/tiles_SPR_COIN_500.png"
 3203               E309     		.code
 3204                        		.dbg	line,	"include\gfx_SPRITES.c", 48; #incspr(tiles_SPR_COIN_1000,"res/sprites/tiles_SPR_COIN_1000.png")
 3205               66C0     		.data
 3206    1A:66C0             	_tiles_SPR_COIN_1000:	.incspr		"res/sprites/tiles_SPR_COIN_1000.png"
 3207               E309     		.code
 3208                        		.dbg	line,	"include\gfx_SPRITES.c", 49; #incspr(tiles_SPR_FRUIT,"res/sprites/tiles_SPR_FRUIT.png")
 3209               6740     		.data
 3210    1A:6740             	_tiles_SPR_FRUIT:	.incspr		"res/sprites/tiles_SPR_FRUIT.png"
 3211               E309     		.code
 3212                        		.dbg	line,	"include\gfx_SPRITES.c", 50; #incspr(tiles_SPR_GRAY_KEY,"res/sprites/tiles_SPR_GRAY_KEY.png")
 3213               67C0     		.data
 3214    1A:67C0             	_tiles_SPR_GRAY_KEY:	.incspr		"res/sprites/tiles_SPR_GRAY_KEY.png"
 3215               E309     		.code
 3216                        		.dbg	line,	"include\gfx_SPRITES.c", 51; #incspr(tiles_SPR_GOLD_KEY,"res/sprites/tiles_SPR_GOLD_KEY.png")
 3217               6840     		.data
 3218    1A:6840             	_tiles_SPR_GOLD_KEY:	.incspr		"res/sprites/tiles_SPR_GOLD_KEY.png"
 3219               E309     		.code
 3220                        		.dbg	line,	"include\gfx_SPRITES.c", 52; #incspr(tiles_SPR_HOURGLASS,"res/sprites/tiles_SPR_HOURGLASS.png")
 3221               68C0     		.data
 3222    1A:68C0             	_tiles_SPR_HOURGLASS:	.incspr		"res/sprites/tiles_SPR_HOURGLASS.png"
 3223               E309     		.code
 3224                        		.dbg	line,	"include\gfx_SPRITES.c", 53; #incspr(tiles_SPR_LIFE,"res/sprites/tiles_SPR_LIFE.png")
 3225               6940     		.data
 3226    1A:6940             	_tiles_SPR_LIFE:	.incspr		"res/sprites/tiles_SPR_LIFE.png"
 3227               E309     		.code
 3228                        		.dbg	line,	"include\gfx_SPRITES.c", 54; #incspr(tiles_SPR_OCTOPUS,"res/sprites/tiles_SPR_OCTOPUS.png")
 3229               69C0     		.data
 3230    1A:69C0             	_tiles_SPR_OCTOPUS:	.incspr		"res/sprites/tiles_SPR_OCTOPUS.png"
 3231               E309     		.code
 3232                        		.dbg	line,	"include\gfx_SPRITES.c", 55; #incspr(tiles_SPR_POT,"res/sprites/tiles_SPR_POT.png")
 3233               6A40     		.data
 3234    1A:6A40             	_tiles_SPR_POT:	.incspr		"res/sprites/tiles_SPR_POT.png"
 3235               E309     		.code
 3236                        		.dbg	line,	"include\gfx_SPRITES.c", 56; #incspr(tiles_SPR_POW,"res/sprites/tiles_SPR_POW.png")
 3237               6E40     		.data
 3238    1A:6E40             	_tiles_SPR_POW:	.incspr		"res/sprites/tiles_SPR_POW.png"
 3239               E309     		.code
 3240                        		.dbg	line,	"include\gfx_SPRITES.c", 57; #incspr(tiles_SPR_STAR,"res/sprites/tiles_SPR_STAR.png")
 3241               6EC0     		.data
 3242    1A:6EC0             	_tiles_SPR_STAR:	.incspr		"res/sprites/tiles_SPR_STAR.png"
 3243               E309     		.code
 3244                        		.dbg	line,	"include\gfx_SPRITES.c", 58; #incspr(tiles_SPR_BAMBOO,"res/sprites/tiles_SPR_BAMBOO.png")
 3245               6F40     		.data
 3246    1A:6F40             	_tiles_SPR_BAMBOO:	.incspr		"res/sprites/tiles_SPR_BAMBOO.png"
 3247               E309     		.code
 3248                        		.dbg	line,	"include\gfx_SPRITES.c", 59; #incspr(tiles_SPR_YASHICHI,"res/sprites/tiles_SPR_YASHICHI.png")
 3249               6FC0     		.data
 3250    1A:6FC0             	_tiles_SPR_YASHICHI:	.incspr		"res/sprites/tiles_SPR_YASHICHI.png"
 3251               E309     		.code
 3252                        		.dbg	line,	"include\gfx_SPRITES.c", 60; #incspr(tiles_SPR_ELEPHANT,"res/sprites/tiles_SPR_ELEPHANT.png")
 3253               7040     		.data
 3254    1A:7040             	_tiles_SPR_ELEPHANT:	.incspr		"res/sprites/tiles_SPR_ELEPHANT.png"
 3255               E309     		.code
 3256                        		.dbg	line,	"include\gfx_SPRITES.c", 61; #incspr(tiles_SPR_DRAGONFLY,"res/sprites/tiles_SPR_DRAGONFLY.png")
 3257               70C0     		.data
 3258    1A:70C0             	_tiles_SPR_DRAGONFLY:	.incspr		"res/sprites/tiles_SPR_DRAGONFLY.png"
 3259               E309     		.code
 3260                        		.dbg	line,	"include\gfx_SPRITES.c", 62; #incspr(tiles_SPR_COW,"res/sprites/tiles_SPR_COW.png")
 3261               7140     		.data
 3262    1A:7140             	_tiles_SPR_COW:	.incspr		"res/sprites/tiles_SPR_COW.png"
 3263               E309     		.code
 3264                        		.dbg	line,	"include\gfx_SPRITES.c", 63; #incspr(tiles_SPR_MOBICHAN,"res/sprites/tiles_SPR_MOBICHAN.png")
 3265               71C0     		.data
 3266    1A:71C0             	_tiles_SPR_MOBICHAN:	.incspr		"res/sprites/tiles_SPR_MOBICHAN.png"
 3267               E309     		.code
 3268                        		.dbg	line,	"include\gfx_SPRITES.c", 65; // EXTRACT OBJECTS PALETTE //
 3269                        		.dbg	line,	"include\gfx_SPRITES.c", 66; #incpal(palette_objects_1,"res/palettes/palette_objects_1.png");
 3270               7240     		.data
 3271    1A:7240             	_palette_objects_1:	.incpal		"res/palettes/palette_objects_1.png"
 3272               E309     		.code
 3273                        		.dbg	line,	"include\gfx_SPRITES.c", 67; #incpal(palette_objects_2,"res/palettes/palette_objects_2.png");
 3274               7440     		.data
 3275    1A:7440             	_palette_objects_2:	.incpal		"res/palettes/palette_objects_2.png"
 3276               E309     		.code
 3277                        		.dbg	line,	"include\gfx_SPRITES.c", 70; // EXTRACT NPCS TILES //
 3278                        		.dbg	line,	"include\gfx_SPRITES.c", 71; #incspr(tiles_SPR_NPC,"res/sprites/tiles_SPR_NPC.png")
 3279               7640     		.data
 3280    1A:7640             	_tiles_SPR_NPC:	.incspr		"res/sprites/tiles_SPR_NPC.png"
 3281               E309     		.code
 3282                        		.dbg	line,	"include\gfx_SPRITES.c", 75; // EXTRACT CURSOR TILES //
 3283                        		.dbg	line,	"include\gfx_SPRITES.c", 76; #incspr(tiles_SPR_CURSOR,"res/sprites/tiles_SPR_CURSOR.png")
 3284               6240     		.data
 3285    1B:6240             	_tiles_SPR_CURSOR:	.incspr		"res/sprites/tiles_SPR_CURSOR.png"
 3286               E309     		.code
 3287                        		.dbg	line,	"include\gfx_SPRITES.c", 81; // EXTRACT ENEMIES TILES //
 3288                        		.dbg	line,	"include\gfx_SPRITES.c", 82; #incspr(tiles_SPR_ORC,"res/sprites/tiles_SPR_ORC.png")
 3289               6440     		.data
 3290    1B:6440             	_tiles_SPR_ORC:	.incspr		"res/sprites/tiles_SPR_ORC.png"
 3291               E309     		.code
 3292                        		.dbg	line,	"include\gfx_SPRITES.c", 83; #incspr(tiles_SPR_SERPENT,"res/sprites/tiles_SPR_SERPENT.png")
 3293               6140     		.data
 3294    1C:6140             	_tiles_SPR_SERPENT:	.incspr		"res/sprites/tiles_SPR_SERPENT.png"
 3295               E309     		.code
 3296                        		.dbg	line,	"include\gfx_SPRITES.c", 84; #incspr(tiles_SPR_PLANT,"res/sprites/tiles_SPR_PLANT.png")
 3297               6D40     		.data
 3298    1C:6D40             	_tiles_SPR_PLANT:	.incspr		"res/sprites/tiles_SPR_PLANT.png"
 3299               E309     		.code
 3300                        		.dbg	line,	"include\gfx_SPRITES.c", 86; // EXTRACT ENEMIES PALETTES //
 3301                        		.dbg	line,	"include\gfx_SPRITES.c", 87; #incpal(palette_SPR_ORC,"res/sprites/tiles_SPR_ORC.png")
 3302               6740     		.data
 3303    1D:6740             	_palette_SPR_ORC:	.incpal		"res/sprites/tiles_SPR_ORC.png"
 3304               E309     		.code
 3305                        		.dbg	line,	"include\gfx_SPRITES.c", 88; #incpal(palette_SPR_PLANT,"res/sprites/tiles_SPR_PLANT.png")
 3306               6940     		.data
 3307    1D:6940             	_palette_SPR_PLANT:	.incpal		"res/sprites/tiles_SPR_PLANT.png"
 3308               E309     		.code
 3309                        		.dbg	line,	"main.c", 17; #include "include/tables_INTRO.c"
 3310                        		.dbg	line,	"include\tables_INTRO.c", 1; //-----------------------------------------------------------------------------//
 3311                        		.dbg	line,	"include\tables_INTRO.c", 2; //                                                                             //
 3312                        		.dbg	line,	"include\tables_INTRO.c", 3; //                                   LEVEL 1                                   //
 3313                        		.dbg	line,	"include\tables_INTRO.c", 4; //                                                                             //
 3314                        		.dbg	line,	"include\tables_INTRO.c", 5; //-----------------------------------------------------------------------------//
 3315                        		.dbg	line,	"include\tables_INTRO.c", 7; // 28 CHAR BY LINE //
 3316                        		.dbg	line,	"include\tables_INTRO.c", 8; // 224 CHAR IN TOTAL //
 3317                        		.dbg	line,	"include\tables_INTRO.c", 9; const char              TABLE_INTRO_TEXT[]  =   {
 3318                        		.dbg	line,	"include\tables_INTRO.c", 10; "Long Long ago, three dragonsdescended from skies above  with a rolling thunder and  destroyed a kingdom into    darkness.                   From lengthy suffering and  darkness of the kingdom     came one brave fighter.    "
 3319                        		.dbg	line,	"include\tables_INTRO.c", 11; };
 3320                        		.dbg	line,	"main.c", 18; #include "include/tables_NPC.c"
 3321                        		.dbg	line,	"include\tables_NPC.c", 1; //-----------------------------------------------------------------------------//
 3322                        		.dbg	line,	"include\tables_NPC.c", 2; //                                                                             //
 3323                        		.dbg	line,	"include\tables_NPC.c", 3; //                                   LEVEL 1                                   //
 3324                        		.dbg	line,	"include\tables_NPC.c", 4; //                                                                             //
 3325                        		.dbg	line,	"include\tables_NPC.c", 5; //-----------------------------------------------------------------------------//
 3326                        		.dbg	line,	"include\tables_NPC.c", 7; const char              TABLE_NPC_TYPE_LV1[NPC_NUMBER_LV1]              =   {
 3327                        		.dbg	line,	"include\tables_NPC.c", 8; TYPE_NPC_SHOP,
 3328                        		.dbg	line,	"include\tables_NPC.c", 9; TYPE_NPC_REWARD
 3329                        		.dbg	line,	"include\tables_NPC.c", 10; };
 3330                        		.dbg	line,	"include\tables_NPC.c", 13; const signed int        TABLE_NPC_X_POS_REF_LV1[NPC_NUMBER_LV1]         =   {
 3331                        		.dbg	line,	"include\tables_NPC.c", 14; 912,
 3332                        		.dbg	line,	"include\tables_NPC.c", 15; 1232
 3333                        		.dbg	line,	"include\tables_NPC.c", 16; };
 3334                        		.dbg	line,	"include\tables_NPC.c", 19; const signed int        TABLE_NPC_Y_POS_REF_LV1[NPC_NUMBER_LV1]         =   {
 3335                        		.dbg	line,	"include\tables_NPC.c", 20; 576,
 3336                        		.dbg	line,	"include\tables_NPC.c", 21; 400
 3337                        		.dbg	line,	"include\tables_NPC.c", 22; };
 3338                        		.dbg	line,	"main.c", 19; #include "include/tables_OBJECT.c"
 3339                        		.dbg	line,	"include\tables_OBJECT.c", 1; //-----------------------------------------------------------------------------//
 3340                        		.dbg	line,	"include\tables_OBJECT.c", 2; //                                                                             //
 3341                        		.dbg	line,	"include\tables_OBJECT.c", 3; //                                   LEVEL 1                                   //
 3342                        		.dbg	line,	"include\tables_OBJECT.c", 4; //                                                                             //
 3343                        		.dbg	line,	"include\tables_OBJECT.c", 5; //-----------------------------------------------------------------------------//
 3344                        		.dbg	line,	"include\tables_OBJECT.c", 7; const char              TABLE_OBJECT_TYPE_LV1[OBJECT_NUMBER_LV1]      =   {
 3345                        		.dbg	line,	"include\tables_OBJECT.c", 8; TYPE_HOURGLASS,
 3346                        		.dbg	line,	"include\tables_OBJECT.c", 9; TYPE_POT,
 3347                        		.dbg	line,	"include\tables_OBJECT.c", 10; TYPE_POT,
 3348                        		.dbg	line,	"include\tables_OBJECT.c", 11; TYPE_POT,
 3349                        		.dbg	line,	"include\tables_OBJECT.c", 12; TYPE_POT,
 3350                        		.dbg	line,	"include\tables_OBJECT.c", 13; TYPE_POT,
 3351                        		.dbg	line,	"include\tables_OBJECT.c", 14; TYPE_POT,
 3352                        		.dbg	line,	"include\tables_OBJECT.c", 15; TYPE_POW,
 3353                        		.dbg	line,	"include\tables_OBJECT.c", 16; TYPE_POT,
 3354                        		.dbg	line,	"include\tables_OBJECT.c", 17; TYPE_POT,
 3355                        		.dbg	line,	"include\tables_OBJECT.c", 19; //
 3356                        		.dbg	line,	"include\tables_OBJECT.c", 20; TYPE_POT,
 3357                        		.dbg	line,	"include\tables_OBJECT.c", 21; TYPE_POT,
 3358                        		.dbg	line,	"include\tables_OBJECT.c", 22; TYPE_POT,
 3359                        		.dbg	line,	"include\tables_OBJECT.c", 23; TYPE_POT,
 3360                        		.dbg	line,	"include\tables_OBJECT.c", 24; TYPE_POT,
 3361                        		.dbg	line,	"include\tables_OBJECT.c", 25; TYPE_POT,
 3362                        		.dbg	line,	"include\tables_OBJECT.c", 26; TYPE_POT,
 3363                        		.dbg	line,	"include\tables_OBJECT.c", 27; TYPE_POT,
 3364                        		.dbg	line,	"include\tables_OBJECT.c", 28; TYPE_POT,
 3365                        		.dbg	line,	"include\tables_OBJECT.c", 29; TYPE_POT,
 3366                        		.dbg	line,	"include\tables_OBJECT.c", 31; //
 3367                        		.dbg	line,	"include\tables_OBJECT.c", 32; TYPE_POT,
 3368                        		.dbg	line,	"include\tables_OBJECT.c", 33; TYPE_POT,
 3369                        		.dbg	line,	"include\tables_OBJECT.c", 34; TYPE_POT
 3370                        		.dbg	line,	"include\tables_OBJECT.c", 35; };
 3371                        		.dbg	line,	"include\tables_OBJECT.c", 38; const signed int        TABLE_OBJECT_X_POS_REF_LV1[OBJECT_NUMBER_LV1] =   {
 3372                        		.dbg	line,	"include\tables_OBJECT.c", 39; 1680,
 3373                        		.dbg	line,	"include\tables_OBJECT.c", 40; 1280,
 3374                        		.dbg	line,	"include\tables_OBJECT.c", 41; 1472,
 3375                        		.dbg	line,	"include\tables_OBJECT.c", 42; 1440,
 3376                        		.dbg	line,	"include\tables_OBJECT.c", 43; 1168,
 3377                        		.dbg	line,	"include\tables_OBJECT.c", 44; 1200,
 3378                        		.dbg	line,	"include\tables_OBJECT.c", 45; 960,
 3379                        		.dbg	line,	"include\tables_OBJECT.c", 46; 984,
 3380                        		.dbg	line,	"include\tables_OBJECT.c", 47; 1360,
 3381                        		.dbg	line,	"include\tables_OBJECT.c", 48; 1392,
 3382                        		.dbg	line,	"include\tables_OBJECT.c", 50; //
 3383                        		.dbg	line,	"include\tables_OBJECT.c", 51; 1552,
 3384                        		.dbg	line,	"include\tables_OBJECT.c", 52; 1680,
 3385                        		.dbg	line,	"include\tables_OBJECT.c", 53; 1712,
 3386                        		.dbg	line,	"include\tables_OBJECT.c", 54; 1744,
 3387                        		.dbg	line,	"include\tables_OBJECT.c", 55; 1248,
 3388                        		.dbg	line,	"include\tables_OBJECT.c", 56; 1280,
 3389                        		.dbg	line,	"include\tables_OBJECT.c", 57; 1168,
 3390                        		.dbg	line,	"include\tables_OBJECT.c", 58; 1040,
 3391                        		.dbg	line,	"include\tables_OBJECT.c", 59; 640,
 3392                        		.dbg	line,	"include\tables_OBJECT.c", 60; 672,
 3393                        		.dbg	line,	"include\tables_OBJECT.c", 62; //
 3394                        		.dbg	line,	"include\tables_OBJECT.c", 63; 336,
 3395                        		.dbg	line,	"include\tables_OBJECT.c", 64; 368,
 3396                        		.dbg	line,	"include\tables_OBJECT.c", 65; 416
 3397                        		.dbg	line,	"include\tables_OBJECT.c", 66; };
 3398                        		.dbg	line,	"include\tables_OBJECT.c", 69; const signed int        TABLE_OBJECT_Y_POS_REF_LV1[OBJECT_NUMBER_LV1] =   {
 3399                        		.dbg	line,	"include\tables_OBJECT.c", 70; 384,
 3400                        		.dbg	line,	"include\tables_OBJECT.c", 71; 416,
 3401                        		.dbg	line,	"include\tables_OBJECT.c", 72; 480,
 3402                        		.dbg	line,	"include\tables_OBJECT.c", 73; 496,
 3403                        		.dbg	line,	"include\tables_OBJECT.c", 74; 560,
 3404                        		.dbg	line,	"include\tables_OBJECT.c", 75; 560,
 3405                        		.dbg	line,	"include\tables_OBJECT.c", 76; 592,
 3406                        		.dbg	line,	"include\tables_OBJECT.c", 77; 592,
 3407                        		.dbg	line,	"include\tables_OBJECT.c", 78; 592,
 3408                        		.dbg	line,	"include\tables_OBJECT.c", 79; 592,
 3409                        		.dbg	line,	"include\tables_OBJECT.c", 81; //
 3410                        		.dbg	line,	"include\tables_OBJECT.c", 82; 704,
 3411                        		.dbg	line,	"include\tables_OBJECT.c", 83; 720,
 3412                        		.dbg	line,	"include\tables_OBJECT.c", 84; 720,
 3413                        		.dbg	line,	"include\tables_OBJECT.c", 85; 720,
 3414                        		.dbg	line,	"include\tables_OBJECT.c", 86; 736,
 3415                        		.dbg	line,	"include\tables_OBJECT.c", 87; 736,
 3416                        		.dbg	line,	"include\tables_OBJECT.c", 88; 752,
 3417                        		.dbg	line,	"include\tables_OBJECT.c", 89; 848,
 3418                        		.dbg	line,	"include\tables_OBJECT.c", 90; 880,
 3419                        		.dbg	line,	"include\tables_OBJECT.c", 91; 880,
 3420                        		.dbg	line,	"include\tables_OBJECT.c", 93; //
 3421                        		.dbg	line,	"include\tables_OBJECT.c", 94; 896,
 3422                        		.dbg	line,	"include\tables_OBJECT.c", 95; 896,
 3423                        		.dbg	line,	"include\tables_OBJECT.c", 96; 896
 3424                        		.dbg	line,	"include\tables_OBJECT.c", 97; };
 3425                        		.dbg	line,	"include\tables_OBJECT.c", 100; /*const char              TABLE_REWARD_TYPE_LV1[OBJECT_NUMBER_LV1]       =   {
 3426                        		.dbg	line,	"include\tables_OBJECT.c", 101; TYPE_POT
 3427                        		.dbg	line,	"include\tables_OBJECT.c", 102; TYPE_POT,
 3428                        		.dbg	line,	"include\tables_OBJECT.c", 103; TYPE_POT,
 3429                        		.dbg	line,	"include\tables_OBJECT.c", 104; TYPE_POT,
 3430                        		.dbg	line,	"include\tables_OBJECT.c", 105; TYPE_POT,
 3431                        		.dbg	line,	"include\tables_OBJECT.c", 106; TYPE_POT,
 3432                        		.dbg	line,	"include\tables_OBJECT.c", 107; TYPE_POT,
 3433                        		.dbg	line,	"include\tables_OBJECT.c", 108; TYPE_POW,
 3434                        		.dbg	line,	"include\tables_OBJECT.c", 109; TYPE_POT,
 3435                        		.dbg	line,	"include\tables_OBJECT.c", 110; TYPE_POT,
 3436                        		.dbg	line,	"include\tables_OBJECT.c", 112; //
 3437                        		.dbg	line,	"include\tables_OBJECT.c", 113; TYPE_POT,
 3438                        		.dbg	line,	"include\tables_OBJECT.c", 114; TYPE_POT,
 3439                        		.dbg	line,	"include\tables_OBJECT.c", 115; TYPE_POT,
 3440                        		.dbg	line,	"include\tables_OBJECT.c", 116; TYPE_POT,
 3441                        		.dbg	line,	"include\tables_OBJECT.c", 117; TYPE_POT,
 3442                        		.dbg	line,	"include\tables_OBJECT.c", 118; TYPE_POT,
 3443                        		.dbg	line,	"include\tables_OBJECT.c", 119; TYPE_POT,
 3444                        		.dbg	line,	"include\tables_OBJECT.c", 120; TYPE_POT,
 3445                        		.dbg	line,	"include\tables_OBJECT.c", 122; //
 3446                        		.dbg	line,	"include\tables_OBJECT.c", 123; TYPE_GRAY_KEY,
 3447                        		.dbg	line,	"include\tables_OBJECT.c", 124; TYPE_GRAY_KEY,
 3448                        		.dbg	line,	"include\tables_OBJECT.c", 125; TYPE_GRAY_KEY,
 3449                        		.dbg	line,	"include\tables_OBJECT.c", 126; TYPE_COIN_5,
 3450                        		.dbg	line,	"include\tables_OBJECT.c", 127; TYPE_GRAY_KEY
 3451                        		.dbg	line,	"include\tables_OBJECT.c", 128; };*/
 3452                        		.dbg	line,	"include\tables_OBJECT.c", 133; const signed int        TABLE_CHEST_X_POS_REF_LV1[CHEST_NUMBER_LV1]   =   {
 3453                        		.dbg	line,	"include\tables_OBJECT.c", 134; 1072,
 3454                        		.dbg	line,	"include\tables_OBJECT.c", 135; 816
 3455                        		.dbg	line,	"include\tables_OBJECT.c", 136; };
 3456                        		.dbg	line,	"include\tables_OBJECT.c", 139; const signed int        TABLE_CHEST_Y_POS_REF_LV1[CHEST_NUMBER_LV1]   =   {
 3457                        		.dbg	line,	"include\tables_OBJECT.c", 140; 832,
 3458                        		.dbg	line,	"include\tables_OBJECT.c", 141; 848
 3459                        		.dbg	line,	"main.c", 19; };
 3460                        		.dbg	line,	"main.c", 20; #include "include/tables_PLAYER.c"
 3461                        		.dbg	line,	"include\tables_PLAYER.c", 3; const unsigned char     *TABLE_PLAYER_TILES_ADR[2]     =   {
 3462                        		.dbg	line,	"include\tables_PLAYER.c", 4; &tiles_SPR_PLAYER_ARMOR,
 3463                        		.dbg	line,	"include\tables_PLAYER.c", 5; &tiles_SPR_PLAYER_NAKED
 3464                        		.dbg	line,	"include\tables_PLAYER.c", 6; };
 3465                        		.dbg	line,	"include\tables_PLAYER.c", 9; const unsigned char     TABLE_PLAYER_TILES_BANK[2]     =   {
 3466                        		.dbg	line,	"include\tables_PLAYER.c", 10; ^tiles_SPR_PLAYER_ARMOR,
 3467                        		.dbg	line,	"include\tables_PLAYER.c", 11; ^tiles_SPR_PLAYER_NAKED
 3468                        		.dbg	line,	"include\tables_PLAYER.c", 12; };
 3469                        		.dbg	line,	"include\tables_PLAYER.c", 15; const signed char       TABLE_PLAYER_JUMP_V[35]     =   {
 3470                        		.dbg	line,	"include\tables_PLAYER.c", 16; // UPWARD
 3471                        		.dbg	line,	"include\tables_PLAYER.c", 17; -4,
 3472                        		.dbg	line,	"include\tables_PLAYER.c", 18; -5,
 3473                        		.dbg	line,	"include\tables_PLAYER.c", 19; -10,
 3474                        		.dbg	line,	"include\tables_PLAYER.c", 20; -4,
 3475                        		.dbg	line,	"include\tables_PLAYER.c", 21; -4,
 3476                        		.dbg	line,	"include\tables_PLAYER.c", 22; -7,
 3477                        		.dbg	line,	"include\tables_PLAYER.c", 23; -6,
 3478                        		.dbg	line,	"include\tables_PLAYER.c", 24; -3,
 3479                        		.dbg	line,	"include\tables_PLAYER.c", 25; -5,
 3480                        		.dbg	line,	"include\tables_PLAYER.c", 26; -2,
 3481                        		.dbg	line,	"include\tables_PLAYER.c", 27; -4,
 3482                        		.dbg	line,	"include\tables_PLAYER.c", 28; -1,
 3483                        		.dbg	line,	"include\tables_PLAYER.c", 29; -1,
 3484                        		.dbg	line,	"include\tables_PLAYER.c", 30; -1,
 3485                        		.dbg	line,	"include\tables_PLAYER.c", 31; -1,
 3486                        		.dbg	line,	"include\tables_PLAYER.c", 32; 0,
 3487                        		.dbg	line,	"include\tables_PLAYER.c", 33; 0,
 3488                        		.dbg	line,	"include\tables_PLAYER.c", 34; 0,
 3489                        		.dbg	line,	"include\tables_PLAYER.c", 35; 0,
 3490                        		.dbg	line,	"include\tables_PLAYER.c", 36; // DOWNWARD
 3491                        		.dbg	line,	"include\tables_PLAYER.c", 37; 1,
 3492                        		.dbg	line,	"include\tables_PLAYER.c", 38; 1,
 3493                        		.dbg	line,	"include\tables_PLAYER.c", 39; 1,
 3494                        		.dbg	line,	"include\tables_PLAYER.c", 40; 1,
 3495                        		.dbg	line,	"include\tables_PLAYER.c", 41; 4,
 3496                        		.dbg	line,	"include\tables_PLAYER.c", 42; 2,
 3497                        		.dbg	line,	"include\tables_PLAYER.c", 43; 5,
 3498                        		.dbg	line,	"include\tables_PLAYER.c", 44; 3,
 3499                        		.dbg	line,	"include\tables_PLAYER.c", 45; 6,
 3500                        		.dbg	line,	"include\tables_PLAYER.c", 46; 7,
 3501                        		.dbg	line,	"include\tables_PLAYER.c", 47; 4,
 3502                        		.dbg	line,	"include\tables_PLAYER.c", 48; 4,
 3503                        		.dbg	line,	"include\tables_PLAYER.c", 49; 10,
 3504                        		.dbg	line,	"include\tables_PLAYER.c", 50; 4,
 3505                        		.dbg	line,	"include\tables_PLAYER.c", 51; 4,
 3506                        		.dbg	line,	"include\tables_PLAYER.c", 52; 5
 3507                        		.dbg	line,	"include\tables_PLAYER.c", 53; };
 3508                        		.dbg	line,	"include\tables_PLAYER.c", 56; const signed char       TABLE_PLAYER_FALL[21]       =   {
 3509                        		.dbg	line,	"include\tables_PLAYER.c", 57; 0,
 3510                        		.dbg	line,	"include\tables_PLAYER.c", 58; 0,
 3511                        		.dbg	line,	"include\tables_PLAYER.c", 59; 0,
 3512                        		.dbg	line,	"include\tables_PLAYER.c", 60; 0,
 3513                        		.dbg	line,	"include\tables_PLAYER.c", 61; 1,
 3514                        		.dbg	line,	"include\tables_PLAYER.c", 62; 1,
 3515                        		.dbg	line,	"include\tables_PLAYER.c", 63; 1,
 3516                        		.dbg	line,	"include\tables_PLAYER.c", 64; 1,
 3517                        		.dbg	line,	"include\tables_PLAYER.c", 65; 2,
 3518                        		.dbg	line,	"include\tables_PLAYER.c", 66; 2,
 3519                        		.dbg	line,	"include\tables_PLAYER.c", 67; 2,
 3520                        		.dbg	line,	"include\tables_PLAYER.c", 68; 2,
 3521                        		.dbg	line,	"include\tables_PLAYER.c", 69; 3,
 3522                        		.dbg	line,	"include\tables_PLAYER.c", 70; 3,
 3523                        		.dbg	line,	"include\tables_PLAYER.c", 71; 3,
 3524                        		.dbg	line,	"include\tables_PLAYER.c", 72; 4,
 3525                        		.dbg	line,	"include\tables_PLAYER.c", 73; 4,
 3526                        		.dbg	line,	"include\tables_PLAYER.c", 74; 4,
 3527                        		.dbg	line,	"include\tables_PLAYER.c", 75; 4,
 3528                        		.dbg	line,	"include\tables_PLAYER.c", 76; 4,
 3529                        		.dbg	line,	"include\tables_PLAYER.c", 77; 5
 3530                        		.dbg	line,	"include\tables_PLAYER.c", 78; };
 3531                        		.dbg	line,	"include\tables_PLAYER.c", 81; const signed char       TABLE_PLAYER_JUMP_LADDER[30]    =   {
 3532                        		.dbg	line,	"include\tables_PLAYER.c", 82; // UPWARD
 3533                        		.dbg	line,	"include\tables_PLAYER.c", 83; -4,
 3534                        		.dbg	line,	"include\tables_PLAYER.c", 84; -4,
 3535                        		.dbg	line,	"include\tables_PLAYER.c", 85; -3,
 3536                        		.dbg	line,	"include\tables_PLAYER.c", 86; -3,
 3537                        		.dbg	line,	"include\tables_PLAYER.c", 87; -3,
 3538                        		.dbg	line,	"include\tables_PLAYER.c", 88; -2,
 3539                        		.dbg	line,	"include\tables_PLAYER.c", 89; -2,
 3540                        		.dbg	line,	"include\tables_PLAYER.c", 90; -2,
 3541                        		.dbg	line,	"include\tables_PLAYER.c", 91; -1,
 3542                        		.dbg	line,	"include\tables_PLAYER.c", 92; -1,
 3543                        		.dbg	line,	"include\tables_PLAYER.c", 93; -1,
 3544                        		.dbg	line,	"include\tables_PLAYER.c", 94; -1,
 3545                        		.dbg	line,	"include\tables_PLAYER.c", 95; -1,
 3546                        		.dbg	line,	"include\tables_PLAYER.c", 96; 0,
 3547                        		.dbg	line,	"include\tables_PLAYER.c", 97; 0,
 3548                        		.dbg	line,	"include\tables_PLAYER.c", 98; 0,
 3549                        		.dbg	line,	"include\tables_PLAYER.c", 99; 0,
 3550                        		.dbg	line,	"include\tables_PLAYER.c", 100; // DOWNWARD
 3551                        		.dbg	line,	"include\tables_PLAYER.c", 101; 1,
 3552                        		.dbg	line,	"include\tables_PLAYER.c", 102; 1,
 3553                        		.dbg	line,	"include\tables_PLAYER.c", 103; 1,
 3554                        		.dbg	line,	"include\tables_PLAYER.c", 104; 1,
 3555                        		.dbg	line,	"include\tables_PLAYER.c", 105; 1,
 3556                        		.dbg	line,	"include\tables_PLAYER.c", 106; 2,
 3557                        		.dbg	line,	"include\tables_PLAYER.c", 107; 2,
 3558                        		.dbg	line,	"include\tables_PLAYER.c", 108; 2,
 3559                        		.dbg	line,	"include\tables_PLAYER.c", 109; 3,
 3560                        		.dbg	line,	"include\tables_PLAYER.c", 110; 3,
 3561                        		.dbg	line,	"include\tables_PLAYER.c", 111; 3,
 3562                        		.dbg	line,	"include\tables_PLAYER.c", 112; 4,
 3563                        		.dbg	line,	"include\tables_PLAYER.c", 113; 4
 3564                        		.dbg	line,	"include\tables_PLAYER.c", 114; };
 3565                        		.dbg	line,	"include\tables_PLAYER.c", 123; const unsigned char     *TABLE_WEAPON_TILES_ADR[5]     =   {
 3566                        		.dbg	line,	"include\tables_PLAYER.c", 124; &tiles_SPR_WEAPON_0,
 3567                        		.dbg	line,	"include\tables_PLAYER.c", 125; &tiles_SPR_WEAPON_1,
 3568                        		.dbg	line,	"include\tables_PLAYER.c", 126; &tiles_SPR_WEAPON_2,
 3569                        		.dbg	line,	"include\tables_PLAYER.c", 127; &tiles_SPR_WEAPON_3,
 3570                        		.dbg	line,	"include\tables_PLAYER.c", 128; &tiles_SPR_WEAPON_4
 3571                        		.dbg	line,	"include\tables_PLAYER.c", 129; };
 3572                        		.dbg	line,	"include\tables_PLAYER.c", 132; const unsigned char     TABLE_WEAPON_TILES_BANK[5]     =   {
 3573                        		.dbg	line,	"include\tables_PLAYER.c", 133; ^tiles_SPR_WEAPON_0,
 3574                        		.dbg	line,	"include\tables_PLAYER.c", 134; ^tiles_SPR_WEAPON_1,
 3575                        		.dbg	line,	"include\tables_PLAYER.c", 135; ^tiles_SPR_WEAPON_2,
 3576                        		.dbg	line,	"include\tables_PLAYER.c", 136; ^tiles_SPR_WEAPON_3,
 3577                        		.dbg	line,	"include\tables_PLAYER.c", 137; ^tiles_SPR_WEAPON_4
 3578                        		.dbg	line,	"main.c", 20; };
 3579                        		.dbg	line,	"main.c", 21; #include "include/tables_SHOP.c"
 3580                        		.dbg	line,	"include\tables_SHOP.c", 1; //-----------------------------------------------------------------------------//
 3581                        		.dbg	line,	"include\tables_SHOP.c", 2; //                                                                             //
 3582                        		.dbg	line,	"include\tables_SHOP.c", 3; //                                   LEVEL 1                                   //
 3583                        		.dbg	line,	"include\tables_SHOP.c", 4; //                                                                             //
 3584                        		.dbg	line,	"include\tables_SHOP.c", 5; //-----------------------------------------------------------------------------//
 3585                        		.dbg	line,	"include\tables_SHOP.c", 7; const char              TABLE_SHOP_ITEMS_LV1[10]        =   {
 3586                        		.dbg	line,	"include\tables_SHOP.c", 8; TYPE_ITEM_WEAPON_2,
 3587                        		.dbg	line,	"include\tables_SHOP.c", 9; TYPE_ITEM_WEAPON_3,
 3588                        		.dbg	line,	"include\tables_SHOP.c", 10; TYPE_ITEM_WEAPON_4,
 3589                        		.dbg	line,	"include\tables_SHOP.c", 11; TYPE_ITEM_WEAPON_5,
 3590                        		.dbg	line,	"include\tables_SHOP.c", 12; TYPE_ITEM_KEY,
 3591                        		.dbg	line,	"include\tables_SHOP.c", 14; TYPE_ITEM_ARMOR_2,
 3592                        		.dbg	line,	"include\tables_SHOP.c", 15; TYPE_ITEM_ARMOR_3,
 3593                        		.dbg	line,	"include\tables_SHOP.c", 16; TYPE_ITEM_ARMOR_4,
 3594                        		.dbg	line,	"include\tables_SHOP.c", 17; TYPE_ITEM_ARMOR_5,
 3595                        		.dbg	line,	"include\tables_SHOP.c", 18; TYPE_ITEM_POTION
 3596                        		.dbg	line,	"include\tables_SHOP.c", 19; };
 3597                        		.dbg	line,	"include\tables_SHOP.c", 22; const int               TABLE_SHOP_PRICES_LV1[10]       =   {
 3598                        		.dbg	line,	"include\tables_SHOP.c", 23; 100,
 3599                        		.dbg	line,	"include\tables_SHOP.c", 24; 1000,
 3600                        		.dbg	line,	"include\tables_SHOP.c", 25; 2400,
 3601                        		.dbg	line,	"include\tables_SHOP.c", 26; 9600,
 3602                        		.dbg	line,	"include\tables_SHOP.c", 27; 30,
 3603                        		.dbg	line,	"include\tables_SHOP.c", 28; 80,
 3604                        		.dbg	line,	"include\tables_SHOP.c", 29; 300,
 3605                        		.dbg	line,	"include\tables_SHOP.c", 30; 800,
 3606                        		.dbg	line,	"include\tables_SHOP.c", 31; 1600,
 3607                        		.dbg	line,	"include\tables_SHOP.c", 32; 150
 3608                        		.dbg	line,	"include\tables_SHOP.c", 33; };
 3609                        		.dbg	line,	"include\tables_SHOP.c", 36; const unsigned char     *TABLE_SHOP_ITEMS_TILES_ADR[10]     =   {
 3610                        		.dbg	line,	"include\tables_SHOP.c", 37; &tiles_ITEM_WEAPON_2,
 3611                        		.dbg	line,	"include\tables_SHOP.c", 38; &tiles_ITEM_WEAPON_3,
 3612                        		.dbg	line,	"include\tables_SHOP.c", 39; &tiles_ITEM_WEAPON_4,
 3613                        		.dbg	line,	"include\tables_SHOP.c", 40; &tiles_ITEM_WEAPON_5,
 3614                        		.dbg	line,	"include\tables_SHOP.c", 41; &tiles_ITEM_KEY,
 3615                        		.dbg	line,	"include\tables_SHOP.c", 42; &tiles_ITEM_ARMOR_2,
 3616                        		.dbg	line,	"include\tables_SHOP.c", 43; &tiles_ITEM_ARMOR_3,
 3617                        		.dbg	line,	"include\tables_SHOP.c", 44; &tiles_ITEM_ARMOR_4,
 3618                        		.dbg	line,	"include\tables_SHOP.c", 45; &tiles_ITEM_ARMOR_5,
 3619                        		.dbg	line,	"include\tables_SHOP.c", 46; &tiles_ITEM_POTION
 3620                        		.dbg	line,	"include\tables_SHOP.c", 47; };
 3621                        		.dbg	line,	"include\tables_SHOP.c", 50; const unsigned char     TABLE_SHOP_ITEMS_TILES_BANK[10]     =   {
 3622                        		.dbg	line,	"include\tables_SHOP.c", 51; ^tiles_ITEM_WEAPON_2,
 3623                        		.dbg	line,	"include\tables_SHOP.c", 52; ^tiles_ITEM_WEAPON_3,
 3624                        		.dbg	line,	"include\tables_SHOP.c", 53; ^tiles_ITEM_WEAPON_4,
 3625                        		.dbg	line,	"include\tables_SHOP.c", 54; ^tiles_ITEM_WEAPON_5,
 3626                        		.dbg	line,	"include\tables_SHOP.c", 55; ^tiles_ITEM_KEY,
 3627                        		.dbg	line,	"include\tables_SHOP.c", 56; ^tiles_ITEM_ARMOR_2,
 3628                        		.dbg	line,	"include\tables_SHOP.c", 57; ^tiles_ITEM_ARMOR_3,
 3629                        		.dbg	line,	"include\tables_SHOP.c", 58; ^tiles_ITEM_ARMOR_4,
 3630                        		.dbg	line,	"include\tables_SHOP.c", 59; ^tiles_ITEM_ARMOR_5,
 3631                        		.dbg	line,	"include\tables_SHOP.c", 60; ^tiles_ITEM_POTION
 3632                        		.dbg	line,	"include\tables_SHOP.c", 61; };
 3633                        		.dbg	line,	"include\tables_SHOP.c", 64; const char              TABLE_CURSOR_POS_X[11]              =   {
 3634                        		.dbg	line,	"include\tables_SHOP.c", 65; 24,
 3635                        		.dbg	line,	"include\tables_SHOP.c", 66; 56,
 3636                        		.dbg	line,	"include\tables_SHOP.c", 67; 96,
 3637                        		.dbg	line,	"include\tables_SHOP.c", 68; 136,
 3638                        		.dbg	line,	"include\tables_SHOP.c", 69; 176,
 3639                        		.dbg	line,	"include\tables_SHOP.c", 70; 24,
 3640                        		.dbg	line,	"include\tables_SHOP.c", 71; 56,
 3641                        		.dbg	line,	"include\tables_SHOP.c", 72; 96,
 3642                        		.dbg	line,	"include\tables_SHOP.c", 73; 136,
 3643                        		.dbg	line,	"include\tables_SHOP.c", 74; 176,
 3644                        		.dbg	line,	"include\tables_SHOP.c", 75; 212
 3645                        		.dbg	line,	"include\tables_SHOP.c", 76; };
 3646                        		.dbg	line,	"main.c", 25; #include "include/routines_INTRO.c"
 3647                        		.dbg	line,	"include\routines_INTRO.c", 1; #include "huc.h"
 3648                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 3649                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 3650                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 3651                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 3652                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 3653                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 3654                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 3655                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 3656                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 3657                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 3658                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 3659                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 3660                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 3661                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 3662                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 3663                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 3664                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 3665                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 3666                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 3667                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 3668                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 3669                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 3670                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 3671                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 3672                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 3673                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 3674                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 3675                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 3676                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 3677                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 3678                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 3679                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 3680                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 3681                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-string.h"
 3682                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-scroll.h"
 3683                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-spr.h"
 3684                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-map.h"
 3685                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 40; #include "hucc-old-line.h"
 3686                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #endif // _hucc_legacy_h
 3687                        		.dbg	line,	"include\routines_INTRO.c", 2; #include "hucc-scroll.h"
 3688                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
 3689                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
 3690                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
 3691                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
 3692                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
 3693                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
 3694                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
 3695                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
 3696                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
 3697                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
 3698                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
 3699                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 3700                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 3701                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 3702                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
 3703                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
 3704                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
 3705                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
 3706                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
 3707                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
 3708                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
 3709                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
 3710                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
 3711                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
 3712                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
 3713                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
 3714                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
 3715                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
 3716                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
 3717                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
 3718                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
 3719                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
 3720                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
 3721                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
 3722                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
 3723                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
 3724                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
 3725                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
 3726                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
 3727                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
 3728                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
 3729                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
 3730                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
 3731                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
 3732                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
 3733                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
 3734                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
 3735                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
 3736                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
 3737                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
 3738                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
 3739                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
 3740                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
 3741                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 3742                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 3743                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
 3744                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
 3745                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
 3746                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
 3747                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
 3748                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
 3749                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
 3750                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
 3751                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
 3752                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
 3753                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
 3754                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
 3755                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
 3756                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
 3757                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
 3758                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
 3759                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
 3760                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
 3761                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
 3762                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
 3763                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
 3764                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
 3765                        		.dbg	line,	"include\routines_INTRO.c", 3; #include "hucc-chrmap.h"
 3766                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
 3767                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
 3768                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
 3769                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
 3770                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
 3771                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
 3772                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
 3773                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
 3774                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
 3775                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
 3776                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
 3777                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 3778                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 3779                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 3780                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
 3781                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
 3782                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
 3783                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
 3784                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
 3785                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
 3786                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
 3787                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
 3788                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
 3789                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
 3790                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
 3791                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
 3792                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
 3793                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
 3794                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
 3795                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 3796                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 3797                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 3798                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 3799                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 3800                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 3801                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 3802                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 3803                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 3804                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 3805                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 3806                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 3807                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 3808                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 3809                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 3810                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 3811                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 3812                        		.dbg	line,	"include\routines_INTRO.c", 4; #include "hucc-blkmap.h"
 3813                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 3814                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 3815                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 3816                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 3817                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 3818                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 3819                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 3820                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 3821                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 3822                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 3823                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 3824                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 3825                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 3826                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 3827                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 3828                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 3829                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 3830                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 3831                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 3832                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 3833                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 3834                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 3835                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 3836                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 3837                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 3838                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 3839                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 3840                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 3841                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 3842                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 3843                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 3844                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 3845                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 3846                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 3847                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 3848                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 3849                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 3850                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 3851                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 3852                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 3853                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 3854                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 3855                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 3856                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 3857                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 3858                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 3859                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 3860                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 3861                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 3862                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 3863                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 3864                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 3865                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 3866                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 3867                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 3868                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 3869                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 3870                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 3871                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 3872                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 3873                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 3874                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 3875                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 3876                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 3877                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 3878                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 3879                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 3880                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 3881                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 3882                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 3883                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 3884                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 3885                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 3886                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 3887                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 3888                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 3889                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 3890                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 3891                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 3892                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 3893                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 3894                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 3895                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 3896                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 3897                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 3898                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 3899                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 3900                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 3901                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 3902                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 3903                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 3904                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 3905                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 3906                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 3907                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 3908                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 3909                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 3910                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 3911                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 3912                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 3913                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 3914                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 3915                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 3916                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 3917                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 3918                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 3919                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 3920                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 3921                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 3922                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 3923                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 3924                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 3925                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 3926                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 3927                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 3928                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 3929                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 3930                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 3931                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 3932                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 3933                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 3934                        		.dbg	line,	"include\routines_INTRO.c", 13; void joypad_BUTTONS_INTRO()
 3935                        		.dbg	line,	"include\routines_INTRO.c", 14; {
 3936                        	;***********************
 3937                        	;***********************
 3938                        	
 3939                        		.hucc
 3940    1E:DFC6             		.proc		_joypad_BUTTONS_INTRO
 3941                        		__enter		_joypad_BUTTONS_INTRO
 3942                        	
 3943                        		.dbg	line,	"include\routines_INTRO.c", 15; if(joytrg(JOYPAD_1) & JOY_I || joytrg(JOYPAD_1) & JOY_II || joytrg(JOYPAD_1) & JOY_RUN)
 3944                        		__ld.uiq	0
         1E:DFC6  62         			cla
 3945                        		 _joytrg.1
         1E:DFC7  AA         			tax
         1E:DFC8  BD 2D 22   			lda	joytrg, x
         1E:DFCB  BC DD 22   			ldy	joy6trg, x
 3946                        		__tand.wi	1
         1E:DFCE  29 01      			and	#1
         1E:DFD0  C9 01      	!:		cmp	#1
 3947                        		__btrue		.LL4
         1E:DFD2  B0 0C      			bcs	.LL4
 3948                        		__ld.uiq	0
         1E:DFD4  62         			cla
 3949                        		 _joytrg.1
         1E:DFD5  AA         			tax
         1E:DFD6  BD 2D 22   			lda	joytrg, x
         1E:DFD9  BC DD 22   			ldy	joy6trg, x
 3950                        		__tand.wi	2
         1E:DFDC  29 02      			and	#2
         1E:DFDE  C9 01      	!:		cmp	#1
 3951    1E:DFE0             	.LL4:
 3952                        		__btrue		.LL5
         1E:DFE0  B0 0C      			bcs	.LL5
 3953                        		__ld.uiq	0
         1E:DFE2  62         			cla
 3954                        		 _joytrg.1
         1E:DFE3  AA         			tax
         1E:DFE4  BD 2D 22   			lda	joytrg, x
         1E:DFE7  BC DD 22   			ldy	joy6trg, x
 3955                        		__tand.wi	8
         1E:DFEA  29 08      			and	#8
         1E:DFEC  C9 01      	!:		cmp	#1
 3956    1E:DFEE             	.LL5:
 3957                        		__bfalse	.LL3
         1E:DFEE  90 0B      			bcc	.LL3
 3958                        	
 3959                        		.dbg	line,	"include\routines_INTRO.c", 16; {
 3960                        	
 3961                        		.dbg	line,	"include\routines_INTRO.c", 17; // DISABLE DISPLAY //
 3962                        	
 3963                        		.dbg	line,	"include\routines_INTRO.c", 18; disp_off();
 3964                        		__call		_disp_off
         1E:DFF0  20 29 E4   			call	_disp_off
 3965                        	
 3966                        		.dbg	line,	"include\routines_INTRO.c", 20; sequence_loaded = FALSE;
 3967                        		__st.umiq	0, _sequence_loaded
         1E:DFF3  9C 14 23   			stz	_sequence_loaded
 3968                        	
 3969                        		.dbg	line,	"include\routines_INTRO.c", 22; sequence_id = SEQUENCE_GAME;
 3970                        		__st.umiq	2, _sequence_id
         1E:DFF6  A9 02      			lda.l	#2
         1E:DFF8  8D 13 23   			sta	_sequence_id
 3971                        	
 3972                        		.dbg	line,	"include\routines_INTRO.c", 23; }
 3973                        	
 3974                        		.dbg	line,	"include\routines_INTRO.c", 24; }
 3975    1E:DFFB             	.LL3:
 3976    1E:DFFB             	.LL2:
 3977                        		__return	0
         1E:DFFB  4C EF FF   			jmp	leave_proc
 3978                        		.dbg	clear
 3979                        		.endp
 3980                        		.pceas
 3981                        	
 3982                        		.dbg	line,	"include\routines_INTRO.c", 29; void sequence_INTRO()
 3983                        		.dbg	line,	"include\routines_INTRO.c", 30; {
 3984                        	;***********************
 3985                        	;***********************
 3986                        	
 3987                        		.hucc
 3988    1D:CB40             		.proc		_sequence_INTRO
 3989                        		__enter		_sequence_INTRO
 3990                        	
 3991                        		.dbg	line,	"include\routines_INTRO.c", 31; //--------------------------------------------------------------------------------------//
 3992                        	
 3993                        		.dbg	line,	"include\routines_INTRO.c", 32; //                                    PALETTE FADING                                    //
 3994                        	
 3995                        		.dbg	line,	"include\routines_INTRO.c", 33; //--------------------------------------------------------------------------------------//
 3996                        	
 3997                        		.dbg	line,	"include\routines_INTRO.c", 35; char i;
 3998                        	
 3999                        		.dbg	line,	"include\routines_INTRO.c", 38; if(global_counter > 0 && global_counter < 43)
 4000                        		__ld.wm		_global_counter
         1D:CB40  AD 35 26   			lda.l	_global_counter
         1D:CB43  AC 36 26   			ldy.h	_global_counter
 4001                        		__sgt_w.wi	0
         1D:CB46  18         			clc			; Subtract integer+1 from Y:A.
         1D:CB47  E9 00      			sbc.l	#0
         1D:CB49  98         			tya
         1D:CB4A  E9 00      			sbc.h	#0
         1D:CB4C  50 02      			bvc	!+
         1D:CB4E  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1D:CB50  49 80      	!:		eor	#$80
         1D:CB52  0A         			asl	a
 4002                        		__bfalse	.LL8
         1D:CB53  90 10      			bcc	.LL8
 4003                        		__ld.wm		_global_counter
         1D:CB55  AD 35 26   			lda.l	_global_counter
         1D:CB58  AC 36 26   			ldy.h	_global_counter
 4004                        		__slt_w.wi	43
         1D:CB5B  C9 2B      			cmp.l	#43		; Subtract integer from Y:A.
         1D:CB5D  98         			tya
         1D:CB5E  E9 00      			sbc.h	#43
         1D:CB60  50 02      			bvc	!+
         1D:CB62  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1D:CB64  0A         	!:		asl	a
 4005    1D:CB65             	.LL8:
 4006                        		__bfalse	.LL7
         1D:CB65  B0 03 4C FE			bcc	.LL7
         1D:CB69  CB          
 4007                        	
 4008                        		.dbg	line,	"include\routines_INTRO.c", 39; {
 4009                        	
 4010                        		.dbg	line,	"include\routines_INTRO.c", 40; if(global_counter%6 == FALSE)
 4011                        		__ld.wm		_global_counter
         1D:CB6A  AD 35 26   			lda.l	_global_counter
         1D:CB6D  AC 36 26   			ldy.h	_global_counter
 4012                        		__smod.wi	6
         1D:CB70  A2 06      			ldx.l	#6
         1D:CB72  86 00      			stx.l	<divisor
         1D:CB74  A2 00      			ldx.h	#6
         1D:CB76  86 01      			stx.h	<divisor
         1D:CB78  20 B7 E4   			jsr	__modsint
 4013                        		__not.wr
         1D:CB7B  84 00      			sty	__temp
         1D:CB7D  05 00      			ora	__temp
         1D:CB7F  18         			clc
         1D:CB80  D0 01      			bne	!+
         1D:CB82  38         			sec
         1D:CB83             	!:
 4014                        		__bfalse	.LL9
         1D:CB83  90 79      			bcc	.LL9
 4015                        	
 4016                        		.dbg	line,	"include\routines_INTRO.c", 41; {
 4017                        	
 4018                        		.dbg	line,	"include\routines_INTRO.c", 42; read_palette( 0, 1, palette_buffer );
 4019                        		__st.umiq	0, _al
         1D:CB85  64 F8      			stz	_al
 4020                        		__st.umiq	1, _ah
         1D:CB87  A9 01      			lda.l	#1
         1D:CB89  85 F9      			sta	_ah
 4021                        		__ld.wi		_palette_buffer
         1D:CB8B  A9 53      			lda.l	#_palette_buffer
         1D:CB8D  A0 26      			ldy.h	#_palette_buffer
 4022                        		__st.wmq	_di
         1D:CB8F  85 F0      			sta.l	_di
         1D:CB91  84 F1      			sty.h	_di
 4023                        		__call		_read_palette.3
         1D:CB93  20 9F FF   			call	_read_palette.3
 4024                        	
 4025                        		.dbg	line,	"include\routines_INTRO.c", 44; cross_fade_to(palette_INTRO_2 , palette_buffer , 16 , palette_step);
 4026                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         1D:CB96  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:CB98  85 EC      			sta.l	_bp
         1D:CB9A  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:CB9C  85 ED      			sta.h	_bp
         1D:CB9E  A9 06      			lda	#bank(_palette_INTRO_2)
         1D:CBA0  85 02      			sta	_bp_bank
 4027                        		__ld.wi		_palette_buffer
         1D:CBA2  A9 53      			lda.l	#_palette_buffer
         1D:CBA4  A0 26      			ldy.h	#_palette_buffer
 4028                        		__st.wmq	_di
         1D:CBA6  85 F0      			sta.l	_di
         1D:CBA8  84 F1      			sty.h	_di
 4029                        		__st.umiq	16, _al
         1D:CBAA  A9 10      			lda.l	#16
         1D:CBAC  85 F8      			sta	_al
 4030                        		__ld.um		_palette_step
         1D:CBAE  AD DA 23   			lda	_palette_step
         1D:CBB1  C2         			cly
 4031                        		__st.umq	_ah
         1D:CBB2  85 F9      			sta	_ah
 4032                        		 _cross_fade_to.4
         1D:CBB4  A4 02      			ldy	<_bp_bank
         1D:CBB6  20 95 FF   			call	cross_fade_to
 4033                        	
 4034                        		.dbg	line,	"include\routines_INTRO.c", 45; cross_fade_to(palette_INTRO_2 , palette_buffer , 16 , palette_step+1);
 4035                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         1D:CBB9  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:CBBB  85 EC      			sta.l	_bp
         1D:CBBD  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:CBBF  85 ED      			sta.h	_bp
         1D:CBC1  A9 06      			lda	#bank(_palette_INTRO_2)
         1D:CBC3  85 02      			sta	_bp_bank
 4036                        		__ld.wi		_palette_buffer
         1D:CBC5  A9 53      			lda.l	#_palette_buffer
         1D:CBC7  A0 26      			ldy.h	#_palette_buffer
 4037                        		__st.wmq	_di
         1D:CBC9  85 F0      			sta.l	_di
         1D:CBCB  84 F1      			sty.h	_di
 4038                        		__st.umiq	16, _al
         1D:CBCD  A9 10      			lda.l	#16
         1D:CBCF  85 F8      			sta	_al
 4039                        		__ld.um		_palette_step
         1D:CBD1  AD DA 23   			lda	_palette_step
         1D:CBD4  C2         			cly
 4040                        		__add.wi	1
         1D:CBD5  1A         			inc	a
         1D:CBD6  D0 01      			bne	!+
         1D:CBD8  C8         			iny
         1D:CBD9             	!:
 4041                        		__st.umq	_ah
         1D:CBD9  85 F9      			sta	_ah
 4042                        		 _cross_fade_to.4
         1D:CBDB  A4 02      			ldy	<_bp_bank
         1D:CBDD  20 95 FF   			call	cross_fade_to
 4043                        	
 4044                        		.dbg	line,	"include\routines_INTRO.c", 47; load_palette( 0, palette_buffer, 1 );
 4045                        		__st.umiq	0, _al
         1D:CBE0  64 F8      			stz	_al
 4046                        		__farptr	_palette_buffer, _bp_bank, _bp
         1D:CBE2  A9 53      			lda.l	#$6000 + ($1FFF & (_palette_buffer))
         1D:CBE4  85 EC      			sta.l	_bp
         1D:CBE6  A9 66      			lda.h	#$6000 + ($1FFF & (_palette_buffer))
         1D:CBE8  85 ED      			sta.h	_bp
         1D:CBEA  A9 F8      			lda	#bank(_palette_buffer)
         1D:CBEC  85 02      			sta	_bp_bank
 4047                        		__st.umiq	1, _ah
         1D:CBEE  A9 01      			lda.l	#1
         1D:CBF0  85 F9      			sta	_ah
 4048                        		__call		_load_palette.3
         1D:CBF2  20 8B FF   			call	_load_palette.3
 4049                        	
 4050                        		.dbg	line,	"include\routines_INTRO.c", 49; palette_step += 2;
 4051                        		__add_st.umiq	2, _palette_step
         1D:CBF5  18         			clc
         1D:CBF6  AD DA 23   			lda	_palette_step
         1D:CBF9  69 02      			adc	#2
         1D:CBFB  8D DA 23   			sta	_palette_step
 4052                        	
 4053                        		.dbg	line,	"include\routines_INTRO.c", 50; }
 4054                        	
 4055                        		.dbg	line,	"include\routines_INTRO.c", 51; }
 4056    1D:CBFE             	.LL9:
 4057                        	
 4058                        		.dbg	line,	"include\routines_INTRO.c", 52; 
 4059                        	
 4060                        		.dbg	line,	"include\routines_INTRO.c", 53; 
 4061                        	
 4062                        		.dbg	line,	"include\routines_INTRO.c", 55; //--------------------------------------------------------------------------------------//
 4063                        	
 4064                        		.dbg	line,	"include\routines_INTRO.c", 56; //                                     MOVE DRAGON                                      //
 4065                        	
 4066                        		.dbg	line,	"include\routines_INTRO.c", 57; //--------------------------------------------------------------------------------------//
 4067                        	
 4068                        		.dbg	line,	"include\routines_INTRO.c", 59; if(global_counter < 50)
 4069    1D:CBFE             	.LL7:
 4070                        		__ld.wm		_global_counter
         1D:CBFE  AD 35 26   			lda.l	_global_counter
         1D:CC01  AC 36 26   			ldy.h	_global_counter
 4071                        		__slt_w.wi	50
         1D:CC04  C9 32      			cmp.l	#50		; Subtract integer from Y:A.
         1D:CC06  98         			tya
         1D:CC07  E9 00      			sbc.h	#50
         1D:CC09  50 02      			bvc	!+
         1D:CC0B  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1D:CC0D  0A         	!:		asl	a
 4072                        		__bfalse	.LL10
         1D:CC0E  B0 03 4C 20			bcc	.LL10
         1D:CC12  CE          
 4073                        	
 4074                        		.dbg	line,	"include\routines_INTRO.c", 60; {
 4075                        	
 4076                        		.dbg	line,	"include\routines_INTRO.c", 61; player_pos_x -= 1;
 4077                        		__sub_st.wmiq	1, _player_pos_x
         1D:CC13  AD DB 24   			lda.l	_player_pos_x
         1D:CC16  D0 03      			bne	!+
         1D:CC18  CE DC 24   			dec.h	_player_pos_x
         1D:CC1B  CE DB 24   	!:		dec.l	_player_pos_x
 4078                        	
 4079                        		.dbg	line,	"include\routines_INTRO.c", 62; player_pos_y -= 1;
 4080                        		__sub_st.wmiq	1, _player_pos_y
         1D:CC1E  AD DD 24   			lda.l	_player_pos_y
         1D:CC21  D0 03      			bne	!+
         1D:CC23  CE DE 24   			dec.h	_player_pos_y
         1D:CC26  CE DD 24   	!:		dec.l	_player_pos_y
 4081                        	
 4082                        		.dbg	line,	"include\routines_INTRO.c", 63; 
 4083                        	
 4084                        		.dbg	line,	"include\routines_INTRO.c", 64; for(i=0 ; i<8 ; i++)
 4085                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:CC29  9C 79 26   			stz	__sequence_INTRO_end - 1
 4086    1D:CC2C             	.LL11:
 4087                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CC2C  AD 79 26   			lda	__sequence_INTRO_end - 1
 4088                        		__ult_b.uiq	8
         1D:CC2F  C9 08      			cmp	#8		; Subtract integer from A.
         1D:CC31  6A         			ror	a		; CC if A < integer.
         1D:CC32  49 80      			eor	#$80
         1D:CC34  2A         			rol	a
 4089                        		__btrue		.LL13
         1D:CC35  B0 07      			bcs	.LL13
 4090                        		__bra		.LL14
         1D:CC37  80 62      			bra	.LL14
 4091    1D:CC39             	.LL12:
 4092                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:CC39  EE 79 26   			inc	__sequence_INTRO_end - 1
 4093                        		__bra		.LL11
         1D:CC3C  80 EE      			bra	.LL11
 4094    1D:CC3E             	.LL13:
 4095                        	
 4096                        		.dbg	line,	"include\routines_INTRO.c", 65; {
 4097                        	
 4098                        		.dbg	line,	"include\routines_INTRO.c", 66; sgx_spr_set(i);
 4099                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CC3E  AD 79 26   			lda	__sequence_INTRO_end - 1
 4100                        		__call		_sgx_spr_set.1
         1D:CC41  20 8A E8   			call	_sgx_spr_set.1
 4101                        	
 4102                        		.dbg	line,	"include\routines_INTRO.c", 67; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 4103                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:CC44  AD 79 26   			lda	__sequence_INTRO_end - 1
         1D:CC47  C2         			cly
 4104                        		__asl.wi	5
         1D:CC48  85 00      			sta	__temp
         1D:CC4A  98         			tya
         1D:CC4B  4A         			lsr	a
         1D:CC4C  20 C8 E1   			jsr	aslw5
         1D:CC4F  29 E0      			and.l	#$FF << 5
 4105                        		__add.wm	_player_pos_x
         1D:CC51  18         			clc
         1D:CC52  6D DB 24   			adc.l	_player_pos_x
         1D:CC55  42         			say
         1D:CC56  6D DC 24   			adc.h	_player_pos_x
         1D:CC59  42         			say
 4106                        		__push.wr
         1D:CC5A  5A         			phy
         1D:CC5B  48         			pha
 4107                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:CC5C  AD 79 26   			lda	__sequence_INTRO_end - 1
         1D:CC5F  C2         			cly
 4108                        		__lsr.uiq	2
         1D:CC60  4A         			lsr	a
         1D:CC61  4A         			lsr	a
 4109                        		__asl.wi	7
         1D:CC62  42         			say
         1D:CC63  4A         			lsr	a
         1D:CC64  42         			say
         1D:CC65  6A         			ror	a
         1D:CC66  42         			say
         1D:CC67  6A         			ror	a
         1D:CC68  29 80      			and	#$80
 4110                        		__sub.wt
         1D:CC6A  BA         			tsx
         1D:CC6B  38         			sec
         1D:CC6C  49 FF      			eor	#$FF
         1D:CC6E  7D 01 21   			adc.l	__tos, x
         1D:CC71  42         			say
         1D:CC72  49 FF      			eor	#$FF
         1D:CC74  7D 02 21   			adc.h	__tos, x
         1D:CC77  42         			say
         1D:CC78  E8         			inx
         1D:CC79  E8         			inx
         1D:CC7A  9A         			txs
 4111                        		__call		_sgx_spr_x.1
         1D:CC7B  20 B7 E8   			call	_sgx_spr_x.1
 4112                        	
 4113                        		.dbg	line,	"include\routines_INTRO.c", 68; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 4114                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:CC7E  AD 79 26   			lda	__sequence_INTRO_end - 1
         1D:CC81  C2         			cly
 4115                        		__lsr.uiq	2
         1D:CC82  4A         			lsr	a
         1D:CC83  4A         			lsr	a
 4116                        		__asl.wi	5
         1D:CC84  85 00      			sta	__temp
         1D:CC86  98         			tya
         1D:CC87  4A         			lsr	a
         1D:CC88  20 C8 E1   			jsr	aslw5
         1D:CC8B  29 E0      			and.l	#$FF << 5
 4117                        		__add.wm	_player_pos_y
         1D:CC8D  18         			clc
         1D:CC8E  6D DD 24   			adc.l	_player_pos_y
         1D:CC91  42         			say
         1D:CC92  6D DE 24   			adc.h	_player_pos_y
         1D:CC95  42         			say
 4118                        		__call		_sgx_spr_y.1
         1D:CC96  20 C6 E8   			call	_sgx_spr_y.1
 4119                        	
 4120                        		.dbg	line,	"include\routines_INTRO.c", 69; }
 4121                        		__bra		.LL12
         1D:CC99  80 9E      			bra	.LL12
 4122    1D:CC9B             	.LL14:
 4123                        	
 4124                        		.dbg	line,	"include\routines_INTRO.c", 71; //--------------------------------------------------------------------------------------//
 4125                        	
 4126                        		.dbg	line,	"include\routines_INTRO.c", 72; //                                    DRAGON PATTERN                                    //
 4127                        	
 4128                        		.dbg	line,	"include\routines_INTRO.c", 73; //--------------------------------------------------------------------------------------//
 4129                        	
 4130                        		.dbg	line,	"include\routines_INTRO.c", 75; if(global_counter == 8)
 4131                        		__ld.wm		_global_counter
         1D:CC9B  AD 35 26   			lda.l	_global_counter
         1D:CC9E  AC 36 26   			ldy.h	_global_counter
 4132                        		__equ_w.wi	8
         1D:CCA1  C9 08      			cmp.l	#8
         1D:CCA3  D0 04      			bne	!false+
         1D:CCA5  C0 00      			cpy.h	#8
         1D:CCA7  F0 01      			beq	!+
         1D:CCA9  18         	!false:		clc
         1D:CCAA             	!:
 4133                        		__bfalse	.LL15
         1D:CCAA  90 31      			bcc	.LL15
 4134                        	
 4135                        		.dbg	line,	"include\routines_INTRO.c", 76; {
 4136                        	
 4137                        		.dbg	line,	"include\routines_INTRO.c", 77; for(i=0 ; i<8 ; i++)
 4138                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:CCAC  9C 79 26   			stz	__sequence_INTRO_end - 1
 4139    1D:CCAF             	.LL16:
 4140                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CCAF  AD 79 26   			lda	__sequence_INTRO_end - 1
 4141                        		__ult_b.uiq	8
         1D:CCB2  C9 08      			cmp	#8		; Subtract integer from A.
         1D:CCB4  6A         			ror	a		; CC if A < integer.
         1D:CCB5  49 80      			eor	#$80
         1D:CCB7  2A         			rol	a
 4142                        		__btrue		.LL18
         1D:CCB8  B0 08      			bcs	.LL18
 4143                        		__bra		.LL19
         1D:CCBA  4C 20 CE   			bra	.LL19
 4144    1D:CCBD             	.LL17:
 4145                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:CCBD  EE 79 26   			inc	__sequence_INTRO_end - 1
 4146                        		__bra		.LL16
         1D:CCC0  80 ED      			bra	.LL16
 4147    1D:CCC2             	.LL18:
 4148                        	
 4149                        		.dbg	line,	"include\routines_INTRO.c", 78; {
 4150                        	
 4151                        		.dbg	line,	"include\routines_INTRO.c", 79; sgx_spr_set(i);
 4152                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CCC2  AD 79 26   			lda	__sequence_INTRO_end - 1
 4153                        		__call		_sgx_spr_set.1
         1D:CCC5  20 8A E8   			call	_sgx_spr_set.1
 4154                        	
 4155                        		.dbg	line,	"include\routines_INTRO.c", 80; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16) + TILES_128);
 4156                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:CCC8  AD 79 26   			lda	__sequence_INTRO_end - 1
         1D:CCCB  C2         			cly
 4157                        		__asl.wi	8
         1D:CCCC  A8         			tay
         1D:CCCD  62         			cla
 4158                        		__add.wi	13312
         1D:CCCE  18         			clc
         1D:CCCF  69 00      			adc.l	#13312
         1D:CCD1  42         			say
         1D:CCD2  69 34      			adc.h	#13312
         1D:CCD4  42         			say
 4159                        		__call		_sgx_spr_pattern.1
         1D:CCD5  20 D3 E8   			call	_sgx_spr_pattern.1
 4160                        	
 4161                        		.dbg	line,	"include\routines_INTRO.c", 81; }
 4162                        		__bra		.LL17
         1D:CCD8  80 E3      			bra	.LL17
 4163    1D:CCDA             	.LL19	.alias		.LL20
 4164                        	
 4165                        		.dbg	line,	"include\routines_INTRO.c", 82; }
 4166                        	
 4167                        		.dbg	line,	"include\routines_INTRO.c", 84; else if(global_counter == 16)
 4168                        		__bra		.LL20
         1D:CCDA  4C 20 CE   			bra	.LL20
 4169    1D:CCDD             	.LL15:
 4170                        		__ld.wm		_global_counter
         1D:CCDD  AD 35 26   			lda.l	_global_counter
         1D:CCE0  AC 36 26   			ldy.h	_global_counter
 4171                        		__equ_w.wi	16
         1D:CCE3  C9 10      			cmp.l	#16
         1D:CCE5  D0 04      			bne	!false+
         1D:CCE7  C0 00      			cpy.h	#16
         1D:CCE9  F0 01      			beq	!+
         1D:CCEB  18         	!false:		clc
         1D:CCEC             	!:
 4172                        		__bfalse	.LL21
         1D:CCEC  90 31      			bcc	.LL21
 4173                        	
 4174                        		.dbg	line,	"include\routines_INTRO.c", 85; {
 4175                        	
 4176                        		.dbg	line,	"include\routines_INTRO.c", 86; for(i=0 ; i<8 ; i++)
 4177                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:CCEE  9C 79 26   			stz	__sequence_INTRO_end - 1
 4178    1D:CCF1             	.LL22:
 4179                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CCF1  AD 79 26   			lda	__sequence_INTRO_end - 1
 4180                        		__ult_b.uiq	8
         1D:CCF4  C9 08      			cmp	#8		; Subtract integer from A.
         1D:CCF6  6A         			ror	a		; CC if A < integer.
         1D:CCF7  49 80      			eor	#$80
         1D:CCF9  2A         			rol	a
 4181                        		__btrue		.LL24
         1D:CCFA  B0 08      			bcs	.LL24
 4182                        		__bra		.LL25
         1D:CCFC  4C 20 CE   			bra	.LL25
 4183    1D:CCFF             	.LL23:
 4184                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:CCFF  EE 79 26   			inc	__sequence_INTRO_end - 1
 4185                        		__bra		.LL22
         1D:CD02  80 ED      			bra	.LL22
 4186    1D:CD04             	.LL24:
 4187                        	
 4188                        		.dbg	line,	"include\routines_INTRO.c", 87; {
 4189                        	
 4190                        		.dbg	line,	"include\routines_INTRO.c", 88; sgx_spr_set(i);
 4191                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CD04  AD 79 26   			lda	__sequence_INTRO_end - 1
 4192                        		__call		_sgx_spr_set.1
         1D:CD07  20 8A E8   			call	_sgx_spr_set.1
 4193                        	
 4194                        		.dbg	line,	"include\routines_INTRO.c", 89; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16) + TILES_256);
 4195                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:CD0A  AD 79 26   			lda	__sequence_INTRO_end - 1
         1D:CD0D  C2         			cly
 4196                        		__asl.wi	8
         1D:CD0E  A8         			tay
         1D:CD0F  62         			cla
 4197                        		__add.wi	15360
         1D:CD10  18         			clc
         1D:CD11  69 00      			adc.l	#15360
         1D:CD13  42         			say
         1D:CD14  69 3C      			adc.h	#15360
         1D:CD16  42         			say
 4198                        		__call		_sgx_spr_pattern.1
         1D:CD17  20 D3 E8   			call	_sgx_spr_pattern.1
 4199                        	
 4200                        		.dbg	line,	"include\routines_INTRO.c", 90; }
 4201                        		__bra		.LL23
         1D:CD1A  80 E3      			bra	.LL23
 4202    1D:CD1C             	.LL25	.alias		.LL26
 4203                        	
 4204                        		.dbg	line,	"include\routines_INTRO.c", 91; }
 4205                        	
 4206                        		.dbg	line,	"include\routines_INTRO.c", 93; else if(global_counter == 24)
 4207                        		__bra		.LL26
         1D:CD1C  4C 20 CE   			bra	.LL26
 4208    1D:CD1F             	.LL21:
 4209                        		__ld.wm		_global_counter
         1D:CD1F  AD 35 26   			lda.l	_global_counter
         1D:CD22  AC 36 26   			ldy.h	_global_counter
 4210                        		__equ_w.wi	24
         1D:CD25  C9 18      			cmp.l	#24
         1D:CD27  D0 04      			bne	!false+
         1D:CD29  C0 00      			cpy.h	#24
         1D:CD2B  F0 01      			beq	!+
         1D:CD2D  18         	!false:		clc
         1D:CD2E             	!:
 4211                        		__bfalse	.LL27
         1D:CD2E  90 31      			bcc	.LL27
 4212                        	
 4213                        		.dbg	line,	"include\routines_INTRO.c", 94; {
 4214                        	
 4215                        		.dbg	line,	"include\routines_INTRO.c", 95; for(i=0 ; i<8 ; i++)
 4216                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:CD30  9C 79 26   			stz	__sequence_INTRO_end - 1
 4217    1D:CD33             	.LL28:
 4218                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CD33  AD 79 26   			lda	__sequence_INTRO_end - 1
 4219                        		__ult_b.uiq	8
         1D:CD36  C9 08      			cmp	#8		; Subtract integer from A.
         1D:CD38  6A         			ror	a		; CC if A < integer.
         1D:CD39  49 80      			eor	#$80
         1D:CD3B  2A         			rol	a
 4220                        		__btrue		.LL30
         1D:CD3C  B0 08      			bcs	.LL30
 4221                        		__bra		.LL31
         1D:CD3E  4C 20 CE   			bra	.LL31
 4222    1D:CD41             	.LL29:
 4223                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:CD41  EE 79 26   			inc	__sequence_INTRO_end - 1
 4224                        		__bra		.LL28
         1D:CD44  80 ED      			bra	.LL28
 4225    1D:CD46             	.LL30:
 4226                        	
 4227                        		.dbg	line,	"include\routines_INTRO.c", 96; {
 4228                        	
 4229                        		.dbg	line,	"include\routines_INTRO.c", 97; sgx_spr_set(i);
 4230                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CD46  AD 79 26   			lda	__sequence_INTRO_end - 1
 4231                        		__call		_sgx_spr_set.1
         1D:CD49  20 8A E8   			call	_sgx_spr_set.1
 4232                        	
 4233                        		.dbg	line,	"include\routines_INTRO.c", 98; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16));
 4234                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:CD4C  AD 79 26   			lda	__sequence_INTRO_end - 1
         1D:CD4F  C2         			cly
 4235                        		__asl.wi	8
         1D:CD50  A8         			tay
         1D:CD51  62         			cla
 4236                        		__add.wi	11264
         1D:CD52  18         			clc
         1D:CD53  69 00      			adc.l	#11264
         1D:CD55  42         			say
         1D:CD56  69 2C      			adc.h	#11264
         1D:CD58  42         			say
 4237                        		__call		_sgx_spr_pattern.1
         1D:CD59  20 D3 E8   			call	_sgx_spr_pattern.1
 4238                        	
 4239                        		.dbg	line,	"include\routines_INTRO.c", 99; }
 4240                        		__bra		.LL29
         1D:CD5C  80 E3      			bra	.LL29
 4241    1D:CD5E             	.LL31	.alias		.LL32
 4242                        	
 4243                        		.dbg	line,	"include\routines_INTRO.c", 100; }
 4244                        	
 4245                        		.dbg	line,	"include\routines_INTRO.c", 102; else if(global_counter == 32)
 4246                        		__bra		.LL32
         1D:CD5E  4C 20 CE   			bra	.LL32
 4247    1D:CD61             	.LL27:
 4248                        		__ld.wm		_global_counter
         1D:CD61  AD 35 26   			lda.l	_global_counter
         1D:CD64  AC 36 26   			ldy.h	_global_counter
 4249                        		__equ_w.wi	32
         1D:CD67  C9 20      			cmp.l	#32
         1D:CD69  D0 04      			bne	!false+
         1D:CD6B  C0 00      			cpy.h	#32
         1D:CD6D  F0 01      			beq	!+
         1D:CD6F  18         	!false:		clc
         1D:CD70             	!:
 4250                        		__bfalse	.LL33
         1D:CD70  90 30      			bcc	.LL33
 4251                        	
 4252                        		.dbg	line,	"include\routines_INTRO.c", 103; {
 4253                        	
 4254                        		.dbg	line,	"include\routines_INTRO.c", 104; for(i=0 ; i<8 ; i++)
 4255                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:CD72  9C 79 26   			stz	__sequence_INTRO_end - 1
 4256    1D:CD75             	.LL34:
 4257                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CD75  AD 79 26   			lda	__sequence_INTRO_end - 1
 4258                        		__ult_b.uiq	8
         1D:CD78  C9 08      			cmp	#8		; Subtract integer from A.
         1D:CD7A  6A         			ror	a		; CC if A < integer.
         1D:CD7B  49 80      			eor	#$80
         1D:CD7D  2A         			rol	a
 4259                        		__btrue		.LL36
         1D:CD7E  B0 08      			bcs	.LL36
 4260                        		__bra		.LL37
         1D:CD80  4C 20 CE   			bra	.LL37
 4261    1D:CD83             	.LL35:
 4262                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:CD83  EE 79 26   			inc	__sequence_INTRO_end - 1
 4263                        		__bra		.LL34
         1D:CD86  80 ED      			bra	.LL34
 4264    1D:CD88             	.LL36:
 4265                        	
 4266                        		.dbg	line,	"include\routines_INTRO.c", 105; {
 4267                        	
 4268                        		.dbg	line,	"include\routines_INTRO.c", 106; sgx_spr_set(i);
 4269                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CD88  AD 79 26   			lda	__sequence_INTRO_end - 1
 4270                        		__call		_sgx_spr_set.1
         1D:CD8B  20 8A E8   			call	_sgx_spr_set.1
 4271                        	
 4272                        		.dbg	line,	"include\routines_INTRO.c", 107; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16) + TILES_128);
 4273                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:CD8E  AD 79 26   			lda	__sequence_INTRO_end - 1
         1D:CD91  C2         			cly
 4274                        		__asl.wi	8
         1D:CD92  A8         			tay
         1D:CD93  62         			cla
 4275                        		__add.wi	13312
         1D:CD94  18         			clc
         1D:CD95  69 00      			adc.l	#13312
         1D:CD97  42         			say
         1D:CD98  69 34      			adc.h	#13312
         1D:CD9A  42         			say
 4276                        		__call		_sgx_spr_pattern.1
         1D:CD9B  20 D3 E8   			call	_sgx_spr_pattern.1
 4277                        	
 4278                        		.dbg	line,	"include\routines_INTRO.c", 108; }
 4279                        		__bra		.LL35
         1D:CD9E  80 E3      			bra	.LL35
 4280    1D:CDA0             	.LL37	.alias		.LL38
 4281                        	
 4282                        		.dbg	line,	"include\routines_INTRO.c", 109; }
 4283                        	
 4284                        		.dbg	line,	"include\routines_INTRO.c", 111; else if(global_counter == 40)
 4285                        		__bra		.LL38
         1D:CDA0  80 7E      			bra	.LL38
 4286    1D:CDA2             	.LL33:
 4287                        		__ld.wm		_global_counter
         1D:CDA2  AD 35 26   			lda.l	_global_counter
         1D:CDA5  AC 36 26   			ldy.h	_global_counter
 4288                        		__equ_w.wi	40
         1D:CDA8  C9 28      			cmp.l	#40
         1D:CDAA  D0 04      			bne	!false+
         1D:CDAC  C0 00      			cpy.h	#40
         1D:CDAE  F0 01      			beq	!+
         1D:CDB0  18         	!false:		clc
         1D:CDB1             	!:
 4289                        		__bfalse	.LL39
         1D:CDB1  90 2F      			bcc	.LL39
 4290                        	
 4291                        		.dbg	line,	"include\routines_INTRO.c", 112; {
 4292                        	
 4293                        		.dbg	line,	"include\routines_INTRO.c", 113; for(i=0 ; i<8 ; i++)
 4294                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:CDB3  9C 79 26   			stz	__sequence_INTRO_end - 1
 4295    1D:CDB6             	.LL40:
 4296                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CDB6  AD 79 26   			lda	__sequence_INTRO_end - 1
 4297                        		__ult_b.uiq	8
         1D:CDB9  C9 08      			cmp	#8		; Subtract integer from A.
         1D:CDBB  6A         			ror	a		; CC if A < integer.
         1D:CDBC  49 80      			eor	#$80
         1D:CDBE  2A         			rol	a
 4298                        		__btrue		.LL42
         1D:CDBF  B0 07      			bcs	.LL42
 4299                        		__bra		.LL43
         1D:CDC1  80 5D      			bra	.LL43
 4300    1D:CDC3             	.LL41:
 4301                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:CDC3  EE 79 26   			inc	__sequence_INTRO_end - 1
 4302                        		__bra		.LL40
         1D:CDC6  80 EE      			bra	.LL40
 4303    1D:CDC8             	.LL42:
 4304                        	
 4305                        		.dbg	line,	"include\routines_INTRO.c", 114; {
 4306                        	
 4307                        		.dbg	line,	"include\routines_INTRO.c", 115; sgx_spr_set(i);
 4308                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CDC8  AD 79 26   			lda	__sequence_INTRO_end - 1
 4309                        		__call		_sgx_spr_set.1
         1D:CDCB  20 8A E8   			call	_sgx_spr_set.1
 4310                        	
 4311                        		.dbg	line,	"include\routines_INTRO.c", 116; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16) + TILES_256);
 4312                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:CDCE  AD 79 26   			lda	__sequence_INTRO_end - 1
         1D:CDD1  C2         			cly
 4313                        		__asl.wi	8
         1D:CDD2  A8         			tay
         1D:CDD3  62         			cla
 4314                        		__add.wi	15360
         1D:CDD4  18         			clc
         1D:CDD5  69 00      			adc.l	#15360
         1D:CDD7  42         			say
         1D:CDD8  69 3C      			adc.h	#15360
         1D:CDDA  42         			say
 4315                        		__call		_sgx_spr_pattern.1
         1D:CDDB  20 D3 E8   			call	_sgx_spr_pattern.1
 4316                        	
 4317                        		.dbg	line,	"include\routines_INTRO.c", 117; }
 4318                        		__bra		.LL41
         1D:CDDE  80 E3      			bra	.LL41
 4319    1D:CDE0             	.LL43	.alias		.LL44
 4320                        	
 4321                        		.dbg	line,	"include\routines_INTRO.c", 118; }
 4322                        	
 4323                        		.dbg	line,	"include\routines_INTRO.c", 120; else if(global_counter == 48)
 4324                        		__bra		.LL44
         1D:CDE0  80 3E      			bra	.LL44
 4325    1D:CDE2             	.LL39:
 4326                        		__ld.wm		_global_counter
         1D:CDE2  AD 35 26   			lda.l	_global_counter
         1D:CDE5  AC 36 26   			ldy.h	_global_counter
 4327                        		__equ_w.wi	48
         1D:CDE8  C9 30      			cmp.l	#48
         1D:CDEA  D0 04      			bne	!false+
         1D:CDEC  C0 00      			cpy.h	#48
         1D:CDEE  F0 01      			beq	!+
         1D:CDF0  18         	!false:		clc
         1D:CDF1             	!:
 4328                        		__bfalse	.LL45
         1D:CDF1  90 2D      			bcc	.LL45
 4329                        	
 4330                        		.dbg	line,	"include\routines_INTRO.c", 121; {
 4331                        	
 4332                        		.dbg	line,	"include\routines_INTRO.c", 122; for(i=0 ; i<8 ; i++)
 4333                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:CDF3  9C 79 26   			stz	__sequence_INTRO_end - 1
 4334    1D:CDF6             	.LL46:
 4335                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CDF6  AD 79 26   			lda	__sequence_INTRO_end - 1
 4336                        		__ult_b.uiq	8
         1D:CDF9  C9 08      			cmp	#8		; Subtract integer from A.
         1D:CDFB  6A         			ror	a		; CC if A < integer.
         1D:CDFC  49 80      			eor	#$80
         1D:CDFE  2A         			rol	a
 4337                        		__btrue		.LL48
         1D:CDFF  B0 07      			bcs	.LL48
 4338                        		__bra		.LL49
         1D:CE01  80 1D      			bra	.LL49
 4339    1D:CE03             	.LL47:
 4340                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:CE03  EE 79 26   			inc	__sequence_INTRO_end - 1
 4341                        		__bra		.LL46
         1D:CE06  80 EE      			bra	.LL46
 4342    1D:CE08             	.LL48:
 4343                        	
 4344                        		.dbg	line,	"include\routines_INTRO.c", 123; {
 4345                        	
 4346                        		.dbg	line,	"include\routines_INTRO.c", 124; sgx_spr_set(i);
 4347                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CE08  AD 79 26   			lda	__sequence_INTRO_end - 1
 4348                        		__call		_sgx_spr_set.1
         1D:CE0B  20 8A E8   			call	_sgx_spr_set.1
 4349                        	
 4350                        		.dbg	line,	"include\routines_INTRO.c", 125; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16) + TILES_384);
 4351                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:CE0E  AD 79 26   			lda	__sequence_INTRO_end - 1
         1D:CE11  C2         			cly
 4352                        		__asl.wi	8
         1D:CE12  A8         			tay
         1D:CE13  62         			cla
 4353                        		__add.wi	17408
         1D:CE14  18         			clc
         1D:CE15  69 00      			adc.l	#17408
         1D:CE17  42         			say
         1D:CE18  69 44      			adc.h	#17408
         1D:CE1A  42         			say
 4354                        		__call		_sgx_spr_pattern.1
         1D:CE1B  20 D3 E8   			call	_sgx_spr_pattern.1
 4355                        	
 4356                        		.dbg	line,	"include\routines_INTRO.c", 126; }
 4357                        		__bra		.LL47
         1D:CE1E  80 E3      			bra	.LL47
 4358    1D:CE20             	.LL49:
 4359                        	
 4360                        		.dbg	line,	"include\routines_INTRO.c", 127; }
 4361                        	
 4362                        		.dbg	line,	"include\routines_INTRO.c", 128; }
 4363    1D:CE20             	.LL45:
 4364    1D:CE20             	.LL44:
 4365    1D:CE20             	.LL38:
 4366    1D:CE20             	.LL32:
 4367    1D:CE20             	.LL26:
 4368    1D:CE20             	.LL20:
 4369                        	
 4370                        		.dbg	line,	"include\routines_INTRO.c", 133; //--------------------------------------------------------------------------------------//
 4371                        	
 4372                        		.dbg	line,	"include\routines_INTRO.c", 134; //                                        BOLTS                                         //
 4373                        	
 4374                        		.dbg	line,	"include\routines_INTRO.c", 135; //--------------------------------------------------------------------------------------//
 4375                        	
 4376                        		.dbg	line,	"include\routines_INTRO.c", 137; if(global_counter == 71)
 4377    1D:CE20             	.LL10:
 4378                        		__ld.wm		_global_counter
         1D:CE20  AD 35 26   			lda.l	_global_counter
         1D:CE23  AC 36 26   			ldy.h	_global_counter
 4379                        		__equ_w.wi	71
         1D:CE26  C9 47      			cmp.l	#71
         1D:CE28  D0 04      			bne	!false+
         1D:CE2A  C0 00      			cpy.h	#71
         1D:CE2C  F0 01      			beq	!+
         1D:CE2E  18         	!false:		clc
         1D:CE2F             	!:
 4380                        		__bfalse	.LL50
         1D:CE2F  90 4B      			bcc	.LL50
 4381                        	
 4382                        		.dbg	line,	"include\routines_INTRO.c", 138; {
 4383                        	
 4384                        		.dbg	line,	"include\routines_INTRO.c", 139; load_palette( 0, palette_INTRO_3, 1 );
 4385                        		__st.umiq	0, _al
         1D:CE31  64 F8      			stz	_al
 4386                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         1D:CE33  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:CE35  85 EC      			sta.l	_bp
         1D:CE37  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:CE39  85 ED      			sta.h	_bp
         1D:CE3B  A9 06      			lda	#bank(_palette_INTRO_3)
         1D:CE3D  85 02      			sta	_bp_bank
 4387                        		__st.umiq	1, _ah
         1D:CE3F  A9 01      			lda.l	#1
         1D:CE41  85 F9      			sta	_ah
 4388                        		__call		_load_palette.3
         1D:CE43  20 8B FF   			call	_load_palette.3
 4389                        	
 4390                        		.dbg	line,	"include\routines_INTRO.c", 141; vdc_map_pxl_x = 256;
 4391                        		__st.wmiq	256, _vdc_map_pxl_x
         1D:CE46  9C AE 26   			stz.l	_vdc_map_pxl_x
         1D:CE49  A9 01      			lda.h	#256
         1D:CE4B  8D AF 26   			sta.h	_vdc_map_pxl_x
 4392                        	
 4393                        		.dbg	line,	"include\routines_INTRO.c", 142; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4394                        		__st.umiq	0, _al
         1D:CE4E  64 F8      			stz	_al
 4395                        		__st.umiq	0, _ah
         1D:CE50  64 F9      			stz	_ah
 4396                        		__ld.wm		_vdc_map_pxl_x
         1D:CE52  AD AE 26   			lda.l	_vdc_map_pxl_x
         1D:CE55  AC AF 26   			ldy.h	_vdc_map_pxl_x
 4397                        		__and.wi	511
         1D:CE58  29 FF      			and.l	#511
         1D:CE5A  42         			say
         1D:CE5B  29 01      			and.h	#511
         1D:CE5D  42         			say
 4398                        		__st.wmq	_bx
         1D:CE5E  85 FA      			sta.l	_bx
         1D:CE60  84 FB      			sty.h	_bx
 4399                        		__ld.wm		_vdc_map_pxl_y
         1D:CE62  AD B0 26   			lda.l	_vdc_map_pxl_y
         1D:CE65  AC B1 26   			ldy.h	_vdc_map_pxl_y
 4400                        		__and.wi	511
         1D:CE68  29 FF      			and.l	#511
         1D:CE6A  42         			say
         1D:CE6B  29 01      			and.h	#511
         1D:CE6D  42         			say
 4401                        		__st.wmq	_cx
         1D:CE6E  85 FC      			sta.l	_cx
         1D:CE70  84 FD      			sty.h	_cx
 4402                        		__st.umiq	192, _dl
         1D:CE72  A9 C0      			lda.l	#192
         1D:CE74  85 FE      			sta	_dl
 4403                        		__call		_scroll_split.5
         1D:CE76  20 81 FF   			call	_scroll_split.5
 4404                        	
 4405                        		.dbg	line,	"include\routines_INTRO.c", 143; }
 4406                        	
 4407                        		.dbg	line,	"include\routines_INTRO.c", 145; else if(global_counter == 76)
 4408                        		__bra		.LL51
         1D:CE79  4C 64 DA   			bra	.LL51
 4409    1D:CE7C             	.LL50:
 4410                        		__ld.wm		_global_counter
         1D:CE7C  AD 35 26   			lda.l	_global_counter
         1D:CE7F  AC 36 26   			ldy.h	_global_counter
 4411                        		__equ_w.wi	76
         1D:CE82  C9 4C      			cmp.l	#76
         1D:CE84  D0 04      			bne	!false+
         1D:CE86  C0 00      			cpy.h	#76
         1D:CE88  F0 01      			beq	!+
         1D:CE8A  18         	!false:		clc
         1D:CE8B             	!:
 4412                        		__bfalse	.LL52
         1D:CE8B  90 49      			bcc	.LL52
 4413                        	
 4414                        		.dbg	line,	"include\routines_INTRO.c", 146; {
 4415                        	
 4416                        		.dbg	line,	"include\routines_INTRO.c", 147; vdc_map_pxl_x = 0;
 4417                        		__st.wmiq	0, _vdc_map_pxl_x
         1D:CE8D  9C AE 26   			stz.l	_vdc_map_pxl_x
         1D:CE90  9C AF 26   			stz.h	_vdc_map_pxl_x
 4418                        	
 4419                        		.dbg	line,	"include\routines_INTRO.c", 148; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4420                        		__st.umiq	0, _al
         1D:CE93  64 F8      			stz	_al
 4421                        		__st.umiq	0, _ah
         1D:CE95  64 F9      			stz	_ah
 4422                        		__ld.wm		_vdc_map_pxl_x
         1D:CE97  AD AE 26   			lda.l	_vdc_map_pxl_x
         1D:CE9A  AC AF 26   			ldy.h	_vdc_map_pxl_x
 4423                        		__and.wi	511
         1D:CE9D  29 FF      			and.l	#511
         1D:CE9F  42         			say
         1D:CEA0  29 01      			and.h	#511
         1D:CEA2  42         			say
 4424                        		__st.wmq	_bx
         1D:CEA3  85 FA      			sta.l	_bx
         1D:CEA5  84 FB      			sty.h	_bx
 4425                        		__ld.wm		_vdc_map_pxl_y
         1D:CEA7  AD B0 26   			lda.l	_vdc_map_pxl_y
         1D:CEAA  AC B1 26   			ldy.h	_vdc_map_pxl_y
 4426                        		__and.wi	511
         1D:CEAD  29 FF      			and.l	#511
         1D:CEAF  42         			say
         1D:CEB0  29 01      			and.h	#511
         1D:CEB2  42         			say
 4427                        		__st.wmq	_cx
         1D:CEB3  85 FC      			sta.l	_cx
         1D:CEB5  84 FD      			sty.h	_cx
 4428                        		__st.umiq	192, _dl
         1D:CEB7  A9 C0      			lda.l	#192
         1D:CEB9  85 FE      			sta	_dl
 4429                        		__call		_scroll_split.5
         1D:CEBB  20 81 FF   			call	_scroll_split.5
 4430                        	
 4431                        		.dbg	line,	"include\routines_INTRO.c", 150; load_palette( 0, palette_INTRO_2, 1 );
 4432                        		__st.umiq	0, _al
         1D:CEBE  64 F8      			stz	_al
 4433                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         1D:CEC0  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:CEC2  85 EC      			sta.l	_bp
         1D:CEC4  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:CEC6  85 ED      			sta.h	_bp
         1D:CEC8  A9 06      			lda	#bank(_palette_INTRO_2)
         1D:CECA  85 02      			sta	_bp_bank
 4434                        		__st.umiq	1, _ah
         1D:CECC  A9 01      			lda.l	#1
         1D:CECE  85 F9      			sta	_ah
 4435                        		__call		_load_palette.3
         1D:CED0  20 8B FF   			call	_load_palette.3
 4436                        	
 4437                        		.dbg	line,	"include\routines_INTRO.c", 151; }
 4438                        	
 4439                        		.dbg	line,	"include\routines_INTRO.c", 153; else if(global_counter == 136)
 4440                        		__bra		.LL53
         1D:CED3  4C 64 DA   			bra	.LL53
 4441    1D:CED6             	.LL52:
 4442                        		__ld.wm		_global_counter
         1D:CED6  AD 35 26   			lda.l	_global_counter
         1D:CED9  AC 36 26   			ldy.h	_global_counter
 4443                        		__equ_w.wi	136
         1D:CEDC  C9 88      			cmp.l	#136
         1D:CEDE  D0 04      			bne	!false+
         1D:CEE0  C0 00      			cpy.h	#136
         1D:CEE2  F0 01      			beq	!+
         1D:CEE4  18         	!false:		clc
         1D:CEE5             	!:
 4444                        		__bfalse	.LL54
         1D:CEE5  90 4B      			bcc	.LL54
 4445                        	
 4446                        		.dbg	line,	"include\routines_INTRO.c", 154; {
 4447                        	
 4448                        		.dbg	line,	"include\routines_INTRO.c", 155; load_palette( 0, palette_INTRO_3, 1 );
 4449                        		__st.umiq	0, _al
         1D:CEE7  64 F8      			stz	_al
 4450                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         1D:CEE9  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:CEEB  85 EC      			sta.l	_bp
         1D:CEED  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:CEEF  85 ED      			sta.h	_bp
         1D:CEF1  A9 06      			lda	#bank(_palette_INTRO_3)
         1D:CEF3  85 02      			sta	_bp_bank
 4451                        		__st.umiq	1, _ah
         1D:CEF5  A9 01      			lda.l	#1
         1D:CEF7  85 F9      			sta	_ah
 4452                        		__call		_load_palette.3
         1D:CEF9  20 8B FF   			call	_load_palette.3
 4453                        	
 4454                        		.dbg	line,	"include\routines_INTRO.c", 157; vdc_map_pxl_x = 256;
 4455                        		__st.wmiq	256, _vdc_map_pxl_x
         1D:CEFC  9C AE 26   			stz.l	_vdc_map_pxl_x
         1D:CEFF  A9 01      			lda.h	#256
         1D:CF01  8D AF 26   			sta.h	_vdc_map_pxl_x
 4456                        	
 4457                        		.dbg	line,	"include\routines_INTRO.c", 158; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4458                        		__st.umiq	0, _al
         1D:CF04  64 F8      			stz	_al
 4459                        		__st.umiq	0, _ah
         1D:CF06  64 F9      			stz	_ah
 4460                        		__ld.wm		_vdc_map_pxl_x
         1D:CF08  AD AE 26   			lda.l	_vdc_map_pxl_x
         1D:CF0B  AC AF 26   			ldy.h	_vdc_map_pxl_x
 4461                        		__and.wi	511
         1D:CF0E  29 FF      			and.l	#511
         1D:CF10  42         			say
         1D:CF11  29 01      			and.h	#511
         1D:CF13  42         			say
 4462                        		__st.wmq	_bx
         1D:CF14  85 FA      			sta.l	_bx
         1D:CF16  84 FB      			sty.h	_bx
 4463                        		__ld.wm		_vdc_map_pxl_y
         1D:CF18  AD B0 26   			lda.l	_vdc_map_pxl_y
         1D:CF1B  AC B1 26   			ldy.h	_vdc_map_pxl_y
 4464                        		__and.wi	511
         1D:CF1E  29 FF      			and.l	#511
         1D:CF20  42         			say
         1D:CF21  29 01      			and.h	#511
         1D:CF23  42         			say
 4465                        		__st.wmq	_cx
         1D:CF24  85 FC      			sta.l	_cx
         1D:CF26  84 FD      			sty.h	_cx
 4466                        		__st.umiq	192, _dl
         1D:CF28  A9 C0      			lda.l	#192
         1D:CF2A  85 FE      			sta	_dl
 4467                        		__call		_scroll_split.5
         1D:CF2C  20 81 FF   			call	_scroll_split.5
 4468                        	
 4469                        		.dbg	line,	"include\routines_INTRO.c", 159; }
 4470                        	
 4471                        		.dbg	line,	"include\routines_INTRO.c", 161; else if(global_counter == 140)
 4472                        		__bra		.LL55
         1D:CF2F  4C 64 DA   			bra	.LL55
 4473    1D:CF32             	.LL54:
 4474                        		__ld.wm		_global_counter
         1D:CF32  AD 35 26   			lda.l	_global_counter
         1D:CF35  AC 36 26   			ldy.h	_global_counter
 4475                        		__equ_w.wi	140
         1D:CF38  C9 8C      			cmp.l	#140
         1D:CF3A  D0 04      			bne	!false+
         1D:CF3C  C0 00      			cpy.h	#140
         1D:CF3E  F0 01      			beq	!+
         1D:CF40  18         	!false:		clc
         1D:CF41             	!:
 4476                        		__bfalse	.LL56
         1D:CF41  90 34      			bcc	.LL56
 4477                        	
 4478                        		.dbg	line,	"include\routines_INTRO.c", 162; {
 4479                        	
 4480                        		.dbg	line,	"include\routines_INTRO.c", 163; vdc_map_pxl_x = 0;
 4481                        		__st.wmiq	0, _vdc_map_pxl_x
         1D:CF43  9C AE 26   			stz.l	_vdc_map_pxl_x
         1D:CF46  9C AF 26   			stz.h	_vdc_map_pxl_x
 4482                        	
 4483                        		.dbg	line,	"include\routines_INTRO.c", 164; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4484                        		__st.umiq	0, _al
         1D:CF49  64 F8      			stz	_al
 4485                        		__st.umiq	0, _ah
         1D:CF4B  64 F9      			stz	_ah
 4486                        		__ld.wm		_vdc_map_pxl_x
         1D:CF4D  AD AE 26   			lda.l	_vdc_map_pxl_x
         1D:CF50  AC AF 26   			ldy.h	_vdc_map_pxl_x
 4487                        		__and.wi	511
         1D:CF53  29 FF      			and.l	#511
         1D:CF55  42         			say
         1D:CF56  29 01      			and.h	#511
         1D:CF58  42         			say
 4488                        		__st.wmq	_bx
         1D:CF59  85 FA      			sta.l	_bx
         1D:CF5B  84 FB      			sty.h	_bx
 4489                        		__ld.wm		_vdc_map_pxl_y
         1D:CF5D  AD B0 26   			lda.l	_vdc_map_pxl_y
         1D:CF60  AC B1 26   			ldy.h	_vdc_map_pxl_y
 4490                        		__and.wi	511
         1D:CF63  29 FF      			and.l	#511
         1D:CF65  42         			say
         1D:CF66  29 01      			and.h	#511
         1D:CF68  42         			say
 4491                        		__st.wmq	_cx
         1D:CF69  85 FC      			sta.l	_cx
         1D:CF6B  84 FD      			sty.h	_cx
 4492                        		__st.umiq	192, _dl
         1D:CF6D  A9 C0      			lda.l	#192
         1D:CF6F  85 FE      			sta	_dl
 4493                        		__call		_scroll_split.5
         1D:CF71  20 81 FF   			call	_scroll_split.5
 4494                        	
 4495                        		.dbg	line,	"include\routines_INTRO.c", 165; }
 4496                        	
 4497                        		.dbg	line,	"include\routines_INTRO.c", 167; else if(global_counter == 141)
 4498                        		__bra		.LL57
         1D:CF74  4C 64 DA   			bra	.LL57
 4499    1D:CF77             	.LL56:
 4500                        		__ld.wm		_global_counter
         1D:CF77  AD 35 26   			lda.l	_global_counter
         1D:CF7A  AC 36 26   			ldy.h	_global_counter
 4501                        		__equ_w.wi	141
         1D:CF7D  C9 8D      			cmp.l	#141
         1D:CF7F  D0 04      			bne	!false+
         1D:CF81  C0 00      			cpy.h	#141
         1D:CF83  F0 01      			beq	!+
         1D:CF85  18         	!false:		clc
         1D:CF86             	!:
 4502                        		__bfalse	.LL58
         1D:CF86  90 18      			bcc	.LL58
 4503                        	
 4504                        		.dbg	line,	"include\routines_INTRO.c", 168; {
 4505                        	
 4506                        		.dbg	line,	"include\routines_INTRO.c", 169; load_palette( 0, palette_INTRO_2, 1 );
 4507                        		__st.umiq	0, _al
         1D:CF88  64 F8      			stz	_al
 4508                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         1D:CF8A  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:CF8C  85 EC      			sta.l	_bp
         1D:CF8E  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:CF90  85 ED      			sta.h	_bp
         1D:CF92  A9 06      			lda	#bank(_palette_INTRO_2)
         1D:CF94  85 02      			sta	_bp_bank
 4509                        		__st.umiq	1, _ah
         1D:CF96  A9 01      			lda.l	#1
         1D:CF98  85 F9      			sta	_ah
 4510                        		__call		_load_palette.3
         1D:CF9A  20 8B FF   			call	_load_palette.3
 4511                        	
 4512                        		.dbg	line,	"include\routines_INTRO.c", 170; }
 4513                        	
 4514                        		.dbg	line,	"include\routines_INTRO.c", 172; else if(global_counter == 145)
 4515                        		__bra		.LL59
         1D:CF9D  4C 64 DA   			bra	.LL59
 4516    1D:CFA0             	.LL58:
 4517                        		__ld.wm		_global_counter
         1D:CFA0  AD 35 26   			lda.l	_global_counter
         1D:CFA3  AC 36 26   			ldy.h	_global_counter
 4518                        		__equ_w.wi	145
         1D:CFA6  C9 91      			cmp.l	#145
         1D:CFA8  D0 04      			bne	!false+
         1D:CFAA  C0 00      			cpy.h	#145
         1D:CFAC  F0 01      			beq	!+
         1D:CFAE  18         	!false:		clc
         1D:CFAF             	!:
 4519                        		__bfalse	.LL60
         1D:CFAF  90 4B      			bcc	.LL60
 4520                        	
 4521                        		.dbg	line,	"include\routines_INTRO.c", 173; {
 4522                        	
 4523                        		.dbg	line,	"include\routines_INTRO.c", 174; vdc_map_pxl_y = 256;
 4524                        		__st.wmiq	256, _vdc_map_pxl_y
         1D:CFB1  9C B0 26   			stz.l	_vdc_map_pxl_y
         1D:CFB4  A9 01      			lda.h	#256
         1D:CFB6  8D B1 26   			sta.h	_vdc_map_pxl_y
 4525                        	
 4526                        		.dbg	line,	"include\routines_INTRO.c", 175; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4527                        		__st.umiq	0, _al
         1D:CFB9  64 F8      			stz	_al
 4528                        		__st.umiq	0, _ah
         1D:CFBB  64 F9      			stz	_ah
 4529                        		__ld.wm		_vdc_map_pxl_x
         1D:CFBD  AD AE 26   			lda.l	_vdc_map_pxl_x
         1D:CFC0  AC AF 26   			ldy.h	_vdc_map_pxl_x
 4530                        		__and.wi	511
         1D:CFC3  29 FF      			and.l	#511
         1D:CFC5  42         			say
         1D:CFC6  29 01      			and.h	#511
         1D:CFC8  42         			say
 4531                        		__st.wmq	_bx
         1D:CFC9  85 FA      			sta.l	_bx
         1D:CFCB  84 FB      			sty.h	_bx
 4532                        		__ld.wm		_vdc_map_pxl_y
         1D:CFCD  AD B0 26   			lda.l	_vdc_map_pxl_y
         1D:CFD0  AC B1 26   			ldy.h	_vdc_map_pxl_y
 4533                        		__and.wi	511
         1D:CFD3  29 FF      			and.l	#511
         1D:CFD5  42         			say
         1D:CFD6  29 01      			and.h	#511
         1D:CFD8  42         			say
 4534                        		__st.wmq	_cx
         1D:CFD9  85 FC      			sta.l	_cx
         1D:CFDB  84 FD      			sty.h	_cx
 4535                        		__st.umiq	192, _dl
         1D:CFDD  A9 C0      			lda.l	#192
         1D:CFDF  85 FE      			sta	_dl
 4536                        		__call		_scroll_split.5
         1D:CFE1  20 81 FF   			call	_scroll_split.5
 4537                        	
 4538                        		.dbg	line,	"include\routines_INTRO.c", 177; load_palette( 0, palette_INTRO_3, 1 );
 4539                        		__st.umiq	0, _al
         1D:CFE4  64 F8      			stz	_al
 4540                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         1D:CFE6  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:CFE8  85 EC      			sta.l	_bp
         1D:CFEA  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:CFEC  85 ED      			sta.h	_bp
         1D:CFEE  A9 06      			lda	#bank(_palette_INTRO_3)
         1D:CFF0  85 02      			sta	_bp_bank
 4541                        		__st.umiq	1, _ah
         1D:CFF2  A9 01      			lda.l	#1
         1D:CFF4  85 F9      			sta	_ah
 4542                        		__call		_load_palette.3
         1D:CFF6  20 8B FF   			call	_load_palette.3
 4543                        	
 4544                        		.dbg	line,	"include\routines_INTRO.c", 178; }
 4545                        	
 4546                        		.dbg	line,	"include\routines_INTRO.c", 180; else if(global_counter == 149)
 4547                        		__bra		.LL61
         1D:CFF9  4C 64 DA   			bra	.LL61
 4548    1D:CFFC             	.LL60:
 4549                        		__ld.wm		_global_counter
         1D:CFFC  AD 35 26   			lda.l	_global_counter
         1D:CFFF  AC 36 26   			ldy.h	_global_counter
 4550                        		__equ_w.wi	149
         1D:D002  C9 95      			cmp.l	#149
         1D:D004  D0 04      			bne	!false+
         1D:D006  C0 00      			cpy.h	#149
         1D:D008  F0 01      			beq	!+
         1D:D00A  18         	!false:		clc
         1D:D00B             	!:
 4551                        		__bfalse	.LL62
         1D:D00B  90 34      			bcc	.LL62
 4552                        	
 4553                        		.dbg	line,	"include\routines_INTRO.c", 181; {
 4554                        	
 4555                        		.dbg	line,	"include\routines_INTRO.c", 182; vdc_map_pxl_y = 0;
 4556                        		__st.wmiq	0, _vdc_map_pxl_y
         1D:D00D  9C B0 26   			stz.l	_vdc_map_pxl_y
         1D:D010  9C B1 26   			stz.h	_vdc_map_pxl_y
 4557                        	
 4558                        		.dbg	line,	"include\routines_INTRO.c", 183; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4559                        		__st.umiq	0, _al
         1D:D013  64 F8      			stz	_al
 4560                        		__st.umiq	0, _ah
         1D:D015  64 F9      			stz	_ah
 4561                        		__ld.wm		_vdc_map_pxl_x
         1D:D017  AD AE 26   			lda.l	_vdc_map_pxl_x
         1D:D01A  AC AF 26   			ldy.h	_vdc_map_pxl_x
 4562                        		__and.wi	511
         1D:D01D  29 FF      			and.l	#511
         1D:D01F  42         			say
         1D:D020  29 01      			and.h	#511
         1D:D022  42         			say
 4563                        		__st.wmq	_bx
         1D:D023  85 FA      			sta.l	_bx
         1D:D025  84 FB      			sty.h	_bx
 4564                        		__ld.wm		_vdc_map_pxl_y
         1D:D027  AD B0 26   			lda.l	_vdc_map_pxl_y
         1D:D02A  AC B1 26   			ldy.h	_vdc_map_pxl_y
 4565                        		__and.wi	511
         1D:D02D  29 FF      			and.l	#511
         1D:D02F  42         			say
         1D:D030  29 01      			and.h	#511
         1D:D032  42         			say
 4566                        		__st.wmq	_cx
         1D:D033  85 FC      			sta.l	_cx
         1D:D035  84 FD      			sty.h	_cx
 4567                        		__st.umiq	192, _dl
         1D:D037  A9 C0      			lda.l	#192
         1D:D039  85 FE      			sta	_dl
 4568                        		__call		_scroll_split.5
         1D:D03B  20 81 FF   			call	_scroll_split.5
 4569                        	
 4570                        		.dbg	line,	"include\routines_INTRO.c", 184; }
 4571                        	
 4572                        		.dbg	line,	"include\routines_INTRO.c", 186; else if(global_counter == 150)
 4573                        		__bra		.LL63
         1D:D03E  4C 64 DA   			bra	.LL63
 4574    1D:D041             	.LL62:
 4575                        		__ld.wm		_global_counter
         1D:D041  AD 35 26   			lda.l	_global_counter
         1D:D044  AC 36 26   			ldy.h	_global_counter
 4576                        		__equ_w.wi	150
         1D:D047  C9 96      			cmp.l	#150
         1D:D049  D0 04      			bne	!false+
         1D:D04B  C0 00      			cpy.h	#150
         1D:D04D  F0 01      			beq	!+
         1D:D04F  18         	!false:		clc
         1D:D050             	!:
 4577                        		__bfalse	.LL64
         1D:D050  90 38      			bcc	.LL64
 4578                        	
 4579                        		.dbg	line,	"include\routines_INTRO.c", 187; {
 4580                        	
 4581                        		.dbg	line,	"include\routines_INTRO.c", 188; for(i=0 ; i<8 ; i++)
 4582                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D052  9C 79 26   			stz	__sequence_INTRO_end - 1
 4583    1D:D055             	.LL65:
 4584                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D055  AD 79 26   			lda	__sequence_INTRO_end - 1
 4585                        		__ult_b.uiq	8
         1D:D058  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D05A  6A         			ror	a		; CC if A < integer.
         1D:D05B  49 80      			eor	#$80
         1D:D05D  2A         			rol	a
 4586                        		__btrue		.LL67
         1D:D05E  B0 07      			bcs	.LL67
 4587                        		__bra		.LL68
         1D:D060  80 10      			bra	.LL68
 4588    1D:D062             	.LL66:
 4589                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D062  EE 79 26   			inc	__sequence_INTRO_end - 1
 4590                        		__bra		.LL65
         1D:D065  80 EE      			bra	.LL65
 4591    1D:D067             	.LL67:
 4592                        	
 4593                        		.dbg	line,	"include\routines_INTRO.c", 189; {
 4594                        	
 4595                        		.dbg	line,	"include\routines_INTRO.c", 190; sgx_spr_set(i);
 4596                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D067  AD 79 26   			lda	__sequence_INTRO_end - 1
 4597                        		__call		_sgx_spr_set.1
         1D:D06A  20 8A E8   			call	_sgx_spr_set.1
 4598                        	
 4599                        		.dbg	line,	"include\routines_INTRO.c", 191; sgx_spr_hide();
 4600                        		__call		_sgx_spr_hide
         1D:D06D  20 A5 E8   			call	_sgx_spr_hide
 4601                        	
 4602                        		.dbg	line,	"include\routines_INTRO.c", 192; }
 4603                        		__bra		.LL66
         1D:D070  80 F0      			bra	.LL66
 4604    1D:D072             	.LL68:
 4605                        	
 4606                        		.dbg	line,	"include\routines_INTRO.c", 193; 
 4607                        	
 4608                        		.dbg	line,	"include\routines_INTRO.c", 194; load_palette( 0, palette_INTRO_2, 1 );
 4609                        		__st.umiq	0, _al
         1D:D072  64 F8      			stz	_al
 4610                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         1D:D074  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:D076  85 EC      			sta.l	_bp
         1D:D078  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:D07A  85 ED      			sta.h	_bp
         1D:D07C  A9 06      			lda	#bank(_palette_INTRO_2)
         1D:D07E  85 02      			sta	_bp_bank
 4611                        		__st.umiq	1, _ah
         1D:D080  A9 01      			lda.l	#1
         1D:D082  85 F9      			sta	_ah
 4612                        		__call		_load_palette.3
         1D:D084  20 8B FF   			call	_load_palette.3
 4613                        	
 4614                        		.dbg	line,	"include\routines_INTRO.c", 195; }
 4615                        	
 4616                        		.dbg	line,	"include\routines_INTRO.c", 197; else if(global_counter == 152)
 4617                        		__bra		.LL69
         1D:D087  4C 64 DA   			bra	.LL69
 4618    1D:D08A             	.LL64:
 4619                        		__ld.wm		_global_counter
         1D:D08A  AD 35 26   			lda.l	_global_counter
         1D:D08D  AC 36 26   			ldy.h	_global_counter
 4620                        		__equ_w.wi	152
         1D:D090  C9 98      			cmp.l	#152
         1D:D092  D0 04      			bne	!false+
         1D:D094  C0 00      			cpy.h	#152
         1D:D096  F0 01      			beq	!+
         1D:D098  18         	!false:		clc
         1D:D099             	!:
 4621                        		__bfalse	.LL70
         1D:D099  90 76      			bcc	.LL70
 4622                        	
 4623                        		.dbg	line,	"include\routines_INTRO.c", 198; {
 4624                        	
 4625                        		.dbg	line,	"include\routines_INTRO.c", 199; for(i=0 ; i<8 ; i++)
 4626                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D09B  9C 79 26   			stz	__sequence_INTRO_end - 1
 4627    1D:D09E             	.LL71:
 4628                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D09E  AD 79 26   			lda	__sequence_INTRO_end - 1
 4629                        		__ult_b.uiq	8
         1D:D0A1  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D0A3  6A         			ror	a		; CC if A < integer.
         1D:D0A4  49 80      			eor	#$80
         1D:D0A6  2A         			rol	a
 4630                        		__btrue		.LL73
         1D:D0A7  B0 08      			bcs	.LL73
 4631                        		__bra		.LL74
         1D:D0A9  4C 64 DA   			bra	.LL74
 4632    1D:D0AC             	.LL72:
 4633                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D0AC  EE 79 26   			inc	__sequence_INTRO_end - 1
 4634                        		__bra		.LL71
         1D:D0AF  80 ED      			bra	.LL71
 4635    1D:D0B1             	.LL73:
 4636                        	
 4637                        		.dbg	line,	"include\routines_INTRO.c", 200; {
 4638                        	
 4639                        		.dbg	line,	"include\routines_INTRO.c", 201; sgx_spr_set(i);
 4640                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D0B1  AD 79 26   			lda	__sequence_INTRO_end - 1
 4641                        		__call		_sgx_spr_set.1
         1D:D0B4  20 8A E8   			call	_sgx_spr_set.1
 4642                        	
 4643                        		.dbg	line,	"include\routines_INTRO.c", 202; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 4644                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D0B7  AD 79 26   			lda	__sequence_INTRO_end - 1
         1D:D0BA  C2         			cly
 4645                        		__asl.wi	5
         1D:D0BB  85 00      			sta	__temp
         1D:D0BD  98         			tya
         1D:D0BE  4A         			lsr	a
         1D:D0BF  20 C8 E1   			jsr	aslw5
         1D:D0C2  29 E0      			and.l	#$FF << 5
 4646                        		__add.wm	_player_pos_x
         1D:D0C4  18         			clc
         1D:D0C5  6D DB 24   			adc.l	_player_pos_x
         1D:D0C8  42         			say
         1D:D0C9  6D DC 24   			adc.h	_player_pos_x
         1D:D0CC  42         			say
 4647                        		__push.wr
         1D:D0CD  5A         			phy
         1D:D0CE  48         			pha
 4648                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D0CF  AD 79 26   			lda	__sequence_INTRO_end - 1
         1D:D0D2  C2         			cly
 4649                        		__lsr.uiq	2
         1D:D0D3  4A         			lsr	a
         1D:D0D4  4A         			lsr	a
 4650                        		__asl.wi	7
         1D:D0D5  42         			say
         1D:D0D6  4A         			lsr	a
         1D:D0D7  42         			say
         1D:D0D8  6A         			ror	a
         1D:D0D9  42         			say
         1D:D0DA  6A         			ror	a
         1D:D0DB  29 80      			and	#$80
 4651                        		__sub.wt
         1D:D0DD  BA         			tsx
         1D:D0DE  38         			sec
         1D:D0DF  49 FF      			eor	#$FF
         1D:D0E1  7D 01 21   			adc.l	__tos, x
         1D:D0E4  42         			say
         1D:D0E5  49 FF      			eor	#$FF
         1D:D0E7  7D 02 21   			adc.h	__tos, x
         1D:D0EA  42         			say
         1D:D0EB  E8         			inx
         1D:D0EC  E8         			inx
         1D:D0ED  9A         			txs
 4652                        		__call		_sgx_spr_x.1
         1D:D0EE  20 B7 E8   			call	_sgx_spr_x.1
 4653                        	
 4654                        		.dbg	line,	"include\routines_INTRO.c", 203; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 4655                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D0F1  AD 79 26   			lda	__sequence_INTRO_end - 1
         1D:D0F4  C2         			cly
 4656                        		__lsr.uiq	2
         1D:D0F5  4A         			lsr	a
         1D:D0F6  4A         			lsr	a
 4657                        		__asl.wi	5
         1D:D0F7  85 00      			sta	__temp
         1D:D0F9  98         			tya
         1D:D0FA  4A         			lsr	a
         1D:D0FB  20 C8 E1   			jsr	aslw5
         1D:D0FE  29 E0      			and.l	#$FF << 5
 4658                        		__add.wm	_player_pos_y
         1D:D100  18         			clc
         1D:D101  6D DD 24   			adc.l	_player_pos_y
         1D:D104  42         			say
         1D:D105  6D DE 24   			adc.h	_player_pos_y
         1D:D108  42         			say
 4659                        		__call		_sgx_spr_y.1
         1D:D109  20 C6 E8   			call	_sgx_spr_y.1
 4660                        	
 4661                        		.dbg	line,	"include\routines_INTRO.c", 204; }
 4662                        		__bra		.LL72
         1D:D10C  80 9E      			bra	.LL72
 4663    1D:D10E             	.LL74	.alias		.LL75
 4664                        	
 4665                        		.dbg	line,	"include\routines_INTRO.c", 205; }
 4666                        	
 4667                        		.dbg	line,	"include\routines_INTRO.c", 207; else if(global_counter == 154)
 4668                        		__bra		.LL75
         1D:D10E  4C 64 DA   			bra	.LL75
 4669    1D:D111             	.LL70:
 4670                        		__ld.wm		_global_counter
         1D:D111  AD 35 26   			lda.l	_global_counter
         1D:D114  AC 36 26   			ldy.h	_global_counter
 4671                        		__equ_w.wi	154
         1D:D117  C9 9A      			cmp.l	#154
         1D:D119  D0 04      			bne	!false+
         1D:D11B  C0 00      			cpy.h	#154
         1D:D11D  F0 01      			beq	!+
         1D:D11F  18         	!false:		clc
         1D:D120             	!:
 4672                        		__bfalse	.LL76
         1D:D120  90 73      			bcc	.LL76
 4673                        	
 4674                        		.dbg	line,	"include\routines_INTRO.c", 208; {
 4675                        	
 4676                        		.dbg	line,	"include\routines_INTRO.c", 209; for(i=0 ; i<8 ; i++)
 4677                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D122  9C 79 26   			stz	__sequence_INTRO_end - 1
 4678    1D:D125             	.LL77:
 4679                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D125  AD 79 26   			lda	__sequence_INTRO_end - 1
 4680                        		__ult_b.uiq	8
         1D:D128  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D12A  6A         			ror	a		; CC if A < integer.
         1D:D12B  49 80      			eor	#$80
         1D:D12D  2A         			rol	a
 4681                        		__btrue		.LL79
         1D:D12E  B0 07      			bcs	.LL79
 4682                        		__bra		.LL80
         1D:D130  80 10      			bra	.LL80
 4683    1D:D132             	.LL78:
 4684                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D132  EE 79 26   			inc	__sequence_INTRO_end - 1
 4685                        		__bra		.LL77
         1D:D135  80 EE      			bra	.LL77
 4686    1D:D137             	.LL79:
 4687                        	
 4688                        		.dbg	line,	"include\routines_INTRO.c", 210; {
 4689                        	
 4690                        		.dbg	line,	"include\routines_INTRO.c", 211; sgx_spr_set(i);
 4691                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D137  AD 79 26   			lda	__sequence_INTRO_end - 1
 4692                        		__call		_sgx_spr_set.1
         1D:D13A  20 8A E8   			call	_sgx_spr_set.1
 4693                        	
 4694                        		.dbg	line,	"include\routines_INTRO.c", 212; sgx_spr_hide();
 4695                        		__call		_sgx_spr_hide
         1D:D13D  20 A5 E8   			call	_sgx_spr_hide
 4696                        	
 4697                        		.dbg	line,	"include\routines_INTRO.c", 213; }
 4698                        		__bra		.LL78
         1D:D140  80 F0      			bra	.LL78
 4699    1D:D142             	.LL80:
 4700                        	
 4701                        		.dbg	line,	"include\routines_INTRO.c", 215; vdc_map_pxl_x = 256;
 4702                        		__st.wmiq	256, _vdc_map_pxl_x
         1D:D142  9C AE 26   			stz.l	_vdc_map_pxl_x
         1D:D145  A9 01      			lda.h	#256
         1D:D147  8D AF 26   			sta.h	_vdc_map_pxl_x
 4703                        	
 4704                        		.dbg	line,	"include\routines_INTRO.c", 216; vdc_map_pxl_y = 256;
 4705                        		__st.wmiq	256, _vdc_map_pxl_y
         1D:D14A  9C B0 26   			stz.l	_vdc_map_pxl_y
         1D:D14D  A9 01      			lda.h	#256
         1D:D14F  8D B1 26   			sta.h	_vdc_map_pxl_y
 4706                        	
 4707                        		.dbg	line,	"include\routines_INTRO.c", 217; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4708                        		__st.umiq	0, _al
         1D:D152  64 F8      			stz	_al
 4709                        		__st.umiq	0, _ah
         1D:D154  64 F9      			stz	_ah
 4710                        		__ld.wm		_vdc_map_pxl_x
         1D:D156  AD AE 26   			lda.l	_vdc_map_pxl_x
         1D:D159  AC AF 26   			ldy.h	_vdc_map_pxl_x
 4711                        		__and.wi	511
         1D:D15C  29 FF      			and.l	#511
         1D:D15E  42         			say
         1D:D15F  29 01      			and.h	#511
         1D:D161  42         			say
 4712                        		__st.wmq	_bx
         1D:D162  85 FA      			sta.l	_bx
         1D:D164  84 FB      			sty.h	_bx
 4713                        		__ld.wm		_vdc_map_pxl_y
         1D:D166  AD B0 26   			lda.l	_vdc_map_pxl_y
         1D:D169  AC B1 26   			ldy.h	_vdc_map_pxl_y
 4714                        		__and.wi	511
         1D:D16C  29 FF      			and.l	#511
         1D:D16E  42         			say
         1D:D16F  29 01      			and.h	#511
         1D:D171  42         			say
 4715                        		__st.wmq	_cx
         1D:D172  85 FC      			sta.l	_cx
         1D:D174  84 FD      			sty.h	_cx
 4716                        		__st.umiq	192, _dl
         1D:D176  A9 C0      			lda.l	#192
         1D:D178  85 FE      			sta	_dl
 4717                        		__call		_scroll_split.5
         1D:D17A  20 81 FF   			call	_scroll_split.5
 4718                        	
 4719                        		.dbg	line,	"include\routines_INTRO.c", 219; load_palette( 0, palette_INTRO_3, 1 );
 4720                        		__st.umiq	0, _al
         1D:D17D  64 F8      			stz	_al
 4721                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         1D:D17F  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:D181  85 EC      			sta.l	_bp
         1D:D183  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:D185  85 ED      			sta.h	_bp
         1D:D187  A9 06      			lda	#bank(_palette_INTRO_3)
         1D:D189  85 02      			sta	_bp_bank
 4722                        		__st.umiq	1, _ah
         1D:D18B  A9 01      			lda.l	#1
         1D:D18D  85 F9      			sta	_ah
 4723                        		__call		_load_palette.3
         1D:D18F  20 8B FF   			call	_load_palette.3
 4724                        	
 4725                        		.dbg	line,	"include\routines_INTRO.c", 220; }
 4726                        	
 4727                        		.dbg	line,	"include\routines_INTRO.c", 222; else if(global_counter == 156)
 4728                        		__bra		.LL81
         1D:D192  4C 64 DA   			bra	.LL81
 4729    1D:D195             	.LL76:
 4730                        		__ld.wm		_global_counter
         1D:D195  AD 35 26   			lda.l	_global_counter
         1D:D198  AC 36 26   			ldy.h	_global_counter
 4731                        		__equ_w.wi	156
         1D:D19B  C9 9C      			cmp.l	#156
         1D:D19D  D0 04      			bne	!false+
         1D:D19F  C0 00      			cpy.h	#156
         1D:D1A1  F0 01      			beq	!+
         1D:D1A3  18         	!false:		clc
         1D:D1A4             	!:
 4732                        		__bfalse	.LL82
         1D:D1A4  90 76      			bcc	.LL82
 4733                        	
 4734                        		.dbg	line,	"include\routines_INTRO.c", 223; {
 4735                        	
 4736                        		.dbg	line,	"include\routines_INTRO.c", 224; for(i=0 ; i<8 ; i++)
 4737                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D1A6  9C 79 26   			stz	__sequence_INTRO_end - 1
 4738    1D:D1A9             	.LL83:
 4739                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D1A9  AD 79 26   			lda	__sequence_INTRO_end - 1
 4740                        		__ult_b.uiq	8
         1D:D1AC  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D1AE  6A         			ror	a		; CC if A < integer.
         1D:D1AF  49 80      			eor	#$80
         1D:D1B1  2A         			rol	a
 4741                        		__btrue		.LL85
         1D:D1B2  B0 08      			bcs	.LL85
 4742                        		__bra		.LL86
         1D:D1B4  4C 64 DA   			bra	.LL86
 4743    1D:D1B7             	.LL84:
 4744                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D1B7  EE 79 26   			inc	__sequence_INTRO_end - 1
 4745                        		__bra		.LL83
         1D:D1BA  80 ED      			bra	.LL83
 4746    1D:D1BC             	.LL85:
 4747                        	
 4748                        		.dbg	line,	"include\routines_INTRO.c", 225; {
 4749                        	
 4750                        		.dbg	line,	"include\routines_INTRO.c", 226; sgx_spr_set(i);
 4751                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D1BC  AD 79 26   			lda	__sequence_INTRO_end - 1
 4752                        		__call		_sgx_spr_set.1
         1D:D1BF  20 8A E8   			call	_sgx_spr_set.1
 4753                        	
 4754                        		.dbg	line,	"include\routines_INTRO.c", 227; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 4755                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D1C2  AD 79 26   			lda	__sequence_INTRO_end - 1
         1D:D1C5  C2         			cly
 4756                        		__asl.wi	5
         1D:D1C6  85 00      			sta	__temp
         1D:D1C8  98         			tya
         1D:D1C9  4A         			lsr	a
         1D:D1CA  20 C8 E1   			jsr	aslw5
         1D:D1CD  29 E0      			and.l	#$FF << 5
 4757                        		__add.wm	_player_pos_x
         1D:D1CF  18         			clc
         1D:D1D0  6D DB 24   			adc.l	_player_pos_x
         1D:D1D3  42         			say
         1D:D1D4  6D DC 24   			adc.h	_player_pos_x
         1D:D1D7  42         			say
 4758                        		__push.wr
         1D:D1D8  5A         			phy
         1D:D1D9  48         			pha
 4759                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D1DA  AD 79 26   			lda	__sequence_INTRO_end - 1
         1D:D1DD  C2         			cly
 4760                        		__lsr.uiq	2
         1D:D1DE  4A         			lsr	a
         1D:D1DF  4A         			lsr	a
 4761                        		__asl.wi	7
         1D:D1E0  42         			say
         1D:D1E1  4A         			lsr	a
         1D:D1E2  42         			say
         1D:D1E3  6A         			ror	a
         1D:D1E4  42         			say
         1D:D1E5  6A         			ror	a
         1D:D1E6  29 80      			and	#$80
 4762                        		__sub.wt
         1D:D1E8  BA         			tsx
         1D:D1E9  38         			sec
         1D:D1EA  49 FF      			eor	#$FF
         1D:D1EC  7D 01 21   			adc.l	__tos, x
         1D:D1EF  42         			say
         1D:D1F0  49 FF      			eor	#$FF
         1D:D1F2  7D 02 21   			adc.h	__tos, x
         1D:D1F5  42         			say
         1D:D1F6  E8         			inx
         1D:D1F7  E8         			inx
         1D:D1F8  9A         			txs
 4763                        		__call		_sgx_spr_x.1
         1D:D1F9  20 B7 E8   			call	_sgx_spr_x.1
 4764                        	
 4765                        		.dbg	line,	"include\routines_INTRO.c", 228; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 4766                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D1FC  AD 79 26   			lda	__sequence_INTRO_end - 1
         1D:D1FF  C2         			cly
 4767                        		__lsr.uiq	2
         1D:D200  4A         			lsr	a
         1D:D201  4A         			lsr	a
 4768                        		__asl.wi	5
         1D:D202  85 00      			sta	__temp
         1D:D204  98         			tya
         1D:D205  4A         			lsr	a
         1D:D206  20 C8 E1   			jsr	aslw5
         1D:D209  29 E0      			and.l	#$FF << 5
 4769                        		__add.wm	_player_pos_y
         1D:D20B  18         			clc
         1D:D20C  6D DD 24   			adc.l	_player_pos_y
         1D:D20F  42         			say
         1D:D210  6D DE 24   			adc.h	_player_pos_y
         1D:D213  42         			say
 4770                        		__call		_sgx_spr_y.1
         1D:D214  20 C6 E8   			call	_sgx_spr_y.1
 4771                        	
 4772                        		.dbg	line,	"include\routines_INTRO.c", 229; }
 4773                        		__bra		.LL84
         1D:D217  80 9E      			bra	.LL84
 4774    1D:D219             	.LL86	.alias		.LL87
 4775                        	
 4776                        		.dbg	line,	"include\routines_INTRO.c", 230; }
 4777                        	
 4778                        		.dbg	line,	"include\routines_INTRO.c", 232; else if(global_counter == 158)
 4779                        		__bra		.LL87
         1D:D219  4C 64 DA   			bra	.LL87
 4780    1D:D21C             	.LL82:
 4781                        		__ld.wm		_global_counter
         1D:D21C  AD 35 26   			lda.l	_global_counter
         1D:D21F  AC 36 26   			ldy.h	_global_counter
 4782                        		__equ_w.wi	158
         1D:D222  C9 9E      			cmp.l	#158
         1D:D224  D0 04      			bne	!false+
         1D:D226  C0 00      			cpy.h	#158
         1D:D228  F0 01      			beq	!+
         1D:D22A  18         	!false:		clc
         1D:D22B             	!:
 4783                        		__bfalse	.LL88
         1D:D22B  90 5A      			bcc	.LL88
 4784                        	
 4785                        		.dbg	line,	"include\routines_INTRO.c", 233; {
 4786                        	
 4787                        		.dbg	line,	"include\routines_INTRO.c", 234; for(i=0 ; i<8 ; i++)
 4788                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D22D  9C 79 26   			stz	__sequence_INTRO_end - 1
 4789    1D:D230             	.LL89:
 4790                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D230  AD 79 26   			lda	__sequence_INTRO_end - 1
 4791                        		__ult_b.uiq	8
         1D:D233  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D235  6A         			ror	a		; CC if A < integer.
         1D:D236  49 80      			eor	#$80
         1D:D238  2A         			rol	a
 4792                        		__btrue		.LL91
         1D:D239  B0 07      			bcs	.LL91
 4793                        		__bra		.LL92
         1D:D23B  80 10      			bra	.LL92
 4794    1D:D23D             	.LL90:
 4795                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D23D  EE 79 26   			inc	__sequence_INTRO_end - 1
 4796                        		__bra		.LL89
         1D:D240  80 EE      			bra	.LL89
 4797    1D:D242             	.LL91:
 4798                        	
 4799                        		.dbg	line,	"include\routines_INTRO.c", 235; {
 4800                        	
 4801                        		.dbg	line,	"include\routines_INTRO.c", 236; sgx_spr_set(i);
 4802                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D242  AD 79 26   			lda	__sequence_INTRO_end - 1
 4803                        		__call		_sgx_spr_set.1
         1D:D245  20 8A E8   			call	_sgx_spr_set.1
 4804                        	
 4805                        		.dbg	line,	"include\routines_INTRO.c", 237; sgx_spr_hide();
 4806                        		__call		_sgx_spr_hide
         1D:D248  20 A5 E8   			call	_sgx_spr_hide
 4807                        	
 4808                        		.dbg	line,	"include\routines_INTRO.c", 238; }
 4809                        		__bra		.LL90
         1D:D24B  80 F0      			bra	.LL90
 4810    1D:D24D             	.LL92:
 4811                        	
 4812                        		.dbg	line,	"include\routines_INTRO.c", 240; vdc_map_pxl_x = 0;
 4813                        		__st.wmiq	0, _vdc_map_pxl_x
         1D:D24D  9C AE 26   			stz.l	_vdc_map_pxl_x
         1D:D250  9C AF 26   			stz.h	_vdc_map_pxl_x
 4814                        	
 4815                        		.dbg	line,	"include\routines_INTRO.c", 241; vdc_map_pxl_y = 0;
 4816                        		__st.wmiq	0, _vdc_map_pxl_y
         1D:D253  9C B0 26   			stz.l	_vdc_map_pxl_y
         1D:D256  9C B1 26   			stz.h	_vdc_map_pxl_y
 4817                        	
 4818                        		.dbg	line,	"include\routines_INTRO.c", 242; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4819                        		__st.umiq	0, _al
         1D:D259  64 F8      			stz	_al
 4820                        		__st.umiq	0, _ah
         1D:D25B  64 F9      			stz	_ah
 4821                        		__ld.wm		_vdc_map_pxl_x
         1D:D25D  AD AE 26   			lda.l	_vdc_map_pxl_x
         1D:D260  AC AF 26   			ldy.h	_vdc_map_pxl_x
 4822                        		__and.wi	511
         1D:D263  29 FF      			and.l	#511
         1D:D265  42         			say
         1D:D266  29 01      			and.h	#511
         1D:D268  42         			say
 4823                        		__st.wmq	_bx
         1D:D269  85 FA      			sta.l	_bx
         1D:D26B  84 FB      			sty.h	_bx
 4824                        		__ld.wm		_vdc_map_pxl_y
         1D:D26D  AD B0 26   			lda.l	_vdc_map_pxl_y
         1D:D270  AC B1 26   			ldy.h	_vdc_map_pxl_y
 4825                        		__and.wi	511
         1D:D273  29 FF      			and.l	#511
         1D:D275  42         			say
         1D:D276  29 01      			and.h	#511
         1D:D278  42         			say
 4826                        		__st.wmq	_cx
         1D:D279  85 FC      			sta.l	_cx
         1D:D27B  84 FD      			sty.h	_cx
 4827                        		__st.umiq	192, _dl
         1D:D27D  A9 C0      			lda.l	#192
         1D:D27F  85 FE      			sta	_dl
 4828                        		__call		_scroll_split.5
         1D:D281  20 81 FF   			call	_scroll_split.5
 4829                        	
 4830                        		.dbg	line,	"include\routines_INTRO.c", 243; }
 4831                        	
 4832                        		.dbg	line,	"include\routines_INTRO.c", 245; else if(global_counter == 159)
 4833                        		__bra		.LL93
         1D:D284  4C 64 DA   			bra	.LL93
 4834    1D:D287             	.LL88:
 4835                        		__ld.wm		_global_counter
         1D:D287  AD 35 26   			lda.l	_global_counter
         1D:D28A  AC 36 26   			ldy.h	_global_counter
 4836                        		__equ_w.wi	159
         1D:D28D  C9 9F      			cmp.l	#159
         1D:D28F  D0 04      			bne	!false+
         1D:D291  C0 00      			cpy.h	#159
         1D:D293  F0 01      			beq	!+
         1D:D295  18         	!false:		clc
         1D:D296             	!:
 4837                        		__bfalse	.LL94
         1D:D296  90 36      			bcc	.LL94
 4838                        	
 4839                        		.dbg	line,	"include\routines_INTRO.c", 246; {
 4840                        	
 4841                        		.dbg	line,	"include\routines_INTRO.c", 247; vdc_map_pxl_y = 256;
 4842                        		__st.wmiq	256, _vdc_map_pxl_y
         1D:D298  9C B0 26   			stz.l	_vdc_map_pxl_y
         1D:D29B  A9 01      			lda.h	#256
         1D:D29D  8D B1 26   			sta.h	_vdc_map_pxl_y
 4843                        	
 4844                        		.dbg	line,	"include\routines_INTRO.c", 248; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4845                        		__st.umiq	0, _al
         1D:D2A0  64 F8      			stz	_al
 4846                        		__st.umiq	0, _ah
         1D:D2A2  64 F9      			stz	_ah
 4847                        		__ld.wm		_vdc_map_pxl_x
         1D:D2A4  AD AE 26   			lda.l	_vdc_map_pxl_x
         1D:D2A7  AC AF 26   			ldy.h	_vdc_map_pxl_x
 4848                        		__and.wi	511
         1D:D2AA  29 FF      			and.l	#511
         1D:D2AC  42         			say
         1D:D2AD  29 01      			and.h	#511
         1D:D2AF  42         			say
 4849                        		__st.wmq	_bx
         1D:D2B0  85 FA      			sta.l	_bx
         1D:D2B2  84 FB      			sty.h	_bx
 4850                        		__ld.wm		_vdc_map_pxl_y
         1D:D2B4  AD B0 26   			lda.l	_vdc_map_pxl_y
         1D:D2B7  AC B1 26   			ldy.h	_vdc_map_pxl_y
 4851                        		__and.wi	511
         1D:D2BA  29 FF      			and.l	#511
         1D:D2BC  42         			say
         1D:D2BD  29 01      			and.h	#511
         1D:D2BF  42         			say
 4852                        		__st.wmq	_cx
         1D:D2C0  85 FC      			sta.l	_cx
         1D:D2C2  84 FD      			sty.h	_cx
 4853                        		__st.umiq	192, _dl
         1D:D2C4  A9 C0      			lda.l	#192
         1D:D2C6  85 FE      			sta	_dl
 4854                        		__call		_scroll_split.5
         1D:D2C8  20 81 FF   			call	_scroll_split.5
 4855                        	
 4856                        		.dbg	line,	"include\routines_INTRO.c", 249; }
 4857                        	
 4858                        		.dbg	line,	"include\routines_INTRO.c", 251; else if(global_counter == 160)
 4859                        		__bra		.LL95
         1D:D2CB  4C 64 DA   			bra	.LL95
 4860    1D:D2CE             	.LL94:
 4861                        		__ld.wm		_global_counter
         1D:D2CE  AD 35 26   			lda.l	_global_counter
         1D:D2D1  AC 36 26   			ldy.h	_global_counter
 4862                        		__equ_w.wi	160
         1D:D2D4  C9 A0      			cmp.l	#160
         1D:D2D6  D0 04      			bne	!false+
         1D:D2D8  C0 00      			cpy.h	#160
         1D:D2DA  F0 01      			beq	!+
         1D:D2DC  18         	!false:		clc
         1D:D2DD             	!:
 4863                        		__bfalse	.LL96
         1D:D2DD  B0 03 4C 90			bcc	.LL96
         1D:D2E1  D3          
 4864                        	
 4865                        		.dbg	line,	"include\routines_INTRO.c", 252; {
 4866                        	
 4867                        		.dbg	line,	"include\routines_INTRO.c", 253; for(i=0 ; i<8 ; i++)
 4868                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D2E2  9C 79 26   			stz	__sequence_INTRO_end - 1
 4869    1D:D2E5             	.LL97:
 4870                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D2E5  AD 79 26   			lda	__sequence_INTRO_end - 1
 4871                        		__ult_b.uiq	8
         1D:D2E8  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D2EA  6A         			ror	a		; CC if A < integer.
         1D:D2EB  49 80      			eor	#$80
         1D:D2ED  2A         			rol	a
 4872                        		__btrue		.LL99
         1D:D2EE  B0 07      			bcs	.LL99
 4873                        		__bra		.LL100
         1D:D2F0  80 62      			bra	.LL100
 4874    1D:D2F2             	.LL98:
 4875                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D2F2  EE 79 26   			inc	__sequence_INTRO_end - 1
 4876                        		__bra		.LL97
         1D:D2F5  80 EE      			bra	.LL97
 4877    1D:D2F7             	.LL99:
 4878                        	
 4879                        		.dbg	line,	"include\routines_INTRO.c", 254; {
 4880                        	
 4881                        		.dbg	line,	"include\routines_INTRO.c", 255; sgx_spr_set(i);
 4882                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D2F7  AD 79 26   			lda	__sequence_INTRO_end - 1
 4883                        		__call		_sgx_spr_set.1
         1D:D2FA  20 8A E8   			call	_sgx_spr_set.1
 4884                        	
 4885                        		.dbg	line,	"include\routines_INTRO.c", 256; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 4886                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D2FD  AD 79 26   			lda	__sequence_INTRO_end - 1
         1D:D300  C2         			cly
 4887                        		__asl.wi	5
         1D:D301  85 00      			sta	__temp
         1D:D303  98         			tya
         1D:D304  4A         			lsr	a
         1D:D305  20 C8 E1   			jsr	aslw5
         1D:D308  29 E0      			and.l	#$FF << 5
 4888                        		__add.wm	_player_pos_x
         1D:D30A  18         			clc
         1D:D30B  6D DB 24   			adc.l	_player_pos_x
         1D:D30E  42         			say
         1D:D30F  6D DC 24   			adc.h	_player_pos_x
         1D:D312  42         			say
 4889                        		__push.wr
         1D:D313  5A         			phy
         1D:D314  48         			pha
 4890                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D315  AD 79 26   			lda	__sequence_INTRO_end - 1
         1D:D318  C2         			cly
 4891                        		__lsr.uiq	2
         1D:D319  4A         			lsr	a
         1D:D31A  4A         			lsr	a
 4892                        		__asl.wi	7
         1D:D31B  42         			say
         1D:D31C  4A         			lsr	a
         1D:D31D  42         			say
         1D:D31E  6A         			ror	a
         1D:D31F  42         			say
         1D:D320  6A         			ror	a
         1D:D321  29 80      			and	#$80
 4893                        		__sub.wt
         1D:D323  BA         			tsx
         1D:D324  38         			sec
         1D:D325  49 FF      			eor	#$FF
         1D:D327  7D 01 21   			adc.l	__tos, x
         1D:D32A  42         			say
         1D:D32B  49 FF      			eor	#$FF
         1D:D32D  7D 02 21   			adc.h	__tos, x
         1D:D330  42         			say
         1D:D331  E8         			inx
         1D:D332  E8         			inx
         1D:D333  9A         			txs
 4894                        		__call		_sgx_spr_x.1
         1D:D334  20 B7 E8   			call	_sgx_spr_x.1
 4895                        	
 4896                        		.dbg	line,	"include\routines_INTRO.c", 257; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 4897                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D337  AD 79 26   			lda	__sequence_INTRO_end - 1
         1D:D33A  C2         			cly
 4898                        		__lsr.uiq	2
         1D:D33B  4A         			lsr	a
         1D:D33C  4A         			lsr	a
 4899                        		__asl.wi	5
         1D:D33D  85 00      			sta	__temp
         1D:D33F  98         			tya
         1D:D340  4A         			lsr	a
         1D:D341  20 C8 E1   			jsr	aslw5
         1D:D344  29 E0      			and.l	#$FF << 5
 4900                        		__add.wm	_player_pos_y
         1D:D346  18         			clc
         1D:D347  6D DD 24   			adc.l	_player_pos_y
         1D:D34A  42         			say
         1D:D34B  6D DE 24   			adc.h	_player_pos_y
         1D:D34E  42         			say
 4901                        		__call		_sgx_spr_y.1
         1D:D34F  20 C6 E8   			call	_sgx_spr_y.1
 4902                        	
 4903                        		.dbg	line,	"include\routines_INTRO.c", 258; }
 4904                        		__bra		.LL98
         1D:D352  80 9E      			bra	.LL98
 4905    1D:D354             	.LL100:
 4906                        	
 4907                        		.dbg	line,	"include\routines_INTRO.c", 260; vdc_map_pxl_x = 256;
 4908                        		__st.wmiq	256, _vdc_map_pxl_x
         1D:D354  9C AE 26   			stz.l	_vdc_map_pxl_x
         1D:D357  A9 01      			lda.h	#256
         1D:D359  8D AF 26   			sta.h	_vdc_map_pxl_x
 4909                        	
 4910                        		.dbg	line,	"include\routines_INTRO.c", 261; vdc_map_pxl_y = 0;
 4911                        		__st.wmiq	0, _vdc_map_pxl_y
         1D:D35C  9C B0 26   			stz.l	_vdc_map_pxl_y
         1D:D35F  9C B1 26   			stz.h	_vdc_map_pxl_y
 4912                        	
 4913                        		.dbg	line,	"include\routines_INTRO.c", 262; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4914                        		__st.umiq	0, _al
         1D:D362  64 F8      			stz	_al
 4915                        		__st.umiq	0, _ah
         1D:D364  64 F9      			stz	_ah
 4916                        		__ld.wm		_vdc_map_pxl_x
         1D:D366  AD AE 26   			lda.l	_vdc_map_pxl_x
         1D:D369  AC AF 26   			ldy.h	_vdc_map_pxl_x
 4917                        		__and.wi	511
         1D:D36C  29 FF      			and.l	#511
         1D:D36E  42         			say
         1D:D36F  29 01      			and.h	#511
         1D:D371  42         			say
 4918                        		__st.wmq	_bx
         1D:D372  85 FA      			sta.l	_bx
         1D:D374  84 FB      			sty.h	_bx
 4919                        		__ld.wm		_vdc_map_pxl_y
         1D:D376  AD B0 26   			lda.l	_vdc_map_pxl_y
         1D:D379  AC B1 26   			ldy.h	_vdc_map_pxl_y
 4920                        		__and.wi	511
         1D:D37C  29 FF      			and.l	#511
         1D:D37E  42         			say
         1D:D37F  29 01      			and.h	#511
         1D:D381  42         			say
 4921                        		__st.wmq	_cx
         1D:D382  85 FC      			sta.l	_cx
         1D:D384  84 FD      			sty.h	_cx
 4922                        		__st.umiq	192, _dl
         1D:D386  A9 C0      			lda.l	#192
         1D:D388  85 FE      			sta	_dl
 4923                        		__call		_scroll_split.5
         1D:D38A  20 81 FF   			call	_scroll_split.5
 4924                        	
 4925                        		.dbg	line,	"include\routines_INTRO.c", 263; }
 4926                        	
 4927                        		.dbg	line,	"include\routines_INTRO.c", 265; else if(global_counter == 162)
 4928                        		__bra		.LL101
         1D:D38D  4C 64 DA   			bra	.LL101
 4929    1D:D390             	.LL96:
 4930                        		__ld.wm		_global_counter
         1D:D390  AD 35 26   			lda.l	_global_counter
         1D:D393  AC 36 26   			ldy.h	_global_counter
 4931                        		__equ_w.wi	162
         1D:D396  C9 A2      			cmp.l	#162
         1D:D398  D0 04      			bne	!false+
         1D:D39A  C0 00      			cpy.h	#162
         1D:D39C  F0 01      			beq	!+
         1D:D39E  18         	!false:		clc
         1D:D39F             	!:
 4932                        		__bfalse	.LL102
         1D:D39F  90 24      			bcc	.LL102
 4933                        	
 4934                        		.dbg	line,	"include\routines_INTRO.c", 266; {
 4935                        	
 4936                        		.dbg	line,	"include\routines_INTRO.c", 267; for(i=0 ; i<8 ; i++)
 4937                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D3A1  9C 79 26   			stz	__sequence_INTRO_end - 1
 4938    1D:D3A4             	.LL103:
 4939                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D3A4  AD 79 26   			lda	__sequence_INTRO_end - 1
 4940                        		__ult_b.uiq	8
         1D:D3A7  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D3A9  6A         			ror	a		; CC if A < integer.
         1D:D3AA  49 80      			eor	#$80
         1D:D3AC  2A         			rol	a
 4941                        		__btrue		.LL105
         1D:D3AD  B0 08      			bcs	.LL105
 4942                        		__bra		.LL106
         1D:D3AF  4C 64 DA   			bra	.LL106
 4943    1D:D3B2             	.LL104:
 4944                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D3B2  EE 79 26   			inc	__sequence_INTRO_end - 1
 4945                        		__bra		.LL103
         1D:D3B5  80 ED      			bra	.LL103
 4946    1D:D3B7             	.LL105:
 4947                        	
 4948                        		.dbg	line,	"include\routines_INTRO.c", 268; {
 4949                        	
 4950                        		.dbg	line,	"include\routines_INTRO.c", 269; sgx_spr_set(i);
 4951                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D3B7  AD 79 26   			lda	__sequence_INTRO_end - 1
 4952                        		__call		_sgx_spr_set.1
         1D:D3BA  20 8A E8   			call	_sgx_spr_set.1
 4953                        	
 4954                        		.dbg	line,	"include\routines_INTRO.c", 270; sgx_spr_hide();
 4955                        		__call		_sgx_spr_hide
         1D:D3BD  20 A5 E8   			call	_sgx_spr_hide
 4956                        	
 4957                        		.dbg	line,	"include\routines_INTRO.c", 271; }
 4958                        		__bra		.LL104
         1D:D3C0  80 F0      			bra	.LL104
 4959    1D:D3C2             	.LL106	.alias		.LL107
 4960                        	
 4961                        		.dbg	line,	"include\routines_INTRO.c", 272; }
 4962                        	
 4963                        		.dbg	line,	"include\routines_INTRO.c", 274; else if(global_counter == 163)
 4964                        		__bra		.LL107
         1D:D3C2  4C 64 DA   			bra	.LL107
 4965    1D:D3C5             	.LL102:
 4966                        		__ld.wm		_global_counter
         1D:D3C5  AD 35 26   			lda.l	_global_counter
         1D:D3C8  AC 36 26   			ldy.h	_global_counter
 4967                        		__equ_w.wi	163
         1D:D3CB  C9 A3      			cmp.l	#163
         1D:D3CD  D0 04      			bne	!false+
         1D:D3CF  C0 00      			cpy.h	#163
         1D:D3D1  F0 01      			beq	!+
         1D:D3D3  18         	!false:		clc
         1D:D3D4             	!:
 4968                        		__bfalse	.LL108
         1D:D3D4  90 3A      			bcc	.LL108
 4969                        	
 4970                        		.dbg	line,	"include\routines_INTRO.c", 275; {
 4971                        	
 4972                        		.dbg	line,	"include\routines_INTRO.c", 276; vdc_map_pxl_x = 0;
 4973                        		__st.wmiq	0, _vdc_map_pxl_x
         1D:D3D6  9C AE 26   			stz.l	_vdc_map_pxl_x
         1D:D3D9  9C AF 26   			stz.h	_vdc_map_pxl_x
 4974                        	
 4975                        		.dbg	line,	"include\routines_INTRO.c", 277; vdc_map_pxl_y = 0;
 4976                        		__st.wmiq	0, _vdc_map_pxl_y
         1D:D3DC  9C B0 26   			stz.l	_vdc_map_pxl_y
         1D:D3DF  9C B1 26   			stz.h	_vdc_map_pxl_y
 4977                        	
 4978                        		.dbg	line,	"include\routines_INTRO.c", 278; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4979                        		__st.umiq	0, _al
         1D:D3E2  64 F8      			stz	_al
 4980                        		__st.umiq	0, _ah
         1D:D3E4  64 F9      			stz	_ah
 4981                        		__ld.wm		_vdc_map_pxl_x
         1D:D3E6  AD AE 26   			lda.l	_vdc_map_pxl_x
         1D:D3E9  AC AF 26   			ldy.h	_vdc_map_pxl_x
 4982                        		__and.wi	511
         1D:D3EC  29 FF      			and.l	#511
         1D:D3EE  42         			say
         1D:D3EF  29 01      			and.h	#511
         1D:D3F1  42         			say
 4983                        		__st.wmq	_bx
         1D:D3F2  85 FA      			sta.l	_bx
         1D:D3F4  84 FB      			sty.h	_bx
 4984                        		__ld.wm		_vdc_map_pxl_y
         1D:D3F6  AD B0 26   			lda.l	_vdc_map_pxl_y
         1D:D3F9  AC B1 26   			ldy.h	_vdc_map_pxl_y
 4985                        		__and.wi	511
         1D:D3FC  29 FF      			and.l	#511
         1D:D3FE  42         			say
         1D:D3FF  29 01      			and.h	#511
         1D:D401  42         			say
 4986                        		__st.wmq	_cx
         1D:D402  85 FC      			sta.l	_cx
         1D:D404  84 FD      			sty.h	_cx
 4987                        		__st.umiq	192, _dl
         1D:D406  A9 C0      			lda.l	#192
         1D:D408  85 FE      			sta	_dl
 4988                        		__call		_scroll_split.5
         1D:D40A  20 81 FF   			call	_scroll_split.5
 4989                        	
 4990                        		.dbg	line,	"include\routines_INTRO.c", 279; }
 4991                        	
 4992                        		.dbg	line,	"include\routines_INTRO.c", 281; else if(global_counter == 164)
 4993                        		__bra		.LL109
         1D:D40D  4C 64 DA   			bra	.LL109
 4994    1D:D410             	.LL108:
 4995                        		__ld.wm		_global_counter
         1D:D410  AD 35 26   			lda.l	_global_counter
         1D:D413  AC 36 26   			ldy.h	_global_counter
 4996                        		__equ_w.wi	164
         1D:D416  C9 A4      			cmp.l	#164
         1D:D418  D0 04      			bne	!false+
         1D:D41A  C0 00      			cpy.h	#164
         1D:D41C  F0 01      			beq	!+
         1D:D41E  18         	!false:		clc
         1D:D41F             	!:
 4997                        		__bfalse	.LL110
         1D:D41F  B0 03 4C AE			bcc	.LL110
         1D:D423  D4          
 4998                        	
 4999                        		.dbg	line,	"include\routines_INTRO.c", 282; {
 5000                        	
 5001                        		.dbg	line,	"include\routines_INTRO.c", 283; for(i=0 ; i<8 ; i++)
 5002                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D424  9C 79 26   			stz	__sequence_INTRO_end - 1
 5003    1D:D427             	.LL111:
 5004                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D427  AD 79 26   			lda	__sequence_INTRO_end - 1
 5005                        		__ult_b.uiq	8
         1D:D42A  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D42C  6A         			ror	a		; CC if A < integer.
         1D:D42D  49 80      			eor	#$80
         1D:D42F  2A         			rol	a
 5006                        		__btrue		.LL113
         1D:D430  B0 07      			bcs	.LL113
 5007                        		__bra		.LL114
         1D:D432  80 62      			bra	.LL114
 5008    1D:D434             	.LL112:
 5009                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D434  EE 79 26   			inc	__sequence_INTRO_end - 1
 5010                        		__bra		.LL111
         1D:D437  80 EE      			bra	.LL111
 5011    1D:D439             	.LL113:
 5012                        	
 5013                        		.dbg	line,	"include\routines_INTRO.c", 284; {
 5014                        	
 5015                        		.dbg	line,	"include\routines_INTRO.c", 285; sgx_spr_set(i);
 5016                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D439  AD 79 26   			lda	__sequence_INTRO_end - 1
 5017                        		__call		_sgx_spr_set.1
         1D:D43C  20 8A E8   			call	_sgx_spr_set.1
 5018                        	
 5019                        		.dbg	line,	"include\routines_INTRO.c", 286; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 5020                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D43F  AD 79 26   			lda	__sequence_INTRO_end - 1
         1D:D442  C2         			cly
 5021                        		__asl.wi	5
         1D:D443  85 00      			sta	__temp
         1D:D445  98         			tya
         1D:D446  4A         			lsr	a
         1D:D447  20 C8 E1   			jsr	aslw5
         1D:D44A  29 E0      			and.l	#$FF << 5
 5022                        		__add.wm	_player_pos_x
         1D:D44C  18         			clc
         1D:D44D  6D DB 24   			adc.l	_player_pos_x
         1D:D450  42         			say
         1D:D451  6D DC 24   			adc.h	_player_pos_x
         1D:D454  42         			say
 5023                        		__push.wr
         1D:D455  5A         			phy
         1D:D456  48         			pha
 5024                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D457  AD 79 26   			lda	__sequence_INTRO_end - 1
         1D:D45A  C2         			cly
 5025                        		__lsr.uiq	2
         1D:D45B  4A         			lsr	a
         1D:D45C  4A         			lsr	a
 5026                        		__asl.wi	7
         1D:D45D  42         			say
         1D:D45E  4A         			lsr	a
         1D:D45F  42         			say
         1D:D460  6A         			ror	a
         1D:D461  42         			say
         1D:D462  6A         			ror	a
         1D:D463  29 80      			and	#$80
 5027                        		__sub.wt
         1D:D465  BA         			tsx
         1D:D466  38         			sec
         1D:D467  49 FF      			eor	#$FF
         1D:D469  7D 01 21   			adc.l	__tos, x
         1D:D46C  42         			say
         1D:D46D  49 FF      			eor	#$FF
         1D:D46F  7D 02 21   			adc.h	__tos, x
         1D:D472  42         			say
         1D:D473  E8         			inx
         1D:D474  E8         			inx
         1D:D475  9A         			txs
 5028                        		__call		_sgx_spr_x.1
         1D:D476  20 B7 E8   			call	_sgx_spr_x.1
 5029                        	
 5030                        		.dbg	line,	"include\routines_INTRO.c", 287; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 5031                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D479  AD 79 26   			lda	__sequence_INTRO_end - 1
         1D:D47C  C2         			cly
 5032                        		__lsr.uiq	2
         1D:D47D  4A         			lsr	a
         1D:D47E  4A         			lsr	a
 5033                        		__asl.wi	5
         1D:D47F  85 00      			sta	__temp
         1D:D481  98         			tya
         1D:D482  4A         			lsr	a
         1D:D483  20 C8 E1   			jsr	aslw5
         1D:D486  29 E0      			and.l	#$FF << 5
 5034                        		__add.wm	_player_pos_y
         1D:D488  18         			clc
         1D:D489  6D DD 24   			adc.l	_player_pos_y
         1D:D48C  42         			say
         1D:D48D  6D DE 24   			adc.h	_player_pos_y
         1D:D490  42         			say
 5035                        		__call		_sgx_spr_y.1
         1D:D491  20 C6 E8   			call	_sgx_spr_y.1
 5036                        	
 5037                        		.dbg	line,	"include\routines_INTRO.c", 288; }
 5038                        		__bra		.LL112
         1D:D494  80 9E      			bra	.LL112
 5039    1D:D496             	.LL114:
 5040                        	
 5041                        		.dbg	line,	"include\routines_INTRO.c", 290; load_palette( 0, palette_INTRO_2, 1 );
 5042                        		__st.umiq	0, _al
         1D:D496  64 F8      			stz	_al
 5043                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         1D:D498  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:D49A  85 EC      			sta.l	_bp
         1D:D49C  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:D49E  85 ED      			sta.h	_bp
         1D:D4A0  A9 06      			lda	#bank(_palette_INTRO_2)
         1D:D4A2  85 02      			sta	_bp_bank
 5044                        		__st.umiq	1, _ah
         1D:D4A4  A9 01      			lda.l	#1
         1D:D4A6  85 F9      			sta	_ah
 5045                        		__call		_load_palette.3
         1D:D4A8  20 8B FF   			call	_load_palette.3
 5046                        	
 5047                        		.dbg	line,	"include\routines_INTRO.c", 291; }
 5048                        	
 5049                        		.dbg	line,	"include\routines_INTRO.c", 293; else if(global_counter == 166)
 5050                        		__bra		.LL115
         1D:D4AB  4C 64 DA   			bra	.LL115
 5051    1D:D4AE             	.LL110:
 5052                        		__ld.wm		_global_counter
         1D:D4AE  AD 35 26   			lda.l	_global_counter
         1D:D4B1  AC 36 26   			ldy.h	_global_counter
 5053                        		__equ_w.wi	166
         1D:D4B4  C9 A6      			cmp.l	#166
         1D:D4B6  D0 04      			bne	!false+
         1D:D4B8  C0 00      			cpy.h	#166
         1D:D4BA  F0 01      			beq	!+
         1D:D4BC  18         	!false:		clc
         1D:D4BD             	!:
 5054                        		__bfalse	.LL116
         1D:D4BD  90 24      			bcc	.LL116
 5055                        	
 5056                        		.dbg	line,	"include\routines_INTRO.c", 294; {
 5057                        	
 5058                        		.dbg	line,	"include\routines_INTRO.c", 295; for(i=0 ; i<8 ; i++)
 5059                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D4BF  9C 79 26   			stz	__sequence_INTRO_end - 1
 5060    1D:D4C2             	.LL117:
 5061                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D4C2  AD 79 26   			lda	__sequence_INTRO_end - 1
 5062                        		__ult_b.uiq	8
         1D:D4C5  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D4C7  6A         			ror	a		; CC if A < integer.
         1D:D4C8  49 80      			eor	#$80
         1D:D4CA  2A         			rol	a
 5063                        		__btrue		.LL119
         1D:D4CB  B0 08      			bcs	.LL119
 5064                        		__bra		.LL120
         1D:D4CD  4C 64 DA   			bra	.LL120
 5065    1D:D4D0             	.LL118:
 5066                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D4D0  EE 79 26   			inc	__sequence_INTRO_end - 1
 5067                        		__bra		.LL117
         1D:D4D3  80 ED      			bra	.LL117
 5068    1D:D4D5             	.LL119:
 5069                        	
 5070                        		.dbg	line,	"include\routines_INTRO.c", 296; {
 5071                        	
 5072                        		.dbg	line,	"include\routines_INTRO.c", 297; sgx_spr_set(i);
 5073                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D4D5  AD 79 26   			lda	__sequence_INTRO_end - 1
 5074                        		__call		_sgx_spr_set.1
         1D:D4D8  20 8A E8   			call	_sgx_spr_set.1
 5075                        	
 5076                        		.dbg	line,	"include\routines_INTRO.c", 298; sgx_spr_hide();
 5077                        		__call		_sgx_spr_hide
         1D:D4DB  20 A5 E8   			call	_sgx_spr_hide
 5078                        	
 5079                        		.dbg	line,	"include\routines_INTRO.c", 299; }
 5080                        		__bra		.LL118
         1D:D4DE  80 F0      			bra	.LL118
 5081    1D:D4E0             	.LL120	.alias		.LL121
 5082                        	
 5083                        		.dbg	line,	"include\routines_INTRO.c", 300; }
 5084                        	
 5085                        		.dbg	line,	"include\routines_INTRO.c", 302; else if(global_counter == 168)
 5086                        		__bra		.LL121
         1D:D4E0  4C 64 DA   			bra	.LL121
 5087    1D:D4E3             	.LL116:
 5088                        		__ld.wm		_global_counter
         1D:D4E3  AD 35 26   			lda.l	_global_counter
         1D:D4E6  AC 36 26   			ldy.h	_global_counter
 5089                        		__equ_w.wi	168
         1D:D4E9  C9 A8      			cmp.l	#168
         1D:D4EB  D0 04      			bne	!false+
         1D:D4ED  C0 00      			cpy.h	#168
         1D:D4EF  F0 01      			beq	!+
         1D:D4F1  18         	!false:		clc
         1D:D4F2             	!:
 5090                        		__bfalse	.LL122
         1D:D4F2  B0 03 4C B4			bcc	.LL122
         1D:D4F6  D5          
 5091                        	
 5092                        		.dbg	line,	"include\routines_INTRO.c", 303; {
 5093                        	
 5094                        		.dbg	line,	"include\routines_INTRO.c", 304; for(i=0 ; i<8 ; i++)
 5095                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D4F7  9C 79 26   			stz	__sequence_INTRO_end - 1
 5096    1D:D4FA             	.LL123:
 5097                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D4FA  AD 79 26   			lda	__sequence_INTRO_end - 1
 5098                        		__ult_b.uiq	8
         1D:D4FD  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D4FF  6A         			ror	a		; CC if A < integer.
         1D:D500  49 80      			eor	#$80
         1D:D502  2A         			rol	a
 5099                        		__btrue		.LL125
         1D:D503  B0 07      			bcs	.LL125
 5100                        		__bra		.LL126
         1D:D505  80 62      			bra	.LL126
 5101    1D:D507             	.LL124:
 5102                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D507  EE 79 26   			inc	__sequence_INTRO_end - 1
 5103                        		__bra		.LL123
         1D:D50A  80 EE      			bra	.LL123
 5104    1D:D50C             	.LL125:
 5105                        	
 5106                        		.dbg	line,	"include\routines_INTRO.c", 305; {
 5107                        	
 5108                        		.dbg	line,	"include\routines_INTRO.c", 306; sgx_spr_set(i);
 5109                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D50C  AD 79 26   			lda	__sequence_INTRO_end - 1
 5110                        		__call		_sgx_spr_set.1
         1D:D50F  20 8A E8   			call	_sgx_spr_set.1
 5111                        	
 5112                        		.dbg	line,	"include\routines_INTRO.c", 307; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 5113                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D512  AD 79 26   			lda	__sequence_INTRO_end - 1
         1D:D515  C2         			cly
 5114                        		__asl.wi	5
         1D:D516  85 00      			sta	__temp
         1D:D518  98         			tya
         1D:D519  4A         			lsr	a
         1D:D51A  20 C8 E1   			jsr	aslw5
         1D:D51D  29 E0      			and.l	#$FF << 5
 5115                        		__add.wm	_player_pos_x
         1D:D51F  18         			clc
         1D:D520  6D DB 24   			adc.l	_player_pos_x
         1D:D523  42         			say
         1D:D524  6D DC 24   			adc.h	_player_pos_x
         1D:D527  42         			say
 5116                        		__push.wr
         1D:D528  5A         			phy
         1D:D529  48         			pha
 5117                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D52A  AD 79 26   			lda	__sequence_INTRO_end - 1
         1D:D52D  C2         			cly
 5118                        		__lsr.uiq	2
         1D:D52E  4A         			lsr	a
         1D:D52F  4A         			lsr	a
 5119                        		__asl.wi	7
         1D:D530  42         			say
         1D:D531  4A         			lsr	a
         1D:D532  42         			say
         1D:D533  6A         			ror	a
         1D:D534  42         			say
         1D:D535  6A         			ror	a
         1D:D536  29 80      			and	#$80
 5120                        		__sub.wt
         1D:D538  BA         			tsx
         1D:D539  38         			sec
         1D:D53A  49 FF      			eor	#$FF
         1D:D53C  7D 01 21   			adc.l	__tos, x
         1D:D53F  42         			say
         1D:D540  49 FF      			eor	#$FF
         1D:D542  7D 02 21   			adc.h	__tos, x
         1D:D545  42         			say
         1D:D546  E8         			inx
         1D:D547  E8         			inx
         1D:D548  9A         			txs
 5121                        		__call		_sgx_spr_x.1
         1D:D549  20 B7 E8   			call	_sgx_spr_x.1
 5122                        	
 5123                        		.dbg	line,	"include\routines_INTRO.c", 308; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 5124                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D54C  AD 79 26   			lda	__sequence_INTRO_end - 1
         1D:D54F  C2         			cly
 5125                        		__lsr.uiq	2
         1D:D550  4A         			lsr	a
         1D:D551  4A         			lsr	a
 5126                        		__asl.wi	5
         1D:D552  85 00      			sta	__temp
         1D:D554  98         			tya
         1D:D555  4A         			lsr	a
         1D:D556  20 C8 E1   			jsr	aslw5
         1D:D559  29 E0      			and.l	#$FF << 5
 5127                        		__add.wm	_player_pos_y
         1D:D55B  18         			clc
         1D:D55C  6D DD 24   			adc.l	_player_pos_y
         1D:D55F  42         			say
         1D:D560  6D DE 24   			adc.h	_player_pos_y
         1D:D563  42         			say
 5128                        		__call		_sgx_spr_y.1
         1D:D564  20 C6 E8   			call	_sgx_spr_y.1
 5129                        	
 5130                        		.dbg	line,	"include\routines_INTRO.c", 309; }
 5131                        		__bra		.LL124
         1D:D567  80 9E      			bra	.LL124
 5132    1D:D569             	.LL126:
 5133                        	
 5134                        		.dbg	line,	"include\routines_INTRO.c", 311; vdc_map_pxl_y = 256;
 5135                        		__st.wmiq	256, _vdc_map_pxl_y
         1D:D569  9C B0 26   			stz.l	_vdc_map_pxl_y
         1D:D56C  A9 01      			lda.h	#256
         1D:D56E  8D B1 26   			sta.h	_vdc_map_pxl_y
 5136                        	
 5137                        		.dbg	line,	"include\routines_INTRO.c", 312; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 5138                        		__st.umiq	0, _al
         1D:D571  64 F8      			stz	_al
 5139                        		__st.umiq	0, _ah
         1D:D573  64 F9      			stz	_ah
 5140                        		__ld.wm		_vdc_map_pxl_x
         1D:D575  AD AE 26   			lda.l	_vdc_map_pxl_x
         1D:D578  AC AF 26   			ldy.h	_vdc_map_pxl_x
 5141                        		__and.wi	511
         1D:D57B  29 FF      			and.l	#511
         1D:D57D  42         			say
         1D:D57E  29 01      			and.h	#511
         1D:D580  42         			say
 5142                        		__st.wmq	_bx
         1D:D581  85 FA      			sta.l	_bx
         1D:D583  84 FB      			sty.h	_bx
 5143                        		__ld.wm		_vdc_map_pxl_y
         1D:D585  AD B0 26   			lda.l	_vdc_map_pxl_y
         1D:D588  AC B1 26   			ldy.h	_vdc_map_pxl_y
 5144                        		__and.wi	511
         1D:D58B  29 FF      			and.l	#511
         1D:D58D  42         			say
         1D:D58E  29 01      			and.h	#511
         1D:D590  42         			say
 5145                        		__st.wmq	_cx
         1D:D591  85 FC      			sta.l	_cx
         1D:D593  84 FD      			sty.h	_cx
 5146                        		__st.umiq	192, _dl
         1D:D595  A9 C0      			lda.l	#192
         1D:D597  85 FE      			sta	_dl
 5147                        		__call		_scroll_split.5
         1D:D599  20 81 FF   			call	_scroll_split.5
 5148                        	
 5149                        		.dbg	line,	"include\routines_INTRO.c", 313; 
 5150                        	
 5151                        		.dbg	line,	"include\routines_INTRO.c", 314; load_palette( 0, palette_INTRO_3, 1 );
 5152                        		__st.umiq	0, _al
         1D:D59C  64 F8      			stz	_al
 5153                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         1D:D59E  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:D5A0  85 EC      			sta.l	_bp
         1D:D5A2  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:D5A4  85 ED      			sta.h	_bp
         1D:D5A6  A9 06      			lda	#bank(_palette_INTRO_3)
         1D:D5A8  85 02      			sta	_bp_bank
 5154                        		__st.umiq	1, _ah
         1D:D5AA  A9 01      			lda.l	#1
         1D:D5AC  85 F9      			sta	_ah
 5155                        		__call		_load_palette.3
         1D:D5AE  20 8B FF   			call	_load_palette.3
 5156                        	
 5157                        		.dbg	line,	"include\routines_INTRO.c", 315; }
 5158                        	
 5159                        		.dbg	line,	"include\routines_INTRO.c", 317; else if(global_counter == 170)
 5160                        		__bra		.LL127
         1D:D5B1  4C 64 DA   			bra	.LL127
 5161    1D:D5B4             	.LL122:
 5162                        		__ld.wm		_global_counter
         1D:D5B4  AD 35 26   			lda.l	_global_counter
         1D:D5B7  AC 36 26   			ldy.h	_global_counter
 5163                        		__equ_w.wi	170
         1D:D5BA  C9 AA      			cmp.l	#170
         1D:D5BC  D0 04      			bne	!false+
         1D:D5BE  C0 00      			cpy.h	#170
         1D:D5C0  F0 01      			beq	!+
         1D:D5C2  18         	!false:		clc
         1D:D5C3             	!:
 5164                        		__bfalse	.LL128
         1D:D5C3  90 24      			bcc	.LL128
 5165                        	
 5166                        		.dbg	line,	"include\routines_INTRO.c", 318; {
 5167                        	
 5168                        		.dbg	line,	"include\routines_INTRO.c", 319; for(i=0 ; i<8 ; i++)
 5169                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D5C5  9C 79 26   			stz	__sequence_INTRO_end - 1
 5170    1D:D5C8             	.LL129:
 5171                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D5C8  AD 79 26   			lda	__sequence_INTRO_end - 1
 5172                        		__ult_b.uiq	8
         1D:D5CB  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D5CD  6A         			ror	a		; CC if A < integer.
         1D:D5CE  49 80      			eor	#$80
         1D:D5D0  2A         			rol	a
 5173                        		__btrue		.LL131
         1D:D5D1  B0 08      			bcs	.LL131
 5174                        		__bra		.LL132
         1D:D5D3  4C 64 DA   			bra	.LL132
 5175    1D:D5D6             	.LL130:
 5176                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D5D6  EE 79 26   			inc	__sequence_INTRO_end - 1
 5177                        		__bra		.LL129
         1D:D5D9  80 ED      			bra	.LL129
 5178    1D:D5DB             	.LL131:
 5179                        	
 5180                        		.dbg	line,	"include\routines_INTRO.c", 320; {
 5181                        	
 5182                        		.dbg	line,	"include\routines_INTRO.c", 321; sgx_spr_set(i);
 5183                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D5DB  AD 79 26   			lda	__sequence_INTRO_end - 1
 5184                        		__call		_sgx_spr_set.1
         1D:D5DE  20 8A E8   			call	_sgx_spr_set.1
 5185                        	
 5186                        		.dbg	line,	"include\routines_INTRO.c", 322; sgx_spr_hide();
 5187                        		__call		_sgx_spr_hide
         1D:D5E1  20 A5 E8   			call	_sgx_spr_hide
 5188                        	
 5189                        		.dbg	line,	"include\routines_INTRO.c", 323; }
 5190                        		__bra		.LL130
         1D:D5E4  80 F0      			bra	.LL130
 5191    1D:D5E6             	.LL132	.alias		.LL133
 5192                        	
 5193                        		.dbg	line,	"include\routines_INTRO.c", 324; }
 5194                        	
 5195                        		.dbg	line,	"include\routines_INTRO.c", 326; else if(global_counter == 172)
 5196                        		__bra		.LL133
         1D:D5E6  4C 64 DA   			bra	.LL133
 5197    1D:D5E9             	.LL128:
 5198                        		__ld.wm		_global_counter
         1D:D5E9  AD 35 26   			lda.l	_global_counter
         1D:D5EC  AC 36 26   			ldy.h	_global_counter
 5199                        		__equ_w.wi	172
         1D:D5EF  C9 AC      			cmp.l	#172
         1D:D5F1  D0 04      			bne	!false+
         1D:D5F3  C0 00      			cpy.h	#172
         1D:D5F5  F0 01      			beq	!+
         1D:D5F7  18         	!false:		clc
         1D:D5F8             	!:
 5200                        		__bfalse	.LL134
         1D:D5F8  B0 03 4C A3			bcc	.LL134
         1D:D5FC  D6          
 5201                        	
 5202                        		.dbg	line,	"include\routines_INTRO.c", 327; {
 5203                        	
 5204                        		.dbg	line,	"include\routines_INTRO.c", 328; for(i=0 ; i<8 ; i++)
 5205                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D5FD  9C 79 26   			stz	__sequence_INTRO_end - 1
 5206    1D:D600             	.LL135:
 5207                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D600  AD 79 26   			lda	__sequence_INTRO_end - 1
 5208                        		__ult_b.uiq	8
         1D:D603  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D605  6A         			ror	a		; CC if A < integer.
         1D:D606  49 80      			eor	#$80
         1D:D608  2A         			rol	a
 5209                        		__btrue		.LL137
         1D:D609  B0 07      			bcs	.LL137
 5210                        		__bra		.LL138
         1D:D60B  80 62      			bra	.LL138
 5211    1D:D60D             	.LL136:
 5212                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D60D  EE 79 26   			inc	__sequence_INTRO_end - 1
 5213                        		__bra		.LL135
         1D:D610  80 EE      			bra	.LL135
 5214    1D:D612             	.LL137:
 5215                        	
 5216                        		.dbg	line,	"include\routines_INTRO.c", 329; {
 5217                        	
 5218                        		.dbg	line,	"include\routines_INTRO.c", 330; sgx_spr_set(i);
 5219                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D612  AD 79 26   			lda	__sequence_INTRO_end - 1
 5220                        		__call		_sgx_spr_set.1
         1D:D615  20 8A E8   			call	_sgx_spr_set.1
 5221                        	
 5222                        		.dbg	line,	"include\routines_INTRO.c", 331; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 5223                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D618  AD 79 26   			lda	__sequence_INTRO_end - 1
         1D:D61B  C2         			cly
 5224                        		__asl.wi	5
         1D:D61C  85 00      			sta	__temp
         1D:D61E  98         			tya
         1D:D61F  4A         			lsr	a
         1D:D620  20 C8 E1   			jsr	aslw5
         1D:D623  29 E0      			and.l	#$FF << 5
 5225                        		__add.wm	_player_pos_x
         1D:D625  18         			clc
         1D:D626  6D DB 24   			adc.l	_player_pos_x
         1D:D629  42         			say
         1D:D62A  6D DC 24   			adc.h	_player_pos_x
         1D:D62D  42         			say
 5226                        		__push.wr
         1D:D62E  5A         			phy
         1D:D62F  48         			pha
 5227                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D630  AD 79 26   			lda	__sequence_INTRO_end - 1
         1D:D633  C2         			cly
 5228                        		__lsr.uiq	2
         1D:D634  4A         			lsr	a
         1D:D635  4A         			lsr	a
 5229                        		__asl.wi	7
         1D:D636  42         			say
         1D:D637  4A         			lsr	a
         1D:D638  42         			say
         1D:D639  6A         			ror	a
         1D:D63A  42         			say
         1D:D63B  6A         			ror	a
         1D:D63C  29 80      			and	#$80
 5230                        		__sub.wt
         1D:D63E  BA         			tsx
         1D:D63F  38         			sec
         1D:D640  49 FF      			eor	#$FF
         1D:D642  7D 01 21   			adc.l	__tos, x
         1D:D645  42         			say
         1D:D646  49 FF      			eor	#$FF
         1D:D648  7D 02 21   			adc.h	__tos, x
         1D:D64B  42         			say
         1D:D64C  E8         			inx
         1D:D64D  E8         			inx
         1D:D64E  9A         			txs
 5231                        		__call		_sgx_spr_x.1
         1D:D64F  20 B7 E8   			call	_sgx_spr_x.1
 5232                        	
 5233                        		.dbg	line,	"include\routines_INTRO.c", 332; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 5234                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D652  AD 79 26   			lda	__sequence_INTRO_end - 1
         1D:D655  C2         			cly
 5235                        		__lsr.uiq	2
         1D:D656  4A         			lsr	a
         1D:D657  4A         			lsr	a
 5236                        		__asl.wi	5
         1D:D658  85 00      			sta	__temp
         1D:D65A  98         			tya
         1D:D65B  4A         			lsr	a
         1D:D65C  20 C8 E1   			jsr	aslw5
         1D:D65F  29 E0      			and.l	#$FF << 5
 5237                        		__add.wm	_player_pos_y
         1D:D661  18         			clc
         1D:D662  6D DD 24   			adc.l	_player_pos_y
         1D:D665  42         			say
         1D:D666  6D DE 24   			adc.h	_player_pos_y
         1D:D669  42         			say
 5238                        		__call		_sgx_spr_y.1
         1D:D66A  20 C6 E8   			call	_sgx_spr_y.1
 5239                        	
 5240                        		.dbg	line,	"include\routines_INTRO.c", 333; }
 5241                        		__bra		.LL136
         1D:D66D  80 9E      			bra	.LL136
 5242    1D:D66F             	.LL138:
 5243                        	
 5244                        		.dbg	line,	"include\routines_INTRO.c", 335; vdc_map_pxl_y = 0;
 5245                        		__st.wmiq	0, _vdc_map_pxl_y
         1D:D66F  9C B0 26   			stz.l	_vdc_map_pxl_y
         1D:D672  9C B1 26   			stz.h	_vdc_map_pxl_y
 5246                        	
 5247                        		.dbg	line,	"include\routines_INTRO.c", 336; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 5248                        		__st.umiq	0, _al
         1D:D675  64 F8      			stz	_al
 5249                        		__st.umiq	0, _ah
         1D:D677  64 F9      			stz	_ah
 5250                        		__ld.wm		_vdc_map_pxl_x
         1D:D679  AD AE 26   			lda.l	_vdc_map_pxl_x
         1D:D67C  AC AF 26   			ldy.h	_vdc_map_pxl_x
 5251                        		__and.wi	511
         1D:D67F  29 FF      			and.l	#511
         1D:D681  42         			say
         1D:D682  29 01      			and.h	#511
         1D:D684  42         			say
 5252                        		__st.wmq	_bx
         1D:D685  85 FA      			sta.l	_bx
         1D:D687  84 FB      			sty.h	_bx
 5253                        		__ld.wm		_vdc_map_pxl_y
         1D:D689  AD B0 26   			lda.l	_vdc_map_pxl_y
         1D:D68C  AC B1 26   			ldy.h	_vdc_map_pxl_y
 5254                        		__and.wi	511
         1D:D68F  29 FF      			and.l	#511
         1D:D691  42         			say
         1D:D692  29 01      			and.h	#511
         1D:D694  42         			say
 5255                        		__st.wmq	_cx
         1D:D695  85 FC      			sta.l	_cx
         1D:D697  84 FD      			sty.h	_cx
 5256                        		__st.umiq	192, _dl
         1D:D699  A9 C0      			lda.l	#192
         1D:D69B  85 FE      			sta	_dl
 5257                        		__call		_scroll_split.5
         1D:D69D  20 81 FF   			call	_scroll_split.5
 5258                        	
 5259                        		.dbg	line,	"include\routines_INTRO.c", 337; }
 5260                        	
 5261                        		.dbg	line,	"include\routines_INTRO.c", 339; else if(global_counter == 173)
 5262                        		__bra		.LL139
         1D:D6A0  4C 64 DA   			bra	.LL139
 5263    1D:D6A3             	.LL134:
 5264                        		__ld.wm		_global_counter
         1D:D6A3  AD 35 26   			lda.l	_global_counter
         1D:D6A6  AC 36 26   			ldy.h	_global_counter
 5265                        		__equ_w.wi	173
         1D:D6A9  C9 AD      			cmp.l	#173
         1D:D6AB  D0 04      			bne	!false+
         1D:D6AD  C0 00      			cpy.h	#173
         1D:D6AF  F0 01      			beq	!+
         1D:D6B1  18         	!false:		clc
         1D:D6B2             	!:
 5266                        		__bfalse	.LL140
         1D:D6B2  90 18      			bcc	.LL140
 5267                        	
 5268                        		.dbg	line,	"include\routines_INTRO.c", 340; {
 5269                        	
 5270                        		.dbg	line,	"include\routines_INTRO.c", 341; load_palette( 0, palette_INTRO_2, 1 );
 5271                        		__st.umiq	0, _al
         1D:D6B4  64 F8      			stz	_al
 5272                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         1D:D6B6  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:D6B8  85 EC      			sta.l	_bp
         1D:D6BA  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:D6BC  85 ED      			sta.h	_bp
         1D:D6BE  A9 06      			lda	#bank(_palette_INTRO_2)
         1D:D6C0  85 02      			sta	_bp_bank
 5273                        		__st.umiq	1, _ah
         1D:D6C2  A9 01      			lda.l	#1
         1D:D6C4  85 F9      			sta	_ah
 5274                        		__call		_load_palette.3
         1D:D6C6  20 8B FF   			call	_load_palette.3
 5275                        	
 5276                        		.dbg	line,	"include\routines_INTRO.c", 342; }
 5277                        	
 5278                        		.dbg	line,	"include\routines_INTRO.c", 344; else if(global_counter == 174)
 5279                        		__bra		.LL141
         1D:D6C9  4C 64 DA   			bra	.LL141
 5280    1D:D6CC             	.LL140:
 5281                        		__ld.wm		_global_counter
         1D:D6CC  AD 35 26   			lda.l	_global_counter
         1D:D6CF  AC 36 26   			ldy.h	_global_counter
 5282                        		__equ_w.wi	174
         1D:D6D2  C9 AE      			cmp.l	#174
         1D:D6D4  D0 04      			bne	!false+
         1D:D6D6  C0 00      			cpy.h	#174
         1D:D6D8  F0 01      			beq	!+
         1D:D6DA  18         	!false:		clc
         1D:D6DB             	!:
 5283                        		__bfalse	.LL142
         1D:D6DB  90 24      			bcc	.LL142
 5284                        	
 5285                        		.dbg	line,	"include\routines_INTRO.c", 345; {
 5286                        	
 5287                        		.dbg	line,	"include\routines_INTRO.c", 346; for(i=0 ; i<8 ; i++)
 5288                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D6DD  9C 79 26   			stz	__sequence_INTRO_end - 1
 5289    1D:D6E0             	.LL143:
 5290                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D6E0  AD 79 26   			lda	__sequence_INTRO_end - 1
 5291                        		__ult_b.uiq	8
         1D:D6E3  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D6E5  6A         			ror	a		; CC if A < integer.
         1D:D6E6  49 80      			eor	#$80
         1D:D6E8  2A         			rol	a
 5292                        		__btrue		.LL145
         1D:D6E9  B0 08      			bcs	.LL145
 5293                        		__bra		.LL146
         1D:D6EB  4C 64 DA   			bra	.LL146
 5294    1D:D6EE             	.LL144:
 5295                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D6EE  EE 79 26   			inc	__sequence_INTRO_end - 1
 5296                        		__bra		.LL143
         1D:D6F1  80 ED      			bra	.LL143
 5297    1D:D6F3             	.LL145:
 5298                        	
 5299                        		.dbg	line,	"include\routines_INTRO.c", 347; {
 5300                        	
 5301                        		.dbg	line,	"include\routines_INTRO.c", 348; sgx_spr_set(i);
 5302                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D6F3  AD 79 26   			lda	__sequence_INTRO_end - 1
 5303                        		__call		_sgx_spr_set.1
         1D:D6F6  20 8A E8   			call	_sgx_spr_set.1
 5304                        	
 5305                        		.dbg	line,	"include\routines_INTRO.c", 349; sgx_spr_hide();
 5306                        		__call		_sgx_spr_hide
         1D:D6F9  20 A5 E8   			call	_sgx_spr_hide
 5307                        	
 5308                        		.dbg	line,	"include\routines_INTRO.c", 350; }
 5309                        		__bra		.LL144
         1D:D6FC  80 F0      			bra	.LL144
 5310    1D:D6FE             	.LL146	.alias		.LL147
 5311                        	
 5312                        		.dbg	line,	"include\routines_INTRO.c", 351; }
 5313                        	
 5314                        		.dbg	line,	"include\routines_INTRO.c", 353; else if(global_counter == 176)
 5315                        		__bra		.LL147
         1D:D6FE  4C 64 DA   			bra	.LL147
 5316    1D:D701             	.LL142:
 5317                        		__ld.wm		_global_counter
         1D:D701  AD 35 26   			lda.l	_global_counter
         1D:D704  AC 36 26   			ldy.h	_global_counter
 5318                        		__equ_w.wi	176
         1D:D707  C9 B0      			cmp.l	#176
         1D:D709  D0 04      			bne	!false+
         1D:D70B  C0 00      			cpy.h	#176
         1D:D70D  F0 01      			beq	!+
         1D:D70F  18         	!false:		clc
         1D:D710             	!:
 5319                        		__bfalse	.LL148
         1D:D710  90 76      			bcc	.LL148
 5320                        	
 5321                        		.dbg	line,	"include\routines_INTRO.c", 354; {
 5322                        	
 5323                        		.dbg	line,	"include\routines_INTRO.c", 355; for(i=0 ; i<8 ; i++)
 5324                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D712  9C 79 26   			stz	__sequence_INTRO_end - 1
 5325    1D:D715             	.LL149:
 5326                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D715  AD 79 26   			lda	__sequence_INTRO_end - 1
 5327                        		__ult_b.uiq	8
         1D:D718  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D71A  6A         			ror	a		; CC if A < integer.
         1D:D71B  49 80      			eor	#$80
         1D:D71D  2A         			rol	a
 5328                        		__btrue		.LL151
         1D:D71E  B0 08      			bcs	.LL151
 5329                        		__bra		.LL152
         1D:D720  4C 64 DA   			bra	.LL152
 5330    1D:D723             	.LL150:
 5331                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D723  EE 79 26   			inc	__sequence_INTRO_end - 1
 5332                        		__bra		.LL149
         1D:D726  80 ED      			bra	.LL149
 5333    1D:D728             	.LL151:
 5334                        	
 5335                        		.dbg	line,	"include\routines_INTRO.c", 356; {
 5336                        	
 5337                        		.dbg	line,	"include\routines_INTRO.c", 357; sgx_spr_set(i);
 5338                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D728  AD 79 26   			lda	__sequence_INTRO_end - 1
 5339                        		__call		_sgx_spr_set.1
         1D:D72B  20 8A E8   			call	_sgx_spr_set.1
 5340                        	
 5341                        		.dbg	line,	"include\routines_INTRO.c", 358; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 5342                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D72E  AD 79 26   			lda	__sequence_INTRO_end - 1
         1D:D731  C2         			cly
 5343                        		__asl.wi	5
         1D:D732  85 00      			sta	__temp
         1D:D734  98         			tya
         1D:D735  4A         			lsr	a
         1D:D736  20 C8 E1   			jsr	aslw5
         1D:D739  29 E0      			and.l	#$FF << 5
 5344                        		__add.wm	_player_pos_x
         1D:D73B  18         			clc
         1D:D73C  6D DB 24   			adc.l	_player_pos_x
         1D:D73F  42         			say
         1D:D740  6D DC 24   			adc.h	_player_pos_x
         1D:D743  42         			say
 5345                        		__push.wr
         1D:D744  5A         			phy
         1D:D745  48         			pha
 5346                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D746  AD 79 26   			lda	__sequence_INTRO_end - 1
         1D:D749  C2         			cly
 5347                        		__lsr.uiq	2
         1D:D74A  4A         			lsr	a
         1D:D74B  4A         			lsr	a
 5348                        		__asl.wi	7
         1D:D74C  42         			say
         1D:D74D  4A         			lsr	a
         1D:D74E  42         			say
         1D:D74F  6A         			ror	a
         1D:D750  42         			say
         1D:D751  6A         			ror	a
         1D:D752  29 80      			and	#$80
 5349                        		__sub.wt
         1D:D754  BA         			tsx
         1D:D755  38         			sec
         1D:D756  49 FF      			eor	#$FF
         1D:D758  7D 01 21   			adc.l	__tos, x
         1D:D75B  42         			say
         1D:D75C  49 FF      			eor	#$FF
         1D:D75E  7D 02 21   			adc.h	__tos, x
         1D:D761  42         			say
         1D:D762  E8         			inx
         1D:D763  E8         			inx
         1D:D764  9A         			txs
 5350                        		__call		_sgx_spr_x.1
         1D:D765  20 B7 E8   			call	_sgx_spr_x.1
 5351                        	
 5352                        		.dbg	line,	"include\routines_INTRO.c", 359; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 5353                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D768  AD 79 26   			lda	__sequence_INTRO_end - 1
         1D:D76B  C2         			cly
 5354                        		__lsr.uiq	2
         1D:D76C  4A         			lsr	a
         1D:D76D  4A         			lsr	a
 5355                        		__asl.wi	5
         1D:D76E  85 00      			sta	__temp
         1D:D770  98         			tya
         1D:D771  4A         			lsr	a
         1D:D772  20 C8 E1   			jsr	aslw5
         1D:D775  29 E0      			and.l	#$FF << 5
 5356                        		__add.wm	_player_pos_y
         1D:D777  18         			clc
         1D:D778  6D DD 24   			adc.l	_player_pos_y
         1D:D77B  42         			say
         1D:D77C  6D DE 24   			adc.h	_player_pos_y
         1D:D77F  42         			say
 5357                        		__call		_sgx_spr_y.1
         1D:D780  20 C6 E8   			call	_sgx_spr_y.1
 5358                        	
 5359                        		.dbg	line,	"include\routines_INTRO.c", 360; }
 5360                        		__bra		.LL150
         1D:D783  80 9E      			bra	.LL150
 5361    1D:D785             	.LL152	.alias		.LL153
 5362                        	
 5363                        		.dbg	line,	"include\routines_INTRO.c", 361; }
 5364                        	
 5365                        		.dbg	line,	"include\routines_INTRO.c", 363; else if(global_counter == 177)
 5366                        		__bra		.LL153
         1D:D785  4C 64 DA   			bra	.LL153
 5367    1D:D788             	.LL148:
 5368                        		__ld.wm		_global_counter
         1D:D788  AD 35 26   			lda.l	_global_counter
         1D:D78B  AC 36 26   			ldy.h	_global_counter
 5369                        		__equ_w.wi	177
         1D:D78E  C9 B1      			cmp.l	#177
         1D:D790  D0 04      			bne	!false+
         1D:D792  C0 00      			cpy.h	#177
         1D:D794  F0 01      			beq	!+
         1D:D796  18         	!false:		clc
         1D:D797             	!:
 5370                        		__bfalse	.LL154
         1D:D797  90 53      			bcc	.LL154
 5371                        	
 5372                        		.dbg	line,	"include\routines_INTRO.c", 364; {
 5373                        	
 5374                        		.dbg	line,	"include\routines_INTRO.c", 365; vdc_map_pxl_x = 256;
 5375                        		__st.wmiq	256, _vdc_map_pxl_x
         1D:D799  9C AE 26   			stz.l	_vdc_map_pxl_x
         1D:D79C  A9 01      			lda.h	#256
         1D:D79E  8D AF 26   			sta.h	_vdc_map_pxl_x
 5376                        	
 5377                        		.dbg	line,	"include\routines_INTRO.c", 366; vdc_map_pxl_y = 256;
 5378                        		__st.wmiq	256, _vdc_map_pxl_y
         1D:D7A1  9C B0 26   			stz.l	_vdc_map_pxl_y
         1D:D7A4  A9 01      			lda.h	#256
         1D:D7A6  8D B1 26   			sta.h	_vdc_map_pxl_y
 5379                        	
 5380                        		.dbg	line,	"include\routines_INTRO.c", 367; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 5381                        		__st.umiq	0, _al
         1D:D7A9  64 F8      			stz	_al
 5382                        		__st.umiq	0, _ah
         1D:D7AB  64 F9      			stz	_ah
 5383                        		__ld.wm		_vdc_map_pxl_x
         1D:D7AD  AD AE 26   			lda.l	_vdc_map_pxl_x
         1D:D7B0  AC AF 26   			ldy.h	_vdc_map_pxl_x
 5384                        		__and.wi	511
         1D:D7B3  29 FF      			and.l	#511
         1D:D7B5  42         			say
         1D:D7B6  29 01      			and.h	#511
         1D:D7B8  42         			say
 5385                        		__st.wmq	_bx
         1D:D7B9  85 FA      			sta.l	_bx
         1D:D7BB  84 FB      			sty.h	_bx
 5386                        		__ld.wm		_vdc_map_pxl_y
         1D:D7BD  AD B0 26   			lda.l	_vdc_map_pxl_y
         1D:D7C0  AC B1 26   			ldy.h	_vdc_map_pxl_y
 5387                        		__and.wi	511
         1D:D7C3  29 FF      			and.l	#511
         1D:D7C5  42         			say
         1D:D7C6  29 01      			and.h	#511
         1D:D7C8  42         			say
 5388                        		__st.wmq	_cx
         1D:D7C9  85 FC      			sta.l	_cx
         1D:D7CB  84 FD      			sty.h	_cx
 5389                        		__st.umiq	192, _dl
         1D:D7CD  A9 C0      			lda.l	#192
         1D:D7CF  85 FE      			sta	_dl
 5390                        		__call		_scroll_split.5
         1D:D7D1  20 81 FF   			call	_scroll_split.5
 5391                        	
 5392                        		.dbg	line,	"include\routines_INTRO.c", 369; load_palette( 0, palette_INTRO_3, 1 );
 5393                        		__st.umiq	0, _al
         1D:D7D4  64 F8      			stz	_al
 5394                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         1D:D7D6  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:D7D8  85 EC      			sta.l	_bp
         1D:D7DA  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:D7DC  85 ED      			sta.h	_bp
         1D:D7DE  A9 06      			lda	#bank(_palette_INTRO_3)
         1D:D7E0  85 02      			sta	_bp_bank
 5395                        		__st.umiq	1, _ah
         1D:D7E2  A9 01      			lda.l	#1
         1D:D7E4  85 F9      			sta	_ah
 5396                        		__call		_load_palette.3
         1D:D7E6  20 8B FF   			call	_load_palette.3
 5397                        	
 5398                        		.dbg	line,	"include\routines_INTRO.c", 370; }
 5399                        	
 5400                        		.dbg	line,	"include\routines_INTRO.c", 372; else if(global_counter == 178)
 5401                        		__bra		.LL155
         1D:D7E9  4C 64 DA   			bra	.LL155
 5402    1D:D7EC             	.LL154:
 5403                        		__ld.wm		_global_counter
         1D:D7EC  AD 35 26   			lda.l	_global_counter
         1D:D7EF  AC 36 26   			ldy.h	_global_counter
 5404                        		__equ_w.wi	178
         1D:D7F2  C9 B2      			cmp.l	#178
         1D:D7F4  D0 04      			bne	!false+
         1D:D7F6  C0 00      			cpy.h	#178
         1D:D7F8  F0 01      			beq	!+
         1D:D7FA  18         	!false:		clc
         1D:D7FB             	!:
 5405                        		__bfalse	.LL156
         1D:D7FB  90 24      			bcc	.LL156
 5406                        	
 5407                        		.dbg	line,	"include\routines_INTRO.c", 373; {
 5408                        	
 5409                        		.dbg	line,	"include\routines_INTRO.c", 374; for(i=0 ; i<8 ; i++)
 5410                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D7FD  9C 79 26   			stz	__sequence_INTRO_end - 1
 5411    1D:D800             	.LL157:
 5412                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D800  AD 79 26   			lda	__sequence_INTRO_end - 1
 5413                        		__ult_b.uiq	8
         1D:D803  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D805  6A         			ror	a		; CC if A < integer.
         1D:D806  49 80      			eor	#$80
         1D:D808  2A         			rol	a
 5414                        		__btrue		.LL159
         1D:D809  B0 08      			bcs	.LL159
 5415                        		__bra		.LL160
         1D:D80B  4C 64 DA   			bra	.LL160
 5416    1D:D80E             	.LL158:
 5417                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D80E  EE 79 26   			inc	__sequence_INTRO_end - 1
 5418                        		__bra		.LL157
         1D:D811  80 ED      			bra	.LL157
 5419    1D:D813             	.LL159:
 5420                        	
 5421                        		.dbg	line,	"include\routines_INTRO.c", 375; {
 5422                        	
 5423                        		.dbg	line,	"include\routines_INTRO.c", 376; sgx_spr_set(i);
 5424                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D813  AD 79 26   			lda	__sequence_INTRO_end - 1
 5425                        		__call		_sgx_spr_set.1
         1D:D816  20 8A E8   			call	_sgx_spr_set.1
 5426                        	
 5427                        		.dbg	line,	"include\routines_INTRO.c", 377; sgx_spr_hide();
 5428                        		__call		_sgx_spr_hide
         1D:D819  20 A5 E8   			call	_sgx_spr_hide
 5429                        	
 5430                        		.dbg	line,	"include\routines_INTRO.c", 378; }
 5431                        		__bra		.LL158
         1D:D81C  80 F0      			bra	.LL158
 5432    1D:D81E             	.LL160	.alias		.LL161
 5433                        	
 5434                        		.dbg	line,	"include\routines_INTRO.c", 379; }
 5435                        	
 5436                        		.dbg	line,	"include\routines_INTRO.c", 381; else if(global_counter == 180)
 5437                        		__bra		.LL161
         1D:D81E  4C 64 DA   			bra	.LL161
 5438    1D:D821             	.LL156:
 5439                        		__ld.wm		_global_counter
         1D:D821  AD 35 26   			lda.l	_global_counter
         1D:D824  AC 36 26   			ldy.h	_global_counter
 5440                        		__equ_w.wi	180
         1D:D827  C9 B4      			cmp.l	#180
         1D:D829  D0 04      			bne	!false+
         1D:D82B  C0 00      			cpy.h	#180
         1D:D82D  F0 01      			beq	!+
         1D:D82F  18         	!false:		clc
         1D:D830             	!:
 5441                        		__bfalse	.LL162
         1D:D830  90 76      			bcc	.LL162
 5442                        	
 5443                        		.dbg	line,	"include\routines_INTRO.c", 382; {
 5444                        	
 5445                        		.dbg	line,	"include\routines_INTRO.c", 383; for(i=0 ; i<8 ; i++)
 5446                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D832  9C 79 26   			stz	__sequence_INTRO_end - 1
 5447    1D:D835             	.LL163:
 5448                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D835  AD 79 26   			lda	__sequence_INTRO_end - 1
 5449                        		__ult_b.uiq	8
         1D:D838  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D83A  6A         			ror	a		; CC if A < integer.
         1D:D83B  49 80      			eor	#$80
         1D:D83D  2A         			rol	a
 5450                        		__btrue		.LL165
         1D:D83E  B0 08      			bcs	.LL165
 5451                        		__bra		.LL166
         1D:D840  4C 64 DA   			bra	.LL166
 5452    1D:D843             	.LL164:
 5453                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D843  EE 79 26   			inc	__sequence_INTRO_end - 1
 5454                        		__bra		.LL163
         1D:D846  80 ED      			bra	.LL163
 5455    1D:D848             	.LL165:
 5456                        	
 5457                        		.dbg	line,	"include\routines_INTRO.c", 384; {
 5458                        	
 5459                        		.dbg	line,	"include\routines_INTRO.c", 385; sgx_spr_set(i);
 5460                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D848  AD 79 26   			lda	__sequence_INTRO_end - 1
 5461                        		__call		_sgx_spr_set.1
         1D:D84B  20 8A E8   			call	_sgx_spr_set.1
 5462                        	
 5463                        		.dbg	line,	"include\routines_INTRO.c", 386; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 5464                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D84E  AD 79 26   			lda	__sequence_INTRO_end - 1
         1D:D851  C2         			cly
 5465                        		__asl.wi	5
         1D:D852  85 00      			sta	__temp
         1D:D854  98         			tya
         1D:D855  4A         			lsr	a
         1D:D856  20 C8 E1   			jsr	aslw5
         1D:D859  29 E0      			and.l	#$FF << 5
 5466                        		__add.wm	_player_pos_x
         1D:D85B  18         			clc
         1D:D85C  6D DB 24   			adc.l	_player_pos_x
         1D:D85F  42         			say
         1D:D860  6D DC 24   			adc.h	_player_pos_x
         1D:D863  42         			say
 5467                        		__push.wr
         1D:D864  5A         			phy
         1D:D865  48         			pha
 5468                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D866  AD 79 26   			lda	__sequence_INTRO_end - 1
         1D:D869  C2         			cly
 5469                        		__lsr.uiq	2
         1D:D86A  4A         			lsr	a
         1D:D86B  4A         			lsr	a
 5470                        		__asl.wi	7
         1D:D86C  42         			say
         1D:D86D  4A         			lsr	a
         1D:D86E  42         			say
         1D:D86F  6A         			ror	a
         1D:D870  42         			say
         1D:D871  6A         			ror	a
         1D:D872  29 80      			and	#$80
 5471                        		__sub.wt
         1D:D874  BA         			tsx
         1D:D875  38         			sec
         1D:D876  49 FF      			eor	#$FF
         1D:D878  7D 01 21   			adc.l	__tos, x
         1D:D87B  42         			say
         1D:D87C  49 FF      			eor	#$FF
         1D:D87E  7D 02 21   			adc.h	__tos, x
         1D:D881  42         			say
         1D:D882  E8         			inx
         1D:D883  E8         			inx
         1D:D884  9A         			txs
 5472                        		__call		_sgx_spr_x.1
         1D:D885  20 B7 E8   			call	_sgx_spr_x.1
 5473                        	
 5474                        		.dbg	line,	"include\routines_INTRO.c", 387; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 5475                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D888  AD 79 26   			lda	__sequence_INTRO_end - 1
         1D:D88B  C2         			cly
 5476                        		__lsr.uiq	2
         1D:D88C  4A         			lsr	a
         1D:D88D  4A         			lsr	a
 5477                        		__asl.wi	5
         1D:D88E  85 00      			sta	__temp
         1D:D890  98         			tya
         1D:D891  4A         			lsr	a
         1D:D892  20 C8 E1   			jsr	aslw5
         1D:D895  29 E0      			and.l	#$FF << 5
 5478                        		__add.wm	_player_pos_y
         1D:D897  18         			clc
         1D:D898  6D DD 24   			adc.l	_player_pos_y
         1D:D89B  42         			say
         1D:D89C  6D DE 24   			adc.h	_player_pos_y
         1D:D89F  42         			say
 5479                        		__call		_sgx_spr_y.1
         1D:D8A0  20 C6 E8   			call	_sgx_spr_y.1
 5480                        	
 5481                        		.dbg	line,	"include\routines_INTRO.c", 388; }
 5482                        		__bra		.LL164
         1D:D8A3  80 9E      			bra	.LL164
 5483    1D:D8A5             	.LL166	.alias		.LL167
 5484                        	
 5485                        		.dbg	line,	"include\routines_INTRO.c", 389; }
 5486                        	
 5487                        		.dbg	line,	"include\routines_INTRO.c", 391; else if(global_counter == 181)
 5488                        		__bra		.LL167
         1D:D8A5  4C 64 DA   			bra	.LL167
 5489    1D:D8A8             	.LL162:
 5490                        		__ld.wm		_global_counter
         1D:D8A8  AD 35 26   			lda.l	_global_counter
         1D:D8AB  AC 36 26   			ldy.h	_global_counter
 5491                        		__equ_w.wi	181
         1D:D8AE  C9 B5      			cmp.l	#181
         1D:D8B0  D0 04      			bne	!false+
         1D:D8B2  C0 00      			cpy.h	#181
         1D:D8B4  F0 01      			beq	!+
         1D:D8B6  18         	!false:		clc
         1D:D8B7             	!:
 5492                        		__bfalse	.LL168
         1D:D8B7  90 4F      			bcc	.LL168
 5493                        	
 5494                        		.dbg	line,	"include\routines_INTRO.c", 392; {
 5495                        	
 5496                        		.dbg	line,	"include\routines_INTRO.c", 393; vdc_map_pxl_x = 0;
 5497                        		__st.wmiq	0, _vdc_map_pxl_x
         1D:D8B9  9C AE 26   			stz.l	_vdc_map_pxl_x
         1D:D8BC  9C AF 26   			stz.h	_vdc_map_pxl_x
 5498                        	
 5499                        		.dbg	line,	"include\routines_INTRO.c", 394; vdc_map_pxl_y = 0;
 5500                        		__st.wmiq	0, _vdc_map_pxl_y
         1D:D8BF  9C B0 26   			stz.l	_vdc_map_pxl_y
         1D:D8C2  9C B1 26   			stz.h	_vdc_map_pxl_y
 5501                        	
 5502                        		.dbg	line,	"include\routines_INTRO.c", 395; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 5503                        		__st.umiq	0, _al
         1D:D8C5  64 F8      			stz	_al
 5504                        		__st.umiq	0, _ah
         1D:D8C7  64 F9      			stz	_ah
 5505                        		__ld.wm		_vdc_map_pxl_x
         1D:D8C9  AD AE 26   			lda.l	_vdc_map_pxl_x
         1D:D8CC  AC AF 26   			ldy.h	_vdc_map_pxl_x
 5506                        		__and.wi	511
         1D:D8CF  29 FF      			and.l	#511
         1D:D8D1  42         			say
         1D:D8D2  29 01      			and.h	#511
         1D:D8D4  42         			say
 5507                        		__st.wmq	_bx
         1D:D8D5  85 FA      			sta.l	_bx
         1D:D8D7  84 FB      			sty.h	_bx
 5508                        		__ld.wm		_vdc_map_pxl_y
         1D:D8D9  AD B0 26   			lda.l	_vdc_map_pxl_y
         1D:D8DC  AC B1 26   			ldy.h	_vdc_map_pxl_y
 5509                        		__and.wi	511
         1D:D8DF  29 FF      			and.l	#511
         1D:D8E1  42         			say
         1D:D8E2  29 01      			and.h	#511
         1D:D8E4  42         			say
 5510                        		__st.wmq	_cx
         1D:D8E5  85 FC      			sta.l	_cx
         1D:D8E7  84 FD      			sty.h	_cx
 5511                        		__st.umiq	192, _dl
         1D:D8E9  A9 C0      			lda.l	#192
         1D:D8EB  85 FE      			sta	_dl
 5512                        		__call		_scroll_split.5
         1D:D8ED  20 81 FF   			call	_scroll_split.5
 5513                        	
 5514                        		.dbg	line,	"include\routines_INTRO.c", 397; load_palette( 0, palette_INTRO_3, 1 );
 5515                        		__st.umiq	0, _al
         1D:D8F0  64 F8      			stz	_al
 5516                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         1D:D8F2  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:D8F4  85 EC      			sta.l	_bp
         1D:D8F6  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:D8F8  85 ED      			sta.h	_bp
         1D:D8FA  A9 06      			lda	#bank(_palette_INTRO_3)
         1D:D8FC  85 02      			sta	_bp_bank
 5517                        		__st.umiq	1, _ah
         1D:D8FE  A9 01      			lda.l	#1
         1D:D900  85 F9      			sta	_ah
 5518                        		__call		_load_palette.3
         1D:D902  20 8B FF   			call	_load_palette.3
 5519                        	
 5520                        		.dbg	line,	"include\routines_INTRO.c", 398; }
 5521                        	
 5522                        		.dbg	line,	"include\routines_INTRO.c", 400; else if(global_counter == 182)
 5523                        		__bra		.LL169
         1D:D905  4C 64 DA   			bra	.LL169
 5524    1D:D908             	.LL168:
 5525                        		__ld.wm		_global_counter
         1D:D908  AD 35 26   			lda.l	_global_counter
         1D:D90B  AC 36 26   			ldy.h	_global_counter
 5526                        		__equ_w.wi	182
         1D:D90E  C9 B6      			cmp.l	#182
         1D:D910  D0 04      			bne	!false+
         1D:D912  C0 00      			cpy.h	#182
         1D:D914  F0 01      			beq	!+
         1D:D916  18         	!false:		clc
         1D:D917             	!:
 5527                        		__bfalse	.LL170
         1D:D917  90 38      			bcc	.LL170
 5528                        	
 5529                        		.dbg	line,	"include\routines_INTRO.c", 401; {
 5530                        	
 5531                        		.dbg	line,	"include\routines_INTRO.c", 402; for(i=0 ; i<8 ; i++)
 5532                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D919  9C 79 26   			stz	__sequence_INTRO_end - 1
 5533    1D:D91C             	.LL171:
 5534                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D91C  AD 79 26   			lda	__sequence_INTRO_end - 1
 5535                        		__ult_b.uiq	8
         1D:D91F  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D921  6A         			ror	a		; CC if A < integer.
         1D:D922  49 80      			eor	#$80
         1D:D924  2A         			rol	a
 5536                        		__btrue		.LL173
         1D:D925  B0 07      			bcs	.LL173
 5537                        		__bra		.LL174
         1D:D927  80 10      			bra	.LL174
 5538    1D:D929             	.LL172:
 5539                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D929  EE 79 26   			inc	__sequence_INTRO_end - 1
 5540                        		__bra		.LL171
         1D:D92C  80 EE      			bra	.LL171
 5541    1D:D92E             	.LL173:
 5542                        	
 5543                        		.dbg	line,	"include\routines_INTRO.c", 403; {
 5544                        	
 5545                        		.dbg	line,	"include\routines_INTRO.c", 404; sgx_spr_set(i);
 5546                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D92E  AD 79 26   			lda	__sequence_INTRO_end - 1
 5547                        		__call		_sgx_spr_set.1
         1D:D931  20 8A E8   			call	_sgx_spr_set.1
 5548                        	
 5549                        		.dbg	line,	"include\routines_INTRO.c", 405; sgx_spr_hide();
 5550                        		__call		_sgx_spr_hide
         1D:D934  20 A5 E8   			call	_sgx_spr_hide
 5551                        	
 5552                        		.dbg	line,	"include\routines_INTRO.c", 406; }
 5553                        		__bra		.LL172
         1D:D937  80 F0      			bra	.LL172
 5554    1D:D939             	.LL174:
 5555                        	
 5556                        		.dbg	line,	"include\routines_INTRO.c", 408; load_palette( 0, palette_INTRO_2, 1 );
 5557                        		__st.umiq	0, _al
         1D:D939  64 F8      			stz	_al
 5558                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         1D:D93B  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:D93D  85 EC      			sta.l	_bp
         1D:D93F  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:D941  85 ED      			sta.h	_bp
         1D:D943  A9 06      			lda	#bank(_palette_INTRO_2)
         1D:D945  85 02      			sta	_bp_bank
 5559                        		__st.umiq	1, _ah
         1D:D947  A9 01      			lda.l	#1
         1D:D949  85 F9      			sta	_ah
 5560                        		__call		_load_palette.3
         1D:D94B  20 8B FF   			call	_load_palette.3
 5561                        	
 5562                        		.dbg	line,	"include\routines_INTRO.c", 409; }
 5563                        	
 5564                        		.dbg	line,	"include\routines_INTRO.c", 411; else if(global_counter == 184)
 5565                        		__bra		.LL175
         1D:D94E  4C 64 DA   			bra	.LL175
 5566    1D:D951             	.LL170:
 5567                        		__ld.wm		_global_counter
         1D:D951  AD 35 26   			lda.l	_global_counter
         1D:D954  AC 36 26   			ldy.h	_global_counter
 5568                        		__equ_w.wi	184
         1D:D957  C9 B8      			cmp.l	#184
         1D:D959  D0 04      			bne	!false+
         1D:D95B  C0 00      			cpy.h	#184
         1D:D95D  F0 01      			beq	!+
         1D:D95F  18         	!false:		clc
         1D:D960             	!:
 5569                        		__bfalse	.LL176
         1D:D960  90 76      			bcc	.LL176
 5570                        	
 5571                        		.dbg	line,	"include\routines_INTRO.c", 412; {
 5572                        	
 5573                        		.dbg	line,	"include\routines_INTRO.c", 413; for(i=0 ; i<8 ; i++)
 5574                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D962  9C 79 26   			stz	__sequence_INTRO_end - 1
 5575    1D:D965             	.LL177:
 5576                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D965  AD 79 26   			lda	__sequence_INTRO_end - 1
 5577                        		__ult_b.uiq	8
         1D:D968  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D96A  6A         			ror	a		; CC if A < integer.
         1D:D96B  49 80      			eor	#$80
         1D:D96D  2A         			rol	a
 5578                        		__btrue		.LL179
         1D:D96E  B0 08      			bcs	.LL179
 5579                        		__bra		.LL180
         1D:D970  4C 64 DA   			bra	.LL180
 5580    1D:D973             	.LL178:
 5581                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D973  EE 79 26   			inc	__sequence_INTRO_end - 1
 5582                        		__bra		.LL177
         1D:D976  80 ED      			bra	.LL177
 5583    1D:D978             	.LL179:
 5584                        	
 5585                        		.dbg	line,	"include\routines_INTRO.c", 414; {
 5586                        	
 5587                        		.dbg	line,	"include\routines_INTRO.c", 415; sgx_spr_set(i);
 5588                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D978  AD 79 26   			lda	__sequence_INTRO_end - 1
 5589                        		__call		_sgx_spr_set.1
         1D:D97B  20 8A E8   			call	_sgx_spr_set.1
 5590                        	
 5591                        		.dbg	line,	"include\routines_INTRO.c", 416; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 5592                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D97E  AD 79 26   			lda	__sequence_INTRO_end - 1
         1D:D981  C2         			cly
 5593                        		__asl.wi	5
         1D:D982  85 00      			sta	__temp
         1D:D984  98         			tya
         1D:D985  4A         			lsr	a
         1D:D986  20 C8 E1   			jsr	aslw5
         1D:D989  29 E0      			and.l	#$FF << 5
 5594                        		__add.wm	_player_pos_x
         1D:D98B  18         			clc
         1D:D98C  6D DB 24   			adc.l	_player_pos_x
         1D:D98F  42         			say
         1D:D990  6D DC 24   			adc.h	_player_pos_x
         1D:D993  42         			say
 5595                        		__push.wr
         1D:D994  5A         			phy
         1D:D995  48         			pha
 5596                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D996  AD 79 26   			lda	__sequence_INTRO_end - 1
         1D:D999  C2         			cly
 5597                        		__lsr.uiq	2
         1D:D99A  4A         			lsr	a
         1D:D99B  4A         			lsr	a
 5598                        		__asl.wi	7
         1D:D99C  42         			say
         1D:D99D  4A         			lsr	a
         1D:D99E  42         			say
         1D:D99F  6A         			ror	a
         1D:D9A0  42         			say
         1D:D9A1  6A         			ror	a
         1D:D9A2  29 80      			and	#$80
 5599                        		__sub.wt
         1D:D9A4  BA         			tsx
         1D:D9A5  38         			sec
         1D:D9A6  49 FF      			eor	#$FF
         1D:D9A8  7D 01 21   			adc.l	__tos, x
         1D:D9AB  42         			say
         1D:D9AC  49 FF      			eor	#$FF
         1D:D9AE  7D 02 21   			adc.h	__tos, x
         1D:D9B1  42         			say
         1D:D9B2  E8         			inx
         1D:D9B3  E8         			inx
         1D:D9B4  9A         			txs
 5600                        		__call		_sgx_spr_x.1
         1D:D9B5  20 B7 E8   			call	_sgx_spr_x.1
 5601                        	
 5602                        		.dbg	line,	"include\routines_INTRO.c", 417; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 5603                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D9B8  AD 79 26   			lda	__sequence_INTRO_end - 1
         1D:D9BB  C2         			cly
 5604                        		__lsr.uiq	2
         1D:D9BC  4A         			lsr	a
         1D:D9BD  4A         			lsr	a
 5605                        		__asl.wi	5
         1D:D9BE  85 00      			sta	__temp
         1D:D9C0  98         			tya
         1D:D9C1  4A         			lsr	a
         1D:D9C2  20 C8 E1   			jsr	aslw5
         1D:D9C5  29 E0      			and.l	#$FF << 5
 5606                        		__add.wm	_player_pos_y
         1D:D9C7  18         			clc
         1D:D9C8  6D DD 24   			adc.l	_player_pos_y
         1D:D9CB  42         			say
         1D:D9CC  6D DE 24   			adc.h	_player_pos_y
         1D:D9CF  42         			say
 5607                        		__call		_sgx_spr_y.1
         1D:D9D0  20 C6 E8   			call	_sgx_spr_y.1
 5608                        	
 5609                        		.dbg	line,	"include\routines_INTRO.c", 418; }
 5610                        		__bra		.LL178
         1D:D9D3  80 9E      			bra	.LL178
 5611    1D:D9D5             	.LL180	.alias		.LL181
 5612                        	
 5613                        		.dbg	line,	"include\routines_INTRO.c", 419; }
 5614                        	
 5615                        		.dbg	line,	"include\routines_INTRO.c", 421; else if(global_counter == 186)
 5616                        		__bra		.LL181
         1D:D9D5  4C 64 DA   			bra	.LL181
 5617    1D:D9D8             	.LL176:
 5618                        		__ld.wm		_global_counter
         1D:D9D8  AD 35 26   			lda.l	_global_counter
         1D:D9DB  AC 36 26   			ldy.h	_global_counter
 5619                        		__equ_w.wi	186
         1D:D9DE  C9 BA      			cmp.l	#186
         1D:D9E0  D0 04      			bne	!false+
         1D:D9E2  C0 00      			cpy.h	#186
         1D:D9E4  F0 01      			beq	!+
         1D:D9E6  18         	!false:		clc
         1D:D9E7             	!:
 5620                        		__bfalse	.LL182
         1D:D9E7  90 37      			bcc	.LL182
 5621                        	
 5622                        		.dbg	line,	"include\routines_INTRO.c", 422; {
 5623                        	
 5624                        		.dbg	line,	"include\routines_INTRO.c", 423; for(i=0 ; i<8 ; i++)
 5625                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D9E9  9C 79 26   			stz	__sequence_INTRO_end - 1
 5626    1D:D9EC             	.LL183:
 5627                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D9EC  AD 79 26   			lda	__sequence_INTRO_end - 1
 5628                        		__ult_b.uiq	8
         1D:D9EF  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D9F1  6A         			ror	a		; CC if A < integer.
         1D:D9F2  49 80      			eor	#$80
         1D:D9F4  2A         			rol	a
 5629                        		__btrue		.LL185
         1D:D9F5  B0 07      			bcs	.LL185
 5630                        		__bra		.LL186
         1D:D9F7  80 10      			bra	.LL186
 5631    1D:D9F9             	.LL184:
 5632                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D9F9  EE 79 26   			inc	__sequence_INTRO_end - 1
 5633                        		__bra		.LL183
         1D:D9FC  80 EE      			bra	.LL183
 5634    1D:D9FE             	.LL185:
 5635                        	
 5636                        		.dbg	line,	"include\routines_INTRO.c", 424; {
 5637                        	
 5638                        		.dbg	line,	"include\routines_INTRO.c", 425; sgx_spr_set(i);
 5639                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D9FE  AD 79 26   			lda	__sequence_INTRO_end - 1
 5640                        		__call		_sgx_spr_set.1
         1D:DA01  20 8A E8   			call	_sgx_spr_set.1
 5641                        	
 5642                        		.dbg	line,	"include\routines_INTRO.c", 426; sgx_spr_hide();
 5643                        		__call		_sgx_spr_hide
         1D:DA04  20 A5 E8   			call	_sgx_spr_hide
 5644                        	
 5645                        		.dbg	line,	"include\routines_INTRO.c", 427; }
 5646                        		__bra		.LL184
         1D:DA07  80 F0      			bra	.LL184
 5647    1D:DA09             	.LL186:
 5648                        	
 5649                        		.dbg	line,	"include\routines_INTRO.c", 429; load_palette( 0, palette_INTRO_2, 1 );
 5650                        		__st.umiq	0, _al
         1D:DA09  64 F8      			stz	_al
 5651                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         1D:DA0B  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:DA0D  85 EC      			sta.l	_bp
         1D:DA0F  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:DA11  85 ED      			sta.h	_bp
         1D:DA13  A9 06      			lda	#bank(_palette_INTRO_2)
         1D:DA15  85 02      			sta	_bp_bank
 5652                        		__st.umiq	1, _ah
         1D:DA17  A9 01      			lda.l	#1
         1D:DA19  85 F9      			sta	_ah
 5653                        		__call		_load_palette.3
         1D:DA1B  20 8B FF   			call	_load_palette.3
 5654                        	
 5655                        		.dbg	line,	"include\routines_INTRO.c", 430; }
 5656                        	
 5657                        		.dbg	line,	"include\routines_INTRO.c", 432; else if(global_counter == 731)
 5658                        		__bra		.LL187
         1D:DA1E  80 44      			bra	.LL187
 5659    1D:DA20             	.LL182:
 5660                        		__ld.wm		_global_counter
         1D:DA20  AD 35 26   			lda.l	_global_counter
         1D:DA23  AC 36 26   			ldy.h	_global_counter
 5661                        		__equ_w.wi	731
         1D:DA26  C9 DB      			cmp.l	#731
         1D:DA28  D0 04      			bne	!false+
         1D:DA2A  C0 02      			cpy.h	#731
         1D:DA2C  F0 01      			beq	!+
         1D:DA2E  18         	!false:		clc
         1D:DA2F             	!:
 5662                        		__bfalse	.LL188
         1D:DA2F  90 17      			bcc	.LL188
 5663                        	
 5664                        		.dbg	line,	"include\routines_INTRO.c", 433; {
 5665                        	
 5666                        		.dbg	line,	"include\routines_INTRO.c", 434; load_palette( 0, palette_BLACK, 1 );
 5667                        		__st.umiq	0, _al
         1D:DA31  64 F8      			stz	_al
 5668                        		__farptr	_palette_BLACK, _bp_bank, _bp
         1D:DA33  A9 00      			lda.l	#$6000 + ($1FFF & (_palette_BLACK))
         1D:DA35  85 EC      			sta.l	_bp
         1D:DA37  A9 6E      			lda.h	#$6000 + ($1FFF & (_palette_BLACK))
         1D:DA39  85 ED      			sta.h	_bp
         1D:DA3B  A9 03      			lda	#bank(_palette_BLACK)
         1D:DA3D  85 02      			sta	_bp_bank
 5669                        		__st.umiq	1, _ah
         1D:DA3F  A9 01      			lda.l	#1
         1D:DA41  85 F9      			sta	_ah
 5670                        		__call		_load_palette.3
         1D:DA43  20 8B FF   			call	_load_palette.3
 5671                        	
 5672                        		.dbg	line,	"include\routines_INTRO.c", 435; }
 5673                        	
 5674                        		.dbg	line,	"include\routines_INTRO.c", 437; else if(global_counter == 851)
 5675                        		__bra		.LL189
         1D:DA46  80 1C      			bra	.LL189
 5676    1D:DA48             	.LL188:
 5677                        		__ld.wm		_global_counter
         1D:DA48  AD 35 26   			lda.l	_global_counter
         1D:DA4B  AC 36 26   			ldy.h	_global_counter
 5678                        		__equ_w.wi	851
         1D:DA4E  C9 53      			cmp.l	#851
         1D:DA50  D0 04      			bne	!false+
         1D:DA52  C0 03      			cpy.h	#851
         1D:DA54  F0 01      			beq	!+
         1D:DA56  18         	!false:		clc
         1D:DA57             	!:
 5679                        		__bfalse	.LL190
         1D:DA57  90 0B      			bcc	.LL190
 5680                        	
 5681                        		.dbg	line,	"include\routines_INTRO.c", 438; {
 5682                        	
 5683                        		.dbg	line,	"include\routines_INTRO.c", 439; // DISABLE DISPLAY //
 5684                        	
 5685                        		.dbg	line,	"include\routines_INTRO.c", 440; disp_off();
 5686                        		__call		_disp_off
         1D:DA59  20 29 E4   			call	_disp_off
 5687                        	
 5688                        		.dbg	line,	"include\routines_INTRO.c", 442; sequence_loaded = FALSE;
 5689                        		__st.umiq	0, _sequence_loaded
         1D:DA5C  9C 14 23   			stz	_sequence_loaded
 5690                        	
 5691                        		.dbg	line,	"include\routines_INTRO.c", 444; sequence_id = SEQUENCE_GAME;
 5692                        		__st.umiq	2, _sequence_id
         1D:DA5F  A9 02      			lda.l	#2
         1D:DA61  8D 13 23   			sta	_sequence_id
 5693                        	
 5694                        		.dbg	line,	"include\routines_INTRO.c", 445; }
 5695                        	
 5696                        		.dbg	line,	"include\routines_INTRO.c", 450; //--------------------------------------------------------------------------------------//
 5697                        	
 5698                        		.dbg	line,	"include\routines_INTRO.c", 451; //                                     TEXT DISPLAY                                     //
 5699                        	
 5700                        		.dbg	line,	"include\routines_INTRO.c", 452; //--------------------------------------------------------------------------------------//
 5701                        	
 5702                        		.dbg	line,	"include\routines_INTRO.c", 453; 
 5703                        	
 5704                        		.dbg	line,	"include\routines_INTRO.c", 454; if(global_counter > 241)
 5705    1D:DA64             	.LL190:
 5706    1D:DA64             	.LL189:
 5707    1D:DA64             	.LL187:
 5708    1D:DA64             	.LL181:
 5709    1D:DA64             	.LL175:
 5710    1D:DA64             	.LL169:
 5711    1D:DA64             	.LL167:
 5712    1D:DA64             	.LL161:
 5713    1D:DA64             	.LL155:
 5714    1D:DA64             	.LL153:
 5715    1D:DA64             	.LL147:
 5716    1D:DA64             	.LL141:
 5717    1D:DA64             	.LL139:
 5718    1D:DA64             	.LL133:
 5719    1D:DA64             	.LL127:
 5720    1D:DA64             	.LL121:
 5721    1D:DA64             	.LL115:
 5722    1D:DA64             	.LL109:
 5723    1D:DA64             	.LL107:
 5724    1D:DA64             	.LL101:
 5725    1D:DA64             	.LL95:
 5726    1D:DA64             	.LL93:
 5727    1D:DA64             	.LL87:
 5728    1D:DA64             	.LL81:
 5729    1D:DA64             	.LL75:
 5730    1D:DA64             	.LL69:
 5731    1D:DA64             	.LL63:
 5732    1D:DA64             	.LL61:
 5733    1D:DA64             	.LL59:
 5734    1D:DA64             	.LL57:
 5735    1D:DA64             	.LL55:
 5736    1D:DA64             	.LL53:
 5737    1D:DA64             	.LL51:
 5738                        		__ld.wm		_global_counter
         1D:DA64  AD 35 26   			lda.l	_global_counter
         1D:DA67  AC 36 26   			ldy.h	_global_counter
 5739                        		__sgt_w.wi	241
         1D:DA6A  18         			clc			; Subtract integer+1 from Y:A.
         1D:DA6B  E9 F1      			sbc.l	#241
         1D:DA6D  98         			tya
         1D:DA6E  E9 00      			sbc.h	#241
         1D:DA70  50 02      			bvc	!+
         1D:DA72  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1D:DA74  49 80      	!:		eor	#$80
         1D:DA76  0A         			asl	a
 5740                        		__bfalse	.LL191
         1D:DA77  B0 03 4C FE			bcc	.LL191
         1D:DA7B  DA          
 5741                        	
 5742                        		.dbg	line,	"include\routines_INTRO.c", 455; {       
 5743                        	
 5744                        		.dbg	line,	"include\routines_INTRO.c", 456; if(letter_counter < 446)
 5745                        		__ld.wm		_letter_counter
         1D:DA7C  AD 39 26   			lda.l	_letter_counter
         1D:DA7F  AC 3A 26   			ldy.h	_letter_counter
 5746                        		__slt_w.wi	446
         1D:DA82  C9 BE      			cmp.l	#446		; Subtract integer from Y:A.
         1D:DA84  98         			tya
         1D:DA85  E9 01      			sbc.h	#446
         1D:DA87  50 02      			bvc	!+
         1D:DA89  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1D:DA8B  0A         	!:		asl	a
 5747                        		__bfalse	.LL192
         1D:DA8C  90 68      			bcc	.LL192
 5748                        	
 5749                        		.dbg	line,	"include\routines_INTRO.c", 457; {
 5750                        	
 5751                        		.dbg	line,	"include\routines_INTRO.c", 458; // EVERY 2 FRAMES //
 5752                        	
 5753                        		.dbg	line,	"include\routines_INTRO.c", 459; if(letter_counter%2 == FALSE)
 5754                        		__ld.wm		_letter_counter
         1D:DA8E  AD 39 26   			lda.l	_letter_counter
         1D:DA91  AC 3A 26   			ldy.h	_letter_counter
 5755                        		__smod.wi	2
         1D:DA94  A2 02      			ldx.l	#2
         1D:DA96  86 00      			stx.l	<divisor
         1D:DA98  A2 00      			ldx.h	#2
         1D:DA9A  86 01      			stx.h	<divisor
         1D:DA9C  20 B7 E4   			jsr	__modsint
 5756                        		__not.wr
         1D:DA9F  84 00      			sty	__temp
         1D:DAA1  05 00      			ora	__temp
         1D:DAA3  18         			clc
         1D:DAA4  D0 01      			bne	!+
         1D:DAA6  38         			sec
         1D:DAA7             	!:
 5757                        		__bfalse	.LL193
         1D:DAA7  90 4D      			bcc	.LL193
 5758                        	
 5759                        		.dbg	line,	"include\routines_INTRO.c", 460; {            
 5760                        	
 5761                        		.dbg	line,	"include\routines_INTRO.c", 461; put_char(TABLE_INTRO_TEXT[letter_index] , 2 + index_x , 4 + ((letter_index / 28) << 1));
 5762                        		__ldx.wmq	_letter_index
         1D:DAA9  AE 37 26   			ldx.l	_letter_index
 5763                        		__ld.uax	_TABLE_INTRO_TEXT
         1D:DAAC  BD 92 60   			lda	_TABLE_INTRO_TEXT, x
         1D:DAAF  C2         			cly
 5764                        		__st.umq	_bl
         1D:DAB0  85 FA      			sta	_bl
 5765                        		__ld.wi		2
         1D:DAB2  A9 02      			lda.l	#2
         1D:DAB4  C2         			cly
 5766                        		__add.um	_index_x
         1D:DAB5  18         			clc
         1D:DAB6  6D D5 23   			adc	_index_x
         1D:DAB9  90 01      			bcc	!+
         1D:DABB  C8         			iny
         1D:DABC             	!:
 5767                        		__st.umq	_dil
         1D:DABC  85 F0      			sta	_dil
 5768                        		__ld.wm		_letter_index
         1D:DABE  AD 37 26   			lda.l	_letter_index
         1D:DAC1  AC 38 26   			ldy.h	_letter_index
 5769                        		__sdiv.wi	28
         1D:DAC4  A2 1C      			ldx.l	#28
         1D:DAC6  86 00      			stx.l	<divisor
         1D:DAC8  A2 00      			ldx.h	#28
         1D:DACA  86 01      			stx.h	<divisor
         1D:DACC  20 AF E4   			jsr	__divsint
 5770                        		__asl.wi	1
         1D:DACF  0A         			asl	a
         1D:DAD0  42         			say
         1D:DAD1  2A         			rol	a
         1D:DAD2  42         			say
 5771                        		__add.wi	4
         1D:DAD3  18         			clc
         1D:DAD4  69 04      			adc.l	#4
         1D:DAD6  90 01      			bcc	!+
         1D:DAD8  C8         			iny
         1D:DAD9             	!:
 5772                        		__st.umq	_dih
         1D:DAD9  85 F1      			sta	_dih
 5773                        		__call		_put_char.3
         1D:DADB  20 77 FF   			call	_put_char.3
 5774                        	
 5775                        		.dbg	line,	"include\routines_INTRO.c", 463; letter_index += 1;
 5776                        		__add_st.wmiq	1, _letter_index
         1D:DADE  EE 37 26   			inc.l	_letter_index
         1D:DAE1  D0 03      			bne	!+
         1D:DAE3  EE 38 26   			inc.h	_letter_index
         1D:DAE6             	!:
 5777                        	
 5778                        		.dbg	line,	"include\routines_INTRO.c", 464; index_x += 1;
 5779                        		__add_st.umiq	1, _index_x
         1D:DAE6  EE D5 23   			inc	_index_x
 5780                        	
 5781                        		.dbg	line,	"include\routines_INTRO.c", 466; if(index_x == 28)
 5782                        		__ld.umq	_index_x
         1D:DAE9  AD D5 23   			lda	_index_x
 5783                        		__equ_b.uiq	28
         1D:DAEC  C9 1C      			cmp	#28
         1D:DAEE  F0 01      			beq	!+
         1D:DAF0  18         			clc
         1D:DAF1             	!:
 5784                        		__bfalse	.LL194
         1D:DAF1  90 03      			bcc	.LL194
 5785                        	
 5786                        		.dbg	line,	"include\routines_INTRO.c", 467; {
 5787                        	
 5788                        		.dbg	line,	"include\routines_INTRO.c", 468; index_x = 0;
 5789                        		__st.umiq	0, _index_x
         1D:DAF3  9C D5 23   			stz	_index_x
 5790                        	
 5791                        		.dbg	line,	"include\routines_INTRO.c", 469; }
 5792                        	
 5793                        		.dbg	line,	"include\routines_INTRO.c", 470; }
 5794    1D:DAF6             	.LL194:
 5795                        	
 5796                        		.dbg	line,	"include\routines_INTRO.c", 471; }
 5797    1D:DAF6             	.LL193:
 5798                        	
 5799                        		.dbg	line,	"include\routines_INTRO.c", 473; letter_counter += 1;
 5800    1D:DAF6             	.LL192:
 5801                        		__add_st.wmiq	1, _letter_counter
         1D:DAF6  EE 39 26   			inc.l	_letter_counter
         1D:DAF9  D0 03      			bne	!+
         1D:DAFB  EE 3A 26   			inc.h	_letter_counter
         1D:DAFE             	!:
 5802                        	
 5803                        		.dbg	line,	"include\routines_INTRO.c", 474; }
 5804                        	
 5805                        		.dbg	line,	"include\routines_INTRO.c", 477; global_counter += 1;
 5806    1D:DAFE             	.LL191:
 5807                        		__add_st.wmiq	1, _global_counter
         1D:DAFE  EE 35 26   			inc.l	_global_counter
         1D:DB01  D0 03      			bne	!+
         1D:DB03  EE 36 26   			inc.h	_global_counter
         1D:DB06             	!:
 5808                        	
 5809                        		.dbg	line,	"include\routines_INTRO.c", 478; }
 5810    1D:DB06             	.LL6:
 5811                        		__return	0
         1D:DB06  4C EF FF   			jmp	leave_proc
 5812                        		.dbg	clear
 5813                        		.endp
 5814                        		.pceas
 5815                        	
 5816                        		.dbg	line,	"main.c", 26; #include "include/routines_LEVELS.c"
 5817                        		.dbg	line,	"include\routines_LEVELS.c", 1; #include "huc.h"
 5818                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 5819                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 5820                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 5821                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 5822                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 5823                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 5824                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 5825                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 5826                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 5827                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 5828                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 5829                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 5830                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 5831                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 5832                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 5833                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 5834                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 5835                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 5836                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 5837                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 5838                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 5839                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 5840                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 5841                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 5842                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 5843                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 5844                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 5845                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 5846                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 5847                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 5848                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 5849                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 5850                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 5851                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-string.h"
 5852                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-scroll.h"
 5853                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-spr.h"
 5854                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-map.h"
 5855                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 40; #include "hucc-old-line.h"
 5856                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #endif // _hucc_legacy_h
 5857                        		.dbg	line,	"include\routines_LEVELS.c", 2; #include "hucc-scroll.h"
 5858                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
 5859                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
 5860                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
 5861                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
 5862                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
 5863                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
 5864                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
 5865                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
 5866                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
 5867                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
 5868                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
 5869                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 5870                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 5871                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 5872                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
 5873                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
 5874                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
 5875                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
 5876                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
 5877                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
 5878                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
 5879                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
 5880                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
 5881                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
 5882                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
 5883                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
 5884                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
 5885                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
 5886                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
 5887                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
 5888                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
 5889                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
 5890                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
 5891                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
 5892                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
 5893                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
 5894                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
 5895                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
 5896                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
 5897                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
 5898                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
 5899                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
 5900                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
 5901                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
 5902                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
 5903                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
 5904                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
 5905                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
 5906                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
 5907                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
 5908                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
 5909                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
 5910                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
 5911                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 5912                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 5913                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
 5914                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
 5915                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
 5916                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
 5917                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
 5918                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
 5919                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
 5920                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
 5921                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
 5922                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
 5923                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
 5924                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
 5925                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
 5926                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
 5927                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
 5928                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
 5929                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
 5930                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
 5931                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
 5932                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
 5933                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
 5934                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
 5935                        		.dbg	line,	"include\routines_LEVELS.c", 3; #include "hucc-chrmap.h"
 5936                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
 5937                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
 5938                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
 5939                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
 5940                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
 5941                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
 5942                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
 5943                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
 5944                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
 5945                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
 5946                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
 5947                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 5948                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 5949                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 5950                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
 5951                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
 5952                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
 5953                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
 5954                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
 5955                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
 5956                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
 5957                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
 5958                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
 5959                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
 5960                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
 5961                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
 5962                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
 5963                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
 5964                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
 5965                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 5966                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 5967                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 5968                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 5969                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 5970                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 5971                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 5972                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 5973                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 5974                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 5975                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 5976                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 5977                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 5978                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 5979                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 5980                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 5981                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 5982                        		.dbg	line,	"include\routines_LEVELS.c", 4; #include "hucc-blkmap.h"
 5983                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 5984                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 5985                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 5986                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 5987                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 5988                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 5989                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 5990                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 5991                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 5992                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 5993                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 5994                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 5995                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 5996                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 5997                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 5998                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 5999                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 6000                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 6001                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 6002                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 6003                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 6004                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 6005                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 6006                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 6007                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 6008                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 6009                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 6010                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 6011                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 6012                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 6013                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 6014                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 6015                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 6016                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 6017                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 6018                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 6019                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 6020                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 6021                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 6022                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 6023                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 6024                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 6025                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 6026                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 6027                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 6028                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 6029                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 6030                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 6031                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 6032                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 6033                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 6034                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 6035                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 6036                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 6037                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 6038                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 6039                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 6040                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 6041                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 6042                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 6043                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 6044                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 6045                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 6046                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 6047                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 6048                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 6049                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 6050                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 6051                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 6052                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 6053                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 6054                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 6055                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 6056                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 6057                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 6058                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 6059                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 6060                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 6061                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 6062                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 6063                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 6064                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 6065                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 6066                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 6067                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 6068                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 6069                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 6070                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 6071                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 6072                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 6073                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 6074                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 6075                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 6076                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 6077                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 6078                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 6079                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 6080                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 6081                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 6082                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 6083                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 6084                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 6085                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 6086                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 6087                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 6088                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 6089                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 6090                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 6091                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 6092                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 6093                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 6094                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 6095                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 6096                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 6097                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 6098                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 6099                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 6100                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 6101                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 6102                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 6103                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 6104                        		.dbg	line,	"include\routines_LEVELS.c", 13; void hide_LEVEL_SPRITES()
 6105                        		.dbg	line,	"include\routines_LEVELS.c", 14; {
 6106                        	;***********************
 6107                        	;***********************
 6108                        	
 6109                        		.hucc
 6110    1F:CE7E             		.proc		_hide_LEVEL_SPRITES
 6111                        		__enter		_hide_LEVEL_SPRITES
 6112                        	
 6113                        		.dbg	line,	"include\routines_LEVELS.c", 15; char i;
 6114                        	
 6115                        		.dbg	line,	"include\routines_LEVELS.c", 17; for(i=0 ; i<64 ; i++)
 6116                        		__st.umiq	0, __hide_LEVEL_SPRITES_end - 1  /* i */
         1F:CE7E  9C 79 26   			stz	__hide_LEVEL_SPRITES_end - 1
 6117    1F:CE81             	.LL196:
 6118                        		__ld.umq	__hide_LEVEL_SPRITES_end - 1  /* i */
         1F:CE81  AD 79 26   			lda	__hide_LEVEL_SPRITES_end - 1
 6119                        		__ult_b.uiq	64
         1F:CE84  C9 40      			cmp	#64		; Subtract integer from A.
         1F:CE86  6A         			ror	a		; CC if A < integer.
         1F:CE87  49 80      			eor	#$80
         1F:CE89  2A         			rol	a
 6120                        		__btrue		.LL198
         1F:CE8A  B0 07      			bcs	.LL198
 6121                        		__bra		.LL199
         1F:CE8C  80 10      			bra	.LL199
 6122    1F:CE8E             	.LL197:
 6123                        		__inc.umq	__hide_LEVEL_SPRITES_end - 1  /* i */
         1F:CE8E  EE 79 26   			inc	__hide_LEVEL_SPRITES_end - 1
 6124                        		__bra		.LL196
         1F:CE91  80 EE      			bra	.LL196
 6125    1F:CE93             	.LL198:
 6126                        	
 6127                        		.dbg	line,	"include\routines_LEVELS.c", 18; {
 6128                        	
 6129                        		.dbg	line,	"include\routines_LEVELS.c", 19; spr_set(i);
 6130                        		__ld.umq	__hide_LEVEL_SPRITES_end - 1  /* i */
         1F:CE93  AD 79 26   			lda	__hide_LEVEL_SPRITES_end - 1
 6131                        		__call		_spr_set.1
         1F:CE96  20 DD E7   			call	_spr_set.1
 6132                        	
 6133                        		.dbg	line,	"include\routines_LEVELS.c", 20; spr_hide();
 6134                        		__call		_spr_hide
         1F:CE99  20 F8 E7   			call	_spr_hide
 6135                        	
 6136                        		.dbg	line,	"include\routines_LEVELS.c", 21; }
 6137                        		__bra		.LL197
         1F:CE9C  80 F0      			bra	.LL197
 6138    1F:CE9E             	.LL199:
 6139                        	
 6140                        		.dbg	line,	"include\routines_LEVELS.c", 22; }
 6141    1F:CE9E             	.LL195:
 6142                        		__return	0
         1F:CE9E  4C EF FF   			jmp	leave_proc
 6143                        		.dbg	clear
 6144                        		.endp
 6145                        		.pceas
 6146                        	
 6147                        		.dbg	line,	"include\routines_LEVELS.c", 27; void display_LIFE()
 6148                        		.dbg	line,	"include\routines_LEVELS.c", 28; {
 6149                        	;***********************
 6150                        	;***********************
 6151                        	
 6152                        		.hucc
 6153    1F:CF0D             		.proc		_display_LIFE
 6154                        		__enter		_display_LIFE
 6155                        	
 6156                        		.dbg	line,	"include\routines_LEVELS.c", 29; put_number(life_amount,1,1,0);
 6157                        		__ld.um		_life_amount
         1F:CF0D  AD 2C 23   			lda	_life_amount
         1F:CF10  C2         			cly
 6158                        		__st.wmq	_bx
         1F:CF11  85 FA      			sta.l	_bx
         1F:CF13  84 FB      			sty.h	_bx
 6159                        		__st.umiq	1, _cl
         1F:CF15  A9 01      			lda.l	#1
         1F:CF17  85 FC      			sta	_cl
 6160                        		__st.umiq	1, _dil
         1F:CF19  A9 01      			lda.l	#1
         1F:CF1B  85 F0      			sta	_dil
 6161                        		__st.umiq	0, _dih
         1F:CF1D  64 F1      			stz	_dih
 6162                        		__call		_put_number.4
         1F:CF1F  20 6D FF   			call	_put_number.4
 6163                        	
 6164                        		.dbg	line,	"include\routines_LEVELS.c", 30; }
 6165    1F:CF22             	.LL200:
 6166                        		__return	0
         1F:CF22  4C EF FF   			jmp	leave_proc
 6167                        		.dbg	clear
 6168                        		.endp
 6169                        		.pceas
 6170                        	
 6171                        		.dbg	line,	"include\routines_LEVELS.c", 33; void display_SCORE()
 6172                        		.dbg	line,	"include\routines_LEVELS.c", 34; {
 6173                        	;***********************
 6174                        	;***********************
 6175                        	
 6176                        		.hucc
 6177    0D:DFE0             		.proc		_display_SCORE
 6178                        		__enter		_display_SCORE
 6179                        	
 6180                        		.dbg	line,	"include\routines_LEVELS.c", 35; put_number(score,6,14,1);
 6181                        		__ld.wm		_score
         0D:DFE0  AD 3D 26   			lda.l	_score
         0D:DFE3  AC 3E 26   			ldy.h	_score
 6182                        		__st.wmq	_bx
         0D:DFE6  85 FA      			sta.l	_bx
         0D:DFE8  84 FB      			sty.h	_bx
 6183                        		__st.umiq	6, _cl
         0D:DFEA  A9 06      			lda.l	#6
         0D:DFEC  85 FC      			sta	_cl
 6184                        		__st.umiq	14, _dil
         0D:DFEE  A9 0E      			lda.l	#14
         0D:DFF0  85 F0      			sta	_dil
 6185                        		__st.umiq	1, _dih
         0D:DFF2  A9 01      			lda.l	#1
         0D:DFF4  85 F1      			sta	_dih
 6186                        		__call		_put_number.4
         0D:DFF6  20 6D FF   			call	_put_number.4
 6187                        	
 6188                        		.dbg	line,	"include\routines_LEVELS.c", 36; }
 6189    0D:DFF9             	.LL201:
 6190                        		__return	0
         0D:DFF9  4C EF FF   			jmp	leave_proc
 6191                        		.dbg	clear
 6192                        		.endp
 6193                        		.pceas
 6194                        	
 6195                        		.dbg	line,	"include\routines_LEVELS.c", 39; void display_TIME_LEVEL()
 6196                        		.dbg	line,	"include\routines_LEVELS.c", 40; {
 6197                        	;***********************
 6198                        	;***********************
 6199                        	
 6200                        		.hucc
 6201    1F:C72D             		.proc		_display_TIME_LEVEL
 6202                        		__enter		_display_TIME_LEVEL
 6203                        	
 6204                        		.dbg	line,	"include\routines_LEVELS.c", 41; put_number(minutes,1,1,3);
 6205                        		__ld.um		_minutes
         1F:C72D  AD 30 23   			lda	_minutes
         1F:C730  C2         			cly
 6206                        		__st.wmq	_bx
         1F:C731  85 FA      			sta.l	_bx
         1F:C733  84 FB      			sty.h	_bx
 6207                        		__st.umiq	1, _cl
         1F:C735  A9 01      			lda.l	#1
         1F:C737  85 FC      			sta	_cl
 6208                        		__st.umiq	1, _dil
         1F:C739  A9 01      			lda.l	#1
         1F:C73B  85 F0      			sta	_dil
 6209                        		__st.umiq	3, _dih
         1F:C73D  A9 03      			lda.l	#3
         1F:C73F  85 F1      			sta	_dih
 6210                        		__call		_put_number.4
         1F:C741  20 6D FF   			call	_put_number.4
 6211                        	
 6212                        		.dbg	line,	"include\routines_LEVELS.c", 43; if(seconds < 10)
 6213                        		__ld.umq	_seconds
         1F:C744  AD 31 23   			lda	_seconds
 6214                        		__ult_b.uiq	10
         1F:C747  C9 0A      			cmp	#10		; Subtract integer from A.
         1F:C749  6A         			ror	a		; CC if A < integer.
         1F:C74A  49 80      			eor	#$80
         1F:C74C  2A         			rol	a
 6215                        		__bfalse	.LL203
         1F:C74D  90 2C      			bcc	.LL203
 6216                        	
 6217                        		.dbg	line,	"include\routines_LEVELS.c", 44; {
 6218                        	
 6219                        		.dbg	line,	"include\routines_LEVELS.c", 45; put_number(0,1,3,3);
 6220                        		__st.wmiq	0, _bx
         1F:C74F  64 FA      			stz.l	_bx
         1F:C751  64 FB      			stz.h	_bx
 6221                        		__st.umiq	1, _cl
         1F:C753  A9 01      			lda.l	#1
         1F:C755  85 FC      			sta	_cl
 6222                        		__st.umiq	3, _dil
         1F:C757  A9 03      			lda.l	#3
         1F:C759  85 F0      			sta	_dil
 6223                        		__st.umiq	3, _dih
         1F:C75B  A9 03      			lda.l	#3
         1F:C75D  85 F1      			sta	_dih
 6224                        		__call		_put_number.4
         1F:C75F  20 6D FF   			call	_put_number.4
 6225                        	
 6226                        		.dbg	line,	"include\routines_LEVELS.c", 46; put_number(seconds,1,4,3);
 6227                        		__ld.um		_seconds
         1F:C762  AD 31 23   			lda	_seconds
         1F:C765  C2         			cly
 6228                        		__st.wmq	_bx
         1F:C766  85 FA      			sta.l	_bx
         1F:C768  84 FB      			sty.h	_bx
 6229                        		__st.umiq	1, _cl
         1F:C76A  A9 01      			lda.l	#1
         1F:C76C  85 FC      			sta	_cl
 6230                        		__st.umiq	4, _dil
         1F:C76E  A9 04      			lda.l	#4
         1F:C770  85 F0      			sta	_dil
 6231                        		__st.umiq	3, _dih
         1F:C772  A9 03      			lda.l	#3
         1F:C774  85 F1      			sta	_dih
 6232                        		__call		_put_number.4
         1F:C776  20 6D FF   			call	_put_number.4
 6233                        	
 6234                        		.dbg	line,	"include\routines_LEVELS.c", 47; }
 6235                        	
 6236                        		.dbg	line,	"include\routines_LEVELS.c", 49; else
 6237                        		__bra		.LL204
         1F:C779  80 17      			bra	.LL204
 6238    1F:C77B             	.LL203:
 6239                        	
 6240                        		.dbg	line,	"include\routines_LEVELS.c", 50; {
 6241                        	
 6242                        		.dbg	line,	"include\routines_LEVELS.c", 51; put_number(seconds,2,3,3);
 6243                        		__ld.um		_seconds
         1F:C77B  AD 31 23   			lda	_seconds
         1F:C77E  C2         			cly
 6244                        		__st.wmq	_bx
         1F:C77F  85 FA      			sta.l	_bx
         1F:C781  84 FB      			sty.h	_bx
 6245                        		__st.umiq	2, _cl
         1F:C783  A9 02      			lda.l	#2
         1F:C785  85 FC      			sta	_cl
 6246                        		__st.umiq	3, _dil
         1F:C787  A9 03      			lda.l	#3
         1F:C789  85 F0      			sta	_dil
 6247                        		__st.umiq	3, _dih
         1F:C78B  A9 03      			lda.l	#3
         1F:C78D  85 F1      			sta	_dih
 6248                        		__call		_put_number.4
         1F:C78F  20 6D FF   			call	_put_number.4
 6249                        	
 6250                        		.dbg	line,	"include\routines_LEVELS.c", 52; }
 6251    1F:C792             	.LL204:
 6252                        	
 6253                        		.dbg	line,	"include\routines_LEVELS.c", 54; time_counter += 1;
 6254                        		__add_st.umiq	1, _time_counter
         1F:C792  EE 32 23   			inc	_time_counter
 6255                        	
 6256                        		.dbg	line,	"include\routines_LEVELS.c", 56; if(time_counter == 60)
 6257                        		__ld.umq	_time_counter
         1F:C795  AD 32 23   			lda	_time_counter
 6258                        		__equ_b.uiq	60
         1F:C798  C9 3C      			cmp	#60
         1F:C79A  F0 01      			beq	!+
         1F:C79C  18         			clc
         1F:C79D             	!:
 6259                        		__bfalse	.LL205
         1F:C79D  90 28      			bcc	.LL205
 6260                        	
 6261                        		.dbg	line,	"include\routines_LEVELS.c", 57; {
 6262                        	
 6263                        		.dbg	line,	"include\routines_LEVELS.c", 58; time_counter = 0;
 6264                        		__st.umiq	0, _time_counter
         1F:C79F  9C 32 23   			stz	_time_counter
 6265                        	
 6266                        		.dbg	line,	"include\routines_LEVELS.c", 60; if(seconds > 0)
 6267                        		__ld.umq	_seconds
         1F:C7A2  AD 31 23   			lda	_seconds
 6268                        		__ugt_b.uiq	0
         1F:C7A5  18         			clc			; Subtract integer+1 from A.
         1F:C7A6  E9 00      			sbc	#0		; CS if A > integer.
 6269                        		__bfalse	.LL206
         1F:C7A8  90 05      			bcc	.LL206
 6270                        	
 6271                        		.dbg	line,	"include\routines_LEVELS.c", 61; {
 6272                        	
 6273                        		.dbg	line,	"include\routines_LEVELS.c", 62; seconds -= 1;
 6274                        		__sub_st.umiq	1, _seconds
         1F:C7AA  CE 31 23   			dec	_seconds
 6275                        	
 6276                        		.dbg	line,	"include\routines_LEVELS.c", 63; }
 6277                        	
 6278                        		.dbg	line,	"include\routines_LEVELS.c", 65; else
 6279                        		__bra		.LL207
         1F:C7AD  80 18      			bra	.LL207
 6280    1F:C7AF             	.LL206:
 6281                        	
 6282                        		.dbg	line,	"include\routines_LEVELS.c", 66; {
 6283                        	
 6284                        		.dbg	line,	"include\routines_LEVELS.c", 67; if(minutes > 0)
 6285                        		__ld.umq	_minutes
         1F:C7AF  AD 30 23   			lda	_minutes
 6286                        		__ugt_b.uiq	0
         1F:C7B2  18         			clc			; Subtract integer+1 from A.
         1F:C7B3  E9 00      			sbc	#0		; CS if A > integer.
 6287                        		__bfalse	.LL208
         1F:C7B5  90 0A      			bcc	.LL208
 6288                        	
 6289                        		.dbg	line,	"include\routines_LEVELS.c", 68; {
 6290                        	
 6291                        		.dbg	line,	"include\routines_LEVELS.c", 69; seconds = 59;
 6292                        		__st.umiq	59, _seconds
         1F:C7B7  A9 3B      			lda.l	#59
         1F:C7B9  8D 31 23   			sta	_seconds
 6293                        	
 6294                        		.dbg	line,	"include\routines_LEVELS.c", 70; minutes -= 1;
 6295                        		__sub_st.umiq	1, _minutes
         1F:C7BC  CE 30 23   			dec	_minutes
 6296                        	
 6297                        		.dbg	line,	"include\routines_LEVELS.c", 71; }
 6298                        	
 6299                        		.dbg	line,	"include\routines_LEVELS.c", 73; else
 6300                        		__bra		.LL209
         1F:C7BF  80 06      			bra	.LL209
 6301    1F:C7C1             	.LL208:
 6302                        	
 6303                        		.dbg	line,	"include\routines_LEVELS.c", 74; {
 6304                        	
 6305                        		.dbg	line,	"include\routines_LEVELS.c", 75; seconds = 0;
 6306                        		__st.umiq	0, _seconds
         1F:C7C1  9C 31 23   			stz	_seconds
 6307                        	
 6308                        		.dbg	line,	"include\routines_LEVELS.c", 76; minutes = 0;
 6309                        		__st.umiq	0, _minutes
         1F:C7C4  9C 30 23   			stz	_minutes
 6310                        	
 6311                        		.dbg	line,	"include\routines_LEVELS.c", 77; // TIME OUT //
 6312                        	
 6313                        		.dbg	line,	"include\routines_LEVELS.c", 78; }
 6314    1F:C7C7             	.LL209:
 6315                        	
 6316                        		.dbg	line,	"include\routines_LEVELS.c", 79; }
 6317    1F:C7C7             	.LL207:
 6318                        	
 6319                        		.dbg	line,	"include\routines_LEVELS.c", 80; } 
 6320                        	
 6321                        		.dbg	line,	"include\routines_LEVELS.c", 81; }
 6322    1F:C7C7             	.LL205:
 6323    1F:C7C7             	.LL202:
 6324                        		__return	0
         1F:C7C7  4C EF FF   			jmp	leave_proc
 6325                        		.dbg	clear
 6326                        		.endp
 6327                        		.pceas
 6328                        	
 6329                        		.dbg	line,	"include\routines_LEVELS.c", 84; void display_KEY()
 6330                        		.dbg	line,	"include\routines_LEVELS.c", 85; {
 6331                        	;***********************
 6332                        	;***********************
 6333                        	
 6334                        		.hucc
 6335    1F:CED9             		.proc		_display_KEY
 6336                        		__enter		_display_KEY
 6337                        	
 6338                        		.dbg	line,	"include\routines_LEVELS.c", 86; put_number(key_amount,2,7,27);
 6339                        		__ld.um		_key_amount
         1F:CED9  AD 2E 23   			lda	_key_amount
         1F:CEDC  C2         			cly
 6340                        		__st.wmq	_bx
         1F:CEDD  85 FA      			sta.l	_bx
         1F:CEDF  84 FB      			sty.h	_bx
 6341                        		__st.umiq	2, _cl
         1F:CEE1  A9 02      			lda.l	#2
         1F:CEE3  85 FC      			sta	_cl
 6342                        		__st.umiq	7, _dil
         1F:CEE5  A9 07      			lda.l	#7
         1F:CEE7  85 F0      			sta	_dil
 6343                        		__st.umiq	27, _dih
         1F:CEE9  A9 1B      			lda.l	#27
         1F:CEEB  85 F1      			sta	_dih
 6344                        		__call		_put_number.4
         1F:CEED  20 6D FF   			call	_put_number.4
 6345                        	
 6346                        		.dbg	line,	"include\routines_LEVELS.c", 87; }
 6347    1F:CEF0             	.LL210:
 6348                        		__return	0
         1F:CEF0  4C EF FF   			jmp	leave_proc
 6349                        		.dbg	clear
 6350                        		.endp
 6351                        		.pceas
 6352                        	
 6353                        		.dbg	line,	"include\routines_LEVELS.c", 90; void display_POTION()
 6354                        		.dbg	line,	"include\routines_LEVELS.c", 91; {
 6355                        	;***********************
 6356                        	;***********************
 6357                        	
 6358                        		.hucc
 6359    1F:CEF3             		.proc		_display_POTION
 6360                        		__enter		_display_POTION
 6361                        	
 6362                        		.dbg	line,	"include\routines_LEVELS.c", 92; put_number(potion_amount,2,19,27);
 6363                        		__ld.um		_potion_amount
         1F:CEF3  AD 2F 23   			lda	_potion_amount
         1F:CEF6  C2         			cly
 6364                        		__st.wmq	_bx
         1F:CEF7  85 FA      			sta.l	_bx
         1F:CEF9  84 FB      			sty.h	_bx
 6365                        		__st.umiq	2, _cl
         1F:CEFB  A9 02      			lda.l	#2
         1F:CEFD  85 FC      			sta	_cl
 6366                        		__st.umiq	19, _dil
         1F:CEFF  A9 13      			lda.l	#19
         1F:CF01  85 F0      			sta	_dil
 6367                        		__st.umiq	27, _dih
         1F:CF03  A9 1B      			lda.l	#27
         1F:CF05  85 F1      			sta	_dih
 6368                        		__call		_put_number.4
         1F:CF07  20 6D FF   			call	_put_number.4
 6369                        	
 6370                        		.dbg	line,	"include\routines_LEVELS.c", 93; }
 6371    1F:CF0A             	.LL211:
 6372                        		__return	0
         1F:CF0A  4C EF FF   			jmp	leave_proc
 6373                        		.dbg	clear
 6374                        		.endp
 6375                        		.pceas
 6376                        	
 6377                        		.dbg	line,	"include\routines_LEVELS.c", 96; void display_ZENNY()
 6378                        		.dbg	line,	"include\routines_LEVELS.c", 97; {
 6379                        	;***********************
 6380                        	;***********************
 6381                        	
 6382                        		.hucc
 6383    1F:CEA1             		.proc		_display_ZENNY
 6384                        		__enter		_display_ZENNY
 6385                        	
 6386                        		.dbg	line,	"include\routines_LEVELS.c", 98; put_number(zenny_amount,5,26,4);
 6387                        		__ld.wm		_zenny_amount
         1F:CEA1  AD 3B 26   			lda.l	_zenny_amount
         1F:CEA4  AC 3C 26   			ldy.h	_zenny_amount
 6388                        		__st.wmq	_bx
         1F:CEA7  85 FA      			sta.l	_bx
         1F:CEA9  84 FB      			sty.h	_bx
 6389                        		__st.umiq	5, _cl
         1F:CEAB  A9 05      			lda.l	#5
         1F:CEAD  85 FC      			sta	_cl
 6390                        		__st.umiq	26, _dil
         1F:CEAF  A9 1A      			lda.l	#26
         1F:CEB1  85 F0      			sta	_dil
 6391                        		__st.umiq	4, _dih
         1F:CEB3  A9 04      			lda.l	#4
         1F:CEB5  85 F1      			sta	_dih
 6392                        		__call		_put_number.4
         1F:CEB7  20 6D FF   			call	_put_number.4
 6393                        	
 6394                        		.dbg	line,	"include\routines_LEVELS.c", 99; }
 6395    1F:CEBA             	.LL212:
 6396                        		__return	0
         1F:CEBA  4C EF FF   			jmp	leave_proc
 6397                        		.dbg	clear
 6398                        		.endp
 6399                        		.pceas
 6400                        	
 6401                        		.dbg	line,	"include\routines_LEVELS.c", 104; void scroll_object()
 6402                        		.dbg	line,	"include\routines_LEVELS.c", 105; {
 6403                        	;***********************
 6404                        	;***********************
 6405                        	
 6406                        		.hucc
 6407    1E:DA53             		.proc		_scroll_object
 6408                        		__enter		_scroll_object
 6409                        	
 6410                        		.dbg	line,	"include\routines_LEVELS.c", 106; char i;
 6411                        	
 6412                        		.dbg	line,	"include\routines_LEVELS.c", 107; onscreen_object_number = 0;
 6413                        		__st.umiq	0, _onscreen_object_number
         1E:DA53  9C 37 23   			stz	_onscreen_object_number
 6414                        	
 6415                        		.dbg	line,	"include\routines_LEVELS.c", 109; for(i=0 ; i<level_object_number ; i++)
 6416                        		__st.umiq	0, __scroll_object_end - 1  /* i */
         1E:DA56  9C 79 26   			stz	__scroll_object_end - 1
 6417    1E:DA59             	.LL214:
 6418                        		__ld.umq	__scroll_object_end - 1  /* i */
         1E:DA59  AD 79 26   			lda	__scroll_object_end - 1
 6419                        		__ult_b.umq	_level_object_number
         1E:DA5C  CD 36 23   			cmp	_level_object_number		; Subtract memory from A.
         1E:DA5F  6A         			ror	a		; CC if A < memory.
         1E:DA60  49 80      			eor	#$80
         1E:DA62  2A         			rol	a
 6420                        		__btrue		.LL216
         1E:DA63  B0 08      			bcs	.LL216
 6421                        		__bra		.LL217
         1E:DA65  4C B7 DB   			bra	.LL217
 6422    1E:DA68             	.LL215:
 6423                        		__inc.umq	__scroll_object_end - 1  /* i */
         1E:DA68  EE 79 26   			inc	__scroll_object_end - 1
 6424                        		__bra		.LL214
         1E:DA6B  80 EC      			bra	.LL214
 6425    1E:DA6D             	.LL216:
 6426                        	
 6427                        		.dbg	line,	"include\routines_LEVELS.c", 110; {
 6428                        	
 6429                        		.dbg	line,	"include\routines_LEVELS.c", 111; if(list_object_state[i] != STATE_INACTIVE)
 6430                        		__ldx.umq	__scroll_object_end - 1  /* i */
         1E:DA6D  AE 79 26   			ldx	__scroll_object_end - 1
 6431                        		__ld.uaxq	_list_object_state
         1E:DA70  BD 51 23   			lda	_list_object_state, x
 6432                        		__neq_b.uiq	1
         1E:DA73  38         			sec
         1E:DA74  49 01      			eor	#1
         1E:DA76  D0 01      			bne	!+
         1E:DA78  18         			clc
         1E:DA79             	!:
 6433                        		__bfalse	.LL218
         1E:DA79  90 ED      			bcc	.LL218
 6434                        	
 6435                        		.dbg	line,	"include\routines_LEVELS.c", 112; {
 6436                        	
 6437                        		.dbg	line,	"include\routines_LEVELS.c", 113; char scroll_allowed = FALSE;
 6438                        		__st.umiq	0, __scroll_object_end - 2  /* scroll_allowed */
         1E:DA7B  9C 78 26   			stz	__scroll_object_end - 2
 6439                        	
 6440                        		.dbg	line,	"include\routines_LEVELS.c", 114; 
 6441                        	
 6442                        		.dbg	line,	"include\routines_LEVELS.c", 115; // IF OBJECT X POSITION IS INFERIOR TO SCREEN RIGHT SIDE //
 6443                        	
 6444                        		.dbg	line,	"include\routines_LEVELS.c", 116; if(list_object_x_pos_ref[i] < sgx_map_pxl_x + 256)
 6445                        		__ld.wm		_sgx_map_pxl_x
         1E:DA7E  AD BE 26   			lda.l	_sgx_map_pxl_x
         1E:DA81  AC BF 26   			ldy.h	_sgx_map_pxl_x
 6446                        		__add.wi	256
         1E:DA84  18         			clc
         1E:DA85  69 00      			adc.l	#256
         1E:DA87  42         			say
         1E:DA88  69 01      			adc.h	#256
         1E:DA8A  42         			say
 6447                        		__ld2x.um	__scroll_object_end - 1  /* i */
         1E:DA8B  AA         			tax
         1E:DA8C  AD 79 26   			lda	__scroll_object_end - 1
         1E:DA8F  0A         			asl	a
         1E:DA90  22         			sax
 6448                        		__ugt_w.wax	_list_object_x_pos_ref
         1E:DA91  18         			clc			; Subtract memory+1 from Y:A.
         1E:DA92  FD 49 25   			sbc.l	_list_object_x_pos_ref, x
         1E:DA95  98         			tya
         1E:DA96  FD 4A 25   			sbc.h	_list_object_x_pos_ref, x		; CS if Y:A > memory.
 6449                        		__bfalse	.LL219
         1E:DA99  B0 03 4C 1E			bcc	.LL219
         1E:DA9D  DB          
 6450                        	
 6451                        		.dbg	line,	"include\routines_LEVELS.c", 117; {
 6452                        	
 6453                        		.dbg	line,	"include\routines_LEVELS.c", 118; // IF OBJECT X POSITION IS SUPERIOR TO SCREEN LEFT SIDE PLUS 16 PX //
 6454                        	
 6455                        		.dbg	line,	"include\routines_LEVELS.c", 119; if(list_object_x_pos_ref[i] - sgx_map_pxl_x + 16 > 0)
 6456                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1E:DA9E  AD 79 26   			lda	__scroll_object_end - 1
         1E:DAA1  0A         			asl	a
         1E:DAA2  AA         			tax
 6457                        		__ld.wax	_list_object_x_pos_ref
         1E:DAA3  BD 49 25   			lda.l	_list_object_x_pos_ref, x
         1E:DAA6  BC 4A 25   			ldy.h	_list_object_x_pos_ref, x
 6458                        		__sub.wm	_sgx_map_pxl_x
         1E:DAA9  38         			sec
         1E:DAAA  ED BE 26   			sbc.l	_sgx_map_pxl_x
         1E:DAAD  42         			say
         1E:DAAE  ED BF 26   			sbc.h	_sgx_map_pxl_x
         1E:DAB1  42         			say
 6459                        		__add.wi	16
         1E:DAB2  18         			clc
         1E:DAB3  69 10      			adc.l	#16
         1E:DAB5  90 01      			bcc	!+
         1E:DAB7  C8         			iny
         1E:DAB8             	!:
 6460                        		__sgt_w.wi	0
         1E:DAB8  18         			clc			; Subtract integer+1 from Y:A.
         1E:DAB9  E9 00      			sbc.l	#0
         1E:DABB  98         			tya
         1E:DABC  E9 00      			sbc.h	#0
         1E:DABE  50 02      			bvc	!+
         1E:DAC0  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1E:DAC2  49 80      	!:		eor	#$80
         1E:DAC4  0A         			asl	a
 6461                        		__bfalse	.LL220
         1E:DAC5  90 57      			bcc	.LL220
 6462                        	
 6463                        		.dbg	line,	"include\routines_LEVELS.c", 120; {
 6464                        	
 6465                        		.dbg	line,	"include\routines_LEVELS.c", 121; // IF OBJECT Y POSITION IS INFERIOR TO SCREEN BOTTOM //
 6466                        	
 6467                        		.dbg	line,	"include\routines_LEVELS.c", 122; if(list_object_y_pos_ref[i] < sgx_map_pxl_y + 224)
 6468                        		__ld.wm		_sgx_map_pxl_y
         1E:DAC7  AD C0 26   			lda.l	_sgx_map_pxl_y
         1E:DACA  AC C1 26   			ldy.h	_sgx_map_pxl_y
 6469                        		__add.wi	224
         1E:DACD  18         			clc
         1E:DACE  69 E0      			adc.l	#224
         1E:DAD0  90 01      			bcc	!+
         1E:DAD2  C8         			iny
         1E:DAD3             	!:
 6470                        		__ld2x.um	__scroll_object_end - 1  /* i */
         1E:DAD3  AA         			tax
         1E:DAD4  AD 79 26   			lda	__scroll_object_end - 1
         1E:DAD7  0A         			asl	a
         1E:DAD8  22         			sax
 6471                        		__ugt_w.wax	_list_object_y_pos_ref
         1E:DAD9  18         			clc			; Subtract memory+1 from Y:A.
         1E:DADA  FD 7B 25   			sbc.l	_list_object_y_pos_ref, x
         1E:DADD  98         			tya
         1E:DADE  FD 7C 25   			sbc.h	_list_object_y_pos_ref, x		; CS if Y:A > memory.
 6472                        		__bfalse	.LL221
         1E:DAE1  90 3B      			bcc	.LL221
 6473                        	
 6474                        		.dbg	line,	"include\routines_LEVELS.c", 123; {
 6475                        	
 6476                        		.dbg	line,	"include\routines_LEVELS.c", 124; // IF OBJECT Y POSITION IS SUPERIOR TO SCREEN TOP PLUS 16 PX //
 6477                        	
 6478                        		.dbg	line,	"include\routines_LEVELS.c", 125; if(list_object_y_pos_ref[i] - sgx_map_pxl_y + 16 > 0)
 6479                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1E:DAE3  AD 79 26   			lda	__scroll_object_end - 1
         1E:DAE6  0A         			asl	a
         1E:DAE7  AA         			tax
 6480                        		__ld.wax	_list_object_y_pos_ref
         1E:DAE8  BD 7B 25   			lda.l	_list_object_y_pos_ref, x
         1E:DAEB  BC 7C 25   			ldy.h	_list_object_y_pos_ref, x
 6481                        		__sub.wm	_sgx_map_pxl_y
         1E:DAEE  38         			sec
         1E:DAEF  ED C0 26   			sbc.l	_sgx_map_pxl_y
         1E:DAF2  42         			say
         1E:DAF3  ED C1 26   			sbc.h	_sgx_map_pxl_y
         1E:DAF6  42         			say
 6482                        		__add.wi	16
         1E:DAF7  18         			clc
         1E:DAF8  69 10      			adc.l	#16
         1E:DAFA  90 01      			bcc	!+
         1E:DAFC  C8         			iny
         1E:DAFD             	!:
 6483                        		__sgt_w.wi	0
         1E:DAFD  18         			clc			; Subtract integer+1 from Y:A.
         1E:DAFE  E9 00      			sbc.l	#0
         1E:DB00  98         			tya
         1E:DB01  E9 00      			sbc.h	#0
         1E:DB03  50 02      			bvc	!+
         1E:DB05  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1E:DB07  49 80      	!:		eor	#$80
         1E:DB09  0A         			asl	a
 6484                        		__bfalse	.LL222
         1E:DB0A  90 12      			bcc	.LL222
 6485                        	
 6486                        		.dbg	line,	"include\routines_LEVELS.c", 126; {
 6487                        	
 6488                        		.dbg	line,	"include\routines_LEVELS.c", 127; // WE STORE THE OBJECT ID //
 6489                        	
 6490                        		.dbg	line,	"include\routines_LEVELS.c", 128; //put_number(i,2,0,2+onscreen_object_number);
 6491                        	
 6492                        		.dbg	line,	"include\routines_LEVELS.c", 129; list_onscreen_object[onscreen_object_number] = i;
 6493                        		__ldx.umq	_onscreen_object_number
         1E:DB0C  AE 37 23   			ldx	_onscreen_object_number
 6494                        		__ld.um		__scroll_object_end - 1  /* i */
         1E:DB0F  AD 79 26   			lda	__scroll_object_end - 1
         1E:DB12  C2         			cly
 6495                        		__st.uaxq	_list_onscreen_object
         1E:DB13  9D 9C 23   			sta	_list_onscreen_object, x
 6496                        	
 6497                        		.dbg	line,	"include\routines_LEVELS.c", 130; onscreen_object_number += 1;
 6498                        		__add_st.umiq	1, _onscreen_object_number
         1E:DB16  EE 37 23   			inc	_onscreen_object_number
 6499                        	
 6500                        		.dbg	line,	"include\routines_LEVELS.c", 131; 
 6501                        	
 6502                        		.dbg	line,	"include\routines_LEVELS.c", 132; //list_object_visibility[i] = ON_SCREEN;
 6503                        	
 6504                        		.dbg	line,	"include\routines_LEVELS.c", 133; scroll_allowed = TRUE;
 6505                        		__st.umiq	1, __scroll_object_end - 2  /* scroll_allowed */
         1E:DB19  A9 01      			lda.l	#1
         1E:DB1B  8D 78 26   			sta	__scroll_object_end - 2
 6506                        	
 6507                        		.dbg	line,	"include\routines_LEVELS.c", 134; }
 6508                        	
 6509                        		.dbg	line,	"include\routines_LEVELS.c", 135; }
 6510    1E:DB1E             	.LL222:
 6511                        	
 6512                        		.dbg	line,	"include\routines_LEVELS.c", 136; }
 6513    1E:DB1E             	.LL221:
 6514                        	
 6515                        		.dbg	line,	"include\routines_LEVELS.c", 137; }
 6516    1E:DB1E             	.LL220:
 6517                        	
 6518                        		.dbg	line,	"include\routines_LEVELS.c", 139; // IF OBJECTS IS WITHIN THE SCREEN LIMITS //
 6519                        	
 6520                        		.dbg	line,	"include\routines_LEVELS.c", 140; if(scroll_allowed == TRUE)
 6521    1E:DB1E             	.LL219:
 6522                        		__ld.umq	__scroll_object_end - 2  /* scroll_allowed */
         1E:DB1E  AD 78 26   			lda	__scroll_object_end - 2
 6523                        		__equ_b.uiq	1
         1E:DB21  C9 01      			cmp	#1
         1E:DB23  F0 01      			beq	!+
         1E:DB25  18         			clc
         1E:DB26             	!:
 6524                        		__bfalse	.LL223
         1E:DB26  90 44      			bcc	.LL223
 6525                        	
 6526                        		.dbg	line,	"include\routines_LEVELS.c", 141; {
 6527                        	
 6528                        		.dbg	line,	"include\routines_LEVELS.c", 142; list_object_x_pos[i] = list_object_x_pos_ref[i] - sgx_map_pxl_x;
 6529                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1E:DB28  AD 79 26   			lda	__scroll_object_end - 1
         1E:DB2B  0A         			asl	a
         1E:DB2C  AA         			tax
 6530                        		__ld.wax	_list_object_x_pos_ref
         1E:DB2D  BD 49 25   			lda.l	_list_object_x_pos_ref, x
         1E:DB30  BC 4A 25   			ldy.h	_list_object_x_pos_ref, x
 6531                        		__sub.wm	_sgx_map_pxl_x
         1E:DB33  38         			sec
         1E:DB34  ED BE 26   			sbc.l	_sgx_map_pxl_x
         1E:DB37  42         			say
         1E:DB38  ED BF 26   			sbc.h	_sgx_map_pxl_x
         1E:DB3B  42         			say
 6532                        		__ld2x.um	__scroll_object_end - 1  /* i */
         1E:DB3C  AA         			tax
         1E:DB3D  AD 79 26   			lda	__scroll_object_end - 1
         1E:DB40  0A         			asl	a
         1E:DB41  22         			sax
 6533                        		__st.waxq	_list_object_x_pos
         1E:DB42  9D E5 24   			sta.l	_list_object_x_pos, x
         1E:DB45  98         			tya
         1E:DB46  9D E6 24   			sta.h	_list_object_x_pos, x
 6534                        	
 6535                        		.dbg	line,	"include\routines_LEVELS.c", 143; list_object_y_pos[i] = list_object_y_pos_ref[i] - sgx_map_pxl_y;
 6536                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1E:DB49  AD 79 26   			lda	__scroll_object_end - 1
         1E:DB4C  0A         			asl	a
         1E:DB4D  AA         			tax
 6537                        		__ld.wax	_list_object_y_pos_ref
         1E:DB4E  BD 7B 25   			lda.l	_list_object_y_pos_ref, x
         1E:DB51  BC 7C 25   			ldy.h	_list_object_y_pos_ref, x
 6538                        		__sub.wm	_sgx_map_pxl_y
         1E:DB54  38         			sec
         1E:DB55  ED C0 26   			sbc.l	_sgx_map_pxl_y
         1E:DB58  42         			say
         1E:DB59  ED C1 26   			sbc.h	_sgx_map_pxl_y
         1E:DB5C  42         			say
 6539                        		__ld2x.um	__scroll_object_end - 1  /* i */
         1E:DB5D  AA         			tax
         1E:DB5E  AD 79 26   			lda	__scroll_object_end - 1
         1E:DB61  0A         			asl	a
         1E:DB62  22         			sax
 6540                        		__st.waxq	_list_object_y_pos
         1E:DB63  9D 17 25   			sta.l	_list_object_y_pos, x
         1E:DB66  98         			tya
         1E:DB67  9D 18 25   			sta.h	_list_object_y_pos, x
 6541                        	
 6542                        		.dbg	line,	"include\routines_LEVELS.c", 144; }
 6543                        	
 6544                        		.dbg	line,	"include\routines_LEVELS.c", 146; else
 6545                        		__bra		.LL224
         1E:DB6A  80 1E      			bra	.LL224
 6546    1E:DB6C             	.LL223:
 6547                        	
 6548                        		.dbg	line,	"include\routines_LEVELS.c", 147; {
 6549                        	
 6550                        		.dbg	line,	"include\routines_LEVELS.c", 148; list_object_x_pos[i] = -16;
 6551                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1E:DB6C  AD 79 26   			lda	__scroll_object_end - 1
         1E:DB6F  0A         			asl	a
         1E:DB70  AA         			tax
 6552                        		__st.waxiq	-16, _list_object_x_pos
         1E:DB71  A9 F0      			lda.l	#-16
         1E:DB73  9D E5 24   			sta.l	_list_object_x_pos, x
         1E:DB76  A9 FF      			lda.h	#-16
         1E:DB78  9D E6 24   			sta.h	_list_object_x_pos, x
 6553                        	
 6554                        		.dbg	line,	"include\routines_LEVELS.c", 149; list_object_y_pos[i] = -16;
 6555                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1E:DB7B  AD 79 26   			lda	__scroll_object_end - 1
         1E:DB7E  0A         			asl	a
         1E:DB7F  AA         			tax
 6556                        		__st.waxiq	-16, _list_object_y_pos
         1E:DB80  A9 F0      			lda.l	#-16
         1E:DB82  9D 17 25   			sta.l	_list_object_y_pos, x
         1E:DB85  A9 FF      			lda.h	#-16
         1E:DB87  9D 18 25   			sta.h	_list_object_y_pos, x
 6557                        	
 6558                        		.dbg	line,	"include\routines_LEVELS.c", 150; //list_object_visibility[i] = OFF_SCREEN;
 6559                        	
 6560                        		.dbg	line,	"include\routines_LEVELS.c", 151; }
 6561    1E:DB8A             	.LL224:
 6562                        	
 6563                        		.dbg	line,	"include\routines_LEVELS.c", 153; sgx_spr_set(i + object_start_index);
 6564                        		__ld.um		__scroll_object_end - 1  /* i */
         1E:DB8A  AD 79 26   			lda	__scroll_object_end - 1
         1E:DB8D  C2         			cly
 6565                        		__add.um	_object_start_index
         1E:DB8E  18         			clc
         1E:DB8F  6D 35 23   			adc	_object_start_index
         1E:DB92  90 01      			bcc	!+
         1E:DB94  C8         			iny
         1E:DB95             	!:
 6566                        		__call		_sgx_spr_set.1
         1E:DB95  20 8A E8   			call	_sgx_spr_set.1
 6567                        	
 6568                        		.dbg	line,	"include\routines_LEVELS.c", 155; sgx_spr_x(list_object_x_pos[i]);
 6569                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1E:DB98  AD 79 26   			lda	__scroll_object_end - 1
         1E:DB9B  0A         			asl	a
         1E:DB9C  AA         			tax
 6570                        		__ld.wax	_list_object_x_pos
         1E:DB9D  BD E5 24   			lda.l	_list_object_x_pos, x
         1E:DBA0  BC E6 24   			ldy.h	_list_object_x_pos, x
 6571                        		__call		_sgx_spr_x.1
         1E:DBA3  20 B7 E8   			call	_sgx_spr_x.1
 6572                        	
 6573                        		.dbg	line,	"include\routines_LEVELS.c", 156; sgx_spr_y(list_object_y_pos[i]);
 6574                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1E:DBA6  AD 79 26   			lda	__scroll_object_end - 1
         1E:DBA9  0A         			asl	a
         1E:DBAA  AA         			tax
 6575                        		__ld.wax	_list_object_y_pos
         1E:DBAB  BD 17 25   			lda.l	_list_object_y_pos, x
         1E:DBAE  BC 18 25   			ldy.h	_list_object_y_pos, x
 6576                        		__call		_sgx_spr_y.1
         1E:DBB1  20 C6 E8   			call	_sgx_spr_y.1
 6577                        	
 6578                        		.dbg	line,	"include\routines_LEVELS.c", 157; }
 6579                        	
 6580                        		.dbg	line,	"include\routines_LEVELS.c", 158; }
 6581    1E:DBB4             	.LL218	.alias		.LL215
 6582                        		__bra		.LL215
         1E:DBB4  4C 68 DA   			bra	.LL215
 6583    1E:DBB7             	.LL217:
 6584                        	
 6585                        		.dbg	line,	"include\routines_LEVELS.c", 159; }
 6586    1E:DBB7             	.LL213:
 6587                        		__return	0
         1E:DBB7  4C EF FF   			jmp	leave_proc
 6588                        		.dbg	clear
 6589                        		.endp
 6590                        		.pceas
 6591                        	
 6592                        		.dbg	line,	"include\routines_LEVELS.c", 162; void scroll_chest()
 6593                        		.dbg	line,	"include\routines_LEVELS.c", 163; {
 6594                        	;***********************
 6595                        	;***********************
 6596                        	
 6597                        		.hucc
 6598    1E:DBBA             		.proc		_scroll_chest
 6599                        		__enter		_scroll_chest
 6600                        	
 6601                        		.dbg	line,	"include\routines_LEVELS.c", 164; char i;
 6602                        	
 6603                        		.dbg	line,	"include\routines_LEVELS.c", 165; onscreen_chest_number = 0;
 6604                        		__st.umiq	0, _onscreen_chest_number
         1E:DBBA  9C A6 23   			stz	_onscreen_chest_number
 6605                        	
 6606                        		.dbg	line,	"include\routines_LEVELS.c", 167; for(i=0 ; i<level_chest_number ; i++)
 6607                        		__st.umiq	0, __scroll_chest_end - 1  /* i */
         1E:DBBD  9C 79 26   			stz	__scroll_chest_end - 1
 6608    1E:DBC0             	.LL226:
 6609                        		__ld.umq	__scroll_chest_end - 1  /* i */
         1E:DBC0  AD 79 26   			lda	__scroll_chest_end - 1
 6610                        		__ult_b.umq	_level_chest_number
         1E:DBC3  CD A5 23   			cmp	_level_chest_number		; Subtract memory from A.
         1E:DBC6  6A         			ror	a		; CC if A < memory.
         1E:DBC7  49 80      			eor	#$80
         1E:DBC9  2A         			rol	a
 6611                        		__btrue		.LL228
         1E:DBCA  B0 08      			bcs	.LL228
 6612                        		__bra		.LL229
         1E:DBCC  4C 1E DD   			bra	.LL229
 6613    1E:DBCF             	.LL227:
 6614                        		__inc.umq	__scroll_chest_end - 1  /* i */
         1E:DBCF  EE 79 26   			inc	__scroll_chest_end - 1
 6615                        		__bra		.LL226
         1E:DBD2  80 EC      			bra	.LL226
 6616    1E:DBD4             	.LL228:
 6617                        	
 6618                        		.dbg	line,	"include\routines_LEVELS.c", 168; {
 6619                        	
 6620                        		.dbg	line,	"include\routines_LEVELS.c", 169; if(list_chest_state[i] != STATE_INACTIVE)
 6621                        		__ldx.umq	__scroll_chest_end - 1  /* i */
         1E:DBD4  AE 79 26   			ldx	__scroll_chest_end - 1
 6622                        		__ld.uaxq	_list_chest_state
         1E:DBD7  BD A7 23   			lda	_list_chest_state, x
 6623                        		__neq_b.uiq	1
         1E:DBDA  38         			sec
         1E:DBDB  49 01      			eor	#1
         1E:DBDD  D0 01      			bne	!+
         1E:DBDF  18         			clc
         1E:DBE0             	!:
 6624                        		__bfalse	.LL230
         1E:DBE0  90 ED      			bcc	.LL230
 6625                        	
 6626                        		.dbg	line,	"include\routines_LEVELS.c", 170; {
 6627                        	
 6628                        		.dbg	line,	"include\routines_LEVELS.c", 171; char scroll_allowed = FALSE;
 6629                        		__st.umiq	0, __scroll_chest_end - 2  /* scroll_allowed */
         1E:DBE2  9C 78 26   			stz	__scroll_chest_end - 2
 6630                        	
 6631                        		.dbg	line,	"include\routines_LEVELS.c", 172; 
 6632                        	
 6633                        		.dbg	line,	"include\routines_LEVELS.c", 173; // IF CHEST X POSITION IS INFERIOR TO SCREEN RIGHT SIDE //
 6634                        	
 6635                        		.dbg	line,	"include\routines_LEVELS.c", 174; if(list_chest_x_pos_ref[i] < sgx_map_pxl_x + 256)
 6636                        		__ld.wm		_sgx_map_pxl_x
         1E:DBE5  AD BE 26   			lda.l	_sgx_map_pxl_x
         1E:DBE8  AC BF 26   			ldy.h	_sgx_map_pxl_x
 6637                        		__add.wi	256
         1E:DBEB  18         			clc
         1E:DBEC  69 00      			adc.l	#256
         1E:DBEE  42         			say
         1E:DBEF  69 01      			adc.h	#256
         1E:DBF1  42         			say
 6638                        		__ld2x.um	__scroll_chest_end - 1  /* i */
         1E:DBF2  AA         			tax
         1E:DBF3  AD 79 26   			lda	__scroll_chest_end - 1
         1E:DBF6  0A         			asl	a
         1E:DBF7  22         			sax
 6639                        		__ugt_w.wax	_list_chest_x_pos_ref
         1E:DBF8  18         			clc			; Subtract memory+1 from Y:A.
         1E:DBF9  FD CD 25   			sbc.l	_list_chest_x_pos_ref, x
         1E:DBFC  98         			tya
         1E:DBFD  FD CE 25   			sbc.h	_list_chest_x_pos_ref, x		; CS if Y:A > memory.
 6640                        		__bfalse	.LL231
         1E:DC00  B0 03 4C 85			bcc	.LL231
         1E:DC04  DC          
 6641                        	
 6642                        		.dbg	line,	"include\routines_LEVELS.c", 175; {
 6643                        	
 6644                        		.dbg	line,	"include\routines_LEVELS.c", 176; // IF CHEST X POSITION IS SUPERIOR TO SCREEN LEFT SIDE PLUS 32 PX //
 6645                        	
 6646                        		.dbg	line,	"include\routines_LEVELS.c", 177; if(list_chest_x_pos_ref[i] - sgx_map_pxl_x + 32 > 0)
 6647                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1E:DC05  AD 79 26   			lda	__scroll_chest_end - 1
         1E:DC08  0A         			asl	a
         1E:DC09  AA         			tax
 6648                        		__ld.wax	_list_chest_x_pos_ref
         1E:DC0A  BD CD 25   			lda.l	_list_chest_x_pos_ref, x
         1E:DC0D  BC CE 25   			ldy.h	_list_chest_x_pos_ref, x
 6649                        		__sub.wm	_sgx_map_pxl_x
         1E:DC10  38         			sec
         1E:DC11  ED BE 26   			sbc.l	_sgx_map_pxl_x
         1E:DC14  42         			say
         1E:DC15  ED BF 26   			sbc.h	_sgx_map_pxl_x
         1E:DC18  42         			say
 6650                        		__add.wi	32
         1E:DC19  18         			clc
         1E:DC1A  69 20      			adc.l	#32
         1E:DC1C  90 01      			bcc	!+
         1E:DC1E  C8         			iny
         1E:DC1F             	!:
 6651                        		__sgt_w.wi	0
         1E:DC1F  18         			clc			; Subtract integer+1 from Y:A.
         1E:DC20  E9 00      			sbc.l	#0
         1E:DC22  98         			tya
         1E:DC23  E9 00      			sbc.h	#0
         1E:DC25  50 02      			bvc	!+
         1E:DC27  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1E:DC29  49 80      	!:		eor	#$80
         1E:DC2B  0A         			asl	a
 6652                        		__bfalse	.LL232
         1E:DC2C  90 57      			bcc	.LL232
 6653                        	
 6654                        		.dbg	line,	"include\routines_LEVELS.c", 178; {
 6655                        	
 6656                        		.dbg	line,	"include\routines_LEVELS.c", 179; // IF CHEST Y POSITION IS INFERIOR TO SCREEN BOTTOM //
 6657                        	
 6658                        		.dbg	line,	"include\routines_LEVELS.c", 180; if(list_chest_y_pos_ref[i] < sgx_map_pxl_y + 224)
 6659                        		__ld.wm		_sgx_map_pxl_y
         1E:DC2E  AD C0 26   			lda.l	_sgx_map_pxl_y
         1E:DC31  AC C1 26   			ldy.h	_sgx_map_pxl_y
 6660                        		__add.wi	224
         1E:DC34  18         			clc
         1E:DC35  69 E0      			adc.l	#224
         1E:DC37  90 01      			bcc	!+
         1E:DC39  C8         			iny
         1E:DC3A             	!:
 6661                        		__ld2x.um	__scroll_chest_end - 1  /* i */
         1E:DC3A  AA         			tax
         1E:DC3B  AD 79 26   			lda	__scroll_chest_end - 1
         1E:DC3E  0A         			asl	a
         1E:DC3F  22         			sax
 6662                        		__ugt_w.wax	_list_chest_y_pos_ref
         1E:DC40  18         			clc			; Subtract memory+1 from Y:A.
         1E:DC41  FD DD 25   			sbc.l	_list_chest_y_pos_ref, x
         1E:DC44  98         			tya
         1E:DC45  FD DE 25   			sbc.h	_list_chest_y_pos_ref, x		; CS if Y:A > memory.
 6663                        		__bfalse	.LL233
         1E:DC48  90 3B      			bcc	.LL233
 6664                        	
 6665                        		.dbg	line,	"include\routines_LEVELS.c", 181; {
 6666                        	
 6667                        		.dbg	line,	"include\routines_LEVELS.c", 182; // IF CHEST Y POSITION IS SUPERIOR TO SCREEN TOP PLUS 32 PX //
 6668                        	
 6669                        		.dbg	line,	"include\routines_LEVELS.c", 183; if(list_chest_y_pos_ref[i] - sgx_map_pxl_y + 32 > 0)
 6670                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1E:DC4A  AD 79 26   			lda	__scroll_chest_end - 1
         1E:DC4D  0A         			asl	a
         1E:DC4E  AA         			tax
 6671                        		__ld.wax	_list_chest_y_pos_ref
         1E:DC4F  BD DD 25   			lda.l	_list_chest_y_pos_ref, x
         1E:DC52  BC DE 25   			ldy.h	_list_chest_y_pos_ref, x
 6672                        		__sub.wm	_sgx_map_pxl_y
         1E:DC55  38         			sec
         1E:DC56  ED C0 26   			sbc.l	_sgx_map_pxl_y
         1E:DC59  42         			say
         1E:DC5A  ED C1 26   			sbc.h	_sgx_map_pxl_y
         1E:DC5D  42         			say
 6673                        		__add.wi	32
         1E:DC5E  18         			clc
         1E:DC5F  69 20      			adc.l	#32
         1E:DC61  90 01      			bcc	!+
         1E:DC63  C8         			iny
         1E:DC64             	!:
 6674                        		__sgt_w.wi	0
         1E:DC64  18         			clc			; Subtract integer+1 from Y:A.
         1E:DC65  E9 00      			sbc.l	#0
         1E:DC67  98         			tya
         1E:DC68  E9 00      			sbc.h	#0
         1E:DC6A  50 02      			bvc	!+
         1E:DC6C  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1E:DC6E  49 80      	!:		eor	#$80
         1E:DC70  0A         			asl	a
 6675                        		__bfalse	.LL234
         1E:DC71  90 12      			bcc	.LL234
 6676                        	
 6677                        		.dbg	line,	"include\routines_LEVELS.c", 184; {
 6678                        	
 6679                        		.dbg	line,	"include\routines_LEVELS.c", 185; // WE STORE THE CHEST ID //
 6680                        	
 6681                        		.dbg	line,	"include\routines_LEVELS.c", 186; list_onscreen_chest[onscreen_chest_number] = i;
 6682                        		__ldx.umq	_onscreen_chest_number
         1E:DC73  AE A6 23   			ldx	_onscreen_chest_number
 6683                        		__ld.um		__scroll_chest_end - 1  /* i */
         1E:DC76  AD 79 26   			lda	__scroll_chest_end - 1
         1E:DC79  C2         			cly
 6684                        		__st.uaxq	_list_onscreen_chest
         1E:DC7A  9D AF 23   			sta	_list_onscreen_chest, x
 6685                        	
 6686                        		.dbg	line,	"include\routines_LEVELS.c", 187; onscreen_chest_number += 1;
 6687                        		__add_st.umiq	1, _onscreen_chest_number
         1E:DC7D  EE A6 23   			inc	_onscreen_chest_number
 6688                        	
 6689                        		.dbg	line,	"include\routines_LEVELS.c", 188; 
 6690                        	
 6691                        		.dbg	line,	"include\routines_LEVELS.c", 189; scroll_allowed = TRUE;
 6692                        		__st.umiq	1, __scroll_chest_end - 2  /* scroll_allowed */
         1E:DC80  A9 01      			lda.l	#1
         1E:DC82  8D 78 26   			sta	__scroll_chest_end - 2
 6693                        	
 6694                        		.dbg	line,	"include\routines_LEVELS.c", 190; }
 6695                        	
 6696                        		.dbg	line,	"include\routines_LEVELS.c", 191; }
 6697    1E:DC85             	.LL234:
 6698                        	
 6699                        		.dbg	line,	"include\routines_LEVELS.c", 192; }
 6700    1E:DC85             	.LL233:
 6701                        	
 6702                        		.dbg	line,	"include\routines_LEVELS.c", 193; }
 6703    1E:DC85             	.LL232:
 6704                        	
 6705                        		.dbg	line,	"include\routines_LEVELS.c", 195; // IF CHEST IS WITHIN THE SCREEN LIMITS //
 6706                        	
 6707                        		.dbg	line,	"include\routines_LEVELS.c", 196; if(scroll_allowed == TRUE)
 6708    1E:DC85             	.LL231:
 6709                        		__ld.umq	__scroll_chest_end - 2  /* scroll_allowed */
         1E:DC85  AD 78 26   			lda	__scroll_chest_end - 2
 6710                        		__equ_b.uiq	1
         1E:DC88  C9 01      			cmp	#1
         1E:DC8A  F0 01      			beq	!+
         1E:DC8C  18         			clc
         1E:DC8D             	!:
 6711                        		__bfalse	.LL235
         1E:DC8D  90 44      			bcc	.LL235
 6712                        	
 6713                        		.dbg	line,	"include\routines_LEVELS.c", 197; {
 6714                        	
 6715                        		.dbg	line,	"include\routines_LEVELS.c", 198; list_chest_x_pos[i] = list_chest_x_pos_ref[i] - sgx_map_pxl_x;
 6716                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1E:DC8F  AD 79 26   			lda	__scroll_chest_end - 1
         1E:DC92  0A         			asl	a
         1E:DC93  AA         			tax
 6717                        		__ld.wax	_list_chest_x_pos_ref
         1E:DC94  BD CD 25   			lda.l	_list_chest_x_pos_ref, x
         1E:DC97  BC CE 25   			ldy.h	_list_chest_x_pos_ref, x
 6718                        		__sub.wm	_sgx_map_pxl_x
         1E:DC9A  38         			sec
         1E:DC9B  ED BE 26   			sbc.l	_sgx_map_pxl_x
         1E:DC9E  42         			say
         1E:DC9F  ED BF 26   			sbc.h	_sgx_map_pxl_x
         1E:DCA2  42         			say
 6719                        		__ld2x.um	__scroll_chest_end - 1  /* i */
         1E:DCA3  AA         			tax
         1E:DCA4  AD 79 26   			lda	__scroll_chest_end - 1
         1E:DCA7  0A         			asl	a
         1E:DCA8  22         			sax
 6720                        		__st.waxq	_list_chest_x_pos
         1E:DCA9  9D AD 25   			sta.l	_list_chest_x_pos, x
         1E:DCAC  98         			tya
         1E:DCAD  9D AE 25   			sta.h	_list_chest_x_pos, x
 6721                        	
 6722                        		.dbg	line,	"include\routines_LEVELS.c", 199; list_chest_y_pos[i] = list_chest_y_pos_ref[i] - sgx_map_pxl_y;
 6723                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1E:DCB0  AD 79 26   			lda	__scroll_chest_end - 1
         1E:DCB3  0A         			asl	a
         1E:DCB4  AA         			tax
 6724                        		__ld.wax	_list_chest_y_pos_ref
         1E:DCB5  BD DD 25   			lda.l	_list_chest_y_pos_ref, x
         1E:DCB8  BC DE 25   			ldy.h	_list_chest_y_pos_ref, x
 6725                        		__sub.wm	_sgx_map_pxl_y
         1E:DCBB  38         			sec
         1E:DCBC  ED C0 26   			sbc.l	_sgx_map_pxl_y
         1E:DCBF  42         			say
         1E:DCC0  ED C1 26   			sbc.h	_sgx_map_pxl_y
         1E:DCC3  42         			say
 6726                        		__ld2x.um	__scroll_chest_end - 1  /* i */
         1E:DCC4  AA         			tax
         1E:DCC5  AD 79 26   			lda	__scroll_chest_end - 1
         1E:DCC8  0A         			asl	a
         1E:DCC9  22         			sax
 6727                        		__st.waxq	_list_chest_y_pos
         1E:DCCA  9D BD 25   			sta.l	_list_chest_y_pos, x
         1E:DCCD  98         			tya
         1E:DCCE  9D BE 25   			sta.h	_list_chest_y_pos, x
 6728                        	
 6729                        		.dbg	line,	"include\routines_LEVELS.c", 200; }
 6730                        	
 6731                        		.dbg	line,	"include\routines_LEVELS.c", 202; else
 6732                        		__bra		.LL236
         1E:DCD1  80 1E      			bra	.LL236
 6733    1E:DCD3             	.LL235:
 6734                        	
 6735                        		.dbg	line,	"include\routines_LEVELS.c", 203; {
 6736                        	
 6737                        		.dbg	line,	"include\routines_LEVELS.c", 204; list_chest_x_pos[i] = -32;
 6738                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1E:DCD3  AD 79 26   			lda	__scroll_chest_end - 1
         1E:DCD6  0A         			asl	a
         1E:DCD7  AA         			tax
 6739                        		__st.waxiq	-32, _list_chest_x_pos
         1E:DCD8  A9 E0      			lda.l	#-32
         1E:DCDA  9D AD 25   			sta.l	_list_chest_x_pos, x
         1E:DCDD  A9 FF      			lda.h	#-32
         1E:DCDF  9D AE 25   			sta.h	_list_chest_x_pos, x
 6740                        	
 6741                        		.dbg	line,	"include\routines_LEVELS.c", 205; list_chest_y_pos[i] = -32;
 6742                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1E:DCE2  AD 79 26   			lda	__scroll_chest_end - 1
         1E:DCE5  0A         			asl	a
         1E:DCE6  AA         			tax
 6743                        		__st.waxiq	-32, _list_chest_y_pos
         1E:DCE7  A9 E0      			lda.l	#-32
         1E:DCE9  9D BD 25   			sta.l	_list_chest_y_pos, x
         1E:DCEC  A9 FF      			lda.h	#-32
         1E:DCEE  9D BE 25   			sta.h	_list_chest_y_pos, x
 6744                        	
 6745                        		.dbg	line,	"include\routines_LEVELS.c", 206; }
 6746    1E:DCF1             	.LL236:
 6747                        	
 6748                        		.dbg	line,	"include\routines_LEVELS.c", 208; sgx_spr_set(i + chest_start_index);
 6749                        		__ld.um		__scroll_chest_end - 1  /* i */
         1E:DCF1  AD 79 26   			lda	__scroll_chest_end - 1
         1E:DCF4  C2         			cly
 6750                        		__add.um	_chest_start_index
         1E:DCF5  18         			clc
         1E:DCF6  6D A4 23   			adc	_chest_start_index
         1E:DCF9  90 01      			bcc	!+
         1E:DCFB  C8         			iny
         1E:DCFC             	!:
 6751                        		__call		_sgx_spr_set.1
         1E:DCFC  20 8A E8   			call	_sgx_spr_set.1
 6752                        	
 6753                        		.dbg	line,	"include\routines_LEVELS.c", 210; sgx_spr_x(list_chest_x_pos[i]);
 6754                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1E:DCFF  AD 79 26   			lda	__scroll_chest_end - 1
         1E:DD02  0A         			asl	a
         1E:DD03  AA         			tax
 6755                        		__ld.wax	_list_chest_x_pos
         1E:DD04  BD AD 25   			lda.l	_list_chest_x_pos, x
         1E:DD07  BC AE 25   			ldy.h	_list_chest_x_pos, x
 6756                        		__call		_sgx_spr_x.1
         1E:DD0A  20 B7 E8   			call	_sgx_spr_x.1
 6757                        	
 6758                        		.dbg	line,	"include\routines_LEVELS.c", 211; sgx_spr_y(list_chest_y_pos[i]);
 6759                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1E:DD0D  AD 79 26   			lda	__scroll_chest_end - 1
         1E:DD10  0A         			asl	a
         1E:DD11  AA         			tax
 6760                        		__ld.wax	_list_chest_y_pos
         1E:DD12  BD BD 25   			lda.l	_list_chest_y_pos, x
         1E:DD15  BC BE 25   			ldy.h	_list_chest_y_pos, x
 6761                        		__call		_sgx_spr_y.1
         1E:DD18  20 C6 E8   			call	_sgx_spr_y.1
 6762                        	
 6763                        		.dbg	line,	"include\routines_LEVELS.c", 212; }
 6764                        	
 6765                        		.dbg	line,	"include\routines_LEVELS.c", 213; }
 6766    1E:DD1B             	.LL230	.alias		.LL227
 6767                        		__bra		.LL227
         1E:DD1B  4C CF DB   			bra	.LL227
 6768    1E:DD1E             	.LL229:
 6769                        	
 6770                        		.dbg	line,	"include\routines_LEVELS.c", 214; }
 6771    1E:DD1E             	.LL225:
 6772                        		__return	0
         1E:DD1E  4C EF FF   			jmp	leave_proc
 6773                        		.dbg	clear
 6774                        		.endp
 6775                        		.pceas
 6776                        	
 6777                        		.dbg	line,	"include\routines_LEVELS.c", 217; void scroll_npc()
 6778                        		.dbg	line,	"include\routines_LEVELS.c", 218; {
 6779                        	;***********************
 6780                        	;***********************
 6781                        	
 6782                        		.hucc
 6783    1E:DD21             		.proc		_scroll_npc
 6784                        		__enter		_scroll_npc
 6785                        	
 6786                        		.dbg	line,	"include\routines_LEVELS.c", 219; char i;
 6787                        	
 6788                        		.dbg	line,	"include\routines_LEVELS.c", 220; onscreen_npc_number = 0;
 6789                        		__st.umiq	0, _onscreen_npc_number
         1E:DD21  9C B9 23   			stz	_onscreen_npc_number
 6790                        	
 6791                        		.dbg	line,	"include\routines_LEVELS.c", 222; for(i=0 ; i<level_npc_number ; i++)
 6792                        		__st.umiq	0, __scroll_npc_end - 1  /* i */
         1E:DD24  9C 79 26   			stz	__scroll_npc_end - 1
 6793    1E:DD27             	.LL238:
 6794                        		__ld.umq	__scroll_npc_end - 1  /* i */
         1E:DD27  AD 79 26   			lda	__scroll_npc_end - 1
 6795                        		__ult_b.umq	_level_npc_number
         1E:DD2A  CD B8 23   			cmp	_level_npc_number		; Subtract memory from A.
         1E:DD2D  6A         			ror	a		; CC if A < memory.
         1E:DD2E  49 80      			eor	#$80
         1E:DD30  2A         			rol	a
 6796                        		__btrue		.LL240
         1E:DD31  B0 08      			bcs	.LL240
 6797                        		__bra		.LL241
         1E:DD33  4C 85 DE   			bra	.LL241
 6798    1E:DD36             	.LL239:
 6799                        		__inc.umq	__scroll_npc_end - 1  /* i */
         1E:DD36  EE 79 26   			inc	__scroll_npc_end - 1
 6800                        		__bra		.LL238
         1E:DD39  80 EC      			bra	.LL238
 6801    1E:DD3B             	.LL240:
 6802                        	
 6803                        		.dbg	line,	"include\routines_LEVELS.c", 223; {
 6804                        	
 6805                        		.dbg	line,	"include\routines_LEVELS.c", 224; if(list_npc_state[i] != STATE_INACTIVE)
 6806                        		__ldx.umq	__scroll_npc_end - 1  /* i */
         1E:DD3B  AE 79 26   			ldx	__scroll_npc_end - 1
 6807                        		__ld.uaxq	_list_npc_state
         1E:DD3E  BD C3 23   			lda	_list_npc_state, x
 6808                        		__neq_b.uiq	1
         1E:DD41  38         			sec
         1E:DD42  49 01      			eor	#1
         1E:DD44  D0 01      			bne	!+
         1E:DD46  18         			clc
         1E:DD47             	!:
 6809                        		__bfalse	.LL242
         1E:DD47  90 ED      			bcc	.LL242
 6810                        	
 6811                        		.dbg	line,	"include\routines_LEVELS.c", 225; {
 6812                        	
 6813                        		.dbg	line,	"include\routines_LEVELS.c", 226; char scroll_allowed = FALSE;
 6814                        		__st.umiq	0, __scroll_npc_end - 2  /* scroll_allowed */
         1E:DD49  9C 78 26   			stz	__scroll_npc_end - 2
 6815                        	
 6816                        		.dbg	line,	"include\routines_LEVELS.c", 227; 
 6817                        	
 6818                        		.dbg	line,	"include\routines_LEVELS.c", 228; // IF NPC X POSITION IS INFERIOR TO SCREEN RIGHT SIDE //
 6819                        	
 6820                        		.dbg	line,	"include\routines_LEVELS.c", 229; if(list_npc_x_pos_ref[i] < sgx_map_pxl_x + 256)
 6821                        		__ld.wm		_sgx_map_pxl_x
         1E:DD4C  AD BE 26   			lda.l	_sgx_map_pxl_x
         1E:DD4F  AC BF 26   			ldy.h	_sgx_map_pxl_x
 6822                        		__add.wi	256
         1E:DD52  18         			clc
         1E:DD53  69 00      			adc.l	#256
         1E:DD55  42         			say
         1E:DD56  69 01      			adc.h	#256
         1E:DD58  42         			say
 6823                        		__ld2x.um	__scroll_npc_end - 1  /* i */
         1E:DD59  AA         			tax
         1E:DD5A  AD 79 26   			lda	__scroll_npc_end - 1
         1E:DD5D  0A         			asl	a
         1E:DD5E  22         			sax
 6824                        		__ugt_w.wax	_list_npc_x_pos_ref
         1E:DD5F  18         			clc			; Subtract memory+1 from Y:A.
         1E:DD60  FD 11 26   			sbc.l	_list_npc_x_pos_ref, x
         1E:DD63  98         			tya
         1E:DD64  FD 12 26   			sbc.h	_list_npc_x_pos_ref, x		; CS if Y:A > memory.
 6825                        		__bfalse	.LL243
         1E:DD67  B0 03 4C EC			bcc	.LL243
         1E:DD6B  DD          
 6826                        	
 6827                        		.dbg	line,	"include\routines_LEVELS.c", 230; {
 6828                        	
 6829                        		.dbg	line,	"include\routines_LEVELS.c", 231; // IF NPC X POSITION IS SUPERIOR TO SCREEN LEFT SIDE PLUS 32 PX //
 6830                        	
 6831                        		.dbg	line,	"include\routines_LEVELS.c", 232; if(list_npc_x_pos_ref[i] - sgx_map_pxl_x + 32 > 0)
 6832                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1E:DD6C  AD 79 26   			lda	__scroll_npc_end - 1
         1E:DD6F  0A         			asl	a
         1E:DD70  AA         			tax
 6833                        		__ld.wax	_list_npc_x_pos_ref
         1E:DD71  BD 11 26   			lda.l	_list_npc_x_pos_ref, x
         1E:DD74  BC 12 26   			ldy.h	_list_npc_x_pos_ref, x
 6834                        		__sub.wm	_sgx_map_pxl_x
         1E:DD77  38         			sec
         1E:DD78  ED BE 26   			sbc.l	_sgx_map_pxl_x
         1E:DD7B  42         			say
         1E:DD7C  ED BF 26   			sbc.h	_sgx_map_pxl_x
         1E:DD7F  42         			say
 6835                        		__add.wi	32
         1E:DD80  18         			clc
         1E:DD81  69 20      			adc.l	#32
         1E:DD83  90 01      			bcc	!+
         1E:DD85  C8         			iny
         1E:DD86             	!:
 6836                        		__sgt_w.wi	0
         1E:DD86  18         			clc			; Subtract integer+1 from Y:A.
         1E:DD87  E9 00      			sbc.l	#0
         1E:DD89  98         			tya
         1E:DD8A  E9 00      			sbc.h	#0
         1E:DD8C  50 02      			bvc	!+
         1E:DD8E  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1E:DD90  49 80      	!:		eor	#$80
         1E:DD92  0A         			asl	a
 6837                        		__bfalse	.LL244
         1E:DD93  90 57      			bcc	.LL244
 6838                        	
 6839                        		.dbg	line,	"include\routines_LEVELS.c", 233; {
 6840                        	
 6841                        		.dbg	line,	"include\routines_LEVELS.c", 234; // IF NPC Y POSITION IS INFERIOR TO SCREEN BOTTOM //
 6842                        	
 6843                        		.dbg	line,	"include\routines_LEVELS.c", 235; if(list_npc_y_pos_ref[i] < sgx_map_pxl_y + 224)
 6844                        		__ld.wm		_sgx_map_pxl_y
         1E:DD95  AD C0 26   			lda.l	_sgx_map_pxl_y
         1E:DD98  AC C1 26   			ldy.h	_sgx_map_pxl_y
 6845                        		__add.wi	224
         1E:DD9B  18         			clc
         1E:DD9C  69 E0      			adc.l	#224
         1E:DD9E  90 01      			bcc	!+
         1E:DDA0  C8         			iny
         1E:DDA1             	!:
 6846                        		__ld2x.um	__scroll_npc_end - 1  /* i */
         1E:DDA1  AA         			tax
         1E:DDA2  AD 79 26   			lda	__scroll_npc_end - 1
         1E:DDA5  0A         			asl	a
         1E:DDA6  22         			sax
 6847                        		__ugt_w.wax	_list_npc_y_pos_ref
         1E:DDA7  18         			clc			; Subtract memory+1 from Y:A.
         1E:DDA8  FD 23 26   			sbc.l	_list_npc_y_pos_ref, x
         1E:DDAB  98         			tya
         1E:DDAC  FD 24 26   			sbc.h	_list_npc_y_pos_ref, x		; CS if Y:A > memory.
 6848                        		__bfalse	.LL245
         1E:DDAF  90 3B      			bcc	.LL245
 6849                        	
 6850                        		.dbg	line,	"include\routines_LEVELS.c", 236; {
 6851                        	
 6852                        		.dbg	line,	"include\routines_LEVELS.c", 237; // IF NPC Y POSITION IS SUPERIOR TO SCREEN TOP PLUS 32 PX //
 6853                        	
 6854                        		.dbg	line,	"include\routines_LEVELS.c", 238; if(list_npc_y_pos_ref[i] - sgx_map_pxl_y + 32 > 0)
 6855                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1E:DDB1  AD 79 26   			lda	__scroll_npc_end - 1
         1E:DDB4  0A         			asl	a
         1E:DDB5  AA         			tax
 6856                        		__ld.wax	_list_npc_y_pos_ref
         1E:DDB6  BD 23 26   			lda.l	_list_npc_y_pos_ref, x
         1E:DDB9  BC 24 26   			ldy.h	_list_npc_y_pos_ref, x
 6857                        		__sub.wm	_sgx_map_pxl_y
         1E:DDBC  38         			sec
         1E:DDBD  ED C0 26   			sbc.l	_sgx_map_pxl_y
         1E:DDC0  42         			say
         1E:DDC1  ED C1 26   			sbc.h	_sgx_map_pxl_y
         1E:DDC4  42         			say
 6858                        		__add.wi	32
         1E:DDC5  18         			clc
         1E:DDC6  69 20      			adc.l	#32
         1E:DDC8  90 01      			bcc	!+
         1E:DDCA  C8         			iny
         1E:DDCB             	!:
 6859                        		__sgt_w.wi	0
         1E:DDCB  18         			clc			; Subtract integer+1 from Y:A.
         1E:DDCC  E9 00      			sbc.l	#0
         1E:DDCE  98         			tya
         1E:DDCF  E9 00      			sbc.h	#0
         1E:DDD1  50 02      			bvc	!+
         1E:DDD3  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1E:DDD5  49 80      	!:		eor	#$80
         1E:DDD7  0A         			asl	a
 6860                        		__bfalse	.LL246
         1E:DDD8  90 12      			bcc	.LL246
 6861                        	
 6862                        		.dbg	line,	"include\routines_LEVELS.c", 239; {
 6863                        	
 6864                        		.dbg	line,	"include\routines_LEVELS.c", 240; // WE STORE THE NPC ID //
 6865                        	
 6866                        		.dbg	line,	"include\routines_LEVELS.c", 241; list_onscreen_npc[onscreen_npc_number] = i;
 6867                        		__ldx.umq	_onscreen_npc_number
         1E:DDDA  AE B9 23   			ldx	_onscreen_npc_number
 6868                        		__ld.um		__scroll_npc_end - 1  /* i */
         1E:DDDD  AD 79 26   			lda	__scroll_npc_end - 1
         1E:DDE0  C2         			cly
 6869                        		__st.uaxq	_list_onscreen_npc
         1E:DDE1  9D CC 23   			sta	_list_onscreen_npc, x
 6870                        	
 6871                        		.dbg	line,	"include\routines_LEVELS.c", 242; onscreen_npc_number += 1;
 6872                        		__add_st.umiq	1, _onscreen_npc_number
         1E:DDE4  EE B9 23   			inc	_onscreen_npc_number
 6873                        	
 6874                        		.dbg	line,	"include\routines_LEVELS.c", 243; 
 6875                        	
 6876                        		.dbg	line,	"include\routines_LEVELS.c", 244; scroll_allowed = TRUE;
 6877                        		__st.umiq	1, __scroll_npc_end - 2  /* scroll_allowed */
         1E:DDE7  A9 01      			lda.l	#1
         1E:DDE9  8D 78 26   			sta	__scroll_npc_end - 2
 6878                        	
 6879                        		.dbg	line,	"include\routines_LEVELS.c", 245; }
 6880                        	
 6881                        		.dbg	line,	"include\routines_LEVELS.c", 246; }
 6882    1E:DDEC             	.LL246:
 6883                        	
 6884                        		.dbg	line,	"include\routines_LEVELS.c", 247; }
 6885    1E:DDEC             	.LL245:
 6886                        	
 6887                        		.dbg	line,	"include\routines_LEVELS.c", 248; }
 6888    1E:DDEC             	.LL244:
 6889                        	
 6890                        		.dbg	line,	"include\routines_LEVELS.c", 250; // IF NPC IS WITHIN THE SCREEN LIMITS //
 6891                        	
 6892                        		.dbg	line,	"include\routines_LEVELS.c", 251; if(scroll_allowed == TRUE)
 6893    1E:DDEC             	.LL243:
 6894                        		__ld.umq	__scroll_npc_end - 2  /* scroll_allowed */
         1E:DDEC  AD 78 26   			lda	__scroll_npc_end - 2
 6895                        		__equ_b.uiq	1
         1E:DDEF  C9 01      			cmp	#1
         1E:DDF1  F0 01      			beq	!+
         1E:DDF3  18         			clc
         1E:DDF4             	!:
 6896                        		__bfalse	.LL247
         1E:DDF4  90 44      			bcc	.LL247
 6897                        	
 6898                        		.dbg	line,	"include\routines_LEVELS.c", 252; {
 6899                        	
 6900                        		.dbg	line,	"include\routines_LEVELS.c", 253; list_npc_x_pos[i] = list_npc_x_pos_ref[i] - sgx_map_pxl_x;
 6901                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1E:DDF6  AD 79 26   			lda	__scroll_npc_end - 1
         1E:DDF9  0A         			asl	a
         1E:DDFA  AA         			tax
 6902                        		__ld.wax	_list_npc_x_pos_ref
         1E:DDFB  BD 11 26   			lda.l	_list_npc_x_pos_ref, x
         1E:DDFE  BC 12 26   			ldy.h	_list_npc_x_pos_ref, x
 6903                        		__sub.wm	_sgx_map_pxl_x
         1E:DE01  38         			sec
         1E:DE02  ED BE 26   			sbc.l	_sgx_map_pxl_x
         1E:DE05  42         			say
         1E:DE06  ED BF 26   			sbc.h	_sgx_map_pxl_x
         1E:DE09  42         			say
 6904                        		__ld2x.um	__scroll_npc_end - 1  /* i */
         1E:DE0A  AA         			tax
         1E:DE0B  AD 79 26   			lda	__scroll_npc_end - 1
         1E:DE0E  0A         			asl	a
         1E:DE0F  22         			sax
 6905                        		__st.waxq	_list_npc_x_pos
         1E:DE10  9D ED 25   			sta.l	_list_npc_x_pos, x
         1E:DE13  98         			tya
         1E:DE14  9D EE 25   			sta.h	_list_npc_x_pos, x
 6906                        	
 6907                        		.dbg	line,	"include\routines_LEVELS.c", 254; list_npc_y_pos[i] = list_npc_y_pos_ref[i] - sgx_map_pxl_y;
 6908                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1E:DE17  AD 79 26   			lda	__scroll_npc_end - 1
         1E:DE1A  0A         			asl	a
         1E:DE1B  AA         			tax
 6909                        		__ld.wax	_list_npc_y_pos_ref
         1E:DE1C  BD 23 26   			lda.l	_list_npc_y_pos_ref, x
         1E:DE1F  BC 24 26   			ldy.h	_list_npc_y_pos_ref, x
 6910                        		__sub.wm	_sgx_map_pxl_y
         1E:DE22  38         			sec
         1E:DE23  ED C0 26   			sbc.l	_sgx_map_pxl_y
         1E:DE26  42         			say
         1E:DE27  ED C1 26   			sbc.h	_sgx_map_pxl_y
         1E:DE2A  42         			say
 6911                        		__ld2x.um	__scroll_npc_end - 1  /* i */
         1E:DE2B  AA         			tax
         1E:DE2C  AD 79 26   			lda	__scroll_npc_end - 1
         1E:DE2F  0A         			asl	a
         1E:DE30  22         			sax
 6912                        		__st.waxq	_list_npc_y_pos
         1E:DE31  9D FF 25   			sta.l	_list_npc_y_pos, x
         1E:DE34  98         			tya
         1E:DE35  9D 00 26   			sta.h	_list_npc_y_pos, x
 6913                        	
 6914                        		.dbg	line,	"include\routines_LEVELS.c", 255; }
 6915                        	
 6916                        		.dbg	line,	"include\routines_LEVELS.c", 257; else
 6917                        		__bra		.LL248
         1E:DE38  80 1E      			bra	.LL248
 6918    1E:DE3A             	.LL247:
 6919                        	
 6920                        		.dbg	line,	"include\routines_LEVELS.c", 258; {
 6921                        	
 6922                        		.dbg	line,	"include\routines_LEVELS.c", 259; list_npc_x_pos[i] = -32;
 6923                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1E:DE3A  AD 79 26   			lda	__scroll_npc_end - 1
         1E:DE3D  0A         			asl	a
         1E:DE3E  AA         			tax
 6924                        		__st.waxiq	-32, _list_npc_x_pos
         1E:DE3F  A9 E0      			lda.l	#-32
         1E:DE41  9D ED 25   			sta.l	_list_npc_x_pos, x
         1E:DE44  A9 FF      			lda.h	#-32
         1E:DE46  9D EE 25   			sta.h	_list_npc_x_pos, x
 6925                        	
 6926                        		.dbg	line,	"include\routines_LEVELS.c", 260; list_npc_y_pos[i] = -32;
 6927                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1E:DE49  AD 79 26   			lda	__scroll_npc_end - 1
         1E:DE4C  0A         			asl	a
         1E:DE4D  AA         			tax
 6928                        		__st.waxiq	-32, _list_npc_y_pos
         1E:DE4E  A9 E0      			lda.l	#-32
         1E:DE50  9D FF 25   			sta.l	_list_npc_y_pos, x
         1E:DE53  A9 FF      			lda.h	#-32
         1E:DE55  9D 00 26   			sta.h	_list_npc_y_pos, x
 6929                        	
 6930                        		.dbg	line,	"include\routines_LEVELS.c", 261; }
 6931    1E:DE58             	.LL248:
 6932                        	
 6933                        		.dbg	line,	"include\routines_LEVELS.c", 263; sgx_spr_set(i + npc_start_index);
 6934                        		__ld.um		__scroll_npc_end - 1  /* i */
         1E:DE58  AD 79 26   			lda	__scroll_npc_end - 1
         1E:DE5B  C2         			cly
 6935                        		__add.um	_npc_start_index
         1E:DE5C  18         			clc
         1E:DE5D  6D B7 23   			adc	_npc_start_index
         1E:DE60  90 01      			bcc	!+
         1E:DE62  C8         			iny
         1E:DE63             	!:
 6936                        		__call		_sgx_spr_set.1
         1E:DE63  20 8A E8   			call	_sgx_spr_set.1
 6937                        	
 6938                        		.dbg	line,	"include\routines_LEVELS.c", 265; sgx_spr_x(list_npc_x_pos[i]);
 6939                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1E:DE66  AD 79 26   			lda	__scroll_npc_end - 1
         1E:DE69  0A         			asl	a
         1E:DE6A  AA         			tax
 6940                        		__ld.wax	_list_npc_x_pos
         1E:DE6B  BD ED 25   			lda.l	_list_npc_x_pos, x
         1E:DE6E  BC EE 25   			ldy.h	_list_npc_x_pos, x
 6941                        		__call		_sgx_spr_x.1
         1E:DE71  20 B7 E8   			call	_sgx_spr_x.1
 6942                        	
 6943                        		.dbg	line,	"include\routines_LEVELS.c", 266; sgx_spr_y(list_npc_y_pos[i]);
 6944                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1E:DE74  AD 79 26   			lda	__scroll_npc_end - 1
         1E:DE77  0A         			asl	a
         1E:DE78  AA         			tax
 6945                        		__ld.wax	_list_npc_y_pos
         1E:DE79  BD FF 25   			lda.l	_list_npc_y_pos, x
         1E:DE7C  BC 00 26   			ldy.h	_list_npc_y_pos, x
 6946                        		__call		_sgx_spr_y.1
         1E:DE7F  20 C6 E8   			call	_sgx_spr_y.1
 6947                        	
 6948                        		.dbg	line,	"include\routines_LEVELS.c", 267; }
 6949                        	
 6950                        		.dbg	line,	"include\routines_LEVELS.c", 268; }
 6951    1E:DE82             	.LL242	.alias		.LL239
 6952                        		__bra		.LL239
         1E:DE82  4C 36 DD   			bra	.LL239
 6953    1E:DE85             	.LL241:
 6954                        	
 6955                        		.dbg	line,	"include\routines_LEVELS.c", 269; }
 6956    1E:DE85             	.LL237:
 6957                        		__return	0
         1E:DE85  4C EF FF   			jmp	leave_proc
 6958                        		.dbg	clear
 6959                        		.endp
 6960                        		.pceas
 6961                        	
 6962                        		.dbg	line,	"include\routines_LEVELS.c", 274; int check_TILE_DEPTH(signed char x_offset , signed char y_offset)
 6963                        		.dbg	line,	"include\routines_LEVELS.c", 275; {
 6964                        	;***********************
 6965                        	;***********************
 6966                        	
 6967                        		.hucc
 6968    1D:DF86             		.proc		_check_TILE_DEPTH
 6969                        		__enter		_check_TILE_DEPTH
 6970                        	
 6971                        		.dbg	line,	"include\routines_LEVELS.c", 276; int player_COLL_X;
 6972                        	
 6973                        		.dbg	line,	"include\routines_LEVELS.c", 277; int player_COLL_Y;
 6974                        	
 6975                        		.dbg	line,	"include\routines_LEVELS.c", 280; player_COLL_X = player_pos_x + x_offset;
 6976                        		__ld.bs		2  /* x_offset */
         1D:DF86  A6 8D      			ldx	<__sp
         1D:DF88  B5 0A      			lda	<__stack + 2, x
         1D:DF8A  C2         			cly
         1D:DF8B  10 01      			bpl	!+	; signed
         1D:DF8D  88         			dey
         1D:DF8E             	!:
 6977                        		__add.wm	_player_pos_x
         1D:DF8E  18         			clc
         1D:DF8F  6D DB 24   			adc.l	_player_pos_x
         1D:DF92  42         			say
         1D:DF93  6D DC 24   			adc.h	_player_pos_x
         1D:DF96  42         			say
 6978                        		__st.wmq	__check_TILE_DEPTH_end - 2  /* player_COLL_X */
         1D:DF97  8D 78 26   			sta.l	__check_TILE_DEPTH_end - 2
         1D:DF9A  8C 79 26   			sty.h	__check_TILE_DEPTH_end - 2
 6979                        	
 6980                        		.dbg	line,	"include\routines_LEVELS.c", 281; player_COLL_Y = player_pos_y + 32 - y_offset;//32
 6981                        		__ld.wm		_player_pos_y
         1D:DF9D  AD DD 24   			lda.l	_player_pos_y
         1D:DFA0  AC DE 24   			ldy.h	_player_pos_y
 6982                        		__add.wi	32
         1D:DFA3  18         			clc
         1D:DFA4  69 20      			adc.l	#32
         1D:DFA6  90 01      			bcc	!+
         1D:DFA8  C8         			iny
         1D:DFA9             	!:
 6983                        		__push.wr
         1D:DFA9  5A         			phy
         1D:DFAA  48         			pha
 6984                        		__ld.bs		0  /* y_offset */
         1D:DFAB  A6 8D      			ldx	<__sp
         1D:DFAD  B5 08      			lda	<__stack + 0, x
         1D:DFAF  C2         			cly
         1D:DFB0  10 01      			bpl	!+	; signed
         1D:DFB2  88         			dey
         1D:DFB3             	!:
 6985                        		__sub.wt
         1D:DFB3  BA         			tsx
         1D:DFB4  38         			sec
         1D:DFB5  49 FF      			eor	#$FF
         1D:DFB7  7D 01 21   			adc.l	__tos, x
         1D:DFBA  42         			say
         1D:DFBB  49 FF      			eor	#$FF
         1D:DFBD  7D 02 21   			adc.h	__tos, x
         1D:DFC0  42         			say
         1D:DFC1  E8         			inx
         1D:DFC2  E8         			inx
         1D:DFC3  9A         			txs
 6986                        		__st.wmq	__check_TILE_DEPTH_end - 4  /* player_COLL_Y */
         1D:DFC4  8D 76 26   			sta.l	__check_TILE_DEPTH_end - 4
         1D:DFC7  8C 77 26   			sty.h	__check_TILE_DEPTH_end - 4
 6987                        	
 6988                        		.dbg	line,	"include\routines_LEVELS.c", 283; get_map_block(player_COLL_X + sgx_map_pxl_x, player_COLL_Y + sgx_map_pxl_y);
 6989                        		__ld.wm		__check_TILE_DEPTH_end - 2  /* player_COLL_X */
         1D:DFCA  AD 78 26   			lda.l	__check_TILE_DEPTH_end - 2
         1D:DFCD  AC 79 26   			ldy.h	__check_TILE_DEPTH_end - 2
 6990                        		__add.wm	_sgx_map_pxl_x
         1D:DFD0  18         			clc
         1D:DFD1  6D BE 26   			adc.l	_sgx_map_pxl_x
         1D:DFD4  42         			say
         1D:DFD5  6D BF 26   			adc.h	_sgx_map_pxl_x
         1D:DFD8  42         			say
 6991                        		__st.wmq	map_pxl_x
         1D:DFD9  85 FC      			sta.l	map_pxl_x
         1D:DFDB  84 FD      			sty.h	map_pxl_x
 6992                        		__ld.wm		__check_TILE_DEPTH_end - 4  /* player_COLL_Y */
         1D:DFDD  AD 76 26   			lda.l	__check_TILE_DEPTH_end - 4
         1D:DFE0  AC 77 26   			ldy.h	__check_TILE_DEPTH_end - 4
 6993                        		__add.wm	_sgx_map_pxl_y
         1D:DFE3  18         			clc
         1D:DFE4  6D C0 26   			adc.l	_sgx_map_pxl_y
         1D:DFE7  42         			say
         1D:DFE8  6D C1 26   			adc.h	_sgx_map_pxl_y
         1D:DFEB  42         			say
 6994                        		__st.wmq	map_pxl_y
         1D:DFEC  85 FE      			sta.l	map_pxl_y
         1D:DFEE  84 FF      			sty.h	map_pxl_y
 6995                        		__call		_get_map_block.2
         1D:DFF0  20 63 FF   			call	_get_map_block.2
 6996                        	
 6997                        		.dbg	line,	"include\routines_LEVELS.c", 284; }
 6998    1D:DFF3             	.LL249:
 6999                        		__modsp		4
         1D:DFF3  AA         			tax
         1D:DFF4  A5 8D      			lda	<__sp
         1D:DFF6  18         			clc
         1D:DFF7  69 04      			adc	#4
         1D:DFF9  85 8D      			sta	<__sp
         1D:DFFB  8A         			txa
 7000                        		__return	1
         1D:DFFC  AA         			tax
         1D:DFFD  4C EF FF   			jmp	leave_proc
 7001                        		.dbg	clear
 7002                        		.endp
 7003                        		.pceas
 7004                        	
 7005                        		.dbg	line,	"include\routines_LEVELS.c", 286; // CHECK COLLISION WITH BG //
 7006                        		.dbg	line,	"include\routines_LEVELS.c", 287; int check_BG(signed char x_offset , signed char y_offset)
 7007                        		.dbg	line,	"include\routines_LEVELS.c", 288; {
 7008                        	;***********************
 7009                        	;***********************
 7010                        	
 7011                        		.hucc
 7012    1F:CA69             		.proc		_check_BG
 7013                        		__enter		_check_BG
 7014                        	
 7015                        		.dbg	line,	"include\routines_LEVELS.c", 289; int player_COLL_X;
 7016                        	
 7017                        		.dbg	line,	"include\routines_LEVELS.c", 290; int player_COLL_Y;
 7018                        	
 7019                        		.dbg	line,	"include\routines_LEVELS.c", 293; player_COLL_X = player_pos_x + x_offset;
 7020                        		__ld.bs		2  /* x_offset */
         1F:CA69  A6 8D      			ldx	<__sp
         1F:CA6B  B5 0A      			lda	<__stack + 2, x
         1F:CA6D  C2         			cly
         1F:CA6E  10 01      			bpl	!+	; signed
         1F:CA70  88         			dey
         1F:CA71             	!:
 7021                        		__add.wm	_player_pos_x
         1F:CA71  18         			clc
         1F:CA72  6D DB 24   			adc.l	_player_pos_x
         1F:CA75  42         			say
         1F:CA76  6D DC 24   			adc.h	_player_pos_x
         1F:CA79  42         			say
 7022                        		__st.wmq	__check_BG_end - 2  /* player_COLL_X */
         1F:CA7A  8D 78 26   			sta.l	__check_BG_end - 2
         1F:CA7D  8C 79 26   			sty.h	__check_BG_end - 2
 7023                        	
 7024                        		.dbg	line,	"include\routines_LEVELS.c", 294; player_COLL_Y = player_pos_y + y_offset;
 7025                        		__ld.bs		0  /* y_offset */
         1F:CA80  A6 8D      			ldx	<__sp
         1F:CA82  B5 08      			lda	<__stack + 0, x
         1F:CA84  C2         			cly
         1F:CA85  10 01      			bpl	!+	; signed
         1F:CA87  88         			dey
         1F:CA88             	!:
 7026                        		__add.wm	_player_pos_y
         1F:CA88  18         			clc
         1F:CA89  6D DD 24   			adc.l	_player_pos_y
         1F:CA8C  42         			say
         1F:CA8D  6D DE 24   			adc.h	_player_pos_y
         1F:CA90  42         			say
 7027                        		__st.wmq	__check_BG_end - 4  /* player_COLL_Y */
         1F:CA91  8D 76 26   			sta.l	__check_BG_end - 4
         1F:CA94  8C 77 26   			sty.h	__check_BG_end - 4
 7028                        	
 7029                        		.dbg	line,	"include\routines_LEVELS.c", 296; get_map_block(player_COLL_X + sgx_map_pxl_x, player_COLL_Y + sgx_map_pxl_y);
 7030                        		__ld.wm		__check_BG_end - 2  /* player_COLL_X */
         1F:CA97  AD 78 26   			lda.l	__check_BG_end - 2
         1F:CA9A  AC 79 26   			ldy.h	__check_BG_end - 2
 7031                        		__add.wm	_sgx_map_pxl_x
         1F:CA9D  18         			clc
         1F:CA9E  6D BE 26   			adc.l	_sgx_map_pxl_x
         1F:CAA1  42         			say
         1F:CAA2  6D BF 26   			adc.h	_sgx_map_pxl_x
         1F:CAA5  42         			say
 7032                        		__st.wmq	map_pxl_x
         1F:CAA6  85 FC      			sta.l	map_pxl_x
         1F:CAA8  84 FD      			sty.h	map_pxl_x
 7033                        		__ld.wm		__check_BG_end - 4  /* player_COLL_Y */
         1F:CAAA  AD 76 26   			lda.l	__check_BG_end - 4
         1F:CAAD  AC 77 26   			ldy.h	__check_BG_end - 4
 7034                        		__add.wm	_sgx_map_pxl_y
         1F:CAB0  18         			clc
         1F:CAB1  6D C0 26   			adc.l	_sgx_map_pxl_y
         1F:CAB4  42         			say
         1F:CAB5  6D C1 26   			adc.h	_sgx_map_pxl_y
         1F:CAB8  42         			say
 7035                        		__st.wmq	map_pxl_y
         1F:CAB9  85 FE      			sta.l	map_pxl_y
         1F:CABB  84 FF      			sty.h	map_pxl_y
 7036                        		__call		_get_map_block.2
         1F:CABD  20 63 FF   			call	_get_map_block.2
 7037                        	
 7038                        		.dbg	line,	"include\routines_LEVELS.c", 297; }
 7039    1F:CAC0             	.LL250:
 7040                        		__modsp		4
         1F:CAC0  AA         			tax
         1F:CAC1  A5 8D      			lda	<__sp
         1F:CAC3  18         			clc
         1F:CAC4  69 04      			adc	#4
         1F:CAC6  85 8D      			sta	<__sp
         1F:CAC8  8A         			txa
 7041                        		__return	1
         1F:CAC9  AA         			tax
         1F:CACA  4C EF FF   			jmp	leave_proc
 7042                        		.dbg	clear
 7043                        		.endp
 7044                        		.pceas
 7045                        	
 7046                        		.dbg	line,	"include\routines_LEVELS.c", 299; // CHECK COLLISION WITH OBJECTS //
 7047                        		.dbg	line,	"include\routines_LEVELS.c", 300; void check_OBJECT()
 7048                        		.dbg	line,	"include\routines_LEVELS.c", 301; {
 7049                        	;***********************
 7050                        	;***********************
 7051                        	
 7052                        		.hucc
 7053    1D:DE02             		.proc		_check_OBJECT
 7054                        		__enter		_check_OBJECT
 7055                        	
 7056                        		.dbg	line,	"include\routines_LEVELS.c", 302; if(onscreen_object_number != 0)
 7057                        		__tst.um	_onscreen_object_number
         1D:DE02  AD 37 23   			lda	_onscreen_object_number
         1D:DE05  C9 01      			cmp	#1
 7058                        		__bfalse	.LL252
         1D:DE07  B0 03 4C 83			bcc	.LL252
         1D:DE0B  DF          
 7059                        	
 7060                        		.dbg	line,	"include\routines_LEVELS.c", 303; {
 7061                        	
 7062                        		.dbg	line,	"include\routines_LEVELS.c", 304; char i;
 7063                        	
 7064                        		.dbg	line,	"include\routines_LEVELS.c", 305; char current_object_id;
 7065                        	
 7066                        		.dbg	line,	"include\routines_LEVELS.c", 306; char current_object_type;
 7067                        	
 7068                        		.dbg	line,	"include\routines_LEVELS.c", 308; for(i=0 ; i<onscreen_object_number ; i++)
 7069                        		__st.umiq	0, __check_OBJECT_end - 1  /* i */
         1D:DE0C  9C 02 23   			stz	__check_OBJECT_end - 1
 7070    1D:DE0F             	.LL253:
 7071                        		__ld.umq	__check_OBJECT_end - 1  /* i */
         1D:DE0F  AD 02 23   			lda	__check_OBJECT_end - 1
 7072                        		__ult_b.umq	_onscreen_object_number
         1D:DE12  CD 37 23   			cmp	_onscreen_object_number		; Subtract memory from A.
         1D:DE15  6A         			ror	a		; CC if A < memory.
         1D:DE16  49 80      			eor	#$80
         1D:DE18  2A         			rol	a
 7073                        		__btrue		.LL255
         1D:DE19  B0 08      			bcs	.LL255
 7074                        		__bra		.LL256
         1D:DE1B  4C 83 DF   			bra	.LL256
 7075    1D:DE1E             	.LL254:
 7076                        		__inc.umq	__check_OBJECT_end - 1  /* i */
         1D:DE1E  EE 02 23   			inc	__check_OBJECT_end - 1
 7077                        		__bra		.LL253
         1D:DE21  80 EC      			bra	.LL253
 7078    1D:DE23             	.LL255:
 7079                        	
 7080                        		.dbg	line,	"include\routines_LEVELS.c", 309; {
 7081                        	
 7082                        		.dbg	line,	"include\routines_LEVELS.c", 310; // RETRIEVE OBJECT INDEX IN THE LIST //
 7083                        	
 7084                        		.dbg	line,	"include\routines_LEVELS.c", 311; current_object_id = list_onscreen_object[i];
 7085                        		__ldx.umq	__check_OBJECT_end - 1  /* i */
         1D:DE23  AE 02 23   			ldx	__check_OBJECT_end - 1
 7086                        		__ld.uax	_list_onscreen_object
         1D:DE26  BD 9C 23   			lda	_list_onscreen_object, x
         1D:DE29  C2         			cly
 7087                        		__st.umq	__check_OBJECT_end - 2  /* current_object_id */
         1D:DE2A  8D 01 23   			sta	__check_OBJECT_end - 2
 7088                        	
 7089                        		.dbg	line,	"include\routines_LEVELS.c", 312; // RETRIEVE OBJECT TYPE //
 7090                        	
 7091                        		.dbg	line,	"include\routines_LEVELS.c", 313; current_object_type = list_object_type[current_object_id];
 7092                        		__ldx.umq	__check_OBJECT_end - 2  /* current_object_id */
         1D:DE2D  AE 01 23   			ldx	__check_OBJECT_end - 2
 7093                        		__ld.uax	_list_object_type
         1D:DE30  BD 38 23   			lda	_list_object_type, x
         1D:DE33  C2         			cly
 7094                        		__st.umq	__check_OBJECT_end - 3  /* current_object_type */
         1D:DE34  8D 00 23   			sta	__check_OBJECT_end - 3
 7095                        	
 7096                        		.dbg	line,	"include\routines_LEVELS.c", 315; if(current_object_type != TYPE_POT)
 7097                        		__ld.umq	__check_OBJECT_end - 3  /* current_object_type */
         1D:DE37  AD 00 23   			lda	__check_OBJECT_end - 3
 7098                        		__neq_b.uiq	1
         1D:DE3A  38         			sec
         1D:DE3B  49 01      			eor	#1
         1D:DE3D  D0 01      			bne	!+
         1D:DE3F  18         			clc
         1D:DE40             	!:
 7099                        		__bfalse	.LL257
         1D:DE40  90 DC      			bcc	.LL257
 7100                        	
 7101                        		.dbg	line,	"include\routines_LEVELS.c", 316; {
 7102                        	
 7103                        		.dbg	line,	"include\routines_LEVELS.c", 317; if(abs( (player_pos_x + 16) - (list_object_x_pos[current_object_id] + 8) ) < OBJECT_MARGIN)
 7104                        		__ld.wm		_player_pos_x
         1D:DE42  AD DB 24   			lda.l	_player_pos_x
         1D:DE45  AC DC 24   			ldy.h	_player_pos_x
 7105                        		__add.wi	16
         1D:DE48  18         			clc
         1D:DE49  69 10      			adc.l	#16
         1D:DE4B  90 01      			bcc	!+
         1D:DE4D  C8         			iny
         1D:DE4E             	!:
 7106                        		__push.wr
         1D:DE4E  5A         			phy
         1D:DE4F  48         			pha
 7107                        		__ld2x.umq	__check_OBJECT_end - 2  /* current_object_id */
         1D:DE50  AD 01 23   			lda	__check_OBJECT_end - 2
         1D:DE53  0A         			asl	a
         1D:DE54  AA         			tax
 7108                        		__ld.wax	_list_object_x_pos
         1D:DE55  BD E5 24   			lda.l	_list_object_x_pos, x
         1D:DE58  BC E6 24   			ldy.h	_list_object_x_pos, x
 7109                        		__add.wi	8
         1D:DE5B  18         			clc
         1D:DE5C  69 08      			adc.l	#8
         1D:DE5E  90 01      			bcc	!+
         1D:DE60  C8         			iny
         1D:DE61             	!:
 7110                        		__sub.wt
         1D:DE61  BA         			tsx
         1D:DE62  38         			sec
         1D:DE63  49 FF      			eor	#$FF
         1D:DE65  7D 01 21   			adc.l	__tos, x
         1D:DE68  42         			say
         1D:DE69  49 FF      			eor	#$FF
         1D:DE6B  7D 02 21   			adc.h	__tos, x
         1D:DE6E  42         			say
         1D:DE6F  E8         			inx
         1D:DE70  E8         			inx
         1D:DE71  9A         			txs
 7111                        		__call		_abs.1
         1D:DE72  20 09 E5   			call	_abs.1
 7112                        		__slt_w.wi	10
         1D:DE75  C9 0A      			cmp.l	#10		; Subtract integer from Y:A.
         1D:DE77  98         			tya
         1D:DE78  E9 00      			sbc.h	#10
         1D:DE7A  50 02      			bvc	!+
         1D:DE7C  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1D:DE7E  0A         	!:		asl	a
 7113                        		__bfalse	.LL258
         1D:DE7F  90 9D      			bcc	.LL258
 7114                        	
 7115                        		.dbg	line,	"include\routines_LEVELS.c", 318; {
 7116                        	
 7117                        		.dbg	line,	"include\routines_LEVELS.c", 319; if(abs( (player_pos_y + 16) - (list_object_y_pos[current_object_id] + 8) ) < OBJECT_MARGIN)
 7118                        		__ld.wm		_player_pos_y
         1D:DE81  AD DD 24   			lda.l	_player_pos_y
         1D:DE84  AC DE 24   			ldy.h	_player_pos_y
 7119                        		__add.wi	16
         1D:DE87  18         			clc
         1D:DE88  69 10      			adc.l	#16
         1D:DE8A  90 01      			bcc	!+
         1D:DE8C  C8         			iny
         1D:DE8D             	!:
 7120                        		__push.wr
         1D:DE8D  5A         			phy
         1D:DE8E  48         			pha
 7121                        		__ld2x.umq	__check_OBJECT_end - 2  /* current_object_id */
         1D:DE8F  AD 01 23   			lda	__check_OBJECT_end - 2
         1D:DE92  0A         			asl	a
         1D:DE93  AA         			tax
 7122                        		__ld.wax	_list_object_y_pos
         1D:DE94  BD 17 25   			lda.l	_list_object_y_pos, x
         1D:DE97  BC 18 25   			ldy.h	_list_object_y_pos, x
 7123                        		__add.wi	8
         1D:DE9A  18         			clc
         1D:DE9B  69 08      			adc.l	#8
         1D:DE9D  90 01      			bcc	!+
         1D:DE9F  C8         			iny
         1D:DEA0             	!:
 7124                        		__sub.wt
         1D:DEA0  BA         			tsx
         1D:DEA1  38         			sec
         1D:DEA2  49 FF      			eor	#$FF
         1D:DEA4  7D 01 21   			adc.l	__tos, x
         1D:DEA7  42         			say
         1D:DEA8  49 FF      			eor	#$FF
         1D:DEAA  7D 02 21   			adc.h	__tos, x
         1D:DEAD  42         			say
         1D:DEAE  E8         			inx
         1D:DEAF  E8         			inx
         1D:DEB0  9A         			txs
 7125                        		__call		_abs.1
         1D:DEB1  20 09 E5   			call	_abs.1
 7126                        		__slt_w.wi	10
         1D:DEB4  C9 0A      			cmp.l	#10		; Subtract integer from Y:A.
         1D:DEB6  98         			tya
         1D:DEB7  E9 00      			sbc.h	#10
         1D:DEB9  50 02      			bvc	!+
         1D:DEBB  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1D:DEBD  0A         	!:		asl	a
 7127                        		__bfalse	.LL259
         1D:DEBE  B0 03 4C 1E			bcc	.LL259
         1D:DEC2  DE          
 7128                        	
 7129                        		.dbg	line,	"include\routines_LEVELS.c", 320; {
 7130                        	
 7131                        		.dbg	line,	"include\routines_LEVELS.c", 321; // THE OBJECT DISAPPEARS //
 7132                        	
 7133                        		.dbg	line,	"include\routines_LEVELS.c", 322; list_object_x_pos[current_object_id] = -16;
 7134                        		__ld2x.umq	__check_OBJECT_end - 2  /* current_object_id */
         1D:DEC3  AD 01 23   			lda	__check_OBJECT_end - 2
         1D:DEC6  0A         			asl	a
         1D:DEC7  AA         			tax
 7135                        		__st.waxiq	-16, _list_object_x_pos
         1D:DEC8  A9 F0      			lda.l	#-16
         1D:DECA  9D E5 24   			sta.l	_list_object_x_pos, x
         1D:DECD  A9 FF      			lda.h	#-16
         1D:DECF  9D E6 24   			sta.h	_list_object_x_pos, x
 7136                        	
 7137                        		.dbg	line,	"include\routines_LEVELS.c", 323; list_object_y_pos[current_object_id] = -16;
 7138                        		__ld2x.umq	__check_OBJECT_end - 2  /* current_object_id */
         1D:DED2  AD 01 23   			lda	__check_OBJECT_end - 2
         1D:DED5  0A         			asl	a
         1D:DED6  AA         			tax
 7139                        		__st.waxiq	-16, _list_object_y_pos
         1D:DED7  A9 F0      			lda.l	#-16
         1D:DED9  9D 17 25   			sta.l	_list_object_y_pos, x
         1D:DEDC  A9 FF      			lda.h	#-16
         1D:DEDE  9D 18 25   			sta.h	_list_object_y_pos, x
 7140                        	
 7141                        		.dbg	line,	"include\routines_LEVELS.c", 324; list_object_state[current_object_id] = STATE_INACTIVE;
 7142                        		__ldx.umq	__check_OBJECT_end - 2  /* current_object_id */
         1D:DEE1  AE 01 23   			ldx	__check_OBJECT_end - 2
 7143                        		__st.uaxiq	1, _list_object_state
         1D:DEE4  A9 01      			lda.l	#1
         1D:DEE6  9D 51 23   			sta	_list_object_state, x
 7144                        	
 7145                        		.dbg	line,	"include\routines_LEVELS.c", 326; sgx_spr_set(current_object_id + object_start_index);
 7146                        		__ld.um		__check_OBJECT_end - 2  /* current_object_id */
         1D:DEE9  AD 01 23   			lda	__check_OBJECT_end - 2
         1D:DEEC  C2         			cly
 7147                        		__add.um	_object_start_index
         1D:DEED  18         			clc
         1D:DEEE  6D 35 23   			adc	_object_start_index
         1D:DEF1  90 01      			bcc	!+
         1D:DEF3  C8         			iny
         1D:DEF4             	!:
 7148                        		__call		_sgx_spr_set.1
         1D:DEF4  20 8A E8   			call	_sgx_spr_set.1
 7149                        	
 7150                        		.dbg	line,	"include\routines_LEVELS.c", 327; sgx_spr_x(list_object_x_pos[current_object_id]);
 7151                        		__ld2x.umq	__check_OBJECT_end - 2  /* current_object_id */
         1D:DEF7  AD 01 23   			lda	__check_OBJECT_end - 2
         1D:DEFA  0A         			asl	a
         1D:DEFB  AA         			tax
 7152                        		__ld.wax	_list_object_x_pos
         1D:DEFC  BD E5 24   			lda.l	_list_object_x_pos, x
         1D:DEFF  BC E6 24   			ldy.h	_list_object_x_pos, x
 7153                        		__call		_sgx_spr_x.1
         1D:DF02  20 B7 E8   			call	_sgx_spr_x.1
 7154                        	
 7155                        		.dbg	line,	"include\routines_LEVELS.c", 328; sgx_spr_y(list_object_y_pos[current_object_id]);
 7156                        		__ld2x.umq	__check_OBJECT_end - 2  /* current_object_id */
         1D:DF05  AD 01 23   			lda	__check_OBJECT_end - 2
         1D:DF08  0A         			asl	a
         1D:DF09  AA         			tax
 7157                        		__ld.wax	_list_object_y_pos
         1D:DF0A  BD 17 25   			lda.l	_list_object_y_pos, x
         1D:DF0D  BC 18 25   			ldy.h	_list_object_y_pos, x
 7158                        		__call		_sgx_spr_y.1
         1D:DF10  20 C6 E8   			call	_sgx_spr_y.1
 7159                        	
 7160                        		.dbg	line,	"include\routines_LEVELS.c", 329; 
 7161                        	
 7162                        		.dbg	line,	"include\routines_LEVELS.c", 331; switch(current_object_type)
 7163                        		__ld.umq	__check_OBJECT_end - 3  /* current_object_type */
         1D:DF13  AD 00 23   			lda	__check_OBJECT_end - 3
 7164                        		__bra		.LL260
         1D:DF16  80 4A      			bra	.LL260
 7165                        	
 7166                        		.dbg	line,	"include\routines_LEVELS.c", 332; {
 7167                        	
 7168                        		.dbg	line,	"include\routines_LEVELS.c", 333; case TYPE_HOURGLASS:
 7169    1D:DF18             	.LL262:
 7170                        		__case		0
 7171                        	
 7172                        		.dbg	line,	"include\routines_LEVELS.c", 334; if(seconds + 30 > 59)
 7173                        		__ld.um		_seconds
         1D:DF18  AD 31 23   			lda	_seconds
         1D:DF1B  C2         			cly
 7174                        		__add.wi	30
         1D:DF1C  18         			clc
         1D:DF1D  69 1E      			adc.l	#30
         1D:DF1F  90 01      			bcc	!+
         1D:DF21  C8         			iny
         1D:DF22             	!:
 7175                        		__sgt_w.wi	59
         1D:DF22  18         			clc			; Subtract integer+1 from Y:A.
         1D:DF23  E9 3B      			sbc.l	#59
         1D:DF25  98         			tya
         1D:DF26  E9 00      			sbc.h	#59
         1D:DF28  50 02      			bvc	!+
         1D:DF2A  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1D:DF2C  49 80      	!:		eor	#$80
         1D:DF2E  0A         			asl	a
 7176                        		__bfalse	.LL263
         1D:DF2F  90 13      			bcc	.LL263
 7177                        	
 7178                        		.dbg	line,	"include\routines_LEVELS.c", 335; {
 7179                        	
 7180                        		.dbg	line,	"include\routines_LEVELS.c", 336; seconds = seconds + 30 - 60;
 7181                        		__ld.um		_seconds
         1D:DF31  AD 31 23   			lda	_seconds
         1D:DF34  C2         			cly
 7182                        		__sub.wi	30
         1D:DF35  38         			sec
         1D:DF36  E9 1E      			sbc.l	#30
         1D:DF38  B0 01      			bcs	!+
         1D:DF3A  88         			dey
         1D:DF3B             	!:
 7183                        		__st.umq	_seconds
         1D:DF3B  8D 31 23   			sta	_seconds
 7184                        	
 7185                        		.dbg	line,	"include\routines_LEVELS.c", 337; minutes += 1;
 7186                        		__add_st.umiq	1, _minutes
         1D:DF3E  EE 30 23   			inc	_minutes
 7187                        	
 7188                        		.dbg	line,	"include\routines_LEVELS.c", 338; }
 7189                        	
 7190                        		.dbg	line,	"include\routines_LEVELS.c", 340; else
 7191                        		__bra		.LL264
         1D:DF41  4C 1E DE   			bra	.LL264
 7192    1D:DF44             	.LL263:
 7193                        	
 7194                        		.dbg	line,	"include\routines_LEVELS.c", 341; {
 7195                        	
 7196                        		.dbg	line,	"include\routines_LEVELS.c", 342; seconds += 30;
 7197                        		__add_st.umiq	30, _seconds
         1D:DF44  18         			clc
         1D:DF45  AD 31 23   			lda	_seconds
         1D:DF48  69 1E      			adc	#30
         1D:DF4A  8D 31 23   			sta	_seconds
 7198                        	
 7199                        		.dbg	line,	"include\routines_LEVELS.c", 343; }
 7200    1D:DF4D             	.LL264	.alias		.LL261
 7201                        	
 7202                        		.dbg	line,	"include\routines_LEVELS.c", 345; break;
 7203                        		__bra		.LL261
         1D:DF4D  4C 1E DE   			bra	.LL261
 7204                        	
 7205                        		.dbg	line,	"include\routines_LEVELS.c", 347; case TYPE_POW:
 7206    1D:DF50             	.LL265:
 7207                        		__case		2
 7208                        	
 7209                        		.dbg	line,	"include\routines_LEVELS.c", 348; //
 7210                        	
 7211                        		.dbg	line,	"include\routines_LEVELS.c", 349; break;
 7212                        		__bra		.LL261
         1D:DF50  4C 1E DE   			bra	.LL261
 7213                        	
 7214                        		.dbg	line,	"include\routines_LEVELS.c", 351; case TYPE_GRAY_KEY:
 7215    1D:DF53             	.LL266:
 7216                        		__case		4
 7217                        	
 7218                        		.dbg	line,	"include\routines_LEVELS.c", 352; key_amount += 1;
 7219                        		__add_st.umiq	1, _key_amount
         1D:DF53  EE 2E 23   			inc	_key_amount
 7220                        	
 7221                        		.dbg	line,	"include\routines_LEVELS.c", 353; display_KEY();
 7222                        		__call		_display_KEY
         1D:DF56  20 59 FF   			call	_display_KEY
 7223                        	
 7224                        		.dbg	line,	"include\routines_LEVELS.c", 354; break;
 7225                        		__bra		.LL261
         1D:DF59  4C 1E DE   			bra	.LL261
 7226                        	
 7227                        		.dbg	line,	"include\routines_LEVELS.c", 356; case TYPE_YASHICHI:
 7228    1D:DF5C             	.LL267:
 7229                        		__case		14
 7230                        	
 7231                        		.dbg	line,	"include\routines_LEVELS.c", 357; life_amount += 1;
 7232                        		__add_st.umiq	1, _life_amount
         1D:DF5C  EE 2C 23   			inc	_life_amount
 7233                        	
 7234                        		.dbg	line,	"include\routines_LEVELS.c", 358; break;
 7235                        		__bra		.LL261
         1D:DF5F  4C 1E DE   			bra	.LL261
 7236                        	
 7237                        		.dbg	line,	"include\routines_LEVELS.c", 359; }
 7238    1D:DF62             	.LL260:
 7239                        		__switch_c.ur	4
         1D:DF62  A2 05      			ldx	#4 + 1
         1D:DF64  CA         	!loop:		dex
         1D:DF65  F0 05      			beq	!found+
         1D:DF67  DD 71 DF   			cmp	!table+ - 1, x
         1D:DF6A  D0 F8      			bne	!loop-
         1D:DF6C  8A         	!found:		txa
         1D:DF6D  0A         			asl	a
         1D:DF6E  AA         			tax
         1D:DF6F  7C 76 DF   			jmp	[!table+ + 4, x]
 7240                        	
 7241    1D:DF72  0E 04 02 00	!table:		db	14, 4, 2, 0
 7242    1D:DF76  1E DE      			dw	.LL261
 7243    1D:DF78  5C DF      			dw	.LL267, .LL266, .LL265, .LL262
         1D:DF7A  53 DF       
         1D:DF7C  50 DF       
         1D:DF7E  18 DF       
 7244                        	
 7245    1D:DF80             	.LL261	.alias		.LL254
 7246                        	
 7247                        		.dbg	line,	"include\routines_LEVELS.c", 360; }
 7248                        	
 7249                        		.dbg	line,	"include\routines_LEVELS.c", 361; }
 7250    1D:DF80             	.LL259	.alias		.LL254
 7251                        	
 7252                        		.dbg	line,	"include\routines_LEVELS.c", 362; }
 7253    1D:DF80             	.LL258	.alias		.LL254
 7254                        	
 7255                        		.dbg	line,	"include\routines_LEVELS.c", 363; }
 7256    1D:DF80             	.LL257	.alias		.LL254
 7257                        		__bra		.LL254
         1D:DF80  4C 1E DE   			bra	.LL254
 7258    1D:DF83             	.LL256:
 7259                        	
 7260                        		.dbg	line,	"include\routines_LEVELS.c", 364; }
 7261                        	
 7262                        		.dbg	line,	"include\routines_LEVELS.c", 365; }
 7263    1D:DF83             	.LL252:
 7264    1D:DF83             	.LL251:
 7265                        		__return	0
         1D:DF83  4C EF FF   			jmp	leave_proc
 7266                        		.dbg	clear
 7267                        		.endp
 7268               6B40     		.data
 7269               2300     		.bss
 7270    F8:2300             	__check_OBJECT_loc:
 7271    F8:2300             			ds	3
 7272    F8:2303             	__check_OBJECT_end:
 7273               E309     		.code
 7274                        		.pceas
 7275                        	
 7276                        		.dbg	line,	"include\routines_LEVELS.c", 367; // CHECK COLLISION WITH NPCS //
 7277                        		.dbg	line,	"include\routines_LEVELS.c", 368; void check_NPC()
 7278                        		.dbg	line,	"include\routines_LEVELS.c", 369; {
 7279                        	;***********************
 7280                        	;***********************
 7281                        	
 7282                        		.hucc
 7283    1E:DE88             		.proc		_check_NPC
 7284                        		__enter		_check_NPC
 7285                        	
 7286                        		.dbg	line,	"include\routines_LEVELS.c", 370; if(onscreen_npc_number != 0)
 7287                        		__tst.um	_onscreen_npc_number
         1E:DE88  AD B9 23   			lda	_onscreen_npc_number
         1E:DE8B  C9 01      			cmp	#1
 7288                        		__bfalse	.LL269
         1E:DE8D  B0 03 4C C3			bcc	.LL269
         1E:DE91  DF          
 7289                        	
 7290                        		.dbg	line,	"include\routines_LEVELS.c", 371; {
 7291                        	
 7292                        		.dbg	line,	"include\routines_LEVELS.c", 372; if(player_state == STATE_IDLE || player_state == STATE_WALK)
 7293                        		__not.um	_player_state
         1E:DE92  AD 18 23   			lda	_player_state
         1E:DE95  18         			clc
         1E:DE96  D0 01      			bne	!+
         1E:DE98  38         			sec
         1E:DE99             	!:
 7294                        		__btrue		.LL271
         1E:DE99  B0 08      			bcs	.LL271
 7295                        		__ld.umq	_player_state
         1E:DE9B  AD 18 23   			lda	_player_state
 7296                        		__equ_b.uiq	1
         1E:DE9E  C9 01      			cmp	#1
         1E:DEA0  F0 01      			beq	!+
         1E:DEA2  18         			clc
         1E:DEA3             	!:
 7297    1E:DEA3             	.LL271:
 7298                        		__bfalse	.LL270
         1E:DEA3  B0 03 4C C3			bcc	.LL270
         1E:DEA7  DF          
 7299                        	
 7300                        		.dbg	line,	"include\routines_LEVELS.c", 373; {
 7301                        	
 7302                        		.dbg	line,	"include\routines_LEVELS.c", 374; char i,j;
 7303                        	
 7304                        		.dbg	line,	"include\routines_LEVELS.c", 375; char current_npc_id;
 7305                        	
 7306                        		.dbg	line,	"include\routines_LEVELS.c", 376; char current_npc_type;
 7307                        	
 7308                        		.dbg	line,	"include\routines_LEVELS.c", 378; for(i=0 ; i<onscreen_npc_number ; i++)
 7309                        		__st.umiq	0, __check_NPC_end - 1  /* i */
         1E:DEA8  9C 79 26   			stz	__check_NPC_end - 1
 7310    1E:DEAB             	.LL272:
 7311                        		__ld.umq	__check_NPC_end - 1  /* i */
         1E:DEAB  AD 79 26   			lda	__check_NPC_end - 1
 7312                        		__ult_b.umq	_onscreen_npc_number
         1E:DEAE  CD B9 23   			cmp	_onscreen_npc_number		; Subtract memory from A.
         1E:DEB1  6A         			ror	a		; CC if A < memory.
         1E:DEB2  49 80      			eor	#$80
         1E:DEB4  2A         			rol	a
 7313                        		__btrue		.LL274
         1E:DEB5  B0 08      			bcs	.LL274
 7314                        		__bra		.LL275
         1E:DEB7  4C C3 DF   			bra	.LL275
 7315    1E:DEBA             	.LL273:
 7316                        		__inc.umq	__check_NPC_end - 1  /* i */
         1E:DEBA  EE 79 26   			inc	__check_NPC_end - 1
 7317                        		__bra		.LL272
         1E:DEBD  80 EC      			bra	.LL272
 7318    1E:DEBF             	.LL274:
 7319                        	
 7320                        		.dbg	line,	"include\routines_LEVELS.c", 379; {
 7321                        	
 7322                        		.dbg	line,	"include\routines_LEVELS.c", 380; // RETRIEVE NPC INDEX IN THE LIST //
 7323                        	
 7324                        		.dbg	line,	"include\routines_LEVELS.c", 381; current_npc_id = list_onscreen_npc[i];
 7325                        		__ldx.umq	__check_NPC_end - 1  /* i */
         1E:DEBF  AE 79 26   			ldx	__check_NPC_end - 1
 7326                        		__ld.uax	_list_onscreen_npc
         1E:DEC2  BD CC 23   			lda	_list_onscreen_npc, x
         1E:DEC5  C2         			cly
 7327                        		__st.umq	__check_NPC_end - 3  /* current_npc_id */
         1E:DEC6  8D 77 26   			sta	__check_NPC_end - 3
 7328                        	
 7329                        		.dbg	line,	"include\routines_LEVELS.c", 383; if(list_npc_state[current_npc_id] == STATE_ACTIVE)
 7330                        		__ldx.umq	__check_NPC_end - 3  /* current_npc_id */
         1E:DEC9  AE 77 26   			ldx	__check_NPC_end - 3
 7331                        		__not.uax	_list_npc_state
         1E:DECC  BD C3 23   			lda	_list_npc_state, x
         1E:DECF  18         			clc
         1E:DED0  D0 01      			bne	!+
         1E:DED2  38         			sec
         1E:DED3             	!:
 7332                        		__bfalse	.LL276
         1E:DED3  90 E5      			bcc	.LL276
 7333                        	
 7334                        		.dbg	line,	"include\routines_LEVELS.c", 384; {
 7335                        	
 7336                        		.dbg	line,	"include\routines_LEVELS.c", 385; // RETRIEVE NPC TYPE //
 7337                        	
 7338                        		.dbg	line,	"include\routines_LEVELS.c", 386; current_npc_type = list_npc_type[current_npc_id];
 7339                        		__ldx.umq	__check_NPC_end - 3  /* current_npc_id */
         1E:DED5  AE 77 26   			ldx	__check_NPC_end - 3
 7340                        		__ld.uax	_list_npc_type
         1E:DED8  BD BA 23   			lda	_list_npc_type, x
         1E:DEDB  C2         			cly
 7341                        		__st.umq	__check_NPC_end - 4  /* current_npc_type */
         1E:DEDC  8D 76 26   			sta	__check_NPC_end - 4
 7342                        	
 7343                        		.dbg	line,	"include\routines_LEVELS.c", 388; if(abs( (player_pos_x + 16) - (list_npc_x_pos[current_npc_id] + 16) ) < OBJECT_MARGIN)
 7344                        		__ld.wm		_player_pos_x
         1E:DEDF  AD DB 24   			lda.l	_player_pos_x
         1E:DEE2  AC DC 24   			ldy.h	_player_pos_x
 7345                        		__add.wi	16
         1E:DEE5  18         			clc
         1E:DEE6  69 10      			adc.l	#16
         1E:DEE8  90 01      			bcc	!+
         1E:DEEA  C8         			iny
         1E:DEEB             	!:
 7346                        		__push.wr
         1E:DEEB  5A         			phy
         1E:DEEC  48         			pha
 7347                        		__ld2x.umq	__check_NPC_end - 3  /* current_npc_id */
         1E:DEED  AD 77 26   			lda	__check_NPC_end - 3
         1E:DEF0  0A         			asl	a
         1E:DEF1  AA         			tax
 7348                        		__ld.wax	_list_npc_x_pos
         1E:DEF2  BD ED 25   			lda.l	_list_npc_x_pos, x
         1E:DEF5  BC EE 25   			ldy.h	_list_npc_x_pos, x
 7349                        		__add.wi	16
         1E:DEF8  18         			clc
         1E:DEF9  69 10      			adc.l	#16
         1E:DEFB  90 01      			bcc	!+
         1E:DEFD  C8         			iny
         1E:DEFE             	!:
 7350                        		__sub.wt
         1E:DEFE  BA         			tsx
         1E:DEFF  38         			sec
         1E:DF00  49 FF      			eor	#$FF
         1E:DF02  7D 01 21   			adc.l	__tos, x
         1E:DF05  42         			say
         1E:DF06  49 FF      			eor	#$FF
         1E:DF08  7D 02 21   			adc.h	__tos, x
         1E:DF0B  42         			say
         1E:DF0C  E8         			inx
         1E:DF0D  E8         			inx
         1E:DF0E  9A         			txs
 7351                        		__call		_abs.1
         1E:DF0F  20 09 E5   			call	_abs.1
 7352                        		__slt_w.wi	10
         1E:DF12  C9 0A      			cmp.l	#10		; Subtract integer from Y:A.
         1E:DF14  98         			tya
         1E:DF15  E9 00      			sbc.h	#10
         1E:DF17  50 02      			bvc	!+
         1E:DF19  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1E:DF1B  0A         	!:		asl	a
 7353                        		__bfalse	.LL277
         1E:DF1C  90 9C      			bcc	.LL277
 7354                        	
 7355                        		.dbg	line,	"include\routines_LEVELS.c", 389; {
 7356                        	
 7357                        		.dbg	line,	"include\routines_LEVELS.c", 390; if(abs( (player_pos_y + 16) - (list_npc_y_pos[current_npc_id] + 16) ) < OBJECT_MARGIN)
 7358                        		__ld.wm		_player_pos_y
         1E:DF1E  AD DD 24   			lda.l	_player_pos_y
         1E:DF21  AC DE 24   			ldy.h	_player_pos_y
 7359                        		__add.wi	16
         1E:DF24  18         			clc
         1E:DF25  69 10      			adc.l	#16
         1E:DF27  90 01      			bcc	!+
         1E:DF29  C8         			iny
         1E:DF2A             	!:
 7360                        		__push.wr
         1E:DF2A  5A         			phy
         1E:DF2B  48         			pha
 7361                        		__ld2x.umq	__check_NPC_end - 3  /* current_npc_id */
         1E:DF2C  AD 77 26   			lda	__check_NPC_end - 3
         1E:DF2F  0A         			asl	a
         1E:DF30  AA         			tax
 7362                        		__ld.wax	_list_npc_y_pos
         1E:DF31  BD FF 25   			lda.l	_list_npc_y_pos, x
         1E:DF34  BC 00 26   			ldy.h	_list_npc_y_pos, x
 7363                        		__add.wi	16
         1E:DF37  18         			clc
         1E:DF38  69 10      			adc.l	#16
         1E:DF3A  90 01      			bcc	!+
         1E:DF3C  C8         			iny
         1E:DF3D             	!:
 7364                        		__sub.wt
         1E:DF3D  BA         			tsx
         1E:DF3E  38         			sec
         1E:DF3F  49 FF      			eor	#$FF
         1E:DF41  7D 01 21   			adc.l	__tos, x
         1E:DF44  42         			say
         1E:DF45  49 FF      			eor	#$FF
         1E:DF47  7D 02 21   			adc.h	__tos, x
         1E:DF4A  42         			say
         1E:DF4B  E8         			inx
         1E:DF4C  E8         			inx
         1E:DF4D  9A         			txs
 7365                        		__call		_abs.1
         1E:DF4E  20 09 E5   			call	_abs.1
 7366                        		__slt_w.wi	10
         1E:DF51  C9 0A      			cmp.l	#10		; Subtract integer from Y:A.
         1E:DF53  98         			tya
         1E:DF54  E9 00      			sbc.h	#10
         1E:DF56  50 02      			bvc	!+
         1E:DF58  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1E:DF5A  0A         	!:		asl	a
 7367                        		__bfalse	.LL278
         1E:DF5B  B0 03 4C BA			bcc	.LL278
         1E:DF5F  DE          
 7368                        	
 7369                        		.dbg	line,	"include\routines_LEVELS.c", 391; {               
 7370                        	
 7371                        		.dbg	line,	"include\routines_LEVELS.c", 392; switch(current_npc_type)
 7372                        		__ld.umq	__check_NPC_end - 4  /* current_npc_type */
         1E:DF60  AD 76 26   			lda	__check_NPC_end - 4
 7373                        		__bra		.LL279
         1E:DF63  80 4A      			bra	.LL279
 7374                        	
 7375                        		.dbg	line,	"include\routines_LEVELS.c", 393; {
 7376                        	
 7377                        		.dbg	line,	"include\routines_LEVELS.c", 394; case TYPE_NPC_REWARD:
 7378    1E:DF65             	.LL281:
 7379                        		__case		0
 7380                        	
 7381                        		.dbg	line,	"include\routines_LEVELS.c", 395; //
 7382                        	
 7383                        		.dbg	line,	"include\routines_LEVELS.c", 396; break;
 7384                        		__bra		.LL280
         1E:DF65  4C BA DE   			bra	.LL280
 7385                        	
 7386                        		.dbg	line,	"include\routines_LEVELS.c", 398; case TYPE_NPC_SHOP:
 7387    1E:DF68             	.LL282:
 7388                        		__case		1
 7389                        	
 7390                        		.dbg	line,	"include\routines_LEVELS.c", 399; disp_off();
 7391                        		__call		_disp_off
         1E:DF68  20 29 E4   			call	_disp_off
 7392                        	
 7393                        		.dbg	line,	"include\routines_LEVELS.c", 401; minutes_backup = minutes;
 7394                        		__ld.um		_minutes
         1E:DF6B  AD 30 23   			lda	_minutes
         1E:DF6E  C2         			cly
 7395                        		__st.umq	_minutes_backup
         1E:DF6F  8D 33 23   			sta	_minutes_backup
 7396                        	
 7397                        		.dbg	line,	"include\routines_LEVELS.c", 402; seconds_backup = seconds;
 7398                        		__ld.um		_seconds
         1E:DF72  AD 31 23   			lda	_seconds
         1E:DF75  C2         			cly
 7399                        		__st.umq	_seconds_backup
         1E:DF76  8D 34 23   			sta	_seconds_backup
 7400                        	
 7401                        		.dbg	line,	"include\routines_LEVELS.c", 403; list_npc_state[current_npc_id] = STATE_INACTIVE;
 7402                        		__ldx.umq	__check_NPC_end - 3  /* current_npc_id */
         1E:DF79  AE 77 26   			ldx	__check_NPC_end - 3
 7403                        		__st.uaxiq	1, _list_npc_state
         1E:DF7C  A9 01      			lda.l	#1
         1E:DF7E  9D C3 23   			sta	_list_npc_state, x
 7404                        	
 7405                        		.dbg	line,	"include\routines_LEVELS.c", 404; camera_pos_x_backup = sgx_map_pxl_x;
 7406                        		__ld.wm		_sgx_map_pxl_x
         1E:DF81  AD BE 26   			lda.l	_sgx_map_pxl_x
         1E:DF84  AC BF 26   			ldy.h	_sgx_map_pxl_x
 7407                        		__st.wmq	_camera_pos_x_backup
         1E:DF87  8D E1 24   			sta.l	_camera_pos_x_backup
         1E:DF8A  8C E2 24   			sty.h	_camera_pos_x_backup
 7408                        	
 7409                        		.dbg	line,	"include\routines_LEVELS.c", 405; camera_pos_y_backup = list_npc_y_pos_ref[current_npc_id] - 128;                                    
 7410                        		__ld2x.umq	__check_NPC_end - 3  /* current_npc_id */
         1E:DF8D  AD 77 26   			lda	__check_NPC_end - 3
         1E:DF90  0A         			asl	a
         1E:DF91  AA         			tax
 7411                        		__ld.wax	_list_npc_y_pos_ref
         1E:DF92  BD 23 26   			lda.l	_list_npc_y_pos_ref, x
         1E:DF95  BC 24 26   			ldy.h	_list_npc_y_pos_ref, x
 7412                        		__sub.wi	128
         1E:DF98  38         			sec
         1E:DF99  E9 80      			sbc.l	#128
         1E:DF9B  B0 01      			bcs	!+
         1E:DF9D  88         			dey
         1E:DF9E             	!:
 7413                        		__st.wmq	_camera_pos_y_backup
         1E:DF9E  8D E3 24   			sta.l	_camera_pos_y_backup
         1E:DFA1  8C E4 24   			sty.h	_camera_pos_y_backup
 7414                        	
 7415                        		.dbg	line,	"include\routines_LEVELS.c", 406; sequence_loaded = FALSE;
 7416                        		__st.umiq	0, _sequence_loaded
         1E:DFA4  9C 14 23   			stz	_sequence_loaded
 7417                        	
 7418                        		.dbg	line,	"include\routines_LEVELS.c", 407; sequence_id = SEQUENCE_SHOP;
 7419                        		__st.umiq	4, _sequence_id
         1E:DFA7  A9 04      			lda.l	#4
         1E:DFA9  8D 13 23   			sta	_sequence_id
 7420                        	
 7421                        		.dbg	line,	"include\routines_LEVELS.c", 408; break;
 7422                        		__bra		.LL280
         1E:DFAC  4C BA DE   			bra	.LL280
 7423                        	
 7424                        		.dbg	line,	"include\routines_LEVELS.c", 409; }
 7425    1E:DFAF             	.LL279:
 7426                        		__switch_r.ur	0, 1
         1E:DFAF  C9 02      			cmp	#(1 - 0) + 1
         1E:DFB1  90 02      			bcc	!found+
         1E:DFB3  A9 02      	!default:	lda	#(1 - 0) + 1
         1E:DFB5  0A         	!found:		asl	a
         1E:DFB6  AA         			tax
         1E:DFB7  7C BA DF   			jmp	[!table+, x]
 7427                        	
 7428    1E:DFBA  65 DF      	!table:		dw	.LL281, .LL282
         1E:DFBC  68 DF       
 7429    1E:DFBE  BA DE      			dw	.LL280
 7430    1E:DFC0             	.LL280	.alias		.LL273
 7431                        	
 7432                        		.dbg	line,	"include\routines_LEVELS.c", 410; }
 7433                        	
 7434                        		.dbg	line,	"include\routines_LEVELS.c", 411; }
 7435    1E:DFC0             	.LL278	.alias		.LL273
 7436                        	
 7437                        		.dbg	line,	"include\routines_LEVELS.c", 412; }
 7438    1E:DFC0             	.LL277	.alias		.LL273
 7439                        	
 7440                        		.dbg	line,	"include\routines_LEVELS.c", 413; }
 7441    1E:DFC0             	.LL276	.alias		.LL273
 7442                        		__bra		.LL273
         1E:DFC0  4C BA DE   			bra	.LL273
 7443    1E:DFC3             	.LL275:
 7444                        	
 7445                        		.dbg	line,	"include\routines_LEVELS.c", 414; }
 7446                        	
 7447                        		.dbg	line,	"include\routines_LEVELS.c", 415; }
 7448    1E:DFC3             	.LL270:
 7449                        	
 7450                        		.dbg	line,	"include\routines_LEVELS.c", 416; }
 7451    1E:DFC3             	.LL269:
 7452    1E:DFC3             	.LL268:
 7453                        		__return	0
         1E:DFC3  4C EF FF   			jmp	leave_proc
 7454                        		.dbg	clear
 7455                        		.endp
 7456                        		.pceas
 7457                        	
 7458                        		.dbg	line,	"include\routines_LEVELS.c", 421; void scroll_BG()
 7459                        		.dbg	line,	"include\routines_LEVELS.c", 422; {
 7460                        	;***********************
 7461                        	;***********************
 7462                        	
 7463                        		.hucc
 7464    1F:CDD9             		.proc		_scroll_BG
 7465                        		__enter		_scroll_BG
 7466                        	
 7467                        		.dbg	line,	"include\routines_LEVELS.c", 423; // UPDATE VDC2 BG //
 7468                        	
 7469                        		.dbg	line,	"include\routines_LEVELS.c", 424; sgx_scroll_map();
 7470                        		__call		_sgx_scroll_map
         1F:CDD9  20 4F FF   			call	_sgx_scroll_map
 7471                        	
 7472                        		.dbg	line,	"include\routines_LEVELS.c", 426; //--------------------------------------------------------------------------------------//
 7473                        	
 7474                        		.dbg	line,	"include\routines_LEVELS.c", 427; //                                        VDC 2                                         //
 7475                        	
 7476                        		.dbg	line,	"include\routines_LEVELS.c", 428; //--------------------------------------------------------------------------------------//
 7477                        	
 7478                        		.dbg	line,	"include\routines_LEVELS.c", 430; sgx_scroll_split(0,   0, sgx_map_pxl_x & (BAT_SIZE_W - 1), sgx_map_pxl_y & (BAT_SIZE_H - 1), BKG_ON | SPR_ON);
 7479                        		__st.umiq	0, _al
         1F:CDDC  64 F8      			stz	_al
 7480                        		__st.umiq	0, _ah
         1F:CDDE  64 F9      			stz	_ah
 7481                        		__ld.wm		_sgx_map_pxl_x
         1F:CDE0  AD BE 26   			lda.l	_sgx_map_pxl_x
         1F:CDE3  AC BF 26   			ldy.h	_sgx_map_pxl_x
 7482                        		__and.wi	2047
         1F:CDE6  29 FF      			and.l	#2047
         1F:CDE8  42         			say
         1F:CDE9  29 07      			and.h	#2047
         1F:CDEB  42         			say
 7483                        		__st.wmq	_bx
         1F:CDEC  85 FA      			sta.l	_bx
         1F:CDEE  84 FB      			sty.h	_bx
 7484                        		__ld.wm		_sgx_map_pxl_y
         1F:CDF0  AD C0 26   			lda.l	_sgx_map_pxl_y
         1F:CDF3  AC C1 26   			ldy.h	_sgx_map_pxl_y
 7485                        		__and.wi	255
         1F:CDF6  29 FF      			and	#255
         1F:CDF8  C2         			cly
 7486                        		__st.wmq	_cx
         1F:CDF9  85 FC      			sta.l	_cx
         1F:CDFB  84 FD      			sty.h	_cx
 7487                        		__st.umiq	192, _dl
         1F:CDFD  A9 C0      			lda.l	#192
         1F:CDFF  85 FE      			sta	_dl
 7488                        		__call		_sgx_scroll_split.5
         1F:CE01  20 45 FF   			call	_sgx_scroll_split.5
 7489                        	
 7490                        		.dbg	line,	"include\routines_LEVELS.c", 431; }
 7491    1F:CE04             	.LL283:
 7492                        		__return	0
         1F:CE04  4C EF FF   			jmp	leave_proc
 7493                        		.dbg	clear
 7494                        		.endp
 7495                        		.pceas
 7496                        	
 7497                        		.dbg	line,	"include\routines_LEVELS.c", 434; void recenter_CAMERA()
 7498                        		.dbg	line,	"include\routines_LEVELS.c", 435; {
 7499                        	;***********************
 7500                        	;***********************
 7501                        	
 7502                        		.hucc
 7503    1F:C246             		.proc		_recenter_CAMERA
 7504                        		__enter		_recenter_CAMERA
 7505                        	
 7506                        		.dbg	line,	"include\routines_LEVELS.c", 436; signed char camera_y_move;
 7507                        	
 7508                        		.dbg	line,	"include\routines_LEVELS.c", 438; spr_set(player_id);
 7509                        		__ld.umq	_player_id
         1F:C246  AD 17 23   			lda	_player_id
 7510                        		__call		_spr_set.1
         1F:C249  20 DD E7   			call	_spr_set.1
 7511                        	
 7512                        		.dbg	line,	"include\routines_LEVELS.c", 441; if(player_pos_y < 128)
 7513                        		__ld.wm		_player_pos_y
         1F:C24C  AD DD 24   			lda.l	_player_pos_y
         1F:C24F  AC DE 24   			ldy.h	_player_pos_y
 7514                        		__slt_w.wi	128
         1F:C252  C9 80      			cmp.l	#128		; Subtract integer from Y:A.
         1F:C254  98         			tya
         1F:C255  E9 00      			sbc.h	#128
         1F:C257  50 02      			bvc	!+
         1F:C259  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1F:C25B  0A         	!:		asl	a
 7515                        		__bfalse	.LL285
         1F:C25C  90 70      			bcc	.LL285
 7516                        	
 7517                        		.dbg	line,	"include\routines_LEVELS.c", 442; {
 7518                        	
 7519                        		.dbg	line,	"include\routines_LEVELS.c", 443; player_pos_y += CAMERA_RECENTER_VELOCITY;
 7520                        		__add_st.wmiq	4, _player_pos_y
         1F:C25E  18         			clc
         1F:C25F  AD DD 24   			lda.l	_player_pos_y
         1F:C262  69 04      			adc.l	#4
         1F:C264  8D DD 24   			sta.l	_player_pos_y
         1F:C267  90 03      			bcc	!+
         1F:C269  EE DE 24   			inc.h	_player_pos_y
         1F:C26C             	!:
 7521                        	
 7522                        		.dbg	line,	"include\routines_LEVELS.c", 445; if(player_pos_y > 128)
 7523                        		__ld.wm		_player_pos_y
         1F:C26C  AD DD 24   			lda.l	_player_pos_y
         1F:C26F  AC DE 24   			ldy.h	_player_pos_y
 7524                        		__sgt_w.wi	128
         1F:C272  18         			clc			; Subtract integer+1 from Y:A.
         1F:C273  E9 80      			sbc.l	#128
         1F:C275  98         			tya
         1F:C276  E9 00      			sbc.h	#128
         1F:C278  50 02      			bvc	!+
         1F:C27A  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:C27C  49 80      	!:		eor	#$80
         1F:C27E  0A         			asl	a
 7525                        		__bfalse	.LL286
         1F:C27F  90 24      			bcc	.LL286
 7526                        	
 7527                        		.dbg	line,	"include\routines_LEVELS.c", 446; {
 7528                        	
 7529                        		.dbg	line,	"include\routines_LEVELS.c", 447; camera_y_move = CAMERA_RECENTER_VELOCITY - (player_pos_y - 128);
 7530                        		__ld.wm		_player_pos_y
         1F:C281  AD DD 24   			lda.l	_player_pos_y
         1F:C284  AC DE 24   			ldy.h	_player_pos_y
 7531                        		__sub.wi	128
         1F:C287  38         			sec
         1F:C288  E9 80      			sbc.l	#128
         1F:C28A  B0 01      			bcs	!+
         1F:C28C  88         			dey
         1F:C28D             	!:
 7532                        		__isub.wi	4
         1F:C28D  38         			sec
         1F:C28E  49 FF      			eor	#$FF
         1F:C290  69 04      			adc.l	#4
         1F:C292  42         			say
         1F:C293  49 FF      			eor	#$FF
         1F:C295  69 00      			adc.h	#4
         1F:C297  42         			say
 7533                        		__st.umq	__recenter_CAMERA_end - 1  /* camera_y_move */
         1F:C298  8D 79 26   			sta	__recenter_CAMERA_end - 1
 7534                        	
 7535                        		.dbg	line,	"include\routines_LEVELS.c", 449; player_pos_y = 128;
 7536                        		__st.wmiq	128, _player_pos_y
         1F:C29B  A9 80      			lda.l	#128
         1F:C29D  8D DD 24   			sta.l	_player_pos_y
         1F:C2A0  9C DE 24   			stz.h	_player_pos_y
 7537                        	
 7538                        		.dbg	line,	"include\routines_LEVELS.c", 450; }
 7539                        	
 7540                        		.dbg	line,	"include\routines_LEVELS.c", 452; else
 7541                        		__bra		.LL287
         1F:C2A3  80 05      			bra	.LL287
 7542    1F:C2A5             	.LL286:
 7543                        	
 7544                        		.dbg	line,	"include\routines_LEVELS.c", 453; {
 7545                        	
 7546                        		.dbg	line,	"include\routines_LEVELS.c", 454; camera_y_move = CAMERA_RECENTER_VELOCITY;
 7547                        		__st.umiq	4, __recenter_CAMERA_end - 1  /* camera_y_move */
         1F:C2A5  A9 04      			lda.l	#4
         1F:C2A7  8D 79 26   			sta	__recenter_CAMERA_end - 1
 7548                        	
 7549                        		.dbg	line,	"include\routines_LEVELS.c", 455; }
 7550    1F:C2AA             	.LL287:
 7551                        	
 7552                        		.dbg	line,	"include\routines_LEVELS.c", 457; spr_y(player_pos_y);
 7553                        		__ld.wm		_player_pos_y
         1F:C2AA  AD DD 24   			lda.l	_player_pos_y
         1F:C2AD  AC DE 24   			ldy.h	_player_pos_y
 7554                        		__call		_spr_y.1
         1F:C2B0  20 19 E8   			call	_spr_y.1
 7555                        	
 7556                        		.dbg	line,	"include\routines_LEVELS.c", 459; sgx_map_pxl_y -= camera_y_move;
 7557                        		__ld.bm		__recenter_CAMERA_end - 1  /* camera_y_move */
         1F:C2B3  AD 79 26   			lda	__recenter_CAMERA_end - 1
         1F:C2B6  C2         			cly
         1F:C2B7  10 01      			bpl	!+
         1F:C2B9  88         			dey
         1F:C2BA             	!:
 7558                        		__isub_st.wmq	_sgx_map_pxl_y
         1F:C2BA  38         			sec
         1F:C2BB  49 FF      			eor	#$FF
         1F:C2BD  6D C0 26   			adc.l	_sgx_map_pxl_y
         1F:C2C0  8D C0 26   			sta.l	_sgx_map_pxl_y
         1F:C2C3  98         			tya
         1F:C2C4  49 FF      			eor	#$FF
         1F:C2C6  6D C1 26   			adc.h	_sgx_map_pxl_y
         1F:C2C9  8D C1 26   			sta.h	_sgx_map_pxl_y
 7559                        	
 7560                        		.dbg	line,	"include\routines_LEVELS.c", 460; }
 7561                        	
 7562                        		.dbg	line,	"include\routines_LEVELS.c", 463; else if(player_pos_y > 128)
 7563                        		__bra		.LL288
         1F:C2CC  80 7C      			bra	.LL288
 7564    1F:C2CE             	.LL285:
 7565                        		__ld.wm		_player_pos_y
         1F:C2CE  AD DD 24   			lda.l	_player_pos_y
         1F:C2D1  AC DE 24   			ldy.h	_player_pos_y
 7566                        		__sgt_w.wi	128
         1F:C2D4  18         			clc			; Subtract integer+1 from Y:A.
         1F:C2D5  E9 80      			sbc.l	#128
         1F:C2D7  98         			tya
         1F:C2D8  E9 00      			sbc.h	#128
         1F:C2DA  50 02      			bvc	!+
         1F:C2DC  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:C2DE  49 80      	!:		eor	#$80
         1F:C2E0  0A         			asl	a
 7567                        		__bfalse	.LL289
         1F:C2E1  90 67      			bcc	.LL289
 7568                        	
 7569                        		.dbg	line,	"include\routines_LEVELS.c", 464; {
 7570                        	
 7571                        		.dbg	line,	"include\routines_LEVELS.c", 465; player_pos_y -= CAMERA_RECENTER_VELOCITY;
 7572                        		__sub_st.wmiq	4, _player_pos_y
         1F:C2E3  38         			sec
         1F:C2E4  AD DD 24   			lda.l	_player_pos_y
         1F:C2E7  E9 04      			sbc.l	#4
         1F:C2E9  8D DD 24   			sta.l	_player_pos_y
         1F:C2EC  B0 03      			bcs	!+
         1F:C2EE  CE DE 24   			dec.h	_player_pos_y
         1F:C2F1             	!:
 7573                        	
 7574                        		.dbg	line,	"include\routines_LEVELS.c", 467; if(player_pos_y < 128)
 7575                        		__ld.wm		_player_pos_y
         1F:C2F1  AD DD 24   			lda.l	_player_pos_y
         1F:C2F4  AC DE 24   			ldy.h	_player_pos_y
 7576                        		__slt_w.wi	128
         1F:C2F7  C9 80      			cmp.l	#128		; Subtract integer from Y:A.
         1F:C2F9  98         			tya
         1F:C2FA  E9 00      			sbc.h	#128
         1F:C2FC  50 02      			bvc	!+
         1F:C2FE  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1F:C300  0A         	!:		asl	a
 7577                        		__bfalse	.LL290
         1F:C301  90 24      			bcc	.LL290
 7578                        	
 7579                        		.dbg	line,	"include\routines_LEVELS.c", 468; {
 7580                        	
 7581                        		.dbg	line,	"include\routines_LEVELS.c", 469; camera_y_move = CAMERA_RECENTER_VELOCITY - (128 - player_pos_y);
 7582                        		__ld.wi		128
         1F:C303  A9 80      			lda.l	#128
         1F:C305  C2         			cly
 7583                        		__sub.wm	_player_pos_y
         1F:C306  38         			sec
         1F:C307  ED DD 24   			sbc.l	_player_pos_y
         1F:C30A  42         			say
         1F:C30B  ED DE 24   			sbc.h	_player_pos_y
         1F:C30E  42         			say
 7584                        		__isub.wi	4
         1F:C30F  38         			sec
         1F:C310  49 FF      			eor	#$FF
         1F:C312  69 04      			adc.l	#4
         1F:C314  42         			say
         1F:C315  49 FF      			eor	#$FF
         1F:C317  69 00      			adc.h	#4
         1F:C319  42         			say
 7585                        		__st.umq	__recenter_CAMERA_end - 1  /* camera_y_move */
         1F:C31A  8D 79 26   			sta	__recenter_CAMERA_end - 1
 7586                        	
 7587                        		.dbg	line,	"include\routines_LEVELS.c", 471; player_pos_y = 128;
 7588                        		__st.wmiq	128, _player_pos_y
         1F:C31D  A9 80      			lda.l	#128
         1F:C31F  8D DD 24   			sta.l	_player_pos_y
         1F:C322  9C DE 24   			stz.h	_player_pos_y
 7589                        	
 7590                        		.dbg	line,	"include\routines_LEVELS.c", 472; }
 7591                        	
 7592                        		.dbg	line,	"include\routines_LEVELS.c", 474; else
 7593                        		__bra		.LL291
         1F:C325  80 05      			bra	.LL291
 7594    1F:C327             	.LL290:
 7595                        	
 7596                        		.dbg	line,	"include\routines_LEVELS.c", 475; {
 7597                        	
 7598                        		.dbg	line,	"include\routines_LEVELS.c", 476; camera_y_move = CAMERA_RECENTER_VELOCITY;
 7599                        		__st.umiq	4, __recenter_CAMERA_end - 1  /* camera_y_move */
         1F:C327  A9 04      			lda.l	#4
         1F:C329  8D 79 26   			sta	__recenter_CAMERA_end - 1
 7600                        	
 7601                        		.dbg	line,	"include\routines_LEVELS.c", 477; }
 7602    1F:C32C             	.LL291:
 7603                        	
 7604                        		.dbg	line,	"include\routines_LEVELS.c", 479; spr_y(player_pos_y);
 7605                        		__ld.wm		_player_pos_y
         1F:C32C  AD DD 24   			lda.l	_player_pos_y
         1F:C32F  AC DE 24   			ldy.h	_player_pos_y
 7606                        		__call		_spr_y.1
         1F:C332  20 19 E8   			call	_spr_y.1
 7607                        	
 7608                        		.dbg	line,	"include\routines_LEVELS.c", 481; sgx_map_pxl_y += camera_y_move;
 7609                        		__ld.bm		__recenter_CAMERA_end - 1  /* camera_y_move */
         1F:C335  AD 79 26   			lda	__recenter_CAMERA_end - 1
         1F:C338  C2         			cly
         1F:C339  10 01      			bpl	!+
         1F:C33B  88         			dey
         1F:C33C             	!:
 7610                        		__add_st.wmq	_sgx_map_pxl_y
         1F:C33C  18         			clc
         1F:C33D  6D C0 26   			adc.l	_sgx_map_pxl_y
         1F:C340  8D C0 26   			sta.l	_sgx_map_pxl_y
         1F:C343  98         			tya
         1F:C344  6D C1 26   			adc.h	_sgx_map_pxl_y
         1F:C347  8D C1 26   			sta.h	_sgx_map_pxl_y
 7611                        	
 7612                        		.dbg	line,	"include\routines_LEVELS.c", 482; }
 7613                        	
 7614                        		.dbg	line,	"include\routines_LEVELS.c", 483; }
 7615    1F:C34A             	.LL289:
 7616    1F:C34A             	.LL288:
 7617    1F:C34A             	.LL284:
 7618                        		__return	0
         1F:C34A  4C EF FF   			jmp	leave_proc
 7619                        		.dbg	clear
 7620                        		.endp
 7621                        		.pceas
 7622                        	
 7623                        		.dbg	line,	"include\routines_LEVELS.c", 492; void joypad_BUTTONS()
 7624                        		.dbg	line,	"include\routines_LEVELS.c", 493; {
 7625                        	;***********************
 7626                        	;***********************
 7627                        	
 7628                        		.hucc
 7629    1E:CFEE             		.proc		_joypad_BUTTONS
 7630                        		__enter		_joypad_BUTTONS
 7631                        	
 7632                        		.dbg	line,	"include\routines_LEVELS.c", 494; // JUMP //
 7633                        	
 7634                        		.dbg	line,	"include\routines_LEVELS.c", 495; if(joytrg(JOYPAD_1) == JOY_I)
 7635                        		__ld.uiq	0
         1E:CFEE  62         			cla
 7636                        		 _joytrg.1
         1E:CFEF  AA         			tax
         1E:CFF0  BD 2D 22   			lda	joytrg, x
         1E:CFF3  BC DD 22   			ldy	joy6trg, x
 7637                        		__equ_w.wi	1
         1E:CFF6  C9 01      			cmp.l	#1
         1E:CFF8  D0 04      			bne	!false+
         1E:CFFA  C0 00      			cpy.h	#1
         1E:CFFC  F0 01      			beq	!+
         1E:CFFE  18         	!false:		clc
         1E:CFFF             	!:
 7638                        		__bfalse	.LL293
         1E:CFFF  B0 03 4C B1			bcc	.LL293
         1E:D003  D1          
 7639                        	
 7640                        		.dbg	line,	"include\routines_LEVELS.c", 496; {
 7641                        	
 7642                        		.dbg	line,	"include\routines_LEVELS.c", 497; if(player_state == STATE_IDLE)
 7643                        		__not.um	_player_state
         1E:D004  AD 18 23   			lda	_player_state
         1E:D007  18         			clc
         1E:D008  D0 01      			bne	!+
         1E:D00A  38         			sec
         1E:D00B             	!:
 7644                        		__bfalse	.LL294
         1E:D00B  90 3E      			bcc	.LL294
 7645                        	
 7646                        		.dbg	line,	"include\routines_LEVELS.c", 498; {
 7647                        	
 7648                        		.dbg	line,	"include\routines_LEVELS.c", 499; hit_wall = FALSE;
 7649                        		__st.umiq	0, _hit_wall
         1E:D00D  9C 24 23   			stz	_hit_wall
 7650                        	
 7651                        		.dbg	line,	"include\routines_LEVELS.c", 500; 
 7652                        	
 7653                        		.dbg	line,	"include\routines_LEVELS.c", 501; player_counter_anim = 0;
 7654                        		__st.umiq	0, _player_counter_anim
         1E:D010  9C 1B 23   			stz	_player_counter_anim
 7655                        	
 7656                        		.dbg	line,	"include\routines_LEVELS.c", 503; player_state = STATE_JUMP;
 7657                        		__st.umiq	4, _player_state
         1E:D013  A9 04      			lda.l	#4
         1E:D015  8D 18 23   			sta	_player_state
 7658                        	
 7659                        		.dbg	line,	"include\routines_LEVELS.c", 505; spr_set(weapon_id);
 7660                        		__ld.umq	_weapon_id
         1E:D018  AD 26 23   			lda	_weapon_id
 7661                        		__call		_spr_set.1
         1E:D01B  20 DD E7   			call	_spr_set.1
 7662                        	
 7663                        		.dbg	line,	"include\routines_LEVELS.c", 506; 
 7664                        	
 7665                        		.dbg	line,	"include\routines_LEVELS.c", 507; if(player_axis == AXIS_RIGHT)
 7666                        		__not.um	_player_axis
         1E:D01E  AD 19 23   			lda	_player_axis
         1E:D021  18         			clc
         1E:D022  D0 01      			bne	!+
         1E:D024  38         			sec
         1E:D025             	!:
 7667                        		__bfalse	.LL295
         1E:D025  90 12      			bcc	.LL295
 7668                        	
 7669                        		.dbg	line,	"include\routines_LEVELS.c", 508; {
 7670                        	
 7671                        		.dbg	line,	"include\routines_LEVELS.c", 509; spr_x(player_pos_x-5);
 7672                        		__ld.wm		_player_pos_x
         1E:D027  AD DB 24   			lda.l	_player_pos_x
         1E:D02A  AC DC 24   			ldy.h	_player_pos_x
 7673                        		__sub.wi	5
         1E:D02D  38         			sec
         1E:D02E  E9 05      			sbc.l	#5
         1E:D030  B0 01      			bcs	!+
         1E:D032  88         			dey
         1E:D033             	!:
 7674                        		__call		_spr_x.1
         1E:D033  20 0A E8   			call	_spr_x.1
 7675                        	
 7676                        		.dbg	line,	"include\routines_LEVELS.c", 510; }
 7677                        	
 7678                        		.dbg	line,	"include\routines_LEVELS.c", 512; else
 7679                        		__bra		.LL296
         1E:D036  4C 53 D2   			bra	.LL296
 7680    1E:D039             	.LL295:
 7681                        	
 7682                        		.dbg	line,	"include\routines_LEVELS.c", 513; {
 7683                        	
 7684                        		.dbg	line,	"include\routines_LEVELS.c", 514; spr_x(player_pos_x+21);
 7685                        		__ld.wm		_player_pos_x
         1E:D039  AD DB 24   			lda.l	_player_pos_x
         1E:D03C  AC DC 24   			ldy.h	_player_pos_x
 7686                        		__add.wi	21
         1E:D03F  18         			clc
         1E:D040  69 15      			adc.l	#21
         1E:D042  90 01      			bcc	!+
         1E:D044  C8         			iny
         1E:D045             	!:
 7687                        		__call		_spr_x.1
         1E:D045  20 0A E8   			call	_spr_x.1
 7688                        	
 7689                        		.dbg	line,	"include\routines_LEVELS.c", 515; }
 7690    1E:D048             	.LL296	.alias		.LL297
 7691                        	
 7692                        		.dbg	line,	"include\routines_LEVELS.c", 516; }
 7693                        	
 7694                        		.dbg	line,	"include\routines_LEVELS.c", 519; else if(player_state == STATE_WALK)
 7695                        		__bra		.LL297
         1E:D048  4C 53 D2   			bra	.LL297
 7696    1E:D04B             	.LL294:
 7697                        		__ld.umq	_player_state
         1E:D04B  AD 18 23   			lda	_player_state
 7698                        		__equ_b.uiq	1
         1E:D04E  C9 01      			cmp	#1
         1E:D050  F0 01      			beq	!+
         1E:D052  18         			clc
         1E:D053             	!:
 7699                        		__bfalse	.LL298
         1E:D053  90 46      			bcc	.LL298
 7700                        	
 7701                        		.dbg	line,	"include\routines_LEVELS.c", 520; {
 7702                        	
 7703                        		.dbg	line,	"include\routines_LEVELS.c", 521; hit_wall = FALSE;
 7704                        		__st.umiq	0, _hit_wall
         1E:D055  9C 24 23   			stz	_hit_wall
 7705                        	
 7706                        		.dbg	line,	"include\routines_LEVELS.c", 522; 
 7707                        	
 7708                        		.dbg	line,	"include\routines_LEVELS.c", 523; player_counter_anim = 0;
 7709                        		__st.umiq	0, _player_counter_anim
         1E:D058  9C 1B 23   			stz	_player_counter_anim
 7710                        	
 7711                        		.dbg	line,	"include\routines_LEVELS.c", 525; player_state = STATE_JUMP_RIGHT + player_axis;
 7712                        		__ld.wi		5
         1E:D05B  A9 05      			lda.l	#5
         1E:D05D  C2         			cly
 7713                        		__add.um	_player_axis
         1E:D05E  18         			clc
         1E:D05F  6D 19 23   			adc	_player_axis
         1E:D062  90 01      			bcc	!+
         1E:D064  C8         			iny
         1E:D065             	!:
 7714                        		__st.umq	_player_state
         1E:D065  8D 18 23   			sta	_player_state
 7715                        	
 7716                        		.dbg	line,	"include\routines_LEVELS.c", 527; spr_set(weapon_id);
 7717                        		__ld.umq	_weapon_id
         1E:D068  AD 26 23   			lda	_weapon_id
 7718                        		__call		_spr_set.1
         1E:D06B  20 DD E7   			call	_spr_set.1
 7719                        	
 7720                        		.dbg	line,	"include\routines_LEVELS.c", 528; 
 7721                        	
 7722                        		.dbg	line,	"include\routines_LEVELS.c", 529; if(player_axis == AXIS_RIGHT)
 7723                        		__not.um	_player_axis
         1E:D06E  AD 19 23   			lda	_player_axis
         1E:D071  18         			clc
         1E:D072  D0 01      			bne	!+
         1E:D074  38         			sec
         1E:D075             	!:
 7724                        		__bfalse	.LL299
         1E:D075  90 12      			bcc	.LL299
 7725                        	
 7726                        		.dbg	line,	"include\routines_LEVELS.c", 530; {
 7727                        	
 7728                        		.dbg	line,	"include\routines_LEVELS.c", 531; spr_x(player_pos_x-5);
 7729                        		__ld.wm		_player_pos_x
         1E:D077  AD DB 24   			lda.l	_player_pos_x
         1E:D07A  AC DC 24   			ldy.h	_player_pos_x
 7730                        		__sub.wi	5
         1E:D07D  38         			sec
         1E:D07E  E9 05      			sbc.l	#5
         1E:D080  B0 01      			bcs	!+
         1E:D082  88         			dey
         1E:D083             	!:
 7731                        		__call		_spr_x.1
         1E:D083  20 0A E8   			call	_spr_x.1
 7732                        	
 7733                        		.dbg	line,	"include\routines_LEVELS.c", 532; }
 7734                        	
 7735                        		.dbg	line,	"include\routines_LEVELS.c", 534; else
 7736                        		__bra		.LL300
         1E:D086  4C 53 D2   			bra	.LL300
 7737    1E:D089             	.LL299:
 7738                        	
 7739                        		.dbg	line,	"include\routines_LEVELS.c", 535; {
 7740                        	
 7741                        		.dbg	line,	"include\routines_LEVELS.c", 536; spr_x(player_pos_x+21);
 7742                        		__ld.wm		_player_pos_x
         1E:D089  AD DB 24   			lda.l	_player_pos_x
         1E:D08C  AC DC 24   			ldy.h	_player_pos_x
 7743                        		__add.wi	21
         1E:D08F  18         			clc
         1E:D090  69 15      			adc.l	#21
         1E:D092  90 01      			bcc	!+
         1E:D094  C8         			iny
         1E:D095             	!:
 7744                        		__call		_spr_x.1
         1E:D095  20 0A E8   			call	_spr_x.1
 7745                        	
 7746                        		.dbg	line,	"include\routines_LEVELS.c", 537; }
 7747    1E:D098             	.LL300	.alias		.LL301
 7748                        	
 7749                        		.dbg	line,	"include\routines_LEVELS.c", 538; }
 7750                        	
 7751                        		.dbg	line,	"include\routines_LEVELS.c", 541; else if(player_state == STATE_HANG || player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
 7752                        		__bra		.LL301
         1E:D098  4C 53 D2   			bra	.LL301
 7753    1E:D09B             	.LL298:
 7754                        		__ld.umq	_player_state
         1E:D09B  AD 18 23   			lda	_player_state
 7755                        		__equ_b.uiq	10
         1E:D09E  C9 0A      			cmp	#10
         1E:D0A0  F0 01      			beq	!+
         1E:D0A2  18         			clc
         1E:D0A3             	!:
 7756                        		__btrue		.LL303
         1E:D0A3  B0 08      			bcs	.LL303
 7757                        		__ld.umq	_player_state
         1E:D0A5  AD 18 23   			lda	_player_state
 7758                        		__equ_b.uiq	11
         1E:D0A8  C9 0B      			cmp	#11
         1E:D0AA  F0 01      			beq	!+
         1E:D0AC  18         			clc
         1E:D0AD             	!:
 7759    1E:D0AD             	.LL303:
 7760                        		__btrue		.LL304
         1E:D0AD  B0 08      			bcs	.LL304
 7761                        		__ld.umq	_player_state
         1E:D0AF  AD 18 23   			lda	_player_state
 7762                        		__equ_b.uiq	12
         1E:D0B2  C9 0C      			cmp	#12
         1E:D0B4  F0 01      			beq	!+
         1E:D0B6  18         			clc
         1E:D0B7             	!:
 7763    1E:D0B7             	.LL304:
 7764                        		__bfalse	.LL302
         1E:D0B7  B0 03 4C 53			bcc	.LL302
         1E:D0BB  D2          
 7765                        	
 7766                        		.dbg	line,	"include\routines_LEVELS.c", 542; {
 7767                        	
 7768                        		.dbg	line,	"include\routines_LEVELS.c", 543; if(player_attack == FALSE)
 7769                        		__not.um	_player_attack
         1E:D0BC  AD 20 23   			lda	_player_attack
         1E:D0BF  18         			clc
         1E:D0C0  D0 01      			bne	!+
         1E:D0C2  38         			sec
         1E:D0C3             	!:
 7770                        		__bfalse	.LL305
         1E:D0C3  B0 03 4C 53			bcc	.LL305
         1E:D0C7  D2          
 7771                        	
 7772                        		.dbg	line,	"include\routines_LEVELS.c", 544; {
 7773                        	
 7774                        		.dbg	line,	"include\routines_LEVELS.c", 545; if(joy(JOYPAD_1) & JOY_RIGHT)
 7775                        		__ld.uiq	0
         1E:D0C8  62         			cla
 7776                        		 _joy.1
         1E:D0C9  AA         			tax
         1E:D0CA  BD 28 22   			lda	joynow, x
         1E:D0CD  BC D3 22   			ldy	joy6now, x
 7777                        		__tand.wi	32
         1E:D0D0  29 20      			and	#32
         1E:D0D2  C9 01      	!:		cmp	#1
 7778                        		__bfalse	.LL306
         1E:D0D4  90 23      			bcc	.LL306
 7779                        	
 7780                        		.dbg	line,	"include\routines_LEVELS.c", 546; {
 7781                        	
 7782                        		.dbg	line,	"include\routines_LEVELS.c", 547; hit_wall = FALSE;
 7783                        		__st.umiq	0, _hit_wall
         1E:D0D6  9C 24 23   			stz	_hit_wall
 7784                        	
 7785                        		.dbg	line,	"include\routines_LEVELS.c", 548; 
 7786                        	
 7787                        		.dbg	line,	"include\routines_LEVELS.c", 549; player_counter_anim = 0;
 7788                        		__st.umiq	0, _player_counter_anim
         1E:D0D9  9C 1B 23   			stz	_player_counter_anim
 7789                        	
 7790                        		.dbg	line,	"include\routines_LEVELS.c", 551; player_state = STATE_JUMP_RIGHT;
 7791                        		__st.umiq	5, _player_state
         1E:D0DC  A9 05      			lda.l	#5
         1E:D0DE  8D 18 23   			sta	_player_state
 7792                        	
 7793                        		.dbg	line,	"include\routines_LEVELS.c", 553; spr_set(weapon_id);
 7794                        		__ld.umq	_weapon_id
         1E:D0E1  AD 26 23   			lda	_weapon_id
 7795                        		__call		_spr_set.1
         1E:D0E4  20 DD E7   			call	_spr_set.1
 7796                        	
 7797                        		.dbg	line,	"include\routines_LEVELS.c", 554; spr_x(player_pos_x-5);
 7798                        		__ld.wm		_player_pos_x
         1E:D0E7  AD DB 24   			lda.l	_player_pos_x
         1E:D0EA  AC DC 24   			ldy.h	_player_pos_x
 7799                        		__sub.wi	5
         1E:D0ED  38         			sec
         1E:D0EE  E9 05      			sbc.l	#5
         1E:D0F0  B0 01      			bcs	!+
         1E:D0F2  88         			dey
         1E:D0F3             	!:
 7800                        		__call		_spr_x.1
         1E:D0F3  20 0A E8   			call	_spr_x.1
 7801                        	
 7802                        		.dbg	line,	"include\routines_LEVELS.c", 555; }
 7803                        	
 7804                        		.dbg	line,	"include\routines_LEVELS.c", 557; else if(joy(JOYPAD_1) & JOY_LEFT)
 7805                        		__bra		.LL307
         1E:D0F6  4C 53 D2   			bra	.LL307
 7806    1E:D0F9             	.LL306:
 7807                        		__ld.uiq	0
         1E:D0F9  62         			cla
 7808                        		 _joy.1
         1E:D0FA  AA         			tax
         1E:D0FB  BD 28 22   			lda	joynow, x
         1E:D0FE  BC D3 22   			ldy	joy6now, x
 7809                        		__tand.wi	128
         1E:D101  29 80      			and	#128
         1E:D103  C9 01      	!:		cmp	#1
 7810                        		__bfalse	.LL308
         1E:D105  90 23      			bcc	.LL308
 7811                        	
 7812                        		.dbg	line,	"include\routines_LEVELS.c", 558; {
 7813                        	
 7814                        		.dbg	line,	"include\routines_LEVELS.c", 559; hit_wall = FALSE;
 7815                        		__st.umiq	0, _hit_wall
         1E:D107  9C 24 23   			stz	_hit_wall
 7816                        	
 7817                        		.dbg	line,	"include\routines_LEVELS.c", 560; 
 7818                        	
 7819                        		.dbg	line,	"include\routines_LEVELS.c", 561; player_counter_anim = 0;
 7820                        		__st.umiq	0, _player_counter_anim
         1E:D10A  9C 1B 23   			stz	_player_counter_anim
 7821                        	
 7822                        		.dbg	line,	"include\routines_LEVELS.c", 563; player_state = STATE_JUMP_LEFT;
 7823                        		__st.umiq	6, _player_state
         1E:D10D  A9 06      			lda.l	#6
         1E:D10F  8D 18 23   			sta	_player_state
 7824                        	
 7825                        		.dbg	line,	"include\routines_LEVELS.c", 565; spr_set(weapon_id);
 7826                        		__ld.umq	_weapon_id
         1E:D112  AD 26 23   			lda	_weapon_id
 7827                        		__call		_spr_set.1
         1E:D115  20 DD E7   			call	_spr_set.1
 7828                        	
 7829                        		.dbg	line,	"include\routines_LEVELS.c", 566; spr_x(player_pos_x+21);
 7830                        		__ld.wm		_player_pos_x
         1E:D118  AD DB 24   			lda.l	_player_pos_x
         1E:D11B  AC DC 24   			ldy.h	_player_pos_x
 7831                        		__add.wi	21
         1E:D11E  18         			clc
         1E:D11F  69 15      			adc.l	#21
         1E:D121  90 01      			bcc	!+
         1E:D123  C8         			iny
         1E:D124             	!:
 7832                        		__call		_spr_x.1
         1E:D124  20 0A E8   			call	_spr_x.1
 7833                        	
 7834                        		.dbg	line,	"include\routines_LEVELS.c", 567; }
 7835                        	
 7836                        		.dbg	line,	"include\routines_LEVELS.c", 569; else if(joy(JOYPAD_1) & JOY_UP)
 7837                        		__bra		.LL309
         1E:D127  4C 53 D2   			bra	.LL309
 7838    1E:D12A             	.LL308:
 7839                        		__ld.uiq	0
         1E:D12A  62         			cla
 7840                        		 _joy.1
         1E:D12B  AA         			tax
         1E:D12C  BD 28 22   			lda	joynow, x
         1E:D12F  BC D3 22   			ldy	joy6now, x
 7841                        		__tand.wi	16
         1E:D132  29 10      			and	#16
         1E:D134  C9 01      	!:		cmp	#1
 7842                        		__bfalse	.LL310
         1E:D136  B0 03 4C 53			bcc	.LL310
         1E:D13A  D2          
 7843                        	
 7844                        		.dbg	line,	"include\routines_LEVELS.c", 570; {
 7845                        	
 7846                        		.dbg	line,	"include\routines_LEVELS.c", 571; hit_wall = FALSE;
 7847                        		__st.umiq	0, _hit_wall
         1E:D13B  9C 24 23   			stz	_hit_wall
 7848                        	
 7849                        		.dbg	line,	"include\routines_LEVELS.c", 572; 
 7850                        	
 7851                        		.dbg	line,	"include\routines_LEVELS.c", 573; player_counter_anim = 0;
 7852                        		__st.umiq	0, _player_counter_anim
         1E:D13E  9C 1B 23   			stz	_player_counter_anim
 7853                        	
 7854                        		.dbg	line,	"include\routines_LEVELS.c", 575; check_BG( 15 , 8 );
 7855                        		__ld.wi		15
         1E:D141  A9 0F      			lda.l	#15
         1E:D143  C2         			cly
 7856                        		__pusharg.wr
         1E:D144  A6 8D      			ldx	<__sp
         1E:D146  CA         			dex
         1E:D147  CA         			dex
         1E:D148  95 08      			sta.l	<__stack, x
         1E:D14A  94 09      			sty.h	<__stack, x
         1E:D14C  86 8D      			stx	<__sp
 7857                        		__ld.wi		8
         1E:D14E  A9 08      			lda.l	#8
         1E:D150  C2         			cly
 7858                        		__pusharg.wr
         1E:D151  A6 8D      			ldx	<__sp
         1E:D153  CA         			dex
         1E:D154  CA         			dex
         1E:D155  95 08      			sta.l	<__stack, x
         1E:D157  94 09      			sty.h	<__stack, x
         1E:D159  86 8D      			stx	<__sp
 7859                        		__call		_check_BG
         1E:D15B  20 3B FF   			call	_check_BG
 7860                        	
 7861                        		.dbg	line,	"include\routines_LEVELS.c", 577; if(map_blk_flag == TILE_EMPTY)
 7862                        		__not.um	_map_blk_flag
         1E:D15E  AD DF 2B   			lda	_map_blk_flag
         1E:D161  18         			clc
         1E:D162  D0 01      			bne	!+
         1E:D164  38         			sec
         1E:D165             	!:
 7863                        		__bfalse	.LL311
         1E:D165  B0 03 4C 53			bcc	.LL311
         1E:D169  D2          
 7864                        	
 7865                        		.dbg	line,	"include\routines_LEVELS.c", 578; {
 7866                        	
 7867                        		.dbg	line,	"include\routines_LEVELS.c", 579; player_state = STATE_JUMP_LADDER;
 7868                        		__st.umiq	13, _player_state
         1E:D16A  A9 0D      			lda.l	#13
         1E:D16C  8D 18 23   			sta	_player_state
 7869                        	
 7870                        		.dbg	line,	"include\routines_LEVELS.c", 581; spr_set(weapon_id);
 7871                        		__ld.umq	_weapon_id
         1E:D16F  AD 26 23   			lda	_weapon_id
 7872                        		__call		_spr_set.1
         1E:D172  20 DD E7   			call	_spr_set.1
 7873                        	
 7874                        		.dbg	line,	"include\routines_LEVELS.c", 582; spr_y(player_pos_y+8);
 7875                        		__ld.wm		_player_pos_y
         1E:D175  AD DD 24   			lda.l	_player_pos_y
         1E:D178  AC DE 24   			ldy.h	_player_pos_y
 7876                        		__add.wi	8
         1E:D17B  18         			clc
         1E:D17C  69 08      			adc.l	#8
         1E:D17E  90 01      			bcc	!+
         1E:D180  C8         			iny
         1E:D181             	!:
 7877                        		__call		_spr_y.1
         1E:D181  20 19 E8   			call	_spr_y.1
 7878                        	
 7879                        		.dbg	line,	"include\routines_LEVELS.c", 583; 
 7880                        	
 7881                        		.dbg	line,	"include\routines_LEVELS.c", 584; if(player_axis == AXIS_RIGHT)
 7882                        		__not.um	_player_axis
         1E:D184  AD 19 23   			lda	_player_axis
         1E:D187  18         			clc
         1E:D188  D0 01      			bne	!+
         1E:D18A  38         			sec
         1E:D18B             	!:
 7883                        		__bfalse	.LL312
         1E:D18B  90 12      			bcc	.LL312
 7884                        	
 7885                        		.dbg	line,	"include\routines_LEVELS.c", 585; {
 7886                        	
 7887                        		.dbg	line,	"include\routines_LEVELS.c", 586; spr_x(player_pos_x-5);
 7888                        		__ld.wm		_player_pos_x
         1E:D18D  AD DB 24   			lda.l	_player_pos_x
         1E:D190  AC DC 24   			ldy.h	_player_pos_x
 7889                        		__sub.wi	5
         1E:D193  38         			sec
         1E:D194  E9 05      			sbc.l	#5
         1E:D196  B0 01      			bcs	!+
         1E:D198  88         			dey
         1E:D199             	!:
 7890                        		__call		_spr_x.1
         1E:D199  20 0A E8   			call	_spr_x.1
 7891                        	
 7892                        		.dbg	line,	"include\routines_LEVELS.c", 587; }
 7893                        	
 7894                        		.dbg	line,	"include\routines_LEVELS.c", 589; else
 7895                        		__bra		.LL313
         1E:D19C  4C 53 D2   			bra	.LL313
 7896    1E:D19F             	.LL312:
 7897                        	
 7898                        		.dbg	line,	"include\routines_LEVELS.c", 590; {
 7899                        	
 7900                        		.dbg	line,	"include\routines_LEVELS.c", 591; spr_x(player_pos_x+21);
 7901                        		__ld.wm		_player_pos_x
         1E:D19F  AD DB 24   			lda.l	_player_pos_x
         1E:D1A2  AC DC 24   			ldy.h	_player_pos_x
 7902                        		__add.wi	21
         1E:D1A5  18         			clc
         1E:D1A6  69 15      			adc.l	#21
         1E:D1A8  90 01      			bcc	!+
         1E:D1AA  C8         			iny
         1E:D1AB             	!:
 7903                        		__call		_spr_x.1
         1E:D1AB  20 0A E8   			call	_spr_x.1
 7904                        	
 7905                        		.dbg	line,	"include\routines_LEVELS.c", 592; }
 7906    1E:D1AE             	.LL313	.alias		.LL314
 7907                        	
 7908                        		.dbg	line,	"include\routines_LEVELS.c", 593; }
 7909                        	
 7910                        		.dbg	line,	"include\routines_LEVELS.c", 594; }
 7911    1E:D1AE             	.LL311	.alias		.LL314
 7912                        	
 7913                        		.dbg	line,	"include\routines_LEVELS.c", 595; }
 7914    1E:D1AE             	.LL310	.alias		.LL314
 7915    1E:D1AE             	.LL309	.alias		.LL314
 7916    1E:D1AE             	.LL307	.alias		.LL314
 7917                        	
 7918                        		.dbg	line,	"include\routines_LEVELS.c", 596; }
 7919    1E:D1AE             	.LL305	.alias		.LL314
 7920                        	
 7921                        		.dbg	line,	"include\routines_LEVELS.c", 597; }
 7922    1E:D1AE             	.LL302	.alias		.LL314
 7923    1E:D1AE             	.LL301	.alias		.LL314
 7924    1E:D1AE             	.LL297	.alias		.LL314
 7925                        	
 7926                        		.dbg	line,	"include\routines_LEVELS.c", 599; // ATTACK //
 7927                        	
 7928                        		.dbg	line,	"include\routines_LEVELS.c", 600; else if(joytrg(JOYPAD_1) == JOY_II)
 7929                        		__bra		.LL314
         1E:D1AE  4C 53 D2   			bra	.LL314
 7930    1E:D1B1             	.LL293:
 7931                        		__ld.uiq	0
         1E:D1B1  62         			cla
 7932                        		 _joytrg.1
         1E:D1B2  AA         			tax
         1E:D1B3  BD 2D 22   			lda	joytrg, x
         1E:D1B6  BC DD 22   			ldy	joy6trg, x
 7933                        		__equ_w.wi	2
         1E:D1B9  C9 02      			cmp.l	#2
         1E:D1BB  D0 04      			bne	!false+
         1E:D1BD  C0 00      			cpy.h	#2
         1E:D1BF  F0 01      			beq	!+
         1E:D1C1  18         	!false:		clc
         1E:D1C2             	!:
 7934                        		__bfalse	.LL315
         1E:D1C2  B0 03 4C 53			bcc	.LL315
         1E:D1C6  D2          
 7935                        	
 7936                        		.dbg	line,	"include\routines_LEVELS.c", 601; {
 7937                        	
 7938                        		.dbg	line,	"include\routines_LEVELS.c", 602; if(player_state == STATE_IDLE || player_state == STATE_WALK)
 7939                        		__not.um	_player_state
         1E:D1C7  AD 18 23   			lda	_player_state
         1E:D1CA  18         			clc
         1E:D1CB  D0 01      			bne	!+
         1E:D1CD  38         			sec
         1E:D1CE             	!:
 7940                        		__btrue		.LL317
         1E:D1CE  B0 08      			bcs	.LL317
 7941                        		__ld.umq	_player_state
         1E:D1D0  AD 18 23   			lda	_player_state
 7942                        		__equ_b.uiq	1
         1E:D1D3  C9 01      			cmp	#1
         1E:D1D5  F0 01      			beq	!+
         1E:D1D7  18         			clc
         1E:D1D8             	!:
 7943    1E:D1D8             	.LL317:
 7944                        		__bfalse	.LL316
         1E:D1D8  90 13      			bcc	.LL316
 7945                        	
 7946                        		.dbg	line,	"include\routines_LEVELS.c", 603; {
 7947                        	
 7948                        		.dbg	line,	"include\routines_LEVELS.c", 604; list_chain_active[0] = FALSE;
 7949                        		__st.umiq	0, _list_chain_active
         1E:D1DA  9C 29 23   			stz	_list_chain_active
 7950                        	
 7951                        		.dbg	line,	"include\routines_LEVELS.c", 605; list_chain_active[1] = FALSE;
 7952                        		__st.umiq	0, _list_chain_active + 1
         1E:D1DD  9C 2A 23   			stz	_list_chain_active + 1
 7953                        	
 7954                        		.dbg	line,	"include\routines_LEVELS.c", 606; list_chain_active[2] = FALSE;
 7955                        		__st.umiq	0, _list_chain_active + 2
         1E:D1E0  9C 2B 23   			stz	_list_chain_active + 2
 7956                        	
 7957                        		.dbg	line,	"include\routines_LEVELS.c", 608; player_counter_attack = 0;
 7958                        		__st.umiq	0, _player_counter_attack
         1E:D1E3  9C 1E 23   			stz	_player_counter_attack
 7959                        	
 7960                        		.dbg	line,	"include\routines_LEVELS.c", 609; player_state = STATE_ATTACK;
 7961                        		__st.umiq	2, _player_state
         1E:D1E6  A9 02      			lda.l	#2
         1E:D1E8  8D 18 23   			sta	_player_state
 7962                        	
 7963                        		.dbg	line,	"include\routines_LEVELS.c", 610; }
 7964                        	
 7965                        		.dbg	line,	"include\routines_LEVELS.c", 612; else if(player_state == STATE_JUMP)
 7966                        		__bra		.LL318
         1E:D1EB  80 66      			bra	.LL318
 7967    1E:D1ED             	.LL316:
 7968                        		__ld.umq	_player_state
         1E:D1ED  AD 18 23   			lda	_player_state
 7969                        		__equ_b.uiq	4
         1E:D1F0  C9 04      			cmp	#4
         1E:D1F2  F0 01      			beq	!+
         1E:D1F4  18         			clc
         1E:D1F5             	!:
 7970                        		__bfalse	.LL319
         1E:D1F5  90 02      			bcc	.LL319
 7971                        	
 7972                        		.dbg	line,	"include\routines_LEVELS.c", 613; {
 7973                        	
 7974                        		.dbg	line,	"include\routines_LEVELS.c", 614; /*if(player_attack == FALSE)
 7975                        	
 7976                        		.dbg	line,	"include\routines_LEVELS.c", 615; {
 7977                        	
 7978                        		.dbg	line,	"include\routines_LEVELS.c", 616; player_counter_attack = 0;
 7979                        	
 7980                        		.dbg	line,	"include\routines_LEVELS.c", 617; player_attack = TRUE;
 7981                        	
 7982                        		.dbg	line,	"include\routines_LEVELS.c", 618; }*/
 7983                        	
 7984                        		.dbg	line,	"include\routines_LEVELS.c", 619; }
 7985                        	
 7986                        		.dbg	line,	"include\routines_LEVELS.c", 621; else if(player_state == STATE_CROUCH)
 7987                        		__bra		.LL320
         1E:D1F7  80 5A      			bra	.LL320
 7988    1E:D1F9             	.LL319:
 7989                        		__ld.umq	_player_state
         1E:D1F9  AD 18 23   			lda	_player_state
 7990                        		__equ_b.uiq	7
         1E:D1FC  C9 07      			cmp	#7
         1E:D1FE  F0 01      			beq	!+
         1E:D200  18         			clc
         1E:D201             	!:
 7991                        		__bfalse	.LL321
         1E:D201  90 13      			bcc	.LL321
 7992                        	
 7993                        		.dbg	line,	"include\routines_LEVELS.c", 622; {
 7994                        	
 7995                        		.dbg	line,	"include\routines_LEVELS.c", 623; list_chain_active[0] = FALSE;
 7996                        		__st.umiq	0, _list_chain_active
         1E:D203  9C 29 23   			stz	_list_chain_active
 7997                        	
 7998                        		.dbg	line,	"include\routines_LEVELS.c", 624; list_chain_active[1] = FALSE;
 7999                        		__st.umiq	0, _list_chain_active + 1
         1E:D206  9C 2A 23   			stz	_list_chain_active + 1
 8000                        	
 8001                        		.dbg	line,	"include\routines_LEVELS.c", 625; list_chain_active[2] = FALSE;
 8002                        		__st.umiq	0, _list_chain_active + 2
         1E:D209  9C 2B 23   			stz	_list_chain_active + 2
 8003                        	
 8004                        		.dbg	line,	"include\routines_LEVELS.c", 627; player_counter_attack = 0;
 8005                        		__st.umiq	0, _player_counter_attack
         1E:D20C  9C 1E 23   			stz	_player_counter_attack
 8006                        	
 8007                        		.dbg	line,	"include\routines_LEVELS.c", 628; player_state = STATE_CROUCH_ATTACK;
 8008                        		__st.umiq	8, _player_state
         1E:D20F  A9 08      			lda.l	#8
         1E:D211  8D 18 23   			sta	_player_state
 8009                        	
 8010                        		.dbg	line,	"include\routines_LEVELS.c", 629; }
 8011                        	
 8012                        		.dbg	line,	"include\routines_LEVELS.c", 631; else if(player_state == STATE_HANG || player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
 8013                        		__bra		.LL322
         1E:D214  80 3D      			bra	.LL322
 8014    1E:D216             	.LL321:
 8015                        		__ld.umq	_player_state
         1E:D216  AD 18 23   			lda	_player_state
 8016                        		__equ_b.uiq	10
         1E:D219  C9 0A      			cmp	#10
         1E:D21B  F0 01      			beq	!+
         1E:D21D  18         			clc
         1E:D21E             	!:
 8017                        		__btrue		.LL324
         1E:D21E  B0 08      			bcs	.LL324
 8018                        		__ld.umq	_player_state
         1E:D220  AD 18 23   			lda	_player_state
 8019                        		__equ_b.uiq	11
         1E:D223  C9 0B      			cmp	#11
         1E:D225  F0 01      			beq	!+
         1E:D227  18         			clc
         1E:D228             	!:
 8020    1E:D228             	.LL324:
 8021                        		__btrue		.LL325
         1E:D228  B0 08      			bcs	.LL325
 8022                        		__ld.umq	_player_state
         1E:D22A  AD 18 23   			lda	_player_state
 8023                        		__equ_b.uiq	12
         1E:D22D  C9 0C      			cmp	#12
         1E:D22F  F0 01      			beq	!+
         1E:D231  18         			clc
         1E:D232             	!:
 8024    1E:D232             	.LL325:
 8025                        		__bfalse	.LL323
         1E:D232  90 1F      			bcc	.LL323
 8026                        	
 8027                        		.dbg	line,	"include\routines_LEVELS.c", 632; {
 8028                        	
 8029                        		.dbg	line,	"include\routines_LEVELS.c", 633; if(player_attack == FALSE)
 8030                        		__not.um	_player_attack
         1E:D234  AD 20 23   			lda	_player_attack
         1E:D237  18         			clc
         1E:D238  D0 01      			bne	!+
         1E:D23A  38         			sec
         1E:D23B             	!:
 8031                        		__bfalse	.LL326
         1E:D23B  90 16      			bcc	.LL326
 8032                        	
 8033                        		.dbg	line,	"include\routines_LEVELS.c", 634; {
 8034                        	
 8035                        		.dbg	line,	"include\routines_LEVELS.c", 635; list_chain_active[0] = FALSE;
 8036                        		__st.umiq	0, _list_chain_active
         1E:D23D  9C 29 23   			stz	_list_chain_active
 8037                        	
 8038                        		.dbg	line,	"include\routines_LEVELS.c", 636; list_chain_active[1] = FALSE;
 8039                        		__st.umiq	0, _list_chain_active + 1
         1E:D240  9C 2A 23   			stz	_list_chain_active + 1
 8040                        	
 8041                        		.dbg	line,	"include\routines_LEVELS.c", 637; list_chain_active[2] = FALSE;
 8042                        		__st.umiq	0, _list_chain_active + 2
         1E:D243  9C 2B 23   			stz	_list_chain_active + 2
 8043                        	
 8044                        		.dbg	line,	"include\routines_LEVELS.c", 638; 
 8045                        	
 8046                        		.dbg	line,	"include\routines_LEVELS.c", 639; player_counter_attack = 0;
 8047                        		__st.umiq	0, _player_counter_attack
         1E:D246  9C 1E 23   			stz	_player_counter_attack
 8048                        	
 8049                        		.dbg	line,	"include\routines_LEVELS.c", 640; player_attack = TRUE;
 8050                        		__st.umiq	1, _player_attack
         1E:D249  A9 01      			lda.l	#1
         1E:D24B  8D 20 23   			sta	_player_attack
 8051                        	
 8052                        		.dbg	line,	"include\routines_LEVELS.c", 641; player_state = STATE_HANG;
 8053                        		__st.umiq	10, _player_state
         1E:D24E  A9 0A      			lda.l	#10
         1E:D250  8D 18 23   			sta	_player_state
 8054                        	
 8055                        		.dbg	line,	"include\routines_LEVELS.c", 642; }
 8056                        	
 8057                        		.dbg	line,	"include\routines_LEVELS.c", 643; }
 8058    1E:D253             	.LL326:
 8059                        	
 8060                        		.dbg	line,	"include\routines_LEVELS.c", 644; }
 8061    1E:D253             	.LL323:
 8062    1E:D253             	.LL322:
 8063    1E:D253             	.LL320:
 8064    1E:D253             	.LL318:
 8065                        	
 8066                        		.dbg	line,	"include\routines_LEVELS.c", 645; }
 8067    1E:D253             	.LL315:
 8068    1E:D253             	.LL314:
 8069    1E:D253             	.LL292:
 8070                        		__return	0
         1E:D253  4C EF FF   			jmp	leave_proc
 8071                        		.dbg	clear
 8072                        		.endp
 8073                        		.pceas
 8074                        	
 8075                        		.dbg	line,	"include\routines_LEVELS.c", 648; void joypad_DIR()
 8076                        		.dbg	line,	"include\routines_LEVELS.c", 649; {
 8077                        	;***********************
 8078                        	;***********************
 8079                        	
 8080                        		.hucc
 8081    02:C000             		.proc		_joypad_DIR
 8082                        		__enter		_joypad_DIR
 8083                        	
 8084                        		.dbg	line,	"include\routines_LEVELS.c", 650; //--------------------------------------------------------------------------------------//
 8085                        	
 8086                        		.dbg	line,	"include\routines_LEVELS.c", 651; //                                        NO DIR                                        //
 8087                        	
 8088                        		.dbg	line,	"include\routines_LEVELS.c", 652; //--------------------------------------------------------------------------------------//
 8089                        	
 8090                        		.dbg	line,	"include\routines_LEVELS.c", 654; if(! (joy(JOYPAD_1) & JOY_DIR_PRESSED) )
 8091                        		__ld.uiq	0
         02:C000  62         			cla
 8092                        		 _joy.1
         02:C001  AA         			tax
         02:C002  BD 28 22   			lda	joynow, x
         02:C005  BC D3 22   			ldy	joy6now, x
 8093                        		__nand.wi	240
         02:C008  18         			clc
         02:C009  29 F0      			and	#240
         02:C00B  D0 01      			bne	!+
         02:C00D  38         			sec
         02:C00E             	!:
 8094                        		__bfalse	.LL328
         02:C00E  90 58      			bcc	.LL328
 8095                        	
 8096                        		.dbg	line,	"include\routines_LEVELS.c", 655; {
 8097                        	
 8098                        		.dbg	line,	"include\routines_LEVELS.c", 656; if(player_state == STATE_WALK || player_state == STATE_CROUCH)
 8099                        		__ld.umq	_player_state
         02:C010  AD 18 23   			lda	_player_state
 8100                        		__equ_b.uiq	1
         02:C013  C9 01      			cmp	#1
         02:C015  F0 01      			beq	!+
         02:C017  18         			clc
         02:C018             	!:
 8101                        		__btrue		.LL330
         02:C018  B0 08      			bcs	.LL330
 8102                        		__ld.umq	_player_state
         02:C01A  AD 18 23   			lda	_player_state
 8103                        		__equ_b.uiq	7
         02:C01D  C9 07      			cmp	#7
         02:C01F  F0 01      			beq	!+
         02:C021  18         			clc
         02:C022             	!:
 8104    02:C022             	.LL330:
 8105                        		__bfalse	.LL329
         02:C022  90 13      			bcc	.LL329
 8106                        	
 8107                        		.dbg	line,	"include\routines_LEVELS.c", 657; {
 8108                        	
 8109                        		.dbg	line,	"include\routines_LEVELS.c", 658; if(player_attack == FALSE)
 8110                        		__not.um	_player_attack
         02:C024  AD 20 23   			lda	_player_attack
         02:C027  18         			clc
         02:C028  D0 01      			bne	!+
         02:C02A  38         			sec
         02:C02B             	!:
 8111                        		__bfalse	.LL331
         02:C02B  90 3B      			bcc	.LL331
 8112                        	
 8113                        		.dbg	line,	"include\routines_LEVELS.c", 659; {
 8114                        	
 8115                        		.dbg	line,	"include\routines_LEVELS.c", 660; player_counter_anim = 1;
 8116                        		__st.umiq	1, _player_counter_anim
         02:C02D  A9 01      			lda.l	#1
         02:C02F  8D 1B 23   			sta	_player_counter_anim
 8117                        	
 8118                        		.dbg	line,	"include\routines_LEVELS.c", 661; player_state = STATE_IDLE;
 8119                        		__st.umiq	0, _player_state
         02:C032  9C 18 23   			stz	_player_state
 8120                        	
 8121                        		.dbg	line,	"include\routines_LEVELS.c", 662; }
 8122                        	
 8123                        		.dbg	line,	"include\routines_LEVELS.c", 663; }
 8124    02:C035             	.LL331	.alias		.LL332
 8125                        	
 8126                        		.dbg	line,	"include\routines_LEVELS.c", 666; else if(player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
 8127                        		__bra		.LL332
         02:C035  80 31      			bra	.LL332
 8128    02:C037             	.LL329:
 8129                        		__ld.umq	_player_state
         02:C037  AD 18 23   			lda	_player_state
 8130                        		__equ_b.uiq	11
         02:C03A  C9 0B      			cmp	#11
         02:C03C  F0 01      			beq	!+
         02:C03E  18         			clc
         02:C03F             	!:
 8131                        		__btrue		.LL334
         02:C03F  B0 08      			bcs	.LL334
 8132                        		__ld.umq	_player_state
         02:C041  AD 18 23   			lda	_player_state
 8133                        		__equ_b.uiq	12
         02:C044  C9 0C      			cmp	#12
         02:C046  F0 01      			beq	!+
         02:C048  18         			clc
         02:C049             	!:
 8134    02:C049             	.LL334:
 8135                        		__bfalse	.LL333
         02:C049  90 1D      			bcc	.LL333
 8136                        	
 8137                        		.dbg	line,	"include\routines_LEVELS.c", 667; {
 8138                        	
 8139                        		.dbg	line,	"include\routines_LEVELS.c", 668; if(player_attack == FALSE)
 8140                        		__not.um	_player_attack
         02:C04B  AD 20 23   			lda	_player_attack
         02:C04E  18         			clc
         02:C04F  D0 01      			bne	!+
         02:C051  38         			sec
         02:C052             	!:
 8141                        		__bfalse	.LL335
         02:C052  90 14      			bcc	.LL335
 8142                        	
 8143                        		.dbg	line,	"include\routines_LEVELS.c", 669; {
 8144                        	
 8145                        		.dbg	line,	"include\routines_LEVELS.c", 670; spr_set(player_id);
 8146                        		__ld.umq	_player_id
         02:C054  AD 17 23   			lda	_player_id
 8147                        		__call		_spr_set.1
         02:C057  20 DD E7   			call	_spr_set.1
 8148                        	
 8149                        		.dbg	line,	"include\routines_LEVELS.c", 671; spr_pattern(PLAYER_HANG_VRAM_ADR);
 8150                        		__ld.wi		7424
         02:C05A  62         			cla
         02:C05B  A0 1D      			ldy.h	#7424
 8151                        		__call		_spr_pattern.1
         02:C05D  20 26 E8   			call	_spr_pattern.1
 8152                        	
 8153                        		.dbg	line,	"include\routines_LEVELS.c", 672; player_counter_anim = 0;
 8154                        		__st.umiq	0, _player_counter_anim
         02:C060  9C 1B 23   			stz	_player_counter_anim
 8155                        	
 8156                        		.dbg	line,	"include\routines_LEVELS.c", 673; player_state = STATE_HANG;
 8157                        		__st.umiq	10, _player_state
         02:C063  A9 0A      			lda.l	#10
         02:C065  8D 18 23   			sta	_player_state
 8158                        	
 8159                        		.dbg	line,	"include\routines_LEVELS.c", 674; }
 8160                        	
 8161                        		.dbg	line,	"include\routines_LEVELS.c", 675; }
 8162    02:C068             	.LL335:
 8163                        	
 8164                        		.dbg	line,	"include\routines_LEVELS.c", 676; }
 8165    02:C068             	.LL333:
 8166    02:C068             	.LL332:
 8167                        	
 8168                        		.dbg	line,	"include\routines_LEVELS.c", 679; //--------------------------------------------------------------------------------------//
 8169                        	
 8170                        		.dbg	line,	"include\routines_LEVELS.c", 680; //                                     RIGHT BUTTON                                     //
 8171                        	
 8172                        		.dbg	line,	"include\routines_LEVELS.c", 681; //--------------------------------------------------------------------------------------//
 8173                        	
 8174                        		.dbg	line,	"include\routines_LEVELS.c", 683; if(joy(JOYPAD_1) & JOY_RIGHT)
 8175    02:C068             	.LL328:
 8176                        		__ld.uiq	0
         02:C068  62         			cla
 8177                        		 _joy.1
         02:C069  AA         			tax
         02:C06A  BD 28 22   			lda	joynow, x
         02:C06D  BC D3 22   			ldy	joy6now, x
 8178                        		__tand.wi	32
         02:C070  29 20      			and	#32
         02:C072  C9 01      	!:		cmp	#1
 8179                        		__bfalse	.LL336
         02:C074  B0 03 4C 33			bcc	.LL336
         02:C078  C4          
 8180                        	
 8181                        		.dbg	line,	"include\routines_LEVELS.c", 684; {
 8182                        	
 8183                        		.dbg	line,	"include\routines_LEVELS.c", 685; if(player_state == STATE_IDLE || player_state == STATE_WALK)
 8184                        		__not.um	_player_state
         02:C079  AD 18 23   			lda	_player_state
         02:C07C  18         			clc
         02:C07D  D0 01      			bne	!+
         02:C07F  38         			sec
         02:C080             	!:
 8185                        		__btrue		.LL338
         02:C080  B0 08      			bcs	.LL338
 8186                        		__ld.umq	_player_state
         02:C082  AD 18 23   			lda	_player_state
 8187                        		__equ_b.uiq	1
         02:C085  C9 01      			cmp	#1
         02:C087  F0 01      			beq	!+
         02:C089  18         			clc
         02:C08A             	!:
 8188    02:C08A             	.LL338:
 8189                        		__bfalse	.LL337
         02:C08A  B0 03 4C 27			bcc	.LL337
         02:C08E  C1          
 8190                        	
 8191                        		.dbg	line,	"include\routines_LEVELS.c", 686; {
 8192                        	
 8193                        		.dbg	line,	"include\routines_LEVELS.c", 687; player_axis = AXIS_RIGHT;
 8194                        		__st.umiq	0, _player_axis
         02:C08F  9C 19 23   			stz	_player_axis
 8195                        	
 8196                        		.dbg	line,	"include\routines_LEVELS.c", 689; if(player_previous_axis != player_axis)
 8197                        		__ld.umq	_player_previous_axis
         02:C092  AD 1A 23   			lda	_player_previous_axis
 8198                        		__neq_b.umq	_player_axis
         02:C095  38         			sec
         02:C096  4D 19 23   			eor	_player_axis
         02:C099  D0 01      			bne	!+
         02:C09B  18         			clc
         02:C09C             	!:
 8199                        		__bfalse	.LL339
         02:C09C  90 66      			bcc	.LL339
 8200                        	
 8201                        		.dbg	line,	"include\routines_LEVELS.c", 690; {
 8202                        	
 8203                        		.dbg	line,	"include\routines_LEVELS.c", 691; player_previous_axis = player_axis;
 8204                        		__ld.um		_player_axis
         02:C09E  AD 19 23   			lda	_player_axis
         02:C0A1  C2         			cly
 8205                        		__st.umq	_player_previous_axis
         02:C0A2  8D 1A 23   			sta	_player_previous_axis
 8206                        	
 8207                        		.dbg	line,	"include\routines_LEVELS.c", 693; spr_set(player_id);
 8208                        		__ld.umq	_player_id
         02:C0A5  AD 17 23   			lda	_player_id
 8209                        		__call		_spr_set.1
         02:C0A8  20 DD E7   			call	_spr_set.1
 8210                        	
 8211                        		.dbg	line,	"include\routines_LEVELS.c", 694; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 8212                        		__st.umiq	136, _al
         02:C0AB  A9 88      			lda.l	#136
         02:C0AD  85 F8      			sta	_al
 8213                        		__ld.uiq	0
         02:C0AF  62         			cla
 8214                        		__call		_spr_ctrl.2
         02:C0B0  20 3C E8   			call	_spr_ctrl.2
 8215                        	
 8216                        		.dbg	line,	"include\routines_LEVELS.c", 696; spr_set(chain_id);
 8217                        		__ld.umq	_chain_id
         02:C0B3  AD 25 23   			lda	_chain_id
 8218                        		__call		_spr_set.1
         02:C0B6  20 DD E7   			call	_spr_set.1
 8219                        	
 8220                        		.dbg	line,	"include\routines_LEVELS.c", 697; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 8221                        		__st.umiq	136, _al
         02:C0B9  A9 88      			lda.l	#136
         02:C0BB  85 F8      			sta	_al
 8222                        		__ld.uiq	0
         02:C0BD  62         			cla
 8223                        		__call		_spr_ctrl.2
         02:C0BE  20 3C E8   			call	_spr_ctrl.2
 8224                        	
 8225                        		.dbg	line,	"include\routines_LEVELS.c", 699; spr_set(chain_id+1);
 8226                        		__ld.um		_chain_id
         02:C0C1  AD 25 23   			lda	_chain_id
         02:C0C4  C2         			cly
 8227                        		__add.wi	1
         02:C0C5  1A         			inc	a
         02:C0C6  D0 01      			bne	!+
         02:C0C8  C8         			iny
         02:C0C9             	!:
 8228                        		__call		_spr_set.1
         02:C0C9  20 DD E7   			call	_spr_set.1
 8229                        	
 8230                        		.dbg	line,	"include\routines_LEVELS.c", 700; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 8231                        		__st.umiq	136, _al
         02:C0CC  A9 88      			lda.l	#136
         02:C0CE  85 F8      			sta	_al
 8232                        		__ld.uiq	0
         02:C0D0  62         			cla
 8233                        		__call		_spr_ctrl.2
         02:C0D1  20 3C E8   			call	_spr_ctrl.2
 8234                        	
 8235                        		.dbg	line,	"include\routines_LEVELS.c", 702; spr_set(chain_id+2);
 8236                        		__ld.um		_chain_id
         02:C0D4  AD 25 23   			lda	_chain_id
         02:C0D7  C2         			cly
 8237                        		__add.wi	2
         02:C0D8  18         			clc
         02:C0D9  69 02      			adc.l	#2
         02:C0DB  90 01      			bcc	!+
         02:C0DD  C8         			iny
         02:C0DE             	!:
 8238                        		__call		_spr_set.1
         02:C0DE  20 DD E7   			call	_spr_set.1
 8239                        	
 8240                        		.dbg	line,	"include\routines_LEVELS.c", 703; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 8241                        		__st.umiq	136, _al
         02:C0E1  A9 88      			lda.l	#136
         02:C0E3  85 F8      			sta	_al
 8242                        		__ld.uiq	0
         02:C0E5  62         			cla
 8243                        		__call		_spr_ctrl.2
         02:C0E6  20 3C E8   			call	_spr_ctrl.2
 8244                        	
 8245                        		.dbg	line,	"include\routines_LEVELS.c", 705; spr_set(weapon_id);
 8246                        		__ld.umq	_weapon_id
         02:C0E9  AD 26 23   			lda	_weapon_id
 8247                        		__call		_spr_set.1
         02:C0EC  20 DD E7   			call	_spr_set.1
 8248                        	
 8249                        		.dbg	line,	"include\routines_LEVELS.c", 706; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 8250                        		__st.umiq	136, _al
         02:C0EF  A9 88      			lda.l	#136
         02:C0F1  85 F8      			sta	_al
 8251                        		__ld.uiq	0
         02:C0F3  62         			cla
 8252                        		__call		_spr_ctrl.2
         02:C0F4  20 3C E8   			call	_spr_ctrl.2
 8253                        	
 8254                        		.dbg	line,	"include\routines_LEVELS.c", 707; spr_x(player_pos_x+1);
 8255                        		__ld.wm		_player_pos_x
         02:C0F7  AD DB 24   			lda.l	_player_pos_x
         02:C0FA  AC DC 24   			ldy.h	_player_pos_x
 8256                        		__add.wi	1
         02:C0FD  1A         			inc	a
         02:C0FE  D0 01      			bne	!+
         02:C100  C8         			iny
         02:C101             	!:
 8257                        		__call		_spr_x.1
         02:C101  20 0A E8   			call	_spr_x.1
 8258                        	
 8259                        		.dbg	line,	"include\routines_LEVELS.c", 708; }
 8260                        	
 8261                        		.dbg	line,	"include\routines_LEVELS.c", 710; if(joy(JOYPAD_1) & JOY_DOWN)
 8262    02:C104             	.LL339:
 8263                        		__ld.uiq	0
         02:C104  62         			cla
 8264                        		 _joy.1
         02:C105  AA         			tax
         02:C106  BD 28 22   			lda	joynow, x
         02:C109  BC D3 22   			ldy	joy6now, x
 8265                        		__tand.wi	64
         02:C10C  29 40      			and	#64
         02:C10E  C9 01      	!:		cmp	#1
 8266                        		__bfalse	.LL340
         02:C110  90 0D      			bcc	.LL340
 8267                        	
 8268                        		.dbg	line,	"include\routines_LEVELS.c", 711; {
 8269                        	
 8270                        		.dbg	line,	"include\routines_LEVELS.c", 712; player_counter_anim = 1;
 8271                        		__st.umiq	1, _player_counter_anim
         02:C112  A9 01      			lda.l	#1
         02:C114  8D 1B 23   			sta	_player_counter_anim
 8272                        	
 8273                        		.dbg	line,	"include\routines_LEVELS.c", 713; player_state = STATE_CROUCH;
 8274                        		__st.umiq	7, _player_state
         02:C117  A9 07      			lda.l	#7
         02:C119  8D 18 23   			sta	_player_state
 8275                        	
 8276                        		.dbg	line,	"include\routines_LEVELS.c", 714; return;
 8277                        		__bra		.LL327
         02:C11C  4C 5E CA   			bra	.LL327
 8278                        	
 8279                        		.dbg	line,	"include\routines_LEVELS.c", 715; }
 8280                        	
 8281                        		.dbg	line,	"include\routines_LEVELS.c", 717; player_state = STATE_WALK;
 8282    02:C11F             	.LL340:
 8283                        		__st.umiq	1, _player_state
         02:C11F  A9 01      			lda.l	#1
         02:C121  8D 18 23   			sta	_player_state
 8284                        	
 8285                        		.dbg	line,	"include\routines_LEVELS.c", 718; }
 8286                        	
 8287                        		.dbg	line,	"include\routines_LEVELS.c", 721; else if(player_state == STATE_JUMP)
 8288                        		__bra		.LL341
         02:C124  4C 5E CA   			bra	.LL341
 8289    02:C127             	.LL337:
 8290                        		__ld.umq	_player_state
         02:C127  AD 18 23   			lda	_player_state
 8291                        		__equ_b.uiq	4
         02:C12A  C9 04      			cmp	#4
         02:C12C  F0 01      			beq	!+
         02:C12E  18         			clc
         02:C12F             	!:
 8292                        		__bfalse	.LL342
         02:C12F  B0 03 4C D3			bcc	.LL342
         02:C133  C1          
 8293                        	
 8294                        		.dbg	line,	"include\routines_LEVELS.c", 722; {
 8295                        	
 8296                        		.dbg	line,	"include\routines_LEVELS.c", 723; if(player_attack == FALSE)
 8297                        		__not.um	_player_attack
         02:C134  AD 20 23   			lda	_player_attack
         02:C137  18         			clc
         02:C138  D0 01      			bne	!+
         02:C13A  38         			sec
         02:C13B             	!:
 8298                        		__bfalse	.LL343
         02:C13B  B0 03 4C 5E			bcc	.LL343
         02:C13F  CA          
 8299                        	
 8300                        		.dbg	line,	"include\routines_LEVELS.c", 724; {
 8301                        	
 8302                        		.dbg	line,	"include\routines_LEVELS.c", 725; if(player_axis == AXIS_LEFT)
 8303                        		__ld.umq	_player_axis
         02:C140  AD 19 23   			lda	_player_axis
 8304                        		__equ_b.uiq	1
         02:C143  C9 01      			cmp	#1
         02:C145  F0 01      			beq	!+
         02:C147  18         			clc
         02:C148             	!:
 8305                        		__bfalse	.LL344
         02:C148  90 6B      			bcc	.LL344
 8306                        	
 8307                        		.dbg	line,	"include\routines_LEVELS.c", 726; {
 8308                        	
 8309                        		.dbg	line,	"include\routines_LEVELS.c", 727; player_axis = AXIS_RIGHT;
 8310                        		__st.umiq	0, _player_axis
         02:C14A  9C 19 23   			stz	_player_axis
 8311                        	
 8312                        		.dbg	line,	"include\routines_LEVELS.c", 728; player_previous_axis = player_axis;
 8313                        		__ld.um		_player_axis
         02:C14D  AD 19 23   			lda	_player_axis
         02:C150  C2         			cly
 8314                        		__st.umq	_player_previous_axis
         02:C151  8D 1A 23   			sta	_player_previous_axis
 8315                        	
 8316                        		.dbg	line,	"include\routines_LEVELS.c", 730; spr_set(player_id);
 8317                        		__ld.umq	_player_id
         02:C154  AD 17 23   			lda	_player_id
 8318                        		__call		_spr_set.1
         02:C157  20 DD E7   			call	_spr_set.1
 8319                        	
 8320                        		.dbg	line,	"include\routines_LEVELS.c", 731; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 8321                        		__st.umiq	136, _al
         02:C15A  A9 88      			lda.l	#136
         02:C15C  85 F8      			sta	_al
 8322                        		__ld.uiq	0
         02:C15E  62         			cla
 8323                        		__call		_spr_ctrl.2
         02:C15F  20 3C E8   			call	_spr_ctrl.2
 8324                        	
 8325                        		.dbg	line,	"include\routines_LEVELS.c", 733; spr_set(chain_id);
 8326                        		__ld.umq	_chain_id
         02:C162  AD 25 23   			lda	_chain_id
 8327                        		__call		_spr_set.1
         02:C165  20 DD E7   			call	_spr_set.1
 8328                        	
 8329                        		.dbg	line,	"include\routines_LEVELS.c", 734; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 8330                        		__st.umiq	136, _al
         02:C168  A9 88      			lda.l	#136
         02:C16A  85 F8      			sta	_al
 8331                        		__ld.uiq	0
         02:C16C  62         			cla
 8332                        		__call		_spr_ctrl.2
         02:C16D  20 3C E8   			call	_spr_ctrl.2
 8333                        	
 8334                        		.dbg	line,	"include\routines_LEVELS.c", 736; spr_set(chain_id+1);
 8335                        		__ld.um		_chain_id
         02:C170  AD 25 23   			lda	_chain_id
         02:C173  C2         			cly
 8336                        		__add.wi	1
         02:C174  1A         			inc	a
         02:C175  D0 01      			bne	!+
         02:C177  C8         			iny
         02:C178             	!:
 8337                        		__call		_spr_set.1
         02:C178  20 DD E7   			call	_spr_set.1
 8338                        	
 8339                        		.dbg	line,	"include\routines_LEVELS.c", 737; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 8340                        		__st.umiq	136, _al
         02:C17B  A9 88      			lda.l	#136
         02:C17D  85 F8      			sta	_al
 8341                        		__ld.uiq	0
         02:C17F  62         			cla
 8342                        		__call		_spr_ctrl.2
         02:C180  20 3C E8   			call	_spr_ctrl.2
 8343                        	
 8344                        		.dbg	line,	"include\routines_LEVELS.c", 739; spr_set(chain_id+2);
 8345                        		__ld.um		_chain_id
         02:C183  AD 25 23   			lda	_chain_id
         02:C186  C2         			cly
 8346                        		__add.wi	2
         02:C187  18         			clc
         02:C188  69 02      			adc.l	#2
         02:C18A  90 01      			bcc	!+
         02:C18C  C8         			iny
         02:C18D             	!:
 8347                        		__call		_spr_set.1
         02:C18D  20 DD E7   			call	_spr_set.1
 8348                        	
 8349                        		.dbg	line,	"include\routines_LEVELS.c", 740; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 8350                        		__st.umiq	136, _al
         02:C190  A9 88      			lda.l	#136
         02:C192  85 F8      			sta	_al
 8351                        		__ld.uiq	0
         02:C194  62         			cla
 8352                        		__call		_spr_ctrl.2
         02:C195  20 3C E8   			call	_spr_ctrl.2
 8353                        	
 8354                        		.dbg	line,	"include\routines_LEVELS.c", 742; spr_set(weapon_id);
 8355                        		__ld.umq	_weapon_id
         02:C198  AD 26 23   			lda	_weapon_id
 8356                        		__call		_spr_set.1
         02:C19B  20 DD E7   			call	_spr_set.1
 8357                        	
 8358                        		.dbg	line,	"include\routines_LEVELS.c", 743; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 8359                        		__st.umiq	136, _al
         02:C19E  A9 88      			lda.l	#136
         02:C1A0  85 F8      			sta	_al
 8360                        		__ld.uiq	0
         02:C1A2  62         			cla
 8361                        		__call		_spr_ctrl.2
         02:C1A3  20 3C E8   			call	_spr_ctrl.2
 8362                        	
 8363                        		.dbg	line,	"include\routines_LEVELS.c", 744; spr_x(player_pos_x-5);
 8364                        		__ld.wm		_player_pos_x
         02:C1A6  AD DB 24   			lda.l	_player_pos_x
         02:C1A9  AC DC 24   			ldy.h	_player_pos_x
 8365                        		__sub.wi	5
         02:C1AC  38         			sec
         02:C1AD  E9 05      			sbc.l	#5
         02:C1AF  B0 01      			bcs	!+
         02:C1B1  88         			dey
         02:C1B2             	!:
 8366                        		__call		_spr_x.1
         02:C1B2  20 0A E8   			call	_spr_x.1
 8367                        	
 8368                        		.dbg	line,	"include\routines_LEVELS.c", 745; }
 8369                        	
 8370                        		.dbg	line,	"include\routines_LEVELS.c", 747; if(player_index_jump > 11 && player_index_jump < 15)
 8371    02:C1B5             	.LL344:
 8372                        		__ld.umq	_player_index_jump
         02:C1B5  AD 1C 23   			lda	_player_index_jump
 8373                        		__ugt_b.uiq	11
         02:C1B8  18         			clc			; Subtract integer+1 from A.
         02:C1B9  E9 0B      			sbc	#11		; CS if A > integer.
 8374                        		__bfalse	.LL346
         02:C1BB  90 09      			bcc	.LL346
 8375                        		__ld.umq	_player_index_jump
         02:C1BD  AD 1C 23   			lda	_player_index_jump
 8376                        		__ult_b.uiq	15
         02:C1C0  C9 0F      			cmp	#15		; Subtract integer from A.
         02:C1C2  6A         			ror	a		; CC if A < integer.
         02:C1C3  49 80      			eor	#$80
         02:C1C5  2A         			rol	a
 8377    02:C1C6             	.LL346:
 8378                        		__bfalse	.LL345
         02:C1C6  B0 03 4C 5E			bcc	.LL345
         02:C1CA  CA          
 8379                        	
 8380                        		.dbg	line,	"include\routines_LEVELS.c", 748; {
 8381                        	
 8382                        		.dbg	line,	"include\routines_LEVELS.c", 749; player_state = STATE_JUMP_RIGHT;                        
 8383                        		__st.umiq	5, _player_state
         02:C1CB  A9 05      			lda.l	#5
         02:C1CD  8D 18 23   			sta	_player_state
 8384                        	
 8385                        		.dbg	line,	"include\routines_LEVELS.c", 750; }
 8386                        	
 8387                        		.dbg	line,	"include\routines_LEVELS.c", 751; }
 8388    02:C1D0             	.LL345	.alias		.LL347
 8389                        	
 8390                        		.dbg	line,	"include\routines_LEVELS.c", 752; }
 8391    02:C1D0             	.LL343	.alias		.LL347
 8392                        	
 8393                        		.dbg	line,	"include\routines_LEVELS.c", 755; else if(player_state == STATE_JUMP_LEFT)
 8394                        		__bra		.LL347
         02:C1D0  4C 5E CA   			bra	.LL347
 8395    02:C1D3             	.LL342:
 8396                        		__ld.umq	_player_state
         02:C1D3  AD 18 23   			lda	_player_state
 8397                        		__equ_b.uiq	6
         02:C1D6  C9 06      			cmp	#6
         02:C1D8  F0 01      			beq	!+
         02:C1DA  18         			clc
         02:C1DB             	!:
 8398                        		__bfalse	.LL348
         02:C1DB  90 7B      			bcc	.LL348
 8399                        	
 8400                        		.dbg	line,	"include\routines_LEVELS.c", 756; {
 8401                        	
 8402                        		.dbg	line,	"include\routines_LEVELS.c", 757; if(player_axis == AXIS_LEFT)
 8403                        		__ld.umq	_player_axis
         02:C1DD  AD 19 23   			lda	_player_axis
 8404                        		__equ_b.uiq	1
         02:C1E0  C9 01      			cmp	#1
         02:C1E2  F0 01      			beq	!+
         02:C1E4  18         			clc
         02:C1E5             	!:
 8405                        		__bfalse	.LL349
         02:C1E5  B0 03 4C 5E			bcc	.LL349
         02:C1E9  CA          
 8406                        	
 8407                        		.dbg	line,	"include\routines_LEVELS.c", 758; {
 8408                        	
 8409                        		.dbg	line,	"include\routines_LEVELS.c", 759; player_axis = AXIS_RIGHT;
 8410                        		__st.umiq	0, _player_axis
         02:C1EA  9C 19 23   			stz	_player_axis
 8411                        	
 8412                        		.dbg	line,	"include\routines_LEVELS.c", 760; player_previous_axis = player_axis;
 8413                        		__ld.um		_player_axis
         02:C1ED  AD 19 23   			lda	_player_axis
         02:C1F0  C2         			cly
 8414                        		__st.umq	_player_previous_axis
         02:C1F1  8D 1A 23   			sta	_player_previous_axis
 8415                        	
 8416                        		.dbg	line,	"include\routines_LEVELS.c", 762; spr_set(player_id);
 8417                        		__ld.umq	_player_id
         02:C1F4  AD 17 23   			lda	_player_id
 8418                        		__call		_spr_set.1
         02:C1F7  20 DD E7   			call	_spr_set.1
 8419                        	
 8420                        		.dbg	line,	"include\routines_LEVELS.c", 763; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 8421                        		__st.umiq	136, _al
         02:C1FA  A9 88      			lda.l	#136
         02:C1FC  85 F8      			sta	_al
 8422                        		__ld.uiq	0
         02:C1FE  62         			cla
 8423                        		__call		_spr_ctrl.2
         02:C1FF  20 3C E8   			call	_spr_ctrl.2
 8424                        	
 8425                        		.dbg	line,	"include\routines_LEVELS.c", 765; spr_set(chain_id);
 8426                        		__ld.umq	_chain_id
         02:C202  AD 25 23   			lda	_chain_id
 8427                        		__call		_spr_set.1
         02:C205  20 DD E7   			call	_spr_set.1
 8428                        	
 8429                        		.dbg	line,	"include\routines_LEVELS.c", 766; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 8430                        		__st.umiq	136, _al
         02:C208  A9 88      			lda.l	#136
         02:C20A  85 F8      			sta	_al
 8431                        		__ld.uiq	0
         02:C20C  62         			cla
 8432                        		__call		_spr_ctrl.2
         02:C20D  20 3C E8   			call	_spr_ctrl.2
 8433                        	
 8434                        		.dbg	line,	"include\routines_LEVELS.c", 768; spr_set(chain_id+1);
 8435                        		__ld.um		_chain_id
         02:C210  AD 25 23   			lda	_chain_id
         02:C213  C2         			cly
 8436                        		__add.wi	1
         02:C214  1A         			inc	a
         02:C215  D0 01      			bne	!+
         02:C217  C8         			iny
         02:C218             	!:
 8437                        		__call		_spr_set.1
         02:C218  20 DD E7   			call	_spr_set.1
 8438                        	
 8439                        		.dbg	line,	"include\routines_LEVELS.c", 769; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 8440                        		__st.umiq	136, _al
         02:C21B  A9 88      			lda.l	#136
         02:C21D  85 F8      			sta	_al
 8441                        		__ld.uiq	0
         02:C21F  62         			cla
 8442                        		__call		_spr_ctrl.2
         02:C220  20 3C E8   			call	_spr_ctrl.2
 8443                        	
 8444                        		.dbg	line,	"include\routines_LEVELS.c", 771; spr_set(chain_id+2);
 8445                        		__ld.um		_chain_id
         02:C223  AD 25 23   			lda	_chain_id
         02:C226  C2         			cly
 8446                        		__add.wi	2
         02:C227  18         			clc
         02:C228  69 02      			adc.l	#2
         02:C22A  90 01      			bcc	!+
         02:C22C  C8         			iny
         02:C22D             	!:
 8447                        		__call		_spr_set.1
         02:C22D  20 DD E7   			call	_spr_set.1
 8448                        	
 8449                        		.dbg	line,	"include\routines_LEVELS.c", 772; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 8450                        		__st.umiq	136, _al
         02:C230  A9 88      			lda.l	#136
         02:C232  85 F8      			sta	_al
 8451                        		__ld.uiq	0
         02:C234  62         			cla
 8452                        		__call		_spr_ctrl.2
         02:C235  20 3C E8   			call	_spr_ctrl.2
 8453                        	
 8454                        		.dbg	line,	"include\routines_LEVELS.c", 774; spr_set(weapon_id);
 8455                        		__ld.umq	_weapon_id
         02:C238  AD 26 23   			lda	_weapon_id
 8456                        		__call		_spr_set.1
         02:C23B  20 DD E7   			call	_spr_set.1
 8457                        	
 8458                        		.dbg	line,	"include\routines_LEVELS.c", 775; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 8459                        		__st.umiq	136, _al
         02:C23E  A9 88      			lda.l	#136
         02:C240  85 F8      			sta	_al
 8460                        		__ld.uiq	0
         02:C242  62         			cla
 8461                        		__call		_spr_ctrl.2
         02:C243  20 3C E8   			call	_spr_ctrl.2
 8462                        	
 8463                        		.dbg	line,	"include\routines_LEVELS.c", 776; spr_x(player_pos_x-5);
 8464                        		__ld.wm		_player_pos_x
         02:C246  AD DB 24   			lda.l	_player_pos_x
         02:C249  AC DC 24   			ldy.h	_player_pos_x
 8465                        		__sub.wi	5
         02:C24C  38         			sec
         02:C24D  E9 05      			sbc.l	#5
         02:C24F  B0 01      			bcs	!+
         02:C251  88         			dey
         02:C252             	!:
 8466                        		__call		_spr_x.1
         02:C252  20 0A E8   			call	_spr_x.1
 8467                        	
 8468                        		.dbg	line,	"include\routines_LEVELS.c", 777; }
 8469                        	
 8470                        		.dbg	line,	"include\routines_LEVELS.c", 778; }
 8471    02:C255             	.LL349	.alias		.LL350
 8472                        	
 8473                        		.dbg	line,	"include\routines_LEVELS.c", 781; else if(player_state == STATE_CROUCH)
 8474                        		__bra		.LL350
         02:C255  4C 5E CA   			bra	.LL350
 8475    02:C258             	.LL348:
 8476                        		__ld.umq	_player_state
         02:C258  AD 18 23   			lda	_player_state
 8477                        		__equ_b.uiq	7
         02:C25B  C9 07      			cmp	#7
         02:C25D  F0 01      			beq	!+
         02:C25F  18         			clc
         02:C260             	!:
 8478                        		__bfalse	.LL351
         02:C260  90 7B      			bcc	.LL351
 8479                        	
 8480                        		.dbg	line,	"include\routines_LEVELS.c", 782; {
 8481                        	
 8482                        		.dbg	line,	"include\routines_LEVELS.c", 783; if(player_axis == AXIS_LEFT)
 8483                        		__ld.umq	_player_axis
         02:C262  AD 19 23   			lda	_player_axis
 8484                        		__equ_b.uiq	1
         02:C265  C9 01      			cmp	#1
         02:C267  F0 01      			beq	!+
         02:C269  18         			clc
         02:C26A             	!:
 8485                        		__bfalse	.LL352
         02:C26A  B0 03 4C 5E			bcc	.LL352
         02:C26E  CA          
 8486                        	
 8487                        		.dbg	line,	"include\routines_LEVELS.c", 784; {
 8488                        	
 8489                        		.dbg	line,	"include\routines_LEVELS.c", 785; player_axis = AXIS_RIGHT;
 8490                        		__st.umiq	0, _player_axis
         02:C26F  9C 19 23   			stz	_player_axis
 8491                        	
 8492                        		.dbg	line,	"include\routines_LEVELS.c", 786; player_previous_axis = player_axis;
 8493                        		__ld.um		_player_axis
         02:C272  AD 19 23   			lda	_player_axis
         02:C275  C2         			cly
 8494                        		__st.umq	_player_previous_axis
         02:C276  8D 1A 23   			sta	_player_previous_axis
 8495                        	
 8496                        		.dbg	line,	"include\routines_LEVELS.c", 788; spr_set(player_id);
 8497                        		__ld.umq	_player_id
         02:C279  AD 17 23   			lda	_player_id
 8498                        		__call		_spr_set.1
         02:C27C  20 DD E7   			call	_spr_set.1
 8499                        	
 8500                        		.dbg	line,	"include\routines_LEVELS.c", 789; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 8501                        		__st.umiq	136, _al
         02:C27F  A9 88      			lda.l	#136
         02:C281  85 F8      			sta	_al
 8502                        		__ld.uiq	0
         02:C283  62         			cla
 8503                        		__call		_spr_ctrl.2
         02:C284  20 3C E8   			call	_spr_ctrl.2
 8504                        	
 8505                        		.dbg	line,	"include\routines_LEVELS.c", 791; spr_set(chain_id);
 8506                        		__ld.umq	_chain_id
         02:C287  AD 25 23   			lda	_chain_id
 8507                        		__call		_spr_set.1
         02:C28A  20 DD E7   			call	_spr_set.1
 8508                        	
 8509                        		.dbg	line,	"include\routines_LEVELS.c", 792; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 8510                        		__st.umiq	136, _al
         02:C28D  A9 88      			lda.l	#136
         02:C28F  85 F8      			sta	_al
 8511                        		__ld.uiq	0
         02:C291  62         			cla
 8512                        		__call		_spr_ctrl.2
         02:C292  20 3C E8   			call	_spr_ctrl.2
 8513                        	
 8514                        		.dbg	line,	"include\routines_LEVELS.c", 794; spr_set(chain_id+1);
 8515                        		__ld.um		_chain_id
         02:C295  AD 25 23   			lda	_chain_id
         02:C298  C2         			cly
 8516                        		__add.wi	1
         02:C299  1A         			inc	a
         02:C29A  D0 01      			bne	!+
         02:C29C  C8         			iny
         02:C29D             	!:
 8517                        		__call		_spr_set.1
         02:C29D  20 DD E7   			call	_spr_set.1
 8518                        	
 8519                        		.dbg	line,	"include\routines_LEVELS.c", 795; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 8520                        		__st.umiq	136, _al
         02:C2A0  A9 88      			lda.l	#136
         02:C2A2  85 F8      			sta	_al
 8521                        		__ld.uiq	0
         02:C2A4  62         			cla
 8522                        		__call		_spr_ctrl.2
         02:C2A5  20 3C E8   			call	_spr_ctrl.2
 8523                        	
 8524                        		.dbg	line,	"include\routines_LEVELS.c", 797; spr_set(chain_id+2);
 8525                        		__ld.um		_chain_id
         02:C2A8  AD 25 23   			lda	_chain_id
         02:C2AB  C2         			cly
 8526                        		__add.wi	2
         02:C2AC  18         			clc
         02:C2AD  69 02      			adc.l	#2
         02:C2AF  90 01      			bcc	!+
         02:C2B1  C8         			iny
         02:C2B2             	!:
 8527                        		__call		_spr_set.1
         02:C2B2  20 DD E7   			call	_spr_set.1
 8528                        	
 8529                        		.dbg	line,	"include\routines_LEVELS.c", 798; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 8530                        		__st.umiq	136, _al
         02:C2B5  A9 88      			lda.l	#136
         02:C2B7  85 F8      			sta	_al
 8531                        		__ld.uiq	0
         02:C2B9  62         			cla
 8532                        		__call		_spr_ctrl.2
         02:C2BA  20 3C E8   			call	_spr_ctrl.2
 8533                        	
 8534                        		.dbg	line,	"include\routines_LEVELS.c", 800; spr_set(weapon_id);
 8535                        		__ld.umq	_weapon_id
         02:C2BD  AD 26 23   			lda	_weapon_id
 8536                        		__call		_spr_set.1
         02:C2C0  20 DD E7   			call	_spr_set.1
 8537                        	
 8538                        		.dbg	line,	"include\routines_LEVELS.c", 801; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 8539                        		__st.umiq	136, _al
         02:C2C3  A9 88      			lda.l	#136
         02:C2C5  85 F8      			sta	_al
 8540                        		__ld.uiq	0
         02:C2C7  62         			cla
 8541                        		__call		_spr_ctrl.2
         02:C2C8  20 3C E8   			call	_spr_ctrl.2
 8542                        	
 8543                        		.dbg	line,	"include\routines_LEVELS.c", 802; spr_x(player_pos_x-1);
 8544                        		__ld.wm		_player_pos_x
         02:C2CB  AD DB 24   			lda.l	_player_pos_x
         02:C2CE  AC DC 24   			ldy.h	_player_pos_x
 8545                        		__sub.wi	1
         02:C2D1  38         			sec
         02:C2D2  E9 01      			sbc.l	#1
         02:C2D4  B0 01      			bcs	!+
         02:C2D6  88         			dey
         02:C2D7             	!:
 8546                        		__call		_spr_x.1
         02:C2D7  20 0A E8   			call	_spr_x.1
 8547                        	
 8548                        		.dbg	line,	"include\routines_LEVELS.c", 803; }
 8549                        	
 8550                        		.dbg	line,	"include\routines_LEVELS.c", 804; }
 8551    02:C2DA             	.LL352	.alias		.LL353
 8552                        	
 8553                        		.dbg	line,	"include\routines_LEVELS.c", 807; else if(player_state == STATE_FALL)
 8554                        		__bra		.LL353
         02:C2DA  4C 5E CA   			bra	.LL353
 8555    02:C2DD             	.LL351:
 8556                        		__ld.umq	_player_state
         02:C2DD  AD 18 23   			lda	_player_state
 8557                        		__equ_b.uiq	9
         02:C2E0  C9 09      			cmp	#9
         02:C2E2  F0 01      			beq	!+
         02:C2E4  18         			clc
         02:C2E5             	!:
 8558                        		__bfalse	.LL354
         02:C2E5  B0 03 4C 71			bcc	.LL354
         02:C2E9  C3          
 8559                        	
 8560                        		.dbg	line,	"include\routines_LEVELS.c", 808; {
 8561                        	
 8562                        		.dbg	line,	"include\routines_LEVELS.c", 809; if(player_attack == FALSE)
 8563                        		__not.um	_player_attack
         02:C2EA  AD 20 23   			lda	_player_attack
         02:C2ED  18         			clc
         02:C2EE  D0 01      			bne	!+
         02:C2F0  38         			sec
         02:C2F1             	!:
 8564                        		__bfalse	.LL355
         02:C2F1  B0 03 4C 5E			bcc	.LL355
         02:C2F5  CA          
 8565                        	
 8566                        		.dbg	line,	"include\routines_LEVELS.c", 810; {
 8567                        	
 8568                        		.dbg	line,	"include\routines_LEVELS.c", 811; if(player_axis == AXIS_LEFT)
 8569                        		__ld.umq	_player_axis
         02:C2F6  AD 19 23   			lda	_player_axis
 8570                        		__equ_b.uiq	1
         02:C2F9  C9 01      			cmp	#1
         02:C2FB  F0 01      			beq	!+
         02:C2FD  18         			clc
         02:C2FE             	!:
 8571                        		__bfalse	.LL356
         02:C2FE  B0 03 4C 5E			bcc	.LL356
         02:C302  CA          
 8572                        	
 8573                        		.dbg	line,	"include\routines_LEVELS.c", 812; {
 8574                        	
 8575                        		.dbg	line,	"include\routines_LEVELS.c", 813; player_axis = AXIS_RIGHT;
 8576                        		__st.umiq	0, _player_axis
         02:C303  9C 19 23   			stz	_player_axis
 8577                        	
 8578                        		.dbg	line,	"include\routines_LEVELS.c", 814; player_previous_axis = player_axis;
 8579                        		__ld.um		_player_axis
         02:C306  AD 19 23   			lda	_player_axis
         02:C309  C2         			cly
 8580                        		__st.umq	_player_previous_axis
         02:C30A  8D 1A 23   			sta	_player_previous_axis
 8581                        	
 8582                        		.dbg	line,	"include\routines_LEVELS.c", 816; spr_set(player_id);
 8583                        		__ld.umq	_player_id
         02:C30D  AD 17 23   			lda	_player_id
 8584                        		__call		_spr_set.1
         02:C310  20 DD E7   			call	_spr_set.1
 8585                        	
 8586                        		.dbg	line,	"include\routines_LEVELS.c", 817; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 8587                        		__st.umiq	136, _al
         02:C313  A9 88      			lda.l	#136
         02:C315  85 F8      			sta	_al
 8588                        		__ld.uiq	0
         02:C317  62         			cla
 8589                        		__call		_spr_ctrl.2
         02:C318  20 3C E8   			call	_spr_ctrl.2
 8590                        	
 8591                        		.dbg	line,	"include\routines_LEVELS.c", 819; spr_set(chain_id);
 8592                        		__ld.umq	_chain_id
         02:C31B  AD 25 23   			lda	_chain_id
 8593                        		__call		_spr_set.1
         02:C31E  20 DD E7   			call	_spr_set.1
 8594                        	
 8595                        		.dbg	line,	"include\routines_LEVELS.c", 820; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 8596                        		__st.umiq	136, _al
         02:C321  A9 88      			lda.l	#136
         02:C323  85 F8      			sta	_al
 8597                        		__ld.uiq	0
         02:C325  62         			cla
 8598                        		__call		_spr_ctrl.2
         02:C326  20 3C E8   			call	_spr_ctrl.2
 8599                        	
 8600                        		.dbg	line,	"include\routines_LEVELS.c", 822; spr_set(chain_id+1);
 8601                        		__ld.um		_chain_id
         02:C329  AD 25 23   			lda	_chain_id
         02:C32C  C2         			cly
 8602                        		__add.wi	1
         02:C32D  1A         			inc	a
         02:C32E  D0 01      			bne	!+
         02:C330  C8         			iny
         02:C331             	!:
 8603                        		__call		_spr_set.1
         02:C331  20 DD E7   			call	_spr_set.1
 8604                        	
 8605                        		.dbg	line,	"include\routines_LEVELS.c", 823; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 8606                        		__st.umiq	136, _al
         02:C334  A9 88      			lda.l	#136
         02:C336  85 F8      			sta	_al
 8607                        		__ld.uiq	0
         02:C338  62         			cla
 8608                        		__call		_spr_ctrl.2
         02:C339  20 3C E8   			call	_spr_ctrl.2
 8609                        	
 8610                        		.dbg	line,	"include\routines_LEVELS.c", 825; spr_set(chain_id+2);
 8611                        		__ld.um		_chain_id
         02:C33C  AD 25 23   			lda	_chain_id
         02:C33F  C2         			cly
 8612                        		__add.wi	2
         02:C340  18         			clc
         02:C341  69 02      			adc.l	#2
         02:C343  90 01      			bcc	!+
         02:C345  C8         			iny
         02:C346             	!:
 8613                        		__call		_spr_set.1
         02:C346  20 DD E7   			call	_spr_set.1
 8614                        	
 8615                        		.dbg	line,	"include\routines_LEVELS.c", 826; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 8616                        		__st.umiq	136, _al
         02:C349  A9 88      			lda.l	#136
         02:C34B  85 F8      			sta	_al
 8617                        		__ld.uiq	0
         02:C34D  62         			cla
 8618                        		__call		_spr_ctrl.2
         02:C34E  20 3C E8   			call	_spr_ctrl.2
 8619                        	
 8620                        		.dbg	line,	"include\routines_LEVELS.c", 828; spr_set(weapon_id);
 8621                        		__ld.umq	_weapon_id
         02:C351  AD 26 23   			lda	_weapon_id
 8622                        		__call		_spr_set.1
         02:C354  20 DD E7   			call	_spr_set.1
 8623                        	
 8624                        		.dbg	line,	"include\routines_LEVELS.c", 829; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 8625                        		__st.umiq	136, _al
         02:C357  A9 88      			lda.l	#136
         02:C359  85 F8      			sta	_al
 8626                        		__ld.uiq	0
         02:C35B  62         			cla
 8627                        		__call		_spr_ctrl.2
         02:C35C  20 3C E8   			call	_spr_ctrl.2
 8628                        	
 8629                        		.dbg	line,	"include\routines_LEVELS.c", 830; spr_x(player_pos_x-4);
 8630                        		__ld.wm		_player_pos_x
         02:C35F  AD DB 24   			lda.l	_player_pos_x
         02:C362  AC DC 24   			ldy.h	_player_pos_x
 8631                        		__sub.wi	4
         02:C365  38         			sec
         02:C366  E9 04      			sbc.l	#4
         02:C368  B0 01      			bcs	!+
         02:C36A  88         			dey
         02:C36B             	!:
 8632                        		__call		_spr_x.1
         02:C36B  20 0A E8   			call	_spr_x.1
 8633                        	
 8634                        		.dbg	line,	"include\routines_LEVELS.c", 831; }
 8635                        	
 8636                        		.dbg	line,	"include\routines_LEVELS.c", 832; }
 8637    02:C36E             	.LL356	.alias		.LL357
 8638                        	
 8639                        		.dbg	line,	"include\routines_LEVELS.c", 833; }
 8640    02:C36E             	.LL355	.alias		.LL357
 8641                        	
 8642                        		.dbg	line,	"include\routines_LEVELS.c", 836; else if(player_state == STATE_HANG)
 8643                        		__bra		.LL357
         02:C36E  4C 5E CA   			bra	.LL357
 8644    02:C371             	.LL354:
 8645                        		__ld.umq	_player_state
         02:C371  AD 18 23   			lda	_player_state
 8646                        		__equ_b.uiq	10
         02:C374  C9 0A      			cmp	#10
         02:C376  F0 01      			beq	!+
         02:C378  18         			clc
         02:C379             	!:
 8647                        		__bfalse	.LL358
         02:C379  B0 03 4C 05			bcc	.LL358
         02:C37D  C4          
 8648                        	
 8649                        		.dbg	line,	"include\routines_LEVELS.c", 837; {
 8650                        	
 8651                        		.dbg	line,	"include\routines_LEVELS.c", 838; if(player_attack == FALSE)
 8652                        		__not.um	_player_attack
         02:C37E  AD 20 23   			lda	_player_attack
         02:C381  18         			clc
         02:C382  D0 01      			bne	!+
         02:C384  38         			sec
         02:C385             	!:
 8653                        		__bfalse	.LL359
         02:C385  B0 03 4C 5E			bcc	.LL359
         02:C389  CA          
 8654                        	
 8655                        		.dbg	line,	"include\routines_LEVELS.c", 839; {
 8656                        	
 8657                        		.dbg	line,	"include\routines_LEVELS.c", 840; if(player_axis == AXIS_LEFT)
 8658                        		__ld.umq	_player_axis
         02:C38A  AD 19 23   			lda	_player_axis
 8659                        		__equ_b.uiq	1
         02:C38D  C9 01      			cmp	#1
         02:C38F  F0 01      			beq	!+
         02:C391  18         			clc
         02:C392             	!:
 8660                        		__bfalse	.LL360
         02:C392  B0 03 4C 5E			bcc	.LL360
         02:C396  CA          
 8661                        	
 8662                        		.dbg	line,	"include\routines_LEVELS.c", 841; {
 8663                        	
 8664                        		.dbg	line,	"include\routines_LEVELS.c", 842; player_axis = AXIS_RIGHT;
 8665                        		__st.umiq	0, _player_axis
         02:C397  9C 19 23   			stz	_player_axis
 8666                        	
 8667                        		.dbg	line,	"include\routines_LEVELS.c", 843; player_previous_axis = player_axis;
 8668                        		__ld.um		_player_axis
         02:C39A  AD 19 23   			lda	_player_axis
         02:C39D  C2         			cly
 8669                        		__st.umq	_player_previous_axis
         02:C39E  8D 1A 23   			sta	_player_previous_axis
 8670                        	
 8671                        		.dbg	line,	"include\routines_LEVELS.c", 845; spr_set(player_id);
 8672                        		__ld.umq	_player_id
         02:C3A1  AD 17 23   			lda	_player_id
 8673                        		__call		_spr_set.1
         02:C3A4  20 DD E7   			call	_spr_set.1
 8674                        	
 8675                        		.dbg	line,	"include\routines_LEVELS.c", 846; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 8676                        		__st.umiq	136, _al
         02:C3A7  A9 88      			lda.l	#136
         02:C3A9  85 F8      			sta	_al
 8677                        		__ld.uiq	0
         02:C3AB  62         			cla
 8678                        		__call		_spr_ctrl.2
         02:C3AC  20 3C E8   			call	_spr_ctrl.2
 8679                        	
 8680                        		.dbg	line,	"include\routines_LEVELS.c", 848; spr_set(chain_id);
 8681                        		__ld.umq	_chain_id
         02:C3AF  AD 25 23   			lda	_chain_id
 8682                        		__call		_spr_set.1
         02:C3B2  20 DD E7   			call	_spr_set.1
 8683                        	
 8684                        		.dbg	line,	"include\routines_LEVELS.c", 849; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 8685                        		__st.umiq	136, _al
         02:C3B5  A9 88      			lda.l	#136
         02:C3B7  85 F8      			sta	_al
 8686                        		__ld.uiq	0
         02:C3B9  62         			cla
 8687                        		__call		_spr_ctrl.2
         02:C3BA  20 3C E8   			call	_spr_ctrl.2
 8688                        	
 8689                        		.dbg	line,	"include\routines_LEVELS.c", 851; spr_set(chain_id+1);
 8690                        		__ld.um		_chain_id
         02:C3BD  AD 25 23   			lda	_chain_id
         02:C3C0  C2         			cly
 8691                        		__add.wi	1
         02:C3C1  1A         			inc	a
         02:C3C2  D0 01      			bne	!+
         02:C3C4  C8         			iny
         02:C3C5             	!:
 8692                        		__call		_spr_set.1
         02:C3C5  20 DD E7   			call	_spr_set.1
 8693                        	
 8694                        		.dbg	line,	"include\routines_LEVELS.c", 852; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 8695                        		__st.umiq	136, _al
         02:C3C8  A9 88      			lda.l	#136
         02:C3CA  85 F8      			sta	_al
 8696                        		__ld.uiq	0
         02:C3CC  62         			cla
 8697                        		__call		_spr_ctrl.2
         02:C3CD  20 3C E8   			call	_spr_ctrl.2
 8698                        	
 8699                        		.dbg	line,	"include\routines_LEVELS.c", 854; spr_set(chain_id+2);
 8700                        		__ld.um		_chain_id
         02:C3D0  AD 25 23   			lda	_chain_id
         02:C3D3  C2         			cly
 8701                        		__add.wi	2
         02:C3D4  18         			clc
         02:C3D5  69 02      			adc.l	#2
         02:C3D7  90 01      			bcc	!+
         02:C3D9  C8         			iny
         02:C3DA             	!:
 8702                        		__call		_spr_set.1
         02:C3DA  20 DD E7   			call	_spr_set.1
 8703                        	
 8704                        		.dbg	line,	"include\routines_LEVELS.c", 855; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 8705                        		__st.umiq	136, _al
         02:C3DD  A9 88      			lda.l	#136
         02:C3DF  85 F8      			sta	_al
 8706                        		__ld.uiq	0
         02:C3E1  62         			cla
 8707                        		__call		_spr_ctrl.2
         02:C3E2  20 3C E8   			call	_spr_ctrl.2
 8708                        	
 8709                        		.dbg	line,	"include\routines_LEVELS.c", 857; spr_set(weapon_id);
 8710                        		__ld.umq	_weapon_id
         02:C3E5  AD 26 23   			lda	_weapon_id
 8711                        		__call		_spr_set.1
         02:C3E8  20 DD E7   			call	_spr_set.1
 8712                        	
 8713                        		.dbg	line,	"include\routines_LEVELS.c", 858; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 8714                        		__st.umiq	136, _al
         02:C3EB  A9 88      			lda.l	#136
         02:C3ED  85 F8      			sta	_al
 8715                        		__ld.uiq	0
         02:C3EF  62         			cla
 8716                        		__call		_spr_ctrl.2
         02:C3F0  20 3C E8   			call	_spr_ctrl.2
 8717                        	
 8718                        		.dbg	line,	"include\routines_LEVELS.c", 859; spr_x(player_pos_x+17);
 8719                        		__ld.wm		_player_pos_x
         02:C3F3  AD DB 24   			lda.l	_player_pos_x
         02:C3F6  AC DC 24   			ldy.h	_player_pos_x
 8720                        		__add.wi	17
         02:C3F9  18         			clc
         02:C3FA  69 11      			adc.l	#17
         02:C3FC  90 01      			bcc	!+
         02:C3FE  C8         			iny
         02:C3FF             	!:
 8721                        		__call		_spr_x.1
         02:C3FF  20 0A E8   			call	_spr_x.1
 8722                        	
 8723                        		.dbg	line,	"include\routines_LEVELS.c", 860; }
 8724                        	
 8725                        		.dbg	line,	"include\routines_LEVELS.c", 861; }
 8726    02:C402             	.LL360	.alias		.LL361
 8727                        	
 8728                        		.dbg	line,	"include\routines_LEVELS.c", 862; }
 8729    02:C402             	.LL359	.alias		.LL361
 8730                        	
 8731                        		.dbg	line,	"include\routines_LEVELS.c", 865; else if(player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
 8732                        		__bra		.LL361
         02:C402  4C 5E CA   			bra	.LL361
 8733    02:C405             	.LL358:
 8734                        		__ld.umq	_player_state
         02:C405  AD 18 23   			lda	_player_state
 8735                        		__equ_b.uiq	11
         02:C408  C9 0B      			cmp	#11
         02:C40A  F0 01      			beq	!+
         02:C40C  18         			clc
         02:C40D             	!:
 8736                        		__btrue		.LL363
         02:C40D  B0 08      			bcs	.LL363
 8737                        		__ld.umq	_player_state
         02:C40F  AD 18 23   			lda	_player_state
 8738                        		__equ_b.uiq	12
         02:C412  C9 0C      			cmp	#12
         02:C414  F0 01      			beq	!+
         02:C416  18         			clc
         02:C417             	!:
 8739    02:C417             	.LL363:
 8740                        		__bfalse	.LL362
         02:C417  B0 03 4C 5E			bcc	.LL362
         02:C41B  CA          
 8741                        	
 8742                        		.dbg	line,	"include\routines_LEVELS.c", 866; {
 8743                        	
 8744                        		.dbg	line,	"include\routines_LEVELS.c", 867; spr_set(player_id);
 8745                        		__ld.umq	_player_id
         02:C41C  AD 17 23   			lda	_player_id
 8746                        		__call		_spr_set.1
         02:C41F  20 DD E7   			call	_spr_set.1
 8747                        	
 8748                        		.dbg	line,	"include\routines_LEVELS.c", 868; spr_pattern(PLAYER_HANG_VRAM_ADR);
 8749                        		__ld.wi		7424
         02:C422  62         			cla
         02:C423  A0 1D      			ldy.h	#7424
 8750                        		__call		_spr_pattern.1
         02:C425  20 26 E8   			call	_spr_pattern.1
 8751                        	
 8752                        		.dbg	line,	"include\routines_LEVELS.c", 869; player_counter_anim = 0;
 8753                        		__st.umiq	0, _player_counter_anim
         02:C428  9C 1B 23   			stz	_player_counter_anim
 8754                        	
 8755                        		.dbg	line,	"include\routines_LEVELS.c", 870; player_state = STATE_HANG;
 8756                        		__st.umiq	10, _player_state
         02:C42B  A9 0A      			lda.l	#10
         02:C42D  8D 18 23   			sta	_player_state
 8757                        	
 8758                        		.dbg	line,	"include\routines_LEVELS.c", 871; }
 8759                        	
 8760                        		.dbg	line,	"include\routines_LEVELS.c", 872; }
 8761    02:C430             	.LL362	.alias		.LL364
 8762    02:C430             	.LL361	.alias		.LL364
 8763    02:C430             	.LL357	.alias		.LL364
 8764    02:C430             	.LL353	.alias		.LL364
 8765    02:C430             	.LL350	.alias		.LL364
 8766    02:C430             	.LL347	.alias		.LL364
 8767    02:C430             	.LL341	.alias		.LL364
 8768                        	
 8769                        		.dbg	line,	"include\routines_LEVELS.c", 875; //--------------------------------------------------------------------------------------//
 8770                        	
 8771                        		.dbg	line,	"include\routines_LEVELS.c", 876; //                                     LEFT BUTTON                                      //
 8772                        	
 8773                        		.dbg	line,	"include\routines_LEVELS.c", 877; //--------------------------------------------------------------------------------------//
 8774                        	
 8775                        		.dbg	line,	"include\routines_LEVELS.c", 879; else if(joy(JOYPAD_1) & JOY_LEFT)
 8776                        		__bra		.LL364
         02:C430  4C 5E CA   			bra	.LL364
 8777    02:C433             	.LL336:
 8778                        		__ld.uiq	0
         02:C433  62         			cla
 8779                        		 _joy.1
         02:C434  AA         			tax
         02:C435  BD 28 22   			lda	joynow, x
         02:C438  BC D3 22   			ldy	joy6now, x
 8780                        		__tand.wi	128
         02:C43B  29 80      			and	#128
         02:C43D  C9 01      	!:		cmp	#1
 8781                        		__bfalse	.LL365
         02:C43F  B0 03 4C 07			bcc	.LL365
         02:C443  C8          
 8782                        	
 8783                        		.dbg	line,	"include\routines_LEVELS.c", 880; {
 8784                        	
 8785                        		.dbg	line,	"include\routines_LEVELS.c", 881; if(player_state == STATE_IDLE || player_state == STATE_WALK)
 8786                        		__not.um	_player_state
         02:C444  AD 18 23   			lda	_player_state
         02:C447  18         			clc
         02:C448  D0 01      			bne	!+
         02:C44A  38         			sec
         02:C44B             	!:
 8787                        		__btrue		.LL367
         02:C44B  B0 08      			bcs	.LL367
 8788                        		__ld.umq	_player_state
         02:C44D  AD 18 23   			lda	_player_state
 8789                        		__equ_b.uiq	1
         02:C450  C9 01      			cmp	#1
         02:C452  F0 01      			beq	!+
         02:C454  18         			clc
         02:C455             	!:
 8790    02:C455             	.LL367:
 8791                        		__bfalse	.LL366
         02:C455  B0 03 4C FB			bcc	.LL366
         02:C459  C4          
 8792                        	
 8793                        		.dbg	line,	"include\routines_LEVELS.c", 882; {
 8794                        	
 8795                        		.dbg	line,	"include\routines_LEVELS.c", 883; player_axis = AXIS_LEFT;
 8796                        		__st.umiq	1, _player_axis
         02:C45A  A9 01      			lda.l	#1
         02:C45C  8D 19 23   			sta	_player_axis
 8797                        	
 8798                        		.dbg	line,	"include\routines_LEVELS.c", 885; if(player_previous_axis != player_axis)
 8799                        		__ld.umq	_player_previous_axis
         02:C45F  AD 1A 23   			lda	_player_previous_axis
 8800                        		__neq_b.umq	_player_axis
         02:C462  38         			sec
         02:C463  4D 19 23   			eor	_player_axis
         02:C466  D0 01      			bne	!+
         02:C468  18         			clc
         02:C469             	!:
 8801                        		__bfalse	.LL368
         02:C469  90 6D      			bcc	.LL368
 8802                        	
 8803                        		.dbg	line,	"include\routines_LEVELS.c", 886; {
 8804                        	
 8805                        		.dbg	line,	"include\routines_LEVELS.c", 887; player_previous_axis = player_axis;
 8806                        		__ld.um		_player_axis
         02:C46B  AD 19 23   			lda	_player_axis
         02:C46E  C2         			cly
 8807                        		__st.umq	_player_previous_axis
         02:C46F  8D 1A 23   			sta	_player_previous_axis
 8808                        	
 8809                        		.dbg	line,	"include\routines_LEVELS.c", 889; spr_set(player_id);
 8810                        		__ld.umq	_player_id
         02:C472  AD 17 23   			lda	_player_id
 8811                        		__call		_spr_set.1
         02:C475  20 DD E7   			call	_spr_set.1
 8812                        	
 8813                        		.dbg	line,	"include\routines_LEVELS.c", 890; spr_ctrl(FLIP_MAS, FLIP_X);
 8814                        		__st.umiq	136, _al
         02:C478  A9 88      			lda.l	#136
         02:C47A  85 F8      			sta	_al
 8815                        		__ld.uiq	8
         02:C47C  A9 08      			lda	#8
 8816                        		__call		_spr_ctrl.2
         02:C47E  20 3C E8   			call	_spr_ctrl.2
 8817                        	
 8818                        		.dbg	line,	"include\routines_LEVELS.c", 892; spr_set(chain_id);
 8819                        		__ld.umq	_chain_id
         02:C481  AD 25 23   			lda	_chain_id
 8820                        		__call		_spr_set.1
         02:C484  20 DD E7   			call	_spr_set.1
 8821                        	
 8822                        		.dbg	line,	"include\routines_LEVELS.c", 893; spr_ctrl(FLIP_MAS, FLIP_X);
 8823                        		__st.umiq	136, _al
         02:C487  A9 88      			lda.l	#136
         02:C489  85 F8      			sta	_al
 8824                        		__ld.uiq	8
         02:C48B  A9 08      			lda	#8
 8825                        		__call		_spr_ctrl.2
         02:C48D  20 3C E8   			call	_spr_ctrl.2
 8826                        	
 8827                        		.dbg	line,	"include\routines_LEVELS.c", 895; spr_set(chain_id+1);
 8828                        		__ld.um		_chain_id
         02:C490  AD 25 23   			lda	_chain_id
         02:C493  C2         			cly
 8829                        		__add.wi	1
         02:C494  1A         			inc	a
         02:C495  D0 01      			bne	!+
         02:C497  C8         			iny
         02:C498             	!:
 8830                        		__call		_spr_set.1
         02:C498  20 DD E7   			call	_spr_set.1
 8831                        	
 8832                        		.dbg	line,	"include\routines_LEVELS.c", 896; spr_ctrl(FLIP_MAS, FLIP_X);
 8833                        		__st.umiq	136, _al
         02:C49B  A9 88      			lda.l	#136
         02:C49D  85 F8      			sta	_al
 8834                        		__ld.uiq	8
         02:C49F  A9 08      			lda	#8
 8835                        		__call		_spr_ctrl.2
         02:C4A1  20 3C E8   			call	_spr_ctrl.2
 8836                        	
 8837                        		.dbg	line,	"include\routines_LEVELS.c", 898; spr_set(chain_id+2);
 8838                        		__ld.um		_chain_id
         02:C4A4  AD 25 23   			lda	_chain_id
         02:C4A7  C2         			cly
 8839                        		__add.wi	2
         02:C4A8  18         			clc
         02:C4A9  69 02      			adc.l	#2
         02:C4AB  90 01      			bcc	!+
         02:C4AD  C8         			iny
         02:C4AE             	!:
 8840                        		__call		_spr_set.1
         02:C4AE  20 DD E7   			call	_spr_set.1
 8841                        	
 8842                        		.dbg	line,	"include\routines_LEVELS.c", 899; spr_ctrl(FLIP_MAS, FLIP_X);
 8843                        		__st.umiq	136, _al
         02:C4B1  A9 88      			lda.l	#136
         02:C4B3  85 F8      			sta	_al
 8844                        		__ld.uiq	8
         02:C4B5  A9 08      			lda	#8
 8845                        		__call		_spr_ctrl.2
         02:C4B7  20 3C E8   			call	_spr_ctrl.2
 8846                        	
 8847                        		.dbg	line,	"include\routines_LEVELS.c", 901; spr_set(weapon_id);
 8848                        		__ld.umq	_weapon_id
         02:C4BA  AD 26 23   			lda	_weapon_id
 8849                        		__call		_spr_set.1
         02:C4BD  20 DD E7   			call	_spr_set.1
 8850                        	
 8851                        		.dbg	line,	"include\routines_LEVELS.c", 902; spr_ctrl(FLIP_MAS, FLIP_X);
 8852                        		__st.umiq	136, _al
         02:C4C0  A9 88      			lda.l	#136
         02:C4C2  85 F8      			sta	_al
 8853                        		__ld.uiq	8
         02:C4C4  A9 08      			lda	#8
 8854                        		__call		_spr_ctrl.2
         02:C4C6  20 3C E8   			call	_spr_ctrl.2
 8855                        	
 8856                        		.dbg	line,	"include\routines_LEVELS.c", 903; spr_x(player_pos_x+15);
 8857                        		__ld.wm		_player_pos_x
         02:C4C9  AD DB 24   			lda.l	_player_pos_x
         02:C4CC  AC DC 24   			ldy.h	_player_pos_x
 8858                        		__add.wi	15
         02:C4CF  18         			clc
         02:C4D0  69 0F      			adc.l	#15
         02:C4D2  90 01      			bcc	!+
         02:C4D4  C8         			iny
         02:C4D5             	!:
 8859                        		__call		_spr_x.1
         02:C4D5  20 0A E8   			call	_spr_x.1
 8860                        	
 8861                        		.dbg	line,	"include\routines_LEVELS.c", 904; }
 8862                        	
 8863                        		.dbg	line,	"include\routines_LEVELS.c", 906; if(joy(JOYPAD_1) & JOY_DOWN)
 8864    02:C4D8             	.LL368:
 8865                        		__ld.uiq	0
         02:C4D8  62         			cla
 8866                        		 _joy.1
         02:C4D9  AA         			tax
         02:C4DA  BD 28 22   			lda	joynow, x
         02:C4DD  BC D3 22   			ldy	joy6now, x
 8867                        		__tand.wi	64
         02:C4E0  29 40      			and	#64
         02:C4E2  C9 01      	!:		cmp	#1
 8868                        		__bfalse	.LL369
         02:C4E4  90 0D      			bcc	.LL369
 8869                        	
 8870                        		.dbg	line,	"include\routines_LEVELS.c", 907; {
 8871                        	
 8872                        		.dbg	line,	"include\routines_LEVELS.c", 908; player_counter_anim = 1;
 8873                        		__st.umiq	1, _player_counter_anim
         02:C4E6  A9 01      			lda.l	#1
         02:C4E8  8D 1B 23   			sta	_player_counter_anim
 8874                        	
 8875                        		.dbg	line,	"include\routines_LEVELS.c", 909; player_state = STATE_CROUCH;
 8876                        		__st.umiq	7, _player_state
         02:C4EB  A9 07      			lda.l	#7
         02:C4ED  8D 18 23   			sta	_player_state
 8877                        	
 8878                        		.dbg	line,	"include\routines_LEVELS.c", 910; return;
 8879                        		__bra		.LL327
         02:C4F0  4C 5E CA   			bra	.LL327
 8880                        	
 8881                        		.dbg	line,	"include\routines_LEVELS.c", 911; }
 8882                        	
 8883                        		.dbg	line,	"include\routines_LEVELS.c", 913; player_state = STATE_WALK;
 8884    02:C4F3             	.LL369:
 8885                        		__st.umiq	1, _player_state
         02:C4F3  A9 01      			lda.l	#1
         02:C4F5  8D 18 23   			sta	_player_state
 8886                        	
 8887                        		.dbg	line,	"include\routines_LEVELS.c", 914; }
 8888                        	
 8889                        		.dbg	line,	"include\routines_LEVELS.c", 917; else if(player_state == STATE_JUMP)
 8890                        		__bra		.LL370
         02:C4F8  4C 5E CA   			bra	.LL370
 8891    02:C4FB             	.LL366:
 8892                        		__ld.umq	_player_state
         02:C4FB  AD 18 23   			lda	_player_state
 8893                        		__equ_b.uiq	4
         02:C4FE  C9 04      			cmp	#4
         02:C500  F0 01      			beq	!+
         02:C502  18         			clc
         02:C503             	!:
 8894                        		__bfalse	.LL371
         02:C503  B0 03 4C A1			bcc	.LL371
         02:C507  C5          
 8895                        	
 8896                        		.dbg	line,	"include\routines_LEVELS.c", 918; {
 8897                        	
 8898                        		.dbg	line,	"include\routines_LEVELS.c", 919; if(player_axis == AXIS_RIGHT)
 8899                        		__not.um	_player_axis
         02:C508  AD 19 23   			lda	_player_axis
         02:C50B  18         			clc
         02:C50C  D0 01      			bne	!+
         02:C50E  38         			sec
         02:C50F             	!:
 8900                        		__bfalse	.LL372
         02:C50F  90 72      			bcc	.LL372
 8901                        	
 8902                        		.dbg	line,	"include\routines_LEVELS.c", 920; {
 8903                        	
 8904                        		.dbg	line,	"include\routines_LEVELS.c", 921; player_axis = AXIS_LEFT;
 8905                        		__st.umiq	1, _player_axis
         02:C511  A9 01      			lda.l	#1
         02:C513  8D 19 23   			sta	_player_axis
 8906                        	
 8907                        		.dbg	line,	"include\routines_LEVELS.c", 922; player_previous_axis = player_axis;
 8908                        		__ld.um		_player_axis
         02:C516  AD 19 23   			lda	_player_axis
         02:C519  C2         			cly
 8909                        		__st.umq	_player_previous_axis
         02:C51A  8D 1A 23   			sta	_player_previous_axis
 8910                        	
 8911                        		.dbg	line,	"include\routines_LEVELS.c", 924; spr_set(player_id);
 8912                        		__ld.umq	_player_id
         02:C51D  AD 17 23   			lda	_player_id
 8913                        		__call		_spr_set.1
         02:C520  20 DD E7   			call	_spr_set.1
 8914                        	
 8915                        		.dbg	line,	"include\routines_LEVELS.c", 925; spr_ctrl(FLIP_MAS, FLIP_X);
 8916                        		__st.umiq	136, _al
         02:C523  A9 88      			lda.l	#136
         02:C525  85 F8      			sta	_al
 8917                        		__ld.uiq	8
         02:C527  A9 08      			lda	#8
 8918                        		__call		_spr_ctrl.2
         02:C529  20 3C E8   			call	_spr_ctrl.2
 8919                        	
 8920                        		.dbg	line,	"include\routines_LEVELS.c", 927; spr_set(chain_id);
 8921                        		__ld.umq	_chain_id
         02:C52C  AD 25 23   			lda	_chain_id
 8922                        		__call		_spr_set.1
         02:C52F  20 DD E7   			call	_spr_set.1
 8923                        	
 8924                        		.dbg	line,	"include\routines_LEVELS.c", 928; spr_ctrl(FLIP_MAS, FLIP_X);
 8925                        		__st.umiq	136, _al
         02:C532  A9 88      			lda.l	#136
         02:C534  85 F8      			sta	_al
 8926                        		__ld.uiq	8
         02:C536  A9 08      			lda	#8
 8927                        		__call		_spr_ctrl.2
         02:C538  20 3C E8   			call	_spr_ctrl.2
 8928                        	
 8929                        		.dbg	line,	"include\routines_LEVELS.c", 930; spr_set(chain_id+1);
 8930                        		__ld.um		_chain_id
         02:C53B  AD 25 23   			lda	_chain_id
         02:C53E  C2         			cly
 8931                        		__add.wi	1
         02:C53F  1A         			inc	a
         02:C540  D0 01      			bne	!+
         02:C542  C8         			iny
         02:C543             	!:
 8932                        		__call		_spr_set.1
         02:C543  20 DD E7   			call	_spr_set.1
 8933                        	
 8934                        		.dbg	line,	"include\routines_LEVELS.c", 931; spr_ctrl(FLIP_MAS, FLIP_X);
 8935                        		__st.umiq	136, _al
         02:C546  A9 88      			lda.l	#136
         02:C548  85 F8      			sta	_al
 8936                        		__ld.uiq	8
         02:C54A  A9 08      			lda	#8
 8937                        		__call		_spr_ctrl.2
         02:C54C  20 3C E8   			call	_spr_ctrl.2
 8938                        	
 8939                        		.dbg	line,	"include\routines_LEVELS.c", 933; spr_set(chain_id+2);
 8940                        		__ld.um		_chain_id
         02:C54F  AD 25 23   			lda	_chain_id
         02:C552  C2         			cly
 8941                        		__add.wi	2
         02:C553  18         			clc
         02:C554  69 02      			adc.l	#2
         02:C556  90 01      			bcc	!+
         02:C558  C8         			iny
         02:C559             	!:
 8942                        		__call		_spr_set.1
         02:C559  20 DD E7   			call	_spr_set.1
 8943                        	
 8944                        		.dbg	line,	"include\routines_LEVELS.c", 934; spr_ctrl(FLIP_MAS, FLIP_X);
 8945                        		__st.umiq	136, _al
         02:C55C  A9 88      			lda.l	#136
         02:C55E  85 F8      			sta	_al
 8946                        		__ld.uiq	8
         02:C560  A9 08      			lda	#8
 8947                        		__call		_spr_ctrl.2
         02:C562  20 3C E8   			call	_spr_ctrl.2
 8948                        	
 8949                        		.dbg	line,	"include\routines_LEVELS.c", 936; spr_set(weapon_id);
 8950                        		__ld.umq	_weapon_id
         02:C565  AD 26 23   			lda	_weapon_id
 8951                        		__call		_spr_set.1
         02:C568  20 DD E7   			call	_spr_set.1
 8952                        	
 8953                        		.dbg	line,	"include\routines_LEVELS.c", 937; spr_ctrl(FLIP_MAS, FLIP_X);
 8954                        		__st.umiq	136, _al
         02:C56B  A9 88      			lda.l	#136
         02:C56D  85 F8      			sta	_al
 8955                        		__ld.uiq	8
         02:C56F  A9 08      			lda	#8
 8956                        		__call		_spr_ctrl.2
         02:C571  20 3C E8   			call	_spr_ctrl.2
 8957                        	
 8958                        		.dbg	line,	"include\routines_LEVELS.c", 938; spr_x(player_pos_x+21);
 8959                        		__ld.wm		_player_pos_x
         02:C574  AD DB 24   			lda.l	_player_pos_x
         02:C577  AC DC 24   			ldy.h	_player_pos_x
 8960                        		__add.wi	21
         02:C57A  18         			clc
         02:C57B  69 15      			adc.l	#21
         02:C57D  90 01      			bcc	!+
         02:C57F  C8         			iny
         02:C580             	!:
 8961                        		__call		_spr_x.1
         02:C580  20 0A E8   			call	_spr_x.1
 8962                        	
 8963                        		.dbg	line,	"include\routines_LEVELS.c", 939; }
 8964                        	
 8965                        		.dbg	line,	"include\routines_LEVELS.c", 941; if(player_index_jump > 11 && player_index_jump < 15)
 8966    02:C583             	.LL372:
 8967                        		__ld.umq	_player_index_jump
         02:C583  AD 1C 23   			lda	_player_index_jump
 8968                        		__ugt_b.uiq	11
         02:C586  18         			clc			; Subtract integer+1 from A.
         02:C587  E9 0B      			sbc	#11		; CS if A > integer.
 8969                        		__bfalse	.LL374
         02:C589  90 09      			bcc	.LL374
 8970                        		__ld.umq	_player_index_jump
         02:C58B  AD 1C 23   			lda	_player_index_jump
 8971                        		__ult_b.uiq	15
         02:C58E  C9 0F      			cmp	#15		; Subtract integer from A.
         02:C590  6A         			ror	a		; CC if A < integer.
         02:C591  49 80      			eor	#$80
         02:C593  2A         			rol	a
 8972    02:C594             	.LL374:
 8973                        		__bfalse	.LL373
         02:C594  B0 03 4C 5E			bcc	.LL373
         02:C598  CA          
 8974                        	
 8975                        		.dbg	line,	"include\routines_LEVELS.c", 942; {
 8976                        	
 8977                        		.dbg	line,	"include\routines_LEVELS.c", 943; player_state = STATE_JUMP_LEFT;                        
 8978                        		__st.umiq	6, _player_state
         02:C599  A9 06      			lda.l	#6
         02:C59B  8D 18 23   			sta	_player_state
 8979                        	
 8980                        		.dbg	line,	"include\routines_LEVELS.c", 944; }
 8981                        	
 8982                        		.dbg	line,	"include\routines_LEVELS.c", 945; }
 8983    02:C59E             	.LL373	.alias		.LL375
 8984                        	
 8985                        		.dbg	line,	"include\routines_LEVELS.c", 948; else if(player_state == STATE_JUMP_RIGHT)
 8986                        		__bra		.LL375
         02:C59E  4C 5E CA   			bra	.LL375
 8987    02:C5A1             	.LL371:
 8988                        		__ld.umq	_player_state
         02:C5A1  AD 18 23   			lda	_player_state
 8989                        		__equ_b.uiq	5
         02:C5A4  C9 05      			cmp	#5
         02:C5A6  F0 01      			beq	!+
         02:C5A8  18         			clc
         02:C5A9             	!:
 8990                        		__bfalse	.LL376
         02:C5A9  B0 03 4C 2F			bcc	.LL376
         02:C5AD  C6          
 8991                        	
 8992                        		.dbg	line,	"include\routines_LEVELS.c", 949; {
 8993                        	
 8994                        		.dbg	line,	"include\routines_LEVELS.c", 950; if(player_axis == AXIS_RIGHT)
 8995                        		__not.um	_player_axis
         02:C5AE  AD 19 23   			lda	_player_axis
         02:C5B1  18         			clc
         02:C5B2  D0 01      			bne	!+
         02:C5B4  38         			sec
         02:C5B5             	!:
 8996                        		__bfalse	.LL377
         02:C5B5  B0 03 4C 5E			bcc	.LL377
         02:C5B9  CA          
 8997                        	
 8998                        		.dbg	line,	"include\routines_LEVELS.c", 951; {
 8999                        	
 9000                        		.dbg	line,	"include\routines_LEVELS.c", 952; player_axis = AXIS_LEFT;
 9001                        		__st.umiq	1, _player_axis
         02:C5BA  A9 01      			lda.l	#1
         02:C5BC  8D 19 23   			sta	_player_axis
 9002                        	
 9003                        		.dbg	line,	"include\routines_LEVELS.c", 953; player_previous_axis = player_axis;
 9004                        		__ld.um		_player_axis
         02:C5BF  AD 19 23   			lda	_player_axis
         02:C5C2  C2         			cly
 9005                        		__st.umq	_player_previous_axis
         02:C5C3  8D 1A 23   			sta	_player_previous_axis
 9006                        	
 9007                        		.dbg	line,	"include\routines_LEVELS.c", 955; spr_set(player_id);
 9008                        		__ld.umq	_player_id
         02:C5C6  AD 17 23   			lda	_player_id
 9009                        		__call		_spr_set.1
         02:C5C9  20 DD E7   			call	_spr_set.1
 9010                        	
 9011                        		.dbg	line,	"include\routines_LEVELS.c", 956; spr_ctrl(FLIP_MAS, FLIP_X);
 9012                        		__st.umiq	136, _al
         02:C5CC  A9 88      			lda.l	#136
         02:C5CE  85 F8      			sta	_al
 9013                        		__ld.uiq	8
         02:C5D0  A9 08      			lda	#8
 9014                        		__call		_spr_ctrl.2
         02:C5D2  20 3C E8   			call	_spr_ctrl.2
 9015                        	
 9016                        		.dbg	line,	"include\routines_LEVELS.c", 958; spr_set(chain_id);
 9017                        		__ld.umq	_chain_id
         02:C5D5  AD 25 23   			lda	_chain_id
 9018                        		__call		_spr_set.1
         02:C5D8  20 DD E7   			call	_spr_set.1
 9019                        	
 9020                        		.dbg	line,	"include\routines_LEVELS.c", 959; spr_ctrl(FLIP_MAS, FLIP_X);
 9021                        		__st.umiq	136, _al
         02:C5DB  A9 88      			lda.l	#136
         02:C5DD  85 F8      			sta	_al
 9022                        		__ld.uiq	8
         02:C5DF  A9 08      			lda	#8
 9023                        		__call		_spr_ctrl.2
         02:C5E1  20 3C E8   			call	_spr_ctrl.2
 9024                        	
 9025                        		.dbg	line,	"include\routines_LEVELS.c", 961; spr_set(chain_id+1);
 9026                        		__ld.um		_chain_id
         02:C5E4  AD 25 23   			lda	_chain_id
         02:C5E7  C2         			cly
 9027                        		__add.wi	1
         02:C5E8  1A         			inc	a
         02:C5E9  D0 01      			bne	!+
         02:C5EB  C8         			iny
         02:C5EC             	!:
 9028                        		__call		_spr_set.1
         02:C5EC  20 DD E7   			call	_spr_set.1
 9029                        	
 9030                        		.dbg	line,	"include\routines_LEVELS.c", 962; spr_ctrl(FLIP_MAS, FLIP_X);
 9031                        		__st.umiq	136, _al
         02:C5EF  A9 88      			lda.l	#136
         02:C5F1  85 F8      			sta	_al
 9032                        		__ld.uiq	8
         02:C5F3  A9 08      			lda	#8
 9033                        		__call		_spr_ctrl.2
         02:C5F5  20 3C E8   			call	_spr_ctrl.2
 9034                        	
 9035                        		.dbg	line,	"include\routines_LEVELS.c", 964; spr_set(chain_id+2);
 9036                        		__ld.um		_chain_id
         02:C5F8  AD 25 23   			lda	_chain_id
         02:C5FB  C2         			cly
 9037                        		__add.wi	2
         02:C5FC  18         			clc
         02:C5FD  69 02      			adc.l	#2
         02:C5FF  90 01      			bcc	!+
         02:C601  C8         			iny
         02:C602             	!:
 9038                        		__call		_spr_set.1
         02:C602  20 DD E7   			call	_spr_set.1
 9039                        	
 9040                        		.dbg	line,	"include\routines_LEVELS.c", 965; spr_ctrl(FLIP_MAS, FLIP_X);
 9041                        		__st.umiq	136, _al
         02:C605  A9 88      			lda.l	#136
         02:C607  85 F8      			sta	_al
 9042                        		__ld.uiq	8
         02:C609  A9 08      			lda	#8
 9043                        		__call		_spr_ctrl.2
         02:C60B  20 3C E8   			call	_spr_ctrl.2
 9044                        	
 9045                        		.dbg	line,	"include\routines_LEVELS.c", 967; spr_set(weapon_id);
 9046                        		__ld.umq	_weapon_id
         02:C60E  AD 26 23   			lda	_weapon_id
 9047                        		__call		_spr_set.1
         02:C611  20 DD E7   			call	_spr_set.1
 9048                        	
 9049                        		.dbg	line,	"include\routines_LEVELS.c", 968; spr_ctrl(FLIP_MAS, FLIP_X);
 9050                        		__st.umiq	136, _al
         02:C614  A9 88      			lda.l	#136
         02:C616  85 F8      			sta	_al
 9051                        		__ld.uiq	8
         02:C618  A9 08      			lda	#8
 9052                        		__call		_spr_ctrl.2
         02:C61A  20 3C E8   			call	_spr_ctrl.2
 9053                        	
 9054                        		.dbg	line,	"include\routines_LEVELS.c", 969; spr_x(player_pos_x+21);
 9055                        		__ld.wm		_player_pos_x
         02:C61D  AD DB 24   			lda.l	_player_pos_x
         02:C620  AC DC 24   			ldy.h	_player_pos_x
 9056                        		__add.wi	21
         02:C623  18         			clc
         02:C624  69 15      			adc.l	#21
         02:C626  90 01      			bcc	!+
         02:C628  C8         			iny
         02:C629             	!:
 9057                        		__call		_spr_x.1
         02:C629  20 0A E8   			call	_spr_x.1
 9058                        	
 9059                        		.dbg	line,	"include\routines_LEVELS.c", 970; }
 9060                        	
 9061                        		.dbg	line,	"include\routines_LEVELS.c", 971; }
 9062    02:C62C             	.LL377	.alias		.LL378
 9063                        	
 9064                        		.dbg	line,	"include\routines_LEVELS.c", 974; else if(player_state == STATE_CROUCH)
 9065                        		__bra		.LL378
         02:C62C  4C 5E CA   			bra	.LL378
 9066    02:C62F             	.LL376:
 9067                        		__ld.umq	_player_state
         02:C62F  AD 18 23   			lda	_player_state
 9068                        		__equ_b.uiq	7
         02:C632  C9 07      			cmp	#7
         02:C634  F0 01      			beq	!+
         02:C636  18         			clc
         02:C637             	!:
 9069                        		__bfalse	.LL379
         02:C637  B0 03 4C BD			bcc	.LL379
         02:C63B  C6          
 9070                        	
 9071                        		.dbg	line,	"include\routines_LEVELS.c", 975; {
 9072                        	
 9073                        		.dbg	line,	"include\routines_LEVELS.c", 976; if(player_axis == AXIS_RIGHT)
 9074                        		__not.um	_player_axis
         02:C63C  AD 19 23   			lda	_player_axis
         02:C63F  18         			clc
         02:C640  D0 01      			bne	!+
         02:C642  38         			sec
         02:C643             	!:
 9075                        		__bfalse	.LL380
         02:C643  B0 03 4C 5E			bcc	.LL380
         02:C647  CA          
 9076                        	
 9077                        		.dbg	line,	"include\routines_LEVELS.c", 977; {
 9078                        	
 9079                        		.dbg	line,	"include\routines_LEVELS.c", 978; player_axis = AXIS_LEFT;
 9080                        		__st.umiq	1, _player_axis
         02:C648  A9 01      			lda.l	#1
         02:C64A  8D 19 23   			sta	_player_axis
 9081                        	
 9082                        		.dbg	line,	"include\routines_LEVELS.c", 979; player_previous_axis = player_axis;
 9083                        		__ld.um		_player_axis
         02:C64D  AD 19 23   			lda	_player_axis
         02:C650  C2         			cly
 9084                        		__st.umq	_player_previous_axis
         02:C651  8D 1A 23   			sta	_player_previous_axis
 9085                        	
 9086                        		.dbg	line,	"include\routines_LEVELS.c", 981; spr_set(player_id);
 9087                        		__ld.umq	_player_id
         02:C654  AD 17 23   			lda	_player_id
 9088                        		__call		_spr_set.1
         02:C657  20 DD E7   			call	_spr_set.1
 9089                        	
 9090                        		.dbg	line,	"include\routines_LEVELS.c", 982; spr_ctrl(FLIP_MAS, FLIP_X);
 9091                        		__st.umiq	136, _al
         02:C65A  A9 88      			lda.l	#136
         02:C65C  85 F8      			sta	_al
 9092                        		__ld.uiq	8
         02:C65E  A9 08      			lda	#8
 9093                        		__call		_spr_ctrl.2
         02:C660  20 3C E8   			call	_spr_ctrl.2
 9094                        	
 9095                        		.dbg	line,	"include\routines_LEVELS.c", 984; spr_set(chain_id);
 9096                        		__ld.umq	_chain_id
         02:C663  AD 25 23   			lda	_chain_id
 9097                        		__call		_spr_set.1
         02:C666  20 DD E7   			call	_spr_set.1
 9098                        	
 9099                        		.dbg	line,	"include\routines_LEVELS.c", 985; spr_ctrl(FLIP_MAS, FLIP_X);
 9100                        		__st.umiq	136, _al
         02:C669  A9 88      			lda.l	#136
         02:C66B  85 F8      			sta	_al
 9101                        		__ld.uiq	8
         02:C66D  A9 08      			lda	#8
 9102                        		__call		_spr_ctrl.2
         02:C66F  20 3C E8   			call	_spr_ctrl.2
 9103                        	
 9104                        		.dbg	line,	"include\routines_LEVELS.c", 987; spr_set(chain_id+1);
 9105                        		__ld.um		_chain_id
         02:C672  AD 25 23   			lda	_chain_id
         02:C675  C2         			cly
 9106                        		__add.wi	1
         02:C676  1A         			inc	a
         02:C677  D0 01      			bne	!+
         02:C679  C8         			iny
         02:C67A             	!:
 9107                        		__call		_spr_set.1
         02:C67A  20 DD E7   			call	_spr_set.1
 9108                        	
 9109                        		.dbg	line,	"include\routines_LEVELS.c", 988; spr_ctrl(FLIP_MAS, FLIP_X);
 9110                        		__st.umiq	136, _al
         02:C67D  A9 88      			lda.l	#136
         02:C67F  85 F8      			sta	_al
 9111                        		__ld.uiq	8
         02:C681  A9 08      			lda	#8
 9112                        		__call		_spr_ctrl.2
         02:C683  20 3C E8   			call	_spr_ctrl.2
 9113                        	
 9114                        		.dbg	line,	"include\routines_LEVELS.c", 990; spr_set(chain_id+2);
 9115                        		__ld.um		_chain_id
         02:C686  AD 25 23   			lda	_chain_id
         02:C689  C2         			cly
 9116                        		__add.wi	2
         02:C68A  18         			clc
         02:C68B  69 02      			adc.l	#2
         02:C68D  90 01      			bcc	!+
         02:C68F  C8         			iny
         02:C690             	!:
 9117                        		__call		_spr_set.1
         02:C690  20 DD E7   			call	_spr_set.1
 9118                        	
 9119                        		.dbg	line,	"include\routines_LEVELS.c", 991; spr_ctrl(FLIP_MAS, FLIP_X);
 9120                        		__st.umiq	136, _al
         02:C693  A9 88      			lda.l	#136
         02:C695  85 F8      			sta	_al
 9121                        		__ld.uiq	8
         02:C697  A9 08      			lda	#8
 9122                        		__call		_spr_ctrl.2
         02:C699  20 3C E8   			call	_spr_ctrl.2
 9123                        	
 9124                        		.dbg	line,	"include\routines_LEVELS.c", 993; spr_set(weapon_id);
 9125                        		__ld.umq	_weapon_id
         02:C69C  AD 26 23   			lda	_weapon_id
 9126                        		__call		_spr_set.1
         02:C69F  20 DD E7   			call	_spr_set.1
 9127                        	
 9128                        		.dbg	line,	"include\routines_LEVELS.c", 994; spr_ctrl(FLIP_MAS, FLIP_X);
 9129                        		__st.umiq	136, _al
         02:C6A2  A9 88      			lda.l	#136
         02:C6A4  85 F8      			sta	_al
 9130                        		__ld.uiq	8
         02:C6A6  A9 08      			lda	#8
 9131                        		__call		_spr_ctrl.2
         02:C6A8  20 3C E8   			call	_spr_ctrl.2
 9132                        	
 9133                        		.dbg	line,	"include\routines_LEVELS.c", 995; spr_x(player_pos_x+17);
 9134                        		__ld.wm		_player_pos_x
         02:C6AB  AD DB 24   			lda.l	_player_pos_x
         02:C6AE  AC DC 24   			ldy.h	_player_pos_x
 9135                        		__add.wi	17
         02:C6B1  18         			clc
         02:C6B2  69 11      			adc.l	#17
         02:C6B4  90 01      			bcc	!+
         02:C6B6  C8         			iny
         02:C6B7             	!:
 9136                        		__call		_spr_x.1
         02:C6B7  20 0A E8   			call	_spr_x.1
 9137                        	
 9138                        		.dbg	line,	"include\routines_LEVELS.c", 996; }
 9139                        	
 9140                        		.dbg	line,	"include\routines_LEVELS.c", 997; }
 9141    02:C6BA             	.LL380	.alias		.LL381
 9142                        	
 9143                        		.dbg	line,	"include\routines_LEVELS.c", 1000; else if(player_state == STATE_FALL)
 9144                        		__bra		.LL381
         02:C6BA  4C 5E CA   			bra	.LL381
 9145    02:C6BD             	.LL379:
 9146                        		__ld.umq	_player_state
         02:C6BD  AD 18 23   			lda	_player_state
 9147                        		__equ_b.uiq	9
         02:C6C0  C9 09      			cmp	#9
         02:C6C2  F0 01      			beq	!+
         02:C6C4  18         			clc
         02:C6C5             	!:
 9148                        		__bfalse	.LL382
         02:C6C5  B0 03 4C 4B			bcc	.LL382
         02:C6C9  C7          
 9149                        	
 9150                        		.dbg	line,	"include\routines_LEVELS.c", 1001; {
 9151                        	
 9152                        		.dbg	line,	"include\routines_LEVELS.c", 1002; if(player_axis == AXIS_RIGHT)
 9153                        		__not.um	_player_axis
         02:C6CA  AD 19 23   			lda	_player_axis
         02:C6CD  18         			clc
         02:C6CE  D0 01      			bne	!+
         02:C6D0  38         			sec
         02:C6D1             	!:
 9154                        		__bfalse	.LL383
         02:C6D1  B0 03 4C 5E			bcc	.LL383
         02:C6D5  CA          
 9155                        	
 9156                        		.dbg	line,	"include\routines_LEVELS.c", 1003; {
 9157                        	
 9158                        		.dbg	line,	"include\routines_LEVELS.c", 1004; player_axis = AXIS_LEFT;
 9159                        		__st.umiq	1, _player_axis
         02:C6D6  A9 01      			lda.l	#1
         02:C6D8  8D 19 23   			sta	_player_axis
 9160                        	
 9161                        		.dbg	line,	"include\routines_LEVELS.c", 1005; player_previous_axis = player_axis;
 9162                        		__ld.um		_player_axis
         02:C6DB  AD 19 23   			lda	_player_axis
         02:C6DE  C2         			cly
 9163                        		__st.umq	_player_previous_axis
         02:C6DF  8D 1A 23   			sta	_player_previous_axis
 9164                        	
 9165                        		.dbg	line,	"include\routines_LEVELS.c", 1007; spr_set(player_id);
 9166                        		__ld.umq	_player_id
         02:C6E2  AD 17 23   			lda	_player_id
 9167                        		__call		_spr_set.1
         02:C6E5  20 DD E7   			call	_spr_set.1
 9168                        	
 9169                        		.dbg	line,	"include\routines_LEVELS.c", 1008; spr_ctrl(FLIP_MAS, FLIP_X);
 9170                        		__st.umiq	136, _al
         02:C6E8  A9 88      			lda.l	#136
         02:C6EA  85 F8      			sta	_al
 9171                        		__ld.uiq	8
         02:C6EC  A9 08      			lda	#8
 9172                        		__call		_spr_ctrl.2
         02:C6EE  20 3C E8   			call	_spr_ctrl.2
 9173                        	
 9174                        		.dbg	line,	"include\routines_LEVELS.c", 1010; spr_set(chain_id);
 9175                        		__ld.umq	_chain_id
         02:C6F1  AD 25 23   			lda	_chain_id
 9176                        		__call		_spr_set.1
         02:C6F4  20 DD E7   			call	_spr_set.1
 9177                        	
 9178                        		.dbg	line,	"include\routines_LEVELS.c", 1011; spr_ctrl(FLIP_MAS, FLIP_X);
 9179                        		__st.umiq	136, _al
         02:C6F7  A9 88      			lda.l	#136
         02:C6F9  85 F8      			sta	_al
 9180                        		__ld.uiq	8
         02:C6FB  A9 08      			lda	#8
 9181                        		__call		_spr_ctrl.2
         02:C6FD  20 3C E8   			call	_spr_ctrl.2
 9182                        	
 9183                        		.dbg	line,	"include\routines_LEVELS.c", 1013; spr_set(chain_id+1);
 9184                        		__ld.um		_chain_id
         02:C700  AD 25 23   			lda	_chain_id
         02:C703  C2         			cly
 9185                        		__add.wi	1
         02:C704  1A         			inc	a
         02:C705  D0 01      			bne	!+
         02:C707  C8         			iny
         02:C708             	!:
 9186                        		__call		_spr_set.1
         02:C708  20 DD E7   			call	_spr_set.1
 9187                        	
 9188                        		.dbg	line,	"include\routines_LEVELS.c", 1014; spr_ctrl(FLIP_MAS, FLIP_X);
 9189                        		__st.umiq	136, _al
         02:C70B  A9 88      			lda.l	#136
         02:C70D  85 F8      			sta	_al
 9190                        		__ld.uiq	8
         02:C70F  A9 08      			lda	#8
 9191                        		__call		_spr_ctrl.2
         02:C711  20 3C E8   			call	_spr_ctrl.2
 9192                        	
 9193                        		.dbg	line,	"include\routines_LEVELS.c", 1016; spr_set(chain_id+2);
 9194                        		__ld.um		_chain_id
         02:C714  AD 25 23   			lda	_chain_id
         02:C717  C2         			cly
 9195                        		__add.wi	2
         02:C718  18         			clc
         02:C719  69 02      			adc.l	#2
         02:C71B  90 01      			bcc	!+
         02:C71D  C8         			iny
         02:C71E             	!:
 9196                        		__call		_spr_set.1
         02:C71E  20 DD E7   			call	_spr_set.1
 9197                        	
 9198                        		.dbg	line,	"include\routines_LEVELS.c", 1017; spr_ctrl(FLIP_MAS, FLIP_X);
 9199                        		__st.umiq	136, _al
         02:C721  A9 88      			lda.l	#136
         02:C723  85 F8      			sta	_al
 9200                        		__ld.uiq	8
         02:C725  A9 08      			lda	#8
 9201                        		__call		_spr_ctrl.2
         02:C727  20 3C E8   			call	_spr_ctrl.2
 9202                        	
 9203                        		.dbg	line,	"include\routines_LEVELS.c", 1019; spr_set(weapon_id);
 9204                        		__ld.umq	_weapon_id
         02:C72A  AD 26 23   			lda	_weapon_id
 9205                        		__call		_spr_set.1
         02:C72D  20 DD E7   			call	_spr_set.1
 9206                        	
 9207                        		.dbg	line,	"include\routines_LEVELS.c", 1020; spr_ctrl(FLIP_MAS, FLIP_X);
 9208                        		__st.umiq	136, _al
         02:C730  A9 88      			lda.l	#136
         02:C732  85 F8      			sta	_al
 9209                        		__ld.uiq	8
         02:C734  A9 08      			lda	#8
 9210                        		__call		_spr_ctrl.2
         02:C736  20 3C E8   			call	_spr_ctrl.2
 9211                        	
 9212                        		.dbg	line,	"include\routines_LEVELS.c", 1021; spr_x(player_pos_x+20);
 9213                        		__ld.wm		_player_pos_x
         02:C739  AD DB 24   			lda.l	_player_pos_x
         02:C73C  AC DC 24   			ldy.h	_player_pos_x
 9214                        		__add.wi	20
         02:C73F  18         			clc
         02:C740  69 14      			adc.l	#20
         02:C742  90 01      			bcc	!+
         02:C744  C8         			iny
         02:C745             	!:
 9215                        		__call		_spr_x.1
         02:C745  20 0A E8   			call	_spr_x.1
 9216                        	
 9217                        		.dbg	line,	"include\routines_LEVELS.c", 1022; }
 9218                        	
 9219                        		.dbg	line,	"include\routines_LEVELS.c", 1023; }
 9220    02:C748             	.LL383	.alias		.LL384
 9221                        	
 9222                        		.dbg	line,	"include\routines_LEVELS.c", 1025; 
 9223                        	
 9224                        		.dbg	line,	"include\routines_LEVELS.c", 1026; else if(player_state == STATE_HANG)
 9225                        		__bra		.LL384
         02:C748  4C 5E CA   			bra	.LL384
 9226    02:C74B             	.LL382:
 9227                        		__ld.umq	_player_state
         02:C74B  AD 18 23   			lda	_player_state
 9228                        		__equ_b.uiq	10
         02:C74E  C9 0A      			cmp	#10
         02:C750  F0 01      			beq	!+
         02:C752  18         			clc
         02:C753             	!:
 9229                        		__bfalse	.LL385
         02:C753  B0 03 4C D9			bcc	.LL385
         02:C757  C7          
 9230                        	
 9231                        		.dbg	line,	"include\routines_LEVELS.c", 1027; {
 9232                        	
 9233                        		.dbg	line,	"include\routines_LEVELS.c", 1028; if(player_axis == AXIS_RIGHT)
 9234                        		__not.um	_player_axis
         02:C758  AD 19 23   			lda	_player_axis
         02:C75B  18         			clc
         02:C75C  D0 01      			bne	!+
         02:C75E  38         			sec
         02:C75F             	!:
 9235                        		__bfalse	.LL386
         02:C75F  B0 03 4C 5E			bcc	.LL386
         02:C763  CA          
 9236                        	
 9237                        		.dbg	line,	"include\routines_LEVELS.c", 1029; {
 9238                        	
 9239                        		.dbg	line,	"include\routines_LEVELS.c", 1030; player_axis = AXIS_LEFT;
 9240                        		__st.umiq	1, _player_axis
         02:C764  A9 01      			lda.l	#1
         02:C766  8D 19 23   			sta	_player_axis
 9241                        	
 9242                        		.dbg	line,	"include\routines_LEVELS.c", 1031; player_previous_axis = player_axis;
 9243                        		__ld.um		_player_axis
         02:C769  AD 19 23   			lda	_player_axis
         02:C76C  C2         			cly
 9244                        		__st.umq	_player_previous_axis
         02:C76D  8D 1A 23   			sta	_player_previous_axis
 9245                        	
 9246                        		.dbg	line,	"include\routines_LEVELS.c", 1033; spr_set(player_id);
 9247                        		__ld.umq	_player_id
         02:C770  AD 17 23   			lda	_player_id
 9248                        		__call		_spr_set.1
         02:C773  20 DD E7   			call	_spr_set.1
 9249                        	
 9250                        		.dbg	line,	"include\routines_LEVELS.c", 1034; spr_ctrl(FLIP_MAS, FLIP_X);
 9251                        		__st.umiq	136, _al
         02:C776  A9 88      			lda.l	#136
         02:C778  85 F8      			sta	_al
 9252                        		__ld.uiq	8
         02:C77A  A9 08      			lda	#8
 9253                        		__call		_spr_ctrl.2
         02:C77C  20 3C E8   			call	_spr_ctrl.2
 9254                        	
 9255                        		.dbg	line,	"include\routines_LEVELS.c", 1036; spr_set(chain_id);
 9256                        		__ld.umq	_chain_id
         02:C77F  AD 25 23   			lda	_chain_id
 9257                        		__call		_spr_set.1
         02:C782  20 DD E7   			call	_spr_set.1
 9258                        	
 9259                        		.dbg	line,	"include\routines_LEVELS.c", 1037; spr_ctrl(FLIP_MAS, FLIP_X);
 9260                        		__st.umiq	136, _al
         02:C785  A9 88      			lda.l	#136
         02:C787  85 F8      			sta	_al
 9261                        		__ld.uiq	8
         02:C789  A9 08      			lda	#8
 9262                        		__call		_spr_ctrl.2
         02:C78B  20 3C E8   			call	_spr_ctrl.2
 9263                        	
 9264                        		.dbg	line,	"include\routines_LEVELS.c", 1039; spr_set(chain_id+1);
 9265                        		__ld.um		_chain_id
         02:C78E  AD 25 23   			lda	_chain_id
         02:C791  C2         			cly
 9266                        		__add.wi	1
         02:C792  1A         			inc	a
         02:C793  D0 01      			bne	!+
         02:C795  C8         			iny
         02:C796             	!:
 9267                        		__call		_spr_set.1
         02:C796  20 DD E7   			call	_spr_set.1
 9268                        	
 9269                        		.dbg	line,	"include\routines_LEVELS.c", 1040; spr_ctrl(FLIP_MAS, FLIP_X);
 9270                        		__st.umiq	136, _al
         02:C799  A9 88      			lda.l	#136
         02:C79B  85 F8      			sta	_al
 9271                        		__ld.uiq	8
         02:C79D  A9 08      			lda	#8
 9272                        		__call		_spr_ctrl.2
         02:C79F  20 3C E8   			call	_spr_ctrl.2
 9273                        	
 9274                        		.dbg	line,	"include\routines_LEVELS.c", 1042; spr_set(chain_id+2);
 9275                        		__ld.um		_chain_id
         02:C7A2  AD 25 23   			lda	_chain_id
         02:C7A5  C2         			cly
 9276                        		__add.wi	2
         02:C7A6  18         			clc
         02:C7A7  69 02      			adc.l	#2
         02:C7A9  90 01      			bcc	!+
         02:C7AB  C8         			iny
         02:C7AC             	!:
 9277                        		__call		_spr_set.1
         02:C7AC  20 DD E7   			call	_spr_set.1
 9278                        	
 9279                        		.dbg	line,	"include\routines_LEVELS.c", 1043; spr_ctrl(FLIP_MAS, FLIP_X);
 9280                        		__st.umiq	136, _al
         02:C7AF  A9 88      			lda.l	#136
         02:C7B1  85 F8      			sta	_al
 9281                        		__ld.uiq	8
         02:C7B3  A9 08      			lda	#8
 9282                        		__call		_spr_ctrl.2
         02:C7B5  20 3C E8   			call	_spr_ctrl.2
 9283                        	
 9284                        		.dbg	line,	"include\routines_LEVELS.c", 1045; spr_set(weapon_id);
 9285                        		__ld.umq	_weapon_id
         02:C7B8  AD 26 23   			lda	_weapon_id
 9286                        		__call		_spr_set.1
         02:C7BB  20 DD E7   			call	_spr_set.1
 9287                        	
 9288                        		.dbg	line,	"include\routines_LEVELS.c", 1046; spr_ctrl(FLIP_MAS, FLIP_X);
 9289                        		__st.umiq	136, _al
         02:C7BE  A9 88      			lda.l	#136
         02:C7C0  85 F8      			sta	_al
 9290                        		__ld.uiq	8
         02:C7C2  A9 08      			lda	#8
 9291                        		__call		_spr_ctrl.2
         02:C7C4  20 3C E8   			call	_spr_ctrl.2
 9292                        	
 9293                        		.dbg	line,	"include\routines_LEVELS.c", 1047; spr_x(player_pos_x-2);
 9294                        		__ld.wm		_player_pos_x
         02:C7C7  AD DB 24   			lda.l	_player_pos_x
         02:C7CA  AC DC 24   			ldy.h	_player_pos_x
 9295                        		__sub.wi	2
         02:C7CD  38         			sec
         02:C7CE  E9 02      			sbc.l	#2
         02:C7D0  B0 01      			bcs	!+
         02:C7D2  88         			dey
         02:C7D3             	!:
 9296                        		__call		_spr_x.1
         02:C7D3  20 0A E8   			call	_spr_x.1
 9297                        	
 9298                        		.dbg	line,	"include\routines_LEVELS.c", 1048; }
 9299                        	
 9300                        		.dbg	line,	"include\routines_LEVELS.c", 1049; }
 9301    02:C7D6             	.LL386	.alias		.LL387
 9302                        	
 9303                        		.dbg	line,	"include\routines_LEVELS.c", 1052; else if(player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
 9304                        		__bra		.LL387
         02:C7D6  4C 5E CA   			bra	.LL387
 9305    02:C7D9             	.LL385:
 9306                        		__ld.umq	_player_state
         02:C7D9  AD 18 23   			lda	_player_state
 9307                        		__equ_b.uiq	11
         02:C7DC  C9 0B      			cmp	#11
         02:C7DE  F0 01      			beq	!+
         02:C7E0  18         			clc
         02:C7E1             	!:
 9308                        		__btrue		.LL389
         02:C7E1  B0 08      			bcs	.LL389
 9309                        		__ld.umq	_player_state
         02:C7E3  AD 18 23   			lda	_player_state
 9310                        		__equ_b.uiq	12
         02:C7E6  C9 0C      			cmp	#12
         02:C7E8  F0 01      			beq	!+
         02:C7EA  18         			clc
         02:C7EB             	!:
 9311    02:C7EB             	.LL389:
 9312                        		__bfalse	.LL388
         02:C7EB  B0 03 4C 5E			bcc	.LL388
         02:C7EF  CA          
 9313                        	
 9314                        		.dbg	line,	"include\routines_LEVELS.c", 1053; {
 9315                        	
 9316                        		.dbg	line,	"include\routines_LEVELS.c", 1054; spr_set(player_id);
 9317                        		__ld.umq	_player_id
         02:C7F0  AD 17 23   			lda	_player_id
 9318                        		__call		_spr_set.1
         02:C7F3  20 DD E7   			call	_spr_set.1
 9319                        	
 9320                        		.dbg	line,	"include\routines_LEVELS.c", 1055; spr_pattern(PLAYER_HANG_VRAM_ADR);
 9321                        		__ld.wi		7424
         02:C7F6  62         			cla
         02:C7F7  A0 1D      			ldy.h	#7424
 9322                        		__call		_spr_pattern.1
         02:C7F9  20 26 E8   			call	_spr_pattern.1
 9323                        	
 9324                        		.dbg	line,	"include\routines_LEVELS.c", 1056; player_counter_anim = 0;
 9325                        		__st.umiq	0, _player_counter_anim
         02:C7FC  9C 1B 23   			stz	_player_counter_anim
 9326                        	
 9327                        		.dbg	line,	"include\routines_LEVELS.c", 1057; player_state = STATE_HANG;
 9328                        		__st.umiq	10, _player_state
         02:C7FF  A9 0A      			lda.l	#10
         02:C801  8D 18 23   			sta	_player_state
 9329                        	
 9330                        		.dbg	line,	"include\routines_LEVELS.c", 1058; }
 9331                        	
 9332                        		.dbg	line,	"include\routines_LEVELS.c", 1059; }
 9333    02:C804             	.LL388	.alias		.LL390
 9334    02:C804             	.LL387	.alias		.LL390
 9335    02:C804             	.LL384	.alias		.LL390
 9336    02:C804             	.LL381	.alias		.LL390
 9337    02:C804             	.LL378	.alias		.LL390
 9338    02:C804             	.LL375	.alias		.LL390
 9339    02:C804             	.LL370	.alias		.LL390
 9340                        	
 9341                        		.dbg	line,	"include\routines_LEVELS.c", 1062; //--------------------------------------------------------------------------------------//
 9342                        	
 9343                        		.dbg	line,	"include\routines_LEVELS.c", 1063; //                                      UP BUTTON                                       //
 9344                        	
 9345                        		.dbg	line,	"include\routines_LEVELS.c", 1064; //--------------------------------------------------------------------------------------//
 9346                        	
 9347                        		.dbg	line,	"include\routines_LEVELS.c", 1066; else if(joy(JOYPAD_1) & JOY_UP)
 9348                        		__bra		.LL390
         02:C804  4C 5E CA   			bra	.LL390
 9349    02:C807             	.LL365:
 9350                        		__ld.uiq	0
         02:C807  62         			cla
 9351                        		 _joy.1
         02:C808  AA         			tax
         02:C809  BD 28 22   			lda	joynow, x
         02:C80C  BC D3 22   			ldy	joy6now, x
 9352                        		__tand.wi	16
         02:C80F  29 10      			and	#16
         02:C811  C9 01      	!:		cmp	#1
 9353                        		__bfalse	.LL391
         02:C813  B0 03 4C F1			bcc	.LL391
         02:C817  C8          
 9354                        	
 9355                        		.dbg	line,	"include\routines_LEVELS.c", 1067; {
 9356                        	
 9357                        		.dbg	line,	"include\routines_LEVELS.c", 1068; if(player_state == STATE_HANG || player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
 9358                        		__ld.umq	_player_state
         02:C818  AD 18 23   			lda	_player_state
 9359                        		__equ_b.uiq	10
         02:C81B  C9 0A      			cmp	#10
         02:C81D  F0 01      			beq	!+
         02:C81F  18         			clc
         02:C820             	!:
 9360                        		__btrue		.LL393
         02:C820  B0 08      			bcs	.LL393
 9361                        		__ld.umq	_player_state
         02:C822  AD 18 23   			lda	_player_state
 9362                        		__equ_b.uiq	11
         02:C825  C9 0B      			cmp	#11
         02:C827  F0 01      			beq	!+
         02:C829  18         			clc
         02:C82A             	!:
 9363    02:C82A             	.LL393:
 9364                        		__btrue		.LL394
         02:C82A  B0 08      			bcs	.LL394
 9365                        		__ld.umq	_player_state
         02:C82C  AD 18 23   			lda	_player_state
 9366                        		__equ_b.uiq	12
         02:C82F  C9 0C      			cmp	#12
         02:C831  F0 01      			beq	!+
         02:C833  18         			clc
         02:C834             	!:
 9367    02:C834             	.LL394:
 9368                        		__bfalse	.LL392
         02:C834  B0 03 4C 5E			bcc	.LL392
         02:C838  CA          
 9369                        	
 9370                        		.dbg	line,	"include\routines_LEVELS.c", 1069; {
 9371                        	
 9372                        		.dbg	line,	"include\routines_LEVELS.c", 1070; if(player_attack == FALSE)
 9373                        		__not.um	_player_attack
         02:C839  AD 20 23   			lda	_player_attack
         02:C83C  18         			clc
         02:C83D  D0 01      			bne	!+
         02:C83F  38         			sec
         02:C840             	!:
 9374                        		__bfalse	.LL395
         02:C840  B0 03 4C 5E			bcc	.LL395
         02:C844  CA          
 9375                        	
 9376                        		.dbg	line,	"include\routines_LEVELS.c", 1071; {
 9377                        	
 9378                        		.dbg	line,	"include\routines_LEVELS.c", 1072; unsigned char i;
 9379                        	
 9380                        		.dbg	line,	"include\routines_LEVELS.c", 1074; check_BG( 15 , 8 );
 9381                        		__ld.wi		15
         02:C845  A9 0F      			lda.l	#15
         02:C847  C2         			cly
 9382                        		__pusharg.wr
         02:C848  A6 8D      			ldx	<__sp
         02:C84A  CA         			dex
         02:C84B  CA         			dex
         02:C84C  95 08      			sta.l	<__stack, x
         02:C84E  94 09      			sty.h	<__stack, x
         02:C850  86 8D      			stx	<__sp
 9383                        		__ld.wi		8
         02:C852  A9 08      			lda.l	#8
         02:C854  C2         			cly
 9384                        		__pusharg.wr
         02:C855  A6 8D      			ldx	<__sp
         02:C857  CA         			dex
         02:C858  CA         			dex
         02:C859  95 08      			sta.l	<__stack, x
         02:C85B  94 09      			sty.h	<__stack, x
         02:C85D  86 8D      			stx	<__sp
 9385                        		__call		_check_BG
         02:C85F  20 3B FF   			call	_check_BG
 9386                        	
 9387                        		.dbg	line,	"include\routines_LEVELS.c", 1076; if(map_blk_flag == TILE_EMPTY)
 9388                        		__not.um	_map_blk_flag
         02:C862  AD DF 2B   			lda	_map_blk_flag
         02:C865  18         			clc
         02:C866  D0 01      			bne	!+
         02:C868  38         			sec
         02:C869             	!:
 9389                        		__bfalse	.LL396
         02:C869  90 67      			bcc	.LL396
 9390                        	
 9391                        		.dbg	line,	"include\routines_LEVELS.c", 1077; {
 9392                        	
 9393                        		.dbg	line,	"include\routines_LEVELS.c", 1078; for(i=1 ; i<3 ; i++)
 9394                        		__st.umiq	1, __joypad_DIR_end - 1  /* i */
         02:C86B  A9 01      			lda.l	#1
         02:C86D  8D 04 23   			sta	__joypad_DIR_end - 1
 9395    02:C870             	.LL397:
 9396                        		__ld.umq	__joypad_DIR_end - 1  /* i */
         02:C870  AD 04 23   			lda	__joypad_DIR_end - 1
 9397                        		__ult_b.uiq	3
         02:C873  C9 03      			cmp	#3		; Subtract integer from A.
         02:C875  6A         			ror	a		; CC if A < integer.
         02:C876  49 80      			eor	#$80
         02:C878  2A         			rol	a
 9398                        		__btrue		.LL399
         02:C879  B0 07      			bcs	.LL399
 9399                        		__bra		.LL400
         02:C87B  80 63      			bra	.LL400
 9400    02:C87D             	.LL398:
 9401                        		__inc.umq	__joypad_DIR_end - 1  /* i */
         02:C87D  EE 04 23   			inc	__joypad_DIR_end - 1
 9402                        		__bra		.LL397
         02:C880  80 EE      			bra	.LL397
 9403    02:C882             	.LL399:
 9404                        	
 9405                        		.dbg	line,	"include\routines_LEVELS.c", 1079; {
 9406                        	
 9407                        		.dbg	line,	"include\routines_LEVELS.c", 1080; check_BG( 15 , 8 + i );
 9408                        		__ld.wi		15
         02:C882  A9 0F      			lda.l	#15
         02:C884  C2         			cly
 9409                        		__pusharg.wr
         02:C885  A6 8D      			ldx	<__sp
         02:C887  CA         			dex
         02:C888  CA         			dex
         02:C889  95 08      			sta.l	<__stack, x
         02:C88B  94 09      			sty.h	<__stack, x
         02:C88D  86 8D      			stx	<__sp
 9410                        		__ld.wi		8
         02:C88F  A9 08      			lda.l	#8
         02:C891  C2         			cly
 9411                        		__add.um	__joypad_DIR_end - 1  /* i */
         02:C892  18         			clc
         02:C893  6D 04 23   			adc	__joypad_DIR_end - 1
         02:C896  90 01      			bcc	!+
         02:C898  C8         			iny
         02:C899             	!:
 9412                        		__pusharg.wr
         02:C899  A6 8D      			ldx	<__sp
         02:C89B  CA         			dex
         02:C89C  CA         			dex
         02:C89D  95 08      			sta.l	<__stack, x
         02:C89F  94 09      			sty.h	<__stack, x
         02:C8A1  86 8D      			stx	<__sp
 9413                        		__call		_check_BG
         02:C8A3  20 3B FF   			call	_check_BG
 9414                        	
 9415                        		.dbg	line,	"include\routines_LEVELS.c", 1082; if(map_blk_flag == TILE_LADDER)
 9416                        		__ld.umq	_map_blk_flag
         02:C8A6  AD DF 2B   			lda	_map_blk_flag
 9417                        		__equ_b.uiq	2
         02:C8A9  C9 02      			cmp	#2
         02:C8AB  F0 01      			beq	!+
         02:C8AD  18         			clc
         02:C8AE             	!:
 9418                        		__bfalse	.LL401
         02:C8AE  90 CD      			bcc	.LL401
 9419                        	
 9420                        		.dbg	line,	"include\routines_LEVELS.c", 1083; {
 9421                        	
 9422                        		.dbg	line,	"include\routines_LEVELS.c", 1084; sgx_map_pxl_y -= (2 - i);
 9423                        		__ld.wi		2
         02:C8B0  A9 02      			lda.l	#2
         02:C8B2  C2         			cly
 9424                        		__sub.um	__joypad_DIR_end - 1  /* i */
         02:C8B3  38         			sec
         02:C8B4  ED 04 23   			sbc	__joypad_DIR_end - 1
         02:C8B7  B0 01      			bcs	!+
         02:C8B9  88         			dey
         02:C8BA             	!:
 9425                        		__isub_st.wmq	_sgx_map_pxl_y
         02:C8BA  38         			sec
         02:C8BB  49 FF      			eor	#$FF
         02:C8BD  6D C0 26   			adc.l	_sgx_map_pxl_y
         02:C8C0  8D C0 26   			sta.l	_sgx_map_pxl_y
         02:C8C3  98         			tya
         02:C8C4  49 FF      			eor	#$FF
         02:C8C6  6D C1 26   			adc.h	_sgx_map_pxl_y
         02:C8C9  8D C1 26   			sta.h	_sgx_map_pxl_y
 9426                        	
 9427                        		.dbg	line,	"include\routines_LEVELS.c", 1085; break;
 9428                        		__bra		.LL400
         02:C8CC  80 12      			bra	.LL400
 9429                        	
 9430                        		.dbg	line,	"include\routines_LEVELS.c", 1086; }
 9431                        	
 9432                        		.dbg	line,	"include\routines_LEVELS.c", 1087; }
 9433    02:C8CE             	.LL401	.alias		.LL398
 9434                        		__bra		.LL398
         02:C8CE  80 AD      			bra	.LL398
 9435    02:C8D0             	.LL400	.alias		.LL402
 9436                        	
 9437                        		.dbg	line,	"include\routines_LEVELS.c", 1088; }
 9438                        	
 9439                        		.dbg	line,	"include\routines_LEVELS.c", 1090; else
 9440                        		__bra		.LL402
         02:C8D0  80 0E      			bra	.LL402
 9441    02:C8D2             	.LL396:
 9442                        	
 9443                        		.dbg	line,	"include\routines_LEVELS.c", 1091; {
 9444                        	
 9445                        		.dbg	line,	"include\routines_LEVELS.c", 1092; sgx_map_pxl_y -= 2;
 9446                        		__sub_st.wmiq	2, _sgx_map_pxl_y
         02:C8D2  38         			sec
         02:C8D3  AD C0 26   			lda.l	_sgx_map_pxl_y
         02:C8D6  E9 02      			sbc.l	#2
         02:C8D8  8D C0 26   			sta.l	_sgx_map_pxl_y
         02:C8DB  B0 03      			bcs	!+
         02:C8DD  CE C1 26   			dec.h	_sgx_map_pxl_y
         02:C8E0             	!:
 9447                        	
 9448                        		.dbg	line,	"include\routines_LEVELS.c", 1093; }
 9449    02:C8E0             	.LL402:
 9450                        	
 9451                        		.dbg	line,	"include\routines_LEVELS.c", 1095; spr_set(weapon_id);
 9452                        		__ld.umq	_weapon_id
         02:C8E0  AD 26 23   			lda	_weapon_id
 9453                        		__call		_spr_set.1
         02:C8E3  20 DD E7   			call	_spr_set.1
 9454                        	
 9455                        		.dbg	line,	"include\routines_LEVELS.c", 1096; spr_hide();
 9456                        		__call		_spr_hide
         02:C8E6  20 F8 E7   			call	_spr_hide
 9457                        	
 9458                        		.dbg	line,	"include\routines_LEVELS.c", 1098; player_state = STATE_CLIMB_UP;
 9459                        		__st.umiq	11, _player_state
         02:C8E9  A9 0B      			lda.l	#11
         02:C8EB  8D 18 23   			sta	_player_state
 9460                        	
 9461                        		.dbg	line,	"include\routines_LEVELS.c", 1099; }
 9462                        	
 9463                        		.dbg	line,	"include\routines_LEVELS.c", 1100; }
 9464    02:C8EE             	.LL395	.alias		.LL403
 9465                        	
 9466                        		.dbg	line,	"include\routines_LEVELS.c", 1101; }
 9467    02:C8EE             	.LL392	.alias		.LL403
 9468                        	
 9469                        		.dbg	line,	"include\routines_LEVELS.c", 1104; //--------------------------------------------------------------------------------------//
 9470                        	
 9471                        		.dbg	line,	"include\routines_LEVELS.c", 1105; //                                     DOWN BUTTON                                      //
 9472                        	
 9473                        		.dbg	line,	"include\routines_LEVELS.c", 1106; //--------------------------------------------------------------------------------------//
 9474                        	
 9475                        		.dbg	line,	"include\routines_LEVELS.c", 1108; else if(joy(JOYPAD_1) & JOY_DOWN)
 9476                        		__bra		.LL403
         02:C8EE  4C 5E CA   			bra	.LL403
 9477    02:C8F1             	.LL391:
 9478                        		__ld.uiq	0
         02:C8F1  62         			cla
 9479                        		 _joy.1
         02:C8F2  AA         			tax
         02:C8F3  BD 28 22   			lda	joynow, x
         02:C8F6  BC D3 22   			ldy	joy6now, x
 9480                        		__tand.wi	64
         02:C8F9  29 40      			and	#64
         02:C8FB  C9 01      	!:		cmp	#1
 9481                        		__bfalse	.LL404
         02:C8FD  B0 03 4C 5E			bcc	.LL404
         02:C901  CA          
 9482                        	
 9483                        		.dbg	line,	"include\routines_LEVELS.c", 1109; {
 9484                        	
 9485                        		.dbg	line,	"include\routines_LEVELS.c", 1110; if(player_state == STATE_IDLE || player_state == STATE_WALK)
 9486                        		__not.um	_player_state
         02:C902  AD 18 23   			lda	_player_state
         02:C905  18         			clc
         02:C906  D0 01      			bne	!+
         02:C908  38         			sec
         02:C909             	!:
 9487                        		__btrue		.LL406
         02:C909  B0 08      			bcs	.LL406
 9488                        		__ld.umq	_player_state
         02:C90B  AD 18 23   			lda	_player_state
 9489                        		__equ_b.uiq	1
         02:C90E  C9 01      			cmp	#1
         02:C910  F0 01      			beq	!+
         02:C912  18         			clc
         02:C913             	!:
 9490    02:C913             	.LL406:
 9491                        		__bfalse	.LL405
         02:C913  90 0D      			bcc	.LL405
 9492                        	
 9493                        		.dbg	line,	"include\routines_LEVELS.c", 1111; {
 9494                        	
 9495                        		.dbg	line,	"include\routines_LEVELS.c", 1112; player_counter_anim = 1;
 9496                        		__st.umiq	1, _player_counter_anim
         02:C915  A9 01      			lda.l	#1
         02:C917  8D 1B 23   			sta	_player_counter_anim
 9497                        	
 9498                        		.dbg	line,	"include\routines_LEVELS.c", 1113; player_state = STATE_CROUCH;
 9499                        		__st.umiq	7, _player_state
         02:C91A  A9 07      			lda.l	#7
         02:C91C  8D 18 23   			sta	_player_state
 9500                        	
 9501                        		.dbg	line,	"include\routines_LEVELS.c", 1114; }
 9502                        	
 9503                        		.dbg	line,	"include\routines_LEVELS.c", 1117; else if(player_state == STATE_HANG || player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
 9504                        		__bra		.LL407
         02:C91F  4C 5E CA   			bra	.LL407
 9505    02:C922             	.LL405:
 9506                        		__ld.umq	_player_state
         02:C922  AD 18 23   			lda	_player_state
 9507                        		__equ_b.uiq	10
         02:C925  C9 0A      			cmp	#10
         02:C927  F0 01      			beq	!+
         02:C929  18         			clc
         02:C92A             	!:
 9508                        		__btrue		.LL409
         02:C92A  B0 08      			bcs	.LL409
 9509                        		__ld.umq	_player_state
         02:C92C  AD 18 23   			lda	_player_state
 9510                        		__equ_b.uiq	11
         02:C92F  C9 0B      			cmp	#11
         02:C931  F0 01      			beq	!+
         02:C933  18         			clc
         02:C934             	!:
 9511    02:C934             	.LL409:
 9512                        		__btrue		.LL410
         02:C934  B0 08      			bcs	.LL410
 9513                        		__ld.umq	_player_state
         02:C936  AD 18 23   			lda	_player_state
 9514                        		__equ_b.uiq	12
         02:C939  C9 0C      			cmp	#12
         02:C93B  F0 01      			beq	!+
         02:C93D  18         			clc
         02:C93E             	!:
 9515    02:C93E             	.LL410:
 9516                        		__bfalse	.LL408
         02:C93E  B0 03 4C 5E			bcc	.LL408
         02:C942  CA          
 9517                        	
 9518                        		.dbg	line,	"include\routines_LEVELS.c", 1118; {
 9519                        	
 9520                        		.dbg	line,	"include\routines_LEVELS.c", 1119; if(player_attack == FALSE)
 9521                        		__not.um	_player_attack
         02:C943  AD 20 23   			lda	_player_attack
         02:C946  18         			clc
         02:C947  D0 01      			bne	!+
         02:C949  38         			sec
         02:C94A             	!:
 9522                        		__bfalse	.LL411
         02:C94A  B0 03 4C 5E			bcc	.LL411
         02:C94E  CA          
 9523                        	
 9524                        		.dbg	line,	"include\routines_LEVELS.c", 1120; {
 9525                        	
 9526                        		.dbg	line,	"include\routines_LEVELS.c", 1121; unsigned char i;
 9527                        	
 9528                        		.dbg	line,	"include\routines_LEVELS.c", 1123; check_BG( 15 , 10 );
 9529                        		__ld.wi		15
         02:C94F  A9 0F      			lda.l	#15
         02:C951  C2         			cly
 9530                        		__pusharg.wr
         02:C952  A6 8D      			ldx	<__sp
         02:C954  CA         			dex
         02:C955  CA         			dex
         02:C956  95 08      			sta.l	<__stack, x
         02:C958  94 09      			sty.h	<__stack, x
         02:C95A  86 8D      			stx	<__sp
 9531                        		__ld.wi		10
         02:C95C  A9 0A      			lda.l	#10
         02:C95E  C2         			cly
 9532                        		__pusharg.wr
         02:C95F  A6 8D      			ldx	<__sp
         02:C961  CA         			dex
         02:C962  CA         			dex
         02:C963  95 08      			sta.l	<__stack, x
         02:C965  94 09      			sty.h	<__stack, x
         02:C967  86 8D      			stx	<__sp
 9533                        		__call		_check_BG
         02:C969  20 3B FF   			call	_check_BG
 9534                        	
 9535                        		.dbg	line,	"include\routines_LEVELS.c", 1125; if(map_blk_flag == TILE_EMPTY)
 9536                        		__not.um	_map_blk_flag
         02:C96C  AD DF 2B   			lda	_map_blk_flag
         02:C96F  18         			clc
         02:C970  D0 01      			bne	!+
         02:C972  38         			sec
         02:C973             	!:
 9537                        		__bfalse	.LL412
         02:C973  B0 03 4C 42			bcc	.LL412
         02:C977  CA          
 9538                        	
 9539                        		.dbg	line,	"include\routines_LEVELS.c", 1126; {
 9540                        	
 9541                        		.dbg	line,	"include\routines_LEVELS.c", 1127; for(i=1 ; i<3 ; i++)
 9542                        		__st.umiq	1, __joypad_DIR_end - 2  /* i */
         02:C978  A9 01      			lda.l	#1
         02:C97A  8D 03 23   			sta	__joypad_DIR_end - 2
 9543    02:C97D             	.LL413:
 9544                        		__ld.umq	__joypad_DIR_end - 2  /* i */
         02:C97D  AD 03 23   			lda	__joypad_DIR_end - 2
 9545                        		__ult_b.uiq	3
         02:C980  C9 03      			cmp	#3		; Subtract integer from A.
         02:C982  6A         			ror	a		; CC if A < integer.
         02:C983  49 80      			eor	#$80
         02:C985  2A         			rol	a
 9546                        		__btrue		.LL415
         02:C986  B0 08      			bcs	.LL415
 9547                        		__bra		.LL416
         02:C988  4C 5E CA   			bra	.LL416
 9548    02:C98B             	.LL414:
 9549                        		__inc.umq	__joypad_DIR_end - 2  /* i */
         02:C98B  EE 03 23   			inc	__joypad_DIR_end - 2
 9550                        		__bra		.LL413
         02:C98E  80 ED      			bra	.LL413
 9551    02:C990             	.LL415:
 9552                        	
 9553                        		.dbg	line,	"include\routines_LEVELS.c", 1128; {
 9554                        	
 9555                        		.dbg	line,	"include\routines_LEVELS.c", 1129; check_BG( 15 , 22 + i );
 9556                        		__ld.wi		15
         02:C990  A9 0F      			lda.l	#15
         02:C992  C2         			cly
 9557                        		__pusharg.wr
         02:C993  A6 8D      			ldx	<__sp
         02:C995  CA         			dex
         02:C996  CA         			dex
         02:C997  95 08      			sta.l	<__stack, x
         02:C999  94 09      			sty.h	<__stack, x
         02:C99B  86 8D      			stx	<__sp
 9558                        		__ld.wi		22
         02:C99D  A9 16      			lda.l	#22
         02:C99F  C2         			cly
 9559                        		__add.um	__joypad_DIR_end - 2  /* i */
         02:C9A0  18         			clc
         02:C9A1  6D 03 23   			adc	__joypad_DIR_end - 2
         02:C9A4  90 01      			bcc	!+
         02:C9A6  C8         			iny
         02:C9A7             	!:
 9560                        		__pusharg.wr
         02:C9A7  A6 8D      			ldx	<__sp
         02:C9A9  CA         			dex
         02:C9AA  CA         			dex
         02:C9AB  95 08      			sta.l	<__stack, x
         02:C9AD  94 09      			sty.h	<__stack, x
         02:C9AF  86 8D      			stx	<__sp
 9561                        		__call		_check_BG
         02:C9B1  20 3B FF   			call	_check_BG
 9562                        	
 9563                        		.dbg	line,	"include\routines_LEVELS.c", 1131; if(map_blk_flag == TILE_LADDER)
 9564                        		__ld.umq	_map_blk_flag
         02:C9B4  AD DF 2B   			lda	_map_blk_flag
 9565                        		__equ_b.uiq	2
         02:C9B7  C9 02      			cmp	#2
         02:C9B9  F0 01      			beq	!+
         02:C9BB  18         			clc
         02:C9BC             	!:
 9566                        		__bfalse	.LL417
         02:C9BC  90 1B      			bcc	.LL417
 9567                        	
 9568                        		.dbg	line,	"include\routines_LEVELS.c", 1132; {
 9569                        	
 9570                        		.dbg	line,	"include\routines_LEVELS.c", 1133; sgx_map_pxl_y += (2 - i);
 9571                        		__ld.wi		2
         02:C9BE  A9 02      			lda.l	#2
         02:C9C0  C2         			cly
 9572                        		__sub.um	__joypad_DIR_end - 2  /* i */
         02:C9C1  38         			sec
         02:C9C2  ED 03 23   			sbc	__joypad_DIR_end - 2
         02:C9C5  B0 01      			bcs	!+
         02:C9C7  88         			dey
         02:C9C8             	!:
 9573                        		__add_st.wmq	_sgx_map_pxl_y
         02:C9C8  18         			clc
         02:C9C9  6D C0 26   			adc.l	_sgx_map_pxl_y
         02:C9CC  8D C0 26   			sta.l	_sgx_map_pxl_y
         02:C9CF  98         			tya
         02:C9D0  6D C1 26   			adc.h	_sgx_map_pxl_y
         02:C9D3  8D C1 26   			sta.h	_sgx_map_pxl_y
 9574                        	
 9575                        		.dbg	line,	"include\routines_LEVELS.c", 1134; break;
 9576                        		__bra		.LL416
         02:C9D6  4C 5E CA   			bra	.LL416
 9577                        	
 9578                        		.dbg	line,	"include\routines_LEVELS.c", 1135; }
 9579                        	
 9580                        		.dbg	line,	"include\routines_LEVELS.c", 1137; else
 9581    02:C9D9             	.LL417:
 9582                        	
 9583                        		.dbg	line,	"include\routines_LEVELS.c", 1138; {
 9584                        	
 9585                        		.dbg	line,	"include\routines_LEVELS.c", 1139; spr_set(player_id);
 9586                        		__ld.umq	_player_id
         02:C9D9  AD 17 23   			lda	_player_id
 9587                        		__call		_spr_set.1
         02:C9DC  20 DD E7   			call	_spr_set.1
 9588                        	
 9589                        		.dbg	line,	"include\routines_LEVELS.c", 1140; spr_pattern(PLAYER_FALL_VRAM_ADR);
 9590                        		__ld.wi		9216
         02:C9DF  62         			cla
         02:C9E0  A0 24      			ldy.h	#9216
 9591                        		__call		_spr_pattern.1
         02:C9E2  20 26 E8   			call	_spr_pattern.1
 9592                        	
 9593                        		.dbg	line,	"include\routines_LEVELS.c", 1142; spr_set(weapon_id);
 9594                        		__ld.umq	_weapon_id
         02:C9E5  AD 26 23   			lda	_weapon_id
 9595                        		__call		_spr_set.1
         02:C9E8  20 DD E7   			call	_spr_set.1
 9596                        	
 9597                        		.dbg	line,	"include\routines_LEVELS.c", 1143; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
 9598                        		__ld.wi		31808
         02:C9EB  A9 40      			lda.l	#31808
         02:C9ED  A0 7C      			ldy.h	#31808
 9599                        		__call		_spr_pattern.1
         02:C9EF  20 26 E8   			call	_spr_pattern.1
 9600                        	
 9601                        		.dbg	line,	"include\routines_LEVELS.c", 1144; spr_y(player_pos_y+4);
 9602                        		__ld.wm		_player_pos_y
         02:C9F2  AD DD 24   			lda.l	_player_pos_y
         02:C9F5  AC DE 24   			ldy.h	_player_pos_y
 9603                        		__add.wi	4
         02:C9F8  18         			clc
         02:C9F9  69 04      			adc.l	#4
         02:C9FB  90 01      			bcc	!+
         02:C9FD  C8         			iny
         02:C9FE             	!:
 9604                        		__call		_spr_y.1
         02:C9FE  20 19 E8   			call	_spr_y.1
 9605                        	
 9606                        		.dbg	line,	"include\routines_LEVELS.c", 1146; if(player_axis == AXIS_RIGHT)
 9607                        		__not.um	_player_axis
         02:CA01  AD 19 23   			lda	_player_axis
         02:CA04  18         			clc
         02:CA05  D0 01      			bne	!+
         02:CA07  38         			sec
         02:CA08             	!:
 9608                        		__bfalse	.LL419
         02:CA08  90 11      			bcc	.LL419
 9609                        	
 9610                        		.dbg	line,	"include\routines_LEVELS.c", 1147; {
 9611                        	
 9612                        		.dbg	line,	"include\routines_LEVELS.c", 1148; spr_x(player_pos_x-4);
 9613                        		__ld.wm		_player_pos_x
         02:CA0A  AD DB 24   			lda.l	_player_pos_x
         02:CA0D  AC DC 24   			ldy.h	_player_pos_x
 9614                        		__sub.wi	4
         02:CA10  38         			sec
         02:CA11  E9 04      			sbc.l	#4
         02:CA13  B0 01      			bcs	!+
         02:CA15  88         			dey
         02:CA16             	!:
 9615                        		__call		_spr_x.1
         02:CA16  20 0A E8   			call	_spr_x.1
 9616                        	
 9617                        		.dbg	line,	"include\routines_LEVELS.c", 1149; }
 9618                        	
 9619                        		.dbg	line,	"include\routines_LEVELS.c", 1150; 
 9620                        	
 9621                        		.dbg	line,	"include\routines_LEVELS.c", 1151; else
 9622                        		__bra		.LL420
         02:CA19  80 0F      			bra	.LL420
 9623    02:CA1B             	.LL419:
 9624                        	
 9625                        		.dbg	line,	"include\routines_LEVELS.c", 1152; {
 9626                        	
 9627                        		.dbg	line,	"include\routines_LEVELS.c", 1153; spr_x(player_pos_x+20);
 9628                        		__ld.wm		_player_pos_x
         02:CA1B  AD DB 24   			lda.l	_player_pos_x
         02:CA1E  AC DC 24   			ldy.h	_player_pos_x
 9629                        		__add.wi	20
         02:CA21  18         			clc
         02:CA22  69 14      			adc.l	#20
         02:CA24  90 01      			bcc	!+
         02:CA26  C8         			iny
         02:CA27             	!:
 9630                        		__call		_spr_x.1
         02:CA27  20 0A E8   			call	_spr_x.1
 9631                        	
 9632                        		.dbg	line,	"include\routines_LEVELS.c", 1154; }
 9633    02:CA2A             	.LL420:
 9634                        	
 9635                        		.dbg	line,	"include\routines_LEVELS.c", 1155; 
 9636                        	
 9637                        		.dbg	line,	"include\routines_LEVELS.c", 1157; jump_ladder = FALSE;
 9638                        		__st.umiq	0, _jump_ladder
         02:CA2A  9C 21 23   			stz	_jump_ladder
 9639                        	
 9640                        		.dbg	line,	"include\routines_LEVELS.c", 1158; player_index_jump = 0;
 9641                        		__st.umiq	0, _player_index_jump
         02:CA2D  9C 1C 23   			stz	_player_index_jump
 9642                        	
 9643                        		.dbg	line,	"include\routines_LEVELS.c", 1159; player_index_fall = 0;
 9644                        		__st.umiq	0, _player_index_fall
         02:CA30  9C 1D 23   			stz	_player_index_fall
 9645                        	
 9646                        		.dbg	line,	"include\routines_LEVELS.c", 1160; fall_ladder = TRUE;
 9647                        		__st.umiq	1, _fall_ladder
         02:CA33  A9 01      			lda.l	#1
         02:CA35  8D 23 23   			sta	_fall_ladder
 9648                        	
 9649                        		.dbg	line,	"include\routines_LEVELS.c", 1161; player_state = STATE_FALL;
 9650                        		__st.umiq	9, _player_state
         02:CA38  A9 09      			lda.l	#9
         02:CA3A  8D 18 23   			sta	_player_state
 9651                        	
 9652                        		.dbg	line,	"include\routines_LEVELS.c", 1162; }
 9653    02:CA3D             	.LL418	.alias		.LL414
 9654                        	
 9655                        		.dbg	line,	"include\routines_LEVELS.c", 1163; }
 9656                        		__bra		.LL414
         02:CA3D  4C 8B C9   			bra	.LL414
 9657    02:CA40             	.LL416	.alias		.LL421
 9658                        	
 9659                        		.dbg	line,	"include\routines_LEVELS.c", 1164; }
 9660                        	
 9661                        		.dbg	line,	"include\routines_LEVELS.c", 1166; else
 9662                        		__bra		.LL421
         02:CA40  80 1C      			bra	.LL421
 9663    02:CA42             	.LL412:
 9664                        	
 9665                        		.dbg	line,	"include\routines_LEVELS.c", 1167; {
 9666                        	
 9667                        		.dbg	line,	"include\routines_LEVELS.c", 1168; spr_set(weapon_id);
 9668                        		__ld.umq	_weapon_id
         02:CA42  AD 26 23   			lda	_weapon_id
 9669                        		__call		_spr_set.1
         02:CA45  20 DD E7   			call	_spr_set.1
 9670                        	
 9671                        		.dbg	line,	"include\routines_LEVELS.c", 1169; spr_hide();
 9672                        		__call		_spr_hide
         02:CA48  20 F8 E7   			call	_spr_hide
 9673                        	
 9674                        		.dbg	line,	"include\routines_LEVELS.c", 1170; 
 9675                        	
 9676                        		.dbg	line,	"include\routines_LEVELS.c", 1171; sgx_map_pxl_y += 2;
 9677                        		__add_st.wmiq	2, _sgx_map_pxl_y
         02:CA4B  18         			clc
         02:CA4C  AD C0 26   			lda.l	_sgx_map_pxl_y
         02:CA4F  69 02      			adc.l	#2
         02:CA51  8D C0 26   			sta.l	_sgx_map_pxl_y
         02:CA54  90 03      			bcc	!+
         02:CA56  EE C1 26   			inc.h	_sgx_map_pxl_y
         02:CA59             	!:
 9678                        	
 9679                        		.dbg	line,	"include\routines_LEVELS.c", 1172; player_state = STATE_CLIMB_DOWN;
 9680                        		__st.umiq	12, _player_state
         02:CA59  A9 0C      			lda.l	#12
         02:CA5B  8D 18 23   			sta	_player_state
 9681                        	
 9682                        		.dbg	line,	"include\routines_LEVELS.c", 1173; }
 9683    02:CA5E             	.LL421:
 9684                        	
 9685                        		.dbg	line,	"include\routines_LEVELS.c", 1174; }
 9686                        	
 9687                        		.dbg	line,	"include\routines_LEVELS.c", 1175; }
 9688    02:CA5E             	.LL411:
 9689                        	
 9690                        		.dbg	line,	"include\routines_LEVELS.c", 1176; }
 9691    02:CA5E             	.LL408:
 9692    02:CA5E             	.LL407:
 9693                        	
 9694                        		.dbg	line,	"include\routines_LEVELS.c", 1177; }
 9695    02:CA5E             	.LL404:
 9696    02:CA5E             	.LL403:
 9697    02:CA5E             	.LL390:
 9698    02:CA5E             	.LL364:
 9699    02:CA5E             	.LL327:
 9700                        		__return	0
         02:CA5E  4C EF FF   			jmp	leave_proc
 9701                        		.dbg	clear
 9702                        		.endp
 9703               6B40     		.data
 9704               2303     		.bss
 9705    F8:2303             	__joypad_DIR_loc:
 9706    F8:2303             			ds	2
 9707    F8:2305             	__joypad_DIR_end:
 9708               E309     		.code
 9709                        		.pceas
 9710                        	
 9711                        		.dbg	line,	"include\routines_LEVELS.c", 1186; void update_PLAYER()
 9712                        		.dbg	line,	"include\routines_LEVELS.c", 1187; {
 9713                        	;***********************
 9714                        	;***********************
 9715                        	
 9716                        		.hucc
 9717    01:C2A8             		.proc		_update_PLAYER
 9718                        		__enter		_update_PLAYER
 9719                        	
 9720                        		.dbg	line,	"include\routines_LEVELS.c", 1188; if(player_state == STATE_IDLE)
 9721                        		__not.um	_player_state
         01:C2A8  AD 18 23   			lda	_player_state
         01:C2AB  18         			clc
         01:C2AC  D0 01      			bne	!+
         01:C2AE  38         			sec
         01:C2AF             	!:
 9722                        		__bfalse	.LL423
         01:C2AF  B0 03 4C 58			bcc	.LL423
         01:C2B3  C3          
 9723                        	
 9724                        		.dbg	line,	"include\routines_LEVELS.c", 1189; {
 9725                        	
 9726                        		.dbg	line,	"include\routines_LEVELS.c", 1190; if(player_counter_anim == 1)
 9727                        		__ld.umq	_player_counter_anim
         01:C2B4  AD 1B 23   			lda	_player_counter_anim
 9728                        		__equ_b.uiq	1
         01:C2B7  C9 01      			cmp	#1
         01:C2B9  F0 01      			beq	!+
         01:C2BB  18         			clc
         01:C2BC             	!:
 9729                        		__bfalse	.LL424
         01:C2BC  90 0F      			bcc	.LL424
 9730                        	
 9731                        		.dbg	line,	"include\routines_LEVELS.c", 1191; {
 9732                        	
 9733                        		.dbg	line,	"include\routines_LEVELS.c", 1192; spr_set(player_id);
 9734                        		__ld.umq	_player_id
         01:C2BE  AD 17 23   			lda	_player_id
 9735                        		__call		_spr_set.1
         01:C2C1  20 DD E7   			call	_spr_set.1
 9736                        	
 9737                        		.dbg	line,	"include\routines_LEVELS.c", 1193; spr_pattern(PLAYER_IDLE_VRAM_ADR);
 9738                        		__ld.wi		5120
         01:C2C4  62         			cla
         01:C2C5  A0 14      			ldy.h	#5120
 9739                        		__call		_spr_pattern.1
         01:C2C7  20 26 E8   			call	_spr_pattern.1
 9740                        	
 9741                        		.dbg	line,	"include\routines_LEVELS.c", 1195; player_counter_anim = 0;
 9742                        		__st.umiq	0, _player_counter_anim
         01:C2CA  9C 1B 23   			stz	_player_counter_anim
 9743                        	
 9744                        		.dbg	line,	"include\routines_LEVELS.c", 1196; }
 9745                        	
 9746                        		.dbg	line,	"include\routines_LEVELS.c", 1198; recenter_CAMERA();
 9747    01:C2CD             	.LL424:
 9748                        		__call		_recenter_CAMERA
         01:C2CD  20 31 FF   			call	_recenter_CAMERA
 9749                        	
 9750                        		.dbg	line,	"include\routines_LEVELS.c", 1201; // CHECK COLLISION WITH LEFT FLOOR //
 9751                        	
 9752                        		.dbg	line,	"include\routines_LEVELS.c", 1202; check_BG( 10 , 32 );//8
 9753                        		__ld.wi		10
         01:C2D0  A9 0A      			lda.l	#10
         01:C2D2  C2         			cly
 9754                        		__pusharg.wr
         01:C2D3  A6 8D      			ldx	<__sp
         01:C2D5  CA         			dex
         01:C2D6  CA         			dex
         01:C2D7  95 08      			sta.l	<__stack, x
         01:C2D9  94 09      			sty.h	<__stack, x
         01:C2DB  86 8D      			stx	<__sp
 9755                        		__ld.wi		32
         01:C2DD  A9 20      			lda.l	#32
         01:C2DF  C2         			cly
 9756                        		__pusharg.wr
         01:C2E0  A6 8D      			ldx	<__sp
         01:C2E2  CA         			dex
         01:C2E3  CA         			dex
         01:C2E4  95 08      			sta.l	<__stack, x
         01:C2E6  94 09      			sty.h	<__stack, x
         01:C2E8  86 8D      			stx	<__sp
 9757                        		__call		_check_BG
         01:C2EA  20 3B FF   			call	_check_BG
 9758                        	
 9759                        		.dbg	line,	"include\routines_LEVELS.c", 1204; if(map_blk_flag == TILE_EMPTY)
 9760                        		__not.um	_map_blk_flag
         01:C2ED  AD DF 2B   			lda	_map_blk_flag
         01:C2F0  18         			clc
         01:C2F1  D0 01      			bne	!+
         01:C2F3  38         			sec
         01:C2F4             	!:
 9761                        		__bfalse	.LL425
         01:C2F4  90 34      			bcc	.LL425
 9762                        	
 9763                        		.dbg	line,	"include\routines_LEVELS.c", 1205; {
 9764                        	
 9765                        		.dbg	line,	"include\routines_LEVELS.c", 1206; // CHECK COLLISION WITH RIGHT FLOOR //
 9766                        	
 9767                        		.dbg	line,	"include\routines_LEVELS.c", 1207; check_BG( 22 , 32 );//24
 9768                        		__ld.wi		22
         01:C2F6  A9 16      			lda.l	#22
         01:C2F8  C2         			cly
 9769                        		__pusharg.wr
         01:C2F9  A6 8D      			ldx	<__sp
         01:C2FB  CA         			dex
         01:C2FC  CA         			dex
         01:C2FD  95 08      			sta.l	<__stack, x
         01:C2FF  94 09      			sty.h	<__stack, x
         01:C301  86 8D      			stx	<__sp
 9770                        		__ld.wi		32
         01:C303  A9 20      			lda.l	#32
         01:C305  C2         			cly
 9771                        		__pusharg.wr
         01:C306  A6 8D      			ldx	<__sp
         01:C308  CA         			dex
         01:C309  CA         			dex
         01:C30A  95 08      			sta.l	<__stack, x
         01:C30C  94 09      			sty.h	<__stack, x
         01:C30E  86 8D      			stx	<__sp
 9772                        		__call		_check_BG
         01:C310  20 3B FF   			call	_check_BG
 9773                        	
 9774                        		.dbg	line,	"include\routines_LEVELS.c", 1209; if(map_blk_flag == TILE_EMPTY)
 9775                        		__not.um	_map_blk_flag
         01:C313  AD DF 2B   			lda	_map_blk_flag
         01:C316  18         			clc
         01:C317  D0 01      			bne	!+
         01:C319  38         			sec
         01:C31A             	!:
 9776                        		__bfalse	.LL426
         01:C31A  90 0E      			bcc	.LL426
 9777                        	
 9778                        		.dbg	line,	"include\routines_LEVELS.c", 1210; {
 9779                        	
 9780                        		.dbg	line,	"include\routines_LEVELS.c", 1211; //set_far_base(TABLE_PLAYER_TILES_BANK[player_naked],TABLE_PLAYER_TILES_ADR[player_naked]);
 9781                        	
 9782                        		.dbg	line,	"include\routines_LEVELS.c", 1212; //far_load_vram(PLAYER_VRAM_ADR,TILES_16);
 9783                        	
 9784                        		.dbg	line,	"include\routines_LEVELS.c", 1214; jump_ladder = FALSE;
 9785                        		__st.umiq	0, _jump_ladder
         01:C31C  9C 21 23   			stz	_jump_ladder
 9786                        	
 9787                        		.dbg	line,	"include\routines_LEVELS.c", 1215; player_index_jump = 0;
 9788                        		__st.umiq	0, _player_index_jump
         01:C31F  9C 1C 23   			stz	_player_index_jump
 9789                        	
 9790                        		.dbg	line,	"include\routines_LEVELS.c", 1216; player_index_fall = 0;
 9791                        		__st.umiq	0, _player_index_fall
         01:C322  9C 1D 23   			stz	_player_index_fall
 9792                        	
 9793                        		.dbg	line,	"include\routines_LEVELS.c", 1217; player_state = STATE_FALL;
 9794                        		__st.umiq	9, _player_state
         01:C325  A9 09      			lda.l	#9
         01:C327  8D 18 23   			sta	_player_state
 9795                        	
 9796                        		.dbg	line,	"include\routines_LEVELS.c", 1218; }
 9797                        	
 9798                        		.dbg	line,	"include\routines_LEVELS.c", 1219; }
 9799    01:C32A             	.LL426:
 9800                        	
 9801                        		.dbg	line,	"include\routines_LEVELS.c", 1221; spr_set(weapon_id);
 9802    01:C32A             	.LL425:
 9803                        		__ld.umq	_weapon_id
         01:C32A  AD 26 23   			lda	_weapon_id
 9804                        		__call		_spr_set.1
         01:C32D  20 DD E7   			call	_spr_set.1
 9805                        	
 9806                        		.dbg	line,	"include\routines_LEVELS.c", 1222; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
 9807                        		__ld.wi		31808
         01:C330  A9 40      			lda.l	#31808
         01:C332  A0 7C      			ldy.h	#31808
 9808                        		__call		_spr_pattern.1
         01:C334  20 26 E8   			call	_spr_pattern.1
 9809                        	
 9810                        		.dbg	line,	"include\routines_LEVELS.c", 1223; spr_x(player_pos_x+8);
 9811                        		__ld.wm		_player_pos_x
         01:C337  AD DB 24   			lda.l	_player_pos_x
         01:C33A  AC DC 24   			ldy.h	_player_pos_x
 9812                        		__add.wi	8
         01:C33D  18         			clc
         01:C33E  69 08      			adc.l	#8
         01:C340  90 01      			bcc	!+
         01:C342  C8         			iny
         01:C343             	!:
 9813                        		__call		_spr_x.1
         01:C343  20 0A E8   			call	_spr_x.1
 9814                        	
 9815                        		.dbg	line,	"include\routines_LEVELS.c", 1224; spr_y(player_pos_y+16);
 9816                        		__ld.wm		_player_pos_y
         01:C346  AD DD 24   			lda.l	_player_pos_y
         01:C349  AC DE 24   			ldy.h	_player_pos_y
 9817                        		__add.wi	16
         01:C34C  18         			clc
         01:C34D  69 10      			adc.l	#16
         01:C34F  90 01      			bcc	!+
         01:C351  C8         			iny
         01:C352             	!:
 9818                        		__call		_spr_y.1
         01:C352  20 19 E8   			call	_spr_y.1
 9819                        	
 9820                        		.dbg	line,	"include\routines_LEVELS.c", 1225; }
 9821                        	
 9822                        		.dbg	line,	"include\routines_LEVELS.c", 1228; else if(player_state == STATE_WALK)
 9823                        		__bra		.LL427
         01:C355  4C 4F DC   			bra	.LL427
 9824    01:C358             	.LL423:
 9825                        		__ld.umq	_player_state
         01:C358  AD 18 23   			lda	_player_state
 9826                        		__equ_b.uiq	1
         01:C35B  C9 01      			cmp	#1
         01:C35D  F0 01      			beq	!+
         01:C35F  18         			clc
         01:C360             	!:
 9827                        		__bfalse	.LL428
         01:C360  B0 03 4C 06			bcc	.LL428
         01:C364  C7          
 9828                        	
 9829                        		.dbg	line,	"include\routines_LEVELS.c", 1229; {
 9830                        	
 9831                        		.dbg	line,	"include\routines_LEVELS.c", 1230; recenter_CAMERA();
 9832                        		__call		_recenter_CAMERA
         01:C365  20 31 FF   			call	_recenter_CAMERA
 9833                        	
 9834                        		.dbg	line,	"include\routines_LEVELS.c", 1233; //--------------------------------------------------------------------------------------//
 9835                        	
 9836                        		.dbg	line,	"include\routines_LEVELS.c", 1234; //                                   FLOOR COLLISION                                    //
 9837                        	
 9838                        		.dbg	line,	"include\routines_LEVELS.c", 1235; //--------------------------------------------------------------------------------------//
 9839                        	
 9840                        		.dbg	line,	"include\routines_LEVELS.c", 1237; // CHECK COLLISION WITH LEFT FLOOR //
 9841                        	
 9842                        		.dbg	line,	"include\routines_LEVELS.c", 1238; check_BG( 10 , 32 );//8
 9843                        		__ld.wi		10
         01:C368  A9 0A      			lda.l	#10
         01:C36A  C2         			cly
 9844                        		__pusharg.wr
         01:C36B  A6 8D      			ldx	<__sp
         01:C36D  CA         			dex
         01:C36E  CA         			dex
         01:C36F  95 08      			sta.l	<__stack, x
         01:C371  94 09      			sty.h	<__stack, x
         01:C373  86 8D      			stx	<__sp
 9845                        		__ld.wi		32
         01:C375  A9 20      			lda.l	#32
         01:C377  C2         			cly
 9846                        		__pusharg.wr
         01:C378  A6 8D      			ldx	<__sp
         01:C37A  CA         			dex
         01:C37B  CA         			dex
         01:C37C  95 08      			sta.l	<__stack, x
         01:C37E  94 09      			sty.h	<__stack, x
         01:C380  86 8D      			stx	<__sp
 9847                        		__call		_check_BG
         01:C382  20 3B FF   			call	_check_BG
 9848                        	
 9849                        		.dbg	line,	"include\routines_LEVELS.c", 1240; if(map_blk_flag == TILE_EMPTY)
 9850                        		__not.um	_map_blk_flag
         01:C385  AD DF 2B   			lda	_map_blk_flag
         01:C388  18         			clc
         01:C389  D0 01      			bne	!+
         01:C38B  38         			sec
         01:C38C             	!:
 9851                        		__bfalse	.LL429
         01:C38C  B0 03 4C 44			bcc	.LL429
         01:C390  C4          
 9852                        	
 9853                        		.dbg	line,	"include\routines_LEVELS.c", 1241; {
 9854                        	
 9855                        		.dbg	line,	"include\routines_LEVELS.c", 1242; // CHECK COLLISION WITH RIGHT FLOOR //
 9856                        	
 9857                        		.dbg	line,	"include\routines_LEVELS.c", 1243; check_BG( 22 , 32 );//24
 9858                        		__ld.wi		22
         01:C391  A9 16      			lda.l	#22
         01:C393  C2         			cly
 9859                        		__pusharg.wr
         01:C394  A6 8D      			ldx	<__sp
         01:C396  CA         			dex
         01:C397  CA         			dex
         01:C398  95 08      			sta.l	<__stack, x
         01:C39A  94 09      			sty.h	<__stack, x
         01:C39C  86 8D      			stx	<__sp
 9860                        		__ld.wi		32
         01:C39E  A9 20      			lda.l	#32
         01:C3A0  C2         			cly
 9861                        		__pusharg.wr
         01:C3A1  A6 8D      			ldx	<__sp
         01:C3A3  CA         			dex
         01:C3A4  CA         			dex
         01:C3A5  95 08      			sta.l	<__stack, x
         01:C3A7  94 09      			sty.h	<__stack, x
         01:C3A9  86 8D      			stx	<__sp
 9862                        		__call		_check_BG
         01:C3AB  20 3B FF   			call	_check_BG
 9863                        	
 9864                        		.dbg	line,	"include\routines_LEVELS.c", 1245; if(map_blk_flag == TILE_EMPTY)
 9865                        		__not.um	_map_blk_flag
         01:C3AE  AD DF 2B   			lda	_map_blk_flag
         01:C3B1  18         			clc
         01:C3B2  D0 01      			bne	!+
         01:C3B4  38         			sec
         01:C3B5             	!:
 9866                        		__bfalse	.LL430
         01:C3B5  90 11      			bcc	.LL430
 9867                        	
 9868                        		.dbg	line,	"include\routines_LEVELS.c", 1246; {
 9869                        	
 9870                        		.dbg	line,	"include\routines_LEVELS.c", 1247; /*spr_set(player_id);
 9871                        	
 9872                        		.dbg	line,	"include\routines_LEVELS.c", 1248; spr_pattern(PLAYER_IDLE_VRAM_ADR);
 9873                        	
 9874                        		.dbg	line,	"include\routines_LEVELS.c", 1250; spr_set(weapon_id);
 9875                        	
 9876                        		.dbg	line,	"include\routines_LEVELS.c", 1251; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
 9877                        	
 9878                        		.dbg	line,	"include\routines_LEVELS.c", 1252; spr_x(player_pos_x+8);
 9879                        	
 9880                        		.dbg	line,	"include\routines_LEVELS.c", 1253; spr_y(player_pos_y+16);*/
 9881                        	
 9882                        		.dbg	line,	"include\routines_LEVELS.c", 1255; jump_ladder = FALSE;
 9883                        		__st.umiq	0, _jump_ladder
         01:C3B7  9C 21 23   			stz	_jump_ladder
 9884                        	
 9885                        		.dbg	line,	"include\routines_LEVELS.c", 1256; player_index_jump = 0;
 9886                        		__st.umiq	0, _player_index_jump
         01:C3BA  9C 1C 23   			stz	_player_index_jump
 9887                        	
 9888                        		.dbg	line,	"include\routines_LEVELS.c", 1257; player_index_fall = 0;
 9889                        		__st.umiq	0, _player_index_fall
         01:C3BD  9C 1D 23   			stz	_player_index_fall
 9890                        	
 9891                        		.dbg	line,	"include\routines_LEVELS.c", 1258; player_state = STATE_FALL;
 9892                        		__st.umiq	9, _player_state
         01:C3C0  A9 09      			lda.l	#9
         01:C3C2  8D 18 23   			sta	_player_state
 9893                        	
 9894                        		.dbg	line,	"include\routines_LEVELS.c", 1259; }
 9895                        	
 9896                        		.dbg	line,	"include\routines_LEVELS.c", 1262; else
 9897                        		__bra		.LL431
         01:C3C5  4C B7 C4   			bra	.LL431
 9898    01:C3C8             	.LL430:
 9899                        	
 9900                        		.dbg	line,	"include\routines_LEVELS.c", 1263; {
 9901                        	
 9902                        		.dbg	line,	"include\routines_LEVELS.c", 1264; if(player_axis == AXIS_RIGHT)
 9903                        		__not.um	_player_axis
         01:C3C8  AD 19 23   			lda	_player_axis
         01:C3CB  18         			clc
         01:C3CC  D0 01      			bne	!+
         01:C3CE  38         			sec
         01:C3CF             	!:
 9904                        		__bfalse	.LL432
         01:C3CF  90 3A      			bcc	.LL432
 9905                        	
 9906                        		.dbg	line,	"include\routines_LEVELS.c", 1265; {
 9907                        	
 9908                        		.dbg	line,	"include\routines_LEVELS.c", 1266; // CHECK COLLISION WITH RIGHT WALL //
 9909                        	
 9910                        		.dbg	line,	"include\routines_LEVELS.c", 1267; check_BG( 24 , 31 ); // 24+2
 9911                        		__ld.wi		24
         01:C3D1  A9 18      			lda.l	#24
         01:C3D3  C2         			cly
 9912                        		__pusharg.wr
         01:C3D4  A6 8D      			ldx	<__sp
         01:C3D6  CA         			dex
         01:C3D7  CA         			dex
         01:C3D8  95 08      			sta.l	<__stack, x
         01:C3DA  94 09      			sty.h	<__stack, x
         01:C3DC  86 8D      			stx	<__sp
 9913                        		__ld.wi		31
         01:C3DE  A9 1F      			lda.l	#31
         01:C3E0  C2         			cly
 9914                        		__pusharg.wr
         01:C3E1  A6 8D      			ldx	<__sp
         01:C3E3  CA         			dex
         01:C3E4  CA         			dex
         01:C3E5  95 08      			sta.l	<__stack, x
         01:C3E7  94 09      			sty.h	<__stack, x
         01:C3E9  86 8D      			stx	<__sp
 9915                        		__call		_check_BG
         01:C3EB  20 3B FF   			call	_check_BG
 9916                        	
 9917                        		.dbg	line,	"include\routines_LEVELS.c", 1269; if(map_blk_flag == TILE_EMPTY)
 9918                        		__not.um	_map_blk_flag
         01:C3EE  AD DF 2B   			lda	_map_blk_flag
         01:C3F1  18         			clc
         01:C3F2  D0 01      			bne	!+
         01:C3F4  38         			sec
         01:C3F5             	!:
 9919                        		__bfalse	.LL433
         01:C3F5  B0 03 4C B7			bcc	.LL433
         01:C3F9  C4          
 9920                        	
 9921                        		.dbg	line,	"include\routines_LEVELS.c", 1270; {
 9922                        	
 9923                        		.dbg	line,	"include\routines_LEVELS.c", 1271; sgx_map_pxl_x += 2;
 9924                        		__add_st.wmiq	2, _sgx_map_pxl_x
         01:C3FA  18         			clc
         01:C3FB  AD BE 26   			lda.l	_sgx_map_pxl_x
         01:C3FE  69 02      			adc.l	#2
         01:C400  8D BE 26   			sta.l	_sgx_map_pxl_x
         01:C403  90 03      			bcc	!+
         01:C405  EE BF 26   			inc.h	_sgx_map_pxl_x
         01:C408             	!:
 9925                        	
 9926                        		.dbg	line,	"include\routines_LEVELS.c", 1272; }
 9927                        	
 9928                        		.dbg	line,	"include\routines_LEVELS.c", 1273; }
 9929    01:C408             	.LL433	.alias		.LL434
 9930                        	
 9931                        		.dbg	line,	"include\routines_LEVELS.c", 1275; else
 9932                        		__bra		.LL434
         01:C408  4C B7 C4   			bra	.LL434
 9933    01:C40B             	.LL432:
 9934                        	
 9935                        		.dbg	line,	"include\routines_LEVELS.c", 1276; {
 9936                        	
 9937                        		.dbg	line,	"include\routines_LEVELS.c", 1277; // CHECK COLLISION WITH LEFT WALL //
 9938                        	
 9939                        		.dbg	line,	"include\routines_LEVELS.c", 1278; check_BG( 8 , 31 ); // 8-2
 9940                        		__ld.wi		8
         01:C40B  A9 08      			lda.l	#8
         01:C40D  C2         			cly
 9941                        		__pusharg.wr
         01:C40E  A6 8D      			ldx	<__sp
         01:C410  CA         			dex
         01:C411  CA         			dex
         01:C412  95 08      			sta.l	<__stack, x
         01:C414  94 09      			sty.h	<__stack, x
         01:C416  86 8D      			stx	<__sp
 9942                        		__ld.wi		31
         01:C418  A9 1F      			lda.l	#31
         01:C41A  C2         			cly
 9943                        		__pusharg.wr
         01:C41B  A6 8D      			ldx	<__sp
         01:C41D  CA         			dex
         01:C41E  CA         			dex
         01:C41F  95 08      			sta.l	<__stack, x
         01:C421  94 09      			sty.h	<__stack, x
         01:C423  86 8D      			stx	<__sp
 9944                        		__call		_check_BG
         01:C425  20 3B FF   			call	_check_BG
 9945                        	
 9946                        		.dbg	line,	"include\routines_LEVELS.c", 1280; if(map_blk_flag == TILE_EMPTY)
 9947                        		__not.um	_map_blk_flag
         01:C428  AD DF 2B   			lda	_map_blk_flag
         01:C42B  18         			clc
         01:C42C  D0 01      			bne	!+
         01:C42E  38         			sec
         01:C42F             	!:
 9948                        		__bfalse	.LL435
         01:C42F  B0 03 4C B7			bcc	.LL435
         01:C433  C4          
 9949                        	
 9950                        		.dbg	line,	"include\routines_LEVELS.c", 1281; {
 9951                        	
 9952                        		.dbg	line,	"include\routines_LEVELS.c", 1282; sgx_map_pxl_x -= 2;
 9953                        		__sub_st.wmiq	2, _sgx_map_pxl_x
         01:C434  38         			sec
         01:C435  AD BE 26   			lda.l	_sgx_map_pxl_x
         01:C438  E9 02      			sbc.l	#2
         01:C43A  8D BE 26   			sta.l	_sgx_map_pxl_x
         01:C43D  B0 03      			bcs	!+
         01:C43F  CE BF 26   			dec.h	_sgx_map_pxl_x
         01:C442             	!:
 9954                        	
 9955                        		.dbg	line,	"include\routines_LEVELS.c", 1283; }
 9956                        	
 9957                        		.dbg	line,	"include\routines_LEVELS.c", 1284; }
 9958    01:C442             	.LL435	.alias		.LL436
 9959    01:C442             	.LL434	.alias		.LL436
 9960                        	
 9961                        		.dbg	line,	"include\routines_LEVELS.c", 1285; }
 9962    01:C442             	.LL431	.alias		.LL436
 9963                        	
 9964                        		.dbg	line,	"include\routines_LEVELS.c", 1286; }
 9965                        	
 9966                        		.dbg	line,	"include\routines_LEVELS.c", 1289; else
 9967                        		__bra		.LL436
         01:C442  80 73      			bra	.LL436
 9968    01:C444             	.LL429:
 9969                        	
 9970                        		.dbg	line,	"include\routines_LEVELS.c", 1290; {
 9971                        	
 9972                        		.dbg	line,	"include\routines_LEVELS.c", 1291; if(player_axis == AXIS_RIGHT)
 9973                        		__not.um	_player_axis
         01:C444  AD 19 23   			lda	_player_axis
         01:C447  18         			clc
         01:C448  D0 01      			bne	!+
         01:C44A  38         			sec
         01:C44B             	!:
 9974                        		__bfalse	.LL437
         01:C44B  90 36      			bcc	.LL437
 9975                        	
 9976                        		.dbg	line,	"include\routines_LEVELS.c", 1292; {
 9977                        	
 9978                        		.dbg	line,	"include\routines_LEVELS.c", 1293; // CHECK COLLISION WITH RIGHT WALL //
 9979                        	
 9980                        		.dbg	line,	"include\routines_LEVELS.c", 1294; check_BG( 24 , 31 ); // 24+2
 9981                        		__ld.wi		24
         01:C44D  A9 18      			lda.l	#24
         01:C44F  C2         			cly
 9982                        		__pusharg.wr
         01:C450  A6 8D      			ldx	<__sp
         01:C452  CA         			dex
         01:C453  CA         			dex
         01:C454  95 08      			sta.l	<__stack, x
         01:C456  94 09      			sty.h	<__stack, x
         01:C458  86 8D      			stx	<__sp
 9983                        		__ld.wi		31
         01:C45A  A9 1F      			lda.l	#31
         01:C45C  C2         			cly
 9984                        		__pusharg.wr
         01:C45D  A6 8D      			ldx	<__sp
         01:C45F  CA         			dex
         01:C460  CA         			dex
         01:C461  95 08      			sta.l	<__stack, x
         01:C463  94 09      			sty.h	<__stack, x
         01:C465  86 8D      			stx	<__sp
 9985                        		__call		_check_BG
         01:C467  20 3B FF   			call	_check_BG
 9986                        	
 9987                        		.dbg	line,	"include\routines_LEVELS.c", 1296; if(map_blk_flag == TILE_EMPTY)
 9988                        		__not.um	_map_blk_flag
         01:C46A  AD DF 2B   			lda	_map_blk_flag
         01:C46D  18         			clc
         01:C46E  D0 01      			bne	!+
         01:C470  38         			sec
         01:C471             	!:
 9989                        		__bfalse	.LL438
         01:C471  90 44      			bcc	.LL438
 9990                        	
 9991                        		.dbg	line,	"include\routines_LEVELS.c", 1297; {
 9992                        	
 9993                        		.dbg	line,	"include\routines_LEVELS.c", 1298; sgx_map_pxl_x += 2;
 9994                        		__add_st.wmiq	2, _sgx_map_pxl_x
         01:C473  18         			clc
         01:C474  AD BE 26   			lda.l	_sgx_map_pxl_x
         01:C477  69 02      			adc.l	#2
         01:C479  8D BE 26   			sta.l	_sgx_map_pxl_x
         01:C47C  90 03      			bcc	!+
         01:C47E  EE BF 26   			inc.h	_sgx_map_pxl_x
         01:C481             	!:
 9995                        	
 9996                        		.dbg	line,	"include\routines_LEVELS.c", 1299; }
 9997                        	
 9998                        		.dbg	line,	"include\routines_LEVELS.c", 1300; }
 9999    01:C481             	.LL438	.alias		.LL439
10000                        	
10001                        		.dbg	line,	"include\routines_LEVELS.c", 1302; else
10002                        		__bra		.LL439
         01:C481  80 34      			bra	.LL439
10003    01:C483             	.LL437:
10004                        	
10005                        		.dbg	line,	"include\routines_LEVELS.c", 1303; {
10006                        	
10007                        		.dbg	line,	"include\routines_LEVELS.c", 1304; // CHECK COLLISION WITH LEFT WALL //
10008                        	
10009                        		.dbg	line,	"include\routines_LEVELS.c", 1305; check_BG( 8 , 31 ); // 8-2
10010                        		__ld.wi		8
         01:C483  A9 08      			lda.l	#8
         01:C485  C2         			cly
10011                        		__pusharg.wr
         01:C486  A6 8D      			ldx	<__sp
         01:C488  CA         			dex
         01:C489  CA         			dex
         01:C48A  95 08      			sta.l	<__stack, x
         01:C48C  94 09      			sty.h	<__stack, x
         01:C48E  86 8D      			stx	<__sp
10012                        		__ld.wi		31
         01:C490  A9 1F      			lda.l	#31
         01:C492  C2         			cly
10013                        		__pusharg.wr
         01:C493  A6 8D      			ldx	<__sp
         01:C495  CA         			dex
         01:C496  CA         			dex
         01:C497  95 08      			sta.l	<__stack, x
         01:C499  94 09      			sty.h	<__stack, x
         01:C49B  86 8D      			stx	<__sp
10014                        		__call		_check_BG
         01:C49D  20 3B FF   			call	_check_BG
10015                        	
10016                        		.dbg	line,	"include\routines_LEVELS.c", 1307; if(map_blk_flag == TILE_EMPTY)
10017                        		__not.um	_map_blk_flag
         01:C4A0  AD DF 2B   			lda	_map_blk_flag
         01:C4A3  18         			clc
         01:C4A4  D0 01      			bne	!+
         01:C4A6  38         			sec
         01:C4A7             	!:
10018                        		__bfalse	.LL440
         01:C4A7  90 0E      			bcc	.LL440
10019                        	
10020                        		.dbg	line,	"include\routines_LEVELS.c", 1308; {
10021                        	
10022                        		.dbg	line,	"include\routines_LEVELS.c", 1309; sgx_map_pxl_x -= 2;
10023                        		__sub_st.wmiq	2, _sgx_map_pxl_x
         01:C4A9  38         			sec
         01:C4AA  AD BE 26   			lda.l	_sgx_map_pxl_x
         01:C4AD  E9 02      			sbc.l	#2
         01:C4AF  8D BE 26   			sta.l	_sgx_map_pxl_x
         01:C4B2  B0 03      			bcs	!+
         01:C4B4  CE BF 26   			dec.h	_sgx_map_pxl_x
         01:C4B7             	!:
10024                        	
10025                        		.dbg	line,	"include\routines_LEVELS.c", 1310; }
10026                        	
10027                        		.dbg	line,	"include\routines_LEVELS.c", 1311; }
10028    01:C4B7             	.LL440:
10029    01:C4B7             	.LL439:
10030                        	
10031                        		.dbg	line,	"include\routines_LEVELS.c", 1312; }
10032    01:C4B7             	.LL436:
10033                        	
10034                        		.dbg	line,	"include\routines_LEVELS.c", 1317; spr_set(player_id);
10035                        		__ld.umq	_player_id
         01:C4B7  AD 17 23   			lda	_player_id
10036                        		__call		_spr_set.1
         01:C4BA  20 DD E7   			call	_spr_set.1
10037                        	
10038                        		.dbg	line,	"include\routines_LEVELS.c", 1320; player_counter_anim += 1;
10039                        		__add_st.umiq	1, _player_counter_anim
         01:C4BD  EE 1B 23   			inc	_player_counter_anim
10040                        	
10041                        		.dbg	line,	"include\routines_LEVELS.c", 1323; // UPDATE PLAYER TILES //
10042                        	
10043                        		.dbg	line,	"include\routines_LEVELS.c", 1324; if(player_counter_anim == 1)
10044                        		__ld.umq	_player_counter_anim
         01:C4C0  AD 1B 23   			lda	_player_counter_anim
10045                        		__equ_b.uiq	1
         01:C4C3  C9 01      			cmp	#1
         01:C4C5  F0 01      			beq	!+
         01:C4C7  18         			clc
         01:C4C8             	!:
10046                        		__bfalse	.LL441
         01:C4C8  90 2A      			bcc	.LL441
10047                        	
10048                        		.dbg	line,	"include\routines_LEVELS.c", 1325; {
10049                        	
10050                        		.dbg	line,	"include\routines_LEVELS.c", 1326; spr_pattern(PLAYER_IDLE_VRAM_ADR);
10051                        		__ld.wi		5120
         01:C4CA  62         			cla
         01:C4CB  A0 14      			ldy.h	#5120
10052                        		__call		_spr_pattern.1
         01:C4CD  20 26 E8   			call	_spr_pattern.1
10053                        	
10054                        		.dbg	line,	"include\routines_LEVELS.c", 1328; spr_set(weapon_id);
10055                        		__ld.umq	_weapon_id
         01:C4D0  AD 26 23   			lda	_weapon_id
10056                        		__call		_spr_set.1
         01:C4D3  20 DD E7   			call	_spr_set.1
10057                        	
10058                        		.dbg	line,	"include\routines_LEVELS.c", 1329; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
10059                        		__ld.wi		31808
         01:C4D6  A9 40      			lda.l	#31808
         01:C4D8  A0 7C      			ldy.h	#31808
10060                        		__call		_spr_pattern.1
         01:C4DA  20 26 E8   			call	_spr_pattern.1
10061                        	
10062                        		.dbg	line,	"include\routines_LEVELS.c", 1330; spr_x(player_pos_x+8);
10063                        		__ld.wm		_player_pos_x
         01:C4DD  AD DB 24   			lda.l	_player_pos_x
         01:C4E0  AC DC 24   			ldy.h	_player_pos_x
10064                        		__add.wi	8
         01:C4E3  18         			clc
         01:C4E4  69 08      			adc.l	#8
         01:C4E6  90 01      			bcc	!+
         01:C4E8  C8         			iny
         01:C4E9             	!:
10065                        		__call		_spr_x.1
         01:C4E9  20 0A E8   			call	_spr_x.1
10066                        	
10067                        		.dbg	line,	"include\routines_LEVELS.c", 1331; weapon_y_offset = 16;
10068                        		__st.umiq	16, _weapon_y_offset
         01:C4EC  A9 10      			lda.l	#16
         01:C4EE  8D 73 26   			sta	_weapon_y_offset
10069                        	
10070                        		.dbg	line,	"include\routines_LEVELS.c", 1332; //spr_y(player_pos_y+16);
10071                        	
10072                        		.dbg	line,	"include\routines_LEVELS.c", 1333; }
10073                        	
10074                        		.dbg	line,	"include\routines_LEVELS.c", 1336; else if(player_counter_anim == 2)
10075                        		__bra		.LL442
         01:C4F1  4C EA C6   			bra	.LL442
10076    01:C4F4             	.LL441:
10077                        		__ld.umq	_player_counter_anim
         01:C4F4  AD 1B 23   			lda	_player_counter_anim
10078                        		__equ_b.uiq	2
         01:C4F7  C9 02      			cmp	#2
         01:C4F9  F0 01      			beq	!+
         01:C4FB  18         			clc
         01:C4FC             	!:
10079                        		__bfalse	.LL443
         01:C4FC  90 45      			bcc	.LL443
10080                        	
10081                        		.dbg	line,	"include\routines_LEVELS.c", 1337; {
10082                        	
10083                        		.dbg	line,	"include\routines_LEVELS.c", 1338; spr_pattern(PLAYER_WALK_1_VRAM_ADR);
10084                        		__ld.wi		5376
         01:C4FE  62         			cla
         01:C4FF  A0 15      			ldy.h	#5376
10085                        		__call		_spr_pattern.1
         01:C501  20 26 E8   			call	_spr_pattern.1
10086                        	
10087                        		.dbg	line,	"include\routines_LEVELS.c", 1340; spr_set(weapon_id);
10088                        		__ld.umq	_weapon_id
         01:C504  AD 26 23   			lda	_weapon_id
10089                        		__call		_spr_set.1
         01:C507  20 DD E7   			call	_spr_set.1
10090                        	
10091                        		.dbg	line,	"include\routines_LEVELS.c", 1341; spr_pattern(WEAPON_WALK_1_VRAM_ADRESS);
10092                        		__ld.wi		31872
         01:C50A  A9 80      			lda.l	#31872
         01:C50C  A0 7C      			ldy.h	#31872
10093                        		__call		_spr_pattern.1
         01:C50E  20 26 E8   			call	_spr_pattern.1
10094                        	
10095                        		.dbg	line,	"include\routines_LEVELS.c", 1342; weapon_y_offset = 17;
10096                        		__st.umiq	17, _weapon_y_offset
         01:C511  A9 11      			lda.l	#17
         01:C513  8D 73 26   			sta	_weapon_y_offset
10097                        	
10098                        		.dbg	line,	"include\routines_LEVELS.c", 1343; //spr_y(player_pos_y+17);
10099                        	
10100                        		.dbg	line,	"include\routines_LEVELS.c", 1345; if(player_axis == AXIS_RIGHT)
10101                        		__not.um	_player_axis
         01:C516  AD 19 23   			lda	_player_axis
         01:C519  18         			clc
         01:C51A  D0 01      			bne	!+
         01:C51C  38         			sec
         01:C51D             	!:
10102                        		__bfalse	.LL444
         01:C51D  90 12      			bcc	.LL444
10103                        	
10104                        		.dbg	line,	"include\routines_LEVELS.c", 1346; {
10105                        	
10106                        		.dbg	line,	"include\routines_LEVELS.c", 1347; spr_x(player_pos_x+5);
10107                        		__ld.wm		_player_pos_x
         01:C51F  AD DB 24   			lda.l	_player_pos_x
         01:C522  AC DC 24   			ldy.h	_player_pos_x
10108                        		__add.wi	5
         01:C525  18         			clc
         01:C526  69 05      			adc.l	#5
         01:C528  90 01      			bcc	!+
         01:C52A  C8         			iny
         01:C52B             	!:
10109                        		__call		_spr_x.1
         01:C52B  20 0A E8   			call	_spr_x.1
10110                        	
10111                        		.dbg	line,	"include\routines_LEVELS.c", 1348; }
10112                        	
10113                        		.dbg	line,	"include\routines_LEVELS.c", 1350; else
10114                        		__bra		.LL445
         01:C52E  4C EA C6   			bra	.LL445
10115    01:C531             	.LL444:
10116                        	
10117                        		.dbg	line,	"include\routines_LEVELS.c", 1351; {
10118                        	
10119                        		.dbg	line,	"include\routines_LEVELS.c", 1352; spr_x(player_pos_x+11);
10120                        		__ld.wm		_player_pos_x
         01:C531  AD DB 24   			lda.l	_player_pos_x
         01:C534  AC DC 24   			ldy.h	_player_pos_x
10121                        		__add.wi	11
         01:C537  18         			clc
         01:C538  69 0B      			adc.l	#11
         01:C53A  90 01      			bcc	!+
         01:C53C  C8         			iny
         01:C53D             	!:
10122                        		__call		_spr_x.1
         01:C53D  20 0A E8   			call	_spr_x.1
10123                        	
10124                        		.dbg	line,	"include\routines_LEVELS.c", 1353; }
10125    01:C540             	.LL445	.alias		.LL446
10126                        	
10127                        		.dbg	line,	"include\routines_LEVELS.c", 1354; }
10128                        	
10129                        		.dbg	line,	"include\routines_LEVELS.c", 1357; else if(player_counter_anim == 4)
10130                        		__bra		.LL446
         01:C540  4C EA C6   			bra	.LL446
10131    01:C543             	.LL443:
10132                        		__ld.umq	_player_counter_anim
         01:C543  AD 1B 23   			lda	_player_counter_anim
10133                        		__equ_b.uiq	4
         01:C546  C9 04      			cmp	#4
         01:C548  F0 01      			beq	!+
         01:C54A  18         			clc
         01:C54B             	!:
10134                        		__bfalse	.LL447
         01:C54B  90 40      			bcc	.LL447
10135                        	
10136                        		.dbg	line,	"include\routines_LEVELS.c", 1358; {
10137                        	
10138                        		.dbg	line,	"include\routines_LEVELS.c", 1359; spr_pattern(PLAYER_WALK_2_VRAM_ADR);
10139                        		__ld.wi		5632
         01:C54D  62         			cla
         01:C54E  A0 16      			ldy.h	#5632
10140                        		__call		_spr_pattern.1
         01:C550  20 26 E8   			call	_spr_pattern.1
10141                        	
10142                        		.dbg	line,	"include\routines_LEVELS.c", 1360; 
10143                        	
10144                        		.dbg	line,	"include\routines_LEVELS.c", 1361; spr_set(weapon_id);
10145                        		__ld.umq	_weapon_id
         01:C553  AD 26 23   			lda	_weapon_id
10146                        		__call		_spr_set.1
         01:C556  20 DD E7   			call	_spr_set.1
10147                        	
10148                        		.dbg	line,	"include\routines_LEVELS.c", 1362; spr_pattern(WEAPON_WALK_2_VRAM_ADRESS);
10149                        		__ld.wi		31936
         01:C559  A9 C0      			lda.l	#31936
         01:C55B  A0 7C      			ldy.h	#31936
10150                        		__call		_spr_pattern.1
         01:C55D  20 26 E8   			call	_spr_pattern.1
10151                        	
10152                        		.dbg	line,	"include\routines_LEVELS.c", 1364; if(player_axis == AXIS_RIGHT)
10153                        		__not.um	_player_axis
         01:C560  AD 19 23   			lda	_player_axis
         01:C563  18         			clc
         01:C564  D0 01      			bne	!+
         01:C566  38         			sec
         01:C567             	!:
10154                        		__bfalse	.LL448
         01:C567  90 12      			bcc	.LL448
10155                        	
10156                        		.dbg	line,	"include\routines_LEVELS.c", 1365; {
10157                        	
10158                        		.dbg	line,	"include\routines_LEVELS.c", 1366; spr_x(player_pos_x+3);
10159                        		__ld.wm		_player_pos_x
         01:C569  AD DB 24   			lda.l	_player_pos_x
         01:C56C  AC DC 24   			ldy.h	_player_pos_x
10160                        		__add.wi	3
         01:C56F  18         			clc
         01:C570  69 03      			adc.l	#3
         01:C572  90 01      			bcc	!+
         01:C574  C8         			iny
         01:C575             	!:
10161                        		__call		_spr_x.1
         01:C575  20 0A E8   			call	_spr_x.1
10162                        	
10163                        		.dbg	line,	"include\routines_LEVELS.c", 1367; }
10164                        	
10165                        		.dbg	line,	"include\routines_LEVELS.c", 1369; else
10166                        		__bra		.LL449
         01:C578  4C EA C6   			bra	.LL449
10167    01:C57B             	.LL448:
10168                        	
10169                        		.dbg	line,	"include\routines_LEVELS.c", 1370; {
10170                        	
10171                        		.dbg	line,	"include\routines_LEVELS.c", 1371; spr_x(player_pos_x+13);
10172                        		__ld.wm		_player_pos_x
         01:C57B  AD DB 24   			lda.l	_player_pos_x
         01:C57E  AC DC 24   			ldy.h	_player_pos_x
10173                        		__add.wi	13
         01:C581  18         			clc
         01:C582  69 0D      			adc.l	#13
         01:C584  90 01      			bcc	!+
         01:C586  C8         			iny
         01:C587             	!:
10174                        		__call		_spr_x.1
         01:C587  20 0A E8   			call	_spr_x.1
10175                        	
10176                        		.dbg	line,	"include\routines_LEVELS.c", 1372; }
10177    01:C58A             	.LL449	.alias		.LL450
10178                        	
10179                        		.dbg	line,	"include\routines_LEVELS.c", 1373; }
10180                        	
10181                        		.dbg	line,	"include\routines_LEVELS.c", 1376; else if(player_counter_anim == 7)
10182                        		__bra		.LL450
         01:C58A  4C EA C6   			bra	.LL450
10183    01:C58D             	.LL447:
10184                        		__ld.umq	_player_counter_anim
         01:C58D  AD 1B 23   			lda	_player_counter_anim
10185                        		__equ_b.uiq	7
         01:C590  C9 07      			cmp	#7
         01:C592  F0 01      			beq	!+
         01:C594  18         			clc
         01:C595             	!:
10186                        		__bfalse	.LL451
         01:C595  90 40      			bcc	.LL451
10187                        	
10188                        		.dbg	line,	"include\routines_LEVELS.c", 1377; {
10189                        	
10190                        		.dbg	line,	"include\routines_LEVELS.c", 1378; //spr_set(player_id);
10191                        	
10192                        		.dbg	line,	"include\routines_LEVELS.c", 1379; spr_pattern(PLAYER_WALK_3_VRAM_ADR);
10193                        		__ld.wi		5888
         01:C597  62         			cla
         01:C598  A0 17      			ldy.h	#5888
10194                        		__call		_spr_pattern.1
         01:C59A  20 26 E8   			call	_spr_pattern.1
10195                        	
10196                        		.dbg	line,	"include\routines_LEVELS.c", 1381; spr_set(weapon_id);
10197                        		__ld.umq	_weapon_id
         01:C59D  AD 26 23   			lda	_weapon_id
10198                        		__call		_spr_set.1
         01:C5A0  20 DD E7   			call	_spr_set.1
10199                        	
10200                        		.dbg	line,	"include\routines_LEVELS.c", 1382; spr_pattern(WEAPON_WALK_1_VRAM_ADRESS);
10201                        		__ld.wi		31872
         01:C5A3  A9 80      			lda.l	#31872
         01:C5A5  A0 7C      			ldy.h	#31872
10202                        		__call		_spr_pattern.1
         01:C5A7  20 26 E8   			call	_spr_pattern.1
10203                        	
10204                        		.dbg	line,	"include\routines_LEVELS.c", 1384; if(player_axis == AXIS_RIGHT)
10205                        		__not.um	_player_axis
         01:C5AA  AD 19 23   			lda	_player_axis
         01:C5AD  18         			clc
         01:C5AE  D0 01      			bne	!+
         01:C5B0  38         			sec
         01:C5B1             	!:
10206                        		__bfalse	.LL452
         01:C5B1  90 12      			bcc	.LL452
10207                        	
10208                        		.dbg	line,	"include\routines_LEVELS.c", 1385; {
10209                        	
10210                        		.dbg	line,	"include\routines_LEVELS.c", 1386; spr_x(player_pos_x+5);
10211                        		__ld.wm		_player_pos_x
         01:C5B3  AD DB 24   			lda.l	_player_pos_x
         01:C5B6  AC DC 24   			ldy.h	_player_pos_x
10212                        		__add.wi	5
         01:C5B9  18         			clc
         01:C5BA  69 05      			adc.l	#5
         01:C5BC  90 01      			bcc	!+
         01:C5BE  C8         			iny
         01:C5BF             	!:
10213                        		__call		_spr_x.1
         01:C5BF  20 0A E8   			call	_spr_x.1
10214                        	
10215                        		.dbg	line,	"include\routines_LEVELS.c", 1387; }
10216                        	
10217                        		.dbg	line,	"include\routines_LEVELS.c", 1389; else
10218                        		__bra		.LL453
         01:C5C2  4C EA C6   			bra	.LL453
10219    01:C5C5             	.LL452:
10220                        	
10221                        		.dbg	line,	"include\routines_LEVELS.c", 1390; {
10222                        	
10223                        		.dbg	line,	"include\routines_LEVELS.c", 1391; spr_x(player_pos_x+11);
10224                        		__ld.wm		_player_pos_x
         01:C5C5  AD DB 24   			lda.l	_player_pos_x
         01:C5C8  AC DC 24   			ldy.h	_player_pos_x
10225                        		__add.wi	11
         01:C5CB  18         			clc
         01:C5CC  69 0B      			adc.l	#11
         01:C5CE  90 01      			bcc	!+
         01:C5D0  C8         			iny
         01:C5D1             	!:
10226                        		__call		_spr_x.1
         01:C5D1  20 0A E8   			call	_spr_x.1
10227                        	
10228                        		.dbg	line,	"include\routines_LEVELS.c", 1392; }
10229    01:C5D4             	.LL453	.alias		.LL454
10230                        	
10231                        		.dbg	line,	"include\routines_LEVELS.c", 1393; }
10232                        	
10233                        		.dbg	line,	"include\routines_LEVELS.c", 1396; else if(player_counter_anim == 9)
10234                        		__bra		.LL454
         01:C5D4  4C EA C6   			bra	.LL454
10235    01:C5D7             	.LL451:
10236                        		__ld.umq	_player_counter_anim
         01:C5D7  AD 1B 23   			lda	_player_counter_anim
10237                        		__equ_b.uiq	9
         01:C5DA  C9 09      			cmp	#9
         01:C5DC  F0 01      			beq	!+
         01:C5DE  18         			clc
         01:C5DF             	!:
10238                        		__bfalse	.LL455
         01:C5DF  90 2A      			bcc	.LL455
10239                        	
10240                        		.dbg	line,	"include\routines_LEVELS.c", 1397; {
10241                        	
10242                        		.dbg	line,	"include\routines_LEVELS.c", 1398; //spr_set(player_id);
10243                        	
10244                        		.dbg	line,	"include\routines_LEVELS.c", 1399; spr_pattern(PLAYER_IDLE_VRAM_ADR);
10245                        		__ld.wi		5120
         01:C5E1  62         			cla
         01:C5E2  A0 14      			ldy.h	#5120
10246                        		__call		_spr_pattern.1
         01:C5E4  20 26 E8   			call	_spr_pattern.1
10247                        	
10248                        		.dbg	line,	"include\routines_LEVELS.c", 1401; spr_set(weapon_id);
10249                        		__ld.umq	_weapon_id
         01:C5E7  AD 26 23   			lda	_weapon_id
10250                        		__call		_spr_set.1
         01:C5EA  20 DD E7   			call	_spr_set.1
10251                        	
10252                        		.dbg	line,	"include\routines_LEVELS.c", 1402; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
10253                        		__ld.wi		31808
         01:C5ED  A9 40      			lda.l	#31808
         01:C5EF  A0 7C      			ldy.h	#31808
10254                        		__call		_spr_pattern.1
         01:C5F1  20 26 E8   			call	_spr_pattern.1
10255                        	
10256                        		.dbg	line,	"include\routines_LEVELS.c", 1403; spr_x(player_pos_x+8);
10257                        		__ld.wm		_player_pos_x
         01:C5F4  AD DB 24   			lda.l	_player_pos_x
         01:C5F7  AC DC 24   			ldy.h	_player_pos_x
10258                        		__add.wi	8
         01:C5FA  18         			clc
         01:C5FB  69 08      			adc.l	#8
         01:C5FD  90 01      			bcc	!+
         01:C5FF  C8         			iny
         01:C600             	!:
10259                        		__call		_spr_x.1
         01:C600  20 0A E8   			call	_spr_x.1
10260                        	
10261                        		.dbg	line,	"include\routines_LEVELS.c", 1404; weapon_y_offset = 16;
10262                        		__st.umiq	16, _weapon_y_offset
         01:C603  A9 10      			lda.l	#16
         01:C605  8D 73 26   			sta	_weapon_y_offset
10263                        	
10264                        		.dbg	line,	"include\routines_LEVELS.c", 1405; //pr_y(player_pos_y+16);
10265                        	
10266                        		.dbg	line,	"include\routines_LEVELS.c", 1406; }
10267                        	
10268                        		.dbg	line,	"include\routines_LEVELS.c", 1409; else if(player_counter_anim == 12)
10269                        		__bra		.LL456
         01:C608  4C EA C6   			bra	.LL456
10270    01:C60B             	.LL455:
10271                        		__ld.umq	_player_counter_anim
         01:C60B  AD 1B 23   			lda	_player_counter_anim
10272                        		__equ_b.uiq	12
         01:C60E  C9 0C      			cmp	#12
         01:C610  F0 01      			beq	!+
         01:C612  18         			clc
         01:C613             	!:
10273                        		__bfalse	.LL457
         01:C613  90 3E      			bcc	.LL457
10274                        	
10275                        		.dbg	line,	"include\routines_LEVELS.c", 1410; {
10276                        	
10277                        		.dbg	line,	"include\routines_LEVELS.c", 1411; spr_pattern(PLAYER_WALK_4_VRAM_ADR);
10278                        		__ld.wi		6144
         01:C615  62         			cla
         01:C616  A0 18      			ldy.h	#6144
10279                        		__call		_spr_pattern.1
         01:C618  20 26 E8   			call	_spr_pattern.1
10280                        	
10281                        		.dbg	line,	"include\routines_LEVELS.c", 1413; spr_set(weapon_id);
10282                        		__ld.umq	_weapon_id
         01:C61B  AD 26 23   			lda	_weapon_id
10283                        		__call		_spr_set.1
         01:C61E  20 DD E7   			call	_spr_set.1
10284                        	
10285                        		.dbg	line,	"include\routines_LEVELS.c", 1414; weapon_y_offset = 14;
10286                        		__st.umiq	14, _weapon_y_offset
         01:C621  A9 0E      			lda.l	#14
         01:C623  8D 73 26   			sta	_weapon_y_offset
10287                        	
10288                        		.dbg	line,	"include\routines_LEVELS.c", 1415; //spr_y(player_pos_y+14);
10289                        	
10290                        		.dbg	line,	"include\routines_LEVELS.c", 1417; if(player_axis == AXIS_RIGHT)
10291                        		__not.um	_player_axis
         01:C626  AD 19 23   			lda	_player_axis
         01:C629  18         			clc
         01:C62A  D0 01      			bne	!+
         01:C62C  38         			sec
         01:C62D             	!:
10292                        		__bfalse	.LL458
         01:C62D  90 12      			bcc	.LL458
10293                        	
10294                        		.dbg	line,	"include\routines_LEVELS.c", 1418; {
10295                        	
10296                        		.dbg	line,	"include\routines_LEVELS.c", 1419; spr_x(player_pos_x+12);
10297                        		__ld.wm		_player_pos_x
         01:C62F  AD DB 24   			lda.l	_player_pos_x
         01:C632  AC DC 24   			ldy.h	_player_pos_x
10298                        		__add.wi	12
         01:C635  18         			clc
         01:C636  69 0C      			adc.l	#12
         01:C638  90 01      			bcc	!+
         01:C63A  C8         			iny
         01:C63B             	!:
10299                        		__call		_spr_x.1
         01:C63B  20 0A E8   			call	_spr_x.1
10300                        	
10301                        		.dbg	line,	"include\routines_LEVELS.c", 1420; }
10302                        	
10303                        		.dbg	line,	"include\routines_LEVELS.c", 1422; else
10304                        		__bra		.LL459
         01:C63E  4C EA C6   			bra	.LL459
10305    01:C641             	.LL458:
10306                        	
10307                        		.dbg	line,	"include\routines_LEVELS.c", 1423; {
10308                        	
10309                        		.dbg	line,	"include\routines_LEVELS.c", 1424; spr_x(player_pos_x+4);
10310                        		__ld.wm		_player_pos_x
         01:C641  AD DB 24   			lda.l	_player_pos_x
         01:C644  AC DC 24   			ldy.h	_player_pos_x
10311                        		__add.wi	4
         01:C647  18         			clc
         01:C648  69 04      			adc.l	#4
         01:C64A  90 01      			bcc	!+
         01:C64C  C8         			iny
         01:C64D             	!:
10312                        		__call		_spr_x.1
         01:C64D  20 0A E8   			call	_spr_x.1
10313                        	
10314                        		.dbg	line,	"include\routines_LEVELS.c", 1425; }
10315    01:C650             	.LL459	.alias		.LL460
10316                        	
10317                        		.dbg	line,	"include\routines_LEVELS.c", 1426; }
10318                        	
10319                        		.dbg	line,	"include\routines_LEVELS.c", 1429; else if(player_counter_anim == 15)
10320                        		__bra		.LL460
         01:C650  4C EA C6   			bra	.LL460
10321    01:C653             	.LL457:
10322                        		__ld.umq	_player_counter_anim
         01:C653  AD 1B 23   			lda	_player_counter_anim
10323                        		__equ_b.uiq	15
         01:C656  C9 0F      			cmp	#15
         01:C658  F0 01      			beq	!+
         01:C65A  18         			clc
         01:C65B             	!:
10324                        		__bfalse	.LL461
         01:C65B  90 3A      			bcc	.LL461
10325                        	
10326                        		.dbg	line,	"include\routines_LEVELS.c", 1430; {
10327                        	
10328                        		.dbg	line,	"include\routines_LEVELS.c", 1431; spr_pattern(PLAYER_WALK_5_VRAM_ADR);
10329                        		__ld.wi		6400
         01:C65D  62         			cla
         01:C65E  A0 19      			ldy.h	#6400
10330                        		__call		_spr_pattern.1
         01:C660  20 26 E8   			call	_spr_pattern.1
10331                        	
10332                        		.dbg	line,	"include\routines_LEVELS.c", 1433; spr_set(weapon_id);
10333                        		__ld.umq	_weapon_id
         01:C663  AD 26 23   			lda	_weapon_id
10334                        		__call		_spr_set.1
         01:C666  20 DD E7   			call	_spr_set.1
10335                        	
10336                        		.dbg	line,	"include\routines_LEVELS.c", 1434; weapon_y_offset = 12;
10337                        		__st.umiq	12, _weapon_y_offset
         01:C669  A9 0C      			lda.l	#12
         01:C66B  8D 73 26   			sta	_weapon_y_offset
10338                        	
10339                        		.dbg	line,	"include\routines_LEVELS.c", 1435; //spr_y(player_pos_y+12);
10340                        	
10341                        		.dbg	line,	"include\routines_LEVELS.c", 1437; if(player_axis == AXIS_RIGHT)
10342                        		__not.um	_player_axis
         01:C66E  AD 19 23   			lda	_player_axis
         01:C671  18         			clc
         01:C672  D0 01      			bne	!+
         01:C674  38         			sec
         01:C675             	!:
10343                        		__bfalse	.LL462
         01:C675  90 11      			bcc	.LL462
10344                        	
10345                        		.dbg	line,	"include\routines_LEVELS.c", 1438; {
10346                        	
10347                        		.dbg	line,	"include\routines_LEVELS.c", 1439; spr_x(player_pos_x+15);
10348                        		__ld.wm		_player_pos_x
         01:C677  AD DB 24   			lda.l	_player_pos_x
         01:C67A  AC DC 24   			ldy.h	_player_pos_x
10349                        		__add.wi	15
         01:C67D  18         			clc
         01:C67E  69 0F      			adc.l	#15
         01:C680  90 01      			bcc	!+
         01:C682  C8         			iny
         01:C683             	!:
10350                        		__call		_spr_x.1
         01:C683  20 0A E8   			call	_spr_x.1
10351                        	
10352                        		.dbg	line,	"include\routines_LEVELS.c", 1440; }
10353                        	
10354                        		.dbg	line,	"include\routines_LEVELS.c", 1442; else
10355                        		__bra		.LL463
         01:C686  80 62      			bra	.LL463
10356    01:C688             	.LL462:
10357                        	
10358                        		.dbg	line,	"include\routines_LEVELS.c", 1443; {
10359                        	
10360                        		.dbg	line,	"include\routines_LEVELS.c", 1444; spr_x(player_pos_x+1);
10361                        		__ld.wm		_player_pos_x
         01:C688  AD DB 24   			lda.l	_player_pos_x
         01:C68B  AC DC 24   			ldy.h	_player_pos_x
10362                        		__add.wi	1
         01:C68E  1A         			inc	a
         01:C68F  D0 01      			bne	!+
         01:C691  C8         			iny
         01:C692             	!:
10363                        		__call		_spr_x.1
         01:C692  20 0A E8   			call	_spr_x.1
10364                        	
10365                        		.dbg	line,	"include\routines_LEVELS.c", 1445; }
10366    01:C695             	.LL463	.alias		.LL464
10367                        	
10368                        		.dbg	line,	"include\routines_LEVELS.c", 1446; }
10369                        	
10370                        		.dbg	line,	"include\routines_LEVELS.c", 1449; else if(player_counter_anim == 18)
10371                        		__bra		.LL464
         01:C695  80 53      			bra	.LL464
10372    01:C697             	.LL461:
10373                        		__ld.umq	_player_counter_anim
         01:C697  AD 1B 23   			lda	_player_counter_anim
10374                        		__equ_b.uiq	18
         01:C69A  C9 12      			cmp	#18
         01:C69C  F0 01      			beq	!+
         01:C69E  18         			clc
         01:C69F             	!:
10375                        		__bfalse	.LL465
         01:C69F  90 3C      			bcc	.LL465
10376                        	
10377                        		.dbg	line,	"include\routines_LEVELS.c", 1450; {
10378                        	
10379                        		.dbg	line,	"include\routines_LEVELS.c", 1451; spr_pattern(PLAYER_WALK_6_VRAM_ADR);
10380                        		__ld.wi		6656
         01:C6A1  62         			cla
         01:C6A2  A0 1A      			ldy.h	#6656
10381                        		__call		_spr_pattern.1
         01:C6A4  20 26 E8   			call	_spr_pattern.1
10382                        	
10383                        		.dbg	line,	"include\routines_LEVELS.c", 1453; spr_set(weapon_id);
10384                        		__ld.umq	_weapon_id
         01:C6A7  AD 26 23   			lda	_weapon_id
10385                        		__call		_spr_set.1
         01:C6AA  20 DD E7   			call	_spr_set.1
10386                        	
10387                        		.dbg	line,	"include\routines_LEVELS.c", 1454; weapon_y_offset = 14;
10388                        		__st.umiq	14, _weapon_y_offset
         01:C6AD  A9 0E      			lda.l	#14
         01:C6AF  8D 73 26   			sta	_weapon_y_offset
10389                        	
10390                        		.dbg	line,	"include\routines_LEVELS.c", 1455; //spr_y(player_pos_y+14);
10391                        	
10392                        		.dbg	line,	"include\routines_LEVELS.c", 1457; if(player_axis == AXIS_RIGHT)
10393                        		__not.um	_player_axis
         01:C6B2  AD 19 23   			lda	_player_axis
         01:C6B5  18         			clc
         01:C6B6  D0 01      			bne	!+
         01:C6B8  38         			sec
         01:C6B9             	!:
10394                        		__bfalse	.LL466
         01:C6B9  90 11      			bcc	.LL466
10395                        	
10396                        		.dbg	line,	"include\routines_LEVELS.c", 1458; {
10397                        	
10398                        		.dbg	line,	"include\routines_LEVELS.c", 1459; spr_x(player_pos_x+12);
10399                        		__ld.wm		_player_pos_x
         01:C6BB  AD DB 24   			lda.l	_player_pos_x
         01:C6BE  AC DC 24   			ldy.h	_player_pos_x
10400                        		__add.wi	12
         01:C6C1  18         			clc
         01:C6C2  69 0C      			adc.l	#12
         01:C6C4  90 01      			bcc	!+
         01:C6C6  C8         			iny
         01:C6C7             	!:
10401                        		__call		_spr_x.1
         01:C6C7  20 0A E8   			call	_spr_x.1
10402                        	
10403                        		.dbg	line,	"include\routines_LEVELS.c", 1460; }
10404                        	
10405                        		.dbg	line,	"include\routines_LEVELS.c", 1462; else
10406                        		__bra		.LL467
         01:C6CA  80 1E      			bra	.LL467
10407    01:C6CC             	.LL466:
10408                        	
10409                        		.dbg	line,	"include\routines_LEVELS.c", 1463; {
10410                        	
10411                        		.dbg	line,	"include\routines_LEVELS.c", 1464; spr_x(player_pos_x+4);
10412                        		__ld.wm		_player_pos_x
         01:C6CC  AD DB 24   			lda.l	_player_pos_x
         01:C6CF  AC DC 24   			ldy.h	_player_pos_x
10413                        		__add.wi	4
         01:C6D2  18         			clc
         01:C6D3  69 04      			adc.l	#4
         01:C6D5  90 01      			bcc	!+
         01:C6D7  C8         			iny
         01:C6D8             	!:
10414                        		__call		_spr_x.1
         01:C6D8  20 0A E8   			call	_spr_x.1
10415                        	
10416                        		.dbg	line,	"include\routines_LEVELS.c", 1465; } 
10417    01:C6DB             	.LL467	.alias		.LL468
10418                        	
10419                        		.dbg	line,	"include\routines_LEVELS.c", 1466; }
10420                        	
10421                        		.dbg	line,	"include\routines_LEVELS.c", 1469; else if(player_counter_anim == 19)
10422                        		__bra		.LL468
         01:C6DB  80 0D      			bra	.LL468
10423    01:C6DD             	.LL465:
10424                        		__ld.umq	_player_counter_anim
         01:C6DD  AD 1B 23   			lda	_player_counter_anim
10425                        		__equ_b.uiq	19
         01:C6E0  C9 13      			cmp	#19
         01:C6E2  F0 01      			beq	!+
         01:C6E4  18         			clc
         01:C6E5             	!:
10426                        		__bfalse	.LL469
         01:C6E5  90 03      			bcc	.LL469
10427                        	
10428                        		.dbg	line,	"include\routines_LEVELS.c", 1470; {
10429                        	
10430                        		.dbg	line,	"include\routines_LEVELS.c", 1471; player_counter_anim = 0;
10431                        		__st.umiq	0, _player_counter_anim
         01:C6E7  9C 1B 23   			stz	_player_counter_anim
10432                        	
10433                        		.dbg	line,	"include\routines_LEVELS.c", 1472; }
10434                        	
10435                        		.dbg	line,	"include\routines_LEVELS.c", 1475; spr_set(weapon_id);
10436    01:C6EA             	.LL469:
10437    01:C6EA             	.LL468:
10438    01:C6EA             	.LL464:
10439    01:C6EA             	.LL460:
10440    01:C6EA             	.LL456:
10441    01:C6EA             	.LL454:
10442    01:C6EA             	.LL450:
10443    01:C6EA             	.LL446:
10444    01:C6EA             	.LL442:
10445                        		__ld.umq	_weapon_id
         01:C6EA  AD 26 23   			lda	_weapon_id
10446                        		__call		_spr_set.1
         01:C6ED  20 DD E7   			call	_spr_set.1
10447                        	
10448                        		.dbg	line,	"include\routines_LEVELS.c", 1476; spr_y(player_pos_y + weapon_y_offset);
10449                        		__ld.bm		_weapon_y_offset
         01:C6F0  AD 73 26   			lda	_weapon_y_offset
         01:C6F3  C2         			cly
         01:C6F4  10 01      			bpl	!+
         01:C6F6  88         			dey
         01:C6F7             	!:
10450                        		__add.wm	_player_pos_y
         01:C6F7  18         			clc
         01:C6F8  6D DD 24   			adc.l	_player_pos_y
         01:C6FB  42         			say
         01:C6FC  6D DE 24   			adc.h	_player_pos_y
         01:C6FF  42         			say
10451                        		__call		_spr_y.1
         01:C700  20 19 E8   			call	_spr_y.1
10452                        	
10453                        		.dbg	line,	"include\routines_LEVELS.c", 1477; //player_counter_anim += 1;
10454                        	
10455                        		.dbg	line,	"include\routines_LEVELS.c", 1479; }
10456                        	
10457                        		.dbg	line,	"include\routines_LEVELS.c", 1482; else if(player_state == STATE_JUMP)
10458                        		__bra		.LL470
         01:C703  4C 4F DC   			bra	.LL470
10459    01:C706             	.LL428:
10460                        		__ld.umq	_player_state
         01:C706  AD 18 23   			lda	_player_state
10461                        		__equ_b.uiq	4
         01:C709  C9 04      			cmp	#4
         01:C70B  F0 01      			beq	!+
         01:C70D  18         			clc
         01:C70E             	!:
10462                        		__bfalse	.LL471
         01:C70E  B0 03 4C 0A			bcc	.LL471
         01:C712  CD          
10463                        	
10464                        		.dbg	line,	"include\routines_LEVELS.c", 1483; {
10465                        	
10466                        		.dbg	line,	"include\routines_LEVELS.c", 1484; unsigned char i;
10467                        	
10468                        		.dbg	line,	"include\routines_LEVELS.c", 1485; i = 1;
10469                        		__st.umiq	1, __update_PLAYER_end - 1  /* i */
         01:C713  A9 01      			lda.l	#1
         01:C715  8D 0C 23   			sta	__update_PLAYER_end - 1
10470                        	
10471                        		.dbg	line,	"include\routines_LEVELS.c", 1488; if(player_counter_anim == 0)
10472                        		__not.um	_player_counter_anim
         01:C718  AD 1B 23   			lda	_player_counter_anim
         01:C71B  18         			clc
         01:C71C  D0 01      			bne	!+
         01:C71E  38         			sec
         01:C71F             	!:
10473                        		__bfalse	.LL472
         01:C71F  90 11      			bcc	.LL472
10474                        	
10475                        		.dbg	line,	"include\routines_LEVELS.c", 1489; {
10476                        	
10477                        		.dbg	line,	"include\routines_LEVELS.c", 1490; spr_set(player_id);
10478                        		__ld.umq	_player_id
         01:C721  AD 17 23   			lda	_player_id
10479                        		__call		_spr_set.1
         01:C724  20 DD E7   			call	_spr_set.1
10480                        	
10481                        		.dbg	line,	"include\routines_LEVELS.c", 1491; spr_pattern(PLAYER_JUMP_VRAM_ADR);
10482                        		__ld.wi		6912
         01:C727  62         			cla
         01:C728  A0 1B      			ldy.h	#6912
10483                        		__call		_spr_pattern.1
         01:C72A  20 26 E8   			call	_spr_pattern.1
10484                        	
10485                        		.dbg	line,	"include\routines_LEVELS.c", 1493; player_counter_anim = 1;
10486                        		__st.umiq	1, _player_counter_anim
         01:C72D  A9 01      			lda.l	#1
         01:C72F  8D 1B 23   			sta	_player_counter_anim
10487                        	
10488                        		.dbg	line,	"include\routines_LEVELS.c", 1494; }
10489                        	
10490                        		.dbg	line,	"include\routines_LEVELS.c", 1497; player_pos_y += TABLE_PLAYER_JUMP_V[player_index_jump];
10491    01:C732             	.LL472:
10492                        		__ldx.umq	_player_index_jump
         01:C732  AE 1C 23   			ldx	_player_index_jump
10493                        		__ld.bax	_TABLE_PLAYER_JUMP_V
         01:C735  BD FC 61   			lda	_TABLE_PLAYER_JUMP_V, x
         01:C738  C2         			cly
         01:C739  10 01      			bpl	!+
         01:C73B  88         			dey
         01:C73C             	!:
10494                        		__add_st.wmq	_player_pos_y
         01:C73C  18         			clc
         01:C73D  6D DD 24   			adc.l	_player_pos_y
         01:C740  8D DD 24   			sta.l	_player_pos_y
         01:C743  98         			tya
         01:C744  6D DE 24   			adc.h	_player_pos_y
         01:C747  8D DE 24   			sta.h	_player_pos_y
10495                        	
10496                        		.dbg	line,	"include\routines_LEVELS.c", 1499; // CHECK COLLISION WITH CEILING //
10497                        	
10498                        		.dbg	line,	"include\routines_LEVELS.c", 1500; check_BG( 15 , 8 );
10499                        		__ld.wi		15
         01:C74A  A9 0F      			lda.l	#15
         01:C74C  C2         			cly
10500                        		__pusharg.wr
         01:C74D  A6 8D      			ldx	<__sp
         01:C74F  CA         			dex
         01:C750  CA         			dex
         01:C751  95 08      			sta.l	<__stack, x
         01:C753  94 09      			sty.h	<__stack, x
         01:C755  86 8D      			stx	<__sp
10501                        		__ld.wi		8
         01:C757  A9 08      			lda.l	#8
         01:C759  C2         			cly
10502                        		__pusharg.wr
         01:C75A  A6 8D      			ldx	<__sp
         01:C75C  CA         			dex
         01:C75D  CA         			dex
         01:C75E  95 08      			sta.l	<__stack, x
         01:C760  94 09      			sty.h	<__stack, x
         01:C762  86 8D      			stx	<__sp
10503                        		__call		_check_BG
         01:C764  20 3B FF   			call	_check_BG
10504                        	
10505                        		.dbg	line,	"include\routines_LEVELS.c", 1502; if(map_blk_flag == TILE_BG)
10506                        		__ld.umq	_map_blk_flag
         01:C767  AD DF 2B   			lda	_map_blk_flag
10507                        		__equ_b.uiq	1
         01:C76A  C9 01      			cmp	#1
         01:C76C  F0 01      			beq	!+
         01:C76E  18         			clc
         01:C76F             	!:
10508                        		__bfalse	.LL473
         01:C76F  90 5A      			bcc	.LL473
10509                        	
10510                        		.dbg	line,	"include\routines_LEVELS.c", 1503; {
10511                        	
10512                        		.dbg	line,	"include\routines_LEVELS.c", 1504; for(i=1 ; i<8 ; i++)
10513                        		__st.umiq	1, __update_PLAYER_end - 1  /* i */
         01:C771  A9 01      			lda.l	#1
         01:C773  8D 0C 23   			sta	__update_PLAYER_end - 1
10514    01:C776             	.LL474:
10515                        		__ld.umq	__update_PLAYER_end - 1  /* i */
         01:C776  AD 0C 23   			lda	__update_PLAYER_end - 1
10516                        		__ult_b.uiq	8
         01:C779  C9 08      			cmp	#8		; Subtract integer from A.
         01:C77B  6A         			ror	a		; CC if A < integer.
         01:C77C  49 80      			eor	#$80
         01:C77E  2A         			rol	a
10517                        		__btrue		.LL476
         01:C77F  B0 07      			bcs	.LL476
10518                        		__bra		.LL477
         01:C781  80 48      			bra	.LL477
10519    01:C783             	.LL475:
10520                        		__inc.umq	__update_PLAYER_end - 1  /* i */
         01:C783  EE 0C 23   			inc	__update_PLAYER_end - 1
10521                        		__bra		.LL474
         01:C786  80 EE      			bra	.LL474
10522    01:C788             	.LL476:
10523                        	
10524                        		.dbg	line,	"include\routines_LEVELS.c", 1505; {
10525                        	
10526                        		.dbg	line,	"include\routines_LEVELS.c", 1506; check_BG( 15 , 8 + i );
10527                        		__ld.wi		15
         01:C788  A9 0F      			lda.l	#15
         01:C78A  C2         			cly
10528                        		__pusharg.wr
         01:C78B  A6 8D      			ldx	<__sp
         01:C78D  CA         			dex
         01:C78E  CA         			dex
         01:C78F  95 08      			sta.l	<__stack, x
         01:C791  94 09      			sty.h	<__stack, x
         01:C793  86 8D      			stx	<__sp
10529                        		__ld.wi		8
         01:C795  A9 08      			lda.l	#8
         01:C797  C2         			cly
10530                        		__add.um	__update_PLAYER_end - 1  /* i */
         01:C798  18         			clc
         01:C799  6D 0C 23   			adc	__update_PLAYER_end - 1
         01:C79C  90 01      			bcc	!+
         01:C79E  C8         			iny
         01:C79F             	!:
10531                        		__pusharg.wr
         01:C79F  A6 8D      			ldx	<__sp
         01:C7A1  CA         			dex
         01:C7A2  CA         			dex
         01:C7A3  95 08      			sta.l	<__stack, x
         01:C7A5  94 09      			sty.h	<__stack, x
         01:C7A7  86 8D      			stx	<__sp
10532                        		__call		_check_BG
         01:C7A9  20 3B FF   			call	_check_BG
10533                        	
10534                        		.dbg	line,	"include\routines_LEVELS.c", 1507; {
10535                        	
10536                        		.dbg	line,	"include\routines_LEVELS.c", 1508; if(map_blk_flag == TILE_EMPTY)
10537                        		__not.um	_map_blk_flag
         01:C7AC  AD DF 2B   			lda	_map_blk_flag
         01:C7AF  18         			clc
         01:C7B0  D0 01      			bne	!+
         01:C7B2  38         			sec
         01:C7B3             	!:
10538                        		__bfalse	.LL478
         01:C7B3  90 CE      			bcc	.LL478
10539                        	
10540                        		.dbg	line,	"include\routines_LEVELS.c", 1509; {
10541                        	
10542                        		.dbg	line,	"include\routines_LEVELS.c", 1510; player_pos_y += i;
10543                        		__ld.um		__update_PLAYER_end - 1  /* i */
         01:C7B5  AD 0C 23   			lda	__update_PLAYER_end - 1
         01:C7B8  C2         			cly
10544                        		__add_st.wmq	_player_pos_y
         01:C7B9  18         			clc
         01:C7BA  6D DD 24   			adc.l	_player_pos_y
         01:C7BD  8D DD 24   			sta.l	_player_pos_y
         01:C7C0  98         			tya
         01:C7C1  6D DE 24   			adc.h	_player_pos_y
         01:C7C4  8D DE 24   			sta.h	_player_pos_y
10545                        	
10546                        		.dbg	line,	"include\routines_LEVELS.c", 1511; break;
10547                        		__bra		.LL477
         01:C7C7  80 02      			bra	.LL477
10548                        	
10549                        		.dbg	line,	"include\routines_LEVELS.c", 1512; }
10550                        	
10551                        		.dbg	line,	"include\routines_LEVELS.c", 1513; }
10552    01:C7C9             	.LL478	.alias		.LL475
10553                        	
10554                        		.dbg	line,	"include\routines_LEVELS.c", 1514; }
10555                        		__bra		.LL475
         01:C7C9  80 B8      			bra	.LL475
10556    01:C7CB             	.LL477:
10557                        	
10558                        		.dbg	line,	"include\routines_LEVELS.c", 1515; }
10559                        	
10560                        		.dbg	line,	"include\routines_LEVELS.c", 1518; if(player_attack == FALSE)
10561    01:C7CB             	.LL473:
10562                        		__not.um	_player_attack
         01:C7CB  AD 20 23   			lda	_player_attack
         01:C7CE  18         			clc
         01:C7CF  D0 01      			bne	!+
         01:C7D1  38         			sec
         01:C7D2             	!:
10563                        		__bfalse	.LL479
         01:C7D2  90 18      			bcc	.LL479
10564                        	
10565                        		.dbg	line,	"include\routines_LEVELS.c", 1519; {
10566                        	
10567                        		.dbg	line,	"include\routines_LEVELS.c", 1520; spr_set(weapon_id);
10568                        		__ld.umq	_weapon_id
         01:C7D4  AD 26 23   			lda	_weapon_id
10569                        		__call		_spr_set.1
         01:C7D7  20 DD E7   			call	_spr_set.1
10570                        	
10571                        		.dbg	line,	"include\routines_LEVELS.c", 1521; spr_y(player_pos_y+8);
10572                        		__ld.wm		_player_pos_y
         01:C7DA  AD DD 24   			lda.l	_player_pos_y
         01:C7DD  AC DE 24   			ldy.h	_player_pos_y
10573                        		__add.wi	8
         01:C7E0  18         			clc
         01:C7E1  69 08      			adc.l	#8
         01:C7E3  90 01      			bcc	!+
         01:C7E5  C8         			iny
         01:C7E6             	!:
10574                        		__call		_spr_y.1
         01:C7E6  20 19 E8   			call	_spr_y.1
10575                        	
10576                        		.dbg	line,	"include\routines_LEVELS.c", 1522; }
10577                        	
10578                        		.dbg	line,	"include\routines_LEVELS.c", 1524; 
10579                        	
10580                        		.dbg	line,	"include\routines_LEVELS.c", 1525; else
10581                        		__bra		.LL480
         01:C7E9  4C 95 CA   			bra	.LL480
10582    01:C7EC             	.LL479:
10583                        	
10584                        		.dbg	line,	"include\routines_LEVELS.c", 1526; {
10585                        	
10586                        		.dbg	line,	"include\routines_LEVELS.c", 1527; if(player_counter_attack == 0)
10587                        		__not.um	_player_counter_attack
         01:C7EC  AD 1E 23   			lda	_player_counter_attack
         01:C7EF  18         			clc
         01:C7F0  D0 01      			bne	!+
         01:C7F2  38         			sec
         01:C7F3             	!:
10588                        		__bfalse	.LL481
         01:C7F3  90 53      			bcc	.LL481
10589                        	
10590                        		.dbg	line,	"include\routines_LEVELS.c", 1528; {
10591                        	
10592                        		.dbg	line,	"include\routines_LEVELS.c", 1529; spr_set(player_id);
10593                        		__ld.umq	_player_id
         01:C7F5  AD 17 23   			lda	_player_id
10594                        		__call		_spr_set.1
         01:C7F8  20 DD E7   			call	_spr_set.1
10595                        	
10596                        		.dbg	line,	"include\routines_LEVELS.c", 1530; spr_pattern(PLAYER_JUMP_ATTACK_1_VRAM_ADR);
10597                        		__ld.wi		10496
         01:C7FB  62         			cla
         01:C7FC  A0 29      			ldy.h	#10496
10598                        		__call		_spr_pattern.1
         01:C7FE  20 26 E8   			call	_spr_pattern.1
10599                        	
10600                        		.dbg	line,	"include\routines_LEVELS.c", 1532; spr_set(weapon_id);
10601                        		__ld.umq	_weapon_id
         01:C801  AD 26 23   			lda	_weapon_id
10602                        		__call		_spr_set.1
         01:C804  20 DD E7   			call	_spr_set.1
10603                        	
10604                        		.dbg	line,	"include\routines_LEVELS.c", 1533; spr_pattern(WEAPON_ATTACK_1_VRAM_ADRESS);
10605                        		__ld.wi		32000
         01:C807  62         			cla
         01:C808  A0 7D      			ldy.h	#32000
10606                        		__call		_spr_pattern.1
         01:C80A  20 26 E8   			call	_spr_pattern.1
10607                        	
10608                        		.dbg	line,	"include\routines_LEVELS.c", 1535; if(player_axis == AXIS_RIGHT)
10609                        		__not.um	_player_axis
         01:C80D  AD 19 23   			lda	_player_axis
         01:C810  18         			clc
         01:C811  D0 01      			bne	!+
         01:C813  38         			sec
         01:C814             	!:
10610                        		__bfalse	.LL482
         01:C814  90 11      			bcc	.LL482
10611                        	
10612                        		.dbg	line,	"include\routines_LEVELS.c", 1536; {
10613                        	
10614                        		.dbg	line,	"include\routines_LEVELS.c", 1537; spr_x(player_pos_x-14);
10615                        		__ld.wm		_player_pos_x
         01:C816  AD DB 24   			lda.l	_player_pos_x
         01:C819  AC DC 24   			ldy.h	_player_pos_x
10616                        		__sub.wi	14
         01:C81C  38         			sec
         01:C81D  E9 0E      			sbc.l	#14
         01:C81F  B0 01      			bcs	!+
         01:C821  88         			dey
         01:C822             	!:
10617                        		__call		_spr_x.1
         01:C822  20 0A E8   			call	_spr_x.1
10618                        	
10619                        		.dbg	line,	"include\routines_LEVELS.c", 1538; }
10620                        	
10621                        		.dbg	line,	"include\routines_LEVELS.c", 1540; else
10622                        		__bra		.LL483
         01:C825  80 0F      			bra	.LL483
10623    01:C827             	.LL482:
10624                        	
10625                        		.dbg	line,	"include\routines_LEVELS.c", 1541; {
10626                        	
10627                        		.dbg	line,	"include\routines_LEVELS.c", 1542; spr_x(player_pos_x+29);
10628                        		__ld.wm		_player_pos_x
         01:C827  AD DB 24   			lda.l	_player_pos_x
         01:C82A  AC DC 24   			ldy.h	_player_pos_x
10629                        		__add.wi	29
         01:C82D  18         			clc
         01:C82E  69 1D      			adc.l	#29
         01:C830  90 01      			bcc	!+
         01:C832  C8         			iny
         01:C833             	!:
10630                        		__call		_spr_x.1
         01:C833  20 0A E8   			call	_spr_x.1
10631                        	
10632                        		.dbg	line,	"include\routines_LEVELS.c", 1543; }
10633    01:C836             	.LL483:
10634                        	
10635                        		.dbg	line,	"include\routines_LEVELS.c", 1545; spr_y(player_pos_y-8);
10636                        		__ld.wm		_player_pos_y
         01:C836  AD DD 24   			lda.l	_player_pos_y
         01:C839  AC DE 24   			ldy.h	_player_pos_y
10637                        		__sub.wi	8
         01:C83C  38         			sec
         01:C83D  E9 08      			sbc.l	#8
         01:C83F  B0 01      			bcs	!+
         01:C841  88         			dey
         01:C842             	!:
10638                        		__call		_spr_y.1
         01:C842  20 19 E8   			call	_spr_y.1
10639                        	
10640                        		.dbg	line,	"include\routines_LEVELS.c", 1546; }
10641                        	
10642                        		.dbg	line,	"include\routines_LEVELS.c", 1548; else if(player_counter_attack == 6)
10643                        		__bra		.LL484
         01:C845  4C 92 CA   			bra	.LL484
10644    01:C848             	.LL481:
10645                        		__ld.umq	_player_counter_attack
         01:C848  AD 1E 23   			lda	_player_counter_attack
10646                        		__equ_b.uiq	6
         01:C84B  C9 06      			cmp	#6
         01:C84D  F0 01      			beq	!+
         01:C84F  18         			clc
         01:C850             	!:
10647                        		__bfalse	.LL485
         01:C850  90 54      			bcc	.LL485
10648                        	
10649                        		.dbg	line,	"include\routines_LEVELS.c", 1549; {
10650                        	
10651                        		.dbg	line,	"include\routines_LEVELS.c", 1550; spr_set(player_id);
10652                        		__ld.umq	_player_id
         01:C852  AD 17 23   			lda	_player_id
10653                        		__call		_spr_set.1
         01:C855  20 DD E7   			call	_spr_set.1
10654                        	
10655                        		.dbg	line,	"include\routines_LEVELS.c", 1551; spr_pattern(PLAYER_JUMP_ATTACK_2_VRAM_ADR);
10656                        		__ld.wi		10752
         01:C858  62         			cla
         01:C859  A0 2A      			ldy.h	#10752
10657                        		__call		_spr_pattern.1
         01:C85B  20 26 E8   			call	_spr_pattern.1
10658                        	
10659                        		.dbg	line,	"include\routines_LEVELS.c", 1553; spr_set(weapon_id);
10660                        		__ld.umq	_weapon_id
         01:C85E  AD 26 23   			lda	_weapon_id
10661                        		__call		_spr_set.1
         01:C861  20 DD E7   			call	_spr_set.1
10662                        	
10663                        		.dbg	line,	"include\routines_LEVELS.c", 1554; spr_pattern(WEAPON_ATTACK_2_VRAM_ADRESS);
10664                        		__ld.wi		32064
         01:C864  A9 40      			lda.l	#32064
         01:C866  A0 7D      			ldy.h	#32064
10665                        		__call		_spr_pattern.1
         01:C868  20 26 E8   			call	_spr_pattern.1
10666                        	
10667                        		.dbg	line,	"include\routines_LEVELS.c", 1556; if(player_axis == AXIS_RIGHT)
10668                        		__not.um	_player_axis
         01:C86B  AD 19 23   			lda	_player_axis
         01:C86E  18         			clc
         01:C86F  D0 01      			bne	!+
         01:C871  38         			sec
         01:C872             	!:
10669                        		__bfalse	.LL486
         01:C872  90 11      			bcc	.LL486
10670                        	
10671                        		.dbg	line,	"include\routines_LEVELS.c", 1557; {
10672                        	
10673                        		.dbg	line,	"include\routines_LEVELS.c", 1558; spr_x(player_pos_x+32);
10674                        		__ld.wm		_player_pos_x
         01:C874  AD DB 24   			lda.l	_player_pos_x
         01:C877  AC DC 24   			ldy.h	_player_pos_x
10675                        		__add.wi	32
         01:C87A  18         			clc
         01:C87B  69 20      			adc.l	#32
         01:C87D  90 01      			bcc	!+
         01:C87F  C8         			iny
         01:C880             	!:
10676                        		__call		_spr_x.1
         01:C880  20 0A E8   			call	_spr_x.1
10677                        	
10678                        		.dbg	line,	"include\routines_LEVELS.c", 1559; 
10679                        	
10680                        		.dbg	line,	"include\routines_LEVELS.c", 1560; }
10681                        	
10682                        		.dbg	line,	"include\routines_LEVELS.c", 1561; 
10683                        	
10684                        		.dbg	line,	"include\routines_LEVELS.c", 1562; else
10685                        		__bra		.LL487
         01:C883  80 0F      			bra	.LL487
10686    01:C885             	.LL486:
10687                        	
10688                        		.dbg	line,	"include\routines_LEVELS.c", 1563; {
10689                        	
10690                        		.dbg	line,	"include\routines_LEVELS.c", 1564; spr_x(player_pos_x-16);
10691                        		__ld.wm		_player_pos_x
         01:C885  AD DB 24   			lda.l	_player_pos_x
         01:C888  AC DC 24   			ldy.h	_player_pos_x
10692                        		__sub.wi	16
         01:C88B  38         			sec
         01:C88C  E9 10      			sbc.l	#16
         01:C88E  B0 01      			bcs	!+
         01:C890  88         			dey
         01:C891             	!:
10693                        		__call		_spr_x.1
         01:C891  20 0A E8   			call	_spr_x.1
10694                        	
10695                        		.dbg	line,	"include\routines_LEVELS.c", 1565; }
10696    01:C894             	.LL487:
10697                        	
10698                        		.dbg	line,	"include\routines_LEVELS.c", 1567; spr_y(player_pos_y+6);
10699                        		__ld.wm		_player_pos_y
         01:C894  AD DD 24   			lda.l	_player_pos_y
         01:C897  AC DE 24   			ldy.h	_player_pos_y
10700                        		__add.wi	6
         01:C89A  18         			clc
         01:C89B  69 06      			adc.l	#6
         01:C89D  90 01      			bcc	!+
         01:C89F  C8         			iny
         01:C8A0             	!:
10701                        		__call		_spr_y.1
         01:C8A0  20 19 E8   			call	_spr_y.1
10702                        	
10703                        		.dbg	line,	"include\routines_LEVELS.c", 1568; }
10704                        	
10705                        		.dbg	line,	"include\routines_LEVELS.c", 1570; else if(player_counter_attack == 7)
10706                        		__bra		.LL488
         01:C8A3  4C 92 CA   			bra	.LL488
10707    01:C8A6             	.LL485:
10708                        		__ld.umq	_player_counter_attack
         01:C8A6  AD 1E 23   			lda	_player_counter_attack
10709                        		__equ_b.uiq	7
         01:C8A9  C9 07      			cmp	#7
         01:C8AB  F0 01      			beq	!+
         01:C8AD  18         			clc
         01:C8AE             	!:
10710                        		__bfalse	.LL489
         01:C8AE  90 66      			bcc	.LL489
10711                        	
10712                        		.dbg	line,	"include\routines_LEVELS.c", 1571; {
10713                        	
10714                        		.dbg	line,	"include\routines_LEVELS.c", 1572; spr_set(chain_id);
10715                        		__ld.umq	_chain_id
         01:C8B0  AD 25 23   			lda	_chain_id
10716                        		__call		_spr_set.1
         01:C8B3  20 DD E7   			call	_spr_set.1
10717                        	
10718                        		.dbg	line,	"include\routines_LEVELS.c", 1573; spr_y(player_pos_y);
10719                        		__ld.wm		_player_pos_y
         01:C8B6  AD DD 24   			lda.l	_player_pos_y
         01:C8B9  AC DE 24   			ldy.h	_player_pos_y
10720                        		__call		_spr_y.1
         01:C8BC  20 19 E8   			call	_spr_y.1
10721                        	
10722                        		.dbg	line,	"include\routines_LEVELS.c", 1575; if(player_axis == AXIS_RIGHT)
10723                        		__not.um	_player_axis
         01:C8BF  AD 19 23   			lda	_player_axis
         01:C8C2  18         			clc
         01:C8C3  D0 01      			bne	!+
         01:C8C5  38         			sec
         01:C8C6             	!:
10724                        		__bfalse	.LL490
         01:C8C6  90 27      			bcc	.LL490
10725                        	
10726                        		.dbg	line,	"include\routines_LEVELS.c", 1576; {
10727                        	
10728                        		.dbg	line,	"include\routines_LEVELS.c", 1577; spr_x(player_pos_x+32);
10729                        		__ld.wm		_player_pos_x
         01:C8C8  AD DB 24   			lda.l	_player_pos_x
         01:C8CB  AC DC 24   			ldy.h	_player_pos_x
10730                        		__add.wi	32
         01:C8CE  18         			clc
         01:C8CF  69 20      			adc.l	#32
         01:C8D1  90 01      			bcc	!+
         01:C8D3  C8         			iny
         01:C8D4             	!:
10731                        		__call		_spr_x.1
         01:C8D4  20 0A E8   			call	_spr_x.1
10732                        	
10733                        		.dbg	line,	"include\routines_LEVELS.c", 1579; spr_set(weapon_id);
10734                        		__ld.umq	_weapon_id
         01:C8D7  AD 26 23   			lda	_weapon_id
10735                        		__call		_spr_set.1
         01:C8DA  20 DD E7   			call	_spr_set.1
10736                        	
10737                        		.dbg	line,	"include\routines_LEVELS.c", 1580; spr_x(player_pos_x+48);
10738                        		__ld.wm		_player_pos_x
         01:C8DD  AD DB 24   			lda.l	_player_pos_x
         01:C8E0  AC DC 24   			ldy.h	_player_pos_x
10739                        		__add.wi	48
         01:C8E3  18         			clc
         01:C8E4  69 30      			adc.l	#48
         01:C8E6  90 01      			bcc	!+
         01:C8E8  C8         			iny
         01:C8E9             	!:
10740                        		__call		_spr_x.1
         01:C8E9  20 0A E8   			call	_spr_x.1
10741                        	
10742                        		.dbg	line,	"include\routines_LEVELS.c", 1581; }
10743                        	
10744                        		.dbg	line,	"include\routines_LEVELS.c", 1582; 
10745                        	
10746                        		.dbg	line,	"include\routines_LEVELS.c", 1583; else
10747                        		__bra		.LL491
         01:C8EC  4C 92 CA   			bra	.LL491
10748    01:C8EF             	.LL490:
10749                        	
10750                        		.dbg	line,	"include\routines_LEVELS.c", 1584; {
10751                        	
10752                        		.dbg	line,	"include\routines_LEVELS.c", 1585; spr_x(player_pos_x-16);
10753                        		__ld.wm		_player_pos_x
         01:C8EF  AD DB 24   			lda.l	_player_pos_x
         01:C8F2  AC DC 24   			ldy.h	_player_pos_x
10754                        		__sub.wi	16
         01:C8F5  38         			sec
         01:C8F6  E9 10      			sbc.l	#16
         01:C8F8  B0 01      			bcs	!+
         01:C8FA  88         			dey
         01:C8FB             	!:
10755                        		__call		_spr_x.1
         01:C8FB  20 0A E8   			call	_spr_x.1
10756                        	
10757                        		.dbg	line,	"include\routines_LEVELS.c", 1587; spr_set(weapon_id);
10758                        		__ld.umq	_weapon_id
         01:C8FE  AD 26 23   			lda	_weapon_id
10759                        		__call		_spr_set.1
         01:C901  20 DD E7   			call	_spr_set.1
10760                        	
10761                        		.dbg	line,	"include\routines_LEVELS.c", 1588; spr_x(player_pos_x-32);
10762                        		__ld.wm		_player_pos_x
         01:C904  AD DB 24   			lda.l	_player_pos_x
         01:C907  AC DC 24   			ldy.h	_player_pos_x
10763                        		__sub.wi	32
         01:C90A  38         			sec
         01:C90B  E9 20      			sbc.l	#32
         01:C90D  B0 01      			bcs	!+
         01:C90F  88         			dey
         01:C910             	!:
10764                        		__call		_spr_x.1
         01:C910  20 0A E8   			call	_spr_x.1
10765                        	
10766                        		.dbg	line,	"include\routines_LEVELS.c", 1589; }
10767    01:C913             	.LL491	.alias		.LL492
10768                        	
10769                        		.dbg	line,	"include\routines_LEVELS.c", 1590; }
10770                        	
10771                        		.dbg	line,	"include\routines_LEVELS.c", 1592; else if(player_counter_attack == 8)
10772                        		__bra		.LL492
         01:C913  4C 92 CA   			bra	.LL492
10773    01:C916             	.LL489:
10774                        		__ld.umq	_player_counter_attack
         01:C916  AD 1E 23   			lda	_player_counter_attack
10775                        		__equ_b.uiq	8
         01:C919  C9 08      			cmp	#8
         01:C91B  F0 01      			beq	!+
         01:C91D  18         			clc
         01:C91E             	!:
10776                        		__bfalse	.LL493
         01:C91E  90 6B      			bcc	.LL493
10777                        	
10778                        		.dbg	line,	"include\routines_LEVELS.c", 1593; {
10779                        	
10780                        		.dbg	line,	"include\routines_LEVELS.c", 1594; spr_set(chain_id+1);
10781                        		__ld.um		_chain_id
         01:C920  AD 25 23   			lda	_chain_id
         01:C923  C2         			cly
10782                        		__add.wi	1
         01:C924  1A         			inc	a
         01:C925  D0 01      			bne	!+
         01:C927  C8         			iny
         01:C928             	!:
10783                        		__call		_spr_set.1
         01:C928  20 DD E7   			call	_spr_set.1
10784                        	
10785                        		.dbg	line,	"include\routines_LEVELS.c", 1595; spr_y(player_pos_y);
10786                        		__ld.wm		_player_pos_y
         01:C92B  AD DD 24   			lda.l	_player_pos_y
         01:C92E  AC DE 24   			ldy.h	_player_pos_y
10787                        		__call		_spr_y.1
         01:C931  20 19 E8   			call	_spr_y.1
10788                        	
10789                        		.dbg	line,	"include\routines_LEVELS.c", 1597; if(player_axis == AXIS_RIGHT)
10790                        		__not.um	_player_axis
         01:C934  AD 19 23   			lda	_player_axis
         01:C937  18         			clc
         01:C938  D0 01      			bne	!+
         01:C93A  38         			sec
         01:C93B             	!:
10791                        		__bfalse	.LL494
         01:C93B  90 27      			bcc	.LL494
10792                        	
10793                        		.dbg	line,	"include\routines_LEVELS.c", 1598; {
10794                        	
10795                        		.dbg	line,	"include\routines_LEVELS.c", 1599; spr_x(player_pos_x+48);
10796                        		__ld.wm		_player_pos_x
         01:C93D  AD DB 24   			lda.l	_player_pos_x
         01:C940  AC DC 24   			ldy.h	_player_pos_x
10797                        		__add.wi	48
         01:C943  18         			clc
         01:C944  69 30      			adc.l	#48
         01:C946  90 01      			bcc	!+
         01:C948  C8         			iny
         01:C949             	!:
10798                        		__call		_spr_x.1
         01:C949  20 0A E8   			call	_spr_x.1
10799                        	
10800                        		.dbg	line,	"include\routines_LEVELS.c", 1601; spr_set(weapon_id);
10801                        		__ld.umq	_weapon_id
         01:C94C  AD 26 23   			lda	_weapon_id
10802                        		__call		_spr_set.1
         01:C94F  20 DD E7   			call	_spr_set.1
10803                        	
10804                        		.dbg	line,	"include\routines_LEVELS.c", 1602; spr_x(player_pos_x+64);
10805                        		__ld.wm		_player_pos_x
         01:C952  AD DB 24   			lda.l	_player_pos_x
         01:C955  AC DC 24   			ldy.h	_player_pos_x
10806                        		__add.wi	64
         01:C958  18         			clc
         01:C959  69 40      			adc.l	#64
         01:C95B  90 01      			bcc	!+
         01:C95D  C8         			iny
         01:C95E             	!:
10807                        		__call		_spr_x.1
         01:C95E  20 0A E8   			call	_spr_x.1
10808                        	
10809                        		.dbg	line,	"include\routines_LEVELS.c", 1603; }
10810                        	
10811                        		.dbg	line,	"include\routines_LEVELS.c", 1604; 
10812                        	
10813                        		.dbg	line,	"include\routines_LEVELS.c", 1605; else
10814                        		__bra		.LL495
         01:C961  4C 92 CA   			bra	.LL495
10815    01:C964             	.LL494:
10816                        	
10817                        		.dbg	line,	"include\routines_LEVELS.c", 1606; {
10818                        	
10819                        		.dbg	line,	"include\routines_LEVELS.c", 1607; spr_x(player_pos_x-32);
10820                        		__ld.wm		_player_pos_x
         01:C964  AD DB 24   			lda.l	_player_pos_x
         01:C967  AC DC 24   			ldy.h	_player_pos_x
10821                        		__sub.wi	32
         01:C96A  38         			sec
         01:C96B  E9 20      			sbc.l	#32
         01:C96D  B0 01      			bcs	!+
         01:C96F  88         			dey
         01:C970             	!:
10822                        		__call		_spr_x.1
         01:C970  20 0A E8   			call	_spr_x.1
10823                        	
10824                        		.dbg	line,	"include\routines_LEVELS.c", 1609; spr_set(weapon_id);
10825                        		__ld.umq	_weapon_id
         01:C973  AD 26 23   			lda	_weapon_id
10826                        		__call		_spr_set.1
         01:C976  20 DD E7   			call	_spr_set.1
10827                        	
10828                        		.dbg	line,	"include\routines_LEVELS.c", 1610; spr_x(player_pos_x-48);
10829                        		__ld.wm		_player_pos_x
         01:C979  AD DB 24   			lda.l	_player_pos_x
         01:C97C  AC DC 24   			ldy.h	_player_pos_x
10830                        		__sub.wi	48
         01:C97F  38         			sec
         01:C980  E9 30      			sbc.l	#48
         01:C982  B0 01      			bcs	!+
         01:C984  88         			dey
         01:C985             	!:
10831                        		__call		_spr_x.1
         01:C985  20 0A E8   			call	_spr_x.1
10832                        	
10833                        		.dbg	line,	"include\routines_LEVELS.c", 1611; }
10834    01:C988             	.LL495	.alias		.LL496
10835                        	
10836                        		.dbg	line,	"include\routines_LEVELS.c", 1612; }
10837                        	
10838                        		.dbg	line,	"include\routines_LEVELS.c", 1614; else if(player_counter_attack == 9)
10839                        		__bra		.LL496
         01:C988  4C 92 CA   			bra	.LL496
10840    01:C98B             	.LL493:
10841                        		__ld.umq	_player_counter_attack
         01:C98B  AD 1E 23   			lda	_player_counter_attack
10842                        		__equ_b.uiq	9
         01:C98E  C9 09      			cmp	#9
         01:C990  F0 01      			beq	!+
         01:C992  18         			clc
         01:C993             	!:
10843                        		__bfalse	.LL497
         01:C993  90 6D      			bcc	.LL497
10844                        	
10845                        		.dbg	line,	"include\routines_LEVELS.c", 1615; {
10846                        	
10847                        		.dbg	line,	"include\routines_LEVELS.c", 1616; spr_set(chain_id+2);
10848                        		__ld.um		_chain_id
         01:C995  AD 25 23   			lda	_chain_id
         01:C998  C2         			cly
10849                        		__add.wi	2
         01:C999  18         			clc
         01:C99A  69 02      			adc.l	#2
         01:C99C  90 01      			bcc	!+
         01:C99E  C8         			iny
         01:C99F             	!:
10850                        		__call		_spr_set.1
         01:C99F  20 DD E7   			call	_spr_set.1
10851                        	
10852                        		.dbg	line,	"include\routines_LEVELS.c", 1617; spr_y(player_pos_y);
10853                        		__ld.wm		_player_pos_y
         01:C9A2  AD DD 24   			lda.l	_player_pos_y
         01:C9A5  AC DE 24   			ldy.h	_player_pos_y
10854                        		__call		_spr_y.1
         01:C9A8  20 19 E8   			call	_spr_y.1
10855                        	
10856                        		.dbg	line,	"include\routines_LEVELS.c", 1619; if(player_axis == AXIS_RIGHT)
10857                        		__not.um	_player_axis
         01:C9AB  AD 19 23   			lda	_player_axis
         01:C9AE  18         			clc
         01:C9AF  D0 01      			bne	!+
         01:C9B1  38         			sec
         01:C9B2             	!:
10858                        		__bfalse	.LL498
         01:C9B2  90 27      			bcc	.LL498
10859                        	
10860                        		.dbg	line,	"include\routines_LEVELS.c", 1620; {
10861                        	
10862                        		.dbg	line,	"include\routines_LEVELS.c", 1621; spr_x(player_pos_x+64);
10863                        		__ld.wm		_player_pos_x
         01:C9B4  AD DB 24   			lda.l	_player_pos_x
         01:C9B7  AC DC 24   			ldy.h	_player_pos_x
10864                        		__add.wi	64
         01:C9BA  18         			clc
         01:C9BB  69 40      			adc.l	#64
         01:C9BD  90 01      			bcc	!+
         01:C9BF  C8         			iny
         01:C9C0             	!:
10865                        		__call		_spr_x.1
         01:C9C0  20 0A E8   			call	_spr_x.1
10866                        	
10867                        		.dbg	line,	"include\routines_LEVELS.c", 1623; spr_set(weapon_id);
10868                        		__ld.umq	_weapon_id
         01:C9C3  AD 26 23   			lda	_weapon_id
10869                        		__call		_spr_set.1
         01:C9C6  20 DD E7   			call	_spr_set.1
10870                        	
10871                        		.dbg	line,	"include\routines_LEVELS.c", 1624; spr_x(player_pos_x+80);
10872                        		__ld.wm		_player_pos_x
         01:C9C9  AD DB 24   			lda.l	_player_pos_x
         01:C9CC  AC DC 24   			ldy.h	_player_pos_x
10873                        		__add.wi	80
         01:C9CF  18         			clc
         01:C9D0  69 50      			adc.l	#80
         01:C9D2  90 01      			bcc	!+
         01:C9D4  C8         			iny
         01:C9D5             	!:
10874                        		__call		_spr_x.1
         01:C9D5  20 0A E8   			call	_spr_x.1
10875                        	
10876                        		.dbg	line,	"include\routines_LEVELS.c", 1625; }
10877                        	
10878                        		.dbg	line,	"include\routines_LEVELS.c", 1626; 
10879                        	
10880                        		.dbg	line,	"include\routines_LEVELS.c", 1627; else
10881                        		__bra		.LL499
         01:C9D8  4C 92 CA   			bra	.LL499
10882    01:C9DB             	.LL498:
10883                        	
10884                        		.dbg	line,	"include\routines_LEVELS.c", 1628; {
10885                        	
10886                        		.dbg	line,	"include\routines_LEVELS.c", 1629; spr_x(player_pos_x-48);
10887                        		__ld.wm		_player_pos_x
         01:C9DB  AD DB 24   			lda.l	_player_pos_x
         01:C9DE  AC DC 24   			ldy.h	_player_pos_x
10888                        		__sub.wi	48
         01:C9E1  38         			sec
         01:C9E2  E9 30      			sbc.l	#48
         01:C9E4  B0 01      			bcs	!+
         01:C9E6  88         			dey
         01:C9E7             	!:
10889                        		__call		_spr_x.1
         01:C9E7  20 0A E8   			call	_spr_x.1
10890                        	
10891                        		.dbg	line,	"include\routines_LEVELS.c", 1631; spr_set(weapon_id);
10892                        		__ld.umq	_weapon_id
         01:C9EA  AD 26 23   			lda	_weapon_id
10893                        		__call		_spr_set.1
         01:C9ED  20 DD E7   			call	_spr_set.1
10894                        	
10895                        		.dbg	line,	"include\routines_LEVELS.c", 1632; spr_x(player_pos_x-64);
10896                        		__ld.wm		_player_pos_x
         01:C9F0  AD DB 24   			lda.l	_player_pos_x
         01:C9F3  AC DC 24   			ldy.h	_player_pos_x
10897                        		__sub.wi	64
         01:C9F6  38         			sec
         01:C9F7  E9 40      			sbc.l	#64
         01:C9F9  B0 01      			bcs	!+
         01:C9FB  88         			dey
         01:C9FC             	!:
10898                        		__call		_spr_x.1
         01:C9FC  20 0A E8   			call	_spr_x.1
10899                        	
10900                        		.dbg	line,	"include\routines_LEVELS.c", 1633; }
10901    01:C9FF             	.LL499	.alias		.LL500
10902                        	
10903                        		.dbg	line,	"include\routines_LEVELS.c", 1634; }
10904                        	
10905                        		.dbg	line,	"include\routines_LEVELS.c", 1636; else if(player_counter_attack == 23)
10906                        		__bra		.LL500
         01:C9FF  4C 92 CA   			bra	.LL500
10907    01:CA02             	.LL497:
10908                        		__ld.umq	_player_counter_attack
         01:CA02  AD 1E 23   			lda	_player_counter_attack
10909                        		__equ_b.uiq	23
         01:CA05  C9 17      			cmp	#23
         01:CA07  F0 01      			beq	!+
         01:CA09  18         			clc
         01:CA0A             	!:
10910                        		__bfalse	.LL501
         01:CA0A  B0 03 4C 92			bcc	.LL501
         01:CA0E  CA          
10911                        	
10912                        		.dbg	line,	"include\routines_LEVELS.c", 1637; {
10913                        	
10914                        		.dbg	line,	"include\routines_LEVELS.c", 1638; spr_set(chain_id);
10915                        		__ld.umq	_chain_id
         01:CA0F  AD 25 23   			lda	_chain_id
10916                        		__call		_spr_set.1
         01:CA12  20 DD E7   			call	_spr_set.1
10917                        	
10918                        		.dbg	line,	"include\routines_LEVELS.c", 1639; spr_hide();
10919                        		__call		_spr_hide
         01:CA15  20 F8 E7   			call	_spr_hide
10920                        	
10921                        		.dbg	line,	"include\routines_LEVELS.c", 1641; spr_set(chain_id+1);
10922                        		__ld.um		_chain_id
         01:CA18  AD 25 23   			lda	_chain_id
         01:CA1B  C2         			cly
10923                        		__add.wi	1
         01:CA1C  1A         			inc	a
         01:CA1D  D0 01      			bne	!+
         01:CA1F  C8         			iny
         01:CA20             	!:
10924                        		__call		_spr_set.1
         01:CA20  20 DD E7   			call	_spr_set.1
10925                        	
10926                        		.dbg	line,	"include\routines_LEVELS.c", 1642; spr_hide();
10927                        		__call		_spr_hide
         01:CA23  20 F8 E7   			call	_spr_hide
10928                        	
10929                        		.dbg	line,	"include\routines_LEVELS.c", 1644; spr_set(chain_id+2);
10930                        		__ld.um		_chain_id
         01:CA26  AD 25 23   			lda	_chain_id
         01:CA29  C2         			cly
10931                        		__add.wi	2
         01:CA2A  18         			clc
         01:CA2B  69 02      			adc.l	#2
         01:CA2D  90 01      			bcc	!+
         01:CA2F  C8         			iny
         01:CA30             	!:
10932                        		__call		_spr_set.1
         01:CA30  20 DD E7   			call	_spr_set.1
10933                        	
10934                        		.dbg	line,	"include\routines_LEVELS.c", 1645; spr_hide();
10935                        		__call		_spr_hide
         01:CA33  20 F8 E7   			call	_spr_hide
10936                        	
10937                        		.dbg	line,	"include\routines_LEVELS.c", 1647; spr_set(player_id);
10938                        		__ld.umq	_player_id
         01:CA36  AD 17 23   			lda	_player_id
10939                        		__call		_spr_set.1
         01:CA39  20 DD E7   			call	_spr_set.1
10940                        	
10941                        		.dbg	line,	"include\routines_LEVELS.c", 1648; spr_pattern(PLAYER_HANG_VRAM_ADR);
10942                        		__ld.wi		7424
         01:CA3C  62         			cla
         01:CA3D  A0 1D      			ldy.h	#7424
10943                        		__call		_spr_pattern.1
         01:CA3F  20 26 E8   			call	_spr_pattern.1
10944                        	
10945                        		.dbg	line,	"include\routines_LEVELS.c", 1650; spr_set(weapon_id);
10946                        		__ld.umq	_weapon_id
         01:CA42  AD 26 23   			lda	_weapon_id
10947                        		__call		_spr_set.1
         01:CA45  20 DD E7   			call	_spr_set.1
10948                        	
10949                        		.dbg	line,	"include\routines_LEVELS.c", 1651; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
10950                        		__ld.wi		31808
         01:CA48  A9 40      			lda.l	#31808
         01:CA4A  A0 7C      			ldy.h	#31808
10951                        		__call		_spr_pattern.1
         01:CA4C  20 26 E8   			call	_spr_pattern.1
10952                        	
10953                        		.dbg	line,	"include\routines_LEVELS.c", 1652; spr_y(player_pos_y+5);
10954                        		__ld.wm		_player_pos_y
         01:CA4F  AD DD 24   			lda.l	_player_pos_y
         01:CA52  AC DE 24   			ldy.h	_player_pos_y
10955                        		__add.wi	5
         01:CA55  18         			clc
         01:CA56  69 05      			adc.l	#5
         01:CA58  90 01      			bcc	!+
         01:CA5A  C8         			iny
         01:CA5B             	!:
10956                        		__call		_spr_y.1
         01:CA5B  20 19 E8   			call	_spr_y.1
10957                        	
10958                        		.dbg	line,	"include\routines_LEVELS.c", 1654; if(player_axis == AXIS_RIGHT)
10959                        		__not.um	_player_axis
         01:CA5E  AD 19 23   			lda	_player_axis
         01:CA61  18         			clc
         01:CA62  D0 01      			bne	!+
         01:CA64  38         			sec
         01:CA65             	!:
10960                        		__bfalse	.LL502
         01:CA65  90 11      			bcc	.LL502
10961                        	
10962                        		.dbg	line,	"include\routines_LEVELS.c", 1655; {
10963                        	
10964                        		.dbg	line,	"include\routines_LEVELS.c", 1656; spr_x(player_pos_x+17);
10965                        		__ld.wm		_player_pos_x
         01:CA67  AD DB 24   			lda.l	_player_pos_x
         01:CA6A  AC DC 24   			ldy.h	_player_pos_x
10966                        		__add.wi	17
         01:CA6D  18         			clc
         01:CA6E  69 11      			adc.l	#17
         01:CA70  90 01      			bcc	!+
         01:CA72  C8         			iny
         01:CA73             	!:
10967                        		__call		_spr_x.1
         01:CA73  20 0A E8   			call	_spr_x.1
10968                        	
10969                        		.dbg	line,	"include\routines_LEVELS.c", 1657; }
10970                        	
10971                        		.dbg	line,	"include\routines_LEVELS.c", 1659; else
10972                        		__bra		.LL503
         01:CA76  80 0F      			bra	.LL503
10973    01:CA78             	.LL502:
10974                        	
10975                        		.dbg	line,	"include\routines_LEVELS.c", 1660; {
10976                        	
10977                        		.dbg	line,	"include\routines_LEVELS.c", 1661; spr_x(player_pos_x-2);
10978                        		__ld.wm		_player_pos_x
         01:CA78  AD DB 24   			lda.l	_player_pos_x
         01:CA7B  AC DC 24   			ldy.h	_player_pos_x
10979                        		__sub.wi	2
         01:CA7E  38         			sec
         01:CA7F  E9 02      			sbc.l	#2
         01:CA81  B0 01      			bcs	!+
         01:CA83  88         			dey
         01:CA84             	!:
10980                        		__call		_spr_x.1
         01:CA84  20 0A E8   			call	_spr_x.1
10981                        	
10982                        		.dbg	line,	"include\routines_LEVELS.c", 1662; }
10983    01:CA87             	.LL503:
10984                        	
10985                        		.dbg	line,	"include\routines_LEVELS.c", 1664; player_attack = FALSE;
10986                        		__st.umiq	0, _player_attack
         01:CA87  9C 20 23   			stz	_player_attack
10987                        	
10988                        		.dbg	line,	"include\routines_LEVELS.c", 1665; player_counter_attack = 0;
10989                        		__st.umiq	0, _player_counter_attack
         01:CA8A  9C 1E 23   			stz	_player_counter_attack
10990                        	
10991                        		.dbg	line,	"include\routines_LEVELS.c", 1666; player_state = STATE_HANG;
10992                        		__st.umiq	10, _player_state
         01:CA8D  A9 0A      			lda.l	#10
         01:CA8F  8D 18 23   			sta	_player_state
10993                        	
10994                        		.dbg	line,	"include\routines_LEVELS.c", 1667; }
10995                        	
10996                        		.dbg	line,	"include\routines_LEVELS.c", 1670; player_counter_attack += 1;
10997    01:CA92             	.LL501:
10998    01:CA92             	.LL500:
10999    01:CA92             	.LL496:
11000    01:CA92             	.LL492:
11001    01:CA92             	.LL488:
11002    01:CA92             	.LL484:
11003                        		__add_st.umiq	1, _player_counter_attack
         01:CA92  EE 1E 23   			inc	_player_counter_attack
11004                        	
11005                        		.dbg	line,	"include\routines_LEVELS.c", 1671; }
11006    01:CA95             	.LL480:
11007                        	
11008                        		.dbg	line,	"include\routines_LEVELS.c", 1673; spr_set(player_id);
11009                        		__ld.umq	_player_id
         01:CA95  AD 17 23   			lda	_player_id
11010                        		__call		_spr_set.1
         01:CA98  20 DD E7   			call	_spr_set.1
11011                        	
11012                        		.dbg	line,	"include\routines_LEVELS.c", 1674; spr_y(player_pos_y);
11013                        		__ld.wm		_player_pos_y
         01:CA9B  AD DD 24   			lda.l	_player_pos_y
         01:CA9E  AC DE 24   			ldy.h	_player_pos_y
11014                        		__call		_spr_y.1
         01:CAA1  20 19 E8   			call	_spr_y.1
11015                        	
11016                        		.dbg	line,	"include\routines_LEVELS.c", 1678; if(player_index_jump < 34)
11017                        		__ld.umq	_player_index_jump
         01:CAA4  AD 1C 23   			lda	_player_index_jump
11018                        		__ult_b.uiq	34
         01:CAA7  C9 22      			cmp	#34		; Subtract integer from A.
         01:CAA9  6A         			ror	a		; CC if A < integer.
         01:CAAA  49 80      			eor	#$80
         01:CAAC  2A         			rol	a
11019                        		__bfalse	.LL504
         01:CAAD  90 03      			bcc	.LL504
11020                        	
11021                        		.dbg	line,	"include\routines_LEVELS.c", 1679; {
11022                        	
11023                        		.dbg	line,	"include\routines_LEVELS.c", 1680; player_index_jump += 1;
11024                        		__add_st.umiq	1, _player_index_jump
         01:CAAF  EE 1C 23   			inc	_player_index_jump
11025                        	
11026                        		.dbg	line,	"include\routines_LEVELS.c", 1681; }
11027                        	
11028                        		.dbg	line,	"include\routines_LEVELS.c", 1686; //--------------------------------------------------------------------------------------//
11029                        	
11030                        		.dbg	line,	"include\routines_LEVELS.c", 1687; //                                   FLOOR COLLISION                                    //
11031                        	
11032                        		.dbg	line,	"include\routines_LEVELS.c", 1688; //--------------------------------------------------------------------------------------//
11033                        	
11034                        		.dbg	line,	"include\routines_LEVELS.c", 1690; if(player_index_jump > 14)
11035    01:CAB2             	.LL504:
11036                        		__ld.umq	_player_index_jump
         01:CAB2  AD 1C 23   			lda	_player_index_jump
11037                        		__ugt_b.uiq	14
         01:CAB5  18         			clc			; Subtract integer+1 from A.
         01:CAB6  E9 0E      			sbc	#14		; CS if A > integer.
11038                        		__bfalse	.LL505
         01:CAB8  B0 03 4C 79			bcc	.LL505
         01:CABC  CC          
11039                        	
11040                        		.dbg	line,	"include\routines_LEVELS.c", 1691; {
11041                        	
11042                        		.dbg	line,	"include\routines_LEVELS.c", 1692; // CHECK COLLISION WITH LEFT FLOOR //
11043                        	
11044                        		.dbg	line,	"include\routines_LEVELS.c", 1693; check_BG( 10 , 32 );
11045                        		__ld.wi		10
         01:CABD  A9 0A      			lda.l	#10
         01:CABF  C2         			cly
11046                        		__pusharg.wr
         01:CAC0  A6 8D      			ldx	<__sp
         01:CAC2  CA         			dex
         01:CAC3  CA         			dex
         01:CAC4  95 08      			sta.l	<__stack, x
         01:CAC6  94 09      			sty.h	<__stack, x
         01:CAC8  86 8D      			stx	<__sp
11047                        		__ld.wi		32
         01:CACA  A9 20      			lda.l	#32
         01:CACC  C2         			cly
11048                        		__pusharg.wr
         01:CACD  A6 8D      			ldx	<__sp
         01:CACF  CA         			dex
         01:CAD0  CA         			dex
         01:CAD1  95 08      			sta.l	<__stack, x
         01:CAD3  94 09      			sty.h	<__stack, x
         01:CAD5  86 8D      			stx	<__sp
11049                        		__call		_check_BG
         01:CAD7  20 3B FF   			call	_check_BG
11050                        	
11051                        		.dbg	line,	"include\routines_LEVELS.c", 1695; // IF PLAYER TOUCHES THE GROUND TO THE LEFT //
11052                        	
11053                        		.dbg	line,	"include\routines_LEVELS.c", 1696; if(map_blk_flag == TILE_BG)
11054                        		__ld.umq	_map_blk_flag
         01:CADA  AD DF 2B   			lda	_map_blk_flag
11055                        		__equ_b.uiq	1
         01:CADD  C9 01      			cmp	#1
         01:CADF  F0 01      			beq	!+
         01:CAE1  18         			clc
         01:CAE2             	!:
11056                        		__bfalse	.LL506
         01:CAE2  B0 03 4C 9B			bcc	.LL506
         01:CAE6  CB          
11057                        	
11058                        		.dbg	line,	"include\routines_LEVELS.c", 1697; {
11059                        	
11060                        		.dbg	line,	"include\routines_LEVELS.c", 1698; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
11061                        	
11062                        		.dbg	line,	"include\routines_LEVELS.c", 1699; for(i=1; i<11 ; i++ )
11063                        		__st.umiq	1, __update_PLAYER_end - 1  /* i */
         01:CAE7  A9 01      			lda.l	#1
         01:CAE9  8D 0C 23   			sta	__update_PLAYER_end - 1
11064    01:CAEC             	.LL507:
11065                        		__ld.umq	__update_PLAYER_end - 1  /* i */
         01:CAEC  AD 0C 23   			lda	__update_PLAYER_end - 1
11066                        		__ult_b.uiq	11
         01:CAEF  C9 0B      			cmp	#11		; Subtract integer from A.
         01:CAF1  6A         			ror	a		; CC if A < integer.
         01:CAF2  49 80      			eor	#$80
         01:CAF4  2A         			rol	a
11067                        		__btrue		.LL509
         01:CAF5  B0 07      			bcs	.LL509
11068                        		__bra		.LL510
         01:CAF7  80 5B      			bra	.LL510
11069    01:CAF9             	.LL508:
11070                        		__inc.umq	__update_PLAYER_end - 1  /* i */
         01:CAF9  EE 0C 23   			inc	__update_PLAYER_end - 1
11071                        		__bra		.LL507
         01:CAFC  80 EE      			bra	.LL507
11072    01:CAFE             	.LL509:
11073                        	
11074                        		.dbg	line,	"include\routines_LEVELS.c", 1700; {
11075                        	
11076                        		.dbg	line,	"include\routines_LEVELS.c", 1701; check_TILE_DEPTH( 10 , i);
11077                        		__ld.wi		10
         01:CAFE  A9 0A      			lda.l	#10
         01:CB00  C2         			cly
11078                        		__pusharg.wr
         01:CB01  A6 8D      			ldx	<__sp
         01:CB03  CA         			dex
         01:CB04  CA         			dex
         01:CB05  95 08      			sta.l	<__stack, x
         01:CB07  94 09      			sty.h	<__stack, x
         01:CB09  86 8D      			stx	<__sp
11079                        		__ld.um		__update_PLAYER_end - 1  /* i */
         01:CB0B  AD 0C 23   			lda	__update_PLAYER_end - 1
         01:CB0E  C2         			cly
11080                        		__pusharg.wr
         01:CB0F  A6 8D      			ldx	<__sp
         01:CB11  CA         			dex
         01:CB12  CA         			dex
         01:CB13  95 08      			sta.l	<__stack, x
         01:CB15  94 09      			sty.h	<__stack, x
         01:CB17  86 8D      			stx	<__sp
11081                        		__call		_check_TILE_DEPTH
         01:CB19  20 27 FF   			call	_check_TILE_DEPTH
11082                        	
11083                        		.dbg	line,	"include\routines_LEVELS.c", 1703; if(map_blk_flag == TILE_EMPTY)
11084                        		__not.um	_map_blk_flag
         01:CB1C  AD DF 2B   			lda	_map_blk_flag
         01:CB1F  18         			clc
         01:CB20  D0 01      			bne	!+
         01:CB22  38         			sec
         01:CB23             	!:
11085                        		__bfalse	.LL511
         01:CB23  90 D4      			bcc	.LL511
11086                        	
11087                        		.dbg	line,	"include\routines_LEVELS.c", 1704; {
11088                        	
11089                        		.dbg	line,	"include\routines_LEVELS.c", 1705; //spr_set(player_id);
11090                        	
11091                        		.dbg	line,	"include\routines_LEVELS.c", 1706; spr_pattern(PLAYER_IDLE_VRAM_ADR);
11092                        		__ld.wi		5120
         01:CB25  62         			cla
         01:CB26  A0 14      			ldy.h	#5120
11093                        		__call		_spr_pattern.1
         01:CB28  20 26 E8   			call	_spr_pattern.1
11094                        	
11095                        		.dbg	line,	"include\routines_LEVELS.c", 1707; player_pos_y -= (i - 1);
11096                        		__ld.um		__update_PLAYER_end - 1  /* i */
         01:CB2B  AD 0C 23   			lda	__update_PLAYER_end - 1
         01:CB2E  C2         			cly
11097                        		__sub.wi	1
         01:CB2F  38         			sec
         01:CB30  E9 01      			sbc.l	#1
         01:CB32  B0 01      			bcs	!+
         01:CB34  88         			dey
         01:CB35             	!:
11098                        		__isub_st.wmq	_player_pos_y
         01:CB35  38         			sec
         01:CB36  49 FF      			eor	#$FF
         01:CB38  6D DD 24   			adc.l	_player_pos_y
         01:CB3B  8D DD 24   			sta.l	_player_pos_y
         01:CB3E  98         			tya
         01:CB3F  49 FF      			eor	#$FF
         01:CB41  6D DE 24   			adc.h	_player_pos_y
         01:CB44  8D DE 24   			sta.h	_player_pos_y
11099                        	
11100                        		.dbg	line,	"include\routines_LEVELS.c", 1708; spr_y(player_pos_y);
11101                        		__ld.wm		_player_pos_y
         01:CB47  AD DD 24   			lda.l	_player_pos_y
         01:CB4A  AC DE 24   			ldy.h	_player_pos_y
11102                        		__call		_spr_y.1
         01:CB4D  20 19 E8   			call	_spr_y.1
11103                        	
11104                        		.dbg	line,	"include\routines_LEVELS.c", 1709; break;
11105                        		__bra		.LL510
         01:CB50  80 02      			bra	.LL510
11106                        	
11107                        		.dbg	line,	"include\routines_LEVELS.c", 1710; }
11108                        	
11109                        		.dbg	line,	"include\routines_LEVELS.c", 1712; }
11110    01:CB52             	.LL511	.alias		.LL508
11111                        		__bra		.LL508
         01:CB52  80 A5      			bra	.LL508
11112    01:CB54             	.LL510:
11113                        	
11114                        		.dbg	line,	"include\routines_LEVELS.c", 1714; if(player_attack == FALSE)
11115                        		__not.um	_player_attack
         01:CB54  AD 20 23   			lda	_player_attack
         01:CB57  18         			clc
         01:CB58  D0 01      			bne	!+
         01:CB5A  38         			sec
         01:CB5B             	!:
11116                        		__bfalse	.LL512
         01:CB5B  90 24      			bcc	.LL512
11117                        	
11118                        		.dbg	line,	"include\routines_LEVELS.c", 1715; {
11119                        	
11120                        		.dbg	line,	"include\routines_LEVELS.c", 1716; spr_set(weapon_id);
11121                        		__ld.umq	_weapon_id
         01:CB5D  AD 26 23   			lda	_weapon_id
11122                        		__call		_spr_set.1
         01:CB60  20 DD E7   			call	_spr_set.1
11123                        	
11124                        		.dbg	line,	"include\routines_LEVELS.c", 1717; spr_x(player_pos_x+8);
11125                        		__ld.wm		_player_pos_x
         01:CB63  AD DB 24   			lda.l	_player_pos_x
         01:CB66  AC DC 24   			ldy.h	_player_pos_x
11126                        		__add.wi	8
         01:CB69  18         			clc
         01:CB6A  69 08      			adc.l	#8
         01:CB6C  90 01      			bcc	!+
         01:CB6E  C8         			iny
         01:CB6F             	!:
11127                        		__call		_spr_x.1
         01:CB6F  20 0A E8   			call	_spr_x.1
11128                        	
11129                        		.dbg	line,	"include\routines_LEVELS.c", 1718; spr_y(player_pos_y+16);
11130                        		__ld.wm		_player_pos_y
         01:CB72  AD DD 24   			lda.l	_player_pos_y
         01:CB75  AC DE 24   			ldy.h	_player_pos_y
11131                        		__add.wi	16
         01:CB78  18         			clc
         01:CB79  69 10      			adc.l	#16
         01:CB7B  90 01      			bcc	!+
         01:CB7D  C8         			iny
         01:CB7E             	!:
11132                        		__call		_spr_y.1
         01:CB7E  20 19 E8   			call	_spr_y.1
11133                        	
11134                        		.dbg	line,	"include\routines_LEVELS.c", 1719; }
11135                        	
11136                        		.dbg	line,	"include\routines_LEVELS.c", 1721; player_counter_anim = 1;
11137    01:CB81             	.LL512:
11138                        		__st.umiq	1, _player_counter_anim
         01:CB81  A9 01      			lda.l	#1
         01:CB83  8D 1B 23   			sta	_player_counter_anim
11139                        	
11140                        		.dbg	line,	"include\routines_LEVELS.c", 1722; player_index_jump = 0;
11141                        		__st.umiq	0, _player_index_jump
         01:CB86  9C 1C 23   			stz	_player_index_jump
11142                        	
11143                        		.dbg	line,	"include\routines_LEVELS.c", 1723; //hit_wall = FALSE;
11144                        	
11145                        		.dbg	line,	"include\routines_LEVELS.c", 1725; if(player_attack == FALSE)
11146                        		__not.um	_player_attack
         01:CB89  AD 20 23   			lda	_player_attack
         01:CB8C  18         			clc
         01:CB8D  D0 01      			bne	!+
         01:CB8F  38         			sec
         01:CB90             	!:
11147                        		__bfalse	.LL513
         01:CB90  B0 03 4C 4F			bcc	.LL513
         01:CB94  DC          
11148                        	
11149                        		.dbg	line,	"include\routines_LEVELS.c", 1726; {
11150                        	
11151                        		.dbg	line,	"include\routines_LEVELS.c", 1727; player_state = STATE_IDLE;
11152                        		__st.umiq	0, _player_state
         01:CB95  9C 18 23   			stz	_player_state
11153                        	
11154                        		.dbg	line,	"include\routines_LEVELS.c", 1728; }
11155                        	
11156                        		.dbg	line,	"include\routines_LEVELS.c", 1729; 
11157                        	
11158                        		.dbg	line,	"include\routines_LEVELS.c", 1730; return;
11159    01:CB98             	.LL513	.alias		.LL422
11160                        		__bra		.LL422
         01:CB98  4C 4F DC   			bra	.LL422
11161                        	
11162                        		.dbg	line,	"include\routines_LEVELS.c", 1731; }
11163                        	
11164                        		.dbg	line,	"include\routines_LEVELS.c", 1733; // IF PLAYER TOUCHES THE GROUND TO THE RIGHT //
11165                        	
11166                        		.dbg	line,	"include\routines_LEVELS.c", 1734; else
11167    01:CB9B             	.LL506:
11168                        	
11169                        		.dbg	line,	"include\routines_LEVELS.c", 1735; {
11170                        	
11171                        		.dbg	line,	"include\routines_LEVELS.c", 1736; // CHECK COLLISION WITH RIGHT FLOOR //
11172                        	
11173                        		.dbg	line,	"include\routines_LEVELS.c", 1737; check_BG( 22 , 32 );
11174                        		__ld.wi		22
         01:CB9B  A9 16      			lda.l	#22
         01:CB9D  C2         			cly
11175                        		__pusharg.wr
         01:CB9E  A6 8D      			ldx	<__sp
         01:CBA0  CA         			dex
         01:CBA1  CA         			dex
         01:CBA2  95 08      			sta.l	<__stack, x
         01:CBA4  94 09      			sty.h	<__stack, x
         01:CBA6  86 8D      			stx	<__sp
11176                        		__ld.wi		32
         01:CBA8  A9 20      			lda.l	#32
         01:CBAA  C2         			cly
11177                        		__pusharg.wr
         01:CBAB  A6 8D      			ldx	<__sp
         01:CBAD  CA         			dex
         01:CBAE  CA         			dex
         01:CBAF  95 08      			sta.l	<__stack, x
         01:CBB1  94 09      			sty.h	<__stack, x
         01:CBB3  86 8D      			stx	<__sp
11178                        		__call		_check_BG
         01:CBB5  20 3B FF   			call	_check_BG
11179                        	
11180                        		.dbg	line,	"include\routines_LEVELS.c", 1739; if(map_blk_flag == TILE_BG)
11181                        		__ld.umq	_map_blk_flag
         01:CBB8  AD DF 2B   			lda	_map_blk_flag
11182                        		__equ_b.uiq	1
         01:CBBB  C9 01      			cmp	#1
         01:CBBD  F0 01      			beq	!+
         01:CBBF  18         			clc
         01:CBC0             	!:
11183                        		__bfalse	.LL515
         01:CBC0  B0 03 4C 79			bcc	.LL515
         01:CBC4  CC          
11184                        	
11185                        		.dbg	line,	"include\routines_LEVELS.c", 1740; {
11186                        	
11187                        		.dbg	line,	"include\routines_LEVELS.c", 1741; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
11188                        	
11189                        		.dbg	line,	"include\routines_LEVELS.c", 1742; for(i=1; i<11 ; i++ )
11190                        		__st.umiq	1, __update_PLAYER_end - 1  /* i */
         01:CBC5  A9 01      			lda.l	#1
         01:CBC7  8D 0C 23   			sta	__update_PLAYER_end - 1
11191    01:CBCA             	.LL516:
11192                        		__ld.umq	__update_PLAYER_end - 1  /* i */
         01:CBCA  AD 0C 23   			lda	__update_PLAYER_end - 1
11193                        		__ult_b.uiq	11
         01:CBCD  C9 0B      			cmp	#11		; Subtract integer from A.
         01:CBCF  6A         			ror	a		; CC if A < integer.
         01:CBD0  49 80      			eor	#$80
         01:CBD2  2A         			rol	a
11194                        		__btrue		.LL518
         01:CBD3  B0 07      			bcs	.LL518
11195                        		__bra		.LL519
         01:CBD5  80 5B      			bra	.LL519
11196    01:CBD7             	.LL517:
11197                        		__inc.umq	__update_PLAYER_end - 1  /* i */
         01:CBD7  EE 0C 23   			inc	__update_PLAYER_end - 1
11198                        		__bra		.LL516
         01:CBDA  80 EE      			bra	.LL516
11199    01:CBDC             	.LL518:
11200                        	
11201                        		.dbg	line,	"include\routines_LEVELS.c", 1743; {
11202                        	
11203                        		.dbg	line,	"include\routines_LEVELS.c", 1744; check_TILE_DEPTH( 22 , i);
11204                        		__ld.wi		22
         01:CBDC  A9 16      			lda.l	#22
         01:CBDE  C2         			cly
11205                        		__pusharg.wr
         01:CBDF  A6 8D      			ldx	<__sp
         01:CBE1  CA         			dex
         01:CBE2  CA         			dex
         01:CBE3  95 08      			sta.l	<__stack, x
         01:CBE5  94 09      			sty.h	<__stack, x
         01:CBE7  86 8D      			stx	<__sp
11206                        		__ld.um		__update_PLAYER_end - 1  /* i */
         01:CBE9  AD 0C 23   			lda	__update_PLAYER_end - 1
         01:CBEC  C2         			cly
11207                        		__pusharg.wr
         01:CBED  A6 8D      			ldx	<__sp
         01:CBEF  CA         			dex
         01:CBF0  CA         			dex
         01:CBF1  95 08      			sta.l	<__stack, x
         01:CBF3  94 09      			sty.h	<__stack, x
         01:CBF5  86 8D      			stx	<__sp
11208                        		__call		_check_TILE_DEPTH
         01:CBF7  20 27 FF   			call	_check_TILE_DEPTH
11209                        	
11210                        		.dbg	line,	"include\routines_LEVELS.c", 1746; if(map_blk_flag == TILE_EMPTY)
11211                        		__not.um	_map_blk_flag
         01:CBFA  AD DF 2B   			lda	_map_blk_flag
         01:CBFD  18         			clc
         01:CBFE  D0 01      			bne	!+
         01:CC00  38         			sec
         01:CC01             	!:
11212                        		__bfalse	.LL520
         01:CC01  90 D4      			bcc	.LL520
11213                        	
11214                        		.dbg	line,	"include\routines_LEVELS.c", 1747; {
11215                        	
11216                        		.dbg	line,	"include\routines_LEVELS.c", 1748; //spr_set(player_id);
11217                        	
11218                        		.dbg	line,	"include\routines_LEVELS.c", 1749; spr_pattern(PLAYER_IDLE_VRAM_ADR);
11219                        		__ld.wi		5120
         01:CC03  62         			cla
         01:CC04  A0 14      			ldy.h	#5120
11220                        		__call		_spr_pattern.1
         01:CC06  20 26 E8   			call	_spr_pattern.1
11221                        	
11222                        		.dbg	line,	"include\routines_LEVELS.c", 1750; player_pos_y -= (i - 1);
11223                        		__ld.um		__update_PLAYER_end - 1  /* i */
         01:CC09  AD 0C 23   			lda	__update_PLAYER_end - 1
         01:CC0C  C2         			cly
11224                        		__sub.wi	1
         01:CC0D  38         			sec
         01:CC0E  E9 01      			sbc.l	#1
         01:CC10  B0 01      			bcs	!+
         01:CC12  88         			dey
         01:CC13             	!:
11225                        		__isub_st.wmq	_player_pos_y
         01:CC13  38         			sec
         01:CC14  49 FF      			eor	#$FF
         01:CC16  6D DD 24   			adc.l	_player_pos_y
         01:CC19  8D DD 24   			sta.l	_player_pos_y
         01:CC1C  98         			tya
         01:CC1D  49 FF      			eor	#$FF
         01:CC1F  6D DE 24   			adc.h	_player_pos_y
         01:CC22  8D DE 24   			sta.h	_player_pos_y
11226                        	
11227                        		.dbg	line,	"include\routines_LEVELS.c", 1751; spr_y(player_pos_y);
11228                        		__ld.wm		_player_pos_y
         01:CC25  AD DD 24   			lda.l	_player_pos_y
         01:CC28  AC DE 24   			ldy.h	_player_pos_y
11229                        		__call		_spr_y.1
         01:CC2B  20 19 E8   			call	_spr_y.1
11230                        	
11231                        		.dbg	line,	"include\routines_LEVELS.c", 1752; break;
11232                        		__bra		.LL519
         01:CC2E  80 02      			bra	.LL519
11233                        	
11234                        		.dbg	line,	"include\routines_LEVELS.c", 1753; }
11235                        	
11236                        		.dbg	line,	"include\routines_LEVELS.c", 1755; }
11237    01:CC30             	.LL520	.alias		.LL517
11238                        		__bra		.LL517
         01:CC30  80 A5      			bra	.LL517
11239    01:CC32             	.LL519:
11240                        	
11241                        		.dbg	line,	"include\routines_LEVELS.c", 1757; if(player_attack == FALSE)
11242                        		__not.um	_player_attack
         01:CC32  AD 20 23   			lda	_player_attack
         01:CC35  18         			clc
         01:CC36  D0 01      			bne	!+
         01:CC38  38         			sec
         01:CC39             	!:
11243                        		__bfalse	.LL521
         01:CC39  90 24      			bcc	.LL521
11244                        	
11245                        		.dbg	line,	"include\routines_LEVELS.c", 1758; {
11246                        	
11247                        		.dbg	line,	"include\routines_LEVELS.c", 1759; spr_set(weapon_id);
11248                        		__ld.umq	_weapon_id
         01:CC3B  AD 26 23   			lda	_weapon_id
11249                        		__call		_spr_set.1
         01:CC3E  20 DD E7   			call	_spr_set.1
11250                        	
11251                        		.dbg	line,	"include\routines_LEVELS.c", 1760; spr_x(player_pos_x+8);
11252                        		__ld.wm		_player_pos_x
         01:CC41  AD DB 24   			lda.l	_player_pos_x
         01:CC44  AC DC 24   			ldy.h	_player_pos_x
11253                        		__add.wi	8
         01:CC47  18         			clc
         01:CC48  69 08      			adc.l	#8
         01:CC4A  90 01      			bcc	!+
         01:CC4C  C8         			iny
         01:CC4D             	!:
11254                        		__call		_spr_x.1
         01:CC4D  20 0A E8   			call	_spr_x.1
11255                        	
11256                        		.dbg	line,	"include\routines_LEVELS.c", 1761; spr_y(player_pos_y+16);
11257                        		__ld.wm		_player_pos_y
         01:CC50  AD DD 24   			lda.l	_player_pos_y
         01:CC53  AC DE 24   			ldy.h	_player_pos_y
11258                        		__add.wi	16
         01:CC56  18         			clc
         01:CC57  69 10      			adc.l	#16
         01:CC59  90 01      			bcc	!+
         01:CC5B  C8         			iny
         01:CC5C             	!:
11259                        		__call		_spr_y.1
         01:CC5C  20 19 E8   			call	_spr_y.1
11260                        	
11261                        		.dbg	line,	"include\routines_LEVELS.c", 1762; }
11262                        	
11263                        		.dbg	line,	"include\routines_LEVELS.c", 1764; player_counter_anim = 1;
11264    01:CC5F             	.LL521:
11265                        		__st.umiq	1, _player_counter_anim
         01:CC5F  A9 01      			lda.l	#1
         01:CC61  8D 1B 23   			sta	_player_counter_anim
11266                        	
11267                        		.dbg	line,	"include\routines_LEVELS.c", 1765; player_index_jump = 0;
11268                        		__st.umiq	0, _player_index_jump
         01:CC64  9C 1C 23   			stz	_player_index_jump
11269                        	
11270                        		.dbg	line,	"include\routines_LEVELS.c", 1766; //hit_wall = FALSE;
11271                        	
11272                        		.dbg	line,	"include\routines_LEVELS.c", 1768; if(player_attack == FALSE)
11273                        		__not.um	_player_attack
         01:CC67  AD 20 23   			lda	_player_attack
         01:CC6A  18         			clc
         01:CC6B  D0 01      			bne	!+
         01:CC6D  38         			sec
         01:CC6E             	!:
11274                        		__bfalse	.LL522
         01:CC6E  B0 03 4C 4F			bcc	.LL522
         01:CC72  DC          
11275                        	
11276                        		.dbg	line,	"include\routines_LEVELS.c", 1769; {
11277                        	
11278                        		.dbg	line,	"include\routines_LEVELS.c", 1770; player_state = STATE_IDLE;
11279                        		__st.umiq	0, _player_state
         01:CC73  9C 18 23   			stz	_player_state
11280                        	
11281                        		.dbg	line,	"include\routines_LEVELS.c", 1771; }
11282                        	
11283                        		.dbg	line,	"include\routines_LEVELS.c", 1773; return;
11284    01:CC76             	.LL522	.alias		.LL422
11285                        		__bra		.LL422
         01:CC76  4C 4F DC   			bra	.LL422
11286                        	
11287                        		.dbg	line,	"include\routines_LEVELS.c", 1774; }
11288                        	
11289                        		.dbg	line,	"include\routines_LEVELS.c", 1775; }
11290    01:CC79             	.LL515:
11291    01:CC79             	.LL514:
11292                        	
11293                        		.dbg	line,	"include\routines_LEVELS.c", 1776; }
11294                        	
11295                        		.dbg	line,	"include\routines_LEVELS.c", 1780; // CHECK COLLISION WITH LADDERS //
11296                        	
11297                        		.dbg	line,	"include\routines_LEVELS.c", 1781; check_BG( 16 , 16 );
11298    01:CC79             	.LL505:
11299                        		__ld.wi		16
         01:CC79  A9 10      			lda.l	#16
         01:CC7B  C2         			cly
11300                        		__pusharg.wr
         01:CC7C  A6 8D      			ldx	<__sp
         01:CC7E  CA         			dex
         01:CC7F  CA         			dex
         01:CC80  95 08      			sta.l	<__stack, x
         01:CC82  94 09      			sty.h	<__stack, x
         01:CC84  86 8D      			stx	<__sp
11301                        		__ld.wi		16
         01:CC86  A9 10      			lda.l	#16
         01:CC88  C2         			cly
11302                        		__pusharg.wr
         01:CC89  A6 8D      			ldx	<__sp
         01:CC8B  CA         			dex
         01:CC8C  CA         			dex
         01:CC8D  95 08      			sta.l	<__stack, x
         01:CC8F  94 09      			sty.h	<__stack, x
         01:CC91  86 8D      			stx	<__sp
11303                        		__call		_check_BG
         01:CC93  20 3B FF   			call	_check_BG
11304                        	
11305                        		.dbg	line,	"include\routines_LEVELS.c", 1783; // IF PLAYER HITS THE LADDER //
11306                        	
11307                        		.dbg	line,	"include\routines_LEVELS.c", 1784; if(map_blk_flag == TILE_LADDER)
11308                        		__ld.umq	_map_blk_flag
         01:CC96  AD DF 2B   			lda	_map_blk_flag
11309                        		__equ_b.uiq	2
         01:CC99  C9 02      			cmp	#2
         01:CC9B  F0 01      			beq	!+
         01:CC9D  18         			clc
         01:CC9E             	!:
11310                        		__bfalse	.LL523
         01:CC9E  B0 03 4C 4F			bcc	.LL523
         01:CCA2  DC          
11311                        	
11312                        		.dbg	line,	"include\routines_LEVELS.c", 1785; {
11313                        	
11314                        		.dbg	line,	"include\routines_LEVELS.c", 1786; // CAMERA GOES 8 PX BACKWARD //
11315                        	
11316                        		.dbg	line,	"include\routines_LEVELS.c", 1787; sgx_map_pxl_x = ( (sgx_map_pxl_x >> 3) << 3 );
11317                        		__ld.wm		_sgx_map_pxl_x
         01:CCA3  AD BE 26   			lda.l	_sgx_map_pxl_x
         01:CCA6  AC BF 26   			ldy.h	_sgx_map_pxl_x
11318                        		__lsr.wi	3
         01:CCA9  84 00      			sty	__temp
         01:CCAB  20 3A E2   			jsr	lsrw3
11319                        		__asl.wi	3
         01:CCAE  84 00      			sty	__temp
         01:CCB0  20 D7 E1   			jsr	aslw3
11320                        		__st.wmq	_sgx_map_pxl_x
         01:CCB3  8D BE 26   			sta.l	_sgx_map_pxl_x
         01:CCB6  8C BF 26   			sty.h	_sgx_map_pxl_x
11321                        	
11322                        		.dbg	line,	"include\routines_LEVELS.c", 1789; // SO WE UPDATE THE MAP //
11323                        	
11324                        		.dbg	line,	"include\routines_LEVELS.c", 1790; sgx_scroll_map();
11325                        		__call		_sgx_scroll_map
         01:CCB9  20 4F FF   			call	_sgx_scroll_map
11326                        	
11327                        		.dbg	line,	"include\routines_LEVELS.c", 1792; // CHECK IF THE PLAYER STANDS RIGHT TO THE LADDER //
11328                        	
11329                        		.dbg	line,	"include\routines_LEVELS.c", 1793; check_BG( 31 , 16 );
11330                        		__ld.wi		31
         01:CCBC  A9 1F      			lda.l	#31
         01:CCBE  C2         			cly
11331                        		__pusharg.wr
         01:CCBF  A6 8D      			ldx	<__sp
         01:CCC1  CA         			dex
         01:CCC2  CA         			dex
         01:CCC3  95 08      			sta.l	<__stack, x
         01:CCC5  94 09      			sty.h	<__stack, x
         01:CCC7  86 8D      			stx	<__sp
11332                        		__ld.wi		16
         01:CCC9  A9 10      			lda.l	#16
         01:CCCB  C2         			cly
11333                        		__pusharg.wr
         01:CCCC  A6 8D      			ldx	<__sp
         01:CCCE  CA         			dex
         01:CCCF  CA         			dex
         01:CCD0  95 08      			sta.l	<__stack, x
         01:CCD2  94 09      			sty.h	<__stack, x
         01:CCD4  86 8D      			stx	<__sp
11334                        		__call		_check_BG
         01:CCD6  20 3B FF   			call	_check_BG
11335                        	
11336                        		.dbg	line,	"include\routines_LEVELS.c", 1795; if(map_blk_flag == TILE_LADDER)
11337                        		__ld.umq	_map_blk_flag
         01:CCD9  AD DF 2B   			lda	_map_blk_flag
11338                        		__equ_b.uiq	2
         01:CCDC  C9 02      			cmp	#2
         01:CCDE  F0 01      			beq	!+
         01:CCE0  18         			clc
         01:CCE1             	!:
11339                        		__bfalse	.LL524
         01:CCE1  90 0E      			bcc	.LL524
11340                        	
11341                        		.dbg	line,	"include\routines_LEVELS.c", 1796; {
11342                        	
11343                        		.dbg	line,	"include\routines_LEVELS.c", 1797; sgx_map_pxl_x += 8;
11344                        		__add_st.wmiq	8, _sgx_map_pxl_x
         01:CCE3  18         			clc
         01:CCE4  AD BE 26   			lda.l	_sgx_map_pxl_x
         01:CCE7  69 08      			adc.l	#8
         01:CCE9  8D BE 26   			sta.l	_sgx_map_pxl_x
         01:CCEC  90 03      			bcc	!+
         01:CCEE  EE BF 26   			inc.h	_sgx_map_pxl_x
         01:CCF1             	!:
11345                        	
11346                        		.dbg	line,	"include\routines_LEVELS.c", 1798; }
11347                        	
11348                        		.dbg	line,	"include\routines_LEVELS.c", 1800; spr_pattern(PLAYER_HANG_VRAM_ADR);
11349    01:CCF1             	.LL524:
11350                        		__ld.wi		7424
         01:CCF1  62         			cla
         01:CCF2  A0 1D      			ldy.h	#7424
11351                        		__call		_spr_pattern.1
         01:CCF4  20 26 E8   			call	_spr_pattern.1
11352                        	
11353                        		.dbg	line,	"include\routines_LEVELS.c", 1801; player_counter_anim = 0;
11354                        		__st.umiq	0, _player_counter_anim
         01:CCF7  9C 1B 23   			stz	_player_counter_anim
11355                        	
11356                        		.dbg	line,	"include\routines_LEVELS.c", 1802; player_index_jump = 0;
11357                        		__st.umiq	0, _player_index_jump
         01:CCFA  9C 1C 23   			stz	_player_index_jump
11358                        	
11359                        		.dbg	line,	"include\routines_LEVELS.c", 1803; jump_ladder = TRUE;
11360                        		__st.umiq	1, _jump_ladder
         01:CCFD  A9 01      			lda.l	#1
         01:CCFF  8D 21 23   			sta	_jump_ladder
11361                        	
11362                        		.dbg	line,	"include\routines_LEVELS.c", 1804; player_state = STATE_HANG;
11363                        		__st.umiq	10, _player_state
         01:CD02  A9 0A      			lda.l	#10
         01:CD04  8D 18 23   			sta	_player_state
11364                        	
11365                        		.dbg	line,	"include\routines_LEVELS.c", 1805; }
11366                        	
11367                        		.dbg	line,	"include\routines_LEVELS.c", 1806; }
11368    01:CD07             	.LL523	.alias		.LL525
11369                        	
11370                        		.dbg	line,	"include\routines_LEVELS.c", 1809; else if(player_state == STATE_JUMP_RIGHT)
11371                        		__bra		.LL525
         01:CD07  4C 4F DC   			bra	.LL525
11372    01:CD0A             	.LL471:
11373                        		__ld.umq	_player_state
         01:CD0A  AD 18 23   			lda	_player_state
11374                        		__equ_b.uiq	5
         01:CD0D  C9 05      			cmp	#5
         01:CD0F  F0 01      			beq	!+
         01:CD11  18         			clc
         01:CD12             	!:
11375                        		__bfalse	.LL526
         01:CD12  B0 03 4C 73			bcc	.LL526
         01:CD16  D1          
11376                        	
11377                        		.dbg	line,	"include\routines_LEVELS.c", 1810; {
11378                        	
11379                        		.dbg	line,	"include\routines_LEVELS.c", 1811; unsigned char i, camera_y_move;
11380                        	
11381                        		.dbg	line,	"include\routines_LEVELS.c", 1812; i = 1;
11382                        		__st.umiq	1, __update_PLAYER_end - 2  /* i */
         01:CD17  A9 01      			lda.l	#1
         01:CD19  8D 0B 23   			sta	__update_PLAYER_end - 2
11383                        	
11384                        		.dbg	line,	"include\routines_LEVELS.c", 1814; // UPDATE PLAYER TILES //
11385                        	
11386                        		.dbg	line,	"include\routines_LEVELS.c", 1815; if(player_counter_anim == 0)
11387                        		__not.um	_player_counter_anim
         01:CD1C  AD 1B 23   			lda	_player_counter_anim
         01:CD1F  18         			clc
         01:CD20  D0 01      			bne	!+
         01:CD22  38         			sec
         01:CD23             	!:
11388                        		__bfalse	.LL527
         01:CD23  90 11      			bcc	.LL527
11389                        	
11390                        		.dbg	line,	"include\routines_LEVELS.c", 1816; {
11391                        	
11392                        		.dbg	line,	"include\routines_LEVELS.c", 1817; spr_set(player_id);
11393                        		__ld.umq	_player_id
         01:CD25  AD 17 23   			lda	_player_id
11394                        		__call		_spr_set.1
         01:CD28  20 DD E7   			call	_spr_set.1
11395                        	
11396                        		.dbg	line,	"include\routines_LEVELS.c", 1818; spr_pattern(PLAYER_JUMP_VRAM_ADR);
11397                        		__ld.wi		6912
         01:CD2B  62         			cla
         01:CD2C  A0 1B      			ldy.h	#6912
11398                        		__call		_spr_pattern.1
         01:CD2E  20 26 E8   			call	_spr_pattern.1
11399                        	
11400                        		.dbg	line,	"include\routines_LEVELS.c", 1820; player_counter_anim = 1;
11401                        		__st.umiq	1, _player_counter_anim
         01:CD31  A9 01      			lda.l	#1
         01:CD33  8D 1B 23   			sta	_player_counter_anim
11402                        	
11403                        		.dbg	line,	"include\routines_LEVELS.c", 1821; }
11404                        	
11405                        		.dbg	line,	"include\routines_LEVELS.c", 1824; // SELECT PLAYER SPRITE //
11406                        	
11407                        		.dbg	line,	"include\routines_LEVELS.c", 1825; spr_set(player_id);
11408    01:CD36             	.LL527:
11409                        		__ld.umq	_player_id
         01:CD36  AD 17 23   			lda	_player_id
11410                        		__call		_spr_set.1
         01:CD39  20 DD E7   			call	_spr_set.1
11411                        	
11412                        		.dbg	line,	"include\routines_LEVELS.c", 1828; //**************************************************************************************//
11413                        	
11414                        		.dbg	line,	"include\routines_LEVELS.c", 1829; //                                        H MOVE                                        //
11415                        	
11416                        		.dbg	line,	"include\routines_LEVELS.c", 1830; //**************************************************************************************//
11417                        	
11418                        		.dbg	line,	"include\routines_LEVELS.c", 1832; //--------------------------------------------------------------------------------------//
11419                        	
11420                        		.dbg	line,	"include\routines_LEVELS.c", 1833; //                                    WALL COLLISION                                    //
11421                        	
11422                        		.dbg	line,	"include\routines_LEVELS.c", 1834; //--------------------------------------------------------------------------------------//
11423                        	
11424                        		.dbg	line,	"include\routines_LEVELS.c", 1836; // CHECK COLLISION WITH BOTTOM RIGHT WALL //
11425                        	
11426                        		.dbg	line,	"include\routines_LEVELS.c", 1837; check_BG( 24 , 31 );
11427                        		__ld.wi		24
         01:CD3C  A9 18      			lda.l	#24
         01:CD3E  C2         			cly
11428                        		__pusharg.wr
         01:CD3F  A6 8D      			ldx	<__sp
         01:CD41  CA         			dex
         01:CD42  CA         			dex
         01:CD43  95 08      			sta.l	<__stack, x
         01:CD45  94 09      			sty.h	<__stack, x
         01:CD47  86 8D      			stx	<__sp
11429                        		__ld.wi		31
         01:CD49  A9 1F      			lda.l	#31
         01:CD4B  C2         			cly
11430                        		__pusharg.wr
         01:CD4C  A6 8D      			ldx	<__sp
         01:CD4E  CA         			dex
         01:CD4F  CA         			dex
         01:CD50  95 08      			sta.l	<__stack, x
         01:CD52  94 09      			sty.h	<__stack, x
         01:CD54  86 8D      			stx	<__sp
11431                        		__call		_check_BG
         01:CD56  20 3B FF   			call	_check_BG
11432                        	
11433                        		.dbg	line,	"include\routines_LEVELS.c", 1839; if(map_blk_flag != TILE_BG)
11434                        		__ld.umq	_map_blk_flag
         01:CD59  AD DF 2B   			lda	_map_blk_flag
11435                        		__neq_b.uiq	1
         01:CD5C  38         			sec
         01:CD5D  49 01      			eor	#1
         01:CD5F  D0 01      			bne	!+
         01:CD61  18         			clc
         01:CD62             	!:
11436                        		__bfalse	.LL528
         01:CD62  90 78      			bcc	.LL528
11437                        	
11438                        		.dbg	line,	"include\routines_LEVELS.c", 1840; {
11439                        	
11440                        		.dbg	line,	"include\routines_LEVELS.c", 1841; // CHECK COLLISION WITH TOP RIGHT WALL //
11441                        	
11442                        		.dbg	line,	"include\routines_LEVELS.c", 1842; check_BG( 24 , 15 );
11443                        		__ld.wi		24
         01:CD64  A9 18      			lda.l	#24
         01:CD66  C2         			cly
11444                        		__pusharg.wr
         01:CD67  A6 8D      			ldx	<__sp
         01:CD69  CA         			dex
         01:CD6A  CA         			dex
         01:CD6B  95 08      			sta.l	<__stack, x
         01:CD6D  94 09      			sty.h	<__stack, x
         01:CD6F  86 8D      			stx	<__sp
11445                        		__ld.wi		15
         01:CD71  A9 0F      			lda.l	#15
         01:CD73  C2         			cly
11446                        		__pusharg.wr
         01:CD74  A6 8D      			ldx	<__sp
         01:CD76  CA         			dex
         01:CD77  CA         			dex
         01:CD78  95 08      			sta.l	<__stack, x
         01:CD7A  94 09      			sty.h	<__stack, x
         01:CD7C  86 8D      			stx	<__sp
11447                        		__call		_check_BG
         01:CD7E  20 3B FF   			call	_check_BG
11448                        	
11449                        		.dbg	line,	"include\routines_LEVELS.c", 1844; if(map_blk_flag == TILE_BG)
11450                        		__ld.umq	_map_blk_flag
         01:CD81  AD DF 2B   			lda	_map_blk_flag
11451                        		__equ_b.uiq	1
         01:CD84  C9 01      			cmp	#1
         01:CD86  F0 01      			beq	!+
         01:CD88  18         			clc
         01:CD89             	!:
11452                        		__bfalse	.LL529
         01:CD89  90 41      			bcc	.LL529
11453                        	
11454                        		.dbg	line,	"include\routines_LEVELS.c", 1845; {
11455                        	
11456                        		.dbg	line,	"include\routines_LEVELS.c", 1846; check_TILE_DEPTH( 15 , -16 );
11457                        		__ld.wi		15
         01:CD8B  A9 0F      			lda.l	#15
         01:CD8D  C2         			cly
11458                        		__pusharg.wr
         01:CD8E  A6 8D      			ldx	<__sp
         01:CD90  CA         			dex
         01:CD91  CA         			dex
         01:CD92  95 08      			sta.l	<__stack, x
         01:CD94  94 09      			sty.h	<__stack, x
         01:CD96  86 8D      			stx	<__sp
11459                        		__ld.wi		-16
         01:CD98  A9 F0      			lda.l	#-16
         01:CD9A  A0 FF      			ldy.h	#-16
11460                        		__pusharg.wr
         01:CD9C  A6 8D      			ldx	<__sp
         01:CD9E  CA         			dex
         01:CD9F  CA         			dex
         01:CDA0  95 08      			sta.l	<__stack, x
         01:CDA2  94 09      			sty.h	<__stack, x
         01:CDA4  86 8D      			stx	<__sp
11461                        		__call		_check_TILE_DEPTH
         01:CDA6  20 27 FF   			call	_check_TILE_DEPTH
11462                        	
11463                        		.dbg	line,	"include\routines_LEVELS.c", 1848; if(map_blk_flag == TILE_EMPTY && jump_ladder == TRUE)
11464                        		__not.um	_map_blk_flag
         01:CDA9  AD DF 2B   			lda	_map_blk_flag
         01:CDAC  18         			clc
         01:CDAD  D0 01      			bne	!+
         01:CDAF  38         			sec
         01:CDB0             	!:
11465                        		__bfalse	.LL531
         01:CDB0  90 08      			bcc	.LL531
11466                        		__ld.umq	_jump_ladder
         01:CDB2  AD 21 23   			lda	_jump_ladder
11467                        		__equ_b.uiq	1
         01:CDB5  C9 01      			cmp	#1
         01:CDB7  F0 01      			beq	!+
         01:CDB9  18         			clc
         01:CDBA             	!:
11468    01:CDBA             	.LL531:
11469                        		__bfalse	.LL530
         01:CDBA  90 64      			bcc	.LL530
11470                        	
11471                        		.dbg	line,	"include\routines_LEVELS.c", 1849; {
11472                        	
11473                        		.dbg	line,	"include\routines_LEVELS.c", 1850; jump_ladder = FALSE;
11474                        		__st.umiq	0, _jump_ladder
         01:CDBC  9C 21 23   			stz	_jump_ladder
11475                        	
11476                        		.dbg	line,	"include\routines_LEVELS.c", 1851; player_index_fall = 0;
11477                        		__st.umiq	0, _player_index_fall
         01:CDBF  9C 1D 23   			stz	_player_index_fall
11478                        	
11479                        		.dbg	line,	"include\routines_LEVELS.c", 1852; player_state = STATE_FALL;
11480                        		__st.umiq	9, _player_state
         01:CDC2  A9 09      			lda.l	#9
         01:CDC4  8D 18 23   			sta	_player_state
11481                        	
11482                        		.dbg	line,	"include\routines_LEVELS.c", 1853; return;
11483                        		__bra		.LL422
         01:CDC7  4C 4F DC   			bra	.LL422
11484                        	
11485                        		.dbg	line,	"include\routines_LEVELS.c", 1854; }
11486                        	
11487                        		.dbg	line,	"include\routines_LEVELS.c", 1855; }
11488    01:CDCA             	.LL530	.alias		.LL532
11489                        	
11490                        		.dbg	line,	"include\routines_LEVELS.c", 1857; else
11491                        		__bra		.LL532
         01:CDCA  80 54      			bra	.LL532
11492    01:CDCC             	.LL529:
11493                        	
11494                        		.dbg	line,	"include\routines_LEVELS.c", 1858; {
11495                        	
11496                        		.dbg	line,	"include\routines_LEVELS.c", 1859; sgx_map_pxl_x += 2;
11497                        		__add_st.wmiq	2, _sgx_map_pxl_x
         01:CDCC  18         			clc
         01:CDCD  AD BE 26   			lda.l	_sgx_map_pxl_x
         01:CDD0  69 02      			adc.l	#2
         01:CDD2  8D BE 26   			sta.l	_sgx_map_pxl_x
         01:CDD5  90 03      			bcc	!+
         01:CDD7  EE BF 26   			inc.h	_sgx_map_pxl_x
         01:CDDA             	!:
11498                        	
11499                        		.dbg	line,	"include\routines_LEVELS.c", 1860; }
11500    01:CDDA             	.LL532	.alias		.LL533
11501                        	
11502                        		.dbg	line,	"include\routines_LEVELS.c", 1861; }
11503                        	
11504                        		.dbg	line,	"include\routines_LEVELS.c", 1863; else
11505                        		__bra		.LL533
         01:CDDA  80 44      			bra	.LL533
11506    01:CDDC             	.LL528:
11507                        	
11508                        		.dbg	line,	"include\routines_LEVELS.c", 1864; {
11509                        	
11510                        		.dbg	line,	"include\routines_LEVELS.c", 1865; check_TILE_DEPTH( 15 , -16 );
11511                        		__ld.wi		15
         01:CDDC  A9 0F      			lda.l	#15
         01:CDDE  C2         			cly
11512                        		__pusharg.wr
         01:CDDF  A6 8D      			ldx	<__sp
         01:CDE1  CA         			dex
         01:CDE2  CA         			dex
         01:CDE3  95 08      			sta.l	<__stack, x
         01:CDE5  94 09      			sty.h	<__stack, x
         01:CDE7  86 8D      			stx	<__sp
11513                        		__ld.wi		-16
         01:CDE9  A9 F0      			lda.l	#-16
         01:CDEB  A0 FF      			ldy.h	#-16
11514                        		__pusharg.wr
         01:CDED  A6 8D      			ldx	<__sp
         01:CDEF  CA         			dex
         01:CDF0  CA         			dex
         01:CDF1  95 08      			sta.l	<__stack, x
         01:CDF3  94 09      			sty.h	<__stack, x
         01:CDF5  86 8D      			stx	<__sp
11515                        		__call		_check_TILE_DEPTH
         01:CDF7  20 27 FF   			call	_check_TILE_DEPTH
11516                        	
11517                        		.dbg	line,	"include\routines_LEVELS.c", 1867; if(map_blk_flag == TILE_EMPTY && jump_ladder == TRUE)
11518                        		__not.um	_map_blk_flag
         01:CDFA  AD DF 2B   			lda	_map_blk_flag
         01:CDFD  18         			clc
         01:CDFE  D0 01      			bne	!+
         01:CE00  38         			sec
         01:CE01             	!:
11519                        		__bfalse	.LL535
         01:CE01  90 08      			bcc	.LL535
11520                        		__ld.umq	_jump_ladder
         01:CE03  AD 21 23   			lda	_jump_ladder
11521                        		__equ_b.uiq	1
         01:CE06  C9 01      			cmp	#1
         01:CE08  F0 01      			beq	!+
         01:CE0A  18         			clc
         01:CE0B             	!:
11522    01:CE0B             	.LL535:
11523                        		__bfalse	.LL534
         01:CE0B  90 13      			bcc	.LL534
11524                        	
11525                        		.dbg	line,	"include\routines_LEVELS.c", 1868; {
11526                        	
11527                        		.dbg	line,	"include\routines_LEVELS.c", 1869; jump_ladder = FALSE;
11528                        		__st.umiq	0, _jump_ladder
         01:CE0D  9C 21 23   			stz	_jump_ladder
11529                        	
11530                        		.dbg	line,	"include\routines_LEVELS.c", 1870; hit_wall = TRUE;
11531                        		__st.umiq	1, _hit_wall
         01:CE10  A9 01      			lda.l	#1
         01:CE12  8D 24 23   			sta	_hit_wall
11532                        	
11533                        		.dbg	line,	"include\routines_LEVELS.c", 1871; player_index_fall = 0;
11534                        		__st.umiq	0, _player_index_fall
         01:CE15  9C 1D 23   			stz	_player_index_fall
11535                        	
11536                        		.dbg	line,	"include\routines_LEVELS.c", 1872; player_state = STATE_FALL;
11537                        		__st.umiq	9, _player_state
         01:CE18  A9 09      			lda.l	#9
         01:CE1A  8D 18 23   			sta	_player_state
11538                        	
11539                        		.dbg	line,	"include\routines_LEVELS.c", 1873; return;
11540                        		__bra		.LL422
         01:CE1D  4C 4F DC   			bra	.LL422
11541                        	
11542                        		.dbg	line,	"include\routines_LEVELS.c", 1874; }
11543                        	
11544                        		.dbg	line,	"include\routines_LEVELS.c", 1875; }
11545    01:CE20             	.LL534:
11546    01:CE20             	.LL533:
11547                        	
11548                        		.dbg	line,	"include\routines_LEVELS.c", 1880; //**************************************************************************************//
11549                        	
11550                        		.dbg	line,	"include\routines_LEVELS.c", 1881; //                                        V MOVE                                        //
11551                        	
11552                        		.dbg	line,	"include\routines_LEVELS.c", 1882; //**************************************************************************************//
11553                        	
11554                        		.dbg	line,	"include\routines_LEVELS.c", 1884; // UPDATE PLAYER Y POSITION //
11555                        	
11556                        		.dbg	line,	"include\routines_LEVELS.c", 1885; if(jump_ladder == FALSE)
11557                        		__not.um	_jump_ladder
         01:CE20  AD 21 23   			lda	_jump_ladder
         01:CE23  18         			clc
         01:CE24  D0 01      			bne	!+
         01:CE26  38         			sec
         01:CE27             	!:
11558                        		__bfalse	.LL536
         01:CE27  90 1A      			bcc	.LL536
11559                        	
11560                        		.dbg	line,	"include\routines_LEVELS.c", 1886; {
11561                        	
11562                        		.dbg	line,	"include\routines_LEVELS.c", 1887; player_pos_y += TABLE_PLAYER_JUMP_V[player_index_jump];
11563                        		__ldx.umq	_player_index_jump
         01:CE29  AE 1C 23   			ldx	_player_index_jump
11564                        		__ld.bax	_TABLE_PLAYER_JUMP_V
         01:CE2C  BD FC 61   			lda	_TABLE_PLAYER_JUMP_V, x
         01:CE2F  C2         			cly
         01:CE30  10 01      			bpl	!+
         01:CE32  88         			dey
         01:CE33             	!:
11565                        		__add_st.wmq	_player_pos_y
         01:CE33  18         			clc
         01:CE34  6D DD 24   			adc.l	_player_pos_y
         01:CE37  8D DD 24   			sta.l	_player_pos_y
         01:CE3A  98         			tya
         01:CE3B  6D DE 24   			adc.h	_player_pos_y
         01:CE3E  8D DE 24   			sta.h	_player_pos_y
11566                        	
11567                        		.dbg	line,	"include\routines_LEVELS.c", 1888; }
11568                        	
11569                        		.dbg	line,	"include\routines_LEVELS.c", 1890; else
11570                        		__bra		.LL537
         01:CE41  80 18      			bra	.LL537
11571    01:CE43             	.LL536:
11572                        	
11573                        		.dbg	line,	"include\routines_LEVELS.c", 1891; {
11574                        	
11575                        		.dbg	line,	"include\routines_LEVELS.c", 1892; player_pos_y += TABLE_PLAYER_JUMP_LADDER[player_index_jump];
11576                        		__ldx.umq	_player_index_jump
         01:CE43  AE 1C 23   			ldx	_player_index_jump
11577                        		__ld.bax	_TABLE_PLAYER_JUMP_LADDER
         01:CE46  BD 34 62   			lda	_TABLE_PLAYER_JUMP_LADDER, x
         01:CE49  C2         			cly
         01:CE4A  10 01      			bpl	!+
         01:CE4C  88         			dey
         01:CE4D             	!:
11578                        		__add_st.wmq	_player_pos_y
         01:CE4D  18         			clc
         01:CE4E  6D DD 24   			adc.l	_player_pos_y
         01:CE51  8D DD 24   			sta.l	_player_pos_y
         01:CE54  98         			tya
         01:CE55  6D DE 24   			adc.h	_player_pos_y
         01:CE58  8D DE 24   			sta.h	_player_pos_y
11579                        	
11580                        		.dbg	line,	"include\routines_LEVELS.c", 1893; }
11581    01:CE5B             	.LL537:
11582                        	
11583                        		.dbg	line,	"include\routines_LEVELS.c", 1897; // IF PLAYER GOES BELOW ITS BASE Y POSITION //
11584                        	
11585                        		.dbg	line,	"include\routines_LEVELS.c", 1898; if(player_pos_y >= PLAYER_BASE_Y_POS)
11586                        		__ld.wm		_player_pos_y
         01:CE5B  AD DD 24   			lda.l	_player_pos_y
         01:CE5E  AC DE 24   			ldy.h	_player_pos_y
11587                        		__sge_w.wi	128
         01:CE61  C9 80      			cmp.l	#128		; Subtract integer from Y:A.
         01:CE63  98         			tya
         01:CE64  E9 00      			sbc.h	#128
         01:CE66  50 02      			bvc	!+
         01:CE68  49 80      			eor	#$80		; +ve if Y:A >= integer (signed).
         01:CE6A  49 80      	!:		eor	#$80
         01:CE6C  0A         			asl	a
11588                        		__bfalse	.LL538
         01:CE6D  90 4E      			bcc	.LL538
11589                        	
11590                        		.dbg	line,	"include\routines_LEVELS.c", 1899; {
11591                        	
11592                        		.dbg	line,	"include\routines_LEVELS.c", 1900; // THE CAMERA MOVES //
11593                        	
11594                        		.dbg	line,	"include\routines_LEVELS.c", 1901; // CALCULATE HOW MANY PIXELS THE CAMERA HAS TO MOVE DOWN //
11595                        	
11596                        		.dbg	line,	"include\routines_LEVELS.c", 1902; camera_y_move = player_pos_y - PLAYER_BASE_Y_POS;
11597                        		__ld.wm		_player_pos_y
         01:CE6F  AD DD 24   			lda.l	_player_pos_y
         01:CE72  AC DE 24   			ldy.h	_player_pos_y
11598                        		__sub.wi	128
         01:CE75  38         			sec
         01:CE76  E9 80      			sbc.l	#128
         01:CE78  B0 01      			bcs	!+
         01:CE7A  88         			dey
         01:CE7B             	!:
11599                        		__st.umq	__update_PLAYER_end - 3  /* camera_y_move */
         01:CE7B  8D 0A 23   			sta	__update_PLAYER_end - 3
11600                        	
11601                        		.dbg	line,	"include\routines_LEVELS.c", 1903; sgx_map_pxl_y += camera_y_move;
11602                        		__ld.um		__update_PLAYER_end - 3  /* camera_y_move */
         01:CE7E  AD 0A 23   			lda	__update_PLAYER_end - 3
         01:CE81  C2         			cly
11603                        		__add_st.wmq	_sgx_map_pxl_y
         01:CE82  18         			clc
         01:CE83  6D C0 26   			adc.l	_sgx_map_pxl_y
         01:CE86  8D C0 26   			sta.l	_sgx_map_pxl_y
         01:CE89  98         			tya
         01:CE8A  6D C1 26   			adc.h	_sgx_map_pxl_y
         01:CE8D  8D C1 26   			sta.h	_sgx_map_pxl_y
11604                        	
11605                        		.dbg	line,	"include\routines_LEVELS.c", 1905; // IF THE CAMERA HAS REACHED ITS MAX (LOWEST) POSITION //
11606                        	
11607                        		.dbg	line,	"include\routines_LEVELS.c", 1906; if(sgx_map_pxl_y > camera_max_y_position)
11608                        		__ld.wm		_sgx_map_pxl_y
         01:CE90  AD C0 26   			lda.l	_sgx_map_pxl_y
         01:CE93  AC C1 26   			ldy.h	_sgx_map_pxl_y
11609                        		__ugt_w.wm	_camera_max_y_position
         01:CE96  18         			clc			; Subtract memory+1 from Y:A.
         01:CE97  ED DF 24   			sbc.l	_camera_max_y_position
         01:CE9A  98         			tya
         01:CE9B  ED E0 24   			sbc.h	_camera_max_y_position		; CS if Y:A > memory.
11610                        		__bfalse	.LL539
         01:CE9E  90 0C      			bcc	.LL539
11611                        	
11612                        		.dbg	line,	"include\routines_LEVELS.c", 1907; {
11613                        	
11614                        		.dbg	line,	"include\routines_LEVELS.c", 1908; // THE CAMERA CAN NOT MOVE LOWER //
11615                        	
11616                        		.dbg	line,	"include\routines_LEVELS.c", 1909; sgx_map_pxl_y = camera_max_y_position;
11617                        		__ld.wm		_camera_max_y_position
         01:CEA0  AD DF 24   			lda.l	_camera_max_y_position
         01:CEA3  AC E0 24   			ldy.h	_camera_max_y_position
11618                        		__st.wmq	_sgx_map_pxl_y
         01:CEA6  8D C0 26   			sta.l	_sgx_map_pxl_y
         01:CEA9  8C C1 26   			sty.h	_sgx_map_pxl_y
11619                        	
11620                        		.dbg	line,	"include\routines_LEVELS.c", 1910; }
11621                        	
11622                        		.dbg	line,	"include\routines_LEVELS.c", 1912; // THE PLAYER STAYS AT ITS BASE Y POSITION //
11623                        	
11624                        		.dbg	line,	"include\routines_LEVELS.c", 1913; player_pos_y = PLAYER_BASE_Y_POS;
11625    01:CEAC             	.LL539:
11626                        		__st.wmiq	128, _player_pos_y
         01:CEAC  A9 80      			lda.l	#128
         01:CEAE  8D DD 24   			sta.l	_player_pos_y
         01:CEB1  9C DE 24   			stz.h	_player_pos_y
11627                        	
11628                        		.dbg	line,	"include\routines_LEVELS.c", 1915; spr_y(player_pos_y);
11629                        		__ld.wm		_player_pos_y
         01:CEB4  AD DD 24   			lda.l	_player_pos_y
         01:CEB7  AC DE 24   			ldy.h	_player_pos_y
11630                        		__call		_spr_y.1
         01:CEBA  20 19 E8   			call	_spr_y.1
11631                        	
11632                        		.dbg	line,	"include\routines_LEVELS.c", 1916; }
11633                        	
11634                        		.dbg	line,	"include\routines_LEVELS.c", 1919; // UPDATE JUMP INDEX IN THE ARRAY //
11635                        	
11636                        		.dbg	line,	"include\routines_LEVELS.c", 1920; if(player_index_jump < jump_max_index)
11637    01:CEBD             	.LL538:
11638                        		__ld.umq	_player_index_jump
         01:CEBD  AD 1C 23   			lda	_player_index_jump
11639                        		__ult_b.umq	_jump_max_index
         01:CEC0  CD 22 23   			cmp	_jump_max_index		; Subtract memory from A.
         01:CEC3  6A         			ror	a		; CC if A < memory.
         01:CEC4  49 80      			eor	#$80
         01:CEC6  2A         			rol	a
11640                        		__bfalse	.LL540
         01:CEC7  90 03      			bcc	.LL540
11641                        	
11642                        		.dbg	line,	"include\routines_LEVELS.c", 1921; {
11643                        	
11644                        		.dbg	line,	"include\routines_LEVELS.c", 1922; player_index_jump += 1;
11645                        		__add_st.umiq	1, _player_index_jump
         01:CEC9  EE 1C 23   			inc	_player_index_jump
11646                        	
11647                        		.dbg	line,	"include\routines_LEVELS.c", 1923; }
11648                        	
11649                        		.dbg	line,	"include\routines_LEVELS.c", 1928; //--------------------------------------------------------------------------------------//
11650                        	
11651                        		.dbg	line,	"include\routines_LEVELS.c", 1929; //                                   FLOOR COLLISION                                    //
11652                        	
11653                        		.dbg	line,	"include\routines_LEVELS.c", 1930; //--------------------------------------------------------------------------------------//
11654                        	
11655                        		.dbg	line,	"include\routines_LEVELS.c", 1932; if(player_index_jump > 14)
11656    01:CECC             	.LL540:
11657                        		__ld.umq	_player_index_jump
         01:CECC  AD 1C 23   			lda	_player_index_jump
11658                        		__ugt_b.uiq	14
         01:CECF  18         			clc			; Subtract integer+1 from A.
         01:CED0  E9 0E      			sbc	#14		; CS if A > integer.
11659                        		__bfalse	.LL541
         01:CED2  B0 03 4C B7			bcc	.LL541
         01:CED6  D0          
11660                        	
11661                        		.dbg	line,	"include\routines_LEVELS.c", 1933; {
11662                        	
11663                        		.dbg	line,	"include\routines_LEVELS.c", 1934; // CHECK COLLISION WITH LEFT FLOOR //
11664                        	
11665                        		.dbg	line,	"include\routines_LEVELS.c", 1935; check_BG( 10 , 32 );
11666                        		__ld.wi		10
         01:CED7  A9 0A      			lda.l	#10
         01:CED9  C2         			cly
11667                        		__pusharg.wr
         01:CEDA  A6 8D      			ldx	<__sp
         01:CEDC  CA         			dex
         01:CEDD  CA         			dex
         01:CEDE  95 08      			sta.l	<__stack, x
         01:CEE0  94 09      			sty.h	<__stack, x
         01:CEE2  86 8D      			stx	<__sp
11668                        		__ld.wi		32
         01:CEE4  A9 20      			lda.l	#32
         01:CEE6  C2         			cly
11669                        		__pusharg.wr
         01:CEE7  A6 8D      			ldx	<__sp
         01:CEE9  CA         			dex
         01:CEEA  CA         			dex
         01:CEEB  95 08      			sta.l	<__stack, x
         01:CEED  94 09      			sty.h	<__stack, x
         01:CEEF  86 8D      			stx	<__sp
11670                        		__call		_check_BG
         01:CEF1  20 3B FF   			call	_check_BG
11671                        	
11672                        		.dbg	line,	"include\routines_LEVELS.c", 1937; // IF PLAYER TOUCHES THE GROUND TO THE LEFT //
11673                        	
11674                        		.dbg	line,	"include\routines_LEVELS.c", 1938; if(map_blk_flag == TILE_BG)
11675                        		__ld.umq	_map_blk_flag
         01:CEF4  AD DF 2B   			lda	_map_blk_flag
11676                        		__equ_b.uiq	1
         01:CEF7  C9 01      			cmp	#1
         01:CEF9  F0 01      			beq	!+
         01:CEFB  18         			clc
         01:CEFC             	!:
11677                        		__bfalse	.LL542
         01:CEFC  B0 03 4C C7			bcc	.LL542
         01:CF00  CF          
11678                        	
11679                        		.dbg	line,	"include\routines_LEVELS.c", 1939; {
11680                        	
11681                        		.dbg	line,	"include\routines_LEVELS.c", 1940; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
11682                        	
11683                        		.dbg	line,	"include\routines_LEVELS.c", 1941; for(i=1; i<11 ; i++)
11684                        		__st.umiq	1, __update_PLAYER_end - 2  /* i */
         01:CF01  A9 01      			lda.l	#1
         01:CF03  8D 0B 23   			sta	__update_PLAYER_end - 2
11685    01:CF06             	.LL543:
11686                        		__ld.umq	__update_PLAYER_end - 2  /* i */
         01:CF06  AD 0B 23   			lda	__update_PLAYER_end - 2
11687                        		__ult_b.uiq	11
         01:CF09  C9 0B      			cmp	#11		; Subtract integer from A.
         01:CF0B  6A         			ror	a		; CC if A < integer.
         01:CF0C  49 80      			eor	#$80
         01:CF0E  2A         			rol	a
11688                        		__btrue		.LL545
         01:CF0F  B0 07      			bcs	.LL545
11689                        		__bra		.LL546
         01:CF11  80 7D      			bra	.LL546
11690    01:CF13             	.LL544:
11691                        		__inc.umq	__update_PLAYER_end - 2  /* i */
         01:CF13  EE 0B 23   			inc	__update_PLAYER_end - 2
11692                        		__bra		.LL543
         01:CF16  80 EE      			bra	.LL543
11693    01:CF18             	.LL545:
11694                        	
11695                        		.dbg	line,	"include\routines_LEVELS.c", 1942; {
11696                        	
11697                        		.dbg	line,	"include\routines_LEVELS.c", 1943; check_TILE_DEPTH( 10 , i);
11698                        		__ld.wi		10
         01:CF18  A9 0A      			lda.l	#10
         01:CF1A  C2         			cly
11699                        		__pusharg.wr
         01:CF1B  A6 8D      			ldx	<__sp
         01:CF1D  CA         			dex
         01:CF1E  CA         			dex
         01:CF1F  95 08      			sta.l	<__stack, x
         01:CF21  94 09      			sty.h	<__stack, x
         01:CF23  86 8D      			stx	<__sp
11700                        		__ld.um		__update_PLAYER_end - 2  /* i */
         01:CF25  AD 0B 23   			lda	__update_PLAYER_end - 2
         01:CF28  C2         			cly
11701                        		__pusharg.wr
         01:CF29  A6 8D      			ldx	<__sp
         01:CF2B  CA         			dex
         01:CF2C  CA         			dex
         01:CF2D  95 08      			sta.l	<__stack, x
         01:CF2F  94 09      			sty.h	<__stack, x
         01:CF31  86 8D      			stx	<__sp
11702                        		__call		_check_TILE_DEPTH
         01:CF33  20 27 FF   			call	_check_TILE_DEPTH
11703                        	
11704                        		.dbg	line,	"include\routines_LEVELS.c", 1945; if(map_blk_flag == TILE_EMPTY)
11705                        		__not.um	_map_blk_flag
         01:CF36  AD DF 2B   			lda	_map_blk_flag
         01:CF39  18         			clc
         01:CF3A  D0 01      			bne	!+
         01:CF3C  38         			sec
         01:CF3D             	!:
11706                        		__bfalse	.LL547
         01:CF3D  90 D4      			bcc	.LL547
11707                        	
11708                        		.dbg	line,	"include\routines_LEVELS.c", 1946; {
11709                        	
11710                        		.dbg	line,	"include\routines_LEVELS.c", 1947; if(player_pos_y != PLAYER_BASE_Y_POS)
11711                        		__ld.wm		_player_pos_y
         01:CF3F  AD DD 24   			lda.l	_player_pos_y
         01:CF42  AC DE 24   			ldy.h	_player_pos_y
11712                        		__neq_w.wi	128
         01:CF45  38         			sec
         01:CF46  49 80      			eor.l	#128
         01:CF48  D0 06      			bne	!+
         01:CF4A  98         			tya
         01:CF4B  49 00      			eor.h	#128
         01:CF4D  D0 01      			bne	!+
         01:CF4F  18         			clc
         01:CF50             	!:
11713                        		__bfalse	.LL548
         01:CF50  90 1E      			bcc	.LL548
11714                        	
11715                        		.dbg	line,	"include\routines_LEVELS.c", 1948; {
11716                        	
11717                        		.dbg	line,	"include\routines_LEVELS.c", 1949; player_pos_y -= (i - 1);
11718                        		__ld.um		__update_PLAYER_end - 2  /* i */
         01:CF52  AD 0B 23   			lda	__update_PLAYER_end - 2
         01:CF55  C2         			cly
11719                        		__sub.wi	1
         01:CF56  38         			sec
         01:CF57  E9 01      			sbc.l	#1
         01:CF59  B0 01      			bcs	!+
         01:CF5B  88         			dey
         01:CF5C             	!:
11720                        		__isub_st.wmq	_player_pos_y
         01:CF5C  38         			sec
         01:CF5D  49 FF      			eor	#$FF
         01:CF5F  6D DD 24   			adc.l	_player_pos_y
         01:CF62  8D DD 24   			sta.l	_player_pos_y
         01:CF65  98         			tya
         01:CF66  49 FF      			eor	#$FF
         01:CF68  6D DE 24   			adc.h	_player_pos_y
         01:CF6B  8D DE 24   			sta.h	_player_pos_y
11721                        	
11722                        		.dbg	line,	"include\routines_LEVELS.c", 1950; }
11723                        	
11724                        		.dbg	line,	"include\routines_LEVELS.c", 1952; else
11725                        		__bra		.LL549
         01:CF6E  80 20      			bra	.LL549
11726    01:CF70             	.LL548:
11727                        	
11728                        		.dbg	line,	"include\routines_LEVELS.c", 1953; {
11729                        	
11730                        		.dbg	line,	"include\routines_LEVELS.c", 1954; sgx_map_pxl_y -= (i - 1);
11731                        		__ld.um		__update_PLAYER_end - 2  /* i */
         01:CF70  AD 0B 23   			lda	__update_PLAYER_end - 2
         01:CF73  C2         			cly
11732                        		__sub.wi	1
         01:CF74  38         			sec
         01:CF75  E9 01      			sbc.l	#1
         01:CF77  B0 01      			bcs	!+
         01:CF79  88         			dey
         01:CF7A             	!:
11733                        		__isub_st.wmq	_sgx_map_pxl_y
         01:CF7A  38         			sec
         01:CF7B  49 FF      			eor	#$FF
         01:CF7D  6D C0 26   			adc.l	_sgx_map_pxl_y
         01:CF80  8D C0 26   			sta.l	_sgx_map_pxl_y
         01:CF83  98         			tya
         01:CF84  49 FF      			eor	#$FF
         01:CF86  6D C1 26   			adc.h	_sgx_map_pxl_y
         01:CF89  8D C1 26   			sta.h	_sgx_map_pxl_y
11734                        	
11735                        		.dbg	line,	"include\routines_LEVELS.c", 1955; }
11736    01:CF8C             	.LL549	.alias		.LL546
11737                        	
11738                        		.dbg	line,	"include\routines_LEVELS.c", 1957; break;
11739                        		__bra		.LL546
         01:CF8C  80 02      			bra	.LL546
11740                        	
11741                        		.dbg	line,	"include\routines_LEVELS.c", 1958; }
11742                        	
11743                        		.dbg	line,	"include\routines_LEVELS.c", 1959; }
11744    01:CF8E             	.LL547	.alias		.LL544
11745                        		__bra		.LL544
         01:CF8E  80 83      			bra	.LL544
11746    01:CF90             	.LL546:
11747                        	
11748                        		.dbg	line,	"include\routines_LEVELS.c", 1961; // SET PLAYER SPRITE NEW POSITION //
11749                        	
11750                        		.dbg	line,	"include\routines_LEVELS.c", 1962; spr_y(player_pos_y);
11751                        		__ld.wm		_player_pos_y
         01:CF90  AD DD 24   			lda.l	_player_pos_y
         01:CF93  AC DE 24   			ldy.h	_player_pos_y
11752                        		__call		_spr_y.1
         01:CF96  20 19 E8   			call	_spr_y.1
11753                        	
11754                        		.dbg	line,	"include\routines_LEVELS.c", 1964; spr_set(weapon_id);
11755                        		__ld.umq	_weapon_id
         01:CF99  AD 26 23   			lda	_weapon_id
11756                        		__call		_spr_set.1
         01:CF9C  20 DD E7   			call	_spr_set.1
11757                        	
11758                        		.dbg	line,	"include\routines_LEVELS.c", 1965; spr_y(player_pos_y+8);
11759                        		__ld.wm		_player_pos_y
         01:CF9F  AD DD 24   			lda.l	_player_pos_y
         01:CFA2  AC DE 24   			ldy.h	_player_pos_y
11760                        		__add.wi	8
         01:CFA5  18         			clc
         01:CFA6  69 08      			adc.l	#8
         01:CFA8  90 01      			bcc	!+
         01:CFAA  C8         			iny
         01:CFAB             	!:
11761                        		__call		_spr_y.1
         01:CFAB  20 19 E8   			call	_spr_y.1
11762                        	
11763                        		.dbg	line,	"include\routines_LEVELS.c", 1967; player_counter_anim = 1;
11764                        		__st.umiq	1, _player_counter_anim
         01:CFAE  A9 01      			lda.l	#1
         01:CFB0  8D 1B 23   			sta	_player_counter_anim
11765                        	
11766                        		.dbg	line,	"include\routines_LEVELS.c", 1968; player_index_jump = 0;
11767                        		__st.umiq	0, _player_index_jump
         01:CFB3  9C 1C 23   			stz	_player_index_jump
11768                        	
11769                        		.dbg	line,	"include\routines_LEVELS.c", 1969; jump_ladder = FALSE;
11770                        		__st.umiq	0, _jump_ladder
         01:CFB6  9C 21 23   			stz	_jump_ladder
11771                        	
11772                        		.dbg	line,	"include\routines_LEVELS.c", 1970; hit_wall = FALSE;
11773                        		__st.umiq	0, _hit_wall
         01:CFB9  9C 24 23   			stz	_hit_wall
11774                        	
11775                        		.dbg	line,	"include\routines_LEVELS.c", 1971; jump_max_index = 34;
11776                        		__st.umiq	34, _jump_max_index
         01:CFBC  A9 22      			lda.l	#34
         01:CFBE  8D 22 23   			sta	_jump_max_index
11777                        	
11778                        		.dbg	line,	"include\routines_LEVELS.c", 1972; player_state = STATE_IDLE;
11779                        		__st.umiq	0, _player_state
         01:CFC1  9C 18 23   			stz	_player_state
11780                        	
11781                        		.dbg	line,	"include\routines_LEVELS.c", 1973; return;
11782                        		__bra		.LL422
         01:CFC4  4C 4F DC   			bra	.LL422
11783                        	
11784                        		.dbg	line,	"include\routines_LEVELS.c", 1974; }
11785                        	
11786                        		.dbg	line,	"include\routines_LEVELS.c", 1976; // IF PLAYER TOUCHES THE GROUND TO THE RIGHT //
11787                        	
11788                        		.dbg	line,	"include\routines_LEVELS.c", 1977; else
11789    01:CFC7             	.LL542:
11790                        	
11791                        		.dbg	line,	"include\routines_LEVELS.c", 1978; {
11792                        	
11793                        		.dbg	line,	"include\routines_LEVELS.c", 1979; // CHECK COLLISION WITH RIGHT FLOOR //
11794                        	
11795                        		.dbg	line,	"include\routines_LEVELS.c", 1980; check_BG( 22 , 32 );
11796                        		__ld.wi		22
         01:CFC7  A9 16      			lda.l	#22
         01:CFC9  C2         			cly
11797                        		__pusharg.wr
         01:CFCA  A6 8D      			ldx	<__sp
         01:CFCC  CA         			dex
         01:CFCD  CA         			dex
         01:CFCE  95 08      			sta.l	<__stack, x
         01:CFD0  94 09      			sty.h	<__stack, x
         01:CFD2  86 8D      			stx	<__sp
11798                        		__ld.wi		32
         01:CFD4  A9 20      			lda.l	#32
         01:CFD6  C2         			cly
11799                        		__pusharg.wr
         01:CFD7  A6 8D      			ldx	<__sp
         01:CFD9  CA         			dex
         01:CFDA  CA         			dex
         01:CFDB  95 08      			sta.l	<__stack, x
         01:CFDD  94 09      			sty.h	<__stack, x
         01:CFDF  86 8D      			stx	<__sp
11800                        		__call		_check_BG
         01:CFE1  20 3B FF   			call	_check_BG
11801                        	
11802                        		.dbg	line,	"include\routines_LEVELS.c", 1982; if(map_blk_flag == TILE_BG)
11803                        		__ld.umq	_map_blk_flag
         01:CFE4  AD DF 2B   			lda	_map_blk_flag
11804                        		__equ_b.uiq	1
         01:CFE7  C9 01      			cmp	#1
         01:CFE9  F0 01      			beq	!+
         01:CFEB  18         			clc
         01:CFEC             	!:
11805                        		__bfalse	.LL551
         01:CFEC  B0 03 4C B7			bcc	.LL551
         01:CFF0  D0          
11806                        	
11807                        		.dbg	line,	"include\routines_LEVELS.c", 1983; {
11808                        	
11809                        		.dbg	line,	"include\routines_LEVELS.c", 1984; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
11810                        	
11811                        		.dbg	line,	"include\routines_LEVELS.c", 1985; for(i=1; i<11 ; i++)
11812                        		__st.umiq	1, __update_PLAYER_end - 2  /* i */
         01:CFF1  A9 01      			lda.l	#1
         01:CFF3  8D 0B 23   			sta	__update_PLAYER_end - 2
11813    01:CFF6             	.LL552:
11814                        		__ld.umq	__update_PLAYER_end - 2  /* i */
         01:CFF6  AD 0B 23   			lda	__update_PLAYER_end - 2
11815                        		__ult_b.uiq	11
         01:CFF9  C9 0B      			cmp	#11		; Subtract integer from A.
         01:CFFB  6A         			ror	a		; CC if A < integer.
         01:CFFC  49 80      			eor	#$80
         01:CFFE  2A         			rol	a
11816                        		__btrue		.LL554
         01:CFFF  B0 07      			bcs	.LL554
11817                        		__bra		.LL555
         01:D001  80 7D      			bra	.LL555
11818    01:D003             	.LL553:
11819                        		__inc.umq	__update_PLAYER_end - 2  /* i */
         01:D003  EE 0B 23   			inc	__update_PLAYER_end - 2
11820                        		__bra		.LL552
         01:D006  80 EE      			bra	.LL552
11821    01:D008             	.LL554:
11822                        	
11823                        		.dbg	line,	"include\routines_LEVELS.c", 1986; {
11824                        	
11825                        		.dbg	line,	"include\routines_LEVELS.c", 1987; check_TILE_DEPTH( 22 , i);
11826                        		__ld.wi		22
         01:D008  A9 16      			lda.l	#22
         01:D00A  C2         			cly
11827                        		__pusharg.wr
         01:D00B  A6 8D      			ldx	<__sp
         01:D00D  CA         			dex
         01:D00E  CA         			dex
         01:D00F  95 08      			sta.l	<__stack, x
         01:D011  94 09      			sty.h	<__stack, x
         01:D013  86 8D      			stx	<__sp
11828                        		__ld.um		__update_PLAYER_end - 2  /* i */
         01:D015  AD 0B 23   			lda	__update_PLAYER_end - 2
         01:D018  C2         			cly
11829                        		__pusharg.wr
         01:D019  A6 8D      			ldx	<__sp
         01:D01B  CA         			dex
         01:D01C  CA         			dex
         01:D01D  95 08      			sta.l	<__stack, x
         01:D01F  94 09      			sty.h	<__stack, x
         01:D021  86 8D      			stx	<__sp
11830                        		__call		_check_TILE_DEPTH
         01:D023  20 27 FF   			call	_check_TILE_DEPTH
11831                        	
11832                        		.dbg	line,	"include\routines_LEVELS.c", 1989; if(map_blk_flag == TILE_EMPTY)
11833                        		__not.um	_map_blk_flag
         01:D026  AD DF 2B   			lda	_map_blk_flag
         01:D029  18         			clc
         01:D02A  D0 01      			bne	!+
         01:D02C  38         			sec
         01:D02D             	!:
11834                        		__bfalse	.LL556
         01:D02D  90 D4      			bcc	.LL556
11835                        	
11836                        		.dbg	line,	"include\routines_LEVELS.c", 1990; {
11837                        	
11838                        		.dbg	line,	"include\routines_LEVELS.c", 1991; if(player_pos_y != PLAYER_BASE_Y_POS)
11839                        		__ld.wm		_player_pos_y
         01:D02F  AD DD 24   			lda.l	_player_pos_y
         01:D032  AC DE 24   			ldy.h	_player_pos_y
11840                        		__neq_w.wi	128
         01:D035  38         			sec
         01:D036  49 80      			eor.l	#128
         01:D038  D0 06      			bne	!+
         01:D03A  98         			tya
         01:D03B  49 00      			eor.h	#128
         01:D03D  D0 01      			bne	!+
         01:D03F  18         			clc
         01:D040             	!:
11841                        		__bfalse	.LL557
         01:D040  90 1E      			bcc	.LL557
11842                        	
11843                        		.dbg	line,	"include\routines_LEVELS.c", 1992; {
11844                        	
11845                        		.dbg	line,	"include\routines_LEVELS.c", 1993; player_pos_y -= (i - 1);
11846                        		__ld.um		__update_PLAYER_end - 2  /* i */
         01:D042  AD 0B 23   			lda	__update_PLAYER_end - 2
         01:D045  C2         			cly
11847                        		__sub.wi	1
         01:D046  38         			sec
         01:D047  E9 01      			sbc.l	#1
         01:D049  B0 01      			bcs	!+
         01:D04B  88         			dey
         01:D04C             	!:
11848                        		__isub_st.wmq	_player_pos_y
         01:D04C  38         			sec
         01:D04D  49 FF      			eor	#$FF
         01:D04F  6D DD 24   			adc.l	_player_pos_y
         01:D052  8D DD 24   			sta.l	_player_pos_y
         01:D055  98         			tya
         01:D056  49 FF      			eor	#$FF
         01:D058  6D DE 24   			adc.h	_player_pos_y
         01:D05B  8D DE 24   			sta.h	_player_pos_y
11849                        	
11850                        		.dbg	line,	"include\routines_LEVELS.c", 1994; }
11851                        	
11852                        		.dbg	line,	"include\routines_LEVELS.c", 1996; else
11853                        		__bra		.LL558
         01:D05E  80 20      			bra	.LL558
11854    01:D060             	.LL557:
11855                        	
11856                        		.dbg	line,	"include\routines_LEVELS.c", 1997; {
11857                        	
11858                        		.dbg	line,	"include\routines_LEVELS.c", 1998; sgx_map_pxl_y -= (i - 1);
11859                        		__ld.um		__update_PLAYER_end - 2  /* i */
         01:D060  AD 0B 23   			lda	__update_PLAYER_end - 2
         01:D063  C2         			cly
11860                        		__sub.wi	1
         01:D064  38         			sec
         01:D065  E9 01      			sbc.l	#1
         01:D067  B0 01      			bcs	!+
         01:D069  88         			dey
         01:D06A             	!:
11861                        		__isub_st.wmq	_sgx_map_pxl_y
         01:D06A  38         			sec
         01:D06B  49 FF      			eor	#$FF
         01:D06D  6D C0 26   			adc.l	_sgx_map_pxl_y
         01:D070  8D C0 26   			sta.l	_sgx_map_pxl_y
         01:D073  98         			tya
         01:D074  49 FF      			eor	#$FF
         01:D076  6D C1 26   			adc.h	_sgx_map_pxl_y
         01:D079  8D C1 26   			sta.h	_sgx_map_pxl_y
11862                        	
11863                        		.dbg	line,	"include\routines_LEVELS.c", 1999; }
11864    01:D07C             	.LL558	.alias		.LL555
11865                        	
11866                        		.dbg	line,	"include\routines_LEVELS.c", 2001; break;
11867                        		__bra		.LL555
         01:D07C  80 02      			bra	.LL555
11868                        	
11869                        		.dbg	line,	"include\routines_LEVELS.c", 2002; }
11870                        	
11871                        		.dbg	line,	"include\routines_LEVELS.c", 2003; }
11872    01:D07E             	.LL556	.alias		.LL553
11873                        		__bra		.LL553
         01:D07E  80 83      			bra	.LL553
11874    01:D080             	.LL555:
11875                        	
11876                        		.dbg	line,	"include\routines_LEVELS.c", 2005; // SET PLAYER SPRITE NEW POSITION //
11877                        	
11878                        		.dbg	line,	"include\routines_LEVELS.c", 2006; spr_y(player_pos_y);
11879                        		__ld.wm		_player_pos_y
         01:D080  AD DD 24   			lda.l	_player_pos_y
         01:D083  AC DE 24   			ldy.h	_player_pos_y
11880                        		__call		_spr_y.1
         01:D086  20 19 E8   			call	_spr_y.1
11881                        	
11882                        		.dbg	line,	"include\routines_LEVELS.c", 2008; spr_set(weapon_id);
11883                        		__ld.umq	_weapon_id
         01:D089  AD 26 23   			lda	_weapon_id
11884                        		__call		_spr_set.1
         01:D08C  20 DD E7   			call	_spr_set.1
11885                        	
11886                        		.dbg	line,	"include\routines_LEVELS.c", 2009; spr_y(player_pos_y+8);
11887                        		__ld.wm		_player_pos_y
         01:D08F  AD DD 24   			lda.l	_player_pos_y
         01:D092  AC DE 24   			ldy.h	_player_pos_y
11888                        		__add.wi	8
         01:D095  18         			clc
         01:D096  69 08      			adc.l	#8
         01:D098  90 01      			bcc	!+
         01:D09A  C8         			iny
         01:D09B             	!:
11889                        		__call		_spr_y.1
         01:D09B  20 19 E8   			call	_spr_y.1
11890                        	
11891                        		.dbg	line,	"include\routines_LEVELS.c", 2011; player_counter_anim = 1;
11892                        		__st.umiq	1, _player_counter_anim
         01:D09E  A9 01      			lda.l	#1
         01:D0A0  8D 1B 23   			sta	_player_counter_anim
11893                        	
11894                        		.dbg	line,	"include\routines_LEVELS.c", 2012; player_index_jump = 0;
11895                        		__st.umiq	0, _player_index_jump
         01:D0A3  9C 1C 23   			stz	_player_index_jump
11896                        	
11897                        		.dbg	line,	"include\routines_LEVELS.c", 2013; jump_ladder = FALSE;
11898                        		__st.umiq	0, _jump_ladder
         01:D0A6  9C 21 23   			stz	_jump_ladder
11899                        	
11900                        		.dbg	line,	"include\routines_LEVELS.c", 2014; hit_wall = FALSE;
11901                        		__st.umiq	0, _hit_wall
         01:D0A9  9C 24 23   			stz	_hit_wall
11902                        	
11903                        		.dbg	line,	"include\routines_LEVELS.c", 2015; jump_max_index = 34;
11904                        		__st.umiq	34, _jump_max_index
         01:D0AC  A9 22      			lda.l	#34
         01:D0AE  8D 22 23   			sta	_jump_max_index
11905                        	
11906                        		.dbg	line,	"include\routines_LEVELS.c", 2016; player_state = STATE_IDLE;
11907                        		__st.umiq	0, _player_state
         01:D0B1  9C 18 23   			stz	_player_state
11908                        	
11909                        		.dbg	line,	"include\routines_LEVELS.c", 2017; return;
11910                        		__bra		.LL422
         01:D0B4  4C 4F DC   			bra	.LL422
11911                        	
11912                        		.dbg	line,	"include\routines_LEVELS.c", 2018; }
11913                        	
11914                        		.dbg	line,	"include\routines_LEVELS.c", 2019; }
11915    01:D0B7             	.LL551:
11916    01:D0B7             	.LL550:
11917                        	
11918                        		.dbg	line,	"include\routines_LEVELS.c", 2020; }
11919                        	
11920                        		.dbg	line,	"include\routines_LEVELS.c", 2025; //--------------------------------------------------------------------------------------//
11921                        	
11922                        		.dbg	line,	"include\routines_LEVELS.c", 2026; //                                   LADDER COLLISION                                   //
11923                        	
11924                        		.dbg	line,	"include\routines_LEVELS.c", 2027; //--------------------------------------------------------------------------------------//
11925                        	
11926                        		.dbg	line,	"include\routines_LEVELS.c", 2029; if(player_index_jump > 4)
11927    01:D0B7             	.LL541:
11928                        		__ld.umq	_player_index_jump
         01:D0B7  AD 1C 23   			lda	_player_index_jump
11929                        		__ugt_b.uiq	4
         01:D0BA  18         			clc			; Subtract integer+1 from A.
         01:D0BB  E9 04      			sbc	#4		; CS if A > integer.
11930                        		__bfalse	.LL559
         01:D0BD  B0 03 4C 52			bcc	.LL559
         01:D0C1  D1          
11931                        	
11932                        		.dbg	line,	"include\routines_LEVELS.c", 2030; {
11933                        	
11934                        		.dbg	line,	"include\routines_LEVELS.c", 2031; check_BG( 16 , 16 );
11935                        		__ld.wi		16
         01:D0C2  A9 10      			lda.l	#16
         01:D0C4  C2         			cly
11936                        		__pusharg.wr
         01:D0C5  A6 8D      			ldx	<__sp
         01:D0C7  CA         			dex
         01:D0C8  CA         			dex
         01:D0C9  95 08      			sta.l	<__stack, x
         01:D0CB  94 09      			sty.h	<__stack, x
         01:D0CD  86 8D      			stx	<__sp
11937                        		__ld.wi		16
         01:D0CF  A9 10      			lda.l	#16
         01:D0D1  C2         			cly
11938                        		__pusharg.wr
         01:D0D2  A6 8D      			ldx	<__sp
         01:D0D4  CA         			dex
         01:D0D5  CA         			dex
         01:D0D6  95 08      			sta.l	<__stack, x
         01:D0D8  94 09      			sty.h	<__stack, x
         01:D0DA  86 8D      			stx	<__sp
11939                        		__call		_check_BG
         01:D0DC  20 3B FF   			call	_check_BG
11940                        	
11941                        		.dbg	line,	"include\routines_LEVELS.c", 2033; // IF PLAYER HITS THE LADDER //
11942                        	
11943                        		.dbg	line,	"include\routines_LEVELS.c", 2034; if(map_blk_flag == TILE_LADDER)
11944                        		__ld.umq	_map_blk_flag
         01:D0DF  AD DF 2B   			lda	_map_blk_flag
11945                        		__equ_b.uiq	2
         01:D0E2  C9 02      			cmp	#2
         01:D0E4  F0 01      			beq	!+
         01:D0E6  18         			clc
         01:D0E7             	!:
11946                        		__bfalse	.LL560
         01:D0E7  90 69      			bcc	.LL560
11947                        	
11948                        		.dbg	line,	"include\routines_LEVELS.c", 2035; {
11949                        	
11950                        		.dbg	line,	"include\routines_LEVELS.c", 2036; // CAMERA GOES 8 PX BACKWARD //
11951                        	
11952                        		.dbg	line,	"include\routines_LEVELS.c", 2037; sgx_map_pxl_x = ( (sgx_map_pxl_x >> 3) << 3 );
11953                        		__ld.wm		_sgx_map_pxl_x
         01:D0E9  AD BE 26   			lda.l	_sgx_map_pxl_x
         01:D0EC  AC BF 26   			ldy.h	_sgx_map_pxl_x
11954                        		__lsr.wi	3
         01:D0EF  84 00      			sty	__temp
         01:D0F1  20 3A E2   			jsr	lsrw3
11955                        		__asl.wi	3
         01:D0F4  84 00      			sty	__temp
         01:D0F6  20 D7 E1   			jsr	aslw3
11956                        		__st.wmq	_sgx_map_pxl_x
         01:D0F9  8D BE 26   			sta.l	_sgx_map_pxl_x
         01:D0FC  8C BF 26   			sty.h	_sgx_map_pxl_x
11957                        	
11958                        		.dbg	line,	"include\routines_LEVELS.c", 2039; // SO WE UPDATE THE MAP //
11959                        	
11960                        		.dbg	line,	"include\routines_LEVELS.c", 2040; sgx_scroll_map();
11961                        		__call		_sgx_scroll_map
         01:D0FF  20 4F FF   			call	_sgx_scroll_map
11962                        	
11963                        		.dbg	line,	"include\routines_LEVELS.c", 2042; // CHECK IF THE PLAYER STANDS RIGHT TO THE LADDER //
11964                        	
11965                        		.dbg	line,	"include\routines_LEVELS.c", 2043; check_BG( 31 , 16 );
11966                        		__ld.wi		31
         01:D102  A9 1F      			lda.l	#31
         01:D104  C2         			cly
11967                        		__pusharg.wr
         01:D105  A6 8D      			ldx	<__sp
         01:D107  CA         			dex
         01:D108  CA         			dex
         01:D109  95 08      			sta.l	<__stack, x
         01:D10B  94 09      			sty.h	<__stack, x
         01:D10D  86 8D      			stx	<__sp
11968                        		__ld.wi		16
         01:D10F  A9 10      			lda.l	#16
         01:D111  C2         			cly
11969                        		__pusharg.wr
         01:D112  A6 8D      			ldx	<__sp
         01:D114  CA         			dex
         01:D115  CA         			dex
         01:D116  95 08      			sta.l	<__stack, x
         01:D118  94 09      			sty.h	<__stack, x
         01:D11A  86 8D      			stx	<__sp
11970                        		__call		_check_BG
         01:D11C  20 3B FF   			call	_check_BG
11971                        	
11972                        		.dbg	line,	"include\routines_LEVELS.c", 2045; if(map_blk_flag == TILE_LADDER)
11973                        		__ld.umq	_map_blk_flag
         01:D11F  AD DF 2B   			lda	_map_blk_flag
11974                        		__equ_b.uiq	2
         01:D122  C9 02      			cmp	#2
         01:D124  F0 01      			beq	!+
         01:D126  18         			clc
         01:D127             	!:
11975                        		__bfalse	.LL561
         01:D127  90 0E      			bcc	.LL561
11976                        	
11977                        		.dbg	line,	"include\routines_LEVELS.c", 2046; {
11978                        	
11979                        		.dbg	line,	"include\routines_LEVELS.c", 2047; sgx_map_pxl_x += 8;
11980                        		__add_st.wmiq	8, _sgx_map_pxl_x
         01:D129  18         			clc
         01:D12A  AD BE 26   			lda.l	_sgx_map_pxl_x
         01:D12D  69 08      			adc.l	#8
         01:D12F  8D BE 26   			sta.l	_sgx_map_pxl_x
         01:D132  90 03      			bcc	!+
         01:D134  EE BF 26   			inc.h	_sgx_map_pxl_x
         01:D137             	!:
11981                        	
11982                        		.dbg	line,	"include\routines_LEVELS.c", 2048; }
11983                        	
11984                        		.dbg	line,	"include\routines_LEVELS.c", 2050; spr_pattern(PLAYER_HANG_VRAM_ADR);
11985    01:D137             	.LL561:
11986                        		__ld.wi		7424
         01:D137  62         			cla
         01:D138  A0 1D      			ldy.h	#7424
11987                        		__call		_spr_pattern.1
         01:D13A  20 26 E8   			call	_spr_pattern.1
11988                        	
11989                        		.dbg	line,	"include\routines_LEVELS.c", 2051; player_counter_anim = 0;
11990                        		__st.umiq	0, _player_counter_anim
         01:D13D  9C 1B 23   			stz	_player_counter_anim
11991                        	
11992                        		.dbg	line,	"include\routines_LEVELS.c", 2052; player_index_jump = 0;
11993                        		__st.umiq	0, _player_index_jump
         01:D140  9C 1C 23   			stz	_player_index_jump
11994                        	
11995                        		.dbg	line,	"include\routines_LEVELS.c", 2053; jump_ladder = TRUE;
11996                        		__st.umiq	1, _jump_ladder
         01:D143  A9 01      			lda.l	#1
         01:D145  8D 21 23   			sta	_jump_ladder
11997                        	
11998                        		.dbg	line,	"include\routines_LEVELS.c", 2054; jump_max_index = 29;
11999                        		__st.umiq	29, _jump_max_index
         01:D148  A9 1D      			lda.l	#29
         01:D14A  8D 22 23   			sta	_jump_max_index
12000                        	
12001                        		.dbg	line,	"include\routines_LEVELS.c", 2055; player_state = STATE_HANG;
12002                        		__st.umiq	10, _player_state
         01:D14D  A9 0A      			lda.l	#10
         01:D14F  8D 18 23   			sta	_player_state
12003                        	
12004                        		.dbg	line,	"include\routines_LEVELS.c", 2056; }
12005                        	
12006                        		.dbg	line,	"include\routines_LEVELS.c", 2057; }
12007    01:D152             	.LL560:
12008                        	
12009                        		.dbg	line,	"include\routines_LEVELS.c", 2060; // SET PLAYER SPRITE NEW POSITION //
12010                        	
12011                        		.dbg	line,	"include\routines_LEVELS.c", 2061; spr_y(player_pos_y);
12012    01:D152             	.LL559:
12013                        		__ld.wm		_player_pos_y
         01:D152  AD DD 24   			lda.l	_player_pos_y
         01:D155  AC DE 24   			ldy.h	_player_pos_y
12014                        		__call		_spr_y.1
         01:D158  20 19 E8   			call	_spr_y.1
12015                        	
12016                        		.dbg	line,	"include\routines_LEVELS.c", 2062; spr_set(weapon_id);
12017                        		__ld.umq	_weapon_id
         01:D15B  AD 26 23   			lda	_weapon_id
12018                        		__call		_spr_set.1
         01:D15E  20 DD E7   			call	_spr_set.1
12019                        	
12020                        		.dbg	line,	"include\routines_LEVELS.c", 2063; spr_y(player_pos_y+8);
12021                        		__ld.wm		_player_pos_y
         01:D161  AD DD 24   			lda.l	_player_pos_y
         01:D164  AC DE 24   			ldy.h	_player_pos_y
12022                        		__add.wi	8
         01:D167  18         			clc
         01:D168  69 08      			adc.l	#8
         01:D16A  90 01      			bcc	!+
         01:D16C  C8         			iny
         01:D16D             	!:
12023                        		__call		_spr_y.1
         01:D16D  20 19 E8   			call	_spr_y.1
12024                        	
12025                        		.dbg	line,	"include\routines_LEVELS.c", 2064; }
12026                        	
12027                        		.dbg	line,	"include\routines_LEVELS.c", 2067; else if(player_state == STATE_JUMP_LEFT)
12028                        		__bra		.LL562
         01:D170  4C 4F DC   			bra	.LL562
12029    01:D173             	.LL526:
12030                        		__ld.umq	_player_state
         01:D173  AD 18 23   			lda	_player_state
12031                        		__equ_b.uiq	6
         01:D176  C9 06      			cmp	#6
         01:D178  F0 01      			beq	!+
         01:D17A  18         			clc
         01:D17B             	!:
12032                        		__bfalse	.LL563
         01:D17B  B0 03 4C DC			bcc	.LL563
         01:D17F  D5          
12033                        	
12034                        		.dbg	line,	"include\routines_LEVELS.c", 2068; {
12035                        	
12036                        		.dbg	line,	"include\routines_LEVELS.c", 2069; unsigned char i, camera_y_move;
12037                        	
12038                        		.dbg	line,	"include\routines_LEVELS.c", 2070; i = 1;
12039                        		__st.umiq	1, __update_PLAYER_end - 4  /* i */
         01:D180  A9 01      			lda.l	#1
         01:D182  8D 09 23   			sta	__update_PLAYER_end - 4
12040                        	
12041                        		.dbg	line,	"include\routines_LEVELS.c", 2073; // UPDATE PLAYER TILES //
12042                        	
12043                        		.dbg	line,	"include\routines_LEVELS.c", 2074; if(player_counter_anim == 0)
12044                        		__not.um	_player_counter_anim
         01:D185  AD 1B 23   			lda	_player_counter_anim
         01:D188  18         			clc
         01:D189  D0 01      			bne	!+
         01:D18B  38         			sec
         01:D18C             	!:
12045                        		__bfalse	.LL564
         01:D18C  90 11      			bcc	.LL564
12046                        	
12047                        		.dbg	line,	"include\routines_LEVELS.c", 2075; {
12048                        	
12049                        		.dbg	line,	"include\routines_LEVELS.c", 2076; spr_set(player_id);
12050                        		__ld.umq	_player_id
         01:D18E  AD 17 23   			lda	_player_id
12051                        		__call		_spr_set.1
         01:D191  20 DD E7   			call	_spr_set.1
12052                        	
12053                        		.dbg	line,	"include\routines_LEVELS.c", 2077; spr_pattern(PLAYER_JUMP_VRAM_ADR);
12054                        		__ld.wi		6912
         01:D194  62         			cla
         01:D195  A0 1B      			ldy.h	#6912
12055                        		__call		_spr_pattern.1
         01:D197  20 26 E8   			call	_spr_pattern.1
12056                        	
12057                        		.dbg	line,	"include\routines_LEVELS.c", 2079; player_counter_anim = 1;
12058                        		__st.umiq	1, _player_counter_anim
         01:D19A  A9 01      			lda.l	#1
         01:D19C  8D 1B 23   			sta	_player_counter_anim
12059                        	
12060                        		.dbg	line,	"include\routines_LEVELS.c", 2080; }
12061                        	
12062                        		.dbg	line,	"include\routines_LEVELS.c", 2083; // SELECT PLAYER SPRITE //
12063                        	
12064                        		.dbg	line,	"include\routines_LEVELS.c", 2084; spr_set(player_id);
12065    01:D19F             	.LL564:
12066                        		__ld.umq	_player_id
         01:D19F  AD 17 23   			lda	_player_id
12067                        		__call		_spr_set.1
         01:D1A2  20 DD E7   			call	_spr_set.1
12068                        	
12069                        		.dbg	line,	"include\routines_LEVELS.c", 2087; //**************************************************************************************//
12070                        	
12071                        		.dbg	line,	"include\routines_LEVELS.c", 2088; //                                        H MOVE                                        //
12072                        	
12073                        		.dbg	line,	"include\routines_LEVELS.c", 2089; //**************************************************************************************//
12074                        	
12075                        		.dbg	line,	"include\routines_LEVELS.c", 2091; //--------------------------------------------------------------------------------------//
12076                        	
12077                        		.dbg	line,	"include\routines_LEVELS.c", 2092; //                                    WALL COLLISION                                    //
12078                        	
12079                        		.dbg	line,	"include\routines_LEVELS.c", 2093; //--------------------------------------------------------------------------------------//
12080                        	
12081                        		.dbg	line,	"include\routines_LEVELS.c", 2095; // CHECK COLLISION WITH BOTTOM LEFT WALL //
12082                        	
12083                        		.dbg	line,	"include\routines_LEVELS.c", 2096; check_BG( 8 , 31 );
12084                        		__ld.wi		8
         01:D1A5  A9 08      			lda.l	#8
         01:D1A7  C2         			cly
12085                        		__pusharg.wr
         01:D1A8  A6 8D      			ldx	<__sp
         01:D1AA  CA         			dex
         01:D1AB  CA         			dex
         01:D1AC  95 08      			sta.l	<__stack, x
         01:D1AE  94 09      			sty.h	<__stack, x
         01:D1B0  86 8D      			stx	<__sp
12086                        		__ld.wi		31
         01:D1B2  A9 1F      			lda.l	#31
         01:D1B4  C2         			cly
12087                        		__pusharg.wr
         01:D1B5  A6 8D      			ldx	<__sp
         01:D1B7  CA         			dex
         01:D1B8  CA         			dex
         01:D1B9  95 08      			sta.l	<__stack, x
         01:D1BB  94 09      			sty.h	<__stack, x
         01:D1BD  86 8D      			stx	<__sp
12088                        		__call		_check_BG
         01:D1BF  20 3B FF   			call	_check_BG
12089                        	
12090                        		.dbg	line,	"include\routines_LEVELS.c", 2098; if(map_blk_flag != TILE_BG)
12091                        		__ld.umq	_map_blk_flag
         01:D1C2  AD DF 2B   			lda	_map_blk_flag
12092                        		__neq_b.uiq	1
         01:D1C5  38         			sec
         01:D1C6  49 01      			eor	#1
         01:D1C8  D0 01      			bne	!+
         01:D1CA  18         			clc
         01:D1CB             	!:
12093                        		__bfalse	.LL565
         01:D1CB  90 78      			bcc	.LL565
12094                        	
12095                        		.dbg	line,	"include\routines_LEVELS.c", 2099; {
12096                        	
12097                        		.dbg	line,	"include\routines_LEVELS.c", 2100; // CHECK COLLISION WITH TOP RIGHT WALL //
12098                        	
12099                        		.dbg	line,	"include\routines_LEVELS.c", 2101; check_BG( 8 , 15 );
12100                        		__ld.wi		8
         01:D1CD  A9 08      			lda.l	#8
         01:D1CF  C2         			cly
12101                        		__pusharg.wr
         01:D1D0  A6 8D      			ldx	<__sp
         01:D1D2  CA         			dex
         01:D1D3  CA         			dex
         01:D1D4  95 08      			sta.l	<__stack, x
         01:D1D6  94 09      			sty.h	<__stack, x
         01:D1D8  86 8D      			stx	<__sp
12102                        		__ld.wi		15
         01:D1DA  A9 0F      			lda.l	#15
         01:D1DC  C2         			cly
12103                        		__pusharg.wr
         01:D1DD  A6 8D      			ldx	<__sp
         01:D1DF  CA         			dex
         01:D1E0  CA         			dex
         01:D1E1  95 08      			sta.l	<__stack, x
         01:D1E3  94 09      			sty.h	<__stack, x
         01:D1E5  86 8D      			stx	<__sp
12104                        		__call		_check_BG
         01:D1E7  20 3B FF   			call	_check_BG
12105                        	
12106                        		.dbg	line,	"include\routines_LEVELS.c", 2103; if(map_blk_flag == TILE_BG)
12107                        		__ld.umq	_map_blk_flag
         01:D1EA  AD DF 2B   			lda	_map_blk_flag
12108                        		__equ_b.uiq	1
         01:D1ED  C9 01      			cmp	#1
         01:D1EF  F0 01      			beq	!+
         01:D1F1  18         			clc
         01:D1F2             	!:
12109                        		__bfalse	.LL566
         01:D1F2  90 41      			bcc	.LL566
12110                        	
12111                        		.dbg	line,	"include\routines_LEVELS.c", 2104; {
12112                        	
12113                        		.dbg	line,	"include\routines_LEVELS.c", 2105; check_TILE_DEPTH( 15 , -16 );
12114                        		__ld.wi		15
         01:D1F4  A9 0F      			lda.l	#15
         01:D1F6  C2         			cly
12115                        		__pusharg.wr
         01:D1F7  A6 8D      			ldx	<__sp
         01:D1F9  CA         			dex
         01:D1FA  CA         			dex
         01:D1FB  95 08      			sta.l	<__stack, x
         01:D1FD  94 09      			sty.h	<__stack, x
         01:D1FF  86 8D      			stx	<__sp
12116                        		__ld.wi		-16
         01:D201  A9 F0      			lda.l	#-16
         01:D203  A0 FF      			ldy.h	#-16
12117                        		__pusharg.wr
         01:D205  A6 8D      			ldx	<__sp
         01:D207  CA         			dex
         01:D208  CA         			dex
         01:D209  95 08      			sta.l	<__stack, x
         01:D20B  94 09      			sty.h	<__stack, x
         01:D20D  86 8D      			stx	<__sp
12118                        		__call		_check_TILE_DEPTH
         01:D20F  20 27 FF   			call	_check_TILE_DEPTH
12119                        	
12120                        		.dbg	line,	"include\routines_LEVELS.c", 2107; if(map_blk_flag == TILE_EMPTY && jump_ladder == TRUE)
12121                        		__not.um	_map_blk_flag
         01:D212  AD DF 2B   			lda	_map_blk_flag
         01:D215  18         			clc
         01:D216  D0 01      			bne	!+
         01:D218  38         			sec
         01:D219             	!:
12122                        		__bfalse	.LL568
         01:D219  90 08      			bcc	.LL568
12123                        		__ld.umq	_jump_ladder
         01:D21B  AD 21 23   			lda	_jump_ladder
12124                        		__equ_b.uiq	1
         01:D21E  C9 01      			cmp	#1
         01:D220  F0 01      			beq	!+
         01:D222  18         			clc
         01:D223             	!:
12125    01:D223             	.LL568:
12126                        		__bfalse	.LL567
         01:D223  90 64      			bcc	.LL567
12127                        	
12128                        		.dbg	line,	"include\routines_LEVELS.c", 2108; {
12129                        	
12130                        		.dbg	line,	"include\routines_LEVELS.c", 2109; jump_ladder = FALSE;
12131                        		__st.umiq	0, _jump_ladder
         01:D225  9C 21 23   			stz	_jump_ladder
12132                        	
12133                        		.dbg	line,	"include\routines_LEVELS.c", 2110; player_index_fall = 0;
12134                        		__st.umiq	0, _player_index_fall
         01:D228  9C 1D 23   			stz	_player_index_fall
12135                        	
12136                        		.dbg	line,	"include\routines_LEVELS.c", 2111; player_state = STATE_FALL;
12137                        		__st.umiq	9, _player_state
         01:D22B  A9 09      			lda.l	#9
         01:D22D  8D 18 23   			sta	_player_state
12138                        	
12139                        		.dbg	line,	"include\routines_LEVELS.c", 2112; return;
12140                        		__bra		.LL422
         01:D230  4C 4F DC   			bra	.LL422
12141                        	
12142                        		.dbg	line,	"include\routines_LEVELS.c", 2113; }
12143                        	
12144                        		.dbg	line,	"include\routines_LEVELS.c", 2114; }
12145    01:D233             	.LL567	.alias		.LL569
12146                        	
12147                        		.dbg	line,	"include\routines_LEVELS.c", 2116; else
12148                        		__bra		.LL569
         01:D233  80 54      			bra	.LL569
12149    01:D235             	.LL566:
12150                        	
12151                        		.dbg	line,	"include\routines_LEVELS.c", 2117; {
12152                        	
12153                        		.dbg	line,	"include\routines_LEVELS.c", 2118; sgx_map_pxl_x -= 2;
12154                        		__sub_st.wmiq	2, _sgx_map_pxl_x
         01:D235  38         			sec
         01:D236  AD BE 26   			lda.l	_sgx_map_pxl_x
         01:D239  E9 02      			sbc.l	#2
         01:D23B  8D BE 26   			sta.l	_sgx_map_pxl_x
         01:D23E  B0 03      			bcs	!+
         01:D240  CE BF 26   			dec.h	_sgx_map_pxl_x
         01:D243             	!:
12155                        	
12156                        		.dbg	line,	"include\routines_LEVELS.c", 2119; }
12157    01:D243             	.LL569	.alias		.LL570
12158                        	
12159                        		.dbg	line,	"include\routines_LEVELS.c", 2120; }
12160                        	
12161                        		.dbg	line,	"include\routines_LEVELS.c", 2122; else
12162                        		__bra		.LL570
         01:D243  80 44      			bra	.LL570
12163    01:D245             	.LL565:
12164                        	
12165                        		.dbg	line,	"include\routines_LEVELS.c", 2123; {
12166                        	
12167                        		.dbg	line,	"include\routines_LEVELS.c", 2124; check_TILE_DEPTH( 15 , -16 );
12168                        		__ld.wi		15
         01:D245  A9 0F      			lda.l	#15
         01:D247  C2         			cly
12169                        		__pusharg.wr
         01:D248  A6 8D      			ldx	<__sp
         01:D24A  CA         			dex
         01:D24B  CA         			dex
         01:D24C  95 08      			sta.l	<__stack, x
         01:D24E  94 09      			sty.h	<__stack, x
         01:D250  86 8D      			stx	<__sp
12170                        		__ld.wi		-16
         01:D252  A9 F0      			lda.l	#-16
         01:D254  A0 FF      			ldy.h	#-16
12171                        		__pusharg.wr
         01:D256  A6 8D      			ldx	<__sp
         01:D258  CA         			dex
         01:D259  CA         			dex
         01:D25A  95 08      			sta.l	<__stack, x
         01:D25C  94 09      			sty.h	<__stack, x
         01:D25E  86 8D      			stx	<__sp
12172                        		__call		_check_TILE_DEPTH
         01:D260  20 27 FF   			call	_check_TILE_DEPTH
12173                        	
12174                        		.dbg	line,	"include\routines_LEVELS.c", 2126; if(map_blk_flag == TILE_EMPTY && jump_ladder == TRUE)
12175                        		__not.um	_map_blk_flag
         01:D263  AD DF 2B   			lda	_map_blk_flag
         01:D266  18         			clc
         01:D267  D0 01      			bne	!+
         01:D269  38         			sec
         01:D26A             	!:
12176                        		__bfalse	.LL572
         01:D26A  90 08      			bcc	.LL572
12177                        		__ld.umq	_jump_ladder
         01:D26C  AD 21 23   			lda	_jump_ladder
12178                        		__equ_b.uiq	1
         01:D26F  C9 01      			cmp	#1
         01:D271  F0 01      			beq	!+
         01:D273  18         			clc
         01:D274             	!:
12179    01:D274             	.LL572:
12180                        		__bfalse	.LL571
         01:D274  90 13      			bcc	.LL571
12181                        	
12182                        		.dbg	line,	"include\routines_LEVELS.c", 2127; {
12183                        	
12184                        		.dbg	line,	"include\routines_LEVELS.c", 2128; jump_ladder = FALSE;
12185                        		__st.umiq	0, _jump_ladder
         01:D276  9C 21 23   			stz	_jump_ladder
12186                        	
12187                        		.dbg	line,	"include\routines_LEVELS.c", 2129; hit_wall = TRUE;
12188                        		__st.umiq	1, _hit_wall
         01:D279  A9 01      			lda.l	#1
         01:D27B  8D 24 23   			sta	_hit_wall
12189                        	
12190                        		.dbg	line,	"include\routines_LEVELS.c", 2130; player_index_fall = 0;
12191                        		__st.umiq	0, _player_index_fall
         01:D27E  9C 1D 23   			stz	_player_index_fall
12192                        	
12193                        		.dbg	line,	"include\routines_LEVELS.c", 2131; player_state = STATE_FALL;
12194                        		__st.umiq	9, _player_state
         01:D281  A9 09      			lda.l	#9
         01:D283  8D 18 23   			sta	_player_state
12195                        	
12196                        		.dbg	line,	"include\routines_LEVELS.c", 2132; return;
12197                        		__bra		.LL422
         01:D286  4C 4F DC   			bra	.LL422
12198                        	
12199                        		.dbg	line,	"include\routines_LEVELS.c", 2133; }
12200                        	
12201                        		.dbg	line,	"include\routines_LEVELS.c", 2134; }
12202    01:D289             	.LL571:
12203    01:D289             	.LL570:
12204                        	
12205                        		.dbg	line,	"include\routines_LEVELS.c", 2139; //**************************************************************************************//
12206                        	
12207                        		.dbg	line,	"include\routines_LEVELS.c", 2140; //                                        V MOVE                                        //
12208                        	
12209                        		.dbg	line,	"include\routines_LEVELS.c", 2141; //**************************************************************************************//
12210                        	
12211                        		.dbg	line,	"include\routines_LEVELS.c", 2143; // UPDATE PLAYER Y POSITION //
12212                        	
12213                        		.dbg	line,	"include\routines_LEVELS.c", 2144; if(jump_ladder == FALSE)
12214                        		__not.um	_jump_ladder
         01:D289  AD 21 23   			lda	_jump_ladder
         01:D28C  18         			clc
         01:D28D  D0 01      			bne	!+
         01:D28F  38         			sec
         01:D290             	!:
12215                        		__bfalse	.LL573
         01:D290  90 1A      			bcc	.LL573
12216                        	
12217                        		.dbg	line,	"include\routines_LEVELS.c", 2145; {
12218                        	
12219                        		.dbg	line,	"include\routines_LEVELS.c", 2146; player_pos_y += TABLE_PLAYER_JUMP_V[player_index_jump];
12220                        		__ldx.umq	_player_index_jump
         01:D292  AE 1C 23   			ldx	_player_index_jump
12221                        		__ld.bax	_TABLE_PLAYER_JUMP_V
         01:D295  BD FC 61   			lda	_TABLE_PLAYER_JUMP_V, x
         01:D298  C2         			cly
         01:D299  10 01      			bpl	!+
         01:D29B  88         			dey
         01:D29C             	!:
12222                        		__add_st.wmq	_player_pos_y
         01:D29C  18         			clc
         01:D29D  6D DD 24   			adc.l	_player_pos_y
         01:D2A0  8D DD 24   			sta.l	_player_pos_y
         01:D2A3  98         			tya
         01:D2A4  6D DE 24   			adc.h	_player_pos_y
         01:D2A7  8D DE 24   			sta.h	_player_pos_y
12223                        	
12224                        		.dbg	line,	"include\routines_LEVELS.c", 2147; }
12225                        	
12226                        		.dbg	line,	"include\routines_LEVELS.c", 2149; else
12227                        		__bra		.LL574
         01:D2AA  80 18      			bra	.LL574
12228    01:D2AC             	.LL573:
12229                        	
12230                        		.dbg	line,	"include\routines_LEVELS.c", 2150; {
12231                        	
12232                        		.dbg	line,	"include\routines_LEVELS.c", 2151; player_pos_y += TABLE_PLAYER_JUMP_LADDER[player_index_jump];
12233                        		__ldx.umq	_player_index_jump
         01:D2AC  AE 1C 23   			ldx	_player_index_jump
12234                        		__ld.bax	_TABLE_PLAYER_JUMP_LADDER
         01:D2AF  BD 34 62   			lda	_TABLE_PLAYER_JUMP_LADDER, x
         01:D2B2  C2         			cly
         01:D2B3  10 01      			bpl	!+
         01:D2B5  88         			dey
         01:D2B6             	!:
12235                        		__add_st.wmq	_player_pos_y
         01:D2B6  18         			clc
         01:D2B7  6D DD 24   			adc.l	_player_pos_y
         01:D2BA  8D DD 24   			sta.l	_player_pos_y
         01:D2BD  98         			tya
         01:D2BE  6D DE 24   			adc.h	_player_pos_y
         01:D2C1  8D DE 24   			sta.h	_player_pos_y
12236                        	
12237                        		.dbg	line,	"include\routines_LEVELS.c", 2152; }
12238    01:D2C4             	.LL574:
12239                        	
12240                        		.dbg	line,	"include\routines_LEVELS.c", 2155; // IF PLAYER GOES BELOW ITS BASE Y POSITION //
12241                        	
12242                        		.dbg	line,	"include\routines_LEVELS.c", 2156; if(player_pos_y >= PLAYER_BASE_Y_POS)
12243                        		__ld.wm		_player_pos_y
         01:D2C4  AD DD 24   			lda.l	_player_pos_y
         01:D2C7  AC DE 24   			ldy.h	_player_pos_y
12244                        		__sge_w.wi	128
         01:D2CA  C9 80      			cmp.l	#128		; Subtract integer from Y:A.
         01:D2CC  98         			tya
         01:D2CD  E9 00      			sbc.h	#128
         01:D2CF  50 02      			bvc	!+
         01:D2D1  49 80      			eor	#$80		; +ve if Y:A >= integer (signed).
         01:D2D3  49 80      	!:		eor	#$80
         01:D2D5  0A         			asl	a
12245                        		__bfalse	.LL575
         01:D2D6  90 4E      			bcc	.LL575
12246                        	
12247                        		.dbg	line,	"include\routines_LEVELS.c", 2157; {
12248                        	
12249                        		.dbg	line,	"include\routines_LEVELS.c", 2158; // THE CAMERA MOVES //
12250                        	
12251                        		.dbg	line,	"include\routines_LEVELS.c", 2159; // CALCULATE HOW MANY PIXELS THE CAMERA HAS TO MOVE DOWN //
12252                        	
12253                        		.dbg	line,	"include\routines_LEVELS.c", 2160; camera_y_move = player_pos_y - PLAYER_BASE_Y_POS;
12254                        		__ld.wm		_player_pos_y
         01:D2D8  AD DD 24   			lda.l	_player_pos_y
         01:D2DB  AC DE 24   			ldy.h	_player_pos_y
12255                        		__sub.wi	128
         01:D2DE  38         			sec
         01:D2DF  E9 80      			sbc.l	#128
         01:D2E1  B0 01      			bcs	!+
         01:D2E3  88         			dey
         01:D2E4             	!:
12256                        		__st.umq	__update_PLAYER_end - 5  /* camera_y_move */
         01:D2E4  8D 08 23   			sta	__update_PLAYER_end - 5
12257                        	
12258                        		.dbg	line,	"include\routines_LEVELS.c", 2161; sgx_map_pxl_y += camera_y_move;
12259                        		__ld.um		__update_PLAYER_end - 5  /* camera_y_move */
         01:D2E7  AD 08 23   			lda	__update_PLAYER_end - 5
         01:D2EA  C2         			cly
12260                        		__add_st.wmq	_sgx_map_pxl_y
         01:D2EB  18         			clc
         01:D2EC  6D C0 26   			adc.l	_sgx_map_pxl_y
         01:D2EF  8D C0 26   			sta.l	_sgx_map_pxl_y
         01:D2F2  98         			tya
         01:D2F3  6D C1 26   			adc.h	_sgx_map_pxl_y
         01:D2F6  8D C1 26   			sta.h	_sgx_map_pxl_y
12261                        	
12262                        		.dbg	line,	"include\routines_LEVELS.c", 2163; // IF THE CAMERA HAS REACHED ITS MAX (LOWEST) POSITION //
12263                        	
12264                        		.dbg	line,	"include\routines_LEVELS.c", 2164; if(sgx_map_pxl_y > camera_max_y_position)
12265                        		__ld.wm		_sgx_map_pxl_y
         01:D2F9  AD C0 26   			lda.l	_sgx_map_pxl_y
         01:D2FC  AC C1 26   			ldy.h	_sgx_map_pxl_y
12266                        		__ugt_w.wm	_camera_max_y_position
         01:D2FF  18         			clc			; Subtract memory+1 from Y:A.
         01:D300  ED DF 24   			sbc.l	_camera_max_y_position
         01:D303  98         			tya
         01:D304  ED E0 24   			sbc.h	_camera_max_y_position		; CS if Y:A > memory.
12267                        		__bfalse	.LL576
         01:D307  90 0C      			bcc	.LL576
12268                        	
12269                        		.dbg	line,	"include\routines_LEVELS.c", 2165; {
12270                        	
12271                        		.dbg	line,	"include\routines_LEVELS.c", 2166; // THE CAMERA CAN NOT MOVE LOWER //
12272                        	
12273                        		.dbg	line,	"include\routines_LEVELS.c", 2167; sgx_map_pxl_y = camera_max_y_position;
12274                        		__ld.wm		_camera_max_y_position
         01:D309  AD DF 24   			lda.l	_camera_max_y_position
         01:D30C  AC E0 24   			ldy.h	_camera_max_y_position
12275                        		__st.wmq	_sgx_map_pxl_y
         01:D30F  8D C0 26   			sta.l	_sgx_map_pxl_y
         01:D312  8C C1 26   			sty.h	_sgx_map_pxl_y
12276                        	
12277                        		.dbg	line,	"include\routines_LEVELS.c", 2168; }
12278                        	
12279                        		.dbg	line,	"include\routines_LEVELS.c", 2170; // THE PLAYER STAYS AT ITS BASE Y POSITION //
12280                        	
12281                        		.dbg	line,	"include\routines_LEVELS.c", 2171; player_pos_y = PLAYER_BASE_Y_POS;
12282    01:D315             	.LL576:
12283                        		__st.wmiq	128, _player_pos_y
         01:D315  A9 80      			lda.l	#128
         01:D317  8D DD 24   			sta.l	_player_pos_y
         01:D31A  9C DE 24   			stz.h	_player_pos_y
12284                        	
12285                        		.dbg	line,	"include\routines_LEVELS.c", 2173; spr_y(player_pos_y);
12286                        		__ld.wm		_player_pos_y
         01:D31D  AD DD 24   			lda.l	_player_pos_y
         01:D320  AC DE 24   			ldy.h	_player_pos_y
12287                        		__call		_spr_y.1
         01:D323  20 19 E8   			call	_spr_y.1
12288                        	
12289                        		.dbg	line,	"include\routines_LEVELS.c", 2174; }
12290                        	
12291                        		.dbg	line,	"include\routines_LEVELS.c", 2177; // UPDATE JUMP INDEX IN THE ARRAY //
12292                        	
12293                        		.dbg	line,	"include\routines_LEVELS.c", 2178; if(player_index_jump < jump_max_index)
12294    01:D326             	.LL575:
12295                        		__ld.umq	_player_index_jump
         01:D326  AD 1C 23   			lda	_player_index_jump
12296                        		__ult_b.umq	_jump_max_index
         01:D329  CD 22 23   			cmp	_jump_max_index		; Subtract memory from A.
         01:D32C  6A         			ror	a		; CC if A < memory.
         01:D32D  49 80      			eor	#$80
         01:D32F  2A         			rol	a
12297                        		__bfalse	.LL577
         01:D330  90 03      			bcc	.LL577
12298                        	
12299                        		.dbg	line,	"include\routines_LEVELS.c", 2179; {
12300                        	
12301                        		.dbg	line,	"include\routines_LEVELS.c", 2180; player_index_jump += 1;
12302                        		__add_st.umiq	1, _player_index_jump
         01:D332  EE 1C 23   			inc	_player_index_jump
12303                        	
12304                        		.dbg	line,	"include\routines_LEVELS.c", 2181; }
12305                        	
12306                        		.dbg	line,	"include\routines_LEVELS.c", 2186; //--------------------------------------------------------------------------------------//
12307                        	
12308                        		.dbg	line,	"include\routines_LEVELS.c", 2187; //                                   FLOOR COLLISION                                    //
12309                        	
12310                        		.dbg	line,	"include\routines_LEVELS.c", 2188; //--------------------------------------------------------------------------------------//
12311                        	
12312                        		.dbg	line,	"include\routines_LEVELS.c", 2190; if(player_index_jump > 14)
12313    01:D335             	.LL577:
12314                        		__ld.umq	_player_index_jump
         01:D335  AD 1C 23   			lda	_player_index_jump
12315                        		__ugt_b.uiq	14
         01:D338  18         			clc			; Subtract integer+1 from A.
         01:D339  E9 0E      			sbc	#14		; CS if A > integer.
12316                        		__bfalse	.LL578
         01:D33B  B0 03 4C 20			bcc	.LL578
         01:D33F  D5          
12317                        	
12318                        		.dbg	line,	"include\routines_LEVELS.c", 2191; {
12319                        	
12320                        		.dbg	line,	"include\routines_LEVELS.c", 2192; // CHECK COLLISION WITH LEFT FLOOR //
12321                        	
12322                        		.dbg	line,	"include\routines_LEVELS.c", 2193; check_BG( 10 , 32 );
12323                        		__ld.wi		10
         01:D340  A9 0A      			lda.l	#10
         01:D342  C2         			cly
12324                        		__pusharg.wr
         01:D343  A6 8D      			ldx	<__sp
         01:D345  CA         			dex
         01:D346  CA         			dex
         01:D347  95 08      			sta.l	<__stack, x
         01:D349  94 09      			sty.h	<__stack, x
         01:D34B  86 8D      			stx	<__sp
12325                        		__ld.wi		32
         01:D34D  A9 20      			lda.l	#32
         01:D34F  C2         			cly
12326                        		__pusharg.wr
         01:D350  A6 8D      			ldx	<__sp
         01:D352  CA         			dex
         01:D353  CA         			dex
         01:D354  95 08      			sta.l	<__stack, x
         01:D356  94 09      			sty.h	<__stack, x
         01:D358  86 8D      			stx	<__sp
12327                        		__call		_check_BG
         01:D35A  20 3B FF   			call	_check_BG
12328                        	
12329                        		.dbg	line,	"include\routines_LEVELS.c", 2195; if(map_blk_flag == TILE_BG)
12330                        		__ld.umq	_map_blk_flag
         01:D35D  AD DF 2B   			lda	_map_blk_flag
12331                        		__equ_b.uiq	1
         01:D360  C9 01      			cmp	#1
         01:D362  F0 01      			beq	!+
         01:D364  18         			clc
         01:D365             	!:
12332                        		__bfalse	.LL579
         01:D365  B0 03 4C 30			bcc	.LL579
         01:D369  D4          
12333                        	
12334                        		.dbg	line,	"include\routines_LEVELS.c", 2196; {
12335                        	
12336                        		.dbg	line,	"include\routines_LEVELS.c", 2197; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
12337                        	
12338                        		.dbg	line,	"include\routines_LEVELS.c", 2198; for(i=1; i<11 ; i++)
12339                        		__st.umiq	1, __update_PLAYER_end - 4  /* i */
         01:D36A  A9 01      			lda.l	#1
         01:D36C  8D 09 23   			sta	__update_PLAYER_end - 4
12340    01:D36F             	.LL580:
12341                        		__ld.umq	__update_PLAYER_end - 4  /* i */
         01:D36F  AD 09 23   			lda	__update_PLAYER_end - 4
12342                        		__ult_b.uiq	11
         01:D372  C9 0B      			cmp	#11		; Subtract integer from A.
         01:D374  6A         			ror	a		; CC if A < integer.
         01:D375  49 80      			eor	#$80
         01:D377  2A         			rol	a
12343                        		__btrue		.LL582
         01:D378  B0 07      			bcs	.LL582
12344                        		__bra		.LL583
         01:D37A  80 7D      			bra	.LL583
12345    01:D37C             	.LL581:
12346                        		__inc.umq	__update_PLAYER_end - 4  /* i */
         01:D37C  EE 09 23   			inc	__update_PLAYER_end - 4
12347                        		__bra		.LL580
         01:D37F  80 EE      			bra	.LL580
12348    01:D381             	.LL582:
12349                        	
12350                        		.dbg	line,	"include\routines_LEVELS.c", 2199; {
12351                        	
12352                        		.dbg	line,	"include\routines_LEVELS.c", 2200; check_TILE_DEPTH( 10 , i);
12353                        		__ld.wi		10
         01:D381  A9 0A      			lda.l	#10
         01:D383  C2         			cly
12354                        		__pusharg.wr
         01:D384  A6 8D      			ldx	<__sp
         01:D386  CA         			dex
         01:D387  CA         			dex
         01:D388  95 08      			sta.l	<__stack, x
         01:D38A  94 09      			sty.h	<__stack, x
         01:D38C  86 8D      			stx	<__sp
12355                        		__ld.um		__update_PLAYER_end - 4  /* i */
         01:D38E  AD 09 23   			lda	__update_PLAYER_end - 4
         01:D391  C2         			cly
12356                        		__pusharg.wr
         01:D392  A6 8D      			ldx	<__sp
         01:D394  CA         			dex
         01:D395  CA         			dex
         01:D396  95 08      			sta.l	<__stack, x
         01:D398  94 09      			sty.h	<__stack, x
         01:D39A  86 8D      			stx	<__sp
12357                        		__call		_check_TILE_DEPTH
         01:D39C  20 27 FF   			call	_check_TILE_DEPTH
12358                        	
12359                        		.dbg	line,	"include\routines_LEVELS.c", 2202; if(map_blk_flag == TILE_EMPTY)
12360                        		__not.um	_map_blk_flag
         01:D39F  AD DF 2B   			lda	_map_blk_flag
         01:D3A2  18         			clc
         01:D3A3  D0 01      			bne	!+
         01:D3A5  38         			sec
         01:D3A6             	!:
12361                        		__bfalse	.LL584
         01:D3A6  90 D4      			bcc	.LL584
12362                        	
12363                        		.dbg	line,	"include\routines_LEVELS.c", 2203; {
12364                        	
12365                        		.dbg	line,	"include\routines_LEVELS.c", 2204; if(player_pos_y != PLAYER_BASE_Y_POS)
12366                        		__ld.wm		_player_pos_y
         01:D3A8  AD DD 24   			lda.l	_player_pos_y
         01:D3AB  AC DE 24   			ldy.h	_player_pos_y
12367                        		__neq_w.wi	128
         01:D3AE  38         			sec
         01:D3AF  49 80      			eor.l	#128
         01:D3B1  D0 06      			bne	!+
         01:D3B3  98         			tya
         01:D3B4  49 00      			eor.h	#128
         01:D3B6  D0 01      			bne	!+
         01:D3B8  18         			clc
         01:D3B9             	!:
12368                        		__bfalse	.LL585
         01:D3B9  90 1E      			bcc	.LL585
12369                        	
12370                        		.dbg	line,	"include\routines_LEVELS.c", 2205; {
12371                        	
12372                        		.dbg	line,	"include\routines_LEVELS.c", 2206; player_pos_y -= (i - 1);
12373                        		__ld.um		__update_PLAYER_end - 4  /* i */
         01:D3BB  AD 09 23   			lda	__update_PLAYER_end - 4
         01:D3BE  C2         			cly
12374                        		__sub.wi	1
         01:D3BF  38         			sec
         01:D3C0  E9 01      			sbc.l	#1
         01:D3C2  B0 01      			bcs	!+
         01:D3C4  88         			dey
         01:D3C5             	!:
12375                        		__isub_st.wmq	_player_pos_y
         01:D3C5  38         			sec
         01:D3C6  49 FF      			eor	#$FF
         01:D3C8  6D DD 24   			adc.l	_player_pos_y
         01:D3CB  8D DD 24   			sta.l	_player_pos_y
         01:D3CE  98         			tya
         01:D3CF  49 FF      			eor	#$FF
         01:D3D1  6D DE 24   			adc.h	_player_pos_y
         01:D3D4  8D DE 24   			sta.h	_player_pos_y
12376                        	
12377                        		.dbg	line,	"include\routines_LEVELS.c", 2207; }
12378                        	
12379                        		.dbg	line,	"include\routines_LEVELS.c", 2209; else
12380                        		__bra		.LL586
         01:D3D7  80 20      			bra	.LL586
12381    01:D3D9             	.LL585:
12382                        	
12383                        		.dbg	line,	"include\routines_LEVELS.c", 2210; {
12384                        	
12385                        		.dbg	line,	"include\routines_LEVELS.c", 2211; sgx_map_pxl_y -= (i - 1);
12386                        		__ld.um		__update_PLAYER_end - 4  /* i */
         01:D3D9  AD 09 23   			lda	__update_PLAYER_end - 4
         01:D3DC  C2         			cly
12387                        		__sub.wi	1
         01:D3DD  38         			sec
         01:D3DE  E9 01      			sbc.l	#1
         01:D3E0  B0 01      			bcs	!+
         01:D3E2  88         			dey
         01:D3E3             	!:
12388                        		__isub_st.wmq	_sgx_map_pxl_y
         01:D3E3  38         			sec
         01:D3E4  49 FF      			eor	#$FF
         01:D3E6  6D C0 26   			adc.l	_sgx_map_pxl_y
         01:D3E9  8D C0 26   			sta.l	_sgx_map_pxl_y
         01:D3EC  98         			tya
         01:D3ED  49 FF      			eor	#$FF
         01:D3EF  6D C1 26   			adc.h	_sgx_map_pxl_y
         01:D3F2  8D C1 26   			sta.h	_sgx_map_pxl_y
12389                        	
12390                        		.dbg	line,	"include\routines_LEVELS.c", 2212; }
12391    01:D3F5             	.LL586	.alias		.LL583
12392                        	
12393                        		.dbg	line,	"include\routines_LEVELS.c", 2214; break;
12394                        		__bra		.LL583
         01:D3F5  80 02      			bra	.LL583
12395                        	
12396                        		.dbg	line,	"include\routines_LEVELS.c", 2215; }
12397                        	
12398                        		.dbg	line,	"include\routines_LEVELS.c", 2216; }
12399    01:D3F7             	.LL584	.alias		.LL581
12400                        		__bra		.LL581
         01:D3F7  80 83      			bra	.LL581
12401    01:D3F9             	.LL583:
12402                        	
12403                        		.dbg	line,	"include\routines_LEVELS.c", 2218; // SET PLAYER SPRITE NEW POSITION //
12404                        	
12405                        		.dbg	line,	"include\routines_LEVELS.c", 2219; spr_y(player_pos_y);
12406                        		__ld.wm		_player_pos_y
         01:D3F9  AD DD 24   			lda.l	_player_pos_y
         01:D3FC  AC DE 24   			ldy.h	_player_pos_y
12407                        		__call		_spr_y.1
         01:D3FF  20 19 E8   			call	_spr_y.1
12408                        	
12409                        		.dbg	line,	"include\routines_LEVELS.c", 2221; spr_set(weapon_id);
12410                        		__ld.umq	_weapon_id
         01:D402  AD 26 23   			lda	_weapon_id
12411                        		__call		_spr_set.1
         01:D405  20 DD E7   			call	_spr_set.1
12412                        	
12413                        		.dbg	line,	"include\routines_LEVELS.c", 2222; spr_y(player_pos_y+8);
12414                        		__ld.wm		_player_pos_y
         01:D408  AD DD 24   			lda.l	_player_pos_y
         01:D40B  AC DE 24   			ldy.h	_player_pos_y
12415                        		__add.wi	8
         01:D40E  18         			clc
         01:D40F  69 08      			adc.l	#8
         01:D411  90 01      			bcc	!+
         01:D413  C8         			iny
         01:D414             	!:
12416                        		__call		_spr_y.1
         01:D414  20 19 E8   			call	_spr_y.1
12417                        	
12418                        		.dbg	line,	"include\routines_LEVELS.c", 2224; player_counter_anim = 1;
12419                        		__st.umiq	1, _player_counter_anim
         01:D417  A9 01      			lda.l	#1
         01:D419  8D 1B 23   			sta	_player_counter_anim
12420                        	
12421                        		.dbg	line,	"include\routines_LEVELS.c", 2225; player_index_jump = 0;
12422                        		__st.umiq	0, _player_index_jump
         01:D41C  9C 1C 23   			stz	_player_index_jump
12423                        	
12424                        		.dbg	line,	"include\routines_LEVELS.c", 2226; jump_ladder = FALSE;
12425                        		__st.umiq	0, _jump_ladder
         01:D41F  9C 21 23   			stz	_jump_ladder
12426                        	
12427                        		.dbg	line,	"include\routines_LEVELS.c", 2227; hit_wall = FALSE;
12428                        		__st.umiq	0, _hit_wall
         01:D422  9C 24 23   			stz	_hit_wall
12429                        	
12430                        		.dbg	line,	"include\routines_LEVELS.c", 2228; jump_max_index = 34;
12431                        		__st.umiq	34, _jump_max_index
         01:D425  A9 22      			lda.l	#34
         01:D427  8D 22 23   			sta	_jump_max_index
12432                        	
12433                        		.dbg	line,	"include\routines_LEVELS.c", 2229; player_state = STATE_IDLE;
12434                        		__st.umiq	0, _player_state
         01:D42A  9C 18 23   			stz	_player_state
12435                        	
12436                        		.dbg	line,	"include\routines_LEVELS.c", 2230; return;
12437                        		__bra		.LL422
         01:D42D  4C 4F DC   			bra	.LL422
12438                        	
12439                        		.dbg	line,	"include\routines_LEVELS.c", 2231; }
12440                        	
12441                        		.dbg	line,	"include\routines_LEVELS.c", 2233; else
12442    01:D430             	.LL579:
12443                        	
12444                        		.dbg	line,	"include\routines_LEVELS.c", 2234; {
12445                        	
12446                        		.dbg	line,	"include\routines_LEVELS.c", 2235; // CHECK COLLISION WITH RIGHT FLOOR //
12447                        	
12448                        		.dbg	line,	"include\routines_LEVELS.c", 2236; check_BG( 22 , 32 );
12449                        		__ld.wi		22
         01:D430  A9 16      			lda.l	#22
         01:D432  C2         			cly
12450                        		__pusharg.wr
         01:D433  A6 8D      			ldx	<__sp
         01:D435  CA         			dex
         01:D436  CA         			dex
         01:D437  95 08      			sta.l	<__stack, x
         01:D439  94 09      			sty.h	<__stack, x
         01:D43B  86 8D      			stx	<__sp
12451                        		__ld.wi		32
         01:D43D  A9 20      			lda.l	#32
         01:D43F  C2         			cly
12452                        		__pusharg.wr
         01:D440  A6 8D      			ldx	<__sp
         01:D442  CA         			dex
         01:D443  CA         			dex
         01:D444  95 08      			sta.l	<__stack, x
         01:D446  94 09      			sty.h	<__stack, x
         01:D448  86 8D      			stx	<__sp
12453                        		__call		_check_BG
         01:D44A  20 3B FF   			call	_check_BG
12454                        	
12455                        		.dbg	line,	"include\routines_LEVELS.c", 2238; if(map_blk_flag == TILE_BG)
12456                        		__ld.umq	_map_blk_flag
         01:D44D  AD DF 2B   			lda	_map_blk_flag
12457                        		__equ_b.uiq	1
         01:D450  C9 01      			cmp	#1
         01:D452  F0 01      			beq	!+
         01:D454  18         			clc
         01:D455             	!:
12458                        		__bfalse	.LL588
         01:D455  B0 03 4C 20			bcc	.LL588
         01:D459  D5          
12459                        	
12460                        		.dbg	line,	"include\routines_LEVELS.c", 2239; {
12461                        	
12462                        		.dbg	line,	"include\routines_LEVELS.c", 2240; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
12463                        	
12464                        		.dbg	line,	"include\routines_LEVELS.c", 2241; for(i=1; i<11 ; i++)
12465                        		__st.umiq	1, __update_PLAYER_end - 4  /* i */
         01:D45A  A9 01      			lda.l	#1
         01:D45C  8D 09 23   			sta	__update_PLAYER_end - 4
12466    01:D45F             	.LL589:
12467                        		__ld.umq	__update_PLAYER_end - 4  /* i */
         01:D45F  AD 09 23   			lda	__update_PLAYER_end - 4
12468                        		__ult_b.uiq	11
         01:D462  C9 0B      			cmp	#11		; Subtract integer from A.
         01:D464  6A         			ror	a		; CC if A < integer.
         01:D465  49 80      			eor	#$80
         01:D467  2A         			rol	a
12469                        		__btrue		.LL591
         01:D468  B0 07      			bcs	.LL591
12470                        		__bra		.LL592
         01:D46A  80 7D      			bra	.LL592
12471    01:D46C             	.LL590:
12472                        		__inc.umq	__update_PLAYER_end - 4  /* i */
         01:D46C  EE 09 23   			inc	__update_PLAYER_end - 4
12473                        		__bra		.LL589
         01:D46F  80 EE      			bra	.LL589
12474    01:D471             	.LL591:
12475                        	
12476                        		.dbg	line,	"include\routines_LEVELS.c", 2242; {
12477                        	
12478                        		.dbg	line,	"include\routines_LEVELS.c", 2243; check_TILE_DEPTH( 22 , i);
12479                        		__ld.wi		22
         01:D471  A9 16      			lda.l	#22
         01:D473  C2         			cly
12480                        		__pusharg.wr
         01:D474  A6 8D      			ldx	<__sp
         01:D476  CA         			dex
         01:D477  CA         			dex
         01:D478  95 08      			sta.l	<__stack, x
         01:D47A  94 09      			sty.h	<__stack, x
         01:D47C  86 8D      			stx	<__sp
12481                        		__ld.um		__update_PLAYER_end - 4  /* i */
         01:D47E  AD 09 23   			lda	__update_PLAYER_end - 4
         01:D481  C2         			cly
12482                        		__pusharg.wr
         01:D482  A6 8D      			ldx	<__sp
         01:D484  CA         			dex
         01:D485  CA         			dex
         01:D486  95 08      			sta.l	<__stack, x
         01:D488  94 09      			sty.h	<__stack, x
         01:D48A  86 8D      			stx	<__sp
12483                        		__call		_check_TILE_DEPTH
         01:D48C  20 27 FF   			call	_check_TILE_DEPTH
12484                        	
12485                        		.dbg	line,	"include\routines_LEVELS.c", 2245; if(map_blk_flag == TILE_EMPTY)
12486                        		__not.um	_map_blk_flag
         01:D48F  AD DF 2B   			lda	_map_blk_flag
         01:D492  18         			clc
         01:D493  D0 01      			bne	!+
         01:D495  38         			sec
         01:D496             	!:
12487                        		__bfalse	.LL593
         01:D496  90 D4      			bcc	.LL593
12488                        	
12489                        		.dbg	line,	"include\routines_LEVELS.c", 2246; {
12490                        	
12491                        		.dbg	line,	"include\routines_LEVELS.c", 2247; if(player_pos_y != PLAYER_BASE_Y_POS)
12492                        		__ld.wm		_player_pos_y
         01:D498  AD DD 24   			lda.l	_player_pos_y
         01:D49B  AC DE 24   			ldy.h	_player_pos_y
12493                        		__neq_w.wi	128
         01:D49E  38         			sec
         01:D49F  49 80      			eor.l	#128
         01:D4A1  D0 06      			bne	!+
         01:D4A3  98         			tya
         01:D4A4  49 00      			eor.h	#128
         01:D4A6  D0 01      			bne	!+
         01:D4A8  18         			clc
         01:D4A9             	!:
12494                        		__bfalse	.LL594
         01:D4A9  90 1E      			bcc	.LL594
12495                        	
12496                        		.dbg	line,	"include\routines_LEVELS.c", 2248; {
12497                        	
12498                        		.dbg	line,	"include\routines_LEVELS.c", 2249; player_pos_y -= (i - 1);
12499                        		__ld.um		__update_PLAYER_end - 4  /* i */
         01:D4AB  AD 09 23   			lda	__update_PLAYER_end - 4
         01:D4AE  C2         			cly
12500                        		__sub.wi	1
         01:D4AF  38         			sec
         01:D4B0  E9 01      			sbc.l	#1
         01:D4B2  B0 01      			bcs	!+
         01:D4B4  88         			dey
         01:D4B5             	!:
12501                        		__isub_st.wmq	_player_pos_y
         01:D4B5  38         			sec
         01:D4B6  49 FF      			eor	#$FF
         01:D4B8  6D DD 24   			adc.l	_player_pos_y
         01:D4BB  8D DD 24   			sta.l	_player_pos_y
         01:D4BE  98         			tya
         01:D4BF  49 FF      			eor	#$FF
         01:D4C1  6D DE 24   			adc.h	_player_pos_y
         01:D4C4  8D DE 24   			sta.h	_player_pos_y
12502                        	
12503                        		.dbg	line,	"include\routines_LEVELS.c", 2250; }
12504                        	
12505                        		.dbg	line,	"include\routines_LEVELS.c", 2252; else
12506                        		__bra		.LL595
         01:D4C7  80 20      			bra	.LL595
12507    01:D4C9             	.LL594:
12508                        	
12509                        		.dbg	line,	"include\routines_LEVELS.c", 2253; {
12510                        	
12511                        		.dbg	line,	"include\routines_LEVELS.c", 2254; sgx_map_pxl_y -= (i - 1);
12512                        		__ld.um		__update_PLAYER_end - 4  /* i */
         01:D4C9  AD 09 23   			lda	__update_PLAYER_end - 4
         01:D4CC  C2         			cly
12513                        		__sub.wi	1
         01:D4CD  38         			sec
         01:D4CE  E9 01      			sbc.l	#1
         01:D4D0  B0 01      			bcs	!+
         01:D4D2  88         			dey
         01:D4D3             	!:
12514                        		__isub_st.wmq	_sgx_map_pxl_y
         01:D4D3  38         			sec
         01:D4D4  49 FF      			eor	#$FF
         01:D4D6  6D C0 26   			adc.l	_sgx_map_pxl_y
         01:D4D9  8D C0 26   			sta.l	_sgx_map_pxl_y
         01:D4DC  98         			tya
         01:D4DD  49 FF      			eor	#$FF
         01:D4DF  6D C1 26   			adc.h	_sgx_map_pxl_y
         01:D4E2  8D C1 26   			sta.h	_sgx_map_pxl_y
12515                        	
12516                        		.dbg	line,	"include\routines_LEVELS.c", 2255; }
12517    01:D4E5             	.LL595	.alias		.LL592
12518                        	
12519                        		.dbg	line,	"include\routines_LEVELS.c", 2257; break;
12520                        		__bra		.LL592
         01:D4E5  80 02      			bra	.LL592
12521                        	
12522                        		.dbg	line,	"include\routines_LEVELS.c", 2258; }
12523                        	
12524                        		.dbg	line,	"include\routines_LEVELS.c", 2259; }
12525    01:D4E7             	.LL593	.alias		.LL590
12526                        		__bra		.LL590
         01:D4E7  80 83      			bra	.LL590
12527    01:D4E9             	.LL592:
12528                        	
12529                        		.dbg	line,	"include\routines_LEVELS.c", 2261; // SET PLAYER SPRITE NEW POSITION //
12530                        	
12531                        		.dbg	line,	"include\routines_LEVELS.c", 2262; spr_y(player_pos_y);
12532                        		__ld.wm		_player_pos_y
         01:D4E9  AD DD 24   			lda.l	_player_pos_y
         01:D4EC  AC DE 24   			ldy.h	_player_pos_y
12533                        		__call		_spr_y.1
         01:D4EF  20 19 E8   			call	_spr_y.1
12534                        	
12535                        		.dbg	line,	"include\routines_LEVELS.c", 2264; spr_set(weapon_id);
12536                        		__ld.umq	_weapon_id
         01:D4F2  AD 26 23   			lda	_weapon_id
12537                        		__call		_spr_set.1
         01:D4F5  20 DD E7   			call	_spr_set.1
12538                        	
12539                        		.dbg	line,	"include\routines_LEVELS.c", 2265; spr_y(player_pos_y+8);
12540                        		__ld.wm		_player_pos_y
         01:D4F8  AD DD 24   			lda.l	_player_pos_y
         01:D4FB  AC DE 24   			ldy.h	_player_pos_y
12541                        		__add.wi	8
         01:D4FE  18         			clc
         01:D4FF  69 08      			adc.l	#8
         01:D501  90 01      			bcc	!+
         01:D503  C8         			iny
         01:D504             	!:
12542                        		__call		_spr_y.1
         01:D504  20 19 E8   			call	_spr_y.1
12543                        	
12544                        		.dbg	line,	"include\routines_LEVELS.c", 2267; player_counter_anim = 1;
12545                        		__st.umiq	1, _player_counter_anim
         01:D507  A9 01      			lda.l	#1
         01:D509  8D 1B 23   			sta	_player_counter_anim
12546                        	
12547                        		.dbg	line,	"include\routines_LEVELS.c", 2268; player_index_jump = 0;
12548                        		__st.umiq	0, _player_index_jump
         01:D50C  9C 1C 23   			stz	_player_index_jump
12549                        	
12550                        		.dbg	line,	"include\routines_LEVELS.c", 2269; jump_ladder = FALSE;
12551                        		__st.umiq	0, _jump_ladder
         01:D50F  9C 21 23   			stz	_jump_ladder
12552                        	
12553                        		.dbg	line,	"include\routines_LEVELS.c", 2270; hit_wall = FALSE;
12554                        		__st.umiq	0, _hit_wall
         01:D512  9C 24 23   			stz	_hit_wall
12555                        	
12556                        		.dbg	line,	"include\routines_LEVELS.c", 2271; jump_max_index = 34;
12557                        		__st.umiq	34, _jump_max_index
         01:D515  A9 22      			lda.l	#34
         01:D517  8D 22 23   			sta	_jump_max_index
12558                        	
12559                        		.dbg	line,	"include\routines_LEVELS.c", 2272; player_state = STATE_IDLE;
12560                        		__st.umiq	0, _player_state
         01:D51A  9C 18 23   			stz	_player_state
12561                        	
12562                        		.dbg	line,	"include\routines_LEVELS.c", 2273; return;
12563                        		__bra		.LL422
         01:D51D  4C 4F DC   			bra	.LL422
12564                        	
12565                        		.dbg	line,	"include\routines_LEVELS.c", 2274; }
12566                        	
12567                        		.dbg	line,	"include\routines_LEVELS.c", 2275; }
12568    01:D520             	.LL588:
12569    01:D520             	.LL587:
12570                        	
12571                        		.dbg	line,	"include\routines_LEVELS.c", 2276; }
12572                        	
12573                        		.dbg	line,	"include\routines_LEVELS.c", 2281; //--------------------------------------------------------------------------------------//
12574                        	
12575                        		.dbg	line,	"include\routines_LEVELS.c", 2282; //                                   LADDER COLLISION                                   //
12576                        	
12577                        		.dbg	line,	"include\routines_LEVELS.c", 2283; //--------------------------------------------------------------------------------------//
12578                        	
12579                        		.dbg	line,	"include\routines_LEVELS.c", 2285; if(player_index_jump > 4)
12580    01:D520             	.LL578:
12581                        		__ld.umq	_player_index_jump
         01:D520  AD 1C 23   			lda	_player_index_jump
12582                        		__ugt_b.uiq	4
         01:D523  18         			clc			; Subtract integer+1 from A.
         01:D524  E9 04      			sbc	#4		; CS if A > integer.
12583                        		__bfalse	.LL596
         01:D526  B0 03 4C BB			bcc	.LL596
         01:D52A  D5          
12584                        	
12585                        		.dbg	line,	"include\routines_LEVELS.c", 2286; {
12586                        	
12587                        		.dbg	line,	"include\routines_LEVELS.c", 2287; check_BG( 16 , 16 );
12588                        		__ld.wi		16
         01:D52B  A9 10      			lda.l	#16
         01:D52D  C2         			cly
12589                        		__pusharg.wr
         01:D52E  A6 8D      			ldx	<__sp
         01:D530  CA         			dex
         01:D531  CA         			dex
         01:D532  95 08      			sta.l	<__stack, x
         01:D534  94 09      			sty.h	<__stack, x
         01:D536  86 8D      			stx	<__sp
12590                        		__ld.wi		16
         01:D538  A9 10      			lda.l	#16
         01:D53A  C2         			cly
12591                        		__pusharg.wr
         01:D53B  A6 8D      			ldx	<__sp
         01:D53D  CA         			dex
         01:D53E  CA         			dex
         01:D53F  95 08      			sta.l	<__stack, x
         01:D541  94 09      			sty.h	<__stack, x
         01:D543  86 8D      			stx	<__sp
12592                        		__call		_check_BG
         01:D545  20 3B FF   			call	_check_BG
12593                        	
12594                        		.dbg	line,	"include\routines_LEVELS.c", 2289; if(map_blk_flag == TILE_LADDER)
12595                        		__ld.umq	_map_blk_flag
         01:D548  AD DF 2B   			lda	_map_blk_flag
12596                        		__equ_b.uiq	2
         01:D54B  C9 02      			cmp	#2
         01:D54D  F0 01      			beq	!+
         01:D54F  18         			clc
         01:D550             	!:
12597                        		__bfalse	.LL597
         01:D550  90 69      			bcc	.LL597
12598                        	
12599                        		.dbg	line,	"include\routines_LEVELS.c", 2290; {
12600                        	
12601                        		.dbg	line,	"include\routines_LEVELS.c", 2291; // CAMERA GOES 8 PX BACKWARD //
12602                        	
12603                        		.dbg	line,	"include\routines_LEVELS.c", 2292; sgx_map_pxl_x = ( (sgx_map_pxl_x >> 3) << 3 );
12604                        		__ld.wm		_sgx_map_pxl_x
         01:D552  AD BE 26   			lda.l	_sgx_map_pxl_x
         01:D555  AC BF 26   			ldy.h	_sgx_map_pxl_x
12605                        		__lsr.wi	3
         01:D558  84 00      			sty	__temp
         01:D55A  20 3A E2   			jsr	lsrw3
12606                        		__asl.wi	3
         01:D55D  84 00      			sty	__temp
         01:D55F  20 D7 E1   			jsr	aslw3
12607                        		__st.wmq	_sgx_map_pxl_x
         01:D562  8D BE 26   			sta.l	_sgx_map_pxl_x
         01:D565  8C BF 26   			sty.h	_sgx_map_pxl_x
12608                        	
12609                        		.dbg	line,	"include\routines_LEVELS.c", 2294; // SO WE UPDATE THE MAP //
12610                        	
12611                        		.dbg	line,	"include\routines_LEVELS.c", 2295; sgx_scroll_map();
12612                        		__call		_sgx_scroll_map
         01:D568  20 4F FF   			call	_sgx_scroll_map
12613                        	
12614                        		.dbg	line,	"include\routines_LEVELS.c", 2297; // CHECK IF THE PLAYER STANDS RIGHT TO THE LADDER //
12615                        	
12616                        		.dbg	line,	"include\routines_LEVELS.c", 2298; check_BG( 31 , 16 );
12617                        		__ld.wi		31
         01:D56B  A9 1F      			lda.l	#31
         01:D56D  C2         			cly
12618                        		__pusharg.wr
         01:D56E  A6 8D      			ldx	<__sp
         01:D570  CA         			dex
         01:D571  CA         			dex
         01:D572  95 08      			sta.l	<__stack, x
         01:D574  94 09      			sty.h	<__stack, x
         01:D576  86 8D      			stx	<__sp
12619                        		__ld.wi		16
         01:D578  A9 10      			lda.l	#16
         01:D57A  C2         			cly
12620                        		__pusharg.wr
         01:D57B  A6 8D      			ldx	<__sp
         01:D57D  CA         			dex
         01:D57E  CA         			dex
         01:D57F  95 08      			sta.l	<__stack, x
         01:D581  94 09      			sty.h	<__stack, x
         01:D583  86 8D      			stx	<__sp
12621                        		__call		_check_BG
         01:D585  20 3B FF   			call	_check_BG
12622                        	
12623                        		.dbg	line,	"include\routines_LEVELS.c", 2300; if(map_blk_flag == TILE_LADDER)
12624                        		__ld.umq	_map_blk_flag
         01:D588  AD DF 2B   			lda	_map_blk_flag
12625                        		__equ_b.uiq	2
         01:D58B  C9 02      			cmp	#2
         01:D58D  F0 01      			beq	!+
         01:D58F  18         			clc
         01:D590             	!:
12626                        		__bfalse	.LL598
         01:D590  90 0E      			bcc	.LL598
12627                        	
12628                        		.dbg	line,	"include\routines_LEVELS.c", 2301; {
12629                        	
12630                        		.dbg	line,	"include\routines_LEVELS.c", 2302; sgx_map_pxl_x += 8;
12631                        		__add_st.wmiq	8, _sgx_map_pxl_x
         01:D592  18         			clc
         01:D593  AD BE 26   			lda.l	_sgx_map_pxl_x
         01:D596  69 08      			adc.l	#8
         01:D598  8D BE 26   			sta.l	_sgx_map_pxl_x
         01:D59B  90 03      			bcc	!+
         01:D59D  EE BF 26   			inc.h	_sgx_map_pxl_x
         01:D5A0             	!:
12632                        	
12633                        		.dbg	line,	"include\routines_LEVELS.c", 2303; }
12634                        	
12635                        		.dbg	line,	"include\routines_LEVELS.c", 2305; spr_pattern(PLAYER_HANG_VRAM_ADR);
12636    01:D5A0             	.LL598:
12637                        		__ld.wi		7424
         01:D5A0  62         			cla
         01:D5A1  A0 1D      			ldy.h	#7424
12638                        		__call		_spr_pattern.1
         01:D5A3  20 26 E8   			call	_spr_pattern.1
12639                        	
12640                        		.dbg	line,	"include\routines_LEVELS.c", 2306; player_counter_anim = 0;
12641                        		__st.umiq	0, _player_counter_anim
         01:D5A6  9C 1B 23   			stz	_player_counter_anim
12642                        	
12643                        		.dbg	line,	"include\routines_LEVELS.c", 2307; player_index_jump = 0;
12644                        		__st.umiq	0, _player_index_jump
         01:D5A9  9C 1C 23   			stz	_player_index_jump
12645                        	
12646                        		.dbg	line,	"include\routines_LEVELS.c", 2308; jump_ladder = TRUE;
12647                        		__st.umiq	1, _jump_ladder
         01:D5AC  A9 01      			lda.l	#1
         01:D5AE  8D 21 23   			sta	_jump_ladder
12648                        	
12649                        		.dbg	line,	"include\routines_LEVELS.c", 2309; jump_max_index = 29;
12650                        		__st.umiq	29, _jump_max_index
         01:D5B1  A9 1D      			lda.l	#29
         01:D5B3  8D 22 23   			sta	_jump_max_index
12651                        	
12652                        		.dbg	line,	"include\routines_LEVELS.c", 2310; player_state = STATE_HANG;
12653                        		__st.umiq	10, _player_state
         01:D5B6  A9 0A      			lda.l	#10
         01:D5B8  8D 18 23   			sta	_player_state
12654                        	
12655                        		.dbg	line,	"include\routines_LEVELS.c", 2311; }
12656                        	
12657                        		.dbg	line,	"include\routines_LEVELS.c", 2312; }
12658    01:D5BB             	.LL597:
12659                        	
12660                        		.dbg	line,	"include\routines_LEVELS.c", 2315; // SET PLAYER SPRITE NEW POSITION //
12661                        	
12662                        		.dbg	line,	"include\routines_LEVELS.c", 2316; spr_y(player_pos_y);
12663    01:D5BB             	.LL596:
12664                        		__ld.wm		_player_pos_y
         01:D5BB  AD DD 24   			lda.l	_player_pos_y
         01:D5BE  AC DE 24   			ldy.h	_player_pos_y
12665                        		__call		_spr_y.1
         01:D5C1  20 19 E8   			call	_spr_y.1
12666                        	
12667                        		.dbg	line,	"include\routines_LEVELS.c", 2318; spr_set(weapon_id);
12668                        		__ld.umq	_weapon_id
         01:D5C4  AD 26 23   			lda	_weapon_id
12669                        		__call		_spr_set.1
         01:D5C7  20 DD E7   			call	_spr_set.1
12670                        	
12671                        		.dbg	line,	"include\routines_LEVELS.c", 2319; spr_y(player_pos_y+8);
12672                        		__ld.wm		_player_pos_y
         01:D5CA  AD DD 24   			lda.l	_player_pos_y
         01:D5CD  AC DE 24   			ldy.h	_player_pos_y
12673                        		__add.wi	8
         01:D5D0  18         			clc
         01:D5D1  69 08      			adc.l	#8
         01:D5D3  90 01      			bcc	!+
         01:D5D5  C8         			iny
         01:D5D6             	!:
12674                        		__call		_spr_y.1
         01:D5D6  20 19 E8   			call	_spr_y.1
12675                        	
12676                        		.dbg	line,	"include\routines_LEVELS.c", 2320; }
12677                        	
12678                        		.dbg	line,	"include\routines_LEVELS.c", 2323; else if(player_state == STATE_CROUCH)
12679                        		__bra		.LL599
         01:D5D9  4C 4F DC   			bra	.LL599
12680    01:D5DC             	.LL563:
12681                        		__ld.umq	_player_state
         01:D5DC  AD 18 23   			lda	_player_state
12682                        		__equ_b.uiq	7
         01:D5DF  C9 07      			cmp	#7
         01:D5E1  F0 01      			beq	!+
         01:D5E3  18         			clc
         01:D5E4             	!:
12683                        		__bfalse	.LL600
         01:D5E4  90 6A      			bcc	.LL600
12684                        	
12685                        		.dbg	line,	"include\routines_LEVELS.c", 2324; {
12686                        	
12687                        		.dbg	line,	"include\routines_LEVELS.c", 2325; recenter_CAMERA();
12688                        		__call		_recenter_CAMERA
         01:D5E6  20 31 FF   			call	_recenter_CAMERA
12689                        	
12690                        		.dbg	line,	"include\routines_LEVELS.c", 2326; 
12691                        	
12692                        		.dbg	line,	"include\routines_LEVELS.c", 2327; if(player_counter_anim == 1)
12693                        		__ld.umq	_player_counter_anim
         01:D5E9  AD 1B 23   			lda	_player_counter_anim
12694                        		__equ_b.uiq	1
         01:D5EC  C9 01      			cmp	#1
         01:D5EE  F0 01      			beq	!+
         01:D5F0  18         			clc
         01:D5F1             	!:
12695                        		__bfalse	.LL601
         01:D5F1  90 45      			bcc	.LL601
12696                        	
12697                        		.dbg	line,	"include\routines_LEVELS.c", 2328; {
12698                        	
12699                        		.dbg	line,	"include\routines_LEVELS.c", 2329; spr_set(player_id);
12700                        		__ld.umq	_player_id
         01:D5F3  AD 17 23   			lda	_player_id
12701                        		__call		_spr_set.1
         01:D5F6  20 DD E7   			call	_spr_set.1
12702                        	
12703                        		.dbg	line,	"include\routines_LEVELS.c", 2330; spr_pattern(PLAYER_CROUCH_VRAM_ADR);
12704                        		__ld.wi		7168
         01:D5F9  62         			cla
         01:D5FA  A0 1C      			ldy.h	#7168
12705                        		__call		_spr_pattern.1
         01:D5FC  20 26 E8   			call	_spr_pattern.1
12706                        	
12707                        		.dbg	line,	"include\routines_LEVELS.c", 2332; spr_set(weapon_id);
12708                        		__ld.umq	_weapon_id
         01:D5FF  AD 26 23   			lda	_weapon_id
12709                        		__call		_spr_set.1
         01:D602  20 DD E7   			call	_spr_set.1
12710                        	
12711                        		.dbg	line,	"include\routines_LEVELS.c", 2333; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
12712                        		__ld.wi		31808
         01:D605  A9 40      			lda.l	#31808
         01:D607  A0 7C      			ldy.h	#31808
12713                        		__call		_spr_pattern.1
         01:D609  20 26 E8   			call	_spr_pattern.1
12714                        	
12715                        		.dbg	line,	"include\routines_LEVELS.c", 2334; 
12716                        	
12717                        		.dbg	line,	"include\routines_LEVELS.c", 2335; if(player_axis == AXIS_RIGHT)
12718                        		__not.um	_player_axis
         01:D60C  AD 19 23   			lda	_player_axis
         01:D60F  18         			clc
         01:D610  D0 01      			bne	!+
         01:D612  38         			sec
         01:D613             	!:
12719                        		__bfalse	.LL602
         01:D613  90 11      			bcc	.LL602
12720                        	
12721                        		.dbg	line,	"include\routines_LEVELS.c", 2336; {
12722                        	
12723                        		.dbg	line,	"include\routines_LEVELS.c", 2337; spr_x(player_pos_x-1);
12724                        		__ld.wm		_player_pos_x
         01:D615  AD DB 24   			lda.l	_player_pos_x
         01:D618  AC DC 24   			ldy.h	_player_pos_x
12725                        		__sub.wi	1
         01:D61B  38         			sec
         01:D61C  E9 01      			sbc.l	#1
         01:D61E  B0 01      			bcs	!+
         01:D620  88         			dey
         01:D621             	!:
12726                        		__call		_spr_x.1
         01:D621  20 0A E8   			call	_spr_x.1
12727                        	
12728                        		.dbg	line,	"include\routines_LEVELS.c", 2338; }
12729                        	
12730                        		.dbg	line,	"include\routines_LEVELS.c", 2340; else
12731                        		__bra		.LL603
         01:D624  80 0F      			bra	.LL603
12732    01:D626             	.LL602:
12733                        	
12734                        		.dbg	line,	"include\routines_LEVELS.c", 2341; {
12735                        	
12736                        		.dbg	line,	"include\routines_LEVELS.c", 2342; spr_x(player_pos_x+17);
12737                        		__ld.wm		_player_pos_x
         01:D626  AD DB 24   			lda.l	_player_pos_x
         01:D629  AC DC 24   			ldy.h	_player_pos_x
12738                        		__add.wi	17
         01:D62C  18         			clc
         01:D62D  69 11      			adc.l	#17
         01:D62F  90 01      			bcc	!+
         01:D631  C8         			iny
         01:D632             	!:
12739                        		__call		_spr_x.1
         01:D632  20 0A E8   			call	_spr_x.1
12740                        	
12741                        		.dbg	line,	"include\routines_LEVELS.c", 2343; }
12742    01:D635             	.LL603:
12743                        	
12744                        		.dbg	line,	"include\routines_LEVELS.c", 2345; //spr_y(player_pos_y+18);
12745                        	
12746                        		.dbg	line,	"include\routines_LEVELS.c", 2346; 
12747                        	
12748                        		.dbg	line,	"include\routines_LEVELS.c", 2347; player_counter_anim = 0;
12749                        		__st.umiq	0, _player_counter_anim
         01:D635  9C 1B 23   			stz	_player_counter_anim
12750                        	
12751                        		.dbg	line,	"include\routines_LEVELS.c", 2348; }
12752                        	
12753                        		.dbg	line,	"include\routines_LEVELS.c", 2350; spr_set(weapon_id);
12754    01:D638             	.LL601:
12755                        		__ld.umq	_weapon_id
         01:D638  AD 26 23   			lda	_weapon_id
12756                        		__call		_spr_set.1
         01:D63B  20 DD E7   			call	_spr_set.1
12757                        	
12758                        		.dbg	line,	"include\routines_LEVELS.c", 2351; spr_y(player_pos_y+18);
12759                        		__ld.wm		_player_pos_y
         01:D63E  AD DD 24   			lda.l	_player_pos_y
         01:D641  AC DE 24   			ldy.h	_player_pos_y
12760                        		__add.wi	18
         01:D644  18         			clc
         01:D645  69 12      			adc.l	#18
         01:D647  90 01      			bcc	!+
         01:D649  C8         			iny
         01:D64A             	!:
12761                        		__call		_spr_y.1
         01:D64A  20 19 E8   			call	_spr_y.1
12762                        	
12763                        		.dbg	line,	"include\routines_LEVELS.c", 2352; //recenter_CAMERA();
12764                        	
12765                        		.dbg	line,	"include\routines_LEVELS.c", 2353; }
12766                        	
12767                        		.dbg	line,	"include\routines_LEVELS.c", 2356; else if(player_state == STATE_FALL)
12768                        		__bra		.LL604
         01:D64D  4C 4F DC   			bra	.LL604
12769    01:D650             	.LL600:
12770                        		__ld.umq	_player_state
         01:D650  AD 18 23   			lda	_player_state
12771                        		__equ_b.uiq	9
         01:D653  C9 09      			cmp	#9
         01:D655  F0 01      			beq	!+
         01:D657  18         			clc
         01:D658             	!:
12772                        		__bfalse	.LL605
         01:D658  B0 03 4C 95			bcc	.LL605
         01:D65C  D8          
12773                        	
12774                        		.dbg	line,	"include\routines_LEVELS.c", 2357; {
12775                        	
12776                        		.dbg	line,	"include\routines_LEVELS.c", 2358; unsigned char i, camera_y_move;
12777                        	
12778                        		.dbg	line,	"include\routines_LEVELS.c", 2359; i = 1;
12779                        		__st.umiq	1, __update_PLAYER_end - 6  /* i */
         01:D65D  A9 01      			lda.l	#1
         01:D65F  8D 07 23   			sta	__update_PLAYER_end - 6
12780                        	
12781                        		.dbg	line,	"include\routines_LEVELS.c", 2362; spr_set(player_id);
12782                        		__ld.umq	_player_id
         01:D662  AD 17 23   			lda	_player_id
12783                        		__call		_spr_set.1
         01:D665  20 DD E7   			call	_spr_set.1
12784                        	
12785                        		.dbg	line,	"include\routines_LEVELS.c", 2365; //--------------------------------------------------------------------------------------//
12786                        	
12787                        		.dbg	line,	"include\routines_LEVELS.c", 2366; //                                        V MOVE                                        //
12788                        	
12789                        		.dbg	line,	"include\routines_LEVELS.c", 2367; //--------------------------------------------------------------------------------------//
12790                        	
12791                        		.dbg	line,	"include\routines_LEVELS.c", 2369; // UPDATE PLAYER Y POSITION //
12792                        	
12793                        		.dbg	line,	"include\routines_LEVELS.c", 2370; player_pos_y += TABLE_PLAYER_FALL[player_index_fall];
12794                        		__ldx.umq	_player_index_fall
         01:D668  AE 1D 23   			ldx	_player_index_fall
12795                        		__ld.bax	_TABLE_PLAYER_FALL
         01:D66B  BD 1F 62   			lda	_TABLE_PLAYER_FALL, x
         01:D66E  C2         			cly
         01:D66F  10 01      			bpl	!+
         01:D671  88         			dey
         01:D672             	!:
12796                        		__add_st.wmq	_player_pos_y
         01:D672  18         			clc
         01:D673  6D DD 24   			adc.l	_player_pos_y
         01:D676  8D DD 24   			sta.l	_player_pos_y
         01:D679  98         			tya
         01:D67A  6D DE 24   			adc.h	_player_pos_y
         01:D67D  8D DE 24   			sta.h	_player_pos_y
12797                        	
12798                        		.dbg	line,	"include\routines_LEVELS.c", 2373; // IF PLAYER GOES BELOW ITS BASE Y POSITION //
12799                        	
12800                        		.dbg	line,	"include\routines_LEVELS.c", 2374; if(player_pos_y >= PLAYER_BASE_Y_POS)
12801                        		__ld.wm		_player_pos_y
         01:D680  AD DD 24   			lda.l	_player_pos_y
         01:D683  AC DE 24   			ldy.h	_player_pos_y
12802                        		__sge_w.wi	128
         01:D686  C9 80      			cmp.l	#128		; Subtract integer from Y:A.
         01:D688  98         			tya
         01:D689  E9 00      			sbc.h	#128
         01:D68B  50 02      			bvc	!+
         01:D68D  49 80      			eor	#$80		; +ve if Y:A >= integer (signed).
         01:D68F  49 80      	!:		eor	#$80
         01:D691  0A         			asl	a
12803                        		__bfalse	.LL606
         01:D692  90 45      			bcc	.LL606
12804                        	
12805                        		.dbg	line,	"include\routines_LEVELS.c", 2375; {
12806                        	
12807                        		.dbg	line,	"include\routines_LEVELS.c", 2376; // THE CAMERA MOVES //
12808                        	
12809                        		.dbg	line,	"include\routines_LEVELS.c", 2377; // CALCULATE HOW MANY PIXELS THE CAMERA HAS TO MOVE DOWN //
12810                        	
12811                        		.dbg	line,	"include\routines_LEVELS.c", 2378; camera_y_move = player_pos_y - PLAYER_BASE_Y_POS;
12812                        		__ld.wm		_player_pos_y
         01:D694  AD DD 24   			lda.l	_player_pos_y
         01:D697  AC DE 24   			ldy.h	_player_pos_y
12813                        		__sub.wi	128
         01:D69A  38         			sec
         01:D69B  E9 80      			sbc.l	#128
         01:D69D  B0 01      			bcs	!+
         01:D69F  88         			dey
         01:D6A0             	!:
12814                        		__st.umq	__update_PLAYER_end - 7  /* camera_y_move */
         01:D6A0  8D 06 23   			sta	__update_PLAYER_end - 7
12815                        	
12816                        		.dbg	line,	"include\routines_LEVELS.c", 2379; sgx_map_pxl_y += camera_y_move;
12817                        		__ld.um		__update_PLAYER_end - 7  /* camera_y_move */
         01:D6A3  AD 06 23   			lda	__update_PLAYER_end - 7
         01:D6A6  C2         			cly
12818                        		__add_st.wmq	_sgx_map_pxl_y
         01:D6A7  18         			clc
         01:D6A8  6D C0 26   			adc.l	_sgx_map_pxl_y
         01:D6AB  8D C0 26   			sta.l	_sgx_map_pxl_y
         01:D6AE  98         			tya
         01:D6AF  6D C1 26   			adc.h	_sgx_map_pxl_y
         01:D6B2  8D C1 26   			sta.h	_sgx_map_pxl_y
12819                        	
12820                        		.dbg	line,	"include\routines_LEVELS.c", 2381; // IF THE CAMERA HAS REACHED ITS MAX (LOWEST) POSITION //
12821                        	
12822                        		.dbg	line,	"include\routines_LEVELS.c", 2382; if(sgx_map_pxl_y > camera_max_y_position)
12823                        		__ld.wm		_sgx_map_pxl_y
         01:D6B5  AD C0 26   			lda.l	_sgx_map_pxl_y
         01:D6B8  AC C1 26   			ldy.h	_sgx_map_pxl_y
12824                        		__ugt_w.wm	_camera_max_y_position
         01:D6BB  18         			clc			; Subtract memory+1 from Y:A.
         01:D6BC  ED DF 24   			sbc.l	_camera_max_y_position
         01:D6BF  98         			tya
         01:D6C0  ED E0 24   			sbc.h	_camera_max_y_position		; CS if Y:A > memory.
12825                        		__bfalse	.LL607
         01:D6C3  90 0C      			bcc	.LL607
12826                        	
12827                        		.dbg	line,	"include\routines_LEVELS.c", 2383; {
12828                        	
12829                        		.dbg	line,	"include\routines_LEVELS.c", 2384; // THE CAMERA CAN NOT MOVE LOWER //
12830                        	
12831                        		.dbg	line,	"include\routines_LEVELS.c", 2385; sgx_map_pxl_y = camera_max_y_position;
12832                        		__ld.wm		_camera_max_y_position
         01:D6C5  AD DF 24   			lda.l	_camera_max_y_position
         01:D6C8  AC E0 24   			ldy.h	_camera_max_y_position
12833                        		__st.wmq	_sgx_map_pxl_y
         01:D6CB  8D C0 26   			sta.l	_sgx_map_pxl_y
         01:D6CE  8C C1 26   			sty.h	_sgx_map_pxl_y
12834                        	
12835                        		.dbg	line,	"include\routines_LEVELS.c", 2386; }
12836                        	
12837                        		.dbg	line,	"include\routines_LEVELS.c", 2388; // THE PLAYER STAYS AT ITS BASE Y POSITION //
12838                        	
12839                        		.dbg	line,	"include\routines_LEVELS.c", 2389; player_pos_y = PLAYER_BASE_Y_POS;
12840    01:D6D1             	.LL607:
12841                        		__st.wmiq	128, _player_pos_y
         01:D6D1  A9 80      			lda.l	#128
         01:D6D3  8D DD 24   			sta.l	_player_pos_y
         01:D6D6  9C DE 24   			stz.h	_player_pos_y
12842                        	
12843                        		.dbg	line,	"include\routines_LEVELS.c", 2390; }
12844                        	
12845                        		.dbg	line,	"include\routines_LEVELS.c", 2393; // UPDATE JUMP INDEX IN THE ARRAY //
12846                        	
12847                        		.dbg	line,	"include\routines_LEVELS.c", 2394; // ARRAY MAX ENTRY : 20//
12848                        	
12849                        		.dbg	line,	"include\routines_LEVELS.c", 2395; if(player_index_fall < 20)
12850    01:D6D9             	.LL606:
12851                        		__ld.umq	_player_index_fall
         01:D6D9  AD 1D 23   			lda	_player_index_fall
12852                        		__ult_b.uiq	20
         01:D6DC  C9 14      			cmp	#20		; Subtract integer from A.
         01:D6DE  6A         			ror	a		; CC if A < integer.
         01:D6DF  49 80      			eor	#$80
         01:D6E1  2A         			rol	a
12853                        		__bfalse	.LL608
         01:D6E2  90 03      			bcc	.LL608
12854                        	
12855                        		.dbg	line,	"include\routines_LEVELS.c", 2396; {
12856                        	
12857                        		.dbg	line,	"include\routines_LEVELS.c", 2397; player_index_fall += 1;
12858                        		__add_st.umiq	1, _player_index_fall
         01:D6E4  EE 1D 23   			inc	_player_index_fall
12859                        	
12860                        		.dbg	line,	"include\routines_LEVELS.c", 2398; }
12861                        	
12862                        		.dbg	line,	"include\routines_LEVELS.c", 2401; check_TILE_DEPTH( 15 , 0);
12863    01:D6E7             	.LL608:
12864                        		__ld.wi		15
         01:D6E7  A9 0F      			lda.l	#15
         01:D6E9  C2         			cly
12865                        		__pusharg.wr
         01:D6EA  A6 8D      			ldx	<__sp
         01:D6EC  CA         			dex
         01:D6ED  CA         			dex
         01:D6EE  95 08      			sta.l	<__stack, x
         01:D6F0  94 09      			sty.h	<__stack, x
         01:D6F2  86 8D      			stx	<__sp
12866                        		__ld.wi		0
         01:D6F4  62         			cla
         01:D6F5  C2         			cly
12867                        		__pusharg.wr
         01:D6F6  A6 8D      			ldx	<__sp
         01:D6F8  CA         			dex
         01:D6F9  CA         			dex
         01:D6FA  95 08      			sta.l	<__stack, x
         01:D6FC  94 09      			sty.h	<__stack, x
         01:D6FE  86 8D      			stx	<__sp
12868                        		__call		_check_TILE_DEPTH
         01:D700  20 27 FF   			call	_check_TILE_DEPTH
12869                        	
12870                        		.dbg	line,	"include\routines_LEVELS.c", 2404; if(map_blk_flag == TILE_BG)
12871                        		__ld.umq	_map_blk_flag
         01:D703  AD DF 2B   			lda	_map_blk_flag
12872                        		__equ_b.uiq	1
         01:D706  C9 01      			cmp	#1
         01:D708  F0 01      			beq	!+
         01:D70A  18         			clc
         01:D70B             	!:
12873                        		__bfalse	.LL609
         01:D70B  B0 03 4C C7			bcc	.LL609
         01:D70F  D7          
12874                        	
12875                        		.dbg	line,	"include\routines_LEVELS.c", 2405; {
12876                        	
12877                        		.dbg	line,	"include\routines_LEVELS.c", 2406; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
12878                        	
12879                        		.dbg	line,	"include\routines_LEVELS.c", 2407; for(i=1; i<11 ; i++ )
12880                        		__st.umiq	1, __update_PLAYER_end - 6  /* i */
         01:D710  A9 01      			lda.l	#1
         01:D712  8D 07 23   			sta	__update_PLAYER_end - 6
12881    01:D715             	.LL610:
12882                        		__ld.umq	__update_PLAYER_end - 6  /* i */
         01:D715  AD 07 23   			lda	__update_PLAYER_end - 6
12883                        		__ult_b.uiq	11
         01:D718  C9 0B      			cmp	#11		; Subtract integer from A.
         01:D71A  6A         			ror	a		; CC if A < integer.
         01:D71B  49 80      			eor	#$80
         01:D71D  2A         			rol	a
12884                        		__btrue		.LL612
         01:D71E  B0 07      			bcs	.LL612
12885                        		__bra		.LL613
         01:D720  80 7D      			bra	.LL613
12886    01:D722             	.LL611:
12887                        		__inc.umq	__update_PLAYER_end - 6  /* i */
         01:D722  EE 07 23   			inc	__update_PLAYER_end - 6
12888                        		__bra		.LL610
         01:D725  80 EE      			bra	.LL610
12889    01:D727             	.LL612:
12890                        	
12891                        		.dbg	line,	"include\routines_LEVELS.c", 2408; {
12892                        	
12893                        		.dbg	line,	"include\routines_LEVELS.c", 2409; check_TILE_DEPTH( 15 , i);//20
12894                        		__ld.wi		15
         01:D727  A9 0F      			lda.l	#15
         01:D729  C2         			cly
12895                        		__pusharg.wr
         01:D72A  A6 8D      			ldx	<__sp
         01:D72C  CA         			dex
         01:D72D  CA         			dex
         01:D72E  95 08      			sta.l	<__stack, x
         01:D730  94 09      			sty.h	<__stack, x
         01:D732  86 8D      			stx	<__sp
12896                        		__ld.um		__update_PLAYER_end - 6  /* i */
         01:D734  AD 07 23   			lda	__update_PLAYER_end - 6
         01:D737  C2         			cly
12897                        		__pusharg.wr
         01:D738  A6 8D      			ldx	<__sp
         01:D73A  CA         			dex
         01:D73B  CA         			dex
         01:D73C  95 08      			sta.l	<__stack, x
         01:D73E  94 09      			sty.h	<__stack, x
         01:D740  86 8D      			stx	<__sp
12898                        		__call		_check_TILE_DEPTH
         01:D742  20 27 FF   			call	_check_TILE_DEPTH
12899                        	
12900                        		.dbg	line,	"include\routines_LEVELS.c", 2412; if(map_blk_flag == TILE_EMPTY)
12901                        		__not.um	_map_blk_flag
         01:D745  AD DF 2B   			lda	_map_blk_flag
         01:D748  18         			clc
         01:D749  D0 01      			bne	!+
         01:D74B  38         			sec
         01:D74C             	!:
12902                        		__bfalse	.LL614
         01:D74C  90 D4      			bcc	.LL614
12903                        	
12904                        		.dbg	line,	"include\routines_LEVELS.c", 2413; {
12905                        	
12906                        		.dbg	line,	"include\routines_LEVELS.c", 2414; if(player_pos_y != PLAYER_BASE_Y_POS)
12907                        		__ld.wm		_player_pos_y
         01:D74E  AD DD 24   			lda.l	_player_pos_y
         01:D751  AC DE 24   			ldy.h	_player_pos_y
12908                        		__neq_w.wi	128
         01:D754  38         			sec
         01:D755  49 80      			eor.l	#128
         01:D757  D0 06      			bne	!+
         01:D759  98         			tya
         01:D75A  49 00      			eor.h	#128
         01:D75C  D0 01      			bne	!+
         01:D75E  18         			clc
         01:D75F             	!:
12909                        		__bfalse	.LL615
         01:D75F  90 1E      			bcc	.LL615
12910                        	
12911                        		.dbg	line,	"include\routines_LEVELS.c", 2415; {
12912                        	
12913                        		.dbg	line,	"include\routines_LEVELS.c", 2416; player_pos_y -= (i - 1);
12914                        		__ld.um		__update_PLAYER_end - 6  /* i */
         01:D761  AD 07 23   			lda	__update_PLAYER_end - 6
         01:D764  C2         			cly
12915                        		__sub.wi	1
         01:D765  38         			sec
         01:D766  E9 01      			sbc.l	#1
         01:D768  B0 01      			bcs	!+
         01:D76A  88         			dey
         01:D76B             	!:
12916                        		__isub_st.wmq	_player_pos_y
         01:D76B  38         			sec
         01:D76C  49 FF      			eor	#$FF
         01:D76E  6D DD 24   			adc.l	_player_pos_y
         01:D771  8D DD 24   			sta.l	_player_pos_y
         01:D774  98         			tya
         01:D775  49 FF      			eor	#$FF
         01:D777  6D DE 24   			adc.h	_player_pos_y
         01:D77A  8D DE 24   			sta.h	_player_pos_y
12917                        	
12918                        		.dbg	line,	"include\routines_LEVELS.c", 2417; }
12919                        	
12920                        		.dbg	line,	"include\routines_LEVELS.c", 2419; else
12921                        		__bra		.LL616
         01:D77D  80 20      			bra	.LL616
12922    01:D77F             	.LL615:
12923                        	
12924                        		.dbg	line,	"include\routines_LEVELS.c", 2420; {
12925                        	
12926                        		.dbg	line,	"include\routines_LEVELS.c", 2421; sgx_map_pxl_y -= (i - 1);
12927                        		__ld.um		__update_PLAYER_end - 6  /* i */
         01:D77F  AD 07 23   			lda	__update_PLAYER_end - 6
         01:D782  C2         			cly
12928                        		__sub.wi	1
         01:D783  38         			sec
         01:D784  E9 01      			sbc.l	#1
         01:D786  B0 01      			bcs	!+
         01:D788  88         			dey
         01:D789             	!:
12929                        		__isub_st.wmq	_sgx_map_pxl_y
         01:D789  38         			sec
         01:D78A  49 FF      			eor	#$FF
         01:D78C  6D C0 26   			adc.l	_sgx_map_pxl_y
         01:D78F  8D C0 26   			sta.l	_sgx_map_pxl_y
         01:D792  98         			tya
         01:D793  49 FF      			eor	#$FF
         01:D795  6D C1 26   			adc.h	_sgx_map_pxl_y
         01:D798  8D C1 26   			sta.h	_sgx_map_pxl_y
12930                        	
12931                        		.dbg	line,	"include\routines_LEVELS.c", 2422; }
12932    01:D79B             	.LL616	.alias		.LL613
12933                        	
12934                        		.dbg	line,	"include\routines_LEVELS.c", 2425; break;
12935                        		__bra		.LL613
         01:D79B  80 02      			bra	.LL613
12936                        	
12937                        		.dbg	line,	"include\routines_LEVELS.c", 2426; }
12938                        	
12939                        		.dbg	line,	"include\routines_LEVELS.c", 2428; }
12940    01:D79D             	.LL614	.alias		.LL611
12941                        		__bra		.LL611
         01:D79D  80 83      			bra	.LL611
12942    01:D79F             	.LL613:
12943                        	
12944                        		.dbg	line,	"include\routines_LEVELS.c", 2430; spr_y(player_pos_y);
12945                        		__ld.wm		_player_pos_y
         01:D79F  AD DD 24   			lda.l	_player_pos_y
         01:D7A2  AC DE 24   			ldy.h	_player_pos_y
12946                        		__call		_spr_y.1
         01:D7A5  20 19 E8   			call	_spr_y.1
12947                        	
12948                        		.dbg	line,	"include\routines_LEVELS.c", 2432; player_counter_anim = 1;
12949                        		__st.umiq	1, _player_counter_anim
         01:D7A8  A9 01      			lda.l	#1
         01:D7AA  8D 1B 23   			sta	_player_counter_anim
12950                        	
12951                        		.dbg	line,	"include\routines_LEVELS.c", 2433; player_index_jump = 0;
12952                        		__st.umiq	0, _player_index_jump
         01:D7AD  9C 1C 23   			stz	_player_index_jump
12953                        	
12954                        		.dbg	line,	"include\routines_LEVELS.c", 2434; player_index_fall = 0;
12955                        		__st.umiq	0, _player_index_fall
         01:D7B0  9C 1D 23   			stz	_player_index_fall
12956                        	
12957                        		.dbg	line,	"include\routines_LEVELS.c", 2435; jump_ladder = FALSE;
12958                        		__st.umiq	0, _jump_ladder
         01:D7B3  9C 21 23   			stz	_jump_ladder
12959                        	
12960                        		.dbg	line,	"include\routines_LEVELS.c", 2436; fall_ladder = FALSE;
12961                        		__st.umiq	0, _fall_ladder
         01:D7B6  9C 23 23   			stz	_fall_ladder
12962                        	
12963                        		.dbg	line,	"include\routines_LEVELS.c", 2437; hit_wall = FALSE;
12964                        		__st.umiq	0, _hit_wall
         01:D7B9  9C 24 23   			stz	_hit_wall
12965                        	
12966                        		.dbg	line,	"include\routines_LEVELS.c", 2438; jump_max_index = 34;
12967                        		__st.umiq	34, _jump_max_index
         01:D7BC  A9 22      			lda.l	#34
         01:D7BE  8D 22 23   			sta	_jump_max_index
12968                        	
12969                        		.dbg	line,	"include\routines_LEVELS.c", 2439; player_state = STATE_IDLE;
12970                        		__st.umiq	0, _player_state
         01:D7C1  9C 18 23   			stz	_player_state
12971                        	
12972                        		.dbg	line,	"include\routines_LEVELS.c", 2440; return;
12973                        		__bra		.LL422
         01:D7C4  4C 4F DC   			bra	.LL422
12974                        	
12975                        		.dbg	line,	"include\routines_LEVELS.c", 2441; }
12976                        	
12977                        		.dbg	line,	"include\routines_LEVELS.c", 2444; check_BG( 16 , 16 );
12978    01:D7C7             	.LL609:
12979                        		__ld.wi		16
         01:D7C7  A9 10      			lda.l	#16
         01:D7C9  C2         			cly
12980                        		__pusharg.wr
         01:D7CA  A6 8D      			ldx	<__sp
         01:D7CC  CA         			dex
         01:D7CD  CA         			dex
         01:D7CE  95 08      			sta.l	<__stack, x
         01:D7D0  94 09      			sty.h	<__stack, x
         01:D7D2  86 8D      			stx	<__sp
12981                        		__ld.wi		16
         01:D7D4  A9 10      			lda.l	#16
         01:D7D6  C2         			cly
12982                        		__pusharg.wr
         01:D7D7  A6 8D      			ldx	<__sp
         01:D7D9  CA         			dex
         01:D7DA  CA         			dex
         01:D7DB  95 08      			sta.l	<__stack, x
         01:D7DD  94 09      			sty.h	<__stack, x
         01:D7DF  86 8D      			stx	<__sp
12983                        		__call		_check_BG
         01:D7E1  20 3B FF   			call	_check_BG
12984                        	
12985                        		.dbg	line,	"include\routines_LEVELS.c", 2446; // IF PLAYER HITS THE LADDER //
12986                        	
12987                        		.dbg	line,	"include\routines_LEVELS.c", 2447; if(map_blk_flag == TILE_LADDER)
12988                        		__ld.umq	_map_blk_flag
         01:D7E4  AD DF 2B   			lda	_map_blk_flag
12989                        		__equ_b.uiq	2
         01:D7E7  C9 02      			cmp	#2
         01:D7E9  F0 01      			beq	!+
         01:D7EB  18         			clc
         01:D7EC             	!:
12990                        		__bfalse	.LL617
         01:D7EC  90 6F      			bcc	.LL617
12991                        	
12992                        		.dbg	line,	"include\routines_LEVELS.c", 2448; {
12993                        	
12994                        		.dbg	line,	"include\routines_LEVELS.c", 2449; // CAMERA GOES 8 PX BACKWARD //
12995                        	
12996                        		.dbg	line,	"include\routines_LEVELS.c", 2450; sgx_map_pxl_x = ( (sgx_map_pxl_x >> 3) << 3 );
12997                        		__ld.wm		_sgx_map_pxl_x
         01:D7EE  AD BE 26   			lda.l	_sgx_map_pxl_x
         01:D7F1  AC BF 26   			ldy.h	_sgx_map_pxl_x
12998                        		__lsr.wi	3
         01:D7F4  84 00      			sty	__temp
         01:D7F6  20 3A E2   			jsr	lsrw3
12999                        		__asl.wi	3
         01:D7F9  84 00      			sty	__temp
         01:D7FB  20 D7 E1   			jsr	aslw3
13000                        		__st.wmq	_sgx_map_pxl_x
         01:D7FE  8D BE 26   			sta.l	_sgx_map_pxl_x
         01:D801  8C BF 26   			sty.h	_sgx_map_pxl_x
13001                        	
13002                        		.dbg	line,	"include\routines_LEVELS.c", 2452; // SO WE UPDATE THE MAP //
13003                        	
13004                        		.dbg	line,	"include\routines_LEVELS.c", 2453; sgx_scroll_map();
13005                        		__call		_sgx_scroll_map
         01:D804  20 4F FF   			call	_sgx_scroll_map
13006                        	
13007                        		.dbg	line,	"include\routines_LEVELS.c", 2455; // CHECK IF THE PLAYER STANDS RIGHT TO THE LADDER //
13008                        	
13009                        		.dbg	line,	"include\routines_LEVELS.c", 2456; check_BG( 31 , 16 );
13010                        		__ld.wi		31
         01:D807  A9 1F      			lda.l	#31
         01:D809  C2         			cly
13011                        		__pusharg.wr
         01:D80A  A6 8D      			ldx	<__sp
         01:D80C  CA         			dex
         01:D80D  CA         			dex
         01:D80E  95 08      			sta.l	<__stack, x
         01:D810  94 09      			sty.h	<__stack, x
         01:D812  86 8D      			stx	<__sp
13012                        		__ld.wi		16
         01:D814  A9 10      			lda.l	#16
         01:D816  C2         			cly
13013                        		__pusharg.wr
         01:D817  A6 8D      			ldx	<__sp
         01:D819  CA         			dex
         01:D81A  CA         			dex
         01:D81B  95 08      			sta.l	<__stack, x
         01:D81D  94 09      			sty.h	<__stack, x
         01:D81F  86 8D      			stx	<__sp
13014                        		__call		_check_BG
         01:D821  20 3B FF   			call	_check_BG
13015                        	
13016                        		.dbg	line,	"include\routines_LEVELS.c", 2458; if(map_blk_flag == TILE_LADDER)
13017                        		__ld.umq	_map_blk_flag
         01:D824  AD DF 2B   			lda	_map_blk_flag
13018                        		__equ_b.uiq	2
         01:D827  C9 02      			cmp	#2
         01:D829  F0 01      			beq	!+
         01:D82B  18         			clc
         01:D82C             	!:
13019                        		__bfalse	.LL618
         01:D82C  90 0E      			bcc	.LL618
13020                        	
13021                        		.dbg	line,	"include\routines_LEVELS.c", 2459; {
13022                        	
13023                        		.dbg	line,	"include\routines_LEVELS.c", 2460; sgx_map_pxl_x += 8;
13024                        		__add_st.wmiq	8, _sgx_map_pxl_x
         01:D82E  18         			clc
         01:D82F  AD BE 26   			lda.l	_sgx_map_pxl_x
         01:D832  69 08      			adc.l	#8
         01:D834  8D BE 26   			sta.l	_sgx_map_pxl_x
         01:D837  90 03      			bcc	!+
         01:D839  EE BF 26   			inc.h	_sgx_map_pxl_x
         01:D83C             	!:
13025                        	
13026                        		.dbg	line,	"include\routines_LEVELS.c", 2461; }
13027                        	
13028                        		.dbg	line,	"include\routines_LEVELS.c", 2463; spr_pattern(PLAYER_HANG_VRAM_ADR);
13029    01:D83C             	.LL618:
13030                        		__ld.wi		7424
         01:D83C  62         			cla
         01:D83D  A0 1D      			ldy.h	#7424
13031                        		__call		_spr_pattern.1
         01:D83F  20 26 E8   			call	_spr_pattern.1
13032                        	
13033                        		.dbg	line,	"include\routines_LEVELS.c", 2464; player_counter_anim = 0;//1
13034                        		__st.umiq	0, _player_counter_anim
         01:D842  9C 1B 23   			stz	_player_counter_anim
13035                        	
13036                        		.dbg	line,	"include\routines_LEVELS.c", 2465; player_index_jump = 0;
13037                        		__st.umiq	0, _player_index_jump
         01:D845  9C 1C 23   			stz	_player_index_jump
13038                        	
13039                        		.dbg	line,	"include\routines_LEVELS.c", 2466; player_index_fall = 0;
13040                        		__st.umiq	0, _player_index_fall
         01:D848  9C 1D 23   			stz	_player_index_fall
13041                        	
13042                        		.dbg	line,	"include\routines_LEVELS.c", 2467; jump_ladder = TRUE;
13043                        		__st.umiq	1, _jump_ladder
         01:D84B  A9 01      			lda.l	#1
         01:D84D  8D 21 23   			sta	_jump_ladder
13044                        	
13045                        		.dbg	line,	"include\routines_LEVELS.c", 2468; jump_max_index = 29;
13046                        		__st.umiq	29, _jump_max_index
         01:D850  A9 1D      			lda.l	#29
         01:D852  8D 22 23   			sta	_jump_max_index
13047                        	
13048                        		.dbg	line,	"include\routines_LEVELS.c", 2469; player_state = STATE_HANG;
13049                        		__st.umiq	10, _player_state
         01:D855  A9 0A      			lda.l	#10
         01:D857  8D 18 23   			sta	_player_state
13050                        	
13051                        		.dbg	line,	"include\routines_LEVELS.c", 2470; return;
13052                        		__bra		.LL422
         01:D85A  4C 4F DC   			bra	.LL422
13053                        	
13054                        		.dbg	line,	"include\routines_LEVELS.c", 2471; }
13055                        	
13056                        		.dbg	line,	"include\routines_LEVELS.c", 2473; spr_y(player_pos_y);
13057    01:D85D             	.LL617:
13058                        		__ld.wm		_player_pos_y
         01:D85D  AD DD 24   			lda.l	_player_pos_y
         01:D860  AC DE 24   			ldy.h	_player_pos_y
13059                        		__call		_spr_y.1
         01:D863  20 19 E8   			call	_spr_y.1
13060                        	
13061                        		.dbg	line,	"include\routines_LEVELS.c", 2475; spr_set(weapon_id);
13062                        		__ld.umq	_weapon_id
         01:D866  AD 26 23   			lda	_weapon_id
13063                        		__call		_spr_set.1
         01:D869  20 DD E7   			call	_spr_set.1
13064                        	
13065                        		.dbg	line,	"include\routines_LEVELS.c", 2477; if(fall_ladder == TRUE || hit_wall == TRUE)
13066                        		__ld.umq	_fall_ladder
         01:D86C  AD 23 23   			lda	_fall_ladder
13067                        		__equ_b.uiq	1
         01:D86F  C9 01      			cmp	#1
         01:D871  F0 01      			beq	!+
         01:D873  18         			clc
         01:D874             	!:
13068                        		__btrue		.LL620
         01:D874  B0 08      			bcs	.LL620
13069                        		__ld.umq	_hit_wall
         01:D876  AD 24 23   			lda	_hit_wall
13070                        		__equ_b.uiq	1
         01:D879  C9 01      			cmp	#1
         01:D87B  F0 01      			beq	!+
         01:D87D  18         			clc
         01:D87E             	!:
13071    01:D87E             	.LL620:
13072                        		__bfalse	.LL619
         01:D87E  B0 03 4C 4F			bcc	.LL619
         01:D882  DC          
13073                        	
13074                        		.dbg	line,	"include\routines_LEVELS.c", 2478; {
13075                        	
13076                        		.dbg	line,	"include\routines_LEVELS.c", 2479; spr_y(player_pos_y+8);
13077                        		__ld.wm		_player_pos_y
         01:D883  AD DD 24   			lda.l	_player_pos_y
         01:D886  AC DE 24   			ldy.h	_player_pos_y
13078                        		__add.wi	8
         01:D889  18         			clc
         01:D88A  69 08      			adc.l	#8
         01:D88C  90 01      			bcc	!+
         01:D88E  C8         			iny
         01:D88F             	!:
13079                        		__call		_spr_y.1
         01:D88F  20 19 E8   			call	_spr_y.1
13080                        	
13081                        		.dbg	line,	"include\routines_LEVELS.c", 2480; }
13082                        	
13083                        		.dbg	line,	"include\routines_LEVELS.c", 2481; }
13084    01:D892             	.LL619	.alias		.LL621
13085                        	
13086                        		.dbg	line,	"include\routines_LEVELS.c", 2484; else if(player_state == STATE_HANG)
13087                        		__bra		.LL621
         01:D892  4C 4F DC   			bra	.LL621
13088    01:D895             	.LL605:
13089                        		__ld.umq	_player_state
         01:D895  AD 18 23   			lda	_player_state
13090                        		__equ_b.uiq	10
         01:D898  C9 0A      			cmp	#10
         01:D89A  F0 01      			beq	!+
         01:D89C  18         			clc
         01:D89D             	!:
13091                        		__bfalse	.LL622
         01:D89D  90 5A      			bcc	.LL622
13092                        	
13093                        		.dbg	line,	"include\routines_LEVELS.c", 2485; {
13094                        	
13095                        		.dbg	line,	"include\routines_LEVELS.c", 2486; recenter_CAMERA();
13096                        		__call		_recenter_CAMERA
         01:D89F  20 31 FF   			call	_recenter_CAMERA
13097                        	
13098                        		.dbg	line,	"include\routines_LEVELS.c", 2488; if(player_attack == FALSE)
13099                        		__not.um	_player_attack
         01:D8A2  AD 20 23   			lda	_player_attack
         01:D8A5  18         			clc
         01:D8A6  D0 01      			bne	!+
         01:D8A8  38         			sec
         01:D8A9             	!:
13100                        		__bfalse	.LL623
         01:D8A9  B0 03 4C 4F			bcc	.LL623
         01:D8AD  DC          
13101                        	
13102                        		.dbg	line,	"include\routines_LEVELS.c", 2489; {
13103                        	
13104                        		.dbg	line,	"include\routines_LEVELS.c", 2490; spr_set(weapon_id);
13105                        		__ld.umq	_weapon_id
         01:D8AE  AD 26 23   			lda	_weapon_id
13106                        		__call		_spr_set.1
         01:D8B1  20 DD E7   			call	_spr_set.1
13107                        	
13108                        		.dbg	line,	"include\routines_LEVELS.c", 2491; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
13109                        		__ld.wi		31808
         01:D8B4  A9 40      			lda.l	#31808
         01:D8B6  A0 7C      			ldy.h	#31808
13110                        		__call		_spr_pattern.1
         01:D8B8  20 26 E8   			call	_spr_pattern.1
13111                        	
13112                        		.dbg	line,	"include\routines_LEVELS.c", 2492; spr_y(player_pos_y+5);
13113                        		__ld.wm		_player_pos_y
         01:D8BB  AD DD 24   			lda.l	_player_pos_y
         01:D8BE  AC DE 24   			ldy.h	_player_pos_y
13114                        		__add.wi	5
         01:D8C1  18         			clc
         01:D8C2  69 05      			adc.l	#5
         01:D8C4  90 01      			bcc	!+
         01:D8C6  C8         			iny
         01:D8C7             	!:
13115                        		__call		_spr_y.1
         01:D8C7  20 19 E8   			call	_spr_y.1
13116                        	
13117                        		.dbg	line,	"include\routines_LEVELS.c", 2494; if(player_axis == AXIS_RIGHT)
13118                        		__not.um	_player_axis
         01:D8CA  AD 19 23   			lda	_player_axis
         01:D8CD  18         			clc
         01:D8CE  D0 01      			bne	!+
         01:D8D0  38         			sec
         01:D8D1             	!:
13119                        		__bfalse	.LL624
         01:D8D1  90 11      			bcc	.LL624
13120                        	
13121                        		.dbg	line,	"include\routines_LEVELS.c", 2495; {
13122                        	
13123                        		.dbg	line,	"include\routines_LEVELS.c", 2496; spr_x(player_pos_x+17);
13124                        		__ld.wm		_player_pos_x
         01:D8D3  AD DB 24   			lda.l	_player_pos_x
         01:D8D6  AC DC 24   			ldy.h	_player_pos_x
13125                        		__add.wi	17
         01:D8D9  18         			clc
         01:D8DA  69 11      			adc.l	#17
         01:D8DC  90 01      			bcc	!+
         01:D8DE  C8         			iny
         01:D8DF             	!:
13126                        		__call		_spr_x.1
         01:D8DF  20 0A E8   			call	_spr_x.1
13127                        	
13128                        		.dbg	line,	"include\routines_LEVELS.c", 2497; }
13129                        	
13130                        		.dbg	line,	"include\routines_LEVELS.c", 2499; else
13131                        		__bra		.LL625
         01:D8E2  80 0F      			bra	.LL625
13132    01:D8E4             	.LL624:
13133                        	
13134                        		.dbg	line,	"include\routines_LEVELS.c", 2500; {
13135                        	
13136                        		.dbg	line,	"include\routines_LEVELS.c", 2501; spr_x(player_pos_x-2);
13137                        		__ld.wm		_player_pos_x
         01:D8E4  AD DB 24   			lda.l	_player_pos_x
         01:D8E7  AC DC 24   			ldy.h	_player_pos_x
13138                        		__sub.wi	2
         01:D8EA  38         			sec
         01:D8EB  E9 02      			sbc.l	#2
         01:D8ED  B0 01      			bcs	!+
         01:D8EF  88         			dey
         01:D8F0             	!:
13139                        		__call		_spr_x.1
         01:D8F0  20 0A E8   			call	_spr_x.1
13140                        	
13141                        		.dbg	line,	"include\routines_LEVELS.c", 2502; }
13142    01:D8F3             	.LL625:
13143                        	
13144                        		.dbg	line,	"include\routines_LEVELS.c", 2503; 
13145                        	
13146                        		.dbg	line,	"include\routines_LEVELS.c", 2504; player_counter_anim = 0;
13147                        		__st.umiq	0, _player_counter_anim
         01:D8F3  9C 1B 23   			stz	_player_counter_anim
13148                        	
13149                        		.dbg	line,	"include\routines_LEVELS.c", 2505; }
13150                        	
13151                        		.dbg	line,	"include\routines_LEVELS.c", 2506; }
13152    01:D8F6             	.LL623	.alias		.LL626
13153                        	
13154                        		.dbg	line,	"include\routines_LEVELS.c", 2509; else if(player_state == STATE_CLIMB_UP)
13155                        		__bra		.LL626
         01:D8F6  4C 4F DC   			bra	.LL626
13156    01:D8F9             	.LL622:
13157                        		__ld.umq	_player_state
         01:D8F9  AD 18 23   			lda	_player_state
13158                        		__equ_b.uiq	11
         01:D8FC  C9 0B      			cmp	#11
         01:D8FE  F0 01      			beq	!+
         01:D900  18         			clc
         01:D901             	!:
13159                        		__bfalse	.LL627
         01:D901  B0 03 4C DB			bcc	.LL627
         01:D905  D9          
13160                        	
13161                        		.dbg	line,	"include\routines_LEVELS.c", 2510; {
13162                        	
13163                        		.dbg	line,	"include\routines_LEVELS.c", 2511; if(player_counter_anim == 0)
13164                        		__not.um	_player_counter_anim
         01:D906  AD 1B 23   			lda	_player_counter_anim
         01:D909  18         			clc
         01:D90A  D0 01      			bne	!+
         01:D90C  38         			sec
         01:D90D             	!:
13165                        		__bfalse	.LL628
         01:D90D  90 0F      			bcc	.LL628
13166                        	
13167                        		.dbg	line,	"include\routines_LEVELS.c", 2512; {
13168                        	
13169                        		.dbg	line,	"include\routines_LEVELS.c", 2513; spr_set(player_id);
13170                        		__ld.umq	_player_id
         01:D90F  AD 17 23   			lda	_player_id
13171                        		__call		_spr_set.1
         01:D912  20 DD E7   			call	_spr_set.1
13172                        	
13173                        		.dbg	line,	"include\routines_LEVELS.c", 2514; spr_pattern(PLAYER_CLIMB_1_VRAM_ADR); 
13174                        		__ld.wi		7680
         01:D915  62         			cla
         01:D916  A0 1E      			ldy.h	#7680
13175                        		__call		_spr_pattern.1
         01:D918  20 26 E8   			call	_spr_pattern.1
13176                        	
13177                        		.dbg	line,	"include\routines_LEVELS.c", 2515; }
13178                        	
13179                        		.dbg	line,	"include\routines_LEVELS.c", 2517; else if(player_counter_anim == 2)
13180                        		__bra		.LL629
         01:D91B  4C C5 D9   			bra	.LL629
13181    01:D91E             	.LL628:
13182                        		__ld.umq	_player_counter_anim
         01:D91E  AD 1B 23   			lda	_player_counter_anim
13183                        		__equ_b.uiq	2
         01:D921  C9 02      			cmp	#2
         01:D923  F0 01      			beq	!+
         01:D925  18         			clc
         01:D926             	!:
13184                        		__bfalse	.LL630
         01:D926  90 0F      			bcc	.LL630
13185                        	
13186                        		.dbg	line,	"include\routines_LEVELS.c", 2518; {
13187                        	
13188                        		.dbg	line,	"include\routines_LEVELS.c", 2519; spr_set(player_id);
13189                        		__ld.umq	_player_id
         01:D928  AD 17 23   			lda	_player_id
13190                        		__call		_spr_set.1
         01:D92B  20 DD E7   			call	_spr_set.1
13191                        	
13192                        		.dbg	line,	"include\routines_LEVELS.c", 2520; spr_pattern(PLAYER_CLIMB_2_VRAM_ADR); 
13193                        		__ld.wi		7936
         01:D92E  62         			cla
         01:D92F  A0 1F      			ldy.h	#7936
13194                        		__call		_spr_pattern.1
         01:D931  20 26 E8   			call	_spr_pattern.1
13195                        	
13196                        		.dbg	line,	"include\routines_LEVELS.c", 2521; }
13197                        	
13198                        		.dbg	line,	"include\routines_LEVELS.c", 2523; else if(player_counter_anim == 5)
13199                        		__bra		.LL631
         01:D934  4C C5 D9   			bra	.LL631
13200    01:D937             	.LL630:
13201                        		__ld.umq	_player_counter_anim
         01:D937  AD 1B 23   			lda	_player_counter_anim
13202                        		__equ_b.uiq	5
         01:D93A  C9 05      			cmp	#5
         01:D93C  F0 01      			beq	!+
         01:D93E  18         			clc
         01:D93F             	!:
13203                        		__bfalse	.LL632
         01:D93F  90 0E      			bcc	.LL632
13204                        	
13205                        		.dbg	line,	"include\routines_LEVELS.c", 2524; {
13206                        	
13207                        		.dbg	line,	"include\routines_LEVELS.c", 2525; spr_set(player_id);
13208                        		__ld.umq	_player_id
         01:D941  AD 17 23   			lda	_player_id
13209                        		__call		_spr_set.1
         01:D944  20 DD E7   			call	_spr_set.1
13210                        	
13211                        		.dbg	line,	"include\routines_LEVELS.c", 2526; spr_pattern(PLAYER_CLIMB_3_VRAM_ADR); 
13212                        		__ld.wi		8192
         01:D947  62         			cla
         01:D948  A0 20      			ldy.h	#8192
13213                        		__call		_spr_pattern.1
         01:D94A  20 26 E8   			call	_spr_pattern.1
13214                        	
13215                        		.dbg	line,	"include\routines_LEVELS.c", 2527; }
13216                        	
13217                        		.dbg	line,	"include\routines_LEVELS.c", 2529; else if(player_counter_anim == 8)
13218                        		__bra		.LL633
         01:D94D  80 76      			bra	.LL633
13219    01:D94F             	.LL632:
13220                        		__ld.umq	_player_counter_anim
         01:D94F  AD 1B 23   			lda	_player_counter_anim
13221                        		__equ_b.uiq	8
         01:D952  C9 08      			cmp	#8
         01:D954  F0 01      			beq	!+
         01:D956  18         			clc
         01:D957             	!:
13222                        		__bfalse	.LL634
         01:D957  90 0E      			bcc	.LL634
13223                        	
13224                        		.dbg	line,	"include\routines_LEVELS.c", 2530; {
13225                        	
13226                        		.dbg	line,	"include\routines_LEVELS.c", 2531; spr_set(player_id);
13227                        		__ld.umq	_player_id
         01:D959  AD 17 23   			lda	_player_id
13228                        		__call		_spr_set.1
         01:D95C  20 DD E7   			call	_spr_set.1
13229                        	
13230                        		.dbg	line,	"include\routines_LEVELS.c", 2532; spr_pattern(PLAYER_CLIMB_4_VRAM_ADR); 
13231                        		__ld.wi		8448
         01:D95F  62         			cla
         01:D960  A0 21      			ldy.h	#8448
13232                        		__call		_spr_pattern.1
         01:D962  20 26 E8   			call	_spr_pattern.1
13233                        	
13234                        		.dbg	line,	"include\routines_LEVELS.c", 2533; }
13235                        	
13236                        		.dbg	line,	"include\routines_LEVELS.c", 2535; else if(player_counter_anim == 11)
13237                        		__bra		.LL635
         01:D965  80 5E      			bra	.LL635
13238    01:D967             	.LL634:
13239                        		__ld.umq	_player_counter_anim
         01:D967  AD 1B 23   			lda	_player_counter_anim
13240                        		__equ_b.uiq	11
         01:D96A  C9 0B      			cmp	#11
         01:D96C  F0 01      			beq	!+
         01:D96E  18         			clc
         01:D96F             	!:
13241                        		__bfalse	.LL636
         01:D96F  90 0E      			bcc	.LL636
13242                        	
13243                        		.dbg	line,	"include\routines_LEVELS.c", 2536; {
13244                        	
13245                        		.dbg	line,	"include\routines_LEVELS.c", 2537; spr_set(player_id);
13246                        		__ld.umq	_player_id
         01:D971  AD 17 23   			lda	_player_id
13247                        		__call		_spr_set.1
         01:D974  20 DD E7   			call	_spr_set.1
13248                        	
13249                        		.dbg	line,	"include\routines_LEVELS.c", 2538; spr_pattern(PLAYER_CLIMB_5_VRAM_ADR); 
13250                        		__ld.wi		8704
         01:D977  62         			cla
         01:D978  A0 22      			ldy.h	#8704
13251                        		__call		_spr_pattern.1
         01:D97A  20 26 E8   			call	_spr_pattern.1
13252                        	
13253                        		.dbg	line,	"include\routines_LEVELS.c", 2539; }
13254                        	
13255                        		.dbg	line,	"include\routines_LEVELS.c", 2541; else if(player_counter_anim == 14)
13256                        		__bra		.LL637
         01:D97D  80 46      			bra	.LL637
13257    01:D97F             	.LL636:
13258                        		__ld.umq	_player_counter_anim
         01:D97F  AD 1B 23   			lda	_player_counter_anim
13259                        		__equ_b.uiq	14
         01:D982  C9 0E      			cmp	#14
         01:D984  F0 01      			beq	!+
         01:D986  18         			clc
         01:D987             	!:
13260                        		__bfalse	.LL638
         01:D987  90 0E      			bcc	.LL638
13261                        	
13262                        		.dbg	line,	"include\routines_LEVELS.c", 2542; {
13263                        	
13264                        		.dbg	line,	"include\routines_LEVELS.c", 2543; spr_set(player_id);
13265                        		__ld.umq	_player_id
         01:D989  AD 17 23   			lda	_player_id
13266                        		__call		_spr_set.1
         01:D98C  20 DD E7   			call	_spr_set.1
13267                        	
13268                        		.dbg	line,	"include\routines_LEVELS.c", 2544; spr_pattern(PLAYER_CLIMB_6_VRAM_ADR); 
13269                        		__ld.wi		8960
         01:D98F  62         			cla
         01:D990  A0 23      			ldy.h	#8960
13270                        		__call		_spr_pattern.1
         01:D992  20 26 E8   			call	_spr_pattern.1
13271                        	
13272                        		.dbg	line,	"include\routines_LEVELS.c", 2545; }
13273                        	
13274                        		.dbg	line,	"include\routines_LEVELS.c", 2547; else if(player_counter_anim == 17)
13275                        		__bra		.LL639
         01:D995  80 2E      			bra	.LL639
13276    01:D997             	.LL638:
13277                        		__ld.umq	_player_counter_anim
         01:D997  AD 1B 23   			lda	_player_counter_anim
13278                        		__equ_b.uiq	17
         01:D99A  C9 11      			cmp	#17
         01:D99C  F0 01      			beq	!+
         01:D99E  18         			clc
         01:D99F             	!:
13279                        		__bfalse	.LL640
         01:D99F  90 0E      			bcc	.LL640
13280                        	
13281                        		.dbg	line,	"include\routines_LEVELS.c", 2548; {
13282                        	
13283                        		.dbg	line,	"include\routines_LEVELS.c", 2549; spr_set(player_id);
13284                        		__ld.umq	_player_id
         01:D9A1  AD 17 23   			lda	_player_id
13285                        		__call		_spr_set.1
         01:D9A4  20 DD E7   			call	_spr_set.1
13286                        	
13287                        		.dbg	line,	"include\routines_LEVELS.c", 2550; spr_pattern(PLAYER_CLIMB_3_VRAM_ADR); 
13288                        		__ld.wi		8192
         01:D9A7  62         			cla
         01:D9A8  A0 20      			ldy.h	#8192
13289                        		__call		_spr_pattern.1
         01:D9AA  20 26 E8   			call	_spr_pattern.1
13290                        	
13291                        		.dbg	line,	"include\routines_LEVELS.c", 2551; }
13292                        	
13293                        		.dbg	line,	"include\routines_LEVELS.c", 2553; else if(player_counter_anim == 20)
13294                        		__bra		.LL641
         01:D9AD  80 16      			bra	.LL641
13295    01:D9AF             	.LL640:
13296                        		__ld.umq	_player_counter_anim
         01:D9AF  AD 1B 23   			lda	_player_counter_anim
13297                        		__equ_b.uiq	20
         01:D9B2  C9 14      			cmp	#20
         01:D9B4  F0 01      			beq	!+
         01:D9B6  18         			clc
         01:D9B7             	!:
13298                        		__bfalse	.LL642
         01:D9B7  90 0C      			bcc	.LL642
13299                        	
13300                        		.dbg	line,	"include\routines_LEVELS.c", 2554; {
13301                        	
13302                        		.dbg	line,	"include\routines_LEVELS.c", 2555; spr_set(player_id);
13303                        		__ld.umq	_player_id
         01:D9B9  AD 17 23   			lda	_player_id
13304                        		__call		_spr_set.1
         01:D9BC  20 DD E7   			call	_spr_set.1
13305                        	
13306                        		.dbg	line,	"include\routines_LEVELS.c", 2556; spr_pattern(PLAYER_CLIMB_2_VRAM_ADR); 
13307                        		__ld.wi		7936
         01:D9BF  62         			cla
         01:D9C0  A0 1F      			ldy.h	#7936
13308                        		__call		_spr_pattern.1
         01:D9C2  20 26 E8   			call	_spr_pattern.1
13309                        	
13310                        		.dbg	line,	"include\routines_LEVELS.c", 2557; }
13311                        	
13312                        		.dbg	line,	"include\routines_LEVELS.c", 2560; player_counter_anim += 1;
13313    01:D9C5             	.LL642:
13314    01:D9C5             	.LL641:
13315    01:D9C5             	.LL639:
13316    01:D9C5             	.LL637:
13317    01:D9C5             	.LL635:
13318    01:D9C5             	.LL633:
13319    01:D9C5             	.LL631:
13320    01:D9C5             	.LL629:
13321                        		__add_st.umiq	1, _player_counter_anim
         01:D9C5  EE 1B 23   			inc	_player_counter_anim
13322                        	
13323                        		.dbg	line,	"include\routines_LEVELS.c", 2562; if(player_counter_anim == 22)
13324                        		__ld.umq	_player_counter_anim
         01:D9C8  AD 1B 23   			lda	_player_counter_anim
13325                        		__equ_b.uiq	22
         01:D9CB  C9 16      			cmp	#22
         01:D9CD  F0 01      			beq	!+
         01:D9CF  18         			clc
         01:D9D0             	!:
13326                        		__bfalse	.LL643
         01:D9D0  90 03      			bcc	.LL643
13327                        	
13328                        		.dbg	line,	"include\routines_LEVELS.c", 2563; {
13329                        	
13330                        		.dbg	line,	"include\routines_LEVELS.c", 2564; player_counter_anim = 0;
13331                        		__st.umiq	0, _player_counter_anim
         01:D9D2  9C 1B 23   			stz	_player_counter_anim
13332                        	
13333                        		.dbg	line,	"include\routines_LEVELS.c", 2565; }
13334                        	
13335                        		.dbg	line,	"include\routines_LEVELS.c", 2567; recenter_CAMERA();
13336    01:D9D5             	.LL643:
13337                        		__call		_recenter_CAMERA
         01:D9D5  20 31 FF   			call	_recenter_CAMERA
13338                        	
13339                        		.dbg	line,	"include\routines_LEVELS.c", 2568; }
13340                        	
13341                        		.dbg	line,	"include\routines_LEVELS.c", 2571; else if(player_state == STATE_CLIMB_DOWN)
13342                        		__bra		.LL644
         01:D9D8  4C 4F DC   			bra	.LL644
13343    01:D9DB             	.LL627:
13344                        		__ld.umq	_player_state
         01:D9DB  AD 18 23   			lda	_player_state
13345                        		__equ_b.uiq	12
         01:D9DE  C9 0C      			cmp	#12
         01:D9E0  F0 01      			beq	!+
         01:D9E2  18         			clc
         01:D9E3             	!:
13346                        		__bfalse	.LL645
         01:D9E3  B0 03 4C BD			bcc	.LL645
         01:D9E7  DA          
13347                        	
13348                        		.dbg	line,	"include\routines_LEVELS.c", 2572; {
13349                        	
13350                        		.dbg	line,	"include\routines_LEVELS.c", 2573; if(player_counter_anim == 0)
13351                        		__not.um	_player_counter_anim
         01:D9E8  AD 1B 23   			lda	_player_counter_anim
         01:D9EB  18         			clc
         01:D9EC  D0 01      			bne	!+
         01:D9EE  38         			sec
         01:D9EF             	!:
13352                        		__bfalse	.LL646
         01:D9EF  90 0F      			bcc	.LL646
13353                        	
13354                        		.dbg	line,	"include\routines_LEVELS.c", 2574; {
13355                        	
13356                        		.dbg	line,	"include\routines_LEVELS.c", 2575; spr_set(player_id);
13357                        		__ld.umq	_player_id
         01:D9F1  AD 17 23   			lda	_player_id
13358                        		__call		_spr_set.1
         01:D9F4  20 DD E7   			call	_spr_set.1
13359                        	
13360                        		.dbg	line,	"include\routines_LEVELS.c", 2576; spr_pattern(PLAYER_CLIMB_1_VRAM_ADR); 
13361                        		__ld.wi		7680
         01:D9F7  62         			cla
         01:D9F8  A0 1E      			ldy.h	#7680
13362                        		__call		_spr_pattern.1
         01:D9FA  20 26 E8   			call	_spr_pattern.1
13363                        	
13364                        		.dbg	line,	"include\routines_LEVELS.c", 2577; }
13365                        	
13366                        		.dbg	line,	"include\routines_LEVELS.c", 2579; else if(player_counter_anim == 2)
13367                        		__bra		.LL647
         01:D9FD  4C A7 DA   			bra	.LL647
13368    01:DA00             	.LL646:
13369                        		__ld.umq	_player_counter_anim
         01:DA00  AD 1B 23   			lda	_player_counter_anim
13370                        		__equ_b.uiq	2
         01:DA03  C9 02      			cmp	#2
         01:DA05  F0 01      			beq	!+
         01:DA07  18         			clc
         01:DA08             	!:
13371                        		__bfalse	.LL648
         01:DA08  90 0F      			bcc	.LL648
13372                        	
13373                        		.dbg	line,	"include\routines_LEVELS.c", 2580; {
13374                        	
13375                        		.dbg	line,	"include\routines_LEVELS.c", 2581; spr_set(player_id);
13376                        		__ld.umq	_player_id
         01:DA0A  AD 17 23   			lda	_player_id
13377                        		__call		_spr_set.1
         01:DA0D  20 DD E7   			call	_spr_set.1
13378                        	
13379                        		.dbg	line,	"include\routines_LEVELS.c", 2582; spr_pattern(PLAYER_CLIMB_2_VRAM_ADR); 
13380                        		__ld.wi		7936
         01:DA10  62         			cla
         01:DA11  A0 1F      			ldy.h	#7936
13381                        		__call		_spr_pattern.1
         01:DA13  20 26 E8   			call	_spr_pattern.1
13382                        	
13383                        		.dbg	line,	"include\routines_LEVELS.c", 2583; }
13384                        	
13385                        		.dbg	line,	"include\routines_LEVELS.c", 2585; else if(player_counter_anim == 5)
13386                        		__bra		.LL649
         01:DA16  4C A7 DA   			bra	.LL649
13387    01:DA19             	.LL648:
13388                        		__ld.umq	_player_counter_anim
         01:DA19  AD 1B 23   			lda	_player_counter_anim
13389                        		__equ_b.uiq	5
         01:DA1C  C9 05      			cmp	#5
         01:DA1E  F0 01      			beq	!+
         01:DA20  18         			clc
         01:DA21             	!:
13390                        		__bfalse	.LL650
         01:DA21  90 0E      			bcc	.LL650
13391                        	
13392                        		.dbg	line,	"include\routines_LEVELS.c", 2586; {
13393                        	
13394                        		.dbg	line,	"include\routines_LEVELS.c", 2587; spr_set(player_id);
13395                        		__ld.umq	_player_id
         01:DA23  AD 17 23   			lda	_player_id
13396                        		__call		_spr_set.1
         01:DA26  20 DD E7   			call	_spr_set.1
13397                        	
13398                        		.dbg	line,	"include\routines_LEVELS.c", 2588; spr_pattern(PLAYER_CLIMB_3_VRAM_ADR); 
13399                        		__ld.wi		8192
         01:DA29  62         			cla
         01:DA2A  A0 20      			ldy.h	#8192
13400                        		__call		_spr_pattern.1
         01:DA2C  20 26 E8   			call	_spr_pattern.1
13401                        	
13402                        		.dbg	line,	"include\routines_LEVELS.c", 2589; }
13403                        	
13404                        		.dbg	line,	"include\routines_LEVELS.c", 2591; else if(player_counter_anim == 8)
13405                        		__bra		.LL651
         01:DA2F  80 76      			bra	.LL651
13406    01:DA31             	.LL650:
13407                        		__ld.umq	_player_counter_anim
         01:DA31  AD 1B 23   			lda	_player_counter_anim
13408                        		__equ_b.uiq	8
         01:DA34  C9 08      			cmp	#8
         01:DA36  F0 01      			beq	!+
         01:DA38  18         			clc
         01:DA39             	!:
13409                        		__bfalse	.LL652
         01:DA39  90 0E      			bcc	.LL652
13410                        	
13411                        		.dbg	line,	"include\routines_LEVELS.c", 2592; {
13412                        	
13413                        		.dbg	line,	"include\routines_LEVELS.c", 2593; spr_set(player_id);
13414                        		__ld.umq	_player_id
         01:DA3B  AD 17 23   			lda	_player_id
13415                        		__call		_spr_set.1
         01:DA3E  20 DD E7   			call	_spr_set.1
13416                        	
13417                        		.dbg	line,	"include\routines_LEVELS.c", 2594; spr_pattern(PLAYER_CLIMB_4_VRAM_ADR); 
13418                        		__ld.wi		8448
         01:DA41  62         			cla
         01:DA42  A0 21      			ldy.h	#8448
13419                        		__call		_spr_pattern.1
         01:DA44  20 26 E8   			call	_spr_pattern.1
13420                        	
13421                        		.dbg	line,	"include\routines_LEVELS.c", 2595; }
13422                        	
13423                        		.dbg	line,	"include\routines_LEVELS.c", 2597; else if(player_counter_anim == 11)
13424                        		__bra		.LL653
         01:DA47  80 5E      			bra	.LL653
13425    01:DA49             	.LL652:
13426                        		__ld.umq	_player_counter_anim
         01:DA49  AD 1B 23   			lda	_player_counter_anim
13427                        		__equ_b.uiq	11
         01:DA4C  C9 0B      			cmp	#11
         01:DA4E  F0 01      			beq	!+
         01:DA50  18         			clc
         01:DA51             	!:
13428                        		__bfalse	.LL654
         01:DA51  90 0E      			bcc	.LL654
13429                        	
13430                        		.dbg	line,	"include\routines_LEVELS.c", 2598; {
13431                        	
13432                        		.dbg	line,	"include\routines_LEVELS.c", 2599; spr_set(player_id);
13433                        		__ld.umq	_player_id
         01:DA53  AD 17 23   			lda	_player_id
13434                        		__call		_spr_set.1
         01:DA56  20 DD E7   			call	_spr_set.1
13435                        	
13436                        		.dbg	line,	"include\routines_LEVELS.c", 2600; spr_pattern(PLAYER_CLIMB_5_VRAM_ADR); 
13437                        		__ld.wi		8704
         01:DA59  62         			cla
         01:DA5A  A0 22      			ldy.h	#8704
13438                        		__call		_spr_pattern.1
         01:DA5C  20 26 E8   			call	_spr_pattern.1
13439                        	
13440                        		.dbg	line,	"include\routines_LEVELS.c", 2601; }
13441                        	
13442                        		.dbg	line,	"include\routines_LEVELS.c", 2603; else if(player_counter_anim == 14)
13443                        		__bra		.LL655
         01:DA5F  80 46      			bra	.LL655
13444    01:DA61             	.LL654:
13445                        		__ld.umq	_player_counter_anim
         01:DA61  AD 1B 23   			lda	_player_counter_anim
13446                        		__equ_b.uiq	14
         01:DA64  C9 0E      			cmp	#14
         01:DA66  F0 01      			beq	!+
         01:DA68  18         			clc
         01:DA69             	!:
13447                        		__bfalse	.LL656
         01:DA69  90 0E      			bcc	.LL656
13448                        	
13449                        		.dbg	line,	"include\routines_LEVELS.c", 2604; {
13450                        	
13451                        		.dbg	line,	"include\routines_LEVELS.c", 2605; spr_set(player_id);
13452                        		__ld.umq	_player_id
         01:DA6B  AD 17 23   			lda	_player_id
13453                        		__call		_spr_set.1
         01:DA6E  20 DD E7   			call	_spr_set.1
13454                        	
13455                        		.dbg	line,	"include\routines_LEVELS.c", 2606; spr_pattern(PLAYER_CLIMB_4_VRAM_ADR); 
13456                        		__ld.wi		8448
         01:DA71  62         			cla
         01:DA72  A0 21      			ldy.h	#8448
13457                        		__call		_spr_pattern.1
         01:DA74  20 26 E8   			call	_spr_pattern.1
13458                        	
13459                        		.dbg	line,	"include\routines_LEVELS.c", 2607; }
13460                        	
13461                        		.dbg	line,	"include\routines_LEVELS.c", 2609; else if(player_counter_anim == 17)
13462                        		__bra		.LL657
         01:DA77  80 2E      			bra	.LL657
13463    01:DA79             	.LL656:
13464                        		__ld.umq	_player_counter_anim
         01:DA79  AD 1B 23   			lda	_player_counter_anim
13465                        		__equ_b.uiq	17
         01:DA7C  C9 11      			cmp	#17
         01:DA7E  F0 01      			beq	!+
         01:DA80  18         			clc
         01:DA81             	!:
13466                        		__bfalse	.LL658
         01:DA81  90 0E      			bcc	.LL658
13467                        	
13468                        		.dbg	line,	"include\routines_LEVELS.c", 2610; {
13469                        	
13470                        		.dbg	line,	"include\routines_LEVELS.c", 2611; spr_set(player_id);
13471                        		__ld.umq	_player_id
         01:DA83  AD 17 23   			lda	_player_id
13472                        		__call		_spr_set.1
         01:DA86  20 DD E7   			call	_spr_set.1
13473                        	
13474                        		.dbg	line,	"include\routines_LEVELS.c", 2612; spr_pattern(PLAYER_CLIMB_3_VRAM_ADR); 
13475                        		__ld.wi		8192
         01:DA89  62         			cla
         01:DA8A  A0 20      			ldy.h	#8192
13476                        		__call		_spr_pattern.1
         01:DA8C  20 26 E8   			call	_spr_pattern.1
13477                        	
13478                        		.dbg	line,	"include\routines_LEVELS.c", 2613; }
13479                        	
13480                        		.dbg	line,	"include\routines_LEVELS.c", 2615; else if(player_counter_anim == 20)
13481                        		__bra		.LL659
         01:DA8F  80 16      			bra	.LL659
13482    01:DA91             	.LL658:
13483                        		__ld.umq	_player_counter_anim
         01:DA91  AD 1B 23   			lda	_player_counter_anim
13484                        		__equ_b.uiq	20
         01:DA94  C9 14      			cmp	#20
         01:DA96  F0 01      			beq	!+
         01:DA98  18         			clc
         01:DA99             	!:
13485                        		__bfalse	.LL660
         01:DA99  90 0C      			bcc	.LL660
13486                        	
13487                        		.dbg	line,	"include\routines_LEVELS.c", 2616; {
13488                        	
13489                        		.dbg	line,	"include\routines_LEVELS.c", 2617; spr_set(player_id);
13490                        		__ld.umq	_player_id
         01:DA9B  AD 17 23   			lda	_player_id
13491                        		__call		_spr_set.1
         01:DA9E  20 DD E7   			call	_spr_set.1
13492                        	
13493                        		.dbg	line,	"include\routines_LEVELS.c", 2618; spr_pattern(PLAYER_CLIMB_2_VRAM_ADR); 
13494                        		__ld.wi		7936
         01:DAA1  62         			cla
         01:DAA2  A0 1F      			ldy.h	#7936
13495                        		__call		_spr_pattern.1
         01:DAA4  20 26 E8   			call	_spr_pattern.1
13496                        	
13497                        		.dbg	line,	"include\routines_LEVELS.c", 2619; }
13498                        	
13499                        		.dbg	line,	"include\routines_LEVELS.c", 2622; player_counter_anim += 1;
13500    01:DAA7             	.LL660:
13501    01:DAA7             	.LL659:
13502    01:DAA7             	.LL657:
13503    01:DAA7             	.LL655:
13504    01:DAA7             	.LL653:
13505    01:DAA7             	.LL651:
13506    01:DAA7             	.LL649:
13507    01:DAA7             	.LL647:
13508                        		__add_st.umiq	1, _player_counter_anim
         01:DAA7  EE 1B 23   			inc	_player_counter_anim
13509                        	
13510                        		.dbg	line,	"include\routines_LEVELS.c", 2624; if(player_counter_anim == 22)
13511                        		__ld.umq	_player_counter_anim
         01:DAAA  AD 1B 23   			lda	_player_counter_anim
13512                        		__equ_b.uiq	22
         01:DAAD  C9 16      			cmp	#22
         01:DAAF  F0 01      			beq	!+
         01:DAB1  18         			clc
         01:DAB2             	!:
13513                        		__bfalse	.LL661
         01:DAB2  90 03      			bcc	.LL661
13514                        	
13515                        		.dbg	line,	"include\routines_LEVELS.c", 2625; {
13516                        	
13517                        		.dbg	line,	"include\routines_LEVELS.c", 2626; player_counter_anim = 0;
13518                        		__st.umiq	0, _player_counter_anim
         01:DAB4  9C 1B 23   			stz	_player_counter_anim
13519                        	
13520                        		.dbg	line,	"include\routines_LEVELS.c", 2627; }
13521                        	
13522                        		.dbg	line,	"include\routines_LEVELS.c", 2629; recenter_CAMERA();
13523    01:DAB7             	.LL661:
13524                        		__call		_recenter_CAMERA
         01:DAB7  20 31 FF   			call	_recenter_CAMERA
13525                        	
13526                        		.dbg	line,	"include\routines_LEVELS.c", 2630; }
13527                        	
13528                        		.dbg	line,	"include\routines_LEVELS.c", 2633; else if(player_state == STATE_JUMP_LADDER)
13529                        		__bra		.LL662
         01:DABA  4C 4F DC   			bra	.LL662
13530    01:DABD             	.LL645:
13531                        		__ld.umq	_player_state
         01:DABD  AD 18 23   			lda	_player_state
13532                        		__equ_b.uiq	13
         01:DAC0  C9 0D      			cmp	#13
         01:DAC2  F0 01      			beq	!+
         01:DAC4  18         			clc
         01:DAC5             	!:
13533                        		__bfalse	.LL663
         01:DAC5  B0 03 4C 4F			bcc	.LL663
         01:DAC9  DC          
13534                        	
13535                        		.dbg	line,	"include\routines_LEVELS.c", 2634; {
13536                        	
13537                        		.dbg	line,	"include\routines_LEVELS.c", 2635; unsigned char i;
13538                        	
13539                        		.dbg	line,	"include\routines_LEVELS.c", 2636; i = 1;
13540                        		__st.umiq	1, __update_PLAYER_end - 8  /* i */
         01:DACA  A9 01      			lda.l	#1
         01:DACC  8D 05 23   			sta	__update_PLAYER_end - 8
13541                        	
13542                        		.dbg	line,	"include\routines_LEVELS.c", 2639; if(player_counter_anim == 0)
13543                        		__not.um	_player_counter_anim
         01:DACF  AD 1B 23   			lda	_player_counter_anim
         01:DAD2  18         			clc
         01:DAD3  D0 01      			bne	!+
         01:DAD5  38         			sec
         01:DAD6             	!:
13544                        		__bfalse	.LL664
         01:DAD6  90 11      			bcc	.LL664
13545                        	
13546                        		.dbg	line,	"include\routines_LEVELS.c", 2640; {
13547                        	
13548                        		.dbg	line,	"include\routines_LEVELS.c", 2641; spr_set(player_id);
13549                        		__ld.umq	_player_id
         01:DAD8  AD 17 23   			lda	_player_id
13550                        		__call		_spr_set.1
         01:DADB  20 DD E7   			call	_spr_set.1
13551                        	
13552                        		.dbg	line,	"include\routines_LEVELS.c", 2642; spr_pattern(PLAYER_JUMP_VRAM_ADR); 
13553                        		__ld.wi		6912
         01:DADE  62         			cla
         01:DADF  A0 1B      			ldy.h	#6912
13554                        		__call		_spr_pattern.1
         01:DAE1  20 26 E8   			call	_spr_pattern.1
13555                        	
13556                        		.dbg	line,	"include\routines_LEVELS.c", 2644; player_counter_anim = 1;
13557                        		__st.umiq	1, _player_counter_anim
         01:DAE4  A9 01      			lda.l	#1
         01:DAE6  8D 1B 23   			sta	_player_counter_anim
13558                        	
13559                        		.dbg	line,	"include\routines_LEVELS.c", 2645; }
13560                        	
13561                        		.dbg	line,	"include\routines_LEVELS.c", 2648; player_pos_y += TABLE_PLAYER_JUMP_V[player_index_jump];
13562    01:DAE9             	.LL664:
13563                        		__ldx.umq	_player_index_jump
         01:DAE9  AE 1C 23   			ldx	_player_index_jump
13564                        		__ld.bax	_TABLE_PLAYER_JUMP_V
         01:DAEC  BD FC 61   			lda	_TABLE_PLAYER_JUMP_V, x
         01:DAEF  C2         			cly
         01:DAF0  10 01      			bpl	!+
         01:DAF2  88         			dey
         01:DAF3             	!:
13565                        		__add_st.wmq	_player_pos_y
         01:DAF3  18         			clc
         01:DAF4  6D DD 24   			adc.l	_player_pos_y
         01:DAF7  8D DD 24   			sta.l	_player_pos_y
         01:DAFA  98         			tya
         01:DAFB  6D DE 24   			adc.h	_player_pos_y
         01:DAFE  8D DE 24   			sta.h	_player_pos_y
13566                        	
13567                        		.dbg	line,	"include\routines_LEVELS.c", 2650; // CHECK COLLISION WITH CEILING //
13568                        	
13569                        		.dbg	line,	"include\routines_LEVELS.c", 2651; check_BG( 15 , 8 );
13570                        		__ld.wi		15
         01:DB01  A9 0F      			lda.l	#15
         01:DB03  C2         			cly
13571                        		__pusharg.wr
         01:DB04  A6 8D      			ldx	<__sp
         01:DB06  CA         			dex
         01:DB07  CA         			dex
         01:DB08  95 08      			sta.l	<__stack, x
         01:DB0A  94 09      			sty.h	<__stack, x
         01:DB0C  86 8D      			stx	<__sp
13572                        		__ld.wi		8
         01:DB0E  A9 08      			lda.l	#8
         01:DB10  C2         			cly
13573                        		__pusharg.wr
         01:DB11  A6 8D      			ldx	<__sp
         01:DB13  CA         			dex
         01:DB14  CA         			dex
         01:DB15  95 08      			sta.l	<__stack, x
         01:DB17  94 09      			sty.h	<__stack, x
         01:DB19  86 8D      			stx	<__sp
13574                        		__call		_check_BG
         01:DB1B  20 3B FF   			call	_check_BG
13575                        	
13576                        		.dbg	line,	"include\routines_LEVELS.c", 2653; if(map_blk_flag == TILE_BG)
13577                        		__ld.umq	_map_blk_flag
         01:DB1E  AD DF 2B   			lda	_map_blk_flag
13578                        		__equ_b.uiq	1
         01:DB21  C9 01      			cmp	#1
         01:DB23  F0 01      			beq	!+
         01:DB25  18         			clc
         01:DB26             	!:
13579                        		__bfalse	.LL665
         01:DB26  90 5A      			bcc	.LL665
13580                        	
13581                        		.dbg	line,	"include\routines_LEVELS.c", 2654; {
13582                        	
13583                        		.dbg	line,	"include\routines_LEVELS.c", 2655; for(i=1 ; i<8 ; i++)
13584                        		__st.umiq	1, __update_PLAYER_end - 8  /* i */
         01:DB28  A9 01      			lda.l	#1
         01:DB2A  8D 05 23   			sta	__update_PLAYER_end - 8
13585    01:DB2D             	.LL666:
13586                        		__ld.umq	__update_PLAYER_end - 8  /* i */
         01:DB2D  AD 05 23   			lda	__update_PLAYER_end - 8
13587                        		__ult_b.uiq	8
         01:DB30  C9 08      			cmp	#8		; Subtract integer from A.
         01:DB32  6A         			ror	a		; CC if A < integer.
         01:DB33  49 80      			eor	#$80
         01:DB35  2A         			rol	a
13588                        		__btrue		.LL668
         01:DB36  B0 07      			bcs	.LL668
13589                        		__bra		.LL669
         01:DB38  80 48      			bra	.LL669
13590    01:DB3A             	.LL667:
13591                        		__inc.umq	__update_PLAYER_end - 8  /* i */
         01:DB3A  EE 05 23   			inc	__update_PLAYER_end - 8
13592                        		__bra		.LL666
         01:DB3D  80 EE      			bra	.LL666
13593    01:DB3F             	.LL668:
13594                        	
13595                        		.dbg	line,	"include\routines_LEVELS.c", 2656; {
13596                        	
13597                        		.dbg	line,	"include\routines_LEVELS.c", 2657; check_BG( 15 , 8 + i );
13598                        		__ld.wi		15
         01:DB3F  A9 0F      			lda.l	#15
         01:DB41  C2         			cly
13599                        		__pusharg.wr
         01:DB42  A6 8D      			ldx	<__sp
         01:DB44  CA         			dex
         01:DB45  CA         			dex
         01:DB46  95 08      			sta.l	<__stack, x
         01:DB48  94 09      			sty.h	<__stack, x
         01:DB4A  86 8D      			stx	<__sp
13600                        		__ld.wi		8
         01:DB4C  A9 08      			lda.l	#8
         01:DB4E  C2         			cly
13601                        		__add.um	__update_PLAYER_end - 8  /* i */
         01:DB4F  18         			clc
         01:DB50  6D 05 23   			adc	__update_PLAYER_end - 8
         01:DB53  90 01      			bcc	!+
         01:DB55  C8         			iny
         01:DB56             	!:
13602                        		__pusharg.wr
         01:DB56  A6 8D      			ldx	<__sp
         01:DB58  CA         			dex
         01:DB59  CA         			dex
         01:DB5A  95 08      			sta.l	<__stack, x
         01:DB5C  94 09      			sty.h	<__stack, x
         01:DB5E  86 8D      			stx	<__sp
13603                        		__call		_check_BG
         01:DB60  20 3B FF   			call	_check_BG
13604                        	
13605                        		.dbg	line,	"include\routines_LEVELS.c", 2658; {
13606                        	
13607                        		.dbg	line,	"include\routines_LEVELS.c", 2659; if(map_blk_flag == TILE_EMPTY)
13608                        		__not.um	_map_blk_flag
         01:DB63  AD DF 2B   			lda	_map_blk_flag
         01:DB66  18         			clc
         01:DB67  D0 01      			bne	!+
         01:DB69  38         			sec
         01:DB6A             	!:
13609                        		__bfalse	.LL670
         01:DB6A  90 CE      			bcc	.LL670
13610                        	
13611                        		.dbg	line,	"include\routines_LEVELS.c", 2660; {
13612                        	
13613                        		.dbg	line,	"include\routines_LEVELS.c", 2661; player_pos_y += i;
13614                        		__ld.um		__update_PLAYER_end - 8  /* i */
         01:DB6C  AD 05 23   			lda	__update_PLAYER_end - 8
         01:DB6F  C2         			cly
13615                        		__add_st.wmq	_player_pos_y
         01:DB70  18         			clc
         01:DB71  6D DD 24   			adc.l	_player_pos_y
         01:DB74  8D DD 24   			sta.l	_player_pos_y
         01:DB77  98         			tya
         01:DB78  6D DE 24   			adc.h	_player_pos_y
         01:DB7B  8D DE 24   			sta.h	_player_pos_y
13616                        	
13617                        		.dbg	line,	"include\routines_LEVELS.c", 2662; break;
13618                        		__bra		.LL669
         01:DB7E  80 02      			bra	.LL669
13619                        	
13620                        		.dbg	line,	"include\routines_LEVELS.c", 2663; }
13621                        	
13622                        		.dbg	line,	"include\routines_LEVELS.c", 2664; }
13623    01:DB80             	.LL670	.alias		.LL667
13624                        	
13625                        		.dbg	line,	"include\routines_LEVELS.c", 2665; }
13626                        		__bra		.LL667
         01:DB80  80 B8      			bra	.LL667
13627    01:DB82             	.LL669:
13628                        	
13629                        		.dbg	line,	"include\routines_LEVELS.c", 2666; }
13630                        	
13631                        		.dbg	line,	"include\routines_LEVELS.c", 2668; spr_set(player_id);
13632    01:DB82             	.LL665:
13633                        		__ld.umq	_player_id
         01:DB82  AD 17 23   			lda	_player_id
13634                        		__call		_spr_set.1
         01:DB85  20 DD E7   			call	_spr_set.1
13635                        	
13636                        		.dbg	line,	"include\routines_LEVELS.c", 2669; spr_y(player_pos_y);
13637                        		__ld.wm		_player_pos_y
         01:DB88  AD DD 24   			lda.l	_player_pos_y
         01:DB8B  AC DE 24   			ldy.h	_player_pos_y
13638                        		__call		_spr_y.1
         01:DB8E  20 19 E8   			call	_spr_y.1
13639                        	
13640                        		.dbg	line,	"include\routines_LEVELS.c", 2673; if(player_index_jump < 34)
13641                        		__ld.umq	_player_index_jump
         01:DB91  AD 1C 23   			lda	_player_index_jump
13642                        		__ult_b.uiq	34
         01:DB94  C9 22      			cmp	#34		; Subtract integer from A.
         01:DB96  6A         			ror	a		; CC if A < integer.
         01:DB97  49 80      			eor	#$80
         01:DB99  2A         			rol	a
13643                        		__bfalse	.LL671
         01:DB9A  90 03      			bcc	.LL671
13644                        	
13645                        		.dbg	line,	"include\routines_LEVELS.c", 2674; {
13646                        	
13647                        		.dbg	line,	"include\routines_LEVELS.c", 2675; player_index_jump += 1;
13648                        		__add_st.umiq	1, _player_index_jump
         01:DB9C  EE 1C 23   			inc	_player_index_jump
13649                        	
13650                        		.dbg	line,	"include\routines_LEVELS.c", 2676; }
13651                        	
13652                        		.dbg	line,	"include\routines_LEVELS.c", 2681; //--------------------------------------------------------------------------------------//
13653                        	
13654                        		.dbg	line,	"include\routines_LEVELS.c", 2682; //                                   LADDER COLLISION                                   //
13655                        	
13656                        		.dbg	line,	"include\routines_LEVELS.c", 2683; //--------------------------------------------------------------------------------------//
13657                        	
13658                        		.dbg	line,	"include\routines_LEVELS.c", 2685; if(player_index_jump > 18)
13659    01:DB9F             	.LL671:
13660                        		__ld.umq	_player_index_jump
         01:DB9F  AD 1C 23   			lda	_player_index_jump
13661                        		__ugt_b.uiq	18
         01:DBA2  18         			clc			; Subtract integer+1 from A.
         01:DBA3  E9 12      			sbc	#18		; CS if A > integer.
13662                        		__bfalse	.LL672
         01:DBA5  B0 03 4C 3A			bcc	.LL672
         01:DBA9  DC          
13663                        	
13664                        		.dbg	line,	"include\routines_LEVELS.c", 2686; {
13665                        	
13666                        		.dbg	line,	"include\routines_LEVELS.c", 2687; // CHECK COLLISION WITH LADDERS //
13667                        	
13668                        		.dbg	line,	"include\routines_LEVELS.c", 2688; check_BG( 16 , 8 );
13669                        		__ld.wi		16
         01:DBAA  A9 10      			lda.l	#16
         01:DBAC  C2         			cly
13670                        		__pusharg.wr
         01:DBAD  A6 8D      			ldx	<__sp
         01:DBAF  CA         			dex
         01:DBB0  CA         			dex
         01:DBB1  95 08      			sta.l	<__stack, x
         01:DBB3  94 09      			sty.h	<__stack, x
         01:DBB5  86 8D      			stx	<__sp
13671                        		__ld.wi		8
         01:DBB7  A9 08      			lda.l	#8
         01:DBB9  C2         			cly
13672                        		__pusharg.wr
         01:DBBA  A6 8D      			ldx	<__sp
         01:DBBC  CA         			dex
         01:DBBD  CA         			dex
         01:DBBE  95 08      			sta.l	<__stack, x
         01:DBC0  94 09      			sty.h	<__stack, x
         01:DBC2  86 8D      			stx	<__sp
13673                        		__call		_check_BG
         01:DBC4  20 3B FF   			call	_check_BG
13674                        	
13675                        		.dbg	line,	"include\routines_LEVELS.c", 2690; // IF PLAYER HITS THE LADDER //
13676                        	
13677                        		.dbg	line,	"include\routines_LEVELS.c", 2691; if(map_blk_flag == TILE_LADDER)
13678                        		__ld.umq	_map_blk_flag
         01:DBC7  AD DF 2B   			lda	_map_blk_flag
13679                        		__equ_b.uiq	2
         01:DBCA  C9 02      			cmp	#2
         01:DBCC  F0 01      			beq	!+
         01:DBCE  18         			clc
         01:DBCF             	!:
13680                        		__bfalse	.LL673
         01:DBCF  90 69      			bcc	.LL673
13681                        	
13682                        		.dbg	line,	"include\routines_LEVELS.c", 2692; {
13683                        	
13684                        		.dbg	line,	"include\routines_LEVELS.c", 2693; // CAMERA GOES 8 PX BACKWARD //
13685                        	
13686                        		.dbg	line,	"include\routines_LEVELS.c", 2694; sgx_map_pxl_x = ( (sgx_map_pxl_x >> 3) << 3 );
13687                        		__ld.wm		_sgx_map_pxl_x
         01:DBD1  AD BE 26   			lda.l	_sgx_map_pxl_x
         01:DBD4  AC BF 26   			ldy.h	_sgx_map_pxl_x
13688                        		__lsr.wi	3
         01:DBD7  84 00      			sty	__temp
         01:DBD9  20 3A E2   			jsr	lsrw3
13689                        		__asl.wi	3
         01:DBDC  84 00      			sty	__temp
         01:DBDE  20 D7 E1   			jsr	aslw3
13690                        		__st.wmq	_sgx_map_pxl_x
         01:DBE1  8D BE 26   			sta.l	_sgx_map_pxl_x
         01:DBE4  8C BF 26   			sty.h	_sgx_map_pxl_x
13691                        	
13692                        		.dbg	line,	"include\routines_LEVELS.c", 2696; // SO WE UPDATE THE MAP //
13693                        	
13694                        		.dbg	line,	"include\routines_LEVELS.c", 2697; sgx_scroll_map();
13695                        		__call		_sgx_scroll_map
         01:DBE7  20 4F FF   			call	_sgx_scroll_map
13696                        	
13697                        		.dbg	line,	"include\routines_LEVELS.c", 2699; // CHECK IF THE PLAYER STANDS RIGHT TO THE LADDER //
13698                        	
13699                        		.dbg	line,	"include\routines_LEVELS.c", 2700; check_BG( 31 , 8 );
13700                        		__ld.wi		31
         01:DBEA  A9 1F      			lda.l	#31
         01:DBEC  C2         			cly
13701                        		__pusharg.wr
         01:DBED  A6 8D      			ldx	<__sp
         01:DBEF  CA         			dex
         01:DBF0  CA         			dex
         01:DBF1  95 08      			sta.l	<__stack, x
         01:DBF3  94 09      			sty.h	<__stack, x
         01:DBF5  86 8D      			stx	<__sp
13702                        		__ld.wi		8
         01:DBF7  A9 08      			lda.l	#8
         01:DBF9  C2         			cly
13703                        		__pusharg.wr
         01:DBFA  A6 8D      			ldx	<__sp
         01:DBFC  CA         			dex
         01:DBFD  CA         			dex
         01:DBFE  95 08      			sta.l	<__stack, x
         01:DC00  94 09      			sty.h	<__stack, x
         01:DC02  86 8D      			stx	<__sp
13704                        		__call		_check_BG
         01:DC04  20 3B FF   			call	_check_BG
13705                        	
13706                        		.dbg	line,	"include\routines_LEVELS.c", 2702; if(map_blk_flag == TILE_LADDER)
13707                        		__ld.umq	_map_blk_flag
         01:DC07  AD DF 2B   			lda	_map_blk_flag
13708                        		__equ_b.uiq	2
         01:DC0A  C9 02      			cmp	#2
         01:DC0C  F0 01      			beq	!+
         01:DC0E  18         			clc
         01:DC0F             	!:
13709                        		__bfalse	.LL674
         01:DC0F  90 0E      			bcc	.LL674
13710                        	
13711                        		.dbg	line,	"include\routines_LEVELS.c", 2703; {
13712                        	
13713                        		.dbg	line,	"include\routines_LEVELS.c", 2704; sgx_map_pxl_x += 8;
13714                        		__add_st.wmiq	8, _sgx_map_pxl_x
         01:DC11  18         			clc
         01:DC12  AD BE 26   			lda.l	_sgx_map_pxl_x
         01:DC15  69 08      			adc.l	#8
         01:DC17  8D BE 26   			sta.l	_sgx_map_pxl_x
         01:DC1A  90 03      			bcc	!+
         01:DC1C  EE BF 26   			inc.h	_sgx_map_pxl_x
         01:DC1F             	!:
13715                        	
13716                        		.dbg	line,	"include\routines_LEVELS.c", 2705; }
13717                        	
13718                        		.dbg	line,	"include\routines_LEVELS.c", 2707; //spr_set(player_id);
13719                        	
13720                        		.dbg	line,	"include\routines_LEVELS.c", 2708; spr_pattern(PLAYER_HANG_VRAM_ADR);
13721    01:DC1F             	.LL674:
13722                        		__ld.wi		7424
         01:DC1F  62         			cla
         01:DC20  A0 1D      			ldy.h	#7424
13723                        		__call		_spr_pattern.1
         01:DC22  20 26 E8   			call	_spr_pattern.1
13724                        	
13725                        		.dbg	line,	"include\routines_LEVELS.c", 2710; player_counter_anim = 0;//
13726                        		__st.umiq	0, _player_counter_anim
         01:DC25  9C 1B 23   			stz	_player_counter_anim
13727                        	
13728                        		.dbg	line,	"include\routines_LEVELS.c", 2711; player_index_jump = 0;
13729                        		__st.umiq	0, _player_index_jump
         01:DC28  9C 1C 23   			stz	_player_index_jump
13730                        	
13731                        		.dbg	line,	"include\routines_LEVELS.c", 2712; jump_ladder = TRUE;
13732                        		__st.umiq	1, _jump_ladder
         01:DC2B  A9 01      			lda.l	#1
         01:DC2D  8D 21 23   			sta	_jump_ladder
13733                        	
13734                        		.dbg	line,	"include\routines_LEVELS.c", 2713; jump_max_index = 29;
13735                        		__st.umiq	29, _jump_max_index
         01:DC30  A9 1D      			lda.l	#29
         01:DC32  8D 22 23   			sta	_jump_max_index
13736                        	
13737                        		.dbg	line,	"include\routines_LEVELS.c", 2714; player_state = STATE_HANG;
13738                        		__st.umiq	10, _player_state
         01:DC35  A9 0A      			lda.l	#10
         01:DC37  8D 18 23   			sta	_player_state
13739                        	
13740                        		.dbg	line,	"include\routines_LEVELS.c", 2715; }
13741                        	
13742                        		.dbg	line,	"include\routines_LEVELS.c", 2716; }
13743    01:DC3A             	.LL673:
13744                        	
13745                        		.dbg	line,	"include\routines_LEVELS.c", 2718; spr_set(weapon_id);
13746    01:DC3A             	.LL672:
13747                        		__ld.umq	_weapon_id
         01:DC3A  AD 26 23   			lda	_weapon_id
13748                        		__call		_spr_set.1
         01:DC3D  20 DD E7   			call	_spr_set.1
13749                        	
13750                        		.dbg	line,	"include\routines_LEVELS.c", 2719; spr_y(player_pos_y+8);
13751                        		__ld.wm		_player_pos_y
         01:DC40  AD DD 24   			lda.l	_player_pos_y
         01:DC43  AC DE 24   			ldy.h	_player_pos_y
13752                        		__add.wi	8
         01:DC46  18         			clc
         01:DC47  69 08      			adc.l	#8
         01:DC49  90 01      			bcc	!+
         01:DC4B  C8         			iny
         01:DC4C             	!:
13753                        		__call		_spr_y.1
         01:DC4C  20 19 E8   			call	_spr_y.1
13754                        	
13755                        		.dbg	line,	"include\routines_LEVELS.c", 2720; }
13756                        	
13757                        		.dbg	line,	"include\routines_LEVELS.c", 2722; }
13758    01:DC4F             	.LL663:
13759    01:DC4F             	.LL662:
13760    01:DC4F             	.LL644:
13761    01:DC4F             	.LL626:
13762    01:DC4F             	.LL621:
13763    01:DC4F             	.LL604:
13764    01:DC4F             	.LL599:
13765    01:DC4F             	.LL562:
13766    01:DC4F             	.LL525:
13767    01:DC4F             	.LL470:
13768    01:DC4F             	.LL427:
13769    01:DC4F             	.LL422:
13770                        		__return	0
         01:DC4F  4C EF FF   			jmp	leave_proc
13771                        		.dbg	clear
13772                        		.endp
13773               6B40     		.data
13774               2305     		.bss
13775    F8:2305             	__update_PLAYER_loc:
13776    F8:2305             			ds	8
13777    F8:230D             	__update_PLAYER_end:
13778               E309     		.code
13779                        		.pceas
13780                        	
13781                        		.dbg	line,	"include\routines_LEVELS.c", 2725; void update_WEAPON()
13782                        		.dbg	line,	"include\routines_LEVELS.c", 2726; {
13783                        	;***********************
13784                        	;***********************
13785                        	
13786                        		.hucc
13787    02:CA61             		.proc		_update_WEAPON
13788                        		__enter		_update_WEAPON
13789                        	
13790                        		.dbg	line,	"include\routines_LEVELS.c", 2727; if(player_state == STATE_ATTACK)
13791                        		__ld.umq	_player_state
         02:CA61  AD 18 23   			lda	_player_state
13792                        		__equ_b.uiq	2
         02:CA64  C9 02      			cmp	#2
         02:CA66  F0 01      			beq	!+
         02:CA68  18         			clc
         02:CA69             	!:
13793                        		__bfalse	.LL676
         02:CA69  B0 03 4C 48			bcc	.LL676
         02:CA6D  CD          
13794                        	
13795                        		.dbg	line,	"include\routines_LEVELS.c", 2728; {
13796                        	
13797                        		.dbg	line,	"include\routines_LEVELS.c", 2729; char i;
13798                        	
13799                        		.dbg	line,	"include\routines_LEVELS.c", 2730; 
13800                        	
13801                        		.dbg	line,	"include\routines_LEVELS.c", 2731; recenter_CAMERA();
13802                        		__call		_recenter_CAMERA
         02:CA6E  20 31 FF   			call	_recenter_CAMERA
13803                        	
13804                        		.dbg	line,	"include\routines_LEVELS.c", 2733; if(player_counter_attack == 0)
13805                        		__not.um	_player_counter_attack
         02:CA71  AD 1E 23   			lda	_player_counter_attack
         02:CA74  18         			clc
         02:CA75  D0 01      			bne	!+
         02:CA77  38         			sec
         02:CA78             	!:
13806                        		__bfalse	.LL677
         02:CA78  90 49      			bcc	.LL677
13807                        	
13808                        		.dbg	line,	"include\routines_LEVELS.c", 2734; {
13809                        	
13810                        		.dbg	line,	"include\routines_LEVELS.c", 2735; spr_set(player_id);
13811                        		__ld.umq	_player_id
         02:CA7A  AD 17 23   			lda	_player_id
13812                        		__call		_spr_set.1
         02:CA7D  20 DD E7   			call	_spr_set.1
13813                        	
13814                        		.dbg	line,	"include\routines_LEVELS.c", 2736; spr_pattern(PLAYER_ATTACK_1_VRAM_ADR);
13815                        		__ld.wi		9472
         02:CA80  62         			cla
         02:CA81  A0 25      			ldy.h	#9472
13816                        		__call		_spr_pattern.1
         02:CA83  20 26 E8   			call	_spr_pattern.1
13817                        	
13818                        		.dbg	line,	"include\routines_LEVELS.c", 2738; spr_set(weapon_id);
13819                        		__ld.umq	_weapon_id
         02:CA86  AD 26 23   			lda	_weapon_id
13820                        		__call		_spr_set.1
         02:CA89  20 DD E7   			call	_spr_set.1
13821                        	
13822                        		.dbg	line,	"include\routines_LEVELS.c", 2739; spr_pattern(WEAPON_ATTACK_1_VRAM_ADRESS);
13823                        		__ld.wi		32000
         02:CA8C  62         			cla
         02:CA8D  A0 7D      			ldy.h	#32000
13824                        		__call		_spr_pattern.1
         02:CA8F  20 26 E8   			call	_spr_pattern.1
13825                        	
13826                        		.dbg	line,	"include\routines_LEVELS.c", 2741; if(player_axis == AXIS_RIGHT)
13827                        		__not.um	_player_axis
         02:CA92  AD 19 23   			lda	_player_axis
         02:CA95  18         			clc
         02:CA96  D0 01      			bne	!+
         02:CA98  38         			sec
         02:CA99             	!:
13828                        		__bfalse	.LL678
         02:CA99  90 11      			bcc	.LL678
13829                        	
13830                        		.dbg	line,	"include\routines_LEVELS.c", 2742; {
13831                        	
13832                        		.dbg	line,	"include\routines_LEVELS.c", 2743; spr_x(player_pos_x-13);
13833                        		__ld.wm		_player_pos_x
         02:CA9B  AD DB 24   			lda.l	_player_pos_x
         02:CA9E  AC DC 24   			ldy.h	_player_pos_x
13834                        		__sub.wi	13
         02:CAA1  38         			sec
         02:CAA2  E9 0D      			sbc.l	#13
         02:CAA4  B0 01      			bcs	!+
         02:CAA6  88         			dey
         02:CAA7             	!:
13835                        		__call		_spr_x.1
         02:CAA7  20 0A E8   			call	_spr_x.1
13836                        	
13837                        		.dbg	line,	"include\routines_LEVELS.c", 2744; }
13838                        	
13839                        		.dbg	line,	"include\routines_LEVELS.c", 2746; else
13840                        		__bra		.LL679
         02:CAAA  80 0F      			bra	.LL679
13841    02:CAAC             	.LL678:
13842                        	
13843                        		.dbg	line,	"include\routines_LEVELS.c", 2747; {
13844                        	
13845                        		.dbg	line,	"include\routines_LEVELS.c", 2748; spr_x(player_pos_x+29);
13846                        		__ld.wm		_player_pos_x
         02:CAAC  AD DB 24   			lda.l	_player_pos_x
         02:CAAF  AC DC 24   			ldy.h	_player_pos_x
13847                        		__add.wi	29
         02:CAB2  18         			clc
         02:CAB3  69 1D      			adc.l	#29
         02:CAB5  90 01      			bcc	!+
         02:CAB7  C8         			iny
         02:CAB8             	!:
13848                        		__call		_spr_x.1
         02:CAB8  20 0A E8   			call	_spr_x.1
13849                        	
13850                        		.dbg	line,	"include\routines_LEVELS.c", 2749; }
13851    02:CABB             	.LL679:
13852                        	
13853                        		.dbg	line,	"include\routines_LEVELS.c", 2751; weapon_y_offset = -8;
13854                        		__st.umiq	-8, _weapon_y_offset
         02:CABB  A9 F8      			lda.l	#-8
         02:CABD  8D 73 26   			sta	_weapon_y_offset
13855                        	
13856                        		.dbg	line,	"include\routines_LEVELS.c", 2752; }
13857                        	
13858                        		.dbg	line,	"include\routines_LEVELS.c", 2754; else if(player_counter_attack == 6)
13859                        		__bra		.LL680
         02:CAC0  4C DC CC   			bra	.LL680
13860    02:CAC3             	.LL677:
13861                        		__ld.umq	_player_counter_attack
         02:CAC3  AD 1E 23   			lda	_player_counter_attack
13862                        		__equ_b.uiq	6
         02:CAC6  C9 06      			cmp	#6
         02:CAC8  F0 01      			beq	!+
         02:CACA  18         			clc
         02:CACB             	!:
13863                        		__bfalse	.LL681
         02:CACB  90 4A      			bcc	.LL681
13864                        	
13865                        		.dbg	line,	"include\routines_LEVELS.c", 2755; {
13866                        	
13867                        		.dbg	line,	"include\routines_LEVELS.c", 2756; spr_set(player_id);
13868                        		__ld.umq	_player_id
         02:CACD  AD 17 23   			lda	_player_id
13869                        		__call		_spr_set.1
         02:CAD0  20 DD E7   			call	_spr_set.1
13870                        	
13871                        		.dbg	line,	"include\routines_LEVELS.c", 2757; spr_pattern(PLAYER_ATTACK_2_VRAM_ADR);
13872                        		__ld.wi		9728
         02:CAD3  62         			cla
         02:CAD4  A0 26      			ldy.h	#9728
13873                        		__call		_spr_pattern.1
         02:CAD6  20 26 E8   			call	_spr_pattern.1
13874                        	
13875                        		.dbg	line,	"include\routines_LEVELS.c", 2759; spr_set(weapon_id);
13876                        		__ld.umq	_weapon_id
         02:CAD9  AD 26 23   			lda	_weapon_id
13877                        		__call		_spr_set.1
         02:CADC  20 DD E7   			call	_spr_set.1
13878                        	
13879                        		.dbg	line,	"include\routines_LEVELS.c", 2760; spr_pattern(WEAPON_ATTACK_2_VRAM_ADRESS);
13880                        		__ld.wi		32064
         02:CADF  A9 40      			lda.l	#32064
         02:CAE1  A0 7D      			ldy.h	#32064
13881                        		__call		_spr_pattern.1
         02:CAE3  20 26 E8   			call	_spr_pattern.1
13882                        	
13883                        		.dbg	line,	"include\routines_LEVELS.c", 2762; if(player_axis == AXIS_RIGHT)
13884                        		__not.um	_player_axis
         02:CAE6  AD 19 23   			lda	_player_axis
         02:CAE9  18         			clc
         02:CAEA  D0 01      			bne	!+
         02:CAEC  38         			sec
         02:CAED             	!:
13885                        		__bfalse	.LL682
         02:CAED  90 11      			bcc	.LL682
13886                        	
13887                        		.dbg	line,	"include\routines_LEVELS.c", 2763; {
13888                        	
13889                        		.dbg	line,	"include\routines_LEVELS.c", 2764; spr_x(player_pos_x+32);
13890                        		__ld.wm		_player_pos_x
         02:CAEF  AD DB 24   			lda.l	_player_pos_x
         02:CAF2  AC DC 24   			ldy.h	_player_pos_x
13891                        		__add.wi	32
         02:CAF5  18         			clc
         02:CAF6  69 20      			adc.l	#32
         02:CAF8  90 01      			bcc	!+
         02:CAFA  C8         			iny
         02:CAFB             	!:
13892                        		__call		_spr_x.1
         02:CAFB  20 0A E8   			call	_spr_x.1
13893                        	
13894                        		.dbg	line,	"include\routines_LEVELS.c", 2765; 
13895                        	
13896                        		.dbg	line,	"include\routines_LEVELS.c", 2766; }
13897                        	
13898                        		.dbg	line,	"include\routines_LEVELS.c", 2767; 
13899                        	
13900                        		.dbg	line,	"include\routines_LEVELS.c", 2768; else
13901                        		__bra		.LL683
         02:CAFE  80 0F      			bra	.LL683
13902    02:CB00             	.LL682:
13903                        	
13904                        		.dbg	line,	"include\routines_LEVELS.c", 2769; {
13905                        	
13906                        		.dbg	line,	"include\routines_LEVELS.c", 2770; spr_x(player_pos_x-16);
13907                        		__ld.wm		_player_pos_x
         02:CB00  AD DB 24   			lda.l	_player_pos_x
         02:CB03  AC DC 24   			ldy.h	_player_pos_x
13908                        		__sub.wi	16
         02:CB06  38         			sec
         02:CB07  E9 10      			sbc.l	#16
         02:CB09  B0 01      			bcs	!+
         02:CB0B  88         			dey
         02:CB0C             	!:
13909                        		__call		_spr_x.1
         02:CB0C  20 0A E8   			call	_spr_x.1
13910                        	
13911                        		.dbg	line,	"include\routines_LEVELS.c", 2771; }
13912    02:CB0F             	.LL683:
13913                        	
13914                        		.dbg	line,	"include\routines_LEVELS.c", 2773; weapon_y_offset = 6;
13915                        		__st.umiq	6, _weapon_y_offset
         02:CB0F  A9 06      			lda.l	#6
         02:CB11  8D 73 26   			sta	_weapon_y_offset
13916                        	
13917                        		.dbg	line,	"include\routines_LEVELS.c", 2774; }
13918                        	
13919                        		.dbg	line,	"include\routines_LEVELS.c", 2776; else if(player_counter_attack == 7)
13920                        		__bra		.LL684
         02:CB14  4C DC CC   			bra	.LL684
13921    02:CB17             	.LL681:
13922                        		__ld.umq	_player_counter_attack
         02:CB17  AD 1E 23   			lda	_player_counter_attack
13923                        		__equ_b.uiq	7
         02:CB1A  C9 07      			cmp	#7
         02:CB1C  F0 01      			beq	!+
         02:CB1E  18         			clc
         02:CB1F             	!:
13924                        		__bfalse	.LL685
         02:CB1F  90 62      			bcc	.LL685
13925                        	
13926                        		.dbg	line,	"include\routines_LEVELS.c", 2777; {
13927                        	
13928                        		.dbg	line,	"include\routines_LEVELS.c", 2778; list_chain_active[0] = TRUE;
13929                        		__st.umiq	1, _list_chain_active
         02:CB21  A9 01      			lda.l	#1
         02:CB23  8D 29 23   			sta	_list_chain_active
13930                        	
13931                        		.dbg	line,	"include\routines_LEVELS.c", 2779; spr_set(chain_id);
13932                        		__ld.umq	_chain_id
         02:CB26  AD 25 23   			lda	_chain_id
13933                        		__call		_spr_set.1
         02:CB29  20 DD E7   			call	_spr_set.1
13934                        	
13935                        		.dbg	line,	"include\routines_LEVELS.c", 2781; if(player_axis == AXIS_RIGHT)
13936                        		__not.um	_player_axis
         02:CB2C  AD 19 23   			lda	_player_axis
         02:CB2F  18         			clc
         02:CB30  D0 01      			bne	!+
         02:CB32  38         			sec
         02:CB33             	!:
13937                        		__bfalse	.LL686
         02:CB33  90 27      			bcc	.LL686
13938                        	
13939                        		.dbg	line,	"include\routines_LEVELS.c", 2782; {
13940                        	
13941                        		.dbg	line,	"include\routines_LEVELS.c", 2783; spr_x(player_pos_x+32);
13942                        		__ld.wm		_player_pos_x
         02:CB35  AD DB 24   			lda.l	_player_pos_x
         02:CB38  AC DC 24   			ldy.h	_player_pos_x
13943                        		__add.wi	32
         02:CB3B  18         			clc
         02:CB3C  69 20      			adc.l	#32
         02:CB3E  90 01      			bcc	!+
         02:CB40  C8         			iny
         02:CB41             	!:
13944                        		__call		_spr_x.1
         02:CB41  20 0A E8   			call	_spr_x.1
13945                        	
13946                        		.dbg	line,	"include\routines_LEVELS.c", 2785; spr_set(weapon_id);
13947                        		__ld.umq	_weapon_id
         02:CB44  AD 26 23   			lda	_weapon_id
13948                        		__call		_spr_set.1
         02:CB47  20 DD E7   			call	_spr_set.1
13949                        	
13950                        		.dbg	line,	"include\routines_LEVELS.c", 2786; spr_x(player_pos_x+48);
13951                        		__ld.wm		_player_pos_x
         02:CB4A  AD DB 24   			lda.l	_player_pos_x
         02:CB4D  AC DC 24   			ldy.h	_player_pos_x
13952                        		__add.wi	48
         02:CB50  18         			clc
         02:CB51  69 30      			adc.l	#48
         02:CB53  90 01      			bcc	!+
         02:CB55  C8         			iny
         02:CB56             	!:
13953                        		__call		_spr_x.1
         02:CB56  20 0A E8   			call	_spr_x.1
13954                        	
13955                        		.dbg	line,	"include\routines_LEVELS.c", 2787; }
13956                        	
13957                        		.dbg	line,	"include\routines_LEVELS.c", 2788; 
13958                        	
13959                        		.dbg	line,	"include\routines_LEVELS.c", 2789; else
13960                        		__bra		.LL687
         02:CB59  4C DC CC   			bra	.LL687
13961    02:CB5C             	.LL686:
13962                        	
13963                        		.dbg	line,	"include\routines_LEVELS.c", 2790; {
13964                        	
13965                        		.dbg	line,	"include\routines_LEVELS.c", 2791; spr_x(player_pos_x-16);
13966                        		__ld.wm		_player_pos_x
         02:CB5C  AD DB 24   			lda.l	_player_pos_x
         02:CB5F  AC DC 24   			ldy.h	_player_pos_x
13967                        		__sub.wi	16
         02:CB62  38         			sec
         02:CB63  E9 10      			sbc.l	#16
         02:CB65  B0 01      			bcs	!+
         02:CB67  88         			dey
         02:CB68             	!:
13968                        		__call		_spr_x.1
         02:CB68  20 0A E8   			call	_spr_x.1
13969                        	
13970                        		.dbg	line,	"include\routines_LEVELS.c", 2793; spr_set(weapon_id);
13971                        		__ld.umq	_weapon_id
         02:CB6B  AD 26 23   			lda	_weapon_id
13972                        		__call		_spr_set.1
         02:CB6E  20 DD E7   			call	_spr_set.1
13973                        	
13974                        		.dbg	line,	"include\routines_LEVELS.c", 2794; spr_x(player_pos_x-32);
13975                        		__ld.wm		_player_pos_x
         02:CB71  AD DB 24   			lda.l	_player_pos_x
         02:CB74  AC DC 24   			ldy.h	_player_pos_x
13976                        		__sub.wi	32
         02:CB77  38         			sec
         02:CB78  E9 20      			sbc.l	#32
         02:CB7A  B0 01      			bcs	!+
         02:CB7C  88         			dey
         02:CB7D             	!:
13977                        		__call		_spr_x.1
         02:CB7D  20 0A E8   			call	_spr_x.1
13978                        	
13979                        		.dbg	line,	"include\routines_LEVELS.c", 2795; }
13980    02:CB80             	.LL687	.alias		.LL688
13981                        	
13982                        		.dbg	line,	"include\routines_LEVELS.c", 2796; }
13983                        	
13984                        		.dbg	line,	"include\routines_LEVELS.c", 2798; else if(player_counter_attack == 8)
13985                        		__bra		.LL688
         02:CB80  4C DC CC   			bra	.LL688
13986    02:CB83             	.LL685:
13987                        		__ld.umq	_player_counter_attack
         02:CB83  AD 1E 23   			lda	_player_counter_attack
13988                        		__equ_b.uiq	8
         02:CB86  C9 08      			cmp	#8
         02:CB88  F0 01      			beq	!+
         02:CB8A  18         			clc
         02:CB8B             	!:
13989                        		__bfalse	.LL689
         02:CB8B  90 67      			bcc	.LL689
13990                        	
13991                        		.dbg	line,	"include\routines_LEVELS.c", 2799; {
13992                        	
13993                        		.dbg	line,	"include\routines_LEVELS.c", 2800; list_chain_active[1] = TRUE;
13994                        		__st.umiq	1, _list_chain_active + 1
         02:CB8D  A9 01      			lda.l	#1
         02:CB8F  8D 2A 23   			sta	_list_chain_active + 1
13995                        	
13996                        		.dbg	line,	"include\routines_LEVELS.c", 2801; spr_set(chain_id+1);
13997                        		__ld.um		_chain_id
         02:CB92  AD 25 23   			lda	_chain_id
         02:CB95  C2         			cly
13998                        		__add.wi	1
         02:CB96  1A         			inc	a
         02:CB97  D0 01      			bne	!+
         02:CB99  C8         			iny
         02:CB9A             	!:
13999                        		__call		_spr_set.1
         02:CB9A  20 DD E7   			call	_spr_set.1
14000                        	
14001                        		.dbg	line,	"include\routines_LEVELS.c", 2803; if(player_axis == AXIS_RIGHT)
14002                        		__not.um	_player_axis
         02:CB9D  AD 19 23   			lda	_player_axis
         02:CBA0  18         			clc
         02:CBA1  D0 01      			bne	!+
         02:CBA3  38         			sec
         02:CBA4             	!:
14003                        		__bfalse	.LL690
         02:CBA4  90 27      			bcc	.LL690
14004                        	
14005                        		.dbg	line,	"include\routines_LEVELS.c", 2804; {
14006                        	
14007                        		.dbg	line,	"include\routines_LEVELS.c", 2805; spr_x(player_pos_x+48);
14008                        		__ld.wm		_player_pos_x
         02:CBA6  AD DB 24   			lda.l	_player_pos_x
         02:CBA9  AC DC 24   			ldy.h	_player_pos_x
14009                        		__add.wi	48
         02:CBAC  18         			clc
         02:CBAD  69 30      			adc.l	#48
         02:CBAF  90 01      			bcc	!+
         02:CBB1  C8         			iny
         02:CBB2             	!:
14010                        		__call		_spr_x.1
         02:CBB2  20 0A E8   			call	_spr_x.1
14011                        	
14012                        		.dbg	line,	"include\routines_LEVELS.c", 2807; spr_set(weapon_id);
14013                        		__ld.umq	_weapon_id
         02:CBB5  AD 26 23   			lda	_weapon_id
14014                        		__call		_spr_set.1
         02:CBB8  20 DD E7   			call	_spr_set.1
14015                        	
14016                        		.dbg	line,	"include\routines_LEVELS.c", 2808; spr_x(player_pos_x+64);
14017                        		__ld.wm		_player_pos_x
         02:CBBB  AD DB 24   			lda.l	_player_pos_x
         02:CBBE  AC DC 24   			ldy.h	_player_pos_x
14018                        		__add.wi	64
         02:CBC1  18         			clc
         02:CBC2  69 40      			adc.l	#64
         02:CBC4  90 01      			bcc	!+
         02:CBC6  C8         			iny
         02:CBC7             	!:
14019                        		__call		_spr_x.1
         02:CBC7  20 0A E8   			call	_spr_x.1
14020                        	
14021                        		.dbg	line,	"include\routines_LEVELS.c", 2809; }
14022                        	
14023                        		.dbg	line,	"include\routines_LEVELS.c", 2810; 
14024                        	
14025                        		.dbg	line,	"include\routines_LEVELS.c", 2811; else
14026                        		__bra		.LL691
         02:CBCA  4C DC CC   			bra	.LL691
14027    02:CBCD             	.LL690:
14028                        	
14029                        		.dbg	line,	"include\routines_LEVELS.c", 2812; {
14030                        	
14031                        		.dbg	line,	"include\routines_LEVELS.c", 2813; spr_x(player_pos_x-32);
14032                        		__ld.wm		_player_pos_x
         02:CBCD  AD DB 24   			lda.l	_player_pos_x
         02:CBD0  AC DC 24   			ldy.h	_player_pos_x
14033                        		__sub.wi	32
         02:CBD3  38         			sec
         02:CBD4  E9 20      			sbc.l	#32
         02:CBD6  B0 01      			bcs	!+
         02:CBD8  88         			dey
         02:CBD9             	!:
14034                        		__call		_spr_x.1
         02:CBD9  20 0A E8   			call	_spr_x.1
14035                        	
14036                        		.dbg	line,	"include\routines_LEVELS.c", 2815; spr_set(weapon_id);
14037                        		__ld.umq	_weapon_id
         02:CBDC  AD 26 23   			lda	_weapon_id
14038                        		__call		_spr_set.1
         02:CBDF  20 DD E7   			call	_spr_set.1
14039                        	
14040                        		.dbg	line,	"include\routines_LEVELS.c", 2816; spr_x(player_pos_x-48);
14041                        		__ld.wm		_player_pos_x
         02:CBE2  AD DB 24   			lda.l	_player_pos_x
         02:CBE5  AC DC 24   			ldy.h	_player_pos_x
14042                        		__sub.wi	48
         02:CBE8  38         			sec
         02:CBE9  E9 30      			sbc.l	#48
         02:CBEB  B0 01      			bcs	!+
         02:CBED  88         			dey
         02:CBEE             	!:
14043                        		__call		_spr_x.1
         02:CBEE  20 0A E8   			call	_spr_x.1
14044                        	
14045                        		.dbg	line,	"include\routines_LEVELS.c", 2817; }
14046    02:CBF1             	.LL691	.alias		.LL692
14047                        	
14048                        		.dbg	line,	"include\routines_LEVELS.c", 2818; }
14049                        	
14050                        		.dbg	line,	"include\routines_LEVELS.c", 2820; else if(player_counter_attack == 9)
14051                        		__bra		.LL692
         02:CBF1  4C DC CC   			bra	.LL692
14052    02:CBF4             	.LL689:
14053                        		__ld.umq	_player_counter_attack
         02:CBF4  AD 1E 23   			lda	_player_counter_attack
14054                        		__equ_b.uiq	9
         02:CBF7  C9 09      			cmp	#9
         02:CBF9  F0 01      			beq	!+
         02:CBFB  18         			clc
         02:CBFC             	!:
14055                        		__bfalse	.LL693
         02:CBFC  90 68      			bcc	.LL693
14056                        	
14057                        		.dbg	line,	"include\routines_LEVELS.c", 2821; {
14058                        	
14059                        		.dbg	line,	"include\routines_LEVELS.c", 2822; list_chain_active[2] = TRUE;
14060                        		__st.umiq	1, _list_chain_active + 2
         02:CBFE  A9 01      			lda.l	#1
         02:CC00  8D 2B 23   			sta	_list_chain_active + 2
14061                        	
14062                        		.dbg	line,	"include\routines_LEVELS.c", 2823; spr_set(chain_id+2);
14063                        		__ld.um		_chain_id
         02:CC03  AD 25 23   			lda	_chain_id
         02:CC06  C2         			cly
14064                        		__add.wi	2
         02:CC07  18         			clc
         02:CC08  69 02      			adc.l	#2
         02:CC0A  90 01      			bcc	!+
         02:CC0C  C8         			iny
         02:CC0D             	!:
14065                        		__call		_spr_set.1
         02:CC0D  20 DD E7   			call	_spr_set.1
14066                        	
14067                        		.dbg	line,	"include\routines_LEVELS.c", 2825; if(player_axis == AXIS_RIGHT)
14068                        		__not.um	_player_axis
         02:CC10  AD 19 23   			lda	_player_axis
         02:CC13  18         			clc
         02:CC14  D0 01      			bne	!+
         02:CC16  38         			sec
         02:CC17             	!:
14069                        		__bfalse	.LL694
         02:CC17  90 27      			bcc	.LL694
14070                        	
14071                        		.dbg	line,	"include\routines_LEVELS.c", 2826; {
14072                        	
14073                        		.dbg	line,	"include\routines_LEVELS.c", 2827; spr_x(player_pos_x+64);
14074                        		__ld.wm		_player_pos_x
         02:CC19  AD DB 24   			lda.l	_player_pos_x
         02:CC1C  AC DC 24   			ldy.h	_player_pos_x
14075                        		__add.wi	64
         02:CC1F  18         			clc
         02:CC20  69 40      			adc.l	#64
         02:CC22  90 01      			bcc	!+
         02:CC24  C8         			iny
         02:CC25             	!:
14076                        		__call		_spr_x.1
         02:CC25  20 0A E8   			call	_spr_x.1
14077                        	
14078                        		.dbg	line,	"include\routines_LEVELS.c", 2829; spr_set(weapon_id);
14079                        		__ld.umq	_weapon_id
         02:CC28  AD 26 23   			lda	_weapon_id
14080                        		__call		_spr_set.1
         02:CC2B  20 DD E7   			call	_spr_set.1
14081                        	
14082                        		.dbg	line,	"include\routines_LEVELS.c", 2830; spr_x(player_pos_x+80);
14083                        		__ld.wm		_player_pos_x
         02:CC2E  AD DB 24   			lda.l	_player_pos_x
         02:CC31  AC DC 24   			ldy.h	_player_pos_x
14084                        		__add.wi	80
         02:CC34  18         			clc
         02:CC35  69 50      			adc.l	#80
         02:CC37  90 01      			bcc	!+
         02:CC39  C8         			iny
         02:CC3A             	!:
14085                        		__call		_spr_x.1
         02:CC3A  20 0A E8   			call	_spr_x.1
14086                        	
14087                        		.dbg	line,	"include\routines_LEVELS.c", 2831; }
14088                        	
14089                        		.dbg	line,	"include\routines_LEVELS.c", 2832; 
14090                        	
14091                        		.dbg	line,	"include\routines_LEVELS.c", 2833; else
14092                        		__bra		.LL695
         02:CC3D  4C DC CC   			bra	.LL695
14093    02:CC40             	.LL694:
14094                        	
14095                        		.dbg	line,	"include\routines_LEVELS.c", 2834; {
14096                        	
14097                        		.dbg	line,	"include\routines_LEVELS.c", 2835; spr_x(player_pos_x-48);
14098                        		__ld.wm		_player_pos_x
         02:CC40  AD DB 24   			lda.l	_player_pos_x
         02:CC43  AC DC 24   			ldy.h	_player_pos_x
14099                        		__sub.wi	48
         02:CC46  38         			sec
         02:CC47  E9 30      			sbc.l	#48
         02:CC49  B0 01      			bcs	!+
         02:CC4B  88         			dey
         02:CC4C             	!:
14100                        		__call		_spr_x.1
         02:CC4C  20 0A E8   			call	_spr_x.1
14101                        	
14102                        		.dbg	line,	"include\routines_LEVELS.c", 2837; spr_set(weapon_id);
14103                        		__ld.umq	_weapon_id
         02:CC4F  AD 26 23   			lda	_weapon_id
14104                        		__call		_spr_set.1
         02:CC52  20 DD E7   			call	_spr_set.1
14105                        	
14106                        		.dbg	line,	"include\routines_LEVELS.c", 2838; spr_x(player_pos_x-64);
14107                        		__ld.wm		_player_pos_x
         02:CC55  AD DB 24   			lda.l	_player_pos_x
         02:CC58  AC DC 24   			ldy.h	_player_pos_x
14108                        		__sub.wi	64
         02:CC5B  38         			sec
         02:CC5C  E9 40      			sbc.l	#64
         02:CC5E  B0 01      			bcs	!+
         02:CC60  88         			dey
         02:CC61             	!:
14109                        		__call		_spr_x.1
         02:CC61  20 0A E8   			call	_spr_x.1
14110                        	
14111                        		.dbg	line,	"include\routines_LEVELS.c", 2839; }
14112    02:CC64             	.LL695	.alias		.LL696
14113                        	
14114                        		.dbg	line,	"include\routines_LEVELS.c", 2840; }
14115                        	
14116                        		.dbg	line,	"include\routines_LEVELS.c", 2842; else if(player_counter_attack == 23)
14117                        		__bra		.LL696
         02:CC64  80 76      			bra	.LL696
14118    02:CC66             	.LL693:
14119                        		__ld.umq	_player_counter_attack
         02:CC66  AD 1E 23   			lda	_player_counter_attack
14120                        		__equ_b.uiq	23
         02:CC69  C9 17      			cmp	#23
         02:CC6B  F0 01      			beq	!+
         02:CC6D  18         			clc
         02:CC6E             	!:
14121                        		__bfalse	.LL697
         02:CC6E  90 6C      			bcc	.LL697
14122                        	
14123                        		.dbg	line,	"include\routines_LEVELS.c", 2843; {
14124                        	
14125                        		.dbg	line,	"include\routines_LEVELS.c", 2844; spr_set(chain_id);
14126                        		__ld.umq	_chain_id
         02:CC70  AD 25 23   			lda	_chain_id
14127                        		__call		_spr_set.1
         02:CC73  20 DD E7   			call	_spr_set.1
14128                        	
14129                        		.dbg	line,	"include\routines_LEVELS.c", 2845; spr_hide();
14130                        		__call		_spr_hide
         02:CC76  20 F8 E7   			call	_spr_hide
14131                        	
14132                        		.dbg	line,	"include\routines_LEVELS.c", 2847; spr_set(chain_id+1);
14133                        		__ld.um		_chain_id
         02:CC79  AD 25 23   			lda	_chain_id
         02:CC7C  C2         			cly
14134                        		__add.wi	1
         02:CC7D  1A         			inc	a
         02:CC7E  D0 01      			bne	!+
         02:CC80  C8         			iny
         02:CC81             	!:
14135                        		__call		_spr_set.1
         02:CC81  20 DD E7   			call	_spr_set.1
14136                        	
14137                        		.dbg	line,	"include\routines_LEVELS.c", 2848; spr_hide();
14138                        		__call		_spr_hide
         02:CC84  20 F8 E7   			call	_spr_hide
14139                        	
14140                        		.dbg	line,	"include\routines_LEVELS.c", 2850; spr_set(chain_id+2);
14141                        		__ld.um		_chain_id
         02:CC87  AD 25 23   			lda	_chain_id
         02:CC8A  C2         			cly
14142                        		__add.wi	2
         02:CC8B  18         			clc
         02:CC8C  69 02      			adc.l	#2
         02:CC8E  90 01      			bcc	!+
         02:CC90  C8         			iny
         02:CC91             	!:
14143                        		__call		_spr_set.1
         02:CC91  20 DD E7   			call	_spr_set.1
14144                        	
14145                        		.dbg	line,	"include\routines_LEVELS.c", 2851; spr_hide();
14146                        		__call		_spr_hide
         02:CC94  20 F8 E7   			call	_spr_hide
14147                        	
14148                        		.dbg	line,	"include\routines_LEVELS.c", 2853; spr_set(player_id);
14149                        		__ld.umq	_player_id
         02:CC97  AD 17 23   			lda	_player_id
14150                        		__call		_spr_set.1
         02:CC9A  20 DD E7   			call	_spr_set.1
14151                        	
14152                        		.dbg	line,	"include\routines_LEVELS.c", 2854; spr_pattern(PLAYER_IDLE_VRAM_ADR);
14153                        		__ld.wi		5120
         02:CC9D  62         			cla
         02:CC9E  A0 14      			ldy.h	#5120
14154                        		__call		_spr_pattern.1
         02:CCA0  20 26 E8   			call	_spr_pattern.1
14155                        	
14156                        		.dbg	line,	"include\routines_LEVELS.c", 2856; spr_set(weapon_id);
14157                        		__ld.umq	_weapon_id
         02:CCA3  AD 26 23   			lda	_weapon_id
14158                        		__call		_spr_set.1
         02:CCA6  20 DD E7   			call	_spr_set.1
14159                        	
14160                        		.dbg	line,	"include\routines_LEVELS.c", 2857; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
14161                        		__ld.wi		31808
         02:CCA9  A9 40      			lda.l	#31808
         02:CCAB  A0 7C      			ldy.h	#31808
14162                        		__call		_spr_pattern.1
         02:CCAD  20 26 E8   			call	_spr_pattern.1
14163                        	
14164                        		.dbg	line,	"include\routines_LEVELS.c", 2858; spr_x(player_pos_x+8);
14165                        		__ld.wm		_player_pos_x
         02:CCB0  AD DB 24   			lda.l	_player_pos_x
         02:CCB3  AC DC 24   			ldy.h	_player_pos_x
14166                        		__add.wi	8
         02:CCB6  18         			clc
         02:CCB7  69 08      			adc.l	#8
         02:CCB9  90 01      			bcc	!+
         02:CCBB  C8         			iny
         02:CCBC             	!:
14167                        		__call		_spr_x.1
         02:CCBC  20 0A E8   			call	_spr_x.1
14168                        	
14169                        		.dbg	line,	"include\routines_LEVELS.c", 2859; spr_y(player_pos_y+16);
14170                        		__ld.wm		_player_pos_y
         02:CCBF  AD DD 24   			lda.l	_player_pos_y
         02:CCC2  AC DE 24   			ldy.h	_player_pos_y
14171                        		__add.wi	16
         02:CCC5  18         			clc
         02:CCC6  69 10      			adc.l	#16
         02:CCC8  90 01      			bcc	!+
         02:CCCA  C8         			iny
         02:CCCB             	!:
14172                        		__call		_spr_y.1
         02:CCCB  20 19 E8   			call	_spr_y.1
14173                        	
14174                        		.dbg	line,	"include\routines_LEVELS.c", 2861; player_attack = FALSE;
14175                        		__st.umiq	0, _player_attack
         02:CCCE  9C 20 23   			stz	_player_attack
14176                        	
14177                        		.dbg	line,	"include\routines_LEVELS.c", 2862; player_counter_anim = 1;
14178                        		__st.umiq	1, _player_counter_anim
         02:CCD1  A9 01      			lda.l	#1
         02:CCD3  8D 1B 23   			sta	_player_counter_anim
14179                        	
14180                        		.dbg	line,	"include\routines_LEVELS.c", 2863; player_state = STATE_IDLE;
14181                        		__st.umiq	0, _player_state
         02:CCD6  9C 18 23   			stz	_player_state
14182                        	
14183                        		.dbg	line,	"include\routines_LEVELS.c", 2864; return;
14184                        		__bra		.LL675
         02:CCD9  4C 10 D3   			bra	.LL675
14185                        	
14186                        		.dbg	line,	"include\routines_LEVELS.c", 2865; }
14187                        	
14188                        		.dbg	line,	"include\routines_LEVELS.c", 2868; player_counter_attack += 1;
14189    02:CCDC             	.LL697:
14190    02:CCDC             	.LL696:
14191    02:CCDC             	.LL692:
14192    02:CCDC             	.LL688:
14193    02:CCDC             	.LL684:
14194    02:CCDC             	.LL680:
14195                        		__add_st.umiq	1, _player_counter_attack
         02:CCDC  EE 1E 23   			inc	_player_counter_attack
14196                        	
14197                        		.dbg	line,	"include\routines_LEVELS.c", 2871; // SET WEAPON Y POSITION //
14198                        	
14199                        		.dbg	line,	"include\routines_LEVELS.c", 2872; spr_set(weapon_id);
14200                        		__ld.umq	_weapon_id
         02:CCDF  AD 26 23   			lda	_weapon_id
14201                        		__call		_spr_set.1
         02:CCE2  20 DD E7   			call	_spr_set.1
14202                        	
14203                        		.dbg	line,	"include\routines_LEVELS.c", 2873; spr_y(player_pos_y + weapon_y_offset);
14204                        		__ld.bm		_weapon_y_offset
         02:CCE5  AD 73 26   			lda	_weapon_y_offset
         02:CCE8  C2         			cly
         02:CCE9  10 01      			bpl	!+
         02:CCEB  88         			dey
         02:CCEC             	!:
14205                        		__add.wm	_player_pos_y
         02:CCEC  18         			clc
         02:CCED  6D DD 24   			adc.l	_player_pos_y
         02:CCF0  42         			say
         02:CCF1  6D DE 24   			adc.h	_player_pos_y
         02:CCF4  42         			say
14206                        		__call		_spr_y.1
         02:CCF5  20 19 E8   			call	_spr_y.1
14207                        	
14208                        		.dbg	line,	"include\routines_LEVELS.c", 2876; // SET CHAIN Y POSITION //
14209                        	
14210                        		.dbg	line,	"include\routines_LEVELS.c", 2877; for(i=0 ; i<3 ; i++)
14211                        		__st.umiq	0, __update_WEAPON_end - 1  /* i */
         02:CCF8  9C 0E 23   			stz	__update_WEAPON_end - 1
14212    02:CCFB             	.LL698:
14213                        		__ld.umq	__update_WEAPON_end - 1  /* i */
         02:CCFB  AD 0E 23   			lda	__update_WEAPON_end - 1
14214                        		__ult_b.uiq	3
         02:CCFE  C9 03      			cmp	#3		; Subtract integer from A.
         02:CD00  6A         			ror	a		; CC if A < integer.
         02:CD01  49 80      			eor	#$80
         02:CD03  2A         			rol	a
14215                        		__btrue		.LL700
         02:CD04  B0 08      			bcs	.LL700
14216                        		__bra		.LL701
         02:CD06  4C 10 D3   			bra	.LL701
14217    02:CD09             	.LL699:
14218                        		__inc.umq	__update_WEAPON_end - 1  /* i */
         02:CD09  EE 0E 23   			inc	__update_WEAPON_end - 1
14219                        		__bra		.LL698
         02:CD0C  80 ED      			bra	.LL698
14220    02:CD0E             	.LL700:
14221                        	
14222                        		.dbg	line,	"include\routines_LEVELS.c", 2878; {
14223                        	
14224                        		.dbg	line,	"include\routines_LEVELS.c", 2879; spr_set(chain_id+i);
14225                        		__ld.um		_chain_id
         02:CD0E  AD 25 23   			lda	_chain_id
         02:CD11  C2         			cly
14226                        		__add.um	__update_WEAPON_end - 1  /* i */
         02:CD12  18         			clc
         02:CD13  6D 0E 23   			adc	__update_WEAPON_end - 1
         02:CD16  90 01      			bcc	!+
         02:CD18  C8         			iny
         02:CD19             	!:
14227                        		__call		_spr_set.1
         02:CD19  20 DD E7   			call	_spr_set.1
14228                        	
14229                        		.dbg	line,	"include\routines_LEVELS.c", 2881; spr_y( ((player_pos_y + 16) * list_chain_active[i]) - 16); //list_chain_active[0] = TRUE;
14230                        		__ld.wm		_player_pos_y
         02:CD1C  AD DD 24   			lda.l	_player_pos_y
         02:CD1F  AC DE 24   			ldy.h	_player_pos_y
14231                        		__add.wi	16
         02:CD22  18         			clc
         02:CD23  69 10      			adc.l	#16
         02:CD25  90 01      			bcc	!+
         02:CD27  C8         			iny
         02:CD28             	!:
14232                        		__push.wr
         02:CD28  5A         			phy
         02:CD29  48         			pha
14233                        		__ldx.umq	__update_WEAPON_end - 1  /* i */
         02:CD2A  AE 0E 23   			ldx	__update_WEAPON_end - 1
14234                        		__ld.uax	_list_chain_active
         02:CD2D  BD 29 23   			lda	_list_chain_active, x
         02:CD30  C2         			cly
14235                        		__mul.wt
         02:CD31  85 00      			sta.l	<multiplier
         02:CD33  84 01      			sty.h	<multiplier
         02:CD35  68         			pla
         02:CD36  7A         			ply
         02:CD37  20 4C E4   			jsr	__mulint
14236                        		__sub.wi	16
         02:CD3A  38         			sec
         02:CD3B  E9 10      			sbc.l	#16
         02:CD3D  B0 01      			bcs	!+
         02:CD3F  88         			dey
         02:CD40             	!:
14237                        		__call		_spr_y.1
         02:CD40  20 19 E8   			call	_spr_y.1
14238                        	
14239                        		.dbg	line,	"include\routines_LEVELS.c", 2882; }
14240                        		__bra		.LL699
         02:CD43  80 C4      			bra	.LL699
14241    02:CD45             	.LL701	.alias		.LL702
14242                        	
14243                        		.dbg	line,	"include\routines_LEVELS.c", 2883; }
14244                        	
14245                        		.dbg	line,	"include\routines_LEVELS.c", 2886; else if(player_state == STATE_CROUCH_ATTACK)
14246                        		__bra		.LL702
         02:CD45  4C 10 D3   			bra	.LL702
14247    02:CD48             	.LL676:
14248                        		__ld.umq	_player_state
         02:CD48  AD 18 23   			lda	_player_state
14249                        		__equ_b.uiq	8
         02:CD4B  C9 08      			cmp	#8
         02:CD4D  F0 01      			beq	!+
         02:CD4F  18         			clc
         02:CD50             	!:
14250                        		__bfalse	.LL703
         02:CD50  B0 03 4C 4D			bcc	.LL703
         02:CD54  D0          
14251                        	
14252                        		.dbg	line,	"include\routines_LEVELS.c", 2887; {
14253                        	
14254                        		.dbg	line,	"include\routines_LEVELS.c", 2888; char i;
14255                        	
14256                        		.dbg	line,	"include\routines_LEVELS.c", 2889; 
14257                        	
14258                        		.dbg	line,	"include\routines_LEVELS.c", 2890; recenter_CAMERA();
14259                        		__call		_recenter_CAMERA
         02:CD55  20 31 FF   			call	_recenter_CAMERA
14260                        	
14261                        		.dbg	line,	"include\routines_LEVELS.c", 2892; if(player_counter_attack == 0)
14262                        		__not.um	_player_counter_attack
         02:CD58  AD 1E 23   			lda	_player_counter_attack
         02:CD5B  18         			clc
         02:CD5C  D0 01      			bne	!+
         02:CD5E  38         			sec
         02:CD5F             	!:
14263                        		__bfalse	.LL704
         02:CD5F  90 47      			bcc	.LL704
14264                        	
14265                        		.dbg	line,	"include\routines_LEVELS.c", 2893; {
14266                        	
14267                        		.dbg	line,	"include\routines_LEVELS.c", 2894; spr_set(player_id);
14268                        		__ld.umq	_player_id
         02:CD61  AD 17 23   			lda	_player_id
14269                        		__call		_spr_set.1
         02:CD64  20 DD E7   			call	_spr_set.1
14270                        	
14271                        		.dbg	line,	"include\routines_LEVELS.c", 2895; spr_pattern(PLAYER_CROUCH_ATTACK_1_VRAM_ADR);
14272                        		__ld.wi		9984
         02:CD67  62         			cla
         02:CD68  A0 27      			ldy.h	#9984
14273                        		__call		_spr_pattern.1
         02:CD6A  20 26 E8   			call	_spr_pattern.1
14274                        	
14275                        		.dbg	line,	"include\routines_LEVELS.c", 2897; spr_set(weapon_id);
14276                        		__ld.umq	_weapon_id
         02:CD6D  AD 26 23   			lda	_weapon_id
14277                        		__call		_spr_set.1
         02:CD70  20 DD E7   			call	_spr_set.1
14278                        	
14279                        		.dbg	line,	"include\routines_LEVELS.c", 2898; spr_pattern(WEAPON_ATTACK_1_VRAM_ADRESS);
14280                        		__ld.wi		32000
         02:CD73  62         			cla
         02:CD74  A0 7D      			ldy.h	#32000
14281                        		__call		_spr_pattern.1
         02:CD76  20 26 E8   			call	_spr_pattern.1
14282                        	
14283                        		.dbg	line,	"include\routines_LEVELS.c", 2900; if(player_axis == AXIS_RIGHT)
14284                        		__not.um	_player_axis
         02:CD79  AD 19 23   			lda	_player_axis
         02:CD7C  18         			clc
         02:CD7D  D0 01      			bne	!+
         02:CD7F  38         			sec
         02:CD80             	!:
14285                        		__bfalse	.LL705
         02:CD80  90 11      			bcc	.LL705
14286                        	
14287                        		.dbg	line,	"include\routines_LEVELS.c", 2901; {
14288                        	
14289                        		.dbg	line,	"include\routines_LEVELS.c", 2902; spr_x(player_pos_x-16);
14290                        		__ld.wm		_player_pos_x
         02:CD82  AD DB 24   			lda.l	_player_pos_x
         02:CD85  AC DC 24   			ldy.h	_player_pos_x
14291                        		__sub.wi	16
         02:CD88  38         			sec
         02:CD89  E9 10      			sbc.l	#16
         02:CD8B  B0 01      			bcs	!+
         02:CD8D  88         			dey
         02:CD8E             	!:
14292                        		__call		_spr_x.1
         02:CD8E  20 0A E8   			call	_spr_x.1
14293                        	
14294                        		.dbg	line,	"include\routines_LEVELS.c", 2903; }
14295                        	
14296                        		.dbg	line,	"include\routines_LEVELS.c", 2905; else
14297                        		__bra		.LL706
         02:CD91  80 0F      			bra	.LL706
14298    02:CD93             	.LL705:
14299                        	
14300                        		.dbg	line,	"include\routines_LEVELS.c", 2906; {
14301                        	
14302                        		.dbg	line,	"include\routines_LEVELS.c", 2907; spr_x(player_pos_x+32);
14303                        		__ld.wm		_player_pos_x
         02:CD93  AD DB 24   			lda.l	_player_pos_x
         02:CD96  AC DC 24   			ldy.h	_player_pos_x
14304                        		__add.wi	32
         02:CD99  18         			clc
         02:CD9A  69 20      			adc.l	#32
         02:CD9C  90 01      			bcc	!+
         02:CD9E  C8         			iny
         02:CD9F             	!:
14305                        		__call		_spr_x.1
         02:CD9F  20 0A E8   			call	_spr_x.1
14306                        	
14307                        		.dbg	line,	"include\routines_LEVELS.c", 2908; }
14308    02:CDA2             	.LL706:
14309                        	
14310                        		.dbg	line,	"include\routines_LEVELS.c", 2910; weapon_y_offset = 0;
14311                        		__st.umiq	0, _weapon_y_offset
         02:CDA2  9C 73 26   			stz	_weapon_y_offset
14312                        	
14313                        		.dbg	line,	"include\routines_LEVELS.c", 2911; }
14314                        	
14315                        		.dbg	line,	"include\routines_LEVELS.c", 2913; else if(player_counter_attack == 6)
14316                        		__bra		.LL707
         02:CDA5  4C E1 CF   			bra	.LL707
14317    02:CDA8             	.LL704:
14318                        		__ld.umq	_player_counter_attack
         02:CDA8  AD 1E 23   			lda	_player_counter_attack
14319                        		__equ_b.uiq	6
         02:CDAB  C9 06      			cmp	#6
         02:CDAD  F0 01      			beq	!+
         02:CDAF  18         			clc
         02:CDB0             	!:
14320                        		__bfalse	.LL708
         02:CDB0  90 4A      			bcc	.LL708
14321                        	
14322                        		.dbg	line,	"include\routines_LEVELS.c", 2914; {
14323                        	
14324                        		.dbg	line,	"include\routines_LEVELS.c", 2915; spr_set(player_id);
14325                        		__ld.umq	_player_id
         02:CDB2  AD 17 23   			lda	_player_id
14326                        		__call		_spr_set.1
         02:CDB5  20 DD E7   			call	_spr_set.1
14327                        	
14328                        		.dbg	line,	"include\routines_LEVELS.c", 2916; spr_pattern(PLAYER_CROUCH_ATTACK_2_VRAM_ADR);
14329                        		__ld.wi		10240
         02:CDB8  62         			cla
         02:CDB9  A0 28      			ldy.h	#10240
14330                        		__call		_spr_pattern.1
         02:CDBB  20 26 E8   			call	_spr_pattern.1
14331                        	
14332                        		.dbg	line,	"include\routines_LEVELS.c", 2918; spr_set(weapon_id);
14333                        		__ld.umq	_weapon_id
         02:CDBE  AD 26 23   			lda	_weapon_id
14334                        		__call		_spr_set.1
         02:CDC1  20 DD E7   			call	_spr_set.1
14335                        	
14336                        		.dbg	line,	"include\routines_LEVELS.c", 2919; spr_pattern(WEAPON_ATTACK_2_VRAM_ADRESS);
14337                        		__ld.wi		32064
         02:CDC4  A9 40      			lda.l	#32064
         02:CDC6  A0 7D      			ldy.h	#32064
14338                        		__call		_spr_pattern.1
         02:CDC8  20 26 E8   			call	_spr_pattern.1
14339                        	
14340                        		.dbg	line,	"include\routines_LEVELS.c", 2921; if(player_axis == AXIS_RIGHT)
14341                        		__not.um	_player_axis
         02:CDCB  AD 19 23   			lda	_player_axis
         02:CDCE  18         			clc
         02:CDCF  D0 01      			bne	!+
         02:CDD1  38         			sec
         02:CDD2             	!:
14342                        		__bfalse	.LL709
         02:CDD2  90 11      			bcc	.LL709
14343                        	
14344                        		.dbg	line,	"include\routines_LEVELS.c", 2922; {
14345                        	
14346                        		.dbg	line,	"include\routines_LEVELS.c", 2923; spr_x(player_pos_x+32);
14347                        		__ld.wm		_player_pos_x
         02:CDD4  AD DB 24   			lda.l	_player_pos_x
         02:CDD7  AC DC 24   			ldy.h	_player_pos_x
14348                        		__add.wi	32
         02:CDDA  18         			clc
         02:CDDB  69 20      			adc.l	#32
         02:CDDD  90 01      			bcc	!+
         02:CDDF  C8         			iny
         02:CDE0             	!:
14349                        		__call		_spr_x.1
         02:CDE0  20 0A E8   			call	_spr_x.1
14350                        	
14351                        		.dbg	line,	"include\routines_LEVELS.c", 2924; 
14352                        	
14353                        		.dbg	line,	"include\routines_LEVELS.c", 2925; }
14354                        	
14355                        		.dbg	line,	"include\routines_LEVELS.c", 2926; 
14356                        	
14357                        		.dbg	line,	"include\routines_LEVELS.c", 2927; else
14358                        		__bra		.LL710
         02:CDE3  80 0F      			bra	.LL710
14359    02:CDE5             	.LL709:
14360                        	
14361                        		.dbg	line,	"include\routines_LEVELS.c", 2928; {
14362                        	
14363                        		.dbg	line,	"include\routines_LEVELS.c", 2929; spr_x(player_pos_x-16);
14364                        		__ld.wm		_player_pos_x
         02:CDE5  AD DB 24   			lda.l	_player_pos_x
         02:CDE8  AC DC 24   			ldy.h	_player_pos_x
14365                        		__sub.wi	16
         02:CDEB  38         			sec
         02:CDEC  E9 10      			sbc.l	#16
         02:CDEE  B0 01      			bcs	!+
         02:CDF0  88         			dey
         02:CDF1             	!:
14366                        		__call		_spr_x.1
         02:CDF1  20 0A E8   			call	_spr_x.1
14367                        	
14368                        		.dbg	line,	"include\routines_LEVELS.c", 2930; }
14369    02:CDF4             	.LL710:
14370                        	
14371                        		.dbg	line,	"include\routines_LEVELS.c", 2932; weapon_y_offset = 14;
14372                        		__st.umiq	14, _weapon_y_offset
         02:CDF4  A9 0E      			lda.l	#14
         02:CDF6  8D 73 26   			sta	_weapon_y_offset
14373                        	
14374                        		.dbg	line,	"include\routines_LEVELS.c", 2933; }
14375                        	
14376                        		.dbg	line,	"include\routines_LEVELS.c", 2935; else if(player_counter_attack == 7)
14377                        		__bra		.LL711
         02:CDF9  4C E1 CF   			bra	.LL711
14378    02:CDFC             	.LL708:
14379                        		__ld.umq	_player_counter_attack
         02:CDFC  AD 1E 23   			lda	_player_counter_attack
14380                        		__equ_b.uiq	7
         02:CDFF  C9 07      			cmp	#7
         02:CE01  F0 01      			beq	!+
         02:CE03  18         			clc
         02:CE04             	!:
14381                        		__bfalse	.LL712
         02:CE04  90 62      			bcc	.LL712
14382                        	
14383                        		.dbg	line,	"include\routines_LEVELS.c", 2936; {
14384                        	
14385                        		.dbg	line,	"include\routines_LEVELS.c", 2937; list_chain_active[0] = TRUE;
14386                        		__st.umiq	1, _list_chain_active
         02:CE06  A9 01      			lda.l	#1
         02:CE08  8D 29 23   			sta	_list_chain_active
14387                        	
14388                        		.dbg	line,	"include\routines_LEVELS.c", 2938; spr_set(chain_id);
14389                        		__ld.umq	_chain_id
         02:CE0B  AD 25 23   			lda	_chain_id
14390                        		__call		_spr_set.1
         02:CE0E  20 DD E7   			call	_spr_set.1
14391                        	
14392                        		.dbg	line,	"include\routines_LEVELS.c", 2940; if(player_axis == AXIS_RIGHT)
14393                        		__not.um	_player_axis
         02:CE11  AD 19 23   			lda	_player_axis
         02:CE14  18         			clc
         02:CE15  D0 01      			bne	!+
         02:CE17  38         			sec
         02:CE18             	!:
14394                        		__bfalse	.LL713
         02:CE18  90 27      			bcc	.LL713
14395                        	
14396                        		.dbg	line,	"include\routines_LEVELS.c", 2941; {
14397                        	
14398                        		.dbg	line,	"include\routines_LEVELS.c", 2942; spr_x(player_pos_x+32);
14399                        		__ld.wm		_player_pos_x
         02:CE1A  AD DB 24   			lda.l	_player_pos_x
         02:CE1D  AC DC 24   			ldy.h	_player_pos_x
14400                        		__add.wi	32
         02:CE20  18         			clc
         02:CE21  69 20      			adc.l	#32
         02:CE23  90 01      			bcc	!+
         02:CE25  C8         			iny
         02:CE26             	!:
14401                        		__call		_spr_x.1
         02:CE26  20 0A E8   			call	_spr_x.1
14402                        	
14403                        		.dbg	line,	"include\routines_LEVELS.c", 2944; spr_set(weapon_id);
14404                        		__ld.umq	_weapon_id
         02:CE29  AD 26 23   			lda	_weapon_id
14405                        		__call		_spr_set.1
         02:CE2C  20 DD E7   			call	_spr_set.1
14406                        	
14407                        		.dbg	line,	"include\routines_LEVELS.c", 2945; spr_x(player_pos_x+48);
14408                        		__ld.wm		_player_pos_x
         02:CE2F  AD DB 24   			lda.l	_player_pos_x
         02:CE32  AC DC 24   			ldy.h	_player_pos_x
14409                        		__add.wi	48
         02:CE35  18         			clc
         02:CE36  69 30      			adc.l	#48
         02:CE38  90 01      			bcc	!+
         02:CE3A  C8         			iny
         02:CE3B             	!:
14410                        		__call		_spr_x.1
         02:CE3B  20 0A E8   			call	_spr_x.1
14411                        	
14412                        		.dbg	line,	"include\routines_LEVELS.c", 2946; }
14413                        	
14414                        		.dbg	line,	"include\routines_LEVELS.c", 2947; 
14415                        	
14416                        		.dbg	line,	"include\routines_LEVELS.c", 2948; else
14417                        		__bra		.LL714
         02:CE3E  4C E1 CF   			bra	.LL714
14418    02:CE41             	.LL713:
14419                        	
14420                        		.dbg	line,	"include\routines_LEVELS.c", 2949; {
14421                        	
14422                        		.dbg	line,	"include\routines_LEVELS.c", 2950; spr_x(player_pos_x-16);
14423                        		__ld.wm		_player_pos_x
         02:CE41  AD DB 24   			lda.l	_player_pos_x
         02:CE44  AC DC 24   			ldy.h	_player_pos_x
14424                        		__sub.wi	16
         02:CE47  38         			sec
         02:CE48  E9 10      			sbc.l	#16
         02:CE4A  B0 01      			bcs	!+
         02:CE4C  88         			dey
         02:CE4D             	!:
14425                        		__call		_spr_x.1
         02:CE4D  20 0A E8   			call	_spr_x.1
14426                        	
14427                        		.dbg	line,	"include\routines_LEVELS.c", 2952; spr_set(weapon_id);
14428                        		__ld.umq	_weapon_id
         02:CE50  AD 26 23   			lda	_weapon_id
14429                        		__call		_spr_set.1
         02:CE53  20 DD E7   			call	_spr_set.1
14430                        	
14431                        		.dbg	line,	"include\routines_LEVELS.c", 2953; spr_x(player_pos_x-32);
14432                        		__ld.wm		_player_pos_x
         02:CE56  AD DB 24   			lda.l	_player_pos_x
         02:CE59  AC DC 24   			ldy.h	_player_pos_x
14433                        		__sub.wi	32
         02:CE5C  38         			sec
         02:CE5D  E9 20      			sbc.l	#32
         02:CE5F  B0 01      			bcs	!+
         02:CE61  88         			dey
         02:CE62             	!:
14434                        		__call		_spr_x.1
         02:CE62  20 0A E8   			call	_spr_x.1
14435                        	
14436                        		.dbg	line,	"include\routines_LEVELS.c", 2954; }
14437    02:CE65             	.LL714	.alias		.LL715
14438                        	
14439                        		.dbg	line,	"include\routines_LEVELS.c", 2955; }
14440                        	
14441                        		.dbg	line,	"include\routines_LEVELS.c", 2957; else if(player_counter_attack == 8)
14442                        		__bra		.LL715
         02:CE65  4C E1 CF   			bra	.LL715
14443    02:CE68             	.LL712:
14444                        		__ld.umq	_player_counter_attack
         02:CE68  AD 1E 23   			lda	_player_counter_attack
14445                        		__equ_b.uiq	8
         02:CE6B  C9 08      			cmp	#8
         02:CE6D  F0 01      			beq	!+
         02:CE6F  18         			clc
         02:CE70             	!:
14446                        		__bfalse	.LL716
         02:CE70  90 67      			bcc	.LL716
14447                        	
14448                        		.dbg	line,	"include\routines_LEVELS.c", 2958; {
14449                        	
14450                        		.dbg	line,	"include\routines_LEVELS.c", 2959; list_chain_active[1] = TRUE;
14451                        		__st.umiq	1, _list_chain_active + 1
         02:CE72  A9 01      			lda.l	#1
         02:CE74  8D 2A 23   			sta	_list_chain_active + 1
14452                        	
14453                        		.dbg	line,	"include\routines_LEVELS.c", 2960; spr_set(chain_id+1);
14454                        		__ld.um		_chain_id
         02:CE77  AD 25 23   			lda	_chain_id
         02:CE7A  C2         			cly
14455                        		__add.wi	1
         02:CE7B  1A         			inc	a
         02:CE7C  D0 01      			bne	!+
         02:CE7E  C8         			iny
         02:CE7F             	!:
14456                        		__call		_spr_set.1
         02:CE7F  20 DD E7   			call	_spr_set.1
14457                        	
14458                        		.dbg	line,	"include\routines_LEVELS.c", 2962; if(player_axis == AXIS_RIGHT)
14459                        		__not.um	_player_axis
         02:CE82  AD 19 23   			lda	_player_axis
         02:CE85  18         			clc
         02:CE86  D0 01      			bne	!+
         02:CE88  38         			sec
         02:CE89             	!:
14460                        		__bfalse	.LL717
         02:CE89  90 27      			bcc	.LL717
14461                        	
14462                        		.dbg	line,	"include\routines_LEVELS.c", 2963; {
14463                        	
14464                        		.dbg	line,	"include\routines_LEVELS.c", 2964; spr_x(player_pos_x+48);
14465                        		__ld.wm		_player_pos_x
         02:CE8B  AD DB 24   			lda.l	_player_pos_x
         02:CE8E  AC DC 24   			ldy.h	_player_pos_x
14466                        		__add.wi	48
         02:CE91  18         			clc
         02:CE92  69 30      			adc.l	#48
         02:CE94  90 01      			bcc	!+
         02:CE96  C8         			iny
         02:CE97             	!:
14467                        		__call		_spr_x.1
         02:CE97  20 0A E8   			call	_spr_x.1
14468                        	
14469                        		.dbg	line,	"include\routines_LEVELS.c", 2966; spr_set(weapon_id);
14470                        		__ld.umq	_weapon_id
         02:CE9A  AD 26 23   			lda	_weapon_id
14471                        		__call		_spr_set.1
         02:CE9D  20 DD E7   			call	_spr_set.1
14472                        	
14473                        		.dbg	line,	"include\routines_LEVELS.c", 2967; spr_x(player_pos_x+64);
14474                        		__ld.wm		_player_pos_x
         02:CEA0  AD DB 24   			lda.l	_player_pos_x
         02:CEA3  AC DC 24   			ldy.h	_player_pos_x
14475                        		__add.wi	64
         02:CEA6  18         			clc
         02:CEA7  69 40      			adc.l	#64
         02:CEA9  90 01      			bcc	!+
         02:CEAB  C8         			iny
         02:CEAC             	!:
14476                        		__call		_spr_x.1
         02:CEAC  20 0A E8   			call	_spr_x.1
14477                        	
14478                        		.dbg	line,	"include\routines_LEVELS.c", 2968; }
14479                        	
14480                        		.dbg	line,	"include\routines_LEVELS.c", 2969; 
14481                        	
14482                        		.dbg	line,	"include\routines_LEVELS.c", 2970; else
14483                        		__bra		.LL718
         02:CEAF  4C E1 CF   			bra	.LL718
14484    02:CEB2             	.LL717:
14485                        	
14486                        		.dbg	line,	"include\routines_LEVELS.c", 2971; {
14487                        	
14488                        		.dbg	line,	"include\routines_LEVELS.c", 2972; spr_x(player_pos_x-32);
14489                        		__ld.wm		_player_pos_x
         02:CEB2  AD DB 24   			lda.l	_player_pos_x
         02:CEB5  AC DC 24   			ldy.h	_player_pos_x
14490                        		__sub.wi	32
         02:CEB8  38         			sec
         02:CEB9  E9 20      			sbc.l	#32
         02:CEBB  B0 01      			bcs	!+
         02:CEBD  88         			dey
         02:CEBE             	!:
14491                        		__call		_spr_x.1
         02:CEBE  20 0A E8   			call	_spr_x.1
14492                        	
14493                        		.dbg	line,	"include\routines_LEVELS.c", 2974; spr_set(weapon_id);
14494                        		__ld.umq	_weapon_id
         02:CEC1  AD 26 23   			lda	_weapon_id
14495                        		__call		_spr_set.1
         02:CEC4  20 DD E7   			call	_spr_set.1
14496                        	
14497                        		.dbg	line,	"include\routines_LEVELS.c", 2975; spr_x(player_pos_x-48);
14498                        		__ld.wm		_player_pos_x
         02:CEC7  AD DB 24   			lda.l	_player_pos_x
         02:CECA  AC DC 24   			ldy.h	_player_pos_x
14499                        		__sub.wi	48
         02:CECD  38         			sec
         02:CECE  E9 30      			sbc.l	#48
         02:CED0  B0 01      			bcs	!+
         02:CED2  88         			dey
         02:CED3             	!:
14500                        		__call		_spr_x.1
         02:CED3  20 0A E8   			call	_spr_x.1
14501                        	
14502                        		.dbg	line,	"include\routines_LEVELS.c", 2976; }
14503    02:CED6             	.LL718	.alias		.LL719
14504                        	
14505                        		.dbg	line,	"include\routines_LEVELS.c", 2977; }
14506                        	
14507                        		.dbg	line,	"include\routines_LEVELS.c", 2979; else if(player_counter_attack == 9)
14508                        		__bra		.LL719
         02:CED6  4C E1 CF   			bra	.LL719
14509    02:CED9             	.LL716:
14510                        		__ld.umq	_player_counter_attack
         02:CED9  AD 1E 23   			lda	_player_counter_attack
14511                        		__equ_b.uiq	9
         02:CEDC  C9 09      			cmp	#9
         02:CEDE  F0 01      			beq	!+
         02:CEE0  18         			clc
         02:CEE1             	!:
14512                        		__bfalse	.LL720
         02:CEE1  90 69      			bcc	.LL720
14513                        	
14514                        		.dbg	line,	"include\routines_LEVELS.c", 2980; {
14515                        	
14516                        		.dbg	line,	"include\routines_LEVELS.c", 2981; list_chain_active[2] = TRUE;
14517                        		__st.umiq	1, _list_chain_active + 2
         02:CEE3  A9 01      			lda.l	#1
         02:CEE5  8D 2B 23   			sta	_list_chain_active + 2
14518                        	
14519                        		.dbg	line,	"include\routines_LEVELS.c", 2982; spr_set(chain_id+2);
14520                        		__ld.um		_chain_id
         02:CEE8  AD 25 23   			lda	_chain_id
         02:CEEB  C2         			cly
14521                        		__add.wi	2
         02:CEEC  18         			clc
         02:CEED  69 02      			adc.l	#2
         02:CEEF  90 01      			bcc	!+
         02:CEF1  C8         			iny
         02:CEF2             	!:
14522                        		__call		_spr_set.1
         02:CEF2  20 DD E7   			call	_spr_set.1
14523                        	
14524                        		.dbg	line,	"include\routines_LEVELS.c", 2984; if(player_axis == AXIS_RIGHT)
14525                        		__not.um	_player_axis
         02:CEF5  AD 19 23   			lda	_player_axis
         02:CEF8  18         			clc
         02:CEF9  D0 01      			bne	!+
         02:CEFB  38         			sec
         02:CEFC             	!:
14526                        		__bfalse	.LL721
         02:CEFC  90 27      			bcc	.LL721
14527                        	
14528                        		.dbg	line,	"include\routines_LEVELS.c", 2985; {
14529                        	
14530                        		.dbg	line,	"include\routines_LEVELS.c", 2986; spr_x(player_pos_x+64);
14531                        		__ld.wm		_player_pos_x
         02:CEFE  AD DB 24   			lda.l	_player_pos_x
         02:CF01  AC DC 24   			ldy.h	_player_pos_x
14532                        		__add.wi	64
         02:CF04  18         			clc
         02:CF05  69 40      			adc.l	#64
         02:CF07  90 01      			bcc	!+
         02:CF09  C8         			iny
         02:CF0A             	!:
14533                        		__call		_spr_x.1
         02:CF0A  20 0A E8   			call	_spr_x.1
14534                        	
14535                        		.dbg	line,	"include\routines_LEVELS.c", 2988; spr_set(weapon_id);
14536                        		__ld.umq	_weapon_id
         02:CF0D  AD 26 23   			lda	_weapon_id
14537                        		__call		_spr_set.1
         02:CF10  20 DD E7   			call	_spr_set.1
14538                        	
14539                        		.dbg	line,	"include\routines_LEVELS.c", 2989; spr_x(player_pos_x+80);
14540                        		__ld.wm		_player_pos_x
         02:CF13  AD DB 24   			lda.l	_player_pos_x
         02:CF16  AC DC 24   			ldy.h	_player_pos_x
14541                        		__add.wi	80
         02:CF19  18         			clc
         02:CF1A  69 50      			adc.l	#80
         02:CF1C  90 01      			bcc	!+
         02:CF1E  C8         			iny
         02:CF1F             	!:
14542                        		__call		_spr_x.1
         02:CF1F  20 0A E8   			call	_spr_x.1
14543                        	
14544                        		.dbg	line,	"include\routines_LEVELS.c", 2990; }
14545                        	
14546                        		.dbg	line,	"include\routines_LEVELS.c", 2991; 
14547                        	
14548                        		.dbg	line,	"include\routines_LEVELS.c", 2992; else
14549                        		__bra		.LL722
         02:CF22  4C E1 CF   			bra	.LL722
14550    02:CF25             	.LL721:
14551                        	
14552                        		.dbg	line,	"include\routines_LEVELS.c", 2993; {
14553                        	
14554                        		.dbg	line,	"include\routines_LEVELS.c", 2994; spr_x(player_pos_x-48);
14555                        		__ld.wm		_player_pos_x
         02:CF25  AD DB 24   			lda.l	_player_pos_x
         02:CF28  AC DC 24   			ldy.h	_player_pos_x
14556                        		__sub.wi	48
         02:CF2B  38         			sec
         02:CF2C  E9 30      			sbc.l	#48
         02:CF2E  B0 01      			bcs	!+
         02:CF30  88         			dey
         02:CF31             	!:
14557                        		__call		_spr_x.1
         02:CF31  20 0A E8   			call	_spr_x.1
14558                        	
14559                        		.dbg	line,	"include\routines_LEVELS.c", 2996; spr_set(weapon_id);
14560                        		__ld.umq	_weapon_id
         02:CF34  AD 26 23   			lda	_weapon_id
14561                        		__call		_spr_set.1
         02:CF37  20 DD E7   			call	_spr_set.1
14562                        	
14563                        		.dbg	line,	"include\routines_LEVELS.c", 2997; spr_x(player_pos_x-64);
14564                        		__ld.wm		_player_pos_x
         02:CF3A  AD DB 24   			lda.l	_player_pos_x
         02:CF3D  AC DC 24   			ldy.h	_player_pos_x
14565                        		__sub.wi	64
         02:CF40  38         			sec
         02:CF41  E9 40      			sbc.l	#64
         02:CF43  B0 01      			bcs	!+
         02:CF45  88         			dey
         02:CF46             	!:
14566                        		__call		_spr_x.1
         02:CF46  20 0A E8   			call	_spr_x.1
14567                        	
14568                        		.dbg	line,	"include\routines_LEVELS.c", 2998; }
14569    02:CF49             	.LL722	.alias		.LL723
14570                        	
14571                        		.dbg	line,	"include\routines_LEVELS.c", 2999; }
14572                        	
14573                        		.dbg	line,	"include\routines_LEVELS.c", 3001; else if(player_counter_attack == 23)
14574                        		__bra		.LL723
         02:CF49  4C E1 CF   			bra	.LL723
14575    02:CF4C             	.LL720:
14576                        		__ld.umq	_player_counter_attack
         02:CF4C  AD 1E 23   			lda	_player_counter_attack
14577                        		__equ_b.uiq	23
         02:CF4F  C9 17      			cmp	#23
         02:CF51  F0 01      			beq	!+
         02:CF53  18         			clc
         02:CF54             	!:
14578                        		__bfalse	.LL724
         02:CF54  B0 03 4C E1			bcc	.LL724
         02:CF58  CF          
14579                        	
14580                        		.dbg	line,	"include\routines_LEVELS.c", 3002; {
14581                        	
14582                        		.dbg	line,	"include\routines_LEVELS.c", 3003; spr_set(chain_id);
14583                        		__ld.umq	_chain_id
         02:CF59  AD 25 23   			lda	_chain_id
14584                        		__call		_spr_set.1
         02:CF5C  20 DD E7   			call	_spr_set.1
14585                        	
14586                        		.dbg	line,	"include\routines_LEVELS.c", 3004; spr_hide();
14587                        		__call		_spr_hide
         02:CF5F  20 F8 E7   			call	_spr_hide
14588                        	
14589                        		.dbg	line,	"include\routines_LEVELS.c", 3006; spr_set(chain_id+1);
14590                        		__ld.um		_chain_id
         02:CF62  AD 25 23   			lda	_chain_id
         02:CF65  C2         			cly
14591                        		__add.wi	1
         02:CF66  1A         			inc	a
         02:CF67  D0 01      			bne	!+
         02:CF69  C8         			iny
         02:CF6A             	!:
14592                        		__call		_spr_set.1
         02:CF6A  20 DD E7   			call	_spr_set.1
14593                        	
14594                        		.dbg	line,	"include\routines_LEVELS.c", 3007; spr_hide();
14595                        		__call		_spr_hide
         02:CF6D  20 F8 E7   			call	_spr_hide
14596                        	
14597                        		.dbg	line,	"include\routines_LEVELS.c", 3009; spr_set(chain_id+2);
14598                        		__ld.um		_chain_id
         02:CF70  AD 25 23   			lda	_chain_id
         02:CF73  C2         			cly
14599                        		__add.wi	2
         02:CF74  18         			clc
         02:CF75  69 02      			adc.l	#2
         02:CF77  90 01      			bcc	!+
         02:CF79  C8         			iny
         02:CF7A             	!:
14600                        		__call		_spr_set.1
         02:CF7A  20 DD E7   			call	_spr_set.1
14601                        	
14602                        		.dbg	line,	"include\routines_LEVELS.c", 3010; spr_hide();
14603                        		__call		_spr_hide
         02:CF7D  20 F8 E7   			call	_spr_hide
14604                        	
14605                        		.dbg	line,	"include\routines_LEVELS.c", 3012; spr_set(player_id);
14606                        		__ld.umq	_player_id
         02:CF80  AD 17 23   			lda	_player_id
14607                        		__call		_spr_set.1
         02:CF83  20 DD E7   			call	_spr_set.1
14608                        	
14609                        		.dbg	line,	"include\routines_LEVELS.c", 3013; spr_pattern(PLAYER_CROUCH_VRAM_ADR);
14610                        		__ld.wi		7168
         02:CF86  62         			cla
         02:CF87  A0 1C      			ldy.h	#7168
14611                        		__call		_spr_pattern.1
         02:CF89  20 26 E8   			call	_spr_pattern.1
14612                        	
14613                        		.dbg	line,	"include\routines_LEVELS.c", 3015; spr_set(weapon_id);
14614                        		__ld.umq	_weapon_id
         02:CF8C  AD 26 23   			lda	_weapon_id
14615                        		__call		_spr_set.1
         02:CF8F  20 DD E7   			call	_spr_set.1
14616                        	
14617                        		.dbg	line,	"include\routines_LEVELS.c", 3016; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
14618                        		__ld.wi		31808
         02:CF92  A9 40      			lda.l	#31808
         02:CF94  A0 7C      			ldy.h	#31808
14619                        		__call		_spr_pattern.1
         02:CF96  20 26 E8   			call	_spr_pattern.1
14620                        	
14621                        		.dbg	line,	"include\routines_LEVELS.c", 3017; 
14622                        	
14623                        		.dbg	line,	"include\routines_LEVELS.c", 3018; if(player_axis == AXIS_RIGHT)
14624                        		__not.um	_player_axis
         02:CF99  AD 19 23   			lda	_player_axis
         02:CF9C  18         			clc
         02:CF9D  D0 01      			bne	!+
         02:CF9F  38         			sec
         02:CFA0             	!:
14625                        		__bfalse	.LL725
         02:CFA0  90 11      			bcc	.LL725
14626                        	
14627                        		.dbg	line,	"include\routines_LEVELS.c", 3019; {
14628                        	
14629                        		.dbg	line,	"include\routines_LEVELS.c", 3020; spr_x(player_pos_x-1);
14630                        		__ld.wm		_player_pos_x
         02:CFA2  AD DB 24   			lda.l	_player_pos_x
         02:CFA5  AC DC 24   			ldy.h	_player_pos_x
14631                        		__sub.wi	1
         02:CFA8  38         			sec
         02:CFA9  E9 01      			sbc.l	#1
         02:CFAB  B0 01      			bcs	!+
         02:CFAD  88         			dey
         02:CFAE             	!:
14632                        		__call		_spr_x.1
         02:CFAE  20 0A E8   			call	_spr_x.1
14633                        	
14634                        		.dbg	line,	"include\routines_LEVELS.c", 3021; }
14635                        	
14636                        		.dbg	line,	"include\routines_LEVELS.c", 3023; else
14637                        		__bra		.LL726
         02:CFB1  80 0F      			bra	.LL726
14638    02:CFB3             	.LL725:
14639                        	
14640                        		.dbg	line,	"include\routines_LEVELS.c", 3024; {
14641                        	
14642                        		.dbg	line,	"include\routines_LEVELS.c", 3025; spr_x(player_pos_x+17);
14643                        		__ld.wm		_player_pos_x
         02:CFB3  AD DB 24   			lda.l	_player_pos_x
         02:CFB6  AC DC 24   			ldy.h	_player_pos_x
14644                        		__add.wi	17
         02:CFB9  18         			clc
         02:CFBA  69 11      			adc.l	#17
         02:CFBC  90 01      			bcc	!+
         02:CFBE  C8         			iny
         02:CFBF             	!:
14645                        		__call		_spr_x.1
         02:CFBF  20 0A E8   			call	_spr_x.1
14646                        	
14647                        		.dbg	line,	"include\routines_LEVELS.c", 3026; }
14648    02:CFC2             	.LL726:
14649                        	
14650                        		.dbg	line,	"include\routines_LEVELS.c", 3028; spr_y(player_pos_y+18);
14651                        		__ld.wm		_player_pos_y
         02:CFC2  AD DD 24   			lda.l	_player_pos_y
         02:CFC5  AC DE 24   			ldy.h	_player_pos_y
14652                        		__add.wi	18
         02:CFC8  18         			clc
         02:CFC9  69 12      			adc.l	#18
         02:CFCB  90 01      			bcc	!+
         02:CFCD  C8         			iny
         02:CFCE             	!:
14653                        		__call		_spr_y.1
         02:CFCE  20 19 E8   			call	_spr_y.1
14654                        	
14655                        		.dbg	line,	"include\routines_LEVELS.c", 3030; player_attack = FALSE;
14656                        		__st.umiq	0, _player_attack
         02:CFD1  9C 20 23   			stz	_player_attack
14657                        	
14658                        		.dbg	line,	"include\routines_LEVELS.c", 3031; player_counter_attack = 1;
14659                        		__st.umiq	1, _player_counter_attack
         02:CFD4  A9 01      			lda.l	#1
         02:CFD6  8D 1E 23   			sta	_player_counter_attack
14660                        	
14661                        		.dbg	line,	"include\routines_LEVELS.c", 3032; player_state = STATE_CROUCH;
14662                        		__st.umiq	7, _player_state
         02:CFD9  A9 07      			lda.l	#7
         02:CFDB  8D 18 23   			sta	_player_state
14663                        	
14664                        		.dbg	line,	"include\routines_LEVELS.c", 3033; return;
14665                        		__bra		.LL675
         02:CFDE  4C 10 D3   			bra	.LL675
14666                        	
14667                        		.dbg	line,	"include\routines_LEVELS.c", 3034; }
14668                        	
14669                        		.dbg	line,	"include\routines_LEVELS.c", 3037; player_counter_attack += 1;
14670    02:CFE1             	.LL724:
14671    02:CFE1             	.LL723:
14672    02:CFE1             	.LL719:
14673    02:CFE1             	.LL715:
14674    02:CFE1             	.LL711:
14675    02:CFE1             	.LL707:
14676                        		__add_st.umiq	1, _player_counter_attack
         02:CFE1  EE 1E 23   			inc	_player_counter_attack
14677                        	
14678                        		.dbg	line,	"include\routines_LEVELS.c", 3040; // SET WEAPON Y POSITION //
14679                        	
14680                        		.dbg	line,	"include\routines_LEVELS.c", 3041; spr_set(weapon_id);
14681                        		__ld.umq	_weapon_id
         02:CFE4  AD 26 23   			lda	_weapon_id
14682                        		__call		_spr_set.1
         02:CFE7  20 DD E7   			call	_spr_set.1
14683                        	
14684                        		.dbg	line,	"include\routines_LEVELS.c", 3042; spr_y(player_pos_y + weapon_y_offset);
14685                        		__ld.bm		_weapon_y_offset
         02:CFEA  AD 73 26   			lda	_weapon_y_offset
         02:CFED  C2         			cly
         02:CFEE  10 01      			bpl	!+
         02:CFF0  88         			dey
         02:CFF1             	!:
14686                        		__add.wm	_player_pos_y
         02:CFF1  18         			clc
         02:CFF2  6D DD 24   			adc.l	_player_pos_y
         02:CFF5  42         			say
         02:CFF6  6D DE 24   			adc.h	_player_pos_y
         02:CFF9  42         			say
14687                        		__call		_spr_y.1
         02:CFFA  20 19 E8   			call	_spr_y.1
14688                        	
14689                        		.dbg	line,	"include\routines_LEVELS.c", 3045; // SET CHAIN Y POSITION //
14690                        	
14691                        		.dbg	line,	"include\routines_LEVELS.c", 3046; for(i=0 ; i<3 ; i++)
14692                        		__st.umiq	0, __update_WEAPON_end - 2  /* i */
         02:CFFD  9C 0D 23   			stz	__update_WEAPON_end - 2
14693    02:D000             	.LL727:
14694                        		__ld.umq	__update_WEAPON_end - 2  /* i */
         02:D000  AD 0D 23   			lda	__update_WEAPON_end - 2
14695                        		__ult_b.uiq	3
         02:D003  C9 03      			cmp	#3		; Subtract integer from A.
         02:D005  6A         			ror	a		; CC if A < integer.
         02:D006  49 80      			eor	#$80
         02:D008  2A         			rol	a
14696                        		__btrue		.LL729
         02:D009  B0 08      			bcs	.LL729
14697                        		__bra		.LL730
         02:D00B  4C 10 D3   			bra	.LL730
14698    02:D00E             	.LL728:
14699                        		__inc.umq	__update_WEAPON_end - 2  /* i */
         02:D00E  EE 0D 23   			inc	__update_WEAPON_end - 2
14700                        		__bra		.LL727
         02:D011  80 ED      			bra	.LL727
14701    02:D013             	.LL729:
14702                        	
14703                        		.dbg	line,	"include\routines_LEVELS.c", 3047; {
14704                        	
14705                        		.dbg	line,	"include\routines_LEVELS.c", 3048; spr_set(chain_id+i);
14706                        		__ld.um		_chain_id
         02:D013  AD 25 23   			lda	_chain_id
         02:D016  C2         			cly
14707                        		__add.um	__update_WEAPON_end - 2  /* i */
         02:D017  18         			clc
         02:D018  6D 0D 23   			adc	__update_WEAPON_end - 2
         02:D01B  90 01      			bcc	!+
         02:D01D  C8         			iny
         02:D01E             	!:
14708                        		__call		_spr_set.1
         02:D01E  20 DD E7   			call	_spr_set.1
14709                        	
14710                        		.dbg	line,	"include\routines_LEVELS.c", 3050; spr_y( ((player_pos_y + 24) * list_chain_active[i]) - 16); //list_chain_active[0] = TRUE;
14711                        		__ld.wm		_player_pos_y
         02:D021  AD DD 24   			lda.l	_player_pos_y
         02:D024  AC DE 24   			ldy.h	_player_pos_y
14712                        		__add.wi	24
         02:D027  18         			clc
         02:D028  69 18      			adc.l	#24
         02:D02A  90 01      			bcc	!+
         02:D02C  C8         			iny
         02:D02D             	!:
14713                        		__push.wr
         02:D02D  5A         			phy
         02:D02E  48         			pha
14714                        		__ldx.umq	__update_WEAPON_end - 2  /* i */
         02:D02F  AE 0D 23   			ldx	__update_WEAPON_end - 2
14715                        		__ld.uax	_list_chain_active
         02:D032  BD 29 23   			lda	_list_chain_active, x
         02:D035  C2         			cly
14716                        		__mul.wt
         02:D036  85 00      			sta.l	<multiplier
         02:D038  84 01      			sty.h	<multiplier
         02:D03A  68         			pla
         02:D03B  7A         			ply
         02:D03C  20 4C E4   			jsr	__mulint
14717                        		__sub.wi	16
         02:D03F  38         			sec
         02:D040  E9 10      			sbc.l	#16
         02:D042  B0 01      			bcs	!+
         02:D044  88         			dey
         02:D045             	!:
14718                        		__call		_spr_y.1
         02:D045  20 19 E8   			call	_spr_y.1
14719                        	
14720                        		.dbg	line,	"include\routines_LEVELS.c", 3051; }
14721                        		__bra		.LL728
         02:D048  80 C4      			bra	.LL728
14722    02:D04A             	.LL730	.alias		.LL731
14723                        	
14724                        		.dbg	line,	"include\routines_LEVELS.c", 3052; }
14725                        	
14726                        		.dbg	line,	"include\routines_LEVELS.c", 3055; else if(player_state == STATE_HANG)
14727                        		__bra		.LL731
         02:D04A  4C 10 D3   			bra	.LL731
14728    02:D04D             	.LL703:
14729                        		__ld.umq	_player_state
         02:D04D  AD 18 23   			lda	_player_state
14730                        		__equ_b.uiq	10
         02:D050  C9 0A      			cmp	#10
         02:D052  F0 01      			beq	!+
         02:D054  18         			clc
         02:D055             	!:
14731                        		__bfalse	.LL732
         02:D055  B0 03 4C 10			bcc	.LL732
         02:D059  D3          
14732                        	
14733                        		.dbg	line,	"include\routines_LEVELS.c", 3056; {
14734                        	
14735                        		.dbg	line,	"include\routines_LEVELS.c", 3057; if(player_attack == TRUE)
14736                        		__ld.umq	_player_attack
         02:D05A  AD 20 23   			lda	_player_attack
14737                        		__equ_b.uiq	1
         02:D05D  C9 01      			cmp	#1
         02:D05F  F0 01      			beq	!+
         02:D061  18         			clc
         02:D062             	!:
14738                        		__bfalse	.LL733
         02:D062  B0 03 4C 10			bcc	.LL733
         02:D066  D3          
14739                        	
14740                        		.dbg	line,	"include\routines_LEVELS.c", 3058; {
14741                        	
14742                        		.dbg	line,	"include\routines_LEVELS.c", 3059; if(player_counter_attack == 0)
14743                        		__not.um	_player_counter_attack
         02:D067  AD 1E 23   			lda	_player_counter_attack
         02:D06A  18         			clc
         02:D06B  D0 01      			bne	!+
         02:D06D  38         			sec
         02:D06E             	!:
14744                        		__bfalse	.LL734
         02:D06E  90 53      			bcc	.LL734
14745                        	
14746                        		.dbg	line,	"include\routines_LEVELS.c", 3060; {
14747                        	
14748                        		.dbg	line,	"include\routines_LEVELS.c", 3061; spr_set(player_id);
14749                        		__ld.umq	_player_id
         02:D070  AD 17 23   			lda	_player_id
14750                        		__call		_spr_set.1
         02:D073  20 DD E7   			call	_spr_set.1
14751                        	
14752                        		.dbg	line,	"include\routines_LEVELS.c", 3062; spr_pattern(PLAYER_HANG_ATTACK_1_VRAM_ADR);
14753                        		__ld.wi		11008
         02:D076  62         			cla
         02:D077  A0 2B      			ldy.h	#11008
14754                        		__call		_spr_pattern.1
         02:D079  20 26 E8   			call	_spr_pattern.1
14755                        	
14756                        		.dbg	line,	"include\routines_LEVELS.c", 3064; spr_set(weapon_id);
14757                        		__ld.umq	_weapon_id
         02:D07C  AD 26 23   			lda	_weapon_id
14758                        		__call		_spr_set.1
         02:D07F  20 DD E7   			call	_spr_set.1
14759                        	
14760                        		.dbg	line,	"include\routines_LEVELS.c", 3065; spr_pattern(WEAPON_ATTACK_1_VRAM_ADRESS);
14761                        		__ld.wi		32000
         02:D082  62         			cla
         02:D083  A0 7D      			ldy.h	#32000
14762                        		__call		_spr_pattern.1
         02:D085  20 26 E8   			call	_spr_pattern.1
14763                        	
14764                        		.dbg	line,	"include\routines_LEVELS.c", 3067; if(player_axis == AXIS_RIGHT)
14765                        		__not.um	_player_axis
         02:D088  AD 19 23   			lda	_player_axis
         02:D08B  18         			clc
         02:D08C  D0 01      			bne	!+
         02:D08E  38         			sec
         02:D08F             	!:
14766                        		__bfalse	.LL735
         02:D08F  90 11      			bcc	.LL735
14767                        	
14768                        		.dbg	line,	"include\routines_LEVELS.c", 3068; {
14769                        	
14770                        		.dbg	line,	"include\routines_LEVELS.c", 3069; spr_x(player_pos_x-14);
14771                        		__ld.wm		_player_pos_x
         02:D091  AD DB 24   			lda.l	_player_pos_x
         02:D094  AC DC 24   			ldy.h	_player_pos_x
14772                        		__sub.wi	14
         02:D097  38         			sec
         02:D098  E9 0E      			sbc.l	#14
         02:D09A  B0 01      			bcs	!+
         02:D09C  88         			dey
         02:D09D             	!:
14773                        		__call		_spr_x.1
         02:D09D  20 0A E8   			call	_spr_x.1
14774                        	
14775                        		.dbg	line,	"include\routines_LEVELS.c", 3070; }
14776                        	
14777                        		.dbg	line,	"include\routines_LEVELS.c", 3072; else
14778                        		__bra		.LL736
         02:D0A0  80 0F      			bra	.LL736
14779    02:D0A2             	.LL735:
14780                        	
14781                        		.dbg	line,	"include\routines_LEVELS.c", 3073; {
14782                        	
14783                        		.dbg	line,	"include\routines_LEVELS.c", 3074; spr_x(player_pos_x+29);
14784                        		__ld.wm		_player_pos_x
         02:D0A2  AD DB 24   			lda.l	_player_pos_x
         02:D0A5  AC DC 24   			ldy.h	_player_pos_x
14785                        		__add.wi	29
         02:D0A8  18         			clc
         02:D0A9  69 1D      			adc.l	#29
         02:D0AB  90 01      			bcc	!+
         02:D0AD  C8         			iny
         02:D0AE             	!:
14786                        		__call		_spr_x.1
         02:D0AE  20 0A E8   			call	_spr_x.1
14787                        	
14788                        		.dbg	line,	"include\routines_LEVELS.c", 3075; }
14789    02:D0B1             	.LL736:
14790                        	
14791                        		.dbg	line,	"include\routines_LEVELS.c", 3077; spr_y(player_pos_y-8);
14792                        		__ld.wm		_player_pos_y
         02:D0B1  AD DD 24   			lda.l	_player_pos_y
         02:D0B4  AC DE 24   			ldy.h	_player_pos_y
14793                        		__sub.wi	8
         02:D0B7  38         			sec
         02:D0B8  E9 08      			sbc.l	#8
         02:D0BA  B0 01      			bcs	!+
         02:D0BC  88         			dey
         02:D0BD             	!:
14794                        		__call		_spr_y.1
         02:D0BD  20 19 E8   			call	_spr_y.1
14795                        	
14796                        		.dbg	line,	"include\routines_LEVELS.c", 3078; }
14797                        	
14798                        		.dbg	line,	"include\routines_LEVELS.c", 3080; else if(player_counter_attack == 6)
14799                        		__bra		.LL737
         02:D0C0  4C 0D D3   			bra	.LL737
14800    02:D0C3             	.LL734:
14801                        		__ld.umq	_player_counter_attack
         02:D0C3  AD 1E 23   			lda	_player_counter_attack
14802                        		__equ_b.uiq	6
         02:D0C6  C9 06      			cmp	#6
         02:D0C8  F0 01      			beq	!+
         02:D0CA  18         			clc
         02:D0CB             	!:
14803                        		__bfalse	.LL738
         02:D0CB  90 54      			bcc	.LL738
14804                        	
14805                        		.dbg	line,	"include\routines_LEVELS.c", 3081; {
14806                        	
14807                        		.dbg	line,	"include\routines_LEVELS.c", 3082; spr_set(player_id);
14808                        		__ld.umq	_player_id
         02:D0CD  AD 17 23   			lda	_player_id
14809                        		__call		_spr_set.1
         02:D0D0  20 DD E7   			call	_spr_set.1
14810                        	
14811                        		.dbg	line,	"include\routines_LEVELS.c", 3083; spr_pattern(PLAYER_HANG_ATTACK_2_VRAM_ADR);
14812                        		__ld.wi		11264
         02:D0D3  62         			cla
         02:D0D4  A0 2C      			ldy.h	#11264
14813                        		__call		_spr_pattern.1
         02:D0D6  20 26 E8   			call	_spr_pattern.1
14814                        	
14815                        		.dbg	line,	"include\routines_LEVELS.c", 3085; spr_set(weapon_id);
14816                        		__ld.umq	_weapon_id
         02:D0D9  AD 26 23   			lda	_weapon_id
14817                        		__call		_spr_set.1
         02:D0DC  20 DD E7   			call	_spr_set.1
14818                        	
14819                        		.dbg	line,	"include\routines_LEVELS.c", 3086; spr_pattern(WEAPON_ATTACK_2_VRAM_ADRESS);
14820                        		__ld.wi		32064
         02:D0DF  A9 40      			lda.l	#32064
         02:D0E1  A0 7D      			ldy.h	#32064
14821                        		__call		_spr_pattern.1
         02:D0E3  20 26 E8   			call	_spr_pattern.1
14822                        	
14823                        		.dbg	line,	"include\routines_LEVELS.c", 3088; if(player_axis == AXIS_RIGHT)
14824                        		__not.um	_player_axis
         02:D0E6  AD 19 23   			lda	_player_axis
         02:D0E9  18         			clc
         02:D0EA  D0 01      			bne	!+
         02:D0EC  38         			sec
         02:D0ED             	!:
14825                        		__bfalse	.LL739
         02:D0ED  90 11      			bcc	.LL739
14826                        	
14827                        		.dbg	line,	"include\routines_LEVELS.c", 3089; {
14828                        	
14829                        		.dbg	line,	"include\routines_LEVELS.c", 3090; spr_x(player_pos_x+32);
14830                        		__ld.wm		_player_pos_x
         02:D0EF  AD DB 24   			lda.l	_player_pos_x
         02:D0F2  AC DC 24   			ldy.h	_player_pos_x
14831                        		__add.wi	32
         02:D0F5  18         			clc
         02:D0F6  69 20      			adc.l	#32
         02:D0F8  90 01      			bcc	!+
         02:D0FA  C8         			iny
         02:D0FB             	!:
14832                        		__call		_spr_x.1
         02:D0FB  20 0A E8   			call	_spr_x.1
14833                        	
14834                        		.dbg	line,	"include\routines_LEVELS.c", 3091; 
14835                        	
14836                        		.dbg	line,	"include\routines_LEVELS.c", 3092; }
14837                        	
14838                        		.dbg	line,	"include\routines_LEVELS.c", 3093; 
14839                        	
14840                        		.dbg	line,	"include\routines_LEVELS.c", 3094; else
14841                        		__bra		.LL740
         02:D0FE  80 0F      			bra	.LL740
14842    02:D100             	.LL739:
14843                        	
14844                        		.dbg	line,	"include\routines_LEVELS.c", 3095; {
14845                        	
14846                        		.dbg	line,	"include\routines_LEVELS.c", 3096; spr_x(player_pos_x-16);
14847                        		__ld.wm		_player_pos_x
         02:D100  AD DB 24   			lda.l	_player_pos_x
         02:D103  AC DC 24   			ldy.h	_player_pos_x
14848                        		__sub.wi	16
         02:D106  38         			sec
         02:D107  E9 10      			sbc.l	#16
         02:D109  B0 01      			bcs	!+
         02:D10B  88         			dey
         02:D10C             	!:
14849                        		__call		_spr_x.1
         02:D10C  20 0A E8   			call	_spr_x.1
14850                        	
14851                        		.dbg	line,	"include\routines_LEVELS.c", 3097; }
14852    02:D10F             	.LL740:
14853                        	
14854                        		.dbg	line,	"include\routines_LEVELS.c", 3099; spr_y(player_pos_y+6);
14855                        		__ld.wm		_player_pos_y
         02:D10F  AD DD 24   			lda.l	_player_pos_y
         02:D112  AC DE 24   			ldy.h	_player_pos_y
14856                        		__add.wi	6
         02:D115  18         			clc
         02:D116  69 06      			adc.l	#6
         02:D118  90 01      			bcc	!+
         02:D11A  C8         			iny
         02:D11B             	!:
14857                        		__call		_spr_y.1
         02:D11B  20 19 E8   			call	_spr_y.1
14858                        	
14859                        		.dbg	line,	"include\routines_LEVELS.c", 3100; }
14860                        	
14861                        		.dbg	line,	"include\routines_LEVELS.c", 3102; else if(player_counter_attack == 7)
14862                        		__bra		.LL741
         02:D11E  4C 0D D3   			bra	.LL741
14863    02:D121             	.LL738:
14864                        		__ld.umq	_player_counter_attack
         02:D121  AD 1E 23   			lda	_player_counter_attack
14865                        		__equ_b.uiq	7
         02:D124  C9 07      			cmp	#7
         02:D126  F0 01      			beq	!+
         02:D128  18         			clc
         02:D129             	!:
14866                        		__bfalse	.LL742
         02:D129  90 66      			bcc	.LL742
14867                        	
14868                        		.dbg	line,	"include\routines_LEVELS.c", 3103; {
14869                        	
14870                        		.dbg	line,	"include\routines_LEVELS.c", 3104; spr_set(chain_id);
14871                        		__ld.umq	_chain_id
         02:D12B  AD 25 23   			lda	_chain_id
14872                        		__call		_spr_set.1
         02:D12E  20 DD E7   			call	_spr_set.1
14873                        	
14874                        		.dbg	line,	"include\routines_LEVELS.c", 3105; spr_y(player_pos_y);
14875                        		__ld.wm		_player_pos_y
         02:D131  AD DD 24   			lda.l	_player_pos_y
         02:D134  AC DE 24   			ldy.h	_player_pos_y
14876                        		__call		_spr_y.1
         02:D137  20 19 E8   			call	_spr_y.1
14877                        	
14878                        		.dbg	line,	"include\routines_LEVELS.c", 3107; if(player_axis == AXIS_RIGHT)
14879                        		__not.um	_player_axis
         02:D13A  AD 19 23   			lda	_player_axis
         02:D13D  18         			clc
         02:D13E  D0 01      			bne	!+
         02:D140  38         			sec
         02:D141             	!:
14880                        		__bfalse	.LL743
         02:D141  90 27      			bcc	.LL743
14881                        	
14882                        		.dbg	line,	"include\routines_LEVELS.c", 3108; {
14883                        	
14884                        		.dbg	line,	"include\routines_LEVELS.c", 3109; spr_x(player_pos_x+32);
14885                        		__ld.wm		_player_pos_x
         02:D143  AD DB 24   			lda.l	_player_pos_x
         02:D146  AC DC 24   			ldy.h	_player_pos_x
14886                        		__add.wi	32
         02:D149  18         			clc
         02:D14A  69 20      			adc.l	#32
         02:D14C  90 01      			bcc	!+
         02:D14E  C8         			iny
         02:D14F             	!:
14887                        		__call		_spr_x.1
         02:D14F  20 0A E8   			call	_spr_x.1
14888                        	
14889                        		.dbg	line,	"include\routines_LEVELS.c", 3111; spr_set(weapon_id);
14890                        		__ld.umq	_weapon_id
         02:D152  AD 26 23   			lda	_weapon_id
14891                        		__call		_spr_set.1
         02:D155  20 DD E7   			call	_spr_set.1
14892                        	
14893                        		.dbg	line,	"include\routines_LEVELS.c", 3112; spr_x(player_pos_x+48);
14894                        		__ld.wm		_player_pos_x
         02:D158  AD DB 24   			lda.l	_player_pos_x
         02:D15B  AC DC 24   			ldy.h	_player_pos_x
14895                        		__add.wi	48
         02:D15E  18         			clc
         02:D15F  69 30      			adc.l	#48
         02:D161  90 01      			bcc	!+
         02:D163  C8         			iny
         02:D164             	!:
14896                        		__call		_spr_x.1
         02:D164  20 0A E8   			call	_spr_x.1
14897                        	
14898                        		.dbg	line,	"include\routines_LEVELS.c", 3113; }
14899                        	
14900                        		.dbg	line,	"include\routines_LEVELS.c", 3114; 
14901                        	
14902                        		.dbg	line,	"include\routines_LEVELS.c", 3115; else
14903                        		__bra		.LL744
         02:D167  4C 0D D3   			bra	.LL744
14904    02:D16A             	.LL743:
14905                        	
14906                        		.dbg	line,	"include\routines_LEVELS.c", 3116; {
14907                        	
14908                        		.dbg	line,	"include\routines_LEVELS.c", 3117; spr_x(player_pos_x-16);
14909                        		__ld.wm		_player_pos_x
         02:D16A  AD DB 24   			lda.l	_player_pos_x
         02:D16D  AC DC 24   			ldy.h	_player_pos_x
14910                        		__sub.wi	16
         02:D170  38         			sec
         02:D171  E9 10      			sbc.l	#16
         02:D173  B0 01      			bcs	!+
         02:D175  88         			dey
         02:D176             	!:
14911                        		__call		_spr_x.1
         02:D176  20 0A E8   			call	_spr_x.1
14912                        	
14913                        		.dbg	line,	"include\routines_LEVELS.c", 3119; spr_set(weapon_id);
14914                        		__ld.umq	_weapon_id
         02:D179  AD 26 23   			lda	_weapon_id
14915                        		__call		_spr_set.1
         02:D17C  20 DD E7   			call	_spr_set.1
14916                        	
14917                        		.dbg	line,	"include\routines_LEVELS.c", 3120; spr_x(player_pos_x-32);
14918                        		__ld.wm		_player_pos_x
         02:D17F  AD DB 24   			lda.l	_player_pos_x
         02:D182  AC DC 24   			ldy.h	_player_pos_x
14919                        		__sub.wi	32
         02:D185  38         			sec
         02:D186  E9 20      			sbc.l	#32
         02:D188  B0 01      			bcs	!+
         02:D18A  88         			dey
         02:D18B             	!:
14920                        		__call		_spr_x.1
         02:D18B  20 0A E8   			call	_spr_x.1
14921                        	
14922                        		.dbg	line,	"include\routines_LEVELS.c", 3121; }
14923    02:D18E             	.LL744	.alias		.LL745
14924                        	
14925                        		.dbg	line,	"include\routines_LEVELS.c", 3122; }
14926                        	
14927                        		.dbg	line,	"include\routines_LEVELS.c", 3124; else if(player_counter_attack == 8)
14928                        		__bra		.LL745
         02:D18E  4C 0D D3   			bra	.LL745
14929    02:D191             	.LL742:
14930                        		__ld.umq	_player_counter_attack
         02:D191  AD 1E 23   			lda	_player_counter_attack
14931                        		__equ_b.uiq	8
         02:D194  C9 08      			cmp	#8
         02:D196  F0 01      			beq	!+
         02:D198  18         			clc
         02:D199             	!:
14932                        		__bfalse	.LL746
         02:D199  90 6B      			bcc	.LL746
14933                        	
14934                        		.dbg	line,	"include\routines_LEVELS.c", 3125; {
14935                        	
14936                        		.dbg	line,	"include\routines_LEVELS.c", 3126; spr_set(chain_id+1);
14937                        		__ld.um		_chain_id
         02:D19B  AD 25 23   			lda	_chain_id
         02:D19E  C2         			cly
14938                        		__add.wi	1
         02:D19F  1A         			inc	a
         02:D1A0  D0 01      			bne	!+
         02:D1A2  C8         			iny
         02:D1A3             	!:
14939                        		__call		_spr_set.1
         02:D1A3  20 DD E7   			call	_spr_set.1
14940                        	
14941                        		.dbg	line,	"include\routines_LEVELS.c", 3127; spr_y(player_pos_y);
14942                        		__ld.wm		_player_pos_y
         02:D1A6  AD DD 24   			lda.l	_player_pos_y
         02:D1A9  AC DE 24   			ldy.h	_player_pos_y
14943                        		__call		_spr_y.1
         02:D1AC  20 19 E8   			call	_spr_y.1
14944                        	
14945                        		.dbg	line,	"include\routines_LEVELS.c", 3129; if(player_axis == AXIS_RIGHT)
14946                        		__not.um	_player_axis
         02:D1AF  AD 19 23   			lda	_player_axis
         02:D1B2  18         			clc
         02:D1B3  D0 01      			bne	!+
         02:D1B5  38         			sec
         02:D1B6             	!:
14947                        		__bfalse	.LL747
         02:D1B6  90 27      			bcc	.LL747
14948                        	
14949                        		.dbg	line,	"include\routines_LEVELS.c", 3130; {
14950                        	
14951                        		.dbg	line,	"include\routines_LEVELS.c", 3131; spr_x(player_pos_x+48);
14952                        		__ld.wm		_player_pos_x
         02:D1B8  AD DB 24   			lda.l	_player_pos_x
         02:D1BB  AC DC 24   			ldy.h	_player_pos_x
14953                        		__add.wi	48
         02:D1BE  18         			clc
         02:D1BF  69 30      			adc.l	#48
         02:D1C1  90 01      			bcc	!+
         02:D1C3  C8         			iny
         02:D1C4             	!:
14954                        		__call		_spr_x.1
         02:D1C4  20 0A E8   			call	_spr_x.1
14955                        	
14956                        		.dbg	line,	"include\routines_LEVELS.c", 3133; spr_set(weapon_id);
14957                        		__ld.umq	_weapon_id
         02:D1C7  AD 26 23   			lda	_weapon_id
14958                        		__call		_spr_set.1
         02:D1CA  20 DD E7   			call	_spr_set.1
14959                        	
14960                        		.dbg	line,	"include\routines_LEVELS.c", 3134; spr_x(player_pos_x+64);
14961                        		__ld.wm		_player_pos_x
         02:D1CD  AD DB 24   			lda.l	_player_pos_x
         02:D1D0  AC DC 24   			ldy.h	_player_pos_x
14962                        		__add.wi	64
         02:D1D3  18         			clc
         02:D1D4  69 40      			adc.l	#64
         02:D1D6  90 01      			bcc	!+
         02:D1D8  C8         			iny
         02:D1D9             	!:
14963                        		__call		_spr_x.1
         02:D1D9  20 0A E8   			call	_spr_x.1
14964                        	
14965                        		.dbg	line,	"include\routines_LEVELS.c", 3135; }
14966                        	
14967                        		.dbg	line,	"include\routines_LEVELS.c", 3136; 
14968                        	
14969                        		.dbg	line,	"include\routines_LEVELS.c", 3137; else
14970                        		__bra		.LL748
         02:D1DC  4C 0D D3   			bra	.LL748
14971    02:D1DF             	.LL747:
14972                        	
14973                        		.dbg	line,	"include\routines_LEVELS.c", 3138; {
14974                        	
14975                        		.dbg	line,	"include\routines_LEVELS.c", 3139; spr_x(player_pos_x-32);
14976                        		__ld.wm		_player_pos_x
         02:D1DF  AD DB 24   			lda.l	_player_pos_x
         02:D1E2  AC DC 24   			ldy.h	_player_pos_x
14977                        		__sub.wi	32
         02:D1E5  38         			sec
         02:D1E6  E9 20      			sbc.l	#32
         02:D1E8  B0 01      			bcs	!+
         02:D1EA  88         			dey
         02:D1EB             	!:
14978                        		__call		_spr_x.1
         02:D1EB  20 0A E8   			call	_spr_x.1
14979                        	
14980                        		.dbg	line,	"include\routines_LEVELS.c", 3141; spr_set(weapon_id);
14981                        		__ld.umq	_weapon_id
         02:D1EE  AD 26 23   			lda	_weapon_id
14982                        		__call		_spr_set.1
         02:D1F1  20 DD E7   			call	_spr_set.1
14983                        	
14984                        		.dbg	line,	"include\routines_LEVELS.c", 3142; spr_x(player_pos_x-48);
14985                        		__ld.wm		_player_pos_x
         02:D1F4  AD DB 24   			lda.l	_player_pos_x
         02:D1F7  AC DC 24   			ldy.h	_player_pos_x
14986                        		__sub.wi	48
         02:D1FA  38         			sec
         02:D1FB  E9 30      			sbc.l	#48
         02:D1FD  B0 01      			bcs	!+
         02:D1FF  88         			dey
         02:D200             	!:
14987                        		__call		_spr_x.1
         02:D200  20 0A E8   			call	_spr_x.1
14988                        	
14989                        		.dbg	line,	"include\routines_LEVELS.c", 3143; }
14990    02:D203             	.LL748	.alias		.LL749
14991                        	
14992                        		.dbg	line,	"include\routines_LEVELS.c", 3144; }
14993                        	
14994                        		.dbg	line,	"include\routines_LEVELS.c", 3146; else if(player_counter_attack == 9)
14995                        		__bra		.LL749
         02:D203  4C 0D D3   			bra	.LL749
14996    02:D206             	.LL746:
14997                        		__ld.umq	_player_counter_attack
         02:D206  AD 1E 23   			lda	_player_counter_attack
14998                        		__equ_b.uiq	9
         02:D209  C9 09      			cmp	#9
         02:D20B  F0 01      			beq	!+
         02:D20D  18         			clc
         02:D20E             	!:
14999                        		__bfalse	.LL750
         02:D20E  90 6D      			bcc	.LL750
15000                        	
15001                        		.dbg	line,	"include\routines_LEVELS.c", 3147; {
15002                        	
15003                        		.dbg	line,	"include\routines_LEVELS.c", 3148; spr_set(chain_id+2);
15004                        		__ld.um		_chain_id
         02:D210  AD 25 23   			lda	_chain_id
         02:D213  C2         			cly
15005                        		__add.wi	2
         02:D214  18         			clc
         02:D215  69 02      			adc.l	#2
         02:D217  90 01      			bcc	!+
         02:D219  C8         			iny
         02:D21A             	!:
15006                        		__call		_spr_set.1
         02:D21A  20 DD E7   			call	_spr_set.1
15007                        	
15008                        		.dbg	line,	"include\routines_LEVELS.c", 3149; spr_y(player_pos_y);
15009                        		__ld.wm		_player_pos_y
         02:D21D  AD DD 24   			lda.l	_player_pos_y
         02:D220  AC DE 24   			ldy.h	_player_pos_y
15010                        		__call		_spr_y.1
         02:D223  20 19 E8   			call	_spr_y.1
15011                        	
15012                        		.dbg	line,	"include\routines_LEVELS.c", 3151; if(player_axis == AXIS_RIGHT)
15013                        		__not.um	_player_axis
         02:D226  AD 19 23   			lda	_player_axis
         02:D229  18         			clc
         02:D22A  D0 01      			bne	!+
         02:D22C  38         			sec
         02:D22D             	!:
15014                        		__bfalse	.LL751
         02:D22D  90 27      			bcc	.LL751
15015                        	
15016                        		.dbg	line,	"include\routines_LEVELS.c", 3152; {
15017                        	
15018                        		.dbg	line,	"include\routines_LEVELS.c", 3153; spr_x(player_pos_x+64);
15019                        		__ld.wm		_player_pos_x
         02:D22F  AD DB 24   			lda.l	_player_pos_x
         02:D232  AC DC 24   			ldy.h	_player_pos_x
15020                        		__add.wi	64
         02:D235  18         			clc
         02:D236  69 40      			adc.l	#64
         02:D238  90 01      			bcc	!+
         02:D23A  C8         			iny
         02:D23B             	!:
15021                        		__call		_spr_x.1
         02:D23B  20 0A E8   			call	_spr_x.1
15022                        	
15023                        		.dbg	line,	"include\routines_LEVELS.c", 3155; spr_set(weapon_id);
15024                        		__ld.umq	_weapon_id
         02:D23E  AD 26 23   			lda	_weapon_id
15025                        		__call		_spr_set.1
         02:D241  20 DD E7   			call	_spr_set.1
15026                        	
15027                        		.dbg	line,	"include\routines_LEVELS.c", 3156; spr_x(player_pos_x+80);
15028                        		__ld.wm		_player_pos_x
         02:D244  AD DB 24   			lda.l	_player_pos_x
         02:D247  AC DC 24   			ldy.h	_player_pos_x
15029                        		__add.wi	80
         02:D24A  18         			clc
         02:D24B  69 50      			adc.l	#80
         02:D24D  90 01      			bcc	!+
         02:D24F  C8         			iny
         02:D250             	!:
15030                        		__call		_spr_x.1
         02:D250  20 0A E8   			call	_spr_x.1
15031                        	
15032                        		.dbg	line,	"include\routines_LEVELS.c", 3157; }
15033                        	
15034                        		.dbg	line,	"include\routines_LEVELS.c", 3158; 
15035                        	
15036                        		.dbg	line,	"include\routines_LEVELS.c", 3159; else
15037                        		__bra		.LL752
         02:D253  4C 0D D3   			bra	.LL752
15038    02:D256             	.LL751:
15039                        	
15040                        		.dbg	line,	"include\routines_LEVELS.c", 3160; {
15041                        	
15042                        		.dbg	line,	"include\routines_LEVELS.c", 3161; spr_x(player_pos_x-48);
15043                        		__ld.wm		_player_pos_x
         02:D256  AD DB 24   			lda.l	_player_pos_x
         02:D259  AC DC 24   			ldy.h	_player_pos_x
15044                        		__sub.wi	48
         02:D25C  38         			sec
         02:D25D  E9 30      			sbc.l	#48
         02:D25F  B0 01      			bcs	!+
         02:D261  88         			dey
         02:D262             	!:
15045                        		__call		_spr_x.1
         02:D262  20 0A E8   			call	_spr_x.1
15046                        	
15047                        		.dbg	line,	"include\routines_LEVELS.c", 3163; spr_set(weapon_id);
15048                        		__ld.umq	_weapon_id
         02:D265  AD 26 23   			lda	_weapon_id
15049                        		__call		_spr_set.1
         02:D268  20 DD E7   			call	_spr_set.1
15050                        	
15051                        		.dbg	line,	"include\routines_LEVELS.c", 3164; spr_x(player_pos_x-64);
15052                        		__ld.wm		_player_pos_x
         02:D26B  AD DB 24   			lda.l	_player_pos_x
         02:D26E  AC DC 24   			ldy.h	_player_pos_x
15053                        		__sub.wi	64
         02:D271  38         			sec
         02:D272  E9 40      			sbc.l	#64
         02:D274  B0 01      			bcs	!+
         02:D276  88         			dey
         02:D277             	!:
15054                        		__call		_spr_x.1
         02:D277  20 0A E8   			call	_spr_x.1
15055                        	
15056                        		.dbg	line,	"include\routines_LEVELS.c", 3165; }
15057    02:D27A             	.LL752	.alias		.LL753
15058                        	
15059                        		.dbg	line,	"include\routines_LEVELS.c", 3166; }
15060                        	
15061                        		.dbg	line,	"include\routines_LEVELS.c", 3168; else if(player_counter_attack == 23)
15062                        		__bra		.LL753
         02:D27A  4C 0D D3   			bra	.LL753
15063    02:D27D             	.LL750:
15064                        		__ld.umq	_player_counter_attack
         02:D27D  AD 1E 23   			lda	_player_counter_attack
15065                        		__equ_b.uiq	23
         02:D280  C9 17      			cmp	#23
         02:D282  F0 01      			beq	!+
         02:D284  18         			clc
         02:D285             	!:
15066                        		__bfalse	.LL754
         02:D285  B0 03 4C 0D			bcc	.LL754
         02:D289  D3          
15067                        	
15068                        		.dbg	line,	"include\routines_LEVELS.c", 3169; {
15069                        	
15070                        		.dbg	line,	"include\routines_LEVELS.c", 3170; spr_set(chain_id);
15071                        		__ld.umq	_chain_id
         02:D28A  AD 25 23   			lda	_chain_id
15072                        		__call		_spr_set.1
         02:D28D  20 DD E7   			call	_spr_set.1
15073                        	
15074                        		.dbg	line,	"include\routines_LEVELS.c", 3171; spr_hide();
15075                        		__call		_spr_hide
         02:D290  20 F8 E7   			call	_spr_hide
15076                        	
15077                        		.dbg	line,	"include\routines_LEVELS.c", 3173; spr_set(chain_id+1);
15078                        		__ld.um		_chain_id
         02:D293  AD 25 23   			lda	_chain_id
         02:D296  C2         			cly
15079                        		__add.wi	1
         02:D297  1A         			inc	a
         02:D298  D0 01      			bne	!+
         02:D29A  C8         			iny
         02:D29B             	!:
15080                        		__call		_spr_set.1
         02:D29B  20 DD E7   			call	_spr_set.1
15081                        	
15082                        		.dbg	line,	"include\routines_LEVELS.c", 3174; spr_hide();
15083                        		__call		_spr_hide
         02:D29E  20 F8 E7   			call	_spr_hide
15084                        	
15085                        		.dbg	line,	"include\routines_LEVELS.c", 3176; spr_set(chain_id+2);
15086                        		__ld.um		_chain_id
         02:D2A1  AD 25 23   			lda	_chain_id
         02:D2A4  C2         			cly
15087                        		__add.wi	2
         02:D2A5  18         			clc
         02:D2A6  69 02      			adc.l	#2
         02:D2A8  90 01      			bcc	!+
         02:D2AA  C8         			iny
         02:D2AB             	!:
15088                        		__call		_spr_set.1
         02:D2AB  20 DD E7   			call	_spr_set.1
15089                        	
15090                        		.dbg	line,	"include\routines_LEVELS.c", 3177; spr_hide();
15091                        		__call		_spr_hide
         02:D2AE  20 F8 E7   			call	_spr_hide
15092                        	
15093                        		.dbg	line,	"include\routines_LEVELS.c", 3179; spr_set(player_id);
15094                        		__ld.umq	_player_id
         02:D2B1  AD 17 23   			lda	_player_id
15095                        		__call		_spr_set.1
         02:D2B4  20 DD E7   			call	_spr_set.1
15096                        	
15097                        		.dbg	line,	"include\routines_LEVELS.c", 3180; spr_pattern(PLAYER_HANG_VRAM_ADR);
15098                        		__ld.wi		7424
         02:D2B7  62         			cla
         02:D2B8  A0 1D      			ldy.h	#7424
15099                        		__call		_spr_pattern.1
         02:D2BA  20 26 E8   			call	_spr_pattern.1
15100                        	
15101                        		.dbg	line,	"include\routines_LEVELS.c", 3182; spr_set(weapon_id);
15102                        		__ld.umq	_weapon_id
         02:D2BD  AD 26 23   			lda	_weapon_id
15103                        		__call		_spr_set.1
         02:D2C0  20 DD E7   			call	_spr_set.1
15104                        	
15105                        		.dbg	line,	"include\routines_LEVELS.c", 3183; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
15106                        		__ld.wi		31808
         02:D2C3  A9 40      			lda.l	#31808
         02:D2C5  A0 7C      			ldy.h	#31808
15107                        		__call		_spr_pattern.1
         02:D2C7  20 26 E8   			call	_spr_pattern.1
15108                        	
15109                        		.dbg	line,	"include\routines_LEVELS.c", 3184; spr_y(player_pos_y+5);
15110                        		__ld.wm		_player_pos_y
         02:D2CA  AD DD 24   			lda.l	_player_pos_y
         02:D2CD  AC DE 24   			ldy.h	_player_pos_y
15111                        		__add.wi	5
         02:D2D0  18         			clc
         02:D2D1  69 05      			adc.l	#5
         02:D2D3  90 01      			bcc	!+
         02:D2D5  C8         			iny
         02:D2D6             	!:
15112                        		__call		_spr_y.1
         02:D2D6  20 19 E8   			call	_spr_y.1
15113                        	
15114                        		.dbg	line,	"include\routines_LEVELS.c", 3186; if(player_axis == AXIS_RIGHT)
15115                        		__not.um	_player_axis
         02:D2D9  AD 19 23   			lda	_player_axis
         02:D2DC  18         			clc
         02:D2DD  D0 01      			bne	!+
         02:D2DF  38         			sec
         02:D2E0             	!:
15116                        		__bfalse	.LL755
         02:D2E0  90 11      			bcc	.LL755
15117                        	
15118                        		.dbg	line,	"include\routines_LEVELS.c", 3187; {
15119                        	
15120                        		.dbg	line,	"include\routines_LEVELS.c", 3188; spr_x(player_pos_x+17);
15121                        		__ld.wm		_player_pos_x
         02:D2E2  AD DB 24   			lda.l	_player_pos_x
         02:D2E5  AC DC 24   			ldy.h	_player_pos_x
15122                        		__add.wi	17
         02:D2E8  18         			clc
         02:D2E9  69 11      			adc.l	#17
         02:D2EB  90 01      			bcc	!+
         02:D2ED  C8         			iny
         02:D2EE             	!:
15123                        		__call		_spr_x.1
         02:D2EE  20 0A E8   			call	_spr_x.1
15124                        	
15125                        		.dbg	line,	"include\routines_LEVELS.c", 3189; }
15126                        	
15127                        		.dbg	line,	"include\routines_LEVELS.c", 3191; else
15128                        		__bra		.LL756
         02:D2F1  80 0F      			bra	.LL756
15129    02:D2F3             	.LL755:
15130                        	
15131                        		.dbg	line,	"include\routines_LEVELS.c", 3192; {
15132                        	
15133                        		.dbg	line,	"include\routines_LEVELS.c", 3193; spr_x(player_pos_x-2);
15134                        		__ld.wm		_player_pos_x
         02:D2F3  AD DB 24   			lda.l	_player_pos_x
         02:D2F6  AC DC 24   			ldy.h	_player_pos_x
15135                        		__sub.wi	2
         02:D2F9  38         			sec
         02:D2FA  E9 02      			sbc.l	#2
         02:D2FC  B0 01      			bcs	!+
         02:D2FE  88         			dey
         02:D2FF             	!:
15136                        		__call		_spr_x.1
         02:D2FF  20 0A E8   			call	_spr_x.1
15137                        	
15138                        		.dbg	line,	"include\routines_LEVELS.c", 3194; }
15139    02:D302             	.LL756:
15140                        	
15141                        		.dbg	line,	"include\routines_LEVELS.c", 3196; player_attack = FALSE;
15142                        		__st.umiq	0, _player_attack
         02:D302  9C 20 23   			stz	_player_attack
15143                        	
15144                        		.dbg	line,	"include\routines_LEVELS.c", 3197; player_counter_attack = 0;
15145                        		__st.umiq	0, _player_counter_attack
         02:D305  9C 1E 23   			stz	_player_counter_attack
15146                        	
15147                        		.dbg	line,	"include\routines_LEVELS.c", 3198; player_state = STATE_HANG;
15148                        		__st.umiq	10, _player_state
         02:D308  A9 0A      			lda.l	#10
         02:D30A  8D 18 23   			sta	_player_state
15149                        	
15150                        		.dbg	line,	"include\routines_LEVELS.c", 3199; }
15151                        	
15152                        		.dbg	line,	"include\routines_LEVELS.c", 3202; player_counter_attack += 1;
15153    02:D30D             	.LL754:
15154    02:D30D             	.LL753:
15155    02:D30D             	.LL749:
15156    02:D30D             	.LL745:
15157    02:D30D             	.LL741:
15158    02:D30D             	.LL737:
15159                        		__add_st.umiq	1, _player_counter_attack
         02:D30D  EE 1E 23   			inc	_player_counter_attack
15160                        	
15161                        		.dbg	line,	"include\routines_LEVELS.c", 3203; } 
15162                        	
15163                        		.dbg	line,	"include\routines_LEVELS.c", 3204; }
15164    02:D310             	.LL733:
15165                        	
15166                        		.dbg	line,	"include\routines_LEVELS.c", 3205; }
15167    02:D310             	.LL732:
15168    02:D310             	.LL731:
15169    02:D310             	.LL702:
15170    02:D310             	.LL675:
15171                        		__return	0
         02:D310  4C EF FF   			jmp	leave_proc
15172                        		.dbg	clear
15173                        		.endp
15174               6B40     		.data
15175               230D     		.bss
15176    F8:230D             	__update_WEAPON_loc:
15177    F8:230D             			ds	2
15178    F8:230F             	__update_WEAPON_end:
15179               E309     		.code
15180                        		.pceas
15181                        	
15182                        		.dbg	line,	"main.c", 27; #include "include/routines_SHOP.c"
15183                        		.dbg	line,	"include\routines_SHOP.c", 1; #include "huc.h"
15184                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
15185                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
15186                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
15187                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
15188                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
15189                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
15190                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
15191                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
15192                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
15193                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
15194                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
15195                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
15196                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
15197                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
15198                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
15199                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
15200                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
15201                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
15202                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
15203                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
15204                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
15205                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
15206                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
15207                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
15208                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
15209                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
15210                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
15211                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
15212                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
15213                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
15214                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
15215                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
15216                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
15217                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-string.h"
15218                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-scroll.h"
15219                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-spr.h"
15220                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-map.h"
15221                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 40; #include "hucc-old-line.h"
15222                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #endif // _hucc_legacy_h
15223                        		.dbg	line,	"include\routines_SHOP.c", 2; #include "hucc-scroll.h"
15224                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
15225                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
15226                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
15227                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
15228                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
15229                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
15230                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
15231                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
15232                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
15233                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
15234                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
15235                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
15236                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
15237                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
15238                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
15239                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
15240                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
15241                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
15242                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
15243                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
15244                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
15245                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
15246                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
15247                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
15248                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
15249                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
15250                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
15251                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
15252                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
15253                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
15254                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
15255                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
15256                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
15257                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
15258                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
15259                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
15260                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
15261                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
15262                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
15263                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
15264                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
15265                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
15266                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
15267                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
15268                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
15269                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
15270                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
15271                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
15272                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
15273                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
15274                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
15275                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
15276                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
15277                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
15278                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
15279                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
15280                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
15281                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
15282                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
15283                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
15284                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
15285                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
15286                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
15287                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
15288                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
15289                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
15290                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
15291                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
15292                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
15293                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
15294                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
15295                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
15296                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
15297                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
15298                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
15299                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
15300                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
15301                        		.dbg	line,	"include\routines_SHOP.c", 3; #include "hucc-chrmap.h"
15302                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
15303                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
15304                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
15305                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
15306                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
15307                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
15308                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
15309                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
15310                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
15311                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
15312                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
15313                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
15314                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
15315                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
15316                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
15317                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
15318                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
15319                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
15320                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
15321                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
15322                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
15323                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
15324                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
15325                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
15326                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
15327                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
15328                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
15329                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
15330                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
15331                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
15332                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
15333                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
15334                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
15335                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
15336                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
15337                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
15338                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
15339                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
15340                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
15341                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
15342                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
15343                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
15344                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
15345                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
15346                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
15347                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
15348                        		.dbg	line,	"include\routines_SHOP.c", 4; #include "hucc-blkmap.h"
15349                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
15350                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
15351                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
15352                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
15353                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
15354                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
15355                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
15356                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
15357                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
15358                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
15359                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
15360                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
15361                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
15362                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
15363                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
15364                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
15365                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
15366                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
15367                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
15368                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
15369                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
15370                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
15371                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
15372                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
15373                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
15374                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
15375                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
15376                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
15377                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
15378                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
15379                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
15380                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
15381                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
15382                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
15383                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
15384                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
15385                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
15386                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
15387                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
15388                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
15389                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
15390                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
15391                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
15392                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
15393                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
15394                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
15395                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
15396                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
15397                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
15398                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
15399                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
15400                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
15401                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
15402                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
15403                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
15404                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
15405                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
15406                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
15407                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
15408                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
15409                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
15410                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
15411                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
15412                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
15413                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
15414                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
15415                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
15416                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
15417                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
15418                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
15419                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
15420                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
15421                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
15422                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
15423                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
15424                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
15425                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
15426                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
15427                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
15428                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
15429                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
15430                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
15431                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
15432                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
15433                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
15434                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
15435                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
15436                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
15437                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
15438                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
15439                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
15440                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
15441                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
15442                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
15443                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
15444                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
15445                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
15446                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
15447                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
15448                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
15449                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
15450                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
15451                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
15452                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
15453                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
15454                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
15455                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
15456                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
15457                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
15458                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
15459                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
15460                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
15461                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
15462                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
15463                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
15464                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
15465                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
15466                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
15467                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
15468                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
15469                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
15470                        		.dbg	line,	"include\routines_SHOP.c", 12; void display_TIME_SHOP()
15471                        		.dbg	line,	"include\routines_SHOP.c", 13; {
15472                        	;***********************
15473                        	;***********************
15474                        	
15475                        		.hucc
15476    1F:C688             		.proc		_display_TIME_SHOP
15477                        		__enter		_display_TIME_SHOP
15478                        	
15479                        		.dbg	line,	"include\routines_SHOP.c", 14; put_number(minutes,1,1,3);
15480                        		__ld.um		_minutes
         1F:C688  AD 30 23   			lda	_minutes
         1F:C68B  C2         			cly
15481                        		__st.wmq	_bx
         1F:C68C  85 FA      			sta.l	_bx
         1F:C68E  84 FB      			sty.h	_bx
15482                        		__st.umiq	1, _cl
         1F:C690  A9 01      			lda.l	#1
         1F:C692  85 FC      			sta	_cl
15483                        		__st.umiq	1, _dil
         1F:C694  A9 01      			lda.l	#1
         1F:C696  85 F0      			sta	_dil
15484                        		__st.umiq	3, _dih
         1F:C698  A9 03      			lda.l	#3
         1F:C69A  85 F1      			sta	_dih
15485                        		__call		_put_number.4
         1F:C69C  20 6D FF   			call	_put_number.4
15486                        	
15487                        		.dbg	line,	"include\routines_SHOP.c", 16; if(seconds < 10)
15488                        		__ld.umq	_seconds
         1F:C69F  AD 31 23   			lda	_seconds
15489                        		__ult_b.uiq	10
         1F:C6A2  C9 0A      			cmp	#10		; Subtract integer from A.
         1F:C6A4  6A         			ror	a		; CC if A < integer.
         1F:C6A5  49 80      			eor	#$80
         1F:C6A7  2A         			rol	a
15490                        		__bfalse	.LL758
         1F:C6A8  90 2C      			bcc	.LL758
15491                        	
15492                        		.dbg	line,	"include\routines_SHOP.c", 17; {
15493                        	
15494                        		.dbg	line,	"include\routines_SHOP.c", 18; put_number(0,1,3,3);
15495                        		__st.wmiq	0, _bx
         1F:C6AA  64 FA      			stz.l	_bx
         1F:C6AC  64 FB      			stz.h	_bx
15496                        		__st.umiq	1, _cl
         1F:C6AE  A9 01      			lda.l	#1
         1F:C6B0  85 FC      			sta	_cl
15497                        		__st.umiq	3, _dil
         1F:C6B2  A9 03      			lda.l	#3
         1F:C6B4  85 F0      			sta	_dil
15498                        		__st.umiq	3, _dih
         1F:C6B6  A9 03      			lda.l	#3
         1F:C6B8  85 F1      			sta	_dih
15499                        		__call		_put_number.4
         1F:C6BA  20 6D FF   			call	_put_number.4
15500                        	
15501                        		.dbg	line,	"include\routines_SHOP.c", 19; put_number(seconds,1,4,3);
15502                        		__ld.um		_seconds
         1F:C6BD  AD 31 23   			lda	_seconds
         1F:C6C0  C2         			cly
15503                        		__st.wmq	_bx
         1F:C6C1  85 FA      			sta.l	_bx
         1F:C6C3  84 FB      			sty.h	_bx
15504                        		__st.umiq	1, _cl
         1F:C6C5  A9 01      			lda.l	#1
         1F:C6C7  85 FC      			sta	_cl
15505                        		__st.umiq	4, _dil
         1F:C6C9  A9 04      			lda.l	#4
         1F:C6CB  85 F0      			sta	_dil
15506                        		__st.umiq	3, _dih
         1F:C6CD  A9 03      			lda.l	#3
         1F:C6CF  85 F1      			sta	_dih
15507                        		__call		_put_number.4
         1F:C6D1  20 6D FF   			call	_put_number.4
15508                        	
15509                        		.dbg	line,	"include\routines_SHOP.c", 20; }
15510                        	
15511                        		.dbg	line,	"include\routines_SHOP.c", 22; else
15512                        		__bra		.LL759
         1F:C6D4  80 17      			bra	.LL759
15513    1F:C6D6             	.LL758:
15514                        	
15515                        		.dbg	line,	"include\routines_SHOP.c", 23; {
15516                        	
15517                        		.dbg	line,	"include\routines_SHOP.c", 24; put_number(seconds,2,3,3);
15518                        		__ld.um		_seconds
         1F:C6D6  AD 31 23   			lda	_seconds
         1F:C6D9  C2         			cly
15519                        		__st.wmq	_bx
         1F:C6DA  85 FA      			sta.l	_bx
         1F:C6DC  84 FB      			sty.h	_bx
15520                        		__st.umiq	2, _cl
         1F:C6DE  A9 02      			lda.l	#2
         1F:C6E0  85 FC      			sta	_cl
15521                        		__st.umiq	3, _dil
         1F:C6E2  A9 03      			lda.l	#3
         1F:C6E4  85 F0      			sta	_dil
15522                        		__st.umiq	3, _dih
         1F:C6E6  A9 03      			lda.l	#3
         1F:C6E8  85 F1      			sta	_dih
15523                        		__call		_put_number.4
         1F:C6EA  20 6D FF   			call	_put_number.4
15524                        	
15525                        		.dbg	line,	"include\routines_SHOP.c", 25; }
15526    1F:C6ED             	.LL759:
15527                        	
15528                        		.dbg	line,	"include\routines_SHOP.c", 27; time_counter += 1;
15529                        		__add_st.umiq	1, _time_counter
         1F:C6ED  EE 32 23   			inc	_time_counter
15530                        	
15531                        		.dbg	line,	"include\routines_SHOP.c", 29; if(time_counter == 60)
15532                        		__ld.umq	_time_counter
         1F:C6F0  AD 32 23   			lda	_time_counter
15533                        		__equ_b.uiq	60
         1F:C6F3  C9 3C      			cmp	#60
         1F:C6F5  F0 01      			beq	!+
         1F:C6F7  18         			clc
         1F:C6F8             	!:
15534                        		__bfalse	.LL760
         1F:C6F8  90 30      			bcc	.LL760
15535                        	
15536                        		.dbg	line,	"include\routines_SHOP.c", 30; {
15537                        	
15538                        		.dbg	line,	"include\routines_SHOP.c", 31; time_counter = 0;
15539                        		__st.umiq	0, _time_counter
         1F:C6FA  9C 32 23   			stz	_time_counter
15540                        	
15541                        		.dbg	line,	"include\routines_SHOP.c", 33; if(seconds > 0)
15542                        		__ld.umq	_seconds
         1F:C6FD  AD 31 23   			lda	_seconds
15543                        		__ugt_b.uiq	0
         1F:C700  18         			clc			; Subtract integer+1 from A.
         1F:C701  E9 00      			sbc	#0		; CS if A > integer.
15544                        		__bfalse	.LL761
         1F:C703  90 05      			bcc	.LL761
15545                        	
15546                        		.dbg	line,	"include\routines_SHOP.c", 34; {
15547                        	
15548                        		.dbg	line,	"include\routines_SHOP.c", 35; seconds -= 1;
15549                        		__sub_st.umiq	1, _seconds
         1F:C705  CE 31 23   			dec	_seconds
15550                        	
15551                        		.dbg	line,	"include\routines_SHOP.c", 36; }
15552                        	
15553                        		.dbg	line,	"include\routines_SHOP.c", 38; else
15554                        		__bra		.LL762
         1F:C708  80 20      			bra	.LL762
15555    1F:C70A             	.LL761:
15556                        	
15557                        		.dbg	line,	"include\routines_SHOP.c", 39; {
15558                        	
15559                        		.dbg	line,	"include\routines_SHOP.c", 40; if(minutes > 0)
15560                        		__ld.umq	_minutes
         1F:C70A  AD 30 23   			lda	_minutes
15561                        		__ugt_b.uiq	0
         1F:C70D  18         			clc			; Subtract integer+1 from A.
         1F:C70E  E9 00      			sbc	#0		; CS if A > integer.
15562                        		__bfalse	.LL763
         1F:C710  90 0A      			bcc	.LL763
15563                        	
15564                        		.dbg	line,	"include\routines_SHOP.c", 41; {
15565                        	
15566                        		.dbg	line,	"include\routines_SHOP.c", 42; seconds = 59;
15567                        		__st.umiq	59, _seconds
         1F:C712  A9 3B      			lda.l	#59
         1F:C714  8D 31 23   			sta	_seconds
15568                        	
15569                        		.dbg	line,	"include\routines_SHOP.c", 43; minutes -= 1;
15570                        		__sub_st.umiq	1, _minutes
         1F:C717  CE 30 23   			dec	_minutes
15571                        	
15572                        		.dbg	line,	"include\routines_SHOP.c", 44; }
15573                        	
15574                        		.dbg	line,	"include\routines_SHOP.c", 46; else
15575                        		__bra		.LL764
         1F:C71A  80 0E      			bra	.LL764
15576    1F:C71C             	.LL763:
15577                        	
15578                        		.dbg	line,	"include\routines_SHOP.c", 47; {
15579                        	
15580                        		.dbg	line,	"include\routines_SHOP.c", 48; seconds = 0;
15581                        		__st.umiq	0, _seconds
         1F:C71C  9C 31 23   			stz	_seconds
15582                        	
15583                        		.dbg	line,	"include\routines_SHOP.c", 49; minutes = 0;
15584                        		__st.umiq	0, _minutes
         1F:C71F  9C 30 23   			stz	_minutes
15585                        	
15586                        		.dbg	line,	"include\routines_SHOP.c", 50; shop_counter = 0;    
15587                        		__st.umiq	0, _shop_counter
         1F:C722  9C D9 23   			stz	_shop_counter
15588                        	
15589                        		.dbg	line,	"include\routines_SHOP.c", 51; shop_phase = SHOP_PHASE_EXIT;
15590                        		__st.umiq	2, _shop_phase
         1F:C725  A9 02      			lda.l	#2
         1F:C727  8D D8 23   			sta	_shop_phase
15591                        	
15592                        		.dbg	line,	"include\routines_SHOP.c", 52; }
15593    1F:C72A             	.LL764:
15594                        	
15595                        		.dbg	line,	"include\routines_SHOP.c", 53; }
15596    1F:C72A             	.LL762:
15597                        	
15598                        		.dbg	line,	"include\routines_SHOP.c", 54; } 
15599                        	
15600                        		.dbg	line,	"include\routines_SHOP.c", 55; }
15601    1F:C72A             	.LL760:
15602    1F:C72A             	.LL757:
15603                        		__return	0
         1F:C72A  4C EF FF   			jmp	leave_proc
15604                        		.dbg	clear
15605                        		.endp
15606                        		.pceas
15607                        	
15608                        		.dbg	line,	"include\routines_SHOP.c", 59; void joypad_BUTTONS_SHOP()
15609                        		.dbg	line,	"include\routines_SHOP.c", 60; {
15610                        	;***********************
15611                        	;***********************
15612                        	
15613                        		.hucc
15614    1E:C000             		.proc		_joypad_BUTTONS_SHOP
15615                        		__enter		_joypad_BUTTONS_SHOP
15616                        	
15617                        		.dbg	line,	"include\routines_SHOP.c", 61; if(joytrg(JOYPAD_1) & JOY_RIGHT)
15618                        		__ld.uiq	0
         1E:C000  62         			cla
15619                        		 _joytrg.1
         1E:C001  AA         			tax
         1E:C002  BD 2D 22   			lda	joytrg, x
         1E:C005  BC DD 22   			ldy	joy6trg, x
15620                        		__tand.wi	32
         1E:C008  29 20      			and	#32
         1E:C00A  C9 01      	!:		cmp	#1
15621                        		__bfalse	.LL766
         1E:C00C  90 59      			bcc	.LL766
15622                        	
15623                        		.dbg	line,	"include\routines_SHOP.c", 62; {   
15624                        	
15625                        		.dbg	line,	"include\routines_SHOP.c", 63; char max_index;
15626                        	
15627                        		.dbg	line,	"include\routines_SHOP.c", 64; 
15628                        	
15629                        		.dbg	line,	"include\routines_SHOP.c", 65; if(index_y == 0)
15630                        		__not.um	_index_y
         1E:C00E  AD D6 23   			lda	_index_y
         1E:C011  18         			clc
         1E:C012  D0 01      			bne	!+
         1E:C014  38         			sec
         1E:C015             	!:
15631                        		__bfalse	.LL767
         1E:C015  90 07      			bcc	.LL767
15632                        	
15633                        		.dbg	line,	"include\routines_SHOP.c", 66; {
15634                        	
15635                        		.dbg	line,	"include\routines_SHOP.c", 67; max_index = 4;
15636                        		__st.umiq	4, __joypad_BUTTONS_SHOP_end - 1  /* max_index */
         1E:C017  A9 04      			lda.l	#4
         1E:C019  8D 0F 23   			sta	__joypad_BUTTONS_SHOP_end - 1
15637                        	
15638                        		.dbg	line,	"include\routines_SHOP.c", 68; }
15639                        	
15640                        		.dbg	line,	"include\routines_SHOP.c", 70; else
15641                        		__bra		.LL768
         1E:C01C  80 05      			bra	.LL768
15642    1E:C01E             	.LL767:
15643                        	
15644                        		.dbg	line,	"include\routines_SHOP.c", 71; {
15645                        	
15646                        		.dbg	line,	"include\routines_SHOP.c", 72; max_index = 5;
15647                        		__st.umiq	5, __joypad_BUTTONS_SHOP_end - 1  /* max_index */
         1E:C01E  A9 05      			lda.l	#5
         1E:C020  8D 0F 23   			sta	__joypad_BUTTONS_SHOP_end - 1
15648                        	
15649                        		.dbg	line,	"include\routines_SHOP.c", 73; }
15650    1E:C023             	.LL768:
15651                        	
15652                        		.dbg	line,	"include\routines_SHOP.c", 75; if(index_x < max_index)
15653                        		__ld.umq	_index_x
         1E:C023  AD D5 23   			lda	_index_x
15654                        		__ult_b.umq	__joypad_BUTTONS_SHOP_end - 1  /* max_index */
         1E:C026  CD 0F 23   			cmp	__joypad_BUTTONS_SHOP_end - 1		; Subtract memory from A.
         1E:C029  6A         			ror	a		; CC if A < memory.
         1E:C02A  49 80      			eor	#$80
         1E:C02C  2A         			rol	a
15655                        		__bfalse	.LL769
         1E:C02D  B0 03 4C 7D			bcc	.LL769
         1E:C031  C5          
15656                        	
15657                        		.dbg	line,	"include\routines_SHOP.c", 76; {
15658                        	
15659                        		.dbg	line,	"include\routines_SHOP.c", 77; index_x += 1;
15660                        		__add_st.umiq	1, _index_x
         1E:C032  EE D5 23   			inc	_index_x
15661                        	
15662                        		.dbg	line,	"include\routines_SHOP.c", 78; item_index = (index_x + (index_y * 5));
15663                        		__ld.um		_index_y
         1E:C035  AD D6 23   			lda	_index_y
         1E:C038  C2         			cly
15664                        		__mul.wi	5
         1E:C039  85 00      			sta.l	__temp
         1E:C03B  84 01      			sty.h	__temp
                             		__asl.wr
         1E:C03D  0A         			asl	a
         1E:C03E  42         			say
         1E:C03F  2A         			rol	a
         1E:C040  42         			say
                             		__asl.wr
         1E:C041  0A         			asl	a
         1E:C042  42         			say
         1E:C043  2A         			rol	a
         1E:C044  42         			say
                             		__add.wm	__temp
         1E:C045  18         			clc
         1E:C046  65 00      			adc.l	__temp
         1E:C048  42         			say
         1E:C049  65 01      			adc.h	__temp
         1E:C04B  42         			say
15665                        		__add.um	_index_x
         1E:C04C  18         			clc
         1E:C04D  6D D5 23   			adc	_index_x
         1E:C050  90 01      			bcc	!+
         1E:C052  C8         			iny
         1E:C053             	!:
15666                        		__st.umq	_item_index
         1E:C053  8D D7 23   			sta	_item_index
15667                        	
15668                        		.dbg	line,	"include\routines_SHOP.c", 80; spr_set(0);
15669                        		__ld.uiq	0
         1E:C056  62         			cla
15670                        		__call		_spr_set.1
         1E:C057  20 DD E7   			call	_spr_set.1
15671                        	
15672                        		.dbg	line,	"include\routines_SHOP.c", 81; spr_x(TABLE_CURSOR_POS_X[item_index]);
15673                        		__ldx.umq	_item_index
         1E:C05A  AE D7 23   			ldx	_item_index
15674                        		__ld.uax	_TABLE_CURSOR_POS_X
         1E:C05D  BD 9D 62   			lda	_TABLE_CURSOR_POS_X, x
         1E:C060  C2         			cly
15675                        		__call		_spr_x.1
         1E:C061  20 0A E8   			call	_spr_x.1
15676                        	
15677                        		.dbg	line,	"include\routines_SHOP.c", 82; }
15678                        	
15679                        		.dbg	line,	"include\routines_SHOP.c", 83; }
15680    1E:C064             	.LL769	.alias		.LL770
15681                        	
15682                        		.dbg	line,	"include\routines_SHOP.c", 85; 
15683                        	
15684                        		.dbg	line,	"include\routines_SHOP.c", 86; else if(joytrg(JOYPAD_1) & JOY_LEFT)
15685                        		__bra		.LL770
         1E:C064  4C 7D C5   			bra	.LL770
15686    1E:C067             	.LL766:
15687                        		__ld.uiq	0
         1E:C067  62         			cla
15688                        		 _joytrg.1
         1E:C068  AA         			tax
         1E:C069  BD 2D 22   			lda	joytrg, x
         1E:C06C  BC DD 22   			ldy	joy6trg, x
15689                        		__tand.wi	128
         1E:C06F  29 80      			and	#128
         1E:C071  C9 01      	!:		cmp	#1
15690                        		__bfalse	.LL771
         1E:C073  90 40      			bcc	.LL771
15691                        	
15692                        		.dbg	line,	"include\routines_SHOP.c", 87; {
15693                        	
15694                        		.dbg	line,	"include\routines_SHOP.c", 88; if(index_x > 0)
15695                        		__ld.umq	_index_x
         1E:C075  AD D5 23   			lda	_index_x
15696                        		__ugt_b.uiq	0
         1E:C078  18         			clc			; Subtract integer+1 from A.
         1E:C079  E9 00      			sbc	#0		; CS if A > integer.
15697                        		__bfalse	.LL772
         1E:C07B  B0 03 4C 7D			bcc	.LL772
         1E:C07F  C5          
15698                        	
15699                        		.dbg	line,	"include\routines_SHOP.c", 89; {
15700                        	
15701                        		.dbg	line,	"include\routines_SHOP.c", 90; index_x -= 1;
15702                        		__sub_st.umiq	1, _index_x
         1E:C080  CE D5 23   			dec	_index_x
15703                        	
15704                        		.dbg	line,	"include\routines_SHOP.c", 91; item_index = (index_x + (index_y * 5));
15705                        		__ld.um		_index_y
         1E:C083  AD D6 23   			lda	_index_y
         1E:C086  C2         			cly
15706                        		__mul.wi	5
         1E:C087  85 00      			sta.l	__temp
         1E:C089  84 01      			sty.h	__temp
                             		__asl.wr
         1E:C08B  0A         			asl	a
         1E:C08C  42         			say
         1E:C08D  2A         			rol	a
         1E:C08E  42         			say
                             		__asl.wr
         1E:C08F  0A         			asl	a
         1E:C090  42         			say
         1E:C091  2A         			rol	a
         1E:C092  42         			say
                             		__add.wm	__temp
         1E:C093  18         			clc
         1E:C094  65 00      			adc.l	__temp
         1E:C096  42         			say
         1E:C097  65 01      			adc.h	__temp
         1E:C099  42         			say
15707                        		__add.um	_index_x
         1E:C09A  18         			clc
         1E:C09B  6D D5 23   			adc	_index_x
         1E:C09E  90 01      			bcc	!+
         1E:C0A0  C8         			iny
         1E:C0A1             	!:
15708                        		__st.umq	_item_index
         1E:C0A1  8D D7 23   			sta	_item_index
15709                        	
15710                        		.dbg	line,	"include\routines_SHOP.c", 93; spr_set(0);
15711                        		__ld.uiq	0
         1E:C0A4  62         			cla
15712                        		__call		_spr_set.1
         1E:C0A5  20 DD E7   			call	_spr_set.1
15713                        	
15714                        		.dbg	line,	"include\routines_SHOP.c", 94; spr_x(TABLE_CURSOR_POS_X[item_index]);
15715                        		__ldx.umq	_item_index
         1E:C0A8  AE D7 23   			ldx	_item_index
15716                        		__ld.uax	_TABLE_CURSOR_POS_X
         1E:C0AB  BD 9D 62   			lda	_TABLE_CURSOR_POS_X, x
         1E:C0AE  C2         			cly
15717                        		__call		_spr_x.1
         1E:C0AF  20 0A E8   			call	_spr_x.1
15718                        	
15719                        		.dbg	line,	"include\routines_SHOP.c", 95; }
15720                        	
15721                        		.dbg	line,	"include\routines_SHOP.c", 96; }
15722    1E:C0B2             	.LL772	.alias		.LL773
15723                        	
15724                        		.dbg	line,	"include\routines_SHOP.c", 99; else if(joytrg(JOYPAD_1) & JOY_UP)
15725                        		__bra		.LL773
         1E:C0B2  4C 7D C5   			bra	.LL773
15726    1E:C0B5             	.LL771:
15727                        		__ld.uiq	0
         1E:C0B5  62         			cla
15728                        		 _joytrg.1
         1E:C0B6  AA         			tax
         1E:C0B7  BD 2D 22   			lda	joytrg, x
         1E:C0BA  BC DD 22   			ldy	joy6trg, x
15729                        		__tand.wi	16
         1E:C0BD  29 10      			and	#16
         1E:C0BF  C9 01      	!:		cmp	#1
15730                        		__bfalse	.LL774
         1E:C0C1  90 4A      			bcc	.LL774
15731                        	
15732                        		.dbg	line,	"include\routines_SHOP.c", 100; {
15733                        	
15734                        		.dbg	line,	"include\routines_SHOP.c", 101; if(index_y > 0)
15735                        		__ld.umq	_index_y
         1E:C0C3  AD D6 23   			lda	_index_y
15736                        		__ugt_b.uiq	0
         1E:C0C6  18         			clc			; Subtract integer+1 from A.
         1E:C0C7  E9 00      			sbc	#0		; CS if A > integer.
15737                        		__bfalse	.LL775
         1E:C0C9  B0 03 4C 7D			bcc	.LL775
         1E:C0CD  C5          
15738                        	
15739                        		.dbg	line,	"include\routines_SHOP.c", 102; {
15740                        	
15741                        		.dbg	line,	"include\routines_SHOP.c", 103; if(item_index != 10)
15742                        		__ld.umq	_item_index
         1E:C0CE  AD D7 23   			lda	_item_index
15743                        		__neq_b.uiq	10
         1E:C0D1  38         			sec
         1E:C0D2  49 0A      			eor	#10
         1E:C0D4  D0 01      			bne	!+
         1E:C0D6  18         			clc
         1E:C0D7             	!:
15744                        		__bfalse	.LL776
         1E:C0D7  B0 03 4C 7D			bcc	.LL776
         1E:C0DB  C5          
15745                        	
15746                        		.dbg	line,	"include\routines_SHOP.c", 104; {
15747                        	
15748                        		.dbg	line,	"include\routines_SHOP.c", 105; index_y -= 1;
15749                        		__sub_st.umiq	1, _index_y
         1E:C0DC  CE D6 23   			dec	_index_y
15750                        	
15751                        		.dbg	line,	"include\routines_SHOP.c", 106; item_index = (index_x + (index_y * 5));
15752                        		__ld.um		_index_y
         1E:C0DF  AD D6 23   			lda	_index_y
         1E:C0E2  C2         			cly
15753                        		__mul.wi	5
         1E:C0E3  85 00      			sta.l	__temp
         1E:C0E5  84 01      			sty.h	__temp
                             		__asl.wr
         1E:C0E7  0A         			asl	a
         1E:C0E8  42         			say
         1E:C0E9  2A         			rol	a
         1E:C0EA  42         			say
                             		__asl.wr
         1E:C0EB  0A         			asl	a
         1E:C0EC  42         			say
         1E:C0ED  2A         			rol	a
         1E:C0EE  42         			say
                             		__add.wm	__temp
         1E:C0EF  18         			clc
         1E:C0F0  65 00      			adc.l	__temp
         1E:C0F2  42         			say
         1E:C0F3  65 01      			adc.h	__temp
         1E:C0F5  42         			say
15754                        		__add.um	_index_x
         1E:C0F6  18         			clc
         1E:C0F7  6D D5 23   			adc	_index_x
         1E:C0FA  90 01      			bcc	!+
         1E:C0FC  C8         			iny
         1E:C0FD             	!:
15755                        		__st.umq	_item_index
         1E:C0FD  8D D7 23   			sta	_item_index
15756                        	
15757                        		.dbg	line,	"include\routines_SHOP.c", 108; spr_set(0);
15758                        		__ld.uiq	0
         1E:C100  62         			cla
15759                        		__call		_spr_set.1
         1E:C101  20 DD E7   			call	_spr_set.1
15760                        	
15761                        		.dbg	line,	"include\routines_SHOP.c", 109; spr_y(144);
15762                        		__ld.wi		144
         1E:C104  A9 90      			lda.l	#144
         1E:C106  C2         			cly
15763                        		__call		_spr_y.1
         1E:C107  20 19 E8   			call	_spr_y.1
15764                        	
15765                        		.dbg	line,	"include\routines_SHOP.c", 110; }
15766                        	
15767                        		.dbg	line,	"include\routines_SHOP.c", 111; }
15768    1E:C10A             	.LL776	.alias		.LL777
15769                        	
15770                        		.dbg	line,	"include\routines_SHOP.c", 112; }
15771    1E:C10A             	.LL775	.alias		.LL777
15772                        	
15773                        		.dbg	line,	"include\routines_SHOP.c", 115; else if(joytrg(JOYPAD_1) & JOY_DOWN)
15774                        		__bra		.LL777
         1E:C10A  4C 7D C5   			bra	.LL777
15775    1E:C10D             	.LL774:
15776                        		__ld.uiq	0
         1E:C10D  62         			cla
15777                        		 _joytrg.1
         1E:C10E  AA         			tax
         1E:C10F  BD 2D 22   			lda	joytrg, x
         1E:C112  BC DD 22   			ldy	joy6trg, x
15778                        		__tand.wi	64
         1E:C115  29 40      			and	#64
         1E:C117  C9 01      	!:		cmp	#1
15779                        		__bfalse	.LL778
         1E:C119  90 3F      			bcc	.LL778
15780                        	
15781                        		.dbg	line,	"include\routines_SHOP.c", 116; {
15782                        	
15783                        		.dbg	line,	"include\routines_SHOP.c", 117; if(index_y < 1)
15784                        		__ld.umq	_index_y
         1E:C11B  AD D6 23   			lda	_index_y
15785                        		__ult_b.uiq	1
         1E:C11E  C9 01      			cmp	#1		; Subtract integer from A.
         1E:C120  6A         			ror	a		; CC if A < integer.
         1E:C121  49 80      			eor	#$80
         1E:C123  2A         			rol	a
15786                        		__bfalse	.LL779
         1E:C124  B0 03 4C 7D			bcc	.LL779
         1E:C128  C5          
15787                        	
15788                        		.dbg	line,	"include\routines_SHOP.c", 118; {
15789                        	
15790                        		.dbg	line,	"include\routines_SHOP.c", 119; index_y += 1;
15791                        		__add_st.umiq	1, _index_y
         1E:C129  EE D6 23   			inc	_index_y
15792                        	
15793                        		.dbg	line,	"include\routines_SHOP.c", 120; item_index = (index_x + (index_y * 5));
15794                        		__ld.um		_index_y
         1E:C12C  AD D6 23   			lda	_index_y
         1E:C12F  C2         			cly
15795                        		__mul.wi	5
         1E:C130  85 00      			sta.l	__temp
         1E:C132  84 01      			sty.h	__temp
                             		__asl.wr
         1E:C134  0A         			asl	a
         1E:C135  42         			say
         1E:C136  2A         			rol	a
         1E:C137  42         			say
                             		__asl.wr
         1E:C138  0A         			asl	a
         1E:C139  42         			say
         1E:C13A  2A         			rol	a
         1E:C13B  42         			say
                             		__add.wm	__temp
         1E:C13C  18         			clc
         1E:C13D  65 00      			adc.l	__temp
         1E:C13F  42         			say
         1E:C140  65 01      			adc.h	__temp
         1E:C142  42         			say
15796                        		__add.um	_index_x
         1E:C143  18         			clc
         1E:C144  6D D5 23   			adc	_index_x
         1E:C147  90 01      			bcc	!+
         1E:C149  C8         			iny
         1E:C14A             	!:
15797                        		__st.umq	_item_index
         1E:C14A  8D D7 23   			sta	_item_index
15798                        	
15799                        		.dbg	line,	"include\routines_SHOP.c", 122; spr_set(0);
15800                        		__ld.uiq	0
         1E:C14D  62         			cla
15801                        		__call		_spr_set.1
         1E:C14E  20 DD E7   			call	_spr_set.1
15802                        	
15803                        		.dbg	line,	"include\routines_SHOP.c", 123; spr_y(168);
15804                        		__ld.wi		168
         1E:C151  A9 A8      			lda.l	#168
         1E:C153  C2         			cly
15805                        		__call		_spr_y.1
         1E:C154  20 19 E8   			call	_spr_y.1
15806                        	
15807                        		.dbg	line,	"include\routines_SHOP.c", 124; }
15808                        	
15809                        		.dbg	line,	"include\routines_SHOP.c", 125; }
15810    1E:C157             	.LL779	.alias		.LL780
15811                        	
15812                        		.dbg	line,	"include\routines_SHOP.c", 128; else if(joytrg(JOYPAD_1) & JOY_I)
15813                        		__bra		.LL780
         1E:C157  4C 7D C5   			bra	.LL780
15814    1E:C15A             	.LL778:
15815                        		__ld.uiq	0
         1E:C15A  62         			cla
15816                        		 _joytrg.1
         1E:C15B  AA         			tax
         1E:C15C  BD 2D 22   			lda	joytrg, x
         1E:C15F  BC DD 22   			ldy	joy6trg, x
15817                        		__tand.wi	1
         1E:C162  29 01      			and	#1
         1E:C164  C9 01      	!:		cmp	#1
15818                        		__bfalse	.LL781
         1E:C166  B0 03 4C 7D			bcc	.LL781
         1E:C16A  C5          
15819                        	
15820                        		.dbg	line,	"include\routines_SHOP.c", 129; {
15821                        	
15822                        		.dbg	line,	"include\routines_SHOP.c", 130; switch(item_index)
15823                        		__ld.umq	_item_index
         1E:C16B  AD D7 23   			lda	_item_index
15824                        		__bra		.LL782
         1E:C16E  4C 5A C5   			bra	.LL782
15825                        	
15826                        		.dbg	line,	"include\routines_SHOP.c", 131; {
15827                        	
15828                        		.dbg	line,	"include\routines_SHOP.c", 132; // WEAPON 2 //
15829                        	
15830                        		.dbg	line,	"include\routines_SHOP.c", 133; case 0:
15831    1E:C171             	.LL784:
15832                        		__case		0
15833                        	
15834                        		.dbg	line,	"include\routines_SHOP.c", 134; if(zenny_amount >= shop_prices[0])
15835                        		__ld.wm		_zenny_amount
         1E:C171  AD 3B 26   			lda.l	_zenny_amount
         1E:C174  AC 3C 26   			ldy.h	_zenny_amount
15836                        		__sge_w.wm	_shop_prices
         1E:C177  CD 3F 26   			cmp.l	_shop_prices		; Subtract memory from Y:A.
         1E:C17A  98         			tya
         1E:C17B  ED 40 26   			sbc.h	_shop_prices
         1E:C17E  50 02      			bvc	!+
         1E:C180  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:C182  49 80      	!:		eor	#$80
         1E:C184  0A         			asl	a
15837                        		__bfalse	.LL785
         1E:C185  B0 03 4C 7D			bcc	.LL785
         1E:C189  C5          
15838                        	
15839                        		.dbg	line,	"include\routines_SHOP.c", 135; {
15840                        	
15841                        		.dbg	line,	"include\routines_SHOP.c", 136; if(weapon_level < 1)
15842                        		__ld.umq	_weapon_level
         1E:C18A  AD 28 23   			lda	_weapon_level
15843                        		__ult_b.uiq	1
         1E:C18D  C9 01      			cmp	#1		; Subtract integer from A.
         1E:C18F  6A         			ror	a		; CC if A < integer.
         1E:C190  49 80      			eor	#$80
         1E:C192  2A         			rol	a
15844                        		__bfalse	.LL786
         1E:C193  B0 03 4C 7D			bcc	.LL786
         1E:C197  C5          
15845                        	
15846                        		.dbg	line,	"include\routines_SHOP.c", 137; {
15847                        	
15848                        		.dbg	line,	"include\routines_SHOP.c", 138; weapon_level = 1;
15849                        		__st.umiq	1, _weapon_level
         1E:C198  A9 01      			lda.l	#1
         1E:C19A  8D 28 23   			sta	_weapon_level
15850                        	
15851                        		.dbg	line,	"include\routines_SHOP.c", 139; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_2, SIZEOF(tileset_WEAPON_2) >> 1 );
15852                        		__st.wmiq	4256, _di
         1E:C19D  A9 A0      			lda.l	#4256
         1E:C19F  85 F0      			sta.l	_di
         1E:C1A1  A9 10      			lda.h	#4256
         1E:C1A3  85 F1      			sta.h	_di
15853                        		__farptr	_tileset_WEAPON_2, _bp_bank, _bp
         1E:C1A5  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_2))
         1E:C1A7  85 EC      			sta.l	_bp
         1E:C1A9  A9 74      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_2))
         1E:C1AB  85 ED      			sta.h	_bp
         1E:C1AD  A9 07      			lda	#bank(_tileset_WEAPON_2)
         1E:C1AF  85 02      			sta	_bp_bank
15854                        		__ld.wi		___sizeof__tileset_WEAPON_2
         1E:C1B1  A9 80      			lda.l	#___sizeof__tileset_WEAPON_2
         1E:C1B3  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_2
15855                        		__lsr.wi	1
         1E:C1B5  42         			say
         1E:C1B6  4A         			lsr	a
         1E:C1B7  42         			say
         1E:C1B8  6A         			ror	a
15856                        		__st.wmq	_ax
         1E:C1B9  85 F8      			sta.l	_ax
         1E:C1BB  84 F9      			sty.h	_ax
15857                        		 _load_vram.3
         1E:C1BD  82         			clx				; Offset to PCE VDC.
         1E:C1BE  20 1D FF   			call	load_vram_x
15858                        	
15859                        		.dbg	line,	"include\routines_SHOP.c", 141; zenny_amount -= shop_prices[0];
15860                        		__ld.wm		_shop_prices
         1E:C1C1  AD 3F 26   			lda.l	_shop_prices
         1E:C1C4  AC 40 26   			ldy.h	_shop_prices
15861                        		__isub_st.wmq	_zenny_amount
         1E:C1C7  38         			sec
         1E:C1C8  49 FF      			eor	#$FF
         1E:C1CA  6D 3B 26   			adc.l	_zenny_amount
         1E:C1CD  8D 3B 26   			sta.l	_zenny_amount
         1E:C1D0  98         			tya
         1E:C1D1  49 FF      			eor	#$FF
         1E:C1D3  6D 3C 26   			adc.h	_zenny_amount
         1E:C1D6  8D 3C 26   			sta.h	_zenny_amount
15862                        	
15863                        		.dbg	line,	"include\routines_SHOP.c", 142; display_ZENNY();
15864                        		__call		_display_ZENNY
         1E:C1D9  20 13 FF   			call	_display_ZENNY
15865                        	
15866                        		.dbg	line,	"include\routines_SHOP.c", 143; }
15867                        	
15868                        		.dbg	line,	"include\routines_SHOP.c", 144; }
15869    1E:C1DC             	.LL786	.alias		.LL783
15870                        	
15871                        		.dbg	line,	"include\routines_SHOP.c", 146; break;   
15872    1E:C1DC             	.LL785	.alias		.LL783
15873                        		__bra		.LL783
         1E:C1DC  4C 7D C5   			bra	.LL783
15874                        	
15875                        		.dbg	line,	"include\routines_SHOP.c", 149; // WEAPON 4 //
15876                        	
15877                        		.dbg	line,	"include\routines_SHOP.c", 150; case 1:
15878    1E:C1DF             	.LL787:
15879                        		__case		1
15880                        	
15881                        		.dbg	line,	"include\routines_SHOP.c", 151; if(zenny_amount >= shop_prices[1])
15882                        		__ld.wm		_zenny_amount
         1E:C1DF  AD 3B 26   			lda.l	_zenny_amount
         1E:C1E2  AC 3C 26   			ldy.h	_zenny_amount
15883                        		__sge_w.wm	_shop_prices + 2
         1E:C1E5  CD 41 26   			cmp.l	_shop_prices + 2		; Subtract memory from Y:A.
         1E:C1E8  98         			tya
         1E:C1E9  ED 42 26   			sbc.h	_shop_prices + 2
         1E:C1EC  50 02      			bvc	!+
         1E:C1EE  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:C1F0  49 80      	!:		eor	#$80
         1E:C1F2  0A         			asl	a
15884                        		__bfalse	.LL788
         1E:C1F3  B0 03 4C 7D			bcc	.LL788
         1E:C1F7  C5          
15885                        	
15886                        		.dbg	line,	"include\routines_SHOP.c", 152; {
15887                        	
15888                        		.dbg	line,	"include\routines_SHOP.c", 153; if(weapon_level < 2)
15889                        		__ld.umq	_weapon_level
         1E:C1F8  AD 28 23   			lda	_weapon_level
15890                        		__ult_b.uiq	2
         1E:C1FB  C9 02      			cmp	#2		; Subtract integer from A.
         1E:C1FD  6A         			ror	a		; CC if A < integer.
         1E:C1FE  49 80      			eor	#$80
         1E:C200  2A         			rol	a
15891                        		__bfalse	.LL789
         1E:C201  B0 03 4C 7D			bcc	.LL789
         1E:C205  C5          
15892                        	
15893                        		.dbg	line,	"include\routines_SHOP.c", 154; {
15894                        	
15895                        		.dbg	line,	"include\routines_SHOP.c", 155; weapon_level = 2;
15896                        		__st.umiq	2, _weapon_level
         1E:C206  A9 02      			lda.l	#2
         1E:C208  8D 28 23   			sta	_weapon_level
15897                        	
15898                        		.dbg	line,	"include\routines_SHOP.c", 156; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_4, SIZEOF(tileset_WEAPON_4) >> 1 );
15899                        		__st.wmiq	4256, _di
         1E:C20B  A9 A0      			lda.l	#4256
         1E:C20D  85 F0      			sta.l	_di
         1E:C20F  A9 10      			lda.h	#4256
         1E:C211  85 F1      			sta.h	_di
15900                        		__farptr	_tileset_WEAPON_4, _bp_bank, _bp
         1E:C213  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_4))
         1E:C215  85 EC      			sta.l	_bp
         1E:C217  A9 74      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_4))
         1E:C219  85 ED      			sta.h	_bp
         1E:C21B  A9 07      			lda	#bank(_tileset_WEAPON_4)
         1E:C21D  85 02      			sta	_bp_bank
15901                        		__ld.wi		___sizeof__tileset_WEAPON_4
         1E:C21F  A9 80      			lda.l	#___sizeof__tileset_WEAPON_4
         1E:C221  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_4
15902                        		__lsr.wi	1
         1E:C223  42         			say
         1E:C224  4A         			lsr	a
         1E:C225  42         			say
         1E:C226  6A         			ror	a
15903                        		__st.wmq	_ax
         1E:C227  85 F8      			sta.l	_ax
         1E:C229  84 F9      			sty.h	_ax
15904                        		 _load_vram.3
         1E:C22B  82         			clx				; Offset to PCE VDC.
         1E:C22C  20 1D FF   			call	load_vram_x
15905                        	
15906                        		.dbg	line,	"include\routines_SHOP.c", 158; zenny_amount -= shop_prices[1];
15907                        		__ld.wm		_shop_prices + 2
         1E:C22F  AD 41 26   			lda.l	_shop_prices + 2
         1E:C232  AC 42 26   			ldy.h	_shop_prices + 2
15908                        		__isub_st.wmq	_zenny_amount
         1E:C235  38         			sec
         1E:C236  49 FF      			eor	#$FF
         1E:C238  6D 3B 26   			adc.l	_zenny_amount
         1E:C23B  8D 3B 26   			sta.l	_zenny_amount
         1E:C23E  98         			tya
         1E:C23F  49 FF      			eor	#$FF
         1E:C241  6D 3C 26   			adc.h	_zenny_amount
         1E:C244  8D 3C 26   			sta.h	_zenny_amount
15909                        	
15910                        		.dbg	line,	"include\routines_SHOP.c", 159; display_ZENNY();
15911                        		__call		_display_ZENNY
         1E:C247  20 13 FF   			call	_display_ZENNY
15912                        	
15913                        		.dbg	line,	"include\routines_SHOP.c", 160; }
15914                        	
15915                        		.dbg	line,	"include\routines_SHOP.c", 161; }
15916    1E:C24A             	.LL789	.alias		.LL783
15917                        	
15918                        		.dbg	line,	"include\routines_SHOP.c", 163; break; 
15919    1E:C24A             	.LL788	.alias		.LL783
15920                        		__bra		.LL783
         1E:C24A  4C 7D C5   			bra	.LL783
15921                        	
15922                        		.dbg	line,	"include\routines_SHOP.c", 166; // WEAPON 5 //
15923                        	
15924                        		.dbg	line,	"include\routines_SHOP.c", 167; case 2:
15925    1E:C24D             	.LL790:
15926                        		__case		2
15927                        	
15928                        		.dbg	line,	"include\routines_SHOP.c", 168; if(zenny_amount >= shop_prices[2])
15929                        		__ld.wm		_zenny_amount
         1E:C24D  AD 3B 26   			lda.l	_zenny_amount
         1E:C250  AC 3C 26   			ldy.h	_zenny_amount
15930                        		__sge_w.wm	_shop_prices + 4
         1E:C253  CD 43 26   			cmp.l	_shop_prices + 4		; Subtract memory from Y:A.
         1E:C256  98         			tya
         1E:C257  ED 44 26   			sbc.h	_shop_prices + 4
         1E:C25A  50 02      			bvc	!+
         1E:C25C  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:C25E  49 80      	!:		eor	#$80
         1E:C260  0A         			asl	a
15931                        		__bfalse	.LL791
         1E:C261  B0 03 4C 7D			bcc	.LL791
         1E:C265  C5          
15932                        	
15933                        		.dbg	line,	"include\routines_SHOP.c", 169; {
15934                        	
15935                        		.dbg	line,	"include\routines_SHOP.c", 170; if(weapon_level < 3)
15936                        		__ld.umq	_weapon_level
         1E:C266  AD 28 23   			lda	_weapon_level
15937                        		__ult_b.uiq	3
         1E:C269  C9 03      			cmp	#3		; Subtract integer from A.
         1E:C26B  6A         			ror	a		; CC if A < integer.
         1E:C26C  49 80      			eor	#$80
         1E:C26E  2A         			rol	a
15938                        		__bfalse	.LL792
         1E:C26F  B0 03 4C 7D			bcc	.LL792
         1E:C273  C5          
15939                        	
15940                        		.dbg	line,	"include\routines_SHOP.c", 171; {
15941                        	
15942                        		.dbg	line,	"include\routines_SHOP.c", 172; weapon_level = 3;
15943                        		__st.umiq	3, _weapon_level
         1E:C274  A9 03      			lda.l	#3
         1E:C276  8D 28 23   			sta	_weapon_level
15944                        	
15945                        		.dbg	line,	"include\routines_SHOP.c", 173; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_5, SIZEOF(tileset_WEAPON_5) >> 1 );
15946                        		__st.wmiq	4256, _di
         1E:C279  A9 A0      			lda.l	#4256
         1E:C27B  85 F0      			sta.l	_di
         1E:C27D  A9 10      			lda.h	#4256
         1E:C27F  85 F1      			sta.h	_di
15947                        		__farptr	_tileset_WEAPON_5, _bp_bank, _bp
         1E:C281  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_5))
         1E:C283  85 EC      			sta.l	_bp
         1E:C285  A9 75      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_5))
         1E:C287  85 ED      			sta.h	_bp
         1E:C289  A9 07      			lda	#bank(_tileset_WEAPON_5)
         1E:C28B  85 02      			sta	_bp_bank
15948                        		__ld.wi		___sizeof__tileset_WEAPON_5
         1E:C28D  A9 80      			lda.l	#___sizeof__tileset_WEAPON_5
         1E:C28F  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_5
15949                        		__lsr.wi	1
         1E:C291  42         			say
         1E:C292  4A         			lsr	a
         1E:C293  42         			say
         1E:C294  6A         			ror	a
15950                        		__st.wmq	_ax
         1E:C295  85 F8      			sta.l	_ax
         1E:C297  84 F9      			sty.h	_ax
15951                        		 _load_vram.3
         1E:C299  82         			clx				; Offset to PCE VDC.
         1E:C29A  20 1D FF   			call	load_vram_x
15952                        	
15953                        		.dbg	line,	"include\routines_SHOP.c", 175; zenny_amount -= shop_prices[2];
15954                        		__ld.wm		_shop_prices + 4
         1E:C29D  AD 43 26   			lda.l	_shop_prices + 4
         1E:C2A0  AC 44 26   			ldy.h	_shop_prices + 4
15955                        		__isub_st.wmq	_zenny_amount
         1E:C2A3  38         			sec
         1E:C2A4  49 FF      			eor	#$FF
         1E:C2A6  6D 3B 26   			adc.l	_zenny_amount
         1E:C2A9  8D 3B 26   			sta.l	_zenny_amount
         1E:C2AC  98         			tya
         1E:C2AD  49 FF      			eor	#$FF
         1E:C2AF  6D 3C 26   			adc.h	_zenny_amount
         1E:C2B2  8D 3C 26   			sta.h	_zenny_amount
15956                        	
15957                        		.dbg	line,	"include\routines_SHOP.c", 176; display_ZENNY();
15958                        		__call		_display_ZENNY
         1E:C2B5  20 13 FF   			call	_display_ZENNY
15959                        	
15960                        		.dbg	line,	"include\routines_SHOP.c", 177; }
15961                        	
15962                        		.dbg	line,	"include\routines_SHOP.c", 178; }
15963    1E:C2B8             	.LL792	.alias		.LL783
15964                        	
15965                        		.dbg	line,	"include\routines_SHOP.c", 180; break;   
15966    1E:C2B8             	.LL791	.alias		.LL783
15967                        		__bra		.LL783
         1E:C2B8  4C 7D C5   			bra	.LL783
15968                        	
15969                        		.dbg	line,	"include\routines_SHOP.c", 183; // WEAPON 8 //
15970                        	
15971                        		.dbg	line,	"include\routines_SHOP.c", 184; case 3:
15972    1E:C2BB             	.LL793:
15973                        		__case		3
15974                        	
15975                        		.dbg	line,	"include\routines_SHOP.c", 185; if(zenny_amount >= shop_prices[3])
15976                        		__ld.wm		_zenny_amount
         1E:C2BB  AD 3B 26   			lda.l	_zenny_amount
         1E:C2BE  AC 3C 26   			ldy.h	_zenny_amount
15977                        		__sge_w.wm	_shop_prices + 6
         1E:C2C1  CD 45 26   			cmp.l	_shop_prices + 6		; Subtract memory from Y:A.
         1E:C2C4  98         			tya
         1E:C2C5  ED 46 26   			sbc.h	_shop_prices + 6
         1E:C2C8  50 02      			bvc	!+
         1E:C2CA  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:C2CC  49 80      	!:		eor	#$80
         1E:C2CE  0A         			asl	a
15978                        		__bfalse	.LL794
         1E:C2CF  B0 03 4C 7D			bcc	.LL794
         1E:C2D3  C5          
15979                        	
15980                        		.dbg	line,	"include\routines_SHOP.c", 186; {
15981                        	
15982                        		.dbg	line,	"include\routines_SHOP.c", 187; if(weapon_level < 4)
15983                        		__ld.umq	_weapon_level
         1E:C2D4  AD 28 23   			lda	_weapon_level
15984                        		__ult_b.uiq	4
         1E:C2D7  C9 04      			cmp	#4		; Subtract integer from A.
         1E:C2D9  6A         			ror	a		; CC if A < integer.
         1E:C2DA  49 80      			eor	#$80
         1E:C2DC  2A         			rol	a
15985                        		__bfalse	.LL795
         1E:C2DD  B0 03 4C 7D			bcc	.LL795
         1E:C2E1  C5          
15986                        	
15987                        		.dbg	line,	"include\routines_SHOP.c", 188; {
15988                        	
15989                        		.dbg	line,	"include\routines_SHOP.c", 189; weapon_level = 4;
15990                        		__st.umiq	4, _weapon_level
         1E:C2E2  A9 04      			lda.l	#4
         1E:C2E4  8D 28 23   			sta	_weapon_level
15991                        	
15992                        		.dbg	line,	"include\routines_SHOP.c", 190; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_8, SIZEOF(tileset_WEAPON_8) >> 1 );
15993                        		__st.wmiq	4256, _di
         1E:C2E7  A9 A0      			lda.l	#4256
         1E:C2E9  85 F0      			sta.l	_di
         1E:C2EB  A9 10      			lda.h	#4256
         1E:C2ED  85 F1      			sta.h	_di
15994                        		__farptr	_tileset_WEAPON_8, _bp_bank, _bp
         1E:C2EF  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_8))
         1E:C2F1  85 EC      			sta.l	_bp
         1E:C2F3  A9 75      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_8))
         1E:C2F5  85 ED      			sta.h	_bp
         1E:C2F7  A9 07      			lda	#bank(_tileset_WEAPON_8)
         1E:C2F9  85 02      			sta	_bp_bank
15995                        		__ld.wi		___sizeof__tileset_WEAPON_8
         1E:C2FB  A9 80      			lda.l	#___sizeof__tileset_WEAPON_8
         1E:C2FD  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_8
15996                        		__lsr.wi	1
         1E:C2FF  42         			say
         1E:C300  4A         			lsr	a
         1E:C301  42         			say
         1E:C302  6A         			ror	a
15997                        		__st.wmq	_ax
         1E:C303  85 F8      			sta.l	_ax
         1E:C305  84 F9      			sty.h	_ax
15998                        		 _load_vram.3
         1E:C307  82         			clx				; Offset to PCE VDC.
         1E:C308  20 1D FF   			call	load_vram_x
15999                        	
16000                        		.dbg	line,	"include\routines_SHOP.c", 192; zenny_amount -= shop_prices[3];
16001                        		__ld.wm		_shop_prices + 6
         1E:C30B  AD 45 26   			lda.l	_shop_prices + 6
         1E:C30E  AC 46 26   			ldy.h	_shop_prices + 6
16002                        		__isub_st.wmq	_zenny_amount
         1E:C311  38         			sec
         1E:C312  49 FF      			eor	#$FF
         1E:C314  6D 3B 26   			adc.l	_zenny_amount
         1E:C317  8D 3B 26   			sta.l	_zenny_amount
         1E:C31A  98         			tya
         1E:C31B  49 FF      			eor	#$FF
         1E:C31D  6D 3C 26   			adc.h	_zenny_amount
         1E:C320  8D 3C 26   			sta.h	_zenny_amount
16003                        	
16004                        		.dbg	line,	"include\routines_SHOP.c", 193; display_ZENNY();
16005                        		__call		_display_ZENNY
         1E:C323  20 13 FF   			call	_display_ZENNY
16006                        	
16007                        		.dbg	line,	"include\routines_SHOP.c", 194; }
16008                        	
16009                        		.dbg	line,	"include\routines_SHOP.c", 195; }
16010    1E:C326             	.LL795	.alias		.LL783
16011                        	
16012                        		.dbg	line,	"include\routines_SHOP.c", 197; break;  
16013    1E:C326             	.LL794	.alias		.LL783
16014                        		__bra		.LL783
         1E:C326  4C 7D C5   			bra	.LL783
16015                        	
16016                        		.dbg	line,	"include\routines_SHOP.c", 200; // KEY //
16017                        	
16018                        		.dbg	line,	"include\routines_SHOP.c", 201; case 4:
16019    1E:C329             	.LL796:
16020                        		__case		4
16021                        	
16022                        		.dbg	line,	"include\routines_SHOP.c", 202; if(zenny_amount >= shop_prices[4])
16023                        		__ld.wm		_zenny_amount
         1E:C329  AD 3B 26   			lda.l	_zenny_amount
         1E:C32C  AC 3C 26   			ldy.h	_zenny_amount
16024                        		__sge_w.wm	_shop_prices + 8
         1E:C32F  CD 47 26   			cmp.l	_shop_prices + 8		; Subtract memory from Y:A.
         1E:C332  98         			tya
         1E:C333  ED 48 26   			sbc.h	_shop_prices + 8
         1E:C336  50 02      			bvc	!+
         1E:C338  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:C33A  49 80      	!:		eor	#$80
         1E:C33C  0A         			asl	a
16025                        		__bfalse	.LL797
         1E:C33D  B0 03 4C 7D			bcc	.LL797
         1E:C341  C5          
16026                        	
16027                        		.dbg	line,	"include\routines_SHOP.c", 203; {
16028                        	
16029                        		.dbg	line,	"include\routines_SHOP.c", 204; key_amount += 1;
16030                        		__add_st.umiq	1, _key_amount
         1E:C342  EE 2E 23   			inc	_key_amount
16031                        	
16032                        		.dbg	line,	"include\routines_SHOP.c", 206; zenny_amount -= shop_prices[4];
16033                        		__ld.wm		_shop_prices + 8
         1E:C345  AD 47 26   			lda.l	_shop_prices + 8
         1E:C348  AC 48 26   			ldy.h	_shop_prices + 8
16034                        		__isub_st.wmq	_zenny_amount
         1E:C34B  38         			sec
         1E:C34C  49 FF      			eor	#$FF
         1E:C34E  6D 3B 26   			adc.l	_zenny_amount
         1E:C351  8D 3B 26   			sta.l	_zenny_amount
         1E:C354  98         			tya
         1E:C355  49 FF      			eor	#$FF
         1E:C357  6D 3C 26   			adc.h	_zenny_amount
         1E:C35A  8D 3C 26   			sta.h	_zenny_amount
16035                        	
16036                        		.dbg	line,	"include\routines_SHOP.c", 207; display_KEY();
16037                        		__call		_display_KEY
         1E:C35D  20 59 FF   			call	_display_KEY
16038                        	
16039                        		.dbg	line,	"include\routines_SHOP.c", 208; }
16040                        	
16041                        		.dbg	line,	"include\routines_SHOP.c", 210; break;   
16042    1E:C360             	.LL797	.alias		.LL783
16043                        		__bra		.LL783
         1E:C360  4C 7D C5   			bra	.LL783
16044                        	
16045                        		.dbg	line,	"include\routines_SHOP.c", 213; // ARMOR 1 //
16046                        	
16047                        		.dbg	line,	"include\routines_SHOP.c", 214; case 5:
16048    1E:C363             	.LL798:
16049                        		__case		5
16050                        	
16051                        		.dbg	line,	"include\routines_SHOP.c", 215; if(zenny_amount >= shop_prices[5])
16052                        		__ld.wm		_zenny_amount
         1E:C363  AD 3B 26   			lda.l	_zenny_amount
         1E:C366  AC 3C 26   			ldy.h	_zenny_amount
16053                        		__sge_w.wm	_shop_prices + 10
         1E:C369  CD 49 26   			cmp.l	_shop_prices + 10		; Subtract memory from Y:A.
         1E:C36C  98         			tya
         1E:C36D  ED 4A 26   			sbc.h	_shop_prices + 10
         1E:C370  50 02      			bvc	!+
         1E:C372  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:C374  49 80      	!:		eor	#$80
         1E:C376  0A         			asl	a
16054                        		__bfalse	.LL799
         1E:C377  B0 03 4C 7D			bcc	.LL799
         1E:C37B  C5          
16055                        	
16056                        		.dbg	line,	"include\routines_SHOP.c", 216; {
16057                        	
16058                        		.dbg	line,	"include\routines_SHOP.c", 217; if(armor_level < 1)
16059                        		__ld.umq	_armor_level
         1E:C37C  AD 27 23   			lda	_armor_level
16060                        		__ult_b.uiq	1
         1E:C37F  C9 01      			cmp	#1		; Subtract integer from A.
         1E:C381  6A         			ror	a		; CC if A < integer.
         1E:C382  49 80      			eor	#$80
         1E:C384  2A         			rol	a
16061                        		__bfalse	.LL800
         1E:C385  B0 03 4C 7D			bcc	.LL800
         1E:C389  C5          
16062                        	
16063                        		.dbg	line,	"include\routines_SHOP.c", 218; {
16064                        	
16065                        		.dbg	line,	"include\routines_SHOP.c", 219; armor_level = 1;
16066                        		__st.umiq	1, _armor_level
         1E:C38A  A9 01      			lda.l	#1
         1E:C38C  8D 27 23   			sta	_armor_level
16067                        	
16068                        		.dbg	line,	"include\routines_SHOP.c", 220; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_1, SIZEOF(tileset_ARMOR_1) >> 1 );
16069                        		__st.wmiq	4320, _di
         1E:C38F  A9 E0      			lda.l	#4320
         1E:C391  85 F0      			sta.l	_di
         1E:C393  A9 10      			lda.h	#4320
         1E:C395  85 F1      			sta.h	_di
16070                        		__farptr	_tileset_ARMOR_1, _bp_bank, _bp
         1E:C397  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_1))
         1E:C399  85 EC      			sta.l	_bp
         1E:C39B  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_1))
         1E:C39D  85 ED      			sta.h	_bp
         1E:C39F  A9 07      			lda	#bank(_tileset_ARMOR_1)
         1E:C3A1  85 02      			sta	_bp_bank
16071                        		__ld.wi		___sizeof__tileset_ARMOR_1
         1E:C3A3  A9 80      			lda.l	#___sizeof__tileset_ARMOR_1
         1E:C3A5  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_1
16072                        		__lsr.wi	1
         1E:C3A7  42         			say
         1E:C3A8  4A         			lsr	a
         1E:C3A9  42         			say
         1E:C3AA  6A         			ror	a
16073                        		__st.wmq	_ax
         1E:C3AB  85 F8      			sta.l	_ax
         1E:C3AD  84 F9      			sty.h	_ax
16074                        		 _load_vram.3
         1E:C3AF  82         			clx				; Offset to PCE VDC.
         1E:C3B0  20 1D FF   			call	load_vram_x
16075                        	
16076                        		.dbg	line,	"include\routines_SHOP.c", 222; zenny_amount -= shop_prices[5];
16077                        		__ld.wm		_shop_prices + 10
         1E:C3B3  AD 49 26   			lda.l	_shop_prices + 10
         1E:C3B6  AC 4A 26   			ldy.h	_shop_prices + 10
16078                        		__isub_st.wmq	_zenny_amount
         1E:C3B9  38         			sec
         1E:C3BA  49 FF      			eor	#$FF
         1E:C3BC  6D 3B 26   			adc.l	_zenny_amount
         1E:C3BF  8D 3B 26   			sta.l	_zenny_amount
         1E:C3C2  98         			tya
         1E:C3C3  49 FF      			eor	#$FF
         1E:C3C5  6D 3C 26   			adc.h	_zenny_amount
         1E:C3C8  8D 3C 26   			sta.h	_zenny_amount
16079                        	
16080                        		.dbg	line,	"include\routines_SHOP.c", 223; display_ZENNY();
16081                        		__call		_display_ZENNY
         1E:C3CB  20 13 FF   			call	_display_ZENNY
16082                        	
16083                        		.dbg	line,	"include\routines_SHOP.c", 224; }
16084                        	
16085                        		.dbg	line,	"include\routines_SHOP.c", 225; }
16086    1E:C3CE             	.LL800	.alias		.LL783
16087                        	
16088                        		.dbg	line,	"include\routines_SHOP.c", 227; break;   
16089    1E:C3CE             	.LL799	.alias		.LL783
16090                        		__bra		.LL783
         1E:C3CE  4C 7D C5   			bra	.LL783
16091                        	
16092                        		.dbg	line,	"include\routines_SHOP.c", 230; // ARMOR 2 //
16093                        	
16094                        		.dbg	line,	"include\routines_SHOP.c", 231; case 6:
16095    1E:C3D1             	.LL801:
16096                        		__case		6
16097                        	
16098                        		.dbg	line,	"include\routines_SHOP.c", 232; if(zenny_amount >= shop_prices[6])
16099                        		__ld.wm		_zenny_amount
         1E:C3D1  AD 3B 26   			lda.l	_zenny_amount
         1E:C3D4  AC 3C 26   			ldy.h	_zenny_amount
16100                        		__sge_w.wm	_shop_prices + 12
         1E:C3D7  CD 4B 26   			cmp.l	_shop_prices + 12		; Subtract memory from Y:A.
         1E:C3DA  98         			tya
         1E:C3DB  ED 4C 26   			sbc.h	_shop_prices + 12
         1E:C3DE  50 02      			bvc	!+
         1E:C3E0  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:C3E2  49 80      	!:		eor	#$80
         1E:C3E4  0A         			asl	a
16101                        		__bfalse	.LL802
         1E:C3E5  B0 03 4C 7D			bcc	.LL802
         1E:C3E9  C5          
16102                        	
16103                        		.dbg	line,	"include\routines_SHOP.c", 233; {
16104                        	
16105                        		.dbg	line,	"include\routines_SHOP.c", 234; if(armor_level < 4)
16106                        		__ld.umq	_armor_level
         1E:C3EA  AD 27 23   			lda	_armor_level
16107                        		__ult_b.uiq	4
         1E:C3ED  C9 04      			cmp	#4		; Subtract integer from A.
         1E:C3EF  6A         			ror	a		; CC if A < integer.
         1E:C3F0  49 80      			eor	#$80
         1E:C3F2  2A         			rol	a
16108                        		__bfalse	.LL803
         1E:C3F3  B0 03 4C 7D			bcc	.LL803
         1E:C3F7  C5          
16109                        	
16110                        		.dbg	line,	"include\routines_SHOP.c", 235; {
16111                        	
16112                        		.dbg	line,	"include\routines_SHOP.c", 236; armor_level = 4;
16113                        		__st.umiq	4, _armor_level
         1E:C3F8  A9 04      			lda.l	#4
         1E:C3FA  8D 27 23   			sta	_armor_level
16114                        	
16115                        		.dbg	line,	"include\routines_SHOP.c", 237; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_2, SIZEOF(tileset_ARMOR_2) >> 1 );
16116                        		__st.wmiq	4320, _di
         1E:C3FD  A9 E0      			lda.l	#4320
         1E:C3FF  85 F0      			sta.l	_di
         1E:C401  A9 10      			lda.h	#4320
         1E:C403  85 F1      			sta.h	_di
16117                        		__farptr	_tileset_ARMOR_2, _bp_bank, _bp
         1E:C405  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_2))
         1E:C407  85 EC      			sta.l	_bp
         1E:C409  A9 72      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_2))
         1E:C40B  85 ED      			sta.h	_bp
         1E:C40D  A9 07      			lda	#bank(_tileset_ARMOR_2)
         1E:C40F  85 02      			sta	_bp_bank
16118                        		__ld.wi		___sizeof__tileset_ARMOR_2
         1E:C411  A9 80      			lda.l	#___sizeof__tileset_ARMOR_2
         1E:C413  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_2
16119                        		__lsr.wi	1
         1E:C415  42         			say
         1E:C416  4A         			lsr	a
         1E:C417  42         			say
         1E:C418  6A         			ror	a
16120                        		__st.wmq	_ax
         1E:C419  85 F8      			sta.l	_ax
         1E:C41B  84 F9      			sty.h	_ax
16121                        		 _load_vram.3
         1E:C41D  82         			clx				; Offset to PCE VDC.
         1E:C41E  20 1D FF   			call	load_vram_x
16122                        	
16123                        		.dbg	line,	"include\routines_SHOP.c", 239; zenny_amount -= shop_prices[6];
16124                        		__ld.wm		_shop_prices + 12
         1E:C421  AD 4B 26   			lda.l	_shop_prices + 12
         1E:C424  AC 4C 26   			ldy.h	_shop_prices + 12
16125                        		__isub_st.wmq	_zenny_amount
         1E:C427  38         			sec
         1E:C428  49 FF      			eor	#$FF
         1E:C42A  6D 3B 26   			adc.l	_zenny_amount
         1E:C42D  8D 3B 26   			sta.l	_zenny_amount
         1E:C430  98         			tya
         1E:C431  49 FF      			eor	#$FF
         1E:C433  6D 3C 26   			adc.h	_zenny_amount
         1E:C436  8D 3C 26   			sta.h	_zenny_amount
16126                        	
16127                        		.dbg	line,	"include\routines_SHOP.c", 240; display_ZENNY();
16128                        		__call		_display_ZENNY
         1E:C439  20 13 FF   			call	_display_ZENNY
16129                        	
16130                        		.dbg	line,	"include\routines_SHOP.c", 241; }
16131                        	
16132                        		.dbg	line,	"include\routines_SHOP.c", 242; }
16133    1E:C43C             	.LL803	.alias		.LL783
16134                        	
16135                        		.dbg	line,	"include\routines_SHOP.c", 244; break;    
16136    1E:C43C             	.LL802	.alias		.LL783
16137                        		__bra		.LL783
         1E:C43C  4C 7D C5   			bra	.LL783
16138                        	
16139                        		.dbg	line,	"include\routines_SHOP.c", 247; // ARMOR 4 //
16140                        	
16141                        		.dbg	line,	"include\routines_SHOP.c", 248; case 7:
16142    1E:C43F             	.LL804:
16143                        		__case		7
16144                        	
16145                        		.dbg	line,	"include\routines_SHOP.c", 249; if(zenny_amount >= shop_prices[7])
16146                        		__ld.wm		_zenny_amount
         1E:C43F  AD 3B 26   			lda.l	_zenny_amount
         1E:C442  AC 3C 26   			ldy.h	_zenny_amount
16147                        		__sge_w.wm	_shop_prices + 14
         1E:C445  CD 4D 26   			cmp.l	_shop_prices + 14		; Subtract memory from Y:A.
         1E:C448  98         			tya
         1E:C449  ED 4E 26   			sbc.h	_shop_prices + 14
         1E:C44C  50 02      			bvc	!+
         1E:C44E  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:C450  49 80      	!:		eor	#$80
         1E:C452  0A         			asl	a
16148                        		__bfalse	.LL805
         1E:C453  B0 03 4C 7D			bcc	.LL805
         1E:C457  C5          
16149                        	
16150                        		.dbg	line,	"include\routines_SHOP.c", 250; {
16151                        	
16152                        		.dbg	line,	"include\routines_SHOP.c", 251; if(armor_level < 5)
16153                        		__ld.umq	_armor_level
         1E:C458  AD 27 23   			lda	_armor_level
16154                        		__ult_b.uiq	5
         1E:C45B  C9 05      			cmp	#5		; Subtract integer from A.
         1E:C45D  6A         			ror	a		; CC if A < integer.
         1E:C45E  49 80      			eor	#$80
         1E:C460  2A         			rol	a
16155                        		__bfalse	.LL806
         1E:C461  B0 03 4C 7D			bcc	.LL806
         1E:C465  C5          
16156                        	
16157                        		.dbg	line,	"include\routines_SHOP.c", 252; {
16158                        	
16159                        		.dbg	line,	"include\routines_SHOP.c", 253; armor_level = 5;
16160                        		__st.umiq	5, _armor_level
         1E:C466  A9 05      			lda.l	#5
         1E:C468  8D 27 23   			sta	_armor_level
16161                        	
16162                        		.dbg	line,	"include\routines_SHOP.c", 254; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_4, SIZEOF(tileset_ARMOR_4) >> 1 );
16163                        		__st.wmiq	4320, _di
         1E:C46B  A9 E0      			lda.l	#4320
         1E:C46D  85 F0      			sta.l	_di
         1E:C46F  A9 10      			lda.h	#4320
         1E:C471  85 F1      			sta.h	_di
16164                        		__farptr	_tileset_ARMOR_4, _bp_bank, _bp
         1E:C473  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_4))
         1E:C475  85 EC      			sta.l	_bp
         1E:C477  A9 72      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_4))
         1E:C479  85 ED      			sta.h	_bp
         1E:C47B  A9 07      			lda	#bank(_tileset_ARMOR_4)
         1E:C47D  85 02      			sta	_bp_bank
16165                        		__ld.wi		___sizeof__tileset_ARMOR_4
         1E:C47F  A9 80      			lda.l	#___sizeof__tileset_ARMOR_4
         1E:C481  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_4
16166                        		__lsr.wi	1
         1E:C483  42         			say
         1E:C484  4A         			lsr	a
         1E:C485  42         			say
         1E:C486  6A         			ror	a
16167                        		__st.wmq	_ax
         1E:C487  85 F8      			sta.l	_ax
         1E:C489  84 F9      			sty.h	_ax
16168                        		 _load_vram.3
         1E:C48B  82         			clx				; Offset to PCE VDC.
         1E:C48C  20 1D FF   			call	load_vram_x
16169                        	
16170                        		.dbg	line,	"include\routines_SHOP.c", 256; zenny_amount -= shop_prices[7];
16171                        		__ld.wm		_shop_prices + 14
         1E:C48F  AD 4D 26   			lda.l	_shop_prices + 14
         1E:C492  AC 4E 26   			ldy.h	_shop_prices + 14
16172                        		__isub_st.wmq	_zenny_amount
         1E:C495  38         			sec
         1E:C496  49 FF      			eor	#$FF
         1E:C498  6D 3B 26   			adc.l	_zenny_amount
         1E:C49B  8D 3B 26   			sta.l	_zenny_amount
         1E:C49E  98         			tya
         1E:C49F  49 FF      			eor	#$FF
         1E:C4A1  6D 3C 26   			adc.h	_zenny_amount
         1E:C4A4  8D 3C 26   			sta.h	_zenny_amount
16173                        	
16174                        		.dbg	line,	"include\routines_SHOP.c", 257; display_ZENNY();
16175                        		__call		_display_ZENNY
         1E:C4A7  20 13 FF   			call	_display_ZENNY
16176                        	
16177                        		.dbg	line,	"include\routines_SHOP.c", 258; }
16178                        	
16179                        		.dbg	line,	"include\routines_SHOP.c", 259; }
16180    1E:C4AA             	.LL806	.alias		.LL783
16181                        	
16182                        		.dbg	line,	"include\routines_SHOP.c", 261; break;   
16183    1E:C4AA             	.LL805	.alias		.LL783
16184                        		__bra		.LL783
         1E:C4AA  4C 7D C5   			bra	.LL783
16185                        	
16186                        		.dbg	line,	"include\routines_SHOP.c", 264; // ARMOR 8 //
16187                        	
16188                        		.dbg	line,	"include\routines_SHOP.c", 265; case 8:
16189    1E:C4AD             	.LL807:
16190                        		__case		8
16191                        	
16192                        		.dbg	line,	"include\routines_SHOP.c", 266; if(zenny_amount >= shop_prices[8])
16193                        		__ld.wm		_zenny_amount
         1E:C4AD  AD 3B 26   			lda.l	_zenny_amount
         1E:C4B0  AC 3C 26   			ldy.h	_zenny_amount
16194                        		__sge_w.wm	_shop_prices + 16
         1E:C4B3  CD 4F 26   			cmp.l	_shop_prices + 16		; Subtract memory from Y:A.
         1E:C4B6  98         			tya
         1E:C4B7  ED 50 26   			sbc.h	_shop_prices + 16
         1E:C4BA  50 02      			bvc	!+
         1E:C4BC  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:C4BE  49 80      	!:		eor	#$80
         1E:C4C0  0A         			asl	a
16195                        		__bfalse	.LL808
         1E:C4C1  B0 03 4C 7D			bcc	.LL808
         1E:C4C5  C5          
16196                        	
16197                        		.dbg	line,	"include\routines_SHOP.c", 267; {
16198                        	
16199                        		.dbg	line,	"include\routines_SHOP.c", 268; if(armor_level < 8)
16200                        		__ld.umq	_armor_level
         1E:C4C6  AD 27 23   			lda	_armor_level
16201                        		__ult_b.uiq	8
         1E:C4C9  C9 08      			cmp	#8		; Subtract integer from A.
         1E:C4CB  6A         			ror	a		; CC if A < integer.
         1E:C4CC  49 80      			eor	#$80
         1E:C4CE  2A         			rol	a
16202                        		__bfalse	.LL809
         1E:C4CF  B0 03 4C 7D			bcc	.LL809
         1E:C4D3  C5          
16203                        	
16204                        		.dbg	line,	"include\routines_SHOP.c", 269; {
16205                        	
16206                        		.dbg	line,	"include\routines_SHOP.c", 270; armor_level = 8;
16207                        		__st.umiq	8, _armor_level
         1E:C4D4  A9 08      			lda.l	#8
         1E:C4D6  8D 27 23   			sta	_armor_level
16208                        	
16209                        		.dbg	line,	"include\routines_SHOP.c", 271; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_8, SIZEOF(tileset_ARMOR_8) >> 1 );
16210                        		__st.wmiq	4320, _di
         1E:C4D9  A9 E0      			lda.l	#4320
         1E:C4DB  85 F0      			sta.l	_di
         1E:C4DD  A9 10      			lda.h	#4320
         1E:C4DF  85 F1      			sta.h	_di
16211                        		__farptr	_tileset_ARMOR_8, _bp_bank, _bp
         1E:C4E1  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_8))
         1E:C4E3  85 EC      			sta.l	_bp
         1E:C4E5  A9 73      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_8))
         1E:C4E7  85 ED      			sta.h	_bp
         1E:C4E9  A9 07      			lda	#bank(_tileset_ARMOR_8)
         1E:C4EB  85 02      			sta	_bp_bank
16212                        		__ld.wi		___sizeof__tileset_ARMOR_8
         1E:C4ED  A9 80      			lda.l	#___sizeof__tileset_ARMOR_8
         1E:C4EF  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_8
16213                        		__lsr.wi	1
         1E:C4F1  42         			say
         1E:C4F2  4A         			lsr	a
         1E:C4F3  42         			say
         1E:C4F4  6A         			ror	a
16214                        		__st.wmq	_ax
         1E:C4F5  85 F8      			sta.l	_ax
         1E:C4F7  84 F9      			sty.h	_ax
16215                        		 _load_vram.3
         1E:C4F9  82         			clx				; Offset to PCE VDC.
         1E:C4FA  20 1D FF   			call	load_vram_x
16216                        	
16217                        		.dbg	line,	"include\routines_SHOP.c", 273; zenny_amount -= shop_prices[8];
16218                        		__ld.wm		_shop_prices + 16
         1E:C4FD  AD 4F 26   			lda.l	_shop_prices + 16
         1E:C500  AC 50 26   			ldy.h	_shop_prices + 16
16219                        		__isub_st.wmq	_zenny_amount
         1E:C503  38         			sec
         1E:C504  49 FF      			eor	#$FF
         1E:C506  6D 3B 26   			adc.l	_zenny_amount
         1E:C509  8D 3B 26   			sta.l	_zenny_amount
         1E:C50C  98         			tya
         1E:C50D  49 FF      			eor	#$FF
         1E:C50F  6D 3C 26   			adc.h	_zenny_amount
         1E:C512  8D 3C 26   			sta.h	_zenny_amount
16220                        	
16221                        		.dbg	line,	"include\routines_SHOP.c", 274; display_ZENNY();
16222                        		__call		_display_ZENNY
         1E:C515  20 13 FF   			call	_display_ZENNY
16223                        	
16224                        		.dbg	line,	"include\routines_SHOP.c", 275; }
16225                        	
16226                        		.dbg	line,	"include\routines_SHOP.c", 276; }
16227    1E:C518             	.LL809	.alias		.LL783
16228                        	
16229                        		.dbg	line,	"include\routines_SHOP.c", 278; break;   
16230    1E:C518             	.LL808	.alias		.LL783
16231                        		__bra		.LL783
         1E:C518  80 63      			bra	.LL783
16232                        	
16233                        		.dbg	line,	"include\routines_SHOP.c", 281; // POTION //
16234                        	
16235                        		.dbg	line,	"include\routines_SHOP.c", 282; case 9:
16236    1E:C51A             	.LL810:
16237                        		__case		9
16238                        	
16239                        		.dbg	line,	"include\routines_SHOP.c", 283; if(zenny_amount >= shop_prices[9])
16240                        		__ld.wm		_zenny_amount
         1E:C51A  AD 3B 26   			lda.l	_zenny_amount
         1E:C51D  AC 3C 26   			ldy.h	_zenny_amount
16241                        		__sge_w.wm	_shop_prices + 18
         1E:C520  CD 51 26   			cmp.l	_shop_prices + 18		; Subtract memory from Y:A.
         1E:C523  98         			tya
         1E:C524  ED 52 26   			sbc.h	_shop_prices + 18
         1E:C527  50 02      			bvc	!+
         1E:C529  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:C52B  49 80      	!:		eor	#$80
         1E:C52D  0A         			asl	a
16242                        		__bfalse	.LL811
         1E:C52E  90 4D      			bcc	.LL811
16243                        	
16244                        		.dbg	line,	"include\routines_SHOP.c", 284; {
16245                        	
16246                        		.dbg	line,	"include\routines_SHOP.c", 285; potion_amount += 1;
16247                        		__add_st.umiq	1, _potion_amount
         1E:C530  EE 2F 23   			inc	_potion_amount
16248                        	
16249                        		.dbg	line,	"include\routines_SHOP.c", 287; zenny_amount -= shop_prices[9];
16250                        		__ld.wm		_shop_prices + 18
         1E:C533  AD 51 26   			lda.l	_shop_prices + 18
         1E:C536  AC 52 26   			ldy.h	_shop_prices + 18
16251                        		__isub_st.wmq	_zenny_amount
         1E:C539  38         			sec
         1E:C53A  49 FF      			eor	#$FF
         1E:C53C  6D 3B 26   			adc.l	_zenny_amount
         1E:C53F  8D 3B 26   			sta.l	_zenny_amount
         1E:C542  98         			tya
         1E:C543  49 FF      			eor	#$FF
         1E:C545  6D 3C 26   			adc.h	_zenny_amount
         1E:C548  8D 3C 26   			sta.h	_zenny_amount
16252                        	
16253                        		.dbg	line,	"include\routines_SHOP.c", 288; display_POTION();
16254                        		__call		_display_POTION
         1E:C54B  20 09 FF   			call	_display_POTION
16255                        	
16256                        		.dbg	line,	"include\routines_SHOP.c", 289; }
16257                        	
16258                        		.dbg	line,	"include\routines_SHOP.c", 291; break;   
16259    1E:C54E             	.LL811	.alias		.LL783
16260                        		__bra		.LL783
         1E:C54E  80 2D      			bra	.LL783
16261                        	
16262                        		.dbg	line,	"include\routines_SHOP.c", 294; // EXIT //
16263                        	
16264                        		.dbg	line,	"include\routines_SHOP.c", 295; case 10:
16265    1E:C550             	.LL812:
16266                        		__case		10
16267                        	
16268                        		.dbg	line,	"include\routines_SHOP.c", 296; shop_counter = 0;    
16269                        		__st.umiq	0, _shop_counter
         1E:C550  9C D9 23   			stz	_shop_counter
16270                        	
16271                        		.dbg	line,	"include\routines_SHOP.c", 297; shop_phase = SHOP_PHASE_EXIT;
16272                        		__st.umiq	2, _shop_phase
         1E:C553  A9 02      			lda.l	#2
         1E:C555  8D D8 23   			sta	_shop_phase
16273                        	
16274                        		.dbg	line,	"include\routines_SHOP.c", 299; break;                  
16275                        		__bra		.LL783
         1E:C558  80 23      			bra	.LL783
16276                        	
16277                        		.dbg	line,	"include\routines_SHOP.c", 300; }
16278    1E:C55A             	.LL782:
16279                        		__switch_r.ur	0, 10
         1E:C55A  C9 0B      			cmp	#(10 - 0) + 1
         1E:C55C  90 02      			bcc	!found+
         1E:C55E  A9 0B      	!default:	lda	#(10 - 0) + 1
         1E:C560  0A         	!found:		asl	a
         1E:C561  AA         			tax
         1E:C562  7C 65 C5   			jmp	[!table+, x]
16280                        	
16281    1E:C565  71 C1      	!table:		dw	.LL784, .LL787, .LL790, .LL793, .LL796, .LL798, .LL801, .LL804
         1E:C567  DF C1       
         1E:C569  4D C2       
         1E:C56B  BB C2       
         1E:C56D  29 C3       
         1E:C56F  63 C3       
         1E:C571  D1 C3       
         1E:C573  3F C4       
16282    1E:C575  AD C4      			dw	.LL807, .LL810, .LL812
         1E:C577  1A C5       
         1E:C579  50 C5       
16283    1E:C57B  7D C5      			dw	.LL783
16284    1E:C57D             	.LL783:
16285                        	
16286                        		.dbg	line,	"include\routines_SHOP.c", 301; }
16287                        	
16288                        		.dbg	line,	"include\routines_SHOP.c", 302; }
16289    1E:C57D             	.LL781:
16290    1E:C57D             	.LL780:
16291    1E:C57D             	.LL777:
16292    1E:C57D             	.LL773:
16293    1E:C57D             	.LL770:
16294    1E:C57D             	.LL765:
16295                        		__return	0
         1E:C57D  4C EF FF   			jmp	leave_proc
16296                        		.dbg	clear
16297                        		.endp
16298               6B40     		.data
16299               230F     		.bss
16300    F8:230F             	__joypad_BUTTONS_SHOP_loc:
16301    F8:230F             			ds	1
16302    F8:2310             	__joypad_BUTTONS_SHOP_end:
16303               E309     		.code
16304                        		.pceas
16305                        	
16306                        		.dbg	line,	"main.c", 28; #include "include/routines_TITLE.c"
16307                        		.dbg	line,	"include\routines_TITLE.c", 1; #include "huc.h"
16308                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
16309                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
16310                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
16311                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
16312                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
16313                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
16314                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
16315                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
16316                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
16317                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
16318                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
16319                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
16320                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
16321                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
16322                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
16323                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
16324                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
16325                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
16326                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
16327                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
16328                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
16329                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
16330                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
16331                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
16332                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
16333                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
16334                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
16335                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
16336                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
16337                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
16338                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
16339                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
16340                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
16341                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-string.h"
16342                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-scroll.h"
16343                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-spr.h"
16344                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-map.h"
16345                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 40; #include "hucc-old-line.h"
16346                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #endif // _hucc_legacy_h
16347                        		.dbg	line,	"include\routines_TITLE.c", 2; #include "hucc-scroll.h"
16348                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
16349                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
16350                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
16351                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
16352                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
16353                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
16354                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
16355                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
16356                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
16357                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
16358                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
16359                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
16360                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
16361                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
16362                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
16363                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
16364                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
16365                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
16366                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
16367                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
16368                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
16369                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
16370                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
16371                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
16372                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
16373                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
16374                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
16375                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
16376                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
16377                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
16378                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
16379                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
16380                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
16381                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
16382                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
16383                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
16384                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
16385                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
16386                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
16387                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
16388                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
16389                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
16390                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
16391                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
16392                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
16393                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
16394                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
16395                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
16396                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
16397                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
16398                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
16399                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
16400                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
16401                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
16402                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
16403                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
16404                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
16405                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
16406                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
16407                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
16408                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
16409                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
16410                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
16411                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
16412                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
16413                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
16414                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
16415                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
16416                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
16417                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
16418                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
16419                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
16420                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
16421                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
16422                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
16423                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
16424                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
16425                        		.dbg	line,	"include\routines_TITLE.c", 3; #include "hucc-chrmap.h"
16426                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
16427                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
16428                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
16429                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
16430                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
16431                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
16432                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
16433                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
16434                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
16435                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
16436                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
16437                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
16438                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
16439                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
16440                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
16441                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
16442                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
16443                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
16444                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
16445                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
16446                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
16447                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
16448                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
16449                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
16450                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
16451                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
16452                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
16453                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
16454                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
16455                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
16456                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
16457                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
16458                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
16459                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
16460                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
16461                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
16462                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
16463                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
16464                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
16465                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
16466                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
16467                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
16468                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
16469                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
16470                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
16471                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
16472                        		.dbg	line,	"include\routines_TITLE.c", 4; #include "hucc-blkmap.h"
16473                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
16474                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
16475                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
16476                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
16477                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
16478                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
16479                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
16480                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
16481                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
16482                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
16483                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
16484                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
16485                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
16486                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
16487                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
16488                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
16489                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
16490                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
16491                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
16492                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
16493                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
16494                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
16495                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
16496                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
16497                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
16498                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
16499                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
16500                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
16501                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
16502                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
16503                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
16504                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
16505                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
16506                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
16507                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
16508                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
16509                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
16510                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
16511                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
16512                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
16513                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
16514                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
16515                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
16516                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
16517                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
16518                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
16519                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
16520                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
16521                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
16522                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
16523                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
16524                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
16525                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
16526                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
16527                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
16528                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
16529                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
16530                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
16531                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
16532                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
16533                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
16534                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
16535                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
16536                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
16537                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
16538                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
16539                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
16540                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
16541                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
16542                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
16543                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
16544                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
16545                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
16546                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
16547                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
16548                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
16549                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
16550                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
16551                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
16552                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
16553                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
16554                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
16555                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
16556                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
16557                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
16558                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
16559                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
16560                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
16561                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
16562                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
16563                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
16564                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
16565                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
16566                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
16567                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
16568                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
16569                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
16570                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
16571                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
16572                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
16573                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
16574                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
16575                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
16576                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
16577                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
16578                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
16579                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
16580                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
16581                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
16582                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
16583                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
16584                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
16585                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
16586                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
16587                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
16588                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
16589                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
16590                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
16591                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
16592                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
16593                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
16594                        		.dbg	line,	"include\routines_TITLE.c", 12; void joypad_BUTTONS_TITLE()
16595                        		.dbg	line,	"include\routines_TITLE.c", 13; {
16596                        	;***********************
16597                        	;***********************
16598                        	
16599                        		.hucc
16600    1E:D256             		.proc		_joypad_BUTTONS_TITLE
16601                        		__enter		_joypad_BUTTONS_TITLE
16602                        	
16603                        		.dbg	line,	"include\routines_TITLE.c", 14; int selector_pos;
16604                        	
16605                        		.dbg	line,	"include\routines_TITLE.c", 15; 
16606                        	
16607                        		.dbg	line,	"include\routines_TITLE.c", 16; if(joytrg(JOYPAD_1) & JOY_RIGHT)
16608                        		__ld.uiq	0
         1E:D256  62         			cla
16609                        		 _joytrg.1
         1E:D257  AA         			tax
         1E:D258  BD 2D 22   			lda	joytrg, x
         1E:D25B  BC DD 22   			ldy	joy6trg, x
16610                        		__tand.wi	32
         1E:D25E  29 20      			and	#32
         1E:D260  C9 01      	!:		cmp	#1
16611                        		__bfalse	.LL814
         1E:D262  B0 03 4C EF			bcc	.LL814
         1E:D266  D2          
16612                        	
16613                        		.dbg	line,	"include\routines_TITLE.c", 17; {   
16614                        	
16615                        		.dbg	line,	"include\routines_TITLE.c", 18; spr_set(0);
16616                        		__ld.uiq	0
         1E:D267  62         			cla
16617                        		__call		_spr_set.1
         1E:D268  20 DD E7   			call	_spr_set.1
16618                        	
16619                        		.dbg	line,	"include\routines_TITLE.c", 19; selector_pos = spr_get_y();
16620                        		__call		_spr_get_y
         1E:D26B  20 7B E8   			call	_spr_get_y
16621                        		__st.wmq	__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D26E  8D 78 26   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D271  8C 79 26   			sty.h	__joypad_BUTTONS_TITLE_end - 2
16622                        	
16623                        		.dbg	line,	"include\routines_TITLE.c", 21; if(selector_pos == 160)
16624                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D274  AD 78 26   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D277  AC 79 26   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
16625                        		__equ_w.wi	160
         1E:D27A  C9 A0      			cmp.l	#160
         1E:D27C  D0 04      			bne	!false+
         1E:D27E  C0 00      			cpy.h	#160
         1E:D280  F0 01      			beq	!+
         1E:D282  18         	!false:		clc
         1E:D283             	!:
16626                        		__bfalse	.LL815
         1E:D283  90 2B      			bcc	.LL815
16627                        	
16628                        		.dbg	line,	"include\routines_TITLE.c", 22; {
16629                        	
16630                        		.dbg	line,	"include\routines_TITLE.c", 23; if(life_amount < 9)
16631                        		__ld.umq	_life_amount
         1E:D285  AD 2C 23   			lda	_life_amount
16632                        		__ult_b.uiq	9
         1E:D288  C9 09      			cmp	#9		; Subtract integer from A.
         1E:D28A  6A         			ror	a		; CC if A < integer.
         1E:D28B  49 80      			eor	#$80
         1E:D28D  2A         			rol	a
16633                        		__bfalse	.LL816
         1E:D28E  B0 03 4C A0			bcc	.LL816
         1E:D292  D4          
16634                        	
16635                        		.dbg	line,	"include\routines_TITLE.c", 24; {
16636                        	
16637                        		.dbg	line,	"include\routines_TITLE.c", 25; life_amount += 1;
16638                        		__add_st.umiq	1, _life_amount
         1E:D293  EE 2C 23   			inc	_life_amount
16639                        	
16640                        		.dbg	line,	"include\routines_TITLE.c", 26; put_number(life_amount   	,  1 , 20 , 20);
16641                        		__ld.um		_life_amount
         1E:D296  AD 2C 23   			lda	_life_amount
         1E:D299  C2         			cly
16642                        		__st.wmq	_bx
         1E:D29A  85 FA      			sta.l	_bx
         1E:D29C  84 FB      			sty.h	_bx
16643                        		__st.umiq	1, _cl
         1E:D29E  A9 01      			lda.l	#1
         1E:D2A0  85 FC      			sta	_cl
16644                        		__st.umiq	20, _dil
         1E:D2A2  A9 14      			lda.l	#20
         1E:D2A4  85 F0      			sta	_dil
16645                        		__st.umiq	20, _dih
         1E:D2A6  A9 14      			lda.l	#20
         1E:D2A8  85 F1      			sta	_dih
16646                        		__call		_put_number.4
         1E:D2AA  20 6D FF   			call	_put_number.4
16647                        	
16648                        		.dbg	line,	"include\routines_TITLE.c", 27; }
16649                        	
16650                        		.dbg	line,	"include\routines_TITLE.c", 28; }
16651    1E:D2AD             	.LL816	.alias		.LL817
16652                        	
16653                        		.dbg	line,	"include\routines_TITLE.c", 30; else if(selector_pos == 168)
16654                        		__bra		.LL817
         1E:D2AD  4C A0 D4   			bra	.LL817
16655    1E:D2B0             	.LL815:
16656                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D2B0  AD 78 26   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D2B3  AC 79 26   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
16657                        		__equ_w.wi	168
         1E:D2B6  C9 A8      			cmp.l	#168
         1E:D2B8  D0 04      			bne	!false+
         1E:D2BA  C0 00      			cpy.h	#168
         1E:D2BC  F0 01      			beq	!+
         1E:D2BE  18         	!false:		clc
         1E:D2BF             	!:
16658                        		__bfalse	.LL818
         1E:D2BF  B0 03 4C A0			bcc	.LL818
         1E:D2C3  D4          
16659                        	
16660                        		.dbg	line,	"include\routines_TITLE.c", 31; {
16661                        	
16662                        		.dbg	line,	"include\routines_TITLE.c", 32; if(credits_amount < 5)
16663                        		__ld.umq	_credits_amount
         1E:D2C4  AD 2D 23   			lda	_credits_amount
16664                        		__ult_b.uiq	5
         1E:D2C7  C9 05      			cmp	#5		; Subtract integer from A.
         1E:D2C9  6A         			ror	a		; CC if A < integer.
         1E:D2CA  49 80      			eor	#$80
         1E:D2CC  2A         			rol	a
16665                        		__bfalse	.LL819
         1E:D2CD  B0 03 4C A0			bcc	.LL819
         1E:D2D1  D4          
16666                        	
16667                        		.dbg	line,	"include\routines_TITLE.c", 33; {
16668                        	
16669                        		.dbg	line,	"include\routines_TITLE.c", 34; credits_amount += 1;
16670                        		__add_st.umiq	1, _credits_amount
         1E:D2D2  EE 2D 23   			inc	_credits_amount
16671                        	
16672                        		.dbg	line,	"include\routines_TITLE.c", 35; put_number(credits_amount   ,  1 , 20 , 21);
16673                        		__ld.um		_credits_amount
         1E:D2D5  AD 2D 23   			lda	_credits_amount
         1E:D2D8  C2         			cly
16674                        		__st.wmq	_bx
         1E:D2D9  85 FA      			sta.l	_bx
         1E:D2DB  84 FB      			sty.h	_bx
16675                        		__st.umiq	1, _cl
         1E:D2DD  A9 01      			lda.l	#1
         1E:D2DF  85 FC      			sta	_cl
16676                        		__st.umiq	20, _dil
         1E:D2E1  A9 14      			lda.l	#20
         1E:D2E3  85 F0      			sta	_dil
16677                        		__st.umiq	21, _dih
         1E:D2E5  A9 15      			lda.l	#21
         1E:D2E7  85 F1      			sta	_dih
16678                        		__call		_put_number.4
         1E:D2E9  20 6D FF   			call	_put_number.4
16679                        	
16680                        		.dbg	line,	"include\routines_TITLE.c", 36; }
16681                        	
16682                        		.dbg	line,	"include\routines_TITLE.c", 37; }
16683    1E:D2EC             	.LL819	.alias		.LL820
16684                        	
16685                        		.dbg	line,	"include\routines_TITLE.c", 38; }
16686    1E:D2EC             	.LL818	.alias		.LL820
16687    1E:D2EC             	.LL817	.alias		.LL820
16688                        	
16689                        		.dbg	line,	"include\routines_TITLE.c", 40; 
16690                        	
16691                        		.dbg	line,	"include\routines_TITLE.c", 41; else if(joytrg(JOYPAD_1) & JOY_LEFT)
16692                        		__bra		.LL820
         1E:D2EC  4C A0 D4   			bra	.LL820
16693    1E:D2EF             	.LL814:
16694                        		__ld.uiq	0
         1E:D2EF  62         			cla
16695                        		 _joytrg.1
         1E:D2F0  AA         			tax
         1E:D2F1  BD 2D 22   			lda	joytrg, x
         1E:D2F4  BC DD 22   			ldy	joy6trg, x
16696                        		__tand.wi	128
         1E:D2F7  29 80      			and	#128
         1E:D2F9  C9 01      	!:		cmp	#1
16697                        		__bfalse	.LL821
         1E:D2FB  B0 03 4C 82			bcc	.LL821
         1E:D2FF  D3          
16698                        	
16699                        		.dbg	line,	"include\routines_TITLE.c", 42; {
16700                        	
16701                        		.dbg	line,	"include\routines_TITLE.c", 43; spr_set(0);
16702                        		__ld.uiq	0
         1E:D300  62         			cla
16703                        		__call		_spr_set.1
         1E:D301  20 DD E7   			call	_spr_set.1
16704                        	
16705                        		.dbg	line,	"include\routines_TITLE.c", 44; selector_pos = spr_get_y();
16706                        		__call		_spr_get_y
         1E:D304  20 7B E8   			call	_spr_get_y
16707                        		__st.wmq	__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D307  8D 78 26   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D30A  8C 79 26   			sty.h	__joypad_BUTTONS_TITLE_end - 2
16708                        	
16709                        		.dbg	line,	"include\routines_TITLE.c", 46; if(selector_pos == 160)
16710                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D30D  AD 78 26   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D310  AC 79 26   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
16711                        		__equ_w.wi	160
         1E:D313  C9 A0      			cmp.l	#160
         1E:D315  D0 04      			bne	!false+
         1E:D317  C0 00      			cpy.h	#160
         1E:D319  F0 01      			beq	!+
         1E:D31B  18         	!false:		clc
         1E:D31C             	!:
16712                        		__bfalse	.LL822
         1E:D31C  90 28      			bcc	.LL822
16713                        	
16714                        		.dbg	line,	"include\routines_TITLE.c", 47; {
16715                        	
16716                        		.dbg	line,	"include\routines_TITLE.c", 48; if(life_amount > 3)
16717                        		__ld.umq	_life_amount
         1E:D31E  AD 2C 23   			lda	_life_amount
16718                        		__ugt_b.uiq	3
         1E:D321  18         			clc			; Subtract integer+1 from A.
         1E:D322  E9 03      			sbc	#3		; CS if A > integer.
16719                        		__bfalse	.LL823
         1E:D324  B0 03 4C A0			bcc	.LL823
         1E:D328  D4          
16720                        	
16721                        		.dbg	line,	"include\routines_TITLE.c", 49; {
16722                        	
16723                        		.dbg	line,	"include\routines_TITLE.c", 50; life_amount -= 1;
16724                        		__sub_st.umiq	1, _life_amount
         1E:D329  CE 2C 23   			dec	_life_amount
16725                        	
16726                        		.dbg	line,	"include\routines_TITLE.c", 51; put_number(life_amount   	,  1 , 20 , 20);
16727                        		__ld.um		_life_amount
         1E:D32C  AD 2C 23   			lda	_life_amount
         1E:D32F  C2         			cly
16728                        		__st.wmq	_bx
         1E:D330  85 FA      			sta.l	_bx
         1E:D332  84 FB      			sty.h	_bx
16729                        		__st.umiq	1, _cl
         1E:D334  A9 01      			lda.l	#1
         1E:D336  85 FC      			sta	_cl
16730                        		__st.umiq	20, _dil
         1E:D338  A9 14      			lda.l	#20
         1E:D33A  85 F0      			sta	_dil
16731                        		__st.umiq	20, _dih
         1E:D33C  A9 14      			lda.l	#20
         1E:D33E  85 F1      			sta	_dih
16732                        		__call		_put_number.4
         1E:D340  20 6D FF   			call	_put_number.4
16733                        	
16734                        		.dbg	line,	"include\routines_TITLE.c", 52; }
16735                        	
16736                        		.dbg	line,	"include\routines_TITLE.c", 53; }
16737    1E:D343             	.LL823	.alias		.LL824
16738                        	
16739                        		.dbg	line,	"include\routines_TITLE.c", 55; else if(selector_pos == 168)
16740                        		__bra		.LL824
         1E:D343  4C A0 D4   			bra	.LL824
16741    1E:D346             	.LL822:
16742                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D346  AD 78 26   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D349  AC 79 26   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
16743                        		__equ_w.wi	168
         1E:D34C  C9 A8      			cmp.l	#168
         1E:D34E  D0 04      			bne	!false+
         1E:D350  C0 00      			cpy.h	#168
         1E:D352  F0 01      			beq	!+
         1E:D354  18         	!false:		clc
         1E:D355             	!:
16744                        		__bfalse	.LL825
         1E:D355  B0 03 4C A0			bcc	.LL825
         1E:D359  D4          
16745                        	
16746                        		.dbg	line,	"include\routines_TITLE.c", 56; {
16747                        	
16748                        		.dbg	line,	"include\routines_TITLE.c", 57; if(credits_amount > 2)
16749                        		__ld.umq	_credits_amount
         1E:D35A  AD 2D 23   			lda	_credits_amount
16750                        		__ugt_b.uiq	2
         1E:D35D  18         			clc			; Subtract integer+1 from A.
         1E:D35E  E9 02      			sbc	#2		; CS if A > integer.
16751                        		__bfalse	.LL826
         1E:D360  B0 03 4C A0			bcc	.LL826
         1E:D364  D4          
16752                        	
16753                        		.dbg	line,	"include\routines_TITLE.c", 58; {
16754                        	
16755                        		.dbg	line,	"include\routines_TITLE.c", 59; credits_amount -= 1;
16756                        		__sub_st.umiq	1, _credits_amount
         1E:D365  CE 2D 23   			dec	_credits_amount
16757                        	
16758                        		.dbg	line,	"include\routines_TITLE.c", 60; put_number(credits_amount   ,  1 , 20 , 21);
16759                        		__ld.um		_credits_amount
         1E:D368  AD 2D 23   			lda	_credits_amount
         1E:D36B  C2         			cly
16760                        		__st.wmq	_bx
         1E:D36C  85 FA      			sta.l	_bx
         1E:D36E  84 FB      			sty.h	_bx
16761                        		__st.umiq	1, _cl
         1E:D370  A9 01      			lda.l	#1
         1E:D372  85 FC      			sta	_cl
16762                        		__st.umiq	20, _dil
         1E:D374  A9 14      			lda.l	#20
         1E:D376  85 F0      			sta	_dil
16763                        		__st.umiq	21, _dih
         1E:D378  A9 15      			lda.l	#21
         1E:D37A  85 F1      			sta	_dih
16764                        		__call		_put_number.4
         1E:D37C  20 6D FF   			call	_put_number.4
16765                        	
16766                        		.dbg	line,	"include\routines_TITLE.c", 61; }
16767                        	
16768                        		.dbg	line,	"include\routines_TITLE.c", 62; }
16769    1E:D37F             	.LL826	.alias		.LL827
16770                        	
16771                        		.dbg	line,	"include\routines_TITLE.c", 63; }
16772    1E:D37F             	.LL825	.alias		.LL827
16773    1E:D37F             	.LL824	.alias		.LL827
16774                        	
16775                        		.dbg	line,	"include\routines_TITLE.c", 66; else if(joytrg(JOYPAD_1) & JOY_UP)
16776                        		__bra		.LL827
         1E:D37F  4C A0 D4   			bra	.LL827
16777    1E:D382             	.LL821:
16778                        		__ld.uiq	0
         1E:D382  62         			cla
16779                        		 _joytrg.1
         1E:D383  AA         			tax
         1E:D384  BD 2D 22   			lda	joytrg, x
         1E:D387  BC DD 22   			ldy	joy6trg, x
16780                        		__tand.wi	16
         1E:D38A  29 10      			and	#16
         1E:D38C  C9 01      	!:		cmp	#1
16781                        		__bfalse	.LL828
         1E:D38E  90 5A      			bcc	.LL828
16782                        	
16783                        		.dbg	line,	"include\routines_TITLE.c", 67; {
16784                        	
16785                        		.dbg	line,	"include\routines_TITLE.c", 68; spr_set(0);
16786                        		__ld.uiq	0
         1E:D390  62         			cla
16787                        		__call		_spr_set.1
         1E:D391  20 DD E7   			call	_spr_set.1
16788                        	
16789                        		.dbg	line,	"include\routines_TITLE.c", 69; selector_pos = spr_get_y();
16790                        		__call		_spr_get_y
         1E:D394  20 7B E8   			call	_spr_get_y
16791                        		__st.wmq	__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D397  8D 78 26   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D39A  8C 79 26   			sty.h	__joypad_BUTTONS_TITLE_end - 2
16792                        	
16793                        		.dbg	line,	"include\routines_TITLE.c", 71; if(selector_pos == 160)
16794                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D39D  AD 78 26   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D3A0  AC 79 26   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
16795                        		__equ_w.wi	160
         1E:D3A3  C9 A0      			cmp.l	#160
         1E:D3A5  D0 04      			bne	!false+
         1E:D3A7  C0 00      			cpy.h	#160
         1E:D3A9  F0 01      			beq	!+
         1E:D3AB  18         	!false:		clc
         1E:D3AC             	!:
16796                        		__bfalse	.LL829
         1E:D3AC  90 14      			bcc	.LL829
16797                        	
16798                        		.dbg	line,	"include\routines_TITLE.c", 72; {
16799                        	
16800                        		.dbg	line,	"include\routines_TITLE.c", 73; selector_pos = 144;
16801                        		__st.wmiq	144, __joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D3AE  A9 90      			lda.l	#144
         1E:D3B0  8D 78 26   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D3B3  9C 79 26   			stz.h	__joypad_BUTTONS_TITLE_end - 2
16802                        	
16803                        		.dbg	line,	"include\routines_TITLE.c", 74; spr_y(selector_pos);
16804                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D3B6  AD 78 26   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D3B9  AC 79 26   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
16805                        		__call		_spr_y.1
         1E:D3BC  20 19 E8   			call	_spr_y.1
16806                        	
16807                        		.dbg	line,	"include\routines_TITLE.c", 75; }
16808                        	
16809                        		.dbg	line,	"include\routines_TITLE.c", 77; else if(selector_pos == 168)
16810                        		__bra		.LL830
         1E:D3BF  4C A0 D4   			bra	.LL830
16811    1E:D3C2             	.LL829:
16812                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D3C2  AD 78 26   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D3C5  AC 79 26   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
16813                        		__equ_w.wi	168
         1E:D3C8  C9 A8      			cmp.l	#168
         1E:D3CA  D0 04      			bne	!false+
         1E:D3CC  C0 00      			cpy.h	#168
         1E:D3CE  F0 01      			beq	!+
         1E:D3D0  18         	!false:		clc
         1E:D3D1             	!:
16814                        		__bfalse	.LL831
         1E:D3D1  B0 03 4C A0			bcc	.LL831
         1E:D3D5  D4          
16815                        	
16816                        		.dbg	line,	"include\routines_TITLE.c", 78; {
16817                        	
16818                        		.dbg	line,	"include\routines_TITLE.c", 79; selector_pos = 160;
16819                        		__st.wmiq	160, __joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D3D6  A9 A0      			lda.l	#160
         1E:D3D8  8D 78 26   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D3DB  9C 79 26   			stz.h	__joypad_BUTTONS_TITLE_end - 2
16820                        	
16821                        		.dbg	line,	"include\routines_TITLE.c", 80; spr_y(selector_pos);
16822                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D3DE  AD 78 26   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D3E1  AC 79 26   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
16823                        		__call		_spr_y.1
         1E:D3E4  20 19 E8   			call	_spr_y.1
16824                        	
16825                        		.dbg	line,	"include\routines_TITLE.c", 81; }
16826                        	
16827                        		.dbg	line,	"include\routines_TITLE.c", 82; }
16828    1E:D3E7             	.LL831	.alias		.LL832
16829    1E:D3E7             	.LL830	.alias		.LL832
16830                        	
16831                        		.dbg	line,	"include\routines_TITLE.c", 85; else if(joytrg(JOYPAD_1) & JOY_DOWN)
16832                        		__bra		.LL832
         1E:D3E7  4C A0 D4   			bra	.LL832
16833    1E:D3EA             	.LL828:
16834                        		__ld.uiq	0
         1E:D3EA  62         			cla
16835                        		 _joytrg.1
         1E:D3EB  AA         			tax
         1E:D3EC  BD 2D 22   			lda	joytrg, x
         1E:D3EF  BC DD 22   			ldy	joy6trg, x
16836                        		__tand.wi	64
         1E:D3F2  29 40      			and	#64
         1E:D3F4  C9 01      	!:		cmp	#1
16837                        		__bfalse	.LL833
         1E:D3F6  90 55      			bcc	.LL833
16838                        	
16839                        		.dbg	line,	"include\routines_TITLE.c", 86; {
16840                        	
16841                        		.dbg	line,	"include\routines_TITLE.c", 87; spr_set(0);
16842                        		__ld.uiq	0
         1E:D3F8  62         			cla
16843                        		__call		_spr_set.1
         1E:D3F9  20 DD E7   			call	_spr_set.1
16844                        	
16845                        		.dbg	line,	"include\routines_TITLE.c", 88; selector_pos = spr_get_y();
16846                        		__call		_spr_get_y
         1E:D3FC  20 7B E8   			call	_spr_get_y
16847                        		__st.wmq	__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D3FF  8D 78 26   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D402  8C 79 26   			sty.h	__joypad_BUTTONS_TITLE_end - 2
16848                        	
16849                        		.dbg	line,	"include\routines_TITLE.c", 90; if(selector_pos == 144)
16850                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D405  AD 78 26   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D408  AC 79 26   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
16851                        		__equ_w.wi	144
         1E:D40B  C9 90      			cmp.l	#144
         1E:D40D  D0 04      			bne	!false+
         1E:D40F  C0 00      			cpy.h	#144
         1E:D411  F0 01      			beq	!+
         1E:D413  18         	!false:		clc
         1E:D414             	!:
16852                        		__bfalse	.LL834
         1E:D414  90 13      			bcc	.LL834
16853                        	
16854                        		.dbg	line,	"include\routines_TITLE.c", 91; {
16855                        	
16856                        		.dbg	line,	"include\routines_TITLE.c", 92; selector_pos = 160;
16857                        		__st.wmiq	160, __joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D416  A9 A0      			lda.l	#160
         1E:D418  8D 78 26   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D41B  9C 79 26   			stz.h	__joypad_BUTTONS_TITLE_end - 2
16858                        	
16859                        		.dbg	line,	"include\routines_TITLE.c", 93; spr_y(selector_pos);
16860                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D41E  AD 78 26   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D421  AC 79 26   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
16861                        		__call		_spr_y.1
         1E:D424  20 19 E8   			call	_spr_y.1
16862                        	
16863                        		.dbg	line,	"include\routines_TITLE.c", 94; }
16864                        	
16865                        		.dbg	line,	"include\routines_TITLE.c", 96; else if(selector_pos == 160)
16866                        		__bra		.LL835
         1E:D427  80 77      			bra	.LL835
16867    1E:D429             	.LL834:
16868                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D429  AD 78 26   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D42C  AC 79 26   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
16869                        		__equ_w.wi	160
         1E:D42F  C9 A0      			cmp.l	#160
         1E:D431  D0 04      			bne	!false+
         1E:D433  C0 00      			cpy.h	#160
         1E:D435  F0 01      			beq	!+
         1E:D437  18         	!false:		clc
         1E:D438             	!:
16870                        		__bfalse	.LL836
         1E:D438  90 66      			bcc	.LL836
16871                        	
16872                        		.dbg	line,	"include\routines_TITLE.c", 97; {
16873                        	
16874                        		.dbg	line,	"include\routines_TITLE.c", 98; selector_pos = 168;
16875                        		__st.wmiq	168, __joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D43A  A9 A8      			lda.l	#168
         1E:D43C  8D 78 26   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D43F  9C 79 26   			stz.h	__joypad_BUTTONS_TITLE_end - 2
16876                        	
16877                        		.dbg	line,	"include\routines_TITLE.c", 99; spr_y(selector_pos);
16878                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D442  AD 78 26   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D445  AC 79 26   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
16879                        		__call		_spr_y.1
         1E:D448  20 19 E8   			call	_spr_y.1
16880                        	
16881                        		.dbg	line,	"include\routines_TITLE.c", 100; }        
16882                        	
16883                        		.dbg	line,	"include\routines_TITLE.c", 101; }
16884    1E:D44B             	.LL836	.alias		.LL837
16885    1E:D44B             	.LL835	.alias		.LL837
16886                        	
16887                        		.dbg	line,	"include\routines_TITLE.c", 104; else if(joytrg(JOYPAD_1) & JOY_I || joytrg(JOYPAD_1) & JOY_II || joytrg(JOYPAD_1) & JOY_RUN)
16888                        		__bra		.LL837
         1E:D44B  80 53      			bra	.LL837
16889    1E:D44D             	.LL833:
16890                        		__ld.uiq	0
         1E:D44D  62         			cla
16891                        		 _joytrg.1
         1E:D44E  AA         			tax
         1E:D44F  BD 2D 22   			lda	joytrg, x
         1E:D452  BC DD 22   			ldy	joy6trg, x
16892                        		__tand.wi	1
         1E:D455  29 01      			and	#1
         1E:D457  C9 01      	!:		cmp	#1
16893                        		__btrue		.LL839
         1E:D459  B0 0C      			bcs	.LL839
16894                        		__ld.uiq	0
         1E:D45B  62         			cla
16895                        		 _joytrg.1
         1E:D45C  AA         			tax
         1E:D45D  BD 2D 22   			lda	joytrg, x
         1E:D460  BC DD 22   			ldy	joy6trg, x
16896                        		__tand.wi	2
         1E:D463  29 02      			and	#2
         1E:D465  C9 01      	!:		cmp	#1
16897    1E:D467             	.LL839:
16898                        		__btrue		.LL840
         1E:D467  B0 0C      			bcs	.LL840
16899                        		__ld.uiq	0
         1E:D469  62         			cla
16900                        		 _joytrg.1
         1E:D46A  AA         			tax
         1E:D46B  BD 2D 22   			lda	joytrg, x
         1E:D46E  BC DD 22   			ldy	joy6trg, x
16901                        		__tand.wi	8
         1E:D471  29 08      			and	#8
         1E:D473  C9 01      	!:		cmp	#1
16902    1E:D475             	.LL840:
16903                        		__bfalse	.LL838
         1E:D475  90 29      			bcc	.LL838
16904                        	
16905                        		.dbg	line,	"include\routines_TITLE.c", 105; {
16906                        	
16907                        		.dbg	line,	"include\routines_TITLE.c", 106; spr_set(0);
16908                        		__ld.uiq	0
         1E:D477  62         			cla
16909                        		__call		_spr_set.1
         1E:D478  20 DD E7   			call	_spr_set.1
16910                        	
16911                        		.dbg	line,	"include\routines_TITLE.c", 107; selector_pos = spr_get_y();
16912                        		__call		_spr_get_y
         1E:D47B  20 7B E8   			call	_spr_get_y
16913                        		__st.wmq	__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D47E  8D 78 26   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D481  8C 79 26   			sty.h	__joypad_BUTTONS_TITLE_end - 2
16914                        	
16915                        		.dbg	line,	"include\routines_TITLE.c", 109; // IF CURSOR IS ON START GAME //
16916                        	
16917                        		.dbg	line,	"include\routines_TITLE.c", 110; if(selector_pos == 144)
16918                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D484  AD 78 26   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D487  AC 79 26   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
16919                        		__equ_w.wi	144
         1E:D48A  C9 90      			cmp.l	#144
         1E:D48C  D0 04      			bne	!false+
         1E:D48E  C0 00      			cpy.h	#144
         1E:D490  F0 01      			beq	!+
         1E:D492  18         	!false:		clc
         1E:D493             	!:
16920                        		__bfalse	.LL841
         1E:D493  90 0B      			bcc	.LL841
16921                        	
16922                        		.dbg	line,	"include\routines_TITLE.c", 111; {
16923                        	
16924                        		.dbg	line,	"include\routines_TITLE.c", 112; // DISABLE DISPLAY //
16925                        	
16926                        		.dbg	line,	"include\routines_TITLE.c", 113; disp_off();
16927                        		__call		_disp_off
         1E:D495  20 29 E4   			call	_disp_off
16928                        	
16929                        		.dbg	line,	"include\routines_TITLE.c", 115; sequence_loaded = FALSE;
16930                        		__st.umiq	0, _sequence_loaded
         1E:D498  9C 14 23   			stz	_sequence_loaded
16931                        	
16932                        		.dbg	line,	"include\routines_TITLE.c", 117; sequence_id = SEQUENCE_INTRO;
16933                        		__st.umiq	1, _sequence_id
         1E:D49B  A9 01      			lda.l	#1
         1E:D49D  8D 13 23   			sta	_sequence_id
16934                        	
16935                        		.dbg	line,	"include\routines_TITLE.c", 118; }
16936                        	
16937                        		.dbg	line,	"include\routines_TITLE.c", 119; }
16938    1E:D4A0             	.LL841:
16939                        	
16940                        		.dbg	line,	"include\routines_TITLE.c", 120; }
16941    1E:D4A0             	.LL838:
16942    1E:D4A0             	.LL837:
16943    1E:D4A0             	.LL832:
16944    1E:D4A0             	.LL827:
16945    1E:D4A0             	.LL820:
16946    1E:D4A0             	.LL813:
16947                        		__return	0
         1E:D4A0  4C EF FF   			jmp	leave_proc
16948                        		.dbg	clear
16949                        		.endp
16950                        		.pceas
16951                        	
16952                        		.dbg	line,	"main.c", 29; #include "include/init.c"
16953                        		.dbg	line,	"include\init.c", 1; #include "huc.h"
16954                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
16955                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
16956                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
16957                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
16958                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
16959                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
16960                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
16961                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
16962                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
16963                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
16964                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
16965                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
16966                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
16967                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
16968                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
16969                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
16970                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
16971                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
16972                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
16973                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
16974                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
16975                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
16976                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
16977                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
16978                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
16979                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
16980                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
16981                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
16982                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
16983                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
16984                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
16985                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
16986                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
16987                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-string.h"
16988                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-scroll.h"
16989                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-spr.h"
16990                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-map.h"
16991                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 40; #include "hucc-old-line.h"
16992                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #endif // _hucc_legacy_h
16993                        		.dbg	line,	"include\init.c", 2; #include "hucc-scroll.h"
16994                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
16995                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
16996                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
16997                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
16998                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
16999                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
17000                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
17001                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
17002                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
17003                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
17004                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
17005                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
17006                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
17007                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
17008                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
17009                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
17010                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
17011                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
17012                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
17013                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
17014                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
17015                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
17016                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
17017                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
17018                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
17019                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
17020                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
17021                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
17022                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
17023                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
17024                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
17025                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
17026                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
17027                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
17028                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
17029                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
17030                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
17031                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
17032                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
17033                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
17034                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
17035                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
17036                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
17037                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
17038                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
17039                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
17040                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
17041                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
17042                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
17043                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
17044                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
17045                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
17046                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
17047                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
17048                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
17049                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
17050                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
17051                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
17052                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
17053                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
17054                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
17055                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
17056                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
17057                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
17058                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
17059                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
17060                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
17061                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
17062                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
17063                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
17064                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
17065                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
17066                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
17067                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
17068                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
17069                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
17070                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
17071                        		.dbg	line,	"include\init.c", 3; #include "hucc-chrmap.h"
17072                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
17073                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
17074                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
17075                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
17076                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
17077                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
17078                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
17079                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
17080                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
17081                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
17082                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
17083                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
17084                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
17085                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
17086                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
17087                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
17088                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
17089                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
17090                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
17091                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
17092                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
17093                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
17094                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
17095                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
17096                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
17097                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
17098                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
17099                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
17100                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
17101                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
17102                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
17103                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
17104                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
17105                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
17106                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
17107                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
17108                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
17109                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
17110                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
17111                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
17112                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
17113                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
17114                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
17115                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
17116                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
17117                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
17118                        		.dbg	line,	"include\init.c", 4; #include "hucc-blkmap.h"
17119                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
17120                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
17121                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
17122                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
17123                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
17124                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
17125                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
17126                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
17127                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
17128                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
17129                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
17130                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
17131                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
17132                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
17133                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
17134                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
17135                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
17136                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
17137                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
17138                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
17139                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
17140                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
17141                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
17142                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
17143                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
17144                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
17145                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
17146                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
17147                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
17148                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
17149                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
17150                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
17151                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
17152                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
17153                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
17154                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
17155                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
17156                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
17157                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
17158                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
17159                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
17160                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
17161                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
17162                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
17163                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
17164                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
17165                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
17166                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
17167                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
17168                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
17169                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
17170                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
17171                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
17172                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
17173                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
17174                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
17175                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
17176                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
17177                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
17178                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
17179                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
17180                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
17181                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
17182                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
17183                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
17184                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
17185                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
17186                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
17187                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
17188                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
17189                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
17190                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
17191                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
17192                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
17193                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
17194                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
17195                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
17196                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
17197                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
17198                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
17199                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
17200                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
17201                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
17202                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
17203                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
17204                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
17205                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
17206                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
17207                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
17208                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
17209                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
17210                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
17211                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
17212                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
17213                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
17214                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
17215                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
17216                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
17217                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
17218                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
17219                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
17220                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
17221                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
17222                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
17223                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
17224                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
17225                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
17226                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
17227                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
17228                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
17229                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
17230                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
17231                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
17232                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
17233                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
17234                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
17235                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
17236                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
17237                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
17238                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
17239                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
17240                        		.dbg	line,	"include\init.c", 13; void init_SYSTEM()
17241                        		.dbg	line,	"include\init.c", 14; {
17242                        	;***********************
17243                        	;***********************
17244                        	
17245                        		.hucc
17246    01:DFE2             		.proc		_init_SYSTEM
17247                        		__enter		_init_SYSTEM
17248                        	
17249                        		.dbg	line,	"include\init.c", 15; // DISABLE DISPLAY //
17250                        	
17251                        		.dbg	line,	"include\init.c", 16; disp_off();
17252                        		__call		_disp_off
         01:DFE2  20 29 E4   			call	_disp_off
17253                        	
17254                        		.dbg	line,	"include\init.c", 18; // VSYNC //
17255                        	
17256                        		.dbg	line,	"include\init.c", 19; vsync();
17257                        		__call		_vsync
         01:DFE5  20 09 E3   			call	_vsync
17258                        	
17259                        		.dbg	line,	"include\init.c", 21; // LOAD DEFAULT FONT //
17260                        	
17261                        		.dbg	line,	"include\init.c", 22; load_default_font();
17262                        		 _load_default_font
         01:DFE8  82         			clx				; Offset to PCE VDC.
         01:DFE9  20 C7 FF   			call	huc_monofont_x
17263                        	
17264                        		.dbg	line,	"include\init.c", 25; // SET VDC 1 SCREEN SIZE (IN TILES) - 32x32 = 256 PIXELS
17265                        	
17266                        		.dbg	line,	"include\init.c", 26; set_screen_size(SCR_SIZE_32x32);
17267                        		__st.umiq	0, _al
         01:DFEC  64 F8      			stz	_al
17268                        		__call		_set_screen_size.1
         01:DFEE  20 FF FE   			call	_set_screen_size.1
17269                        	
17270                        		.dbg	line,	"include\init.c", 29; // SET VDC 2 SCREEN SIZE (IN TILES) - 32x32 = 256 PIXELS
17271                        	
17272                        		.dbg	line,	"include\init.c", 30; sgx_set_screen_size(SCR_SIZE_32x32);
17273                        		__st.umiq	0, _al
         01:DFF1  64 F8      			stz	_al
17274                        		__call		_sgx_set_screen_size.1
         01:DFF3  20 F5 FE   			call	_sgx_set_screen_size.1
17275                        	
17276                        		.dbg	line,	"include\init.c", 33; // INIT SPRITE ATTRIBUTE TABLE //
17277                        	
17278                        		.dbg	line,	"include\init.c", 34; init_satb();
17279                        		__call		_init_satb
         01:DFF6  20 B7 E7   			call	_init_satb
17280                        	
17281                        		.dbg	line,	"include\init.c", 35; sgx_init_satb();
17282                        		__call		_sgx_init_satb
         01:DFF9  20 CA E7   			call	_sgx_init_satb
17283                        	
17284                        		.dbg	line,	"include\init.c", 38; // ENABLE DISPLAY //
17285                        	
17286                        		.dbg	line,	"include\init.c", 39; //disp_on();
17287                        	
17288                        		.dbg	line,	"include\init.c", 40; }
17289    01:DFFC             	.LL842:
17290                        		__return	0
         01:DFFC  4C EF FF   			jmp	leave_proc
17291                        		.dbg	clear
17292                        		.endp
17293                        		.pceas
17294                        	
17295                        		.dbg	line,	"include\init.c", 43; void init_VARIABLES()
17296                        		.dbg	line,	"include\init.c", 44; {
17297                        	;***********************
17298                        	;***********************
17299                        	
17300                        		.hucc
17301    1F:CB7D             		.proc		_init_VARIABLES
17302                        		__enter		_init_VARIABLES
17303                        	
17304                        		.dbg	line,	"include\init.c", 45; sequence_id = SEQUENCE_TITLE; // SEQUENCE_TITLE | SEQUENCE_INTRO | SEQUENCE_GAME | SEQUENCE_SHOP
17305                        		__st.umiq	0, _sequence_id
         1F:CB7D  9C 13 23   			stz	_sequence_id
17306                        	
17307                        		.dbg	line,	"include\init.c", 47; letter_index = 0;
17308                        		__st.wmiq	0, _letter_index
         1F:CB80  9C 37 26   			stz.l	_letter_index
         1F:CB83  9C 38 26   			stz.h	_letter_index
17309                        	
17310                        		.dbg	line,	"include\init.c", 49; level_id = 1;
17311                        		__st.umiq	1, _level_id
         1F:CB86  A9 01      			lda.l	#1
         1F:CB88  8D 15 23   			sta	_level_id
17312                        	
17313                        		.dbg	line,	"include\init.c", 51; life_amount = 3;
17314                        		__st.umiq	3, _life_amount
         1F:CB8B  A9 03      			lda.l	#3
         1F:CB8D  8D 2C 23   			sta	_life_amount
17315                        	
17316                        		.dbg	line,	"include\init.c", 52; credits_amount = 2;
17317                        		__st.umiq	2, _credits_amount
         1F:CB90  A9 02      			lda.l	#2
         1F:CB92  8D 2D 23   			sta	_credits_amount
17318                        	
17319                        		.dbg	line,	"include\init.c", 53; key_amount = 0;
17320                        		__st.umiq	0, _key_amount
         1F:CB95  9C 2E 23   			stz	_key_amount
17321                        	
17322                        		.dbg	line,	"include\init.c", 54; potion_amount = 0;
17323                        		__st.umiq	0, _potion_amount
         1F:CB98  9C 2F 23   			stz	_potion_amount
17324                        	
17325                        		.dbg	line,	"include\init.c", 55; zenny_amount = 25000;
17326                        		__st.wmiq	25000, _zenny_amount
         1F:CB9B  A9 A8      			lda.l	#25000
         1F:CB9D  8D 3B 26   			sta.l	_zenny_amount
         1F:CBA0  A9 61      			lda.h	#25000
         1F:CBA2  8D 3C 26   			sta.h	_zenny_amount
17327                        	
17328                        		.dbg	line,	"include\init.c", 57; weapon_level = 0;
17329                        		__st.umiq	0, _weapon_level
         1F:CBA5  9C 28 23   			stz	_weapon_level
17330                        	
17331                        		.dbg	line,	"include\init.c", 58; armor_level = 2;
17332                        		__st.umiq	2, _armor_level
         1F:CBA8  A9 02      			lda.l	#2
         1F:CBAA  8D 27 23   			sta	_armor_level
17333                        	
17334                        		.dbg	line,	"include\init.c", 59; 
17335                        	
17336                        		.dbg	line,	"include\init.c", 60; player_naked = FALSE;
17337                        		__st.umiq	0, _player_naked
         1F:CBAD  9C 1F 23   			stz	_player_naked
17338                        	
17339                        		.dbg	line,	"include\init.c", 62; index_x = 0;
17340                        		__st.umiq	0, _index_x
         1F:CBB0  9C D5 23   			stz	_index_x
17341                        	
17342                        		.dbg	line,	"include\init.c", 63; index_y = 0;
17343                        		__st.umiq	0, _index_y
         1F:CBB3  9C D6 23   			stz	_index_y
17344                        	
17345                        		.dbg	line,	"include\init.c", 64; item_index = 0;
17346                        		__st.umiq	0, _item_index
         1F:CBB6  9C D7 23   			stz	_item_index
17347                        	
17348                        		.dbg	line,	"include\init.c", 65; shop_counter = 0;
17349                        		__st.umiq	0, _shop_counter
         1F:CBB9  9C D9 23   			stz	_shop_counter
17350                        	
17351                        		.dbg	line,	"include\init.c", 66; shop_phase = SHOP_PHASE_ENTER;
17352                        		__st.umiq	0, _shop_phase
         1F:CBBC  9C D8 23   			stz	_shop_phase
17353                        	
17354                        		.dbg	line,	"include\init.c", 68; respawn = FALSE;
17355                        		__st.umiq	0, _respawn
         1F:CBBF  9C 16 23   			stz	_respawn
17356                        	
17357                        		.dbg	line,	"include\init.c", 70; sequence_loaded = FALSE;
17358                        		__st.umiq	0, _sequence_loaded
         1F:CBC2  9C 14 23   			stz	_sequence_loaded
17359                        	
17360                        		.dbg	line,	"include\init.c", 71; }
17361    1F:CBC5             	.LL843:
17362                        		__return	0
         1F:CBC5  4C EF FF   			jmp	leave_proc
17363                        		.dbg	clear
17364                        		.endp
17365                        		.pceas
17366                        	
17367                        		.dbg	line,	"include\init.c", 74; void init_PLAYER()
17368                        		.dbg	line,	"include\init.c", 75; {
17369                        	;***********************
17370                        	;***********************
17371                        	
17372                        		.hucc
17373    1F:CCDF             		.proc		_init_PLAYER
17374                        		__enter		_init_PLAYER
17375                        	
17376                        		.dbg	line,	"include\init.c", 76; if(player_naked != RESPAWN_SHOP)
17377                        		__ld.umq	_player_naked
         1F:CCDF  AD 1F 23   			lda	_player_naked
17378                        		__neq_b.uiq	2
         1F:CCE2  38         			sec
         1F:CCE3  49 02      			eor	#2
         1F:CCE5  D0 01      			bne	!+
         1F:CCE7  18         			clc
         1F:CCE8             	!:
17379                        		__bfalse	.LL845
         1F:CCE8  90 03      			bcc	.LL845
17380                        	
17381                        		.dbg	line,	"include\init.c", 77; {
17382                        	
17383                        		.dbg	line,	"include\init.c", 78; player_naked = FALSE;
17384                        		__st.umiq	0, _player_naked
         1F:CCEA  9C 1F 23   			stz	_player_naked
17385                        	
17386                        		.dbg	line,	"include\init.c", 79; }
17387                        	
17388                        		.dbg	line,	"include\init.c", 80; 
17389                        	
17390                        		.dbg	line,	"include\init.c", 81; player_id = PLAYER_START_INDEX;
17391    1F:CCED             	.LL845:
17392                        		__st.umiq	14, _player_id
         1F:CCED  A9 0E      			lda.l	#14
         1F:CCEF  8D 17 23   			sta	_player_id
17393                        	
17394                        		.dbg	line,	"include\init.c", 82; player_axis = AXIS_RIGHT;
17395                        		__st.umiq	0, _player_axis
         1F:CCF2  9C 19 23   			stz	_player_axis
17396                        	
17397                        		.dbg	line,	"include\init.c", 83; player_previous_axis = player_axis;
17398                        		__ld.um		_player_axis
         1F:CCF5  AD 19 23   			lda	_player_axis
         1F:CCF8  C2         			cly
17399                        		__st.umq	_player_previous_axis
         1F:CCF9  8D 1A 23   			sta	_player_previous_axis
17400                        	
17401                        		.dbg	line,	"include\init.c", 84; player_counter_anim = 0;
17402                        		__st.umiq	0, _player_counter_anim
         1F:CCFC  9C 1B 23   			stz	_player_counter_anim
17403                        	
17404                        		.dbg	line,	"include\init.c", 85; player_index_jump = 0;
17405                        		__st.umiq	0, _player_index_jump
         1F:CCFF  9C 1C 23   			stz	_player_index_jump
17406                        	
17407                        		.dbg	line,	"include\init.c", 86; player_index_fall = 0;
17408                        		__st.umiq	0, _player_index_fall
         1F:CD02  9C 1D 23   			stz	_player_index_fall
17409                        	
17410                        		.dbg	line,	"include\init.c", 87; fall_ladder = FALSE;
17411                        		__st.umiq	0, _fall_ladder
         1F:CD05  9C 23 23   			stz	_fall_ladder
17412                        	
17413                        		.dbg	line,	"include\init.c", 88; player_counter_attack = 0;
17414                        		__st.umiq	0, _player_counter_attack
         1F:CD08  9C 1E 23   			stz	_player_counter_attack
17415                        	
17416                        		.dbg	line,	"include\init.c", 89; player_attack = FALSE;
17417                        		__st.umiq	0, _player_attack
         1F:CD0B  9C 20 23   			stz	_player_attack
17418                        	
17419                        		.dbg	line,	"include\init.c", 90; player_state = STATE_IDLE;
17420                        		__st.umiq	0, _player_state
         1F:CD0E  9C 18 23   			stz	_player_state
17421                        	
17422                        		.dbg	line,	"include\init.c", 92; chain_id = player_id - 3;
17423                        		__ld.um		_player_id
         1F:CD11  AD 17 23   			lda	_player_id
         1F:CD14  C2         			cly
17424                        		__sub.wi	3
         1F:CD15  38         			sec
         1F:CD16  E9 03      			sbc.l	#3
         1F:CD18  B0 01      			bcs	!+
         1F:CD1A  88         			dey
         1F:CD1B             	!:
17425                        		__st.umq	_chain_id
         1F:CD1B  8D 25 23   			sta	_chain_id
17426                        	
17427                        		.dbg	line,	"include\init.c", 93; }
17428    1F:CD1E             	.LL844:
17429                        		__return	0
         1F:CD1E  4C EF FF   			jmp	leave_proc
17430                        		.dbg	clear
17431                        		.endp
17432                        		.pceas
17433                        	
17434                        		.dbg	line,	"include\init.c", 102; void init_TITLE()
17435                        		.dbg	line,	"include\init.c", 103; {
17436                        	;***********************
17437                        	;***********************
17438                        	
17439                        		.hucc
17440    1E:D8E4             		.proc		_init_TITLE
17441                        		__enter		_init_TITLE
17442                        	
17443                        		.dbg	line,	"include\init.c", 104; // DISABLE DISPLAY //
17444                        	
17445                        		.dbg	line,	"include\init.c", 105; disp_off();
17446                        		__call		_disp_off
         1E:D8E4  20 29 E4   			call	_disp_off
17447                        	
17448                        		.dbg	line,	"include\init.c", 106; 
17449                        	
17450                        		.dbg	line,	"include\init.c", 108; // VSYNC //
17451                        	
17452                        		.dbg	line,	"include\init.c", 109; vsync();
17453                        		__call		_vsync
         1E:D8E7  20 09 E3   			call	_vsync
17454                        	
17455                        		.dbg	line,	"include\init.c", 112; // SET VDC 1 SCREEN SIZE (IN TILES) - 64x64 = 256 PIXELS
17456                        	
17457                        		.dbg	line,	"include\init.c", 113; set_screen_size(SCR_SIZE_32x32);
17458                        		__st.umiq	0, _al
         1E:D8EA  64 F8      			stz	_al
17459                        		__call		_set_screen_size.1
         1E:D8EC  20 FF FE   			call	_set_screen_size.1
17460                        	
17461                        		.dbg	line,	"include\init.c", 115; // SET VDC 2 SCREEN SIZE (IN TILES) - 32x32 = 512 PIXELS
17462                        	
17463                        		.dbg	line,	"include\init.c", 116; //sgx_set_screen_size(SCR_SIZE_32x32);
17464                        	
17465                        		.dbg	line,	"include\init.c", 121; //**************************************************************************************//
17466                        	
17467                        		.dbg	line,	"include\init.c", 122; //                                                                                      //
17468                        	
17469                        		.dbg	line,	"include\init.c", 123; //                                        VDC 1                                         //
17470                        	
17471                        		.dbg	line,	"include\init.c", 124; //                                                                                      //
17472                        	
17473                        		.dbg	line,	"include\init.c", 125; //**************************************************************************************//
17474                        	
17475                        		.dbg	line,	"include\init.c", 127; //--------------------------------------------------------------------------------------//
17476                        	
17477                        		.dbg	line,	"include\init.c", 128; //                                      LOAD FONT                                       //
17478                        	
17479                        		.dbg	line,	"include\init.c", 129; //--------------------------------------------------------------------------------------//
17480                        	
17481                        		.dbg	line,	"include\init.c", 131; load_vram( 0x0800, tileset_FONT_TITLE, SIZEOF(tileset_FONT_TITLE) >> 1 );
17482                        		__st.wmiq	2048, _di
         1E:D8EF  64 F0      			stz.l	_di
         1E:D8F1  A9 08      			lda.h	#2048
         1E:D8F3  85 F1      			sta.h	_di
17483                        		__farptr	_tileset_FONT_TITLE, _bp_bank, _bp
         1E:D8F5  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_FONT_TITLE))
         1E:D8F7  85 EC      			sta.l	_bp
         1E:D8F9  A9 69      			lda.h	#$6000 + ($1FFF & (_tileset_FONT_TITLE))
         1E:D8FB  85 ED      			sta.h	_bp
         1E:D8FD  A9 12      			lda	#bank(_tileset_FONT_TITLE)
         1E:D8FF  85 02      			sta	_bp_bank
17484                        		__ld.wi		___sizeof__tileset_FONT_TITLE
         1E:D901  A9 00      			lda.l	#___sizeof__tileset_FONT_TITLE
         1E:D903  A0 0C      			ldy.h	#___sizeof__tileset_FONT_TITLE
17485                        		__lsr.wi	1
         1E:D905  42         			say
         1E:D906  4A         			lsr	a
         1E:D907  42         			say
         1E:D908  6A         			ror	a
17486                        		__st.wmq	_ax
         1E:D909  85 F8      			sta.l	_ax
         1E:D90B  84 F9      			sty.h	_ax
17487                        		 _load_vram.3
         1E:D90D  82         			clx				; Offset to PCE VDC.
         1E:D90E  20 1D FF   			call	load_vram_x
17488                        	
17489                        		.dbg	line,	"include\init.c", 133; set_font_pal(15);
17490                        		__ld.uiq	15
         1E:D911  A9 0F      			lda	#15
17491                        		__call		_set_font_pal.1
         1E:D913  20 09 E6   			call	_set_font_pal.1
17492                        	
17493                        		.dbg	line,	"include\init.c", 137; //--------------------------------------------------------------------------------------//
17494                        	
17495                        		.dbg	line,	"include\init.c", 138; //                                    LOAD TILEMAP                                      //
17496                        	
17497                        		.dbg	line,	"include\init.c", 139; //--------------------------------------------------------------------------------------//
17498                        	
17499                        		.dbg	line,	"include\init.c", 141; load_vram( 0x0000, tilemap_TITLE_BG_B, SIZEOF(tilemap_TITLE_BG_B) >> 1 );
17500                        		__st.wmiq	0, _di
         1E:D916  64 F0      			stz.l	_di
         1E:D918  64 F1      			stz.h	_di
17501                        		__farptr	_tilemap_TITLE_BG_B, _bp_bank, _bp
         1E:D91A  A9 40      			lda.l	#$6000 + ($1FFF & (_tilemap_TITLE_BG_B))
         1E:D91C  85 EC      			sta.l	_bp
         1E:D91E  A9 72      			lda.h	#$6000 + ($1FFF & (_tilemap_TITLE_BG_B))
         1E:D920  85 ED      			sta.h	_bp
         1E:D922  A9 13      			lda	#bank(_tilemap_TITLE_BG_B)
         1E:D924  85 02      			sta	_bp_bank
17502                        		__ld.wi		___sizeof__tilemap_TITLE_BG_B
         1E:D926  A9 00      			lda.l	#___sizeof__tilemap_TITLE_BG_B
         1E:D928  A0 07      			ldy.h	#___sizeof__tilemap_TITLE_BG_B
17503                        		__lsr.wi	1
         1E:D92A  42         			say
         1E:D92B  4A         			lsr	a
         1E:D92C  42         			say
         1E:D92D  6A         			ror	a
17504                        		__st.wmq	_ax
         1E:D92E  85 F8      			sta.l	_ax
         1E:D930  84 F9      			sty.h	_ax
17505                        		 _load_vram.3
         1E:D932  82         			clx				; Offset to PCE VDC.
         1E:D933  20 1D FF   			call	load_vram_x
17506                        	
17507                        		.dbg	line,	"include\init.c", 143; //--------------------------------------------------------------------------------------//
17508                        	
17509                        		.dbg	line,	"include\init.c", 144; //                                    LOAD TILESET                                      //
17510                        	
17511                        		.dbg	line,	"include\init.c", 145; //--------------------------------------------------------------------------------------//
17512                        	
17513                        		.dbg	line,	"include\init.c", 147; load_vram( 0x1000, tileset_TITLE_BG_B, SIZEOF(tileset_TITLE_BG_B) >> 1 );
17514                        		__st.wmiq	4096, _di
         1E:D936  64 F0      			stz.l	_di
         1E:D938  A9 10      			lda.h	#4096
         1E:D93A  85 F1      			sta.h	_di
17515                        		__farptr	_tileset_TITLE_BG_B, _bp_bank, _bp
         1E:D93C  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_TITLE_BG_B))
         1E:D93E  85 EC      			sta.l	_bp
         1E:D940  A9 75      			lda.h	#$6000 + ($1FFF & (_tileset_TITLE_BG_B))
         1E:D942  85 ED      			sta.h	_bp
         1E:D944  A9 12      			lda	#bank(_tileset_TITLE_BG_B)
         1E:D946  85 02      			sta	_bp_bank
17516                        		__ld.wi		___sizeof__tileset_TITLE_BG_B
         1E:D948  A9 60      			lda.l	#___sizeof__tileset_TITLE_BG_B
         1E:D94A  A0 1C      			ldy.h	#___sizeof__tileset_TITLE_BG_B
17517                        		__lsr.wi	1
         1E:D94C  42         			say
         1E:D94D  4A         			lsr	a
         1E:D94E  42         			say
         1E:D94F  6A         			ror	a
17518                        		__st.wmq	_ax
         1E:D950  85 F8      			sta.l	_ax
         1E:D952  84 F9      			sty.h	_ax
17519                        		 _load_vram.3
         1E:D954  82         			clx				; Offset to PCE VDC.
         1E:D955  20 1D FF   			call	load_vram_x
17520                        	
17521                        		.dbg	line,	"include\init.c", 152; //put_string("PRESS RUN"   , 11 , 18);
17522                        	
17523                        		.dbg	line,	"include\init.c", 153; put_string("START GAME"  	, 11 , 18);
17524                        		__ld.wi		__const1+0
         1E:D958  62         			cla
         1E:D959  A0 60      			ldy.h	#__const1+0
17525                        		__st.wmq	_bp
         1E:D95B  85 EC      			sta.l	_bp
         1E:D95D  84 ED      			sty.h	_bp
17526                        		__st.umiq	11, _dil
         1E:D95F  A9 0B      			lda.l	#11
         1E:D961  85 F0      			sta	_dil
17527                        		__st.umiq	18, _dih
         1E:D963  A9 12      			lda.l	#18
         1E:D965  85 F1      			sta	_dih
17528                        		__call		_put_string.3
         1E:D967  20 68 E6   			call	_put_string.3
17529                        	
17530                        		.dbg	line,	"include\init.c", 155; put_string("LIFE"        	, 11 , 20);
17531                        		__ld.wi		__const1+11
         1E:D96A  A9 0B      			lda.l	#__const1+11
         1E:D96C  A0 60      			ldy.h	#__const1+11
17532                        		__st.wmq	_bp
         1E:D96E  85 EC      			sta.l	_bp
         1E:D970  84 ED      			sty.h	_bp
17533                        		__st.umiq	11, _dil
         1E:D972  A9 0B      			lda.l	#11
         1E:D974  85 F0      			sta	_dil
17534                        		__st.umiq	20, _dih
         1E:D976  A9 14      			lda.l	#20
         1E:D978  85 F1      			sta	_dih
17535                        		__call		_put_string.3
         1E:D97A  20 68 E6   			call	_put_string.3
17536                        	
17537                        		.dbg	line,	"include\init.c", 156; put_number(life_amount   	,  1 , 20 , 20);
17538                        		__ld.um		_life_amount
         1E:D97D  AD 2C 23   			lda	_life_amount
         1E:D980  C2         			cly
17539                        		__st.wmq	_bx
         1E:D981  85 FA      			sta.l	_bx
         1E:D983  84 FB      			sty.h	_bx
17540                        		__st.umiq	1, _cl
         1E:D985  A9 01      			lda.l	#1
         1E:D987  85 FC      			sta	_cl
17541                        		__st.umiq	20, _dil
         1E:D989  A9 14      			lda.l	#20
         1E:D98B  85 F0      			sta	_dil
17542                        		__st.umiq	20, _dih
         1E:D98D  A9 14      			lda.l	#20
         1E:D98F  85 F1      			sta	_dih
17543                        		__call		_put_number.4
         1E:D991  20 6D FF   			call	_put_number.4
17544                        	
17545                        		.dbg	line,	"include\init.c", 158; put_string("CREDITS"		, 11 , 21);
17546                        		__ld.wi		__const1+16
         1E:D994  A9 10      			lda.l	#__const1+16
         1E:D996  A0 60      			ldy.h	#__const1+16
17547                        		__st.wmq	_bp
         1E:D998  85 EC      			sta.l	_bp
         1E:D99A  84 ED      			sty.h	_bp
17548                        		__st.umiq	11, _dil
         1E:D99C  A9 0B      			lda.l	#11
         1E:D99E  85 F0      			sta	_dil
17549                        		__st.umiq	21, _dih
         1E:D9A0  A9 15      			lda.l	#21
         1E:D9A2  85 F1      			sta	_dih
17550                        		__call		_put_string.3
         1E:D9A4  20 68 E6   			call	_put_string.3
17551                        	
17552                        		.dbg	line,	"include\init.c", 159; put_number(credits_amount   ,  1 , 20 , 21);
17553                        		__ld.um		_credits_amount
         1E:D9A7  AD 2D 23   			lda	_credits_amount
         1E:D9AA  C2         			cly
17554                        		__st.wmq	_bx
         1E:D9AB  85 FA      			sta.l	_bx
         1E:D9AD  84 FB      			sty.h	_bx
17555                        		__st.umiq	1, _cl
         1E:D9AF  A9 01      			lda.l	#1
         1E:D9B1  85 FC      			sta	_cl
17556                        		__st.umiq	20, _dil
         1E:D9B3  A9 14      			lda.l	#20
         1E:D9B5  85 F0      			sta	_dil
17557                        		__st.umiq	21, _dih
         1E:D9B7  A9 15      			lda.l	#21
         1E:D9B9  85 F1      			sta	_dih
17558                        		__call		_put_number.4
         1E:D9BB  20 6D FF   			call	_put_number.4
17559                        	
17560                        		.dbg	line,	"include\init.c", 161; put_string("CAPCOM 1987" 	, 11 , 26);
17561                        		__ld.wi		__const1+24
         1E:D9BE  A9 18      			lda.l	#__const1+24
         1E:D9C0  A0 60      			ldy.h	#__const1+24
17562                        		__st.wmq	_bp
         1E:D9C2  85 EC      			sta.l	_bp
         1E:D9C4  84 ED      			sty.h	_bp
17563                        		__st.umiq	11, _dil
         1E:D9C6  A9 0B      			lda.l	#11
         1E:D9C8  85 F0      			sta	_dil
17564                        		__st.umiq	26, _dih
         1E:D9CA  A9 1A      			lda.l	#26
         1E:D9CC  85 F1      			sta	_dih
17565                        		__call		_put_string.3
         1E:D9CE  20 68 E6   			call	_put_string.3
17566                        	
17567                        		.dbg	line,	"include\init.c", 166; //--------------------------------------------------------------------------------------//
17568                        	
17569                        		.dbg	line,	"include\init.c", 167; //                                   LOAD BG PALETTES                                   //
17570                        	
17571                        		.dbg	line,	"include\init.c", 168; //--------------------------------------------------------------------------------------//
17572                        	
17573                        		.dbg	line,	"include\init.c", 170; load_palette( 0, palette_TITLE, 16 );
17574                        		__st.umiq	0, _al
         1E:D9D1  64 F8      			stz	_al
17575                        		__farptr	_palette_TITLE, _bp_bank, _bp
         1E:D9D3  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_TITLE))
         1E:D9D5  85 EC      			sta.l	_bp
         1E:D9D7  A9 79      			lda.h	#$6000 + ($1FFF & (_palette_TITLE))
         1E:D9D9  85 ED      			sta.h	_bp
         1E:D9DB  A9 13      			lda	#bank(_palette_TITLE)
         1E:D9DD  85 02      			sta	_bp_bank
17576                        		__st.umiq	16, _ah
         1E:D9DF  A9 10      			lda.l	#16
         1E:D9E1  85 F9      			sta	_ah
17577                        		__call		_load_palette.3
         1E:D9E3  20 8B FF   			call	_load_palette.3
17578                        	
17579                        		.dbg	line,	"include\init.c", 175; //**************************************************************************************//
17580                        	
17581                        		.dbg	line,	"include\init.c", 176; //                                                                                      //
17582                        	
17583                        		.dbg	line,	"include\init.c", 177; //                                       SPRITES                                        //
17584                        	
17585                        		.dbg	line,	"include\init.c", 178; //                                                                                      //
17586                        	
17587                        		.dbg	line,	"include\init.c", 179; //**************************************************************************************//
17588                        	
17589                        		.dbg	line,	"include\init.c", 181; //--------------------------------------------------------------------------------------//
17590                        	
17591                        		.dbg	line,	"include\init.c", 182; //                                        CURSOR                                        //
17592                        	
17593                        		.dbg	line,	"include\init.c", 183; //--------------------------------------------------------------------------------------//
17594                        	
17595                        		.dbg	line,	"include\init.c", 185; // LOAD CURSOR TILES //
17596                        	
17597                        		.dbg	line,	"include\init.c", 186; load_vram(0x2000, tiles_SPR_SELECTOR , SIZEOF(tiles_SPR_SELECTOR) >> 1 );
17598                        		__st.wmiq	8192, _di
         1E:D9E6  64 F0      			stz.l	_di
         1E:D9E8  A9 20      			lda.h	#8192
         1E:D9EA  85 F1      			sta.h	_di
17599                        		__farptr	_tiles_SPR_SELECTOR, _bp_bank, _bp
         1E:D9EC  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_SELECTOR))
         1E:D9EE  85 EC      			sta.l	_bp
         1E:D9F0  A9 7D      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_SELECTOR))
         1E:D9F2  85 ED      			sta.h	_bp
         1E:D9F4  A9 15      			lda	#bank(_tiles_SPR_SELECTOR)
         1E:D9F6  85 02      			sta	_bp_bank
17600                        		__ld.wi		___sizeof__tiles_SPR_SELECTOR
         1E:D9F8  A9 80      			lda.l	#___sizeof__tiles_SPR_SELECTOR
         1E:D9FA  A0 00      			ldy.h	#___sizeof__tiles_SPR_SELECTOR
17601                        		__lsr.wi	1
         1E:D9FC  42         			say
         1E:D9FD  4A         			lsr	a
         1E:D9FE  42         			say
         1E:D9FF  6A         			ror	a
17602                        		__st.wmq	_ax
         1E:DA00  85 F8      			sta.l	_ax
         1E:DA02  84 F9      			sty.h	_ax
17603                        		 _load_vram.3
         1E:DA04  82         			clx				; Offset to PCE VDC.
         1E:DA05  20 1D FF   			call	load_vram_x
17604                        	
17605                        		.dbg	line,	"include\init.c", 189; // SELECT CURSOR SPRITE //
17606                        	
17607                        		.dbg	line,	"include\init.c", 190; spr_set(0);
17608                        		__ld.uiq	0
         1E:DA08  62         			cla
17609                        		__call		_spr_set.1
         1E:DA09  20 DD E7   			call	_spr_set.1
17610                        	
17611                        		.dbg	line,	"include\init.c", 193; spr_x(72);
17612                        		__ld.wi		72
         1E:DA0C  A9 48      			lda.l	#72
         1E:DA0E  C2         			cly
17613                        		__call		_spr_x.1
         1E:DA0F  20 0A E8   			call	_spr_x.1
17614                        	
17615                        		.dbg	line,	"include\init.c", 194; spr_y(144);
17616                        		__ld.wi		144
         1E:DA12  A9 90      			lda.l	#144
         1E:DA14  C2         			cly
17617                        		__call		_spr_y.1
         1E:DA15  20 19 E8   			call	_spr_y.1
17618                        	
17619                        		.dbg	line,	"include\init.c", 196; // SET TILES DATA FOR THE CURSOR //
17620                        	
17621                        		.dbg	line,	"include\init.c", 197; spr_pattern(0x2000);
17622                        		__ld.wi		8192
         1E:DA18  62         			cla
         1E:DA19  A0 20      			ldy.h	#8192
17623                        		__call		_spr_pattern.1
         1E:DA1B  20 26 E8   			call	_spr_pattern.1
17624                        	
17625                        		.dbg	line,	"include\init.c", 200; spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_16x16);
17626                        		__st.umiq	185, _al
         1E:DA1E  A9 B9      			lda.l	#185
         1E:DA20  85 F8      			sta	_al
17627                        		__ld.uiq	0
         1E:DA22  62         			cla
17628                        		__call		_spr_ctrl.2
         1E:DA23  20 3C E8   			call	_spr_ctrl.2
17629                        	
17630                        		.dbg	line,	"include\init.c", 203; spr_pal(16);
17631                        		__ld.uiq	16
         1E:DA26  A9 10      			lda	#16
17632                        		__call		_spr_pal.1
         1E:DA28  20 4D E8   			call	_spr_pal.1
17633                        	
17634                        		.dbg	line,	"include\init.c", 204; spr_pri(TRUE);
17635                        		__ld.uiq	1
         1E:DA2B  A9 01      			lda	#1
17636                        		__call		_spr_pri.1
         1E:DA2D  20 5C E8   			call	_spr_pri.1
17637                        	
17638                        		.dbg	line,	"include\init.c", 207; //--------------------------------------------------------------------------------------//
17639                        	
17640                        		.dbg	line,	"include\init.c", 208; //                                LOAD SPRITES PALETTES                                 //
17641                        	
17642                        		.dbg	line,	"include\init.c", 209; //--------------------------------------------------------------------------------------//
17643                        	
17644                        		.dbg	line,	"include\init.c", 211; load_palette( 16, palette_objects_2, 1 );
17645                        		__st.umiq	16, _al
         1E:DA30  A9 10      			lda.l	#16
         1E:DA32  85 F8      			sta	_al
17646                        		__farptr	_palette_objects_2, _bp_bank, _bp
         1E:DA34  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_objects_2))
         1E:DA36  85 EC      			sta.l	_bp
         1E:DA38  A9 74      			lda.h	#$6000 + ($1FFF & (_palette_objects_2))
         1E:DA3A  85 ED      			sta.h	_bp
         1E:DA3C  A9 1A      			lda	#bank(_palette_objects_2)
         1E:DA3E  85 02      			sta	_bp_bank
17647                        		__st.umiq	1, _ah
         1E:DA40  A9 01      			lda.l	#1
         1E:DA42  85 F9      			sta	_ah
17648                        		__call		_load_palette.3
         1E:DA44  20 8B FF   			call	_load_palette.3
17649                        	
17650                        		.dbg	line,	"include\init.c", 216; // UPDATE PCE SAT //
17651                        	
17652                        		.dbg	line,	"include\init.c", 217; satb_update();
17653                        		__call		_satb_update
         1E:DA47  20 EB FE   			call	_satb_update
17654                        	
17655                        		.dbg	line,	"include\init.c", 222; // VSYNC //
17656                        	
17657                        		.dbg	line,	"include\init.c", 223; vsync();
17658                        		__call		_vsync
         1E:DA4A  20 09 E3   			call	_vsync
17659                        	
17660                        		.dbg	line,	"include\init.c", 225; // ENABLE DISPLAY //
17661                        	
17662                        		.dbg	line,	"include\init.c", 226; disp_on();
17663                        		__call		_disp_on
         1E:DA4D  20 16 E4   			call	_disp_on
17664                        	
17665                        		.dbg	line,	"include\init.c", 227; }
17666    1E:DA50             	.LL846:
17667                        		__return	0
         1E:DA50  4C EF FF   			jmp	leave_proc
17668                        		.dbg	clear
17669                        		.endp
17670                        		.pceas
17671                        	
17672                        		.dbg	line,	"include\init.c", 233; void init_INTRO()
17673                        		.dbg	line,	"include\init.c", 234; {
17674                        	;***********************
17675                        	;***********************
17676                        	
17677                        		.hucc
17678    1E:D4A3             		.proc		_init_INTRO
17679                        		__enter		_init_INTRO
17680                        	
17681                        		.dbg	line,	"include\init.c", 235; char i;
17682                        	
17683                        		.dbg	line,	"include\init.c", 236; 
17684                        	
17685                        		.dbg	line,	"include\init.c", 237; // DISABLE DISPLAY //
17686                        	
17687                        		.dbg	line,	"include\init.c", 238; disp_off();
17688                        		__call		_disp_off
         1E:D4A3  20 29 E4   			call	_disp_off
17689                        	
17690                        		.dbg	line,	"include\init.c", 239; 
17691                        	
17692                        		.dbg	line,	"include\init.c", 241; // VSYNC //
17693                        	
17694                        		.dbg	line,	"include\init.c", 242; vsync();
17695                        		__call		_vsync
         1E:D4A6  20 09 E3   			call	_vsync
17696                        	
17697                        		.dbg	line,	"include\init.c", 245; // SET VDC 1 SCREEN SIZE (IN TILES) - 64x64 = 256 PIXELS
17698                        	
17699                        		.dbg	line,	"include\init.c", 246; set_screen_size(SCR_SIZE_64x64);
17700                        		__st.umiq	5, _al
         1E:D4A9  A9 05      			lda.l	#5
         1E:D4AB  85 F8      			sta	_al
17701                        		__call		_set_screen_size.1
         1E:D4AD  20 FF FE   			call	_set_screen_size.1
17702                        	
17703                        		.dbg	line,	"include\init.c", 248; // SET VDC 2 SCREEN SIZE (IN TILES) - 32x32 = 256 PIXELS
17704                        	
17705                        		.dbg	line,	"include\init.c", 249; sgx_set_screen_size(SCR_SIZE_32x32);
17706                        		__st.umiq	0, _al
         1E:D4B0  64 F8      			stz	_al
17707                        		__call		_sgx_set_screen_size.1
         1E:D4B2  20 F5 FE   			call	_sgx_set_screen_size.1
17708                        	
17709                        		.dbg	line,	"include\init.c", 254; //**************************************************************************************//
17710                        	
17711                        		.dbg	line,	"include\init.c", 255; //                                                                                      //
17712                        	
17713                        		.dbg	line,	"include\init.c", 256; //                                      VARIABLES                                       //
17714                        	
17715                        		.dbg	line,	"include\init.c", 257; //                                                                                      //
17716                        	
17717                        		.dbg	line,	"include\init.c", 258; //**************************************************************************************//
17718                        	
17719                        		.dbg	line,	"include\init.c", 260; global_counter = 1;
17720                        		__st.wmiq	1, _global_counter
         1E:D4B5  A9 01      			lda.l	#1
         1E:D4B7  8D 35 26   			sta.l	_global_counter
         1E:D4BA  9C 36 26   			stz.h	_global_counter
17721                        	
17722                        		.dbg	line,	"include\init.c", 262; vdc_map_pxl_x = 0;
17723                        		__st.wmiq	0, _vdc_map_pxl_x
         1E:D4BD  9C AE 26   			stz.l	_vdc_map_pxl_x
         1E:D4C0  9C AF 26   			stz.h	_vdc_map_pxl_x
17724                        	
17725                        		.dbg	line,	"include\init.c", 263; vdc_map_pxl_y = 0;
17726                        		__st.wmiq	0, _vdc_map_pxl_y
         1E:D4C3  9C B0 26   			stz.l	_vdc_map_pxl_y
         1E:D4C6  9C B1 26   			stz.h	_vdc_map_pxl_y
17727                        	
17728                        		.dbg	line,	"include\init.c", 268; //**************************************************************************************//
17729                        	
17730                        		.dbg	line,	"include\init.c", 269; //                                                                                      //
17731                        	
17732                        		.dbg	line,	"include\init.c", 270; //                                        VDC 1                                         //
17733                        	
17734                        		.dbg	line,	"include\init.c", 271; //                                                                                      //
17735                        	
17736                        		.dbg	line,	"include\init.c", 272; //**************************************************************************************//
17737                        	
17738                        		.dbg	line,	"include\init.c", 274; //--------------------------------------------------------------------------------------//
17739                        	
17740                        		.dbg	line,	"include\init.c", 275; //                                    LOAD TILEMAP                                      //
17741                        	
17742                        		.dbg	line,	"include\init.c", 276; //--------------------------------------------------------------------------------------//
17743                        	
17744                        		.dbg	line,	"include\init.c", 278; load_vram( 0x0000, tilemap_INTRO_BG_A, SIZEOF(tilemap_INTRO_BG_A) >> 1 );
17745                        		__st.wmiq	0, _di
         1E:D4C9  64 F0      			stz.l	_di
         1E:D4CB  64 F1      			stz.h	_di
17746                        		__farptr	_tilemap_INTRO_BG_A, _bp_bank, _bp
         1E:D4CD  A9 E0      			lda.l	#$6000 + ($1FFF & (_tilemap_INTRO_BG_A))
         1E:D4CF  85 EC      			sta.l	_bp
         1E:D4D1  A9 76      			lda.h	#$6000 + ($1FFF & (_tilemap_INTRO_BG_A))
         1E:D4D3  85 ED      			sta.h	_bp
         1E:D4D5  A9 05      			lda	#bank(_tilemap_INTRO_BG_A)
         1E:D4D7  85 02      			sta	_bp_bank
17747                        		__ld.wi		___sizeof__tilemap_INTRO_BG_A
         1E:D4D9  A9 00      			lda.l	#___sizeof__tilemap_INTRO_BG_A
         1E:D4DB  A0 20      			ldy.h	#___sizeof__tilemap_INTRO_BG_A
17748                        		__lsr.wi	1
         1E:D4DD  42         			say
         1E:D4DE  4A         			lsr	a
         1E:D4DF  42         			say
         1E:D4E0  6A         			ror	a
17749                        		__st.wmq	_ax
         1E:D4E1  85 F8      			sta.l	_ax
         1E:D4E3  84 F9      			sty.h	_ax
17750                        		 _load_vram.3
         1E:D4E5  82         			clx				; Offset to PCE VDC.
         1E:D4E6  20 1D FF   			call	load_vram_x
17751                        	
17752                        		.dbg	line,	"include\init.c", 280; //--------------------------------------------------------------------------------------//
17753                        	
17754                        		.dbg	line,	"include\init.c", 281; //                                    LOAD TILESET                                      //
17755                        	
17756                        		.dbg	line,	"include\init.c", 282; //--------------------------------------------------------------------------------------//
17757                        	
17758                        		.dbg	line,	"include\init.c", 284; load_vram( 0x1000, tileset_INTRO_BG_A, SIZEOF(tileset_INTRO_BG_A) >> 1 );
17759                        		__st.wmiq	4096, _di
         1E:D4E9  64 F0      			stz.l	_di
         1E:D4EB  A9 10      			lda.h	#4096
         1E:D4ED  85 F1      			sta.h	_di
17760                        		__farptr	_tileset_INTRO_BG_A, _bp_bank, _bp
         1E:D4EF  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_INTRO_BG_A))
         1E:D4F1  85 EC      			sta.l	_bp
         1E:D4F3  A9 6B      			lda.h	#$6000 + ($1FFF & (_tileset_INTRO_BG_A))
         1E:D4F5  85 ED      			sta.h	_bp
         1E:D4F7  A9 05      			lda	#bank(_tileset_INTRO_BG_A)
         1E:D4F9  85 02      			sta	_bp_bank
17761                        		__ld.wi		___sizeof__tileset_INTRO_BG_A
         1E:D4FB  A9 80      			lda.l	#___sizeof__tileset_INTRO_BG_A
         1E:D4FD  A0 0B      			ldy.h	#___sizeof__tileset_INTRO_BG_A
17762                        		__lsr.wi	1
         1E:D4FF  42         			say
         1E:D500  4A         			lsr	a
         1E:D501  42         			say
         1E:D502  6A         			ror	a
17763                        		__st.wmq	_ax
         1E:D503  85 F8      			sta.l	_ax
         1E:D505  84 F9      			sty.h	_ax
17764                        		 _load_vram.3
         1E:D507  82         			clx				; Offset to PCE VDC.
         1E:D508  20 1D FF   			call	load_vram_x
17765                        	
17766                        		.dbg	line,	"include\init.c", 287; //--------------------------------------------------------------------------------------//
17767                        	
17768                        		.dbg	line,	"include\init.c", 288; //                                    SCROLL SPLIT                                      //
17769                        	
17770                        		.dbg	line,	"include\init.c", 289; //--------------------------------------------------------------------------------------//
17771                        	
17772                        		.dbg	line,	"include\init.c", 291; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
17773                        		__st.umiq	0, _al
         1E:D50B  64 F8      			stz	_al
17774                        		__st.umiq	0, _ah
         1E:D50D  64 F9      			stz	_ah
17775                        		__ld.wm		_vdc_map_pxl_x
         1E:D50F  AD AE 26   			lda.l	_vdc_map_pxl_x
         1E:D512  AC AF 26   			ldy.h	_vdc_map_pxl_x
17776                        		__and.wi	511
         1E:D515  29 FF      			and.l	#511
         1E:D517  42         			say
         1E:D518  29 01      			and.h	#511
         1E:D51A  42         			say
17777                        		__st.wmq	_bx
         1E:D51B  85 FA      			sta.l	_bx
         1E:D51D  84 FB      			sty.h	_bx
17778                        		__ld.wm		_vdc_map_pxl_y
         1E:D51F  AD B0 26   			lda.l	_vdc_map_pxl_y
         1E:D522  AC B1 26   			ldy.h	_vdc_map_pxl_y
17779                        		__and.wi	511
         1E:D525  29 FF      			and.l	#511
         1E:D527  42         			say
         1E:D528  29 01      			and.h	#511
         1E:D52A  42         			say
17780                        		__st.wmq	_cx
         1E:D52B  85 FC      			sta.l	_cx
         1E:D52D  84 FD      			sty.h	_cx
17781                        		__st.umiq	192, _dl
         1E:D52F  A9 C0      			lda.l	#192
         1E:D531  85 FE      			sta	_dl
17782                        		__call		_scroll_split.5
         1E:D533  20 81 FF   			call	_scroll_split.5
17783                        	
17784                        		.dbg	line,	"include\init.c", 296; //--------------------------------------------------------------------------------------//
17785                        	
17786                        		.dbg	line,	"include\init.c", 297; //                                      LOAD FONT                                       //
17787                        	
17788                        		.dbg	line,	"include\init.c", 298; //--------------------------------------------------------------------------------------//
17789                        	
17790                        		.dbg	line,	"include\init.c", 300; set_font_addr(0x3000);
17791                        		__ld.wi		12288
         1E:D536  62         			cla
         1E:D537  A0 30      			ldy.h	#12288
17792                        		__call		_set_font_addr.1
         1E:D539  20 E2 E5   			call	_set_font_addr.1
17793                        	
17794                        		.dbg	line,	"include\init.c", 301; load_vram( 0x3000, tileset_FONT_INTRO, SIZEOF(tileset_FONT_INTRO) >> 1 );
17795                        		__st.wmiq	12288, _di
         1E:D53C  64 F0      			stz.l	_di
         1E:D53E  A9 30      			lda.h	#12288
         1E:D540  85 F1      			sta.h	_di
17796                        		__farptr	_tileset_FONT_INTRO, _bp_bank, _bp
         1E:D542  A9 00      			lda.l	#$6000 + ($1FFF & (_tileset_FONT_INTRO))
         1E:D544  85 EC      			sta.l	_bp
         1E:D546  A9 60      			lda.h	#$6000 + ($1FFF & (_tileset_FONT_INTRO))
         1E:D548  85 ED      			sta.h	_bp
         1E:D54A  A9 03      			lda	#bank(_tileset_FONT_INTRO)
         1E:D54C  85 02      			sta	_bp_bank
17797                        		__ld.wi		___sizeof__tileset_FONT_INTRO
         1E:D54E  A9 00      			lda.l	#___sizeof__tileset_FONT_INTRO
         1E:D550  A0 0C      			ldy.h	#___sizeof__tileset_FONT_INTRO
17798                        		__lsr.wi	1
         1E:D552  42         			say
         1E:D553  4A         			lsr	a
         1E:D554  42         			say
         1E:D555  6A         			ror	a
17799                        		__st.wmq	_ax
         1E:D556  85 F8      			sta.l	_ax
         1E:D558  84 F9      			sty.h	_ax
17800                        		 _load_vram.3
         1E:D55A  82         			clx				; Offset to PCE VDC.
         1E:D55B  20 1D FF   			call	load_vram_x
17801                        	
17802                        		.dbg	line,	"include\init.c", 303; set_font_pal(15);
17803                        		__ld.uiq	15
         1E:D55E  A9 0F      			lda	#15
17804                        		__call		_set_font_pal.1
         1E:D560  20 09 E6   			call	_set_font_pal.1
17805                        	
17806                        		.dbg	line,	"include\init.c", 307; //**************************************************************************************//
17807                        	
17808                        		.dbg	line,	"include\init.c", 308; //                                                                                      //
17809                        	
17810                        		.dbg	line,	"include\init.c", 309; //                                        VDC 2                                         //
17811                        	
17812                        		.dbg	line,	"include\init.c", 310; //                                                                                      //
17813                        	
17814                        		.dbg	line,	"include\init.c", 311; //**************************************************************************************//
17815                        	
17816                        		.dbg	line,	"include\init.c", 313; //--------------------------------------------------------------------------------------//
17817                        	
17818                        		.dbg	line,	"include\init.c", 314; //                                    LOAD TILEMAP                                      //
17819                        	
17820                        		.dbg	line,	"include\init.c", 315; //--------------------------------------------------------------------------------------//
17821                        	
17822                        		.dbg	line,	"include\init.c", 317; sgx_load_vram( 0x0000, tilemap_INTRO_BG_B, SIZEOF(tilemap_INTRO_BG_B) >> 1 );
17823                        		__st.wmiq	0, _di
         1E:D563  64 F0      			stz.l	_di
         1E:D565  64 F1      			stz.h	_di
17824                        		__farptr	_tilemap_INTRO_BG_B, _bp_bank, _bp
         1E:D567  A9 60      			lda.l	#$6000 + ($1FFF & (_tilemap_INTRO_BG_B))
         1E:D569  85 EC      			sta.l	_bp
         1E:D56B  A9 64      			lda.h	#$6000 + ($1FFF & (_tilemap_INTRO_BG_B))
         1E:D56D  85 ED      			sta.h	_bp
         1E:D56F  A9 05      			lda	#bank(_tilemap_INTRO_BG_B)
         1E:D571  85 02      			sta	_bp_bank
17825                        		__ld.wi		___sizeof__tilemap_INTRO_BG_B
         1E:D573  A9 00      			lda.l	#___sizeof__tilemap_INTRO_BG_B
         1E:D575  A0 07      			ldy.h	#___sizeof__tilemap_INTRO_BG_B
17826                        		__lsr.wi	1
         1E:D577  42         			say
         1E:D578  4A         			lsr	a
         1E:D579  42         			say
         1E:D57A  6A         			ror	a
17827                        		__st.wmq	_ax
         1E:D57B  85 F8      			sta.l	_ax
         1E:D57D  84 F9      			sty.h	_ax
17828                        		 _sgx_load_vram.3
         1E:D57F  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D581  20 1D FF   			call	load_vram_x
17829                        	
17830                        		.dbg	line,	"include\init.c", 319; //--------------------------------------------------------------------------------------//
17831                        	
17832                        		.dbg	line,	"include\init.c", 320; //                                    LOAD TILESET                                      //
17833                        	
17834                        		.dbg	line,	"include\init.c", 321; //--------------------------------------------------------------------------------------//
17835                        	
17836                        		.dbg	line,	"include\init.c", 323; sgx_load_vram( 0x1000, tileset_INTRO_BG_B, SIZEOF(tileset_INTRO_BG_B) >> 1 );
17837                        		__st.wmiq	4096, _di
         1E:D584  64 F0      			stz.l	_di
         1E:D586  A9 10      			lda.h	#4096
         1E:D588  85 F1      			sta.h	_di
17838                        		__farptr	_tileset_INTRO_BG_B, _bp_bank, _bp
         1E:D58A  A9 00      			lda.l	#$6000 + ($1FFF & (_tileset_INTRO_BG_B))
         1E:D58C  85 EC      			sta.l	_bp
         1E:D58E  A9 70      			lda.h	#$6000 + ($1FFF & (_tileset_INTRO_BG_B))
         1E:D590  85 ED      			sta.h	_bp
         1E:D592  A9 03      			lda	#bank(_tileset_INTRO_BG_B)
         1E:D594  85 02      			sta	_bp_bank
17839                        		__ld.wi		___sizeof__tileset_INTRO_BG_B
         1E:D596  A9 60      			lda.l	#___sizeof__tileset_INTRO_BG_B
         1E:D598  A0 34      			ldy.h	#___sizeof__tileset_INTRO_BG_B
17840                        		__lsr.wi	1
         1E:D59A  42         			say
         1E:D59B  4A         			lsr	a
         1E:D59C  42         			say
         1E:D59D  6A         			ror	a
17841                        		__st.wmq	_ax
         1E:D59E  85 F8      			sta.l	_ax
         1E:D5A0  84 F9      			sty.h	_ax
17842                        		 _sgx_load_vram.3
         1E:D5A2  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D5A4  20 1D FF   			call	load_vram_x
17843                        	
17844                        		.dbg	line,	"include\init.c", 328; //--------------------------------------------------------------------------------------//
17845                        	
17846                        		.dbg	line,	"include\init.c", 329; //                                   LOAD BG PALETTES                                   //
17847                        	
17848                        		.dbg	line,	"include\init.c", 330; //--------------------------------------------------------------------------------------//
17849                        	
17850                        		.dbg	line,	"include\init.c", 332; // STORES DESTINATION PALETTE FOR FADE //
17851                        	
17852                        		.dbg	line,	"include\init.c", 333; load_palette( 0, palette_INTRO_1, 1 );
17853                        		__st.umiq	0, _al
         1E:D5A7  64 F8      			stz	_al
17854                        		__farptr	_palette_INTRO_1, _bp_bank, _bp
         1E:D5A9  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_1))
         1E:D5AB  85 EC      			sta.l	_bp
         1E:D5AD  A9 76      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_1))
         1E:D5AF  85 ED      			sta.h	_bp
         1E:D5B1  A9 06      			lda	#bank(_palette_INTRO_1)
         1E:D5B3  85 02      			sta	_bp_bank
17855                        		__st.umiq	1, _ah
         1E:D5B5  A9 01      			lda.l	#1
         1E:D5B7  85 F9      			sta	_ah
17856                        		__call		_load_palette.3
         1E:D5B9  20 8B FF   			call	_load_palette.3
17857                        	
17858                        		.dbg	line,	"include\init.c", 334; load_palette( 15, palette_FONT_INTRO, 1 );
17859                        		__st.umiq	15, _al
         1E:D5BC  A9 0F      			lda.l	#15
         1E:D5BE  85 F8      			sta	_al
17860                        		__farptr	_palette_FONT_INTRO, _bp_bank, _bp
         1E:D5C0  A9 00      			lda.l	#$6000 + ($1FFF & (_palette_FONT_INTRO))
         1E:D5C2  85 EC      			sta.l	_bp
         1E:D5C4  A9 6C      			lda.h	#$6000 + ($1FFF & (_palette_FONT_INTRO))
         1E:D5C6  85 ED      			sta.h	_bp
         1E:D5C8  A9 03      			lda	#bank(_palette_FONT_INTRO)
         1E:D5CA  85 02      			sta	_bp_bank
17861                        		__st.umiq	1, _ah
         1E:D5CC  A9 01      			lda.l	#1
         1E:D5CE  85 F9      			sta	_ah
17862                        		__call		_load_palette.3
         1E:D5D0  20 8B FF   			call	_load_palette.3
17863                        	
17864                        		.dbg	line,	"include\init.c", 339; //**************************************************************************************//
17865                        	
17866                        		.dbg	line,	"include\init.c", 340; //                                                                                      //
17867                        	
17868                        		.dbg	line,	"include\init.c", 341; //                                       SPRITES                                        //
17869                        	
17870                        		.dbg	line,	"include\init.c", 342; //                                                                                      //
17871                        	
17872                        		.dbg	line,	"include\init.c", 343; //**************************************************************************************//
17873                        	
17874                        		.dbg	line,	"include\init.c", 345; // HIDE CURSOR SPRITE FROM TITLE SCREEN //
17875                        	
17876                        		.dbg	line,	"include\init.c", 346; spr_set(0);
17877                        		__ld.uiq	0
         1E:D5D3  62         			cla
17878                        		__call		_spr_set.1
         1E:D5D4  20 DD E7   			call	_spr_set.1
17879                        	
17880                        		.dbg	line,	"include\init.c", 347; spr_hide();
17881                        		__call		_spr_hide
         1E:D5D7  20 F8 E7   			call	_spr_hide
17882                        	
17883                        		.dbg	line,	"include\init.c", 349; //--------------------------------------------------------------------------------------//
17884                        	
17885                        		.dbg	line,	"include\init.c", 350; //                                        DRAGON                                        //
17886                        	
17887                        		.dbg	line,	"include\init.c", 351; //--------------------------------------------------------------------------------------//
17888                        	
17889                        		.dbg	line,	"include\init.c", 353; player_pos_x = 113;
17890                        		__st.wmiq	113, _player_pos_x
         1E:D5DA  A9 71      			lda.l	#113
         1E:D5DC  8D DB 24   			sta.l	_player_pos_x
         1E:D5DF  9C DC 24   			stz.h	_player_pos_x
17891                        	
17892                        		.dbg	line,	"include\init.c", 354; player_pos_y = 81;
17893                        		__st.wmiq	81, _player_pos_y
         1E:D5E2  A9 51      			lda.l	#81
         1E:D5E4  8D DD 24   			sta.l	_player_pos_y
         1E:D5E7  9C DE 24   			stz.h	_player_pos_y
17894                        	
17895                        		.dbg	line,	"include\init.c", 356; // LOAD DRAGON TILES //
17896                        	
17897                        		.dbg	line,	"include\init.c", 357; sgx_load_vram(DRAGON_INTRO_VRAM_ADR, tiles_SPR_DRAGON_INTRO , SIZEOF(tiles_SPR_DRAGON_INTRO) >> 1);
17898                        		__st.wmiq	11264, _di
         1E:D5EA  64 F0      			stz.l	_di
         1E:D5EC  A9 2C      			lda.h	#11264
         1E:D5EE  85 F1      			sta.h	_di
17899                        		__farptr	_tiles_SPR_DRAGON_INTRO, _bp_bank, _bp
         1E:D5F0  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_DRAGON_INTRO))
         1E:D5F2  85 EC      			sta.l	_bp
         1E:D5F4  A9 7B      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_DRAGON_INTRO))
         1E:D5F6  85 ED      			sta.h	_bp
         1E:D5F8  A9 13      			lda	#bank(_tiles_SPR_DRAGON_INTRO)
         1E:D5FA  85 02      			sta	_bp_bank
17900                        		__ld.wi		___sizeof__tiles_SPR_DRAGON_INTRO
         1E:D5FC  A9 00      			lda.l	#___sizeof__tiles_SPR_DRAGON_INTRO
         1E:D5FE  A0 40      			ldy.h	#___sizeof__tiles_SPR_DRAGON_INTRO
17901                        		__lsr.wi	1
         1E:D600  42         			say
         1E:D601  4A         			lsr	a
         1E:D602  42         			say
         1E:D603  6A         			ror	a
17902                        		__st.wmq	_ax
         1E:D604  85 F8      			sta.l	_ax
         1E:D606  84 F9      			sty.h	_ax
17903                        		 _sgx_load_vram.3
         1E:D608  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D60A  20 1D FF   			call	load_vram_x
17904                        	
17905                        		.dbg	line,	"include\init.c", 360; for(i=0 ; i<8 ; i++)
17906                        		__st.umiq	0, __init_INTRO_end - 1  /* i */
         1E:D60D  9C 79 26   			stz	__init_INTRO_end - 1
17907    1E:D610             	.LL848:
17908                        		__ld.umq	__init_INTRO_end - 1  /* i */
         1E:D610  AD 79 26   			lda	__init_INTRO_end - 1
17909                        		__ult_b.uiq	8
         1E:D613  C9 08      			cmp	#8		; Subtract integer from A.
         1E:D615  6A         			ror	a		; CC if A < integer.
         1E:D616  49 80      			eor	#$80
         1E:D618  2A         			rol	a
17910                        		__btrue		.LL850
         1E:D619  B0 08      			bcs	.LL850
17911                        		__bra		.LL851
         1E:D61B  4C A3 D6   			bra	.LL851
17912    1E:D61E             	.LL849:
17913                        		__inc.umq	__init_INTRO_end - 1  /* i */
         1E:D61E  EE 79 26   			inc	__init_INTRO_end - 1
17914                        		__bra		.LL848
         1E:D621  80 ED      			bra	.LL848
17915    1E:D623             	.LL850:
17916                        	
17917                        		.dbg	line,	"include\init.c", 361; {
17918                        	
17919                        		.dbg	line,	"include\init.c", 362; sgx_spr_set(i);
17920                        		__ld.umq	__init_INTRO_end - 1  /* i */
         1E:D623  AD 79 26   			lda	__init_INTRO_end - 1
17921                        		__call		_sgx_spr_set.1
         1E:D626  20 8A E8   			call	_sgx_spr_set.1
17922                        	
17923                        		.dbg	line,	"include\init.c", 363; sgx_spr_x(player_pos_x + (i*32) - ((i>>2)*128));
17924                        		__ld.um		__init_INTRO_end - 1  /* i */
         1E:D629  AD 79 26   			lda	__init_INTRO_end - 1
         1E:D62C  C2         			cly
17925                        		__asl.wi	5
         1E:D62D  85 00      			sta	__temp
         1E:D62F  98         			tya
         1E:D630  4A         			lsr	a
         1E:D631  20 C8 E1   			jsr	aslw5
         1E:D634  29 E0      			and.l	#$FF << 5
17926                        		__add.wm	_player_pos_x
         1E:D636  18         			clc
         1E:D637  6D DB 24   			adc.l	_player_pos_x
         1E:D63A  42         			say
         1E:D63B  6D DC 24   			adc.h	_player_pos_x
         1E:D63E  42         			say
17927                        		__push.wr
         1E:D63F  5A         			phy
         1E:D640  48         			pha
17928                        		__ld.um		__init_INTRO_end - 1  /* i */
         1E:D641  AD 79 26   			lda	__init_INTRO_end - 1
         1E:D644  C2         			cly
17929                        		__lsr.uiq	2
         1E:D645  4A         			lsr	a
         1E:D646  4A         			lsr	a
17930                        		__asl.wi	7
         1E:D647  42         			say
         1E:D648  4A         			lsr	a
         1E:D649  42         			say
         1E:D64A  6A         			ror	a
         1E:D64B  42         			say
         1E:D64C  6A         			ror	a
         1E:D64D  29 80      			and	#$80
17931                        		__sub.wt
         1E:D64F  BA         			tsx
         1E:D650  38         			sec
         1E:D651  49 FF      			eor	#$FF
         1E:D653  7D 01 21   			adc.l	__tos, x
         1E:D656  42         			say
         1E:D657  49 FF      			eor	#$FF
         1E:D659  7D 02 21   			adc.h	__tos, x
         1E:D65C  42         			say
         1E:D65D  E8         			inx
         1E:D65E  E8         			inx
         1E:D65F  9A         			txs
17932                        		__call		_sgx_spr_x.1
         1E:D660  20 B7 E8   			call	_sgx_spr_x.1
17933                        	
17934                        		.dbg	line,	"include\init.c", 364; sgx_spr_y(player_pos_y + ((i>>2)*32));
17935                        		__ld.um		__init_INTRO_end - 1  /* i */
         1E:D663  AD 79 26   			lda	__init_INTRO_end - 1
         1E:D666  C2         			cly
17936                        		__lsr.uiq	2
         1E:D667  4A         			lsr	a
         1E:D668  4A         			lsr	a
17937                        		__asl.wi	5
         1E:D669  85 00      			sta	__temp
         1E:D66B  98         			tya
         1E:D66C  4A         			lsr	a
         1E:D66D  20 C8 E1   			jsr	aslw5
         1E:D670  29 E0      			and.l	#$FF << 5
17938                        		__add.wm	_player_pos_y
         1E:D672  18         			clc
         1E:D673  6D DD 24   			adc.l	_player_pos_y
         1E:D676  42         			say
         1E:D677  6D DE 24   			adc.h	_player_pos_y
         1E:D67A  42         			say
17939                        		__call		_sgx_spr_y.1
         1E:D67B  20 C6 E8   			call	_sgx_spr_y.1
17940                        	
17941                        		.dbg	line,	"include\init.c", 365; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16));
17942                        		__ld.um		__init_INTRO_end - 1  /* i */
         1E:D67E  AD 79 26   			lda	__init_INTRO_end - 1
         1E:D681  C2         			cly
17943                        		__asl.wi	8
         1E:D682  A8         			tay
         1E:D683  62         			cla
17944                        		__add.wi	11264
         1E:D684  18         			clc
         1E:D685  69 00      			adc.l	#11264
         1E:D687  42         			say
         1E:D688  69 2C      			adc.h	#11264
         1E:D68A  42         			say
17945                        		__call		_sgx_spr_pattern.1
         1E:D68B  20 D3 E8   			call	_sgx_spr_pattern.1
17946                        	
17947                        		.dbg	line,	"include\init.c", 366; sgx_spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_32x32);
17948                        		__st.umiq	185, _al
         1E:D68E  A9 B9      			lda.l	#185
         1E:D690  85 F8      			sta	_al
17949                        		__ld.uiq	17
         1E:D692  A9 11      			lda	#17
17950                        		__call		_sgx_spr_ctrl.2
         1E:D694  20 E9 E8   			call	_sgx_spr_ctrl.2
17951                        	
17952                        		.dbg	line,	"include\init.c", 367; sgx_spr_pal(16);
17953                        		__ld.uiq	16
         1E:D697  A9 10      			lda	#16
17954                        		__call		_sgx_spr_pal.1
         1E:D699  20 FA E8   			call	_sgx_spr_pal.1
17955                        	
17956                        		.dbg	line,	"include\init.c", 368; sgx_spr_pri(FALSE);
17957                        		__ld.uiq	0
         1E:D69C  62         			cla
17958                        		__call		_sgx_spr_pri.1
         1E:D69D  20 09 E9   			call	_sgx_spr_pri.1
17959                        	
17960                        		.dbg	line,	"include\init.c", 369; }
17961                        		__bra		.LL849
         1E:D6A0  4C 1E D6   			bra	.LL849
17962    1E:D6A3             	.LL851:
17963                        	
17964                        		.dbg	line,	"include\init.c", 370; 
17965                        	
17966                        		.dbg	line,	"include\init.c", 372; //--------------------------------------------------------------------------------------//
17967                        	
17968                        		.dbg	line,	"include\init.c", 373; //                                LOAD SPRITES PALETTES                                 //
17969                        	
17970                        		.dbg	line,	"include\init.c", 374; //--------------------------------------------------------------------------------------//
17971                        	
17972                        		.dbg	line,	"include\init.c", 376; load_palette( 16, palette_SPR_DRAGON_INTRO, 1 );
17973                        		__st.umiq	16, _al
         1E:D6A3  A9 10      			lda.l	#16
         1E:D6A5  85 F8      			sta	_al
17974                        		__farptr	_palette_SPR_DRAGON_INTRO, _bp_bank, _bp
         1E:D6A7  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_SPR_DRAGON_INTRO))
         1E:D6A9  85 EC      			sta.l	_bp
         1E:D6AB  A9 7B      			lda.h	#$6000 + ($1FFF & (_palette_SPR_DRAGON_INTRO))
         1E:D6AD  85 ED      			sta.h	_bp
         1E:D6AF  A9 15      			lda	#bank(_palette_SPR_DRAGON_INTRO)
         1E:D6B1  85 02      			sta	_bp_bank
17975                        		__st.umiq	1, _ah
         1E:D6B3  A9 01      			lda.l	#1
         1E:D6B5  85 F9      			sta	_ah
17976                        		__call		_load_palette.3
         1E:D6B7  20 8B FF   			call	_load_palette.3
17977                        	
17978                        		.dbg	line,	"include\init.c", 380; // UPDATE SGX SAT //
17979                        	
17980                        		.dbg	line,	"include\init.c", 381; sgx_satb_update();
17981                        		__call		_sgx_satb_update
         1E:D6BA  20 E1 FE   			call	_sgx_satb_update
17982                        	
17983                        		.dbg	line,	"include\init.c", 383; // UPDATE PCE SAT //
17984                        	
17985                        		.dbg	line,	"include\init.c", 384; satb_update();
17986                        		__call		_satb_update
         1E:D6BD  20 EB FE   			call	_satb_update
17987                        	
17988                        		.dbg	line,	"include\init.c", 387; // VSYNC //
17989                        	
17990                        		.dbg	line,	"include\init.c", 388; vsync();
17991                        		__call		_vsync
         1E:D6C0  20 09 E3   			call	_vsync
17992                        	
17993                        		.dbg	line,	"include\init.c", 390; // ENABLE DISPLAY //
17994                        	
17995                        		.dbg	line,	"include\init.c", 391; disp_on();
17996                        		__call		_disp_on
         1E:D6C3  20 16 E4   			call	_disp_on
17997                        	
17998                        		.dbg	line,	"include\init.c", 392; }
17999    1E:D6C6             	.LL847:
18000                        		__return	0
         1E:D6C6  4C EF FF   			jmp	leave_proc
18001                        		.dbg	clear
18002                        		.endp
18003                        		.pceas
18004                        	
18005                        		.dbg	line,	"include\init.c", 400; void load_OBJECT_TILES()
18006                        		.dbg	line,	"include\init.c", 401; {
18007                        	;***********************
18008                        	;***********************
18009                        	
18010                        		.hucc
18011    1E:CA98             		.proc		_load_OBJECT_TILES
18012                        		__enter		_load_OBJECT_TILES
18013                        	
18014                        		.dbg	line,	"include\init.c", 402; sgx_load_vram(POT1_VRAM_ADR, tiles_SPR_POT , SIZEOF(tiles_SPR_POT) >> 1);
18015                        		__st.wmiq	26624, _di
         1E:CA98  64 F0      			stz.l	_di
         1E:CA9A  A9 68      			lda.h	#26624
         1E:CA9C  85 F1      			sta.h	_di
18016                        		__farptr	_tiles_SPR_POT, _bp_bank, _bp
         1E:CA9E  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_POT))
         1E:CAA0  85 EC      			sta.l	_bp
         1E:CAA2  A9 6A      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_POT))
         1E:CAA4  85 ED      			sta.h	_bp
         1E:CAA6  A9 1A      			lda	#bank(_tiles_SPR_POT)
         1E:CAA8  85 02      			sta	_bp_bank
18017                        		__ld.wi		___sizeof__tiles_SPR_POT
         1E:CAAA  A9 00      			lda.l	#___sizeof__tiles_SPR_POT
         1E:CAAC  A0 04      			ldy.h	#___sizeof__tiles_SPR_POT
18018                        		__lsr.wi	1
         1E:CAAE  42         			say
         1E:CAAF  4A         			lsr	a
         1E:CAB0  42         			say
         1E:CAB1  6A         			ror	a
18019                        		__st.wmq	_ax
         1E:CAB2  85 F8      			sta.l	_ax
         1E:CAB4  84 F9      			sty.h	_ax
18020                        		 _sgx_load_vram.3
         1E:CAB6  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:CAB8  20 1D FF   			call	load_vram_x
18021                        	
18022                        		.dbg	line,	"include\init.c", 403; sgx_load_vram(POW_VRAM_ADR, tiles_SPR_POW , TILES_4);
18023                        		__st.wmiq	27136, _di
         1E:CABB  64 F0      			stz.l	_di
         1E:CABD  A9 6A      			lda.h	#27136
         1E:CABF  85 F1      			sta.h	_di
18024                        		__farptr	_tiles_SPR_POW, _bp_bank, _bp
         1E:CAC1  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_POW))
         1E:CAC3  85 EC      			sta.l	_bp
         1E:CAC5  A9 6E      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_POW))
         1E:CAC7  85 ED      			sta.h	_bp
         1E:CAC9  A9 1A      			lda	#bank(_tiles_SPR_POW)
         1E:CACB  85 02      			sta	_bp_bank
18025                        		__st.wmiq	64, _ax
         1E:CACD  A9 40      			lda.l	#64
         1E:CACF  85 F8      			sta.l	_ax
         1E:CAD1  64 F9      			stz.h	_ax
18026                        		 _sgx_load_vram.3
         1E:CAD3  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:CAD5  20 1D FF   			call	load_vram_x
18027                        	
18028                        		.dbg	line,	"include\init.c", 404; sgx_load_vram(GRAY_KEY_VRAM_ADR, tiles_SPR_GRAY_KEY , TILES_4);
18029                        		__st.wmiq	27200, _di
         1E:CAD8  A9 40      			lda.l	#27200
         1E:CADA  85 F0      			sta.l	_di
         1E:CADC  A9 6A      			lda.h	#27200
         1E:CADE  85 F1      			sta.h	_di
18030                        		__farptr	_tiles_SPR_GRAY_KEY, _bp_bank, _bp
         1E:CAE0  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_GRAY_KEY))
         1E:CAE2  85 EC      			sta.l	_bp
         1E:CAE4  A9 67      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_GRAY_KEY))
         1E:CAE6  85 ED      			sta.h	_bp
         1E:CAE8  A9 1A      			lda	#bank(_tiles_SPR_GRAY_KEY)
         1E:CAEA  85 02      			sta	_bp_bank
18031                        		__st.wmiq	64, _ax
         1E:CAEC  A9 40      			lda.l	#64
         1E:CAEE  85 F8      			sta.l	_ax
         1E:CAF0  64 F9      			stz.h	_ax
18032                        		 _sgx_load_vram.3
         1E:CAF2  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:CAF4  20 1D FF   			call	load_vram_x
18033                        	
18034                        		.dbg	line,	"include\init.c", 405; sgx_load_vram(GOLD_KEY_VRAM_ADR, tiles_SPR_GOLD_KEY , TILES_4);
18035                        		__st.wmiq	27264, _di
         1E:CAF7  A9 80      			lda.l	#27264
         1E:CAF9  85 F0      			sta.l	_di
         1E:CAFB  A9 6A      			lda.h	#27264
         1E:CAFD  85 F1      			sta.h	_di
18036                        		__farptr	_tiles_SPR_GOLD_KEY, _bp_bank, _bp
         1E:CAFF  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_GOLD_KEY))
         1E:CB01  85 EC      			sta.l	_bp
         1E:CB03  A9 68      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_GOLD_KEY))
         1E:CB05  85 ED      			sta.h	_bp
         1E:CB07  A9 1A      			lda	#bank(_tiles_SPR_GOLD_KEY)
         1E:CB09  85 02      			sta	_bp_bank
18037                        		__st.wmiq	64, _ax
         1E:CB0B  A9 40      			lda.l	#64
         1E:CB0D  85 F8      			sta.l	_ax
         1E:CB0F  64 F9      			stz.h	_ax
18038                        		 _sgx_load_vram.3
         1E:CB11  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:CB13  20 1D FF   			call	load_vram_x
18039                        	
18040                        		.dbg	line,	"include\init.c", 406; sgx_load_vram(LIFE_VRAM_ADR, tiles_SPR_LIFE , TILES_4);
18041                        		__st.wmiq	27328, _di
         1E:CB16  A9 C0      			lda.l	#27328
         1E:CB18  85 F0      			sta.l	_di
         1E:CB1A  A9 6A      			lda.h	#27328
         1E:CB1C  85 F1      			sta.h	_di
18042                        		__farptr	_tiles_SPR_LIFE, _bp_bank, _bp
         1E:CB1E  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_LIFE))
         1E:CB20  85 EC      			sta.l	_bp
         1E:CB22  A9 69      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_LIFE))
         1E:CB24  85 ED      			sta.h	_bp
         1E:CB26  A9 1A      			lda	#bank(_tiles_SPR_LIFE)
         1E:CB28  85 02      			sta	_bp_bank
18043                        		__st.wmiq	64, _ax
         1E:CB2A  A9 40      			lda.l	#64
         1E:CB2C  85 F8      			sta.l	_ax
         1E:CB2E  64 F9      			stz.h	_ax
18044                        		 _sgx_load_vram.3
         1E:CB30  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:CB32  20 1D FF   			call	load_vram_x
18045                        	
18046                        		.dbg	line,	"include\init.c", 407; sgx_load_vram(COIN_1_VRAM_ADR, tiles_SPR_COIN_1 , TILES_4);
18047                        		__st.wmiq	27392, _di
         1E:CB35  64 F0      			stz.l	_di
         1E:CB37  A9 6B      			lda.h	#27392
         1E:CB39  85 F1      			sta.h	_di
18048                        		__farptr	_tiles_SPR_COIN_1, _bp_bank, _bp
         1E:CB3B  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_1))
         1E:CB3D  85 EC      			sta.l	_bp
         1E:CB3F  A9 63      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_1))
         1E:CB41  85 ED      			sta.h	_bp
         1E:CB43  A9 1A      			lda	#bank(_tiles_SPR_COIN_1)
         1E:CB45  85 02      			sta	_bp_bank
18049                        		__st.wmiq	64, _ax
         1E:CB47  A9 40      			lda.l	#64
         1E:CB49  85 F8      			sta.l	_ax
         1E:CB4B  64 F9      			stz.h	_ax
18050                        		 _sgx_load_vram.3
         1E:CB4D  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:CB4F  20 1D FF   			call	load_vram_x
18051                        	
18052                        		.dbg	line,	"include\init.c", 408; sgx_load_vram(COIN_5_VRAM_ADR, tiles_SPR_COIN_5 , TILES_4);
18053                        		__st.wmiq	27456, _di
         1E:CB52  A9 40      			lda.l	#27456
         1E:CB54  85 F0      			sta.l	_di
         1E:CB56  A9 6B      			lda.h	#27456
         1E:CB58  85 F1      			sta.h	_di
18054                        		__farptr	_tiles_SPR_COIN_5, _bp_bank, _bp
         1E:CB5A  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_5))
         1E:CB5C  85 EC      			sta.l	_bp
         1E:CB5E  A9 64      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_5))
         1E:CB60  85 ED      			sta.h	_bp
         1E:CB62  A9 1A      			lda	#bank(_tiles_SPR_COIN_5)
         1E:CB64  85 02      			sta	_bp_bank
18055                        		__st.wmiq	64, _ax
         1E:CB66  A9 40      			lda.l	#64
         1E:CB68  85 F8      			sta.l	_ax
         1E:CB6A  64 F9      			stz.h	_ax
18056                        		 _sgx_load_vram.3
         1E:CB6C  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:CB6E  20 1D FF   			call	load_vram_x
18057                        	
18058                        		.dbg	line,	"include\init.c", 409; sgx_load_vram(COIN_10_VRAM_ADR, tiles_SPR_COIN_10 , TILES_4);
18059                        		__st.wmiq	27520, _di
         1E:CB71  A9 80      			lda.l	#27520
         1E:CB73  85 F0      			sta.l	_di
         1E:CB75  A9 6B      			lda.h	#27520
         1E:CB77  85 F1      			sta.h	_di
18060                        		__farptr	_tiles_SPR_COIN_10, _bp_bank, _bp
         1E:CB79  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_10))
         1E:CB7B  85 EC      			sta.l	_bp
         1E:CB7D  A9 64      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_10))
         1E:CB7F  85 ED      			sta.h	_bp
         1E:CB81  A9 1A      			lda	#bank(_tiles_SPR_COIN_10)
         1E:CB83  85 02      			sta	_bp_bank
18061                        		__st.wmiq	64, _ax
         1E:CB85  A9 40      			lda.l	#64
         1E:CB87  85 F8      			sta.l	_ax
         1E:CB89  64 F9      			stz.h	_ax
18062                        		 _sgx_load_vram.3
         1E:CB8B  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:CB8D  20 1D FF   			call	load_vram_x
18063                        	
18064                        		.dbg	line,	"include\init.c", 410; sgx_load_vram(COIN_50_VRAM_ADR, tiles_SPR_COIN_50 , TILES_4);
18065                        		__st.wmiq	27584, _di
         1E:CB90  A9 C0      			lda.l	#27584
         1E:CB92  85 F0      			sta.l	_di
         1E:CB94  A9 6B      			lda.h	#27584
         1E:CB96  85 F1      			sta.h	_di
18066                        		__farptr	_tiles_SPR_COIN_50, _bp_bank, _bp
         1E:CB98  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_50))
         1E:CB9A  85 EC      			sta.l	_bp
         1E:CB9C  A9 65      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_50))
         1E:CB9E  85 ED      			sta.h	_bp
         1E:CBA0  A9 1A      			lda	#bank(_tiles_SPR_COIN_50)
         1E:CBA2  85 02      			sta	_bp_bank
18067                        		__st.wmiq	64, _ax
         1E:CBA4  A9 40      			lda.l	#64
         1E:CBA6  85 F8      			sta.l	_ax
         1E:CBA8  64 F9      			stz.h	_ax
18068                        		 _sgx_load_vram.3
         1E:CBAA  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:CBAC  20 1D FF   			call	load_vram_x
18069                        	
18070                        		.dbg	line,	"include\init.c", 411; sgx_load_vram(COIN_100_VRAM_ADR, tiles_SPR_COIN_100 , TILES_4);
18071                        		__st.wmiq	27648, _di
         1E:CBAF  64 F0      			stz.l	_di
         1E:CBB1  A9 6C      			lda.h	#27648
         1E:CBB3  85 F1      			sta.h	_di
18072                        		__farptr	_tiles_SPR_COIN_100, _bp_bank, _bp
         1E:CBB5  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_100))
         1E:CBB7  85 EC      			sta.l	_bp
         1E:CBB9  A9 65      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_100))
         1E:CBBB  85 ED      			sta.h	_bp
         1E:CBBD  A9 1A      			lda	#bank(_tiles_SPR_COIN_100)
         1E:CBBF  85 02      			sta	_bp_bank
18073                        		__st.wmiq	64, _ax
         1E:CBC1  A9 40      			lda.l	#64
         1E:CBC3  85 F8      			sta.l	_ax
         1E:CBC5  64 F9      			stz.h	_ax
18074                        		 _sgx_load_vram.3
         1E:CBC7  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:CBC9  20 1D FF   			call	load_vram_x
18075                        	
18076                        		.dbg	line,	"include\init.c", 412; sgx_load_vram(COIN_500_VRAM_ADR, tiles_SPR_COIN_500 , TILES_4);
18077                        		__st.wmiq	27712, _di
         1E:CBCC  A9 40      			lda.l	#27712
         1E:CBCE  85 F0      			sta.l	_di
         1E:CBD0  A9 6C      			lda.h	#27712
         1E:CBD2  85 F1      			sta.h	_di
18078                        		__farptr	_tiles_SPR_COIN_500, _bp_bank, _bp
         1E:CBD4  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_500))
         1E:CBD6  85 EC      			sta.l	_bp
         1E:CBD8  A9 66      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_500))
         1E:CBDA  85 ED      			sta.h	_bp
         1E:CBDC  A9 1A      			lda	#bank(_tiles_SPR_COIN_500)
         1E:CBDE  85 02      			sta	_bp_bank
18079                        		__st.wmiq	64, _ax
         1E:CBE0  A9 40      			lda.l	#64
         1E:CBE2  85 F8      			sta.l	_ax
         1E:CBE4  64 F9      			stz.h	_ax
18080                        		 _sgx_load_vram.3
         1E:CBE6  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:CBE8  20 1D FF   			call	load_vram_x
18081                        	
18082                        		.dbg	line,	"include\init.c", 413; sgx_load_vram(COIN_1000_VRAM_ADR, tiles_SPR_COIN_1000 , TILES_4);
18083                        		__st.wmiq	27776, _di
         1E:CBEB  A9 80      			lda.l	#27776
         1E:CBED  85 F0      			sta.l	_di
         1E:CBEF  A9 6C      			lda.h	#27776
         1E:CBF1  85 F1      			sta.h	_di
18084                        		__farptr	_tiles_SPR_COIN_1000, _bp_bank, _bp
         1E:CBF3  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_1000))
         1E:CBF5  85 EC      			sta.l	_bp
         1E:CBF7  A9 66      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_1000))
         1E:CBF9  85 ED      			sta.h	_bp
         1E:CBFB  A9 1A      			lda	#bank(_tiles_SPR_COIN_1000)
         1E:CBFD  85 02      			sta	_bp_bank
18085                        		__st.wmiq	64, _ax
         1E:CBFF  A9 40      			lda.l	#64
         1E:CC01  85 F8      			sta.l	_ax
         1E:CC03  64 F9      			stz.h	_ax
18086                        		 _sgx_load_vram.3
         1E:CC05  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:CC07  20 1D FF   			call	load_vram_x
18087                        	
18088                        		.dbg	line,	"include\init.c", 414; sgx_load_vram(STAR_VRAM_ADR, tiles_SPR_STAR , TILES_4);
18089                        		__st.wmiq	27840, _di
         1E:CC0A  A9 C0      			lda.l	#27840
         1E:CC0C  85 F0      			sta.l	_di
         1E:CC0E  A9 6C      			lda.h	#27840
         1E:CC10  85 F1      			sta.h	_di
18090                        		__farptr	_tiles_SPR_STAR, _bp_bank, _bp
         1E:CC12  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_STAR))
         1E:CC14  85 EC      			sta.l	_bp
         1E:CC16  A9 6E      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_STAR))
         1E:CC18  85 ED      			sta.h	_bp
         1E:CC1A  A9 1A      			lda	#bank(_tiles_SPR_STAR)
         1E:CC1C  85 02      			sta	_bp_bank
18091                        		__st.wmiq	64, _ax
         1E:CC1E  A9 40      			lda.l	#64
         1E:CC20  85 F8      			sta.l	_ax
         1E:CC22  64 F9      			stz.h	_ax
18092                        		 _sgx_load_vram.3
         1E:CC24  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:CC26  20 1D FF   			call	load_vram_x
18093                        	
18094                        		.dbg	line,	"include\init.c", 415; sgx_load_vram(OCTOPUS_VRAM_ADR, tiles_SPR_OCTOPUS , TILES_4);
18095                        		__st.wmiq	27904, _di
         1E:CC29  64 F0      			stz.l	_di
         1E:CC2B  A9 6D      			lda.h	#27904
         1E:CC2D  85 F1      			sta.h	_di
18096                        		__farptr	_tiles_SPR_OCTOPUS, _bp_bank, _bp
         1E:CC2F  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_OCTOPUS))
         1E:CC31  85 EC      			sta.l	_bp
         1E:CC33  A9 69      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_OCTOPUS))
         1E:CC35  85 ED      			sta.h	_bp
         1E:CC37  A9 1A      			lda	#bank(_tiles_SPR_OCTOPUS)
         1E:CC39  85 02      			sta	_bp_bank
18097                        		__st.wmiq	64, _ax
         1E:CC3B  A9 40      			lda.l	#64
         1E:CC3D  85 F8      			sta.l	_ax
         1E:CC3F  64 F9      			stz.h	_ax
18098                        		 _sgx_load_vram.3
         1E:CC41  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:CC43  20 1D FF   			call	load_vram_x
18099                        	
18100                        		.dbg	line,	"include\init.c", 416; sgx_load_vram(FRUIT_VRAM_ADR, tiles_SPR_FRUIT , TILES_4);
18101                        		__st.wmiq	27968, _di
         1E:CC46  A9 40      			lda.l	#27968
         1E:CC48  85 F0      			sta.l	_di
         1E:CC4A  A9 6D      			lda.h	#27968
         1E:CC4C  85 F1      			sta.h	_di
18102                        		__farptr	_tiles_SPR_FRUIT, _bp_bank, _bp
         1E:CC4E  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_FRUIT))
         1E:CC50  85 EC      			sta.l	_bp
         1E:CC52  A9 67      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_FRUIT))
         1E:CC54  85 ED      			sta.h	_bp
         1E:CC56  A9 1A      			lda	#bank(_tiles_SPR_FRUIT)
         1E:CC58  85 02      			sta	_bp_bank
18103                        		__st.wmiq	64, _ax
         1E:CC5A  A9 40      			lda.l	#64
         1E:CC5C  85 F8      			sta.l	_ax
         1E:CC5E  64 F9      			stz.h	_ax
18104                        		 _sgx_load_vram.3
         1E:CC60  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:CC62  20 1D FF   			call	load_vram_x
18105                        	
18106                        		.dbg	line,	"include\init.c", 417; sgx_load_vram(BARREL_VRAM_ADR, tiles_SPR_BARREL , TILES_4);
18107                        		__st.wmiq	28032, _di
         1E:CC65  A9 80      			lda.l	#28032
         1E:CC67  85 F0      			sta.l	_di
         1E:CC69  A9 6D      			lda.h	#28032
         1E:CC6B  85 F1      			sta.h	_di
18108                        		__farptr	_tiles_SPR_BARREL, _bp_bank, _bp
         1E:CC6D  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_BARREL))
         1E:CC6F  85 EC      			sta.l	_bp
         1E:CC71  A9 77      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_BARREL))
         1E:CC73  85 ED      			sta.h	_bp
         1E:CC75  A9 19      			lda	#bank(_tiles_SPR_BARREL)
         1E:CC77  85 02      			sta	_bp_bank
18109                        		__st.wmiq	64, _ax
         1E:CC79  A9 40      			lda.l	#64
         1E:CC7B  85 F8      			sta.l	_ax
         1E:CC7D  64 F9      			stz.h	_ax
18110                        		 _sgx_load_vram.3
         1E:CC7F  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:CC81  20 1D FF   			call	load_vram_x
18111                        	
18112                        		.dbg	line,	"include\init.c", 418; sgx_load_vram(HOURGLASS_VRAM_ADR, tiles_SPR_HOURGLASS , TILES_4);
18113                        		__st.wmiq	28096, _di
         1E:CC84  A9 C0      			lda.l	#28096
         1E:CC86  85 F0      			sta.l	_di
         1E:CC88  A9 6D      			lda.h	#28096
         1E:CC8A  85 F1      			sta.h	_di
18114                        		__farptr	_tiles_SPR_HOURGLASS, _bp_bank, _bp
         1E:CC8C  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_HOURGLASS))
         1E:CC8E  85 EC      			sta.l	_bp
         1E:CC90  A9 68      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_HOURGLASS))
         1E:CC92  85 ED      			sta.h	_bp
         1E:CC94  A9 1A      			lda	#bank(_tiles_SPR_HOURGLASS)
         1E:CC96  85 02      			sta	_bp_bank
18115                        		__st.wmiq	64, _ax
         1E:CC98  A9 40      			lda.l	#64
         1E:CC9A  85 F8      			sta.l	_ax
         1E:CC9C  64 F9      			stz.h	_ax
18116                        		 _sgx_load_vram.3
         1E:CC9E  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:CCA0  20 1D FF   			call	load_vram_x
18117                        	
18118                        		.dbg	line,	"include\init.c", 419; sgx_load_vram(BAMBOO_VRAM_ADR, tiles_SPR_BAMBOO , TILES_4);
18119                        		__st.wmiq	28160, _di
         1E:CCA3  64 F0      			stz.l	_di
         1E:CCA5  A9 6E      			lda.h	#28160
         1E:CCA7  85 F1      			sta.h	_di
18120                        		__farptr	_tiles_SPR_BAMBOO, _bp_bank, _bp
         1E:CCA9  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_BAMBOO))
         1E:CCAB  85 EC      			sta.l	_bp
         1E:CCAD  A9 6F      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_BAMBOO))
         1E:CCAF  85 ED      			sta.h	_bp
         1E:CCB1  A9 1A      			lda	#bank(_tiles_SPR_BAMBOO)
         1E:CCB3  85 02      			sta	_bp_bank
18121                        		__st.wmiq	64, _ax
         1E:CCB5  A9 40      			lda.l	#64
         1E:CCB7  85 F8      			sta.l	_ax
         1E:CCB9  64 F9      			stz.h	_ax
18122                        		 _sgx_load_vram.3
         1E:CCBB  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:CCBD  20 1D FF   			call	load_vram_x
18123                        	
18124                        		.dbg	line,	"include\init.c", 420; sgx_load_vram(YASHICHI_VRAM_ADR, tiles_SPR_YASHICHI , TILES_4);
18125                        		__st.wmiq	28224, _di
         1E:CCC0  A9 40      			lda.l	#28224
         1E:CCC2  85 F0      			sta.l	_di
         1E:CCC4  A9 6E      			lda.h	#28224
         1E:CCC6  85 F1      			sta.h	_di
18126                        		__farptr	_tiles_SPR_YASHICHI, _bp_bank, _bp
         1E:CCC8  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_YASHICHI))
         1E:CCCA  85 EC      			sta.l	_bp
         1E:CCCC  A9 6F      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_YASHICHI))
         1E:CCCE  85 ED      			sta.h	_bp
         1E:CCD0  A9 1A      			lda	#bank(_tiles_SPR_YASHICHI)
         1E:CCD2  85 02      			sta	_bp_bank
18127                        		__st.wmiq	64, _ax
         1E:CCD4  A9 40      			lda.l	#64
         1E:CCD6  85 F8      			sta.l	_ax
         1E:CCD8  64 F9      			stz.h	_ax
18128                        		 _sgx_load_vram.3
         1E:CCDA  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:CCDC  20 1D FF   			call	load_vram_x
18129                        	
18130                        		.dbg	line,	"include\init.c", 421; sgx_load_vram(ELEPHANT_VRAM_ADR, tiles_SPR_ELEPHANT , TILES_4);
18131                        		__st.wmiq	28288, _di
         1E:CCDF  A9 80      			lda.l	#28288
         1E:CCE1  85 F0      			sta.l	_di
         1E:CCE3  A9 6E      			lda.h	#28288
         1E:CCE5  85 F1      			sta.h	_di
18132                        		__farptr	_tiles_SPR_ELEPHANT, _bp_bank, _bp
         1E:CCE7  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_ELEPHANT))
         1E:CCE9  85 EC      			sta.l	_bp
         1E:CCEB  A9 70      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_ELEPHANT))
         1E:CCED  85 ED      			sta.h	_bp
         1E:CCEF  A9 1A      			lda	#bank(_tiles_SPR_ELEPHANT)
         1E:CCF1  85 02      			sta	_bp_bank
18133                        		__st.wmiq	64, _ax
         1E:CCF3  A9 40      			lda.l	#64
         1E:CCF5  85 F8      			sta.l	_ax
         1E:CCF7  64 F9      			stz.h	_ax
18134                        		 _sgx_load_vram.3
         1E:CCF9  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:CCFB  20 1D FF   			call	load_vram_x
18135                        	
18136                        		.dbg	line,	"include\init.c", 422; sgx_load_vram(DRAGONFLY_VRAM_ADR, tiles_SPR_DRAGONFLY , TILES_4);
18137                        		__st.wmiq	28352, _di
         1E:CCFE  A9 C0      			lda.l	#28352
         1E:CD00  85 F0      			sta.l	_di
         1E:CD02  A9 6E      			lda.h	#28352
         1E:CD04  85 F1      			sta.h	_di
18138                        		__farptr	_tiles_SPR_DRAGONFLY, _bp_bank, _bp
         1E:CD06  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_DRAGONFLY))
         1E:CD08  85 EC      			sta.l	_bp
         1E:CD0A  A9 70      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_DRAGONFLY))
         1E:CD0C  85 ED      			sta.h	_bp
         1E:CD0E  A9 1A      			lda	#bank(_tiles_SPR_DRAGONFLY)
         1E:CD10  85 02      			sta	_bp_bank
18139                        		__st.wmiq	64, _ax
         1E:CD12  A9 40      			lda.l	#64
         1E:CD14  85 F8      			sta.l	_ax
         1E:CD16  64 F9      			stz.h	_ax
18140                        		 _sgx_load_vram.3
         1E:CD18  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:CD1A  20 1D FF   			call	load_vram_x
18141                        	
18142                        		.dbg	line,	"include\init.c", 423; sgx_load_vram(COW_VRAM_ADR, tiles_SPR_COW , TILES_4);
18143                        		__st.wmiq	28416, _di
         1E:CD1D  64 F0      			stz.l	_di
         1E:CD1F  A9 6F      			lda.h	#28416
         1E:CD21  85 F1      			sta.h	_di
18144                        		__farptr	_tiles_SPR_COW, _bp_bank, _bp
         1E:CD23  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COW))
         1E:CD25  85 EC      			sta.l	_bp
         1E:CD27  A9 71      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COW))
         1E:CD29  85 ED      			sta.h	_bp
         1E:CD2B  A9 1A      			lda	#bank(_tiles_SPR_COW)
         1E:CD2D  85 02      			sta	_bp_bank
18145                        		__st.wmiq	64, _ax
         1E:CD2F  A9 40      			lda.l	#64
         1E:CD31  85 F8      			sta.l	_ax
         1E:CD33  64 F9      			stz.h	_ax
18146                        		 _sgx_load_vram.3
         1E:CD35  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:CD37  20 1D FF   			call	load_vram_x
18147                        	
18148                        		.dbg	line,	"include\init.c", 424; sgx_load_vram(MOBICHAN_VRAM_ADR, tiles_SPR_MOBICHAN , TILES_4);
18149                        		__st.wmiq	28480, _di
         1E:CD3A  A9 40      			lda.l	#28480
         1E:CD3C  85 F0      			sta.l	_di
         1E:CD3E  A9 6F      			lda.h	#28480
         1E:CD40  85 F1      			sta.h	_di
18150                        		__farptr	_tiles_SPR_MOBICHAN, _bp_bank, _bp
         1E:CD42  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_MOBICHAN))
         1E:CD44  85 EC      			sta.l	_bp
         1E:CD46  A9 71      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_MOBICHAN))
         1E:CD48  85 ED      			sta.h	_bp
         1E:CD4A  A9 1A      			lda	#bank(_tiles_SPR_MOBICHAN)
         1E:CD4C  85 02      			sta	_bp_bank
18151                        		__st.wmiq	64, _ax
         1E:CD4E  A9 40      			lda.l	#64
         1E:CD50  85 F8      			sta.l	_ax
         1E:CD52  64 F9      			stz.h	_ax
18152                        		 _sgx_load_vram.3
         1E:CD54  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:CD56  20 1D FF   			call	load_vram_x
18153                        	
18154                        		.dbg	line,	"include\init.c", 425; }
18155    1E:CD59             	.LL852:
18156                        		__return	0
         1E:CD59  4C EF FF   			jmp	leave_proc
18157                        		.dbg	clear
18158                        		.endp
18159                        		.pceas
18160                        	
18161                        		.dbg	line,	"include\init.c", 428; void load_CHEST_TILES()
18162                        		.dbg	line,	"include\init.c", 429; {
18163                        	;***********************
18164                        	;***********************
18165                        	
18166                        		.hucc
18167    1F:CE32             		.proc		_load_CHEST_TILES
18168                        		__enter		_load_CHEST_TILES
18169                        	
18170                        		.dbg	line,	"include\init.c", 430; sgx_load_vram(CHEST_VRAM_ADR, tiles_SPR_CHEST , SIZEOF(tiles_SPR_CHEST) >> 1);
18171                        		__st.wmiq	28672, _di
         1F:CE32  64 F0      			stz.l	_di
         1F:CE34  A9 70      			lda.h	#28672
         1F:CE36  85 F1      			sta.h	_di
18172                        		__farptr	_tiles_SPR_CHEST, _bp_bank, _bp
         1F:CE38  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_CHEST))
         1F:CE3A  85 EC      			sta.l	_bp
         1F:CE3C  A9 77      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_CHEST))
         1F:CE3E  85 ED      			sta.h	_bp
         1F:CE40  A9 19      			lda	#bank(_tiles_SPR_CHEST)
         1F:CE42  85 02      			sta	_bp_bank
18173                        		__ld.wi		___sizeof__tiles_SPR_CHEST
         1F:CE44  A9 00      			lda.l	#___sizeof__tiles_SPR_CHEST
         1F:CE46  A0 0C      			ldy.h	#___sizeof__tiles_SPR_CHEST
18174                        		__lsr.wi	1
         1F:CE48  42         			say
         1F:CE49  4A         			lsr	a
         1F:CE4A  42         			say
         1F:CE4B  6A         			ror	a
18175                        		__st.wmq	_ax
         1F:CE4C  85 F8      			sta.l	_ax
         1F:CE4E  84 F9      			sty.h	_ax
18176                        		 _sgx_load_vram.3
         1F:CE50  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:CE52  20 1D FF   			call	load_vram_x
18177                        	
18178                        		.dbg	line,	"include\init.c", 431; }
18179    1F:CE55             	.LL853:
18180                        		__return	0
         1F:CE55  4C EF FF   			jmp	leave_proc
18181                        		.dbg	clear
18182                        		.endp
18183                        		.pceas
18184                        	
18185                        		.dbg	line,	"include\init.c", 434; void load_NPC_TILES()
18186                        		.dbg	line,	"include\init.c", 435; {
18187                        	;***********************
18188                        	;***********************
18189                        	
18190                        		.hucc
18191    1F:CE58             		.proc		_load_NPC_TILES
18192                        		__enter		_load_NPC_TILES
18193                        	
18194                        		.dbg	line,	"include\init.c", 436; sgx_load_vram(NPC_VRAM_ADR, tiles_SPR_NPC , SIZEOF(tiles_SPR_NPC) >> 1);
18195                        		__st.wmiq	30208, _di
         1F:CE58  64 F0      			stz.l	_di
         1F:CE5A  A9 76      			lda.h	#30208
         1F:CE5C  85 F1      			sta.h	_di
18196                        		__farptr	_tiles_SPR_NPC, _bp_bank, _bp
         1F:CE5E  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_NPC))
         1F:CE60  85 EC      			sta.l	_bp
         1F:CE62  A9 76      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_NPC))
         1F:CE64  85 ED      			sta.h	_bp
         1F:CE66  A9 1A      			lda	#bank(_tiles_SPR_NPC)
         1F:CE68  85 02      			sta	_bp_bank
18197                        		__ld.wi		___sizeof__tiles_SPR_NPC
         1F:CE6A  A9 00      			lda.l	#___sizeof__tiles_SPR_NPC
         1F:CE6C  A0 0C      			ldy.h	#___sizeof__tiles_SPR_NPC
18198                        		__lsr.wi	1
         1F:CE6E  42         			say
         1F:CE6F  4A         			lsr	a
         1F:CE70  42         			say
         1F:CE71  6A         			ror	a
18199                        		__st.wmq	_ax
         1F:CE72  85 F8      			sta.l	_ax
         1F:CE74  84 F9      			sty.h	_ax
18200                        		 _sgx_load_vram.3
         1F:CE76  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:CE78  20 1D FF   			call	load_vram_x
18201                        	
18202                        		.dbg	line,	"include\init.c", 437; }
18203    1F:CE7B             	.LL854:
18204                        		__return	0
         1F:CE7B  4C EF FF   			jmp	leave_proc
18205                        		.dbg	clear
18206                        		.endp
18207                        		.pceas
18208                        	
18209                        		.dbg	line,	"include\init.c", 440; void init_OBJECT_LV1()
18210                        		.dbg	line,	"include\init.c", 441; {
18211                        	;***********************
18212                        	;***********************
18213                        	
18214                        		.hucc
18215    1F:C000             		.proc		_init_OBJECT_LV1
18216                        		__enter		_init_OBJECT_LV1
18217                        	
18218                        		.dbg	line,	"include\init.c", 442; signed char i;
18219                        	
18220                        		.dbg	line,	"include\init.c", 444; for(i=0 ; i<level_object_number ; i++)
18221                        		__st.umiq	0, __init_OBJECT_LV1_end - 1  /* i */
         1F:C000  9C 79 26   			stz	__init_OBJECT_LV1_end - 1
18222    1F:C003             	.LL856:
18223                        		__ld.bm		__init_OBJECT_LV1_end - 1  /* i */
         1F:C003  AD 79 26   			lda	__init_OBJECT_LV1_end - 1
         1F:C006  C2         			cly
         1F:C007  10 01      			bpl	!+
         1F:C009  88         			dey
         1F:C00A             	!:
18224                        		__slt_w.um	_level_object_number
         1F:C00A  CD 36 23   			cmp	_level_object_number		; Subtract memory from Y:A.
         1F:C00D  98         			tya
         1F:C00E  E9 00      			sbc	#0
         1F:C010  50 02      			bvc	!+
         1F:C012  49 80      			eor	#$80		; -ve if Y:A < memory (signed).
         1F:C014  0A         	!:		asl	a
18225                        		__btrue		.LL858
         1F:C015  B0 08      			bcs	.LL858
18226                        		__bra		.LL859
         1F:C017  4C 3B C1   			bra	.LL859
18227    1F:C01A             	.LL857:
18228                        		__inc.umq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C01A  EE 79 26   			inc	__init_OBJECT_LV1_end - 1
18229                        		__bra		.LL856
         1F:C01D  80 E4      			bra	.LL856
18230    1F:C01F             	.LL858:
18231                        	
18232                        		.dbg	line,	"include\init.c", 445; {
18233                        	
18234                        		.dbg	line,	"include\init.c", 446; // SET OBJECT PROPERTIES //
18235                        	
18236                        		.dbg	line,	"include\init.c", 447; list_object_type[i] = TABLE_OBJECT_TYPE_LV1[i];
18237                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C01F  AE 79 26   			ldx	__init_OBJECT_LV1_end - 1
18238                        		__ld.uax	_TABLE_OBJECT_TYPE_LV1
         1F:C022  BD 7B 61   			lda	_TABLE_OBJECT_TYPE_LV1, x
         1F:C025  C2         			cly
18239                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C026  AE 79 26   			ldx	__init_OBJECT_LV1_end - 1
18240                        		__st.uaxq	_list_object_type
         1F:C029  9D 38 23   			sta	_list_object_type, x
18241                        	
18242                        		.dbg	line,	"include\init.c", 448; list_object_x_pos_ref[i] = TABLE_OBJECT_X_POS_REF_LV1[i];
18243                        		__ld2x.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C02C  AD 79 26   			lda	__init_OBJECT_LV1_end - 1
         1F:C02F  0A         			asl	a
         1F:C030  AA         			tax
18244                        		__ld.wax	_TABLE_OBJECT_X_POS_REF_LV1
         1F:C031  BD 92 61   			lda.l	_TABLE_OBJECT_X_POS_REF_LV1, x
         1F:C034  BC 93 61   			ldy.h	_TABLE_OBJECT_X_POS_REF_LV1, x
18245                        		__ld2x.bm	__init_OBJECT_LV1_end - 1  /* i */
         1F:C037  AA         			tax
         1F:C038  AD 79 26   			lda	__init_OBJECT_LV1_end - 1
         1F:C03B  0A         			asl	a
         1F:C03C  22         			sax
18246                        		__st.waxq	_list_object_x_pos_ref
         1F:C03D  9D 49 25   			sta.l	_list_object_x_pos_ref, x
         1F:C040  98         			tya
         1F:C041  9D 4A 25   			sta.h	_list_object_x_pos_ref, x
18247                        	
18248                        		.dbg	line,	"include\init.c", 449; list_object_y_pos_ref[i] = TABLE_OBJECT_Y_POS_REF_LV1[i];
18249                        		__ld2x.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C044  AD 79 26   			lda	__init_OBJECT_LV1_end - 1
         1F:C047  0A         			asl	a
         1F:C048  AA         			tax
18250                        		__ld.wax	_TABLE_OBJECT_Y_POS_REF_LV1
         1F:C049  BD C0 61   			lda.l	_TABLE_OBJECT_Y_POS_REF_LV1, x
         1F:C04C  BC C1 61   			ldy.h	_TABLE_OBJECT_Y_POS_REF_LV1, x
18251                        		__ld2x.bm	__init_OBJECT_LV1_end - 1  /* i */
         1F:C04F  AA         			tax
         1F:C050  AD 79 26   			lda	__init_OBJECT_LV1_end - 1
         1F:C053  0A         			asl	a
         1F:C054  22         			sax
18252                        		__st.waxq	_list_object_y_pos_ref
         1F:C055  9D 7B 25   			sta.l	_list_object_y_pos_ref, x
         1F:C058  98         			tya
         1F:C059  9D 7C 25   			sta.h	_list_object_y_pos_ref, x
18253                        	
18254                        		.dbg	line,	"include\init.c", 450; list_object_x_pos[i] = -16;
18255                        		__ld2x.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C05C  AD 79 26   			lda	__init_OBJECT_LV1_end - 1
         1F:C05F  0A         			asl	a
         1F:C060  AA         			tax
18256                        		__st.waxiq	-16, _list_object_x_pos
         1F:C061  A9 F0      			lda.l	#-16
         1F:C063  9D E5 24   			sta.l	_list_object_x_pos, x
         1F:C066  A9 FF      			lda.h	#-16
         1F:C068  9D E6 24   			sta.h	_list_object_x_pos, x
18257                        	
18258                        		.dbg	line,	"include\init.c", 451; list_object_y_pos[i] = -16;
18259                        		__ld2x.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C06B  AD 79 26   			lda	__init_OBJECT_LV1_end - 1
         1F:C06E  0A         			asl	a
         1F:C06F  AA         			tax
18260                        		__st.waxiq	-16, _list_object_y_pos
         1F:C070  A9 F0      			lda.l	#-16
         1F:C072  9D 17 25   			sta.l	_list_object_y_pos, x
         1F:C075  A9 FF      			lda.h	#-16
         1F:C077  9D 18 25   			sta.h	_list_object_y_pos, x
18261                        	
18262                        		.dbg	line,	"include\init.c", 452; 
18263                        	
18264                        		.dbg	line,	"include\init.c", 453; // IF THE PLAYERS ENTERS THE LEVEL FOR THE 1RST TIME //
18265                        	
18266                        		.dbg	line,	"include\init.c", 454; // ALL OBJECTS ARE ACTIVE //
18267                        	
18268                        		.dbg	line,	"include\init.c", 455; if(respawn == FALSE)
18269                        		__not.um	_respawn
         1F:C07A  AD 16 23   			lda	_respawn
         1F:C07D  18         			clc
         1F:C07E  D0 01      			bne	!+
         1F:C080  38         			sec
         1F:C081             	!:
18270                        		__bfalse	.LL860
         1F:C081  90 06      			bcc	.LL860
18271                        	
18272                        		.dbg	line,	"include\init.c", 456; {
18273                        	
18274                        		.dbg	line,	"include\init.c", 457; list_object_state[i] = STATE_ACTIVE;
18275                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C083  AE 79 26   			ldx	__init_OBJECT_LV1_end - 1
18276                        		__st.uaxiq	0, _list_object_state
         1F:C086  9E 51 23   			stz	_list_object_state, x
18277                        	
18278                        		.dbg	line,	"include\init.c", 458; }
18279                        	
18280                        		.dbg	line,	"include\init.c", 461; // SET OBJECT SPRITE //
18281                        	
18282                        		.dbg	line,	"include\init.c", 462; sgx_spr_set(i + object_start_index);
18283    1F:C089             	.LL860:
18284                        		__ld.bm		__init_OBJECT_LV1_end - 1  /* i */
         1F:C089  AD 79 26   			lda	__init_OBJECT_LV1_end - 1
         1F:C08C  C2         			cly
         1F:C08D  10 01      			bpl	!+
         1F:C08F  88         			dey
         1F:C090             	!:
18285                        		__add.um	_object_start_index
         1F:C090  18         			clc
         1F:C091  6D 35 23   			adc	_object_start_index
         1F:C094  90 01      			bcc	!+
         1F:C096  C8         			iny
         1F:C097             	!:
18286                        		__call		_sgx_spr_set.1
         1F:C097  20 8A E8   			call	_sgx_spr_set.1
18287                        	
18288                        		.dbg	line,	"include\init.c", 463; sgx_spr_x(list_object_x_pos[i]);
18289                        		__ld2x.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C09A  AD 79 26   			lda	__init_OBJECT_LV1_end - 1
         1F:C09D  0A         			asl	a
         1F:C09E  AA         			tax
18290                        		__ld.wax	_list_object_x_pos
         1F:C09F  BD E5 24   			lda.l	_list_object_x_pos, x
         1F:C0A2  BC E6 24   			ldy.h	_list_object_x_pos, x
18291                        		__call		_sgx_spr_x.1
         1F:C0A5  20 B7 E8   			call	_sgx_spr_x.1
18292                        	
18293                        		.dbg	line,	"include\init.c", 464; sgx_spr_y(list_object_y_pos[i]);
18294                        		__ld2x.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C0A8  AD 79 26   			lda	__init_OBJECT_LV1_end - 1
         1F:C0AB  0A         			asl	a
         1F:C0AC  AA         			tax
18295                        		__ld.wax	_list_object_y_pos
         1F:C0AD  BD 17 25   			lda.l	_list_object_y_pos, x
         1F:C0B0  BC 18 25   			ldy.h	_list_object_y_pos, x
18296                        		__call		_sgx_spr_y.1
         1F:C0B3  20 C6 E8   			call	_sgx_spr_y.1
18297                        	
18298                        		.dbg	line,	"include\init.c", 465; sgx_spr_pri(TRUE);
18299                        		__ld.uiq	1
         1F:C0B6  A9 01      			lda	#1
18300                        		__call		_sgx_spr_pri.1
         1F:C0B8  20 09 E9   			call	_sgx_spr_pri.1
18301                        	
18302                        		.dbg	line,	"include\init.c", 468; if(list_object_type[i] == TYPE_HOURGLASS)
18303                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C0BB  AE 79 26   			ldx	__init_OBJECT_LV1_end - 1
18304                        		__not.uax	_list_object_type
         1F:C0BE  BD 38 23   			lda	_list_object_type, x
         1F:C0C1  18         			clc
         1F:C0C2  D0 01      			bne	!+
         1F:C0C4  38         			sec
         1F:C0C5             	!:
18305                        		__bfalse	.LL861
         1F:C0C5  90 1D      			bcc	.LL861
18306                        	
18307                        		.dbg	line,	"include\init.c", 469; {
18308                        	
18309                        		.dbg	line,	"include\init.c", 470; list_object_energy[i] = 0;
18310                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C0C7  AE 79 26   			ldx	__init_OBJECT_LV1_end - 1
18311                        		__st.uaxiq	0, _list_object_energy
         1F:C0CA  9E 6A 23   			stz	_list_object_energy, x
18312                        	
18313                        		.dbg	line,	"include\init.c", 471; sgx_spr_pal(18);
18314                        		__ld.uiq	18
         1F:C0CD  A9 12      			lda	#18
18315                        		__call		_sgx_spr_pal.1
         1F:C0CF  20 FA E8   			call	_sgx_spr_pal.1
18316                        	
18317                        		.dbg	line,	"include\init.c", 472; sgx_spr_pattern(HOURGLASS_VRAM_ADR);
18318                        		__ld.wi		28096
         1F:C0D2  A9 C0      			lda.l	#28096
         1F:C0D4  A0 6D      			ldy.h	#28096
18319                        		__call		_sgx_spr_pattern.1
         1F:C0D6  20 D3 E8   			call	_sgx_spr_pattern.1
18320                        	
18321                        		.dbg	line,	"include\init.c", 473; sgx_spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_16x16);
18322                        		__st.umiq	185, _al
         1F:C0D9  A9 B9      			lda.l	#185
         1F:C0DB  85 F8      			sta	_al
18323                        		__ld.uiq	0
         1F:C0DD  62         			cla
18324                        		__call		_sgx_spr_ctrl.2
         1F:C0DE  20 E9 E8   			call	_sgx_spr_ctrl.2
18325                        	
18326                        		.dbg	line,	"include\init.c", 474; }
18327                        	
18328                        		.dbg	line,	"include\init.c", 476; else if(list_object_type[i] == TYPE_POT)
18329                        		__bra		.LL862
         1F:C0E1  4C 1A C0   			bra	.LL862
18330    1F:C0E4             	.LL861:
18331                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C0E4  AE 79 26   			ldx	__init_OBJECT_LV1_end - 1
18332                        		__ld.uaxq	_list_object_type
         1F:C0E7  BD 38 23   			lda	_list_object_type, x
18333                        		__equ_b.uiq	1
         1F:C0EA  C9 01      			cmp	#1
         1F:C0EC  F0 01      			beq	!+
         1F:C0EE  18         			clc
         1F:C0EF             	!:
18334                        		__bfalse	.LL863
         1F:C0EF  90 1E      			bcc	.LL863
18335                        	
18336                        		.dbg	line,	"include\init.c", 477; {
18337                        	
18338                        		.dbg	line,	"include\init.c", 478; list_object_energy[i] = 2;
18339                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C0F1  AE 79 26   			ldx	__init_OBJECT_LV1_end - 1
18340                        		__st.uaxiq	2, _list_object_energy
         1F:C0F4  A9 02      			lda.l	#2
         1F:C0F6  9D 6A 23   			sta	_list_object_energy, x
18341                        	
18342                        		.dbg	line,	"include\init.c", 479; sgx_spr_pal(17);
18343                        		__ld.uiq	17
         1F:C0F9  A9 11      			lda	#17
18344                        		__call		_sgx_spr_pal.1
         1F:C0FB  20 FA E8   			call	_sgx_spr_pal.1
18345                        	
18346                        		.dbg	line,	"include\init.c", 480; sgx_spr_pattern(POT1_VRAM_ADR);
18347                        		__ld.wi		26624
         1F:C0FE  62         			cla
         1F:C0FF  A0 68      			ldy.h	#26624
18348                        		__call		_sgx_spr_pattern.1
         1F:C101  20 D3 E8   			call	_sgx_spr_pattern.1
18349                        	
18350                        		.dbg	line,	"include\init.c", 481; sgx_spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_16x16);
18351                        		__st.umiq	185, _al
         1F:C104  A9 B9      			lda.l	#185
         1F:C106  85 F8      			sta	_al
18352                        		__ld.uiq	0
         1F:C108  62         			cla
18353                        		__call		_sgx_spr_ctrl.2
         1F:C109  20 E9 E8   			call	_sgx_spr_ctrl.2
18354                        	
18355                        		.dbg	line,	"include\init.c", 482; }
18356                        	
18357                        		.dbg	line,	"include\init.c", 484; else if(list_object_type[i] == TYPE_POW)
18358                        		__bra		.LL864
         1F:C10C  4C 1A C0   			bra	.LL864
18359    1F:C10F             	.LL863:
18360                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C10F  AE 79 26   			ldx	__init_OBJECT_LV1_end - 1
18361                        		__ld.uaxq	_list_object_type
         1F:C112  BD 38 23   			lda	_list_object_type, x
18362                        		__equ_b.uiq	2
         1F:C115  C9 02      			cmp	#2
         1F:C117  F0 01      			beq	!+
         1F:C119  18         			clc
         1F:C11A             	!:
18363                        		__bfalse	.LL865
         1F:C11A  B0 03 4C 1A			bcc	.LL865
         1F:C11E  C0          
18364                        	
18365                        		.dbg	line,	"include\init.c", 485; {
18366                        	
18367                        		.dbg	line,	"include\init.c", 486; list_object_energy[i] = 0;
18368                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C11F  AE 79 26   			ldx	__init_OBJECT_LV1_end - 1
18369                        		__st.uaxiq	0, _list_object_energy
         1F:C122  9E 6A 23   			stz	_list_object_energy, x
18370                        	
18371                        		.dbg	line,	"include\init.c", 487; sgx_spr_pal(18);
18372                        		__ld.uiq	18
         1F:C125  A9 12      			lda	#18
18373                        		__call		_sgx_spr_pal.1
         1F:C127  20 FA E8   			call	_sgx_spr_pal.1
18374                        	
18375                        		.dbg	line,	"include\init.c", 488; sgx_spr_pattern(POW_VRAM_ADR);
18376                        		__ld.wi		27136
         1F:C12A  62         			cla
         1F:C12B  A0 6A      			ldy.h	#27136
18377                        		__call		_sgx_spr_pattern.1
         1F:C12D  20 D3 E8   			call	_sgx_spr_pattern.1
18378                        	
18379                        		.dbg	line,	"include\init.c", 489; sgx_spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_16x16);
18380                        		__st.umiq	185, _al
         1F:C130  A9 B9      			lda.l	#185
         1F:C132  85 F8      			sta	_al
18381                        		__ld.uiq	0
         1F:C134  62         			cla
18382                        		__call		_sgx_spr_ctrl.2
         1F:C135  20 E9 E8   			call	_sgx_spr_ctrl.2
18383                        	
18384                        		.dbg	line,	"include\init.c", 490; }
18385                        	
18386                        		.dbg	line,	"include\init.c", 491; }
18387    1F:C138             	.LL865	.alias		.LL857
18388    1F:C138             	.LL864	.alias		.LL857
18389    1F:C138             	.LL862	.alias		.LL857
18390                        		__bra		.LL857
         1F:C138  4C 1A C0   			bra	.LL857
18391    1F:C13B             	.LL859:
18392                        	
18393                        		.dbg	line,	"include\init.c", 492; }
18394    1F:C13B             	.LL855:
18395                        		__return	0
         1F:C13B  4C EF FF   			jmp	leave_proc
18396                        		.dbg	clear
18397                        		.endp
18398                        		.pceas
18399                        	
18400                        		.dbg	line,	"include\init.c", 495; void init_CHEST_LV1()
18401                        		.dbg	line,	"include\init.c", 496; {
18402                        	;***********************
18403                        	;***********************
18404                        	
18405                        		.hucc
18406    1F:C501             		.proc		_init_CHEST_LV1
18407                        		__enter		_init_CHEST_LV1
18408                        	
18409                        		.dbg	line,	"include\init.c", 497; signed char i;
18410                        	
18411                        		.dbg	line,	"include\init.c", 499; for(i=0 ; i<level_chest_number ; i++)
18412                        		__st.umiq	0, __init_CHEST_LV1_end - 1  /* i */
         1F:C501  9C 79 26   			stz	__init_CHEST_LV1_end - 1
18413    1F:C504             	.LL867:
18414                        		__ld.bm		__init_CHEST_LV1_end - 1  /* i */
         1F:C504  AD 79 26   			lda	__init_CHEST_LV1_end - 1
         1F:C507  C2         			cly
         1F:C508  10 01      			bpl	!+
         1F:C50A  88         			dey
         1F:C50B             	!:
18415                        		__slt_w.um	_level_chest_number
         1F:C50B  CD A5 23   			cmp	_level_chest_number		; Subtract memory from Y:A.
         1F:C50E  98         			tya
         1F:C50F  E9 00      			sbc	#0
         1F:C511  50 02      			bvc	!+
         1F:C513  49 80      			eor	#$80		; -ve if Y:A < memory (signed).
         1F:C515  0A         	!:		asl	a
18416                        		__btrue		.LL869
         1F:C516  B0 08      			bcs	.LL869
18417                        		__bra		.LL870
         1F:C518  4C C6 C5   			bra	.LL870
18418    1F:C51B             	.LL868:
18419                        		__inc.umq	__init_CHEST_LV1_end - 1  /* i */
         1F:C51B  EE 79 26   			inc	__init_CHEST_LV1_end - 1
18420                        		__bra		.LL867
         1F:C51E  80 E4      			bra	.LL867
18421    1F:C520             	.LL869:
18422                        	
18423                        		.dbg	line,	"include\init.c", 500; {
18424                        	
18425                        		.dbg	line,	"include\init.c", 501; // SET CHEST PROPERTIES //
18426                        	
18427                        		.dbg	line,	"include\init.c", 502; list_chest_x_pos_ref[i] = TABLE_CHEST_X_POS_REF_LV1[i];
18428                        		__ld2x.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:C520  AD 79 26   			lda	__init_CHEST_LV1_end - 1
         1F:C523  0A         			asl	a
         1F:C524  AA         			tax
18429                        		__ld.wax	_TABLE_CHEST_X_POS_REF_LV1
         1F:C525  BD EE 61   			lda.l	_TABLE_CHEST_X_POS_REF_LV1, x
         1F:C528  BC EF 61   			ldy.h	_TABLE_CHEST_X_POS_REF_LV1, x
18430                        		__ld2x.bm	__init_CHEST_LV1_end - 1  /* i */
         1F:C52B  AA         			tax
         1F:C52C  AD 79 26   			lda	__init_CHEST_LV1_end - 1
         1F:C52F  0A         			asl	a
         1F:C530  22         			sax
18431                        		__st.waxq	_list_chest_x_pos_ref
         1F:C531  9D CD 25   			sta.l	_list_chest_x_pos_ref, x
         1F:C534  98         			tya
         1F:C535  9D CE 25   			sta.h	_list_chest_x_pos_ref, x
18432                        	
18433                        		.dbg	line,	"include\init.c", 503; list_chest_y_pos_ref[i] = TABLE_CHEST_Y_POS_REF_LV1[i];
18434                        		__ld2x.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:C538  AD 79 26   			lda	__init_CHEST_LV1_end - 1
         1F:C53B  0A         			asl	a
         1F:C53C  AA         			tax
18435                        		__ld.wax	_TABLE_CHEST_Y_POS_REF_LV1
         1F:C53D  BD F2 61   			lda.l	_TABLE_CHEST_Y_POS_REF_LV1, x
         1F:C540  BC F3 61   			ldy.h	_TABLE_CHEST_Y_POS_REF_LV1, x
18436                        		__ld2x.bm	__init_CHEST_LV1_end - 1  /* i */
         1F:C543  AA         			tax
         1F:C544  AD 79 26   			lda	__init_CHEST_LV1_end - 1
         1F:C547  0A         			asl	a
         1F:C548  22         			sax
18437                        		__st.waxq	_list_chest_y_pos_ref
         1F:C549  9D DD 25   			sta.l	_list_chest_y_pos_ref, x
         1F:C54C  98         			tya
         1F:C54D  9D DE 25   			sta.h	_list_chest_y_pos_ref, x
18438                        	
18439                        		.dbg	line,	"include\init.c", 504; list_chest_x_pos[i] = -32;
18440                        		__ld2x.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:C550  AD 79 26   			lda	__init_CHEST_LV1_end - 1
         1F:C553  0A         			asl	a
         1F:C554  AA         			tax
18441                        		__st.waxiq	-32, _list_chest_x_pos
         1F:C555  A9 E0      			lda.l	#-32
         1F:C557  9D AD 25   			sta.l	_list_chest_x_pos, x
         1F:C55A  A9 FF      			lda.h	#-32
         1F:C55C  9D AE 25   			sta.h	_list_chest_x_pos, x
18442                        	
18443                        		.dbg	line,	"include\init.c", 505; list_chest_y_pos[i] = -32;
18444                        		__ld2x.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:C55F  AD 79 26   			lda	__init_CHEST_LV1_end - 1
         1F:C562  0A         			asl	a
         1F:C563  AA         			tax
18445                        		__st.waxiq	-32, _list_chest_y_pos
         1F:C564  A9 E0      			lda.l	#-32
         1F:C566  9D BD 25   			sta.l	_list_chest_y_pos, x
         1F:C569  A9 FF      			lda.h	#-32
         1F:C56B  9D BE 25   			sta.h	_list_chest_y_pos, x
18446                        	
18447                        		.dbg	line,	"include\init.c", 507; if(respawn == FALSE)
18448                        		__not.um	_respawn
         1F:C56E  AD 16 23   			lda	_respawn
         1F:C571  18         			clc
         1F:C572  D0 01      			bne	!+
         1F:C574  38         			sec
         1F:C575             	!:
18449                        		__bfalse	.LL871
         1F:C575  90 06      			bcc	.LL871
18450                        	
18451                        		.dbg	line,	"include\init.c", 508; {
18452                        	
18453                        		.dbg	line,	"include\init.c", 509; list_chest_state[i] = STATE_ACTIVE;
18454                        		__ldx.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:C577  AE 79 26   			ldx	__init_CHEST_LV1_end - 1
18455                        		__st.uaxiq	0, _list_chest_state
         1F:C57A  9E A7 23   			stz	_list_chest_state, x
18456                        	
18457                        		.dbg	line,	"include\init.c", 510; }
18458                        	
18459                        		.dbg	line,	"include\init.c", 513; // SET CHEST SPRITE //
18460                        	
18461                        		.dbg	line,	"include\init.c", 514; sgx_spr_set(i + chest_start_index);
18462    1F:C57D             	.LL871:
18463                        		__ld.bm		__init_CHEST_LV1_end - 1  /* i */
         1F:C57D  AD 79 26   			lda	__init_CHEST_LV1_end - 1
         1F:C580  C2         			cly
         1F:C581  10 01      			bpl	!+
         1F:C583  88         			dey
         1F:C584             	!:
18464                        		__add.um	_chest_start_index
         1F:C584  18         			clc
         1F:C585  6D A4 23   			adc	_chest_start_index
         1F:C588  90 01      			bcc	!+
         1F:C58A  C8         			iny
         1F:C58B             	!:
18465                        		__call		_sgx_spr_set.1
         1F:C58B  20 8A E8   			call	_sgx_spr_set.1
18466                        	
18467                        		.dbg	line,	"include\init.c", 515; sgx_spr_x(list_chest_x_pos[i]);
18468                        		__ld2x.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:C58E  AD 79 26   			lda	__init_CHEST_LV1_end - 1
         1F:C591  0A         			asl	a
         1F:C592  AA         			tax
18469                        		__ld.wax	_list_chest_x_pos
         1F:C593  BD AD 25   			lda.l	_list_chest_x_pos, x
         1F:C596  BC AE 25   			ldy.h	_list_chest_x_pos, x
18470                        		__call		_sgx_spr_x.1
         1F:C599  20 B7 E8   			call	_sgx_spr_x.1
18471                        	
18472                        		.dbg	line,	"include\init.c", 516; sgx_spr_y(list_chest_y_pos[i]);
18473                        		__ld2x.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:C59C  AD 79 26   			lda	__init_CHEST_LV1_end - 1
         1F:C59F  0A         			asl	a
         1F:C5A0  AA         			tax
18474                        		__ld.wax	_list_chest_y_pos
         1F:C5A1  BD BD 25   			lda.l	_list_chest_y_pos, x
         1F:C5A4  BC BE 25   			ldy.h	_list_chest_y_pos, x
18475                        		__call		_sgx_spr_y.1
         1F:C5A7  20 C6 E8   			call	_sgx_spr_y.1
18476                        	
18477                        		.dbg	line,	"include\init.c", 517; sgx_spr_pri(TRUE);
18478                        		__ld.uiq	1
         1F:C5AA  A9 01      			lda	#1
18479                        		__call		_sgx_spr_pri.1
         1F:C5AC  20 09 E9   			call	_sgx_spr_pri.1
18480                        	
18481                        		.dbg	line,	"include\init.c", 520; sgx_spr_pal(18);
18482                        		__ld.uiq	18
         1F:C5AF  A9 12      			lda	#18
18483                        		__call		_sgx_spr_pal.1
         1F:C5B1  20 FA E8   			call	_sgx_spr_pal.1
18484                        	
18485                        		.dbg	line,	"include\init.c", 521; sgx_spr_pattern(CHEST_VRAM_ADR);
18486                        		__ld.wi		28672
         1F:C5B4  62         			cla
         1F:C5B5  A0 70      			ldy.h	#28672
18487                        		__call		_sgx_spr_pattern.1
         1F:C5B7  20 D3 E8   			call	_sgx_spr_pattern.1
18488                        	
18489                        		.dbg	line,	"include\init.c", 522; sgx_spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_32x32);
18490                        		__st.umiq	185, _al
         1F:C5BA  A9 B9      			lda.l	#185
         1F:C5BC  85 F8      			sta	_al
18491                        		__ld.uiq	17
         1F:C5BE  A9 11      			lda	#17
18492                        		__call		_sgx_spr_ctrl.2
         1F:C5C0  20 E9 E8   			call	_sgx_spr_ctrl.2
18493                        	
18494                        		.dbg	line,	"include\init.c", 523; }
18495                        		__bra		.LL868
         1F:C5C3  4C 1B C5   			bra	.LL868
18496    1F:C5C6             	.LL870:
18497                        	
18498                        		.dbg	line,	"include\init.c", 524; }
18499    1F:C5C6             	.LL866:
18500                        		__return	0
         1F:C5C6  4C EF FF   			jmp	leave_proc
18501                        		.dbg	clear
18502                        		.endp
18503                        		.pceas
18504                        	
18505                        		.dbg	line,	"include\init.c", 527; void init_NPC_LV1()
18506                        		.dbg	line,	"include\init.c", 528; {
18507                        	;***********************
18508                        	;***********************
18509                        	
18510                        		.hucc
18511    1F:C42C             		.proc		_init_NPC_LV1
18512                        		__enter		_init_NPC_LV1
18513                        	
18514                        		.dbg	line,	"include\init.c", 529; signed char i;
18515                        	
18516                        		.dbg	line,	"include\init.c", 531; for(i=0 ; i<level_npc_number ; i++)
18517                        		__st.umiq	0, __init_NPC_LV1_end - 1  /* i */
         1F:C42C  9C 79 26   			stz	__init_NPC_LV1_end - 1
18518    1F:C42F             	.LL873:
18519                        		__ld.bm		__init_NPC_LV1_end - 1  /* i */
         1F:C42F  AD 79 26   			lda	__init_NPC_LV1_end - 1
         1F:C432  C2         			cly
         1F:C433  10 01      			bpl	!+
         1F:C435  88         			dey
         1F:C436             	!:
18520                        		__slt_w.um	_level_npc_number
         1F:C436  CD B8 23   			cmp	_level_npc_number		; Subtract memory from Y:A.
         1F:C439  98         			tya
         1F:C43A  E9 00      			sbc	#0
         1F:C43C  50 02      			bvc	!+
         1F:C43E  49 80      			eor	#$80		; -ve if Y:A < memory (signed).
         1F:C440  0A         	!:		asl	a
18521                        		__btrue		.LL875
         1F:C441  B0 08      			bcs	.LL875
18522                        		__bra		.LL876
         1F:C443  4C FE C4   			bra	.LL876
18523    1F:C446             	.LL874:
18524                        		__inc.umq	__init_NPC_LV1_end - 1  /* i */
         1F:C446  EE 79 26   			inc	__init_NPC_LV1_end - 1
18525                        		__bra		.LL873
         1F:C449  80 E4      			bra	.LL873
18526    1F:C44B             	.LL875:
18527                        	
18528                        		.dbg	line,	"include\init.c", 532; {
18529                        	
18530                        		.dbg	line,	"include\init.c", 533; // SET NPC PROPERTIES //
18531                        	
18532                        		.dbg	line,	"include\init.c", 534; list_npc_type[i] = TABLE_NPC_TYPE_LV1[i];
18533                        		__ldx.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:C44B  AE 79 26   			ldx	__init_NPC_LV1_end - 1
18534                        		__ld.uax	_TABLE_NPC_TYPE_LV1
         1F:C44E  BD 71 61   			lda	_TABLE_NPC_TYPE_LV1, x
         1F:C451  C2         			cly
18535                        		__ldx.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:C452  AE 79 26   			ldx	__init_NPC_LV1_end - 1
18536                        		__st.uaxq	_list_npc_type
         1F:C455  9D BA 23   			sta	_list_npc_type, x
18537                        	
18538                        		.dbg	line,	"include\init.c", 535; list_npc_x_pos_ref[i] = TABLE_NPC_X_POS_REF_LV1[i];
18539                        		__ld2x.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:C458  AD 79 26   			lda	__init_NPC_LV1_end - 1
         1F:C45B  0A         			asl	a
         1F:C45C  AA         			tax
18540                        		__ld.wax	_TABLE_NPC_X_POS_REF_LV1
         1F:C45D  BD 73 61   			lda.l	_TABLE_NPC_X_POS_REF_LV1, x
         1F:C460  BC 74 61   			ldy.h	_TABLE_NPC_X_POS_REF_LV1, x
18541                        		__ld2x.bm	__init_NPC_LV1_end - 1  /* i */
         1F:C463  AA         			tax
         1F:C464  AD 79 26   			lda	__init_NPC_LV1_end - 1
         1F:C467  0A         			asl	a
         1F:C468  22         			sax
18542                        		__st.waxq	_list_npc_x_pos_ref
         1F:C469  9D 11 26   			sta.l	_list_npc_x_pos_ref, x
         1F:C46C  98         			tya
         1F:C46D  9D 12 26   			sta.h	_list_npc_x_pos_ref, x
18543                        	
18544                        		.dbg	line,	"include\init.c", 536; list_npc_y_pos_ref[i] = TABLE_NPC_Y_POS_REF_LV1[i];
18545                        		__ld2x.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:C470  AD 79 26   			lda	__init_NPC_LV1_end - 1
         1F:C473  0A         			asl	a
         1F:C474  AA         			tax
18546                        		__ld.wax	_TABLE_NPC_Y_POS_REF_LV1
         1F:C475  BD 77 61   			lda.l	_TABLE_NPC_Y_POS_REF_LV1, x
         1F:C478  BC 78 61   			ldy.h	_TABLE_NPC_Y_POS_REF_LV1, x
18547                        		__ld2x.bm	__init_NPC_LV1_end - 1  /* i */
         1F:C47B  AA         			tax
         1F:C47C  AD 79 26   			lda	__init_NPC_LV1_end - 1
         1F:C47F  0A         			asl	a
         1F:C480  22         			sax
18548                        		__st.waxq	_list_npc_y_pos_ref
         1F:C481  9D 23 26   			sta.l	_list_npc_y_pos_ref, x
         1F:C484  98         			tya
         1F:C485  9D 24 26   			sta.h	_list_npc_y_pos_ref, x
18549                        	
18550                        		.dbg	line,	"include\init.c", 537; list_npc_x_pos[i] = -32;
18551                        		__ld2x.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:C488  AD 79 26   			lda	__init_NPC_LV1_end - 1
         1F:C48B  0A         			asl	a
         1F:C48C  AA         			tax
18552                        		__st.waxiq	-32, _list_npc_x_pos
         1F:C48D  A9 E0      			lda.l	#-32
         1F:C48F  9D ED 25   			sta.l	_list_npc_x_pos, x
         1F:C492  A9 FF      			lda.h	#-32
         1F:C494  9D EE 25   			sta.h	_list_npc_x_pos, x
18553                        	
18554                        		.dbg	line,	"include\init.c", 538; list_npc_y_pos[i] = -32;
18555                        		__ld2x.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:C497  AD 79 26   			lda	__init_NPC_LV1_end - 1
         1F:C49A  0A         			asl	a
         1F:C49B  AA         			tax
18556                        		__st.waxiq	-32, _list_npc_y_pos
         1F:C49C  A9 E0      			lda.l	#-32
         1F:C49E  9D FF 25   			sta.l	_list_npc_y_pos, x
         1F:C4A1  A9 FF      			lda.h	#-32
         1F:C4A3  9D 00 26   			sta.h	_list_npc_y_pos, x
18557                        	
18558                        		.dbg	line,	"include\init.c", 540; if(respawn == FALSE)
18559                        		__not.um	_respawn
         1F:C4A6  AD 16 23   			lda	_respawn
         1F:C4A9  18         			clc
         1F:C4AA  D0 01      			bne	!+
         1F:C4AC  38         			sec
         1F:C4AD             	!:
18560                        		__bfalse	.LL877
         1F:C4AD  90 06      			bcc	.LL877
18561                        	
18562                        		.dbg	line,	"include\init.c", 541; {
18563                        	
18564                        		.dbg	line,	"include\init.c", 542; list_npc_state[i] = STATE_ACTIVE;
18565                        		__ldx.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:C4AF  AE 79 26   			ldx	__init_NPC_LV1_end - 1
18566                        		__st.uaxiq	0, _list_npc_state
         1F:C4B2  9E C3 23   			stz	_list_npc_state, x
18567                        	
18568                        		.dbg	line,	"include\init.c", 543; }
18569                        	
18570                        		.dbg	line,	"include\init.c", 546; // SET NPC SPRITE //
18571                        	
18572                        		.dbg	line,	"include\init.c", 547; sgx_spr_set(i + npc_start_index);
18573    1F:C4B5             	.LL877:
18574                        		__ld.bm		__init_NPC_LV1_end - 1  /* i */
         1F:C4B5  AD 79 26   			lda	__init_NPC_LV1_end - 1
         1F:C4B8  C2         			cly
         1F:C4B9  10 01      			bpl	!+
         1F:C4BB  88         			dey
         1F:C4BC             	!:
18575                        		__add.um	_npc_start_index
         1F:C4BC  18         			clc
         1F:C4BD  6D B7 23   			adc	_npc_start_index
         1F:C4C0  90 01      			bcc	!+
         1F:C4C2  C8         			iny
         1F:C4C3             	!:
18576                        		__call		_sgx_spr_set.1
         1F:C4C3  20 8A E8   			call	_sgx_spr_set.1
18577                        	
18578                        		.dbg	line,	"include\init.c", 548; sgx_spr_x(list_npc_x_pos[i]);
18579                        		__ld2x.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:C4C6  AD 79 26   			lda	__init_NPC_LV1_end - 1
         1F:C4C9  0A         			asl	a
         1F:C4CA  AA         			tax
18580                        		__ld.wax	_list_npc_x_pos
         1F:C4CB  BD ED 25   			lda.l	_list_npc_x_pos, x
         1F:C4CE  BC EE 25   			ldy.h	_list_npc_x_pos, x
18581                        		__call		_sgx_spr_x.1
         1F:C4D1  20 B7 E8   			call	_sgx_spr_x.1
18582                        	
18583                        		.dbg	line,	"include\init.c", 549; sgx_spr_y(list_npc_y_pos[i]);
18584                        		__ld2x.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:C4D4  AD 79 26   			lda	__init_NPC_LV1_end - 1
         1F:C4D7  0A         			asl	a
         1F:C4D8  AA         			tax
18585                        		__ld.wax	_list_npc_y_pos
         1F:C4D9  BD FF 25   			lda.l	_list_npc_y_pos, x
         1F:C4DC  BC 00 26   			ldy.h	_list_npc_y_pos, x
18586                        		__call		_sgx_spr_y.1
         1F:C4DF  20 C6 E8   			call	_sgx_spr_y.1
18587                        	
18588                        		.dbg	line,	"include\init.c", 550; sgx_spr_pri(TRUE);
18589                        		__ld.uiq	1
         1F:C4E2  A9 01      			lda	#1
18590                        		__call		_sgx_spr_pri.1
         1F:C4E4  20 09 E9   			call	_sgx_spr_pri.1
18591                        	
18592                        		.dbg	line,	"include\init.c", 553; sgx_spr_pal(17);
18593                        		__ld.uiq	17
         1F:C4E7  A9 11      			lda	#17
18594                        		__call		_sgx_spr_pal.1
         1F:C4E9  20 FA E8   			call	_sgx_spr_pal.1
18595                        	
18596                        		.dbg	line,	"include\init.c", 554; sgx_spr_pattern(NPC_VRAM_ADR);
18597                        		__ld.wi		30208
         1F:C4EC  62         			cla
         1F:C4ED  A0 76      			ldy.h	#30208
18598                        		__call		_sgx_spr_pattern.1
         1F:C4EF  20 D3 E8   			call	_sgx_spr_pattern.1
18599                        	
18600                        		.dbg	line,	"include\init.c", 555; sgx_spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_32x32);
18601                        		__st.umiq	185, _al
         1F:C4F2  A9 B9      			lda.l	#185
         1F:C4F4  85 F8      			sta	_al
18602                        		__ld.uiq	17
         1F:C4F6  A9 11      			lda	#17
18603                        		__call		_sgx_spr_ctrl.2
         1F:C4F8  20 E9 E8   			call	_sgx_spr_ctrl.2
18604                        	
18605                        		.dbg	line,	"include\init.c", 556; }
18606                        		__bra		.LL874
         1F:C4FB  4C 46 C4   			bra	.LL874
18607    1F:C4FE             	.LL876:
18608                        	
18609                        		.dbg	line,	"include\init.c", 557; }
18610    1F:C4FE             	.LL872:
18611                        		__return	0
         1F:C4FE  4C EF FF   			jmp	leave_proc
18612                        		.dbg	clear
18613                        		.endp
18614                        		.pceas
18615                        	
18616                        		.dbg	line,	"include\init.c", 564; void init_HUD()
18617                        		.dbg	line,	"include\init.c", 565; {
18618                        	;***********************
18619                        	;***********************
18620                        	
18621                        		.hucc
18622    1D:DB09             		.proc		_init_HUD
18623                        		__enter		_init_HUD
18624                        	
18625                        		.dbg	line,	"include\init.c", 566; //**************************************************************************************//
18626                        	
18627                        		.dbg	line,	"include\init.c", 567; //                                                                                      //
18628                        	
18629                        		.dbg	line,	"include\init.c", 568; //                                        VDC 1                                         //
18630                        	
18631                        		.dbg	line,	"include\init.c", 569; //                                                                                      //
18632                        	
18633                        		.dbg	line,	"include\init.c", 570; //**************************************************************************************//
18634                        	
18635                        		.dbg	line,	"include\init.c", 572; //--------------------------------------------------------------------------------------//
18636                        	
18637                        		.dbg	line,	"include\init.c", 573; //                                      LOAD FONT                                       //
18638                        	
18639                        		.dbg	line,	"include\init.c", 574; //--------------------------------------------------------------------------------------//
18640                        	
18641                        		.dbg	line,	"include\init.c", 576; set_font_addr(0x0800);
18642                        		__ld.wi		2048
         1D:DB09  62         			cla
         1D:DB0A  A0 08      			ldy.h	#2048
18643                        		__call		_set_font_addr.1
         1D:DB0C  20 E2 E5   			call	_set_font_addr.1
18644                        	
18645                        		.dbg	line,	"include\init.c", 578; load_vram( 0x0800, tileset_FONT_TITLE, SIZEOF(tileset_FONT_TITLE) >> 1 );
18646                        		__st.wmiq	2048, _di
         1D:DB0F  64 F0      			stz.l	_di
         1D:DB11  A9 08      			lda.h	#2048
         1D:DB13  85 F1      			sta.h	_di
18647                        		__farptr	_tileset_FONT_TITLE, _bp_bank, _bp
         1D:DB15  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_FONT_TITLE))
         1D:DB17  85 EC      			sta.l	_bp
         1D:DB19  A9 69      			lda.h	#$6000 + ($1FFF & (_tileset_FONT_TITLE))
         1D:DB1B  85 ED      			sta.h	_bp
         1D:DB1D  A9 12      			lda	#bank(_tileset_FONT_TITLE)
         1D:DB1F  85 02      			sta	_bp_bank
18648                        		__ld.wi		___sizeof__tileset_FONT_TITLE
         1D:DB21  A9 00      			lda.l	#___sizeof__tileset_FONT_TITLE
         1D:DB23  A0 0C      			ldy.h	#___sizeof__tileset_FONT_TITLE
18649                        		__lsr.wi	1
         1D:DB25  42         			say
         1D:DB26  4A         			lsr	a
         1D:DB27  42         			say
         1D:DB28  6A         			ror	a
18650                        		__st.wmq	_ax
         1D:DB29  85 F8      			sta.l	_ax
         1D:DB2B  84 F9      			sty.h	_ax
18651                        		 _load_vram.3
         1D:DB2D  82         			clx				; Offset to PCE VDC.
         1D:DB2E  20 1D FF   			call	load_vram_x
18652                        	
18653                        		.dbg	line,	"include\init.c", 580; set_font_pal(15);
18654                        		__ld.uiq	15
         1D:DB31  A9 0F      			lda	#15
18655                        		__call		_set_font_pal.1
         1D:DB33  20 09 E6   			call	_set_font_pal.1
18656                        	
18657                        		.dbg	line,	"include\init.c", 583; //--------------------------------------------------------------------------------------//
18658                        	
18659                        		.dbg	line,	"include\init.c", 584; //                                    LOAD TILESET                                      //
18660                        	
18661                        		.dbg	line,	"include\init.c", 585; //--------------------------------------------------------------------------------------//
18662                        	
18663                        		.dbg	line,	"include\init.c", 587; load_vram( 0x1000, tileset_HUD, SIZEOF(tileset_HUD) >> 1 );
18664                        		__st.wmiq	4096, _di
         1D:DB36  64 F0      			stz.l	_di
         1D:DB38  A9 10      			lda.h	#4096
         1D:DB3A  85 F1      			sta.h	_di
18665                        		__farptr	_tileset_HUD, _bp_bank, _bp
         1D:DB3C  A9 A0      			lda.l	#$6000 + ($1FFF & (_tileset_HUD))
         1D:DB3E  85 EC      			sta.l	_bp
         1D:DB40  A9 79      			lda.h	#$6000 + ($1FFF & (_tileset_HUD))
         1D:DB42  85 ED      			sta.h	_bp
         1D:DB44  A9 0D      			lda	#bank(_tileset_HUD)
         1D:DB46  85 02      			sta	_bp_bank
18666                        		__ld.wi		___sizeof__tileset_HUD
         1D:DB48  A9 40      			lda.l	#___sizeof__tileset_HUD
         1D:DB4A  A0 06      			ldy.h	#___sizeof__tileset_HUD
18667                        		__lsr.wi	1
         1D:DB4C  42         			say
         1D:DB4D  4A         			lsr	a
         1D:DB4E  42         			say
         1D:DB4F  6A         			ror	a
18668                        		__st.wmq	_ax
         1D:DB50  85 F8      			sta.l	_ax
         1D:DB52  84 F9      			sty.h	_ax
18669                        		 _load_vram.3
         1D:DB54  82         			clx				; Offset to PCE VDC.
         1D:DB55  20 1D FF   			call	load_vram_x
18670                        	
18671                        		.dbg	line,	"include\init.c", 590; //--------------------------------------------------------------------------------------//
18672                        	
18673                        		.dbg	line,	"include\init.c", 591; //                                 LOAD LIFEBAR TILES                                   //
18674                        	
18675                        		.dbg	line,	"include\init.c", 592; //--------------------------------------------------------------------------------------//
18676                        	
18677                        		.dbg	line,	"include\init.c", 594; load_vram( LIFEBAR_1_VRAM_ADR, tileset_LIFE_RED, SIZEOF(tileset_LIFE_RED) >> 1 );
18678                        		__st.wmiq	4096, _di
         1D:DB58  64 F0      			stz.l	_di
         1D:DB5A  A9 10      			lda.h	#4096
         1D:DB5C  85 F1      			sta.h	_di
18679                        		__farptr	_tileset_LIFE_RED, _bp_bank, _bp
         1D:DB5E  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_LIFE_RED))
         1D:DB60  85 EC      			sta.l	_bp
         1D:DB62  A9 70      			lda.h	#$6000 + ($1FFF & (_tileset_LIFE_RED))
         1D:DB64  85 ED      			sta.h	_bp
         1D:DB66  A9 07      			lda	#bank(_tileset_LIFE_RED)
         1D:DB68  85 02      			sta	_bp_bank
18680                        		__ld.wi		___sizeof__tileset_LIFE_RED
         1D:DB6A  A9 40      			lda.l	#___sizeof__tileset_LIFE_RED
         1D:DB6C  A0 00      			ldy.h	#___sizeof__tileset_LIFE_RED
18681                        		__lsr.wi	1
         1D:DB6E  42         			say
         1D:DB6F  4A         			lsr	a
         1D:DB70  42         			say
         1D:DB71  6A         			ror	a
18682                        		__st.wmq	_ax
         1D:DB72  85 F8      			sta.l	_ax
         1D:DB74  84 F9      			sty.h	_ax
18683                        		 _load_vram.3
         1D:DB76  82         			clx				; Offset to PCE VDC.
         1D:DB77  20 1D FF   			call	load_vram_x
18684                        	
18685                        		.dbg	line,	"include\init.c", 595; load_vram( LIFEBAR_2_VRAM_ADR, tileset_LIFE_ORANGE, SIZEOF(tileset_LIFE_ORANGE) >> 1 );
18686                        		__st.wmiq	4128, _di
         1D:DB7A  A9 20      			lda.l	#4128
         1D:DB7C  85 F0      			sta.l	_di
         1D:DB7E  A9 10      			lda.h	#4128
         1D:DB80  85 F1      			sta.h	_di
18687                        		__farptr	_tileset_LIFE_ORANGE, _bp_bank, _bp
         1D:DB82  A9 20      			lda.l	#$6000 + ($1FFF & (_tileset_LIFE_ORANGE))
         1D:DB84  85 EC      			sta.l	_bp
         1D:DB86  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_LIFE_ORANGE))
         1D:DB88  85 ED      			sta.h	_bp
         1D:DB8A  A9 07      			lda	#bank(_tileset_LIFE_ORANGE)
         1D:DB8C  85 02      			sta	_bp_bank
18688                        		__ld.wi		___sizeof__tileset_LIFE_ORANGE
         1D:DB8E  A9 40      			lda.l	#___sizeof__tileset_LIFE_ORANGE
         1D:DB90  A0 00      			ldy.h	#___sizeof__tileset_LIFE_ORANGE
18689                        		__lsr.wi	1
         1D:DB92  42         			say
         1D:DB93  4A         			lsr	a
         1D:DB94  42         			say
         1D:DB95  6A         			ror	a
18690                        		__st.wmq	_ax
         1D:DB96  85 F8      			sta.l	_ax
         1D:DB98  84 F9      			sty.h	_ax
18691                        		 _load_vram.3
         1D:DB9A  82         			clx				; Offset to PCE VDC.
         1D:DB9B  20 1D FF   			call	load_vram_x
18692                        	
18693                        		.dbg	line,	"include\init.c", 596; load_vram( LIFEBAR_3_VRAM_ADR, tileset_LIFE_YELLOW, SIZEOF(tileset_LIFE_YELLOW) >> 1 );
18694                        		__st.wmiq	4160, _di
         1D:DB9E  A9 40      			lda.l	#4160
         1D:DBA0  85 F0      			sta.l	_di
         1D:DBA2  A9 10      			lda.h	#4160
         1D:DBA4  85 F1      			sta.h	_di
18695                        		__farptr	_tileset_LIFE_YELLOW, _bp_bank, _bp
         1D:DBA6  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_LIFE_YELLOW))
         1D:DBA8  85 EC      			sta.l	_bp
         1D:DBAA  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_LIFE_YELLOW))
         1D:DBAC  85 ED      			sta.h	_bp
         1D:DBAE  A9 07      			lda	#bank(_tileset_LIFE_YELLOW)
         1D:DBB0  85 02      			sta	_bp_bank
18696                        		__ld.wi		___sizeof__tileset_LIFE_YELLOW
         1D:DBB2  A9 40      			lda.l	#___sizeof__tileset_LIFE_YELLOW
         1D:DBB4  A0 00      			ldy.h	#___sizeof__tileset_LIFE_YELLOW
18697                        		__lsr.wi	1
         1D:DBB6  42         			say
         1D:DBB7  4A         			lsr	a
         1D:DBB8  42         			say
         1D:DBB9  6A         			ror	a
18698                        		__st.wmq	_ax
         1D:DBBA  85 F8      			sta.l	_ax
         1D:DBBC  84 F9      			sty.h	_ax
18699                        		 _load_vram.3
         1D:DBBE  82         			clx				; Offset to PCE VDC.
         1D:DBBF  20 1D FF   			call	load_vram_x
18700                        	
18701                        		.dbg	line,	"include\init.c", 597; load_vram( LIFEBAR_4_VRAM_ADR, tileset_LIFE_YELLOW, SIZEOF(tileset_LIFE_YELLOW) >> 1 );
18702                        		__st.wmiq	4192, _di
         1D:DBC2  A9 60      			lda.l	#4192
         1D:DBC4  85 F0      			sta.l	_di
         1D:DBC6  A9 10      			lda.h	#4192
         1D:DBC8  85 F1      			sta.h	_di
18703                        		__farptr	_tileset_LIFE_YELLOW, _bp_bank, _bp
         1D:DBCA  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_LIFE_YELLOW))
         1D:DBCC  85 EC      			sta.l	_bp
         1D:DBCE  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_LIFE_YELLOW))
         1D:DBD0  85 ED      			sta.h	_bp
         1D:DBD2  A9 07      			lda	#bank(_tileset_LIFE_YELLOW)
         1D:DBD4  85 02      			sta	_bp_bank
18704                        		__ld.wi		___sizeof__tileset_LIFE_YELLOW
         1D:DBD6  A9 40      			lda.l	#___sizeof__tileset_LIFE_YELLOW
         1D:DBD8  A0 00      			ldy.h	#___sizeof__tileset_LIFE_YELLOW
18705                        		__lsr.wi	1
         1D:DBDA  42         			say
         1D:DBDB  4A         			lsr	a
         1D:DBDC  42         			say
         1D:DBDD  6A         			ror	a
18706                        		__st.wmq	_ax
         1D:DBDE  85 F8      			sta.l	_ax
         1D:DBE0  84 F9      			sty.h	_ax
18707                        		 _load_vram.3
         1D:DBE2  82         			clx				; Offset to PCE VDC.
         1D:DBE3  20 1D FF   			call	load_vram_x
18708                        	
18709                        		.dbg	line,	"include\init.c", 598; load_vram( LIFEBAR_5_VRAM_ADR, tileset_LIFE_EMPTY, SIZEOF(tileset_LIFE_EMPTY) >> 1 );
18710                        		__st.wmiq	4224, _di
         1D:DBE6  A9 80      			lda.l	#4224
         1D:DBE8  85 F0      			sta.l	_di
         1D:DBEA  A9 10      			lda.h	#4224
         1D:DBEC  85 F1      			sta.h	_di
18711                        		__farptr	_tileset_LIFE_EMPTY, _bp_bank, _bp
         1D:DBEE  A9 A0      			lda.l	#$6000 + ($1FFF & (_tileset_LIFE_EMPTY))
         1D:DBF0  85 EC      			sta.l	_bp
         1D:DBF2  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_LIFE_EMPTY))
         1D:DBF4  85 ED      			sta.h	_bp
         1D:DBF6  A9 07      			lda	#bank(_tileset_LIFE_EMPTY)
         1D:DBF8  85 02      			sta	_bp_bank
18712                        		__ld.wi		___sizeof__tileset_LIFE_EMPTY
         1D:DBFA  A9 40      			lda.l	#___sizeof__tileset_LIFE_EMPTY
         1D:DBFC  A0 00      			ldy.h	#___sizeof__tileset_LIFE_EMPTY
18713                        		__lsr.wi	1
         1D:DBFE  42         			say
         1D:DBFF  4A         			lsr	a
         1D:DC00  42         			say
         1D:DC01  6A         			ror	a
18714                        		__st.wmq	_ax
         1D:DC02  85 F8      			sta.l	_ax
         1D:DC04  84 F9      			sty.h	_ax
18715                        		 _load_vram.3
         1D:DC06  82         			clx				; Offset to PCE VDC.
         1D:DC07  20 1D FF   			call	load_vram_x
18716                        	
18717                        		.dbg	line,	"include\init.c", 601; //--------------------------------------------------------------------------------------//
18718                        	
18719                        		.dbg	line,	"include\init.c", 602; //                               LOAD WEAPON + ARMOR TILES                              //
18720                        	
18721                        		.dbg	line,	"include\init.c", 603; //--------------------------------------------------------------------------------------//
18722                        	
18723                        		.dbg	line,	"include\init.c", 605; if(weapon_level == 1)
18724                        		__ld.umq	_weapon_level
         1D:DC0A  AD 28 23   			lda	_weapon_level
18725                        		__equ_b.uiq	1
         1D:DC0D  C9 01      			cmp	#1
         1D:DC0F  F0 01      			beq	!+
         1D:DC11  18         			clc
         1D:DC12             	!:
18726                        		__bfalse	.LL879
         1D:DC12  90 27      			bcc	.LL879
18727                        	
18728                        		.dbg	line,	"include\init.c", 606; {
18729                        	
18730                        		.dbg	line,	"include\init.c", 607; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_1, SIZEOF(tileset_WEAPON_1) >> 1 );
18731                        		__st.wmiq	4256, _di
         1D:DC14  A9 A0      			lda.l	#4256
         1D:DC16  85 F0      			sta.l	_di
         1D:DC18  A9 10      			lda.h	#4256
         1D:DC1A  85 F1      			sta.h	_di
18732                        		__farptr	_tileset_WEAPON_1, _bp_bank, _bp
         1D:DC1C  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_1))
         1D:DC1E  85 EC      			sta.l	_bp
         1D:DC20  A9 73      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_1))
         1D:DC22  85 ED      			sta.h	_bp
         1D:DC24  A9 07      			lda	#bank(_tileset_WEAPON_1)
         1D:DC26  85 02      			sta	_bp_bank
18733                        		__ld.wi		___sizeof__tileset_WEAPON_1
         1D:DC28  A9 80      			lda.l	#___sizeof__tileset_WEAPON_1
         1D:DC2A  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_1
18734                        		__lsr.wi	1
         1D:DC2C  42         			say
         1D:DC2D  4A         			lsr	a
         1D:DC2E  42         			say
         1D:DC2F  6A         			ror	a
18735                        		__st.wmq	_ax
         1D:DC30  85 F8      			sta.l	_ax
         1D:DC32  84 F9      			sty.h	_ax
18736                        		 _load_vram.3
         1D:DC34  82         			clx				; Offset to PCE VDC.
         1D:DC35  20 1D FF   			call	load_vram_x
18737                        	
18738                        		.dbg	line,	"include\init.c", 608; }
18739                        	
18740                        		.dbg	line,	"include\init.c", 610; else if(weapon_level == 2)
18741                        		__bra		.LL880
         1D:DC38  4C FA DC   			bra	.LL880
18742    1D:DC3B             	.LL879:
18743                        		__ld.umq	_weapon_level
         1D:DC3B  AD 28 23   			lda	_weapon_level
18744                        		__equ_b.uiq	2
         1D:DC3E  C9 02      			cmp	#2
         1D:DC40  F0 01      			beq	!+
         1D:DC42  18         			clc
         1D:DC43             	!:
18745                        		__bfalse	.LL881
         1D:DC43  90 27      			bcc	.LL881
18746                        	
18747                        		.dbg	line,	"include\init.c", 611; {
18748                        	
18749                        		.dbg	line,	"include\init.c", 612; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_2, SIZEOF(tileset_WEAPON_2) >> 1 );
18750                        		__st.wmiq	4256, _di
         1D:DC45  A9 A0      			lda.l	#4256
         1D:DC47  85 F0      			sta.l	_di
         1D:DC49  A9 10      			lda.h	#4256
         1D:DC4B  85 F1      			sta.h	_di
18751                        		__farptr	_tileset_WEAPON_2, _bp_bank, _bp
         1D:DC4D  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_2))
         1D:DC4F  85 EC      			sta.l	_bp
         1D:DC51  A9 74      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_2))
         1D:DC53  85 ED      			sta.h	_bp
         1D:DC55  A9 07      			lda	#bank(_tileset_WEAPON_2)
         1D:DC57  85 02      			sta	_bp_bank
18752                        		__ld.wi		___sizeof__tileset_WEAPON_2
         1D:DC59  A9 80      			lda.l	#___sizeof__tileset_WEAPON_2
         1D:DC5B  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_2
18753                        		__lsr.wi	1
         1D:DC5D  42         			say
         1D:DC5E  4A         			lsr	a
         1D:DC5F  42         			say
         1D:DC60  6A         			ror	a
18754                        		__st.wmq	_ax
         1D:DC61  85 F8      			sta.l	_ax
         1D:DC63  84 F9      			sty.h	_ax
18755                        		 _load_vram.3
         1D:DC65  82         			clx				; Offset to PCE VDC.
         1D:DC66  20 1D FF   			call	load_vram_x
18756                        	
18757                        		.dbg	line,	"include\init.c", 613; }
18758                        	
18759                        		.dbg	line,	"include\init.c", 615; else if(weapon_level == 3)
18760                        		__bra		.LL882
         1D:DC69  4C FA DC   			bra	.LL882
18761    1D:DC6C             	.LL881:
18762                        		__ld.umq	_weapon_level
         1D:DC6C  AD 28 23   			lda	_weapon_level
18763                        		__equ_b.uiq	3
         1D:DC6F  C9 03      			cmp	#3
         1D:DC71  F0 01      			beq	!+
         1D:DC73  18         			clc
         1D:DC74             	!:
18764                        		__bfalse	.LL883
         1D:DC74  90 26      			bcc	.LL883
18765                        	
18766                        		.dbg	line,	"include\init.c", 616; {
18767                        	
18768                        		.dbg	line,	"include\init.c", 617; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_4, SIZEOF(tileset_WEAPON_4) >> 1 );
18769                        		__st.wmiq	4256, _di
         1D:DC76  A9 A0      			lda.l	#4256
         1D:DC78  85 F0      			sta.l	_di
         1D:DC7A  A9 10      			lda.h	#4256
         1D:DC7C  85 F1      			sta.h	_di
18770                        		__farptr	_tileset_WEAPON_4, _bp_bank, _bp
         1D:DC7E  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_4))
         1D:DC80  85 EC      			sta.l	_bp
         1D:DC82  A9 74      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_4))
         1D:DC84  85 ED      			sta.h	_bp
         1D:DC86  A9 07      			lda	#bank(_tileset_WEAPON_4)
         1D:DC88  85 02      			sta	_bp_bank
18771                        		__ld.wi		___sizeof__tileset_WEAPON_4
         1D:DC8A  A9 80      			lda.l	#___sizeof__tileset_WEAPON_4
         1D:DC8C  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_4
18772                        		__lsr.wi	1
         1D:DC8E  42         			say
         1D:DC8F  4A         			lsr	a
         1D:DC90  42         			say
         1D:DC91  6A         			ror	a
18773                        		__st.wmq	_ax
         1D:DC92  85 F8      			sta.l	_ax
         1D:DC94  84 F9      			sty.h	_ax
18774                        		 _load_vram.3
         1D:DC96  82         			clx				; Offset to PCE VDC.
         1D:DC97  20 1D FF   			call	load_vram_x
18775                        	
18776                        		.dbg	line,	"include\init.c", 618; }
18777                        	
18778                        		.dbg	line,	"include\init.c", 620; else if(weapon_level == 4)
18779                        		__bra		.LL884
         1D:DC9A  80 5E      			bra	.LL884
18780    1D:DC9C             	.LL883:
18781                        		__ld.umq	_weapon_level
         1D:DC9C  AD 28 23   			lda	_weapon_level
18782                        		__equ_b.uiq	4
         1D:DC9F  C9 04      			cmp	#4
         1D:DCA1  F0 01      			beq	!+
         1D:DCA3  18         			clc
         1D:DCA4             	!:
18783                        		__bfalse	.LL885
         1D:DCA4  90 26      			bcc	.LL885
18784                        	
18785                        		.dbg	line,	"include\init.c", 621; {
18786                        	
18787                        		.dbg	line,	"include\init.c", 622; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_5, SIZEOF(tileset_WEAPON_5) >> 1 );
18788                        		__st.wmiq	4256, _di
         1D:DCA6  A9 A0      			lda.l	#4256
         1D:DCA8  85 F0      			sta.l	_di
         1D:DCAA  A9 10      			lda.h	#4256
         1D:DCAC  85 F1      			sta.h	_di
18789                        		__farptr	_tileset_WEAPON_5, _bp_bank, _bp
         1D:DCAE  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_5))
         1D:DCB0  85 EC      			sta.l	_bp
         1D:DCB2  A9 75      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_5))
         1D:DCB4  85 ED      			sta.h	_bp
         1D:DCB6  A9 07      			lda	#bank(_tileset_WEAPON_5)
         1D:DCB8  85 02      			sta	_bp_bank
18790                        		__ld.wi		___sizeof__tileset_WEAPON_5
         1D:DCBA  A9 80      			lda.l	#___sizeof__tileset_WEAPON_5
         1D:DCBC  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_5
18791                        		__lsr.wi	1
         1D:DCBE  42         			say
         1D:DCBF  4A         			lsr	a
         1D:DCC0  42         			say
         1D:DCC1  6A         			ror	a
18792                        		__st.wmq	_ax
         1D:DCC2  85 F8      			sta.l	_ax
         1D:DCC4  84 F9      			sty.h	_ax
18793                        		 _load_vram.3
         1D:DCC6  82         			clx				; Offset to PCE VDC.
         1D:DCC7  20 1D FF   			call	load_vram_x
18794                        	
18795                        		.dbg	line,	"include\init.c", 623; }
18796                        	
18797                        		.dbg	line,	"include\init.c", 625; else if(weapon_level == 5)
18798                        		__bra		.LL886
         1D:DCCA  80 2E      			bra	.LL886
18799    1D:DCCC             	.LL885:
18800                        		__ld.umq	_weapon_level
         1D:DCCC  AD 28 23   			lda	_weapon_level
18801                        		__equ_b.uiq	5
         1D:DCCF  C9 05      			cmp	#5
         1D:DCD1  F0 01      			beq	!+
         1D:DCD3  18         			clc
         1D:DCD4             	!:
18802                        		__bfalse	.LL887
         1D:DCD4  90 24      			bcc	.LL887
18803                        	
18804                        		.dbg	line,	"include\init.c", 626; {
18805                        	
18806                        		.dbg	line,	"include\init.c", 627; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_8, SIZEOF(tileset_WEAPON_8) >> 1 );
18807                        		__st.wmiq	4256, _di
         1D:DCD6  A9 A0      			lda.l	#4256
         1D:DCD8  85 F0      			sta.l	_di
         1D:DCDA  A9 10      			lda.h	#4256
         1D:DCDC  85 F1      			sta.h	_di
18808                        		__farptr	_tileset_WEAPON_8, _bp_bank, _bp
         1D:DCDE  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_8))
         1D:DCE0  85 EC      			sta.l	_bp
         1D:DCE2  A9 75      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_8))
         1D:DCE4  85 ED      			sta.h	_bp
         1D:DCE6  A9 07      			lda	#bank(_tileset_WEAPON_8)
         1D:DCE8  85 02      			sta	_bp_bank
18809                        		__ld.wi		___sizeof__tileset_WEAPON_8
         1D:DCEA  A9 80      			lda.l	#___sizeof__tileset_WEAPON_8
         1D:DCEC  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_8
18810                        		__lsr.wi	1
         1D:DCEE  42         			say
         1D:DCEF  4A         			lsr	a
         1D:DCF0  42         			say
         1D:DCF1  6A         			ror	a
18811                        		__st.wmq	_ax
         1D:DCF2  85 F8      			sta.l	_ax
         1D:DCF4  84 F9      			sty.h	_ax
18812                        		 _load_vram.3
         1D:DCF6  82         			clx				; Offset to PCE VDC.
         1D:DCF7  20 1D FF   			call	load_vram_x
18813                        	
18814                        		.dbg	line,	"include\init.c", 628; }
18815                        	
18816                        		.dbg	line,	"include\init.c", 633; if(armor_level == 1)
18817    1D:DCFA             	.LL887:
18818    1D:DCFA             	.LL886:
18819    1D:DCFA             	.LL884:
18820    1D:DCFA             	.LL882:
18821    1D:DCFA             	.LL880:
18822                        		__ld.umq	_armor_level
         1D:DCFA  AD 27 23   			lda	_armor_level
18823                        		__equ_b.uiq	1
         1D:DCFD  C9 01      			cmp	#1
         1D:DCFF  F0 01      			beq	!+
         1D:DD01  18         			clc
         1D:DD02             	!:
18824                        		__bfalse	.LL888
         1D:DD02  90 27      			bcc	.LL888
18825                        	
18826                        		.dbg	line,	"include\init.c", 634; {
18827                        	
18828                        		.dbg	line,	"include\init.c", 635; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_1, SIZEOF(tileset_ARMOR_1) >> 1 );
18829                        		__st.wmiq	4320, _di
         1D:DD04  A9 E0      			lda.l	#4320
         1D:DD06  85 F0      			sta.l	_di
         1D:DD08  A9 10      			lda.h	#4320
         1D:DD0A  85 F1      			sta.h	_di
18830                        		__farptr	_tileset_ARMOR_1, _bp_bank, _bp
         1D:DD0C  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_1))
         1D:DD0E  85 EC      			sta.l	_bp
         1D:DD10  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_1))
         1D:DD12  85 ED      			sta.h	_bp
         1D:DD14  A9 07      			lda	#bank(_tileset_ARMOR_1)
         1D:DD16  85 02      			sta	_bp_bank
18831                        		__ld.wi		___sizeof__tileset_ARMOR_1
         1D:DD18  A9 80      			lda.l	#___sizeof__tileset_ARMOR_1
         1D:DD1A  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_1
18832                        		__lsr.wi	1
         1D:DD1C  42         			say
         1D:DD1D  4A         			lsr	a
         1D:DD1E  42         			say
         1D:DD1F  6A         			ror	a
18833                        		__st.wmq	_ax
         1D:DD20  85 F8      			sta.l	_ax
         1D:DD22  84 F9      			sty.h	_ax
18834                        		 _load_vram.3
         1D:DD24  82         			clx				; Offset to PCE VDC.
         1D:DD25  20 1D FF   			call	load_vram_x
18835                        	
18836                        		.dbg	line,	"include\init.c", 636; }
18837                        	
18838                        		.dbg	line,	"include\init.c", 638; else if(armor_level == 2)
18839                        		__bra		.LL889
         1D:DD28  4C B9 DD   			bra	.LL889
18840    1D:DD2B             	.LL888:
18841                        		__ld.umq	_armor_level
         1D:DD2B  AD 27 23   			lda	_armor_level
18842                        		__equ_b.uiq	2
         1D:DD2E  C9 02      			cmp	#2
         1D:DD30  F0 01      			beq	!+
         1D:DD32  18         			clc
         1D:DD33             	!:
18843                        		__bfalse	.LL890
         1D:DD33  90 26      			bcc	.LL890
18844                        	
18845                        		.dbg	line,	"include\init.c", 639; {
18846                        	
18847                        		.dbg	line,	"include\init.c", 640; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_2, SIZEOF(tileset_ARMOR_2) >> 1 );
18848                        		__st.wmiq	4320, _di
         1D:DD35  A9 E0      			lda.l	#4320
         1D:DD37  85 F0      			sta.l	_di
         1D:DD39  A9 10      			lda.h	#4320
         1D:DD3B  85 F1      			sta.h	_di
18849                        		__farptr	_tileset_ARMOR_2, _bp_bank, _bp
         1D:DD3D  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_2))
         1D:DD3F  85 EC      			sta.l	_bp
         1D:DD41  A9 72      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_2))
         1D:DD43  85 ED      			sta.h	_bp
         1D:DD45  A9 07      			lda	#bank(_tileset_ARMOR_2)
         1D:DD47  85 02      			sta	_bp_bank
18850                        		__ld.wi		___sizeof__tileset_ARMOR_2
         1D:DD49  A9 80      			lda.l	#___sizeof__tileset_ARMOR_2
         1D:DD4B  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_2
18851                        		__lsr.wi	1
         1D:DD4D  42         			say
         1D:DD4E  4A         			lsr	a
         1D:DD4F  42         			say
         1D:DD50  6A         			ror	a
18852                        		__st.wmq	_ax
         1D:DD51  85 F8      			sta.l	_ax
         1D:DD53  84 F9      			sty.h	_ax
18853                        		 _load_vram.3
         1D:DD55  82         			clx				; Offset to PCE VDC.
         1D:DD56  20 1D FF   			call	load_vram_x
18854                        	
18855                        		.dbg	line,	"include\init.c", 641; }
18856                        	
18857                        		.dbg	line,	"include\init.c", 643; else if(armor_level == 3)
18858                        		__bra		.LL891
         1D:DD59  80 5E      			bra	.LL891
18859    1D:DD5B             	.LL890:
18860                        		__ld.umq	_armor_level
         1D:DD5B  AD 27 23   			lda	_armor_level
18861                        		__equ_b.uiq	3
         1D:DD5E  C9 03      			cmp	#3
         1D:DD60  F0 01      			beq	!+
         1D:DD62  18         			clc
         1D:DD63             	!:
18862                        		__bfalse	.LL892
         1D:DD63  90 26      			bcc	.LL892
18863                        	
18864                        		.dbg	line,	"include\init.c", 644; {
18865                        	
18866                        		.dbg	line,	"include\init.c", 645; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_4, SIZEOF(tileset_ARMOR_4) >> 1 );
18867                        		__st.wmiq	4320, _di
         1D:DD65  A9 E0      			lda.l	#4320
         1D:DD67  85 F0      			sta.l	_di
         1D:DD69  A9 10      			lda.h	#4320
         1D:DD6B  85 F1      			sta.h	_di
18868                        		__farptr	_tileset_ARMOR_4, _bp_bank, _bp
         1D:DD6D  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_4))
         1D:DD6F  85 EC      			sta.l	_bp
         1D:DD71  A9 72      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_4))
         1D:DD73  85 ED      			sta.h	_bp
         1D:DD75  A9 07      			lda	#bank(_tileset_ARMOR_4)
         1D:DD77  85 02      			sta	_bp_bank
18869                        		__ld.wi		___sizeof__tileset_ARMOR_4
         1D:DD79  A9 80      			lda.l	#___sizeof__tileset_ARMOR_4
         1D:DD7B  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_4
18870                        		__lsr.wi	1
         1D:DD7D  42         			say
         1D:DD7E  4A         			lsr	a
         1D:DD7F  42         			say
         1D:DD80  6A         			ror	a
18871                        		__st.wmq	_ax
         1D:DD81  85 F8      			sta.l	_ax
         1D:DD83  84 F9      			sty.h	_ax
18872                        		 _load_vram.3
         1D:DD85  82         			clx				; Offset to PCE VDC.
         1D:DD86  20 1D FF   			call	load_vram_x
18873                        	
18874                        		.dbg	line,	"include\init.c", 646; }
18875                        	
18876                        		.dbg	line,	"include\init.c", 648; else if(armor_level == 4)
18877                        		__bra		.LL893
         1D:DD89  80 2E      			bra	.LL893
18878    1D:DD8B             	.LL892:
18879                        		__ld.umq	_armor_level
         1D:DD8B  AD 27 23   			lda	_armor_level
18880                        		__equ_b.uiq	4
         1D:DD8E  C9 04      			cmp	#4
         1D:DD90  F0 01      			beq	!+
         1D:DD92  18         			clc
         1D:DD93             	!:
18881                        		__bfalse	.LL894
         1D:DD93  90 24      			bcc	.LL894
18882                        	
18883                        		.dbg	line,	"include\init.c", 649; {
18884                        	
18885                        		.dbg	line,	"include\init.c", 650; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_8, SIZEOF(tileset_ARMOR_8) >> 1 );
18886                        		__st.wmiq	4320, _di
         1D:DD95  A9 E0      			lda.l	#4320
         1D:DD97  85 F0      			sta.l	_di
         1D:DD99  A9 10      			lda.h	#4320
         1D:DD9B  85 F1      			sta.h	_di
18887                        		__farptr	_tileset_ARMOR_8, _bp_bank, _bp
         1D:DD9D  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_8))
         1D:DD9F  85 EC      			sta.l	_bp
         1D:DDA1  A9 73      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_8))
         1D:DDA3  85 ED      			sta.h	_bp
         1D:DDA5  A9 07      			lda	#bank(_tileset_ARMOR_8)
         1D:DDA7  85 02      			sta	_bp_bank
18888                        		__ld.wi		___sizeof__tileset_ARMOR_8
         1D:DDA9  A9 80      			lda.l	#___sizeof__tileset_ARMOR_8
         1D:DDAB  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_8
18889                        		__lsr.wi	1
         1D:DDAD  42         			say
         1D:DDAE  4A         			lsr	a
         1D:DDAF  42         			say
         1D:DDB0  6A         			ror	a
18890                        		__st.wmq	_ax
         1D:DDB1  85 F8      			sta.l	_ax
         1D:DDB3  84 F9      			sty.h	_ax
18891                        		 _load_vram.3
         1D:DDB5  82         			clx				; Offset to PCE VDC.
         1D:DDB6  20 1D FF   			call	load_vram_x
18892                        	
18893                        		.dbg	line,	"include\init.c", 651; }
18894                        	
18895                        		.dbg	line,	"include\init.c", 656; //--------------------------------------------------------------------------------------//
18896                        	
18897                        		.dbg	line,	"include\init.c", 657; //                                     SET MULTIMAP                                     //
18898                        	
18899                        		.dbg	line,	"include\init.c", 658; //--------------------------------------------------------------------------------------//
18900                        	
18901                        		.dbg	line,	"include\init.c", 660; // multimap is 2 screens wide //
18902                        	
18903                        		.dbg	line,	"include\init.c", 661; set_multimap( multimap_LV1_BG_A , 5 );
18904    1D:DDB9             	.LL894:
18905    1D:DDB9             	.LL893:
18906    1D:DDB9             	.LL891:
18907    1D:DDB9             	.LL889:
18908                        		__farptr	_multimap_LV1_BG_A, vdc_scr_bank, vdc_scr_addr
         1D:DDB9  A9 00      			lda.l	#$6000 + ($1FFF & (_multimap_LV1_BG_A))
         1D:DDBB  8D EC 2B   			sta.l	vdc_scr_addr
         1D:DDBE  A9 78      			lda.h	#$6000 + ($1FFF & (_multimap_LV1_BG_A))
         1D:DDC0  8D ED 2B   			sta.h	vdc_scr_addr
         1D:DDC3  A9 0F      			lda	#bank(_multimap_LV1_BG_A)
         1D:DDC5  8D EE 2B   			sta	vdc_scr_bank
18909                        		__st.umiq	5, vdc_map_scrn_w
         1D:DDC8  A9 05      			lda.l	#5
         1D:DDCA  8D AD 26   			sta	vdc_map_scrn_w
18910                        		 _set_multimap.2
         1D:DDCD  AD A5 26   			lda	vdc_bat_width
         1D:DDD0  4A         			lsr	a
         1D:DDD1  8D AC 26   			sta	vdc_map_line_w
18911                        	
18912                        		.dbg	line,	"include\init.c", 664; //--------------------------------------------------------------------------------------//
18913                        	
18914                        		.dbg	line,	"include\init.c", 665; //                                    DRAW TILEMAP                                      //
18915                        	
18916                        		.dbg	line,	"include\init.c", 666; //--------------------------------------------------------------------------------------//
18917                        	
18918                        		.dbg	line,	"include\init.c", 668; // The blkmap is drawn using global variables for the top-left coordinate
18919                        	
18920                        		.dbg	line,	"include\init.c", 669; // in pixels, and the draw width and height in terms of 8x8 characters.
18921                        	
18922                        		.dbg	line,	"include\init.c", 671; vdc_map_pxl_x = 0;
18923                        		__st.wmiq	0, _vdc_map_pxl_x
         1D:DDD4  9C AE 26   			stz.l	_vdc_map_pxl_x
         1D:DDD7  9C AF 26   			stz.h	_vdc_map_pxl_x
18924                        	
18925                        		.dbg	line,	"include\init.c", 672; vdc_map_pxl_y = 0;
18926                        		__st.wmiq	0, _vdc_map_pxl_y
         1D:DDDA  9C B0 26   			stz.l	_vdc_map_pxl_y
         1D:DDDD  9C B1 26   			stz.h	_vdc_map_pxl_y
18927                        	
18928                        		.dbg	line,	"include\init.c", 674; vdc_map_draw_w = 64;//32
18929                        		__st.umiq	64, _vdc_map_draw_w
         1D:DDE0  A9 40      			lda.l	#64
         1D:DDE2  8D AA 26   			sta	_vdc_map_draw_w
18930                        	
18931                        		.dbg	line,	"include\init.c", 675; vdc_map_draw_h = 32;//28
18932                        		__st.umiq	32, _vdc_map_draw_h
         1D:DDE5  A9 20      			lda.l	#32
         1D:DDE7  8D AB 26   			sta	_vdc_map_draw_h
18933                        	
18934                        		.dbg	line,	"include\init.c", 677; draw_map();
18935                        		__call		_draw_map
         1D:DDEA  20 D7 FE   			call	_draw_map
18936                        	
18937                        		.dbg	line,	"include\init.c", 679; display_LIFE();
18938                        		__call		_display_LIFE
         1D:DDED  20 CD FE   			call	_display_LIFE
18939                        	
18940                        		.dbg	line,	"include\init.c", 680; display_SCORE();
18941                        		__call		_display_SCORE
         1D:DDF0  20 C3 FE   			call	_display_SCORE
18942                        	
18943                        		.dbg	line,	"include\init.c", 681; display_TIME_LEVEL();
18944                        		__call		_display_TIME_LEVEL
         1D:DDF3  20 B9 FE   			call	_display_TIME_LEVEL
18945                        	
18946                        		.dbg	line,	"include\init.c", 682; display_KEY();
18947                        		__call		_display_KEY
         1D:DDF6  20 59 FF   			call	_display_KEY
18948                        	
18949                        		.dbg	line,	"include\init.c", 683; display_POTION();
18950                        		__call		_display_POTION
         1D:DDF9  20 09 FF   			call	_display_POTION
18951                        	
18952                        		.dbg	line,	"include\init.c", 684; display_ZENNY();
18953                        		__call		_display_ZENNY
         1D:DDFC  20 13 FF   			call	_display_ZENNY
18954                        	
18955                        		.dbg	line,	"include\init.c", 685; }
18956    1D:DDFF             	.LL878:
18957                        		__return	0
         1D:DDFF  4C EF FF   			jmp	leave_proc
18958                        		.dbg	clear
18959                        		.endp
18960                        		.pceas
18961                        	
18962                        		.dbg	line,	"include\init.c", 688; void init_LEVEL()
18963                        		.dbg	line,	"include\init.c", 689; {
18964                        	;***********************
18965                        	;***********************
18966                        	
18967                        		.hucc
18968    1E:C580             		.proc		_init_LEVEL
18969                        		__enter		_init_LEVEL
18970                        	
18971                        		.dbg	line,	"include\init.c", 690; if(level_id == 1)
18972                        		__ld.umq	_level_id
         1E:C580  AD 15 23   			lda	_level_id
18973                        		__equ_b.uiq	1
         1E:C583  C9 01      			cmp	#1
         1E:C585  F0 01      			beq	!+
         1E:C587  18         			clc
         1E:C588             	!:
18974                        		__bfalse	.LL896
         1E:C588  B0 03 4C 95			bcc	.LL896
         1E:C58C  CA          
18975                        	
18976                        		.dbg	line,	"include\init.c", 691; {
18977                        	
18978                        		.dbg	line,	"include\init.c", 692; char i;
18979                        	
18980                        		.dbg	line,	"include\init.c", 693; 
18981                        	
18982                        		.dbg	line,	"include\init.c", 694; // VSYNC //
18983                        	
18984                        		.dbg	line,	"include\init.c", 695; vsync();
18985                        		__call		_vsync
         1E:C58D  20 09 E3   			call	_vsync
18986                        	
18987                        		.dbg	line,	"include\init.c", 698; // DISABLE DISPLAY //
18988                        	
18989                        		.dbg	line,	"include\init.c", 699; disp_off();
18990                        		__call		_disp_off
         1E:C590  20 29 E4   			call	_disp_off
18991                        	
18992                        		.dbg	line,	"include\init.c", 702; // SET VDC 1 SCREEN SIZE (IN TILES) - 64x32 = 512x256 PIXELS
18993                        	
18994                        		.dbg	line,	"include\init.c", 703; set_screen_size(SCR_SIZE_64x32);
18995                        		__st.umiq	1, _al
         1E:C593  A9 01      			lda.l	#1
         1E:C595  85 F8      			sta	_al
18996                        		__call		_set_screen_size.1
         1E:C597  20 FF FE   			call	_set_screen_size.1
18997                        	
18998                        		.dbg	line,	"include\init.c", 706; // SET VDC 2 SCREEN SIZE (IN TILES) - 64x32 = 512x256 PIXELS
18999                        	
19000                        		.dbg	line,	"include\init.c", 707; sgx_set_screen_size(SCR_SIZE_64x32);
19001                        		__st.umiq	1, _al
         1E:C59A  A9 01      			lda.l	#1
         1E:C59C  85 F8      			sta	_al
19002                        		__call		_sgx_set_screen_size.1
         1E:C59E  20 F5 FE   			call	_sgx_set_screen_size.1
19003                        	
19004                        		.dbg	line,	"include\init.c", 710; // INIT SPRITE ATTRIBUTE TABLE //
19005                        	
19006                        		.dbg	line,	"include\init.c", 711; //init_satb();
19007                        	
19008                        		.dbg	line,	"include\init.c", 716; //**************************************************************************************//
19009                        	
19010                        		.dbg	line,	"include\init.c", 717; //                                                                                      //
19011                        	
19012                        		.dbg	line,	"include\init.c", 718; //                                      VARIABLES                                       //
19013                        	
19014                        		.dbg	line,	"include\init.c", 719; //                                                                                      //
19015                        	
19016                        		.dbg	line,	"include\init.c", 720; //**************************************************************************************//
19017                        	
19018                        		.dbg	line,	"include\init.c", 722; time_counter = 0;
19019                        		__st.umiq	0, _time_counter
         1E:C5A1  9C 32 23   			stz	_time_counter
19020                        	
19021                        		.dbg	line,	"include\init.c", 723; 
19022                        	
19023                        		.dbg	line,	"include\init.c", 724; if(respawn == RESPAWN_SHOP)
19024                        		__ld.umq	_respawn
         1E:C5A4  AD 16 23   			lda	_respawn
19025                        		__equ_b.uiq	2
         1E:C5A7  C9 02      			cmp	#2
         1E:C5A9  F0 01      			beq	!+
         1E:C5AB  18         			clc
         1E:C5AC             	!:
19026                        		__bfalse	.LL897
         1E:C5AC  90 10      			bcc	.LL897
19027                        	
19028                        		.dbg	line,	"include\init.c", 725; {
19029                        	
19030                        		.dbg	line,	"include\init.c", 726; minutes = minutes_backup;
19031                        		__ld.um		_minutes_backup
         1E:C5AE  AD 33 23   			lda	_minutes_backup
         1E:C5B1  C2         			cly
19032                        		__st.umq	_minutes
         1E:C5B2  8D 30 23   			sta	_minutes
19033                        	
19034                        		.dbg	line,	"include\init.c", 727; seconds = seconds_backup;
19035                        		__ld.um		_seconds_backup
         1E:C5B5  AD 34 23   			lda	_seconds_backup
         1E:C5B8  C2         			cly
19036                        		__st.umq	_seconds
         1E:C5B9  8D 31 23   			sta	_seconds
19037                        	
19038                        		.dbg	line,	"include\init.c", 728; }
19039                        	
19040                        		.dbg	line,	"include\init.c", 730; else
19041                        		__bra		.LL898
         1E:C5BC  80 0A      			bra	.LL898
19042    1E:C5BE             	.LL897:
19043                        	
19044                        		.dbg	line,	"include\init.c", 731; {
19045                        	
19046                        		.dbg	line,	"include\init.c", 732; minutes = 1;
19047                        		__st.umiq	1, _minutes
         1E:C5BE  A9 01      			lda.l	#1
         1E:C5C0  8D 30 23   			sta	_minutes
19048                        	
19049                        		.dbg	line,	"include\init.c", 733; seconds = 59;
19050                        		__st.umiq	59, _seconds
         1E:C5C3  A9 3B      			lda.l	#59
         1E:C5C5  8D 31 23   			sta	_seconds
19051                        	
19052                        		.dbg	line,	"include\init.c", 734; }
19053    1E:C5C8             	.LL898:
19054                        	
19055                        		.dbg	line,	"include\init.c", 736; camera_max_y_position = 768;
19056                        		__st.wmiq	768, _camera_max_y_position
         1E:C5C8  9C DF 24   			stz.l	_camera_max_y_position
         1E:C5CB  A9 03      			lda.h	#768
         1E:C5CD  8D E0 24   			sta.h	_camera_max_y_position
19057                        	
19058                        		.dbg	line,	"include\init.c", 737; jump_max_index = 34;
19059                        		__st.umiq	34, _jump_max_index
         1E:C5D0  A9 22      			lda.l	#34
         1E:C5D2  8D 22 23   			sta	_jump_max_index
19060                        	
19061                        		.dbg	line,	"include\init.c", 738; score = 0;
19062                        		__st.wmiq	0, _score
         1E:C5D5  9C 3D 26   			stz.l	_score
         1E:C5D8  9C 3E 26   			stz.h	_score
19063                        	
19064                        		.dbg	line,	"include\init.c", 739; level_object_number = OBJECT_NUMBER_LV1;
19065                        		__st.umiq	23, _level_object_number
         1E:C5DB  A9 17      			lda.l	#23
         1E:C5DD  8D 36 23   			sta	_level_object_number
19066                        	
19067                        		.dbg	line,	"include\init.c", 740; level_chest_number = CHEST_NUMBER_LV1;
19068                        		__st.umiq	2, _level_chest_number
         1E:C5E0  A9 02      			lda.l	#2
         1E:C5E2  8D A5 23   			sta	_level_chest_number
19069                        	
19070                        		.dbg	line,	"include\init.c", 741; level_npc_number = NPC_NUMBER_LV1;
19071                        		__st.umiq	2, _level_npc_number
         1E:C5E5  A9 02      			lda.l	#2
         1E:C5E7  8D B8 23   			sta	_level_npc_number
19072                        	
19073                        		.dbg	line,	"include\init.c", 742; object_start_index = OBJECT_START_INDEX_LV1;
19074                        		__st.umiq	0, _object_start_index
         1E:C5EA  9C 35 23   			stz	_object_start_index
19075                        	
19076                        		.dbg	line,	"include\init.c", 743; chest_start_index = CHEST_START_INDEX_LV1;
19077                        		__st.umiq	23, _chest_start_index
         1E:C5ED  A9 17      			lda.l	#23
         1E:C5EF  8D A4 23   			sta	_chest_start_index
19078                        	
19079                        		.dbg	line,	"include\init.c", 744; npc_start_index = NPC_START_INDEX_LV1;
19080                        		__st.umiq	25, _npc_start_index
         1E:C5F2  A9 19      			lda.l	#25
         1E:C5F4  8D B7 23   			sta	_npc_start_index
19081                        	
19082                        		.dbg	line,	"include\init.c", 745; jump_ladder = FALSE;
19083                        		__st.umiq	0, _jump_ladder
         1E:C5F7  9C 21 23   			stz	_jump_ladder
19084                        	
19085                        		.dbg	line,	"include\init.c", 749; //**************************************************************************************//
19086                        	
19087                        		.dbg	line,	"include\init.c", 750; //                                                                                      //
19088                        	
19089                        		.dbg	line,	"include\init.c", 751; //                                        VDC 2                                         //
19090                        	
19091                        		.dbg	line,	"include\init.c", 752; //                                                                                      //
19092                        	
19093                        		.dbg	line,	"include\init.c", 753; //**************************************************************************************//
19094                        	
19095                        		.dbg	line,	"include\init.c", 755; //--------------------------------------------------------------------------------------//
19096                        	
19097                        		.dbg	line,	"include\init.c", 756; //                                    LOAD TILESET                                      //
19098                        	
19099                        		.dbg	line,	"include\init.c", 757; //--------------------------------------------------------------------------------------//
19100                        	
19101                        		.dbg	line,	"include\init.c", 759; sgx_load_vram( 0x1000, tileset_LV1_BG_B, SIZEOF(tileset_LV1_BG_B) >> 1 );
19102                        		__st.wmiq	4096, _di
         1E:C5FA  64 F0      			stz.l	_di
         1E:C5FC  A9 10      			lda.h	#4096
         1E:C5FE  85 F1      			sta.h	_di
19103                        		__farptr	_tileset_LV1_BG_B, _bp_bank, _bp
         1E:C600  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_LV1_BG_B))
         1E:C602  85 EC      			sta.l	_bp
         1E:C604  A9 76      			lda.h	#$6000 + ($1FFF & (_tileset_LV1_BG_B))
         1E:C606  85 ED      			sta.h	_bp
         1E:C608  A9 07      			lda	#bank(_tileset_LV1_BG_B)
         1E:C60A  85 02      			sta	_bp_bank
19104                        		__ld.wi		___sizeof__tileset_LV1_BG_B
         1E:C60C  A9 E0      			lda.l	#___sizeof__tileset_LV1_BG_B
         1E:C60E  A0 72      			ldy.h	#___sizeof__tileset_LV1_BG_B
19105                        		__lsr.wi	1
         1E:C610  42         			say
         1E:C611  4A         			lsr	a
         1E:C612  42         			say
         1E:C613  6A         			ror	a
19106                        		__st.wmq	_ax
         1E:C614  85 F8      			sta.l	_ax
         1E:C616  84 F9      			sty.h	_ax
19107                        		 _sgx_load_vram.3
         1E:C618  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:C61A  20 1D FF   			call	load_vram_x
19108                        	
19109                        		.dbg	line,	"include\init.c", 762; //--------------------------------------------------------------------------------------//
19110                        	
19111                        		.dbg	line,	"include\init.c", 763; //                               LOAD WALL & DOOR TILES                                 //
19112                        	
19113                        		.dbg	line,	"include\init.c", 764; //--------------------------------------------------------------------------------------//
19114                        	
19115                        		.dbg	line,	"include\init.c", 766; sgx_load_vram( LV1_WALL_VRAM_ADR, tileset_LV1_WALL, SIZEOF(tileset_LV1_WALL) >> 1 );
19116                        		__st.wmiq	4096, _di
         1E:C61D  64 F0      			stz.l	_di
         1E:C61F  A9 10      			lda.h	#4096
         1E:C621  85 F1      			sta.h	_di
19117                        		__farptr	_tileset_LV1_WALL, _bp_bank, _bp
         1E:C623  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_LV1_WALL))
         1E:C625  85 EC      			sta.l	_bp
         1E:C627  A9 68      			lda.h	#$6000 + ($1FFF & (_tileset_LV1_WALL))
         1E:C629  85 ED      			sta.h	_bp
         1E:C62B  A9 07      			lda	#bank(_tileset_LV1_WALL)
         1E:C62D  85 02      			sta	_bp_bank
19118                        		__ld.wi		___sizeof__tileset_LV1_WALL
         1E:C62F  A9 00      			lda.l	#___sizeof__tileset_LV1_WALL
         1E:C631  A0 02      			ldy.h	#___sizeof__tileset_LV1_WALL
19119                        		__lsr.wi	1
         1E:C633  42         			say
         1E:C634  4A         			lsr	a
         1E:C635  42         			say
         1E:C636  6A         			ror	a
19120                        		__st.wmq	_ax
         1E:C637  85 F8      			sta.l	_ax
         1E:C639  84 F9      			sty.h	_ax
19121                        		 _sgx_load_vram.3
         1E:C63B  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:C63D  20 1D FF   			call	load_vram_x
19122                        	
19123                        		.dbg	line,	"include\init.c", 767; sgx_load_vram( LV1_DOOR_VRAM_ADR, tileset_LV1_DOOR_OPEN, SIZEOF(tileset_LV1_DOOR_OPEN) >> 1 );
19124                        		__st.wmiq	4352, _di
         1E:C640  64 F0      			stz.l	_di
         1E:C642  A9 11      			lda.h	#4352
         1E:C644  85 F1      			sta.h	_di
19125                        		__farptr	_tileset_LV1_DOOR_OPEN, _bp_bank, _bp
         1E:C646  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_LV1_DOOR_OPEN))
         1E:C648  85 EC      			sta.l	_bp
         1E:C64A  A9 6A      			lda.h	#$6000 + ($1FFF & (_tileset_LV1_DOOR_OPEN))
         1E:C64C  85 ED      			sta.h	_bp
         1E:C64E  A9 07      			lda	#bank(_tileset_LV1_DOOR_OPEN)
         1E:C650  85 02      			sta	_bp_bank
19126                        		__ld.wi		___sizeof__tileset_LV1_DOOR_OPEN
         1E:C652  A9 00      			lda.l	#___sizeof__tileset_LV1_DOOR_OPEN
         1E:C654  A0 03      			ldy.h	#___sizeof__tileset_LV1_DOOR_OPEN
19127                        		__lsr.wi	1
         1E:C656  42         			say
         1E:C657  4A         			lsr	a
         1E:C658  42         			say
         1E:C659  6A         			ror	a
19128                        		__st.wmq	_ax
         1E:C65A  85 F8      			sta.l	_ax
         1E:C65C  84 F9      			sty.h	_ax
19129                        		 _sgx_load_vram.3
         1E:C65E  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:C660  20 1D FF   			call	load_vram_x
19130                        	
19131                        		.dbg	line,	"include\init.c", 770; //--------------------------------------------------------------------------------------//
19132                        	
19133                        		.dbg	line,	"include\init.c", 771; //                                     SET MULTIMAP                                     //
19134                        	
19135                        		.dbg	line,	"include\init.c", 772; //--------------------------------------------------------------------------------------//
19136                        	
19137                        		.dbg	line,	"include\init.c", 774; // multimap is 5 screens wide //
19138                        	
19139                        		.dbg	line,	"include\init.c", 775; sgx_set_multimap( multimap_LV1_BG_B , 5 );
19140                        		__farptr	_multimap_LV1_BG_B, sgx_scr_bank, sgx_scr_addr
         1E:C663  A9 00      			lda.l	#$6000 + ($1FFF & (_multimap_LV1_BG_B))
         1E:C665  8D FC 2B   			sta.l	sgx_scr_addr
         1E:C668  A9 79      			lda.h	#$6000 + ($1FFF & (_multimap_LV1_BG_B))
         1E:C66A  8D FD 2B   			sta.h	sgx_scr_addr
         1E:C66D  A9 0D      			lda	#bank(_multimap_LV1_BG_B)
         1E:C66F  8D FE 2B   			sta	sgx_scr_bank
19141                        		__st.umiq	5, sgx_map_scrn_w
         1E:C672  A9 05      			lda.l	#5
         1E:C674  8D BD 26   			sta	sgx_map_scrn_w
19142                        		 _sgx_set_multimap.2
         1E:C677  AD B5 26   			lda	sgx_bat_width
         1E:C67A  4A         			lsr	a
         1E:C67B  8D BC 26   			sta	sgx_map_line_w
19143                        	
19144                        		.dbg	line,	"include\init.c", 778; //--------------------------------------------------------------------------------------//
19145                        	
19146                        		.dbg	line,	"include\init.c", 779; //                                    DRAW TILEMAP                                      //
19147                        	
19148                        		.dbg	line,	"include\init.c", 780; //--------------------------------------------------------------------------------------//
19149                        	
19150                        		.dbg	line,	"include\init.c", 782; // The blkmap is drawn using global variables for the top-left coordinate
19151                        	
19152                        		.dbg	line,	"include\init.c", 783; // in pixels, and the draw width and height in terms of 8x8 characters.
19153                        	
19154                        		.dbg	line,	"include\init.c", 785; if(respawn == FALSE)
19155                        		__not.um	_respawn
         1E:C67E  AD 16 23   			lda	_respawn
         1E:C681  18         			clc
         1E:C682  D0 01      			bne	!+
         1E:C684  38         			sec
         1E:C685             	!:
19156                        		__bfalse	.LL899
         1E:C685  90 12      			bcc	.LL899
19157                        	
19158                        		.dbg	line,	"include\init.c", 786; {
19159                        	
19160                        		.dbg	line,	"include\init.c", 787; sgx_map_pxl_x = 96;
19161                        		__st.wmiq	96, _sgx_map_pxl_x
         1E:C687  A9 60      			lda.l	#96
         1E:C689  8D BE 26   			sta.l	_sgx_map_pxl_x
         1E:C68C  9C BF 26   			stz.h	_sgx_map_pxl_x
19162                        	
19163                        		.dbg	line,	"include\init.c", 788; sgx_map_pxl_y = 768;
19164                        		__st.wmiq	768, _sgx_map_pxl_y
         1E:C68F  9C C0 26   			stz.l	_sgx_map_pxl_y
         1E:C692  A9 03      			lda.h	#768
         1E:C694  8D C1 26   			sta.h	_sgx_map_pxl_y
19165                        	
19166                        		.dbg	line,	"include\init.c", 789; }
19167                        	
19168                        		.dbg	line,	"include\init.c", 791; else if(respawn == RESPAWN_SHOP)
19169                        		__bra		.LL900
         1E:C697  80 22      			bra	.LL900
19170    1E:C699             	.LL899:
19171                        		__ld.umq	_respawn
         1E:C699  AD 16 23   			lda	_respawn
19172                        		__equ_b.uiq	2
         1E:C69C  C9 02      			cmp	#2
         1E:C69E  F0 01      			beq	!+
         1E:C6A0  18         			clc
         1E:C6A1             	!:
19173                        		__bfalse	.LL901
         1E:C6A1  90 18      			bcc	.LL901
19174                        	
19175                        		.dbg	line,	"include\init.c", 792; {
19176                        	
19177                        		.dbg	line,	"include\init.c", 793; sgx_map_pxl_x = camera_pos_x_backup;
19178                        		__ld.wm		_camera_pos_x_backup
         1E:C6A3  AD E1 24   			lda.l	_camera_pos_x_backup
         1E:C6A6  AC E2 24   			ldy.h	_camera_pos_x_backup
19179                        		__st.wmq	_sgx_map_pxl_x
         1E:C6A9  8D BE 26   			sta.l	_sgx_map_pxl_x
         1E:C6AC  8C BF 26   			sty.h	_sgx_map_pxl_x
19180                        	
19181                        		.dbg	line,	"include\init.c", 794; sgx_map_pxl_y = camera_pos_y_backup;
19182                        		__ld.wm		_camera_pos_y_backup
         1E:C6AF  AD E3 24   			lda.l	_camera_pos_y_backup
         1E:C6B2  AC E4 24   			ldy.h	_camera_pos_y_backup
19183                        		__st.wmq	_sgx_map_pxl_y
         1E:C6B5  8D C0 26   			sta.l	_sgx_map_pxl_y
         1E:C6B8  8C C1 26   			sty.h	_sgx_map_pxl_y
19184                        	
19185                        		.dbg	line,	"include\init.c", 795; }
19186                        	
19187                        		.dbg	line,	"include\init.c", 798; sgx_map_draw_w = 63;
19188    1E:C6BB             	.LL901:
19189    1E:C6BB             	.LL900:
19190                        		__st.umiq	63, _sgx_map_draw_w
         1E:C6BB  A9 3F      			lda.l	#63
         1E:C6BD  8D BA 26   			sta	_sgx_map_draw_w
19191                        	
19192                        		.dbg	line,	"include\init.c", 799; sgx_map_draw_h = 29;
19193                        		__st.umiq	29, _sgx_map_draw_h
         1E:C6C0  A9 1D      			lda.l	#29
         1E:C6C2  8D BB 26   			sta	_sgx_map_draw_h
19194                        	
19195                        		.dbg	line,	"include\init.c", 801; sgx_draw_map();
19196                        		__call		_sgx_draw_map
         1E:C6C5  20 AF FE   			call	_sgx_draw_map
19197                        	
19198                        		.dbg	line,	"include\init.c", 806; //**************************************************************************************//
19199                        	
19200                        		.dbg	line,	"include\init.c", 807; //                                                                                      //
19201                        	
19202                        		.dbg	line,	"include\init.c", 808; //                                         HUD                                          //
19203                        	
19204                        		.dbg	line,	"include\init.c", 809; //                                                                                      //
19205                        	
19206                        		.dbg	line,	"include\init.c", 810; //**************************************************************************************//
19207                        	
19208                        		.dbg	line,	"include\init.c", 812; init_HUD();
19209                        		__call		_init_HUD
         1E:C6C8  20 A5 FE   			call	_init_HUD
19210                        	
19211                        		.dbg	line,	"include\init.c", 814; 
19212                        	
19213                        		.dbg	line,	"include\init.c", 817; //**************************************************************************************//
19214                        	
19215                        		.dbg	line,	"include\init.c", 818; //                                                                                      //
19216                        	
19217                        		.dbg	line,	"include\init.c", 819; //                                  SETUP SCROLL_SPLIT                                  //
19218                        	
19219                        		.dbg	line,	"include\init.c", 820; //                                                                                      //
19220                        	
19221                        		.dbg	line,	"include\init.c", 821; //**************************************************************************************//
19222                        	
19223                        		.dbg	line,	"include\init.c", 823; //--------------------------------------------------------------------------------------//
19224                        	
19225                        		.dbg	line,	"include\init.c", 824; //                                        VDC 2                                         //
19226                        	
19227                        		.dbg	line,	"include\init.c", 825; //--------------------------------------------------------------------------------------//
19228                        	
19229                        		.dbg	line,	"include\init.c", 827; sgx_scroll_map();
19230                        		__call		_sgx_scroll_map
         1E:C6CB  20 4F FF   			call	_sgx_scroll_map
19231                        	
19232                        		.dbg	line,	"include\init.c", 829; sgx_scroll_split(0,   0, sgx_map_pxl_x & (BAT_SIZE_W - 1), sgx_map_pxl_y & (BAT_SIZE_H - 1), BKG_ON | SPR_ON);
19233                        		__st.umiq	0, _al
         1E:C6CE  64 F8      			stz	_al
19234                        		__st.umiq	0, _ah
         1E:C6D0  64 F9      			stz	_ah
19235                        		__ld.wm		_sgx_map_pxl_x
         1E:C6D2  AD BE 26   			lda.l	_sgx_map_pxl_x
         1E:C6D5  AC BF 26   			ldy.h	_sgx_map_pxl_x
19236                        		__and.wi	2047
         1E:C6D8  29 FF      			and.l	#2047
         1E:C6DA  42         			say
         1E:C6DB  29 07      			and.h	#2047
         1E:C6DD  42         			say
19237                        		__st.wmq	_bx
         1E:C6DE  85 FA      			sta.l	_bx
         1E:C6E0  84 FB      			sty.h	_bx
19238                        		__ld.wm		_sgx_map_pxl_y
         1E:C6E2  AD C0 26   			lda.l	_sgx_map_pxl_y
         1E:C6E5  AC C1 26   			ldy.h	_sgx_map_pxl_y
19239                        		__and.wi	255
         1E:C6E8  29 FF      			and	#255
         1E:C6EA  C2         			cly
19240                        		__st.wmq	_cx
         1E:C6EB  85 FC      			sta.l	_cx
         1E:C6ED  84 FD      			sty.h	_cx
19241                        		__st.umiq	192, _dl
         1E:C6EF  A9 C0      			lda.l	#192
         1E:C6F1  85 FE      			sta	_dl
19242                        		__call		_sgx_scroll_split.5
         1E:C6F3  20 45 FF   			call	_sgx_scroll_split.5
19243                        	
19244                        		.dbg	line,	"include\init.c", 834; //--------------------------------------------------------------------------------------//
19245                        	
19246                        		.dbg	line,	"include\init.c", 835; //                                   LOAD BG PALETTES                                   //
19247                        	
19248                        		.dbg	line,	"include\init.c", 836; //--------------------------------------------------------------------------------------//
19249                        	
19250                        		.dbg	line,	"include\init.c", 838; // LOAD ALL PALETTES AT BG PALETTE 0 //
19251                        	
19252                        		.dbg	line,	"include\init.c", 839; load_palette( 0, palette_LV1, 16 );
19253                        		__st.umiq	0, _al
         1E:C6F6  64 F8      			stz	_al
19254                        		__farptr	_palette_LV1, _bp_bank, _bp
         1E:C6F8  A9 A0      			lda.l	#$6000 + ($1FFF & (_palette_LV1))
         1E:C6FA  85 EC      			sta.l	_bp
         1E:C6FC  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_LV1))
         1E:C6FE  85 ED      			sta.h	_bp
         1E:C700  A9 0F      			lda	#bank(_palette_LV1)
         1E:C702  85 02      			sta	_bp_bank
19255                        		__st.umiq	16, _ah
         1E:C704  A9 10      			lda.l	#16
         1E:C706  85 F9      			sta	_ah
19256                        		__call		_load_palette.3
         1E:C708  20 8B FF   			call	_load_palette.3
19257                        	
19258                        		.dbg	line,	"include\init.c", 844; //**************************************************************************************//
19259                        	
19260                        		.dbg	line,	"include\init.c", 845; //                                                                                      //
19261                        	
19262                        		.dbg	line,	"include\init.c", 846; //                                       SPRITES                                        //
19263                        	
19264                        		.dbg	line,	"include\init.c", 847; //                                                                                      //
19265                        	
19266                        		.dbg	line,	"include\init.c", 848; //**************************************************************************************//
19267                        	
19268                        		.dbg	line,	"include\init.c", 850; // HIDE DRAGON SPRITES FROM INTRO //
19269                        	
19270                        		.dbg	line,	"include\init.c", 851; for(i=0 ; i<8 ; i++)
19271                        		__st.umiq	0, __init_LEVEL_end - 1  /* i */
         1E:C70B  9C 10 23   			stz	__init_LEVEL_end - 1
19272    1E:C70E             	.LL902:
19273                        		__ld.umq	__init_LEVEL_end - 1  /* i */
         1E:C70E  AD 10 23   			lda	__init_LEVEL_end - 1
19274                        		__ult_b.uiq	8
         1E:C711  C9 08      			cmp	#8		; Subtract integer from A.
         1E:C713  6A         			ror	a		; CC if A < integer.
         1E:C714  49 80      			eor	#$80
         1E:C716  2A         			rol	a
19275                        		__btrue		.LL904
         1E:C717  B0 07      			bcs	.LL904
19276                        		__bra		.LL905
         1E:C719  80 10      			bra	.LL905
19277    1E:C71B             	.LL903:
19278                        		__inc.umq	__init_LEVEL_end - 1  /* i */
         1E:C71B  EE 10 23   			inc	__init_LEVEL_end - 1
19279                        		__bra		.LL902
         1E:C71E  80 EE      			bra	.LL902
19280    1E:C720             	.LL904:
19281                        	
19282                        		.dbg	line,	"include\init.c", 852; {
19283                        	
19284                        		.dbg	line,	"include\init.c", 853; sgx_spr_set(i);
19285                        		__ld.umq	__init_LEVEL_end - 1  /* i */
         1E:C720  AD 10 23   			lda	__init_LEVEL_end - 1
19286                        		__call		_sgx_spr_set.1
         1E:C723  20 8A E8   			call	_sgx_spr_set.1
19287                        	
19288                        		.dbg	line,	"include\init.c", 854; sgx_spr_hide();
19289                        		__call		_sgx_spr_hide
         1E:C726  20 A5 E8   			call	_sgx_spr_hide
19290                        	
19291                        		.dbg	line,	"include\init.c", 855; }
19292                        		__bra		.LL903
         1E:C729  80 F0      			bra	.LL903
19293    1E:C72B             	.LL905:
19294                        	
19295                        		.dbg	line,	"include\init.c", 857; //--------------------------------------------------------------------------------------//
19296                        	
19297                        		.dbg	line,	"include\init.c", 858; //                                        PLAYER                                        //
19298                        	
19299                        		.dbg	line,	"include\init.c", 859; //--------------------------------------------------------------------------------------//
19300                        	
19301                        		.dbg	line,	"include\init.c", 861; // LOAD ALL PLAYER TILES //
19302                        	
19303                        		.dbg	line,	"include\init.c", 862; set_far_base(TABLE_PLAYER_TILES_BANK[player_naked],TABLE_PLAYER_TILES_ADR[player_naked]);
19304                        		__ldx.umq	_player_naked
         1E:C72B  AE 1F 23   			ldx	_player_naked
19305                        		__ld.uax	_TABLE_PLAYER_TILES_BANK
         1E:C72E  BD FA 61   			lda	_TABLE_PLAYER_TILES_BANK, x
         1E:C731  C2         			cly
19306                        		__st.umq	_bp_bank
         1E:C732  85 02      			sta	_bp_bank
19307                        		__ld2x.umq	_player_naked
         1E:C734  AD 1F 23   			lda	_player_naked
         1E:C737  0A         			asl	a
         1E:C738  AA         			tax
19308                        		__ld.wax	_TABLE_PLAYER_TILES_ADR
         1E:C739  BD F6 61   			lda.l	_TABLE_PLAYER_TILES_ADR, x
         1E:C73C  BC F7 61   			ldy.h	_TABLE_PLAYER_TILES_ADR, x
19309                        		__st.wmq	_bp
         1E:C73F  85 EC      			sta.l	_bp
         1E:C741  84 ED      			sty.h	_bp
19310                        	
19311                        		.dbg	line,	"include\init.c", 863; far_load_vram(PLAYER_VRAM_ADR,TILES_400);
19312                        		__st.wmiq	5120, _di
         1E:C743  64 F0      			stz.l	_di
         1E:C745  A9 14      			lda.h	#5120
         1E:C747  85 F1      			sta.h	_di
19313                        		__st.wmiq	6400, _ax
         1E:C749  64 F8      			stz.l	_ax
         1E:C74B  A9 19      			lda.h	#6400
         1E:C74D  85 F9      			sta.h	_ax
19314                        		 _far_load_vram.2
         1E:C74F  82         			clx				; Offset to PCE VDC.
         1E:C750  20 1D FF   			call	load_vram_x
19315                        	
19316                        		.dbg	line,	"include\init.c", 866; // SELECT PLAYER CORE SPRITE //
19317                        	
19318                        		.dbg	line,	"include\init.c", 867; spr_set(player_id); // PLAYER_START_INDEX
19319                        		__ld.umq	_player_id
         1E:C753  AD 17 23   			lda	_player_id
19320                        		__call		_spr_set.1
         1E:C756  20 DD E7   			call	_spr_set.1
19321                        	
19322                        		.dbg	line,	"include\init.c", 870; player_pos_x = 112;
19323                        		__st.wmiq	112, _player_pos_x
         1E:C759  A9 70      			lda.l	#112
         1E:C75B  8D DB 24   			sta.l	_player_pos_x
         1E:C75E  9C DC 24   			stz.h	_player_pos_x
19324                        	
19325                        		.dbg	line,	"include\init.c", 871; player_pos_y = PLAYER_BASE_Y_POS;
19326                        		__st.wmiq	128, _player_pos_y
         1E:C761  A9 80      			lda.l	#128
         1E:C763  8D DD 24   			sta.l	_player_pos_y
         1E:C766  9C DE 24   			stz.h	_player_pos_y
19327                        	
19328                        		.dbg	line,	"include\init.c", 874; spr_x(player_pos_x);
19329                        		__ld.wm		_player_pos_x
         1E:C769  AD DB 24   			lda.l	_player_pos_x
         1E:C76C  AC DC 24   			ldy.h	_player_pos_x
19330                        		__call		_spr_x.1
         1E:C76F  20 0A E8   			call	_spr_x.1
19331                        	
19332                        		.dbg	line,	"include\init.c", 875; spr_y(player_pos_y);
19333                        		__ld.wm		_player_pos_y
         1E:C772  AD DD 24   			lda.l	_player_pos_y
         1E:C775  AC DE 24   			ldy.h	_player_pos_y
19334                        		__call		_spr_y.1
         1E:C778  20 19 E8   			call	_spr_y.1
19335                        	
19336                        		.dbg	line,	"include\init.c", 877; // SET TILES DATA FOR THE PLAYER //
19337                        	
19338                        		.dbg	line,	"include\init.c", 878; spr_pattern(PLAYER_VRAM_ADR);
19339                        		__ld.wi		5120
         1E:C77B  62         			cla
         1E:C77C  A0 14      			ldy.h	#5120
19340                        		__call		_spr_pattern.1
         1E:C77E  20 26 E8   			call	_spr_pattern.1
19341                        	
19342                        		.dbg	line,	"include\init.c", 880; // SET SPRITE FLIP //
19343                        	
19344                        		.dbg	line,	"include\init.c", 881; spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_32x32);
19345                        		__st.umiq	185, _al
         1E:C781  A9 B9      			lda.l	#185
         1E:C783  85 F8      			sta	_al
19346                        		__ld.uiq	17
         1E:C785  A9 11      			lda	#17
19347                        		__call		_spr_ctrl.2
         1E:C787  20 3C E8   			call	_spr_ctrl.2
19348                        	
19349                        		.dbg	line,	"include\init.c", 883; 
19350                        	
19351                        		.dbg	line,	"include\init.c", 886; spr_pal(0);
19352                        		__ld.uiq	0
         1E:C78A  62         			cla
19353                        		__call		_spr_pal.1
         1E:C78B  20 4D E8   			call	_spr_pal.1
19354                        	
19355                        		.dbg	line,	"include\init.c", 887; spr_pri(TRUE);
19356                        		__ld.uiq	1
         1E:C78E  A9 01      			lda	#1
19357                        		__call		_spr_pri.1
         1E:C790  20 5C E8   			call	_spr_pri.1
19358                        	
19359                        		.dbg	line,	"include\init.c", 890; //--------------------------------------------------------------------------------------//
19360                        	
19361                        		.dbg	line,	"include\init.c", 891; //                                        CHAIN                                         //
19362                        	
19363                        		.dbg	line,	"include\init.c", 892; //--------------------------------------------------------------------------------------//
19364                        	
19365                        		.dbg	line,	"include\init.c", 894; load_vram(CHAIN_VRAM_ADR, tiles_SPR_CHAIN , TILES_4);
19366                        		__st.wmiq	31744, _di
         1E:C793  64 F0      			stz.l	_di
         1E:C795  A9 7C      			lda.h	#31744
         1E:C797  85 F1      			sta.h	_di
19367                        		__farptr	_tiles_SPR_CHAIN, _bp_bank, _bp
         1E:C799  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_CHAIN))
         1E:C79B  85 EC      			sta.l	_bp
         1E:C79D  A9 69      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_CHAIN))
         1E:C79F  85 ED      			sta.h	_bp
         1E:C7A1  A9 19      			lda	#bank(_tiles_SPR_CHAIN)
         1E:C7A3  85 02      			sta	_bp_bank
19368                        		__st.wmiq	64, _ax
         1E:C7A5  A9 40      			lda.l	#64
         1E:C7A7  85 F8      			sta.l	_ax
         1E:C7A9  64 F9      			stz.h	_ax
19369                        		 _load_vram.3
         1E:C7AB  82         			clx				; Offset to PCE VDC.
         1E:C7AC  20 1D FF   			call	load_vram_x
19370                        	
19371                        		.dbg	line,	"include\init.c", 896; for(i=0 ; i<3 ; i++)
19372                        		__st.umiq	0, __init_LEVEL_end - 1  /* i */
         1E:C7AF  9C 10 23   			stz	__init_LEVEL_end - 1
19373    1E:C7B2             	.LL906:
19374                        		__ld.umq	__init_LEVEL_end - 1  /* i */
         1E:C7B2  AD 10 23   			lda	__init_LEVEL_end - 1
19375                        		__ult_b.uiq	3
         1E:C7B5  C9 03      			cmp	#3		; Subtract integer from A.
         1E:C7B7  6A         			ror	a		; CC if A < integer.
         1E:C7B8  49 80      			eor	#$80
         1E:C7BA  2A         			rol	a
19376                        		__btrue		.LL908
         1E:C7BB  B0 07      			bcs	.LL908
19377                        		__bra		.LL909
         1E:C7BD  80 2F      			bra	.LL909
19378    1E:C7BF             	.LL907:
19379                        		__inc.umq	__init_LEVEL_end - 1  /* i */
         1E:C7BF  EE 10 23   			inc	__init_LEVEL_end - 1
19380                        		__bra		.LL906
         1E:C7C2  80 EE      			bra	.LL906
19381    1E:C7C4             	.LL908:
19382                        	
19383                        		.dbg	line,	"include\init.c", 897; {
19384                        	
19385                        		.dbg	line,	"include\init.c", 898; spr_set(chain_id+i);
19386                        		__ld.um		_chain_id
         1E:C7C4  AD 25 23   			lda	_chain_id
         1E:C7C7  C2         			cly
19387                        		__add.um	__init_LEVEL_end - 1  /* i */
         1E:C7C8  18         			clc
         1E:C7C9  6D 10 23   			adc	__init_LEVEL_end - 1
         1E:C7CC  90 01      			bcc	!+
         1E:C7CE  C8         			iny
         1E:C7CF             	!:
19388                        		__call		_spr_set.1
         1E:C7CF  20 DD E7   			call	_spr_set.1
19389                        	
19390                        		.dbg	line,	"include\init.c", 899; spr_pattern(CHAIN_VRAM_ADR);
19391                        		__ld.wi		31744
         1E:C7D2  62         			cla
         1E:C7D3  A0 7C      			ldy.h	#31744
19392                        		__call		_spr_pattern.1
         1E:C7D5  20 26 E8   			call	_spr_pattern.1
19393                        	
19394                        		.dbg	line,	"include\init.c", 900; spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_16x16);
19395                        		__st.umiq	185, _al
         1E:C7D8  A9 B9      			lda.l	#185
         1E:C7DA  85 F8      			sta	_al
19396                        		__ld.uiq	0
         1E:C7DC  62         			cla
19397                        		__call		_spr_ctrl.2
         1E:C7DD  20 3C E8   			call	_spr_ctrl.2
19398                        	
19399                        		.dbg	line,	"include\init.c", 901; spr_hide();
19400                        		__call		_spr_hide
         1E:C7E0  20 F8 E7   			call	_spr_hide
19401                        	
19402                        		.dbg	line,	"include\init.c", 903; spr_pal(0);
19403                        		__ld.uiq	0
         1E:C7E3  62         			cla
19404                        		__call		_spr_pal.1
         1E:C7E4  20 4D E8   			call	_spr_pal.1
19405                        	
19406                        		.dbg	line,	"include\init.c", 904; spr_pri(TRUE);
19407                        		__ld.uiq	1
         1E:C7E7  A9 01      			lda	#1
19408                        		__call		_spr_pri.1
         1E:C7E9  20 5C E8   			call	_spr_pri.1
19409                        	
19410                        		.dbg	line,	"include\init.c", 905; }
19411                        		__bra		.LL907
         1E:C7EC  80 D1      			bra	.LL907
19412    1E:C7EE             	.LL909:
19413                        	
19414                        		.dbg	line,	"include\init.c", 906; 
19415                        	
19416                        		.dbg	line,	"include\init.c", 908; //--------------------------------------------------------------------------------------//
19417                        	
19418                        		.dbg	line,	"include\init.c", 909; //                                        WEAPON                                        //
19419                        	
19420                        		.dbg	line,	"include\init.c", 910; //--------------------------------------------------------------------------------------//
19421                        	
19422                        		.dbg	line,	"include\init.c", 912; if(weapon_level == 0)
19423                        		__not.um	_weapon_level
         1E:C7EE  AD 28 23   			lda	_weapon_level
         1E:C7F1  18         			clc
         1E:C7F2  D0 01      			bne	!+
         1E:C7F4  38         			sec
         1E:C7F5             	!:
19424                        		__bfalse	.LL910
         1E:C7F5  90 27      			bcc	.LL910
19425                        	
19426                        		.dbg	line,	"include\init.c", 913; {
19427                        	
19428                        		.dbg	line,	"include\init.c", 914; load_vram(WEAPON_VRAM_ADR, tiles_SPR_WEAPON_0 , SIZEOF(tiles_SPR_WEAPON_0) >> 1);
19429                        		__st.wmiq	31808, _di
         1E:C7F7  A9 40      			lda.l	#31808
         1E:C7F9  85 F0      			sta.l	_di
         1E:C7FB  A9 7C      			lda.h	#31808
         1E:C7FD  85 F1      			sta.h	_di
19430                        		__farptr	_tiles_SPR_WEAPON_0, _bp_bank, _bp
         1E:C7FF  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_0))
         1E:C801  85 EC      			sta.l	_bp
         1E:C803  A9 6A      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_0))
         1E:C805  85 ED      			sta.h	_bp
         1E:C807  A9 19      			lda	#bank(_tiles_SPR_WEAPON_0)
         1E:C809  85 02      			sta	_bp_bank
19431                        		__ld.wi		___sizeof__tiles_SPR_WEAPON_0
         1E:C80B  A9 80      			lda.l	#___sizeof__tiles_SPR_WEAPON_0
         1E:C80D  A0 02      			ldy.h	#___sizeof__tiles_SPR_WEAPON_0
19432                        		__lsr.wi	1
         1E:C80F  42         			say
         1E:C810  4A         			lsr	a
         1E:C811  42         			say
         1E:C812  6A         			ror	a
19433                        		__st.wmq	_ax
         1E:C813  85 F8      			sta.l	_ax
         1E:C815  84 F9      			sty.h	_ax
19434                        		 _load_vram.3
         1E:C817  82         			clx				; Offset to PCE VDC.
         1E:C818  20 1D FF   			call	load_vram_x
19435                        	
19436                        		.dbg	line,	"include\init.c", 915; }
19437                        	
19438                        		.dbg	line,	"include\init.c", 917; else if(weapon_level == 1)
19439                        		__bra		.LL911
         1E:C81B  4C DD C8   			bra	.LL911
19440    1E:C81E             	.LL910:
19441                        		__ld.umq	_weapon_level
         1E:C81E  AD 28 23   			lda	_weapon_level
19442                        		__equ_b.uiq	1
         1E:C821  C9 01      			cmp	#1
         1E:C823  F0 01      			beq	!+
         1E:C825  18         			clc
         1E:C826             	!:
19443                        		__bfalse	.LL912
         1E:C826  90 27      			bcc	.LL912
19444                        	
19445                        		.dbg	line,	"include\init.c", 918; {
19446                        	
19447                        		.dbg	line,	"include\init.c", 919; load_vram(WEAPON_VRAM_ADR, tiles_SPR_WEAPON_1 , SIZEOF(tiles_SPR_WEAPON_1) >> 1);
19448                        		__st.wmiq	31808, _di
         1E:C828  A9 40      			lda.l	#31808
         1E:C82A  85 F0      			sta.l	_di
         1E:C82C  A9 7C      			lda.h	#31808
         1E:C82E  85 F1      			sta.h	_di
19449                        		__farptr	_tiles_SPR_WEAPON_1, _bp_bank, _bp
         1E:C830  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_1))
         1E:C832  85 EC      			sta.l	_bp
         1E:C834  A9 6C      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_1))
         1E:C836  85 ED      			sta.h	_bp
         1E:C838  A9 19      			lda	#bank(_tiles_SPR_WEAPON_1)
         1E:C83A  85 02      			sta	_bp_bank
19450                        		__ld.wi		___sizeof__tiles_SPR_WEAPON_1
         1E:C83C  A9 80      			lda.l	#___sizeof__tiles_SPR_WEAPON_1
         1E:C83E  A0 02      			ldy.h	#___sizeof__tiles_SPR_WEAPON_1
19451                        		__lsr.wi	1
         1E:C840  42         			say
         1E:C841  4A         			lsr	a
         1E:C842  42         			say
         1E:C843  6A         			ror	a
19452                        		__st.wmq	_ax
         1E:C844  85 F8      			sta.l	_ax
         1E:C846  84 F9      			sty.h	_ax
19453                        		 _load_vram.3
         1E:C848  82         			clx				; Offset to PCE VDC.
         1E:C849  20 1D FF   			call	load_vram_x
19454                        	
19455                        		.dbg	line,	"include\init.c", 920; }
19456                        	
19457                        		.dbg	line,	"include\init.c", 922; else if(weapon_level == 2)
19458                        		__bra		.LL913
         1E:C84C  4C DD C8   			bra	.LL913
19459    1E:C84F             	.LL912:
19460                        		__ld.umq	_weapon_level
         1E:C84F  AD 28 23   			lda	_weapon_level
19461                        		__equ_b.uiq	2
         1E:C852  C9 02      			cmp	#2
         1E:C854  F0 01      			beq	!+
         1E:C856  18         			clc
         1E:C857             	!:
19462                        		__bfalse	.LL914
         1E:C857  90 26      			bcc	.LL914
19463                        	
19464                        		.dbg	line,	"include\init.c", 923; {
19465                        	
19466                        		.dbg	line,	"include\init.c", 924; load_vram(WEAPON_VRAM_ADR, tiles_SPR_WEAPON_2 , SIZEOF(tiles_SPR_WEAPON_2) >> 1);
19467                        		__st.wmiq	31808, _di
         1E:C859  A9 40      			lda.l	#31808
         1E:C85B  85 F0      			sta.l	_di
         1E:C85D  A9 7C      			lda.h	#31808
         1E:C85F  85 F1      			sta.h	_di
19468                        		__farptr	_tiles_SPR_WEAPON_2, _bp_bank, _bp
         1E:C861  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_2))
         1E:C863  85 EC      			sta.l	_bp
         1E:C865  A9 6F      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_2))
         1E:C867  85 ED      			sta.h	_bp
         1E:C869  A9 19      			lda	#bank(_tiles_SPR_WEAPON_2)
         1E:C86B  85 02      			sta	_bp_bank
19469                        		__ld.wi		___sizeof__tiles_SPR_WEAPON_2
         1E:C86D  A9 80      			lda.l	#___sizeof__tiles_SPR_WEAPON_2
         1E:C86F  A0 02      			ldy.h	#___sizeof__tiles_SPR_WEAPON_2
19470                        		__lsr.wi	1
         1E:C871  42         			say
         1E:C872  4A         			lsr	a
         1E:C873  42         			say
         1E:C874  6A         			ror	a
19471                        		__st.wmq	_ax
         1E:C875  85 F8      			sta.l	_ax
         1E:C877  84 F9      			sty.h	_ax
19472                        		 _load_vram.3
         1E:C879  82         			clx				; Offset to PCE VDC.
         1E:C87A  20 1D FF   			call	load_vram_x
19473                        	
19474                        		.dbg	line,	"include\init.c", 925; }
19475                        	
19476                        		.dbg	line,	"include\init.c", 927; else if(weapon_level == 3)
19477                        		__bra		.LL915
         1E:C87D  80 5E      			bra	.LL915
19478    1E:C87F             	.LL914:
19479                        		__ld.umq	_weapon_level
         1E:C87F  AD 28 23   			lda	_weapon_level
19480                        		__equ_b.uiq	3
         1E:C882  C9 03      			cmp	#3
         1E:C884  F0 01      			beq	!+
         1E:C886  18         			clc
         1E:C887             	!:
19481                        		__bfalse	.LL916
         1E:C887  90 26      			bcc	.LL916
19482                        	
19483                        		.dbg	line,	"include\init.c", 928; {
19484                        	
19485                        		.dbg	line,	"include\init.c", 929; load_vram(WEAPON_VRAM_ADR, tiles_SPR_WEAPON_3 , SIZEOF(tiles_SPR_WEAPON_3) >> 1);
19486                        		__st.wmiq	31808, _di
         1E:C889  A9 40      			lda.l	#31808
         1E:C88B  85 F0      			sta.l	_di
         1E:C88D  A9 7C      			lda.h	#31808
         1E:C88F  85 F1      			sta.h	_di
19487                        		__farptr	_tiles_SPR_WEAPON_3, _bp_bank, _bp
         1E:C891  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_3))
         1E:C893  85 EC      			sta.l	_bp
         1E:C895  A9 71      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_3))
         1E:C897  85 ED      			sta.h	_bp
         1E:C899  A9 19      			lda	#bank(_tiles_SPR_WEAPON_3)
         1E:C89B  85 02      			sta	_bp_bank
19488                        		__ld.wi		___sizeof__tiles_SPR_WEAPON_3
         1E:C89D  A9 80      			lda.l	#___sizeof__tiles_SPR_WEAPON_3
         1E:C89F  A0 02      			ldy.h	#___sizeof__tiles_SPR_WEAPON_3
19489                        		__lsr.wi	1
         1E:C8A1  42         			say
         1E:C8A2  4A         			lsr	a
         1E:C8A3  42         			say
         1E:C8A4  6A         			ror	a
19490                        		__st.wmq	_ax
         1E:C8A5  85 F8      			sta.l	_ax
         1E:C8A7  84 F9      			sty.h	_ax
19491                        		 _load_vram.3
         1E:C8A9  82         			clx				; Offset to PCE VDC.
         1E:C8AA  20 1D FF   			call	load_vram_x
19492                        	
19493                        		.dbg	line,	"include\init.c", 930; }
19494                        	
19495                        		.dbg	line,	"include\init.c", 932; else if(weapon_level == 4)
19496                        		__bra		.LL917
         1E:C8AD  80 2E      			bra	.LL917
19497    1E:C8AF             	.LL916:
19498                        		__ld.umq	_weapon_level
         1E:C8AF  AD 28 23   			lda	_weapon_level
19499                        		__equ_b.uiq	4
         1E:C8B2  C9 04      			cmp	#4
         1E:C8B4  F0 01      			beq	!+
         1E:C8B6  18         			clc
         1E:C8B7             	!:
19500                        		__bfalse	.LL918
         1E:C8B7  90 24      			bcc	.LL918
19501                        	
19502                        		.dbg	line,	"include\init.c", 933; {
19503                        	
19504                        		.dbg	line,	"include\init.c", 934; load_vram(WEAPON_VRAM_ADR, tiles_SPR_WEAPON_4 , SIZEOF(tiles_SPR_WEAPON_4) >> 1);
19505                        		__st.wmiq	31808, _di
         1E:C8B9  A9 40      			lda.l	#31808
         1E:C8BB  85 F0      			sta.l	_di
         1E:C8BD  A9 7C      			lda.h	#31808
         1E:C8BF  85 F1      			sta.h	_di
19506                        		__farptr	_tiles_SPR_WEAPON_4, _bp_bank, _bp
         1E:C8C1  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_4))
         1E:C8C3  85 EC      			sta.l	_bp
         1E:C8C5  A9 74      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_4))
         1E:C8C7  85 ED      			sta.h	_bp
         1E:C8C9  A9 19      			lda	#bank(_tiles_SPR_WEAPON_4)
         1E:C8CB  85 02      			sta	_bp_bank
19507                        		__ld.wi		___sizeof__tiles_SPR_WEAPON_4
         1E:C8CD  A9 80      			lda.l	#___sizeof__tiles_SPR_WEAPON_4
         1E:C8CF  A0 02      			ldy.h	#___sizeof__tiles_SPR_WEAPON_4
19508                        		__lsr.wi	1
         1E:C8D1  42         			say
         1E:C8D2  4A         			lsr	a
         1E:C8D3  42         			say
         1E:C8D4  6A         			ror	a
19509                        		__st.wmq	_ax
         1E:C8D5  85 F8      			sta.l	_ax
         1E:C8D7  84 F9      			sty.h	_ax
19510                        		 _load_vram.3
         1E:C8D9  82         			clx				; Offset to PCE VDC.
         1E:C8DA  20 1D FF   			call	load_vram_x
19511                        	
19512                        		.dbg	line,	"include\init.c", 935; }		
19513                        	
19514                        		.dbg	line,	"include\init.c", 937; 
19515                        	
19516                        		.dbg	line,	"include\init.c", 938; weapon_id = chain_id-1;
19517    1E:C8DD             	.LL918:
19518    1E:C8DD             	.LL917:
19519    1E:C8DD             	.LL915:
19520    1E:C8DD             	.LL913:
19521    1E:C8DD             	.LL911:
19522                        		__ld.um		_chain_id
         1E:C8DD  AD 25 23   			lda	_chain_id
         1E:C8E0  C2         			cly
19523                        		__sub.wi	1
         1E:C8E1  38         			sec
         1E:C8E2  E9 01      			sbc.l	#1
         1E:C8E4  B0 01      			bcs	!+
         1E:C8E6  88         			dey
         1E:C8E7             	!:
19524                        		__st.umq	_weapon_id
         1E:C8E7  8D 26 23   			sta	_weapon_id
19525                        	
19526                        		.dbg	line,	"include\init.c", 939; spr_set(weapon_id);
19527                        		__ld.umq	_weapon_id
         1E:C8EA  AD 26 23   			lda	_weapon_id
19528                        		__call		_spr_set.1
         1E:C8ED  20 DD E7   			call	_spr_set.1
19529                        	
19530                        		.dbg	line,	"include\init.c", 940; spr_pattern(WEAPON_VRAM_ADR);
19531                        		__ld.wi		31808
         1E:C8F0  A9 40      			lda.l	#31808
         1E:C8F2  A0 7C      			ldy.h	#31808
19532                        		__call		_spr_pattern.1
         1E:C8F4  20 26 E8   			call	_spr_pattern.1
19533                        	
19534                        		.dbg	line,	"include\init.c", 941; spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_16x16);
19535                        		__st.umiq	185, _al
         1E:C8F7  A9 B9      			lda.l	#185
         1E:C8F9  85 F8      			sta	_al
19536                        		__ld.uiq	0
         1E:C8FB  62         			cla
19537                        		__call		_spr_ctrl.2
         1E:C8FC  20 3C E8   			call	_spr_ctrl.2
19538                        	
19539                        		.dbg	line,	"include\init.c", 943; spr_x(player_pos_x+8);
19540                        		__ld.wm		_player_pos_x
         1E:C8FF  AD DB 24   			lda.l	_player_pos_x
         1E:C902  AC DC 24   			ldy.h	_player_pos_x
19541                        		__add.wi	8
         1E:C905  18         			clc
         1E:C906  69 08      			adc.l	#8
         1E:C908  90 01      			bcc	!+
         1E:C90A  C8         			iny
         1E:C90B             	!:
19542                        		__call		_spr_x.1
         1E:C90B  20 0A E8   			call	_spr_x.1
19543                        	
19544                        		.dbg	line,	"include\init.c", 944; spr_y(player_pos_y+16);
19545                        		__ld.wm		_player_pos_y
         1E:C90E  AD DD 24   			lda.l	_player_pos_y
         1E:C911  AC DE 24   			ldy.h	_player_pos_y
19546                        		__add.wi	16
         1E:C914  18         			clc
         1E:C915  69 10      			adc.l	#16
         1E:C917  90 01      			bcc	!+
         1E:C919  C8         			iny
         1E:C91A             	!:
19547                        		__call		_spr_y.1
         1E:C91A  20 19 E8   			call	_spr_y.1
19548                        	
19549                        		.dbg	line,	"include\init.c", 945; spr_pri(TRUE);
19550                        		__ld.uiq	1
         1E:C91D  A9 01      			lda	#1
19551                        		__call		_spr_pri.1
         1E:C91F  20 5C E8   			call	_spr_pri.1
19552                        	
19553                        		.dbg	line,	"include\init.c", 947; // WEAPON 4 USES PAL2
19554                        	
19555                        		.dbg	line,	"include\init.c", 948; if(weapon_level == 4)
19556                        		__ld.umq	_weapon_level
         1E:C922  AD 28 23   			lda	_weapon_level
19557                        		__equ_b.uiq	4
         1E:C925  C9 04      			cmp	#4
         1E:C927  F0 01      			beq	!+
         1E:C929  18         			clc
         1E:C92A             	!:
19558                        		__bfalse	.LL919
         1E:C92A  90 07      			bcc	.LL919
19559                        	
19560                        		.dbg	line,	"include\init.c", 949; {
19561                        	
19562                        		.dbg	line,	"include\init.c", 950; spr_pal(2);
19563                        		__ld.uiq	2
         1E:C92C  A9 02      			lda	#2
19564                        		__call		_spr_pal.1
         1E:C92E  20 4D E8   			call	_spr_pal.1
19565                        	
19566                        		.dbg	line,	"include\init.c", 951; }
19567                        	
19568                        		.dbg	line,	"include\init.c", 952; // ALL OTHERS USE PAL0
19569                        	
19570                        		.dbg	line,	"include\init.c", 953; else
19571                        		__bra		.LL920
         1E:C931  80 04      			bra	.LL920
19572    1E:C933             	.LL919:
19573                        	
19574                        		.dbg	line,	"include\init.c", 954; {
19575                        	
19576                        		.dbg	line,	"include\init.c", 955; spr_pal(0);
19577                        		__ld.uiq	0
         1E:C933  62         			cla
19578                        		__call		_spr_pal.1
         1E:C934  20 4D E8   			call	_spr_pal.1
19579                        	
19580                        		.dbg	line,	"include\init.c", 956; }
19581    1E:C937             	.LL920:
19582                        	
19583                        		.dbg	line,	"include\init.c", 957; 
19584                        	
19585                        		.dbg	line,	"include\init.c", 958; 
19586                        	
19587                        		.dbg	line,	"include\init.c", 961; //--------------------------------------------------------------------------------------//
19588                        	
19589                        		.dbg	line,	"include\init.c", 962; //                                       OBJECTS                                        //
19590                        	
19591                        		.dbg	line,	"include\init.c", 963; //--------------------------------------------------------------------------------------//
19592                        	
19593                        		.dbg	line,	"include\init.c", 965; load_OBJECT_TILES();
19594                        		__call		_load_OBJECT_TILES
         1E:C937  20 9B FE   			call	_load_OBJECT_TILES
19595                        	
19596                        		.dbg	line,	"include\init.c", 966; init_OBJECT_LV1();
19597                        		__call		_init_OBJECT_LV1
         1E:C93A  20 91 FE   			call	_init_OBJECT_LV1
19598                        	
19599                        		.dbg	line,	"include\init.c", 967; scroll_object();
19600                        		__call		_scroll_object
         1E:C93D  20 87 FE   			call	_scroll_object
19601                        	
19602                        		.dbg	line,	"include\init.c", 970; //--------------------------------------------------------------------------------------//
19603                        	
19604                        		.dbg	line,	"include\init.c", 971; //                                        CHESTS                                        //
19605                        	
19606                        		.dbg	line,	"include\init.c", 972; //--------------------------------------------------------------------------------------//
19607                        	
19608                        		.dbg	line,	"include\init.c", 974; load_CHEST_TILES();
19609                        		__call		_load_CHEST_TILES
         1E:C940  20 7D FE   			call	_load_CHEST_TILES
19610                        	
19611                        		.dbg	line,	"include\init.c", 975; init_CHEST_LV1();
19612                        		__call		_init_CHEST_LV1
         1E:C943  20 73 FE   			call	_init_CHEST_LV1
19613                        	
19614                        		.dbg	line,	"include\init.c", 976; scroll_chest();
19615                        		__call		_scroll_chest
         1E:C946  20 69 FE   			call	_scroll_chest
19616                        	
19617                        		.dbg	line,	"include\init.c", 979; //--------------------------------------------------------------------------------------//
19618                        	
19619                        		.dbg	line,	"include\init.c", 980; //                                         NPCS                                         //
19620                        	
19621                        		.dbg	line,	"include\init.c", 981; //--------------------------------------------------------------------------------------//
19622                        	
19623                        		.dbg	line,	"include\init.c", 983; load_NPC_TILES();
19624                        		__call		_load_NPC_TILES
         1E:C949  20 5F FE   			call	_load_NPC_TILES
19625                        	
19626                        		.dbg	line,	"include\init.c", 984; init_NPC_LV1();
19627                        		__call		_init_NPC_LV1
         1E:C94C  20 55 FE   			call	_init_NPC_LV1
19628                        	
19629                        		.dbg	line,	"include\init.c", 989; //--------------------------------------------------------------------------------------//
19630                        	
19631                        		.dbg	line,	"include\init.c", 990; //                                       ENEMIES                                        //
19632                        	
19633                        		.dbg	line,	"include\init.c", 991; //--------------------------------------------------------------------------------------//
19634                        	
19635                        		.dbg	line,	"include\init.c", 993; load_vram(ORC_VRAM_ADR, tiles_SPR_ORC , SIZEOF(tiles_SPR_ORC) >> 1);
19636                        		__st.wmiq	11520, _di
         1E:C94F  64 F0      			stz.l	_di
         1E:C951  A9 2D      			lda.h	#11520
         1E:C953  85 F1      			sta.h	_di
19637                        		__farptr	_tiles_SPR_ORC, _bp_bank, _bp
         1E:C955  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_ORC))
         1E:C957  85 EC      			sta.l	_bp
         1E:C959  A9 64      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_ORC))
         1E:C95B  85 ED      			sta.h	_bp
         1E:C95D  A9 1B      			lda	#bank(_tiles_SPR_ORC)
         1E:C95F  85 02      			sta	_bp_bank
19638                        		__ld.wi		___sizeof__tiles_SPR_ORC
         1E:C961  A9 00      			lda.l	#___sizeof__tiles_SPR_ORC
         1E:C963  A0 1D      			ldy.h	#___sizeof__tiles_SPR_ORC
19639                        		__lsr.wi	1
         1E:C965  42         			say
         1E:C966  4A         			lsr	a
         1E:C967  42         			say
         1E:C968  6A         			ror	a
19640                        		__st.wmq	_ax
         1E:C969  85 F8      			sta.l	_ax
         1E:C96B  84 F9      			sty.h	_ax
19641                        		 _load_vram.3
         1E:C96D  82         			clx				; Offset to PCE VDC.
         1E:C96E  20 1D FF   			call	load_vram_x
19642                        	
19643                        		.dbg	line,	"include\init.c", 994; load_vram(SERPENT_VRAM_ADR, tiles_SPR_SERPENT , TILES_96);
19644                        		__st.wmiq	15232, _di
         1E:C971  A9 80      			lda.l	#15232
         1E:C973  85 F0      			sta.l	_di
         1E:C975  A9 3B      			lda.h	#15232
         1E:C977  85 F1      			sta.h	_di
19645                        		__farptr	_tiles_SPR_SERPENT, _bp_bank, _bp
         1E:C979  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_SERPENT))
         1E:C97B  85 EC      			sta.l	_bp
         1E:C97D  A9 61      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_SERPENT))
         1E:C97F  85 ED      			sta.h	_bp
         1E:C981  A9 1C      			lda	#bank(_tiles_SPR_SERPENT)
         1E:C983  85 02      			sta	_bp_bank
19646                        		__st.wmiq	1536, _ax
         1E:C985  64 F8      			stz.l	_ax
         1E:C987  A9 06      			lda.h	#1536
         1E:C989  85 F9      			sta.h	_ax
19647                        		 _load_vram.3
         1E:C98B  82         			clx				; Offset to PCE VDC.
         1E:C98C  20 1D FF   			call	load_vram_x
19648                        	
19649                        		.dbg	line,	"include\init.c", 995; load_vram(PLANT_VRAM_ADR, tiles_SPR_PLANT , TILES_160);
19650                        		__st.wmiq	16768, _di
         1E:C98F  A9 80      			lda.l	#16768
         1E:C991  85 F0      			sta.l	_di
         1E:C993  A9 41      			lda.h	#16768
         1E:C995  85 F1      			sta.h	_di
19651                        		__farptr	_tiles_SPR_PLANT, _bp_bank, _bp
         1E:C997  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_PLANT))
         1E:C999  85 EC      			sta.l	_bp
         1E:C99B  A9 6D      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_PLANT))
         1E:C99D  85 ED      			sta.h	_bp
         1E:C99F  A9 1C      			lda	#bank(_tiles_SPR_PLANT)
         1E:C9A1  85 02      			sta	_bp_bank
19652                        		__st.wmiq	2560, _ax
         1E:C9A3  64 F8      			stz.l	_ax
         1E:C9A5  A9 0A      			lda.h	#2560
         1E:C9A7  85 F9      			sta.h	_ax
19653                        		 _load_vram.3
         1E:C9A9  82         			clx				; Offset to PCE VDC.
         1E:C9AA  20 1D FF   			call	load_vram_x
19654                        	
19655                        		.dbg	line,	"include\init.c", 1000; // UPDATE PCE SAT //
19656                        	
19657                        		.dbg	line,	"include\init.c", 1001; satb_update();
19658                        		__call		_satb_update
         1E:C9AD  20 EB FE   			call	_satb_update
19659                        	
19660                        		.dbg	line,	"include\init.c", 1003; // UPDATE SGX SAT //
19661                        	
19662                        		.dbg	line,	"include\init.c", 1004; sgx_satb_update();
19663                        		__call		_sgx_satb_update
         1E:C9B0  20 E1 FE   			call	_sgx_satb_update
19664                        	
19665                        		.dbg	line,	"include\init.c", 1007; //--------------------------------------------------------------------------------------//
19666                        	
19667                        		.dbg	line,	"include\init.c", 1008; //                                LOAD SPRITES PALETTES                                 //
19668                        	
19669                        		.dbg	line,	"include\init.c", 1009; //--------------------------------------------------------------------------------------//
19670                        	
19671                        		.dbg	line,	"include\init.c", 1011; if(armor_level == 8)
19672                        		__ld.umq	_armor_level
         1E:C9B3  AD 27 23   			lda	_armor_level
19673                        		__equ_b.uiq	8
         1E:C9B6  C9 08      			cmp	#8
         1E:C9B8  F0 01      			beq	!+
         1E:C9BA  18         			clc
         1E:C9BB             	!:
19674                        		__bfalse	.LL921
         1E:C9BB  90 19      			bcc	.LL921
19675                        	
19676                        		.dbg	line,	"include\init.c", 1012; {
19677                        	
19678                        		.dbg	line,	"include\init.c", 1013; load_palette( 16, palette_PLAYER_8, 1 );
19679                        		__st.umiq	16, _al
         1E:C9BD  A9 10      			lda.l	#16
         1E:C9BF  85 F8      			sta	_al
19680                        		__farptr	_palette_PLAYER_8, _bp_bank, _bp
         1E:C9C1  A9 C0      			lda.l	#$6000 + ($1FFF & (_palette_PLAYER_8))
         1E:C9C3  85 EC      			sta.l	_bp
         1E:C9C5  A9 67      			lda.h	#$6000 + ($1FFF & (_palette_PLAYER_8))
         1E:C9C7  85 ED      			sta.h	_bp
         1E:C9C9  A9 19      			lda	#bank(_palette_PLAYER_8)
         1E:C9CB  85 02      			sta	_bp_bank
19681                        		__st.umiq	1, _ah
         1E:C9CD  A9 01      			lda.l	#1
         1E:C9CF  85 F9      			sta	_ah
19682                        		__call		_load_palette.3
         1E:C9D1  20 8B FF   			call	_load_palette.3
19683                        	
19684                        		.dbg	line,	"include\init.c", 1014; }
19685                        	
19686                        		.dbg	line,	"include\init.c", 1016; else if(armor_level == 5)
19687                        		__bra		.LL922
         1E:C9D4  80 5D      			bra	.LL922
19688    1E:C9D6             	.LL921:
19689                        		__ld.umq	_armor_level
         1E:C9D6  AD 27 23   			lda	_armor_level
19690                        		__equ_b.uiq	5
         1E:C9D9  C9 05      			cmp	#5
         1E:C9DB  F0 01      			beq	!+
         1E:C9DD  18         			clc
         1E:C9DE             	!:
19691                        		__bfalse	.LL923
         1E:C9DE  90 19      			bcc	.LL923
19692                        	
19693                        		.dbg	line,	"include\init.c", 1017; {
19694                        	
19695                        		.dbg	line,	"include\init.c", 1018; load_palette( 16, palette_PLAYER_5, 1 );
19696                        		__st.umiq	16, _al
         1E:C9E0  A9 10      			lda.l	#16
         1E:C9E2  85 F8      			sta	_al
19697                        		__farptr	_palette_PLAYER_5, _bp_bank, _bp
         1E:C9E4  A9 C0      			lda.l	#$6000 + ($1FFF & (_palette_PLAYER_5))
         1E:C9E6  85 EC      			sta.l	_bp
         1E:C9E8  A9 65      			lda.h	#$6000 + ($1FFF & (_palette_PLAYER_5))
         1E:C9EA  85 ED      			sta.h	_bp
         1E:C9EC  A9 19      			lda	#bank(_palette_PLAYER_5)
         1E:C9EE  85 02      			sta	_bp_bank
19698                        		__st.umiq	1, _ah
         1E:C9F0  A9 01      			lda.l	#1
         1E:C9F2  85 F9      			sta	_ah
19699                        		__call		_load_palette.3
         1E:C9F4  20 8B FF   			call	_load_palette.3
19700                        	
19701                        		.dbg	line,	"include\init.c", 1019; }
19702                        	
19703                        		.dbg	line,	"include\init.c", 1021; else if(armor_level == 4)
19704                        		__bra		.LL924
         1E:C9F7  80 3A      			bra	.LL924
19705    1E:C9F9             	.LL923:
19706                        		__ld.umq	_armor_level
         1E:C9F9  AD 27 23   			lda	_armor_level
19707                        		__equ_b.uiq	4
         1E:C9FC  C9 04      			cmp	#4
         1E:C9FE  F0 01      			beq	!+
         1E:CA00  18         			clc
         1E:CA01             	!:
19708                        		__bfalse	.LL925
         1E:CA01  90 19      			bcc	.LL925
19709                        	
19710                        		.dbg	line,	"include\init.c", 1022; {
19711                        	
19712                        		.dbg	line,	"include\init.c", 1023; load_palette( 16, palette_PLAYER_4, 1 );
19713                        		__st.umiq	16, _al
         1E:CA03  A9 10      			lda.l	#16
         1E:CA05  85 F8      			sta	_al
19714                        		__farptr	_palette_PLAYER_4, _bp_bank, _bp
         1E:CA07  A9 C0      			lda.l	#$6000 + ($1FFF & (_palette_PLAYER_4))
         1E:CA09  85 EC      			sta.l	_bp
         1E:CA0B  A9 63      			lda.h	#$6000 + ($1FFF & (_palette_PLAYER_4))
         1E:CA0D  85 ED      			sta.h	_bp
         1E:CA0F  A9 19      			lda	#bank(_palette_PLAYER_4)
         1E:CA11  85 02      			sta	_bp_bank
19715                        		__st.umiq	1, _ah
         1E:CA13  A9 01      			lda.l	#1
         1E:CA15  85 F9      			sta	_ah
19716                        		__call		_load_palette.3
         1E:CA17  20 8B FF   			call	_load_palette.3
19717                        	
19718                        		.dbg	line,	"include\init.c", 1024; }
19719                        	
19720                        		.dbg	line,	"include\init.c", 1026; else
19721                        		__bra		.LL926
         1E:CA1A  80 17      			bra	.LL926
19722    1E:CA1C             	.LL925:
19723                        	
19724                        		.dbg	line,	"include\init.c", 1027; {
19725                        	
19726                        		.dbg	line,	"include\init.c", 1028; load_palette( 16, palette_PLAYER_1, 1 );
19727                        		__st.umiq	16, _al
         1E:CA1C  A9 10      			lda.l	#16
         1E:CA1E  85 F8      			sta	_al
19728                        		__farptr	_palette_PLAYER_1, _bp_bank, _bp
         1E:CA20  A9 C0      			lda.l	#$6000 + ($1FFF & (_palette_PLAYER_1))
         1E:CA22  85 EC      			sta.l	_bp
         1E:CA24  A9 61      			lda.h	#$6000 + ($1FFF & (_palette_PLAYER_1))
         1E:CA26  85 ED      			sta.h	_bp
         1E:CA28  A9 19      			lda	#bank(_palette_PLAYER_1)
         1E:CA2A  85 02      			sta	_bp_bank
19729                        		__st.umiq	1, _ah
         1E:CA2C  A9 01      			lda.l	#1
         1E:CA2E  85 F9      			sta	_ah
19730                        		__call		_load_palette.3
         1E:CA30  20 8B FF   			call	_load_palette.3
19731                        	
19732                        		.dbg	line,	"include\init.c", 1029; }
19733    1E:CA33             	.LL926:
19734    1E:CA33             	.LL924:
19735    1E:CA33             	.LL922:
19736                        	
19737                        		.dbg	line,	"include\init.c", 1032; load_palette( 17, palette_objects_1,   1 );
19738                        		__st.umiq	17, _al
         1E:CA33  A9 11      			lda.l	#17
         1E:CA35  85 F8      			sta	_al
19739                        		__farptr	_palette_objects_1, _bp_bank, _bp
         1E:CA37  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_objects_1))
         1E:CA39  85 EC      			sta.l	_bp
         1E:CA3B  A9 72      			lda.h	#$6000 + ($1FFF & (_palette_objects_1))
         1E:CA3D  85 ED      			sta.h	_bp
         1E:CA3F  A9 1A      			lda	#bank(_palette_objects_1)
         1E:CA41  85 02      			sta	_bp_bank
19740                        		__st.umiq	1, _ah
         1E:CA43  A9 01      			lda.l	#1
         1E:CA45  85 F9      			sta	_ah
19741                        		__call		_load_palette.3
         1E:CA47  20 8B FF   			call	_load_palette.3
19742                        	
19743                        		.dbg	line,	"include\init.c", 1033; load_palette( 18, palette_objects_2,   1 );
19744                        		__st.umiq	18, _al
         1E:CA4A  A9 12      			lda.l	#18
         1E:CA4C  85 F8      			sta	_al
19745                        		__farptr	_palette_objects_2, _bp_bank, _bp
         1E:CA4E  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_objects_2))
         1E:CA50  85 EC      			sta.l	_bp
         1E:CA52  A9 74      			lda.h	#$6000 + ($1FFF & (_palette_objects_2))
         1E:CA54  85 ED      			sta.h	_bp
         1E:CA56  A9 1A      			lda	#bank(_palette_objects_2)
         1E:CA58  85 02      			sta	_bp_bank
19746                        		__st.umiq	1, _ah
         1E:CA5A  A9 01      			lda.l	#1
         1E:CA5C  85 F9      			sta	_ah
19747                        		__call		_load_palette.3
         1E:CA5E  20 8B FF   			call	_load_palette.3
19748                        	
19749                        		.dbg	line,	"include\init.c", 1034; load_palette( 19, palette_SPR_ORC,  1 );
19750                        		__st.umiq	19, _al
         1E:CA61  A9 13      			lda.l	#19
         1E:CA63  85 F8      			sta	_al
19751                        		__farptr	_palette_SPR_ORC, _bp_bank, _bp
         1E:CA65  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_SPR_ORC))
         1E:CA67  85 EC      			sta.l	_bp
         1E:CA69  A9 67      			lda.h	#$6000 + ($1FFF & (_palette_SPR_ORC))
         1E:CA6B  85 ED      			sta.h	_bp
         1E:CA6D  A9 1D      			lda	#bank(_palette_SPR_ORC)
         1E:CA6F  85 02      			sta	_bp_bank
19752                        		__st.umiq	1, _ah
         1E:CA71  A9 01      			lda.l	#1
         1E:CA73  85 F9      			sta	_ah
19753                        		__call		_load_palette.3
         1E:CA75  20 8B FF   			call	_load_palette.3
19754                        	
19755                        		.dbg	line,	"include\init.c", 1035; load_palette( 20, palette_SPR_PLANT,   1 );
19756                        		__st.umiq	20, _al
         1E:CA78  A9 14      			lda.l	#20
         1E:CA7A  85 F8      			sta	_al
19757                        		__farptr	_palette_SPR_PLANT, _bp_bank, _bp
         1E:CA7C  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_SPR_PLANT))
         1E:CA7E  85 EC      			sta.l	_bp
         1E:CA80  A9 69      			lda.h	#$6000 + ($1FFF & (_palette_SPR_PLANT))
         1E:CA82  85 ED      			sta.h	_bp
         1E:CA84  A9 1D      			lda	#bank(_palette_SPR_PLANT)
         1E:CA86  85 02      			sta	_bp_bank
19758                        		__st.umiq	1, _ah
         1E:CA88  A9 01      			lda.l	#1
         1E:CA8A  85 F9      			sta	_ah
19759                        		__call		_load_palette.3
         1E:CA8C  20 8B FF   			call	_load_palette.3
19760                        	
19761                        		.dbg	line,	"include\init.c", 1040; // VSYNC //
19762                        	
19763                        		.dbg	line,	"include\init.c", 1041; vsync();
19764                        		__call		_vsync
         1E:CA8F  20 09 E3   			call	_vsync
19765                        	
19766                        		.dbg	line,	"include\init.c", 1043; // ENABLE DISPLAY //
19767                        	
19768                        		.dbg	line,	"include\init.c", 1044; disp_on();
19769                        		__call		_disp_on
         1E:CA92  20 16 E4   			call	_disp_on
19770                        	
19771                        		.dbg	line,	"include\init.c", 1045; }
19772                        	
19773                        		.dbg	line,	"include\init.c", 1046; }
19774    1E:CA95             	.LL896:
19775    1E:CA95             	.LL895:
19776                        		__return	0
         1E:CA95  4C EF FF   			jmp	leave_proc
19777                        		.dbg	clear
19778                        		.endp
19779               6B40     		.data
19780               2310     		.bss
19781    F8:2310             	__init_LEVEL_loc:
19782    F8:2310             			ds	1
19783    F8:2311             	__init_LEVEL_end:
19784               E309     		.code
19785                        		.pceas
19786                        	
19787                        		.dbg	line,	"include\init.c", 1049; void init_SHOP()
19788                        		.dbg	line,	"include\init.c", 1050; {
19789                        	;***********************
19790                        	;***********************
19791                        	
19792                        		.hucc
19793    02:DB80             		.proc		_init_SHOP
19794                        		__enter		_init_SHOP
19795                        	
19796                        		.dbg	line,	"include\init.c", 1051; char i;
19797                        	
19798                        		.dbg	line,	"include\init.c", 1052; char item_id;
19799                        	
19800                        		.dbg	line,	"include\init.c", 1055; // DISABLE DISPLAY //
19801                        	
19802                        		.dbg	line,	"include\init.c", 1056; disp_off();
19803                        		__call		_disp_off
         02:DB80  20 29 E4   			call	_disp_off
19804                        	
19805                        		.dbg	line,	"include\init.c", 1057; 
19806                        	
19807                        		.dbg	line,	"include\init.c", 1059; // VSYNC //
19808                        	
19809                        		.dbg	line,	"include\init.c", 1060; vsync();
19810                        		__call		_vsync
         02:DB83  20 09 E3   			call	_vsync
19811                        	
19812                        		.dbg	line,	"include\init.c", 1063; // HIDE ALL LEVEL SPRITES //
19813                        	
19814                        		.dbg	line,	"include\init.c", 1064; hide_LEVEL_SPRITES();
19815                        		__call		_hide_LEVEL_SPRITES
         02:DB86  20 4B FE   			call	_hide_LEVEL_SPRITES
19816                        	
19817                        		.dbg	line,	"include\init.c", 1067; // SET VDC 1 SCREEN SIZE (IN TILES) - 32x32 = 256 PIXELS
19818                        	
19819                        		.dbg	line,	"include\init.c", 1068; set_screen_size(SCR_SIZE_64x32);
19820                        		__st.umiq	1, _al
         02:DB89  A9 01      			lda.l	#1
         02:DB8B  85 F8      			sta	_al
19821                        		__call		_set_screen_size.1
         02:DB8D  20 FF FE   			call	_set_screen_size.1
19822                        	
19823                        		.dbg	line,	"include\init.c", 1071; // SET VDC 2 SCREEN SIZE (IN TILES) - 32x32 = 256 PIXELS
19824                        	
19825                        		.dbg	line,	"include\init.c", 1072; sgx_set_screen_size(SCR_SIZE_32x32);
19826                        		__st.umiq	0, _al
         02:DB90  64 F8      			stz	_al
19827                        		__call		_sgx_set_screen_size.1
         02:DB92  20 F5 FE   			call	_sgx_set_screen_size.1
19828                        	
19829                        		.dbg	line,	"include\init.c", 1077; //**************************************************************************************//
19830                        	
19831                        		.dbg	line,	"include\init.c", 1078; //                                                                                      //
19832                        	
19833                        		.dbg	line,	"include\init.c", 1079; //                                      VARIABLES                                       //
19834                        	
19835                        		.dbg	line,	"include\init.c", 1080; //                                                                                      //
19836                        	
19837                        		.dbg	line,	"include\init.c", 1081; //**************************************************************************************//
19838                        	
19839                        		.dbg	line,	"include\init.c", 1083; index_x = 0;
19840                        		__st.umiq	0, _index_x
         02:DB95  9C D5 23   			stz	_index_x
19841                        	
19842                        		.dbg	line,	"include\init.c", 1084; index_y = 0;
19843                        		__st.umiq	0, _index_y
         02:DB98  9C D6 23   			stz	_index_y
19844                        	
19845                        		.dbg	line,	"include\init.c", 1085; item_index = 0;
19846                        		__st.umiq	0, _item_index
         02:DB9B  9C D7 23   			stz	_item_index
19847                        	
19848                        		.dbg	line,	"include\init.c", 1087; minutes = 0;
19849                        		__st.umiq	0, _minutes
         02:DB9E  9C 30 23   			stz	_minutes
19850                        	
19851                        		.dbg	line,	"include\init.c", 1088; seconds = 30;
19852                        		__st.umiq	30, _seconds
         02:DBA1  A9 1E      			lda.l	#30
         02:DBA3  8D 31 23   			sta	_seconds
19853                        	
19854                        		.dbg	line,	"include\init.c", 1090; shop_counter = 0;
19855                        		__st.umiq	0, _shop_counter
         02:DBA6  9C D9 23   			stz	_shop_counter
19856                        	
19857                        		.dbg	line,	"include\init.c", 1091; shop_phase = SHOP_PHASE_ENTER;
19858                        		__st.umiq	0, _shop_phase
         02:DBA9  9C D8 23   			stz	_shop_phase
19859                        	
19860                        		.dbg	line,	"include\init.c", 1093; if(level_id == 1)
19861                        		__ld.umq	_level_id
         02:DBAC  AD 15 23   			lda	_level_id
19862                        		__equ_b.uiq	1
         02:DBAF  C9 01      			cmp	#1
         02:DBB1  F0 01      			beq	!+
         02:DBB3  18         			clc
         02:DBB4             	!:
19863                        		__bfalse	.LL928
         02:DBB4  90 0A      			bcc	.LL928
19864                        	
19865                        		.dbg	line,	"include\init.c", 1094; {
19866                        	
19867                        		.dbg	line,	"include\init.c", 1095; ptr_SHOP_ITEM_PRICES = &TABLE_SHOP_PRICES_LV1[0];
19868                        		__ld.wi		_TABLE_SHOP_PRICES_LV1
         02:DBB6  A9 6B      			lda.l	#_TABLE_SHOP_PRICES_LV1
         02:DBB8  A0 62      			ldy.h	#_TABLE_SHOP_PRICES_LV1
19869                        		__st.wmq	_ptr_SHOP_ITEM_PRICES
         02:DBBA  8D 74 26   			sta.l	_ptr_SHOP_ITEM_PRICES
         02:DBBD  8C 75 26   			sty.h	_ptr_SHOP_ITEM_PRICES
19870                        	
19871                        		.dbg	line,	"include\init.c", 1096; }
19872                        	
19873                        		.dbg	line,	"include\init.c", 1097; 
19874                        	
19875                        		.dbg	line,	"include\init.c", 1102; //**************************************************************************************//
19876                        	
19877                        		.dbg	line,	"include\init.c", 1103; //                                                                                      //
19878                        	
19879                        		.dbg	line,	"include\init.c", 1104; //                                        VDC 2                                         //
19880                        	
19881                        		.dbg	line,	"include\init.c", 1105; //                                                                                      //
19882                        	
19883                        		.dbg	line,	"include\init.c", 1106; //**************************************************************************************//
19884                        	
19885                        		.dbg	line,	"include\init.c", 1108; //--------------------------------------------------------------------------------------//
19886                        	
19887                        		.dbg	line,	"include\init.c", 1109; //                                      LOAD FONT                                       //
19888                        	
19889                        		.dbg	line,	"include\init.c", 1110; //--------------------------------------------------------------------------------------//
19890                        	
19891                        		.dbg	line,	"include\init.c", 1112; load_vram( 0x0800, tileset_FONT, SIZEOF(tileset_FONT) >> 1 );
19892    02:DBC0             	.LL928:
19893                        		__st.wmiq	2048, _di
         02:DBC0  64 F0      			stz.l	_di
         02:DBC2  A9 08      			lda.h	#2048
         02:DBC4  85 F1      			sta.h	_di
19894                        		__farptr	_tileset_FONT, _bp_bank, _bp
         02:DBC6  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_FONT))
         02:DBC8  85 EC      			sta.l	_bp
         02:DBCA  A9 7C      			lda.h	#$6000 + ($1FFF & (_tileset_FONT))
         02:DBCC  85 ED      			sta.h	_bp
         02:DBCE  A9 06      			lda	#bank(_tileset_FONT)
         02:DBD0  85 02      			sta	_bp_bank
19895                        		__ld.wi		___sizeof__tileset_FONT
         02:DBD2  A9 00      			lda.l	#___sizeof__tileset_FONT
         02:DBD4  A0 0C      			ldy.h	#___sizeof__tileset_FONT
19896                        		__lsr.wi	1
         02:DBD6  42         			say
         02:DBD7  4A         			lsr	a
         02:DBD8  42         			say
         02:DBD9  6A         			ror	a
19897                        		__st.wmq	_ax
         02:DBDA  85 F8      			sta.l	_ax
         02:DBDC  84 F9      			sty.h	_ax
19898                        		 _load_vram.3
         02:DBDE  82         			clx				; Offset to PCE VDC.
         02:DBDF  20 1D FF   			call	load_vram_x
19899                        	
19900                        		.dbg	line,	"include\init.c", 1114; set_font_pal(15);
19901                        		__ld.uiq	15
         02:DBE2  A9 0F      			lda	#15
19902                        		__call		_set_font_pal.1
         02:DBE4  20 09 E6   			call	_set_font_pal.1
19903                        	
19904                        		.dbg	line,	"include\init.c", 1117; //--------------------------------------------------------------------------------------//
19905                        	
19906                        		.dbg	line,	"include\init.c", 1118; //                                    LOAD TILESET                                      //
19907                        	
19908                        		.dbg	line,	"include\init.c", 1119; //--------------------------------------------------------------------------------------//
19909                        	
19910                        		.dbg	line,	"include\init.c", 1121; sgx_load_vram( 0x1000, tileset_SHOP_BG_B, SIZEOF(tileset_SHOP_BG_B) >> 1 );
19911                        		__st.wmiq	4096, _di
         02:DBE7  64 F0      			stz.l	_di
         02:DBE9  A9 10      			lda.h	#4096
         02:DBEB  85 F1      			sta.h	_di
19912                        		__farptr	_tileset_SHOP_BG_B, _bp_bank, _bp
         02:DBED  A9 A0      			lda.l	#$6000 + ($1FFF & (_tileset_SHOP_BG_B))
         02:DBEF  85 EC      			sta.l	_bp
         02:DBF1  A9 7A      			lda.h	#$6000 + ($1FFF & (_tileset_SHOP_BG_B))
         02:DBF3  85 ED      			sta.h	_bp
         02:DBF5  A9 0F      			lda	#bank(_tileset_SHOP_BG_B)
         02:DBF7  85 02      			sta	_bp_bank
19913                        		__ld.wi		___sizeof__tileset_SHOP_BG_B
         02:DBF9  A9 60      			lda.l	#___sizeof__tileset_SHOP_BG_B
         02:DBFB  A0 39      			ldy.h	#___sizeof__tileset_SHOP_BG_B
19914                        		__lsr.wi	1
         02:DBFD  42         			say
         02:DBFE  4A         			lsr	a
         02:DBFF  42         			say
         02:DC00  6A         			ror	a
19915                        		__st.wmq	_ax
         02:DC01  85 F8      			sta.l	_ax
         02:DC03  84 F9      			sty.h	_ax
19916                        		 _sgx_load_vram.3
         02:DC05  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         02:DC07  20 1D FF   			call	load_vram_x
19917                        	
19918                        		.dbg	line,	"include\init.c", 1124; //--------------------------------------------------------------------------------------//
19919                        	
19920                        		.dbg	line,	"include\init.c", 1125; //                                      LOAD ITEMS                                      //
19921                        	
19922                        		.dbg	line,	"include\init.c", 1126; //--------------------------------------------------------------------------------------//
19923                        	
19924                        		.dbg	line,	"include\init.c", 1128; for(i=0 ; i<10 ; i++)
19925                        		__st.umiq	0, __init_SHOP_end - 1  /* i */
         02:DC0A  9C 12 23   			stz	__init_SHOP_end - 1
19926    02:DC0D             	.LL929:
19927                        		__ld.umq	__init_SHOP_end - 1  /* i */
         02:DC0D  AD 12 23   			lda	__init_SHOP_end - 1
19928                        		__ult_b.uiq	10
         02:DC10  C9 0A      			cmp	#10		; Subtract integer from A.
         02:DC12  6A         			ror	a		; CC if A < integer.
         02:DC13  49 80      			eor	#$80
         02:DC15  2A         			rol	a
19929                        		__btrue		.LL931
         02:DC16  B0 07      			bcs	.LL931
19930                        		__bra		.LL932
         02:DC18  80 42      			bra	.LL932
19931    02:DC1A             	.LL930:
19932                        		__inc.umq	__init_SHOP_end - 1  /* i */
         02:DC1A  EE 12 23   			inc	__init_SHOP_end - 1
19933                        		__bra		.LL929
         02:DC1D  80 EE      			bra	.LL929
19934    02:DC1F             	.LL931:
19935                        	
19936                        		.dbg	line,	"include\init.c", 1129; {
19937                        	
19938                        		.dbg	line,	"include\init.c", 1130; set_far_base(TABLE_SHOP_ITEMS_TILES_BANK[i],TABLE_SHOP_ITEMS_TILES_ADR[i]);
19939                        		__ldx.umq	__init_SHOP_end - 1  /* i */
         02:DC1F  AE 12 23   			ldx	__init_SHOP_end - 1
19940                        		__ld.uax	_TABLE_SHOP_ITEMS_TILES_BANK
         02:DC22  BD 93 62   			lda	_TABLE_SHOP_ITEMS_TILES_BANK, x
         02:DC25  C2         			cly
19941                        		__st.umq	_bp_bank
         02:DC26  85 02      			sta	_bp_bank
19942                        		__ld2x.umq	__init_SHOP_end - 1  /* i */
         02:DC28  AD 12 23   			lda	__init_SHOP_end - 1
         02:DC2B  0A         			asl	a
         02:DC2C  AA         			tax
19943                        		__ld.wax	_TABLE_SHOP_ITEMS_TILES_ADR
         02:DC2D  BD 7F 62   			lda.l	_TABLE_SHOP_ITEMS_TILES_ADR, x
         02:DC30  BC 80 62   			ldy.h	_TABLE_SHOP_ITEMS_TILES_ADR, x
19944                        		__st.wmq	_bp
         02:DC33  85 EC      			sta.l	_bp
         02:DC35  84 ED      			sty.h	_bp
19945                        	
19946                        		.dbg	line,	"include\init.c", 1131; sgx_far_load_vram( 0x1000 + (i * TILES_4), TILES_4 );
19947                        		__ld.um		__init_SHOP_end - 1  /* i */
         02:DC37  AD 12 23   			lda	__init_SHOP_end - 1
         02:DC3A  C2         			cly
19948                        		__asl.wi	6
         02:DC3B  85 00      			sta	__temp
         02:DC3D  98         			tya
         02:DC3E  4A         			lsr	a
         02:DC3F  20 CB E1   			jsr	aslw6
         02:DC42  29 C0      			and.l	#$FF << 6
19949                        		__add.wi	4096
         02:DC44  18         			clc
         02:DC45  69 00      			adc.l	#4096
         02:DC47  42         			say
         02:DC48  69 10      			adc.h	#4096
         02:DC4A  42         			say
19950                        		__st.wmq	_di
         02:DC4B  85 F0      			sta.l	_di
         02:DC4D  84 F1      			sty.h	_di
19951                        		__st.wmiq	64, _ax
         02:DC4F  A9 40      			lda.l	#64
         02:DC51  85 F8      			sta.l	_ax
         02:DC53  64 F9      			stz.h	_ax
19952                        		 _sgx_far_load_vram.2
         02:DC55  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         02:DC57  20 1D FF   			call	load_vram_x
19953                        	
19954                        		.dbg	line,	"include\init.c", 1132; }
19955                        		__bra		.LL930
         02:DC5A  80 BE      			bra	.LL930
19956    02:DC5C             	.LL932:
19957                        	
19958                        		.dbg	line,	"include\init.c", 1135; //--------------------------------------------------------------------------------------//
19959                        	
19960                        		.dbg	line,	"include\init.c", 1136; //                                      SET BLOCKS                                      //
19961                        	
19962                        		.dbg	line,	"include\init.c", 1137; //--------------------------------------------------------------------------------------//
19963                        	
19964                        		.dbg	line,	"include\init.c", 1139; sgx_set_blocks( blocks_SHOP_BG_B , tilemap_mask , 256 );
19965                        		__farptr	_blocks_SHOP_BG_B, sgx_blk_bank, sgx_blk_addr
         02:DC5C  A9 00      			lda.l	#$6000 + ($1FFF & (_blocks_SHOP_BG_B))
         02:DC5E  8D F6 2B   			sta.l	sgx_blk_addr
         02:DC61  A9 78      			lda.h	#$6000 + ($1FFF & (_blocks_SHOP_BG_B))
         02:DC63  8D F7 2B   			sta.h	sgx_blk_addr
         02:DC66  A9 11      			lda	#bank(_blocks_SHOP_BG_B)
         02:DC68  8D F8 2B   			sta	sgx_blk_bank
19966                        		__farptr	_tilemap_mask, sgx_tbl_bank, sgx_tbl_addr
         02:DC6B  A9 DB      			lda.l	#$6000 + ($1FFF & (_tilemap_mask))
         02:DC6D  8D F3 2B   			sta.l	sgx_tbl_addr
         02:DC70  A9 63      			lda.h	#$6000 + ($1FFF & (_tilemap_mask))
         02:DC72  8D F4 2B   			sta.h	sgx_tbl_addr
         02:DC75  A9 F8      			lda	#bank(_tilemap_mask)
         02:DC77  8D F5 2B   			sta	sgx_tbl_bank
19967                        		__st.umiq	256, _al
         02:DC7A  A9 00      			lda.l	#256
         02:DC7C  85 F8      			sta	_al
19968                        		__call		_sgx_set_blocks.3
         02:DC7E  20 41 FE   			call	_sgx_set_blocks.3
19969                        	
19970                        		.dbg	line,	"include\init.c", 1143; //--------------------------------------------------------------------------------------//
19971                        	
19972                        		.dbg	line,	"include\init.c", 1144; //                                       SET MAP                                        //
19973                        	
19974                        		.dbg	line,	"include\init.c", 1145; //--------------------------------------------------------------------------------------//
19975                        	
19976                        		.dbg	line,	"include\init.c", 1147; sgx_set_blkmap( map_SHOP_BG_B, COUNTOF(map_SHOP_BG_B) );
19977                        		__farptr	_map_SHOP_BG_B, sgx_map_bank, sgx_map_addr
         02:DC81  A9 00      			lda.l	#$6000 + ($1FFF & (_map_SHOP_BG_B))
         02:DC83  8D F9 2B   			sta.l	sgx_map_addr
         02:DC86  A9 60      			lda.h	#$6000 + ($1FFF & (_map_SHOP_BG_B))
         02:DC88  8D FA 2B   			sta.h	sgx_map_addr
         02:DC8B  A9 12      			lda	#bank(_map_SHOP_BG_B)
         02:DC8D  8D FB 2B   			sta	sgx_map_bank
19978                        		__ld.wi		___countof__map_SHOP_BG_B
         02:DC90  A9 10      			lda.l	#___countof__map_SHOP_BG_B
         02:DC92  A0 00      			ldy.h	#___countof__map_SHOP_BG_B
19979                        		__st.umq	sgx_map_line_w
         02:DC94  8D BC 26   			sta	sgx_map_line_w
19980                        		 _sgx_set_blkmap.2
         02:DC97  9C FE 2B   			stz	sgx_scr_bank
19981                        	
19982                        		.dbg	line,	"include\init.c", 1150; //--------------------------------------------------------------------------------------//
19983                        	
19984                        		.dbg	line,	"include\init.c", 1151; //                                    DRAW TILEMAP                                      //
19985                        	
19986                        		.dbg	line,	"include\init.c", 1152; //--------------------------------------------------------------------------------------//
19987                        	
19988                        		.dbg	line,	"include\init.c", 1154; // The blkmap is drawn using global variables for the top-left coordinate
19989                        	
19990                        		.dbg	line,	"include\init.c", 1155; // in pixels, and the draw width and height in terms of 8x8 characters.
19991                        	
19992                        		.dbg	line,	"include\init.c", 1157; sgx_map_pxl_x = 0;
19993                        		__st.wmiq	0, _sgx_map_pxl_x
         02:DC9A  9C BE 26   			stz.l	_sgx_map_pxl_x
         02:DC9D  9C BF 26   			stz.h	_sgx_map_pxl_x
19994                        	
19995                        		.dbg	line,	"include\init.c", 1158; sgx_map_pxl_y = 0;
19996                        		__st.wmiq	0, _sgx_map_pxl_y
         02:DCA0  9C C0 26   			stz.l	_sgx_map_pxl_y
         02:DCA3  9C C1 26   			stz.h	_sgx_map_pxl_y
19997                        	
19998                        		.dbg	line,	"include\init.c", 1160; sgx_map_draw_w = 32;
19999                        		__st.umiq	32, _sgx_map_draw_w
         02:DCA6  A9 20      			lda.l	#32
         02:DCA8  8D BA 26   			sta	_sgx_map_draw_w
20000                        	
20001                        		.dbg	line,	"include\init.c", 1161; sgx_map_draw_h = 28;
20002                        		__st.umiq	28, _sgx_map_draw_h
         02:DCAB  A9 1C      			lda.l	#28
         02:DCAD  8D BB 26   			sta	_sgx_map_draw_h
20003                        	
20004                        		.dbg	line,	"include\init.c", 1164; //**************************************************************************************//
20005                        	
20006                        		.dbg	line,	"include\init.c", 1165; //                                                                                      //
20007                        	
20008                        		.dbg	line,	"include\init.c", 1166; //                                  SETUP SCROLL_SPLIT                                  //
20009                        	
20010                        		.dbg	line,	"include\init.c", 1167; //                                                                                      //
20011                        	
20012                        		.dbg	line,	"include\init.c", 1168; //**************************************************************************************//
20013                        	
20014                        		.dbg	line,	"include\init.c", 1170; sgx_draw_map();
20015                        		__call		_sgx_draw_map
         02:DCB0  20 AF FE   			call	_sgx_draw_map
20016                        	
20017                        		.dbg	line,	"include\init.c", 1172; sgx_scroll_split(0,   0, sgx_map_pxl_x & (BAT_SIZE_W - 1), sgx_map_pxl_y & (BAT_SIZE_H - 1), BKG_ON | SPR_ON);
20018                        		__st.umiq	0, _al
         02:DCB3  64 F8      			stz	_al
20019                        		__st.umiq	0, _ah
         02:DCB5  64 F9      			stz	_ah
20020                        		__ld.wm		_sgx_map_pxl_x
         02:DCB7  AD BE 26   			lda.l	_sgx_map_pxl_x
         02:DCBA  AC BF 26   			ldy.h	_sgx_map_pxl_x
20021                        		__and.wi	2047
         02:DCBD  29 FF      			and.l	#2047
         02:DCBF  42         			say
         02:DCC0  29 07      			and.h	#2047
         02:DCC2  42         			say
20022                        		__st.wmq	_bx
         02:DCC3  85 FA      			sta.l	_bx
         02:DCC5  84 FB      			sty.h	_bx
20023                        		__ld.wm		_sgx_map_pxl_y
         02:DCC7  AD C0 26   			lda.l	_sgx_map_pxl_y
         02:DCCA  AC C1 26   			ldy.h	_sgx_map_pxl_y
20024                        		__and.wi	255
         02:DCCD  29 FF      			and	#255
         02:DCCF  C2         			cly
20025                        		__st.wmq	_cx
         02:DCD0  85 FC      			sta.l	_cx
         02:DCD2  84 FD      			sty.h	_cx
20026                        		__st.umiq	192, _dl
         02:DCD4  A9 C0      			lda.l	#192
         02:DCD6  85 FE      			sta	_dl
20027                        		__call		_sgx_scroll_split.5
         02:DCD8  20 45 FF   			call	_sgx_scroll_split.5
20028                        	
20029                        		.dbg	line,	"include\init.c", 1177; //**************************************************************************************//
20030                        	
20031                        		.dbg	line,	"include\init.c", 1178; //                                                                                      //
20032                        	
20033                        		.dbg	line,	"include\init.c", 1179; //                                         HUD                                          //
20034                        	
20035                        		.dbg	line,	"include\init.c", 1180; //                                                                                      //
20036                        	
20037                        		.dbg	line,	"include\init.c", 1181; //**************************************************************************************//
20038                        	
20039                        		.dbg	line,	"include\init.c", 1183; init_HUD();
20040                        		__call		_init_HUD
         02:DCDB  20 A5 FE   			call	_init_HUD
20041                        	
20042                        		.dbg	line,	"include\init.c", 1186; //--------------------------------------------------------------------------------------//
20043                        	
20044                        		.dbg	line,	"include\init.c", 1187; //                                     DRAW PRICES                                      //
20045                        	
20046                        		.dbg	line,	"include\init.c", 1188; //--------------------------------------------------------------------------------------//
20047                        	
20048                        		.dbg	line,	"include\init.c", 1190; shop_prices[0] = *(ptr_SHOP_ITEM_PRICES);
20049                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         02:DCDE  AD 74 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         02:DCE1  AC 75 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
20050                        		__st.wm		__ptr
         02:DCE4  85 88      			sta.l	__ptr
         02:DCE6  84 89      			sty.h	__ptr
20051                        		__ld.wp		__ptr
         02:DCE8  A0 01      			ldy	#1
         02:DCEA  B1 88      			lda	[__ptr], y
         02:DCEC  A8         			tay
         02:DCED  B2 88      			lda	[__ptr]
20052                        		__st.wmq	_shop_prices
         02:DCEF  8D 3F 26   			sta.l	_shop_prices
         02:DCF2  8C 40 26   			sty.h	_shop_prices
20053                        	
20054                        		.dbg	line,	"include\init.c", 1191; shop_prices[1] = *(ptr_SHOP_ITEM_PRICES+1);
20055                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         02:DCF5  AD 74 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         02:DCF8  AC 75 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
20056                        		__add.wi	2
         02:DCFB  18         			clc
         02:DCFC  69 02      			adc.l	#2
         02:DCFE  90 01      			bcc	!+
         02:DD00  C8         			iny
         02:DD01             	!:
20057                        		__st.wm		__ptr
         02:DD01  85 88      			sta.l	__ptr
         02:DD03  84 89      			sty.h	__ptr
20058                        		__ld.wp		__ptr
         02:DD05  A0 01      			ldy	#1
         02:DD07  B1 88      			lda	[__ptr], y
         02:DD09  A8         			tay
         02:DD0A  B2 88      			lda	[__ptr]
20059                        		__st.wmq	_shop_prices + 2
         02:DD0C  8D 41 26   			sta.l	_shop_prices + 2
         02:DD0F  8C 42 26   			sty.h	_shop_prices + 2
20060                        	
20061                        		.dbg	line,	"include\init.c", 1192; shop_prices[2] = *(ptr_SHOP_ITEM_PRICES+2);
20062                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         02:DD12  AD 74 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         02:DD15  AC 75 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
20063                        		__add.wi	4
         02:DD18  18         			clc
         02:DD19  69 04      			adc.l	#4
         02:DD1B  90 01      			bcc	!+
         02:DD1D  C8         			iny
         02:DD1E             	!:
20064                        		__st.wm		__ptr
         02:DD1E  85 88      			sta.l	__ptr
         02:DD20  84 89      			sty.h	__ptr
20065                        		__ld.wp		__ptr
         02:DD22  A0 01      			ldy	#1
         02:DD24  B1 88      			lda	[__ptr], y
         02:DD26  A8         			tay
         02:DD27  B2 88      			lda	[__ptr]
20066                        		__st.wmq	_shop_prices + 4
         02:DD29  8D 43 26   			sta.l	_shop_prices + 4
         02:DD2C  8C 44 26   			sty.h	_shop_prices + 4
20067                        	
20068                        		.dbg	line,	"include\init.c", 1193; shop_prices[3] = *(ptr_SHOP_ITEM_PRICES+3);
20069                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         02:DD2F  AD 74 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         02:DD32  AC 75 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
20070                        		__add.wi	6
         02:DD35  18         			clc
         02:DD36  69 06      			adc.l	#6
         02:DD38  90 01      			bcc	!+
         02:DD3A  C8         			iny
         02:DD3B             	!:
20071                        		__st.wm		__ptr
         02:DD3B  85 88      			sta.l	__ptr
         02:DD3D  84 89      			sty.h	__ptr
20072                        		__ld.wp		__ptr
         02:DD3F  A0 01      			ldy	#1
         02:DD41  B1 88      			lda	[__ptr], y
         02:DD43  A8         			tay
         02:DD44  B2 88      			lda	[__ptr]
20073                        		__st.wmq	_shop_prices + 6
         02:DD46  8D 45 26   			sta.l	_shop_prices + 6
         02:DD49  8C 46 26   			sty.h	_shop_prices + 6
20074                        	
20075                        		.dbg	line,	"include\init.c", 1194; shop_prices[4] = *(ptr_SHOP_ITEM_PRICES+4);
20076                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         02:DD4C  AD 74 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         02:DD4F  AC 75 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
20077                        		__add.wi	8
         02:DD52  18         			clc
         02:DD53  69 08      			adc.l	#8
         02:DD55  90 01      			bcc	!+
         02:DD57  C8         			iny
         02:DD58             	!:
20078                        		__st.wm		__ptr
         02:DD58  85 88      			sta.l	__ptr
         02:DD5A  84 89      			sty.h	__ptr
20079                        		__ld.wp		__ptr
         02:DD5C  A0 01      			ldy	#1
         02:DD5E  B1 88      			lda	[__ptr], y
         02:DD60  A8         			tay
         02:DD61  B2 88      			lda	[__ptr]
20080                        		__st.wmq	_shop_prices + 8
         02:DD63  8D 47 26   			sta.l	_shop_prices + 8
         02:DD66  8C 48 26   			sty.h	_shop_prices + 8
20081                        	
20082                        		.dbg	line,	"include\init.c", 1195; 
20083                        	
20084                        		.dbg	line,	"include\init.c", 1196; shop_prices[5] = *(ptr_SHOP_ITEM_PRICES+5);
20085                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         02:DD69  AD 74 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         02:DD6C  AC 75 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
20086                        		__add.wi	10
         02:DD6F  18         			clc
         02:DD70  69 0A      			adc.l	#10
         02:DD72  90 01      			bcc	!+
         02:DD74  C8         			iny
         02:DD75             	!:
20087                        		__st.wm		__ptr
         02:DD75  85 88      			sta.l	__ptr
         02:DD77  84 89      			sty.h	__ptr
20088                        		__ld.wp		__ptr
         02:DD79  A0 01      			ldy	#1
         02:DD7B  B1 88      			lda	[__ptr], y
         02:DD7D  A8         			tay
         02:DD7E  B2 88      			lda	[__ptr]
20089                        		__st.wmq	_shop_prices + 10
         02:DD80  8D 49 26   			sta.l	_shop_prices + 10
         02:DD83  8C 4A 26   			sty.h	_shop_prices + 10
20090                        	
20091                        		.dbg	line,	"include\init.c", 1197; shop_prices[6] = *(ptr_SHOP_ITEM_PRICES+6);
20092                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         02:DD86  AD 74 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         02:DD89  AC 75 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
20093                        		__add.wi	12
         02:DD8C  18         			clc
         02:DD8D  69 0C      			adc.l	#12
         02:DD8F  90 01      			bcc	!+
         02:DD91  C8         			iny
         02:DD92             	!:
20094                        		__st.wm		__ptr
         02:DD92  85 88      			sta.l	__ptr
         02:DD94  84 89      			sty.h	__ptr
20095                        		__ld.wp		__ptr
         02:DD96  A0 01      			ldy	#1
         02:DD98  B1 88      			lda	[__ptr], y
         02:DD9A  A8         			tay
         02:DD9B  B2 88      			lda	[__ptr]
20096                        		__st.wmq	_shop_prices + 12
         02:DD9D  8D 4B 26   			sta.l	_shop_prices + 12
         02:DDA0  8C 4C 26   			sty.h	_shop_prices + 12
20097                        	
20098                        		.dbg	line,	"include\init.c", 1198; shop_prices[7] = *(ptr_SHOP_ITEM_PRICES+7);
20099                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         02:DDA3  AD 74 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         02:DDA6  AC 75 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
20100                        		__add.wi	14
         02:DDA9  18         			clc
         02:DDAA  69 0E      			adc.l	#14
         02:DDAC  90 01      			bcc	!+
         02:DDAE  C8         			iny
         02:DDAF             	!:
20101                        		__st.wm		__ptr
         02:DDAF  85 88      			sta.l	__ptr
         02:DDB1  84 89      			sty.h	__ptr
20102                        		__ld.wp		__ptr
         02:DDB3  A0 01      			ldy	#1
         02:DDB5  B1 88      			lda	[__ptr], y
         02:DDB7  A8         			tay
         02:DDB8  B2 88      			lda	[__ptr]
20103                        		__st.wmq	_shop_prices + 14
         02:DDBA  8D 4D 26   			sta.l	_shop_prices + 14
         02:DDBD  8C 4E 26   			sty.h	_shop_prices + 14
20104                        	
20105                        		.dbg	line,	"include\init.c", 1199; shop_prices[8] = *(ptr_SHOP_ITEM_PRICES+8);
20106                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         02:DDC0  AD 74 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         02:DDC3  AC 75 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
20107                        		__add.wi	16
         02:DDC6  18         			clc
         02:DDC7  69 10      			adc.l	#16
         02:DDC9  90 01      			bcc	!+
         02:DDCB  C8         			iny
         02:DDCC             	!:
20108                        		__st.wm		__ptr
         02:DDCC  85 88      			sta.l	__ptr
         02:DDCE  84 89      			sty.h	__ptr
20109                        		__ld.wp		__ptr
         02:DDD0  A0 01      			ldy	#1
         02:DDD2  B1 88      			lda	[__ptr], y
         02:DDD4  A8         			tay
         02:DDD5  B2 88      			lda	[__ptr]
20110                        		__st.wmq	_shop_prices + 16
         02:DDD7  8D 4F 26   			sta.l	_shop_prices + 16
         02:DDDA  8C 50 26   			sty.h	_shop_prices + 16
20111                        	
20112                        		.dbg	line,	"include\init.c", 1200; shop_prices[9] = *(ptr_SHOP_ITEM_PRICES+9);
20113                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         02:DDDD  AD 74 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         02:DDE0  AC 75 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
20114                        		__add.wi	18
         02:DDE3  18         			clc
         02:DDE4  69 12      			adc.l	#18
         02:DDE6  90 01      			bcc	!+
         02:DDE8  C8         			iny
         02:DDE9             	!:
20115                        		__st.wm		__ptr
         02:DDE9  85 88      			sta.l	__ptr
         02:DDEB  84 89      			sty.h	__ptr
20116                        		__ld.wp		__ptr
         02:DDED  A0 01      			ldy	#1
         02:DDEF  B1 88      			lda	[__ptr], y
         02:DDF1  A8         			tay
         02:DDF2  B2 88      			lda	[__ptr]
20117                        		__st.wmq	_shop_prices + 18
         02:DDF4  8D 51 26   			sta.l	_shop_prices + 18
         02:DDF7  8C 52 26   			sty.h	_shop_prices + 18
20118                        	
20119                        		.dbg	line,	"include\init.c", 1203; put_number(shop_prices[0],4,2,20);
20120                        		__ld.wm		_shop_prices
         02:DDFA  AD 3F 26   			lda.l	_shop_prices
         02:DDFD  AC 40 26   			ldy.h	_shop_prices
20121                        		__st.wmq	_bx
         02:DE00  85 FA      			sta.l	_bx
         02:DE02  84 FB      			sty.h	_bx
20122                        		__st.umiq	4, _cl
         02:DE04  A9 04      			lda.l	#4
         02:DE06  85 FC      			sta	_cl
20123                        		__st.umiq	2, _dil
         02:DE08  A9 02      			lda.l	#2
         02:DE0A  85 F0      			sta	_dil
20124                        		__st.umiq	20, _dih
         02:DE0C  A9 14      			lda.l	#20
         02:DE0E  85 F1      			sta	_dih
20125                        		__call		_put_number.4
         02:DE10  20 6D FF   			call	_put_number.4
20126                        	
20127                        		.dbg	line,	"include\init.c", 1204; put_number(shop_prices[1],4,7,20);
20128                        		__ld.wm		_shop_prices + 2
         02:DE13  AD 41 26   			lda.l	_shop_prices + 2
         02:DE16  AC 42 26   			ldy.h	_shop_prices + 2
20129                        		__st.wmq	_bx
         02:DE19  85 FA      			sta.l	_bx
         02:DE1B  84 FB      			sty.h	_bx
20130                        		__st.umiq	4, _cl
         02:DE1D  A9 04      			lda.l	#4
         02:DE1F  85 FC      			sta	_cl
20131                        		__st.umiq	7, _dil
         02:DE21  A9 07      			lda.l	#7
         02:DE23  85 F0      			sta	_dil
20132                        		__st.umiq	20, _dih
         02:DE25  A9 14      			lda.l	#20
         02:DE27  85 F1      			sta	_dih
20133                        		__call		_put_number.4
         02:DE29  20 6D FF   			call	_put_number.4
20134                        	
20135                        		.dbg	line,	"include\init.c", 1205; put_number(shop_prices[2],4,12,20);
20136                        		__ld.wm		_shop_prices + 4
         02:DE2C  AD 43 26   			lda.l	_shop_prices + 4
         02:DE2F  AC 44 26   			ldy.h	_shop_prices + 4
20137                        		__st.wmq	_bx
         02:DE32  85 FA      			sta.l	_bx
         02:DE34  84 FB      			sty.h	_bx
20138                        		__st.umiq	4, _cl
         02:DE36  A9 04      			lda.l	#4
         02:DE38  85 FC      			sta	_cl
20139                        		__st.umiq	12, _dil
         02:DE3A  A9 0C      			lda.l	#12
         02:DE3C  85 F0      			sta	_dil
20140                        		__st.umiq	20, _dih
         02:DE3E  A9 14      			lda.l	#20
         02:DE40  85 F1      			sta	_dih
20141                        		__call		_put_number.4
         02:DE42  20 6D FF   			call	_put_number.4
20142                        	
20143                        		.dbg	line,	"include\init.c", 1206; put_number(shop_prices[3],4,17,20);
20144                        		__ld.wm		_shop_prices + 6
         02:DE45  AD 45 26   			lda.l	_shop_prices + 6
         02:DE48  AC 46 26   			ldy.h	_shop_prices + 6
20145                        		__st.wmq	_bx
         02:DE4B  85 FA      			sta.l	_bx
         02:DE4D  84 FB      			sty.h	_bx
20146                        		__st.umiq	4, _cl
         02:DE4F  A9 04      			lda.l	#4
         02:DE51  85 FC      			sta	_cl
20147                        		__st.umiq	17, _dil
         02:DE53  A9 11      			lda.l	#17
         02:DE55  85 F0      			sta	_dil
20148                        		__st.umiq	20, _dih
         02:DE57  A9 14      			lda.l	#20
         02:DE59  85 F1      			sta	_dih
20149                        		__call		_put_number.4
         02:DE5B  20 6D FF   			call	_put_number.4
20150                        	
20151                        		.dbg	line,	"include\init.c", 1207; put_number(shop_prices[4],4,22,20);
20152                        		__ld.wm		_shop_prices + 8
         02:DE5E  AD 47 26   			lda.l	_shop_prices + 8
         02:DE61  AC 48 26   			ldy.h	_shop_prices + 8
20153                        		__st.wmq	_bx
         02:DE64  85 FA      			sta.l	_bx
         02:DE66  84 FB      			sty.h	_bx
20154                        		__st.umiq	4, _cl
         02:DE68  A9 04      			lda.l	#4
         02:DE6A  85 FC      			sta	_cl
20155                        		__st.umiq	22, _dil
         02:DE6C  A9 16      			lda.l	#22
         02:DE6E  85 F0      			sta	_dil
20156                        		__st.umiq	20, _dih
         02:DE70  A9 14      			lda.l	#20
         02:DE72  85 F1      			sta	_dih
20157                        		__call		_put_number.4
         02:DE74  20 6D FF   			call	_put_number.4
20158                        	
20159                        		.dbg	line,	"include\init.c", 1209; put_number(shop_prices[5],4,2,23);
20160                        		__ld.wm		_shop_prices + 10
         02:DE77  AD 49 26   			lda.l	_shop_prices + 10
         02:DE7A  AC 4A 26   			ldy.h	_shop_prices + 10
20161                        		__st.wmq	_bx
         02:DE7D  85 FA      			sta.l	_bx
         02:DE7F  84 FB      			sty.h	_bx
20162                        		__st.umiq	4, _cl
         02:DE81  A9 04      			lda.l	#4
         02:DE83  85 FC      			sta	_cl
20163                        		__st.umiq	2, _dil
         02:DE85  A9 02      			lda.l	#2
         02:DE87  85 F0      			sta	_dil
20164                        		__st.umiq	23, _dih
         02:DE89  A9 17      			lda.l	#23
         02:DE8B  85 F1      			sta	_dih
20165                        		__call		_put_number.4
         02:DE8D  20 6D FF   			call	_put_number.4
20166                        	
20167                        		.dbg	line,	"include\init.c", 1210; put_number(shop_prices[6],4,7,23);
20168                        		__ld.wm		_shop_prices + 12
         02:DE90  AD 4B 26   			lda.l	_shop_prices + 12
         02:DE93  AC 4C 26   			ldy.h	_shop_prices + 12
20169                        		__st.wmq	_bx
         02:DE96  85 FA      			sta.l	_bx
         02:DE98  84 FB      			sty.h	_bx
20170                        		__st.umiq	4, _cl
         02:DE9A  A9 04      			lda.l	#4
         02:DE9C  85 FC      			sta	_cl
20171                        		__st.umiq	7, _dil
         02:DE9E  A9 07      			lda.l	#7
         02:DEA0  85 F0      			sta	_dil
20172                        		__st.umiq	23, _dih
         02:DEA2  A9 17      			lda.l	#23
         02:DEA4  85 F1      			sta	_dih
20173                        		__call		_put_number.4
         02:DEA6  20 6D FF   			call	_put_number.4
20174                        	
20175                        		.dbg	line,	"include\init.c", 1211; put_number(shop_prices[7],4,12,23);
20176                        		__ld.wm		_shop_prices + 14
         02:DEA9  AD 4D 26   			lda.l	_shop_prices + 14
         02:DEAC  AC 4E 26   			ldy.h	_shop_prices + 14
20177                        		__st.wmq	_bx
         02:DEAF  85 FA      			sta.l	_bx
         02:DEB1  84 FB      			sty.h	_bx
20178                        		__st.umiq	4, _cl
         02:DEB3  A9 04      			lda.l	#4
         02:DEB5  85 FC      			sta	_cl
20179                        		__st.umiq	12, _dil
         02:DEB7  A9 0C      			lda.l	#12
         02:DEB9  85 F0      			sta	_dil
20180                        		__st.umiq	23, _dih
         02:DEBB  A9 17      			lda.l	#23
         02:DEBD  85 F1      			sta	_dih
20181                        		__call		_put_number.4
         02:DEBF  20 6D FF   			call	_put_number.4
20182                        	
20183                        		.dbg	line,	"include\init.c", 1212; put_number(shop_prices[8],4,17,23);
20184                        		__ld.wm		_shop_prices + 16
         02:DEC2  AD 4F 26   			lda.l	_shop_prices + 16
         02:DEC5  AC 50 26   			ldy.h	_shop_prices + 16
20185                        		__st.wmq	_bx
         02:DEC8  85 FA      			sta.l	_bx
         02:DECA  84 FB      			sty.h	_bx
20186                        		__st.umiq	4, _cl
         02:DECC  A9 04      			lda.l	#4
         02:DECE  85 FC      			sta	_cl
20187                        		__st.umiq	17, _dil
         02:DED0  A9 11      			lda.l	#17
         02:DED2  85 F0      			sta	_dil
20188                        		__st.umiq	23, _dih
         02:DED4  A9 17      			lda.l	#23
         02:DED6  85 F1      			sta	_dih
20189                        		__call		_put_number.4
         02:DED8  20 6D FF   			call	_put_number.4
20190                        	
20191                        		.dbg	line,	"include\init.c", 1213; put_number(shop_prices[9],4,22,23);
20192                        		__ld.wm		_shop_prices + 18
         02:DEDB  AD 51 26   			lda.l	_shop_prices + 18
         02:DEDE  AC 52 26   			ldy.h	_shop_prices + 18
20193                        		__st.wmq	_bx
         02:DEE1  85 FA      			sta.l	_bx
         02:DEE3  84 FB      			sty.h	_bx
20194                        		__st.umiq	4, _cl
         02:DEE5  A9 04      			lda.l	#4
         02:DEE7  85 FC      			sta	_cl
20195                        		__st.umiq	22, _dil
         02:DEE9  A9 16      			lda.l	#22
         02:DEEB  85 F0      			sta	_dil
20196                        		__st.umiq	23, _dih
         02:DEED  A9 17      			lda.l	#23
         02:DEEF  85 F1      			sta	_dih
20197                        		__call		_put_number.4
         02:DEF1  20 6D FF   			call	_put_number.4
20198                        	
20199                        		.dbg	line,	"include\init.c", 1218; //--------------------------------------------------------------------------------------//
20200                        	
20201                        		.dbg	line,	"include\init.c", 1219; //                                   LOAD BG PALETTES                                   //
20202                        	
20203                        		.dbg	line,	"include\init.c", 1220; //--------------------------------------------------------------------------------------//
20204                        	
20205                        		.dbg	line,	"include\init.c", 1222; load_palette( 0, palette_SHOP, 16 );
20206                        		__st.umiq	0, _al
         02:DEF4  64 F8      			stz	_al
20207                        		__farptr	_palette_SHOP, _bp_bank, _bp
         02:DEF6  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_SHOP))
         02:DEF8  85 EC      			sta.l	_bp
         02:DEFA  A9 65      			lda.h	#$6000 + ($1FFF & (_palette_SHOP))
         02:DEFC  85 ED      			sta.h	_bp
         02:DEFE  A9 12      			lda	#bank(_palette_SHOP)
         02:DF00  85 02      			sta	_bp_bank
20208                        		__st.umiq	16, _ah
         02:DF02  A9 10      			lda.l	#16
         02:DF04  85 F9      			sta	_ah
20209                        		__call		_load_palette.3
         02:DF06  20 8B FF   			call	_load_palette.3
20210                        	
20211                        		.dbg	line,	"include\init.c", 1227; //**************************************************************************************//
20212                        	
20213                        		.dbg	line,	"include\init.c", 1228; //                                                                                      //
20214                        	
20215                        		.dbg	line,	"include\init.c", 1229; //                                       SPRITES                                        //
20216                        	
20217                        		.dbg	line,	"include\init.c", 1230; //                                                                                      //
20218                        	
20219                        		.dbg	line,	"include\init.c", 1231; //**************************************************************************************//
20220                        	
20221                        		.dbg	line,	"include\init.c", 1233; //--------------------------------------------------------------------------------------//
20222                        	
20223                        		.dbg	line,	"include\init.c", 1234; //                                   HIDE ALL SPRITES                                   //
20224                        	
20225                        		.dbg	line,	"include\init.c", 1235; //--------------------------------------------------------------------------------------//
20226                        	
20227                        		.dbg	line,	"include\init.c", 1237; for(i=0 ; i<63 ; i++)
20228                        		__st.umiq	0, __init_SHOP_end - 1  /* i */
         02:DF09  9C 12 23   			stz	__init_SHOP_end - 1
20229    02:DF0C             	.LL933:
20230                        		__ld.umq	__init_SHOP_end - 1  /* i */
         02:DF0C  AD 12 23   			lda	__init_SHOP_end - 1
20231                        		__ult_b.uiq	63
         02:DF0F  C9 3F      			cmp	#63		; Subtract integer from A.
         02:DF11  6A         			ror	a		; CC if A < integer.
         02:DF12  49 80      			eor	#$80
         02:DF14  2A         			rol	a
20232                        		__btrue		.LL935
         02:DF15  B0 07      			bcs	.LL935
20233                        		__bra		.LL936
         02:DF17  80 19      			bra	.LL936
20234    02:DF19             	.LL934:
20235                        		__inc.umq	__init_SHOP_end - 1  /* i */
         02:DF19  EE 12 23   			inc	__init_SHOP_end - 1
20236                        		__bra		.LL933
         02:DF1C  80 EE      			bra	.LL933
20237    02:DF1E             	.LL935:
20238                        	
20239                        		.dbg	line,	"include\init.c", 1238; {
20240                        	
20241                        		.dbg	line,	"include\init.c", 1239; spr_set(i);
20242                        		__ld.umq	__init_SHOP_end - 1  /* i */
         02:DF1E  AD 12 23   			lda	__init_SHOP_end - 1
20243                        		__call		_spr_set.1
         02:DF21  20 DD E7   			call	_spr_set.1
20244                        	
20245                        		.dbg	line,	"include\init.c", 1240; spr_hide();
20246                        		__call		_spr_hide
         02:DF24  20 F8 E7   			call	_spr_hide
20247                        	
20248                        		.dbg	line,	"include\init.c", 1242; sgx_spr_set(i);
20249                        		__ld.umq	__init_SHOP_end - 1  /* i */
         02:DF27  AD 12 23   			lda	__init_SHOP_end - 1
20250                        		__call		_sgx_spr_set.1
         02:DF2A  20 8A E8   			call	_sgx_spr_set.1
20251                        	
20252                        		.dbg	line,	"include\init.c", 1243; sgx_spr_hide();
20253                        		__call		_sgx_spr_hide
         02:DF2D  20 A5 E8   			call	_sgx_spr_hide
20254                        	
20255                        		.dbg	line,	"include\init.c", 1244; }
20256                        		__bra		.LL934
         02:DF30  80 E7      			bra	.LL934
20257    02:DF32             	.LL936:
20258                        	
20259                        		.dbg	line,	"include\init.c", 1246; //--------------------------------------------------------------------------------------//
20260                        	
20261                        		.dbg	line,	"include\init.c", 1247; //                                        CURSOR                                        //
20262                        	
20263                        		.dbg	line,	"include\init.c", 1248; //--------------------------------------------------------------------------------------//
20264                        	
20265                        		.dbg	line,	"include\init.c", 1250; // LOAD CURSOR TILES //
20266                        	
20267                        		.dbg	line,	"include\init.c", 1251; load_vram(0x2000, tiles_SPR_CURSOR , TILES_16);
20268                        		__st.wmiq	8192, _di
         02:DF32  64 F0      			stz.l	_di
         02:DF34  A9 20      			lda.h	#8192
         02:DF36  85 F1      			sta.h	_di
20269                        		__farptr	_tiles_SPR_CURSOR, _bp_bank, _bp
         02:DF38  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_CURSOR))
         02:DF3A  85 EC      			sta.l	_bp
         02:DF3C  A9 62      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_CURSOR))
         02:DF3E  85 ED      			sta.h	_bp
         02:DF40  A9 1B      			lda	#bank(_tiles_SPR_CURSOR)
         02:DF42  85 02      			sta	_bp_bank
20270                        		__st.wmiq	256, _ax
         02:DF44  64 F8      			stz.l	_ax
         02:DF46  A9 01      			lda.h	#256
         02:DF48  85 F9      			sta.h	_ax
20271                        		 _load_vram.3
         02:DF4A  82         			clx				; Offset to PCE VDC.
         02:DF4B  20 1D FF   			call	load_vram_x
20272                        	
20273                        		.dbg	line,	"include\init.c", 1254; // SELECT CURSOR SPRITE //
20274                        	
20275                        		.dbg	line,	"include\init.c", 1255; spr_set(0);
20276                        		__ld.uiq	0
         02:DF4E  62         			cla
20277                        		__call		_spr_set.1
         02:DF4F  20 DD E7   			call	_spr_set.1
20278                        	
20279                        		.dbg	line,	"include\init.c", 1256; spr_hide();
20280                        		__call		_spr_hide
         02:DF52  20 F8 E7   			call	_spr_hide
20281                        	
20282                        		.dbg	line,	"include\init.c", 1259; //spr_x(24);
20283                        	
20284                        		.dbg	line,	"include\init.c", 1260; //spr_y(144);
20285                        	
20286                        		.dbg	line,	"include\init.c", 1262; // SET TILES DATA FOR THE CURSOR //
20287                        	
20288                        		.dbg	line,	"include\init.c", 1263; spr_pattern(0x2000);
20289                        		__ld.wi		8192
         02:DF55  62         			cla
         02:DF56  A0 20      			ldy.h	#8192
20290                        		__call		_spr_pattern.1
         02:DF58  20 26 E8   			call	_spr_pattern.1
20291                        	
20292                        		.dbg	line,	"include\init.c", 1266; spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_32x32);
20293                        		__st.umiq	185, _al
         02:DF5B  A9 B9      			lda.l	#185
         02:DF5D  85 F8      			sta	_al
20294                        		__ld.uiq	17
         02:DF5F  A9 11      			lda	#17
20295                        		__call		_spr_ctrl.2
         02:DF61  20 3C E8   			call	_spr_ctrl.2
20296                        	
20297                        		.dbg	line,	"include\init.c", 1269; spr_pal(16);
20298                        		__ld.uiq	16
         02:DF64  A9 10      			lda	#16
20299                        		__call		_spr_pal.1
         02:DF66  20 4D E8   			call	_spr_pal.1
20300                        	
20301                        		.dbg	line,	"include\init.c", 1270; spr_pri(TRUE);
20302                        		__ld.uiq	1
         02:DF69  A9 01      			lda	#1
20303                        		__call		_spr_pri.1
         02:DF6B  20 5C E8   			call	_spr_pri.1
20304                        	
20305                        		.dbg	line,	"include\init.c", 1273; // UPDATE PCE SAT //
20306                        	
20307                        		.dbg	line,	"include\init.c", 1274; satb_update();
20308                        		__call		_satb_update
         02:DF6E  20 EB FE   			call	_satb_update
20309                        	
20310                        		.dbg	line,	"include\init.c", 1275; sgx_satb_update();
20311                        		__call		_sgx_satb_update
         02:DF71  20 E1 FE   			call	_sgx_satb_update
20312                        	
20313                        		.dbg	line,	"include\init.c", 1279; //--------------------------------------------------------------------------------------//
20314                        	
20315                        		.dbg	line,	"include\init.c", 1280; //                                LOAD SPRITES PALETTES                                 //
20316                        	
20317                        		.dbg	line,	"include\init.c", 1281; //--------------------------------------------------------------------------------------//
20318                        	
20319                        		.dbg	line,	"include\init.c", 1283; load_palette( 16, palette_objects_2, 1 );
20320                        		__st.umiq	16, _al
         02:DF74  A9 10      			lda.l	#16
         02:DF76  85 F8      			sta	_al
20321                        		__farptr	_palette_objects_2, _bp_bank, _bp
         02:DF78  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_objects_2))
         02:DF7A  85 EC      			sta.l	_bp
         02:DF7C  A9 74      			lda.h	#$6000 + ($1FFF & (_palette_objects_2))
         02:DF7E  85 ED      			sta.h	_bp
         02:DF80  A9 1A      			lda	#bank(_palette_objects_2)
         02:DF82  85 02      			sta	_bp_bank
20322                        		__st.umiq	1, _ah
         02:DF84  A9 01      			lda.l	#1
         02:DF86  85 F9      			sta	_ah
20323                        		__call		_load_palette.3
         02:DF88  20 8B FF   			call	_load_palette.3
20324                        	
20325                        		.dbg	line,	"include\init.c", 1287; // VSYNC //
20326                        	
20327                        		.dbg	line,	"include\init.c", 1288; vsync();
20328                        		__call		_vsync
         02:DF8B  20 09 E3   			call	_vsync
20329                        	
20330                        		.dbg	line,	"include\init.c", 1290; // ENABLE DISPLAY //
20331                        	
20332                        		.dbg	line,	"include\init.c", 1291; disp_on();
20333                        		__call		_disp_on
         02:DF8E  20 16 E4   			call	_disp_on
20334                        	
20335                        		.dbg	line,	"include\init.c", 1292; }
20336    02:DF91             	.LL927:
20337                        		__return	0
         02:DF91  4C EF FF   			jmp	leave_proc
20338                        		.dbg	clear
20339                        		.endp
20340               6B40     		.data
20341               2311     		.bss
20342    F8:2311             	__init_SHOP_loc:
20343    F8:2311             			ds	2
20344    F8:2313             	__init_SHOP_end:
20345               E309     		.code
20346                        		.pceas
20347                        	
20348                        		.dbg	line,	"main.c", 36; main()
20349                        		.dbg	line,	"main.c", 37; {
20350                        	;***********************
20351                        	;***********************
20352                        	
20353                        		.hucc
20354    1E:D6C9             		.proc		_main
20355                        		__enter		_main
20356                        	
20357                        		.dbg	line,	"main.c", 38; if(!sgx_detect())
20358                        		 _sgx_detect
         1E:D6C9  AD E8 22   			lda	sgx_detected
         1E:D6CC  C2         			cly
20359                        		__not.wr
         1E:D6CD  84 00      			sty	__temp
         1E:D6CF  05 00      			ora	__temp
         1E:D6D1  18         			clc
         1E:D6D2  D0 01      			bne	!+
         1E:D6D4  38         			sec
         1E:D6D5             	!:
20360                        		__bfalse	.LL938
         1E:D6D5  90 15      			bcc	.LL938
20361                        	
20362                        		.dbg	line,	"main.c", 39; {
20363                        	
20364                        		.dbg	line,	"main.c", 40; put_string("Halt: SGX hardware not found", 2, 13);
20365                        		__ld.wi		__const1+36
         1E:D6D7  A9 24      			lda.l	#__const1+36
         1E:D6D9  A0 60      			ldy.h	#__const1+36
20366                        		__st.wmq	_bp
         1E:D6DB  85 EC      			sta.l	_bp
         1E:D6DD  84 ED      			sty.h	_bp
20367                        		__st.umiq	2, _dil
         1E:D6DF  A9 02      			lda.l	#2
         1E:D6E1  85 F0      			sta	_dil
20368                        		__st.umiq	13, _dih
         1E:D6E3  A9 0D      			lda.l	#13
         1E:D6E5  85 F1      			sta	_dih
20369                        		__call		_put_string.3
         1E:D6E7  20 68 E6   			call	_put_string.3
20370                        	
20371                        		.dbg	line,	"main.c", 42; for(;;)
20372    1E:D6EA             	.LL939	.alias		.LL941
20373    1E:D6EA             	.LL940	.alias		.LL941
20374    1E:D6EA             	.LL941:
20375                        	
20376                        		.dbg	line,	"main.c", 43; {
20377                        	
20378                        		.dbg	line,	"main.c", 44; // INFINITE LOOP //
20379                        	
20380                        		.dbg	line,	"main.c", 45; }
20381                        		__bra		.LL941
         1E:D6EA  80 FE      			bra	.LL941
20382    1E:D6EC             	.LL942:
20383                        	
20384                        		.dbg	line,	"main.c", 46; }
20385                        	
20386                        		.dbg	line,	"main.c", 51; init_SYSTEM();
20387    1E:D6EC             	.LL938:
20388                        		__call		_init_SYSTEM
         1E:D6EC  20 37 FE   			call	_init_SYSTEM
20389                        	
20390                        		.dbg	line,	"main.c", 52; 
20391                        	
20392                        		.dbg	line,	"main.c", 53; 
20393                        	
20394                        		.dbg	line,	"main.c", 54; init_VARIABLES();
20395                        		__call		_init_VARIABLES
         1E:D6EF  20 2D FE   			call	_init_VARIABLES
20396                        	
20397                        		.dbg	line,	"main.c", 57; init_PLAYER();
20398                        		__call		_init_PLAYER
         1E:D6F2  20 23 FE   			call	_init_PLAYER
20399                        	
20400                        		.dbg	line,	"main.c", 62; //**************************************************************************************//
20401                        	
20402                        		.dbg	line,	"main.c", 63; //                                                                                      //
20403                        	
20404                        		.dbg	line,	"main.c", 64; //                                         MAIN                                         //
20405                        	
20406                        		.dbg	line,	"main.c", 65; //                                                                                      //
20407                        	
20408                        		.dbg	line,	"main.c", 66; //**************************************************************************************//
20409                        	
20410                        		.dbg	line,	"main.c", 67; for(;;)
20411    1E:D6F5             	.LL943:
20412    1E:D6F5             	.LL944:
20413    1E:D6F5             	.LL945:
20414                        	
20415                        		.dbg	line,	"main.c", 68; {
20416                        	
20417                        		.dbg	line,	"main.c", 69; switch(sequence_id)
20418                        		__ld.umq	_sequence_id
         1E:D6F5  AD 13 23   			lda	_sequence_id
20419                        		__bra		.LL947
         1E:D6F8  4C C6 D8   			bra	.LL947
20420                        	
20421                        		.dbg	line,	"main.c", 70; {
20422                        	
20423                        		.dbg	line,	"main.c", 71; //-----------------------------------------------------------------------------//
20424                        	
20425                        		.dbg	line,	"main.c", 72; //                                    TITLE                                    //
20426                        	
20427                        		.dbg	line,	"main.c", 73; //-----------------------------------------------------------------------------//
20428                        	
20429                        		.dbg	line,	"main.c", 74; case SEQUENCE_TITLE:
20430    1E:D6FB             	.LL949:
20431                        		__case		0
20432                        	
20433                        		.dbg	line,	"main.c", 75; if(sequence_loaded == FALSE)
20434                        		__not.um	_sequence_loaded
         1E:D6FB  AD 14 23   			lda	_sequence_loaded
         1E:D6FE  18         			clc
         1E:D6FF  D0 01      			bne	!+
         1E:D701  38         			sec
         1E:D702             	!:
20435                        		__bfalse	.LL950
         1E:D702  90 0A      			bcc	.LL950
20436                        	
20437                        		.dbg	line,	"main.c", 76; {
20438                        	
20439                        		.dbg	line,	"main.c", 77; init_TITLE();
20440                        		__call		_init_TITLE
         1E:D704  20 19 FE   			call	_init_TITLE
20441                        	
20442                        		.dbg	line,	"main.c", 79; sequence_loaded = TRUE;
20443                        		__st.umiq	1, _sequence_loaded
         1E:D707  A9 01      			lda.l	#1
         1E:D709  8D 14 23   			sta	_sequence_loaded
20444                        	
20445                        		.dbg	line,	"main.c", 80; }
20446                        	
20447                        		.dbg	line,	"main.c", 82; else
20448                        		__bra		.LL951
         1E:D70C  80 E7      			bra	.LL951
20449    1E:D70E             	.LL950:
20450                        	
20451                        		.dbg	line,	"main.c", 83; {
20452                        	
20453                        		.dbg	line,	"main.c", 84; vsync();
20454                        		__call		_vsync
         1E:D70E  20 09 E3   			call	_vsync
20455                        	
20456                        		.dbg	line,	"main.c", 86; joypad_BUTTONS_TITLE();
20457                        		__call		_joypad_BUTTONS_TITLE
         1E:D711  20 0F FE   			call	_joypad_BUTTONS_TITLE
20458                        	
20459                        		.dbg	line,	"main.c", 87; 
20460                        	
20461                        		.dbg	line,	"main.c", 88; satb_update();
20462                        		__call		_satb_update
         1E:D714  20 EB FE   			call	_satb_update
20463                        	
20464                        		.dbg	line,	"main.c", 89; }
20465    1E:D717             	.LL951	.alias		.LL948
20466                        	
20467                        		.dbg	line,	"main.c", 91; break;
20468                        		__bra		.LL948
         1E:D717  80 DC      			bra	.LL948
20469                        	
20470                        		.dbg	line,	"main.c", 94; //-----------------------------------------------------------------------------//
20471                        	
20472                        		.dbg	line,	"main.c", 95; //                                    INTRO                                    //
20473                        	
20474                        		.dbg	line,	"main.c", 96; //-----------------------------------------------------------------------------//
20475                        	
20476                        		.dbg	line,	"main.c", 97; case SEQUENCE_INTRO:
20477    1E:D719             	.LL952:
20478                        		__case		1
20479                        	
20480                        		.dbg	line,	"main.c", 98; if(sequence_loaded == FALSE)
20481                        		__not.um	_sequence_loaded
         1E:D719  AD 14 23   			lda	_sequence_loaded
         1E:D71C  18         			clc
         1E:D71D  D0 01      			bne	!+
         1E:D71F  38         			sec
         1E:D720             	!:
20482                        		__bfalse	.LL953
         1E:D720  90 0A      			bcc	.LL953
20483                        	
20484                        		.dbg	line,	"main.c", 99; {
20485                        	
20486                        		.dbg	line,	"main.c", 100; init_INTRO();
20487                        		__call		_init_INTRO
         1E:D722  20 05 FE   			call	_init_INTRO
20488                        	
20489                        		.dbg	line,	"main.c", 102; sequence_loaded = TRUE;
20490                        		__st.umiq	1, _sequence_loaded
         1E:D725  A9 01      			lda.l	#1
         1E:D727  8D 14 23   			sta	_sequence_loaded
20491                        	
20492                        		.dbg	line,	"main.c", 103; }
20493                        	
20494                        		.dbg	line,	"main.c", 105; else
20495                        		__bra		.LL954
         1E:D72A  80 C9      			bra	.LL954
20496    1E:D72C             	.LL953:
20497                        	
20498                        		.dbg	line,	"main.c", 106; {
20499                        	
20500                        		.dbg	line,	"main.c", 107; vsync();
20501                        		__call		_vsync
         1E:D72C  20 09 E3   			call	_vsync
20502                        	
20503                        		.dbg	line,	"main.c", 109; //put_number(vdc_map_pxl_x,3,0,0);
20504                        	
20505                        		.dbg	line,	"main.c", 110; sequence_INTRO();
20506                        		__call		_sequence_INTRO
         1E:D72F  20 FB FD   			call	_sequence_INTRO
20507                        	
20508                        		.dbg	line,	"main.c", 111; 
20509                        	
20510                        		.dbg	line,	"main.c", 112; joypad_BUTTONS_INTRO();
20511                        		__call		_joypad_BUTTONS_INTRO
         1E:D732  20 F1 FD   			call	_joypad_BUTTONS_INTRO
20512                        	
20513                        		.dbg	line,	"main.c", 114; sgx_satb_update();
20514                        		__call		_sgx_satb_update
         1E:D735  20 E1 FE   			call	_sgx_satb_update
20515                        	
20516                        		.dbg	line,	"main.c", 115; }
20517    1E:D738             	.LL954	.alias		.LL948
20518                        	
20519                        		.dbg	line,	"main.c", 117; break;
20520                        		__bra		.LL948
         1E:D738  80 BB      			bra	.LL948
20521                        	
20522                        		.dbg	line,	"main.c", 120; //-----------------------------------------------------------------------------//
20523                        	
20524                        		.dbg	line,	"main.c", 121; //                                    GAME                                     //
20525                        	
20526                        		.dbg	line,	"main.c", 122; //-----------------------------------------------------------------------------//
20527                        	
20528                        		.dbg	line,	"main.c", 123; case SEQUENCE_GAME:
20529    1E:D73A             	.LL955:
20530                        		__case		2
20531                        	
20532                        		.dbg	line,	"main.c", 124; if(sequence_loaded == FALSE)
20533                        		__not.um	_sequence_loaded
         1E:D73A  AD 14 23   			lda	_sequence_loaded
         1E:D73D  18         			clc
         1E:D73E  D0 01      			bne	!+
         1E:D740  38         			sec
         1E:D741             	!:
20534                        		__bfalse	.LL956
         1E:D741  90 0A      			bcc	.LL956
20535                        	
20536                        		.dbg	line,	"main.c", 125; {
20537                        	
20538                        		.dbg	line,	"main.c", 126; init_LEVEL();
20539                        		__call		_init_LEVEL
         1E:D743  20 E7 FD   			call	_init_LEVEL
20540                        	
20541                        		.dbg	line,	"main.c", 128; sequence_loaded = TRUE;
20542                        		__st.umiq	1, _sequence_loaded
         1E:D746  A9 01      			lda.l	#1
         1E:D748  8D 14 23   			sta	_sequence_loaded
20543                        	
20544                        		.dbg	line,	"main.c", 129; }
20545                        	
20546                        		.dbg	line,	"main.c", 131; else
20547                        		__bra		.LL957
         1E:D74B  80 A8      			bra	.LL957
20548    1E:D74D             	.LL956:
20549                        	
20550                        		.dbg	line,	"main.c", 132; {
20551                        	
20552                        		.dbg	line,	"main.c", 133; switch(level_id)
20553                        		__ld.umq	_level_id
         1E:D74D  AD 15 23   			lda	_level_id
20554                        		__bra		.LL958
         1E:D750  80 45      			bra	.LL958
20555                        	
20556                        		.dbg	line,	"main.c", 134; {
20557                        	
20558                        		.dbg	line,	"main.c", 135; case 1:
20559    1E:D752             	.LL960:
20560                        		__case		1
20561                        	
20562                        		.dbg	line,	"main.c", 136; vsync();
20563                        		__call		_vsync
         1E:D752  20 09 E3   			call	_vsync
20564                        	
20565                        		.dbg	line,	"main.c", 138; update_PLAYER();
20566                        		__call		_update_PLAYER
         1E:D755  20 DD FD   			call	_update_PLAYER
20567                        	
20568                        		.dbg	line,	"main.c", 139; update_WEAPON();
20569                        		__call		_update_WEAPON
         1E:D758  20 D3 FD   			call	_update_WEAPON
20570                        	
20571                        		.dbg	line,	"main.c", 140; //put_number(hit_wall,1,0,1);
20572                        	
20573                        		.dbg	line,	"main.c", 143; scroll_object();
20574                        		__call		_scroll_object
         1E:D75B  20 87 FE   			call	_scroll_object
20575                        	
20576                        		.dbg	line,	"main.c", 144; scroll_chest();
20577                        		__call		_scroll_chest
         1E:D75E  20 69 FE   			call	_scroll_chest
20578                        	
20579                        		.dbg	line,	"main.c", 145; scroll_npc();
20580                        		__call		_scroll_npc
         1E:D761  20 C9 FD   			call	_scroll_npc
20581                        	
20582                        		.dbg	line,	"main.c", 147; check_OBJECT();
20583                        		__call		_check_OBJECT
         1E:D764  20 BF FD   			call	_check_OBJECT
20584                        	
20585                        		.dbg	line,	"main.c", 148; check_NPC();
20586                        		__call		_check_NPC
         1E:D767  20 B5 FD   			call	_check_NPC
20587                        	
20588                        		.dbg	line,	"main.c", 150; display_TIME_LEVEL();
20589                        		__call		_display_TIME_LEVEL
         1E:D76A  20 B9 FE   			call	_display_TIME_LEVEL
20590                        	
20591                        		.dbg	line,	"main.c", 152; satb_update();
20592                        		__call		_satb_update
         1E:D76D  20 EB FE   			call	_satb_update
20593                        	
20594                        		.dbg	line,	"main.c", 153; sgx_satb_update();
20595                        		__call		_sgx_satb_update
         1E:D770  20 E1 FE   			call	_sgx_satb_update
20596                        	
20597                        		.dbg	line,	"main.c", 155; scroll_BG();
20598                        		__call		_scroll_BG
         1E:D773  20 AB FD   			call	_scroll_BG
20599                        	
20600                        		.dbg	line,	"main.c", 157; joypad_DIR();
20601                        		__call		_joypad_DIR
         1E:D776  20 A1 FD   			call	_joypad_DIR
20602                        	
20603                        		.dbg	line,	"main.c", 158; joypad_BUTTONS();
20604                        		__call		_joypad_BUTTONS
         1E:D779  20 97 FD   			call	_joypad_BUTTONS
20605                        	
20606                        		.dbg	line,	"main.c", 160; break;
20607                        		__bra		.LL959
         1E:D77C  4C F5 D6   			bra	.LL959
20608                        	
20609                        		.dbg	line,	"main.c", 163; case 2:
20610    1E:D77F             	.LL961:
20611                        		__case		2
20612                        	
20613                        		.dbg	line,	"main.c", 164; vsync();
20614                        		__call		_vsync
         1E:D77F  20 09 E3   			call	_vsync
20615                        	
20616                        		.dbg	line,	"main.c", 165; break;
20617                        		__bra		.LL959
         1E:D782  4C F5 D6   			bra	.LL959
20618                        	
20619                        		.dbg	line,	"main.c", 168; case 3:
20620    1E:D785             	.LL962:
20621                        		__case		3
20622                        	
20623                        		.dbg	line,	"main.c", 169; vsync();
20624                        		__call		_vsync
         1E:D785  20 09 E3   			call	_vsync
20625                        	
20626                        		.dbg	line,	"main.c", 170; break;
20627                        		__bra		.LL959
         1E:D788  4C F5 D6   			bra	.LL959
20628                        	
20629                        		.dbg	line,	"main.c", 173; case 4:
20630    1E:D78B             	.LL963:
20631                        		__case		4
20632                        	
20633                        		.dbg	line,	"main.c", 174; vsync();
20634                        		__call		_vsync
         1E:D78B  20 09 E3   			call	_vsync
20635                        	
20636                        		.dbg	line,	"main.c", 175; break;
20637                        		__bra		.LL959
         1E:D78E  4C F5 D6   			bra	.LL959
20638                        	
20639                        		.dbg	line,	"main.c", 178; case 5:
20640    1E:D791             	.LL964:
20641                        		__case		5
20642                        	
20643                        		.dbg	line,	"main.c", 179; vsync();
20644                        		__call		_vsync
         1E:D791  20 09 E3   			call	_vsync
20645                        	
20646                        		.dbg	line,	"main.c", 180; break;
20647                        		__bra		.LL959
         1E:D794  4C F5 D6   			bra	.LL959
20648                        	
20649                        		.dbg	line,	"main.c", 182; }
20650    1E:D797             	.LL958:
20651                        		__switch_r.ur	0, 5
         1E:D797  C9 06      			cmp	#(5 - 0) + 1
         1E:D799  90 02      			bcc	!found+
         1E:D79B  A9 06      	!default:	lda	#(5 - 0) + 1
         1E:D79D  0A         	!found:		asl	a
         1E:D79E  AA         			tax
         1E:D79F  7C A2 D7   			jmp	[!table+, x]
20652                        	
20653    1E:D7A2  F5 D6      	!table:		dw	.LL959, .LL960, .LL961, .LL962, .LL963, .LL964
         1E:D7A4  52 D7       
         1E:D7A6  7F D7       
         1E:D7A8  85 D7       
         1E:D7AA  8B D7       
         1E:D7AC  91 D7       
20654    1E:D7AE  F5 D6      			dw	.LL959
20655    1E:D7B0             	.LL959	.alias		.LL948
20656                        	
20657                        		.dbg	line,	"main.c", 183; }
20658    1E:D7B0             	.LL957	.alias		.LL948
20659                        	
20660                        		.dbg	line,	"main.c", 185; break;
20661                        		__bra		.LL948
         1E:D7B0  4C F5 D6   			bra	.LL948
20662                        	
20663                        		.dbg	line,	"main.c", 188; //-----------------------------------------------------------------------------//
20664                        	
20665                        		.dbg	line,	"main.c", 189; //                                     NPC                                     //
20666                        	
20667                        		.dbg	line,	"main.c", 190; //-----------------------------------------------------------------------------//
20668                        	
20669                        		.dbg	line,	"main.c", 191; case SEQUENCE_NPC:
20670    1E:D7B3             	.LL965:
20671                        		__case		3
20672                        	
20673                        		.dbg	line,	"main.c", 192; break;
20674                        		__bra		.LL948
         1E:D7B3  4C F5 D6   			bra	.LL948
20675                        	
20676                        		.dbg	line,	"main.c", 195; //-----------------------------------------------------------------------------//
20677                        	
20678                        		.dbg	line,	"main.c", 196; //                                    SHOP                                     //
20679                        	
20680                        		.dbg	line,	"main.c", 197; //-----------------------------------------------------------------------------//
20681                        	
20682                        		.dbg	line,	"main.c", 198; case SEQUENCE_SHOP:
20683    1E:D7B6             	.LL966:
20684                        		__case		4
20685                        	
20686                        		.dbg	line,	"main.c", 199; if(sequence_loaded == FALSE)
20687                        		__not.um	_sequence_loaded
         1E:D7B6  AD 14 23   			lda	_sequence_loaded
         1E:D7B9  18         			clc
         1E:D7BA  D0 01      			bne	!+
         1E:D7BC  38         			sec
         1E:D7BD             	!:
20688                        		__bfalse	.LL967
         1E:D7BD  90 0B      			bcc	.LL967
20689                        	
20690                        		.dbg	line,	"main.c", 200; {
20691                        	
20692                        		.dbg	line,	"main.c", 201; init_SHOP();
20693                        		__call		_init_SHOP
         1E:D7BF  20 8D FD   			call	_init_SHOP
20694                        	
20695                        		.dbg	line,	"main.c", 203; sequence_loaded = TRUE;
20696                        		__st.umiq	1, _sequence_loaded
         1E:D7C2  A9 01      			lda.l	#1
         1E:D7C4  8D 14 23   			sta	_sequence_loaded
20697                        	
20698                        		.dbg	line,	"main.c", 204; }
20699                        	
20700                        		.dbg	line,	"main.c", 205; 
20701                        	
20702                        		.dbg	line,	"main.c", 206; else
20703                        		__bra		.LL968
         1E:D7C7  4C F5 D6   			bra	.LL968
20704    1E:D7CA             	.LL967:
20705                        	
20706                        		.dbg	line,	"main.c", 207; {
20707                        	
20708                        		.dbg	line,	"main.c", 208; switch(shop_phase)
20709                        		__ld.umq	_shop_phase
         1E:D7CA  AD D8 23   			lda	_shop_phase
20710                        		__bra		.LL969
         1E:D7CD  4C B0 D8   			bra	.LL969
20711                        	
20712                        		.dbg	line,	"main.c", 209; {
20713                        	
20714                        		.dbg	line,	"main.c", 210; case SHOP_PHASE_ENTER:
20715    1E:D7D0             	.LL971:
20716                        		__case		0
20717                        	
20718                        		.dbg	line,	"main.c", 211; vsync();
20719                        		__call		_vsync
         1E:D7D0  20 09 E3   			call	_vsync
20720                        	
20721                        		.dbg	line,	"main.c", 213; if(shop_counter == 0)
20722                        		__not.um	_shop_counter
         1E:D7D3  AD D9 23   			lda	_shop_counter
         1E:D7D6  18         			clc
         1E:D7D7  D0 01      			bne	!+
         1E:D7D9  38         			sec
         1E:D7DA             	!:
20723                        		__bfalse	.LL972
         1E:D7DA  90 28      			bcc	.LL972
20724                        	
20725                        		.dbg	line,	"main.c", 214; {
20726                        	
20727                        		.dbg	line,	"main.c", 215; put_string("Maybe, i can sell you" ,  2 , 15);
20728                        		__ld.wi		__const1+65
         1E:D7DC  A9 41      			lda.l	#__const1+65
         1E:D7DE  A0 60      			ldy.h	#__const1+65
20729                        		__st.wmq	_bp
         1E:D7E0  85 EC      			sta.l	_bp
         1E:D7E2  84 ED      			sty.h	_bp
20730                        		__st.umiq	2, _dil
         1E:D7E4  A9 02      			lda.l	#2
         1E:D7E6  85 F0      			sta	_dil
20731                        		__st.umiq	15, _dih
         1E:D7E8  A9 0F      			lda.l	#15
         1E:D7EA  85 F1      			sta	_dih
20732                        		__call		_put_string.3
         1E:D7EC  20 68 E6   			call	_put_string.3
20733                        	
20734                        		.dbg	line,	"main.c", 216; put_string("something..." , 18 , 16);
20735                        		__ld.wi		__const1+87
         1E:D7EF  A9 57      			lda.l	#__const1+87
         1E:D7F1  A0 60      			ldy.h	#__const1+87
20736                        		__st.wmq	_bp
         1E:D7F3  85 EC      			sta.l	_bp
         1E:D7F5  84 ED      			sty.h	_bp
20737                        		__st.umiq	18, _dil
         1E:D7F7  A9 12      			lda.l	#18
         1E:D7F9  85 F0      			sta	_dil
20738                        		__st.umiq	16, _dih
         1E:D7FB  A9 10      			lda.l	#16
         1E:D7FD  85 F1      			sta	_dih
20739                        		__call		_put_string.3
         1E:D7FF  20 68 E6   			call	_put_string.3
20740                        	
20741                        		.dbg	line,	"main.c", 217; }
20742                        	
20743                        		.dbg	line,	"main.c", 219; else if(shop_counter == 120)
20744                        		__bra		.LL973
         1E:D802  80 44      			bra	.LL973
20745    1E:D804             	.LL972:
20746                        		__ld.umq	_shop_counter
         1E:D804  AD D9 23   			lda	_shop_counter
20747                        		__equ_b.uiq	120
         1E:D807  C9 78      			cmp	#120
         1E:D809  F0 01      			beq	!+
         1E:D80B  18         			clc
         1E:D80C             	!:
20748                        		__bfalse	.LL974
         1E:D80C  90 3A      			bcc	.LL974
20749                        	
20750                        		.dbg	line,	"main.c", 220; {
20751                        	
20752                        		.dbg	line,	"main.c", 221; put_string("                     " ,  2 , 15);
20753                        		__ld.wi		__const1+100
         1E:D80E  A9 64      			lda.l	#__const1+100
         1E:D810  A0 60      			ldy.h	#__const1+100
20754                        		__st.wmq	_bp
         1E:D812  85 EC      			sta.l	_bp
         1E:D814  84 ED      			sty.h	_bp
20755                        		__st.umiq	2, _dil
         1E:D816  A9 02      			lda.l	#2
         1E:D818  85 F0      			sta	_dil
20756                        		__st.umiq	15, _dih
         1E:D81A  A9 0F      			lda.l	#15
         1E:D81C  85 F1      			sta	_dih
20757                        		__call		_put_string.3
         1E:D81E  20 68 E6   			call	_put_string.3
20758                        	
20759                        		.dbg	line,	"main.c", 222; put_string("            " , 18 , 16);
20760                        		__ld.wi		__const1+122
         1E:D821  A9 7A      			lda.l	#__const1+122
         1E:D823  A0 60      			ldy.h	#__const1+122
20761                        		__st.wmq	_bp
         1E:D825  85 EC      			sta.l	_bp
         1E:D827  84 ED      			sty.h	_bp
20762                        		__st.umiq	18, _dil
         1E:D829  A9 12      			lda.l	#18
         1E:D82B  85 F0      			sta	_dil
20763                        		__st.umiq	16, _dih
         1E:D82D  A9 10      			lda.l	#16
         1E:D82F  85 F1      			sta	_dih
20764                        		__call		_put_string.3
         1E:D831  20 68 E6   			call	_put_string.3
20765                        	
20766                        		.dbg	line,	"main.c", 224; spr_x(24);
20767                        		__ld.wi		24
         1E:D834  A9 18      			lda.l	#24
         1E:D836  C2         			cly
20768                        		__call		_spr_x.1
         1E:D837  20 0A E8   			call	_spr_x.1
20769                        	
20770                        		.dbg	line,	"main.c", 225; spr_y(144);
20771                        		__ld.wi		144
         1E:D83A  A9 90      			lda.l	#144
         1E:D83C  C2         			cly
20772                        		__call		_spr_y.1
         1E:D83D  20 19 E8   			call	_spr_y.1
20773                        	
20774                        		.dbg	line,	"main.c", 226; satb_update();
20775                        		__call		_satb_update
         1E:D840  20 EB FE   			call	_satb_update
20776                        	
20777                        		.dbg	line,	"main.c", 228; shop_phase = SHOP_PHASE_BUY;
20778                        		__st.umiq	1, _shop_phase
         1E:D843  A9 01      			lda.l	#1
         1E:D845  8D D8 23   			sta	_shop_phase
20779                        	
20780                        		.dbg	line,	"main.c", 229; }
20781                        	
20782                        		.dbg	line,	"main.c", 231; shop_counter++;
20783    1E:D848             	.LL974:
20784    1E:D848             	.LL973:
20785                        		__inc.umq	_shop_counter
         1E:D848  EE D9 23   			inc	_shop_counter
20786                        	
20787                        		.dbg	line,	"main.c", 233; break;
20788                        		__bra		.LL970
         1E:D84B  4C F5 D6   			bra	.LL970
20789                        	
20790                        		.dbg	line,	"main.c", 234; 
20791                        	
20792                        		.dbg	line,	"main.c", 236; case SHOP_PHASE_BUY:
20793    1E:D84E             	.LL975:
20794                        		__case		1
20795                        	
20796                        		.dbg	line,	"main.c", 237; vsync();
20797                        		__call		_vsync
         1E:D84E  20 09 E3   			call	_vsync
20798                        	
20799                        		.dbg	line,	"main.c", 239; joypad_BUTTONS_SHOP();
20800                        		__call		_joypad_BUTTONS_SHOP
         1E:D851  20 83 FD   			call	_joypad_BUTTONS_SHOP
20801                        	
20802                        		.dbg	line,	"main.c", 240; display_TIME_SHOP();
20803                        		__call		_display_TIME_SHOP
         1E:D854  20 79 FD   			call	_display_TIME_SHOP
20804                        	
20805                        		.dbg	line,	"main.c", 241; satb_update();
20806                        		__call		_satb_update
         1E:D857  20 EB FE   			call	_satb_update
20807                        	
20808                        		.dbg	line,	"main.c", 243; break;
20809                        		__bra		.LL970
         1E:D85A  4C F5 D6   			bra	.LL970
20810                        	
20811                        		.dbg	line,	"main.c", 246; case SHOP_PHASE_EXIT:
20812    1E:D85D             	.LL976:
20813                        		__case		2
20814                        	
20815                        		.dbg	line,	"main.c", 247; vsync();
20816                        		__call		_vsync
         1E:D85D  20 09 E3   			call	_vsync
20817                        	
20818                        		.dbg	line,	"main.c", 249; if(shop_counter == 0)
20819                        		__not.um	_shop_counter
         1E:D860  AD D9 23   			lda	_shop_counter
         1E:D863  18         			clc
         1E:D864  D0 01      			bne	!+
         1E:D866  38         			sec
         1E:D867             	!:
20820                        		__bfalse	.LL977
         1E:D867  90 1F      			bcc	.LL977
20821                        	
20822                        		.dbg	line,	"main.c", 250; {
20823                        	
20824                        		.dbg	line,	"main.c", 251; put_string("GOOD LUCK!" , 11 , 16);
20825                        		__ld.wi		__const1+135
         1E:D869  A9 87      			lda.l	#__const1+135
         1E:D86B  A0 60      			ldy.h	#__const1+135
20826                        		__st.wmq	_bp
         1E:D86D  85 EC      			sta.l	_bp
         1E:D86F  84 ED      			sty.h	_bp
20827                        		__st.umiq	11, _dil
         1E:D871  A9 0B      			lda.l	#11
         1E:D873  85 F0      			sta	_dil
20828                        		__st.umiq	16, _dih
         1E:D875  A9 10      			lda.l	#16
         1E:D877  85 F1      			sta	_dih
20829                        		__call		_put_string.3
         1E:D879  20 68 E6   			call	_put_string.3
20830                        	
20831                        		.dbg	line,	"main.c", 253; // HIDE CURSOR //
20832                        	
20833                        		.dbg	line,	"main.c", 254; spr_set(0);
20834                        		__ld.uiq	0
         1E:D87C  62         			cla
20835                        		__call		_spr_set.1
         1E:D87D  20 DD E7   			call	_spr_set.1
20836                        	
20837                        		.dbg	line,	"main.c", 255; spr_hide();
20838                        		__call		_spr_hide
         1E:D880  20 F8 E7   			call	_spr_hide
20839                        	
20840                        		.dbg	line,	"main.c", 256; satb_update();
20841                        		__call		_satb_update
         1E:D883  20 EB FE   			call	_satb_update
20842                        	
20843                        		.dbg	line,	"main.c", 257; }
20844                        	
20845                        		.dbg	line,	"main.c", 259; else if(shop_counter == 120)
20846                        		__bra		.LL978
         1E:D886  80 22      			bra	.LL978
20847    1E:D888             	.LL977:
20848                        		__ld.umq	_shop_counter
         1E:D888  AD D9 23   			lda	_shop_counter
20849                        		__equ_b.uiq	120
         1E:D88B  C9 78      			cmp	#120
         1E:D88D  F0 01      			beq	!+
         1E:D88F  18         			clc
         1E:D890             	!:
20850                        		__bfalse	.LL979
         1E:D890  90 18      			bcc	.LL979
20851                        	
20852                        		.dbg	line,	"main.c", 260; {
20853                        	
20854                        		.dbg	line,	"main.c", 261; disp_off();
20855                        		__call		_disp_off
         1E:D892  20 29 E4   			call	_disp_off
20856                        	
20857                        		.dbg	line,	"main.c", 263; // REINIT PLAYER //
20858                        	
20859                        		.dbg	line,	"main.c", 264; init_PLAYER();
20860                        		__call		_init_PLAYER
         1E:D895  20 23 FE   			call	_init_PLAYER
20861                        	
20862                        		.dbg	line,	"main.c", 266; shop_phase = SHOP_PHASE_EXIT;
20863                        		__st.umiq	2, _shop_phase
         1E:D898  A9 02      			lda.l	#2
         1E:D89A  8D D8 23   			sta	_shop_phase
20864                        	
20865                        		.dbg	line,	"main.c", 267; respawn = RESPAWN_SHOP;
20866                        		__st.umiq	2, _respawn
         1E:D89D  A9 02      			lda.l	#2
         1E:D89F  8D 16 23   			sta	_respawn
20867                        	
20868                        		.dbg	line,	"main.c", 268; sequence_loaded = FALSE;
20869                        		__st.umiq	0, _sequence_loaded
         1E:D8A2  9C 14 23   			stz	_sequence_loaded
20870                        	
20871                        		.dbg	line,	"main.c", 269; sequence_id = SEQUENCE_GAME;
20872                        		__st.umiq	2, _sequence_id
         1E:D8A5  A9 02      			lda.l	#2
         1E:D8A7  8D 13 23   			sta	_sequence_id
20873                        	
20874                        		.dbg	line,	"main.c", 270; }
20875                        	
20876                        		.dbg	line,	"main.c", 272; shop_counter++;
20877    1E:D8AA             	.LL979:
20878    1E:D8AA             	.LL978:
20879                        		__inc.umq	_shop_counter
         1E:D8AA  EE D9 23   			inc	_shop_counter
20880                        	
20881                        		.dbg	line,	"main.c", 274; break;
20882                        		__bra		.LL970
         1E:D8AD  4C F5 D6   			bra	.LL970
20883                        	
20884                        		.dbg	line,	"main.c", 275; }
20885    1E:D8B0             	.LL969:
20886                        		__switch_r.ur	0, 2
         1E:D8B0  C9 03      			cmp	#(2 - 0) + 1
         1E:D8B2  90 02      			bcc	!found+
         1E:D8B4  A9 03      	!default:	lda	#(2 - 0) + 1
         1E:D8B6  0A         	!found:		asl	a
         1E:D8B7  AA         			tax
         1E:D8B8  7C BB D8   			jmp	[!table+, x]
20887                        	
20888    1E:D8BB  D0 D7      	!table:		dw	.LL971, .LL975, .LL976
         1E:D8BD  4E D8       
         1E:D8BF  5D D8       
20889    1E:D8C1  F5 D6      			dw	.LL970
20890    1E:D8C3             	.LL970	.alias		.LL948
20891                        	
20892                        		.dbg	line,	"main.c", 276; }
20893    1E:D8C3             	.LL968	.alias		.LL948
20894                        	
20895                        		.dbg	line,	"main.c", 278; break;
20896                        		__bra		.LL948
         1E:D8C3  4C F5 D6   			bra	.LL948
20897                        	
20898                        		.dbg	line,	"main.c", 279; }
20899    1E:D8C6             	.LL947:
20900                        		__switch_r.ur	0, 4
         1E:D8C6  C9 05      			cmp	#(4 - 0) + 1
         1E:D8C8  90 02      			bcc	!found+
         1E:D8CA  A9 05      	!default:	lda	#(4 - 0) + 1
         1E:D8CC  0A         	!found:		asl	a
         1E:D8CD  AA         			tax
         1E:D8CE  7C D1 D8   			jmp	[!table+, x]
20901                        	
20902    1E:D8D1  FB D6      	!table:		dw	.LL949, .LL952, .LL955, .LL965, .LL966
         1E:D8D3  19 D7       
         1E:D8D5  3A D7       
         1E:D8D7  B3 D7       
         1E:D8D9  B6 D7       
20903    1E:D8DB  F5 D6      			dw	.LL948
20904    1E:D8DD             	.LL948	.alias		.LL945
20905                        	
20906                        		.dbg	line,	"main.c", 280; }
20907                        		__bra		.LL945
         1E:D8DD  4C F5 D6   			bra	.LL945
20908    1E:D8E0             	.LL946:
20909                        	
20910                        		.dbg	line,	"main.c", 281; }
20911    1E:D8E0             	.LL937:
20912                        		__return	1
         1E:D8E0  AA         			tax
         1E:D8E1  4C EF FF   			jmp	leave_proc
20913                        		.dbg	clear
20914                        		.endp
20915                        		.pceas
20916                        	
20917                        		.dbg	clear
20918               6000     		.rodata
20919    01:6000             	__const1:
20920    01:6000  53 54 41 52			db	'S','T','A','R','T',' ','G','A'
         01:6004  54 20 47 41 
20921    01:6008  4D 45 00 4C			db	'M','E',$00,'L','I','F','E',$00
         01:600C  49 46 45 00 
20922    01:6010  43 52 45 44			db	'C','R','E','D','I','T','S',$00
         01:6014  49 54 53 00 
20923    01:6018  43 41 50 43			db	'C','A','P','C','O','M',' ','1'
         01:601C  4F 4D 20 31 
20924    01:6020  39 38 37 00			db	'9','8','7',$00,'H','a','l','t'
         01:6024  48 61 6C 74 
20925    01:6028  3A 20 53 47			db	':',' ','S','G','X',' ','h','a'
         01:602C  58 20 68 61 
20926    01:6030  72 64 77 61			db	'r','d','w','a','r','e',' ','n'
         01:6034  72 65 20 6E 
20927    01:6038  6F 74 20 66			db	'o','t',' ','f','o','u','n','d'
         01:603C  6F 75 6E 64 
20928    01:6040  00 4D 61 79			db	$00,'M','a','y','b','e',',',' '
         01:6044  62 65 2C 20 
20929    01:6048  69 20 63 61			db	'i',' ','c','a','n',' ','s','e'
         01:604C  6E 20 73 65 
20930    01:6050  6C 6C 20 79			db	'l','l',' ','y','o','u',$00,'s'
         01:6054  6F 75 00 73 
20931    01:6058  6F 6D 65 74			db	'o','m','e','t','h','i','n','g'
         01:605C  68 69 6E 67 
20932    01:6060  2E 2E 2E 00			db	'.','.','.',$00,' ',' ',' ',' '
         01:6064  20 20 20 20 
20933    01:6068  20 20 20 20			db	' ',' ',' ',' ',' ',' ',' ',' '
         01:606C  20 20 20 20 
20934    01:6070  20 20 20 20			db	' ',' ',' ',' ',' ',' ',' ',' '
         01:6074  20 20 20 20 
20935    01:6078  20 00 20 20			db	' ',$00,' ',' ',' ',' ',' ',' '
         01:607C  20 20 20 20 
20936    01:6080  20 20 20 20			db	' ',' ',' ',' ',' ',' ',$00,'G'
         01:6084  20 20 00 47 
20937    01:6088  4F 4F 44 20			db	'O','O','D',' ','L','U','C','K'
         01:608C  4C 55 43 4B 
20938    01:6090  21 00      			db	'!',$00
20939    01:6092             	_TABLE_INTRO_TEXT:
20940    01:6092  4C 6F 6E 67			db	"Long Long ago, three dragonsdescended from skies above  with a rolling thunder and  destroyed a kingdom into    darkness.                   From lengthy suffering and  darkness of the kingdom     came one brave fighter.    "
         01:6096  20 4C 6F 6E 
         01:609A  67 20 61 67 
         01:609E  6F 2C 20 74 
         01:60A2  68 72 65 65 
         01:60A6  20 64 72 61 
         01:60AA  67 6F 6E 73 
         01:60AE  64 65 73 63 
         01:60B2  65 6E 64 65 
         01:60B6  64 20 66 72 
         01:60BA  6F 6D 20 73 
         01:60BE  6B 69 65 73 
         01:60C2  20 61 62 6F 
         01:60C6  76 65 20 20 
         01:60CA  77 69 74 68 
         01:60CE  20 61 20 72 
         01:60D2  6F 6C 6C 69 
         01:60D6  6E 67 20 74 
         01:60DA  68 75 6E 64 
         01:60DE  65 72 20 61 
         01:60E2  6E 64 20 20 
         01:60E6  64 65 73 74 
         01:60EA  72 6F 79 65 
         01:60EE  64 20 61 20 
         01:60F2  6B 69 6E 67 
         01:60F6  64 6F 6D 20 
         01:60FA  69 6E 74 6F 
         01:60FE  20 20 20 20 
         01:6102  64 61 72 6B 
         01:6106  6E 65 73 73 
         01:610A  2E 20 20 20 
         01:610E  20 20 20 20 
         01:6112  20 20 20 20 
         01:6116  20 20 20 20 
         01:611A  20 20 20 20 
         01:611E  46 72 6F 6D 
         01:6122  20 6C 65 6E 
         01:6126  67 74 68 79 
         01:612A  20 73 75 66 
         01:612E  66 65 72 69 
         01:6132  6E 67 20 61 
         01:6136  6E 64 20 20 
         01:613A  64 61 72 6B 
         01:613E  6E 65 73 73 
         01:6142  20 6F 66 20 
         01:6146  74 68 65 20 
         01:614A  6B 69 6E 67 
         01:614E  64 6F 6D 20 
         01:6152  20 20 20 20 
         01:6156  63 61 6D 65 
         01:615A  20 6F 6E 65 
         01:615E  20 62 72 61 
         01:6162  76 65 20 66 
         01:6166  69 67 68 74 
         01:616A  65 72 2E 20 
         01:616E  20 20 20    
20941    01:6171             	_TABLE_NPC_TYPE_LV1:
20942    01:6171  01         			db	1
20943    01:6172  00         			db	0
20944    01:6173             	_TABLE_NPC_X_POS_REF_LV1:
20945    01:6173  90 03      			dw	912
20946    01:6175  D0 04      			dw	1232
20947    01:6177             	_TABLE_NPC_Y_POS_REF_LV1:
20948    01:6177  40 02      			dw	576
20949    01:6179  90 01      			dw	400
20950    01:617B             	_TABLE_OBJECT_TYPE_LV1:
20951    01:617B  00         			db	0
20952    01:617C  01         			db	1
20953    01:617D  01         			db	1
20954    01:617E  01         			db	1
20955    01:617F  01         			db	1
20956    01:6180  01         			db	1
20957    01:6181  01         			db	1
20958    01:6182  02         			db	2
20959    01:6183  01         			db	1
20960    01:6184  01         			db	1
20961    01:6185  01         			db	1
20962    01:6186  01         			db	1
20963    01:6187  01         			db	1
20964    01:6188  01         			db	1
20965    01:6189  01         			db	1
20966    01:618A  01         			db	1
20967    01:618B  01         			db	1
20968    01:618C  01         			db	1
20969    01:618D  01         			db	1
20970    01:618E  01         			db	1
20971    01:618F  01         			db	1
20972    01:6190  01         			db	1
20973    01:6191  01         			db	1
20974    01:6192             	_TABLE_OBJECT_X_POS_REF_LV1:
20975    01:6192  90 06      			dw	1680
20976    01:6194  00 05      			dw	1280
20977    01:6196  C0 05      			dw	1472
20978    01:6198  A0 05      			dw	1440
20979    01:619A  90 04      			dw	1168
20980    01:619C  B0 04      			dw	1200
20981    01:619E  C0 03      			dw	960
20982    01:61A0  D8 03      			dw	984
20983    01:61A2  50 05      			dw	1360
20984    01:61A4  70 05      			dw	1392
20985    01:61A6  10 06      			dw	1552
20986    01:61A8  90 06      			dw	1680
20987    01:61AA  B0 06      			dw	1712
20988    01:61AC  D0 06      			dw	1744
20989    01:61AE  E0 04      			dw	1248
20990    01:61B0  00 05      			dw	1280
20991    01:61B2  90 04      			dw	1168
20992    01:61B4  10 04      			dw	1040
20993    01:61B6  80 02      			dw	640
20994    01:61B8  A0 02      			dw	672
20995    01:61BA  50 01      			dw	336
20996    01:61BC  70 01      			dw	368
20997    01:61BE  A0 01      			dw	416
20998    01:61C0             	_TABLE_OBJECT_Y_POS_REF_LV1:
20999    01:61C0  80 01      			dw	384
21000    01:61C2  A0 01      			dw	416
21001    01:61C4  E0 01      			dw	480
21002    01:61C6  F0 01      			dw	496
21003    01:61C8  30 02      			dw	560
21004    01:61CA  30 02      			dw	560
21005    01:61CC  50 02      			dw	592
21006    01:61CE  50 02      			dw	592
21007    01:61D0  50 02      			dw	592
21008    01:61D2  50 02      			dw	592
21009    01:61D4  C0 02      			dw	704
21010    01:61D6  D0 02      			dw	720
21011    01:61D8  D0 02      			dw	720
21012    01:61DA  D0 02      			dw	720
21013    01:61DC  E0 02      			dw	736
21014    01:61DE  E0 02      			dw	736
21015    01:61E0  F0 02      			dw	752
21016    01:61E2  50 03      			dw	848
21017    01:61E4  70 03      			dw	880
21018    01:61E6  70 03      			dw	880
21019    01:61E8  80 03      			dw	896
21020    01:61EA  80 03      			dw	896
21021    01:61EC  80 03      			dw	896
21022    01:61EE             	_TABLE_CHEST_X_POS_REF_LV1:
21023    01:61EE  30 04      			dw	1072
21024    01:61F0  30 03      			dw	816
21025    01:61F2             	_TABLE_CHEST_Y_POS_REF_LV1:
21026    01:61F2  40 03      			dw	832
21027    01:61F4  50 03      			dw	848
21028    01:61F6             	_TABLE_PLAYER_TILES_ADR:
21029    01:61F6  C0 7D      			dw	_tiles_SPR_PLAYER_ARMOR
21030    01:61F8  C0 6F      			dw	_tiles_SPR_PLAYER_NAKED
21031    01:61FA             	_TABLE_PLAYER_TILES_BANK:
21032    01:61FA  15         			db	^_tiles_SPR_PLAYER_ARMOR
21033    01:61FB  17         			db	^_tiles_SPR_PLAYER_NAKED
21034    01:61FC             	_TABLE_PLAYER_JUMP_V:
21035    01:61FC  FC         			db	-4
21036    01:61FD  FB         			db	-5
21037    01:61FE  F6         			db	-10
21038    01:61FF  FC         			db	-4
21039    01:6200  FC         			db	-4
21040    01:6201  F9         			db	-7
21041    01:6202  FA         			db	-6
21042    01:6203  FD         			db	-3
21043    01:6204  FB         			db	-5
21044    01:6205  FE         			db	-2
21045    01:6206  FC         			db	-4
21046    01:6207  FF         			db	-1
21047    01:6208  FF         			db	-1
21048    01:6209  FF         			db	-1
21049    01:620A  FF         			db	-1
21050    01:620B  00         			db	0
21051    01:620C  00         			db	0
21052    01:620D  00         			db	0
21053    01:620E  00         			db	0
21054    01:620F  01         			db	1
21055    01:6210  01         			db	1
21056    01:6211  01         			db	1
21057    01:6212  01         			db	1
21058    01:6213  04         			db	4
21059    01:6214  02         			db	2
21060    01:6215  05         			db	5
21061    01:6216  03         			db	3
21062    01:6217  06         			db	6
21063    01:6218  07         			db	7
21064    01:6219  04         			db	4
21065    01:621A  04         			db	4
21066    01:621B  0A         			db	10
21067    01:621C  04         			db	4
21068    01:621D  04         			db	4
21069    01:621E  05         			db	5
21070    01:621F             	_TABLE_PLAYER_FALL:
21071    01:621F  00         			db	0
21072    01:6220  00         			db	0
21073    01:6221  00         			db	0
21074    01:6222  00         			db	0
21075    01:6223  01         			db	1
21076    01:6224  01         			db	1
21077    01:6225  01         			db	1
21078    01:6226  01         			db	1
21079    01:6227  02         			db	2
21080    01:6228  02         			db	2
21081    01:6229  02         			db	2
21082    01:622A  02         			db	2
21083    01:622B  03         			db	3
21084    01:622C  03         			db	3
21085    01:622D  03         			db	3
21086    01:622E  04         			db	4
21087    01:622F  04         			db	4
21088    01:6230  04         			db	4
21089    01:6231  04         			db	4
21090    01:6232  04         			db	4
21091    01:6233  05         			db	5
21092    01:6234             	_TABLE_PLAYER_JUMP_LADDER:
21093    01:6234  FC         			db	-4
21094    01:6235  FC         			db	-4
21095    01:6236  FD         			db	-3
21096    01:6237  FD         			db	-3
21097    01:6238  FD         			db	-3
21098    01:6239  FE         			db	-2
21099    01:623A  FE         			db	-2
21100    01:623B  FE         			db	-2
21101    01:623C  FF         			db	-1
21102    01:623D  FF         			db	-1
21103    01:623E  FF         			db	-1
21104    01:623F  FF         			db	-1
21105    01:6240  FF         			db	-1
21106    01:6241  00         			db	0
21107    01:6242  00         			db	0
21108    01:6243  00         			db	0
21109    01:6244  00         			db	0
21110    01:6245  01         			db	1
21111    01:6246  01         			db	1
21112    01:6247  01         			db	1
21113    01:6248  01         			db	1
21114    01:6249  01         			db	1
21115    01:624A  02         			db	2
21116    01:624B  02         			db	2
21117    01:624C  02         			db	2
21118    01:624D  03         			db	3
21119    01:624E  03         			db	3
21120    01:624F  03         			db	3
21121    01:6250  04         			db	4
21122    01:6251  04         			db	4
21123    01:6252             	_TABLE_WEAPON_TILES_ADR:
21124    01:6252  40 6A      			dw	_tiles_SPR_WEAPON_0
21125    01:6254  C0 6C      			dw	_tiles_SPR_WEAPON_1
21126    01:6256  40 6F      			dw	_tiles_SPR_WEAPON_2
21127    01:6258  C0 71      			dw	_tiles_SPR_WEAPON_3
21128    01:625A  40 74      			dw	_tiles_SPR_WEAPON_4
21129    01:625C             	_TABLE_WEAPON_TILES_BANK:
21130    01:625C  19         			db	^_tiles_SPR_WEAPON_0
21131    01:625D  19         			db	^_tiles_SPR_WEAPON_1
21132    01:625E  19         			db	^_tiles_SPR_WEAPON_2
21133    01:625F  19         			db	^_tiles_SPR_WEAPON_3
21134    01:6260  19         			db	^_tiles_SPR_WEAPON_4
21135    01:6261             	_TABLE_SHOP_ITEMS_LV1:
21136    01:6261  00         			db	0
21137    01:6262  01         			db	1
21138    01:6263  02         			db	2
21139    01:6264  03         			db	3
21140    01:6265  04         			db	4
21141    01:6266  05         			db	5
21142    01:6267  06         			db	6
21143    01:6268  07         			db	7
21144    01:6269  08         			db	8
21145    01:626A  09         			db	9
21146    01:626B             	_TABLE_SHOP_PRICES_LV1:
21147    01:626B  64 00      			dw	100
21148    01:626D  E8 03      			dw	1000
21149    01:626F  60 09      			dw	2400
21150    01:6271  80 25      			dw	9600
21151    01:6273  1E 00      			dw	30
21152    01:6275  50 00      			dw	80
21153    01:6277  2C 01      			dw	300
21154    01:6279  20 03      			dw	800
21155    01:627B  40 06      			dw	1600
21156    01:627D  96 00      			dw	150
21157    01:627F             	_TABLE_SHOP_ITEMS_TILES_ADR:
21158    01:627F  E0 60      			dw	_tiles_ITEM_WEAPON_2
21159    01:6281  60 61      			dw	_tiles_ITEM_WEAPON_3
21160    01:6283  E0 61      			dw	_tiles_ITEM_WEAPON_4
21161    01:6285  60 62      			dw	_tiles_ITEM_WEAPON_5
21162    01:6287  E0 62      			dw	_tiles_ITEM_KEY
21163    01:6289  60 63      			dw	_tiles_ITEM_ARMOR_2
21164    01:628B  E0 63      			dw	_tiles_ITEM_ARMOR_3
21165    01:628D  60 64      			dw	_tiles_ITEM_ARMOR_4
21166    01:628F  E0 64      			dw	_tiles_ITEM_ARMOR_5
21167    01:6291  60 65      			dw	_tiles_ITEM_POTION
21168    01:6293             	_TABLE_SHOP_ITEMS_TILES_BANK:
21169    01:6293  12         			db	^_tiles_ITEM_WEAPON_2
21170    01:6294  12         			db	^_tiles_ITEM_WEAPON_3
21171    01:6295  12         			db	^_tiles_ITEM_WEAPON_4
21172    01:6296  12         			db	^_tiles_ITEM_WEAPON_5
21173    01:6297  12         			db	^_tiles_ITEM_KEY
21174    01:6298  12         			db	^_tiles_ITEM_ARMOR_2
21175    01:6299  12         			db	^_tiles_ITEM_ARMOR_3
21176    01:629A  12         			db	^_tiles_ITEM_ARMOR_4
21177    01:629B  12         			db	^_tiles_ITEM_ARMOR_5
21178    01:629C  12         			db	^_tiles_ITEM_POTION
21179    01:629D             	_TABLE_CURSOR_POS_X:
21180    01:629D  18         			db	24
21181    01:629E  38         			db	56
21182    01:629F  60         			db	96
21183    01:62A0  88         			db	136
21184    01:62A1  B0         			db	176
21185    01:62A2  18         			db	24
21186    01:62A3  38         			db	56
21187    01:62A4  60         			db	96
21188    01:62A5  88         			db	136
21189    01:62A6  B0         			db	176
21190    01:62A7  D4         			db	212
21191                        	
21192               2313     		.bss
21193    F8:2313             	_sequence_id:
21194    F8:2313             			ds	1
21195    F8:2314             	_sequence_loaded:
21196    F8:2314             			ds	1
21197    F8:2315             	_level_id:
21198    F8:2315             			ds	1
21199    F8:2316             	_respawn:
21200    F8:2316             			ds	1
21201    F8:2317             	_player_id:
21202    F8:2317             			ds	1
21203    F8:2318             	_player_state:
21204    F8:2318             			ds	1
21205    F8:2319             	_player_axis:
21206    F8:2319             			ds	1
21207    F8:231A             	_player_previous_axis:
21208    F8:231A             			ds	1
21209    F8:231B             	_player_counter_anim:
21210    F8:231B             			ds	1
21211    F8:231C             	_player_index_jump:
21212    F8:231C             			ds	1
21213    F8:231D             	_player_index_fall:
21214    F8:231D             			ds	1
21215    F8:231E             	_player_counter_attack:
21216    F8:231E             			ds	1
21217    F8:231F             	_player_naked:
21218    F8:231F             			ds	1
21219    F8:2320             	_player_attack:
21220    F8:2320             			ds	1
21221    F8:2321             	_jump_ladder:
21222    F8:2321             			ds	1
21223    F8:2322             	_jump_max_index:
21224    F8:2322             			ds	1
21225    F8:2323             	_fall_ladder:
21226    F8:2323             			ds	1
21227    F8:2324             	_hit_wall:
21228    F8:2324             			ds	1
21229    F8:2325             	_chain_id:
21230    F8:2325             			ds	1
21231    F8:2326             	_weapon_id:
21232    F8:2326             			ds	1
21233    F8:2327             	_armor_level:
21234    F8:2327             			ds	1
21235    F8:2328             	_weapon_level:
21236    F8:2328             			ds	1
21237    F8:2329             	_list_chain_active:
21238    F8:2329             			ds	3
21239    F8:232C             	_life_amount:
21240    F8:232C             			ds	1
21241    F8:232D             	_credits_amount:
21242    F8:232D             			ds	1
21243    F8:232E             	_key_amount:
21244    F8:232E             			ds	1
21245    F8:232F             	_potion_amount:
21246    F8:232F             			ds	1
21247    F8:2330             	_minutes:
21248    F8:2330             			ds	1
21249    F8:2331             	_seconds:
21250    F8:2331             			ds	1
21251    F8:2332             	_time_counter:
21252    F8:2332             			ds	1
21253    F8:2333             	_minutes_backup:
21254    F8:2333             			ds	1
21255    F8:2334             	_seconds_backup:
21256    F8:2334             			ds	1
21257    F8:2335             	_object_start_index:
21258    F8:2335             			ds	1
21259    F8:2336             	_level_object_number:
21260    F8:2336             			ds	1
21261    F8:2337             	_onscreen_object_number:
21262    F8:2337             			ds	1
21263    F8:2338             	_list_object_type:
21264    F8:2338             			ds	25
21265    F8:2351             	_list_object_state:
21266    F8:2351             			ds	25
21267    F8:236A             	_list_object_energy:
21268    F8:236A             			ds	25
21269    F8:2383             	_list_reward_type:
21270    F8:2383             			ds	25
21271    F8:239C             	_list_onscreen_object:
21272    F8:239C             			ds	8
21273    F8:23A4             	_chest_start_index:
21274    F8:23A4             			ds	1
21275    F8:23A5             	_level_chest_number:
21276    F8:23A5             			ds	1
21277    F8:23A6             	_onscreen_chest_number:
21278    F8:23A6             			ds	1
21279    F8:23A7             	_list_chest_state:
21280    F8:23A7             			ds	8
21281    F8:23AF             	_list_onscreen_chest:
21282    F8:23AF             			ds	8
21283    F8:23B7             	_npc_start_index:
21284    F8:23B7             			ds	1
21285    F8:23B8             	_level_npc_number:
21286    F8:23B8             			ds	1
21287    F8:23B9             	_onscreen_npc_number:
21288    F8:23B9             			ds	1
21289    F8:23BA             	_list_npc_type:
21290    F8:23BA             			ds	9
21291    F8:23C3             	_list_npc_state:
21292    F8:23C3             			ds	9
21293    F8:23CC             	_list_onscreen_npc:
21294    F8:23CC             			ds	9
21295    F8:23D5             	_index_x:
21296    F8:23D5             			ds	1
21297    F8:23D6             	_index_y:
21298    F8:23D6             			ds	1
21299    F8:23D7             	_item_index:
21300    F8:23D7             			ds	1
21301    F8:23D8             	_shop_phase:
21302    F8:23D8             			ds	1
21303    F8:23D9             	_shop_counter:
21304    F8:23D9             			ds	1
21305    F8:23DA             	_palette_step:
21306    F8:23DA             			ds	1
21307    F8:23DB             	_tilemap_mask:
21308    F8:23DB             			ds	256
21309    F8:24DB             	_player_pos_x:
21310    F8:24DB             			ds	2
21311    F8:24DD             	_player_pos_y:
21312    F8:24DD             			ds	2
21313    F8:24DF             	_camera_max_y_position:
21314    F8:24DF             			ds	2
21315    F8:24E1             	_camera_pos_x_backup:
21316    F8:24E1             			ds	2
21317    F8:24E3             	_camera_pos_y_backup:
21318    F8:24E3             			ds	2
21319    F8:24E5             	_list_object_x_pos:
21320    F8:24E5             			ds	50
21321    F8:2517             	_list_object_y_pos:
21322    F8:2517             			ds	50
21323    F8:2549             	_list_object_x_pos_ref:
21324    F8:2549             			ds	50
21325    F8:257B             	_list_object_y_pos_ref:
21326    F8:257B             			ds	50
21327    F8:25AD             	_list_chest_x_pos:
21328    F8:25AD             			ds	16
21329    F8:25BD             	_list_chest_y_pos:
21330    F8:25BD             			ds	16
21331    F8:25CD             	_list_chest_x_pos_ref:
21332    F8:25CD             			ds	16
21333    F8:25DD             	_list_chest_y_pos_ref:
21334    F8:25DD             			ds	16
21335    F8:25ED             	_list_npc_x_pos:
21336    F8:25ED             			ds	18
21337    F8:25FF             	_list_npc_y_pos:
21338    F8:25FF             			ds	18
21339    F8:2611             	_list_npc_x_pos_ref:
21340    F8:2611             			ds	18
21341    F8:2623             	_list_npc_y_pos_ref:
21342    F8:2623             			ds	18
21343    F8:2635             	_global_counter:
21344    F8:2635             			ds	2
21345    F8:2637             	_letter_index:
21346    F8:2637             			ds	2
21347    F8:2639             	_letter_counter:
21348    F8:2639             			ds	2
21349    F8:263B             	_zenny_amount:
21350    F8:263B             			ds	2
21351    F8:263D             	_score:
21352    F8:263D             			ds	2
21353    F8:263F             	_shop_prices:
21354    F8:263F             			ds	20
21355    F8:2653             	_palette_buffer:
21356    F8:2653             			ds	32
21357    F8:2673             	_weapon_y_offset:
21358    F8:2673             			ds	1
21359    F8:2674             	_ptr_SHOP_ITEM_PRICES:
21360    F8:2674             			ds	2
21361                        	
21362                        	
21363                        	;0 error(s) in compilation
21364                        	;	literal pool:146
21365                        	;	constant pool:312
21366                        	;	global pool:580
21367                        	;	Macro pool:326
21368    F8:2676             	leaf_loc:
21369    F8:2676             			ds	4
21370    F8:267A             	__sequence_INTRO_end:
21371    F8:267A             	__hide_LEVEL_SPRITES_end:
21372    F8:267A             	__scroll_object_end:
21373    F8:267A             	__scroll_chest_end:
21374    F8:267A             	__scroll_npc_end:
21375    F8:267A             	__check_TILE_DEPTH_end:
21376    F8:267A             	__check_BG_end:
21377    F8:267A             	__check_NPC_end:
21378    F8:267A             	__recenter_CAMERA_end:
21379    F8:267A             	__joypad_BUTTONS_TITLE_end:
21380    F8:267A             	__init_INTRO_end:
21381    F8:267A             	__init_OBJECT_LV1_end:
21382    F8:267A             	__init_CHEST_LV1_end:
21383    F8:267A             	__init_NPC_LV1_end:
21384                        	
21385    F8:267A             	__bss_init:
21386                        	
21387    F8:267A             	__heap_start:
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-final.asm
    5                        	;
    6                        	; PCEAS auto-includes this file at the end of every pass in HuCC or SDCC.
    7                        	;
    8                        	; Copyright John Brandwood 2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; This is used to select which assembly-language library files to include in
   18                        	; a HuCC project, using labels defined in the compiler's header files.
   19                        	;
   20                        	; ***************************************************************************
   21                        	; ***************************************************************************
   22                        	
   23                        			; Allow projects to customize what is included at the end
   24                        			; of a pass without replacing the entire "hucc-final.asm".
   25                        	
   26               E309     			.code
   27               0000     			.bank	CORE_BANK
   28               E309     			.page	CORE_PAGE
   29                        	
                             #[3]   "..\..\..\include\hucc\hucc-final-extra.asm"
   30                        			include	"hucc-final-extra.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-final-extra.asm
    5                        	;
    6                        	; hucc-final.asm includes this file at the end of every pass in HuCC or SDCC.
    7                        	;
    8                        	; Copyright John Brandwood 2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; This is used to select which assembly-language library files to include in
   18                        	; a HuCC project, using labels defined in the compiler's header files.
   19                        	;
   20                        	; ***************************************************************************
   21                        	; ***************************************************************************
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   31                        	
   32                        			; Libraries required for basic functionality.
   33                        	
   34               E309     			.code
   35               0000     			.bank	CORE_BANK
   36               E309     			.page	CORE_PAGE
   37                        	
                             #[3]   "..\..\..\include\hucc\common.asm"
   38                        			include	"common.asm"		; Common helpers.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; common.asm
    5                        	;
    6                        	; Small, generic, PCE subroutines that are commonly useful when developing.
    7                        	;
    8                        	; These should be located in permanently-accessible memory!
    9                        	;
   10                        	; Copyright John Brandwood 2021-2024.
   11                        	;
   12                        	; Distributed under the Boost Software License, Version 1.0.
   13                        	; (See accompanying file LICENSE_1_0.txt or copy at
   14                        	;  http://www.boost.org/LICENSE_1_0.txt)
   15                        	;
   16                        	; ***************************************************************************
   17                        	; ***************************************************************************
   18                        	
   19                        	
   20                        	
   21                        	; ***************************************************************************
   22                        	; ***************************************************************************
   23                        	;
   24                        	; Wait for the next VBLANK IRQ.
   25                        	;
   26                        	
   27    00:E309  AD 41 22   	wait_vsync:	lda	irq_cnt			; System Card variable, changed
   28    00:E30C  CD 41 22   	.loop:		cmp	irq_cnt			; every VBLANK interrupt.
   29    00:E30F  F0 FB      			beq	.loop
   30               0001     		.ifdef	HUCC
   31    00:E311  8D EB 22   			sta	old_cnt			; Remember the frame count.
   32                        		.endif
   33    00:E314  60         			rts
   34                        	
   35                        	
   36                        	
   37                        	; ***************************************************************************
   38                        	; ***************************************************************************
   39                        	;
   40                        	; Delay for the next Y VBLANK IRQs.
   41                        	;
   42                        	
   43               0001     		.ifdef	HUCC
   44    00:E315             	_vsync		.alias	wait_vsync
   45                        	
   46    00:E315  AD 41 22   	_vsync.1:	lda	irq_cnt			; HuCC's vsync(n) was defined
   47    00:E318  38         			sec				; as frames from the previous
   48    00:E319  ED EB 22   			sbc	old_cnt			; vsync() call, 1 to 255.
   49    00:E31C  38         			sec
   50    00:E31D  E5 F8      			sbc	<_al
   51    00:E31F  90 02      			bcc	!+
   52    00:E321  A9 FF      			lda	#$FF
   53    00:E323  49 FF      	!:		eor	#$FF
   54    00:E325  1A         			inc	a
   55    00:E326  A8         			tay
   56                        		.endif
   57                        	
   58    00:E327  44 E0      	wait_nvsync:	bsr	wait_vsync		; # of VBLANK IRQs to wait in
   59    00:E329  88         			dey				; the Y register.
   60    00:E32A  D0 FB      			bne	wait_nvsync
   61    00:E32C  60         			rts
   62                        	
   63                        	
   64                        	
   65               0000     		.ifndef	HUCC
  101                        		.endif
  102                        	
  103                        	
  104                        	
  105                        	; ***************************************************************************
  106                        	; ***************************************************************************
  107                        	;
  108                        	; Map the _bp data far-pointer into MPR3 (& MPR4).
  109                        	;
  110                        	; Because the 16KB RAM region at $2000-$5FFF is composed of two separate
  111                        	; banks, with the 2nd bank having no specific relation to the 1st, there
  112                        	; is no way to deal with a bank-increment, so do not map that region.
  113                        	;
  114                        	; N.B. Library code relies on this preserving X and V!
  115                        	;
  116                        	
  117    00:E32D  98         	map_bp_to_mpr3:	tya				; Put bank into MPR3.
  118    00:E32E  F0 0A      			beq	!+
  119    00:E330  53 08      			tam3
  120    00:E332  A5 ED      			lda.h	<_bp			; Do not remap a ptr to RAM,
  121    00:E334  29 1F      			and	#$1F			; Remap ptr to MPR3.
  122    00:E336  09 60      			ora	#$60
  123    00:E338  85 ED      			sta.h	<_bp
  124    00:E33A  60         	!:		rts
  125                        	
  126    00:E33B  98         	map_bp_to_mpr34:tya				; Put bank into MPR3.
  127    00:E33C  F0 0D      			beq	!+
  128    00:E33E  53 08      			tam3
  129    00:E340  1A         			inc	a			; Put next into MPR4.
  130    00:E341  53 10      			tam4
  131    00:E343  A5 ED      			lda.h	<_bp			; Do not remap a ptr to RAM,
  132    00:E345  29 1F      			and	#$1F			; Remap ptr to MPR3.
  133    00:E347  09 60      			ora	#$60
  134    00:E349  85 ED      			sta.h	<_bp
  135    00:E34B  60         	!:		rts
  136                        	
  137                        	
  138                        	
  139                        	; ***************************************************************************
  140                        	; ***************************************************************************
  141                        	;
  142                        	; Increment the hi-byte of _bp and change TMA3 if necessary.
  143                        	;
  144                        	; N.B. Library code relies on this preserving A,X,Y and V!
  145                        	;
  146                        	
  147    00:E34C  E6 ED      	inc.h_bp_mpr3:	inc.h	<_bp			; Increment hi-byte of _bp.
  148    00:E34E  10 0B      			bpl	!+			; OK if within MPR0-MPR3.
  149    00:E350  48         			pha				; Increment the bank in MPR3,
  150    00:E351  43 08      			tma3				; usually when pointer moves
  151    00:E353  1A         			inc	a			; from $7FFF -> $8000.
  152    00:E354  53 08      			tam3
  153    00:E356  A9 60      			lda	#$60
  154    00:E358  85 ED      			sta.h	<_bp
  155    00:E35A  68         			pla
  156    00:E35B  60         	!:		rts
  157                        	
  158                        	
  159                        	
  160                        	; ***************************************************************************
  161                        	; ***************************************************************************
  162                        	;
  163                        	; Increment the hi-byte of _bp and change TMA3 and TMA4 if necessary.
  164                        	;
  165                        	; N.B. Library code relies on this preserving A,X,Y and V!
  166                        	;
  167                        	
  168    00:E35C  E6 ED      	inc.h_bp_mpr34:	inc.h	<_bp			; Increment hi-byte of _bp.
  169    00:E35E  10 0D      			bpl	!+			; OK if within MPR0-MPR3.
  170    00:E360  48         			pha				; Increment the bank in MPR3,
  171    00:E361  43 10      			tma4				; usually when pointer moves
  172    00:E363  53 08      			tam3				; from $7FFF -> $8000.
  173    00:E365  1A         			inc	a
  174    00:E366  53 10      			tam4
  175    00:E368  A9 60      			lda	#$60
  176    00:E36A  85 ED      			sta.h	<_bp
  177    00:E36C  68         			pla
  178    00:E36D  60         	!:		rts
  179                        	
  180                        	
  181                        	
  182                        	; ***************************************************************************
  183                        	; ***************************************************************************
  184                        	;
  185                        	; Put the _di data pointer into the VDC's MARR or MAWR register.
  186                        	;
  187                        	; N.B. Library code relies on this preserving Y!
  188                        	;
  189                        	
  190               0001     		.if	SUPPORT_SGX
  191    00:E36E  A2 10      	sgx_di_to_marr:	ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  192    00:E370  F0         			db	$F0			; Turn "clx" into a "beq".
  193                        		.endif
  194                        	
  195    00:E371  82         	vdc_di_to_marr:	clx				; Offset to PCE VDC.
  196                        	
  197    00:E372  A9 01      	set_di_to_marr	lda	#VDC_MARR		; Set VDC or SGX destination
  198    00:E374  95 F7      			sta	<vdc_reg, x		; address.
  199    00:E376  9D 00 02   			sta	VDC_AR, x
  200    00:E379  80 09      			bra	!+
  201                        	
  202               0001     		.if	SUPPORT_SGX
  203    00:E37B  A2 10      	sgx_di_to_mawr:	ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  204    00:E37D  F0         			db	$F0			; Turn "clx" into a "beq".
  205                        		.endif
  206                        	
  207    00:E37E  82         	vdc_di_to_mawr:	clx				; Offset to PCE VDC.
  208                        	
  209    00:E37F             	set_di_to_mawr;	lda	#VDC_MAWR		; Set VDC or SGX destination
  210    00:E37F  74 F7      			stz	<vdc_reg, x		; address.
  211    00:E381  9E 00 02   			stz	VDC_AR, x
  212                        	
  213    00:E384  A5 F0      	!:		lda	<_di + 0
  214    00:E386  9D 02 02   			sta	VDC_DL, x
  215    00:E389  A5 F1      			lda	<_di + 1
  216    00:E38B  9D 03 02   			sta	VDC_DH, x
  217                        	
  218    00:E38E  A9 02      			lda	#VDC_VWR		; Select the VRR/VWR data
  219    00:E390  95 F7      			sta	<vdc_reg, x		; register.
  220    00:E392  9D 00 02   			sta	VDC_AR, x
  221    00:E395  60         			rts
  222                        	
  223                        	
  224                        	
  225                        	; ***************************************************************************
  226                        	; ***************************************************************************
  227                        	;
  228                        	; Increment the hi-byte of _di and change TMA4 if necessary.
  229                        	;
  230                        	
  231               0000     		.if	0				; Save memory, for now.
  250                        		.endif
  251                        	
  252                        	
  253                        	
  254                        	; ***************************************************************************
  255                        	; ***************************************************************************
  256                        	;
  257                        	; Far-call a function in another bank.
  258                        	;
  259                        	; This is a potential alternative procedure call trampoline that uses only 10
  260                        	; bytes of common memory per bank of procedures, instead of 10 bytes for each
  261                        	; individual procedure call, BUT it uses the X register as a procedure-index,
  262                        	; and it needs a table of addresses at the end of every procedure bank.
  263                        	;
  264                        	; To use this ...
  265                        	;
  266                        	;  ldx #procedure-index
  267                        	;  jsr far_call_nn
  268                        	;
  269                        	; The called .PROC routine must exit with "jmp leave_proc" and not "rts".
  270                        	;
  271                        	; leave_proc:	pla
  272                        	;		tam6
  273                        	;		tya
  274                        	;		rts
  275                        	;
  276                        	; N.B. This costs 21 cycles vs 18 for the .newproc trampoline code (when you
  277                        	;      exclude preserving YA in zero-page).
  278                        	;
  279                        	; N.B. This was written as an excerise, and definitely not for HuC!
  280                        	;
  281                        	
  282               0000     		.if	0
  295                        		.endif					; 21
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
                             #[3]   "..\..\..\include\hucc\vce.asm"
   39                        			include	"vce.asm"		; Useful VCE routines.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; vce.asm
    5                        	;
    6                        	; Useful routines for operating the HuC6260 Video Color Encoder
    7                        	;
    8                        	; These should be located in permanently-accessible memory!
    9                        	;
   10                        	; Copyright John Brandwood 2021-2025.
   11                        	;
   12                        	; Distributed under the Boost Software License, Version 1.0.
   13                        	; (See accompanying file LICENSE_1_0.txt or copy at
   14                        	;  http://www.boost.org/LICENSE_1_0.txt)
   15                        	;
   16                        	; ***************************************************************************
   17                        	; ***************************************************************************
   18                        	
   19                        	;
   20                        	; Configure Library ...
   21                        	;
   22                        	
   23               0000     		.ifndef VCE_SPLIT_CROSS
   25                        		.endif
   26                        	
   27                        	
   28                        	
   29                        	; ***************************************************************************
   30                        	; ***************************************************************************
   31                        	;
   32                        	; xfer_palettes - Update the VCE with the queued palettes changes.
   33                        	;
   34                        	; This is normally called in a developer's vsync_hook handler, but it can
   35                        	; be called manually as long as it will not also be called in an interrupt.
   36                        	;
   37                        	; The queued transfers are split into 32-byte chunks so that an HSYNC and/or
   38                        	; TIMER IRQ is not delayed for too long during the VBLANK.
   39                        	;
   40                        	
   41    00:E396  A9 80      	xfer_palettes:	lda	#$80			; Acquire color mutex to avoid
   42    00:E398  0C 7A 26   			tsb	color_mutex		; conflict with a delayed VBL.
   43    00:E39B  30 5F      			bmi	.busy
   44                        	
   45    00:E39D  AC 7B 26   			ldy	color_queue_r		; Are there any palette xfers
   46    00:E3A0  CC 7C 26   			cpy	color_queue_w		; queued up?
   47    00:E3A3  F0 54      			beq	.exit
   48                        	
   49    00:E3A5  08         			php				; Enable interrupts so that an
   50    00:E3A6  58         			cli				; HSYNC or TIMER IRQ can occur.
   51                        	
   52    00:E3A7  43 08      			tma3				; Preserve MPR3 & MPR4 because
   53    00:E3A9  48         			pha				; this normally runs in the
   54    00:E3AA  43 10      			tma4				; VBLANK IRQ.
   55    00:E3AC  48         			pha
   56                        	
   57               0001     		.if	!CDROM
   58    00:E3AD  73 02 E4 86			tii	.tia_func, color_tia, 8 ; Copy TIA to RAM.
         00:E3B1  22 08 00    
   59                        		.endif
   60                        	
   61    00:E3B4  B9 7D 26   	.next_item:	lda	color_index, y		; Get the next set of palettes
   62    00:E3B7  0A         			asl	a			; from the queue.
   63    00:E3B8  0A         			asl	a
   64    00:E3B9  0A         			asl	a
   65    00:E3BA  0A         			asl	a
   66    00:E3BB  8D 02 04   			sta	VCE_CTA + 0
   67    00:E3BE  62         			cla
   68    00:E3BF  2A         			rol	a
   69    00:E3C0  8D 03 04   			sta	VCE_CTA + 1
   70                        	
   71    00:E3C3  BE 85 26   			ldx	color_count,y		; How many palettes to xfer?
   72                        	
   73    00:E3C6  B9 9D 26   			lda	color_bank, y		; Map data into MPR3 & MPR4.
   74    00:E3C9  53 08      			tam3
   75    00:E3CB  1A         			inc	a
   76    00:E3CC  53 10      			tam4
   77    00:E3CE  B9 95 26   			lda	color_addr_h, y
   78    00:E3D1  8D 88 22   			sta	.ram_tia + 2
   79    00:E3D4  B9 8D 26   			lda	color_addr_l, y
   80    00:E3D7  8D 87 22   	.palette_loop:	sta	.ram_tia + 1
   81                        	
   82               0000     		.if	CDROM
   84                        		.else
   85    00:E3DA  20 86 22   			jsr	.ram_tia		; Copy 32-bytes to the VCE.
   86                        		.endif
   87                        	
   88    00:E3DD  18         			clc				; Increment the data ptr to
   89    00:E3DE  69 20      			adc	#32			; the next 32-byte palette.
   90    00:E3E0  B0 1B      			bcs	.next_page
   91                        	
   92    00:E3E2  CA         	.next_palette:	dex				; Any palettes left to xfer?
   93    00:E3E3  D0 F2      			bne	.palette_loop
   94                        	
   95    00:E3E5  C8         			iny				; Increment the queue index.
   96    00:E3E6  98         			tya
   97    00:E3E7  29 07      			and	#7
   98    00:E3E9  A8         			tay
   99                        	
  100    00:E3EA  CC 7C 26   			cpy	color_queue_w		; Any more items in the queue?
  101    00:E3ED  D0 C5      			bne	.next_item
  102    00:E3EF  8C 7B 26   			sty	color_queue_r		; Signal the queue is empty.
  103                        	
  104    00:E3F2  68         			pla				; Restore MPR3 & MPR4.
  105    00:E3F3  53 10      			tam4
  106    00:E3F5  68         			pla
  107    00:E3F6  53 08      			tam3
  108                        	
  109    00:E3F8  28         			plp				; Restore interrupt state.
  110                        	
  111    00:E3F9  9C 7A 26   	.exit:		stz	color_mutex		; Release color mutex.
  112                        	
  113    00:E3FC  60         	.busy:		rts
  114                        	
  115    00:E3FD  EE 88 22   	.next_page:	inc	.ram_tia + 2
  116    00:E400  80 E0      			bra	.next_palette
  117                        	
  118               0001     		.if	!CDROM
  119               2286     	.ram_tia	=	color_tia		; Use a TIA in RAM.
  120                        	
  121    00:E402  E3 00 00 04	.tia_func:	tia	0, VCE_CTW, 32
         00:E406  04 20 00    
  122    00:E409  60         			rts
  123                        		.endif	!CDROM
  124                        	
  125               267A     			.bss
  126                        	
  127    F8:267A             	color_mutex:	ds	1			; Mutex for VCE changes.
  128    F8:267B             	color_queue_r:	ds	1			; Ring buffer read index.
  129    F8:267C             	color_queue_w:	ds	1			; Ring buffer write index.
  130    F8:267D             	color_index:	ds	8			; Ring buffer - Palette index.
  131    F8:2685             	color_count:	ds	8			; Ring buffer - Palette count.
  132    F8:268D             	color_addr_l:	ds	8			; Ring buffer - Data Ptr (lo).
  133    F8:2695             	color_addr_h:	ds	8			; Ring buffer - Data Ptr (hi).
  134    F8:269D             	color_bank:	ds	8			; Ring buffer - Data Ptr (bank).
  135                        	
  136               E40A     			.code
  137                        	
  138                        	
  139                        	
  140                        	; ***************************************************************************
  141                        	; ***************************************************************************
  142                        	;
  143                        	; load_palettes - Queue a set of palettes to upload to the VCE next VBLANK.
  144                        	;
  145                        	; Args: _al = Palette index (0..15 for BG, 16..31 for SPR).
  146                        	; Args: _ah = Palette count (1..32).
  147                        	; Args: _bp = Pointer to palette data.
  148                        	; Args:   Y = Bank to map into MPR3 & MPR4, or zero to leave unchanged.
  149                        	;
  150                        	; N.B. Y==0 is only useful if the palette data is permanently mapped!
  151                        	;
  152                        	
  153                        	load_palettes	.proc
  179                        			.endp
  180                        	
  181                        	
  182                        	
  183                        	; ***************************************************************************
  184                        	; ***************************************************************************
  185                        	;
  186                        	; clear_vce - Clear all 512 of the VCE's palette entries.
  187                        	;
  188                        	
  189    1F:CEBD             	clear_vce	.proc
  190                        	
  191    1F:CEBD  08         			php				; Disable interrupts to avoid
  192    1F:CEBE  78         			sei				; VBLANK palette upload.
  193    1F:CEBF  C2         			cly
  194    1F:CEC0  9C 02 04   			stz	VCE_CTA+0		; Set VCE write address.
  195    1F:CEC3  9C 03 04   			stz	VCE_CTA+1
  196    1F:CEC6  9C 04 04   	.loop:		stz	VCE_CTW+0		; Set lo-byte of color.
  197    1F:CEC9  9C 05 04   			stz	VCE_CTW+1		; Write 1 color value.
  198    1F:CECC  9C 04 04   			stz	VCE_CTW+0		; Set lo-byte of color.
  199    1F:CECF  9C 05 04   			stz	VCE_CTW+1		; Write 1 color value.
  200    1F:CED2  88         			dey
  201    1F:CED3  D0 F1      			bne	.loop
  202    1F:CED5  28         			plp
  203                        	
  204                        			leave				; All done, phew!
         1F:CED6  4C EF FF   			jmp	leave_proc
  205                        	
  206                        			.endp
  207                        	
  208               0001     		.ifdef	HUCC
  209    00:E40A             			.alias	_clear_palette		= clear_vce
  210                        		.endif
  211                        	
  212                        	
  213                        	
  214                        	; ***************************************************************************
  215                        	; ***************************************************************************
  216                        	;
  217                        	; read_palettes - Read palettes from the VCE into a buffer in RAM.
  218                        	;
  219                        	; Args: _al = Palette index (0..15 for BG, 16..31 for SPR).
  220                        	; Args: _ah = Palette count (1..32).
  221                        	; Args: _di = Pointer to palette data destination in RAM.
  222                        	;
  223                        	; The transfer is split into 32-byte chunks so that an HSYNC and/or TIMER
  224                        	; IRQ is not delayed for too long while executing.
  225                        	;
  226                        	
  227    1F:CC13             	read_palettes	.proc
  228                        	
  229    1F:CC13  A9 80      	.wait:		lda	#$80			; Acquire color mutex to avoid
  230    1F:CC15  0C 7A 26   			tsb	color_mutex		; conflict with xfer_palettes.
  231    1F:CC18  30 F9      			bmi	.wait
  232                        	
  233               0001     		.if	!CDROM
  234    1F:CC1A  73 51 CC 86			tii	.tai_func, color_tia, 8 ; Copy TAI to RAM.
         1F:CC1E  22 08 00    
  235                        		.endif
  236                        	
  237    1F:CC21  A5 F8      	.next_item:	lda	<_al			; Get the palette number.
  238    1F:CC23  0A         			asl	a
  239    1F:CC24  0A         			asl	a
  240    1F:CC25  0A         			asl	a
  241    1F:CC26  0A         			asl	a
  242    1F:CC27  8D 02 04   			sta	VCE_CTA + 0
  243    1F:CC2A  62         			cla
  244    1F:CC2B  2A         			rol	a
  245    1F:CC2C  8D 03 04   			sta	VCE_CTA + 1
  246                        	
  247    1F:CC2F  A6 F9      			ldx	<_ah			; How many palettes to xfer?
  248                        	
  249    1F:CC31  A5 F1      			lda.h	<_di
  250    1F:CC33  8D 8A 22   			sta	.ram_tai + 4
  251    1F:CC36  A5 F0      			lda.l	<_di
  252    1F:CC38  8D 89 22   	.palette_loop:	sta	.ram_tai + 3
  253                        	
  254               0000     		.if	CDROM
  256                        		.else
  257    1F:CC3B  20 86 22   			jsr	.ram_tai		; Copy 32-bytes from the VCE.
  258                        		.endif
  259                        	
  260    1F:CC3E  18         			clc				; Increment the data ptr to
  261    1F:CC3F  69 20      			adc	#32			; the next 32-byte palette.
  262    1F:CC41  B0 09      			bcs	.next_page
  263                        	
  264    1F:CC43  CA         	.next_palette:	dex				; Any palettes left to xfer?
  265    1F:CC44  D0 F2      			bne	.palette_loop
  266                        	
  267    1F:CC46  9C 7A 26   			stz	color_mutex		; Release color mutex.
  268                        	
  269                        			leave
         1F:CC49  4C EF FF   			jmp	leave_proc
  270                        	
  271    1F:CC4C  EE 8A 22   	.next_page:	inc	.ram_tai + 4
  272    1F:CC4F  80 F2      			bra	.next_palette
  273                        	
  274               0001     		.if	!CDROM
  275               2286     	.ram_tai	=	color_tia		; Use a TIA in RAM.
  276                        	
  277    1F:CC51  F3 04 04 00	.tai_func:	tai	VCE_CTR, 0, 32
         1F:CC55  00 20 00    
  278    1F:CC58  60         			rts
  279                        		.endif	!CDROM
  280                        	
  281                        			.endp
  282                        	
  283               0001     		.ifdef	HUCC
  284    00:E40A             			.alias	_read_palette.3		= read_palettes
  285                        		.endif
  286                        	
  287                        	
  288                        	
  289                        	vce_fade_funcs	.procgroup
  516                        			.endprocgroup
  517                        	
  518                        	
  519                        	
  520                        	; ***************************************************************************
  521                        	; ***************************************************************************
  522                        	;
  523                        	; cross_fade_to - Cross fade a palette in RAM towards a reference palette.
  524                        	;
  525                        	; Args: _al = Number of colors (1..256).
  526                        	; Args: _di = Pointer to faded palette destination in RAM.
  527                        	; Args: _bp = Pointer to reference palette data.
  528                        	; Args:   Y = Bank to map into MPR3 & MPR4, or zero to leave unchanged.
  529                        	;
  530                        	; N.B. Y==0 is only useful if the reference palette data is already mapped!
  531                        	;
  532                        	; N.B. This only updates the palette in RAM by 1 RGB step, so it will need
  533                        	;      to be called 7 times to guarantee that you've reached the target.
  534                        	;
  535                        	
  536    1F:C7CA             	cross_fade_to	.proc
  537                        	
  538    1F:C7CA  43 08      			tma3				; Preserve MPR3.
  539    1F:C7CC  48         			pha
  540    1F:C7CD  43 10      			tma4				; Preserve MPR4.
  541    1F:C7CF  48         			pha
  542                        	
  543    1F:C7D0  98         			tya				; Is there a bank to map?
  544    1F:C7D1  F0 03      			beq	!+
  545                        	
  546    1F:C7D3  20 3B E3   			jsr	map_bp_to_mpr34		; Map data to MPR3 & MPR4.
  547                        	
  548    1F:C7D6  A5 F8      	!:		lda	<_al			; # of colors (1..256).
  549    1F:C7D8  F0 05      			beq	.next_page		; Exactly 256 colors?
  550    1F:C7DA  0A         	!:		asl	a
  551    1F:C7DB  90 07      			bcc	.page_loop
  552    1F:C7DD  F0 FB      			beq	!-			; Exactly 128 colors?
  553                        	
  554    1F:C7DF  38         	.next_page:	sec				; More than 128 colors.
  555    1F:C7E0  E6 ED      			inc.h	<_bp
  556    1F:C7E2  E6 F1      			inc.h	<_di
  557                        	
  558    1F:C7E4  08         	.page_loop:	php				; C is set if more than 128
  559    1F:C7E5  A8         			tay				; colors left to fade.
  560                        	
  561    1F:C7E6  88         	.green:		dey				; Is target green > fade green?
  562               0001     		.if	VCE_SPLIT_CROSS
  563    1F:C7E7  8F F9 31   			bbs0	<_ah, .red
  564                        		.endif
  565    1F:C7EA  B1 EC      			lda	[_bp], y
  566    1F:C7EC  4A         			lsr	a
  567    1F:C7ED  88         			dey
  568    1F:C7EE  B1 EC      			lda	[_bp], y
  569    1F:C7F0  6A         			ror	a
  570    1F:C7F1  29 E0      			and	#%11100000
  571    1F:C7F3  85 00      			sta	<__temp
  572    1F:C7F5  C8         			iny
  573    1F:C7F6  B1 F0      			lda	[_di], y
  574    1F:C7F8  4A         			lsr	a
  575    1F:C7F9  88         			dey
  576    1F:C7FA  B1 F0      			lda	[_di], y
  577    1F:C7FC  6A         			ror	a
  578    1F:C7FD  08         			php
  579    1F:C7FE  AA         			tax
  580    1F:C7FF  29 E0      			and	#%11100000
  581    1F:C801  38         			sec
  582    1F:C802  E5 00      			sbc	<__temp
  583    1F:C804  22         			sax				; Move X to A but keep Z.
  584    1F:C805  F0 08      			beq	.set_green		; Don't update if equal green.
  585    1F:C807  B0 04      			bcs	.dec_green
  586    1F:C809  69 20      	.inc_green:	adc	#%00100000
  587    1F:C80B  80 02      			bra	.set_green
  588    1F:C80D  E9 20      	.dec_green:	sbc	#%00100000
  589    1F:C80F  28         	.set_green:	plp
  590    1F:C810  2A         			rol	a
  591               0001     		.if	VCE_SPLIT_CROSS
  592    1F:C811  91 F0      			sta	[_di], y		; Save lo-byte of updated color.
  593                        		.else
  595                        		.endif
  596    1F:C813  62         			cla
  597    1F:C814  2A         			rol	a
  598    1F:C815  C8         			iny
  599    1F:C816  91 F0      			sta	[_di], y		; Save hi-byte of updated color.
  600               0001     		.if	VCE_SPLIT_CROSS
  601    1F:C818  88         			dey
  602    1F:C819  80 34      			bra	.next_color
  603                        		.endif
  604                        	
  605    1F:C81B  88         	.red:		dey
  606    1F:C81C  B1 EC      			lda	[_bp], y		; Is target red > fade red?
  607    1F:C81E  29 38      			and	#%00111000
  608    1F:C820  85 00      			sta	<__temp
  609               0001     		.if	VCE_SPLIT_CROSS
  610    1F:C822  B1 F0      			lda	[_di], y
  611    1F:C824  AA         			tax
  612                        		.else
  614                        		.endif
  615    1F:C825  29 38      			and	#%00111000
  616    1F:C827  38         			sec
  617    1F:C828  E5 00      			sbc	<__temp
  618    1F:C82A  22         			sax				; Move X to A but keep Z.
  619    1F:C82B  F0 08      			beq	.set_red		; Don't update if equal red.
  620    1F:C82D  B0 04      			bcs	.dec_red
  621    1F:C82F  69 08      	.inc_red:	adc	#%00001000
  622    1F:C831  80 02      			bra	.set_red
  623    1F:C833  E9 08      	.dec_red:	sbc	#%00001000
  624    1F:C835  AA         	.set_red:	tax
  625                        	
  626    1F:C836  B1 EC      	.blue:		lda	[_bp], y		; Is target blue > fade blue?
  627    1F:C838  29 07      			and	#%00000111
  628    1F:C83A  85 00      			sta	<__temp
  629    1F:C83C  8A         			txa
  630    1F:C83D  29 07      			and	#%00000111
  631    1F:C83F  38         			sec
  632    1F:C840  E5 00      			sbc	<__temp
  633    1F:C842  22         			sax				; Move X to A but keep Z.
  634    1F:C843  F0 08      			beq	.set_blue		; Don't update if equal blue.
  635    1F:C845  B0 04      			bcs	.dec_blue
  636    1F:C847  69 01      	.inc_blue:	adc	#%00000001
  637    1F:C849  80 02      			bra	.set_blue
  638    1F:C84B  E9 01      	.dec_blue:	sbc	#%00000001
  639    1F:C84D  91 F0      	.set_blue:	sta	[_di], y		; Save lo-byte of updated color.
  640                        	
  641    1F:C84F  98         	.next_color:	tya				; Last color in the page?
  642    1F:C850  D0 94      			bne	.green
  643    1F:C852  28         			plp				; Are there another 128 colors?
  644    1F:C853  90 07      			bcc	.finished
  645                        	
  646    1F:C855  C6 ED      			dec.h	<_bp			; Fade the 1st 128 colors if
  647    1F:C857  C6 F1      			dec.h	<_di			; there were more than 128.
  648    1F:C859  18         			clc
  649    1F:C85A  80 88      			bra	.page_loop
  650                        	
  651    1F:C85C  68         	.finished:	pla				; Restore MPR4.
  652    1F:C85D  53 10      			tam4
  653    1F:C85F  68         			pla				; Restore MPR3.
  654    1F:C860  53 08      			tam3
  655                        	
  656                        			leave				; All done, phew!
         1F:C862  4C EF FF   			jmp	leave_proc
  657                        	
  658                        			.endp
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
                             #[3]   "..\..\..\include\hucc\vdc.asm"
   40                        			include	"vdc.asm"		; Useful VDC routines.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; vdc.asm
    5                        	;
    6                        	; Useful routines for operating the HuC6270 Video Display Controller.
    7                        	;
    8                        	; These should be located in permanently-accessible memory!
    9                        	;
   10                        	; Copyright John Brandwood 2021-2025.
   11                        	;
   12                        	; Distributed under the Boost Software License, Version 1.0.
   13                        	; (See accompanying file LICENSE_1_0.txt or copy at
   14                        	;  http://www.boost.org/LICENSE_1_0.txt)
   15                        	;
   16                        	; ***************************************************************************
   17                        	; ***************************************************************************
   18                        	
   19                        	;
   20                        	; Include dependancies ...
   21                        	;
   22                        	
   23                        			include "common.asm"		; Common helpers.
   24                        			include "vce.asm"		; Useful VCE routines.
   25                        	
   26                        	;
   27                        	; Choose how much to transfer to VRAM in a single chunk, normally 16-bytes.
   28                        	;
   29                        	; The cycle timings for a TIA-to-VRAM depend upon how the VDC's MWR CPU slots
   30                        	; line up to the CPU's writes, and how long the VDC has to halt the CPU while
   31                        	; it fetches the next scanline's sprite data.
   32                        	;
   33                        	; These cycle timings are for 0 sprites (best) and 16 sprites (worst) ...
   34                        	;
   35                        	; 32-byte TIA takes 270..364 cycles in 5MHz, 242..312 cycles in 7MHz. (8.44 cycles-per-byte best-case at 5MHz.)
   36                        	; 24-byte TIA takes 210..298 cycles in 5MHz, 186..256 cycles in 7MHz. (8.75 cycles-per-byte best-case at 5MHz.)
   37                        	; 16-byte TIA takes 142..234 cycles in 5MHz, 128..200 cycles in 7MHz. (8.88 cycles-per-byte best-case at 5MHz.)
   38                        	;
   39                        	; If a user wishes to be able to put RCR interrupts one-line-after-another,
   40                        	; then it is only safe to use 32-byte chunks if there are no TIMER or IRQ2
   41                        	; interrupts ... which is almost-impossible to rely on in library code!
   42                        	;
   43                        	
   44               0000     		.ifndef	VRAM_XFER_SIZE
   46                        		.endif
   47                        	
   48                        	;
   49                        	; Enable BG & SPR layers, and RCR interrupt.
   50                        	;
   51                        	
   52    00:E40A  A9 04      	set_rcron:	lda	#$04			; Enable RCR interrupt.
   53    00:E40C  80 0A      			bra	!+
   54                        	
   55    00:E40E  A9 80      	set_bgon:	lda	#$80			; Enable BG layer.
   56    00:E410  80 06      			bra	!+
   57                        	
   58    00:E412  A9 40      	set_spron:	lda	#$40			; Enable SPR layer.
   59    00:E414  80 02      			bra	!+
   60                        	
   61    00:E416  A9 C0      	set_dspon:	lda	#$C0			; Enable BG & SPR layers.
   62                        	
   63    00:E418  04 F3      	!:		tsb	<vdc_crl		; These take effect when
   64               0001     		.if	SUPPORT_SGX			; the next VBLANK occurs.
   65    00:E41A  04 03      			tsb	<sgx_crl
   66                        		.endif
   67    00:E41C  60         			rts
   68                        	
   69                        	;
   70                        	; Disable BG & SPR layers, and RCR interrupt.
   71                        	;
   72                        	
   73    00:E41D  A9 04      	set_rcroff:	lda	#$04			; Disable RCR interrupt.
   74    00:E41F  80 0A      			bra	!+
   75                        	
   76    00:E421  A9 80      	set_bgoff:	lda	#$80			; Disable BG layer.
   77    00:E423  80 06      			bra	!+
   78                        	
   79    00:E425  A9 40      	set_sproff:	lda	#$40			; Disable SPR layer.
   80    00:E427  80 02      			bra	!+
   81                        	
   82    00:E429  A9 C0      	set_dspoff:	lda	#$C0			; Disable BG & SPR layers.
   83                        	
   84    00:E42B  14 F3      	!:		trb	<vdc_crl		; These take effect when
   85               0001     		.if	SUPPORT_SGX			; the next VBLANK occurs.
   86    00:E42D  14 03      			trb	<sgx_crl
   87                        		.endif
   88    00:E42F  60         			rts
   89                        	
   90                        	
   91                        	
   92                        	; ***************************************************************************
   93                        	; ***************************************************************************
   94                        	;
   95                        	; Put the _di data pointer into the VDC's MARR or MAWR register.
   96                        	;
   97                        	; N.B. Library code relies on this preserving Y!
   98                        	;
   99                        	; Args: _di + 0 = BAT X coordinate.
  100                        	; Args: _di + 1 = BAT Y coordinate.
  101                        	;
  102                        	; Here because it relies on the "vdc_bat_width" that is defined in this file.
  103                        	;
  104                        	
  105               0001     		.if	SUPPORT_SGX
  106    00:E430  A2 10      	sgx_di_xy_marr:	ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  107    00:E432  F0         			db	$F0			; Turn "clx" into a "beq".
  108                        		.endif
  109                        	
  110    00:E433  82         	vdc_di_xy_marr:	clx				; Offset to PCE VDC.
  111                        	
  112    00:E434  62         	set_di_xy_mawr:	cla
  113    00:E435  3C A5 26   			bit	vdc_bat_width, x	; Set by set_bat_size().
  114    00:E438  30 08      			bmi	.w128
  115    00:E43A  70 03      			bvs	.w64
  116    00:E43C  46 F1      	.w32:		lsr.h	<_di
  117    00:E43E  6A         			ror	a
  118    00:E43F  46 F1      	.w64:		lsr.h	<_di
  119    00:E441  6A         			ror	a
  120    00:E442  46 F1      	.w128:		lsr.h	<_di
  121    00:E444  6A         			ror	a
  122    00:E445  05 F0      			ora.l	<_di
  123    00:E447  85 F0      			sta.l	<_di
  124    00:E449  4C 7F E3   			jmp	set_di_to_mawr		; In "common.asm".
  125                        	
  126                        	
  127                        	
  128    1F:CC59             	vdc_clear_vram	.procgroup			; These routines share code!
  129                        	
  130                        	; ***************************************************************************
  131                        	; ***************************************************************************
  132                        	;
  133                        	; clear_vram_sgx - Clear all of VRAM in the SGX VDC.
  134                        	; clear_vram_vdc - Clear all of VRAM in the PCE VDC.
  135                        	;
  136                        	; Args: _ax = word value to write to the BAT.
  137                        	; Args: _bl = hi-byte of size of BAT (# of words).
  138                        	;
  139                        	
  140               0001     		.if	SUPPORT_SGX
  141    1F:CC59             	clear_vram_sgx	.proc
  142                        	
  143    1F:CC59  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  144    1F:CC5B  F0         			db	$F0			; Turn "clx" into a "beq".
  145                        	
  146    1F:CC5C             			.ref	clear_vram_vdc		; Need clear_vram_vdc
  147                        			.endp
  148                        		.endif
  149                        	
  150    1F:CC5C             	clear_vram_vdc	.proc
  151                        	
  152    1F:CC5C  82         			clx				; Offset to PCE VDC.
  153                        	
  154    1F:CC5D  20 65 FD   	clear_vram_x:	call	clear_bat_x		; Clear the BAT.
  155                        	
  156    1F:CC60  A9 80      			lda	#$80			; Xvert hi-byte of # words
  157    1F:CC62  38         			sec				; in screen to loop count.
  158    1F:CC63  E5 FA      			sbc	<_bl
  159    1F:CC65  4A         			lsr	a
  160                        	
  161                        	;		cly				; Clear the rest of VRAM.
  162    1F:CC66  9E 02 02   			stz	VDC_DL, x
  163    1F:CC69  9E 03 02   	.clr_loop:	stz	VDC_DH, x		; Seperate writes to minimize
  164    1F:CC6C  88         			dey				; VDC MWR penalty.
  165    1F:CC6D  9E 03 02   			stz	VDC_DH, x
  166    1F:CC70  D0 F7      			bne	.clr_loop
  167    1F:CC72  3A         			dec	a
  168    1F:CC73  D0 F4      			bne	.clr_loop
  169                        	
  170                        			leave				; All done, phew!
         1F:CC75  4C EF FF   			jmp	leave_proc
  171                        	
  172                        			.endp
  173                        	
  174                        	
  175                        	
  176                        	; ***************************************************************************
  177                        	; ***************************************************************************
  178                        	;
  179                        	; clear_bat_sgx - Clear the BAT in the SGX VDC.
  180                        	; clear_bat_vdc - Clear the BAT in the PCE VDC.
  181                        	;
  182                        	; Args: _ax = word value to write to the BAT.
  183                        	; Args: _bl = hi-byte of size of BAT (# of words).
  184                        	;
  185                        	
  186               0001     		.if	SUPPORT_SGX
  187                        	clear_bat_sgx	.proc
  193                        			.endp
  194                        		.endif
  195                        	
  196    1F:CC78             	clear_bat_vdc	.proc
  197                        	
  198    1F:CC78  82         			clx				; Offset to PCE VDC.
  199                        	
  200    1F:CC79             			.ref	clear_bat_x		; Need clear_bat_x
  201                        			.endp
  202                        	
  203    1F:CC79             	clear_bat_x	.proc				; HuCC uses this entry point.
  204                        	
  205    1F:CC79  64 F0      			stz	<_di + 0		; Set VDC or SGX destination
  206    1F:CC7B  64 F1      			stz	<_di + 1		; address.
  207    1F:CC7D  20 7F E3   			jsr	set_di_to_mawr
  208                        	
  209    1F:CC80  A5 FA      			lda	<_bl			; Xvert hi-byte of # words
  210    1F:CC82  4A         			lsr	a			; in screen to loop count.
  211                        	
  212    1F:CC83  C2         			cly
  213    1F:CC84  48         	.bat_loop:	pha
  214    1F:CC85  A5 F8      			lda	<_ax + 0
  215    1F:CC87  9D 02 02   			sta	VDC_DL, x
  216    1F:CC8A  A5 F9      			lda	<_ax + 1
  217    1F:CC8C  9D 03 02   	.bat_pair:	sta	VDC_DH, x		; Seperate writes to minimize
  218    1F:CC8F  88         			dey				; VDC MWR penalty.
  219    1F:CC90  9D 03 02   			sta	VDC_DH, x
  220    1F:CC93  D0 F7      			bne	.bat_pair
  221                        	
  222    1F:CC95  68         			pla
  223    1F:CC96  3A         			dec	a
  224    1F:CC97  D0 EB      			bne	.bat_loop
  225                        	
  226                        			leave
         1F:CC99  4C EF FF   			jmp	leave_proc
  227                        	
  228                        			.endp
  229                        	
  230                        			.endprocgroup
  231                        	
  232                        	;
  233                        	;
  234                        	;
  235                        	
  236    1F:C34D             	vdc_set_mode	.procgroup			; These routines share code!
  237                        	
  238                        	; ***************************************************************************
  239                        	; ***************************************************************************
  240                        	;
  241                        	; set_mode_sgx - Set video hardware registers from a data table.
  242                        	; set_mode_vdc - Set video hardware registers from a data table.
  243                        	;
  244                        	; Args: _bp, Y = _farptr to data table mapped into MPR3 & MPR4.
  245                        	;
  246                        	
  247               0001     		.if	SUPPORT_SGX
  248    1F:C34D             	set_mode_sgx	.proc
  249                        	
  250    1F:C34D  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  251    1F:C34F  F0         			db	$F0			; Turn "clx" into a "beq".
  252                        	
  253                        			.endp
  254                        		.endif
  255                        	
  256    1F:C350             	set_mode_vdc	.proc
  257                        	
  258    1F:C350  82         			clx				; Offset to PCE VDC.
  259                        	
  260    1F:C351  F7 F8      			smb7	<_al			; Signal no set_bat_size() yet.
  261                        	
  262    1F:C353  43 08      			tma3				; Preserve MPR3.
  263    1F:C355  48         			pha
  264    1F:C356  43 10      			tma4				; Preserve MPR4.
  265    1F:C358  48         			pha
  266                        	
  267    1F:C359  20 3B E3   			jsr	map_bp_to_mpr34		; Map data to MPR3 & MPR4.
  268                        	
  269    1F:C35C  08         			php				; Disable interrupts.
  270    1F:C35D  78         			sei
  271                        	
  272    1F:C35E  C2         			cly				; Table size is < 256 bytes.
  273                        	
  274    1F:C35F  B1 EC      	.loop:		lda	[_bp], y		; Get the register #, +ve for
  275    1F:C361  F0 46      			beq	.done			; VDC, -128 for VCE_CR.
  276    1F:C363  10 0C      			bpl	.set_vdc_reg
  277                        	
  278                        			; Set the VCE_CR register.
  279                        	
  280    1F:C365  C8         	.set_vce_cr:	iny
  281                        	
  282    1F:C366  B1 EC      			lda	[_bp], y		; Get lo-byte of register.
  283    1F:C368  C8         			iny
  284    1F:C369  8D 44 22   			sta	vce_cr			; No SGX shadow for this!
  285    1F:C36C  8D 00 04   			sta	VCE_CR			; Set the VCE clock speed.
  286    1F:C36F  80 EE      			bra	.loop			; Do not set VDC_MWR reg bits!
  287                        	
  288                        			; Set a VDC register.
  289                        	
  290    1F:C371  C8         	.set_vdc_reg:	iny
  291    1F:C372  9D 00 02   			sta	VDC_AR, x		; Set which VDC register.
  292                        	
  293    1F:C375  C9 05      			cmp	#VDC_CR			; CS if VDC_CR or higher.
  294    1F:C377  F0 14      			beq	.skip_cc
  295    1F:C379  18         			clc				; CC if not VDC_CR.
  296                        	
  297    1F:C37A  49 09      			eor	#VDC_MWR		; Check if this the VDC_MWR
  298    1F:C37C  D0 0F      			bne	.skip_cc		; without changing CC.
  299                        	
  300    1F:C37E  B1 EC      			lda	[_bp], y		; Remember the BAT size so that
  301    1F:C380  8D 42 22   			sta	vdc_mwr			; set_bat_size() can be called.
  302    1F:C383  4A         			lsr	a
  303    1F:C384  4A         			lsr	a
  304    1F:C385  4A         			lsr	a
  305    1F:C386  4A         			lsr	a
  306    1F:C387  85 F8      			sta	<_al
  307    1F:C389  C8         			iny
  308    1F:C38A  C8         			iny
  309    1F:C38B  80 D2      			bra	.loop
  310                        	
  311    1F:C38D  B1 EC      	.skip_cc:	lda	[_bp], y		; Get lo-byte of register.
  312    1F:C38F  C8         			iny
  313    1F:C390  90 08      			bcc	.not_vdc_cr
  314                        	
  315               0001     		.if	SUPPORT_SGX
  316    1F:C392  E0 00      			cpx	#0			; Writing to the VDC or SGX?
  317    1F:C394  F0 02      			beq	.save_crl
  318    1F:C396  29 F7      			and	#$F7			; We only need 1 vblank IRQ!
  319                        		.endif
  320                        	
  321    1F:C398  95 F3      	.save_crl:	sta	<vdc_crl, x		; Save VDC_CR shadow register.
  322                        	
  323    1F:C39A  9D 02 02   	.not_vdc_cr:	sta	VDC_DL, x		; Write to VDC.
  324                        	
  325    1F:C39D  B1 EC      			lda	[_bp], y		; Get hi-byte of register.
  326    1F:C39F  C8         			iny
  327    1F:C3A0  9D 03 02   			sta	VDC_DH, x
  328    1F:C3A3  90 BA      			bcc	.loop			; Next register, please!
  329                        	
  330    1F:C3A5  95 F4      			sta	<vdc_crh, x		; Save VDC_CR shadow register.
  331                        	
  332    1F:C3A7  80 B6      			bra	.loop			; Next register, please!
  333                        	
  334                        			; All registers set!
  335                        	
  336    1F:C3A9  A9 02      	.done:		lda	#VDC_VWR		; Leave with VDC_VWR set.
  337    1F:C3AB  95 F7      			sta	<vdc_reg, x
  338                        	;		lda	<vdc_reg, x		; Restore previous VDC_AR from
  339    1F:C3AD  9D 00 02   			sta	VDC_AR, x		; the shadow variable.
  340                        	
  341    1F:C3B0  28         			plp				; Restore interrupts.
  342                        	
  343    1F:C3B1  68         			pla				; Restore MPR4.
  344    1F:C3B2  53 10      			tam4
  345    1F:C3B4  68         			pla				; Restore MPR3.
  346    1F:C3B5  53 08      			tam3
  347                        	
  348    1F:C3B7  7F F8 07   			bbr7	<_al, set_bat_size	; Update if BAT size changed.
  349                        	
  350                        			leave				; All done, phew!
         1F:C3BA  4C EF FF   			jmp	leave_proc
  351                        	
  352    1F:C3BD             			.ref	set_bat_vdc
  353                        			.endp
  354                        	
  355                        	
  356                        	
  357                        	; ***************************************************************************
  358                        	; ***************************************************************************
  359                        	;
  360                        	; set_bat_sgx - Change the SGX BAT size and initialize variables based on it.
  361                        	; set_bat_vdc - Change the PCE BAT size and initialize variables based on it.
  362                        	;
  363                        	; Args: _al = new size (0-7).
  364                        	;
  365                        	; (VDC_MWR_32x32  >> 4) or in HuCC, SCR_SIZE_32x32.
  366                        	; (VDC_MWR_32x64  >> 4) or in HuCC, SCR_SIZE_32x64.
  367                        	; (VDC_MWR_64x32  >> 4) or in HuCC, SCR_SIZE_64x32.
  368                        	; (VDC_MWR_64x64  >> 4) or in HuCC, SCR_SIZE_64x64.
  369                        	; (VDC_MWR_128x32 >> 4) or in HuCC, SCR_SIZE_128x32.
  370                        	; (VDC_MWR_128x64 >> 4) or in HuCC, SCR_SIZE_128x64.
  371                        	;
  372                        	
  373               0001     		.if	SUPPORT_SGX
  374    1F:C3BD             	set_bat_sgx	.proc
  375                        	
  376    1F:C3BD  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  377    1F:C3BF  F0         			db	$F0			; Turn "clx" into a "beq".
  378                        	
  379    1F:C3C0             			.ref	set_bat_vdc
  380                        			.endp
  381                        		.endif
  382                        	
  383    1F:C3C0             	set_bat_vdc	.proc
  384                        	
  385    1F:C3C0  82         			clx				; Offset to PCE VDC.
  386                        	
  387    1F:C3C1  A5 F8      	set_bat_size:	lda	<_al			; Get BAT size value.
  388    1F:C3C3  29 07      			and	#7			; Sanitize screen size value.
  389    1F:C3C5  A8         			tay
  390    1F:C3C6  0A         			asl	a			; Put it in bits 4..6.
  391    1F:C3C7  0A         			asl	a
  392    1F:C3C8  0A         			asl	a
  393    1F:C3C9  0A         			asl	a
  394    1F:C3CA  85 00      			sta	<__temp
  395                        	
  396    1F:C3CC  B9 0C C4   			lda	.width, y
  397    1F:C3CF  9D A5 26   			sta	vdc_bat_width, x
  398    1F:C3D2  3A         			dec	a
  399    1F:C3D3  9D A7 26   			sta	vdc_bat_x_mask, x
  400                        	
  401    1F:C3D6  B9 14 C4   			lda	.height, y
  402    1F:C3D9  9D A6 26   			sta	vdc_bat_height, x
  403    1F:C3DC  3A         			dec	a
  404    1F:C3DD  9D A8 26   			sta	vdc_bat_y_mask, x
  405                        	
  406    1F:C3E0  B9 1C C4   			lda	.limit, y
  407    1F:C3E3  9D A9 26   			sta	vdc_bat_limit, x
  408                        	
  409    1F:C3E6  B9 24 C4   			lda	.increment, y		; Put the VRAM increment for a
  410    1F:C3E9  95 F4      			sta	<vdc_crh, x		; line into vdc_crh for later.
  411                        	
  412    1F:C3EB  08         			php
  413    1F:C3EC  78         			sei
  414                        	
  415    1F:C3ED  A9 09      			lda	#VDC_MWR
  416    1F:C3EF  9D 00 02   			sta	VDC_AR, x
  417                        	
  418    1F:C3F2  AD 42 22   			lda	vdc_mwr			; Get the MWR access width bits.
  419    1F:C3F5  29 8F      			and	#%10001111
  420    1F:C3F7  05 00      			ora	<__temp
  421               0001     		.if	SUPPORT_SGX
  422    1F:C3F9  E0 00      			cpx	#PCE_VDC_OFFSET		; This has no SGX shadow!
  423    1F:C3FB  D0 03      			bne	!+
  424                        		.endif
  425    1F:C3FD  8D 42 22   			sta	vdc_mwr
  426    1F:C400  9D 02 02   	!:		sta	VDC_DL, x
  427                        	
  428    1F:C403  B5 F7      			lda	<vdc_reg, x		; Restore previous VDC_AR from
  429    1F:C405  9D 00 02   			sta	VDC_AR, x		; the shadow variable.
  430                        	
  431    1F:C408  28         			plp
  432                        	
  433                        			leave
         1F:C409  4C EF FF   			jmp	leave_proc
  434                        	
  435    1F:C40C  20 40 80 80	.width:		db	$20,$40,$80,$80,$20,$40,$80,$80
         1F:C410  20 40 80 80 
  436    1F:C414  20 20 20 20	.height:	db	$20,$20,$20,$20,$40,$40,$40,$40
         1F:C418  40 40 40 40 
  437    1F:C41C  03 07 0F 0F	.limit:		db	$03,$07,$0F,$0F,$07,$0F,$1F,$1F
         1F:C420  07 0F 1F 1F 
  438    1F:C424  08 10 18 18	.increment	db	$08,$10,$18,$18,$08,$10,$18,$18
         1F:C428  08 10 18 18 
  439                        	
  440               26A5     			.bss
  441                        	
  442                        	; **************
  443                        	; 16-bytes of VDC BAT information.
  444                        	;
  445                        	; N.B. MUST be 16-bytes before the SGX versions to use PCE_VDC_OFFSET.
  446                        	;
  447                        	; N.B. Declared inside this .proc so that they can be stripped if unused.
  448                        	
  449                        	; Initialized by set_bat_vdc.
  450    F8:26A5             	vdc_bat_width:	ds	1	; $20, $40, $80
  451    F8:26A6             	vdc_bat_height:	ds	1	; $20, $40
  452    F8:26A7             	vdc_bat_x_mask:	ds	1	; $1F, $3F, $7F
  453    F8:26A8             	vdc_bat_y_mask:	ds	1	; $1F, $3F
  454    F8:26A9             	vdc_bat_limit:	ds	1	; (>$03FF), (>$07FF), (>$0FFF), (>$1FFF)
  455                        	
  456                        	; From blkmap.asm just to avoid wasting .bss space with padding.
  457    F8:26AA             	vdc_map_draw_w:	ds	1	; (SCR_WIDTH / 8) + 1
  458    F8:26AB             	vdc_map_draw_h:	ds	1	; (SCR_HEIGHT / 8) + 1
  459    F8:26AC             	vdc_map_line_w:	ds	1	; Line width of map data in tiles.
  460    F8:26AD             	vdc_map_scrn_w:	ds	1	; Line width of map data in screens.
  461    F8:26AE             	vdc_map_pxl_x:	ds	2	; Current top-left X in pixels.
  462    F8:26B0             	vdc_map_pxl_y:	ds	2	; Current top-left Y in pixels.
  463    F8:26B2             	vdc_map_option:	ds	1	; Flags to disable BAT alignment.
  464                        	
  465                        	; From hucc-old-spr.asm just to avoid wasting .bss space with padding.
  466    F8:26B3             	spr_max:	ds	1
  467    F8:26B4             	spr_clr:	ds	1
  468                        	
  469               0001     		.if	SUPPORT_SGX
  470                        	
  471                        	; **************
  472                        	; 16-bytes of SGX BAT information.
  473                        	;
  474                        	; N.B. MUST be 16-bytes after the VDC versions to use SGX_VDC_OFFSET.
  475                        	;
  476                        	; N.B. Declared inside this .proc so that they can be stripped if unused.
  477                        	
  478                        	; Initialized by set_bat_sgx.
  479    F8:26B5             	sgx_bat_width:	ds	1	; $20, $40, $80
  480    F8:26B6             	sgx_bat_height:	ds	1	; $20, $40
  481    F8:26B7             	sgx_bat_x_mask:	ds	1	; $1F, $3F, $7F
  482    F8:26B8             	sgx_bat_y_mask:	ds	1	; $1F, $3F
  483    F8:26B9             	sgx_bat_limit:	ds	1	; (>$03FF), (>$07FF), (>$0FFF), (>$1FFF)
  484                        	
  485                        	; From blkmap.asm just to avoid wasting .bss space with padding.
  486    F8:26BA             	sgx_map_draw_w:	ds	1	; (SCR_WIDTH / 8) + 1
  487    F8:26BB             	sgx_map_draw_h:	ds	1	; (SCR_HEIGHT / 8) + 1
  488    F8:26BC             	sgx_map_line_w:	ds	1	; Line width of map data in tiles.
  489    F8:26BD             	sgx_map_scrn_w:	ds	1	; Line width of map data in screens.
  490    F8:26BE             	sgx_map_pxl_x:	ds	2	; Current top-left X in pixels.
  491    F8:26C0             	sgx_map_pxl_y:	ds	2	; Current top-left Y in pixels.
  492    F8:26C2             	sgx_map_option:	ds	1	; Flags to disable BAT alignment.
  493                        	
  494                        	; From hucc-old-spr.asm just to avoid wasting .bss space with padding.
  495    F8:26C3             	sgx_spr_max:	ds	1
  496    F8:26C4             	sgx_spr_clr:	ds	1
  497                        	
  498                        		.endif
  499                        	
  500               C42C     			.code
  501                        	
  502                        			.endp
  503                        	
  504                        			.endprocgroup
  505                        	
  506                        	
  507                        	
  508                        	; ***************************************************************************
  509                        	; ***************************************************************************
  510                        	;
  511                        	; sgx_detect - Detect whether we're running on a SuperGrafx (and init VPC).
  512                        	;
  513                        	; Returns: X,C-flag, and "sgx_detected" = NZ, CS if detected.
  514                        	;
  515                        	; ***************************************************************************
  516                        	;
  517                        	; https://web.archive.org/web/20161129055659/http://cgfm2.emuviews.com/txt/sgxtech.txt
  518                        	;
  519                        	; ***************************************************************************
  520                        	;
  521                        	; HuC6202 VIDEO PRIORITY CONTROLLER (huge thanks to Charles MacDonald!)
  522                        	;
  523                        	; The VPC has no access to sprite priority data, it can only sort pixels
  524                        	; based upon which VDC and whether they are "sprite" or "background".
  525                        	;
  526                        	; This can sometimes lead to unexpected results with low-priority sprites.
  527                        	;
  528                        	; VPC registers $0008 and $0009 make up four 4-bit values that define the
  529                        	; enabled layers and priority setting for the four possible window areas.
  530                        	;
  531                        	; Bits 3-0 of $0008 are for the region where Window 1 and 2 overlap
  532                        	; Bits 7-4 of $0008 are for the region occupied by only Window 2
  533                        	; Bits 3-0 of $0009 are for the region occupied by only Window 1
  534                        	; Bits 7-4 of $0009 are for the region where no Window is present
  535                        	;
  536                        	;  Each 4-bit value has the same format:
  537                        	;
  538                        	;  Bit 0: VDC #1 graphics are 0=disabled, 1=enabled
  539                        	;  Bit 1: VDC #2 graphics are 0=disabled, 1=enabled
  540                        	;  Bit 2: Bit 0 of priority setting
  541                        	;  Bit 3: Bit 1 of priority setting
  542                        	;
  543                        	;   Priority Setting 0b00xx: (useful when VDC #1 is a fullscreen HUD)
  544                        	;
  545                        	;    FRONT
  546                        	;     SP1 = VDC #1 (pce) sprite pixels
  547                        	;     BG1 = VDC #1 (pce) background pixels
  548                        	;     SP2 = VDC #2 (sgx) sprite pixels
  549                        	;     BG2 = VDC #2 (sgx) background pixels
  550                        	;    BACK
  551                        	;
  552                        	;   Priority Setting 0b01xx: (useful for parallax backgrounds)
  553                        	;
  554                        	;    FRONT
  555                        	;     SP1 = VDC #1 (pce) sprite pixels
  556                        	;     SP2 = VDC #2 (sgx) sprite pixels
  557                        	;     BG1 = VDC #1 (pce) background pixels
  558                        	;     BG2 = VDC #2 (sgx) background pixels
  559                        	;    BACK
  560                        	;
  561                        	;   Priority Setting 0b10xx: (only useful for special effects)
  562                        	;
  563                        	;    FRONT
  564                        	;     BG1 = VDC #1 (pce) background pixels (transparent where sprites)
  565                        	;     BG2 = VDC #2 (sgx) background pixels
  566                        	;     SP1 = VDC #1 (pce) sprite pixels
  567                        	;     SP2 = VDC #2 (sgx) sprite pixels
  568                        	;    BACK
  569                        	
  570               0001     		.if	SUPPORT_SGX
  571               0001     		.if	1
  572    1F:CC9C             	sgx_detect	.proc
  573                        	
  574    1F:CC9C  A0 7F      			ldy	#$7F			; Use VRAM address $7F7F
  575    1F:CC9E  84 F0      			sty.l	<_di			; because it won't cause
  576    1F:CCA0  84 F1      			sty.h	<_di			; a screen glitch.
  577                        	
  578    1F:CCA2  20 7B E3   			jsr	sgx_di_to_mawr		; Write $0001 to SGX VRAM.
  579    1F:CCA5  A0 01      			ldy	#$01
  580    1F:CCA7  8C 12 02   			sty	SGX_DL
  581    1F:CCAA  9C 13 02   			stz	SGX_DH
  582                        	
  583    1F:CCAD  20 7E E3   			jsr	vdc_di_to_mawr		; Write $0000 to VDC VRAM.
  584    1F:CCB0  9C 02 02   			stz	VDC_DL
  585    1F:CCB3  9C 03 02   			stz	VDC_DH
  586                        	
  587    1F:CCB6  20 6E E3   			jsr	sgx_di_to_marr		; Check value in SGX VRAM.
  588    1F:CCB9  AC 12 02   			ldy	SGX_DL			; $01 if found, $00 if not.
  589    1F:CCBC  8C E8 22   			sty	sgx_detected
  590    1F:CCBF  F0 10      			beq	!+			; Skip the rest if not SGX.
  591                        	
  592    1F:CCC1  20 7B E3   			jsr	sgx_di_to_mawr		; Write $0000 to SGX VRAM
  593    1F:CCC4  9C 12 02   			stz	SGX_DL			; to clean VRAM contents.
  594    1F:CCC7  9C 13 02   			stz	SGX_DH
  595                        	
  596    1F:CCCA  73 D7 CC 08			tii	.vpc_mode, VPC_CR, 8	; Initialize the HuC6202 VPC.
         1F:CCCE  02 08 00    
  597                        	
  598    1F:CCD1  98         	!:		tya
  599    1F:CCD2  AA         			tax				; "leave" copies X back to A.
  600    1F:CCD3  4A         			lsr	a			; Also CC if PCE, CS if SGX.
  601                        	
  602                        			leave				; All done, phew!
         1F:CCD4  4C EF FF   			jmp	leave_proc
  603                        		.else
  618                        		.endif
  619                        	
  620               0000     		.ifndef	SGX_PARALLAX
  622                        		.endif
  623                        	
  624               0000     		.if	SGX_PARALLAX
  629                        		.else
  630    1F:CCD7  00 30      	.vpc_mode:	dw	$3000			; Use SGX as the background
  631    1F:CCD9  00 00      			dw	$0000			; behind a fullscreen HUD.
  632    1F:CCDB  00 00      			dw	$0000
  633    1F:CCDD  00 00      			dw	$0000
  634                        		.endif	SGX_PARALLAX
  635                        	
  636                        			.endp
  637                        	
  638               0000     		.ifndef	CORE_VERSION			; CORE has this in the kernel.
  642                        		.endif	CORE_VERSION
  643                        	
  644                        		.endif	SUPPORT_SGX
  645                        	
  646                        	
  647                        	
  648                        	
  649                        	vdc_copy_to	.procgroup			; These routines share code!
  799                        			.endprocgroup
  800                        	
  801                        	
  802                        	
  803                        	; ***************************************************************************
  804                        	; ***************************************************************************
  805                        	;
  806                        	; init_240x208 - An example of initializing screen and VRAM.
  807                        	;
  808                        	; This can be used as-is, or copied to your own program and modified.
  809                        	;
  810                        	
  811                        	init_240x208	.proc
  892                        			.endp
  893                        	
  894                        	
  895                        	
  896                        	; ***************************************************************************
  897                        	; ***************************************************************************
  898                        	;
  899                        	; init_256x224 - An example of initializing screen and VRAM.
  900                        	;
  901                        	; This can be used as-is, or copied to your own program and modified.
  902                        	;
  903                        	
  904                        	init_256x224	.proc
  985                        			.endp
  986                        	
  987                        	
  988                        	
  989                        	; ***************************************************************************
  990                        	; ***************************************************************************
  991                        	;
  992                        	; init_352x224 - An example of initializing screen and VRAM.
  993                        	;
  994                        	; This can be used as-is, or copied to your own program and modified.
  995                        	;
  996                        	
  997                        	init_352x224	.proc
 1078                        			.endp
 1079                        	
 1080                        	
 1081                        	
 1082                        	; ***************************************************************************
 1083                        	; ***************************************************************************
 1084                        	;
 1085                        	; init_512x224 - An example of initializing screen and VRAM.
 1086                        	;
 1087                        	; This can be used as-is, or copied to your own program and modified.
 1088                        	;
 1089                        	
 1090                        	init_512x224	.proc
 1171                        			.endp
 1172                        	
 1173                        	
 1174                        	
 1175                        	; ***************************************************************************
 1176                        	; ***************************************************************************
 1177                        	;
 1178                        	; init_320x208 - An example of initializing screen and VRAM.
 1179                        	;
 1180                        	; This can be used as-is, or copied to your own program and modified.
 1181                        	;
 1182                        	; This resolution is rarely-seen, but it has no overscan, so it has a use.
 1183                        	;
 1184                        	
 1185                        	init_320x208	.proc
 1266                        			.endp
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   41                        	
                             #[3]   "..\..\..\include\hucc\hucc-math.asm"
   42                        			include	"hucc-math.asm"		; HuCC multiply and divide.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-math.asm
    5                        	;
    6                        	; Basic (i.e. very slow) 8-bit and 16-bit multiply and divide routines.
    7                        	;
    8                        	; Copyright John Brandwood 2021-2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; This is basically a set of SDCC-compatible routines, but using Y:A for the
   18                        	; primary register instead of X:A.
   19                        	;
   20                        	; Using Y:A makes the routines instantly usable with HuCC, and it also makes
   21                        	; them usable with SDCC with just an "sxy" before and after the call.
   22                        	;
   23                        	; ***************************************************************************
   24                        	; ***************************************************************************
   25                        	
   26               E44C     			.code
   27                        	
   28               2000     	multiplier	=	__temp
   29               2094     	multiplicand	=	___SDCC_m6502_ret0
   30               2094     	product		=	multiplicand
   31                        	
   32               2000     	__mulint_PARM_2	=	multiplier
   33                        	
   34               2000     	divisor		=	__temp
   35               2094     	dividend	=	___SDCC_m6502_ret0
   36               2094     	quotient	=	dividend
   37               2096     	remainder	=	___SDCC_m6502_ret2
   38                        	
   39               2000     	__moduint_PARM_2 =	divisor
   40               2000     	__modsint_PARM_2 =	divisor
   41               2000     	__divuint_PARM_2 =	divisor
   42               2000     	__divsint_PARM_2 =	divisor
   43                        	
   44                        	
   45                        	
   46                        	; ***************************************************************************
   47                        	; int
   48                        	; _mulint (int a, int b)
   49                        	;
   50                        	; 1st parameter in Y:A (multiplicand)
   51                        	; 2nd parameter in __mulint_PARM_2 (multiplier)
   52                        	; result in Y:A
   53                        	;
   54                        	; N.B. signed and unsigned multiply only differ in the top 16 of the 32bits!
   55                        	
   56    00:E44C  85 94      	__mulint:	sta	<multiplicand + 0
   57    00:E44E  84 95      			sty	<multiplicand + 1
   58                        	
   59    00:E450  A2 10      			ldx	#16			; Loop 16 times.
   60                        	
   61    00:E452  46 95      			lsr	<multiplicand + 1	; Divide multiplicand by 2
   62    00:E454  66 94      			ror	<multiplicand + 0	; and clear the 16th bit.
   63                        	
   64    00:E456  62         			cla				; Clear top word of product.
   65    00:E457  85 96      			sta.l	<multiplicand + 2
   66    00:E459  90 0B      			bcc	.rotate
   67                        	
   68    00:E45B  A8         	.add:		tay				; Add the 16-bit multiplier to
   69    00:E45C  18         			clc				; top 16-bits of the product.
   70    00:E45D  A5 96      			lda	<multiplicand + 2
   71    00:E45F  65 00      			adc.l	<multiplier
   72    00:E461  85 96      			sta	<multiplicand + 2
   73    00:E463  98         			tya
   74    00:E464  65 01      			adc.h	<multiplier
   75                        	
   76    00:E466  6A         	.rotate:	ror	a			; Rotate product into the top
   77    00:E467  66 96      			ror	<multiplicand + 2	; bits of the multiplicand ...
   78    00:E469  66 95      			ror	<multiplicand + 1	; and divide multiplicand by 2.
   79    00:E46B  66 94      			ror	<multiplicand + 0
   80                        	
   81    00:E46D  CA         			dex
   82    00:E46E  B0 EB      			bcs	.add			; Add multiplier to top word?
   83    00:E470  D0 F4      			bne	.rotate			; Completed 16 bits?
   84                        	
   85    00:E472  85 97      			sta	<multiplicand + 3	; Save top byte of product.
   86                        	
   87    00:E474  A5 94      			lda.l	<multiplicand		; Return the bottom 16-bits of
   88    00:E476  A4 95      			ldy.h	<multiplicand		; the 32-bit product.
   89                        	
   90    00:E478  60         			rts
   91                        	
   92                        	
   93                        	
   94                        	; ***************************************************************************
   95                        	; unsigned int
   96                        	; _divuint (unsigned int x, unsigned int y)
   97                        	;
   98                        	; 1st parameter in Y:A (unsigned dividend)
   99                        	; 2nd parameter in __divuint_PARM_2 (unsigned divisor)
  100                        	; result in Y:A
  101                        	
  102    00:E479  20 81 E4   	__divuint:	jsr	__moduint		; Call the basic uint division.
  103                        	
  104    00:E47C  A5 94      			lda.l	<quotient		; Then get the result from where
  105    00:E47E  A4 95      			ldy.h	<quotient		; it was calculated.
  106    00:E480  60         			rts
  107                        	
  108                        	
  109                        	
  110                        	; ***************************************************************************
  111                        	; unsigned int
  112                        	; _moduint (unsigned int x, unsigned int y)
  113                        	;
  114                        	; 1st parameter in Y:A (unsigned dividend)
  115                        	; 2nd parameter in __moduint_PARM_2 (unsigned divisor)
  116                        	; result in Y:A
  117                        	;
  118                        	; If the dividend has more bits than the divisor, then we need to check the
  119                        	; 17th bit of the remainder!
  120                        	
  121               0000     		.if	0
  176                        		.else
  177                        	
  178    00:E481  85 94      	__moduint:	sta.l	<dividend		; 1st SDCC parameter in Y:A.
  179    00:E483  84 95      			sty.h	<dividend
  180                        	
  181    00:E485  A5 00      	divmoduint:	lda.l	<divisor		; Check for a divide-by-zero.
  182    00:E487  05 01      			ora.h	<divisor
  183    00:E489  F0 FE      	.zero:		beq	.zero
  184                        	
  185    00:E48B  A2 11      			ldx	#16 + 1
  186                        	
  187    00:E48D  C2         			cly				; Clear remainder.
  188    00:E48E  84 97      			sty.h	<remainder
  189                        	
  190    00:E490  98         	.skip:		tya				; Restore remainder lo-byte.
  191                        	
  192    00:E491  26 94      	.loop:		rol.l	<dividend		; Quotient bit -> dividend LSB.
  193    00:E493  26 95      			rol.h	<dividend		; Rotate dividend, MSB -> C.
  194                        	
  195    00:E495  CA         			dex
  196    00:E496  F0 14      			beq	.finished
  197                        	
  198    00:E498  2A         			rol	a			; Rotate C into remainder.
  199    00:E499  26 97      			rol.h	<remainder
  200                        	;		php				; Preserve remainder 17th bit.
  201                        	
  202    00:E49B  A8         			tay				; Preserve remainder lo-byte.
  203                        	
  204    00:E49C  C5 00      			cmp.l	<divisor		; Test divisor.
  205    00:E49E  A5 97      			lda.h	<remainder
  206    00:E4A0  E5 01      			sbc.h	<divisor
  207    00:E4A2  90 EC      			bcc	.skip			; CC if divisor > remainder.
  208                        	
  209                        	;		cmp.l	<divisor		; If the dividend has more bits
  210                        	;		lda.h	<remainder		; than the divisor then we need
  211                        	;		sbc.h	<divisor		; to check the remainder hi-bit.
  212                        	;		bcs	.subtract		; CS if divisor <= remainder.
  213                        	;		plp				; Restore remainder 17th bit.
  214                        	;		bcc	.skip			; CC if divisor > remainder.
  215                        	;		db	$90			; Turn "plp" into "bcc" to skip.
  216                        	;.subtract:	plp				; Discard remainder 17th bit.
  217                        	;		sec
  218                        	
  219    00:E4A4  85 97      			sta.h	<remainder		; Subtract divisor.
  220    00:E4A6  98         			tya
  221    00:E4A7  E5 00      			sbc.l	<divisor
  222    00:E4A9  38         			sec				
  223    00:E4AA  80 E5      			bra	.loop
  224                        	
  225    00:E4AC  A4 97      	.finished:	ldy.h	<remainder		; Get the remainder hi-byte.
  226                        	
  227    00:E4AE  60         			rts
  228                        	
  229                        		.endif
  230                        	
  231                        	
  232                        	
  233                        	; ***************************************************************************
  234                        	; int
  235                        	; _divsint (int x, int y)
  236                        	;
  237                        	; 1st parameter in Y:A (signed dividend)
  238                        	; 2nd parameter in __divsint_PARM_2 (signed divisor)
  239                        	; result in Y:A
  240                        	
  241    00:E4AF  20 B7 E4   	__divsint:	jsr	__modsint		; Call the basic sint division.
  242                        	
  243    00:E4B2  A5 94      			lda.l	<quotient		; Then get the result from where
  244    00:E4B4  A4 95      			ldy.h	<quotient		; it was calculated.
  245    00:E4B6  60         			rts
  246                        	
  247                        	
  248                        	
  249                        	; ***************************************************************************
  250                        	; int
  251                        	; _modsint (int x, int y)
  252                        	;
  253                        	; 1st parameter in Y:A (signed dividend)
  254                        	; 2nd parameter in __modsint_PARM_2 (signed divisor)
  255                        	; result in Y:A
  256                        	
  257    00:E4B7  84 95      	__modsint:	sty.h	<dividend
  258                        	
  259    00:E4B9  C0 80      			cpy	#$80			; Remainder -ve if dividend
  260    00:E4BB  08         			php				; was -ve.
  261    00:E4BC  90 03      			bcc	!+
  262    00:E4BE  20 0E E5   			jsr	neg_yacs		; Negate the dividend.
  263                        	
  264    00:E4C1  85 94      	!:		sta.l	<dividend		; Store the dividend.
  265    00:E4C3  A5 95      			lda.h	<dividend
  266    00:E4C5  84 95      			sty.h	<dividend
  267                        	
  268    00:E4C7  45 01      			eor.h	<divisor		; Quotient is -ve if divisor
  269    00:E4C9  08         			php				; and dividend signs differ.
  270                        	
  271    00:E4CA  A5 01      			lda.h	<divisor		; Is the divisor -ve?
  272    00:E4CC  10 0B      			bpl	!+
  273                        	
  274    00:E4CE  38         			sec				; Negate the divisor.
  275    00:E4CF  62         			cla
  276    00:E4D0  E5 00      			sbc.l	<divisor
  277    00:E4D2  85 00      			sta.l	<divisor
  278    00:E4D4  62         			cla
  279    00:E4D5  E5 01      			sbc.h	<divisor
  280    00:E4D7  85 01      			sta.h	<divisor
  281                        	
  282    00:E4D9  20 85 E4   	!:		jsr	divmoduint		; Do the unsigned division.
  283                        	
  284    00:E4DC  28         	.result:	plp				; Should the quotient be -ve?
  285    00:E4DD  10 0D      			bpl	.remainder
  286                        	
  287    00:E4DF  AA         			tax				; Preserve remainder lo-byte.
  288                        	
  289    00:E4E0  38         			sec				; Then negate the quotient.
  290    00:E4E1  62         			cla
  291    00:E4E2  E5 94      			sbc.l	<dividend
  292    00:E4E4  85 94      			sta.l	<dividend
  293    00:E4E6  62         			cla
  294    00:E4E7  E5 95      			sbc.h	<dividend
  295    00:E4E9  85 95      			sta.h	<dividend
  296                        	
  297    00:E4EB  8A         			txa				; Restore remainder lo-byte.
  298                        	
  299    00:E4EC  28         	.remainder:	plp				; Was the dividend -ve?
  300    00:E4ED  B0 1F      			bcs	neg_yacs		; Then negate the remainder.
  301    00:E4EF  60         			rts
  302                        	
  303                        	
  304                        	
  305                        	; ***************************************************************************
  306                        	; unsigned int
  307                        	; _muluchar (unsigned char x, unsigned char y)
  308                        	;
  309                        	; 1st parameter in A (unsigned multiplicand)
  310                        	; 2nd parameter in Y (unsigned multiplier)
  311                        	; result in Y:A
  312                        	
  313    00:E4F0  84 00      	__muluchar:	sty	<multiplier
  314                        	
  315    00:E4F2  A0 08      	muluchar_a:	ldy	#8			; Loop 8 times.
  316                        	
  317    00:E4F4  4A         			lsr	a			; Divide multiplicand by 2
  318    00:E4F5  85 94      			sta	<multiplicand		; and clear the 8th bit.
  319                        	
  320    00:E4F7  62         			cla				; Clear top byte of product.
  321    00:E4F8  90 03      			bcc	.rotate
  322                        	
  323    00:E4FA  18         	.add:		clc				; Add the 8-bit multiplier to
  324    00:E4FB  65 00      			adc	<multiplier		; top 8-bits of the product.
  325                        	
  326    00:E4FD  6A         	.rotate:	ror	a			; Rotate product into the top
  327    00:E4FE  66 94      			ror	<multiplicand		; bits of the multiplicand.
  328                        	
  329    00:E500  88         			dey
  330    00:E501  B0 F7      			bcs	.add			; Add multiplier to top byte?
  331    00:E503  D0 F8      			bne	.rotate			; Completed 8 bits?
  332                        	
  333    00:E505  A8         			tay				; Return the 16-bit product.
  334    00:E506  A5 94      			lda	<multiplicand
  335                        	
  336    00:E508  60         			rts
  337                        	
  338                        	
  339                        	
  340                        	; ***************************************************************************
  341                        	; signed int
  342                        	; abs (signed int x)
  343                        	;
  344                        	; 1st parameter in Y:A (signed)
  345                        	; result in Y:A
  346                        	
  347    00:E509  C0 80      	_abs:		cpy	#$80			; Is the hi-byte -ve?
  348    00:E50B  90 0B      			bcc	!+
  349                        	
  350    00:E50D  38         	neg_ya:		sec
  351    00:E50E  49 FF      	neg_yacs:	eor	#$FF
  352    00:E510  69 00      			adc	#0
  353    00:E512  42         			say
  354    00:E513  49 FF      			eor	#$FF
  355    00:E515  69 00      			adc	#0
  356    00:E517  42         			say
  357    00:E518  60         	!:		rts
  358                        	
  359    00:E519             	_abs.1		.alias	_abs
  360                        	
  361                        	
  362                        	
  363                        	; ***************************************************************************
  364                        	; signed int
  365                        	; _mulschar (signed char x, signed char y)
  366                        	;
  367                        	; 1st parameter in A (signed multiplicand)
  368                        	; 2nd parameter in Y (signed multiplier)
  369                        	; result in Y:A
  370                        	;
  371                        	; N.B. Y and A get swapped to make the code shorter.
  372                        	
  373    00:E519  85 94      	__mulschar:	sta	<multiplicand		; Remember multiplicand sign.
  374                        	
  375    00:E51B  C9 80      			cmp	#$80			; Is the multiplicand -ve?
  376    00:E51D  90 03      			bcc	!+
  377    00:E51F  49 FF      			eor	#$FF			; Negate the multiplicand.
  378    00:E521  1A         			inc	a
  379    00:E522  85 00      	!:		sta	<multiplier		; Then save it as multiplier.
  380                        	
  381    00:E524  98         			tya				; Product -ve if multiplicand
  382    00:E525  45 94      			eor	<multiplicand		; and multiplier signs differ.
  383    00:E527  08         			php				; Remember product sign.
  384                        	
  385    00:E528  98         			tya				; Is the multiplicand -ve?
  386    00:E529  10 03      			bpl	!+
  387    00:E52B  49 FF      			eor	#$FF			; Negate the multiplicand.
  388    00:E52D  1A         			inc	a
  389                        	
  390    00:E52E  20 F2 E4   	!:		jsr	muluchar_a		; Multiplier already saved.
  391                        	
  392    00:E531  28         			plp				; Is the product -ve?
  393    00:E532  30 D9      			bmi	neg_ya
  394    00:E534  60         			rts
  395                        	
  396                        	
  397                        	
  398                        	; ***************************************************************************
  399                        	; unsigned int
  400                        	; _mulsuchar (signed char x, signed char y)
  401                        	;
  402                        	; 1st parameter in A (unsigned multiplicand)
  403                        	; 2nd parameter in Y (signed multiplier)
  404                        	; result in Y:A
  405                        	;
  406                        	; N.B. Y and A get swapped to make the code shorter.
  407                        	
  408    00:E535  42         	__mulsuchar:	say				; Put the signed param in A.
  409                        			; drop through to __muluschar
  410                        	
  411                        	
  412                        	
  413                        	; ***************************************************************************
  414                        	; signed int
  415                        	; _muluschar (unsigned char x, unsigned char y)
  416                        	;
  417                        	; 1st parameter in A (signed multiplicand)
  418                        	; 2nd parameter in Y (unsigned multiplier)
  419                        	; result in Y:A
  420                        	
  421    00:E536  C9 80      	__muluschar:	cmp	#$80			; Is multiplicand -ve?
  422    00:E538  08         			php				; Remember the sign.
  423    00:E539  90 03      			bcc	!+
  424    00:E53B  49 FF      			eor	#$FF			; Negate multiplicand.
  425    00:E53D  1A         			inc	a
  426                        	
  427    00:E53E  20 F0 E4   	!:		jsr	__muluchar		; Do the unsigned multiply.
  428                        	
  429    00:E541  28         			plp				; Was multiplicand -ve?
  430    00:E542  B0 CA      			bcs	neg_yacs		; Then negate the product.
  431    00:E544  60         			rts
  432                        	
  433                        	
  434                        	
  435                        	; ***************************************************************************
  436                        	; unsigned int
  437                        	; _moduchar (unsigned char x, unsigned char y)
  438                        	;
  439                        	; 1st parameter in A (unsigned dividend)
  440                        	; 2nd parameter in Y (unsigned divisor)
  441                        	; result in Y:A
  442                        	
  443    00:E545  84 00      	__moduchar:	sty.l	<divisor
  444                        	
  445    00:E547  0A         	divmodu8_a:	asl	a			; Rotate dividend, MSB -> C.
  446    00:E548  85 94      			sta.l	<dividend
  447    00:E54A  64 95      			stz.h	<dividend		; Clear quotient hi-byte.
  448                        	
  449    00:E54C  A0 08      			ldy	#8
  450    00:E54E  62         			cla				; Clear remainder.
  451    00:E54F  2A         	.loop:		rol	a			; Rotate C into remainder.
  452    00:E550  C5 00      			cmp	<divisor		; Test divisor.
  453    00:E552  90 02      			bcc	.skip			; CC if divisor > remainder.
  454    00:E554  E5 00      			sbc	<divisor		; Subtract divisor.
  455    00:E556  26 94      	.skip:		rol	<dividend		; Quotient bit -> dividend LSB.
  456    00:E558  88         			dey
  457    00:E559  D0 F4      			bne	.loop
  458                        	
  459    00:E55B  C2         			cly				; Clear hi-byte of return.
  460    00:E55C  60         			rts				; Return the 16-bit remainder.
  461                        	
  462                        	
  463                        	
  464                        	; ***************************************************************************
  465                        	; unsigned int
  466                        	; _divuchar (unsigned char x, unsigned char y)
  467                        	;
  468                        	; 1st parameter in A (unsigned dividend)
  469                        	; 2nd parameter in Y (unsigned divisor)
  470                        	; result in Y:A
  471                        	
  472    00:E55D  20 45 E5   	__divuchar:	jsr	__moduchar
  473                        	
  474    00:E560  A5 94      			lda	<dividend		; Get the dividend lo-byte.
  475    00:E562  60         			rts				; Return the 16-bit dividend.
  476                        	
  477                        	
  478                        	
  479                        	; ***************************************************************************
  480                        	; signed int
  481                        	; _modschar (signed char x, signed char y)
  482                        	;
  483                        	; 1st parameter in A (signed dividend)
  484                        	; 2nd parameter in Y (signed divisor)
  485                        	; result in Y:A
  486                        	
  487    00:E563  AA         	__modschar:	tax				; Preserve the dividend.
  488    00:E564  08         			php				; Remember remainder sign.
  489                        	
  490    00:E565  84 00      			sty	<divisor		; Quotient negative if divisor
  491    00:E567  45 00      			eor	<divisor		; and dividend signs differ.
  492    00:E569  08         			php				; Remember the quotient sign.
  493                        	
  494    00:E56A  98         			tya				; Is the divisor -ve?
  495    00:E56B  10 05      			bpl	!+
  496    00:E56D  49 FF      			eor	#$FF			; Negate the divisor.
  497    00:E56F  1A         			inc	a
  498    00:E570  85 00      			sta	<divisor
  499                        	
  500    00:E572  8A         	!:		txa				; Is the dividend -ve?
  501    00:E573  10 03      			bpl	divmods8_a
  502                        	
  503    00:E575  49 FF      	divmods8_neg:	eor	#$FF			; Negate the dividend.
  504    00:E577  1A         			inc	a
  505                        	
  506    00:E578  20 47 E5   	divmods8_a:	jsr	divmodu8_a		; Do the unsigned division.
  507                        	
  508    00:E57B  28         			plp				; Should the quotient be -ve?
  509    00:E57C  10 0C      			bpl	!+
  510                        	
  511    00:E57E  AA         			tax				; Preserve remainder lo-byte.
  512                        	
  513    00:E57F  38         			sec				; Negate the quotient.
  514    00:E580  62         			cla
  515    00:E581  E5 94      			sbc.l	<dividend
  516    00:E583  85 94      			sta.l	<dividend
  517    00:E585  A9 FF      			lda	#$FF
  518    00:E587  85 95      			sta.h	<dividend
  519                        	
  520    00:E589  8A         			txa				; Restore remainder lo-byte.
  521                        	
  522    00:E58A  28         	!:		plp				; Was the dividend -ve?
  523    00:E58B  10 05      			bpl	!+
  524                        	
  525    00:E58D  49 FF      			eor	#$FF			; Then negate the remainder.
  526    00:E58F  1A         			inc	a
  527    00:E590  A0 FF      			ldy	#$FF
  528                        	
  529    00:E592  60         	!:		rts
  530                        	
  531                        	
  532                        	
  533                        	; ***************************************************************************
  534                        	; signed int
  535                        	; _moduschar (unsigned char x, unsigned char y)
  536                        	;
  537                        	; 1st parameter in A (signed dividend)
  538                        	; 2nd parameter in Y (unsigned divisor)
  539                        	; result in Y:A
  540                        	
  541    00:E593  84 00      	__moduschar:	sty.l	<divisor
  542                        	
  543    00:E595  A8         			tay				; Is the dividend -ve?
  544    00:E596  08         			php				; Remember remainder sign.
  545    00:E597  08         			php				; Remember quotient sign.
  546    00:E598  30 DB      			bmi	divmods8_neg
  547    00:E59A  80 DC      			bra	divmods8_a
  548                        	
  549                        	
  550                        	
  551                        	; ***************************************************************************
  552                        	; unsigned int
  553                        	; _modsuchar (signed char x, signed char y)
  554                        	;
  555                        	; 1st parameter in A (unsigned dividend)
  556                        	; 2nd parameter in Y (signed divisor)
  557                        	; result in Y:A
  558                        	
  559    00:E59C  AA         	__modsuchar:	tax				; Preserve the dividend.
  560    00:E59D  08         			php				; Remember remainder sign.
  561                        	
  562    00:E59E  98         			tya				; Check the divisor sign.
  563    00:E59F  08         			php				; Remember quotient sign.
  564    00:E5A0  10 03      			bpl	!+
  565    00:E5A2  49 FF      			eor	#$FF			; Negate the divisor.
  566    00:E5A4  1A         			inc	a
  567    00:E5A5  85 00      	!:		sta.l	<divisor
  568                        	
  569    00:E5A7  8A         			txa				; Restore the dividend.
  570    00:E5A8  80 CE      			bra	divmods8_a
  571                        	
  572                        	
  573                        	
  574                        	; ***************************************************************************
  575                        	; signed int
  576                        	; _divschar (signed char x, signed char y)
  577                        	;
  578                        	; 1st parameter in A (signed dividend)
  579                        	; 2nd parameter in Y (signed divisor)
  580                        	; result in Y:A
  581                        	
  582    00:E5AA  20 63 E5   	__divschar:	jsr	__modschar
  583                        	
  584    00:E5AD  A5 94      			lda.l	<dividend
  585    00:E5AF  A4 95      			ldy.h	<dividend
  586    00:E5B1  60         			rts
  587                        	
  588                        	
  589                        	
  590                        	; ***************************************************************************
  591                        	; signed int
  592                        	; _divuschar (unsigned char x, unsigned char y)
  593                        	;
  594                        	; 1st parameter in A (signed dividend)
  595                        	; 2nd parameter in Y (unsigned divisor)
  596                        	; result in Y:A
  597                        	
  598    00:E5B2  20 93 E5   	__divuschar:	jsr	__moduschar
  599                        	
  600    00:E5B5  A5 94      			lda.l	<dividend
  601    00:E5B7  A4 95      			ldy.h	<dividend
  602    00:E5B9  60         			rts
  603                        	
  604                        	
  605                        	
  606                        	; ***************************************************************************
  607                        	; unsigned int
  608                        	; _divsuchar (signed char x, signed char y)
  609                        	;
  610                        	; 1st parameter in A (unsigned dividend)
  611                        	; 2nd parameter in Y (signed divisor)
  612                        	; result in Y:A
  613                        	
  614    00:E5BA  20 9C E5   	__divsuchar:	jsr	__modsuchar
  615                        	
  616    00:E5BD  A5 94      			lda.l	<dividend
  617    00:E5BF  A4 95      			ldy.h	<dividend
  618    00:E5C1  60         			rts
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   43                        	
   44                        			; Define in hucc-config.inc to remove this.
   45                        	
   46               0001     		.ifndef	HUCC_NO_DEFAULT_RANDOM
                             #[3]   "..\..\..\include\hucc\random.asm"
   47                        			include	"random.asm"		; Random number generator.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; random.asm
    5                        	;
    6                        	; Pseudo-random number generator (https://github.com/bbbradsmith/prng_6502)
    7                        	;
    8                        	; Copyright Brad Smith 2019.
    9                        	;
   10                        	; License:
   11                        	;
   12                        	; This code and may be used, reused, and modified for any purpose, commercial
   13                        	; or non-commercial.
   14                        	;
   15                        	; Attribution in released binaries or documentation is appreciated but not
   16                        	; required.
   17                        	;
   18                        	; ***************************************************************************
   19                        	; ***************************************************************************
   20                        	;
   21                        	; This is a linear feedback shift register (LFSR) in Galois form, which is
   22                        	; iterated 8 times to produce an 8-bit pseudo-random number.
   23                        	;
   24                        	; Two widths of LFSR are provided:
   25                        	;
   26                        	;  24-bit requires 3 bytes, and repeats after 16777215 calls.
   27                        	;  32-bit requires 4 bytes, and repeats after 4294967295 calls.
   28                        	;
   29                        	; Usage:
   30                        	;
   31                        	;  Initialize the zero-page "random" variable to any value other than 0.
   32                        	;  The size of "random" is 3 or 4 bytes, depending on the width of LFSR
   33                        	;  chosen.
   34                        	;
   35                        	;  Call one of the RNG functions and an 8-bit result will be returned in the
   36                        	;  A-register (with flags), and the Y-register will be clobbered.
   37                        	;
   38                        	;  Do not mix RNGs of different width in the same program, unless you can
   39                        	;  give them each separate "random" state storage.
   40                        	;
   41                        	; ***************************************************************************
   42                        	; ***************************************************************************
   43                        	
   44                        	
   45               0001     		.ifndef	_KICKC				; Variables defined in C?
   46               2098     			.zp
   47    F8:2098             	random:		.ds	4			; Seed is 3 or 4 bytes.
   48               E5C2     			.code
   49                        		.endif	_KICKC
   50                        	
   51                        	
   52                        	
   53                        	; ***************************************************************************
   54                        	; ***************************************************************************
   55                        	;
   56                        	; init_random - Initialize a 32-bit LFSR using an 8-bit seed value in Y.
   57                        	;
   58                        	; The LFSR is initialized to n'th entry of a standard CRC-32 lookup-table,
   59                        	; which gives it a decent distribution of bits.
   60                        	;
   61                        	; Since seed is an 8-bit value, there are 255 (256-1) possible starting
   62                        	; states for the LFSR, because 0 would generate a 0 state.
   63                        	;
   64                        	; CRC-32 code by Paul Guertin. See http://6502.org/source/integers/crc.htm
   65                        	;
   66                        	
   67    1F:CD9E             	init_random	.proc
   68                        	
   69    1F:CD9E  A9 01      			lda	#1			; Init CRC-32 table value.
   70    1F:CDA0  85 98      			sta	<random + 0
   71    1F:CDA2  98         			tya				; Get and check the seed value.
   72    1F:CDA3  D0 01      			bne	.reverse_seed
   73    1F:CDA5  3A         			dec	a			; Which must be non-zero!
   74    1F:CDA6  4A         	.reverse_seed:	lsr	a			; Reverse the bits so that small changes
   75    1F:CDA7  26 98      			rol	<random + 0		; in the seed make larger differences in
   76    1F:CDA9  90 FB      			bcc	.reverse_seed		; the initial state.
   77                        	
   78    1F:CDAB  64 99      			stz	<random + 1		; A contains the high byte of the CRC-32.
   79    1F:CDAD  64 9A      			stz	<random + 2		; The other three bytes are in memory.
   80    1F:CDAF  62         			cla
   81                        	
   82    1F:CDB0  A0 08      			ldy	#8			; Y counts bits in a byte.
   83    1F:CDB2  4A         	.bit_loop:	lsr	a			; The CRC-32 algorithm is similar to CRC-16
   84    1F:CDB3  66 9A      			ror	<random + 2		; except that it is reversed (originally for
   85    1F:CDB5  66 99      			ror	<random + 1		; hardware reasons). This is why we shift
   86    1F:CDB7  66 98      			ror	<random + 0		; right instead of left here.
   87    1F:CDB9  90 16      			bcc	.no_add			; Do nothing if no overflow,
   88    1F:CDBB  49 ED      			eor	#$ED			; else add CRC-32 polynomial $EDB88320.
   89                        	
   90    1F:CDBD  48         			pha				; Save high byte while we do others.
   91    1F:CDBE  A5 9A      			lda	<random + 2
   92    1F:CDC0  49 B8      			eor	#$B8			; Most reference books give the CRC-32 poly
   93    1F:CDC2  85 9A      			sta	<random + 2		; as $04C11DB7. This is actually the same if
   94    1F:CDC4  A5 99      			lda	<random + 1		; you write it in binary and read it right-
   95    1F:CDC6  49 83      			eor	#$83			; to-left instead of left-to-right. Doing it
   96    1F:CDC8  85 99      			sta	<random + 1		; this way means we won't have to explicitly
   97    1F:CDCA  A5 98      			lda	<random + 0		; reverse things afterwards.
   98    1F:CDCC  49 20      			eor	#$20
   99    1F:CDCE  85 98      			sta	<random + 0
  100    1F:CDD0  68         			pla				; Restore high byte.
  101                        	
  102    1F:CDD1  88         	.no_add:	dey				; Do next bit.
  103    1F:CDD2  D0 DE      			bne	.bit_loop
  104                        	
  105    1F:CDD4  85 9B      			sta	<random + 3		; Save CRC-32 high-byte.
  106                        	
  107                        			leave				; All done!
         1F:CDD6  4C EF FF   			jmp	leave_proc
  108                        	
  109                        			.endp
  110                        	
  111                        	
  112                        	
  113                        	; ***************************************************************************
  114                        	; ***************************************************************************
  115                        	;
  116                        	; get_random - 8-bit LFSR pseudo-random number with a 24-bit cycle.
  117                        	;
  118                        	; The pseudo-random sequence repeats after (2^24)-1 calls.
  119                        	;
  120                        	; Written by Wim Couwenberg, see ...
  121                        	;
  122                        	; "https://wimcouwenberg.wordpress.com/2020/11/15/ ...
  123                        	;  a-fast-24-bit-prng-algorithm-for-the-6502-processor/"
  124                        	;
  125                        	; Takes 68 cycles on the HuC6280, incl JSR & RTS.
  126                        	;
  127                        	; N.B. HuCC library code relies on this preserving X and Y!
  128                        	;
  129                        	
  130    00:E5C2  C2         	_rand8:		cly				; Entry point for HuCC.
  131                        	
  132    00:E5C3  A5 98      	get_random:	lda	<random + 0		; Operation 7 (with carry clear).
  133    00:E5C5  0A         			asl	a
  134    00:E5C6  45 99      			eor	<random + 1
  135    00:E5C8  85 99      			sta	<random + 1
  136    00:E5CA  2A         			rol	a             		; Operation 9.
  137    00:E5CB  45 9A      			eor	<random + 2
  138    00:E5CD  85 9A      			sta	<random + 2
  139    00:E5CF  45 98      			eor	<random + 0		; Operation 5.
  140    00:E5D1  85 98      			sta	<random + 0
  141    00:E5D3  A5 99      			lda	<random + 1		; Operation 15.
  142    00:E5D5  6A         			ror	a
  143    00:E5D6  45 9A      			eor	<random + 2
  144    00:E5D8  85 9A      			sta	<random + 2
  145    00:E5DA  45 99      			eor	<random + 1		; Operation 6.
  146    00:E5DC  85 99      			sta	<random + 1
  147    00:E5DE  60         			rts
  148                        	
  149                        	
  150                        	
  151               0000     		.if	0
  316                        		.endif
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   48                        		.endif
   49                        	
   50                        			; Optional libraries that get used when their header files
   51                        			; are included in a HuCC project.
   52                        			;
   53                        			; When the HuCC compiler is invoked with the "--legacy"
   54                        			; option to compile old projects, then the "huc.h" file
   55                        			; is automatically included, which then includes a list
   56                        			; of specific headers corresponding to HuC's library.
   57                        	
   58               0001     		.ifdef	HUCC_USES_GFX
                             #[3]   "..\..\..\include\hucc\hucc-gfx.asm"
   59                        			include	"hucc-gfx.asm"		; Set in hucc_gfx.h
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; huc-gfx.asm
    5                        	;
    6                        	; Based on the original HuC and MagicKit functions by David Michel and the
    7                        	; other original HuC developers.
    8                        	;
    9                        	; Modifications copyright John Brandwood 2024-2025.
   10                        	;
   11                        	; Distributed under the Boost Software License, Version 1.0.
   12                        	; (See accompanying file LICENSE_1_0.txt or copy at
   13                        	;  http://www.boost.org/LICENSE_1_0.txt)
   14                        	;
   15                        	; ***************************************************************************
   16                        	; ***************************************************************************
   17                        	
   18                        	;
   19                        	; Include dependancies ...
   20                        	;
   21                        	
   22                        			include "common.asm"		; Common helpers.
   23                        			include "vce.asm"		; Useful VCE routines.
   24                        			include "vdc.asm"		; Useful VCE routines.
   25                        	
   26                        	
   27                        	
   28                        	; ***************************************************************************
   29                        	; ***************************************************************************
   30                        	;
   31                        	; void __fastcall disp_on( void );
   32                        	; void __fastcall disp_off( void );
   33                        	
   34    00:E5DF             			.alias	_disp_on		= set_dspon
   35    00:E5DF             			.alias	_disp_off		= set_dspoff
   36                        	
   37                        	
   38                        	
   39                        	; ***************************************************************************
   40                        	; ***************************************************************************
   41                        	;
   42                        	; void __fastcall set_screen_size( unsigned char value<_al> );
   43                        	; void __fastcall sgx_set_screen_size( unsigned char value<_al> );
   44                        	;
   45                        	
   46    00:E5DF             			.alias	_set_screen_size.1	= set_bat_vdc
   47    00:E5DF             			.alias	_sgx_set_screen_size.1	= set_bat_sgx
   48                        	
   49                        	
   50                        	
   51                        	; ***************************************************************************
   52                        	; ***************************************************************************
   53                        	;
   54                        	; void __fastcall init_256x224( void );
   55                        	
   56    1F:CACD             	_init_256x224	.proc
   57                        	
   58               0800     	.BAT_SIZE	=	64 * 32
   59               0080     	.CHR_0x20	=	.BAT_SIZE / 16		; 1st tile # after the BAT.
   60               7F00     	.SAT_ADDR	=	$7F00			; SAT takes 16 tiles of VRAM.
   61                        	
   62    1F:CACD  08         			php				; Disable interrupts.
   63    1F:CACE  78         			sei
   64                        	
   65    1F:CACF  20 5B FD   			call	clear_vce		; Clear all palettes.
   66                        	
   67    1F:CAD2  A9 80      			lda.l	#.CHR_0x20		; CHR # of ASCII ' '.
   68    1F:CAD4  85 F8      			sta.l	<_ax
   69    1F:CAD6  A9 00      			lda.h	#.CHR_0x20
   70    1F:CAD8  85 F9      			sta.h	<_ax
   71                        	
   72    1F:CADA  A9 08      			lda	#>.BAT_SIZE		; Size of BAT in words.
   73    1F:CADC  85 FA      			sta	<_bl
   74                        	
   75    1F:CADE  20 6F FD   			call	clear_vram_vdc		; Clear VRAM.
   76               0001     		.if	SUPPORT_SGX
   77    1F:CAE1  20 51 FD   			call	clear_vram_sgx
   78                        		.endif
   79                        	
   80    1F:CAE4  A9 08      			lda	#<.mode_256x224		; Disable BKG & SPR layers but
   81    1F:CAE6  85 EC      			sta.l	<_bp			; enable RCR & VBLANK IRQ.
   82    1F:CAE8  A9 CB      			lda	#>.mode_256x224
   83    1F:CAEA  85 ED      			sta.h	<_bp
   84                        	
   85               0001     		.if	SUPPORT_SGX
   86    1F:CAEC  20 47 FD   			call	sgx_detect		; Are we really on an SGX?
   87    1F:CAEF  90 05      			bcc	!+
   88    1F:CAF1  A0 1F      			ldy	#^.mode_256x224		; Set SGX 1st, with no VBL.
   89    1F:CAF3  20 3D FD   			call	set_mode_sgx
   90                        		.endif
   91    1F:CAF6  A0 1F      	!:		ldy	#^.mode_256x224		; Set VDC 2nd, VBL allowed.
   92    1F:CAF8  20 33 FD   			call	set_mode_vdc
   93                        	
   94               0001     		.if	SUPPORT_SGX
   95    1F:CAFB  2C 10 02   			bit	SGX_SR			; Purge any overdue RCR.
   96                        		.endif
   97    1F:CAFE  2C 00 02   			bit	VDC_SR			; Purge any overdue VBL.
   98    1F:CB01  28         			plp				; Restore interrupts.
   99                        	
  100    1F:CB02  20 09 E3   			call	wait_vsync		; Wait for the next VBLANK.
  101                        	
  102                        			leave				; All done, phew!
         1F:CB05  4C EF FF   			jmp	leave_proc
  103                        	
  104                        			; A standard 256x224 screen with overscan.
  105                        	
  106    1F:CB08  80         	.mode_256x224:	db	$80			; VCE Control Register.
  107    1F:CB09  04         			db	VCE_CR_5MHz + XRES_SOFT	;   Video Clock + Artifact Reduction
  108                        	
  109    1F:CB0A  09         			db	VDC_MWR			; Memory-access Width Register
  110    1F:CB0B  10 00      			dw	VDC_MWR_64x32 + VDC_MWR_1CYCLE
  111    1F:CB0D  0A         			db	VDC_HSR			; Horizontal Sync Register
  112    1F:CB0E  02 02      			dw	VDC_HSR_256
  113    1F:CB10  0B         			db	VDC_HDR			; Horizontal Display Register
  114    1F:CB11  1F 04      			dw	VDC_HDR_256
  115    1F:CB13  0C         			db	VDC_VPR			; Vertical Sync Register
  116    1F:CB14  02 17      			dw	VDC_VPR_224
  117    1F:CB16  0D         			db	VDC_VDW			; Vertical Display Register
  118    1F:CB17  DF 00      			dw	VDC_VDW_224
  119    1F:CB19  0E         			db	VDC_VCR			; Vertical Display END position Register
  120    1F:CB1A  FF 00      			dw	VDC_VCR_224
  121    1F:CB1C  0F         			db	VDC_DCR			; DMA Control Register
  122    1F:CB1D  10 00      			dw	$0010			;   Enable automatic VRAM->SATB
  123    1F:CB1F  13         			db	VDC_DVSSR		; VRAM->SATB address $7F00
  124    1F:CB20  00 7F      			dw	.SAT_ADDR
  125    1F:CB22  07         			db	VDC_BXR			; Background X-Scroll Register
  126    1F:CB23  00 00      			dw	$0000
  127    1F:CB25  08         			db	VDC_BYR			; Background Y-Scroll Register
  128    1F:CB26  00 00      			dw	$0000
  129    1F:CB28  06         			db	VDC_RCR			; Raster Counter Register
  130    1F:CB29  00 00      			dw	$0000			;   Never occurs!
  131    1F:CB2B  05         			db	VDC_CR			; Control Register
  132    1F:CB2C  0C 00      			dw	$000C			;   Enable VSYNC & RCR IRQ
  133    1F:CB2E  00         			db	0
  134                        	
  135                        			.endp
  136                        	
  137                        	
  138                        	
  139                        	; ***************************************************************************
  140                        	; ***************************************************************************
  141                        	;
  142                        	; void __fastcall init_240x208( void );
  143                        	
  144                        	_init_240x208	.proc
  223                        			.endp
  224                        	
  225                        	
  226                        	
  227                        	; ***************************************************************************
  228                        	; ***************************************************************************
  229                        	;
  230                        	; void __fastcall _macro set_xres( unsigned int x_pixels<_ax> );
  231                        	; void __fastcall _macro sgx_set_xres( unsigned int x_pixels<_ax> );
  232                        	;
  233                        	; void __fastcall set_xres( unsigned int x_pixels<_ax>, unsigned char blur_flag<_bl> );
  234                        	; void __fastcall sgx_set_xres( unsigned int x_pixels<_ax>, unsigned char blur_flag<_bl> );
  235                        	;
  236                        	; blur_flag = XRES_SOFT (default if not specified), XRES_SHARP or XRES_KEEP
  237                        	
  238                        	set_xres_group	.procgroup			; These routines share code!
  337                        			.endprocgroup	; set_xres_group
  338                        	
  339                        	
  340                        	
  341                        	; ***************************************************************************
  342                        	; ***************************************************************************
  343                        	;
  344                        	; HuC VRAM Functions
  345                        	;
  346                        	; ***************************************************************************
  347                        	; ***************************************************************************
  348                        	
  349                        	
  350    02:DF94             	load_vram_group	.procgroup			; These routines share code!
  351                        	
  352                        	; ***************************************************************************
  353                        	; ***************************************************************************
  354                        	;
  355                        	; void __fastcall load_vram( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_words<_ax> );
  356                        	; void __fastcall sgx_load_vram( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_words<_ax> );
  357                        	;
  358                        	; void __fastcall far_load_vram( unsigned int vram<_di>, unsigned int num_words<_ax> );
  359                        	; void __fastcall sgx_far_load_vram( unsigned int vram<_di>, unsigned int num_words<_ax> );
  360                        	;
  361                        	; load_vram_sgx -  copy a block of memory to VRAM
  362                        	; load_vram_vdc -  copy a block of memory to VRAM
  363                        	;
  364                        	; _bp		= BAT memory location
  365                        	; _bp_bank	= BAT bank
  366                        	; _di		= VRAM base address
  367                        	; _ax		= nb of words to copy
  368                        	; ----
  369                        	; N.B. BAT data *must* be word-aligned!
  370                        	
  371               0000     		.ifndef	VRAM_XFER_SIZE
  373                        		.endif
  374                        	
  375    02:DF94             	load_vram_x	.proc
  376                        	
  377    02:DF94  43 08      			tma3
  378    02:DF96  48         			pha
  379    02:DF97  43 10      			tma4
  380    02:DF99  48         			pha
  381                        	
  382    02:DF9A  A4 02      			ldy	<_bp_bank
  383    02:DF9C  20 3B E3   			jsr	map_bp_to_mpr34		; Map data to MPR3 & MPR4.
  384                        	
  385    02:DF9F  20 7F E3   			jsr	set_di_to_mawr
  386                        	
  387                        	;		tii	.vdc_tai, ram_tia, 8
  388                        	
  389               0001     		.if	SUPPORT_SGX
  390    02:DFA2  8A         			txa				; Select which VDC to write
  391    02:DFA3  1A         			inc	a			; to.
  392    02:DFA4  1A         			inc	a
  393    02:DFA5  8D F3 22   			sta.l	ram_tia_dst
  394                        		.endif
  395                        	
  396    02:DFA8  A9 10      			lda	#VRAM_XFER_SIZE		; Split into 16-byte chunks
  397    02:DFAA  8D F5 22   			sta.l	ram_tia_len		; for stable IRQ response.
  398                        	
  399    02:DFAD  A6 EC      			ldx.l	<_bp
  400    02:DFAF  8E F1 22   			stx.l	ram_tia_src
  401    02:DFB2  A4 ED      			ldy.h	<_bp
  402    02:DFB4  8C F2 22   			sty.h	ram_tia_src
  403                        	
  404    02:DFB7  A5 F8      			lda.l	<_ax			; Length in words.
  405    02:DFB9  48         			pha				; Preserve length.l
  406                        	
  407    02:DFBA  46 F9      			lsr.h	<_ax
  408    02:DFBC  6A         			ror	a
  409    02:DFBD  46 F9      			lsr.h	<_ax
  410    02:DFBF  6A         			ror	a
  411    02:DFC0  46 F9      			lsr.h	<_ax
  412    02:DFC2  6A         			ror	a
  413               0000     		.if	VRAM_XFER_SIZE == 32
  416                        		.endif
  417                        	
  418    02:DFC3  22         			sax				; x=chunks-lo
  419    02:DFC4  F0 1F      			beq	.next_block		; a=source-lo, y=source-hi
  420                        	
  421    02:DFC6  20 F0 22   	.chunk_loop:	jsr	ram_tia			; transfer 16-bytes
  422                        	
  423    02:DFC9  18         			clc				; increment source
  424    02:DFCA  69 10      			adc	#VRAM_XFER_SIZE
  425    02:DFCC  8D F1 22   			sta.l	ram_tia_src
  426    02:DFCF  90 11      			bcc	.same_page
  427    02:DFD1  C8         			iny
  428    02:DFD2  10 0B      			bpl	.same_bank		; remap_data
  429                        	
  430    02:DFD4  42         			say
  431    02:DFD5  43 10      			tma4
  432    02:DFD7  53 08      			tam3
  433    02:DFD9  1A         			inc	a
  434    02:DFDA  53 10      			tam4
  435    02:DFDC  A9 60      			lda	#$60
  436    02:DFDE  42         			say
  437                        	
  438    02:DFDF  8C F2 22   	.same_bank:	sty.h	ram_tia_src
  439                        	
  440    02:DFE2  CA         	.same_page:	dex
  441    02:DFE3  D0 E1      			bne	.chunk_loop
  442                        	
  443    02:DFE5  C6 F9      	.next_block:	dec.h	<_ax
  444    02:DFE7  10 DD      			bpl	.chunk_loop
  445                        	
  446    02:DFE9  68         			pla				; Restore length.l
  447    02:DFEA  29 07      			and	#VRAM_XFER_SIZE / 2 - 1
  448    02:DFEC  F0 07      			beq	.done
  449                        	
  450    02:DFEE  0A         			asl	a			; Convert words to bytes.
  451    02:DFEF  8D F5 22   			sta.l	ram_tia_len
  452                        	
  453    02:DFF2  20 F0 22   			jsr	ram_tia			; transfer remainder
  454                        	
  455    02:DFF5  68         	.done:		pla
  456    02:DFF6  53 10      			tam4
  457    02:DFF8  68         			pla
  458    02:DFF9  53 08      			tam3
  459                        	
  460                        			leave
         02:DFFB  4C EF FF   			jmp	leave_proc
  461                        	
  462                        			.endp
  463                        	
  464                        			.endprocgroup	; load_vram_group
  465                        	
  466                        	
  467                        	
  468                        	; ***************************************************************************
  469                        	; ***************************************************************************
  470                        	;
  471                        	; void __fastcall load_bat( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  472                        	; void __fastcall sgx_load_bat( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  473                        	;
  474                        	; void __fastcall far_load_bat( unsigned int vram<_di>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  475                        	; void __fastcall sgx_far_load_bat( unsigned int vram<_di>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  476                        	;
  477                        	; load_bat_sgx - transfer a BAT to VRAM
  478                        	; load_bat_vdc - transfer a BAT to VRAM
  479                        	;
  480                        	; transfer a BAT to VRAM
  481                        	; ----
  482                        	; _bp		= BAT memory location
  483                        	; _bp_bank	= BAT bank
  484                        	; _di		= VRAM base address
  485                        	; _al		= nb of column to copy
  486                        	; _ah		= nb of row
  487                        	; ----
  488                        	; N.B. BAT data *must* be word-aligned!
  489                        	
  490               20EC     	_gfx_load_bat_PARM_2	=	_bp
  491               20F0     	_gfx_load_bat_PARM_3	=	_di
  492               20F8     	_gfx_load_bat_PARM_4	=	_al
  493               20F9     	_gfx_load_bat_PARM_5	=	_ah
  494                        	
  495    1F:CD21             	load_bat_group	.procgroup			; These routines share code!
  496                        	
  497               0001     		.if	SUPPORT_SGX
  498                        			.proc	_sgx_load_bat.4
  505                        			.endp
  506                        		.endif
  507                        	
  508    1F:CD21             			.proc	_load_bat.4
  509    1F:CD21             			.alias	_far_load_bat.3		= _load_bat.4
  510                        	
  511    1F:CD21  82         			clx				; Offset to PCE VDC.
  512                        	
  513    1F:CD22  43 08      			tma3
  514    1F:CD24  48         			pha
  515                        	
  516    1F:CD25  A4 02      			ldy	<_bp_bank
  517    1F:CD27  20 2D E3   			jsr	map_bp_to_mpr3		; Map data to MPR3.
  518                        	
  519    1F:CD2A  A4 EC      			ldy.l	<_bp
  520    1F:CD2C  64 EC      			stz.l	<_bp
  521                        	
  522    1F:CD2E  20 7F E3   	.line_loop:	jsr	set_di_to_mawr
  523                        	
  524    1F:CD31  A5 F8      			lda	<_al
  525    1F:CD33  85 00      			sta	<__temp
  526    1F:CD35  B1 EC      	.tile_loop:	lda	[_bp], y
  527    1F:CD37  9D 02 02   			sta	VDC_DL, x
  528    1F:CD3A  C8         			iny
  529    1F:CD3B  B1 EC      			lda	[_bp], y
  530    1F:CD3D  9D 03 02   			sta	VDC_DH, x
  531    1F:CD40  C8         			iny
  532    1F:CD41  D0 03      			bne	!+
  533    1F:CD43  20 4C E3   			jsr	inc.h_bp_mpr3
  534    1F:CD46  C6 00      	!:		dec	<__temp
  535    1F:CD48  D0 EB      			bne	.tile_loop
  536                        	
  537    1F:CD4A  BD A5 26   			lda	vdc_bat_width, x
  538    1F:CD4D  18         			clc
  539    1F:CD4E  65 F0      			adc.l	<_di
  540    1F:CD50  85 F0      			sta.l	<_di
  541    1F:CD52  90 02      			bcc	!+
  542    1F:CD54  E6 F1      			inc.h	<_di
  543                        	
  544    1F:CD56  C6 F9      	!:		dec	<_ah
  545    1F:CD58  D0 D4      			bne	.line_loop
  546                        	
  547    1F:CD5A  68         			pla
  548    1F:CD5B  53 08      			tam3
  549                        	
  550                        			leave
         1F:CD5D  4C EF FF   			jmp	leave_proc
  551                        	
  552                        			.endp
  553                        	
  554                        			.endprocgroup	; load_bat_group
  555                        	
  556                        	
  557                        	
  558                        	; ***************************************************************************
  559                        	; ***************************************************************************
  560                        	;
  561                        	; void __fastcall load_palette( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp>, unsigned char num_palettes<_ah> );
  562                        	;
  563                        	; void __fastcall far_load_palette( unsigned char palette<_al>, unsigned char num_palettes<_ah> );
  564                        	
  565    1F:CE07             			.proc	_load_palette.3
  566    1F:CE07             			.alias	_far_load_palette.2	= _load_palette.3
  567                        	
  568    1F:CE07  AC 7C 26   			ldy	color_queue_w		; Get the queue's write index.
  569                        	
  570    1F:CE0A  A5 EC      			lda.l	<_bp			; Add this set of palettes to
  571    1F:CE0C  99 8D 26   			sta	color_addr_l, y		; the queue.
  572    1F:CE0F  A5 ED      			lda.h	<_bp
  573    1F:CE11  99 95 26   			sta	color_addr_h, y
  574    1F:CE14  A5 02      			lda	<_bp_bank
  575    1F:CE16  99 9D 26   			sta	color_bank, y
  576    1F:CE19  A5 F8      			lda	<_al
  577    1F:CE1B  99 7D 26   			sta	color_index, y
  578    1F:CE1E  A5 F9      			lda	<_ah
  579    1F:CE20  99 85 26   			sta	color_count, y
  580                        	
  581    1F:CE23  C8         			iny				; Increment the queue index.
  582    1F:CE24  98         			tya
  583    1F:CE25  29 07      			and	#7
  584                        	
  585    1F:CE27  CD 7B 26   	.wait:		cmp	color_queue_r		; If the queue is full, wait
  586    1F:CE2A  F0 FB      			beq	.wait			; for the next VBLANK.
  587                        	
  588    1F:CE2C  8D 7C 26   			sta	color_queue_w		; Signal item is in the queue.
  589                        	
  590                        			leave				; All done, phew!
         1F:CE2F  4C EF FF   			jmp	leave_proc
  591                        	
  592                        			.endp
  593                        	
  594                        	
  595                        	
  596               0000     		.if	0
  620                        		.endif
  621                        	
  622                        	
  623                        	
  624                        	; ***************************************************************************
  625                        	; ***************************************************************************
  626                        	;
  627                        	; void __fastcall load_background( unsigned char __far *tiles<_bp_bank:_bp>, unsigned char __far *palettes<__fbank:__fptr>, unsigned char __far *bat<_cl:_bx>, unsigned char w<_dl>, unsigned char w<_dh> );
  628                        	
  629                        			.proc	_load_background.5
  667                        			.endp
  668                        	
  669                        	
  670                        	
  671                        	; ***************************************************************************
  672                        	; ***************************************************************************
  673                        	;
  674                        	; void __fastcall vram2vram( unsigned int vram_dst<_ax>, unsigned int vram_src<_bx>, unsigned int word_len<_cx> );
  675                        	; void __fastcall sgx_vram2vram( unsigned int vram_dst<_ax>, unsigned int vram_src<_bx>, unsigned int word_len<_cx> );
  676                        	;
  677                        	
  678               0001     		.if	SUPPORT_SGX
  679                        			.proc	_sgx_vram2vram.3
  685                        			.endp
  686                        		.endif
  687                        	
  688    1F:CD60             			.proc	_vram2vram.3
  689                        	
  690    1F:CD60  82         			clx				; Offset to PCE VDC.
  691                        	
  692    1F:CD61  08         			php
  693    1F:CD62  78         			sei
  694    1F:CD63  A9 11      			lda	#VDC_DESR
  695    1F:CD65  9D 00 02   			sta	VDC_AR, x
  696    1F:CD68  A5 F8      			lda.l	<_ax
  697    1F:CD6A  9D 02 02   			sta	VDC_DL, x
  698    1F:CD6D  A5 F9      			lda.h	<_ax
  699    1F:CD6F  9D 03 02   			sta	VDC_DH, x
  700                        	
  701    1F:CD72  A9 10      			lda	#VDC_SOUR
  702    1F:CD74  9D 00 02   			sta	VDC_AR, x
  703    1F:CD77  A5 FA      			lda.l	<_bx
  704    1F:CD79  9D 02 02   			sta	VDC_DL, x
  705    1F:CD7C  A5 FB      			lda.h	<_bx
  706    1F:CD7E  9D 03 02   			sta	VDC_DH, x
  707                        	
  708    1F:CD81  A9 12      			lda	#VDC_LENR
  709    1F:CD83  9D 00 02   			sta	VDC_AR, x
  710    1F:CD86  18         			clc
  711    1F:CD87  A5 FC      			lda.l	<_cx
  712    1F:CD89  69 FF      			adc	#$FF
  713    1F:CD8B  9D 02 02   			sta	VDC_DL, x
  714    1F:CD8E  A5 FD      			lda.h	<_cx
  715    1F:CD90  69 FF      			adc	#$FF
  716    1F:CD92  9D 03 02   			sta	VDC_DH, x
  717                        	
  718    1F:CD95  B5 F7      			lda	<vdc_reg, x
  719    1F:CD97  8D 00 02   			sta	VDC_AR
  720    1F:CD9A  28         			plp
  721                        	
  722                        			leave
         1F:CD9B  4C EF FF   			jmp	leave_proc
  723                        	
  724                        			.endp
  725                        	
  726                        	
  727                        	
  728                        	; ***************************************************************************
  729                        	; ***************************************************************************
  730                        	;
  731                        	; HuC Font Functions
  732                        	;
  733                        	; ***************************************************************************
  734                        	; ***************************************************************************
  735                        	
  736                        	
  737                        	
  738               26C5     			.bss
  739                        	
  740                        	; **************
  741                        	; 16-bytes of VDC BAT information.
  742                        	;
  743                        	; N.B. MUST be 16-bytes before the SGX versions to use PCE_VDC_OFFSET.
  744                        	
  745    F8:26C5             	_vdc_font_base:	ds	2	; Tile number of ASCII '\0'.
  746                        	
  747                        	; From hucc-printf.asm just to avoid wasting .bss space with padding.
  748    F8:26C7             	_vdc_tty_x_lhs:	ds	1	; TTY minimum X position.
  749    F8:26C8             	_vdc_tty_y_top:	ds	1	; TTY minimum Y position.
  750    F8:26C9             	_vdc_tty_x:	ds	1	; TTY current X position.
  751    F8:26CA             	_vdc_tty_y:	ds	1	; TTY current Y position.
  752                        	
  753               0001     		.if	SUPPORT_SGX
  754                        	
  755                        	; **************
  756                        	; 16-bytes of SGX BAT information.
  757                        	;
  758                        	; N.B. MUST be 16-bytes after the VDC versions to use SGX_VDC_OFFSET.
  759                        	
  760    F8:26CB             			ds	10	; Padding to ensure the 16-byte delta.
  761                        	
  762    F8:26D5             	_sgx_font_base:	ds	2	; Tile number of ASCII '\0'.
  763                        	
  764                        	; From hucc-printf.asm just to avoid wasting .bss space with padding.
  765    F8:26D7             	_sgx_tty_x_lhs:	ds	1	; TTY minimum X position.
  766    F8:26D8             	_sgx_tty_y_top:	ds	1	; TTY minimum Y position.
  767    F8:26D9             	_sgx_tty_x:	ds	1	; TTY current X position.
  768    F8:26DA             	_sgx_tty_y:	ds	1	; TTY current Y position.
  769                        	
  770                        		.endif
  771                        	
  772                        	;_font_base	.alias	vdc_font_base
  773                        	
  774               E5DF     			.code
  775                        	
  776                        	
  777                        	
  778                        	; ***************************************************************************
  779                        	; ***************************************************************************
  780                        	;
  781                        	; void __fastcall set_font_addr( unsigned int vram<acc> );
  782                        	; void __fastcall sgx_set_font_addr( unsigned int vram<acc> );
  783                        	
  784               0001     		.if	SUPPORT_SGX
  785    00:E5DF             	_sgx_set_font_addr.1:
  786    00:E5DF  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  787    00:E5E1  F0         			db	$F0			; Turn "clx" into a "beq".
  788                        		.endif
  789                        	
  790    00:E5E2             	_set_font_addr.1:
  791    00:E5E2  82         			clx				; Offset to PCE VDC.
  792                        	
  793    00:E5E3  84 00      	set_font_addr:	sty	<__temp
  794    00:E5E5  46 00      			lsr	<__temp
  795    00:E5E7  6A         			ror	a
  796    00:E5E8  46 00      			lsr	<__temp
  797    00:E5EA  6A         			ror	a
  798    00:E5EB  46 00      			lsr	<__temp
  799    00:E5ED  6A         			ror	a
  800    00:E5EE  46 00      			lsr	<__temp
  801    00:E5F0  6A         			ror	a
  802    00:E5F1  38         			sec
  803    00:E5F2  E9 20      			sbc	#$20
  804    00:E5F4  9D C5 26   			sta.l	_vdc_font_base,x
  805    00:E5F7  B0 02      			bcs	!+
  806    00:E5F9  C6 00      			dec	<__temp
  807                        	
  808    00:E5FB  BD C6 26   	!:		lda.h	_vdc_font_base, x
  809    00:E5FE  29 F0      			and	#$F0
  810    00:E600  05 00      			ora	<__temp
  811    00:E602  9D C6 26   			sta.h	_vdc_font_base, x
  812    00:E605  60         			rts
  813                        	
  814                        	
  815                        	
  816                        	; ***************************************************************************
  817                        	; ***************************************************************************
  818                        	;
  819                        	; void __fastcall set_font_pal( unsigned char palette<acc> );
  820                        	; void __fastcall sgx_set_font_pal( unsigned char palette<acc> );
  821                        	
  822               0001     		.if	SUPPORT_SGX
  823    00:E606             	_sgx_set_font_pal.1:
  824    00:E606  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  825    00:E608  F0         			db	$F0			; Turn "clx" into a "beq".
  826                        		.endif
  827                        	
  828    00:E609             	_set_font_pal:					; For compatibility with HuC.
  829    00:E609             	_set_font_pal.1:
  830    00:E609  82         			clx				; Offset to PCE VDC.
  831    00:E60A  0A         			asl	a
  832    00:E60B  0A         			asl	a
  833    00:E60C  0A         			asl	a
  834    00:E60D  0A         			asl	a
  835    00:E60E  85 00      			sta	<__temp
  836                        	
  837    00:E610  BD C6 26   			lda.h	_vdc_font_base, x
  838    00:E613  29 0F      			and	#$0F
  839    00:E615  05 00      			ora	<__temp
  840    00:E617  9D C6 26   			sta.h	_vdc_font_base, x
  841    00:E61A  60         			rts
  842                        	
  843                        	
  844                        	
  845                        	; ***************************************************************************
  846                        	; ***************************************************************************
  847                        	;
  848                        	; void __fastcall load_font( char far *font<_bp_bank:_bp>, unsigned char count<_al> );
  849                        	;
  850                        	; void __fastcall load_font( char far *font<_bp_bank:_bp>, unsigned char count<_al>, unsigned int vram<acc> );
  851                        	; void __fastcall sgx_load_font( char far *font<_bp_bank:_bp>, unsigned char count<_al>, unsigned int vram<acc> );
  852                        	;
  853                        	; void __fastcall far_load_font( unsigned char count<_al>, unsigned int vram<acc> );
  854                        	; void __fastcall sgx_far_load_font( unsigned char count<_al>, unsigned int vram<acc> );
  855                        	
  856    00:E61B  AC A9 26   	_load_font.2:	ldy	vdc_bat_limit		; Load the font directly
  857    00:E61E  C8         			iny				; after the BAT (stupid!).
  858    00:E61F  62         			cla
  859    00:E620  80 03      			bra	_load_font.3
  860                        	
  861               0001     		.if	SUPPORT_SGX
  862    00:E622             	_sgx_load_font.3:
  863    00:E622  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  864    00:E624  F0         			db	$F0			; Turn "clx" into a "beq".
  865                        		.endif
  866                        	
  867    00:E625  82         	_load_font.3:	clx				; Offset to PCE VDC.
  868                        	
  869    00:E626  85 F0      			sta.l	<_di			; Load the font directly
  870    00:E628  84 F1      			sty.h	<_di			; after the BAT (stupid!).
  871                        	
  872    00:E62A  20 E3 E5   			jsr	set_font_addr		; Set xxx_font_base from addr.
  873                        	
  874    00:E62D  A5 F8      			lda	<__al			; Convert #tiles into #words.
  875    00:E62F  64 F9      			stz	<__ah
  876    00:E631  0A         			asl	a
  877    00:E632  26 F9      			rol	<__ah
  878    00:E634  0A         			asl	a
  879    00:E635  26 F9      			rol	<__ah
  880    00:E637  0A         			asl	a
  881    00:E638  26 F9      			rol	<__ah
  882    00:E63A  0A         			asl	a
  883    00:E63B  26 F9      			rol	<__ah
  884    00:E63D  85 F8      			sta	<__al
  885    00:E63F  4C 1D FF   			jmp	load_vram_x
  886                        	
  887    00:E642             			.alias	_far_load_font.2	= _load_font.3
  888    00:E642             			.alias	_sgx_far_load_font.2	= _sgx_load_font.3
  889                        	
  890                        	
  891                        	
  892                        	; ***************************************************************************
  893                        	; ***************************************************************************
  894                        	;
  895                        	; void __fastcall cls();
  896                        	; void __fastcall sgx_cls();
  897                        	;
  898                        	; void __fastcall cls( int tile<acc> );
  899                        	; void __fastcall sgx_cls( int tile<acc> );
  900                        	
  901               0001     		.if	SUPPORT_SGX
  902    00:E642  A2 10      	_sgx_cls:	ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  903    00:E644  F0         			db	$F0			; Turn "clx" into a "beq".
  904                        		.endif
  905                        	
  906    00:E645  82         	_cls:		clx				; Offset to PCE VDC.
  907                        	
  908    00:E646  BD C5 26   	clear_tty_x:	lda.l	_vdc_font_base, x
  909    00:E649  BC C6 26   			ldy.h	_vdc_font_base, x
  910    00:E64C  18         			clc
  911    00:E64D  69 20      			adc	#' '
  912    00:E64F  90 07      			bcc	!+
  913    00:E651  C8         			iny
  914    00:E652  80 04      			bra	!+
  915                        	
  916               0001     		.if	SUPPORT_SGX
  917    00:E654  A2 10      	_sgx_cls.1:	ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  918    00:E656  F0         			db	$F0			; Turn "clx" into a "beq".
  919                        		.endif
  920                        	
  921    00:E657  82         	_cls.1:		clx
  922                        	
  923    00:E658  85 F8      	!:		sta.l	<_ax			; VRAM word to write.
  924    00:E65A  84 F9      			sty.h	<_ax
  925    00:E65C  BD A9 26   			lda	vdc_bat_limit, x	; BAT size hi-byte.
  926    00:E65F  1A         			inc	a
  927    00:E660  85 FA      			sta	<_bl
  928    00:E662  4C 65 FD   			jmp	clear_bat_x
  929                        	
  930                        	
  931                        	
  932                        	; ***************************************************************************
  933                        	; ***************************************************************************
  934                        	;
  935                        	; void __fastcall __macro load_default_font( void );
  936                        	; void __fastcall __macro sgx_load_default_font( void );
  937                        	;
  938                        	; Args: _bp, _bp_bank = _farptr to font data mapped into MPR3 & MPR4.
  939                        	; Args: _di = VRAM destination address.
  940                        	; Args: monofont_fg = font color (0..15)
  941                        	; Args: monofont_bg = background color (0..15)
  942                        	; Args: _al = number of tiles (aka characters) 0==256
  943                        	
  944    01:DC52             	huc_monofont_x	.proc
  945                        	
  946               26DB     			.bss
  947    F8:26DB             	monofont_fg:	.ds	1
  948    F8:26DC             	monofont_bg:	.ds	1
  949               DC52     			.code
  950                        	
  951    01:DC52  BC A9 26   			ldy	vdc_bat_limit, x	; BAT limit mask hi-byte.
  952    01:DC55  C8         			iny
  953    01:DC56  62         			cla
  954    01:DC57  85 F0      			sta.l	<_di			; Load the font directly
  955    01:DC59  84 F1      			sty.h	<_di			; after the BAT (stupid!).
  956                        	
  957    01:DC5B  20 E3 E5   			jsr	set_font_addr		; Set xxx_font_base from addr.
  958                        	
  959    01:DC5E  A9 E2      			lda.l	#.font
  960    01:DC60  85 EC      			sta.l	<_bp
  961    01:DC62  A9 DC      			lda.h	#.font
  962    01:DC64  85 ED      			sta.h	<_bp
  963                        	
  964    01:DC66  A9 60      			lda	#$60			; #characters.
  965    01:DC68  85 F8      			sta	<_al
  966                        	
  967    01:DC6A  20 7F E3   			jsr	set_di_to_mawr
  968                        	
  969    01:DC6D  AD DB 26   			lda	monofont_fg		; Foreground pixel color.
  970    01:DC70  85 00      			sta	<__temp
  971    01:DC72  AD DC 26   			lda	monofont_bg		; Background pixel color.
  972    01:DC75  DA         			phx
  973    01:DC76  A2 FC      			ldx.l	#_cx			; Create a bit mask for each
  974    01:DC78  9E 00 20   	.bg_loop:	stz	$2000, x		; plane of the background.
  975    01:DC7B  4A         			lsr	a
  976    01:DC7C  90 03      			bcc	.bg_plane
  977    01:DC7E  DE 00 20   			dec	$2000, x
  978    01:DC81  E8         	.bg_plane:	inx
  979    01:DC82  D0 F4      			bne	.bg_loop
  980    01:DC84  FA         			plx
  981                        	
  982    01:DC85  C2         	.tile_loop:	cly
  983                        	
  984    01:DC86  B1 EC      	.plane01:	lda	[_bp], y		; Get font byte.
  985    01:DC88  8F 00 06   			bbs0	<__temp, .set_plane0
  986    01:DC8B  49 FF      	.clr_plane0:	eor	#$FF			; Clr font bits in background.
  987    01:DC8D  25 FC      			and	<_cx + 0
  988    01:DC8F  80 02      			bra	.put_plane0
  989    01:DC91  05 FC      	.set_plane0:	ora	<_cx + 0		; Set font bits in background.
  990    01:DC93  9D 02 02   	.put_plane0:	sta	VDC_DL, x
  991                        	
  992    01:DC96  B1 EC      			lda	[_bp], y		; Get font byte.
  993    01:DC98  9F 00 06   			bbs1	<__temp, .set_plane1
  994    01:DC9B  49 FF      	.clr_plane1:	eor	#$FF			; Clr font bits in background.
  995    01:DC9D  25 FD      			and	<_cx + 1
  996    01:DC9F  80 02      			bra	.put_plane1
  997    01:DCA1  05 FD      	.set_plane1:	ora	<_cx + 1		; Set font bits in background.
  998    01:DCA3  9D 03 02   	.put_plane1:	sta	VDC_DH, x
  999                        	
 1000    01:DCA6  C8         			iny
 1001    01:DCA7  C0 08      			cpy	#8
 1002    01:DCA9  90 DB      			bcc	.plane01
 1003                        	
 1004    01:DCAB  C2         			cly
 1005                        	
 1006    01:DCAC  B1 EC      	.plane23:	lda	[_bp], y		; Get font byte.
 1007    01:DCAE  AF 00 06   			bbs2	<__temp, .set_plane2
 1008    01:DCB1  49 FF      	.clr_plane2:	eor	#$FF			; Clr font bits in background.
 1009    01:DCB3  25 FE      			and	<_cx + 2
 1010    01:DCB5  80 02      			bra	.put_plane2
 1011    01:DCB7  05 FE      	.set_plane2:	ora	<_cx + 2		; Set font bits in background.
 1012    01:DCB9  9D 02 02   	.put_plane2:	sta	VDC_DL, x
 1013                        	
 1014    01:DCBC  B1 EC      			lda	[_bp], y		; Get font byte.
 1015    01:DCBE  BF 00 06   			bbs3	<__temp, .set_plane3
 1016    01:DCC1  49 FF      	.clr_plane3:	eor	#$FF			; Clr font bits in background.
 1017    01:DCC3  25 FF      			and	<_cx + 3
 1018    01:DCC5  80 02      			bra	.put_plane3
 1019    01:DCC7  05 FF      	.set_plane3:	ora	<_cx + 3		; Set font bits in background.
 1020    01:DCC9  9D 03 02   	.put_plane3:	sta	VDC_DH, x
 1021                        	
 1022    01:DCCC  C8         			iny
 1023    01:DCCD  C0 08      			cpy	#8
 1024    01:DCCF  90 DB      			bcc	.plane23
 1025                        	
 1026    01:DCD1  A5 EC      			lda.l	<_bp
 1027    01:DCD3  69 07      			adc	#8-1
 1028    01:DCD5  85 EC      			sta.l	<_bp
 1029    01:DCD7  90 02      			bcc	!+
 1030    01:DCD9  E6 ED      			inc.h	<_bp
 1031                        	
 1032    01:DCDB  C6 F8      	!:		dec	<_al
 1033    01:DCDD  D0 A6      			bne	.tile_loop
 1034                        	
 1035                        			leave				; All done, phew!
         01:DCDF  4C EF FF   			jmp	leave_proc
 1036                        	
 1037    01:DCE2             	.font:		incbin	"data/font8x8-bold-short-iso646-fr.dat", 128
 1038                        	
 1039                        			.endp
 1040                        	
 1041                        	
 1042                        	
 1043                        	; ***************************************************************************
 1044                        	; ***************************************************************************
 1045                        	;
 1046                        	; HuC Text Output
 1047                        	;
 1048                        	; ***************************************************************************
 1049                        	; ***************************************************************************
 1050                        	
 1051                        	
 1052                        	
 1053    1F:C5C9             	vdc_tty_out	.procgroup			; These routines share code!
 1054                        	
 1055                        	; ***************************************************************************
 1056                        	; ***************************************************************************
 1057                        	;
 1058                        	; void __fastcall put_char( unsigned char digit<_bl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
 1059                        	
 1060               0001     		.if	SUPPORT_SGX
 1061                        	put_char_sgx	.proc
 1067                        			.endp
 1068                        		.endif
 1069                        	
 1070    1F:C5C9             	put_char_vdc	.proc
 1071                        	
 1072    1F:C5C9  82         			clx				; Offset to PCE VDC.
 1073                        	
 1074    1F:C5CA  20 34 E4   			jsr	set_di_xy_mawr
 1075                        	
 1076    1F:C5CD  62         			cla				; Push EOL marker.
 1077    1F:C5CE  48         			pha
 1078                        	
 1079    1F:C5CF  A5 FA      			lda	<_bl
 1080    1F:C5D1  48         			pha				; Push character to output.
 1081    1F:C5D2  80 58      			bra	!output+
 1082                        	
 1083    1F:C5D4             			.ref	put_hex_vdc		; Need put_number_vdc
 1084                        			.endp
 1085                        	
 1086    1F:C5D4             			.alias	_put_char.3		= put_char_vdc
 1087                        	
 1088                        	
 1089                        	
 1090                        	; ***************************************************************************
 1091                        	; ***************************************************************************
 1092                        	;
 1093                        	; void __fastcall put_digit( unsigned char digit<_bl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
 1094                        	
 1095               0001     		.if	SUPPORT_SGX
 1096                        	put_digit_sgx	.proc
 1102                        			.endp
 1103                        		.endif
 1104                        	
 1105    1F:C5D4             	put_digit_vdc	.proc
 1106                        	
 1107    1F:C5D4  82         			clx				; Offset to PCE VDC.
 1108                        	
 1109    1F:C5D5  20 34 E4   			jsr	set_di_xy_mawr
 1110                        	
 1111    1F:C5D8  62         			cla				; Push EOL marker.
 1112    1F:C5D9  48         			pha
 1113                        	
 1114    1F:C5DA  A5 FA      			lda	<_bl			; Convert hex digit to ASCII.
 1115    1F:C5DC  29 0F      			and	#$0F
 1116    1F:C5DE  C9 0A      			cmp	#10
 1117    1F:C5E0  90 02      			bcc	!+
 1118    1F:C5E2  69 06      			adc	#6
 1119    1F:C5E4  69 30      	!:		adc	#'0'
 1120    1F:C5E6  48         			pha				; Push character to output.
 1121    1F:C5E7  80 43      			bra	!output+
 1122                        	
 1123    1F:C5E9             			.ref	put_hex_vdc		; Need put_number_vdc
 1124                        			.endp
 1125                        	
 1126    1F:C5E9             			.alias	_put_digit.3		= put_digit_vdc
 1127                        	
 1128                        	
 1129                        	
 1130                        	; ***************************************************************************
 1131                        	; ***************************************************************************
 1132                        	;
 1133                        	; void __fastcall put_hex( unsigned int number<_bx>, unsigned char length<_cl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
 1134                        	
 1135               0001     		.if	SUPPORT_SGX
 1136                        	put_hex_sgx	.proc
 1141                        			.endp
 1142                        		.endif
 1143                        	
 1144    1F:C5E9             	put_hex_vdc	.proc
 1145                        	
 1146    1F:C5E9  82         			clx				; Offset to PCE VDC.
 1147                        	
 1148    1F:C5EA  20 34 E4   			jsr	set_di_xy_mawr
 1149                        	
 1150    1F:C5ED  A4 FC      			ldy	<_cl			; Total #characters to print,
 1151    1F:C5EF  F0 3E      			beq	!exit+			; NOT minimum #characters!
 1152                        	
 1153    1F:C5F1  86 00      			stx	<__temp			; Preserve which VDC.
 1154                        	
 1155    1F:C5F3  82         			clx				; Push EOL marker.
 1156    1F:C5F4  DA         			phx
 1157                        	
 1158    1F:C5F5  B5 FA      	.hex_byte:	lda.l	<_bx, x			; Convert hex digit to ASCII.
 1159    1F:C5F7  29 0F      			and	#$0F
 1160    1F:C5F9  C9 0A      			cmp	#10
 1161    1F:C5FB  90 02      			bcc	!+
 1162    1F:C5FD  69 06      			adc	#6
 1163    1F:C5FF  69 30      	!:		adc	#'0'
 1164    1F:C601  48         			pha				; Push character to output.
 1165    1F:C602  88         			dey
 1166    1F:C603  F0 15      			beq	.hex_done
 1167                        	
 1168    1F:C605  B5 FA      			lda.l	<_bx, x			; Convert hex digit to ASCII.
 1169    1F:C607  4A         			lsr	a
 1170    1F:C608  4A         			lsr	a
 1171    1F:C609  4A         			lsr	a
 1172    1F:C60A  4A         			lsr	a
 1173    1F:C60B  C9 0A      			cmp	#10
 1174    1F:C60D  90 02      			bcc	!+
 1175    1F:C60F  69 06      			adc	#6
 1176    1F:C611  69 30      	!:		adc	#'0'
 1177    1F:C613  48         			pha				; Push character to output.
 1178    1F:C614  88         			dey
 1179    1F:C615  F0 03      			beq	.hex_done
 1180                        	
 1181    1F:C617  E8         			inx
 1182    1F:C618  80 DB      			bra	.hex_byte
 1183                        	
 1184    1F:C61A  A6 00      	.hex_done:	ldx	<__temp			; Restore which VDC.
 1185    1F:C61C  80 0E      			bra	!output+
 1186                        	
 1187    1F:C61E  18         	.write:		clc
 1188    1F:C61F  7D C5 26   			adc.l	_vdc_font_base, x
 1189    1F:C622  9D 02 02   			sta	VDC_DL, x
 1190    1F:C625  62         			cla
 1191    1F:C626  7D C6 26   			adc.h	_vdc_font_base, x
 1192    1F:C629  9D 03 02   			sta	VDC_DH, x
 1193                        	
 1194    1F:C62C  68         	!output:	pla				; Pop the digits and output.
 1195    1F:C62D  D0 EF      			bne	.write
 1196                        	
 1197                        	!exit:		leave				; All done!
         1F:C62F  4C EF FF   			jmp	leave_proc
 1198                        	
 1199                        			.endp
 1200                        	
 1201    1F:C632             			.alias	_put_hex.4 = put_hex_vdc
 1202                        	
 1203                        	
 1204                        	
 1205                        	; ***************************************************************************
 1206                        	; ***************************************************************************
 1207                        	;
 1208                        	; void __fastcall put_number( unsigned int number<_bx>, unsigned char length<_cl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
 1209                        	
 1210               0001     		.if	SUPPORT_SGX
 1211                        	put_number_sgx	.proc
 1216                        			.endp
 1217                        		.endif
 1218                        	
 1219    1F:C632             	put_number_vdc	.proc
 1220                        	
 1221    1F:C632  82         			clx				; Offset to PCE VDC.
 1222                        	
 1223    1F:C633  20 34 E4   			jsr	set_di_xy_mawr
 1224                        	
 1225    1F:C636  A4 FC      			ldy	<_cl			; Total #characters to print,
 1226    1F:C638  F0 F5      			beq	!exit-			; NOT minimum #characters!
 1227                        	
 1228    1F:C63A  86 00      			stx	<__temp			; Preserve which VDC.
 1229                        	
 1230    1F:C63C  82         			clx				; Push EOL marker.
 1231    1F:C63D  DA         			phx
 1232                        	
 1233    1F:C63E  A6 FB      			ldx.h	<_bx			; Is the number -ve?
 1234    1F:C640  86 FC      			stx	<_cl			; Remember this.
 1235    1F:C642  10 10      			bpl	.divide_by_ten
 1236                        	
 1237    1F:C644  38         			sec				; Make the number +ve.
 1238    1F:C645  A5 FA      			lda.l	<_bx
 1239    1F:C647  49 FF      			eor	#$FF
 1240    1F:C649  69 00      			adc	#0
 1241    1F:C64B  85 FA      			sta.l	<_bx
 1242    1F:C64D  8A         			txa
 1243    1F:C64E  49 FF      			eor	#$FF
 1244    1F:C650  69 00      			adc	#0
 1245    1F:C652  85 FB      			sta.h	<_bx
 1246                        	
 1247    1F:C654  A2 10      	.divide_by_ten:	ldx	#16
 1248    1F:C656  62         			cla				; Clear Remainder.
 1249    1F:C657  06 FA      			asl.l	<_bx			; Rotate Dividend, MSB -> C.
 1250    1F:C659  26 FB      			rol.h	<_bx
 1251    1F:C65B  2A         	.divide_loop:	rol	a			; Rotate C into Remainder.
 1252    1F:C65C  C9 0A      			cmp	#10			; Test Divisor.
 1253    1F:C65E  90 02      			bcc	.divide_less		; CC if Divisor > Remainder.
 1254    1F:C660  E9 0A      			sbc	#10			; Subtract Divisor.
 1255    1F:C662  26 FA      	.divide_less:	rol.l	<_bx			; Quotient bit -> Dividend LSB.
 1256    1F:C664  26 FB      			rol.h	<_bx			; Rotate Dividend, MSB -> C.
 1257    1F:C666  CA         			dex
 1258    1F:C667  D0 F2      			bne	.divide_loop
 1259                        	
 1260    1F:C669  18         			clc
 1261    1F:C66A  69 30      			adc	#'0'			; Always leaves C clr.
 1262    1F:C66C  48         			pha				; Push character to output.
 1263    1F:C66D  88         			dey
 1264    1F:C66E  F0 10      			beq	!pad+
 1265    1F:C670  A5 FA      			lda.l	<_bx			; Repeat while non-zero.
 1266    1F:C672  05 FB      			ora.h	<_bx
 1267    1F:C674  D0 DE      			bne	.divide_by_ten
 1268                        	
 1269    1F:C676  A6 00      			ldx	<__temp			; Restore which VDC.
 1270                        	
 1271    1F:C678  A5 FC      			lda	<_cl			; Was the number -ve?
 1272    1F:C67A  10 04      			bpl	!pad+
 1273    1F:C67C  A9 2D      			lda	#'-'			; Output a leading '-'.
 1274    1F:C67E  48         			pha
 1275    1F:C67F  88         			dey
 1276                        	
 1277    1F:C680  A9 20      	!pad:		lda	#' '			; Add padding characters.
 1278    1F:C682  88         	.loop:		dey
 1279    1F:C683  30 A7      			bmi	!output-
 1280    1F:C685  48         			pha
 1281    1F:C686  80 FA      			bra	.loop
 1282                        	
 1283    1F:C688             			.ref	put_hex_vdc		; Need put_number_vdc
 1284                        	
 1285                        			.endp
 1286                        	
 1287    1F:C688             			.alias	_put_number.4 = put_number_vdc
 1288                        	
 1289                        	
 1290                        	
 1291                        	; ***************************************************************************
 1292                        	; ***************************************************************************
 1293                        	;
 1294                        	; void __fastcall put_raw( unsigned int data<_bx>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
 1295                        	
 1296               0001     		.if	SUPPORT_SGX
 1297                        	put_raw_sgx	.proc
 1302                        			.endp
 1303                        		.endif
 1304                        	
 1305                        	put_raw_vdc	.proc
 1318                        			.endp
 1319                        	
 1320    1F:C688             			.alias	_put_raw.3		= put_raw_vdc
 1321                        	
 1322                        			.endprocgroup			; vdc_tty_out
 1323                        	
 1324                        	
 1325                        	
 1326                        	; ***************************************************************************
 1327                        	; ***************************************************************************
 1328                        	;
 1329                        	; void __fastcall put_string( unsigned char *string<_bp>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
 1330                        	;
 1331                        	; N.B. This is not a .proc right now because it is called from procedures
 1332                        	; that contain embedded strings, and the string aren't banked in before
 1333                        	; printing (yet).
 1334                        	
 1335               0001     		.if	SUPPORT_SGX
 1336    00:E665             	_sgx_put_string.3:
 1337    00:E665  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
 1338    00:E667  F0         			db	$F0			; Turn "clx" into a "beq".
 1339                        		.endif
 1340                        	
 1341    00:E668  82         	_put_string.3:	clx				; Offset to PCE VDC.
 1342                        	
 1343    00:E669  20 34 E4   			jsr	set_di_xy_mawr
 1344                        	
 1345    00:E66C  C2         			cly
 1346    00:E66D  B1 EC      	.chr_loop:	lda	[_bp], y
 1347    00:E66F  F0 15      			beq	.done
 1348                        	
 1349    00:E671  18         			clc
 1350    00:E672  7D C5 26   			adc.l	_vdc_font_base, x
 1351    00:E675  9D 02 02   			sta	VDC_DL, x
 1352    00:E678  62         			cla
 1353    00:E679  7D C6 26   			adc.h	_vdc_font_base, x
 1354    00:E67C  9D 03 02   			sta	VDC_DH, x
 1355                        	
 1356    00:E67F  C8         			iny
 1357    00:E680  D0 EB      			bne	.chr_loop
 1358    00:E682  E6 ED      			inc.h	<_bp
 1359    00:E684  80 E7      			bra	.chr_loop
 1360                        	
 1361    00:E686  60         	.done:		rts
 1362                        	
 1363                        	
 1364                        	
 1365                        	; ***************************************************************************
 1366                        	; ***************************************************************************
 1367                        	;
 1368                        	; void __fastcall set_color_rgb( unsigned int index<VCE_CTA>, unsigned char r<_al>, unsigned char g<_ah>, unsigned char b<acc> );
 1369                        	;
 1370                        	; r:	red	RED:	bit 3-5
 1371                        	; g:	green	GREEN:	bit 6-8
 1372                        	; b:	blue	BLUE:	bit 0-2
 1373                        	
 1374    00:E687             	_set_color_rgb.4:
 1375                        	;		and	#7
 1376    00:E687  85 00      			sta	<__temp
 1377    00:E689  A5 F8      			lda	<_al
 1378                        	;		and	#7
 1379    00:E68B  0A         			asl	a
 1380    00:E68C  0A         			asl	a
 1381    00:E68D  0A         			asl	a
 1382    00:E68E  05 00      			ora	<__temp
 1383    00:E690  0A         			asl	a
 1384    00:E691  0A         			asl	a
 1385    00:E692  85 00      			sta	<__temp
 1386    00:E694  A5 F9      			lda	<_ah
 1387                        	;		and	#7
 1388    00:E696  4A         			lsr	a
 1389    00:E697  66 00      			ror	<__temp
 1390    00:E699  4A         			lsr	a
 1391    00:E69A  66 00      			ror	<__temp
 1392    00:E69C  A8         			tay
 1393    00:E69D  A5 00      			lda	<__temp
 1394    00:E69F  8D 04 04   			sta.l	VCE_CTW
 1395    00:E6A2  8C 05 04   			sty.h	VCE_CTW
 1396    00:E6A5  60         			rts
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   60                        		.endif
   61                        	
   62               0001     		.ifdef	HUCC_USES_STRING		; Set in hucc_string.h
                             #[3]   "..\..\..\include\hucc\hucc-string.asm"
   63                        			include	"hucc-string.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-string.asm
    5                        	;
    6                        	; Not-quite-standard, but fast, replacements for <string.h>.
    7                        	;
    8                        	; Copyright John Brandwood 2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; !!! WARNING : non-standard return values !!!
   18                        	;
   19                        	; Strings are limited to a maximum of 255 characters (+ the terminator)!
   20                        	;
   21                        	; The memcpy(), strcpy() and strcat() functions do NOT return the destination
   22                        	; address, and they are declared "void" to check that the value is not used.
   23                        	;
   24                        	; mempcpy() is provided which returns the end address instead of the starting
   25                        	; address, because this is typically more useful.
   26                        	;
   27                        	; Please note that both memcpy() and memset() are implemented using a TII for
   28                        	; speed, and so the length should be < 16 bytes if used in time-critical bits
   29                        	; of code (such as when using a split screen) because they delay interrupts.
   30                        	;
   31                        	; strncpy() and strncat() are not provided, because strncpy() was not created
   32                        	; for the purpose of avoiding string overruns, and strncat() is just a poorly
   33                        	; designed function.
   34                        	;
   35                        	; POSIX strlcpy() and strlcat() are provided instead, but once again they are
   36                        	; slightly non-standard in that the return value when there is an overflow is
   37                        	; the buffer size (so that the overflow can be detected), instead of the full
   38                        	; size of the destination string that was too big to fit in the buffer.
   39                        	;
   40                        	; ***************************************************************************
   41                        	; ***************************************************************************
   42                        	
   43                        	
   44                        	
   45                        	; ***************************************************************************
   46                        	; ***************************************************************************
   47                        	;
   48                        	; void __fastcall strcpy( char *destination<_di>, char *source<_bp> );
   49                        	; void __fastcall strcat( char *destination<_di>, char *source<_bp> );
   50                        	;
   51                        	; unsigned int __fastcall strlcpy( char *destination<_di>, char *source<_bp>, unsigned char size<acc> );
   52                        	; unsigned int __fastcall strlcat( char *destination<_di>, char *source<_bp>, unsigned char size<acc> );
   53                        	; unsigned int __fastcall strlen( char *source<_bp> );
   54                        	;
   55                        	; NOT WORKING YET (needs compiler changes) ...
   56                        	;
   57                        	; void __fastcall strcpy( char *destination<_di>, char __far *source<_bp_bank:_bp> );
   58                        	; void __fastcall strcat( char *destination<_di>, char __far *source<_bp_bank:_bp> );
   59                        	;
   60                        	; unsigned int __fastcall strlcpy( char *destination<_di>, char __far *source<_bp_bank:_bp>, unsigned char size<acc> );
   61                        	; unsigned int __fastcall strlcat( char *destination<_di>, char __far *source<_bp_bank:_bp>, unsigned char size<acc> );
   62                        	; unsigned int __fastcall strlen( char __far *source<_bp_bank:_bp> );
   63                        	
   64    00:E6A6  62         	_strcat:	cla				; Max string length == 256!
   65    00:E6A7  A0 01      			ldy.h	#256
   66                        	
   67    00:E6A9  AA         	_strlcat:	tax				; X = buffer length (1..256).
   68                        	
   69               0000     		.ifdef	_DEBUG
   74                        		.endif
   75                        	
   76    00:E6AA  43 08      			tma3				; Preserve MPR3 and MPR4.
   77    00:E6AC  48         			pha
   78    00:E6AD  43 10      			tma4
   79    00:E6AF  48         			pha
   80                        	
   81                        	;		ldy	<_bp_bank		; Map the source string.
   82                        	;		beq	.no_bank
   83                        	;		jsr	map_bp_to_mpr34
   84                        	
   85    00:E6B0  C2         	.no_bank:	cly
   86                        	
   87    00:E6B1  B1 F0      	.find:		lda	[_di], y		; Find the end of the string.
   88    00:E6B3  F0 08      			beq	.adjust
   89    00:E6B5  C8         			iny
   90    00:E6B6  CA         			dex
   91    00:E6B7  D0 F8      			bne	.find
   92    00:E6B9  98         			tya				; A:Y = buffer length.
   93    00:E6BA  62         			cla
   94    00:E6BB  80 28      			bra	str_overflow
   95                        	
   96    00:E6BD  98         	.adjust:	tya				; Subtract Y from _bp so that
   97    00:E6BE  49 FF      			eor	#$FF			; _bp and _di use the same Y.
   98    00:E6C0  38         			sec
   99    00:E6C1  65 EC      			adc.l	<_bp
  100    00:E6C3  85 EC      			sta.l	<_bp
  101    00:E6C5  B0 0F      			bcs	str_copy
  102    00:E6C7  C6 ED      			dec.h	<_bp
  103    00:E6C9  80 0B      			bra	str_copy
  104                        	
  105                        			;
  106                        	
  107    00:E6CB  62         	_strcpy:	cla				; Max string length == 256!
  108    00:E6CC  A0 01      			ldy.h	#256
  109                        	
  110    00:E6CE  AA         	_strlcpy:	tax				; X = buffer length (1..256).
  111                        	
  112               0000     		.ifdef	_DEBUG
  117                        		.endif
  118                        	
  119    00:E6CF  43 08      			tma3				; Preserve MPR3 and MPR4.
  120    00:E6D1  48         			pha
  121    00:E6D2  43 10      			tma4
  122    00:E6D4  48         			pha
  123                        	
  124                        	;		ldy	<_bp_bank		; Map the source string.
  125                        	;		beq	.no_bank
  126                        	;		jsr	map_bp_to_mpr34
  127                        	
  128    00:E6D5  C2         	.no_bank:	cly
  129                        	
  130    00:E6D6  B1 EC      	str_copy:	lda	[_bp], y
  131    00:E6D8  91 F0      			sta	[_di], y
  132    00:E6DA  F0 1E      			beq	str_exit		; A:Y = string length.
  133    00:E6DC  C8         			iny
  134    00:E6DD  CA         			dex
  135    00:E6DE  D0 F6      			bne	str_copy
  136                        	
  137    00:E6E0  88         			dey
  138    00:E6E1  62         			cla
  139    00:E6E2  91 F0      			sta	[_di], y
  140    00:E6E4  C8         			iny				; A:Y = buffer length.
  141    00:E6E5  D0 13      	str_overflow:	bne	str_exit
  142    00:E6E7  1A         			inc	a			; A:Y = buffer length = 256.
  143    00:E6E8  80 10      			bra	str_exit
  144                        	
  145                        			;
  146                        	
  147    00:E6EA  43 08      	_strlen:	tma3
  148    00:E6EC  48         			pha
  149    00:E6ED  43 10      			tma4
  150    00:E6EF  48         			pha
  151                        	
  152                        	;		ldy	<_bp_bank
  153                        	;		beq	.no_bank
  154                        	;		jsr	map_bp_to_mpr34
  155                        	
  156    00:E6F0  C2         	.no_bank:	cly
  157                        	
  158    00:E6F1  B1 EC      	.find:		lda	[_bp], y
  159    00:E6F3  F0 05      			beq	str_exit
  160    00:E6F5  C8         			iny
  161    00:E6F6  D0 F9      			bne	.find
  162    00:E6F8  A9 01      			lda.h	#256			; A:Y = overflow length = 256.
  163                        	
  164    00:E6FA  AA         	str_exit:	tax				; X:Y = string or buffer length.
  165                        	
  166    00:E6FB  68         			pla				; Restore MPR3 and MPR4.
  167    00:E6FC  53 10      			tam4
  168    00:E6FE  68         			pla
  169    00:E6FF  53 08      			tam3
  170                        	
  171    00:E701  8A         			txa				; A:Y = string or buffer length.
  172    00:E702  42         			say				; Y:A = string or buffer length.
  173                        	
  174    00:E703  60         			rts
  175                        	
  176    00:E704             			.alias	_strlen.1		= _strlen
  177    00:E704             			.alias	_strcpy.2		= _strcpy
  178    00:E704             			.alias	_strcat.2		= _strcat
  179    00:E704             			.alias	_strlcpy.3		= _strlcpy
  180    00:E704             			.alias	_strlcat.3		= _strlcat
  181                        	
  182                        	
  183                        	
  184                        	; ***************************************************************************
  185                        	; ***************************************************************************
  186                        	;
  187                        	; void __fastcall memcpy( unsigned char *destination<ram_tii_dst>, unsigned char  *source<ram_tii_src>, unsigned int count<acc> );
  188                        	; unsigned char * __fastcall mempcpy( unsigned char *destination<ram_tii_dst>, unsigned char  *source<ram_tii_src>, unsigned int count<acc> );
  189                        	;
  190                        	; void __fastcall farmemcpy( unsigned char *destination<ram_tii_dst>, unsigned char __far *source<_bp_bank:ram_tii_src>, unsigned int count<acc> );
  191                        	; unsigned char * __fastcall farmempcpy( unsigned char *destination<ram_tii_dst>, unsigned char __far *source<_bp_bank:ram_tii_src>, unsigned int count<acc> );
  192                        	;
  193                        	; void __fastcall far_memcpy( unsigned char *destination<ram_tii_dst>, unsigned int count<acc> );
  194                        	; unsigned char * __fastcall far_mempcpy( unsigned char *destination<ram_tii_dst>, unsigned int count<acc> );
  195                        	;
  196                        	
  197    00:E704             	_memcpy.3:
  198    00:E704  64 02      	_mempcpy.3:	stz	<_bp_bank		; Map the source memory.
  199                        	
  200    00:E706             	_farmemcpy.3:
  201    00:E706  8C FE 22   	_farmempcpy.3:	sty.h	ram_tii_len		; Check for zero length.
  202    00:E709  8D FD 22   			sta.l	ram_tii_len
  203    00:E70C  0D FE 22   			ora.h	ram_tii_len
  204    00:E70F  F0 18      			beq	.zero_length
  205                        	
  206    00:E711  43 08      			tma3				; Preserve MPR3 and MPR4.
  207    00:E713  48         			pha
  208    00:E714  43 10      			tma4
  209    00:E716  48         			pha
  210                        	
  211    00:E717  A5 02      			lda	<_bp_bank		; Map the source memory.
  212    00:E719  F0 05      			beq	.no_bank
  213                        	
  214    00:E71B  53 08      			tam3				; Put bank into MPR3.
  215    00:E71D  1A         			inc	a
  216    00:E71E  53 10      			tam4				; Put next into MPR4.
  217                        	
  218                        	;		lda.h	ram_tii_src		; Remap ptr to MPR3.
  219                        	;		and	#$1F
  220                        	;		ora	#$60
  221                        	;		sta.h	ram_tii_src
  222                        	
  223    00:E720  20 F8 22   	.no_bank:	jsr	ram_tii			; Copy the memory.
  224                        	
  225    00:E723  68         			pla				; Restore MPR3 and MPR4.
  226    00:E724  53 10      			tam4
  227    00:E726  68         			pla
  228    00:E727  53 08      			tam3
  229                        	
  230    00:E729  18         	.zero_length:	clc				; Return the end address
  231    00:E72A  AD FB 22   			lda.l	ram_tii_dst		; like mempcpy().
  232    00:E72D  6D FD 22   			adc.l	ram_tii_len
  233    00:E730  A8         			tay
  234    00:E731  AD FC 22   			lda.h	ram_tii_dst
  235    00:E734  6D FE 22   			adc.h	ram_tii_len
  236    00:E737  42         			say
  237                        	
  238    00:E738  60         			rts
  239                        	
  240    00:E739             			.alias	_far_memcpy.2		= _farmemcpy.3
  241    00:E739             			.alias	_far_mempcpy.2		= _farmempcpy.3
  242                        	
  243                        	
  244                        	
  245                        	; ***************************************************************************
  246                        	; ***************************************************************************
  247                        	;
  248                        	; void __fastcall memset( unsigned char *destination<ram_tii_src>, unsigned char value<_al>, unsigned int count<acc> );
  249                        	
  250    00:E739  C9 00      	_memset:	cmp	#0			; Decrement the length, check
  251    00:E73B  D0 05      			bne	!+			; for zero and set C. 
  252    00:E73D  C0 00      			cpy	#0
  253    00:E73F  F0 23      			beq	.zero_length
  254    00:E741  88         			dey
  255    00:E742  3A         	!:		dec	a
  256    00:E743  8D FD 22   			sta.l	ram_tii_len
  257    00:E746  8C FE 22   			sty.h	ram_tii_len
  258                        	
  259    00:E749  AD F9 22   			lda.l	ram_tii_src		; ram_tii_dst = ram_tii_src + 1
  260    00:E74C  85 88      			sta.l	<__ptr
  261    00:E74E  69 00      			adc	#0
  262    00:E750  8D FB 22   			sta.l	ram_tii_dst
  263    00:E753  AD FA 22   			lda.h	ram_tii_src
  264    00:E756  85 89      			sta.h	<__ptr
  265    00:E758  69 00      			adc	#0
  266    00:E75A  8D FC 22   			sta.h	ram_tii_dst
  267                        	
  268    00:E75D  A5 F8      			lda	<_al			; Set the fill value.
  269    00:E75F  92 88      			sta	[__ptr]
  270                        	
  271    00:E761  4C F8 22   			jmp	ram_tii			; Copy the memory.
  272                        	
  273    00:E764  60         	.zero_length:	rts
  274                        	
  275    00:E765             			.alias	_memset.3		= _memset
  276                        	
  277                        	
  278                        	
  279                        	; ***************************************************************************
  280                        	; ***************************************************************************
  281                        	;
  282                        	; int __fastcall strcmp( char *string1<_di>, char *string2<_bp> );
  283                        	; int __fastcall strncmp( char *string1<_di>, char *string2<_bp>, unsigned int count<_ax> );
  284                        	;
  285                        	; int __fastcall __macro memcmp( unsigned char *string1<_di>, unsigned char *string2<_bp>, unsigned int count<_ax> );
  286                        	; int __fastcall farmemcmp( unsigned char *string1<_di>, unsigned char __far *string2<_bp_bank:_bp>, unsigned int count<_ax> );
  287                        	; int __fastcall far_memcmp( unsigned char *string1<_di>, unsigned int count<_ax> );
  288                        	;
  289                        	;  0 	if strings are equal
  290                        	;  1 	if the first non-matching character in string1 > string2 (in ASCII).
  291                        	; -1 	if the first non-matching character in string1 < string2 (in ASCII).
  292                        	
  293    1F:CBC8             	hucc_memcmp	.procgroup
  294                        	
  295                        	_strcmp.2	.proc
  300                        			.endp				; Fall through.
  301                        	
  302    1F:CBC8             	_strncmp.3	.proc
  303    1F:CBC8  64 02      			stz	<_bp_bank		; Assume strings are mapped.
  304    1F:CBCA  89 40      			bit	#$40			; Set the V bit for strcmp.
  305    1F:CBCC  50         			db	$50			; Turn "clv" into "bvc".
  306    1F:CBCD             			.ref	_farmemcmp.3		; Don't strip _farmemcmp.3!
  307                        			.endp				; Fall through.
  308                        	
  309    1F:CBCD             	_farmemcmp.3	.proc
  310    1F:CBCD  B8         			clv				; Clr the V bit for memcmp.
  311                        	
  312    1F:CBCE  43 08      			tma3				; Preserve MPR3 and MPR4.
  313    1F:CBD0  48         			pha
  314    1F:CBD1  43 10      			tma4
  315    1F:CBD3  48         			pha
  316                        	
  317    1F:CBD4  A4 02      			ldy	<_bp_bank		; Map string2.
  318    1F:CBD6  F0 03      			beq	.no_bank
  319                        	
  320    1F:CBD8  20 3B E3   			jsr	map_bp_to_mpr34
  321                        	
  322    1F:CBDB  C2         	.no_bank:	cly
  323                        	
  324    1F:CBDC  A6 F8      			ldx.l	<_ax			; Increment length.l
  325    1F:CBDE  E8         			inx
  326    1F:CBDF  CA         	.loop:		dex				; Decrement length.l
  327    1F:CBE0  F0 17      			beq	.page
  328    1F:CBE2  B1 F0      	.test:		lda	[_di], y		; string1 - string2
  329    1F:CBE4  D1 EC      			cmp	[_bp], y
  330    1F:CBE6  90 1E      			bcc	.return_neg		; string1 < string2 
  331    1F:CBE8  D0 17      			bne	.return_pos		; string1 > string2
  332    1F:CBEA  50 04      			bvc	!+			; Only check for end-of-string
  333    1F:CBEC  C9 00      			cmp	#0			; if the V flag is set.
  334    1F:CBEE  F0 0D      			beq	.return_same
  335    1F:CBF0  C8         	!:		iny
  336    1F:CBF1  D0 EC      			bne	.loop
  337    1F:CBF3  E6 F1      			inc.h	<_di
  338    1F:CBF5  E6 ED      			inc.h	<_bp			; Limited to 8KB maximum!
  339                        	;		jsr	inc.h_bp_mpr34
  340    1F:CBF7  80 E6      			bra	.loop
  341                        	
  342    1F:CBF9  C6 F9      	.page:		dec.h	<_ax			; Decrement length.h 
  343    1F:CBFB  10 E5      			bpl	.test			; Limit comparison to 32KB.
  344                        	;		bra	cmp_same
  345                        	
  346    1F:CBFD  82         	.return_same:	clx				; Return code in Y:X, X -> A.
  347    1F:CBFE  C2         			cly
  348    1F:CBFF  80 09      			bra	!+
  349                        	
  350    1F:CC01  A2 01      	.return_pos:	ldx	#$01			; Return code in Y:X, X -> A.
  351    1F:CC03  C2         			cly
  352    1F:CC04  80 04      			bra	!+
  353                        	
  354    1F:CC06  A2 FF      	.return_neg:	ldx	#$FF			; Return code in Y:X, X -> A.
  355    1F:CC08  A0 FF      			ldy	#$FF
  356                        	
  357    1F:CC0A  68         	!:		pla				; Restore MPR3 and MPR4.
  358    1F:CC0B  53 10      			tam4
  359    1F:CC0D  68         			pla
  360    1F:CC0E  53 08      			tam3
  361                        	
  362                        			leave				; Return and copy X -> A.
         1F:CC10  4C EF FF   			jmp	leave_proc
  363                        	
  364                        			.endp
  365                        	
  366                        			.endprocgroup			; hucc_memcmp
  367                        	
  368    00:E765             			.alias	_far_memcmp.2		= _farmemcmp.3
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   64                        		.endif
   65                        	
   66               0001     		.ifdef	HUCC_USES_NEW_SCROLL		; Set in hucc_scroll.h
                             #[3]   "..\..\..\include\hucc\hucc-scroll.asm"
   67                        			include	"hucc-scroll.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-scroll.asm
    5                        	;
    6                        	; Routines for a fast split-screen scrolling system.
    7                        	;
    8                        	; Copyright John Brandwood 2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; The maximum number of splits for each screen layer is set in your project's
   18                        	; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
   19                        	;
   20                        	; Your first active split must be defined to start at screen line 0, and then
   21                        	; the rest of the active splits must be in increasing line order to match the
   22                        	; way that the PC Engine displays the output image.
   23                        	;
   24                        	; You can have disabled splits interleaved with your active splits.
   25                        	;
   26                        	; Splits that are normally disabled can be used to create full screen effects
   27                        	; such as bouncing the screen up and down by adding blank areas at the top or
   28                        	; bottom of the screen, and then rapidly changing the height of those areas.
   29                        	;
   30                        	; ***************************************************************************
   31                        	; ***************************************************************************
   32                        	
   33                        	
   34                        	
   35               0000     		.ifndef	HUCC_PCE_SPLITS
   37                        		.endif
   38                        	
   39               0000     		.ifndef	HUCC_SGX_SPLITS
   41                        		.endif
   42                        	
   43               0000     		.if	(HUCC_PCE_SPLITS < 2) || (HUCC_PCE_SPLITS > 128)
   45                        		.endif
   46                        	
   47               0000     		.if	(HUCC_SGX_SPLITS < 2) || (HUCC_SGX_SPLITS > 128)
   49                        		.endif
   50                        	
   51               0144     	HUCC_1ST_RCR	=	$144
   52               00E0     	HUCC_SCR_HEIGHT	=	224
   53                        	
   54               E765     			.code
   55                        	
   56                        	
   57                        	
   58                        	; ***************************************************************************
   59                        	; ***************************************************************************
   60                        	;
   61                        	; void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
   62                        	; void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
   63                        	;
   64                        	; set screen scrolling
   65                        	
   66    1F:C865             			.proc	_scroll_split.5
   67                        	
   68    1F:C865  08         			php				; Disable interrupts while
   69    1F:C866  78         			sei				; updating this structure.
   70                        	
   71    1F:C867  A6 F8      			ldx	<_al			; Region number.
   72    1F:C869  E0 08      			cpx	#HUCC_PCE_SPLITS
   73    1F:C86B  B0 FE      	.hang:		bcs	.hang			; Better a hang than a crash!
   74                        	
   75    1F:C86D  BD DD 26   			lda	vdc_region_sel, x	; Update the parameter copy
   76    1F:C870  5D E5 26   			eor	vdc_region_new, x	; that is not displayed now.
   77    1F:C873  D0 3B      			bne	.regionA
   78                        	
   79    1F:C875  A5 F9      	.regionB:	lda	<_ah			; Scanline (i.e. top).
   80    1F:C877  C9 E0      			cmp	#HUCC_SCR_HEIGHT	; Skip if offscreen.
   81    1F:C879  B0 31      			bcs	!done+
   82    1F:C87B  9D 05 27   			sta	vdc_regionB_rcr, x
   83                        	
   84    1F:C87E  C9 00      			cmp	#0			; Either Y at top of the frame
   85    1F:C880  F0 01      			beq	!+			; or Y-1 because the RCR code
   86    1F:C882  18         			clc				; sets it on the line before.
   87    1F:C883  A5 FC      	!:		lda.l	<_cx
   88    1F:C885  E9 00      			sbc	#0
   89    1F:C887  9D 35 27   			sta	vdc_regionB_yl, x
   90    1F:C88A  A5 FD      			lda.h	<_cx
   91    1F:C88C  E9 00      			sbc	#0
   92    1F:C88E  9D 45 27   			sta	vdc_regionB_yh, x
   93                        	
   94    1F:C891  A5 FA      			lda.l	<_bx
   95    1F:C893  9D 15 27   			sta	vdc_regionB_xl, x
   96    1F:C896  A5 FB      			lda.h	<_bx
   97    1F:C898  9D 25 27   			sta	vdc_regionB_xh, x
   98                        	
   99    1F:C89B  A5 FE      			lda	<_dl			; Flags (mark it as enabled).
  100    1F:C89D  29 C0      			and	#$C0
  101    1F:C89F  09 0C      			ora	#$0C
  102    1F:C8A1  9D F5 26   			sta	vdc_regionB_crl, x
  103                        	
  104    1F:C8A4  A9 01      			lda	#1			; Mark that we've changed the
  105    1F:C8A6  9D E5 26   			sta	vdc_region_new, x	; selected region.
  106    1F:C8A9  9D DD 26   			sta	vdc_region_sel, x
  107                        	
  108    1F:C8AC  28         	!done:		plp				; Restore interrupts.
  109                        			leave				; All done!
         1F:C8AD  4C EF FF   			jmp	leave_proc
  110                        	
  111    1F:C8B0  A5 F9      	.regionA:	lda	<_ah			; Scanline (i.e. top).
  112    1F:C8B2  C9 E0      			cmp	#HUCC_SCR_HEIGHT	; Skip if offscreen.
  113    1F:C8B4  B0 31      			bcs	!done+
  114    1F:C8B6  9D FD 26   			sta	vdc_regionA_rcr, x
  115                        	
  116    1F:C8B9  C9 00      			cmp	#0			; Either Y at top of the frame
  117    1F:C8BB  F0 01      			beq	!+			; or Y-1 because the RCR code
  118    1F:C8BD  18         			clc				; sets it on the line before.
  119    1F:C8BE  A5 FC      	!:		lda.l	<_cx
  120    1F:C8C0  E9 00      			sbc	#0
  121    1F:C8C2  9D 2D 27   			sta	vdc_regionA_yl, x
  122    1F:C8C5  A5 FD      			lda.h	<_cx
  123    1F:C8C7  E9 00      			sbc	#0
  124    1F:C8C9  9D 3D 27   			sta	vdc_regionA_yh, x
  125                        	
  126    1F:C8CC  A5 FA      			lda.l	<_bx
  127    1F:C8CE  9D 0D 27   			sta	vdc_regionA_xl, x
  128    1F:C8D1  A5 FB      			lda.h	<_bx
  129    1F:C8D3  9D 1D 27   			sta	vdc_regionA_xh, x
  130                        	
  131    1F:C8D6  A5 FE      			lda	<_dl			; Flags (mark it as enabled).
  132    1F:C8D8  29 C0      			and	#$C0
  133    1F:C8DA  09 0C      			ora	#$0C
  134    1F:C8DC  9D ED 26   			sta	vdc_regionA_crl, x
  135                        	
  136    1F:C8DF  A9 01      			lda	#1			; Mark that we've changed the
  137    1F:C8E1  9D E5 26   			sta	vdc_region_new, x	; selected region.
  138    1F:C8E4  9E DD 26   			stz	vdc_region_sel, x
  139                        	
  140    1F:C8E7  28         	!done:		plp				; Restore interrupts.
  141                        			leave				; All done!
         1F:C8E8  4C EF FF   			jmp	leave_proc
  142                        	
  143                        			.endp
  144                        	
  145               0001     		.if	SUPPORT_SGX
  146                        	
  147    1F:C8EB             			.proc	_sgx_scroll_split.5
  148                        	
  149    1F:C8EB  08         			php				; Disable interrupts while
  150    1F:C8EC  78         			sei				; updating this structure.
  151                        	
  152    1F:C8ED  A6 F8      			ldx	<_al			; Region number.
  153    1F:C8EF  E0 08      			cpx	#HUCC_SGX_SPLITS
  154    1F:C8F1  B0 FE      	.hang:		bcs	.hang			; Better a hang than a crash!
  155                        	
  156    1F:C8F3  BD 5E 27   			lda	sgx_region_sel, x	; Update the parameter copy
  157    1F:C8F6  5D 66 27   			eor	sgx_region_new, x	; that is not displayed now.
  158    1F:C8F9  D0 3B      			bne	.regionA
  159                        	
  160    1F:C8FB  A5 F9      	.regionB:	lda	<_ah			; Scanline (i.e. top).
  161    1F:C8FD  C9 E0      			cmp	#HUCC_SCR_HEIGHT	; Skip if offscreen.
  162    1F:C8FF  B0 31      			bcs	!done+
  163    1F:C901  9D 86 27   			sta	sgx_regionB_rcr, x
  164                        	
  165    1F:C904  C9 00      			cmp	#0			; Either Y at top of the frame
  166    1F:C906  F0 01      			beq	!+			; or Y-1 because the RCR code
  167    1F:C908  18         			clc				; sets it on the line before.
  168    1F:C909  A5 FC      	!:		lda.l	<_cx
  169    1F:C90B  E9 00      			sbc	#0
  170    1F:C90D  9D B6 27   			sta	sgx_regionB_yl, x
  171    1F:C910  A5 FD      			lda.h	<_cx
  172    1F:C912  E9 00      			sbc	#0
  173    1F:C914  9D C6 27   			sta	sgx_regionB_yh, x
  174                        	
  175    1F:C917  A5 FA      			lda.l	<_bx
  176    1F:C919  9D 96 27   			sta	sgx_regionB_xl, x
  177    1F:C91C  A5 FB      			lda.h	<_bx
  178    1F:C91E  9D A6 27   			sta	sgx_regionB_xh, x
  179                        	
  180    1F:C921  A5 FE      			lda	<_dl
  181    1F:C923  29 C0      			and	#$C0			; Flags (mark it as enabled).
  182    1F:C925  09 0C      			ora	#$0C
  183    1F:C927  9D 76 27   			sta	sgx_regionB_crl, x
  184                        	
  185    1F:C92A  A9 01      			lda	#1			; Mark that we've changed the
  186    1F:C92C  9D 66 27   			sta	sgx_region_new, x	; selected region.
  187    1F:C92F  9D 5E 27   			sta	sgx_region_sel, x
  188                        	
  189    1F:C932  28         	!done:		plp				; Restore interrupts.
  190                        			leave				; All done!
         1F:C933  4C EF FF   			jmp	leave_proc
  191                        	
  192    1F:C936  A5 F9      	.regionA:	lda	<_ah			; Scanline (i.e. top).
  193    1F:C938  C9 E0      			cmp	#HUCC_SCR_HEIGHT	; Skip if offscreen.
  194    1F:C93A  B0 31      			bcs	!done+
  195    1F:C93C  9D 7E 27   			sta	sgx_regionA_rcr, x
  196                        	
  197    1F:C93F  C9 00      			cmp	#0			; Either Y at top of the frame
  198    1F:C941  F0 01      			beq	!+			; or Y-1 because the RCR code
  199    1F:C943  18         			clc				; sets it on the line before.
  200    1F:C944  A5 FC      	!:		lda.l	<_cx
  201    1F:C946  E9 00      			sbc	#0
  202    1F:C948  9D AE 27   			sta	sgx_regionA_yl, x
  203    1F:C94B  A5 FD      			lda.h	<_cx
  204    1F:C94D  E9 00      			sbc	#0
  205    1F:C94F  9D BE 27   			sta	sgx_regionA_yh, x
  206                        	
  207    1F:C952  A5 FA      			lda.l	<_bx
  208    1F:C954  9D 8E 27   			sta	sgx_regionA_xl, x
  209    1F:C957  A5 FB      			lda.h	<_bx
  210    1F:C959  9D 9E 27   			sta	sgx_regionA_xh, x
  211                        	
  212    1F:C95C  A5 FE      			lda	<_dl
  213    1F:C95E  29 C0      			and	#$C0			; Flags (mark it as enabled).
  214    1F:C960  09 0C      			ora	#$0C
  215    1F:C962  9D 6E 27   			sta	sgx_regionA_crl, x
  216                        	
  217    1F:C965  A9 01      			lda	#1			; Mark that we've changed the
  218    1F:C967  9D 66 27   			sta	sgx_region_new, x	; selected region.
  219    1F:C96A  9E 5E 27   			stz	sgx_region_sel, x
  220                        	
  221    1F:C96D  28         	!done:		plp				; Restore interrupts.
  222                        			leave				; All done!
         1F:C96E  4C EF FF   			jmp	leave_proc
  223                        	
  224                        			.endp
  225                        	
  226                        		.endif	SUPPORT_SGX
  227                        	
  228                        	
  229                        	
  230                        	; ***************************************************************************
  231                        	; ***************************************************************************
  232                        	;
  233                        	; void __fastcall disable_split( unsigned char index<acc> );
  234                        	; void __fastcall sgx_disable_split( unsigned char index<acc> );
  235                        	;
  236                        	; disable screen scrolling for a scroll region
  237                        	
  238    00:E765             	_disable_split.1:
  239    00:E765  08         			php				; Disable interrupts while
  240    00:E766  78         			sei				; updating this structure.
  241                        	
  242    00:E767  C9 08      			cmp	#HUCC_PCE_SPLITS	; Better a hang than a crash!
  243    00:E769  B0 FE      	.hang:		bcs	.hang
  244    00:E76B  AA         			tax
  245                        	
  246    00:E76C  BD DD 26   			lda	vdc_region_sel, x	; Update the parameter copy
  247    00:E76F  5D E5 26   			eor	vdc_region_new, x	; that is not displayed now.
  248    00:E772  D0 0D      			bne	.regionA
  249                        	
  250    00:E774  9E F5 26   	.regionB:	stz	vdc_regionB_crl, x	; Region disabled if $00.
  251                        	
  252    00:E777  A9 01      			lda	#1			; Mark that we've changed the
  253    00:E779  9D E5 26   			sta	vdc_region_new, x	; selected region.
  254    00:E77C  9D DD 26   			sta	vdc_region_sel, x
  255                        	
  256    00:E77F  28         			plp				; Restore interrupts.
  257    00:E780  60         			rts
  258                        	
  259    00:E781  9E ED 26   	.regionA:	stz	vdc_regionA_crl, x	; Region disabled if $00.
  260                        	
  261    00:E784  A9 01      			lda	#1			; Mark that we've changed the
  262    00:E786  9D E5 26   			sta	vdc_region_new, x	; selected region.
  263    00:E789  9E DD 26   			stz	vdc_region_sel, x
  264                        	
  265    00:E78C  28         			plp				; Restore interrupts.
  266    00:E78D  60         			rts
  267                        	
  268               0001     		.if	SUPPORT_SGX
  269                        	
  270    00:E78E             	_sgx_disable_split.1:
  271    00:E78E  08         			php				; Disable interrupts while
  272    00:E78F  78         			sei				; updating this structure.
  273                        	
  274    00:E790  C9 08      			cmp	#HUCC_SGX_SPLITS	; Better a hang than a crash!
  275    00:E792  B0 FE      	.hang:		bcs	.hang
  276    00:E794  AA         			tax
  277                        	
  278    00:E795  BD 5E 27   			lda	sgx_region_sel, x	; Update the parameter copy
  279    00:E798  5D 66 27   			eor	sgx_region_new, x	; that is not displayed now.
  280    00:E79B  D0 0D      			bne	.regionA
  281                        	
  282    00:E79D  9E 76 27   	.regionB:	stz	sgx_regionB_crl, x	; Region disabled if $00.
  283                        	
  284    00:E7A0  A9 01      			lda	#1			; Mark that we've changed the
  285    00:E7A2  9D 66 27   			sta	sgx_region_new, x	; selected region.
  286    00:E7A5  9D 5E 27   			sta	sgx_region_sel, x
  287                        	
  288    00:E7A8  28         			plp				; Restore interrupts.
  289    00:E7A9  60         			rts
  290                        	
  291    00:E7AA  9E 6E 27   	.regionA:	stz	sgx_regionA_crl, x	; Region disabled if $00.
  292                        	
  293    00:E7AD  A9 01      			lda	#1			; Mark that we've changed the
  294    00:E7AF  9D 66 27   			sta	sgx_region_new, x	; selected region.
  295    00:E7B2  9E 5E 27   			stz	sgx_region_sel, x
  296                        	
  297    00:E7B5  28         			plp				; Restore interrupts.
  298    00:E7B6  60         			rts
  299                        	
  300                        		.endif	SUPPORT_SGX
  301                        	
  302                        	
  303                        	
  304                        	; ***************************************************************************
  305                        	; ***************************************************************************
  306                        	;
  307                        	; vbl_init_scroll
  308                        	;
  309                        	; From Charles MacDonald's pcetech.txt ...
  310                        	;
  311                        	;  Raster Compare Register (RCR):
  312                        	;
  313                        	;  The range of the RCR is 263 lines, relative to the start of the active
  314                        	;  display period. (defined by VSW, VDS, and VCR) The VDC treats the first
  315                        	;  scanline of the active display period as $0040, so the valid ranges for
  316                        	;  the RCR register are $0040 to $0146.
  317                        	;
  318                        	;  For example, assume VSW=$02, VDS=$17. This positions the first line of
  319                        	;  the active display period at line 25 of the frame. An RCR value of $0040
  320                        	;  (zero) causes an interrupt at line 25, and a value of $0146 (262) causes an
  321                        	;  interrupt at line 24 of the next frame.
  322                        	;
  323                        	;  Any other RCR values that are out of range ($00-$3F, $147-$3FF) will never
  324                        	;  result in a successful line compare.
  325                        	;
  326                        	; Processing time:
  327                        	;
  328                        	; Old HuC rcr_init: 2148 cycles if all 8 regions pre-sorted
  329                        	; Old HuC rcr_init: 4346 cycles if all 8 regions need sorting
  330                        	;
  331                        	; New HuCC vbl_init_scroll:   8 disabled splits:  290 cycles
  332                        	; New HuCC vbl_init_scroll:   8  enabled splits:  384 cycles
  333                        	;
  334                        	; New HuCC vbl_init_scroll:  16 disabled splits:  506 cycles
  335                        	; New HuCC vbl_init_scroll:  16  enabled splits:  672 cycles
  336                        	;
  337                        	; New HuCC vbl_init_scroll:  32 disabled splits:  953 cycles
  338                        	; New HuCC vbl_init_scroll:  32  enabled splits: 1263 cycles
  339                        	;
  340                        	; New HuCC vbl_init_scroll:  64 disabled splits: 1802 cycles
  341                        	; New HuCC vbl_init_scroll:  64  enabled splits: 2400 cycles
  342                        	;
  343                        	; New HuCC vbl_init_scroll: 128 disabled splits: 3530 cycles
  344                        	; New HuCC vbl_init_scroll: 128  enabled splits: 4704 cycles
  345                        	;
  346                        	; Memory used is 16 bytes per scroll per VDC!
  347                        	
  348               26DD     			.bss
  349                        	
  350    F8:26DD             	vdc_region_sel:	.ds	HUCC_PCE_SPLITS		; Use A or B region next frame?
  351    F8:26E5             	vdc_region_new:	.ds	HUCC_PCE_SPLITS		; 1 if vdc_region_sel modified.
  352                        	
  353    F8:26ED             	vdc_regionA_crl:.ds	HUCC_PCE_SPLITS		; Two copies of each setting
  354    F8:26F5             	vdc_regionB_crl:.ds	HUCC_PCE_SPLITS		; HUCC_PCE_SPLITS bytes apart,
  355    F8:26FD             	vdc_regionA_rcr:.ds	HUCC_PCE_SPLITS		; one setting for the current
  356    F8:2705             	vdc_regionB_rcr:.ds	HUCC_PCE_SPLITS		; frame, and one setting that
  357    F8:270D             	vdc_regionA_xl:	.ds	HUCC_PCE_SPLITS		; gets modified and then used
  358    F8:2715             	vdc_regionB_xl:	.ds	HUCC_PCE_SPLITS		; on the next frame after the
  359    F8:271D             	vdc_regionA_xh:	.ds	HUCC_PCE_SPLITS		; change is made.
  360    F8:2725             	vdc_regionB_xh:	.ds	HUCC_PCE_SPLITS		; Regions will have different
  361    F8:272D             	vdc_regionA_yl:	.ds	HUCC_PCE_SPLITS		; A or B currently active!
  362    F8:2735             	vdc_regionB_yl:	.ds	HUCC_PCE_SPLITS
  363    F8:273D             	vdc_regionA_yh:	.ds	HUCC_PCE_SPLITS
  364    F8:2745             	vdc_regionB_yh:	.ds	HUCC_PCE_SPLITS
  365                        	
  366    F8:274D             	vdc_next_region:.ds	1			; Linked list of region indexes
  367    F8:274E             	vdc_regionA_nxt:.ds	HUCC_PCE_SPLITS		; for the current frame.
  368    F8:2756             	vdc_regionB_nxt:.ds	HUCC_PCE_SPLITS
  369                        	
  370               0001     		.if	SUPPORT_SGX
  371                        	
  372    F8:275E             	sgx_region_sel:	.ds	HUCC_SGX_SPLITS		; Use A or B region next frame?
  373    F8:2766             	sgx_region_new:	.ds	HUCC_SGX_SPLITS		; 1 if sgx_region_sel modified.
  374                        	
  375    F8:276E             	sgx_regionA_crl:.ds	HUCC_SGX_SPLITS		; Two copies of each setting
  376    F8:2776             	sgx_regionB_crl:.ds	HUCC_SGX_SPLITS		; HUCC_SGX_SPLITS bytes apart,
  377    F8:277E             	sgx_regionA_rcr:.ds	HUCC_SGX_SPLITS		; one setting for the current
  378    F8:2786             	sgx_regionB_rcr:.ds	HUCC_SGX_SPLITS		; frame, and one setting that
  379    F8:278E             	sgx_regionA_xl:	.ds	HUCC_SGX_SPLITS		; gets modified and then used
  380    F8:2796             	sgx_regionB_xl:	.ds	HUCC_SGX_SPLITS		; on the next frame after the
  381    F8:279E             	sgx_regionA_xh:	.ds	HUCC_SGX_SPLITS		; change is made.
  382    F8:27A6             	sgx_regionB_xh:	.ds	HUCC_SGX_SPLITS		; Regions will have different
  383    F8:27AE             	sgx_regionA_yl:	.ds	HUCC_SGX_SPLITS		; A or B currently active!
  384    F8:27B6             	sgx_regionB_yl:	.ds	HUCC_SGX_SPLITS
  385    F8:27BE             	sgx_regionA_yh:	.ds	HUCC_SGX_SPLITS
  386    F8:27C6             	sgx_regionB_yh:	.ds	HUCC_SGX_SPLITS
  387                        	
  388    F8:27CE             	sgx_next_region:.ds	1			; Linked list of region indexes
  389    F8:27CF             	sgx_regionA_nxt:.ds	HUCC_SGX_SPLITS		; for the current frame.
  390    F8:27D7             	sgx_regionB_nxt:.ds	HUCC_SGX_SPLITS
  391                        	
  392                        		.endif
  393                        	
  394               E7B7     			.code
  395                        	
  396    1F:C971             	vbl_init_scroll	.proc
  397                        	
  398    1F:C971  62         			cla				; A = previous active index
  399    1F:C972  A2 08      			ldx	#HUCC_PCE_SPLITS	; so $00 for end-of-screen.
  400                        	
  401    1F:C974  18         			clc				; For regionB indexes.
  402                        	
  403    1F:C975  CA         	!next_region:	dex				; All regions updated?
  404    1F:C976  30 20      			bmi	!save_first+
  405                        	
  406    1F:C978  9E E5 26   			stz	vdc_region_new, x	; Clear region modified flag.
  407                        	
  408    1F:C97B  BC DD 26   			ldy	vdc_region_sel, x	; 0=regionA or 1=regionB.
  409    1F:C97E  F0 0D      			beq	!use_regionA+
  410                        	
  411    1F:C980  BC F5 26   	!use_regionB:	ldy	vdc_regionB_crl, x	; Region disabled if $00.
  412    1F:C983  F0 F0      			beq	!next_region-
  413    1F:C985  9D 56 27   			sta	vdc_regionB_nxt, x	; Save index of next region.
  414    1F:C988  8A         			txa				; A = current region index.
  415    1F:C989  69 08      			adc	#HUCC_PCE_SPLITS	; Always leaves CC!
  416    1F:C98B  80 E8      			bra	!next_region-
  417                        	
  418    1F:C98D  BC ED 26   	!use_regionA:	ldy	vdc_regionA_crl, x	; Region disabled if $00.
  419    1F:C990  F0 E3      			beq	!next_region-
  420    1F:C992  9D 4E 27   			sta	vdc_regionA_nxt, x	; Save index of next region.
  421    1F:C995  8A         			txa				; A = current region index.
  422    1F:C996  80 DD      			bra	!next_region-
  423                        	
  424    1F:C998  8D 4D 27   	!save_first:	sta	vdc_next_region		; Save index of 1st region.
  425                        	
  426    1F:C99B  AA         			tax				; NZ if first active region
  427    1F:C99C  D0 03      			bne	!init_first+		; is not region 0.
  428    1F:C99E  98         			tya				; NZ if region 0 is active.
  429    1F:C99F  F0 0F      			beq	!+			; If no active leave RCR=0.
  430                        	
  431    1F:C9A1  A9 06      	!init_first:	lda	#VDC_RCR		; 1st RCR always happens just
  432    1F:C9A3  8D 00 02   			sta	VDC_AR			; before the display starts.
  433    1F:C9A6  A9 44      			lda.l	#HUCC_1ST_RCR
  434    1F:C9A8  8D 02 02   			sta	VDC_DL
  435    1F:C9AB  A9 01      			lda.h	#HUCC_1ST_RCR
  436    1F:C9AD  8D 03 02   			sta	VDC_DH
  437                        	
  438               0001     		.if	SUPPORT_SGX
  439                        	
  440    1F:C9B0  62         	!:		cla				; A = previous active index
  441    1F:C9B1  A2 08      			ldx	#HUCC_SGX_SPLITS	; so $00 for end-of-screen.
  442                        	
  443    1F:C9B3  18         			clc				; For regionB indexes.
  444                        	
  445    1F:C9B4  CA         	!next_region:	dex				; All regions updated?
  446    1F:C9B5  30 20      			bmi	!save_first+
  447                        	
  448    1F:C9B7  9E 66 27   			stz	sgx_region_new, x	; Clear region modified flag.
  449                        	
  450    1F:C9BA  BC 5E 27   			ldy	sgx_region_sel, x	; 0=regionA or 1=regionB.
  451    1F:C9BD  F0 0D      			beq	!use_regionA+
  452                        	
  453    1F:C9BF  BC 76 27   	!use_regionB:	ldy	sgx_regionB_crl, x	; Region disabled if $00.
  454    1F:C9C2  F0 F0      			beq	!next_region-
  455    1F:C9C4  9D D7 27   			sta	sgx_regionB_nxt, x	; Save index of next region.
  456    1F:C9C7  8A         			txa				; A = current region index.
  457    1F:C9C8  69 08      			adc	#HUCC_SGX_SPLITS	; Always leaves CC!
  458    1F:C9CA  80 E8      			bra	!next_region-
  459                        	
  460    1F:C9CC  BC 6E 27   	!use_regionA:	ldy	sgx_regionA_crl, x	; Region disabled if $00.
  461    1F:C9CF  F0 E3      			beq	!next_region-
  462    1F:C9D1  9D CF 27   			sta	sgx_regionA_nxt, x	; Save index of next region.
  463    1F:C9D4  8A         			txa				; A = current region index.
  464    1F:C9D5  80 DD      			bra	!next_region-
  465                        	
  466    1F:C9D7  8D CE 27   	!save_first:	sta	sgx_next_region		; Save index of 1st region.
  467                        	
  468    1F:C9DA  AA         			tax				; NZ if first active region
  469    1F:C9DB  D0 03      			bne	!init_first+		; is not region 0.
  470    1F:C9DD  98         			tya				; NZ if region 0 is active.
  471    1F:C9DE  F0 0F      			beq	!+			; If no active leave RCR=0.
  472                        	
  473    1F:C9E0  A9 06      	!init_first:	lda	#VDC_RCR		; 1st RCR always happens just
  474    1F:C9E2  8D 10 02   			sta	SGX_AR			; before the display starts.
  475    1F:C9E5  A9 44      			lda.l	#HUCC_1ST_RCR
  476    1F:C9E7  8D 12 02   			sta	SGX_DL
  477    1F:C9EA  A9 01      			lda.h	#HUCC_1ST_RCR
  478    1F:C9EC  8D 13 02   			sta	SGX_DH
  479                        	
  480                        		.endif	SUPPORT_SGX
  481                        	
  482                        	!:		leave				; All done!
         1F:C9EF  4C EF FF   			jmp	leave_proc
  483                        	
  484                        			.endp
  485                        	
  486                        	
  487                        	
  488               0001     		.if	SUPPORT_SGX
  489                        	
  490                        	; ***************************************************************************
  491                        	; ***************************************************************************
  492                        	;
  493                        	; VDC_RCR_MACRO and SGX_RCR_MACRO
  494                        	;
  495                        	; A 16-byte TIA takes 142..234 cycles in 5MHz, 128..200 cycles in 7MHz.
  496                        	; A 32-byte TIA takes 270..364 cycles in 5MHz, 242..312 cycles in 7MHz. (527 DUO)
  497                        	;
  498                        	; You need to write the last RCR setting within 540 cycles in order to catch
  499                        	; the next line (at 256/336/512 resolution).
  500                        	;
  501                        	; That gives 305 cycles from the RCR to write the last setting, or there
  502                        	; will be a visible glitch on the screen.
  503                        	
  504               0000     		.ifndef	USING_RCR_MACROS
  506                        		.endif
  507                        	
  508                        	;		;;;				; 8 (cycles for the INT)
  509                        	;		bbs1	<irq_vec, .hook		; 8
  510                        	;		jmp	[irq1_hook]		; 7
  511                        	
  512                        	;		;;;				; 8 (cycles for the INT)
  513                        	;		jmp	irq1_handler		; 4
  514                        	
  515                        	;irq1_handler:	pha				; 3 Save all registers.
  516                        	;		phx				; 3
  517                        	;		phy				; 3
  518                        	;
  519                        	;		lda	VDC_SR			; 6 Acknowledge the VDC's IRQ.
  520                        	;		sta	<vdc_sr			; 4 Remember what caused it.
  521                        	;
  522                        	;		ldx	SGX_SR			; 6 Read SGX_SR after VDC_SR in
  523                        	;		stx	<sgx_sr			; 4 case this is not an SGX!
  524                        	;
  525                        	;!:		and	#$04			; 2 Is this an HSYNC interrupt?
  526                        	;		beq	!+			; 2
  527                        	
  528                        			.macro	VDC_RCR_MACRO
  529                        	
  530                        			st0	#VDC_RCR		; 5
  531                        	
  532                        			ldx	vdc_next_region		; 5 X and Y can be greater than
  533                        			ldy	vdc_regionA_nxt, x	; 5 HUCC_PCE_SPLITS if regionB!
  534                        			clc				; 2
  535                        			bne	!set_next_rcr+		; 4 Stop RCR if next line is 0.
  536                        	
  537                        			and	const_0000		; 5 A=$00 with the same #cycles
  538                        			bra	!clr_next_rcr+		; 4 as if the branch were taken.
  539                        	
  540                        	!set_next_rcr:	lda	vdc_regionA_rcr, y	; 5 Set next RCR 1 line before
  541                        			adc	#64-1			; 2 the region begins, or 0 to
  542                        	!clr_next_rcr:	sta	VDC_DL			; 6 disable.
  543                        			cla				; 2
  544                        			rol	a			; 2
  545                        			sta	VDC_DH			; 6
  546                        	
  547                        			st0	#VDC_BYR		; 5 Do BYR first to mitigate the
  548                        			lda	vdc_regionA_yl, x	; 5 glitch if the IRQ is delayed.
  549                        			sta	VDC_DL			; 6 = 105 cycles from RCR on SGX
  550                        			lda	vdc_regionA_yh, x	; 5
  551                        			sta	VDC_DH			; 6
  552                        	
  553                        			st0	#VDC_CR			; 5
  554                        			lda	vdc_regionA_crl, x	; 5
  555                        	;		asl	a
  556                        			sta	VDC_DL			; 6
  557                        	
  558                        			st0	#VDC_BXR		; 2
  559                        			lda	vdc_regionA_xl, x	; 5
  560                        			sta	VDC_DL			; 6
  561                        			lda	vdc_regionA_xh, x	; 5
  562                        			sta	VDC_DH			; 6 = 156 cycles from RCR if DUO
  563                        	
  564                        	;		bcc	!+
  565                        	;		lda	vdc_regionA_yh, x	; 5
  566                        	;		sta.l	VCE_CTW			; 6
  567                        	
  568                        			sty	vdc_next_region		; 5
  569                        	
  570                        			.endm
  571                        	
  572                        	;!:		bbr2	<sgx_sr, !+		; 6 Is this an HSYNC interrupt?
  573                        	
  574                        			.macro	SGX_RCR_MACRO
  575                        	
  576                        			lda	#VDC_RCR		; 2
  577                        			sta	SGX_AR			; 6
  578                        	
  579                        			ldx	sgx_next_region		; 5 X and Y can be greater than
  580                        			ldy	sgx_regionA_nxt, x	; 5 HUCC_SGX_SPLITS if regionB!
  581                        			clc				; 2
  582                        			bne	!set_next_rcr+		; 4 Stop RCR if next line is 0.
  583                        	
  584                        			and	const_0000		; 5 A=$00 with the same #cycles
  585                        			bra	!clr_next_rcr+		; 4 as if the branch were taken.
  586                        	
  587                        	!set_next_rcr:	lda	sgx_regionA_rcr, y	; 5 Set next RCR 1 line before
  588                        			adc	#64-1			; 2 the region begins, or 0 to
  589                        	!clr_next_rcr:	sta	SGX_DL			; 6 disable.
  590                        			cla				; 2
  591                        			rol	a			; 2
  592                        			sta	SGX_DH			; 6
  593                        	
  594                        			lda	#VDC_BYR		; 2 Do BYR first to mitigate the
  595                        			sta	SGX_AR			; 6 glitch if the IRQ is delayed.
  596                        			lda	sgx_regionA_yl, x	; 5
  597                        			sta	SGX_DL			; 6
  598                        			lda	sgx_regionA_yh, x	; 5
  599                        			sta	SGX_DH			; 6
  600                        	
  601                        			lda	#VDC_CR			; 2
  602                        			sta	SGX_AR			; 6
  603                        			lda	sgx_regionA_crl, x	; 5
  604                        			sta	SGX_DL			; 6
  605                        	
  606                        			lda	#VDC_BXR		; 2
  607                        			sta	SGX_AR			; 6
  608                        			lda	sgx_regionA_xl, x	; 5
  609                        			sta	SGX_DL			; 6
  610                        			lda	sgx_regionA_xh, x	; 5
  611                        			sta	SGX_DH			; 6 = 293 cycles (282 if no YH)
  612                        	
  613                        			sty	sgx_next_region		; 5
  614                        	
  615                        			.endm
  616                        	
  617                        		.else	SUPPORT_SGX
  697                        		.endif	SUPPORT_SGX
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   68                        		.else
   72                        		.endif	HUCC_USES_NEW_SCROLL
   73                        	
   74               0001     		.ifdef	HUCC_USES_OLD_SPR		; Set in hucc_old_spr.h
                             #[3]   "..\..\..\include\hucc\hucc-old-spr.asm"
   75                        			include	"hucc-old-spr.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-old-spr.asm
    5                        	;
    6                        	; Based on the original HuC and MagicKit functions by David Michel and the
    7                        	; other original HuC developers.
    8                        	;
    9                        	; Modifications copyright John Brandwood 2024.
   10                        	;
   11                        	; Distributed under the Boost Software License, Version 1.0.
   12                        	; (See accompanying file LICENSE_1_0.txt or copy at
   13                        	;  http://www.boost.org/LICENSE_1_0.txt)
   14                        	;
   15                        	; ***************************************************************************
   16                        	; ***************************************************************************
   17                        	
   18                        	;
   19                        	; Include dependancies ...
   20                        	;
   21                        	
   22                        			include "common.asm"		; Common helpers.
   23                        			include "vce.asm"		; Useful VCE routines.
   24                        			include "vdc.asm"		; Useful VCE routines.
   25                        	
   26                        	
   27                        	
   28                        	; ***************************************************************************
   29                        	; ***************************************************************************
   30                        	;
   31                        	; HuC Sprite Functions
   32                        	;
   33                        	; ***************************************************************************
   34                        	; ***************************************************************************
   35                        	
   36               209C     			.zp
   37    F8:209C             	spr_ptr:	ds	2
   38               27DF     			.bss
   39    F8:27DF             	spr_sat:	ds	512
   40               E7B7     			.code
   41                        	
   42               0001     		.if	SUPPORT_SGX
   43               209E     			.zp
   44    F8:209E             	sgx_spr_ptr:	ds	2
   45               29DF     			.bss
   46    F8:29DF             	sgx_spr_sat:	ds	512	; N.B. Directly after spr_sat!
   47               E7B7     			.code
   48                        		.endif
   49                        	
   50                        	; Moved to hucc-old-map.asm just to save space. This NEEDS to be changed!
   51                        	;
   52                        	;		.bss
   53                        	;spr_max:	ds	1
   54                        	;spr_clr:	ds	1
   55                        	;	.if	SUPPORT_SGX
   56                        	;sgx_spr_max:	ds	1
   57                        	;sgx_spr_clr:	ds	1
   58                        	;	.endif
   59                        	;		.code
   60                        	
   61                        	
   62                        	
   63                        	; ***************************************************************************
   64                        	; ***************************************************************************
   65                        	;
   66                        	; void __fastcall init_satb( void );
   67                        	; void __fastcall reset_satb( void );
   68                        	;
   69                        	; void __fastcall sgx_init_satb( void );
   70                        	; void __fastcall sgx_reset_satb( void );
   71                        	
   72    00:E7B7             	_reset_satb:
   73    00:E7B7  C2         	_init_satb:	cly
   74    00:E7B8  62         			cla
   75    00:E7B9  99 DF 27   	!:		sta	spr_sat + $0000, y
   76    00:E7BC  99 DF 28   			sta	spr_sat + $0100, y
   77    00:E7BF  C8         			iny
   78    00:E7C0  D0 F7      			bne	!-
   79    00:E7C2  8C B3 26   			sty	spr_max
   80    00:E7C5  C8         			iny
   81    00:E7C6  8C B4 26   			sty	spr_clr
   82    00:E7C9  60         			rts
   83                        	
   84               0001     		.if	SUPPORT_SGX
   85    00:E7CA             	_sgx_reset_satb:
   86    00:E7CA  C2         	_sgx_init_satb:	cly
   87    00:E7CB  62         			cla
   88    00:E7CC  99 DF 29   	!:		sta	sgx_spr_sat + $0000, y
   89    00:E7CF  99 DF 2A   			sta	sgx_spr_sat + $0100, y
   90    00:E7D2  C8         			iny
   91    00:E7D3  D0 F7      			bne	!-
   92    00:E7D5  8C C3 26   			sty	sgx_spr_max
   93    00:E7D8  C8         			iny
   94    00:E7D9  8C C4 26   			sty	sgx_spr_clr
   95    00:E7DC  60         			rts
   96                        		.endif
   97                        	
   98                        	
   99                        	
  100                        	; ***************************************************************************
  101                        	; ***************************************************************************
  102                        	;
  103                        	; void __fastcall satb_update( void );
  104                        	; void __fastcall sgx_satb_update( void );
  105                        	
  106    1F:CB2F             	old_satb_group	.procgroup
  107                        	
  108               0001     		.if	SUPPORT_SGX
  109    1F:CB2F             			.proc	_sgx_satb_update
  110                        	
  111    1F:CB2F  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  112    1F:CB31  F0         			db	$F0			; Turn "clx" into a "beq".
  113                        	
  114    1F:CB32             			.ref	_satb_update
  115                        			.endp
  116                        		.endif
  117                        	
  118    1F:CB32             			.proc	_satb_update
  119                        	
  120    1F:CB32  82         			clx				; Offset to PCE VDC.
  121                        	
  122    1F:CB33  A9 7F      			lda.h	#$7F00			; HuC puts the SAT here in VRAM
  123                        	;		lda.h	#$0800			; but we put it here instead
  124    1F:CB35  64 F0      			stz.l	<_di
  125    1F:CB37  85 F1      			sta.h	<_di
  126    1F:CB39  20 7F E3   			jsr	set_di_to_mawr
  127                        	
  128               0001     		.if	SUPPORT_SGX
  129    1F:CB3C  8A         			txa				; Select which VDC to write
  130    1F:CB3D  1A         			inc	a			; to.
  131    1F:CB3E  1A         			inc	a
  132    1F:CB3F  8D F3 22   			sta.l	ram_tia_dst
  133                        		.endif
  134                        	
  135    1F:CB42  A9 10      			lda	#VRAM_XFER_SIZE		; Split into 16-byte chunks
  136    1F:CB44  8D F5 22   			sta.l	ram_tia_len		; for stable IRQ response.
  137                        	
  138    1F:CB47  BC B3 26   			ldy	spr_max, x		; Highest sprite that was set.
  139    1F:CB4A  C8         			iny
  140                        	
  141    1F:CB4B  BD B4 26   			lda	spr_clr, x
  142    1F:CB4E  F0 05      			beq	!+
  143    1F:CB50  9E B4 26   			stz	spr_clr, x
  144    1F:CB53  A0 40      			ldy	#64
  145                        	
  146    1F:CB55  98         	!:		tya
  147    1F:CB56  F0 22      			beq	.exit
  148                        	
  149    1F:CB58  3A         			dec	a			; round up to the next group of 2 sprites
  150    1F:CB59  4A         			lsr	a
  151               0000     		.if	VRAM_XFER_SIZE == 32
  153                        		.endif
  154    1F:CB5A  1A         			inc	a
  155    1F:CB5B  A8         			tay
  156                        	
  157    1F:CB5C  A9 27      			lda.h	#spr_sat
  158                        	
  159               0001     		.if	SUPPORT_SGX
  160    1F:CB5E  E0 00      			cpx	#0
  161    1F:CB60  F0 02      			beq	!+
  162                        	
  163    1F:CB62  A9 29      			lda.h	#sgx_spr_sat
  164                        		.endif
  165                        	
  166    1F:CB64  8D F2 22   	!:		sta.h	ram_tia_src
  167                        	
  168    1F:CB67  A9 DF      			lda.l	#spr_sat		; Same for SGX and PCE!
  169    1F:CB69  8D F1 22   	.chunk_loop:	sta.l	ram_tia_src
  170                        	
  171    1F:CB6C  20 F0 22   			jsr	ram_tia			; transfer 16-bytes
  172                        	
  173    1F:CB6F  18         			clc				; increment source
  174    1F:CB70  69 10      			adc	#VRAM_XFER_SIZE
  175    1F:CB72  90 03      			bcc	.same_page
  176    1F:CB74  EE F2 22   			inc.h	ram_tia_src
  177                        	
  178    1F:CB77  88         	.same_page:	dey
  179    1F:CB78  D0 EF      			bne	.chunk_loop
  180                        	
  181                        	.exit:		leave
         1F:CB7A  4C EF FF   			jmp	leave_proc
  182                        	
  183                        			.endp
  184                        	
  185                        			.endprocgroup	; old_satb_group
  186                        	
  187                        	
  188                        	
  189                        	; ***************************************************************************
  190                        	; ***************************************************************************
  191                        	;
  192                        	; void __fastcall spr_set( unsigned char num<acc> );
  193                        	
  194    00:E7DD  CD B3 26   	_spr_set.1:	cmp	spr_max
  195    00:E7E0  90 03      			bcc	!+
  196    00:E7E2  8D B3 26   			sta	spr_max
  197    00:E7E5  A0 27      	!:		ldy.h	#spr_sat
  198    00:E7E7  0A         			asl	a
  199    00:E7E8  0A         			asl	a
  200    00:E7E9  0A         			asl	a
  201    00:E7EA  90 02      			bcc	!+
  202    00:E7EC  C8         			iny
  203    00:E7ED  18         			clc
  204    00:E7EE  69 DF      	!:		adc.l	#spr_sat
  205    00:E7F0  85 9C      			sta.l	<spr_ptr
  206    00:E7F2  90 01      			bcc	!+
  207    00:E7F4  C8         			iny
  208    00:E7F5  84 9D      	!:		sty.h	<spr_ptr
  209    00:E7F7  60         			rts
  210                        	
  211                        	
  212                        	
  213                        	; ***************************************************************************
  214                        	; ***************************************************************************
  215                        	;
  216                        	; void __fastcall spr_hide( void );
  217                        	
  218    00:E7F8  A0 01      	_spr_hide:	ldy	#1
  219    00:E7FA  B1 9C      			lda	[spr_ptr], y
  220    00:E7FC  09 02      			ora	#2
  221    00:E7FE  91 9C      			sta	[spr_ptr], y
  222    00:E800  60         			rts
  223                        	
  224                        	
  225                        	
  226                        	; ***************************************************************************
  227                        	; ***************************************************************************
  228                        	;
  229                        	; void __fastcall spr_show( void );
  230                        	
  231    00:E801  A0 01      	_spr_show:	ldy	#1
  232    00:E803  B1 9C      			lda	[spr_ptr], y
  233    00:E805  29 01      			and	#1
  234    00:E807  91 9C      			sta	[spr_ptr], y
  235    00:E809  60         			rts
  236                        	
  237                        	
  238                        	
  239                        	; ***************************************************************************
  240                        	; ***************************************************************************
  241                        	;
  242                        	; void __fastcall spr_x( unsigned int value<acc> );
  243                        	
  244    00:E80A  02         	_spr_x.1:	sxy
  245    00:E80B  18         			clc
  246    00:E80C  69 20      			adc	#32
  247    00:E80E  A0 02      			ldy	#2
  248    00:E810  91 9C      			sta	[spr_ptr], y
  249    00:E812  8A         			txa
  250    00:E813  69 00      			adc	#0
  251    00:E815  C8         			iny
  252    00:E816  91 9C      			sta	[spr_ptr], y
  253    00:E818  60         			rts
  254                        	
  255                        	
  256                        	
  257                        	; ***************************************************************************
  258                        	; ***************************************************************************
  259                        	;
  260                        	; void __fastcall spr_y( unsigned int value<acc> );
  261                        	
  262    00:E819  18         	_spr_y.1:	clc
  263    00:E81A  69 40      			adc	#64
  264    00:E81C  92 9C      			sta	[spr_ptr]
  265    00:E81E  98         			tya
  266    00:E81F  69 00      			adc	#0
  267    00:E821  A0 01      			ldy	#1
  268    00:E823  91 9C      			sta	[spr_ptr], y
  269    00:E825  60         			rts
  270                        			
  271                        	
  272                        	
  273                        	; ***************************************************************************
  274                        	; ***************************************************************************
  275                        	;
  276                        	; void __fastcall spr_pattern( unsigned int vaddr<acc> );
  277                        	
  278    00:E826  84 00      	_spr_pattern.1:	sty	<__temp		;     zp=fedcba98 a=76543210
  279    00:E828  0A         			asl	a		; c=f zp=edcba987 a=6543210_
  280    00:E829  26 00      			rol	<__temp
  281    00:E82B  2A         			rol	a		; c=e zp=dcba9876 a=543210_f
  282    00:E82C  26 00      			rol	<__temp
  283    00:E82E  2A         			rol	a		; c=d zp=cba98765 a=43210_fe
  284    00:E82F  26 00      			rol	<__temp
  285    00:E831  2A         			rol	a		; c=4 zp=cba98765 a=3210_fed
  286    00:E832  A0 05      			ldy	#5
  287    00:E834  91 9C      			sta	[spr_ptr], y
  288    00:E836  A5 00      			lda	<__temp
  289    00:E838  88         			dey
  290    00:E839  91 9C      			sta	[spr_ptr], y
  291    00:E83B  60         			rts
  292                        	
  293                        	
  294                        	
  295                        	; ***************************************************************************
  296                        	; ***************************************************************************
  297                        	;
  298                        	; void __fastcall spr_ctrl( unsigned char mask<_al>, unsigned char value<acc> );
  299                        	
  300    00:E83C  25 F8      	_spr_ctrl.2:	and	<_al
  301    00:E83E  85 00      			sta	<__temp
  302    00:E840  A5 F8      			lda	<_al
  303    00:E842  49 FF      			eor	#$FF
  304    00:E844  A0 07      			ldy	#7
  305    00:E846  31 9C      			and	[spr_ptr], y
  306    00:E848  05 00      			ora	<__temp
  307    00:E84A  91 9C      			sta	[spr_ptr], y
  308    00:E84C  60         			rts
  309                        	
  310                        	
  311                        	
  312                        	; ***************************************************************************
  313                        	; ***************************************************************************
  314                        	;
  315                        	; void __fastcall spr_pal( unsigned char palette<acc> )
  316                        	
  317    00:E84D  29 0F      	_spr_pal.1:	and	#$0F
  318    00:E84F  85 00      			sta	<__temp
  319    00:E851  A0 06      			ldy	#6
  320    00:E853  B1 9C      			lda	[spr_ptr], y
  321    00:E855  29 F0      			and	#$F0
  322    00:E857  05 00      			ora	<__temp
  323    00:E859  91 9C      			sta	[spr_ptr], y
  324    00:E85B  60         			rts
  325                        	
  326                        	
  327                        	
  328                        	; ***************************************************************************
  329                        	; ***************************************************************************
  330                        	;
  331                        	; void __fastcall spr_pri( unsigned char priority<acc> )
  332                        	
  333    00:E85C  C9 01      	_spr_pri.1:	cmp	#1
  334    00:E85E  A0 06      			ldy	#6
  335    00:E860  B1 9C      			lda	[spr_ptr], y
  336    00:E862  29 7F      			and	#$7F
  337    00:E864  90 02      			bcc	!+
  338    00:E866  09 80      			ora	#$80
  339    00:E868  91 9C      	!:		sta	[spr_ptr], y
  340    00:E86A  60         			rts
  341                        	
  342                        	
  343                        	
  344                        	; ***************************************************************************
  345                        	; ***************************************************************************
  346                        	;
  347                        	; unsigned int __fastcall spr_get_x( void );
  348                        	
  349    00:E86B  38         	_spr_get_x:	sec
  350    00:E86C  A0 02      			ldy	#2
  351    00:E86E  B1 9C      			lda	[spr_ptr], y
  352    00:E870  E9 20      			sbc	#32
  353    00:E872  AA         			tax
  354    00:E873  C8         			iny
  355    00:E874  B1 9C      			lda	[spr_ptr], y
  356    00:E876  E9 00      			sbc	#0
  357    00:E878  A8         			tay
  358    00:E879  8A         			txa
  359    00:E87A  60         			rts
  360                        	
  361                        	
  362                        	
  363                        	; ***************************************************************************
  364                        	; ***************************************************************************
  365                        	;
  366                        	; unsigned int __fastcall spr_get_y( void );
  367                        	
  368    00:E87B  38         	_spr_get_y:	sec
  369    00:E87C  B2 9C      			lda	[spr_ptr]
  370    00:E87E  E9 40      			sbc	#64
  371    00:E880  AA         			tax
  372    00:E881  A0 01      			ldy	#1
  373    00:E883  B1 9C      			lda	[spr_ptr], y
  374    00:E885  E9 00      			sbc	#0
  375    00:E887  A8         			tay
  376    00:E888  8A         			txa
  377    00:E889  60         			rts
  378                        	
  379                        	
  380                        	
  381               0001     		.if	SUPPORT_SGX
  382                        	
  383                        	; ***************************************************************************
  384                        	; ***************************************************************************
  385                        	;
  386                        	; void __fastcall sgx_spr_set( unsigned char num<acc> );
  387                        	
  388    00:E88A  CD C3 26   	_sgx_spr_set.1:	cmp	sgx_spr_max
  389    00:E88D  90 03      			bcc	!+
  390    00:E88F  8D C3 26   			sta	sgx_spr_max
  391    00:E892  A0 29      	!:		ldy.h	#sgx_spr_sat
  392    00:E894  0A         			asl	a
  393    00:E895  0A         			asl	a
  394    00:E896  0A         			asl	a
  395    00:E897  90 02      			bcc	!+
  396    00:E899  C8         			iny
  397    00:E89A  18         			clc
  398    00:E89B  69 DF      	!:		adc.l	#sgx_spr_sat
  399    00:E89D  85 9E      			sta.l	<sgx_spr_ptr
  400    00:E89F  90 01      			bcc	!+
  401    00:E8A1  C8         			iny
  402    00:E8A2  84 9F      	!:		sty.h	<sgx_spr_ptr
  403    00:E8A4  60         			rts
  404                        	
  405                        	
  406                        	
  407                        	; ***************************************************************************
  408                        	; ***************************************************************************
  409                        	;
  410                        	; void __fastcall sgx_spr_hide( void );
  411                        	
  412    00:E8A5  A0 01      	_sgx_spr_hide:	ldy	#1
  413    00:E8A7  B1 9E      			lda	[sgx_spr_ptr], y
  414    00:E8A9  09 02      			ora	#2
  415    00:E8AB  91 9E      			sta	[sgx_spr_ptr], y
  416    00:E8AD  60         			rts
  417                        	
  418                        	
  419                        	
  420                        	; ***************************************************************************
  421                        	; ***************************************************************************
  422                        	;
  423                        	; void __fastcall sgx_spr_show( void );
  424                        	
  425    00:E8AE  A0 01      	_sgx_spr_show:	ldy	#1
  426    00:E8B0  B1 9E      			lda	[sgx_spr_ptr], y
  427    00:E8B2  29 01      			and	#1
  428    00:E8B4  91 9E      			sta	[sgx_spr_ptr], y
  429    00:E8B6  60         			rts
  430                        	
  431                        	
  432                        	
  433                        	; ***************************************************************************
  434                        	; ***************************************************************************
  435                        	;
  436                        	; void __fastcall sgx_spr_x( unsigned int value<acc> );
  437                        	
  438    00:E8B7  02         	_sgx_spr_x.1:	sxy
  439    00:E8B8  18         			clc
  440    00:E8B9  69 20      			adc	#32
  441    00:E8BB  A0 02      			ldy	#2
  442    00:E8BD  91 9E      			sta	[sgx_spr_ptr], y
  443    00:E8BF  8A         			txa
  444    00:E8C0  69 00      			adc	#0
  445    00:E8C2  C8         			iny
  446    00:E8C3  91 9E      			sta	[sgx_spr_ptr], y
  447    00:E8C5  60         			rts
  448                        	
  449                        	
  450                        	
  451                        	; ***************************************************************************
  452                        	; ***************************************************************************
  453                        	;
  454                        	; void __fastcall sgx_spr_y( unsigned int value<acc> );
  455                        	
  456    00:E8C6  18         	_sgx_spr_y.1:	clc
  457    00:E8C7  69 40      			adc	#64
  458    00:E8C9  92 9E      			sta	[sgx_spr_ptr]
  459    00:E8CB  98         			tya
  460    00:E8CC  69 00      			adc	#0
  461    00:E8CE  A0 01      			ldy	#1
  462    00:E8D0  91 9E      			sta	[sgx_spr_ptr], y
  463    00:E8D2  60         			rts
  464                        			
  465                        	
  466                        	
  467                        	; ***************************************************************************
  468                        	; ***************************************************************************
  469                        	;
  470                        	; void __fastcall sgx_spr_pattern( unsigned int vaddr<acc> );
  471                        	
  472    00:E8D3             	_sgx_spr_pattern.1:
  473    00:E8D3  84 00      			sty	<__temp		;     zp=fedcba98 a=76543210
  474    00:E8D5  0A         			asl	a		; c=f zp=edcba987 a=6543210_
  475    00:E8D6  26 00      			rol	<__temp
  476    00:E8D8  2A         			rol	a		; c=e zp=dcba9876 a=543210_f
  477    00:E8D9  26 00      			rol	<__temp
  478    00:E8DB  2A         			rol	a		; c=d zp=cba98765 a=43210_fe
  479    00:E8DC  26 00      			rol	<__temp
  480    00:E8DE  2A         			rol	a		; c=4 zp=cba98765 a=3210_fed
  481    00:E8DF  A0 05      			ldy	#5
  482    00:E8E1  91 9E      			sta	[sgx_spr_ptr], y
  483    00:E8E3  A5 00      			lda	<__temp
  484    00:E8E5  88         			dey
  485    00:E8E6  91 9E      			sta	[sgx_spr_ptr], y
  486    00:E8E8  60         			rts
  487                        	
  488                        	
  489                        	
  490                        	; ***************************************************************************
  491                        	; ***************************************************************************
  492                        	;
  493                        	; void __fastcall sgx_spr_ctrl( unsigned char mask<_al>, unsigned char value<acc> );
  494                        	
  495    00:E8E9  25 F8      	_sgx_spr_ctrl.2:and	<_al
  496    00:E8EB  85 00      			sta	<__temp
  497    00:E8ED  A5 F8      			lda	<_al
  498    00:E8EF  49 FF      			eor	#$FF
  499    00:E8F1  A0 07      			ldy	#7
  500    00:E8F3  31 9E      			and	[sgx_spr_ptr], y
  501    00:E8F5  05 00      			ora	<__temp
  502    00:E8F7  91 9E      			sta	[sgx_spr_ptr], y
  503    00:E8F9  60         			rts
  504                        	
  505                        	
  506                        	
  507                        	; ***************************************************************************
  508                        	; ***************************************************************************
  509                        	;
  510                        	; void __fastcall sgx_spr_pal( unsigned char palette<acc> )
  511                        	
  512    00:E8FA  29 0F      	_sgx_spr_pal.1:	and	#$0F
  513    00:E8FC  85 00      			sta	<__temp
  514    00:E8FE  A0 06      			ldy	#6
  515    00:E900  B1 9E      			lda	[sgx_spr_ptr], y
  516    00:E902  29 F0      			and	#$F0
  517    00:E904  05 00      			ora	<__temp
  518    00:E906  91 9E      			sta	[sgx_spr_ptr], y
  519    00:E908  60         			rts
  520                        	
  521                        	
  522                        	
  523                        	; ***************************************************************************
  524                        	; ***************************************************************************
  525                        	;
  526                        	; void __fastcall sgx_spr_pri( unsigned char priority<acc> )
  527                        	
  528    00:E909  C9 01      	_sgx_spr_pri.1:	cmp	#1
  529    00:E90B  A0 06      			ldy	#6
  530    00:E90D  B1 9E      			lda	[sgx_spr_ptr], y
  531    00:E90F  29 7F      			and	#$7F
  532    00:E911  90 02      			bcc	!+
  533    00:E913  09 80      			ora	#$80
  534    00:E915  91 9E      	!:		sta	[sgx_spr_ptr], y
  535    00:E917  60         			rts
  536                        	
  537                        	
  538                        	
  539                        	; ***************************************************************************
  540                        	; ***************************************************************************
  541                        	;
  542                        	; unsigned int __fastcall sgx_spr_get_x( void );
  543                        	
  544    00:E918  38         	_sgx_spr_get_x:	sec
  545    00:E919  A0 02      			ldy	#2
  546    00:E91B  B1 9E      			lda	[sgx_spr_ptr], y
  547    00:E91D  E9 20      			sbc	#32
  548    00:E91F  AA         			tax
  549    00:E920  C8         			iny
  550    00:E921  B1 9E      			lda	[sgx_spr_ptr], y
  551    00:E923  E9 00      			sbc	#0
  552    00:E925  A8         			tay
  553    00:E926  8A         			txa
  554    00:E927  60         			rts
  555                        	
  556                        	
  557                        	
  558                        	; ***************************************************************************
  559                        	; ***************************************************************************
  560                        	;
  561                        	; unsigned int __fastcall sgx_spr_get_y( void );
  562                        	
  563    00:E928  38         	_sgx_spr_get_y:	sec
  564    00:E929  B2 9E      			lda	[sgx_spr_ptr]
  565    00:E92B  E9 40      			sbc	#64
  566    00:E92D  AA         			tax
  567    00:E92E  A0 01      			ldy	#1
  568    00:E930  B1 9E      			lda	[sgx_spr_ptr], y
  569    00:E932  E9 00      			sbc	#0
  570    00:E934  A8         			tay
  571    00:E935  8A         			txa
  572    00:E936  60         			rts
  573                        	
  574                        		.endif	SUPPORT_SGX
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   76                        		.endif
   77                        	
   78               0001     		.ifdef	HUCC_USES_BLKMAP		; Set in hucc_blkmap.h
                             #[3]   "..\..\..\include\hucc\blkmap.asm"
   79                        			include	"blkmap.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; blkmap.asm
    5                        	;
    6                        	; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
    7                        	;
    8                        	; Copyright John Brandwood 2025.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
   18                        	;
   19                        	; The maximum total size for a blkmap is 16KBytes, which allows for maps up
   20                        	; to 128x128 blocks (2048x2048 pixels).
   21                        	;
   22                        	; Huge multi-screen blkmaps are also supported (optionally).
   23                        	;
   24                        	; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
   25                        	;
   26                        	; The maximum total size for a multi-screen map is 8KBytes, which allows for
   27                        	; a total of 1024 screens.
   28                        	;
   29                        	; ***************************************************************************
   30                        	; ***************************************************************************
   31                        	
   32                        	;
   33                        	; Include dependancies ...
   34                        	;
   35                        	
   36                        			include "common.asm"		; Common helpers.
   37                        			include "vce.asm"		; Useful VCE routines.
   38                        			include "vdc.asm"		; Useful VCE routines.
   39                        	
   40                        	;
   41                        	; Support large blkmaps up to 16KBytes instead of the regular 8KBytes?
   42                        	;
   43                        	; The maximum X and Y size for regular blkmaps is 128 tiles (2048 pixels).
   44                        	;
   45                        	; This allows for individual maps up to 128x128 tiles (2048x2048 pixels) vs
   46                        	; default limit of 128x64 or 64x128.
   47                        	;
   48                        	
   49               0000     		.ifndef	BLKMAP_LARGEMAP
   51                        		.endif
   52                        	
   53                        	;
   54                        	; Support huge multi-screen maps, up to 32768 pixels wide/high?
   55                        	;
   56                        	; These are sectorized maps split into individual BAT-sized "screens", with
   57                        	; a maximum of 1024 screens per map.
   58                        	;
   59                        	; The BAT size that is used when drawing *must* be the same as the BAT size
   60                        	; that was chosen when creating the multi-screen map.
   61                        	;
   62                        	; Each screen can use a unique set of block definitions, or it might choose
   63                        	; to share the same block definitions that are used on another screen.
   64                        	;
   65                        	; Each screen may choose which 8KByte banks of character data to select for
   66                        	; the 4 banks (32KBytes) of VRAM that its block definitions use, with a max
   67                        	; of 16 banks of characters per multi-screen map.
   68                        	;
   69                        	; Loading those character banks dynamically is an exercise for the user!
   70                        	;
   71                        	; Enabling support adds extra library code, and slightly slows down the use
   72                        	; of regular blkmaps.
   73                        	;
   74                        	
   75               0000     		.ifndef	BLKMAP_MULTISCR
   77                        		.endif
   78                        	
   79                        	;
   80                        	; Block definitions can either use character data from VRAM $1000..$7FFF or
   81                        	; they can be limited to use the 32KByte of characters in VRAM $1000..$4FFF
   82                        	; which then frees up 2-bits for flag information for each character in the
   83                        	; block.
   84                        	;
   85                        	; These 2-bits are perfect for using as collision information in game maps,
   86                        	; allowing storage of states like transparent, solid, up-slope, down-slope.
   87                        	;
   88                        	; Typically this flag information is set by the map conversion tools from a
   89                        	; seperate "collision" map layer.
   90                        	;
   91                        	
   92               0000     		.ifndef	BLKDEF_CHR_FLAG
   94                        		.endif
   95                        	
   96                        	;
   97                        	; Block definitions are accessed in MPR2 ($4000..$5FFF), and must not cross
   98                        	; the bank boundary.
   99                        	;
  100                        	; When working this way, 8 pointers in ZP are used to access the individual
  101                        	; bytes in the block definition. This is fine when using a regular map on a
  102                        	; PC Engine, but it is awfully slow when using multi-screen maps or drawing
  103                        	; maps on both VDC chips in a SuperGRAFX because the pointer values must be
  104                        	; constantly changed.
  105                        	;
  106                        	; When using multi-screen maps, or when developing a SuperGRAFX game, or if
  107                        	; developing a CDROM game, then it is usually preferable to store the block
  108                        	; definitions with 2KByte alignment, especially if they are normally stored
  109                        	; compressed and then decompressed into a 2KByte buffer in RAM when needed.
  110                        	;
  111                        	; This option controls whether the definitions are stored 2KByte aligned or
  112                        	; if pointers should be used instead.
  113                        	;
  114                        	
  115               0000     		.ifndef	BLKDEF_POINTERS
  117                        		.endif
  118                        	
  119                        	;
  120                        	; Add a timing bar to the scroll_map() to see how long the drawing takes?
  121                        	;
  122                        	
  123               0000     		.ifndef	BLKMAP_TIMETEST
  125                        		.endif
  126                        	
  127                        	;
  128                        	;
  129                        	;
  130                        	
  131               0000     		.if	BLKDEF_POINTERS
  144                        		.else
  145                        	
  146                        		; If the block definititions are 2KByte aligned.
  147                        	
  148               4000     	BLK_4000_TL_L	=	$4000
  149               4100     	BLK_4000_TR_L	=	$4100
  150               4200     	BLK_4000_BL_L	=	$4200
  151               4300     	BLK_4000_BR_L	=	$4300
  152               4400     	BLK_4000_TL_H	=	$4400
  153               4500     	BLK_4000_TR_H	=	$4500
  154               4600     	BLK_4000_BL_H	=	$4600
  155               4700     	BLK_4000_BR_H	=	$4700
  156                        	
  157               4800     	BLK_4800_TL_L	=	$4800
  158               4900     	BLK_4800_TR_L	=	$4900
  159               4A00     	BLK_4800_BL_L	=	$4A00
  160               4B00     	BLK_4800_BR_L	=	$4B00
  161               4C00     	BLK_4800_TL_H	=	$4C00
  162               4D00     	BLK_4800_TR_H	=	$4D00
  163               4E00     	BLK_4800_BL_H	=	$4E00
  164               4F00     	BLK_4800_BR_H	=	$4F00
  165                        	
  166               5000     	BLK_5000_TL_L	=	$5000
  167               5100     	BLK_5000_TR_L	=	$5100
  168               5200     	BLK_5000_BL_L	=	$5200
  169               5300     	BLK_5000_BR_L	=	$5300
  170               5400     	BLK_5000_TL_H	=	$5400
  171               5500     	BLK_5000_TR_H	=	$5500
  172               5600     	BLK_5000_BL_H	=	$5600
  173               5700     	BLK_5000_BR_H	=	$5700
  174                        	
  175               5800     	BLK_5800_TL_L	=	$5800
  176               5900     	BLK_5800_TR_L	=	$5900
  177               5A00     	BLK_5800_BL_L	=	$5A00
  178               5B00     	BLK_5800_BR_L	=	$5B00
  179               5C00     	BLK_5800_TL_H	=	$5C00
  180               5D00     	BLK_5800_TR_H	=	$5D00
  181               5E00     	BLK_5800_BL_H	=	$5E00
  182               5F00     	BLK_5800_BR_H	=	$5F00
  183                        	
  184                        		.endif
  185                        	
  186               0080     	MAP_UNALIGNED_X	=	$80
  187               0040     	MAP_UNALIGNED_Y	=	$40
  188                        	
  189                        	;
  190                        	;
  191                        	;
  192                        	
  193               2BDF     			.bss
  194                        	
  195                        	; **************
  196                        	; 8-byte (or 2-byte) entry for each SCREEN in the MULTI_MAP.
  197                        	
  198               0000     			.rsset	0
  199               0000     		.if	BLKDEF_POINTERS
  202                        		.else
  203               0000     	SCR_MAP_PAGE	.rs	1	; 256-byte aligned.
  204               0001     	SCR_MAP_BANK	.rs	1
  205               0002     	SCR_BLK_PAGE	.rs	1	; >$4000, >$4800, >$5000, or >$5800.
  206               0003     	SCR_BLK_BANK	.rs	1
  207               0004     	SCR_TBL_PAGE	.rs	1	; 256-byte aligned.
  208               0005     	SCR_TBL_BANK	.rs	1
  209               0006     	SCR_CHR_12	.rs	1	; Which CHR banks are used by the BLK, with
  210               0007     	SCR_CHR_34	.rs	1	; a max of 16 CHR banks per MULTI_MAP.
  211                        		.endif
  212                        	
  213                        			; A simple macro to help build a multi-screen map.
  214                        	
  215               0000     		.ifndef	SCREEN
  224                        		.endif
  225                        	
  226    F8:2BDF             	map_blk_flag:	ds	1	; Returned from _get_map_block().
  227    F8:2BE0             	map_blk_mask:	ds	1	; Returned from _get_map_block().
  228                        	
  229                        	; **************
  230                        	; 16-bytes of VDC blkmap info.
  231                        	;
  232                        	; N.B. MUST be 16-bytes before the SGX versions to use PCE_VDC_OFFSET.
  233                        	
  234    F8:2BE1             	vdc_old_chr_x:	ds	1	; Previous top-left X in CHR (lo-byte only).
  235    F8:2BE2             	vdc_old_chr_y:	ds	1	; Previous top-left Y in CHR (lo-byte only).
  236                        	
  237    F8:2BE3             	vdc_tbl_addr:	ds	2	; 256-byte aligned.
  238    F8:2BE5             	vdc_tbl_bank:	ds	1
  239                        	
  240    F8:2BE6             	vdc_blk_addr:	ds	2	; 2KBytes of data, 256-byte aligned.
  241    F8:2BE8             	vdc_blk_bank:	ds	1
  242                        	
  243    F8:2BE9             	vdc_map_addr:	ds	2	; Mapped into MPR3..MPR5, max 16KBytes.
  244    F8:2BEB             	vdc_map_bank:	ds	1
  245                        	
  246    F8:2BEC             	vdc_scr_addr:	ds	2	; 8KByte maximum size.
  247    F8:2BEE             	vdc_scr_bank:	ds	1
  248    F8:2BEF             	vdc_scr_chr12:	ds	1	; Which CHR banks are used by the BLK, with
  249    F8:2BF0             	vdc_scr_chr34:	ds	1	; a max of 16 banks per multi-screen map.
  250                        	
  251               0001     		.if	SUPPORT_SGX
  252                        	
  253                        	; **************
  254                        	; 16-bytes of SGX blkmap info.
  255                        	;
  256                        	; N.B. MUST be 16-bytes after the VDC versions to use SGX_VDC_OFFSET.
  257                        	
  258    F8:2BF1             	sgx_old_chr_x:	ds	1	; Previous top-left X in CHR (lo-byte only).
  259    F8:2BF2             	sgx_old_chr_y:	ds	1	; Previous top-left Y in CHR (lo-byte only).
  260                        	
  261    F8:2BF3             	sgx_tbl_addr:	ds	2	; 256-byte aligned.
  262    F8:2BF5             	sgx_tbl_bank:	ds	1
  263                        	
  264    F8:2BF6             	sgx_blk_addr:	ds	2	; 2KBytes of data, 256-byte aligned.
  265    F8:2BF8             	sgx_blk_bank:	ds	1
  266                        	
  267    F8:2BF9             	sgx_map_addr:	ds	2	; Mapped into MPR3..MPR4, max 8KBytes.
  268    F8:2BFB             	sgx_map_bank:	ds	1
  269                        	
  270    F8:2BFC             	sgx_scr_addr:	ds	2	; 8KByte maximum size.
  271    F8:2BFE             	sgx_scr_bank:	ds	1
  272    F8:2BFF             	sgx_scr_chr12:	ds	1	; Which CHR banks are used by the BLK, with
  273    F8:2C00             	sgx_scr_chr34:	ds	1	; a max of 16 banks per multi-screen map.
  274                        	
  275                        		.endif	SUPPORT_SGX
  276                        	
  277               0000     		.if	0
  310                        		.endif	0
  311                        	
  312                        	; **************
  313                        	; Aliases for the asm variable names in HuCC.
  314                        	;
  315                        	
  316               0001     		.ifdef	HUCC
  317                        	
  318    F8:2C01             	_map_blk_flag	.alias	map_blk_flag
  319    F8:2C01             	_map_blk_mask	.alias	map_blk_mask
  320                        	
  321    F8:2C01             	_vdc_map_draw_w	.alias	vdc_map_draw_w
  322    F8:2C01             	_vdc_map_draw_h	.alias	vdc_map_draw_h
  323    F8:2C01             	_vdc_map_pxl_x	.alias	vdc_map_pxl_x
  324    F8:2C01             	_vdc_map_pxl_y	.alias	vdc_map_pxl_y
  325    F8:2C01             	_vdc_old_chr_x	.alias	vdc_old_chr_x
  326    F8:2C01             	_vdc_old_chr_y	.alias	vdc_old_chr_y
  327    F8:2C01             	_vdc_tbl_addr	.alias	vdc_tbl_addr
  328    F8:2C01             	_vdc_tbl_bank	.alias	vdc_tbl_bank
  329    F8:2C01             	_vdc_blk_addr	.alias	vdc_blk_addr
  330    F8:2C01             	_vdc_blk_bank	.alias	vdc_blk_bank
  331    F8:2C01             	_vdc_map_line_w	.alias	vdc_map_line_w
  332    F8:2C01             	_vdc_map_scrn_w	.alias	vdc_map_scrn_w
  333    F8:2C01             	_vdc_map_addr	.alias	vdc_map_addr
  334    F8:2C01             	_vdc_map_bank	.alias	vdc_map_bank
  335    F8:2C01             	_vdc_scr_addr	.alias	vdc_scr_addr
  336    F8:2C01             	_vdc_scr_bank	.alias	vdc_scr_bank
  337    F8:2C01             	_vdc_scr_chr12	.alias	vdc_scr_chr12
  338    F8:2C01             	_vdc_scr_chr34	.alias	vdc_scr_chr34
  339                        	
  340               0001     		.if	SUPPORT_SGX
  341    F8:2C01             	_sgx_map_draw_w	.alias	sgx_map_draw_w
  342    F8:2C01             	_sgx_map_draw_h	.alias	sgx_map_draw_h
  343    F8:2C01             	_sgx_map_pxl_x	.alias	sgx_map_pxl_x
  344    F8:2C01             	_sgx_map_pxl_y	.alias	sgx_map_pxl_y
  345    F8:2C01             	_sgx_old_chr_x	.alias	sgx_old_chr_x
  346    F8:2C01             	_sgx_old_chr_y	.alias	sgx_old_chr_y
  347    F8:2C01             	_sgx_tbl_addr	.alias	sgx_tbl_addr
  348    F8:2C01             	_sgx_tbl_bank	.alias	sgx_tbl_bank
  349    F8:2C01             	_sgx_blk_addr	.alias	sgx_blk_addr
  350    F8:2C01             	_sgx_blk_bank	.alias	sgx_blk_bank
  351    F8:2C01             	_sgx_map_line_w	.alias	sgx_map_line_w
  352    F8:2C01             	_sgx_map_scrn_w	.alias	sgx_map_scrn_w
  353    F8:2C01             	_sgx_map_addr	.alias	sgx_map_addr
  354    F8:2C01             	_sgx_map_bank	.alias	sgx_map_bank
  355    F8:2C01             	_sgx_scr_addr	.alias	sgx_scr_addr
  356    F8:2C01             	_sgx_scr_bank	.alias	sgx_scr_bank
  357    F8:2C01             	_sgx_scr_chr12	.alias	sgx_scr_chr12
  358    F8:2C01             	_sgx_scr_chr34	.alias	sgx_scr_chr34
  359                        		.endif	SUPPORT_SGX
  360                        	
  361                        		.endif	HUCC
  362                        	
  363                        	; **************
  364                        	; Temporary variables for drawing, using common zero-page locations.
  365                        	;
  366                        	
  367               20F8     	map_bat_x	=	_al	; Set by draw_map(), scroll_map() if drawing
  368               20F9     	map_bat_y	=	_ah	; aligned, or as parameters to blit_map().
  369                        	
  370               20FA     	map_draw_w	=	_bl	; Set by draw_map(), scroll_map(), but given
  371               20FB     	map_draw_h	=	_bh	; as parameters to blit_map().
  372                        	
  373               20FC     	map_pxl_x	=	_cx	; Set by draw_map(), scroll_map() and also by
  374               20FC     	map_chr_x	=	_cl	; blit__map(), from current vdc_map_pxl_x.
  375               20FD     	map_scrn_x	=	_ch
  376                        	
  377               20FE     	map_pxl_y	=	_dx	; Set by draw_map(), scroll_map() and also by
  378               20FE     	map_chr_y	=	_dl	; blit__map(), from current vdc_map_pxl_y.
  379               20FF     	map_scrn_y	=	_dh
  380                        	
  381               20EE     	map_line	=	_si	; Start of map data line being drawn.
  382                        	
  383               2000     	map_count	=	__temp + 0
  384               2001     	map_drawn	=	__temp + 1
  385                        	
  386               E937     			.code
  387                        	
  388                        	
  389                        	
  390    02:D313             	blkmap_group	.procgroup
  391                        	
  392                        	; ***************************************************************************
  393                        	; ***************************************************************************
  394                        	;
  395                        	; _set_blocks - Initialize the block definition pointers.
  396                        	; _sgx_set_blocks - Initialize the block definition pointers.
  397                        	;
  398                        	; void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blk<_al> );
  399                        	; void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blk<_al> );
  400                        	;
  401                        	
  402               0001     		.if	SUPPORT_SGX
  403                        	
  404    02:D313             			.proc	_sgx_set_blocks.3
  405                        	
  406    02:D313  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  407    02:D315  F0         			db	$F0			; Turn "clx" into a "beq".
  408                        	
  409    02:D316             			.ref	_set_blocks.3
  410                        			.endp
  411                        		.endif
  412                        	
  413    02:D316             			.proc	_set_blocks.3
  414                        	
  415    02:D316  82         			clx				; Offset to PCE VDC.
  416                        	
  417    02:D317  BD E4 2B   			lda.h	vdc_tbl_addr, x		; Remap the address to MPR2.
  418    02:D31A  29 1F      			and	#$1F
  419    02:D31C  09 40      			ora	#$40
  420    02:D31E  9D E4 2B   			sta.h	vdc_tbl_addr, x
  421                        	
  422    02:D321  BD E7 2B   			lda.h	vdc_blk_addr, x		; Remap the address to MPR2.
  423    02:D324  29 1F      			and	#$1F
  424    02:D326  09 40      			ora	#$40
  425    02:D328  9D E7 2B   			sta.h	vdc_blk_addr, x
  426                        	
  427               0000     		.if	BLKDEF_POINTERS
  479                        		.endif	BLKDEF_POINTERS
  480                        	
  481                        			leave
         02:D32B  4C EF FF   			jmp	leave_proc
  482                        	
  483                        			.endp
  484                        	
  485                        	
  486                        	
  487                        	; ***************************************************************************
  488                        	; ***************************************************************************
  489                        	;
  490                        	; _draw_map - Draw the entire screen at the current coordinates.
  491                        	; _sgx_draw_map - Draw the entire screen at the current coordinates.
  492                        	;
  493                        	; void __fastcall draw_map( void );
  494                        	; void __fastcall sgx_draw_map( void );
  495                        	;
  496                        	
  497               0001     		.if	SUPPORT_SGX
  498                        	
  499    02:D32E             	_sgx_draw_map	.proc
  500                        	
  501    02:D32E  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  502    02:D330  F0         			db	$F0			; Turn "clx" into a "beq".
  503                        	
  504    02:D331             			.ref	_draw_map
  505                        			.endp
  506                        		.endif
  507                        	
  508    02:D331             	_draw_map	.proc
  509                        	
  510    02:D331  82         			clx				; Offset to PCE VDC.
  511                        	
  512    02:D332  43 04      			tma2				; Preserve MPR2..MPR4.
  513    02:D334  48         			pha
  514    02:D335  43 08      			tma3
  515    02:D337  48         			pha
  516    02:D338  43 10      			tma4
  517    02:D33A  48         			pha
  518               0000     		.if	BLKMAP_LARGEMAP
  521                        		.endif
  522                        	
  523    02:D33B  20 3D D4   			jsr	map_pxl_2_chr		; Set up the draw coordinates.
  524                        	
  525    02:D33E  A5 FC      			lda	<map_chr_x		; Reset previous X position.
  526    02:D340  9D E1 2B   			sta	vdc_old_chr_x, x
  527                        	
  528    02:D343  A5 FE      			lda	<map_chr_y		; Reset previous Y position,
  529    02:D345  1A         			inc	a			; ready to draw multiple rows.
  530    02:D346  9D E2 2B   			sta	vdc_old_chr_y, x
  531                        	
  532    02:D349  BD AA 26   			lda	vdc_map_draw_w, x	; Draw the whole screen.
  533    02:D34C  85 FA      			sta	<map_draw_w
  534    02:D34E  BD AB 26   			lda	vdc_map_draw_h, x
  535    02:D351  85 FB      			sta	<map_draw_h
  536                        	
  537    02:D353  20 93 D6   			jsr	map_scroll_y		; Draw N row of CHR to the BAT.
  538                        	
  539               0000     		.if	BLKMAP_LARGEMAP
  542                        		.endif
  543    02:D356  68         			pla				; Restore MPR2..MPR4.
  544    02:D357  53 10      			tam4
  545    02:D359  68         			pla
  546    02:D35A  53 08      			tam3
  547    02:D35C  68         			pla
  548    02:D35D  53 04      			tam2
  549                        	
  550                        			leave
         02:D35F  4C EF FF   			jmp	leave_proc
  551                        	
  552                        			.endp
  553                        	
  554                        	
  555                        	
  556                        	; ***************************************************************************
  557                        	; ***************************************************************************
  558                        	;
  559                        	; _scroll_map - Draw a single row of CHR into the BAT to update the edge.
  560                        	; _sgx_scroll_map - Draw a single row of CHR into the BAT to update the edge.
  561                        	;
  562                        	; void __fastcall scroll_map( void );
  563                        	; void __fastcall sgx_scroll_map( void );
  564                        	;
  565                        	
  566               0001     		.if	SUPPORT_SGX
  567                        	
  568    02:D362             	_sgx_scroll_map	.proc
  569                        	
  570    02:D362  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  571    02:D364  F0         			db	$F0			; Turn "clx" into a "beq".
  572                        	
  573    02:D365             			.ref	_scroll_map
  574                        			.endp
  575                        		.endif
  576                        	
  577    02:D365             	_scroll_map	.proc
  578                        	
  579    02:D365  82         			clx				; Offset to PCE VDC.
  580                        	
  581               0000     		.if	BLKMAP_TIMETEST
  587                        		.endif
  588                        	
  589    02:D366  43 04      			tma2				; Preserve MPR2..MPR4.
  590    02:D368  48         			pha
  591    02:D369  43 08      			tma3
  592    02:D36B  48         			pha
  593    02:D36C  43 10      			tma4
  594    02:D36E  48         			pha
  595               0000     		.if	BLKMAP_LARGEMAP
  598                        		.endif
  599                        	
  600    02:D36F  20 3D D4   			jsr	map_pxl_2_chr		; Set up the draw coordinates.
  601                        	
  602               0001     		.if	BLKMAP_MULTISCR
  603    02:D372  A5 FD      			lda	<map_scrn_x		; map_scroll_x can change this!
  604    02:D374  48         			pha
  605                        		.endif
  606                        	
  607    02:D375  BD AB 26   			lda	vdc_map_draw_h, x	; Draw new LHS or RHS if needed.
  608    02:D378  85 FB      			sta	<map_draw_h
  609                        	;		lda	#1			; map_scroll_x only ever draws a
  610                        	;		sta	<map_draw_w		; single column.
  611    02:D37A  20 74 D5   			jsr	map_scroll_x
  612                        	
  613    02:D37D  BD E1 2B   			lda	vdc_old_chr_x, x	; Restore map_chr_x which could
  614    02:D380  85 FC      			sta	<map_chr_x		; be changed by map_scroll_x.
  615                        	
  616               0001     		.if	BLKMAP_MULTISCR
  617    02:D382  68         			pla				; Restore before map_scroll_y.
  618    02:D383  85 FD      			sta	<map_scrn_x
  619                        		.endif
  620                        	
  621    02:D385  BD AA 26   			lda	vdc_map_draw_w, x	; Draw new TOP or BTM if needed.
  622    02:D388  85 FA      			sta	<map_draw_w
  623    02:D38A  A9 01      			lda	#1
  624    02:D38C  85 FB      			sta	<map_draw_h
  625    02:D38E  20 93 D6   			jsr	map_scroll_y
  626                        	
  627               0000     		.if	BLKMAP_LARGEMAP
  630                        		.endif
  631    02:D391  68         			pla				; Restore MPR2..MPR4.
  632    02:D392  53 10      			tam4
  633    02:D394  68         			pla
  634    02:D395  53 08      			tam3
  635    02:D397  68         			pla
  636    02:D398  53 04      			tam2
  637                        	
  638               0000     		.if	BLKMAP_TIMETEST
  640                        		.endif
  641                        	
  642                        			leave
         02:D39A  4C EF FF   			jmp	leave_proc
  643                        	
  644                        			.endp
  645                        	
  646                        	
  647                        	
  648                        	; ***************************************************************************
  649                        	; ***************************************************************************
  650                        	;
  651                        	; _blit_map - Draw a map rectangle to specific BAT coordinates.
  652                        	; _sgx_blit_map - Draw a map rectangle to specific BAT coordinates.
  653                        	;
  654                        	; void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
  655                        	; void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
  656                        	;
  657                        	; Normally you'd just use _draw_map() and _scroll_map(), but for those folks
  658                        	; who really wish to take manual control, you can use this.
  659                        	;
  660                        	
  661               0001     		.if	SUPPORT_SGX
  662                        	
  663                        	_sgx_blit_map	.proc
  669                        			.endp
  670                        		.endif
  671                        	
  672    02:D39D             	_blit_map	.proc
  673                        	
  674    02:D39D  82         			clx				; Offset to PCE VDC.
  675                        	
  676    02:D39E  BD EE 2B   			lda	vdc_scr_bank, x		; Skip this if a multi-screen
  677    02:D3A1  D0 36      			bne	.exit			; blkmap.
  678                        	
  679    02:D3A3  43 04      			tma2				; Preserve MPR2..MPR4.
  680    02:D3A5  48         			pha
  681    02:D3A6  43 08      			tma3
  682    02:D3A8  48         			pha
  683    02:D3A9  43 10      			tma4
  684    02:D3AB  48         			pha
  685               0000     		.if	BLKMAP_LARGEMAP
  688                        		.endif
  689                        	
  690    02:D3AC  BD B2 26   			lda	vdc_map_option, x	; Preserve current map options.
  691    02:D3AF  48         			pha
  692    02:D3B0  09 C0      			ora	#MAP_UNALIGNED_X | MAP_UNALIGNED_Y
  693    02:D3B2  9D B2 26   			sta	vdc_map_option, x
  694                        	
  695    02:D3B5  20 3D D4   			jsr	map_pxl_2_chr		; Set up the draw coordinates.
  696                        	
  697    02:D3B8  A5 FA      			lda	<map_draw_w		; Are we drawing just 1 column?
  698    02:D3BA  C9 01      			cmp	#1
  699    02:D3BC  F0 1E      			beq	.draw_column
  700                        	
  701                        			; Draw N rows.
  702                        	
  703    02:D3BE  A5 FC      	.draw_rows:	lda	<map_chr_x		; Reset previous X position.
  704    02:D3C0  9D E1 2B   			sta	vdc_old_chr_x, x
  705                        	
  706    02:D3C3  A5 FE      			lda	<map_chr_y		; Reset previous Y position,
  707    02:D3C5  1A         			inc	a			; ready to draw rows upwards.
  708    02:D3C6  9D E2 2B   			sta	vdc_old_chr_y, x
  709                        	
  710    02:D3C9  20 93 D6   			jsr	map_scroll_y		; Draw a row of CHR to the BAT.
  711                        	
  712                        			; Drawing completed.
  713                        	
  714    02:D3CC  68         	.finished:	pla				; Restore previous map options.
  715    02:D3CD  9D B2 26   			sta	vdc_map_option, x
  716                        	
  717               0000     		.if	BLKMAP_LARGEMAP
  720                        		.endif
  721    02:D3D0  68         			pla				; Restore MPR2..MPR4.
  722    02:D3D1  53 10      			tam4
  723    02:D3D3  68         			pla
  724    02:D3D4  53 08      			tam3
  725    02:D3D6  68         			pla
  726    02:D3D7  53 04      			tam2
  727                        	
  728                        	.exit:		leave
         02:D3D9  4C EF FF   			jmp	leave_proc
  729                        	
  730                        			; Draw 1 column.
  731                        	
  732    02:D3DC  A5 FC      	.draw_column:	lda	<map_chr_x		; Reset previous X position.
  733    02:D3DE  1A         			inc	a			; ready to draw 1 column.
  734    02:D3DF  9D E1 2B   			sta	vdc_old_chr_x, x
  735                        	
  736    02:D3E2  A5 FE      			lda	<map_chr_y		; Reset previous Y position.
  737    02:D3E4  9D E2 2B   			sta	vdc_old_chr_y, x
  738                        	
  739    02:D3E7  20 74 D5   			jsr	map_scroll_x		; Draw a single column of CHR.
  740                        	
  741    02:D3EA  80 E0      			bra	.finished
  742                        	
  743                        			.endp
  744                        	
  745                        	
  746                        	
  747                        	; ***************************************************************************
  748                        	; ***************************************************************************
  749                        	;
  750                        	; _get_map_block - Get the block number used at a map pixel coordinate.
  751                        	; _sgx_get_map_block - Get the block number used at a map pixel coordinate.
  752                        	;
  753                        	; unsigned char __fastcall _get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
  754                        	; unsigned char __fastcall _sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
  755                        	;
  756                        	
  757               0001     		.if	SUPPORT_SGX
  758                        	
  759                        			.proc	_sgx_get_map_block.2
  765                        			.endp
  766                        		.endif
  767                        	
  768    02:D3EC             			.proc	_get_map_block.2
  769                        	
  770    02:D3EC  82         			clx				; Offset to PCE VDC.
  771                        	
  772    02:D3ED  43 04      			tma2				; Preserve MPR2..MPR4.
  773    02:D3EF  48         			pha
  774    02:D3F0  43 08      			tma3
  775    02:D3F2  48         			pha
  776    02:D3F3  43 10      			tma4
  777    02:D3F5  48         			pha
  778               0000     		.if	BLKMAP_LARGEMAP
  781                        		.endif
  782                        	
  783    02:D3F6  20 51 D4   			jsr	xvt_pxl_2_chr		; Set up the query coordinates.
  784                        	
  785    02:D3F9  20 7F D4   			jsr	map_chr_2_data		; Page in the map address.
  786                        	
  787    02:D3FC  B2 EC      			lda	[_bp]			; Read the BLK from the map.
  788    02:D3FE  A8         			tay
  789                        	
  790    02:D3FF  A5 FC      			lda	<map_chr_x		; Calc the BLK address offset
  791    02:D401  4A         			lsr	a			; use depending upon even/odd
  792    02:D402  A5 FE      			lda	<map_chr_y		; CHR coordinates (not BAT to
  793    02:D404  29 01      			and	#1			; support unaligned drawing).
  794    02:D406  2A         			rol	a
  795    02:D407  09 04      			ora	#4			; Offset to BLK table top byte.
  796    02:D409  7D E7 2B   			adc.h	vdc_blk_addr, x		; What is the BLK data address?
  797    02:D40C  85 ED      			sta.h	<_bp			; $4000, $4800, $5000 or $5800.
  798    02:D40E  64 EC      			stz.l	<_bp
  799    02:D410  B1 EC      			lda	[_bp], y		; Read the collision flags from
  800    02:D412  29 0C      			and	#%00001100		; the top byte of the CHR.
  801    02:D414  4A         			lsr	a
  802    02:D415  4A         			lsr	a
  803    02:D416  4A         			lsr	a			; Swizzle the bottom bit to get
  804    02:D417  90 02      			bcc	!+			; the same bit order as used in
  805    02:D419  09 02      			ora	#2			; .HALTMAP layer.
  806    02:D41B  8D DF 2B   	!:		sta	map_blk_flag
  807                        	
  808    02:D41E  BD E5 2B   			lda	vdc_tbl_bank, x		; Is there a table of flags?
  809    02:D421  F0 09      			beq	!+
  810    02:D423  53 08      			tam3
  811                        	;		inc	a
  812                        	;		tam4
  813                        	;		lda.l	vdc_tbl_addr, x
  814                        	;		sta.l	<_bp
  815    02:D425  BD E4 2B   			lda.h	vdc_tbl_addr, x		; If so, it must be aligned!
  816    02:D428  85 ED      			sta.h	<_bp
  817    02:D42A  B1 EC      			lda	[_bp], y		; Read the .MASKMAP/.OVERMAP
  818    02:D42C  8D E0 2B   	!:		sta	map_blk_mask		; flag value for this BLK.
  819                        	
  820               0000     		.if	BLKMAP_LARGEMAP
  823                        		.endif
  824    02:D42F  68         			pla				; Restore MPR2..MPR4.
  825    02:D430  53 10      			tam4
  826    02:D432  68         			pla
  827    02:D433  53 08      			tam3
  828    02:D435  68         			pla
  829    02:D436  53 04      			tam2
  830                        	
  831    02:D438  02         			sxy				; Put the BLK number in X.
  832    02:D439  C2         			cly
  833                        	
  834                        			leave				; All done!
         02:D43A  4C EF FF   			jmp	leave_proc
  835                        	
  836                        			.endp
  837                        	
  838                        	
  839                        	
  840                        	; ***************************************************************************
  841                        	; ***************************************************************************
  842                        	;
  843                        	; map_pxl_2_chr - Convert PXL to CHR, BLK and SCR coordinates.
  844                        	;
  845                        	
  846    02:D43D  BD B0 26   	map_pxl_2_chr:	lda.l	vdc_map_pxl_y, x	; Get current map Y coordinate.
  847    02:D440  85 FE      			sta.l	<map_pxl_y
  848    02:D442  BD B1 26   			lda.h	vdc_map_pxl_y, x
  849    02:D445  85 FF      			sta.h	<map_pxl_y
  850                        	
  851    02:D447  BD AE 26   			lda.l	vdc_map_pxl_x, x	; Get current map X coordinate.
  852    02:D44A  85 FC      			sta.l	<map_pxl_x
  853    02:D44C  BD AF 26   			lda.h	vdc_map_pxl_x, x
  854    02:D44F  85 FD      			sta.h	<map_pxl_x
  855                        	
  856    02:D451  A5 FD      	xvt_pxl_2_chr:	lda.h	<map_pxl_x		; Xvert map_pxl_x to map_chr_x.
  857               0001     		.if	BLKMAP_MULTISCR
  858    02:D453  A8         			tay				; Xvert map_pxl_x to map_scrn_x.
  859    02:D454  3C A5 26   			bit	vdc_bat_width, x
  860    02:D457  70 03      			bvs	.w64
  861    02:D459  10 02      			bpl	.w32
  862    02:D45B  4A         	.w128:		lsr	a
  863    02:D45C  4A         	.w64:		lsr	a
  864    02:D45D  85 FD      	.w32:		sta	<map_scrn_x
  865    02:D45F  98         			tya
  866                        		.endif
  867    02:D460  4A         			lsr	a
  868    02:D461  66 FC      			ror.l	<map_pxl_x
  869    02:D463  4A         			lsr	a
  870    02:D464  66 FC      			ror.l	<map_pxl_x
  871    02:D466  4A         			lsr	a
  872    02:D467  66 FC      			ror.l	<map_pxl_x		; Max map width is 256 CHR.
  873                        	
  874    02:D469  A5 FF      			lda.h	<map_pxl_y		; Xvert map_pxl_y to map_chr_y.
  875               0001     		.if	BLKMAP_MULTISCR
  876    02:D46B  A8         			tay				; Xvert map_pxl_y to map_scrn_y.
  877    02:D46C  3C A6 26   			bit	vdc_bat_height, x
  878    02:D46F  50 01      			bvc	.h32
  879    02:D471  4A         	.h64:		lsr	a
  880    02:D472  85 FF      	.h32:		sta	<map_scrn_y
  881    02:D474  98         			tya
  882                        		.endif
  883    02:D475  4A         			lsr	a
  884    02:D476  66 FE      			ror.l	<map_pxl_y
  885    02:D478  4A         			lsr	a
  886    02:D479  66 FE      			ror.l	<map_pxl_y
  887    02:D47B  4A         			lsr	a
  888    02:D47C  66 FE      			ror.l	<map_pxl_y		; Max map width is 256 CHR.
  889                        	
  890    02:D47E  60         			rts
  891                        	
  892                        	
  893                        	
  894                        	; ***************************************************************************
  895                        	; ***************************************************************************
  896                        	;
  897                        	; map_chr_2_data - Page in the MAP address for the CHR coordinates.
  898                        	;
  899                        	
  900    02:D47F             	map_chr_2_data:
  901                        	
  902               0001     		.if	BLKMAP_MULTISCR
  903                        	
  904                        			; Initialization for a multi-screen map.
  905                        	
  906    02:D47F  BD EE 2B   			lda	vdc_scr_bank, x		; Skip this if regular blkmap.
  907    02:D482  F0 3A      			beq	.regular
  908                        	
  909    02:D484  A5 FC      	.multiscreen:	lda	<map_chr_x		; Compare old_x with cur_x.
  910    02:D486  3D A7 26   			and	vdc_bat_x_mask, x
  911    02:D489  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
  912                        	
  913    02:D48B  A5 FE      			lda	<map_chr_y		; Save BAT Y chr coordinate.
  914    02:D48D  3D A8 26   			and	vdc_bat_y_mask, x
  915    02:D490  85 F9      			sta	<map_bat_y
  916    02:D492  4A         			lsr	a			; Map BLK Y coordinate.
  917    02:D493  85 EF      			sta.h	<map_line
  918    02:D495  62         			cla
  919    02:D496  3C A5 26   			bit	vdc_bat_width, x
  920    02:D499  30 08      			bmi	.w128
  921    02:D49B  70 03      			bvs	.w64
  922    02:D49D  46 EF      	.w32:		lsr.h	<map_line
  923    02:D49F  6A         			ror	a
  924    02:D4A0  46 EF      	.w64:		lsr.h	<map_line
  925    02:D4A2  6A         			ror	a
  926    02:D4A3  46 EF      	.w128:		lsr.h	<map_line
  927    02:D4A5  6A         			ror	a
  928    02:D4A6  46 EF      			lsr.h	<map_line		; Hi-byte of (BLK Y * width).
  929    02:D4A8  6A         			ror	a
  930    02:D4A9  85 EE      			sta.l	<map_line		; Lo-byte of (BLK Y * width).
  931                        	
  932    02:D4AB  20 FF D4   			jsr	map_set_screen		; Put BLK & MAP in MPR2-MPR5.
  933                        	
  934    02:D4AE  A5 F8      			lda	<map_bat_x		; Calc map data pointer.
  935    02:D4B0  4A         			lsr	a			; Map BLK X coordinate.
  936    02:D4B1  05 EE      			ora.l	<map_line
  937    02:D4B3  85 EC      			sta.l	<_bp
  938    02:D4B5  A5 EF      			lda.h	<map_line
  939    02:D4B7  18         			clc
  940    02:D4B8  7D EA 2B   			adc.h	vdc_map_addr, x		; N.B. 256-byte aligned!
  941    02:D4BB  85 ED      			sta.h	<_bp
  942                        	
  943    02:D4BD  60         			rts
  944                        	
  945                        		.endif	BLKMAP_MULTISCR
  946                        	
  947                        			; Initialization for a regular map.
  948                        	
  949    02:D4BE  A5 FC      	.regular:	lda	<map_chr_x		; Compare old_x with cur_x.
  950                        	;		bit	vdc_map_option, x	; Set bit7 to disable aligning
  951                        	;		bmi	!+			; BAT X with the map X.
  952    02:D4C0  3D A7 26   			and	vdc_bat_x_mask, x
  953    02:D4C3  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
  954                        	
  955    02:D4C5  A5 FE      	!:		lda	<map_chr_y		; A = map CHR Y coordinate.
  956    02:D4C7  A8         			tay
  957    02:D4C8  4A         			lsr	a
  958    02:D4C9  42         			say				; Y = map BLK Y coordinate.
  959                        	
  960                        	;		bit	vdc_map_option, x	; Set bit6 to disable aligning
  961                        	;		bvs	!+			; BAT Y with the map Y.
  962    02:D4CA  3D A8 26   			and	vdc_bat_y_mask, x
  963    02:D4CD  85 F9      			sta	<map_bat_y		; Save BAT Y chr coordinate.
  964                        	
  965               0000     		.if	BLKMAP_LARGEMAP
  970                        		.endif
  971                        	
  972    02:D4CF  BD AC 26   	!:		lda	vdc_map_line_w, x	; Map width in BLK.
  973               0000     		.if	FAST_MULTIPLY
  986                        		.else
  987    02:D4D2  84 EF      			sty.h	<map_line		; Takes 144..176 cycles.
  988    02:D4D4  A0 08      			ldy	#8
  989    02:D4D6  4A         			lsr	a
  990    02:D4D7  85 EE      			sta.l	<map_line
  991    02:D4D9  62         			cla
  992    02:D4DA  90 03      			bcc	.rotate
  993    02:D4DC  18         	.add:		clc
  994    02:D4DD  65 EF      			adc.h	<map_line
  995    02:D4DF  6A         	.rotate:	ror	a
  996    02:D4E0  66 EE      			ror.l	<map_line		; Lo-byte of (BLK Y * width).
  997    02:D4E2  88         			dey
  998    02:D4E3  B0 F7      			bcs	.add
  999    02:D4E5  D0 F8      			bne	.rotate
 1000    02:D4E7  A8         			tay				; Hi-byte of (BLK Y * width).
 1001                        		.endif
 1002                        	
 1003    02:D4E8  A5 FC      	!:		lda	<map_chr_x		; Map CHR X coordinate.
 1004    02:D4EA  4A         			lsr	a			; Map BLK X coordinate.
 1005    02:D4EB  18         			clc
 1006    02:D4EC  65 EE      			adc.l	<map_line		; Lo-byte of (BLK Y * width).
 1007    02:D4EE  90 01      			bcc	!+
 1008    02:D4F0  C8         			iny				; Hi-byte of (BLK Y * width).
 1009                        	
 1010    02:D4F1  18         	!:		clc				; Calc map data pointer.
 1011    02:D4F2  7D E9 2B   			adc.l	vdc_map_addr, x
 1012    02:D4F5  85 EC      			sta.l	<_bp			; Maximum map size is 16KBytes
 1013    02:D4F7  98         			tya				; so we don't need to consider
 1014    02:D4F8  7D EA 2B   			adc.h	vdc_map_addr, x		; bank overflow.
 1015    02:D4FB  85 ED      			sta.h	<_bp
 1016                        	
 1017    02:D4FD  80 66      			bra	map_set_banks		; Put BLK & MAP in MPR2-MPR5.
 1018                        	
 1019                        	
 1020                        	
 1021               0001     		.if	BLKMAP_MULTISCR
 1022                        	
 1023                        	; ***************************************************************************
 1024                        	; ***************************************************************************
 1025                        	;
 1026                        	; map_set_screen -
 1027                        	;
 1028                        	; Maximum X and Y dimension of 128 screens (32768 pixels).
 1029                        	; Maximum 8KByte total size of screen data (1024 screens).
 1030                        	;
 1031                        	
 1032    02:D4FF  A4 FF      	map_set_screen:	ldy	<map_scrn_y		; Map SCR Y coordinate.
 1033    02:D501  BD AD 26   			lda	vdc_map_scrn_w, x	; Map width in SCREENS.
 1034                        	
 1035               0000     		.if	FAST_MULTIPLY
 1048                        		.else
 1049    02:D504  84 ED      			sty.h	<_bp			; Takes 144..176 cycles.
 1050    02:D506  A0 08      			ldy	#8
 1051    02:D508  4A         			lsr	a
 1052    02:D509  85 EC      			sta.l	<_bp
 1053    02:D50B  62         			cla
 1054    02:D50C  90 03      			bcc	.rotate
 1055    02:D50E  18         	.add:		clc
 1056    02:D50F  65 ED      			adc.h	<_bp
 1057    02:D511  6A         	.rotate:	ror	a
 1058    02:D512  66 EC      			ror.l	<_bp			; Lo-byte of (SCR Y * width).
 1059    02:D514  88         			dey
 1060    02:D515  B0 F7      			bcs	.add
 1061    02:D517  D0 F8      			bne	.rotate
 1062    02:D519  A8         			tay				; Hi-byte of (SCR Y * width).
 1063                        		.endif
 1064                        	
 1065    02:D51A  A5 FD      			lda	<map_scrn_x		; Map SCR X coordinate.
 1066    02:D51C  18         			clc
 1067    02:D51D  65 EC      			adc.l	<_bp
 1068    02:D51F  90 01      			bcc	!+
 1069    02:D521  C8         			iny
 1070                        	
 1071    02:D522  84 ED      	!:		sty.h	<_bp			; 2 bytes per screen entry, max
 1072    02:D524  0A         			asl	a			; 8KByte screen table.
 1073    02:D525  26 ED      			rol.h	<_bp
 1074               0001     		.if	BLKDEF_POINTERS == 0
 1075    02:D527  0A         			asl	a			; 8 bytes per screen entry when
 1076    02:D528  26 ED      			rol.h	<_bp			; not using BLK pointers.
 1077    02:D52A  0A         			asl	a
 1078    02:D52B  26 ED      			rol.h	<_bp
 1079                        		.endif
 1080                        	
 1081    02:D52D  7D EC 2B   			adc.l	vdc_scr_addr, x		; Calc screen data pointer.
 1082    02:D530  85 EC      			sta.l	<_bp			; Maximum data size is 8KBytes
 1083    02:D532  A5 ED      			lda.h	<_bp			; so we don't need to consider
 1084    02:D534  7D ED 2B   			adc.h	vdc_scr_addr, x		; bank overflow.
 1085    02:D537  85 ED      			sta.h	<_bp
 1086                        	
 1087    02:D539  BD EE 2B   			lda	vdc_scr_bank, x		; Map the SCR data in MPR3..MPR4.
 1088    02:D53C  53 08      			tam3
 1089    02:D53E  1A         			inc	a
 1090    02:D53F  53 10      			tam4
 1091                        	
 1092    02:D541  C2         			cly
 1093    02:D542  B1 EC      			lda	[_bp], y		; Get SCR_MAP_PAGE.
 1094    02:D544  9D EA 2B   			sta.h	vdc_map_addr, x
 1095    02:D547  C8         			iny
 1096    02:D548  B1 EC      			lda	[_bp], y		; Get SCR_MAP_BANK.
 1097    02:D54A  9D EB 2B   			sta	vdc_map_bank, x
 1098                        	
 1099               0001     		.if	BLKDEF_POINTERS == 0
 1100    02:D54D  C8         			iny
 1101    02:D54E  B1 EC      			lda	[_bp], y		; Get SCR_BLK_PAGE.
 1102    02:D550  9D E7 2B   			sta.h	vdc_blk_addr, x
 1103    02:D553  C8         			iny
 1104    02:D554  B1 EC      			lda	[_bp], y		; Get SCR_BLK_BANK.
 1105    02:D556  9D E8 2B   			sta	vdc_blk_bank, x
 1106    02:D559  C8         			iny
 1107    02:D55A  B1 EC      			lda	[_bp], y		; Get SCR_TBL_PAGE.
 1108    02:D55C  9D E4 2B   			sta.h	vdc_tbl_addr, x
 1109    02:D55F  C8         			iny
 1110    02:D560  B1 EC      			lda	[_bp], y		; Get SCR_TBL_BANK.
 1111    02:D562  9D E5 2B   			sta	vdc_tbl_bank, x
 1112               0000     		.if	0				; These are not currently used.
 1119                        		.endif
 1120                        		.endif
 1121                        	
 1122                        	;		lda	vdc_bat_width, x	; Set up the map width.
 1123                        	;		lsr	a			; This should have been set
 1124                        	;		sta	vdc_map_line_w, x	; with the multi-screen map.
 1125                        	
 1126                        	;		jmp	map_set_banks		; Put BLK & MAP in MPR2-MPR5.
 1127                        	
 1128                        			; Fall through to map_set_banks.
 1129                        	
 1130                        		.endif	BLKMAP_MULTISCR
 1131                        	
 1132                        	
 1133                        	
 1134                        	; ***************************************************************************
 1135                        	; ***************************************************************************
 1136                        	;
 1137                        	; map_set_banks - Put BLK & MAP in MPR2-MPR5.
 1138                        	;
 1139                        	
 1140    02:D565  BD E8 2B   	map_set_banks:	lda	vdc_blk_bank, x		; Put the BLK into MPR2.
 1141    02:D568  53 04      			tam2
 1142                        	
 1143    02:D56A  BD EB 2B   			lda	vdc_map_bank, x		; Put the MAP into MPR3-MPR5.
 1144    02:D56D  53 08      			tam3
 1145    02:D56F  1A         			inc	a
 1146    02:D570  53 10      			tam4
 1147               0000     		.if	BLKMAP_LARGEMAP
 1156                        		.endif
 1157                        	
 1158    02:D572  60         	!:		rts
 1159                        	
 1160                        	
 1161                        	
 1162                        	; ***************************************************************************
 1163                        	; ***************************************************************************
 1164                        	;
 1165                        	; map_scroll_x - Update the BAT when X coordinate changes.
 1166                        	;
 1167                        	; N.B. This will alter map_chr_x and map_scrn_x if moved in +ve direction!
 1168                        	;
 1169                        	; N.B. This only ever draws a single column!
 1170                        	;
 1171                        	
 1172    02:D573  60         	!no_change:	rts
 1173                        	
 1174    02:D574             	map_scroll_x:
 1175                        	
 1176               0001     		.if	BLKMAP_MULTISCR
 1177                        	
 1178                        			; Initialization for a multi-screen map.
 1179                        	
 1180    02:D574  BD EE 2B   			lda	vdc_scr_bank, x		; Skip this if regular blkmap.
 1181    02:D577  F0 56      			beq	.regular
 1182                        	
 1183    02:D579  A5 FC      	.multiscreen:	lda	<map_chr_x		; Compare old_x with cur_x.
 1184    02:D57B  DD E1 2B   			cmp	vdc_old_chr_x, x
 1185               0001     		.if	BLKMAP_TIMETEST == 0
 1186    02:D57E  F0 F3      			beq	!no_change-		; Do nothing if no change.
 1187                        		.endif
 1188    02:D580  9D E1 2B   			sta	vdc_old_chr_x, x
 1189    02:D583  30 11      			bmi	!+			; Test the sign of the change.
 1190                        	
 1191    02:D585  18         			clc				; Draw RHS if chr_x >= old_x.
 1192    02:D586  3D A7 26   			and	vdc_bat_x_mask, x
 1193    02:D589  7D AA 26   			adc	vdc_map_draw_w, x	; Usually (SCR_WIDTH / 8) + 1.
 1194    02:D58C  3A         			dec	a
 1195    02:D58D  85 FC      			sta	<map_chr_x		; Update CHR X chr coordinate.
 1196    02:D58F  3C A5 26   			bit	vdc_bat_width, x
 1197    02:D592  F0 02      			beq	!+
 1198    02:D594  E6 FD      			inc	<map_scrn_x		; Wrapped to the next screen.
 1199                        	
 1200    02:D596  3D A7 26   	!:		and	vdc_bat_x_mask, x
 1201    02:D599  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
 1202                        	
 1203    02:D59B  A5 FE      			lda	<map_chr_y		; Save BAT Y chr coordinate.
 1204    02:D59D  3D A8 26   			and	vdc_bat_y_mask, x
 1205    02:D5A0  85 F9      			sta	<map_bat_y
 1206    02:D5A2  4A         			lsr	a			; Map BLK Y coordinate.
 1207    02:D5A3  85 EF      			sta.h	<map_line
 1208    02:D5A5  62         			cla
 1209    02:D5A6  3C A5 26   			bit	vdc_bat_width, x
 1210    02:D5A9  30 08      			bmi	.w128
 1211    02:D5AB  70 03      			bvs	.w64
 1212    02:D5AD  46 EF      	.w32:		lsr.h	<map_line
 1213    02:D5AF  6A         			ror	a
 1214    02:D5B0  46 EF      	.w64:		lsr.h	<map_line
 1215    02:D5B2  6A         			ror	a
 1216    02:D5B3  46 EF      	.w128:		lsr.h	<map_line
 1217    02:D5B5  6A         			ror	a
 1218    02:D5B6  46 EF      			lsr.h	<map_line		; Hi-byte of (BLK Y * width).
 1219    02:D5B8  6A         			ror	a
 1220    02:D5B9  85 EE      			sta.l	<map_line		; Lo-byte of (BLK Y * width).
 1221                        	
 1222    02:D5BB  20 FF D4   			jsr	map_set_screen		; Put BLK & MAP in MPR2-MPR5.
 1223                        	
 1224    02:D5BE  A5 F8      			lda	<map_bat_x		; Calc map data pointer.
 1225    02:D5C0  4A         			lsr	a			; Map BLK X coordinate.
 1226    02:D5C1  05 EE      			ora.l	<map_line
 1227    02:D5C3  85 EC      			sta.l	<_bp
 1228    02:D5C5  A5 EF      			lda.h	<map_line
 1229    02:D5C7  18         			clc
 1230    02:D5C8  7D EA 2B   			adc.h	vdc_map_addr, x		; N.B. 256-byte aligned!
 1231    02:D5CB  85 ED      			sta.h	<_bp
 1232                        	
 1233    02:D5CD  80 5D      			bra	.draw_col		; Now draw it.
 1234                        	
 1235                        		.endif	BLKMAP_MULTISCR
 1236                        	
 1237                        			; Initialization for a regular map.
 1238                        	
 1239    02:D5CF  A5 FC      	.regular:	lda	<map_chr_x		; Compare old_x with cur_x.
 1240    02:D5D1  DD E1 2B   			cmp	vdc_old_chr_x, x
 1241               0001     		.if	BLKMAP_TIMETEST == 0
 1242    02:D5D4  F0 9D      			beq	!no_change-		; Do nothing if no change.
 1243                        		.endif
 1244    02:D5D6  9D E1 2B   			sta	vdc_old_chr_x, x
 1245    02:D5D9  30 07      			bmi	!+			; Test the sign of the change.
 1246                        	
 1247    02:D5DB  18         			clc				; Draw RHS if chr_x >= old_x.
 1248    02:D5DC  7D AA 26   			adc	vdc_map_draw_w, x	; Usually (SCR_WIDTH / 8) + 1.
 1249    02:D5DF  3A         			dec	a
 1250    02:D5E0  85 FC      			sta	<map_chr_x		; Update CHR X chr coordinate.
 1251                        	
 1252    02:D5E2  3C B2 26   	!:		bit	vdc_map_option, x	; Set bit7 to disable aligning
 1253    02:D5E5  30 05      			bmi	!+			; BAT X with the map X.
 1254    02:D5E7  3D A7 26   			and	vdc_bat_x_mask, x
 1255    02:D5EA  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
 1256                        	
 1257    02:D5EC  A5 FE      	!:		lda	<map_chr_y		; A = map CHR Y coordinate.
 1258    02:D5EE  A8         			tay
 1259    02:D5EF  4A         			lsr	a
 1260    02:D5F0  42         			say				; Y = map BLK Y coordinate.
 1261                        	
 1262    02:D5F1  3C B2 26   			bit	vdc_map_option, x	; Set bit6 to disable aligning
 1263    02:D5F4  70 05      			bvs	!+			; BAT Y with the map Y.
 1264    02:D5F6  3D A8 26   			and	vdc_bat_y_mask, x
 1265    02:D5F9  85 F9      			sta	<map_bat_y		; Save BAT Y chr coordinate.
 1266                        	
 1267               0000     		.if	BLKMAP_LARGEMAP
 1272                        		.endif
 1273                        	
 1274    02:D5FB  BD AC 26   	!:		lda	vdc_map_line_w, x	; Map width in BLK.
 1275               0000     		.if	FAST_MULTIPLY
 1288                        		.else
 1289    02:D5FE  84 EF      			sty.h	<map_line		; Takes 144..176 cycles.
 1290    02:D600  A0 08      			ldy	#8
 1291    02:D602  4A         			lsr	a
 1292    02:D603  85 EE      			sta.l	<map_line
 1293    02:D605  62         			cla
 1294    02:D606  90 03      			bcc	.rotate
 1295    02:D608  18         	.add:		clc
 1296    02:D609  65 EF      			adc.h	<map_line
 1297    02:D60B  6A         	.rotate:	ror	a
 1298    02:D60C  66 EE      			ror.l	<map_line		; Lo-byte of (BLK Y * width).
 1299    02:D60E  88         			dey
 1300    02:D60F  B0 F7      			bcs	.add
 1301    02:D611  D0 F8      			bne	.rotate
 1302    02:D613  A8         			tay				; Hi-byte of (BLK Y * width).
 1303                        		.endif
 1304                        	
 1305    02:D614  A5 FC      	!:		lda	<map_chr_x		; Map CHR X coordinate.
 1306    02:D616  4A         			lsr	a			; Map BLK X coordinate.
 1307    02:D617  18         			clc
 1308    02:D618  65 EE      			adc.l	<map_line		; Lo-byte of (BLK Y * width).
 1309    02:D61A  90 01      			bcc	!+
 1310    02:D61C  C8         			iny				; Hi-byte of (BLK Y * width).
 1311                        	
 1312    02:D61D  18         	!:		clc				; Calc map data pointer.
 1313    02:D61E  7D E9 2B   			adc.l	vdc_map_addr, x
 1314    02:D621  85 EC      			sta.l	<_bp			; Maximum map size is 16KBytes
 1315    02:D623  98         			tya				; so we don't need to consider
 1316    02:D624  7D EA 2B   			adc.h	vdc_map_addr, x		; bank overflow.
 1317    02:D627  85 ED      			sta.h	<_bp
 1318                        	
 1319    02:D629  20 65 D5   			jsr	map_set_banks		; Put BLK & MAP in MPR2-MPR5.
 1320                        	
 1321                        			; Draw the first part of the column.
 1322                        	
 1323    02:D62C  A5 F8      	.draw_col:	lda	<map_bat_x		; Set the BAT VRAM destination
 1324    02:D62E  85 F0      			sta.l	<_di			; coordinates.
 1325    02:D630  A5 F9      			lda	<map_bat_y
 1326    02:D632  85 F1      			sta.h	<_di
 1327                        	
 1328    02:D634  5D A8 26   			eor	vdc_bat_y_mask, x	; Calc CHR before wrap.
 1329    02:D637  1A         			inc	a
 1330    02:D638  DD AB 26   			cmp	vdc_map_draw_h, x	; Usually (SCR_HEIGHT / 8) + 1.
 1331    02:D63B  90 03      			bcc	!+
 1332    02:D63D  BD AB 26   			lda	vdc_map_draw_h, x	; Maximum CHR to draw.
 1333    02:D640  85 00      	!:		sta	<map_count		; Set number of CHR to draw.
 1334    02:D642  85 01      			sta	<map_drawn		; Preserve number of CHR drawn.
 1335                        	
 1336    02:D644  A9 05      			lda	#VDC_CR			; Set VDC auto-increment from
 1337    02:D646  95 F7      			sta	<vdc_reg, x		; the BAT width, which is set
 1338    02:D648  9D 00 02   			sta	VDC_AR, x		; up by set_screen_size().
 1339    02:D64B  B5 F4      			lda	<vdc_crh, x
 1340    02:D64D  9D 03 02   			sta	VDC_DH, x
 1341                        	
 1342    02:D650  20 92 D9   			jsr	blk_col_strip		; Draw top of vertical strip.
 1343                        	
 1344                        			; Wrap around and draw the rest of the column (if needed).
 1345                        	
 1346    02:D653  38         			sec				; Are there any more CHR that
 1347    02:D654  BD AB 26   			lda	vdc_map_draw_h, x	; need to be drawn?
 1348    02:D657  E5 01      			sbc	<map_drawn
 1349    02:D659  F0 2C      			beq	.done
 1350                        	
 1351    02:D65B  85 00      			sta	<map_count		; Set number of CHR to draw.
 1352                        	
 1353    02:D65D  A5 FE      			lda	<map_chr_y		; Update CHR Y coordinate for
 1354    02:D65F  48         			pha				; drawing unaligned tiles.
 1355    02:D660  18         			clc
 1356    02:D661  65 01      			adc	<map_drawn
 1357    02:D663  85 FE      			sta	<map_chr_y
 1358                        	
 1359               0001     		.if	BLKMAP_MULTISCR
 1360    02:D665  BD EE 2B   			lda	vdc_scr_bank, x		; Skip this if regular blkmap.
 1361    02:D668  F0 0F      			beq	!+
 1362                        	
 1363    02:D66A  E6 FF      			inc	<map_scrn_y		; Wrapped to the next screen.
 1364                        	
 1365    02:D66C  20 FF D4   			jsr	map_set_screen		; Put BLK & MAP in MPR2-MPR5.
 1366                        	
 1367    02:D66F  A5 F8      			lda	<map_bat_x		; Calc map data pointer.
 1368    02:D671  4A         			lsr	a			; Map BLK X coordinate.
 1369    02:D672  85 EC      			sta.l	<_bp
 1370    02:D674  BD EA 2B   			lda.h	vdc_map_addr, x		; N.B. 256-byte aligned!
 1371    02:D677  85 ED      			sta.h	<_bp
 1372                        		.endif
 1373                        	
 1374    02:D679  A5 F8      	!:		lda	<map_bat_x		; Set the BAT VRAM destination
 1375    02:D67B  85 F0      			sta.l	<_di			; coordinates.
 1376    02:D67D  64 F1      			stz.h	<_di			; Reset 1st row to draw.
 1377                        	
 1378    02:D67F  20 92 D9   			jsr	blk_col_strip		; Draw btm of vertical strip.
 1379                        	
 1380               0001     		.if	BLKMAP_MULTISCR
 1381    02:D682  C6 FF      			dec	<map_scrn_y		; Restore, no check if should.
 1382                        		.endif
 1383                        	
 1384    02:D684  68         			pla				; Restore CHR Y coordinate, we
 1385    02:D685  85 FE      			sta	<map_chr_y		; might draw another column!
 1386                        	
 1387    02:D687  A9 05      	.done:		lda	#VDC_CR			; Set VDC auto-increment to 1.
 1388    02:D689  95 F7      			sta	<vdc_reg, x
 1389    02:D68B  9D 00 02   			sta	VDC_AR, x
 1390    02:D68E  9E 03 02   			stz	VDC_DH, x
 1391                        	
 1392    02:D691  60         			rts
 1393                        	
 1394                        	
 1395                        	
 1396                        	; ***************************************************************************
 1397                        	; ***************************************************************************
 1398                        	;
 1399                        	; map_scroll_y - Update the BAT when Y coordinate changes.
 1400                        	;
 1401                        	; N.B. This will alter map_chr_y and map_scrn_y if moved in +ve direction!
 1402                        	;
 1403                        	; N.B. This draws multiple rows when called from _draw_map or _blit_map.
 1404                        	;
 1405                        	
 1406    02:D692  60         	!no_change:	rts
 1407                        	
 1408    02:D693             	map_scroll_y:
 1409                        	
 1410               0001     		.if	BLKMAP_MULTISCR
 1411                        	
 1412                        			; Initialization for a multi-screen map.
 1413                        	
 1414    02:D693  BD EE 2B   			lda	vdc_scr_bank, x		; Skip this if regular blkmap.
 1415    02:D696  F0 56      			beq	.regular
 1416                        	
 1417    02:D698  A5 FE      	.multiscr:	lda	<map_chr_y		; Compare old_y with cur_y.
 1418    02:D69A  DD E2 2B   			cmp	vdc_old_chr_y, x
 1419               0001     		.if	BLKMAP_TIMETEST == 0
 1420    02:D69D  F0 F3      			beq	!no_change-		; Do nothing if no change.
 1421                        		.endif
 1422    02:D69F  9D E2 2B   			sta	vdc_old_chr_y, x
 1423    02:D6A2  30 11      			bmi	!+			; Test the sign of the change.
 1424                        	
 1425    02:D6A4  18         			clc				; Draw bottom if chr_y >= old_y.
 1426    02:D6A5  3D A8 26   			and	vdc_bat_y_mask, x
 1427    02:D6A8  7D AB 26   			adc	vdc_map_draw_h, x	; Usually (SCR_HEIGHT / 8) + 1.
 1428    02:D6AB  3A         			dec	a
 1429    02:D6AC  85 FE      			sta	<map_chr_y		; Update CHR Y chr coordinate.
 1430    02:D6AE  3C A6 26   			bit	vdc_bat_height, x
 1431    02:D6B1  F0 02      			beq	!+
 1432    02:D6B3  E6 FF      			inc	<map_scrn_y		; Wrapped to the next screen.
 1433                        	
 1434    02:D6B5  3D A8 26   	!:		and	vdc_bat_y_mask, x
 1435    02:D6B8  85 F9      			sta	<map_bat_y		; Save BAT Y chr coordinate.
 1436                        	
 1437    02:D6BA  4A         			lsr	a			; Map BLK Y coordinate.
 1438    02:D6BB  85 EF      			sta.h	<map_line
 1439    02:D6BD  62         			cla
 1440    02:D6BE  3C A5 26   			bit	vdc_bat_width, x
 1441    02:D6C1  30 08      			bmi	.w128
 1442    02:D6C3  70 03      			bvs	.w64
 1443    02:D6C5  46 EF      	.w32:		lsr.h	<map_line
 1444    02:D6C7  6A         			ror	a
 1445    02:D6C8  46 EF      	.w64:		lsr.h	<map_line
 1446    02:D6CA  6A         			ror	a
 1447    02:D6CB  46 EF      	.w128:		lsr.h	<map_line
 1448    02:D6CD  6A         			ror	a
 1449    02:D6CE  46 EF      			lsr.h	<map_line		; Hi-byte of (BLK Y * width).
 1450    02:D6D0  6A         			ror	a
 1451    02:D6D1  85 EE      			sta.l	<map_line		; Lo-byte of (BLK Y * width).
 1452                        	
 1453    02:D6D3  A5 FC      			lda	<map_chr_x
 1454    02:D6D5  3D A7 26   			and	vdc_bat_x_mask, x
 1455    02:D6D8  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
 1456                        	
 1457                        			; Loop to here if drawing multiple multi-screen rows.
 1458                        	
 1459    02:D6DA  20 FF D4   	.multiscr_row:	jsr	map_set_screen		; Put BLK & MAP in MPR2-MPR5.
 1460                        	
 1461    02:D6DD  A5 F8      			lda	<map_bat_x		; Calc map data pointer.
 1462    02:D6DF  4A         			lsr	a			; Map BLK X coordinate.
 1463    02:D6E0  05 EE      			ora.l	<map_line
 1464    02:D6E2  85 EC      			sta.l	<_bp
 1465    02:D6E4  A5 EF      			lda.h	<map_line
 1466    02:D6E6  18         			clc
 1467    02:D6E7  7D EA 2B   			adc.h	vdc_map_addr, x		; N.B. 256-byte aligned!
 1468    02:D6EA  85 ED      			sta.h	<_bp
 1469                        	
 1470    02:D6EC  80 60      			bra	.draw_row		; Now draw it.
 1471                        	
 1472                        		.endif	BLKMAP_MULTISCR
 1473                        	
 1474                        			; Initialization for a regular blkmap.
 1475                        	
 1476    02:D6EE  A5 FE      	.regular:	lda	<map_chr_y		; Compare old_y with cur_y.
 1477    02:D6F0  DD E2 2B   			cmp	vdc_old_chr_y, x
 1478               0001     		.if	BLKMAP_TIMETEST == 0
 1479    02:D6F3  F0 9D      			beq	!no_change-		; Do nothing if no change.
 1480                        		.endif
 1481    02:D6F5  9D E2 2B   			sta	vdc_old_chr_y, x
 1482    02:D6F8  30 07      			bmi	!+			; Test the sign of the change.
 1483                        	
 1484    02:D6FA  18         			clc				; Draw bottom if chr_y >= old_y.
 1485    02:D6FB  7D AB 26   			adc	vdc_map_draw_h, x	; Usually (SCR_HEIGHT / 8) + 1.
 1486    02:D6FE  3A         			dec	a
 1487    02:D6FF  85 FE      			sta	<map_chr_y		; Update CHR Y chr coordinate.
 1488                        	
 1489    02:D701  A8         	!:		tay				; A = map CHR Y coordinate.
 1490    02:D702  4A         			lsr	a
 1491    02:D703  42         			say				; Y = map BLK Y coordinate.
 1492                        	
 1493    02:D704  3C B2 26   			bit	vdc_map_option, x	; Set bit6 to disable aligning
 1494    02:D707  70 05      			bvs	!+			; BAT Y with the map Y.
 1495    02:D709  3D A8 26   			and	vdc_bat_y_mask, x
 1496    02:D70C  85 F9      			sta	<map_bat_y		; Save BAT Y chr coordinate.
 1497                        	
 1498    02:D70E  3C B2 26   	!:		bit	vdc_map_option, x	; Set bit7 to disable aligning
 1499    02:D711  30 07      			bmi	!+			; BAT X with the map X.
 1500    02:D713  A5 FC      			lda	<map_chr_x
 1501    02:D715  3D A7 26   			and	vdc_bat_x_mask, x
 1502    02:D718  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
 1503    02:D71A             	!:
 1504                        	
 1505               0000     		.if	BLKMAP_LARGEMAP
 1510                        		.endif
 1511                        	
 1512    02:D71A  BD AC 26   			lda	vdc_map_line_w, x	; Map width in BLK.
 1513               0000     		.if	FAST_MULTIPLY
 1526                        		.else
 1527    02:D71D  84 EF      			sty.h	<map_line		; Takes 144..176 cycles.
 1528    02:D71F  A0 08      			ldy	#8
 1529    02:D721  4A         			lsr	a
 1530    02:D722  85 EE      			sta.l	<map_line
 1531    02:D724  62         			cla
 1532    02:D725  90 03      			bcc	.rotate
 1533    02:D727  18         	.add:		clc
 1534    02:D728  65 EF      			adc.h	<map_line
 1535    02:D72A  6A         	.rotate:	ror	a
 1536    02:D72B  66 EE      			ror.l	<map_line		; Lo-byte of (BLK Y * width).
 1537    02:D72D  88         			dey
 1538    02:D72E  B0 F7      			bcs	.add
 1539    02:D730  D0 F8      			bne	.rotate
 1540    02:D732  85 EF      			sta.h	<map_line		; Hi-byte of (BLK Y * width).
 1541                        		.endif
 1542                        	
 1543    02:D734  20 65 D5   			jsr	map_set_banks		; Put BLK & MAP in MPR2-MPR5.
 1544                        	
 1545                        			; Loop to here if drawing multiple regular blkmap rows.
 1546                        	
 1547    02:D737  A4 EF      	.regular_row:	ldy.h	<map_line		; Hi-byte of (BLK Y * width).
 1548    02:D739  A5 FC      			lda	<map_chr_x		; Map CHR X coordinate.
 1549    02:D73B  4A         			lsr	a			; Map BLK X coordinate.
 1550    02:D73C  18         			clc
 1551    02:D73D  65 EE      			adc.l	<map_line		; Lo-byte of (BLK Y * width).
 1552    02:D73F  90 01      			bcc	!+
 1553    02:D741  C8         			iny
 1554    02:D742  18         	!:		clc				; Calc map data pointer.
 1555    02:D743  7D E9 2B   			adc.l	vdc_map_addr, x
 1556    02:D746  85 EC      			sta.l	<_bp			; Maximum map size is 16KBytes
 1557    02:D748  98         			tya				; so we don't need to consider
 1558    02:D749  7D EA 2B   			adc.h	vdc_map_addr, x		; bank overflow.
 1559    02:D74C  85 ED      			sta.h	<_bp
 1560                        	
 1561                        			; Draw the first part of the row.
 1562                        	
 1563    02:D74E  A5 F9      	.draw_row:	lda	<map_bat_y		; Set the BAT VRAM destination
 1564    02:D750  85 F1      			sta.h	<_di			; coordinates.
 1565    02:D752  A5 F8      			lda	<map_bat_x
 1566    02:D754  85 F0      			sta.l	<_di
 1567                        	
 1568    02:D756  5D A7 26   			eor	vdc_bat_x_mask, x	; Calc CHR before wrap.
 1569    02:D759  1A         			inc	a
 1570    02:D75A  C5 FA      			cmp	<map_draw_w		; Usually (SCR_WIDTH / 8) + 1.
 1571    02:D75C  90 02      			bcc	!+
 1572    02:D75E  A5 FA      			lda	<map_draw_w		; Maximum CHR to draw.
 1573    02:D760  85 00      	!:		sta	<map_count		; Set number of CHR to draw.
 1574    02:D762  85 01      			sta	<map_drawn		; Preserve number of CHR drawn.
 1575                        	
 1576    02:D764  20 D4 D7   			jsr	blk_row_strip		; Draw lhs of horizontal strip.
 1577                        	
 1578                        			; Wrap around and draw the rest of the row (if needed).
 1579                        	
 1580    02:D767  38         			sec				; Are there any more CHR that
 1581    02:D768  A5 FA      			lda	<map_draw_w		; need to be drawn?
 1582    02:D76A  E5 01      			sbc	<map_drawn
 1583    02:D76C  F0 2E      			beq	.done_row
 1584                        	
 1585    02:D76E  85 00      			sta	<map_count		; Set number of CHR to draw.
 1586                        	
 1587    02:D770  A5 FC      			lda	<map_chr_x		; Update CHR X coordinate for
 1588    02:D772  48         			pha				; drawing unaligned tiles.
 1589    02:D773  18         			clc
 1590    02:D774  65 01      			adc	<map_drawn
 1591    02:D776  85 FC      			sta	<map_chr_x
 1592                        	
 1593               0001     		.if	BLKMAP_MULTISCR
 1594    02:D778  BD EE 2B   			lda	vdc_scr_bank, x		; Skip this if regular blkmap.
 1595    02:D77B  F0 11      			beq	!+
 1596                        	
 1597    02:D77D  E6 FD      			inc	<map_scrn_x		; Wrapped to the next screen.
 1598                        	
 1599    02:D77F  20 FF D4   			jsr	map_set_screen		; Locate screen's BLK and MAP.
 1600                        	
 1601    02:D782  18         			clc				; Calc map data pointer.
 1602    02:D783  A5 EE      			lda.l	<map_line
 1603    02:D785  85 EC      			sta.l	<_bp
 1604    02:D787  A5 EF      			lda.h	<map_line
 1605    02:D789  7D EA 2B   			adc.h	vdc_map_addr, x		; N.B. 256-byte aligned!
 1606    02:D78C  85 ED      			sta.h	<_bp
 1607                        		.endif
 1608                        	
 1609    02:D78E  A5 F9      	!:		lda	<map_bat_y		; Set the BAT VRAM destination
 1610    02:D790  85 F1      			sta.h	<_di			; coordinates.
 1611    02:D792  64 F0      			stz.l	<_di			; Reset 1st column to draw.
 1612                        	
 1613    02:D794  20 D4 D7   			jsr	blk_row_strip		; Draw rhs of horizontal strip.
 1614                        	
 1615               0001     		.if	BLKMAP_MULTISCR
 1616    02:D797  C6 FD      			dec	<map_scrn_x		; Restore, no check if should.
 1617                        		.endif	BLKMAP_MULTISCR
 1618                        	
 1619    02:D799  68         			pla				; Restore CHR X coordinate, we
 1620    02:D79A  85 FC      			sta	<map_chr_x		; might draw another row!
 1621                        	
 1622    02:D79C  C6 FB      	.done_row:	dec	<map_draw_h		; Are all desired rows drawn?
 1623    02:D79E  F0 33      			beq	.finished
 1624                        	
 1625    02:D7A0  E6 FE      			inc	<map_chr_y		; Move CHR Y down by 1.
 1626                        	
 1627    02:D7A2  A5 FE      			lda	<map_chr_y		; If new BLK then ...
 1628    02:D7A4  4A         			lsr	a
 1629    02:D7A5  B0 0B      			bcs	!+
 1630    02:D7A7  BD AC 26   			lda	vdc_map_line_w, x	; Move the map line pointer to
 1631    02:D7AA  65 EE      			adc.l	<map_line		; the next line.
 1632    02:D7AC  85 EE      			sta.l	<map_line
 1633    02:D7AE  90 02      			bcc	!+
 1634    02:D7B0  E6 EF      			inc.h	<map_line
 1635                        	
 1636    02:D7B2  A5 F9      	!:		lda	<map_bat_y		; Move BAT Y down by 1.
 1637    02:D7B4  1A         			inc	a
 1638    02:D7B5  3D A8 26   			and	vdc_bat_y_mask, x
 1639    02:D7B8  85 F9      			sta	<map_bat_y
 1640                        	
 1641               0001     		.if	BLKMAP_MULTISCR
 1642    02:D7BA  BC EE 2B   			ldy	vdc_scr_bank, x		; Skip this if regular blkmap.
 1643    02:D7BD  D0 03 4C 37			beq	.regular_row
         02:D7C1  D7          
 1644                        	
 1645    02:D7C2  A8         			tay				; If wrapped to the top line of
 1646    02:D7C3  D0 0B      			bne	!+			; of the BAT then increment the
 1647    02:D7C5  E6 FF      			inc	<map_scrn_y		; screen.
 1648                        	
 1649    02:D7C7  BD A9 26   			lda	vdc_bat_limit, x	; The map line must wrap around
 1650    02:D7CA  4A         			lsr	a			; too. This is simple since its
 1651    02:D7CB  4A         			lsr	a			; size (in bytes) is 1/4 of the
 1652    02:D7CC  25 EF      			and.h	<map_line		; BAT size (in words) and it is
 1653    02:D7CE  85 EF      			sta.h	<map_line		; a power-of-2.
 1654                        	
 1655    02:D7D0  4C DA D6   	!:		jmp	.multiscr_row		; Draw next row.
 1656                        		.else
 1658                        		.endif	BLKMAP_MULTISCR
 1659                        	
 1660    02:D7D3  60         	.finished:	rts
 1661                        	
 1662                        	
 1663                        	
 1664               0000     		.if	BLKDEF_POINTERS
 1858                        		.else	BLKDEF_POINTERS
 1859                        	
 1860                        	
 1861                        	
 1862                        	; ***************************************************************************
 1863                        	; ***************************************************************************
 1864                        	;
 1865                        	; blk_row_strip - Draw a single row of CHR into the BAT.
 1866                        	;
 1867                        	
 1868    02:D7D4  20 34 E4   	blk_row_strip:	jsr	set_di_xy_mawr		; Set the BAT VRAM destination.
 1869                        	
 1870    02:D7D7  A5 FC      			lda	<map_chr_x		; Select what drawing code to
 1871    02:D7D9  4A         			lsr	a			; use depending upon even/odd
 1872    02:D7DA  A5 FE      			lda	<map_chr_y		; CHR coordinates (not BAT to
 1873    02:D7DC  29 01      			and	#1			; support unaligned drawing).
 1874    02:D7DE  2A         			rol	a
 1875    02:D7DF  0A         			asl	a
 1876    02:D7E0  1D E7 2B   			ora.h	vdc_blk_addr, x		; What is the BLK data address?
 1877    02:D7E3  29 1E      			and	#%00011110		; $4000, $4800, $5000 or $5800.
 1878    02:D7E5  A8         			tay
 1879    02:D7E6  B9 F3 D7   			lda.h	.jump_table, y		; Push the address of the code.
 1880    02:D7E9  48         			pha
 1881    02:D7EA  B9 F2 D7   			lda.l	.jump_table, y
 1882    02:D7ED  48         			pha
 1883                        	
 1884    02:D7EE  B2 EC      			lda	[_bp]			; Get the first BLK number.
 1885    02:D7F0  A8         			tay
 1886                        	
 1887    02:D7F1  60         			rts				; Jump to the drawing code.
 1888                        	
 1889    02:D7F2  14 D8      	.jump_table:	dw	b4000_top_even - 1
 1890    02:D7F4  27 D8      			dw	b4000_top_odd - 1
 1891    02:D7F6  44 D8      			dw	b4000_btm_even - 1
 1892    02:D7F8  57 D8      			dw	b4000_btm_odd - 1
 1893                        	
 1894    02:D7FA  74 D8      			dw	b4800_top_even - 1
 1895    02:D7FC  87 D8      			dw	b4800_top_odd - 1
 1896    02:D7FE  A4 D8      			dw	b4800_btm_even - 1
 1897    02:D800  B7 D8      			dw	b4800_btm_odd - 1
 1898                        	
 1899    02:D802  D4 D8      			dw	b5000_top_even - 1
 1900    02:D804  E7 D8      			dw	b5000_top_odd - 1
 1901    02:D806  04 D9      			dw	b5000_btm_even - 1
 1902    02:D808  17 D9      			dw	b5000_btm_odd - 1
 1903                        	
 1904    02:D80A  34 D9      			dw	b5800_top_even - 1
 1905    02:D80C  47 D9      			dw	b5800_top_odd - 1
 1906    02:D80E  64 D9      			dw	b5800_btm_even - 1
 1907    02:D810  77 D9      			dw	b5800_btm_odd - 1
 1908                        	
 1909                        			; top horizontal (32+2 rept)
 1910                        			;
 1911                        			; 89 cycles per block * 17 -> 1513 cycles
 1912                        	
 1913    02:D812  B2 EC      	!repeat:	lda	[_bp]			; 7
 1914    02:D814  A8         			tay				; 2
 1915                        	
 1916    02:D815  B9 00 40   	b4000_top_even:	lda	BLK_4000_TL_L, y	; 5
 1917    02:D818  9D 02 02   			sta	VDC_DL, x		; 6
 1918    02:D81B  B9 00 44   			lda	BLK_4000_TL_H, y	; 5
 1919               0001     		.if	BLKDEF_CHR_FLAG
 1920    02:D81E  29 F3      			and	#%11110011		; 2
 1921                        		.endif
 1922    02:D820  1A         			inc	a			; 2
 1923    02:D821  9D 03 02   			sta	VDC_DH, x		; 6
 1924                        	
 1925    02:D824  C6 00      			dec	<map_count		; 6
 1926    02:D826  F0 19      			beq	!end+			; 2
 1927                        	
 1928    02:D828  B9 00 41   	b4000_top_odd:	lda	BLK_4000_TR_L, y	; 5
 1929    02:D82B  9D 02 02   			sta	VDC_DL, x		; 6
 1930    02:D82E  B9 00 45   			lda	BLK_4000_TR_H, y	; 5
 1931               0001     		.if	BLKDEF_CHR_FLAG
 1932    02:D831  29 F3      			and	#%11110011		; 2
 1933                        		.endif
 1934    02:D833  1A         			inc	a			; 2
 1935    02:D834  9D 03 02   			sta	VDC_DH, x		; 6
 1936                        	
 1937    02:D837  E6 EC      			inc.l	<_bp			; 6
 1938    02:D839  D0 02      			bne	!+			; 2/4
 1939    02:D83B  E6 ED      			inc.h	<_bp			; 6
 1940                        	
 1941    02:D83D  C6 00      	!:		dec	<map_count		; 6
 1942    02:D83F  D0 D1      			bne	!repeat-		; 4
 1943                        	
 1944    02:D841  60         	!end:		rts
 1945                        	
 1946                        			; btm horizontal (32+2 rept)
 1947                        			;
 1948                        			; 89 cycles per block * 17 -> 1513 cycles
 1949                        	
 1950    02:D842  B2 EC      	!repeat:	lda	[_bp]			; 7
 1951    02:D844  A8         			tay				; 2
 1952                        	
 1953    02:D845  B9 00 42   	b4000_btm_even:	lda	BLK_4000_BL_L, y	; 5
 1954    02:D848  9D 02 02   			sta	VDC_DL, x		; 6
 1955    02:D84B  B9 00 46   			lda	BLK_4000_BL_H, y	; 5
 1956               0001     		.if	BLKDEF_CHR_FLAG
 1957    02:D84E  29 F3      			and	#%11110011		; 2
 1958                        		.endif
 1959    02:D850  1A         			inc	a			; 2
 1960    02:D851  9D 03 02   			sta	VDC_DH, x		; 6
 1961                        	
 1962    02:D854  C6 00      			dec	<map_count		; 6
 1963    02:D856  F0 19      			beq	!end+			; 2
 1964                        	
 1965    02:D858  B9 00 43   	b4000_btm_odd:	lda	BLK_4000_BR_L, y	; 5
 1966    02:D85B  9D 02 02   			sta	VDC_DL, x		; 6
 1967    02:D85E  B9 00 47   			lda	BLK_4000_BR_H, y	; 5
 1968               0001     		.if	BLKDEF_CHR_FLAG
 1969    02:D861  29 F3      			and	#%11110011		; 2
 1970                        		.endif
 1971    02:D863  1A         			inc	a			; 2
 1972    02:D864  9D 03 02   			sta	VDC_DH, x		; 6
 1973                        	
 1974    02:D867  E6 EC      			inc.l	<_bp			; 6
 1975    02:D869  D0 02      			bne	!+			; 2/4
 1976    02:D86B  E6 ED      			inc.h	<_bp			; 6
 1977                        	
 1978    02:D86D  C6 00      	!:		dec	<map_count		; 6
 1979    02:D86F  D0 D1      			bne	!repeat-		; 4
 1980                        	
 1981    02:D871  60         	!end:		rts
 1982                        	
 1983                        			; top horizontal (32+2 rept)
 1984                        			;
 1985                        			; 89 cycles per block * 17 -> 1513 cycles
 1986                        	
 1987    02:D872  B2 EC      	!repeat:	lda	[_bp]			; 7
 1988    02:D874  A8         			tay				; 2
 1989                        	
 1990    02:D875  B9 00 48   	b4800_top_even:	lda	BLK_4800_TL_L, y	; 5
 1991    02:D878  9D 02 02   			sta	VDC_DL, x		; 6
 1992    02:D87B  B9 00 4C   			lda	BLK_4800_TL_H, y	; 5
 1993               0001     		.if	BLKDEF_CHR_FLAG
 1994    02:D87E  29 F3      			and	#%11110011		; 2
 1995                        		.endif
 1996    02:D880  1A         			inc	a			; 2
 1997    02:D881  9D 03 02   			sta	VDC_DH, x		; 6
 1998                        	
 1999    02:D884  C6 00      			dec	<map_count		; 6
 2000    02:D886  F0 19      			beq	!end+			; 2
 2001                        	
 2002    02:D888  B9 00 49   	b4800_top_odd:	lda	BLK_4800_TR_L, y	; 5
 2003    02:D88B  9D 02 02   			sta	VDC_DL, x		; 6
 2004    02:D88E  B9 00 4D   			lda	BLK_4800_TR_H, y	; 5
 2005               0001     		.if	BLKDEF_CHR_FLAG
 2006    02:D891  29 F3      			and	#%11110011		; 2
 2007                        		.endif
 2008    02:D893  1A         			inc	a			; 2
 2009    02:D894  9D 03 02   			sta	VDC_DH, x		; 6
 2010                        	
 2011    02:D897  E6 EC      			inc.l	<_bp			; 6
 2012    02:D899  D0 02      			bne	!+			; 2/4
 2013    02:D89B  E6 ED      			inc.h	<_bp			; 6
 2014                        	
 2015    02:D89D  C6 00      	!:		dec	<map_count		; 6
 2016    02:D89F  D0 D1      			bne	!repeat-		; 4
 2017                        	
 2018    02:D8A1  60         	!end:		rts
 2019                        	
 2020                        			; btm horizontal (32+2 rept)
 2021                        			;
 2022                        			; 89 cycles per block * 17 -> 1513 cycles
 2023                        	
 2024    02:D8A2  B2 EC      	!repeat:	lda	[_bp]			; 7
 2025    02:D8A4  A8         			tay				; 2
 2026                        	
 2027    02:D8A5  B9 00 4A   	b4800_btm_even:	lda	BLK_4800_BL_L, y	; 5
 2028    02:D8A8  9D 02 02   			sta	VDC_DL, x		; 6
 2029    02:D8AB  B9 00 4E   			lda	BLK_4800_BL_H, y	; 5
 2030               0001     		.if	BLKDEF_CHR_FLAG
 2031    02:D8AE  29 F3      			and	#%11110011		; 2
 2032                        		.endif
 2033    02:D8B0  1A         			inc	a			; 2
 2034    02:D8B1  9D 03 02   			sta	VDC_DH, x		; 6
 2035                        	
 2036    02:D8B4  C6 00      			dec	<map_count		; 6
 2037    02:D8B6  F0 19      			beq	!end+			; 2
 2038                        	
 2039    02:D8B8  B9 00 4B   	b4800_btm_odd:	lda	BLK_4800_BR_L, y	; 5
 2040    02:D8BB  9D 02 02   			sta	VDC_DL, x		; 6
 2041    02:D8BE  B9 00 4F   			lda	BLK_4800_BR_H, y	; 5
 2042               0001     		.if	BLKDEF_CHR_FLAG
 2043    02:D8C1  29 F3      			and	#%11110011		; 2
 2044                        		.endif
 2045    02:D8C3  1A         			inc	a			; 2
 2046    02:D8C4  9D 03 02   			sta	VDC_DH, x		; 6
 2047                        	
 2048    02:D8C7  E6 EC      			inc.l	<_bp			; 6
 2049    02:D8C9  D0 02      			bne	!+			; 2/4
 2050    02:D8CB  E6 ED      			inc.h	<_bp			; 6
 2051                        	
 2052    02:D8CD  C6 00      	!:		dec	<map_count		; 6
 2053    02:D8CF  D0 D1      			bne	!repeat-		; 4
 2054                        	
 2055    02:D8D1  60         	!end:		rts
 2056                        	
 2057                        			; top horizontal (32+2 rept)
 2058                        			;
 2059                        			; 89 cycles per block * 17 -> 1513 cycles
 2060                        	
 2061    02:D8D2  B2 EC      	!repeat:	lda	[_bp]			; 7
 2062    02:D8D4  A8         			tay				; 2
 2063                        	
 2064    02:D8D5  B9 00 50   	b5000_top_even:	lda	BLK_5000_TL_L, y	; 5
 2065    02:D8D8  9D 02 02   			sta	VDC_DL, x		; 6
 2066    02:D8DB  B9 00 54   			lda	BLK_5000_TL_H, y	; 5
 2067               0001     		.if	BLKDEF_CHR_FLAG
 2068    02:D8DE  29 F3      			and	#%11110011		; 2
 2069                        		.endif
 2070    02:D8E0  1A         			inc	a			; 2
 2071    02:D8E1  9D 03 02   			sta	VDC_DH, x		; 6
 2072                        	
 2073    02:D8E4  C6 00      			dec	<map_count		; 6
 2074    02:D8E6  F0 19      			beq	!end+			; 2
 2075                        	
 2076    02:D8E8  B9 00 51   	b5000_top_odd:	lda	BLK_5000_TR_L, y	; 5
 2077    02:D8EB  9D 02 02   			sta	VDC_DL, x		; 6
 2078    02:D8EE  B9 00 55   			lda	BLK_5000_TR_H, y	; 5
 2079               0001     		.if	BLKDEF_CHR_FLAG
 2080    02:D8F1  29 F3      			and	#%11110011		; 2
 2081                        		.endif
 2082    02:D8F3  1A         			inc	a			; 2
 2083    02:D8F4  9D 03 02   			sta	VDC_DH, x		; 6
 2084                        	
 2085    02:D8F7  E6 EC      			inc.l	<_bp			; 6
 2086    02:D8F9  D0 02      			bne	!+			; 2/4
 2087    02:D8FB  E6 ED      			inc.h	<_bp			; 6
 2088                        	
 2089    02:D8FD  C6 00      	!:		dec	<map_count		; 6
 2090    02:D8FF  D0 D1      			bne	!repeat-		; 4
 2091                        	
 2092    02:D901  60         	!end:		rts
 2093                        	
 2094                        			; btm horizontal (32+2 rept)
 2095                        			;
 2096                        			; 89 cycles per block * 17 -> 1513 cycles
 2097                        	
 2098    02:D902  B2 EC      	!repeat:	lda	[_bp]			; 7
 2099    02:D904  A8         			tay				; 2
 2100                        	
 2101    02:D905  B9 00 52   	b5000_btm_even:	lda	BLK_5000_BL_L, y	; 5
 2102    02:D908  9D 02 02   			sta	VDC_DL, x		; 6
 2103    02:D90B  B9 00 56   			lda	BLK_5000_BL_H, y	; 5
 2104               0001     		.if	BLKDEF_CHR_FLAG
 2105    02:D90E  29 F3      			and	#%11110011		; 2
 2106                        		.endif
 2107    02:D910  1A         			inc	a			; 2
 2108    02:D911  9D 03 02   			sta	VDC_DH, x		; 6
 2109                        	
 2110    02:D914  C6 00      			dec	<map_count		; 6
 2111    02:D916  F0 19      			beq	!end+			; 2
 2112                        	
 2113    02:D918  B9 00 53   	b5000_btm_odd:	lda	BLK_5000_BR_L, y	; 5
 2114    02:D91B  9D 02 02   			sta	VDC_DL, x		; 6
 2115    02:D91E  B9 00 57   			lda	BLK_5000_BR_H, y	; 5
 2116               0001     		.if	BLKDEF_CHR_FLAG
 2117    02:D921  29 F3      			and	#%11110011		; 2
 2118                        		.endif
 2119    02:D923  1A         			inc	a			; 2
 2120    02:D924  9D 03 02   			sta	VDC_DH, x		; 6
 2121                        	
 2122    02:D927  E6 EC      			inc.l	<_bp			; 6
 2123    02:D929  D0 02      			bne	!+			; 2/4
 2124    02:D92B  E6 ED      			inc.h	<_bp			; 6
 2125                        	
 2126    02:D92D  C6 00      	!:		dec	<map_count		; 6
 2127    02:D92F  D0 D1      			bne	!repeat-		; 4
 2128                        	
 2129    02:D931  60         	!end:		rts
 2130                        	
 2131                        			; top horizontal (32+2 rept)
 2132                        			;
 2133                        			; 89 cycles per block * 17 -> 1513 cycles
 2134                        	
 2135    02:D932  B2 EC      	!repeat:	lda	[_bp]			; 7
 2136    02:D934  A8         			tay				; 2
 2137                        	
 2138    02:D935  B9 00 58   	b5800_top_even:	lda	BLK_5800_TL_L, y	; 5
 2139    02:D938  9D 02 02   			sta	VDC_DL, x		; 6
 2140    02:D93B  B9 00 5C   			lda	BLK_5800_TL_H, y	; 5
 2141               0001     		.if	BLKDEF_CHR_FLAG
 2142    02:D93E  29 F3      			and	#%11110011		; 2
 2143                        		.endif
 2144    02:D940  1A         			inc	a			; 2
 2145    02:D941  9D 03 02   			sta	VDC_DH, x		; 6
 2146                        	
 2147    02:D944  C6 00      			dec	<map_count		; 6
 2148    02:D946  F0 19      			beq	!end+			; 2
 2149                        	
 2150    02:D948  B9 00 59   	b5800_top_odd:	lda	BLK_5800_TR_L, y	; 5
 2151    02:D94B  9D 02 02   			sta	VDC_DL, x		; 6
 2152    02:D94E  B9 00 5D   			lda	BLK_5800_TR_H, y	; 5
 2153               0001     		.if	BLKDEF_CHR_FLAG
 2154    02:D951  29 F3      			and	#%11110011		; 2
 2155                        		.endif
 2156    02:D953  1A         			inc	a			; 2
 2157    02:D954  9D 03 02   			sta	VDC_DH, x		; 6
 2158                        	
 2159    02:D957  E6 EC      			inc.l	<_bp			; 6
 2160    02:D959  D0 02      			bne	!+			; 2/4
 2161    02:D95B  E6 ED      			inc.h	<_bp			; 6
 2162                        	
 2163    02:D95D  C6 00      	!:		dec	<map_count		; 6
 2164    02:D95F  D0 D1      			bne	!repeat-		; 4
 2165                        	
 2166    02:D961  60         	!end:		rts
 2167                        	
 2168                        			; btm horizontal (32+2 rept)
 2169                        			;
 2170                        			; 89 cycles per block * 17 -> 1513 cycles
 2171                        	
 2172    02:D962  B2 EC      	!repeat:	lda	[_bp]		; 7
 2173    02:D964  A8         			tay				; 2
 2174                        	
 2175    02:D965  B9 00 5A   	b5800_btm_even:	lda	BLK_5800_BL_L, y	; 5
 2176    02:D968  9D 02 02   			sta	VDC_DL, x		; 6
 2177    02:D96B  B9 00 5E   			lda	BLK_5800_BL_H, y	; 5
 2178               0001     		.if	BLKDEF_CHR_FLAG
 2179    02:D96E  29 F3      			and	#%11110011		; 2
 2180                        		.endif
 2181    02:D970  1A         			inc	a			; 2
 2182    02:D971  9D 03 02   			sta	VDC_DH, x		; 6
 2183                        	
 2184    02:D974  C6 00      			dec	<map_count		; 6
 2185    02:D976  F0 19      			beq	!end+			; 2
 2186                        	
 2187    02:D978  B9 00 5B   	b5800_btm_odd:	lda	BLK_5800_BR_L, y	; 5
 2188    02:D97B  9D 02 02   			sta	VDC_DL, x		; 6
 2189    02:D97E  B9 00 5F   			lda	BLK_5800_BR_H, y	; 5
 2190               0001     		.if	BLKDEF_CHR_FLAG
 2191    02:D981  29 F3      			and	#%11110011		; 2
 2192                        		.endif
 2193    02:D983  1A         			inc	a			; 2
 2194    02:D984  9D 03 02   			sta	VDC_DH, x		; 6
 2195                        	
 2196    02:D987  E6 EC      			inc.l	<_bp			; 6
 2197    02:D989  D0 02      			bne	!+			; 2/4
 2198    02:D98B  E6 ED      			inc.h	<_bp			; 6
 2199                        	
 2200    02:D98D  C6 00      	!:		dec	<map_count		; 6
 2201    02:D98F  D0 D1      			bne	!repeat-		; 4
 2202                        	
 2203    02:D991  60         	!end:		rts
 2204                        	
 2205                        	
 2206                        	
 2207                        	; ***************************************************************************
 2208                        	; ***************************************************************************
 2209                        	;
 2210                        	; blk_col_strip - Draw a single column of CHR into the BAT.
 2211                        	;
 2212                        	
 2213    02:D992  20 34 E4   	blk_col_strip:	jsr	set_di_xy_mawr		; Set the BAT VRAM destination.
 2214                        	
 2215    02:D995  A5 FC      			lda	<map_chr_x		; Select what drawing code to
 2216    02:D997  4A         			lsr	a			; use depending upon even/odd
 2217    02:D998  A5 FE      			lda	<map_chr_y		; CHR coordinates (not BAT to
 2218    02:D99A  29 01      			and	#1			; support unaligned drawing).
 2219    02:D99C  2A         			rol	a
 2220    02:D99D  0A         			asl	a			; N.B. Always leaves C clear.
 2221    02:D99E  1D E7 2B   			ora.h	vdc_blk_addr, x		; What is the BLK data address?
 2222    02:D9A1  29 1E      			and	#%00011110		; $4000, $4800, $5000 or $5800.
 2223    02:D9A3  A8         			tay
 2224    02:D9A4  B9 B1 D9   			lda.h	.jump_table, y		; Push the address of the code.
 2225    02:D9A7  48         			pha
 2226    02:D9A8  B9 B0 D9   			lda.l	.jump_table, y
 2227    02:D9AB  48         			pha
 2228                        	
 2229    02:D9AC  B2 EC      			lda	[_bp]			; Get the first BLK number.
 2230    02:D9AE  A8         			tay
 2231                        	
 2232    02:D9AF  60         			rts				; Jump to the drawing code.
 2233                        	
 2234    02:D9B0  D2 D9      	.jump_table:	dw	b4000_lhs_even - 1
 2235    02:D9B2  08 DA      			dw	b4000_rhs_even - 1
 2236    02:D9B4  E5 D9      			dw	b4000_lhs_odd - 1
 2237    02:D9B6  1B DA      			dw	b4000_rhs_odd - 1
 2238                        	
 2239    02:D9B8  3E DA      			dw	b4800_lhs_even - 1
 2240    02:D9BA  74 DA      			dw	b4800_rhs_even - 1
 2241    02:D9BC  51 DA      			dw	b4800_lhs_odd - 1
 2242    02:D9BE  87 DA      			dw	b4800_rhs_odd - 1
 2243                        	
 2244    02:D9C0  AA DA      			dw	b5000_lhs_even - 1
 2245    02:D9C2  E0 DA      			dw	b5000_rhs_even - 1
 2246    02:D9C4  BD DA      			dw	b5000_lhs_odd - 1
 2247    02:D9C6  F3 DA      			dw	b5000_rhs_odd - 1
 2248                        	
 2249    02:D9C8  16 DB      			dw	b5800_lhs_even - 1
 2250    02:D9CA  4C DB      			dw	b5800_rhs_even - 1
 2251    02:D9CC  29 DB      			dw	b5800_lhs_odd - 1
 2252    02:D9CE  5F DB      			dw	b5800_rhs_odd - 1
 2253                        	
 2254                        			; lhs vertical (28+2 rept)
 2255                        			;
 2256                        			; N.B. C is always clear on entry.
 2257                        			;
 2258                        			; 100 cycles per block * 15 -> 1500 cycles
 2259                        	
 2260    02:D9D0  B2 EC      	!repeat:	lda	[_bp]			; 7
 2261    02:D9D2  A8         			tay				; 2
 2262                        	
 2263    02:D9D3  B9 00 40   	b4000_lhs_even:	lda	BLK_4000_TL_L, y	; 5
 2264    02:D9D6  9D 02 02   			sta	VDC_DL, x		; 6
 2265    02:D9D9  B9 00 44   			lda	BLK_4000_TL_H, y	; 5
 2266               0001     		.if	BLKDEF_CHR_FLAG
 2267    02:D9DC  29 F3      			and	#%11110011		; 2
 2268                        		.endif
 2269    02:D9DE  1A         			inc	a			; 2
 2270    02:D9DF  9D 03 02   			sta	VDC_DH, x		; 6
 2271                        	
 2272    02:D9E2  C6 00      			dec	<map_count		; 6
 2273    02:D9E4  F0 1F      			beq	!end+			; 2
 2274                        	
 2275    02:D9E6  B9 00 42   	b4000_lhs_odd:	lda	BLK_4000_BL_L, y	; 5
 2276    02:D9E9  9D 02 02   			sta	VDC_DL, x		; 6
 2277    02:D9EC  B9 00 46   			lda	BLK_4000_BL_H, y	; 5
 2278               0001     		.if	BLKDEF_CHR_FLAG
 2279    02:D9EF  29 F3      			and	#%11110011		; 2
 2280                        		.endif
 2281    02:D9F1  1A         			inc	a			; 2
 2282    02:D9F2  9D 03 02   			sta	VDC_DH, x		; 6
 2283                        	
 2284    02:D9F5  BD AC 26   			lda	vdc_map_line_w, x	; 5
 2285    02:D9F8  65 EC      			adc.l	<_bp			; 4
 2286    02:D9FA  85 EC      			sta.l	<_bp			; 4
 2287    02:D9FC  90 03      			bcc	!+			; 2/4
 2288    02:D9FE  E6 ED      			inc.h	<_bp			; 6
 2289    02:DA00  18         			clc				; 2
 2290                        	
 2291    02:DA01  C6 00      	!:		dec	<map_count		; 6
 2292    02:DA03  D0 CB      			bne	!repeat-		; 4
 2293                        	
 2294    02:DA05  60         	!end:		rts
 2295                        	
 2296                        			; rhs vertical (28+2 rept)
 2297                        			;
 2298                        			; N.B. C is always clear on entry.
 2299                        			;
 2300                        			; 100 cycles per block * 15 -> 1500 cycles
 2301                        	
 2302    02:DA06  B2 EC      	!repeat:	lda	[_bp]			; 7
 2303    02:DA08  A8         			tay				; 2
 2304                        	
 2305    02:DA09  B9 00 41   	b4000_rhs_even:	lda	BLK_4000_TR_L, y	; 5
 2306    02:DA0C  9D 02 02   			sta	VDC_DL, x		; 6
 2307    02:DA0F  B9 00 45   			lda	BLK_4000_TR_H, y	; 5
 2308               0001     		.if	BLKDEF_CHR_FLAG
 2309    02:DA12  29 F3      			and	#%11110011		; 2
 2310                        		.endif
 2311    02:DA14  1A         			inc	a			; 2
 2312    02:DA15  9D 03 02   			sta	VDC_DH, x		; 6
 2313                        	
 2314    02:DA18  C6 00      			dec	<map_count		; 6
 2315    02:DA1A  F0 1F      			beq	!end+			; 2
 2316                        	
 2317    02:DA1C  B9 00 43   	b4000_rhs_odd:	lda	BLK_4000_BR_L, y	; 5
 2318    02:DA1F  9D 02 02   			sta	VDC_DL, x		; 6
 2319    02:DA22  B9 00 47   			lda	BLK_4000_BR_H, y	; 5
 2320               0001     		.if	BLKDEF_CHR_FLAG
 2321    02:DA25  29 F3      			and	#%11110011		; 2
 2322                        		.endif
 2323    02:DA27  1A         			inc	a			; 2
 2324    02:DA28  9D 03 02   			sta	VDC_DH, x		; 6
 2325                        	
 2326    02:DA2B  BD AC 26   			lda	vdc_map_line_w, x	; 5
 2327    02:DA2E  65 EC      			adc.l	<_bp			; 4
 2328    02:DA30  85 EC      			sta.l	<_bp			; 4
 2329    02:DA32  90 03      			bcc	!+			; 2/4
 2330    02:DA34  E6 ED      			inc.h	<_bp			; 6
 2331    02:DA36  18         			clc				; 2
 2332                        	
 2333    02:DA37  C6 00      	!:		dec	<map_count		; 6
 2334    02:DA39  D0 CB      			bne	!repeat-		; 4
 2335                        	
 2336    02:DA3B  60         	!end:		rts
 2337                        	
 2338                        			; lhs vertical (28+2 rept)
 2339                        			;
 2340                        			; N.B. C is always clear on entry.
 2341                        			;
 2342                        			; 100 cycles per block * 15 -> 1500 cycles
 2343                        	
 2344    02:DA3C  B2 EC      	!repeat:	lda	[_bp]			; 7
 2345    02:DA3E  A8         			tay				; 2
 2346                        	
 2347    02:DA3F  B9 00 48   	b4800_lhs_even:	lda	BLK_4800_TL_L, y	; 5
 2348    02:DA42  9D 02 02   			sta	VDC_DL, x		; 6
 2349    02:DA45  B9 00 4C   			lda	BLK_4800_TL_H, y	; 5
 2350               0001     		.if	BLKDEF_CHR_FLAG
 2351    02:DA48  29 F3      			and	#%11110011		; 2
 2352                        		.endif
 2353    02:DA4A  1A         			inc	a			; 2
 2354    02:DA4B  9D 03 02   			sta	VDC_DH, x		; 6
 2355                        	
 2356    02:DA4E  C6 00      			dec	<map_count		; 6
 2357    02:DA50  F0 1F      			beq	!end+			; 2
 2358                        	
 2359    02:DA52  B9 00 4A   	b4800_lhs_odd:	lda	BLK_4800_BL_L, y	; 5
 2360    02:DA55  9D 02 02   			sta	VDC_DL, x		; 6
 2361    02:DA58  B9 00 4E   			lda	BLK_4800_BL_H, y	; 5
 2362               0001     		.if	BLKDEF_CHR_FLAG
 2363    02:DA5B  29 F3      			and	#%11110011		; 2
 2364                        		.endif
 2365    02:DA5D  1A         			inc	a			; 2
 2366    02:DA5E  9D 03 02   			sta	VDC_DH, x		; 6
 2367                        	
 2368    02:DA61  BD AC 26   			lda	vdc_map_line_w, x	; 5
 2369    02:DA64  65 EC      			adc.l	<_bp			; 4
 2370    02:DA66  85 EC      			sta.l	<_bp			; 4
 2371    02:DA68  90 03      			bcc	!+			; 2/4
 2372    02:DA6A  E6 ED      			inc.h	<_bp			; 6
 2373    02:DA6C  18         			clc				; 2
 2374                        	
 2375    02:DA6D  C6 00      	!:		dec	<map_count		; 6
 2376    02:DA6F  D0 CB      			bne	!repeat-		; 4
 2377                        	
 2378    02:DA71  60         	!end:		rts
 2379                        	
 2380                        			; rhs vertical (28+2 rept)
 2381                        			;
 2382                        			; N.B. C is always clear on entry.
 2383                        			;
 2384                        			; 100 cycles per block * 15 -> 1500 cycles
 2385                        	
 2386    02:DA72  B2 EC      	!repeat:	lda	[_bp]			; 7
 2387    02:DA74  A8         			tay				; 2
 2388                        	
 2389    02:DA75  B9 00 49   	b4800_rhs_even:	lda	BLK_4800_TR_L, y	; 5
 2390    02:DA78  9D 02 02   			sta	VDC_DL, x		; 6
 2391    02:DA7B  B9 00 4D   			lda	BLK_4800_TR_H, y	; 5
 2392               0001     		.if	BLKDEF_CHR_FLAG
 2393    02:DA7E  29 F3      			and	#%11110011		; 2
 2394                        		.endif
 2395    02:DA80  1A         			inc	a			; 2
 2396    02:DA81  9D 03 02   			sta	VDC_DH, x		; 6
 2397                        	
 2398    02:DA84  C6 00      			dec	<map_count		; 6
 2399    02:DA86  F0 1F      			beq	!end+			; 2
 2400                        	
 2401    02:DA88  B9 00 4B   	b4800_rhs_odd:	lda	BLK_4800_BR_L, y	; 5
 2402    02:DA8B  9D 02 02   			sta	VDC_DL, x		; 6
 2403    02:DA8E  B9 00 4F   			lda	BLK_4800_BR_H, y	; 5
 2404               0001     		.if	BLKDEF_CHR_FLAG
 2405    02:DA91  29 F3      			and	#%11110011		; 2
 2406                        		.endif
 2407    02:DA93  1A         			inc	a			; 2
 2408    02:DA94  9D 03 02   			sta	VDC_DH, x		; 6
 2409                        	
 2410    02:DA97  BD AC 26   			lda	vdc_map_line_w, x	; 5
 2411    02:DA9A  65 EC      			adc.l	<_bp			; 4
 2412    02:DA9C  85 EC      			sta.l	<_bp			; 4
 2413    02:DA9E  90 03      			bcc	!+			; 2/4
 2414    02:DAA0  E6 ED      			inc.h	<_bp			; 6
 2415    02:DAA2  18         			clc				; 2
 2416                        	
 2417    02:DAA3  C6 00      	!:		dec	<map_count		; 6
 2418    02:DAA5  D0 CB      			bne	!repeat-		; 4
 2419                        	
 2420    02:DAA7  60         	!end:		rts
 2421                        	
 2422                        			; lhs vertical (28+2 rept)
 2423                        			;
 2424                        			; N.B. C is always clear on entry.
 2425                        			;
 2426                        			; 100 cycles per block * 15 -> 1500 cycles
 2427                        	
 2428    02:DAA8  B2 EC      	!repeat:	lda	[_bp]			; 7
 2429    02:DAAA  A8         			tay				; 2
 2430                        	
 2431    02:DAAB  B9 00 50   	b5000_lhs_even:	lda	BLK_5000_TL_L, y	; 5
 2432    02:DAAE  9D 02 02   			sta	VDC_DL, x		; 6
 2433    02:DAB1  B9 00 54   			lda	BLK_5000_TL_H, y	; 5
 2434               0001     		.if	BLKDEF_CHR_FLAG
 2435    02:DAB4  29 F3      			and	#%11110011		; 2
 2436                        		.endif
 2437    02:DAB6  1A         			inc	a			; 2
 2438    02:DAB7  9D 03 02   			sta	VDC_DH, x		; 6
 2439                        	
 2440    02:DABA  C6 00      			dec	<map_count		; 6
 2441    02:DABC  F0 1F      			beq	!end+			; 2
 2442                        	
 2443    02:DABE  B9 00 52   	b5000_lhs_odd:	lda	BLK_5000_BL_L, y	; 5
 2444    02:DAC1  9D 02 02   			sta	VDC_DL, x		; 6
 2445    02:DAC4  B9 00 56   			lda	BLK_5000_BL_H, y	; 5
 2446               0001     		.if	BLKDEF_CHR_FLAG
 2447    02:DAC7  29 F3      			and	#%11110011		; 2
 2448                        		.endif
 2449    02:DAC9  1A         			inc	a			; 2
 2450    02:DACA  9D 03 02   			sta	VDC_DH, x		; 6
 2451                        	
 2452    02:DACD  BD AC 26   			lda	vdc_map_line_w, x	; 5
 2453    02:DAD0  65 EC      			adc.l	<_bp			; 4
 2454    02:DAD2  85 EC      			sta.l	<_bp			; 4
 2455    02:DAD4  90 03      			bcc	!+			; 2/4
 2456    02:DAD6  E6 ED      			inc.h	<_bp			; 6
 2457    02:DAD8  18         			clc				; 2
 2458                        	
 2459    02:DAD9  C6 00      	!:		dec	<map_count		; 6
 2460    02:DADB  D0 CB      			bne	!repeat-		; 4
 2461                        	
 2462    02:DADD  60         	!end:		rts
 2463                        	
 2464                        			; rhs vertical (28+2 rept)
 2465                        			;
 2466                        			; N.B. C is always clear on entry.
 2467                        			;
 2468                        			; 100 cycles per block * 15 -> 1500 cycles
 2469                        	
 2470    02:DADE  B2 EC      	!repeat:	lda	[_bp]			; 7
 2471    02:DAE0  A8         			tay				; 2
 2472                        	
 2473    02:DAE1  B9 00 51   	b5000_rhs_even:	lda	BLK_5000_TR_L, y	; 5
 2474    02:DAE4  9D 02 02   			sta	VDC_DL, x		; 6
 2475    02:DAE7  B9 00 55   			lda	BLK_5000_TR_H, y	; 5
 2476               0001     		.if	BLKDEF_CHR_FLAG
 2477    02:DAEA  29 F3      			and	#%11110011		; 2
 2478                        		.endif
 2479    02:DAEC  1A         			inc	a			; 2
 2480    02:DAED  9D 03 02   			sta	VDC_DH, x		; 6
 2481                        	
 2482    02:DAF0  C6 00      			dec	<map_count		; 6
 2483    02:DAF2  F0 1F      			beq	!end+			; 2
 2484                        	
 2485    02:DAF4  B9 00 53   	b5000_rhs_odd:	lda	BLK_5000_BR_L, y	; 5
 2486    02:DAF7  9D 02 02   			sta	VDC_DL, x		; 6
 2487    02:DAFA  B9 00 57   			lda	BLK_5000_BR_H, y	; 5
 2488               0001     		.if	BLKDEF_CHR_FLAG
 2489    02:DAFD  29 F3      			and	#%11110011		; 2
 2490                        		.endif
 2491    02:DAFF  1A         			inc	a			; 2
 2492    02:DB00  9D 03 02   			sta	VDC_DH, x		; 6
 2493                        	
 2494    02:DB03  BD AC 26   			lda	vdc_map_line_w, x	; 5
 2495    02:DB06  65 EC      			adc.l	<_bp			; 4
 2496    02:DB08  85 EC      			sta.l	<_bp			; 4
 2497    02:DB0A  90 03      			bcc	!+			; 2/4
 2498    02:DB0C  E6 ED      			inc.h	<_bp			; 6
 2499    02:DB0E  18         			clc				; 2
 2500                        	
 2501    02:DB0F  C6 00      	!:		dec	<map_count		; 6
 2502    02:DB11  D0 CB      			bne	!repeat-		; 4
 2503                        	
 2504    02:DB13  60         	!end:		rts
 2505                        	
 2506                        			; lhs vertical (28+2 rept)
 2507                        			;
 2508                        			; N.B. C is always clear on entry.
 2509                        			;
 2510                        			; 100 cycles per block * 15 -> 1500 cycles
 2511                        	
 2512    02:DB14  B2 EC      	!repeat:	lda	[_bp]			; 7
 2513    02:DB16  A8         			tay				; 2
 2514                        	
 2515    02:DB17  B9 00 58   	b5800_lhs_even:	lda	BLK_5800_TL_L, y	; 5
 2516    02:DB1A  9D 02 02   			sta	VDC_DL, x		; 6
 2517    02:DB1D  B9 00 5C   			lda	BLK_5800_TL_H, y	; 5
 2518               0001     		.if	BLKDEF_CHR_FLAG
 2519    02:DB20  29 F3      			and	#%11110011		; 2
 2520                        		.endif
 2521    02:DB22  1A         			inc	a			; 2
 2522    02:DB23  9D 03 02   			sta	VDC_DH, x		; 6
 2523                        	
 2524    02:DB26  C6 00      			dec	<map_count		; 6
 2525    02:DB28  F0 1F      			beq	!end+			; 2
 2526                        	
 2527    02:DB2A  B9 00 5A   	b5800_lhs_odd:	lda	BLK_5800_BL_L, y	; 5
 2528    02:DB2D  9D 02 02   			sta	VDC_DL, x		; 6
 2529    02:DB30  B9 00 5E   			lda	BLK_5800_BL_H, y	; 5
 2530               0001     		.if	BLKDEF_CHR_FLAG
 2531    02:DB33  29 F3      			and	#%11110011		; 2
 2532                        		.endif
 2533    02:DB35  1A         			inc	a			; 2
 2534    02:DB36  9D 03 02   			sta	VDC_DH, x		; 6
 2535                        	
 2536    02:DB39  BD AC 26   			lda	vdc_map_line_w, x	; 5
 2537    02:DB3C  65 EC      			adc.l	<_bp			; 4
 2538    02:DB3E  85 EC      			sta.l	<_bp			; 4
 2539    02:DB40  90 03      			bcc	!+			; 2/4
 2540    02:DB42  E6 ED      			inc.h	<_bp			; 6
 2541    02:DB44  18         			clc				; 2
 2542                        	
 2543    02:DB45  C6 00      	!:		dec	<map_count		; 6
 2544    02:DB47  D0 CB      			bne	!repeat-		; 4
 2545                        	
 2546    02:DB49  60         	!end:		rts
 2547                        	
 2548                        			; rhs vertical (28+2 rept)
 2549                        			;
 2550                        			; N.B. C is always clear on entry.
 2551                        			;
 2552                        			; 100 cycles per block * 15 -> 1500 cycles
 2553                        	
 2554    02:DB4A  B2 EC      	!repeat:	lda	[_bp]			; 7
 2555    02:DB4C  A8         			tay				; 2
 2556                        	
 2557    02:DB4D  B9 00 59   	b5800_rhs_even:	lda	BLK_5800_TR_L, y	; 5
 2558    02:DB50  9D 02 02   			sta	VDC_DL, x		; 6
 2559    02:DB53  B9 00 5D   			lda	BLK_5800_TR_H, y	; 5
 2560               0001     		.if	BLKDEF_CHR_FLAG
 2561    02:DB56  29 F3      			and	#%11110011		; 2
 2562                        		.endif
 2563    02:DB58  1A         			inc	a			; 2
 2564    02:DB59  9D 03 02   			sta	VDC_DH, x		; 6
 2565                        	
 2566    02:DB5C  C6 00      			dec	<map_count		; 6
 2567    02:DB5E  F0 1F      			beq	!end+			; 2
 2568                        	
 2569    02:DB60  B9 00 5B   	b5800_rhs_odd:	lda	BLK_5800_BR_L, y	; 5
 2570    02:DB63  9D 02 02   			sta	VDC_DL, x		; 6
 2571    02:DB66  B9 00 5F   			lda	BLK_5800_BR_H, y	; 5
 2572               0001     		.if	BLKDEF_CHR_FLAG
 2573    02:DB69  29 F3      			and	#%11110011		; 2
 2574                        		.endif
 2575    02:DB6B  1A         			inc	a			; 2
 2576    02:DB6C  9D 03 02   			sta	VDC_DH, x		; 6
 2577                        	
 2578    02:DB6F  BD AC 26   			lda	vdc_map_line_w, x	; 5
 2579    02:DB72  65 EC      			adc.l	<_bp			; 4
 2580    02:DB74  85 EC      			sta.l	<_bp			; 4
 2581    02:DB76  90 03      			bcc	!+			; 2/4
 2582    02:DB78  E6 ED      			inc.h	<_bp			; 6
 2583    02:DB7A  18         			clc				; 2
 2584                        	
 2585    02:DB7B  C6 00      	!:		dec	<map_count		; 6
 2586    02:DB7D  D0 CB      			bne	!repeat-		; 4
 2587                        	
 2588    02:DB7F  60         	!end:		rts
 2589                        	
 2590                        		.endif	BLKDEF_POINTERS
 2591                        	
 2592                        		.endprocgroup	; blkmap_group
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   80                        		.else
   84                        		.endif	HUCC_USES_BLKMAP
   85                        	
   86               0001     		.ifdef	HUCC_USES_CHRMAP		; Set in hucc_chrmap.h
                             #[3]   "..\..\..\include\hucc\chrmap.asm"
   87                        			include	"chrmap.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; chrmap.asm
    5                        	;
    6                        	; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
    7                        	;
    8                        	; Copyright John Brandwood 2025.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
   18                        	;
   19                        	; The maximum total size for a chrmap is 16KBytes, which allows for maps up
   20                        	; to 256x32 tiles (2048x256 pixels).
   21                        	;
   22                        	; ***************************************************************************
   23                        	; ***************************************************************************
   24                        	
   25                        	;
   26                        	; Include dependancies ...
   27                        	;
   28                        	
   29                        			include "blkmap.asm"		; This defines the variables.
   30                        	
   31                        	;
   32                        	; Chrmaps in BAT format normally address all of VRAM from $0400..$7FFF, but
   33                        	; they can be limited to use the 32KByte of characters in VRAM $1000..$4FFF
   34                        	; which then frees up 2-bits for flag information for each character in the
   35                        	; BAT entry.
   36                        	;
   37                        	; These 2-bits are perfect for using as collision information in game maps,
   38                        	; allowing storage of states like transparent, solid, up-slope, down-slope.
   39                        	;
   40                        	; Typically this flag information is set by the map conversion tools from a
   41                        	; seperate "collision" map layer.
   42                        	;
   43                        	
   44               0000     		.ifndef	CHRMAP_BAT_FLAG
   46                        		.endif
   47                        	
   48                        	;
   49                        	;
   50                        	;
   51                        	
   52                        	
   53                        	
   54    1E:CD5C             	chrmap_group	.procgroup
   55                        	
   56                        	; ***************************************************************************
   57                        	; ***************************************************************************
   58                        	;
   59                        	; _draw_bat - Draw the entire screen at the current coordinates.
   60                        	; _sgx_draw_bat - Draw the entire screen at the current coordinates.
   61                        	;
   62                        	; void __fastcall draw_bat( void );
   63                        	; void __fastcall sgx_draw_bat( void );
   64                        	;
   65                        	
   66               0001     		.if	SUPPORT_SGX
   67                        	
   68                        	_sgx_draw_bat	.proc
   74                        			.endp
   75                        		.endif
   76                        	
   77    1E:CD5C             	_draw_bat	.proc
   78                        	
   79    1E:CD5C  82         			clx				; Offset to PCE VDC.
   80                        	
   81    1E:CD5D  43 08      			tma3				; Preserve MPR3..MPR5.
   82    1E:CD5F  48         			pha
   83    1E:CD60  43 10      			tma4
   84    1E:CD62  48         			pha
   85    1E:CD63  43 20      			tma5
   86    1E:CD65  48         			pha
   87                        	
   88    1E:CD66  20 09 CE   			jsr	bat_pxl_2_chr		; Set up the draw coordinates.
   89                        	
   90    1E:CD69  A5 FC      			lda	<map_chr_x		; Reset previous X position.
   91    1E:CD6B  9D E1 2B   			sta	vdc_old_chr_x, x
   92                        	
   93    1E:CD6E  A5 FE      			lda	<map_chr_y		; Reset previous Y position,
   94    1E:CD70  1A         			inc	a			; ready to draw rows upwards.
   95    1E:CD71  9D E2 2B   			sta	vdc_old_chr_y, x
   96                        	
   97    1E:CD74  BD AA 26   			lda	vdc_map_draw_w, x	; Draw the whole screen.
   98    1E:CD77  85 FA      			sta	<map_draw_w
   99    1E:CD79  BD AB 26   			lda	vdc_map_draw_h, x
  100    1E:CD7C  85 FB      			sta	<map_draw_h
  101                        	
  102    1E:CD7E  20 EC CE   			jsr	bat_scroll_y		; Draw N row of CHR to the BAT.
  103                        	
  104    1E:CD81  68         			pla				; Restore MPR3..MPR5.
  105    1E:CD82  53 20      			tam5
  106    1E:CD84  68         			pla
  107    1E:CD85  53 10      			tam4
  108    1E:CD87  68         			pla
  109    1E:CD88  53 08      			tam3
  110                        	
  111                        			leave
         1E:CD8A  4C EF FF   			jmp	leave_proc
  112                        	
  113                        			.endp
  114                        	
  115                        	
  116                        	
  117                        	; ***************************************************************************
  118                        	; ***************************************************************************
  119                        	;
  120                        	; _scroll_bat - Draw a single row of CHR into the BAT to update the edge.
  121                        	; _sgx_scroll_bat - Draw a single row of CHR into the BAT to update the edge.
  122                        	;
  123                        	; void __fastcall scroll_bat( void );
  124                        	; void __fastcall sgx_scroll_bat( void );
  125                        	;
  126                        	
  127               0001     		.if	SUPPORT_SGX
  128                        	
  129                        	_sgx_scroll_bat	.proc
  135                        			.endp
  136                        		.endif
  137                        	
  138    1E:CD8D             	_scroll_bat	.proc
  139                        	
  140    1E:CD8D  82         			clx				; Offset to PCE VDC.
  141                        	
  142    1E:CD8E  43 08      			tma3				; Preserve MPR3..MPR5.
  143    1E:CD90  48         			pha
  144    1E:CD91  43 10      			tma4
  145    1E:CD93  48         			pha
  146    1E:CD94  43 20      			tma5
  147    1E:CD96  48         			pha
  148                        	
  149    1E:CD97  20 09 CE   			jsr	bat_pxl_2_chr		; Set up the draw coordinates.
  150                        	
  151    1E:CD9A  BD AB 26   			lda	vdc_map_draw_h, x	; Draw new LHS or RHS if needed.
  152    1E:CD9D  85 FB      			sta	<map_draw_h
  153                        	;		lda	#1			; bat_scroll_x only ever draws a
  154                        	;		sta	<map_draw_w		; single column.
  155    1E:CD9F  20 2D CE   			jsr	bat_scroll_x
  156                        	
  157    1E:CDA2  BD E1 2B   			lda	vdc_old_chr_x, x	; Restore map_chr_x which could
  158    1E:CDA5  85 FC      			sta	<map_chr_x		; be changed by bat_scroll_x.
  159                        	
  160    1E:CDA7  BD AA 26   			lda	vdc_map_draw_w, x	; Draw new TOP or BTM if needed.
  161    1E:CDAA  85 FA      			sta	<map_draw_w
  162    1E:CDAC  A9 01      			lda	#1
  163    1E:CDAE  85 FB      			sta	<map_draw_h
  164    1E:CDB0  20 EC CE   			jsr	bat_scroll_y
  165                        	
  166    1E:CDB3  68         			pla				; Restore MPR3..MPR5.
  167    1E:CDB4  53 20      			tam5
  168    1E:CDB6  68         			pla
  169    1E:CDB7  53 10      			tam4
  170    1E:CDB9  68         			pla
  171    1E:CDBA  53 08      			tam3
  172                        	
  173                        			leave
         1E:CDBC  4C EF FF   			jmp	leave_proc
  174                        	
  175                        			.endp
  176                        	
  177                        	
  178                        	
  179                        	; ***************************************************************************
  180                        	; ***************************************************************************
  181                        	;
  182                        	; _blit_bat - Draw a map rectangle to specific BAT coordinates.
  183                        	; _sgx_blit_bat - Draw a map rectangle to specific BAT coordinates.
  184                        	;
  185                        	; void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
  186                        	; void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
  187                        	;
  188                        	; Normally you'd just use _draw_bat() and _scroll_bat(), but for those folks
  189                        	; who really wish to take manual control, you can use this.
  190                        	;
  191                        	
  192               0001     		.if	SUPPORT_SGX
  193                        	
  194                        	_sgx_blit_bat	.proc
  200                        			.endp
  201                        		.endif
  202                        	
  203    1E:CDBF             	_blit_bat	.proc
  204                        	
  205    1E:CDBF  82         			clx				; Offset to PCE VDC.
  206                        	
  207    1E:CDC0  43 08      			tma3				; Preserve MPR3..MPR5.
  208    1E:CDC2  48         			pha
  209    1E:CDC3  43 10      			tma4
  210    1E:CDC5  48         			pha
  211    1E:CDC6  43 20      			tma5
  212    1E:CDC8  48         			pha
  213                        	
  214    1E:CDC9  BD B2 26   			lda	vdc_map_option, x	; Preserve current map options.
  215    1E:CDCC  48         			pha
  216    1E:CDCD  09 C0      			ora	#MAP_UNALIGNED_X | MAP_UNALIGNED_Y
  217    1E:CDCF  9D B2 26   			sta	vdc_map_option, x
  218                        	
  219    1E:CDD2  20 09 CE   			jsr	bat_pxl_2_chr		; Set up the draw coordinates.
  220                        	
  221    1E:CDD5  A5 FA      			lda	<map_draw_w		; Are we drawing just 1 column?
  222    1E:CDD7  C9 01      			cmp	#1
  223    1E:CDD9  F0 1E      			beq	.draw_column
  224                        	
  225                        			; Draw N rows.
  226                        	
  227    1E:CDDB  A5 FC      	.draw_rows:	lda	<map_chr_x		; Reset previous X position.
  228    1E:CDDD  9D E1 2B   			sta	vdc_old_chr_x, x
  229                        	
  230    1E:CDE0  A5 FE      			lda	<map_chr_y		; Reset previous Y position,
  231    1E:CDE2  1A         			inc	a			; ready to draw rows upwards.
  232    1E:CDE3  9D E2 2B   			sta	vdc_old_chr_y, x
  233                        	
  234    1E:CDE6  20 EC CE   			jsr	bat_scroll_y		; Draw a row of CHR to the BAT.
  235                        	
  236                        			; Drawing completed.
  237                        	
  238    1E:CDE9  68         	.finished:	pla				; Restore previous map options.
  239    1E:CDEA  9D B2 26   			sta	vdc_map_option, x
  240                        	
  241    1E:CDED  68         			pla				; Restore MPR3..MPR5.
  242    1E:CDEE  53 20      			tam5
  243    1E:CDF0  68         			pla
  244    1E:CDF1  53 10      			tam4
  245    1E:CDF3  68         			pla
  246    1E:CDF4  53 08      			tam3
  247                        	
  248                        	.exit:		leave
         1E:CDF6  4C EF FF   			jmp	leave_proc
  249                        	
  250                        			; Draw 1 column.
  251                        	
  252    1E:CDF9  A5 FC      	.draw_column:	lda	<map_chr_x		; Reset previous X position.
  253    1E:CDFB  1A         			inc	a			; ready to draw 1 column.
  254    1E:CDFC  9D E1 2B   			sta	vdc_old_chr_x, x
  255                        	
  256    1E:CDFF  A5 FE      			lda	<map_chr_y		; Reset previous Y position.
  257    1E:CE01  9D E2 2B   			sta	vdc_old_chr_y, x
  258                        	
  259    1E:CE04  20 2D CE   			jsr	bat_scroll_x		; Draw a single column of CHR.
  260                        	
  261    1E:CE07  80 E0      			bra	.finished
  262                        	
  263                        			.endp
  264                        	
  265                        	
  266                        	
  267                        	; ***************************************************************************
  268                        	; ***************************************************************************
  269                        	;
  270                        	
  271    1E:CE09  BD AE 26   	bat_pxl_2_chr:	lda.l	vdc_map_pxl_x, x	; Get current map X coordinate.
  272    1E:CE0C  85 FC      			sta.l	<map_pxl_x
  273    1E:CE0E  BD AF 26   			lda.h	vdc_map_pxl_x, x	; Xvert map_pxl_x to map_chr_x.
  274    1E:CE11  4A         			lsr	a
  275    1E:CE12  66 FC      			ror.l	<map_pxl_x
  276    1E:CE14  4A         			lsr	a
  277    1E:CE15  66 FC      			ror.l	<map_pxl_x
  278    1E:CE17  4A         			lsr	a
  279    1E:CE18  66 FC      			ror.l	<map_pxl_x		; Max map width is 256 CHR.
  280                        	
  281    1E:CE1A  BD B0 26   			lda.l	vdc_map_pxl_y, x	; Get current map Y coordinate.
  282    1E:CE1D  85 FE      			sta.l	<map_pxl_y
  283    1E:CE1F  BD B1 26   			lda.h	vdc_map_pxl_y, x	; Xvert map_pxl_y to map_chr_y.
  284    1E:CE22  4A         			lsr	a
  285    1E:CE23  66 FE      			ror.l	<map_pxl_y
  286    1E:CE25  4A         			lsr	a
  287    1E:CE26  66 FE      			ror.l	<map_pxl_y
  288    1E:CE28  4A         			lsr	a
  289    1E:CE29  66 FE      			ror.l	<map_pxl_y		; Max map width is 256 CHR.
  290                        	
  291    1E:CE2B  60         			rts
  292                        	
  293                        	
  294                        	
  295                        	; ***************************************************************************
  296                        	; ***************************************************************************
  297                        	;
  298                        	; bat_scroll_x - Update the BAT when X coordinate changes.
  299                        	;
  300                        	; N.B. This only ever draws a single column!
  301                        	;
  302                        	
  303    1E:CE2C  60         	!no_change:	rts
  304                        	
  305    1E:CE2D  A5 FC      	bat_scroll_x:	lda	<map_chr_x		; Compare old_x with cur_x.
  306    1E:CE2F  DD E1 2B   			cmp	vdc_old_chr_x, x
  307    1E:CE32  F0 F8      			beq	!no_change-		; Do nothing if no change.
  308    1E:CE34  9D E1 2B   			sta	vdc_old_chr_x, x
  309    1E:CE37  30 05      			bmi	.moved			; Test the sign of the change.
  310                        	
  311    1E:CE39  18         			clc				; Draw RHS if chr_x >= old_x.
  312    1E:CE3A  7D AA 26   			adc	vdc_map_draw_w, x	; Usually (SCR_WIDTH / 8) + 1.
  313    1E:CE3D  3A         			dec	a
  314                        	
  315    1E:CE3E  48         	.moved:		pha				; Push chr_x in map section.
  316                        	
  317    1E:CE3F  3C B2 26   			bit	vdc_map_option, x	; Set bit7 to disable aligning
  318    1E:CE42  30 05      			bmi	!+			; BAT X with the map X.
  319    1E:CE44  3D A7 26   			and	vdc_bat_x_mask, x
  320    1E:CE47  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
  321                        	
  322    1E:CE49  A5 FE      	!:		lda	<map_chr_y		; Y = chr_y in map section.
  323    1E:CE4B  A8         			tay
  324                        	
  325    1E:CE4C  3C B2 26   			bit	vdc_map_option, x	; Set bit6 to disable aligning
  326    1E:CE4F  70 05      			bvs	!+			; BAT Y with the map Y.
  327    1E:CE51  3D A8 26   			and	vdc_bat_y_mask, x
  328    1E:CE54  85 F9      			sta	<map_bat_y		; Save BAT Y chr coordinate.
  329                        	
  330               0000     		.if	FAST_MULTIPLY
  333                        		.endif
  334                        	
  335    1E:CE56  BD AC 26   	!:		lda	vdc_map_line_w, x	; Map width in CHR (0 == 256).
  336    1E:CE59  D0 05      			bne	!+
  337                        	
  338    1E:CE5B  64 EE      			stz.l	<map_line		; Multiply by 256 is easy!
  339    1E:CE5D  98         			tya
  340    1E:CE5E  80 15      			bra	.double
  341                        	
  342               0000     		.if	FAST_MULTIPLY
  354                        		.else
  355    1E:CE60  84 EF      	!:		sty.h	<map_line		; Takes 144..176 cycles.
  356    1E:CE62  A0 08      			ldy	#8
  357    1E:CE64  4A         			lsr	a
  358    1E:CE65  85 EE      			sta.l	<map_line
  359    1E:CE67  62         			cla
  360    1E:CE68  90 03      			bcc	.rotate
  361    1E:CE6A  18         	.add:		clc
  362    1E:CE6B  65 EF      			adc.h	<map_line
  363    1E:CE6D  6A         	.rotate:	ror	a
  364    1E:CE6E  66 EE      			ror.l	<map_line		; Lo-byte of (CHR Y * width).
  365    1E:CE70  88         			dey
  366    1E:CE71  B0 F7      			bcs	.add
  367    1E:CE73  D0 F8      			bne	.rotate
  368                        		.endif
  369                        	
  370    1E:CE75  06 EE      	.double:	asl.l	<map_line		; Lo-byte of (CHR Y * width * 2).
  371    1E:CE77  2A         			rol	a
  372    1E:CE78  A8         			tay				; Hi-byte of (CHR Y * width * 2).
  373                        	
  374    1E:CE79  BD EB 2B   			lda	vdc_map_bank, x		; Put the MAP into MPR3-MPR5.
  375    1E:CE7C  53 08      			tam3				; Allow for 16KByte chrmap.
  376    1E:CE7E  1A         			inc	a
  377    1E:CE7F  53 10      			tam4
  378    1E:CE81  1A         			inc	a
  379    1E:CE82  53 20      			tam5
  380                        	
  381    1E:CE84  68         			pla				; Pop chr_x in map section.
  382    1E:CE85  0A         			asl	a			; 2-bytes for a BAT value.
  383    1E:CE86  90 02      			bcc	!+
  384    1E:CE88  C8         			iny				; Hi-byte of (CHR Y * width * 2).
  385    1E:CE89  18         			clc
  386    1E:CE8A  65 EE      	!:		adc.l	<map_line		; Lo-byte of (CHR Y * width * 2).
  387    1E:CE8C  90 01      			bcc	!+
  388    1E:CE8E  C8         			iny
  389                        	
  390    1E:CE8F  18         	!:		clc				; Calc map data pointer.
  391    1E:CE90  7D E9 2B   			adc.l	vdc_map_addr, x
  392    1E:CE93  85 EC      			sta.l	<_bp			; Maximum map size is 16KBytes
  393    1E:CE95  98         			tya				; so we don't need to consider
  394    1E:CE96  7D EA 2B   			adc.h	vdc_map_addr, x		; bank overflow.
  395    1E:CE99  85 ED      			sta.h	<_bp
  396                        	
  397    1E:CE9B  C2         			cly				; Calculate the map line delta
  398    1E:CE9C  BD AC 26   			lda	vdc_map_line_w, x	; in bytes.
  399    1E:CE9F  D0 01      			bne	!+
  400    1E:CEA1  C8         			iny
  401    1E:CEA2  0A         	!:		asl	a
  402    1E:CEA3  85 EE      			sta.l	<map_line
  403    1E:CEA5  98         			tya
  404    1E:CEA6  2A         			rol	a
  405    1E:CEA7  85 EF      			sta.h	<map_line
  406                        	
  407                        			; Draw the first part of the column.
  408                        	
  409    1E:CEA9  A5 F8      	.draw_col:	lda	<map_bat_x		; Set the BAT VRAM destination
  410    1E:CEAB  85 F0      			sta.l	<_di			; coordinates.
  411    1E:CEAD  A5 F9      			lda	<map_bat_y
  412    1E:CEAF  85 F1      			sta.h	<_di
  413                        	
  414    1E:CEB1  5D A8 26   			eor	vdc_bat_y_mask, x	; Calc CHR before wrap.
  415    1E:CEB4  1A         			inc	a
  416    1E:CEB5  C5 FB      			cmp	<map_draw_h		; Usually (SCR_HEIGHT / 8) + 1.
  417    1E:CEB7  90 02      			bcc	!+
  418    1E:CEB9  A5 FB      			lda	<map_draw_h		; Maximum CHR to draw.
  419    1E:CEBB  85 00      	!:		sta	<map_count		; Set number of CHR to draw.
  420    1E:CEBD  85 01      			sta	<map_drawn		; Preserve number of CHR drawn.
  421                        	
  422    1E:CEBF  A9 05      			lda	#VDC_CR			; Set VDC auto-increment from
  423    1E:CEC1  95 F7      			sta	<vdc_reg, x		; the BAT width, which is set
  424    1E:CEC3  9D 00 02   			sta	VDC_AR, x		; up by set_screen_size().
  425    1E:CEC6  B5 F4      			lda	<vdc_crh, x
  426    1E:CEC8  9D 03 02   			sta	VDC_DH, x
  427                        	
  428    1E:CECB  20 CD CF   			jsr	bat_col_strip		; Draw top of vertical strip.
  429                        	
  430                        			; Wrap around and draw the rest of the column (if needed).
  431                        	
  432    1E:CECE  38         			sec				; Are there any more CHR that
  433    1E:CECF  A5 FB      			lda	<map_draw_h		; need to be drawn?
  434    1E:CED1  E5 01      			sbc	<map_drawn
  435    1E:CED3  F0 0B      			beq	.done
  436                        	
  437    1E:CED5  85 00      			sta	<map_count		; Set number of CHR to draw.
  438                        	
  439    1E:CED7  A5 F8      			lda	<map_bat_x		; Set the BAT VRAM destination
  440    1E:CED9  85 F0      			sta.l	<_di			; coordinates.
  441    1E:CEDB  64 F1      			stz.h	<_di			; Reset 1st row to draw.
  442                        	
  443    1E:CEDD  20 CD CF   			jsr	bat_col_strip		; Draw btm of vertical strip.
  444                        	
  445    1E:CEE0  A9 05      	.done:		lda	#VDC_CR			; Set VDC auto-increment to 1.
  446    1E:CEE2  95 F7      			sta	<vdc_reg, x
  447    1E:CEE4  9D 00 02   			sta	VDC_AR, x
  448    1E:CEE7  9E 03 02   			stz	VDC_DH, x
  449                        	
  450    1E:CEEA  60         			rts
  451                        	
  452                        	
  453                        	
  454                        	; ***************************************************************************
  455                        	; ***************************************************************************
  456                        	;
  457                        	; bat_scroll_y - Update the BAT when Y coordinate changes.
  458                        	;
  459                        	; N.B. This draws multiple rows when called from _draw_bat or _blit_bat.
  460                        	;
  461                        	
  462    1E:CEEB  60         	!no_change:	rts
  463                        	
  464    1E:CEEC  A5 FE      	bat_scroll_y:	lda	<map_chr_y		; Compare old_y with cur_y.
  465    1E:CEEE  DD E2 2B   			cmp	vdc_old_chr_y, x
  466    1E:CEF1  F0 F8      			beq	!no_change-		; Do nothing if no change.
  467    1E:CEF3  9D E2 2B   			sta	vdc_old_chr_y, x
  468    1E:CEF6  30 05      			bmi	.moved			; Test the sign of the change.
  469                        	
  470    1E:CEF8  18         			clc				; Draw bottom if chr_y >= old_y.
  471    1E:CEF9  7D AB 26   			adc	vdc_map_draw_h, x	; Usually (SCR_HEIGHT / 8) + 1.
  472    1E:CEFC  3A         			dec	a
  473                        	
  474    1E:CEFD  A8         	.moved:		tay				; Y = chr_y in map section.
  475                        	
  476    1E:CEFE  3C B2 26   			bit	vdc_map_option, x	; Set bit6 to disable aligning
  477    1E:CF01  70 05      			bvs	!+			; BAT Y with the map Y.
  478    1E:CF03  3D A8 26   			and	vdc_bat_y_mask, x
  479    1E:CF06  85 F9      			sta	<map_bat_y		; Save BAT Y chr coordinate.
  480                        	
  481    1E:CF08  3C B2 26   	!:		bit	vdc_map_option, x	; Set bit7 to disable aligning
  482    1E:CF0B  30 07      			bmi	!+			; BAT X with the map X.
  483    1E:CF0D  A5 FC      			lda	<map_chr_x
  484    1E:CF0F  3D A7 26   			and	vdc_bat_x_mask, x
  485    1E:CF12  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
  486                        	
  487               0000     		.if	FAST_MULTIPLY
  490                        		.endif
  491                        	
  492    1E:CF14  BD AC 26   	!:		lda	vdc_map_line_w, x	; Map width in CHR (0 == 256).
  493    1E:CF17  D0 05      			bne	!+
  494                        	
  495    1E:CF19  64 EE      			stz.l	<map_line		; Multiply by 256 is easy!
  496    1E:CF1B  98         			tya
  497    1E:CF1C  80 15      			bra	.double
  498                        	
  499               0000     		.if	FAST_MULTIPLY
  511                        		.else
  512    1E:CF1E  84 EF      	!:		sty.h	<map_line		; Takes 144..176 cycles.
  513    1E:CF20  A0 08      			ldy	#8
  514    1E:CF22  4A         			lsr	a
  515    1E:CF23  85 EE      			sta.l	<map_line
  516    1E:CF25  62         			cla
  517    1E:CF26  90 03      			bcc	.rotate
  518    1E:CF28  18         	.add:		clc
  519    1E:CF29  65 EF      			adc.h	<map_line
  520    1E:CF2B  6A         	.rotate:	ror	a
  521    1E:CF2C  66 EE      			ror.l	<map_line		; Lo-byte of (CHR Y * width).
  522    1E:CF2E  88         			dey
  523    1E:CF2F  B0 F7      			bcs	.add
  524    1E:CF31  D0 F8      			bne	.rotate
  525                        		.endif
  526                        	
  527    1E:CF33  06 EE      	.double:	asl.l	<map_line		; Lo-byte of (CHR Y * width * 2).
  528    1E:CF35  2A         			rol	a
  529    1E:CF36  85 EF      			sta.h	<map_line		; Hi-byte of (CHR Y * width * 2).
  530    1E:CF38  A8         			tay
  531                        	
  532    1E:CF39  BD EB 2B   			lda	vdc_map_bank, x		; Put the MAP into MPR3-MPR5.
  533    1E:CF3C  53 08      			tam3				; Allow for 16KByte chrmap.
  534    1E:CF3E  1A         			inc	a
  535    1E:CF3F  53 10      			tam4
  536    1E:CF41  1A         			inc	a
  537    1E:CF42  53 20      			tam5
  538                        	
  539                        			; Loop to here if drawing multiple rows.
  540                        	
  541    1E:CF44  A5 FC      	.next_row:	lda	<map_chr_x		; Map CHR X coordinate.
  542    1E:CF46  0A         			asl	a			; 2-bytes for a BAT value!
  543    1E:CF47  90 02      			bcc	!+
  544    1E:CF49  C8         			iny				; Hi-byte of (CHR Y * width * 2).
  545    1E:CF4A  18         			clc
  546    1E:CF4B  65 EE      	!:		adc.l	<map_line		; Lo-byte of (CHR Y * width * 2).
  547    1E:CF4D  90 01      			bcc	!+
  548    1E:CF4F  C8         			iny
  549    1E:CF50  18         	!:		clc				; Calc map data pointer.
  550    1E:CF51  7D E9 2B   			adc.l	vdc_map_addr, x
  551    1E:CF54  85 EC      			sta.l	<_bp			; Maximum map size is 16KBytes
  552    1E:CF56  98         			tya				; so we don't need to consider
  553    1E:CF57  7D EA 2B   			adc.h	vdc_map_addr, x		; bank overflow.
  554    1E:CF5A  85 ED      			sta.h	<_bp
  555                        	
  556                        			; Draw the first part of the row.
  557                        	
  558    1E:CF5C  A5 F9      	.draw_row:	lda	<map_bat_y		; Set the BAT VRAM destination
  559    1E:CF5E  85 F1      			sta.h	<_di			; coordinates.
  560    1E:CF60  A5 F8      			lda	<map_bat_x
  561    1E:CF62  85 F0      			sta.l	<_di
  562                        	
  563    1E:CF64  5D A7 26   			eor	vdc_bat_x_mask, x	; Calc CHR before wrap.
  564    1E:CF67  1A         			inc	a
  565    1E:CF68  C5 FA      			cmp	<map_draw_w		; Usually (SCR_WIDTH / 8) + 1.
  566    1E:CF6A  90 02      			bcc	!+
  567    1E:CF6C  A5 FA      			lda	<map_draw_w		; Maximum CHR to draw.
  568    1E:CF6E  85 00      	!:		sta	<map_count		; Set number of CHR to draw.
  569    1E:CF70  85 01      			sta	<map_drawn		; Preserve number of CHR drawn.
  570                        	
  571    1E:CF72  20 AC CF   			jsr	bat_row_strip		; Draw lhs of horizontal strip.
  572                        	
  573                        			; Wrap around and draw the rest of the row (if needed).
  574                        	
  575    1E:CF75  38         			sec				; Are there any more CHR that
  576    1E:CF76  A5 FA      			lda	<map_draw_w		; need to be drawn?
  577    1E:CF78  E5 01      			sbc	<map_drawn
  578    1E:CF7A  F0 0B      			beq	.done_row
  579                        	
  580    1E:CF7C  85 00      			sta	<map_count		; Set number of CHR to draw.
  581                        	
  582    1E:CF7E  A5 F9      			lda	<map_bat_y		; Set the BAT VRAM destination
  583    1E:CF80  85 F1      			sta.h	<_di			; coordinates.
  584    1E:CF82  64 F0      			stz.l	<_di			; Reset 1st column to draw.
  585                        	
  586    1E:CF84  20 AC CF   			jsr	bat_row_strip		; Draw rhs of horizontal strip.
  587                        	
  588    1E:CF87  C6 FB      	.done_row:	dec	<map_draw_h		; Are all desired rows drawn?
  589    1E:CF89  F0 20      			beq	.finished
  590                        	
  591    1E:CF8B  A5 F9      			lda	<map_bat_y		; Move BAT Y down by 1.
  592    1E:CF8D  1A         			inc	a
  593    1E:CF8E  3D A8 26   			and	vdc_bat_y_mask, x
  594    1E:CF91  85 F9      			sta	<map_bat_y
  595                        	
  596    1E:CF93  A4 EF      			ldy.h	<map_line		; Move the map line pointer to
  597    1E:CF95  C8         			iny				; the next line.
  598    1E:CF96  BD AC 26   			lda	vdc_map_line_w, x
  599    1E:CF99  F0 0B      			beq	!++			; vdc_map_line_w == 0 == 256.
  600    1E:CF9B  0A         			asl	a			; 2-bytes for a BAT value!
  601    1E:CF9C  B0 01      			bcs	!+
  602    1E:CF9E  88         			dey				; Fix if vdc_map_line_w <= 127.
  603    1E:CF9F  18         	!:		clc
  604    1E:CFA0  65 EE      			adc.l	<map_line
  605    1E:CFA2  85 EE      			sta.l	<map_line
  606    1E:CFA4  90 01      			bcc	!++
  607    1E:CFA6  C8         	!:		iny
  608    1E:CFA7  84 EF      	!:		sty.h	<map_line		; Needed for .next_row!
  609                        	
  610    1E:CFA9  80 99      			bra	.next_row		; Draw next row.
  611                        	
  612    1E:CFAB  60         	.finished:	rts
  613                        	
  614                        	
  615                        	
  616                        	; ***************************************************************************
  617                        	; ***************************************************************************
  618                        	;
  619                        	; bat_row_strip - Draw a single row of CHR into the BAT.
  620                        	;
  621                        	
  622    1E:CFAC  20 34 E4   	bat_row_strip:	jsr	set_di_xy_mawr		; Set the BAT VRAM destination.
  623                        	
  624    1E:CFAF  C2         			cly				; 2
  625    1E:CFB0  B1 EC      	.repeat:	lda	[_bp], y		; 7
  626    1E:CFB2  9D 02 02   			sta	VDC_DL, x		; 6
  627    1E:CFB5  C8         			iny				; 2
  628    1E:CFB6  B1 EC      			lda	[_bp], y		; 7
  629               0000     		.if	CHRMAP_BAT_FLAG
  634                        		.endif
  635    1E:CFB8  9D 03 02   			sta	VDC_DH, x		; 6
  636    1E:CFBB  C8         			iny				; 2
  637                        	
  638    1E:CFBC  C6 00      	!:		dec	<map_count		; 6
  639    1E:CFBE  D0 F0      			bne	.repeat			; 4
  640                        	
  641    1E:CFC0  98         			tya				; 2
  642    1E:CFC1  F0 07      			beq	!+			; 2/4
  643    1E:CFC3  18         			clc				; 2
  644    1E:CFC4  65 EC      			adc.l	<_bp			; 4
  645    1E:CFC6  85 EC      			sta.l	<_bp			; 4
  646    1E:CFC8  90 02      			bcc	.done			; 2/4
  647    1E:CFCA  E6 ED      	!:		inc.h	<_bp			; 6
  648                        	
  649    1E:CFCC  60         	.done:		rts
  650                        	
  651                        	
  652                        	
  653                        	; ***************************************************************************
  654                        	; ***************************************************************************
  655                        	;
  656                        	; bat_col_strip - Draw a single column of CHR into the BAT.
  657                        	;
  658                        	
  659    1E:CFCD  20 34 E4   	bat_col_strip:	jsr	set_di_xy_mawr		; Set the BAT VRAM destination.
  660                        	
  661    1E:CFD0  A0 01      			ldy	#1			; 2
  662    1E:CFD2  B2 EC      	.repeat:	lda	[_bp]			; 7
  663    1E:CFD4  9D 02 02   			sta	VDC_DL, x		; 6
  664    1E:CFD7  B1 EC      			lda	[_bp], y		; 7
  665               0000     		.if	CHRMAP_BAT_FLAG
  670                        		.endif
  671    1E:CFD9  9D 03 02   			sta	VDC_DH, x		; 6
  672                        	
  673    1E:CFDC  18         			clc				; 2
  674    1E:CFDD  A5 EE      			lda.l	<map_line		; 4
  675    1E:CFDF  65 EC      			adc.l	<_bp			; 4
  676    1E:CFE1  85 EC      			sta.l	<_bp			; 4
  677    1E:CFE3  A5 EF      			lda.h	<map_line		; 4
  678    1E:CFE5  65 ED      			adc.h	<_bp			; 4
  679    1E:CFE7  85 ED      			sta.h	<_bp			; 4
  680                        	
  681    1E:CFE9  C6 00      			dec	<map_count		; 6
  682    1E:CFEB  D0 E5      			bne	.repeat			; 4
  683                        	
  684    1E:CFED  60         			rts
  685                        	
  686                        		.endprocgroup	; chrmap_group
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   88                        		.endif	HUCC_USES_CHRMAP
   89                        	
   90               0001     		.ifdef	HUCC_USES_OLD_LINE		; Set in hucc_old_line.h
                             #[3]   "..\..\..\include\hucc\hucc-old-line.asm"
   91                        			include	"hucc-old-line.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-old-line.asm
    5                        	;
    6                        	; Based on the original HuC and MagicKit functions by David Michel and the
    7                        	; other original HuC developers.
    8                        	;
    9                        	; Modifications copyright John Brandwood 2024-2025.
   10                        	;
   11                        	; Distributed under the Boost Software License, Version 1.0.
   12                        	; (See accompanying file LICENSE_1_0.txt or copy at
   13                        	;  http://www.boost.org/LICENSE_1_0.txt)
   14                        	;
   15                        	; ***************************************************************************
   16                        	; ***************************************************************************
   17                        	
   18                        	
   19                        	
   20                        	; ***************************************************************************
   21                        	; ***************************************************************************
   22                        	;
   23                        	; void __fastcall gfx_init( unsigned int start_vram_addr<_ax> );
   24                        	;
   25                        	; initialize graphics mode
   26                        	; - points graphics map to tiles at start_vram_addr
   27                        	
   28                        	_gfx_init.1	.proc
   73                        			.endp
   74                        	
   75                        	
   76                        	
   77                        	; ***************************************************************************
   78                        	; ***************************************************************************
   79                        	;
   80                        	; void __fastcall gfx_clear( unsigned int start_vram_addr<_di> );
   81                        	;
   82                        	; Clear the values in the graphics tiles
   83                        	; - places zeroes in graphics tiles at start_vram_addr
   84                        	
   85                        	_gfx_clear.1	.proc
  105                        			.endp
  106                        	
  107                        	
  108                        	
  109                        	; ***************************************************************************
  110                        	; ***************************************************************************
  111                        	;
  112                        	; void __fastcall gfx_line( unsigned int x1<_gfx_x1>, unsigned int y1<_gfx_y1>, unsigned int x2<_gfx_x2>, unsigned int y2<_gfx_y2>, unsigned char color<_gfx_color> );
  113                        	
  114                        	huc_gfx_line	.procgroup
  459                        			.endprocgroup	; huc_gfx_line
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   92                        		.endif
   93                        	
   94               0000     		.ifdef	HUCC_USES_ZX0			; Set in hucc_zx0.h
   96                        		.endif
   97                        	
   98                        	
   99                        	
  100                        	; ***************************************************************************
  101                        	; ***************************************************************************
  102                        	;
  103                        	; Check that C "__zp" declarations aren't overwriting System Card variables.
  104                        	;
  105                        	
  106               20A0     			.zp
  107               0000     		.if	(* > zpg_sys_top) || (USING_PSGDRIVER && (* > zpg_psg_top))
  109                        		.endif
  110                        	
  111                        	
  112                        	
  113                        	; ***************************************************************************
  114                        	; ***************************************************************************
  115                        	;
  116                        	; Check that there isn't too much C "const" data in the ".RODATA" section.
  117                        	;
  118                        	
  119               62A8     			.rodata
  120               0000     		.if	(bank(*) - _bank_base) >= (CONST_BANK + 2)
  122                        		.endif
  123               E937     			.code
                             #[1]   "main.s"

PROCEDURE LIST (in order of size):

Size: $19AA, Addr: $01:C2A8,      .proc _update_PLAYER
Size: $0FC9, Addr: $1D:CB40,      .proc _sequence_INTRO
Size: $0A61, Addr: $02:C000,      .proc _joypad_DIR
Size: $08B2, Addr: $02:CA61,      .proc _update_WEAPON
Size: $086D, Addr: $02:D313, .procgroup blkmap_group
Size: $0580, Addr: $1E:C000,      .proc _joypad_BUTTONS_SHOP
Size: $0518, Addr: $1E:C580,      .proc _init_LEVEL
Size: $0414, Addr: $02:DB80,      .proc _init_SHOP
Size: $0390, Addr: $01:DC52,      .proc huc_monofont_x
Size: $02F9, Addr: $1D:DB09,      .proc _init_HUD
Size: $02C4, Addr: $1E:CA98,      .proc _load_OBJECT_TILES
Size: $0292, Addr: $1E:CD5C, .procgroup chrmap_group
Size: $0268, Addr: $1E:CFEE,      .proc _joypad_BUTTONS
Size: $024D, Addr: $1E:D256,      .proc _joypad_BUTTONS_TITLE
Size: $0226, Addr: $1E:D4A3,      .proc _init_INTRO
Size: $021B, Addr: $1E:D6C9,      .proc _main
Size: $0184, Addr: $1D:DE02,      .proc _check_OBJECT
Size: $016F, Addr: $1E:D8E4,      .proc _init_TITLE
Size: $0167, Addr: $1E:DA53,      .proc _scroll_object
Size: $0167, Addr: $1E:DBBA,      .proc _scroll_chest
Size: $0167, Addr: $1E:DD21,      .proc _scroll_npc
Size: $013E, Addr: $1E:DE88,      .proc _check_NPC
Size: $013E, Addr: $1F:C000,      .proc _init_OBJECT_LV1
Size: $0108, Addr: $1F:C13E,      .proc read_joypads
Size: $0107, Addr: $1F:C246,      .proc _recenter_CAMERA
Size: $00DF, Addr: $1F:C34D, .procgroup vdc_set_mode
Size: $00D5, Addr: $1F:C42C,      .proc _init_NPC_LV1
Size: $00C8, Addr: $1F:C501,      .proc _init_CHEST_LV1
Size: $00BF, Addr: $1F:C5C9, .procgroup vdc_tty_out
Size: $00A5, Addr: $1F:C688,      .proc _display_TIME_SHOP
Size: $009D, Addr: $1F:C72D,      .proc _display_TIME_LEVEL
Size: $009B, Addr: $1F:C7CA,      .proc cross_fade_to
Size: $0086, Addr: $1F:C865,      .proc _scroll_split.5
Size: $0086, Addr: $1F:C8EB,      .proc _sgx_scroll_split.5
Size: $0081, Addr: $1F:C971,      .proc vbl_init_scroll
Size: $007A, Addr: $1D:DF86,      .proc _check_TILE_DEPTH
Size: $0077, Addr: $1F:C9F2,      .proc core_main
Size: $006A, Addr: $02:DF94, .procgroup load_vram_group
Size: $0064, Addr: $1F:CA69,      .proc _check_BG
Size: $0062, Addr: $1F:CACD,      .proc _init_256x224
Size: $004E, Addr: $1F:CB2F, .procgroup old_satb_group
Size: $004B, Addr: $1F:CB7D,      .proc _init_VARIABLES
Size: $004B, Addr: $1F:CBC8, .procgroup hucc_memcmp
Size: $0046, Addr: $1F:CC13,      .proc read_palettes
Size: $0043, Addr: $1F:CC59, .procgroup vdc_clear_vram
Size: $0043, Addr: $1F:CC9C,      .proc sgx_detect
Size: $0042, Addr: $1F:CCDF,      .proc _init_PLAYER
Size: $003F, Addr: $1F:CD21, .procgroup load_bat_group
Size: $003E, Addr: $1F:CD60,      .proc _vram2vram.3
Size: $003B, Addr: $1F:CD9E,      .proc init_random
Size: $0038, Addr: $1E:DFC6,      .proc _joypad_BUTTONS_INTRO
Size: $002E, Addr: $1F:CDD9,      .proc _scroll_BG
Size: $002B, Addr: $1F:CE07,      .proc _load_palette.3
Size: $0026, Addr: $1F:CE32,      .proc _load_CHEST_TILES
Size: $0026, Addr: $1F:CE58,      .proc _load_NPC_TILES
Size: $0023, Addr: $1F:CE7E,      .proc _hide_LEVEL_SPRITES
Size: $001D, Addr: $01:DFE2,      .proc _init_SYSTEM
Size: $001C, Addr: $0D:DFE0,      .proc _display_SCORE
Size: $001C, Addr: $1F:CEA1,      .proc _display_ZENNY
Size: $001C, Addr: $1F:CEBD,      .proc clear_vce
Size: $001A, Addr: $1F:CED9,      .proc _display_KEY
Size: $001A, Addr: $1F:CEF3,      .proc _display_POTION
Size: $0018, Addr: $1F:CF0D,      .proc _display_LIFE
