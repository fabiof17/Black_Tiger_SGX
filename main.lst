                             #[1]   "main.s"
   27                        	
   28               0010     	CORE_VERSION	=	$10			; Version 1.0
   29                        	
   30                        			; Get the user program's configuration settings, this will
   31                        			; be read from the current directory, if it exists, or the
   32                        			; "../include/" directory if not.
   33                        	
                             #[4]   "..\..\..\include\hucc\core-config.inc"
   34                        			include	"core-config.inc"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; core-config.inc
    5                        	;
    6                        	; Configuration settings for the "CORE(not TM)" PC Engine library code.
    7                        	;
    8                        	; Copyright John Brandwood 2021-2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; The idea is that you, a PCE developer, copy this file from the ../include/
   18                        	; directory and into your project's directory, and then customize the values
   19                        	; to suit your particular project.
   20                        	;
   21                        	; Because PCEAS searches the current (i.e. project) directory for an include
   22                        	; file first, then it will find your customized copy of the file rather than
   23                        	; the original copy in the ../include/ directory.
   24                        	;
   25                        	; That means that all of the different overlay programs in your project will
   26                        	; share the same overall library configuration for your game.
   27                        	;
   28                        	; ***************************************************************************
   29                        	; ***************************************************************************
   30                        	
   31                        	;
   32                        	; Are we going to take over MPR7?
   33                        	;
   34                        	; While this is the default for the "CORE(not TM)" library, it is definitely
   35                        	; possible to use the library to build CD-ROM code that runs with the System
   36                        	; Card in MPR7, and with the 1st bank remaining in MPR2.
   37                        	;
   38                        	; N.B. The CD-ROM Stage1 loader runs the library with USING_MPR7=0 while it
   39                        	;      installs the kernel into PCE RAM in MPR1.
   40                        	;
   41                        	
   42               0000     		.ifndef	USING_MPR7
   44                        		.endif
   45                        	
   46                        	;
   47                        	; Are we building a CD-ROM overlay that uses an already-built CD-ROM Stage1
   48                        	; loader to install the library's kernel code into PCE RAM in MPR1?
   49                        	;
   50                        	; If this is set, the library's kernel code will be excluded from the build,
   51                        	; which will save about 1KB-3KB of code space in every overlay program!
   52                        	;
   53                        	; N.B. The CD-ROM Stage1 loader sets USING_STAGE1=0 so it builds correctly.
   54                        	;
   55                        	
   56               0000     		.ifndef	USING_STAGE1
   58                        		.endif
   59                        	
   60                        	;
   61                        	; Are we currently building the CD-ROM Stage1 loader?
   62                        	;
   63                        	; If this is set, the library's startup code does not call the __sound_init
   64                        	; macro because the sound driver code is not usually a part of the kernel.
   65                        	;
   66                        	; N.B. The CD-ROM Stage1 loader sets BUILDING_STAGE1=1 so it builds correctly.
   67                        	;
   68                        	
   69               0000     		.ifndef	BUILDING_STAGE1
   71                        		.endif
   72                        	
   73                        	;
   74                        	; Is the last track of the CD a duplicate of the main ISO data track?
   75                        	;
   76                        	; Most CD games put two copies of the same ISO track on the CD, so that data
   77                        	; can be read from the secondary track if the drive has a problem reading it
   78                        	; it from the primary location.
   79                        	;
   80                        	; If set, the secondary track will be enabled when the library first starts.
   81                        	;
   82                        	
   83               0000     		.ifndef	SUPPORT_2ISO
   85                        		.endif
   86                        	
   87                        	;
   88                        	; Maximum number of directory entries to use from the ISO.
   89                        	;
   90                        	; The fewer that we choose, the less RAM memory we need. A setting of 64 is
   91                        	; a good compromise to use until you are putting lots of files on the ISO.
   92                        	;
   93                        	
   94               0000     		.ifndef	MAX_DIRSIZE
   96                        		.endif
   97                        	
   98                        	;
   99                        	; Use the System Card's PSG driver code instead of a modern alternative
  100                        	; sound driver like a DefleMask or Furnace player?
  101                        	;
  102                        	
  103               0000     		.ifndef	USING_PSGDRIVER
  105                        		.endif
  106                        	
  107                        	;
  108                        	; Support development for the Turbo EverDrive v2?
  109                        	;
  110                        	; This only applies to HuCard programs, but when chosen, the "CORE(not TM)"
  111                        	; kernel is moved from bank 0 to bank 2, and a minimal set of startup code
  112                        	; is put in bank 0.
  113                        	;
  114                        	; This is because the TED2 hardware occupies the whole of bank 0 when it is
  115                        	; activated, and so we need to run with a different bank in MPR7.
  116                        	;
  117                        	
  118               0000     		.ifndef	SUPPORT_TED2
  120                        		.endif
  121                        	
  122                        	;
  123                        	; Support development for the SuperGRAFX?
  124                        	;
  125                        	; This enables SuperGRAFX support in certain library functions.
  126                        	;
  127                        	
  128               0000     		.ifndef	SUPPORT_SGX
  130                        		.endif
  131                        	
  132                        	;
  133                        	; Choose SuperGRAFX VPC initialization mode.
  134                        	;
  135                        	; SGX_PARALLAX=0 (useful when VDC #1 is a fullscreen HUD)
  136                        	;
  137                        	;  FRONT
  138                        	;   SP1 = VDC #1 (pce) sprite pixels
  139                        	;   BG1 = VDC #1 (pce) background pixels
  140                        	;   SP2 = VDC #2 (sgx) sprite pixels
  141                        	;   BG2 = VDC #2 (sgx) background pixels
  142                        	;  BACK
  143                        	;
  144                        	; SGX_PARALLAX=1
  145                        	;
  146                        	;  FRONT
  147                        	;   SP1 = VDC #1 (pce) sprite pixels
  148                        	;   SP2 = VDC #2 (sgx) sprite pixels
  149                        	;   BG1 = VDC #1 (pce) background pixels
  150                        	;   BG2 = VDC #2 (sgx) background pixels
  151                        	;  BACK
  152                        	;
  153                        	
  154               0000     		.ifndef	SGX_PARALLAX
  156                        		.endif
  157                        	
  158                        	;
  159                        	; Support development for the ArcadeCard?
  160                        	;
  161                        	; This enables ArcadeCard support in certain library functions.
  162                        	;
  163                        	
  164               0000     		.ifndef	SUPPORT_ACD
  166                        		.endif
  167                        	
  168                        	;
  169                        	; Support development for the IFU's ADPCM hardware?
  170                        	;
  171                        	; Developers would normally just use the System Card functions for ADPCM, but
  172                        	; enabling this adds alternative functions, and allows ADPCM use on a HuCARD.
  173                        	;
  174                        	
  175               0000     		.ifndef	SUPPORT_ADPCM
  177                        		.endif
  178                        	
  179                        	;
  180                        	; Select which version of the joystick library code to include, only one of
  181                        	; these can be set to '1' ...
  182                        	;
  183                        	; SUPPORT_2BUTTON : Only returns buttons I and II.
  184                        	; SUPPORT_6BUTTON : Read buttons III-VI, but ignore a mouse.
  185                        	; SUPPORT_MOUSE	  : Read mouse, but ignore buttons III-VI.
  186                        	;
  187                        	; It doesn't make sense to design a game the relies on both the 6-button and
  188                        	; the mouse, so the joystick library is optimized for one or the other.
  189                        	;
  190                        	; Note that both those devices are always detected and no conflicts occur,
  191                        	; this just controls reading either buttons III-VI or the Mouse Y-movement.
  192                        	;
  193                        	
  194               0000     		.ifndef	SUPPORT_6BUTTON
  200                        		.endif
  201                        	
  202                        	;
  203                        	; How many joypad/mouse devices should be supported?
  204                        	;
  205                        	; This is normally 5, but can be set to 3 (or lower) in order to speed up
  206                        	; the processing and free up CPU time for other code, which is especially
  207                        	; useful for mouse games.
  208                        	;
  209                        	
  210               0000     		.ifndef	MAX_PADS
  212                        		.endif
  213                        	
  214                        	;
  215                        	; Implement a HuC-compatible seperate array for accumulating joypad presses?
  216                        	;
  217                        	; This is only really needed if your game is not expected to run at 60Hz and
  218                        	; so you will sometimes miss joypad presses.
  219                        	;
  220                        	; Alternatively you can set ACCUMULATE_JOY so that joypad presses are always
  221                        	; accumulated in the normal joytrg array, which is how asm programmers would
  222                        	; normally deal with this situation.
  223                        	;
  224                        	
  225               0000     		.ifndef HUC_JOY_EVENTS
  227                        		.endif
  228                        	
  229                        	;
  230                        	; Should "joytrg" accumulate presses, and so need to be explicitely cleared
  231                        	; after reading, or should it just be the result of the last read?
  232                        	;
  233                        	; This option has no effect if HUC_JOY_EVENTS is non-zero since that option
  234                        	; takes precedence over this one!
  235                        	;
  236                        	
  237               0000     		.ifndef ACCUMULATE_JOY
  239                        		.endif
  240                        	
  241                        	;
  242                        	; The DATA_BANK location needs to be set as early as possible so that library
  243                        	; code is able to put data in there before the total overall size of the code
  244                        	; is known.
  245                        	;
  246                        	; By default, DATA_BANK is the next bank after the CORE_BANK.
  247                        	;
  248                        	; RESERVE_BANKS allows developers to reserve some banks between the CORE_BANK
  249                        	; and the DATA_BANK that they can use however they wish.
  250                        	;
  251                        	; One use for RESERVE_BANKS is to create empty space that PCEAS can use when
  252                        	; it relocates procedures. This provides a way for a developer to group code
  253                        	; together at the start of memory, and leave the maximum number of banks for
  254                        	; loading dynamic data from CD-ROM.
  255                        	;
  256                        	; The KickC environment sets RESERVE_BANKS=1 (or higher) so that there is a
  257                        	; a bank for the permanent C code and static constants.
  258                        	;
  259                        	
  260               0000     		.ifndef	RESERVE_BANKS
  266                        		.endif	RESERVE_BANKS
                             #[3]   "..\..\..\include\hucc\core.inc"
   35                        	
   36                        	;
   37                        	; This is a simple macro to call System Card functions when using MPR7 for
   38                        	; running the "CORE(not TM)" PC Engine library code.
   39                        	;
   40                        	
   41                        	system		.macro
   42                        			ldy     #<\1
   43                        			jsr	call_bios
   44                        			.endm
   45                        	
   46                        	;
   47                        	; This replaces the System Card's ex_setvec, because "call_bios" uses the
   48                        	; Y register.
   49                        	;
   50                        	
   51                        	setvec		.macro
   52                        			php
   53                        			sei
   54                        			lda.l	#\2
   55                        			sta.l	\1
   56                        			lda.h	#\2
   57                        			sta.h	\1
   58                        			plp
   59                        			.endm
   60                        	
   61                        	;
   62                        	; Repurpose this System Card variable, since nmi_hook is never used.
   63                        	;
   64                        	; We'll use it as a vector to a user-supplied sound driver instead.
   65                        	;
   66                        	
   67               2206     	sound_hook	=	nmi_hook		; Sound Driver to run in VBL.
   68                        	
   69                        	;
   70                        	; CORE Zero-Page variables, relative to the System Card's ZP variables.
   71                        	;
   72                        	
   73               0000     		.if	USING_PSGDRIVER
   75                        		.else
   76               20EC     	core_zpend	=	$F8:20EC
   77                        		.endif	USING_PSGDRIVER
   78                        	
   79               0001     		.if	SUPPORT_SGX
   80                        	
   81                        			; Put some "CORE(not TM)" variables at the start of Zero Page.
   82                        			;
   83                        			; These are at the *start* of ZP so that the SuperGrafx shadow
   84                        			; "sgx_" registers are at a specific offset from their System
   85                        			; Card "vdc_" counterparts, and they MUST NOT be moved!
   86                        			;
   87                        			; This allows us to put SGX_VDC_OFFSET or PCE_VDC_OFFSET into
   88                        			; the X register, and then index into either set of hardware
   89                        			; registers and the "sgx_reg" or "vdc_reg" shadow-variables.
   90                        	
   91               0000     	PCE_VDC_OFFSET	=	$00		; Offset to PCE VDC chip & shadow vars.
   92               0010     	SGX_VDC_OFFSET	=	$10		; Offset to SGX VDC chip & shadow vars.
   93                        	
   94               2000     			.zp
   95               2000     			.org	$2000
   96    F8:2000             	__temp		ds	2		; $F8:2000 Use within any ASM routine.
   97    F8:2002             	_bp_bank	ds	1		; $F8:2002 Use within any ASM/HuCC routine.
   98    F8:2003             	sgx_crl		ds	1		; $F8:2003 SGX shadow (vdc_crl = $20F3).
   99    F8:2004             	sgx_crh		ds	1		; $F8:2004 SGX shadow (vdc_crh = $20F4).
  100    F8:2005             	core_1stbank	ds	1		; $F8:2005 1st bank of library code.
  101    F8:2006             	sgx_sr		ds	1		; $F8:2006 SGX shadow (vdc_sr  = $20F6).
  102    F8:2007             	sgx_reg		ds	1		; $F8:2007 SGX shadow (vdc_reg = $20F7).
  103                        	
  104               2008     	core_zp1st	=	*		; $F8:2008 1st free user address.
  105                        	
  106                        		.else	SUPPORT_SGX
  116                        		.endif	SUPPORT_SGX
  117                        	
  118                        	;
  119                        	; The kernel code in RAM follows the System Card's RAM variables.
  120                        	;
  121                        	
  122               0000     		.if	USING_PSGDRIVER
  124                        		.else
  125               22D0     	core_ram1st     =	$F8:22D0
  126                        		.endif	USING_PSGDRIVER
  127                        	
  128                        	;
  129                        	; Include the "CORE(not TM)" startup code to begin the HuCARD / Overlay.
  130                        	;
  131                        	
                             #[4]   "..\..\..\include\hucc\core-startup.asm"
  132                        			include	"core-startup.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; core-startup.asm
    5                        	;
    6                        	; The "CORE(not TM)" PC Engine library startup code that runs at boot/reset.
    7                        	;
    8                        	; Copyright John Brandwood 2021-2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; This is the initialization code in the 1st bank, and it is responsible for
   18                        	; setting up a consistant runtime environment for the developer's program,
   19                        	; so that the developer can concentrate on writing the program itself.
   20                        	;
   21                        	; The idea is that when a program is loaded, the first 40KB of it is mapped
   22                        	; as $4000..$DFFF, and initialization starts at $4000, with the developer's
   23                        	; program getting control after initialization, with a jump to "core_main".
   24                        	;
   25                        	; The initializtion sets up a small kernel of code that provides interrupt
   26                        	; handling that mimics a subset of the System Card's behavior, designed to
   27                        	; act in the same way on HuCARD and CD-ROM, with either the System Card in
   28                        	; MPR7, or with an overlay in MPR7.
   29                        	;
   30                        	; The kernel handles reading the joypad/mouse, and it offers handler hooks
   31                        	; for running the developer's interrupt code.  On CD-ROM systems, it also
   32                        	; handles the loading and running of subsequent overlay programs.
   33                        	;
   34                        	; On HuCARD, the kernel itself runs in MPR7; while on CD-ROM systems it is
   35                        	; run from RAM in MPR1, so that overlay programs are independant from each
   36                        	; other, and can be written in different programming languages.
   37                        	;
   38                        	;
   39                        	; 1) If we're running on a HuCARD, the initialization is simple!
   40                        	;
   41                        	;    The PC Engine's memory map is set to ...
   42                        	;
   43                        	;      MPR0 = bank $FF : PCE hardware
   44                        	;      MPR1 = bank $F8 : PCE RAM with Stack & ZP
   45                        	;      MPR2 = bank $00 : HuCARD ROM
   46                        	;      MPR3 = bank $01 : HuCARD ROM
   47                        	;      MPR4 = bank $02 : HuCARD ROM
   48                        	;      MPR5 = bank $03 : HuCARD ROM
   49                        	;      MPR6 = bank $04 : HuCARD ROM
   50                        	;      MPR7 = bank $00 : HuCARD ROM
   51                        	;
   52                        	;
   53                        	; 2) If we're running on a HuCARD that supports the Turbo Everdrive, then the
   54                        	;    first 2 banks are reserved for mapping the TED2 hardware and a RAM bank.
   55                        	;
   56                        	;    The PC Engine's memory map is set to ...
   57                        	;
   58                        	;      MPR0 = bank $FF : PCE hardware
   59                        	;      MPR1 = bank $F8 : PCE RAM with Stack & ZP
   60                        	;      MPR2 = bank $02 : HuCARD ROM
   61                        	;      MPR3 = bank $03 : HuCARD ROM
   62                        	;      MPR4 = bank $04 : HuCARD ROM
   63                        	;      MPR5 = bank $05 : HuCARD ROM
   64                        	;      MPR6 = bank $06 : HuCARD ROM
   65                        	;      MPR7 = bank $02 : HuCARD ROM
   66                        	;
   67                        	;
   68                        	; 3) If we're running on an old CD System, the overlay is loaded from the ISO
   69                        	;    into banks $80-$87 (64KB max).
   70                        	;
   71                        	;    The PC Engine's memory map is set to ...
   72                        	;
   73                        	;      MPR0 = bank $FF : PCE hardware
   74                        	;      MPR1 = bank $F8 : PCE RAM with Stack & ZP
   75                        	;      MPR2 = bank $80 : CD RAM
   76                        	;      MPR3 = bank $81 : CD RAM
   77                        	;      MPR4 = bank $82 : CD RAM
   78                        	;      MPR5 = bank $83 : CD RAM
   79                        	;      MPR6 = bank $84 : CD RAM
   80                        	;      MPR7 = bank $80 : CD RAM or System Card's bank $00
   81                        	;
   82                        	;
   83                        	; 4) If we're running on a SuperCD System, the overlay is loaded from the ISO
   84                        	;    into banks $68-$87 (256KB max).
   85                        	;
   86                        	;    The PC Engine's memory map is set to ...
   87                        	;
   88                        	;      MPR0 = bank $FF : PCE hardware
   89                        	;      MPR1 = bank $F8 : PCE RAM with Stack & ZP
   90                        	;      MPR2 = bank $68 : SCD RAM
   91                        	;      MPR3 = bank $69 : SCD RAM
   92                        	;      MPR4 = bank $6A : SCD RAM
   93                        	;      MPR5 = bank $6B : SCD RAM
   94                        	;      MPR6 = bank $6C : SCD RAM
   95                        	;      MPR7 = bank $68 : SCD RAM or System Card's bank $00
   96                        	;
   97                        	; ***************************************************************************
   98                        	; ***************************************************************************
   99                        	
  100                        	
  101                        	
  102               E000     			.code
  103               0000     			.bank	0
  104                        	
  105               0000     		.if	SUPPORT_TED2			; Do we want to use a TED2?
  177                        		.endif	SUPPORT_TED2
  178                        	
  179                        	
  180                        	
  181               0001     		.if	USING_MPR7
  182                        	
  183                        	; ***************************************************************************
  184                        	; ***************************************************************************
  185                        	;
  186                        	; RESET VECTORS (when running in MPR7, either as a HuCARD, or a CD overlay)
  187                        	;
  188                        	
  189                        			; Hardware reset and interrupt vectors.
  190                        	
  191               FFF4     			.org	$FFF4
  192                        	
  193    00:FFF4  10         	core_version:	db	CORE_VERSION		; CORE(not TM) Version.
  194    00:FFF5  80         			db	$80			; System Card compatibility.
  195                        	
  196    00:FFF6  5D E0      			dw	core_irq2		; IRQ2	(from CD/ADPCM)
  197    00:FFF8  64 E0      			dw	core_irq1		; IRQ1	(from VDC)
  198    00:FFFA  58 E1      			dw	core_timer		; TIMER (from CPU)
  199    00:FFFC  5E E1      			dw	core_rti		; NMI	(unused)
  200               0000     		.if	CDROM
  202                        		.else
  203    00:FFFE  21 E0      			dw	core_hw_reset		; RESET (HuCARD)
  204                        		.endif	CDROM
  205                        	
  206               0001     		.if	USING_NEWPROC			; If the ".proc" trampolines
  207               FFF3     	__trampolineptr =	$FFF3			; are in MPR7, tell PCEAS to
  208                        		.endif					; put them below the vectors.
  209                        	
  210                        		.else	USING_MPR7
  222                        		.endif	USING_MPR7
  223                        	
  224                        	
  225                        	
  226                        	; ***************************************************************************
  227                        	; ***************************************************************************
  228                        	;
  229                        	; !!! THE HuCARD/OVERLAY PROGRAM'S FIRST BANK STARTS HERE !!!
  230                        	;
  231                        	
  232                        			; Switch to MPR2 for the "CORE(not TM)" library init.
  233                        			;
  234                        			; This is also executed by a HuCARD once it has run
  235                        			; its initial hardware-reset code.
  236                        			;
  237                        			; When run, MPR2-MPR6 are always mapped to the 1st 5 banks of
  238                        			; the overlay program, and MPR7 contains the System Card.
  239                        	
  240               4000     			.org	$4000
  241                        	
  242               0000     	CORE_BANK	=	bank(*) - _bank_base	; It isn't always zero! ;-)
  243                        	
  244               0000     			.bank	CORE_BANK, "CORE_BANK"	; Give it a label.
  245                        	
  246               0001     		.if	USING_MPR7
  247               0007     	CORE_PAGE	=	7			; User code runs in MPR7.
  248                        		.else
  250                        		.endif	USING_MPR7
  251                        	
  252    00:4000  4C 06 40   	core_boot:	jmp	* + 6			; Allow someone to patch this.
  253                        	
  254                        			; Add an ident string so isoLINK can autodetect configuration.
  255                        			;
  256                        			; This allows isoLINK to decide whether to use the IPL-SCD boot
  257                        			; sector hack, and whether to include a SuperGRAFX signature in
  258                        			; the boot sector, without the user having to manually use some
  259                        			; command line parameters, although they are free to do that if
  260                        			; they wish.
  261                        	
  262               0001     		.if	SUPPORT_SGX
  263               0000     		.if	BUILDING_STAGE1
  265                        		.else
  266    00:4003  53 47 58   			db	"SGX"			; SGX SuperCD or SGX HuCARD.
  267                        		.endif	BUILDING_STAGE1
  268                        		.else
  282                        		.endif	SUPPORT_SGX
  283                        	
  284               0000     		.if	CDROM
  331                        		.else	CDROM
  332                        	
  333                        			; Set up HuCARD RAM in a compatible way to the System Card.
  334                        			;
  335                        			; Note that the entire RAM is cleared by "core_hw_reset".
  336                        	
  337    00:4006  A9 1F      			lda	#%11111			; Enable joypad soft-reset.
  338    00:4008  8D 27 22   			sta	joyena
  339                        	
  340                        		.endif	CDROM
  341                        	
  342                        			; Now that RAM is initialized ...
  343                        	
  344    00:400B  43 04      			tma2				; Remember overlay's 1st bank
  345    00:400D  85 05      			sta	<core_1stbank		; $00, $02, $68 or $80!
  346               0001     		.if	USING_MPR7
  347    00:400F  53 80      			tam7				; "CORE(not TM)" takes MPR7!
  348                        		.endif
  349                        	
  350    00:4011  A2 FF      			ldx	#$FF			; Initialize stack pointer.
  351    00:4013  9A         			txs
  352                        	
  353    00:4014  20 5F E1   			jsr	core_clr_hooks		; Reset default hooks.
  354                        	
  355                        	;		stz	TIMER_CR		; Stop HuC6280 timer.
  356                        	;		stz	IRQ_ACK			; Clr HuC6280 timer interrupt.
  357                        	;		stz	IRQ_MSK			; Clr HuC6280 interrupt mask.
  358                        	
  359    00:4017  AD 00 02   			lda	VDC_SR			; Purge any overdue VBL.
  360    00:401A  9C 41 22   			stz	irq_cnt			; Make it easy to check.
  361    00:401D  58         			cli				; Restore interrupts.
  362                        	
  363    00:401E  4C E5 FF   			jmp	core_main		; Start the game's code.
  364                        	
  365                        	
  366                        	
  367               0001     		.if	!CDROM
  368                        	
  369                        	; ***************************************************************************
  370                        	; ***************************************************************************
  371                        	;
  372                        	; HuCARD Kernel Code
  373                        	;
  374                        	; core_ram1st - Start of code to relocate to MPR1.
  375                        	; core_ramend - End of code to relocate to MPR1.
  376                        	;
  377                        	
  378                        			; In a HuCARD, BSS variables start as low as possible.
  379                        	
  380               2200     			.bss
  381               22D0     			.org	core_ram1st
  382               22D0     	core_ramend	=	*
  383               4021     			.code
  384                        	
  385                        			; Normal HuCARD hardware-reset code, executed in MPR7.
  386                        			;
  387                        			; This does the basic PCE startup that every HuCARD (including
  388                        			; a System Card) needs to do, and then it remaps memory to be
  389                        			; compatible with the "CORE(not TM)" CD overlay program start.
  390                        	
  391               E021     			.page	7			; This will run in MPR7.
  392                        	
  393    00:E021  78         	core_hw_reset:	sei				; Disable interrupts.
  394    00:E022  D4         			csh				; Set high-speed mode.
  395    00:E023  D8         			cld
  396                        	
  397    00:E024  A2 FF      			ldx	#$FF			; Initialize stack pointer.
  398    00:E026  9A         			txs
  399    00:E027  8A         			txa				; MPR0 = $FF : PCE hardware
  400    00:E028  53 01      			tam0				; MPR1 = $F8 : PCE RAM
  401    00:E02A  A9 F8      			lda	#$F8
  402    00:E02C  53 02      			tam1
  403                        	
  404    00:E02E  9C 01 0C   			stz	TIMER_CR		; HW reset already does these,
  405    00:E031  9C 03 14   			stz	IRQ_ACK			; but this may be a reset from
  406    00:E034  9C 02 14   			stz	IRQ_MSK			; software (i.e. joypad).
  407                        	
  408    00:E037  F3 53 E0 00			tai	const_0000, $2000, 8192 ; Clear RAM.
         00:E03B  20 00 20    
  409                        	
  410    00:E03E  43 80      			tma7				; Not always bank 0!
  411                        	
  412    00:E040  53 04      			tam2				; Set CD-ROM overlay memory map,
  413    00:E042  1A         			inc	a			; 1st 5 banks in MPR2-MPR6.
  414    00:E043  53 08      			tam3
  415    00:E045  1A         			inc	a
  416    00:E046  53 10      			tam4
  417    00:E048  1A         			inc	a
  418    00:E049  53 20      			tam5
  419    00:E04B  1A         			inc	a
  420    00:E04C  53 40      			tam6
  421                        	
  422    00:E04E  4C 00 40   			jmp	core_boot		; Continue execution in MPR2.
  423                        	
  424                        			; In a HuCARD, the kernel code is permanently in MPR7.
  425                        	
                             #[5]   "..\..\..\include\hucc\core-kernel.asm"
  426                        			include "core-kernel.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; core-kernel.asm
    5                        	;
    6                        	; The "CORE(not TM)" PC Engine library kernel code that runs after startup.
    7                        	;
    8                        	; Copyright John Brandwood 2021-2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; This code is permanently located in either MPR7 (HuCARD), or MPR1 (CD-ROM),
   18                        	; and it provides a consistant method of interrupt-handling on both systems
   19                        	; that is designed to be compatible with the System Card.
   20                        	;
   21                        	; The library uses the "irq1_hook" for its own VDC interrupt handler, and PCE
   22                        	; developers are expected to use "vsync_hook" and "hsync_hook" for their VDC
   23                        	; interrupt functions.  Plenty of memory is available in the 1st bank for the
   24                        	; developer to put those functions.
   25                        	;
   26                        	; The reason for using "irq1_hook", is so that the library can work properly
   27                        	; if either the current overlay program, or the System Card, are mapped into
   28                        	; MPR7 whenever an interrupt occurs.
   29                        	;
   30                        	; The VDC interupt handler itself is changed from the System Card's handler,
   31                        	; and it is designed to provide faster response to vsync_hook, and to enable
   32                        	; interrupts during the slow(ish) joypad and sound driver code, so that both
   33                        	; raster and timer interrupts are not delayed.
   34                        	;
   35                        	; Developers are free to enable interrupts during their own vsync_hook code,
   36                        	; if they wish to do so.
   37                        	;
   38                        	; On CD-ROM systems, this library kernel also provides a function to load and
   39                        	; run a new overlay program, without relying upon any of the code/data within
   40                        	; the current overlay program's memory (unlike HuC v3).
   41                        	;
   42                        	; ***************************************************************************
   43                        	; ***************************************************************************
   44                        	
   45                        	
   46                        	
   47                        	; ***************************************************************************
   48                        	; ***************************************************************************
   49                        	;
   50                        	; core_kernel - Start of kernel code.
   51                        	;
   52                        	
   53               E051     	core_kernel	=	*
   54                        	
   55                        	
   56                        	
   57                        	; ***************************************************************************
   58                        	; ***************************************************************************
   59                        	;
   60                        	; Useful constants, needed by joypad library code, and used by many others.
   61                        	;
   62                        	; The kernel starts with a non-zero byte so that core-startup.asm can check
   63                        	; whether it has already been loaded into RAM.
   64                        	;
   65                        	
   66    00:E051  FF FF      	const_FFFF:	dw	$FFFF			; Useful constant for TAI.
   67    00:E053  00 00      	const_0000:	dw	$0000			; Useful constant for TAI.
   68                        	
   69    00:E055  01 02 04 08	bit_mask:	db	$01,$02,$04,$08,$10,$20,$40,$80
         00:E059  10 20 40 80 
   70                        	
   71                        	
   72                        	
   73                        	; ***************************************************************************
   74                        	; ***************************************************************************
   75                        	;
   76                        	; core_irq2  - Minimal interrupt handler compatible with System Card.
   77                        	; core_irq1  - Minimal interrupt handler compatible with System Card.
   78                        	; core_timer - Minimal interrupt handler compatible with System Card.
   79                        	; core_rti   - Minimal interrupt handler compatible with System Card.
   80                        	;
   81                        	; Note that it takes 8 cycles to respond to an IRQ.
   82                        	;
   83                        	; These routines are copied to a location in RAM that does not vary when
   84                        	; a different overlay program is loaded.
   85                        	;
   86                        	; All overlay programs are set up to vector interrupts to these routines,
   87                        	; which is designed to avoid interrupt-related crashes when loading a new
   88                        	; overlay on top of an old overlay in memory.
   89                        	;
   90                        	; All of the game's actual interrupt handling itself is done in the "hook"
   91                        	; functions so that everything works the same if the System Card is banked
   92                        	; into MPR7 when an interrupt occurs.
   93                        	;
   94                        	; ***************************************************************************
   95                        	; ***************************************************************************
   96                        	;
   97                        	; Bit settings for irq_vec  ...
   98                        	;
   99                        	;   7 : 1 to skip BIOS hsync processsing
  100                        	;   6 : 1 to call [hsync_hook]
  101                        	;   5 : 1 to skip BIOS vsync processsing
  102                        	;   4 : 1 to call [vsync_hook]
  103                        	;
  104                        	;   3 : 1 to jump [nmi_hook]
  105                        	;   2 : 1 to jump [timer_hook]
  106                        	;   1 : 1 to jump [irq1_hook]
  107                        	;   0 : 1 to jump [irq2_hook]
  108                        	;
  109                        	; ***************************************************************************
  110                        	; ***************************************************************************
  111                        	
  112    00:E05D  8F F5 01   	core_irq2:	bbs0	<irq_vec, .hook		; 8 cycles if using hook.
  113                        	
  114               0000     		.if	CDROM
  138                        		.else
  139                        			; Does this HuCARD support the IFU's ADPCM hardware?
  140                        	
  141               0000     		.if	SUPPORT_ADPCM
  153                        		.endif	SUPPORT_ADPCM
  154                        	
  155    00:E060  40         			rti				; No IRQ2 hardware on HuCARD.
  156                        	
  157    00:E061  6C 00 22   	.hook:		jmp	[irq2_hook]		; 7 cycles.
  158                        		.endif	CDROM
  159                        	
  160                        	
  161                        	
  162                        	; ***************************************************************************
  163                        	; ***************************************************************************
  164                        	;
  165                        	; core_irq1 - Minimal interrupt handler compatible with System Card.
  166                        	;
  167                        	; irq1_handler - Basic "CORE(not TM)" IRQ1 handler to use as the "irq1_hook".
  168                        	;
  169                        	; Doing the IRQ1 handler processing in this hook means that things operate
  170                        	; the same whether the System Card or an Overlay is paged into MPR7.
  171                        	
  172               0000     		.ifndef	HUCC
  181                        		.else
  182                        			; Faster IRQ servicing for HuCC and code that would like to
  183                        			; avoid the 8 cycles used by the "bbs1" instruction that is
  184                        			; taken when the System Card is mapped into MPR7.
  185                        	
  186    00:E064             	core_irq1:	;;;				; 8 (cycles for the INT)
  187               0001     		.if	CDROM || !defined(NO_CORE_IRQ1_HOOK)
  188    00:E064  6C 02 22   			jmp	[irq1_hook]		; 7 cycles.
  189                        	
  190                        		.endif
  191                        		.endif
  192                        	
  193    00:E067  48         	irq1_handler:	pha				; 3 Save all registers.
  194    00:E068  DA         			phx				; 3
  195    00:E069  5A         			phy				; 3
  196                        	
  197               0000     		.ifndef	USING_RCR_MACROS		;   This slows things down
  206                        		.endif	USING_RCR_MACROS
  207                        	
  208    00:E06A  AD 00 02   			lda	VDC_SR			; 6 Acknowledge the VDC's IRQ.
  209    00:E06D  85 F6      			sta	<vdc_sr			; 4 Remember what caused it.
  210                        	
  211               0001     		.if	SUPPORT_SGX
  212    00:E06F  AE 10 02   			ldx	SGX_SR			; 6 Read SGX_SR after VDC_SR in
  213    00:E072  86 06      			stx	<sgx_sr			; 4 case this is not an SGX!
  214                        		.endif
  215                        	
  216                        			; Handle the VDC's RCR interrupt.
  217                        	
  218    00:E074  29 04      	!:		and	#$04			; 2 Is this an HSYNC interrupt?
  219    00:E076  F0 44      			beq	!+			; 2
  220                        	
  221               0001     		.ifdef	USING_RCR_MACROS
  222                        			VDC_RCR_MACRO
                             	
         00:E078  03 06      			st0	#VDC_RCR		; 5
                             	
         00:E07A  AE 67 27   			ldx	vdc_next_region		; 5 X and Y can be greater than
         00:E07D  BC 68 27   			ldy	vdc_regionA_nxt, x	; 5 HUCC_PCE_SPLITS if regionB!
         00:E080  18         			clc				; 2
         00:E081  D0 05      			bne	!set_next_rcr+		; 4 Stop RCR if next line is 0.
                             	
         00:E083  2D 53 E0   			and	const_0000		; 5 A=$00 with the same #cycles
         00:E086  80 05      			bra	!clr_next_rcr+		; 4 as if the branch were taken.
                             	
         00:E088  B9 17 27   	!set_next_rcr:	lda	vdc_regionA_rcr, y	; 5 Set next RCR 1 line before
         00:E08B  69 3F      			adc	#64-1			; 2 the region begins, or 0 to
         00:E08D  8D 02 02   	!clr_next_rcr:	sta	VDC_DL			; 6 disable.
         00:E090  62         			cla				; 2
         00:E091  2A         			rol	a			; 2
         00:E092  8D 03 02   			sta	VDC_DH			; 6
                             	
         00:E095  03 08      			st0	#VDC_BYR		; 5 Do BYR first to mitigate the
         00:E097  BD 47 27   			lda	vdc_regionA_yl, x	; 5 glitch if the IRQ is delayed.
         00:E09A  8D 02 02   			sta	VDC_DL			; 6 = 105 cycles from RCR on SGX
         00:E09D  BD 57 27   			lda	vdc_regionA_yh, x	; 5
         00:E0A0  8D 03 02   			sta	VDC_DH			; 6
                             	
         00:E0A3  03 05      			st0	#VDC_CR			; 5
         00:E0A5  BD 07 27   			lda	vdc_regionA_crl, x	; 5
                             	;		asl	a
         00:E0A8  8D 02 02   			sta	VDC_DL			; 6
                             	
         00:E0AB  03 07      			st0	#VDC_BXR		; 2
         00:E0AD  BD 27 27   			lda	vdc_regionA_xl, x	; 5
         00:E0B0  8D 02 02   			sta	VDC_DL			; 6
         00:E0B3  BD 37 27   			lda	vdc_regionA_xh, x	; 5
         00:E0B6  8D 03 02   			sta	VDC_DH			; 6 = 156 cycles from RCR if DUO
                             	
                             	;		bcc	!+
                             	;		lda	vdc_regionA_yh, x	; 5
                             	;		sta.l	VCE_CTW			; 6
                             	
         00:E0B9  8C 67 27   			sty	vdc_next_region		; 5
                             	
  223                        		.else
  225                        		.endif
  226                        	
  227               0001     		.if	SUPPORT_SGX
  228                        	
  229                        			; Handle the SGX's RCR interrupt.
  230                        	
  231    00:E0BC  2F 06 50   	!:		bbr2	<sgx_sr, !+		; 6 Is this an HSYNC interrupt?
  232                        	
  233               0001     		.ifdef	USING_RCR_MACROS
  234                        			SGX_RCR_MACRO
                             	
         00:E0BF  A9 06      			lda	#VDC_RCR		; 2
         00:E0C1  8D 10 02   			sta	SGX_AR			; 6
                             	
         00:E0C4  AE E8 27   			ldx	sgx_next_region		; 5 X and Y can be greater than
         00:E0C7  BC E9 27   			ldy	sgx_regionA_nxt, x	; 5 HUCC_SGX_SPLITS if regionB!
         00:E0CA  18         			clc				; 2
         00:E0CB  D0 05      			bne	!set_next_rcr+		; 4 Stop RCR if next line is 0.
                             	
         00:E0CD  2D 53 E0   			and	const_0000		; 5 A=$00 with the same #cycles
         00:E0D0  80 05      			bra	!clr_next_rcr+		; 4 as if the branch were taken.
                             	
         00:E0D2  B9 98 27   	!set_next_rcr:	lda	sgx_regionA_rcr, y	; 5 Set next RCR 1 line before
         00:E0D5  69 3F      			adc	#64-1			; 2 the region begins, or 0 to
         00:E0D7  8D 12 02   	!clr_next_rcr:	sta	SGX_DL			; 6 disable.
         00:E0DA  62         			cla				; 2
         00:E0DB  2A         			rol	a			; 2
         00:E0DC  8D 13 02   			sta	SGX_DH			; 6
                             	
         00:E0DF  A9 08      			lda	#VDC_BYR		; 2 Do BYR first to mitigate the
         00:E0E1  8D 10 02   			sta	SGX_AR			; 6 glitch if the IRQ is delayed.
         00:E0E4  BD C8 27   			lda	sgx_regionA_yl, x	; 5
         00:E0E7  8D 12 02   			sta	SGX_DL			; 6
         00:E0EA  BD D8 27   			lda	sgx_regionA_yh, x	; 5
         00:E0ED  8D 13 02   			sta	SGX_DH			; 6
                             	
         00:E0F0  A9 05      			lda	#VDC_CR			; 2
         00:E0F2  8D 10 02   			sta	SGX_AR			; 6
         00:E0F5  BD 88 27   			lda	sgx_regionA_crl, x	; 5
         00:E0F8  8D 12 02   			sta	SGX_DL			; 6
                             	
         00:E0FB  A9 07      			lda	#VDC_BXR		; 2
         00:E0FD  8D 10 02   			sta	SGX_AR			; 6
         00:E100  BD A8 27   			lda	sgx_regionA_xl, x	; 5
         00:E103  8D 12 02   			sta	SGX_DL			; 6
         00:E106  BD B8 27   			lda	sgx_regionA_xh, x	; 5
         00:E109  8D 13 02   			sta	SGX_DH			; 6 = 293 cycles (282 if no YH)
                             	
         00:E10C  8C E8 27   			sty	sgx_next_region		; 5
                             	
  235                        		.else
  237                        		.endif
  238                        	
  239                        		.endif	SUPPORT_SGX
  240                        	
  241                        			; Handle the VDC's VBL interrupt.
  242                        	
  243    00:E10F  5F F6 32   	!:		bbr5	<vdc_sr, .exit_irq1	; 6 Is this a VBLANK interrupt?
  244                        	
  245               0001     		.ifdef	USING_RCR_MACROS		;   If we didn't do it earlier
  246               0000     		.if	CDROM				;   then we need to do it now.
  253                        		.endif	CDROM
  254                        		.endif	USING_RCR_MACROS
  255                        	
  256               0001     		.if	SUPPORT_SGX
  257    00:E112  A9 05      			lda	#VDC_CR			; Update the SGX's Control
  258    00:E114  8D 10 02   			sta	SGX_AR			; Register first, just in
  259    00:E117  8D 00 02   			sta	VDC_AR			; case this is not an SGX!
  260    00:E11A  A5 03      			lda	<sgx_crl		
  261    00:E11C  8D 12 02   			sta	SGX_DL
  262    00:E11F  A5 F3      			lda	<vdc_crl
  263    00:E121  8D 02 02   			sta	VDC_DL
  264                        	
  265                        	;		lda	<sgx_crh		; Do not mess with the SGX's
  266                        	;		sta	SGX_DH			; auto-increment!!!
  267                        	;		lda	<vdc_crh		; Do not mess with the VDC's
  268                        	;		sta	VDC_DH			; auto-increment!!!
  269                        		.else
  277                        		.endif	SUPPORT_SGX
  278                        	
  279    00:E124  EE 41 22   			inc	irq_cnt			; Mark that a VBLANK occurred.
  280                        	
  281    00:E127  4F F5 02   			bbr4	<irq_vec, .skip_hookv	; Is a driver registered?
  282                        	
  283    00:E12A  44 26      			bsr	.user_vsync		; Call game's VBLANK code.
  284                        	
  285    00:E12C  DF F5 15   	.skip_hookv:	bbs5	<irq_vec, .exit_vbl	; Should we skip "BIOS" stuff?
  286                        	
  287    00:E12F  58         			cli				; Allow HSYNC and TIMER IRQ.
  288                        	
  289    00:E130  20 DB FF   			call	read_joypads		; Update joypad state.
  290                        	
  291               0000     		.if	USING_PSGDRIVER
  305                        		.else
  306    00:E133  AD 07 22   			lda	sound_hook + 1		; Is a driver registered?
  307    00:E136  F0 0C      			beq	.exit_vbl
  308                        	
  309    00:E138  A9 80      			lda	#$80			; Acquire sound mutex to avoid
  310    00:E13A  0C E7 22   			tsb	sound_mutex		; conflict with a delayed VBL.
  311    00:E13D  30 05      			bmi	.exit_vbl
  312                        	
  313    00:E13F  44 14      			bsr	.user_sound		; Call the driver hook.
  314                        	
  315    00:E141  9C E7 22   			stz	sound_mutex		; Release sound mutex.
  316                        		.endif	USING_PSGDRIVER
  317                        	
  318    00:E144             	.exit_vbl:
  319                        	
  320               0001     		.ifdef	USING_RCR_MACROS		; If USING_RCR_MACROS then 
  321               0000     		.if	CDROM				; restore after the VBLANK.
  326                        		.endif	CDROM
  327                        		.endif	USING_RCR_MACROS
  328                        	
  329    00:E144             	.exit_irq1:
  330                        	
  331               0000     		.ifndef	USING_RCR_MACROS		; If !USING_RCR_MACROS then
  338                        		.endif	USING_RCR_MACROS
  339                        	
  340               0001     		.if	SUPPORT_SGX
  341    00:E144  A5 07      			lda	<sgx_reg		; Restore SGX_AR first, just
  342    00:E146  8D 10 02   			sta	SGX_AR			; in case this is not an SGX!
  343                        		.endif
  344                        	
  345    00:E149  A5 F7      			lda	<vdc_reg		; Restore VDC_AR in case we
  346    00:E14B  8D 00 02   			sta	VDC_AR			; changed it.
  347                        	
  348    00:E14E  7A         			ply				; Restore all registers.
  349    00:E14F  FA         			plx
  350    00:E150  68         			pla
  351                        	
  352    00:E151  40         			rti				; Return from interrupt.
  353                        	
  354    00:E152  6C 08 22   	.user_vsync:	jmp	[vsync_hook]		; 7
  355    00:E155  6C 06 22   	.user_sound:	jmp	[sound_hook]		; 7
  356                        	
  357               0000     		.ifndef	USING_RCR_MACROS
  362                        		.endif	USING_RCR_MACROS
  363                        	
  364                        	
  365                        	
  366                        	; ***************************************************************************
  367                        	; ***************************************************************************
  368                        	;
  369                        	; core_timer - Minimal interrupt handler compatible with System Card.
  370                        	;
  371                        	; tirq_handler - Basic "CORE(not TM)" TIRQ handler to use as the "timer_hook".
  372                        	;
  373                        	; Doing the TIRQ handler processing in this hook means that things operate
  374                        	; the same whether the System Card or an Overlay is paged into MPR7.
  375                        	
  376               0000     		.ifndef	HUCC
  385                        		.else
  386                        			; Faster IRQ servicing for HuCC and code that would like to
  387                        			; avoid the 8 cycles used by the "bbs2" instruction that is
  388                        			; taken when the System Card is mapped into MPR7.
  389                        	
  390    00:E158             	core_timer:	;;;				; 8 (cycles for the INT)
  391               0001     		.if	CDROM || !defined(NO_CORE_TIRQ_HOOK)
  392    00:E158  6C 04 22   			jmp	[timer_hook]		; 7 cycles.
  393                        		.endif
  394                        		.endif
  395                        	
  396    00:E15B             	tirq_handler:
  397               0000     		.ifdef	USING_TIRQ_MACRO
  399                        		.else
  400    00:E15B  9C 03 14   			stz	IRQ_ACK			; 5 Clear timer interrupt.
  401                        		.endif
  402                        	
  403    00:E15E  40         	core_rti:	rti
  404                        	
  405                        	
  406                        	
  407                        	; ***************************************************************************
  408                        	; ***************************************************************************
  409                        	;
  410                        	; core_clr_hooks - Reset default "CORE(not TM)" interrupt-handling hooks.
  411                        	;
  412                        	
  413    00:E15F  08         	core_clr_hooks:	php				; Preserve interrupt state.
  414    00:E160  78         			sei				; Disable interrupts.
  415                        	
  416               0000     		.if	USING_PSGDRIVER
  419                        		.else
  420    00:E161  9C 07 22   			stz.h	sound_hook		; Disable sound driver calls.
  421                        		.endif
  422                        	
  423    00:E164  A9 88      			lda	#<core_sw_reset		; Set up the soft-reset hook.
  424    00:E166  8D 84 22   			sta.l	reset_hook
  425    00:E169  A9 E1      			lda	#>core_sw_reset
  426    00:E16B  8D 85 22   			sta.h	reset_hook
  427                        	
  428    00:E16E  A9 67      			lda	#<irq1_handler		; Set up the IRQ1 hook.
  429    00:E170  8D 02 22   			sta.l	irq1_hook
  430    00:E173  A9 E0      			lda	#>irq1_handler
  431    00:E175  8D 03 22   			sta.h	irq1_hook
  432                        	
  433    00:E178  A9 5B      			lda	#<tirq_handler		; Set up the TIRQ hook.
  434    00:E17A  8D 04 22   			sta.l	timer_hook
  435    00:E17D  A9 E1      			lda	#>tirq_handler
  436    00:E17F  8D 05 22   			sta.h	timer_hook
  437                        	
  438    00:E182  A9 06      			lda	#%00000110		; Replace the System Card's
  439    00:E184  85 F5      			sta	<irq_vec		; IRQ1 and TIRQ processing.
  440                        	
  441    00:E186  28         			plp				; Restore interrupt state.
  442    00:E187  60         			rts
  443                        	
  444                        	
  445                        	
  446                        	; ***************************************************************************
  447                        	; ***************************************************************************
  448                        	;
  449                        	; Include the joypad library, with configuration from "core-config.inc".
  450                        	;
  451                        	
                             #[6]   "..\..\..\include\hucc\joypad.asm"
  452                        			include "joypad.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; joypad.asm
    5                        	;
    6                        	; Read 2-button & 6-button joypads & PCE mouse, with or without a MultiTap.
    7                        	;
    8                        	; Copyright John Brandwood 2019-2025.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; Unlike Lemmings, this code does not interfere with a Memory Base 128! ;-)
   18                        	;
   19                        	; ***************************************************************************
   20                        	; ***************************************************************************
   21                        	;
   22                        	; With SUPPORT_MOUSE ..... 2602 cycles to read 5 ports with 5 mice
   23                        	;
   24                        	; With HuC library code .. 2442 cycles to read 5 ports with 5 pads (2-button)
   25                        	; With HuC library code .. 2442 cycles to read 5 ports with 5 pads (6-button)
   26                        	;
   27                        	; With SUPPORT_MOUSE ....  2016 cycles to read 5 ports with 5 pads (2-button)
   28                        	; With SUPPORT_MOUSE ..... 1976 cycles to read 5 ports with 5 pads (6-button)
   29                        	;
   30                        	; With SUPPORT_MOUSE ....  1618 cycles to read 3 ports with 3 mice
   31                        	; With SUPPORT_MOUSE ..... 1462 cycles to read 3 ports with 2 mice
   32                        	; With SUPPORT_MOUSE ..... 1306 cycles to read 3 ports with 1 mouse
   33                        	;
   34                        	; With SUPPORT_6BUTTON ... 1235 cycles to read 5 ports with 5 pads (2-button)
   35                        	; With SUPPORT_6BUTTON ... 1215 cycles to read 5 ports with 5 pads (6-button)
   36                        	;
   37                        	; With SUPPORT_MOUSE ..... 1126 cycles to read 2 ports with 2 mice
   38                        	; With SUPPORT_MOUSE ...... 970 cycles to read 2 ports with 1 mouse
   39                        	;
   40                        	; Only SUPPORT_2BUTTON .... 971 cycles to read 5 ports with 5 pads (2-button)
   41                        	; Only SUPPORT_2BUTTON .... 861 cycles to read 5 ports with 5 pads (6-button)
   42                        	;
   43                        	; With SUPPORT_MOUSE ...... 634 cycles to read 1 port  with 1 mouse
   44                        	;
   45                        	; ***************************************************************************
   46                        	; ***************************************************************************
   47                        	
  142                        	
  143                        	;
  144                        	; Now choose which version of the code to include.
  145                        	;
  146                        	
  147               0000     		.if	SUPPORT_2BUTTON
  278                        		.endif	SUPPORT_2BUTTON
  279                        	
  280                        	
  281                        	
  282               0000     		.if	SUPPORT_MOUSE
  845                        		.else	SUPPORT_MOUSE
  846                        	
  847                        	
  848                        	
  849               0001     		.if	SUPPORT_6BUTTON			; Without mouse!
  850                        	
  851                        	; ***************************************************************************
  852                        	; ***************************************************************************
  853                        	;
  854                        	; read_joypads - full 6-button pad support, but mouse movement is ignored.
  855                        	;
  856                        	; This code distinguishes between a mouse and a 2-button or 6-button joypad,
  857                        	; so that unsupported devices do not have to be unplugged from the MultiTap.
  858                        	;
  859                        	; The code loops two times to get both sets of buttons on a 6-button joypad.
  860                        	;
  861                        	; N.B. Takes approx 1/3 frame to detect mice the first time it is run.
  862                        	;
  863                        	; bit values for joypad 2-button bytes: (MSB = #7; LSB = #0)
  864                        	; ----------------------------------------------------------
  865                        	; bit 0 (ie $01) = I
  866                        	; bit 1 (ie $02) = II
  867                        	; bit 2 (ie $04) = SELECT
  868                        	; bit 3 (ie $08) = RUN
  869                        	; bit 4 (ie $10) = UP
  870                        	; bit 5 (ie $20) = RIGHT
  871                        	; bit 6 (ie $40) = DOWN
  872                        	; bit 7 (ie $80) = LEFT
  873                        	;
  874                        	; bit values for joypad 6-button bytes: (MSB = #7; LSB = #0)
  875                        	; ----------------------------------------------------------
  876                        	; bit 0 (ie $01) = III
  877                        	; bit 1 (ie $02) = IV
  878                        	; bit 2 (ie $04) = V
  879                        	; bit 3 (ie $08) = VI
  880                        	; bit 4 (ie $10) = zero
  881                        	; bit 5 (ie $20) = zero
  882                        	; bit 6 (ie $40) = zero
  883                        	; bit 7 (ie $80) = zero, but set to one if 6-button pad detected.
  884                        	;
  885                        	
  886               E188     			.code
  887                        	
  888               0001     		.if	(* >= $4000)			; Make this a ".proc" if it
  889    1D:DED7             	read_joypads	.proc                           ; not running in RAM.
  890                        		.else
  892                        		.endif
  893                        	
  894    1D:DED7  A9 80      			lda	#$80			; Acquire port mutex to avoid
  895    1D:DED9  0C D0 22   			tsb	port_mutex		; conflict with a delayed VBL
  896    1D:DEDC  30 75      			bmi	.exit			; or access to an MB128.
  897                        	
  898    1D:DEDE  73 28 22 32			tii	joynow,joyold,MAX_PADS	; Save the previous values.
         1D:DEE2  22 05 00    
  899    1D:DEE5  73 D3 22 D8			tii	joy6now,joy6old,MAX_PADS
         1D:DEE9  22 05 00    
  900                        	
  901                        			; Reset the 6-btn bits, the user might change the joypad mode!
  902                        	
  903    1D:DEEC  F3 53 E0 D3			tai	const_0000, joy6now, MAX_PADS
         1D:DEF0  22 05 00    
  904                        	
  905                        			; Detect attached mice the first time this routine is called.
  906                        	
  907    1D:DEF3  AD D2 22   			lda	mouse_flg		; Has mouse detection happened?
  908    1D:DEF6  30 28      			bmi	.calc_pressed
  909                        	
  910    1D:DEF8  A9 05      			lda	#MAX_PADS		; Reset number of pads to read.
  911    1D:DEFA  8D D1 22   			sta	num_ports
  912                        	
  913    1D:DEFD  A9 1F      			lda	#%00011111		; Try reading everything as a
  914    1D:DEFF  8D D2 22   			sta	mouse_flg		; mouse.
  915                        	
  916    1D:DF02  A0 17      			ldy	#23			; Initialize repeat count.
  917    1D:DF04  A9 80      			lda	#$80			; Initialize mouse detection.
  918    1D:DF06  5A         	.detect_loop:	phy
  919    1D:DF07  48         			pha
  920    1D:DF08  44 53      			bsr	.read_devices		; Read all devices as if mice.
  921    1D:DF0A  68         			pla
  922    1D:DF0B  82         			clx
  923    1D:DF0C  BC E2 22   	.detect_port:	ldy	mouse_x, x		; A movement of zero means
  924    1D:DF0F  D0 03      			bne	.detect_next		; this port is a mouse.
  925    1D:DF11  1D 55 E0   			ora	bit_mask, x
  926    1D:DF14  E8         	.detect_next:	inx				; Get the next pad from the
  927    1D:DF15  E0 05      			cpx	#MAX_PADS		; multitap.
  928    1D:DF17  D0 F3      			bne	.detect_port
  929    1D:DF19  7A         			ply				; Repeat the detection test.
  930    1D:DF1A  88         			dey
  931    1D:DF1B  D0 E9      			bne	.detect_loop
  932                        	
  933                        	;	.if	DETECT_PHANTOMS
  934                        	;		cmp	#(1 << MAX_PADS) + 127	; If we find a mouse in every
  935                        	;		bne	.detect_done		; port, then assume mirrored!
  936                        	;		lda	#1			; Report a single mouse in a
  937                        	;		sta	num_ports		; single port.
  938                        	;		lda	#$81
  939                        	;	.endif
  940                        	
  941    1D:DF1D  8D D2 22   	.detect_done:	sta	mouse_flg		; Report mouse detection.
  942                        	
  943                        			; See what has just been pressed, and check for soft-reset.
  944                        	
  945    1D:DF20  44 3B      	.calc_pressed:	bsr	.read_devices		; Read all devices normally.
  946                        	
  947    1D:DF22  A2 04      			ldx	#MAX_PADS - 1
  948                        	
  949    1D:DF24  BD D3 22   	.pressed_loop:	lda	joy6now, x		; Calc which buttons have just
  950    1D:DF27  5D D8 22   			eor	joy6old, x		; been pressed (6-button).
  951    1D:DF2A  3D D3 22   			and	joy6now, x
  952               0000     		.if	HUC_JOY_EVENTS
  956                        		.else
  957               0000     		.if	ACCUMULATE_JOY
  959                        		.endif
  960    1D:DF2D  9D DD 22   			sta	joy6trg, x
  961                        		.endif
  962                        	
  963    1D:DF30  BD 28 22   			lda	joynow, x		; Calc which buttons have just
  964    1D:DF33  A8         			tay                             ; been pressed (2-button).
  965    1D:DF34  5D 32 22   			eor	joyold, x
  966    1D:DF37  3D 28 22   			and	joynow, x
  967               0000     		.if	HUC_JOY_EVENTS
  971                        		.else
  972               0000     		.if	ACCUMULATE_JOY
  974                        		.endif
  975    1D:DF3A  9D 2D 22   			sta	joytrg, x
  976                        		.endif
  977                        	
  978    1D:DF3D  C9 04      			cmp	#$04			; Detect the soft-reset combo,
  979    1D:DF3F  D0 0C      			bne	.not_reset		; hold RUN then press SELECT.
  980    1D:DF41  C0 0C      			cpy	#$0C
  981    1D:DF43  D0 08      			bne	.not_reset
  982    1D:DF45  BD 55 E0   			lda	bit_mask, x
  983    1D:DF48  2C 27 22   			bit	joyena
  984    1D:DF4B  D0 09      			bne	.soft_reset
  985                        	
  986    1D:DF4D  CA         	.not_reset:	dex				; Check the next pad from the
  987    1D:DF4E  10 D4      			bpl	.pressed_loop		; multitap.
  988                        	
  989    1D:DF50  9C D0 22   			stz	port_mutex		; Release port mutex.
  990                        	
  991               0001     		.if	(* >= $4000)			; This is a ".proc" if it is
  992                        	.exit:		leave                           ; not running in RAM.
         1D:DF53  4C EF FF   			jmp	leave_proc
  993                        		.else
  995                        		.endif
  996                        	
  997    1D:DF56  78         	.soft_reset:	sei				; Disable interrupts.
  998    1D:DF57  9C D0 22   			stz	port_mutex		; Release port mutex.
  999    1D:DF5A  6C 84 22   			jmp	[reset_hook]		; Jump to the soft-reset hook.
 1000                        	
 1001                        			; Read all of the devices attached to the MultiTap.
 1002                        	
 1003    1D:DF5D  A2 02      	.read_devices:	ldx	#2			; Repeat this loop 2 times.
 1004                        	
 1005    1D:DF5F  A9 01      	.read_multitap:	lda	#$01			; CLR lo, SEL hi for d-pad.
 1006    1D:DF61  8D 00 10   			sta	IO_PORT
 1007    1D:DF64  A9 03      			lda	#$03			; CLR hi, SEL hi, reset tap.
 1008    1D:DF66  8D 00 10   			sta	IO_PORT
 1009    1D:DF69  C2         			cly				; Start at port 1.
 1010                        	
 1011    1D:DF6A  A9 01      	.read_port:	lda	#$01			; CLR lo, SEL hi for d-pad.
 1012    1D:DF6C  8D 00 10   			sta	IO_PORT			; Wait 1.25us (9 cycles).
 1013                        	
 1014    1D:DF6F  B9 55 E0   			lda	bit_mask, y		; Is there a mouse attached?
 1015    1D:DF72  2D D2 22   			and	mouse_flg
 1016    1D:DF75  D0 33      			bne	.read_mouse
 1017                        	
 1018    1D:DF77  AD 00 10   	.read_pad:	lda	IO_PORT			; Read direction-pad bits.
 1019    1D:DF7A  9C 00 10   			stz	IO_PORT			; CLR lo, SEL lo for buttons.
 1020    1D:DF7D  0A         			asl	a			; Wait 1.25us (9 cycles).
 1021    1D:DF7E  0A         			asl	a
 1022    1D:DF7F  0A         			asl	a
 1023    1D:DF80  0A         			asl	a
 1024    1D:DF81  F0 1B      			beq	.read_6button		; 6-btn pad if UDLR all held.
 1025                        	
 1026    1D:DF83  99 28 22   	.read_2button:	sta	joynow, y		; Get buttons of 2-btn pad.
 1027    1D:DF86  AD 00 10   			lda	IO_PORT
 1028    1D:DF89  29 0F      			and	#$0F
 1029    1D:DF8B  19 28 22   			ora	joynow, y
 1030    1D:DF8E  49 FF      			eor	#$FF
 1031    1D:DF90  99 28 22   			sta	joynow, y
 1032                        	
 1033    1D:DF93  C8         	.next_port:	iny				; Get the next pad from the
 1034    1D:DF94  CC D1 22   			cpy	num_ports		; multitap.
 1035    1D:DF97  90 D1      			bcc	.read_port
 1036                        	
 1037    1D:DF99  CA         			dex				; Do the next complete pass.
 1038    1D:DF9A  CA         			dex
 1039    1D:DF9B  10 C2      			bpl	.read_multitap		; Have we finished 2 passes?
 1040    1D:DF9D  60         			rts				; Now that everything is read.
 1041                        	
 1042    1D:DF9E  AD 00 10   	.read_6button:	lda	IO_PORT			; Get buttons of 6-btn pad.
 1043    1D:DFA1  29 0F      			and	#$0F
 1044    1D:DFA3  49 8F      			eor	#$8F			; Set bit-7 to show that a
 1045    1D:DFA5  99 D3 22   			sta	joy6now, y		; 6-button pad is present.
 1046    1D:DFA8  80 E9      			bra	.next_port
 1047                        	
 1048    1D:DFAA  7C DB DF   	.read_mouse:	jmp	[.mouse_vectors, x]	; Which mouse info is next?
 1049                        	
 1050                        			; Mouse processing, normally four passes, here just two.
 1051                        	
 1052    1D:DFAD  A9 1C      	.mouse_x_hi:	lda	#28			; 189 cycle delay after CLR lo
 1053    1D:DFAF  3A         	.wait_loop:	dec	a			; on port to allow the mouse
 1054    1D:DFB0  D0 FD      			bne	.wait_loop		; to buffer and reset counters.
 1055                        	
 1056    1D:DFB2  AD 00 10   			lda	IO_PORT			; Read direction-pad bits.
 1057    1D:DFB5  9C 00 10   			stz	IO_PORT			; CLR lo, SEL lo for buttons.
 1058    1D:DFB8  0A         			asl	a			; Wait 1.25us (9 cycles).
 1059    1D:DFB9  0A         			asl	a
 1060    1D:DFBA  0A         			asl	a
 1061    1D:DFBB  0A         			asl	a
 1062    1D:DFBC  99 E2 22   			sta	mouse_x, y		; Save port's X-hi nibble.
 1063                        	
 1064    1D:DFBF  AD 00 10   			lda	IO_PORT			; Get mouse buttons.
 1065    1D:DFC2  29 0F      			and	#$0F
 1066    1D:DFC4  49 0F      			eor	#$0F
 1067    1D:DFC6  99 28 22   			sta	joynow, y
 1068    1D:DFC9  80 C8      			bra	.next_port
 1069                        	
 1070    1D:DFCB  AD 00 10   	.mouse_x_lo:	lda	IO_PORT			; Read direction-pad bits.
 1071    1D:DFCE  9C 00 10   			stz	IO_PORT			; CLR lo, SEL lo for buttons.
 1072    1D:DFD1  29 0F      			and	#$0F			; Wait 1.25us (9 cycles).
 1073    1D:DFD3  19 E2 22   			ora	mouse_x, y		; Add port's X-hi nibble.
 1074                        	;		eor	#$FF			; Negate so LEFT is -ve.
 1075                        	;		inc	a
 1076    1D:DFD6  99 E2 22   			sta	mouse_x, y
 1077    1D:DFD9  80 B8      			bra	.next_port
 1078                        	
 1079    1D:DFDB  CB DF      	.mouse_vectors: dw	.mouse_x_lo		; Pass 2
 1080    1D:DFDD  AD DF      			dw	.mouse_x_hi		; Pass 1
 1081                        	
 1082               0001     		.if	(* >= $4000)			; This is a ".proc" if it is
 1083                        			.endp                           ; not running in RAM.
 1084               22D0     			.bss				; Put the variables in RAM.
 1085                        		.endif
 1086                        	
 1087    F8:22D0             	port_mutex:	ds	1			; NZ when controller port busy.
 1088    F8:22D1             	num_ports:	ds	1			; Set to 1 if no multitap.
 1089    F8:22D2             	mouse_flg:	ds	1			; Which ports are mice?
 1090               0000     		.if	HUC_JOY_EVENTS
 1093                        		.endif
 1094    F8:22D3             	joy6now:	ds	MAX_PADS
 1095    F8:22D8             	joy6old:	ds	MAX_PADS
 1096    F8:22DD             	joy6trg:	ds	MAX_PADS
 1097    F8:22E2             	mouse_x:	ds	MAX_PADS
 1098                        	
 1099               E188     			.code
 1100                        	
 1101                        		.endif	SUPPORT_6BUTTON			; Without mouse!
 1102                        	
 1103                        		.endif	SUPPORT_MOUSE
                             #[5]   "..\..\..\include\hucc\core-kernel.asm"
  453                        	
  454                        	
  455                        	
  456               0001     		.if	!CDROM
  457                        	
  458                        	; ***************************************************************************
  459                        	; ***************************************************************************
  460                        	;
  461                        	; core_sw_reset - Default HuCARD handler for a joypad "soft-reset".
  462                        	;
  463                        	
  464    00:E188  78         	core_sw_reset:	sei				; Disable interrupts.
  465                        	
  466    00:E189  6C FE FF   			jmp	[$FFFE]			; Jump to the HuCARD reset.
  467                        	
  468                        	
  469                        	
  470                        		.else	!CDROM
  616                        		.endif	!CDROM
  617                        	
  618                        	
  619                        	
  620                        	; ***************************************************************************
  621                        	; ***************************************************************************
  622                        	
  623               0001     		.if	(core_kernel >= $4000)		; If not running in RAM, then
  624               22E7     			.bss				; put these variables in RAM.
  625                        		.endif
  626                        	
  627    F8:22E7             	sound_mutex:	ds	1			; NZ when controller port busy.
  628                        	
  629               0001     		.if	SUPPORT_SGX
  630    F8:22E8             	sgx_detected:	ds	1			; NZ if SuperGrafx detected.
  631    F8:22E9             	hsync_hook_sgx:	ds	2			; SGX version of hsync_hook.
  632                        		.endif
  633                        	
  634               0000     		.if	SUPPORT_ACD
  636                        		.endif
  637                        	
  638               0001     		.if	(core_kernel >= $4000)
  639               E18C     			.code
  640                        		.endif
                             #[4]   "..\..\..\include\hucc\core-startup.asm"
  427                        	
  428                        	
  429                        	
  430                        		.else	!CDROM
  524                        		.endif	!CDROM
  525                        	
  526                        	
  527                        	
  528                        	; ***************************************************************************
  529                        	; ***************************************************************************
  530                        	;
  531                        	; With the availability of so many different configuration options, we've now
  532                        	; built somewhere between a few hundred bytes, and a couple of KB, of code in
  533                        	; the CORE_BANK of the HuCARD / overlay program.
  534                        	;
  535                        	; This is the end of the "CORE(not TM)" library code!
  536                        	;
  537                        	; Remember that the ".proc" trampolines are located at the end of this bank,
  538                        	; so the amount of free space left depends upon the number of ".proc" calls.
  539                        	;
  540                        	
  541                        			; Switch to CORE_PAGE to run the developer's game code.
  542               E18C     			.page	CORE_PAGE
  543                        	
  544                        	
  545                        	
  546                        	; ***************************************************************************
  547                        	; ***************************************************************************
  548                        	;
  549                        	; The DATA_BANK location needs to be set as early as possible so that library
  550                        	; code is able to put data in there before the total overall size of the code
  551                        	; is known.
  552                        	;
  553                        	; By default, DATA_BANK is the next bank after the CORE_BANK.
  554                        	;
  555                        	; RESERVE_BANKS allows developers to reserve some banks between the CORE_BANK
  556                        	; and the DATA_BANK that they can use however they wish.
  557                        	;
  558                        	; One use for RESERVE_BANKS is to create empty space that PCEAS can use when
  559                        	; it relocates procedures. This provides a way for a developer to group code
  560                        	; together at the start of memory, and leave the maximum number of banks for
  561                        	; loading dynamic data from CD-ROM.
  562                        	;
  563                        	; The KickC environment sets RESERVE_BANKS=1 (or higher) so that there is a
  564                        	; a bank for the permanent C code and static constants.
  565                        	;
  566                        	; RESERVE_BANKS is normally defined in each project's "core-config.inc".
  567                        	;
  568                        	
  569                        			.opt	d+			; DATA labels use fixed MPR.
  570                        	
  571               0001     			.rsset	CORE_BANK + 1
  572                        	
  573               0000     		.ifdef	NEED_HOME_BANK
  580                        		.endif
  581                        	
  582               0001     		.ifdef	NEED_SOUND_BANK			; Defined in hucc-sound.inc
  583               0000     		.if	NEED_SOUND_BANK			; if the driver wants a bank.
  585                        		.endif
  586                        		.endif
  587                        	
  588               0001     		.ifdef	RESERVE_BANKS			; For CORE projects.
  589               0001     	RESERVED_BANK	.rs	RESERVE_BANKS
  590                        		.endif
  591                        	
  592               0001     		.ifdef	HUCC
  593               0001     		.ifdef	HUC_RESERVE_BANKS		; For HuCC projects.
  594               0001     	HUC_USER_BANK	.rs	HUC_RESERVE_BANKS
  595                        		.endif
  596                        	
  597               0001     	CONST_BANK	.rs	2
  598               6000     			.rodata
  599               0001     			.bank	CONST_BANK, ".rodata"
  600                        		.endif	HUCC
  601                        	
  602               0003     	DATA_BANK	.rs	0
  603               6000     			.data
  604               0000     		.if	BUILDING_STAGE1
  606                        		.else
  607               0003     			.bank	DATA_BANK, ".data"
  608                        		.endif
  609               6000     			.org	$6000
  610                        	
  611               E18C     			.code
                             #[3]   "..\..\..\include\hucc\core.inc"
                             #[2]   "..\..\..\include\hucc\hucc.asm"
  120                        		.else
  126                        		.endif
  127                        	
  128                        			; Allocate this as early as possible to ensure bank-aligned
  129                        			; so that there is no wasted space for aligning the table.
  130                        	
  131               0000     		.if	FAST_MULTIPLY
  138                        		.endif
  139                        	
  140                        			; Mark the start of the .XDATA, .XINIT and .XSTRZ sections
  141                        	
  142               2C22     			.xdata
  143    F8:2C22             	_xdata_start:
  144               62ED     			.xinit
  145    01:62ED             	_xinit_start:
  146               62ED     			.xstrz
  147    01:62ED             	_xstrz_start:
  148               E18C     			.code
  149                        	
  150                        			;
  151                        	
  154                        	
  155                        			; The hardware stack is used for expressions.
  156                        	
  157               00FF     	__tos		=	$F8:2101, 255
  158                        	
  159               2008     			.zp
  160               2008     			.align	2
  161    F8:2008             	__stack:	ds	HUCC_STACK_SZ
  162                        	
  163    F8:2088             	__ptr:		ds	2
  164    F8:208A             	__fptr:		ds	2
  165    F8:208C             	__fbank:	ds	1
  166    F8:208D             	__sp:		ds	1
  167                        	
  168                        			; REGTEMP 6-byte stack for temporaries used by SDCC.
  169                        			; Keep the size in sync with NUM_TEMP_REGS in sdcc/src/mos6502/gen.h!
  170                        	
  171    F8:208E             	REGTEMP:	ds	6
  172                        	
  173                        			; HuCC's non-recursive consecutive varargs for printf().
  174                        	
  175               2008     	__vararg1	=	__stack + 0
  176               200A     	__vararg2	=	__stack + 2
  177               200C     	__vararg3	=	__stack + 4
  178               200E     	__vararg4	=	__stack + 6
  179                        	
  180                        			; Pointer used by poke() because __ptr could be overwritten.
  181                        	
  182               20EE     	__poke		=	__si
  183                        	
  184                        			; Used for indirect calls because __ptr could be overwritten.
  185                        	
  186               20EE     	__func		=	__si
  187                        	
  188                        			; Data pointer used by SDCC for indirect indexed memory access.
  189                        	
  190               2088     	DPTR		=	__ptr
  191                        	
  192                        			; Values returned from SDCC functions that don't fit into XA.
  193                        			; These are also used as workspace for SDCC library functions,
  194                        			; including HuCC's multiplication and division functions.
  195                        	
  196    F8:2094             	___SDCC_m6502_ret0:	ds	1
  197    F8:2095             	___SDCC_m6502_ret1:	ds	1
  198    F8:2096             	___SDCC_m6502_ret2:	ds	1
  199    F8:2097             	___SDCC_m6502_ret3:	ds	1
  200                        	
  201               0000     		.if	0
  206                        		.endif
  207                        	
  208                        			; Permanent pointers for fast table-of-squares multiplication.
  209                        	
  210               0000     		.if	FAST_MULTIPLY
  215                        		.endif
  216                        	
  217                        			; HuCC keeps a realtime clock, updated in hucc_vbl.
  218                        			;
  219                        			; Defining this here means that it will go before any HuCC
  220                        			; variables in "globals.h", and so it won't get cleared in
  221                        			; a CDROM game when loading different overlays.
  222                        	
  223               22EB     			.bss
  224    F8:22EB             	old_cnt:	ds	1			; irq_cnt of previous vsync().
  225    F8:22EC             	__clock_tt:	ds	1			; System Clock, ticks	(0-59).
  226    F8:22ED             	__clock_ss:	ds	1			; System Clock, seconds (0-59).
  227    F8:22EE             	__clock_mm:	ds	1			; System Clock, minutes (0-59).
  228    F8:22EF             	__clock_hh:	ds	1			; System Clock, hours	(0-11).
  229               E18C     			.code
  230                        	
  231                        			; Reset the stack size needed for leaf functions.
  232                        			;
  233                        			; This is a variable that compiled HuCC code updates at the end
  234                        			; of each source file to store the largest leaf stack size.
  235                        	
  236               0000     	leaf_needs	.set	0
  237                        	
  238                        			; Critical HuCC libraries that the compiler depends upon.
  239                        			;
  240                        			; These include various macros that must be defined before
  241                        			; they are encountered in any compiler-generated code.
  242                        	
                             #[3]   "..\..\..\include\hucc\hucc-codegen.asm"
  243                        			include "hucc-codegen.asm"	; HuCC i-code macros and funcs.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-codegen.asm
    5                        	;
    6                        	; The HuCC compiler translates C code into these macros, it does not directly
    7                        	; generate HuC6280 instructions.
    8                        	;
    9                        	; Based on the original HuC macros created by David Michel and the other HuC
   10                        	; developers, later modified and improved by Ulrich Hecht.
   11                        	;
   12                        	; Modifications copyright John Brandwood 2024.
   13                        	;
   14                        	; Distributed under the Boost Software License, Version 1.0.
   15                        	; (See accompanying file LICENSE_1_0.txt or copy at
   16                        	;  http://www.boost.org/LICENSE_1_0.txt)
   17                        	;
   18                        	; ***************************************************************************
   19                        	; ***************************************************************************
   20                        	;
   21                        	; NAMING SCHEME FOR HuCC MACROS ...
   22                        	;
   23                        	;   __function.parameters
   24                        	;
   25                        	; {parameters} is a list of alphanumeric specifiers, starting with {size} and
   26                        	; followed by {where}, followed by {index} if an array, then optional {value}
   27                        	; and finally ending with optional {suffix}
   28                        	;
   29                        	; {size}
   30                        	;   w : 16-bit signed int (default "int" in HuCC)
   31                        	;   c : 16-bit unsigned int (a "cardinal" in Pascal terms)
   32                        	;   b :  8-bit signed char
   33                        	;   u :  8-bit unsigned char (default "char" in HuCC)
   34                        	;
   35                        	; {where} or {index}
   36                        	;   r : HuCC primary register, made up of the Y:A cpu registers
   37                        	;   t : top of expression stack
   38                        	;   p : indirect pointer, usually [__ptr]
   39                        	;   f : structure field (member) offset value
   40                        	;   i : immediate value, i.e. a decimal number
   41                        	;   m : memory, i.e. C global, static, and "-fno-recursive" variables
   42                        	;   s : stack, i.e. C function parameters and locals (not "-fno-recursive")
   43                        	;   a : array, i.e. C global, static, "-fno-recursive" arrays <= 256 bytes
   44                        	;   x : array index already in the X register
   45                        	;   y : array index already in the Y register
   46                        	;
   47                        	; {value} OPTIONAL
   48                        	;   i : immediate value, i.e. a decimal number
   49                        	;   z : zero value
   50                        	;
   51                        	; {suffix} OPTIONAL
   52                        	;   q : quick, used for optimized math on only 8-bit values, because all math
   53                        	;       is normally promoted to "int" size in C; and when optimized stores do
   54                        	;       not need to preserve the primary register contents
   55                        	;
   56                        	; ***************************************************************************
   57                        	; ***************************************************************************
   58                        	
   59                        	
   60                        	
 8399                        	
 8400                        	; ***************************************************************************
 8401                        	; ***************************************************************************
 8402                        	; subroutines for logical and arithmetic shifts by a constant amount
 8403                        	; ***************************************************************************
 8404                        	; ***************************************************************************
 8405                        	
 8406                        	; **************
 8407                        	; Y:A = Y:A << const
 8408                        	
 8409    00:E1BE  0A         	aslw15:		asl	a
 8410    00:E1BF  0A         	aslw14:		asl	a
 8411    00:E1C0  0A         	aslw13:		asl	a
 8412    00:E1C1  0A         	aslw12:		asl	a
 8413    00:E1C2  0A         	aslw11:		asl	a
 8414    00:E1C3  0A         	aslw10:		asl	a
 8415    00:E1C4  0A         	aslw9:		asl	a
 8416    00:E1C5  A8         	aslw8:		tay
 8417    00:E1C6  62         			cla
 8418    00:E1C7  60         			rts
 8419                        	
 8420               0001     		.if	1
 8421    00:E1C8  66 00      	aslw5:		ror	<__temp
 8422    00:E1CA  6A         			ror	a
 8423    00:E1CB  66 00      	aslw6:		ror	<__temp
 8424    00:E1CD  6A         			ror	a
 8425    00:E1CE  66 00      	aslw7:		ror	<__temp
 8426    00:E1D0  6A         			ror	a
 8427    00:E1D1  A4 00      			ldy	<__temp
 8428    00:E1D3  60         			rts
 8429                        		.else
 8436                        		.endif
 8437    00:E1D4  0A         	aslw4:		asl	a
 8438    00:E1D5  26 00      			rol	<__temp
 8439    00:E1D7  0A         	aslw3:		asl	a
 8440    00:E1D8  26 00      			rol	<__temp
 8441    00:E1DA  0A         	aslw2:		asl	a
 8442    00:E1DB  26 00      			rol	<__temp
 8443    00:E1DD  0A         	aslw1:		asl	a
 8444    00:E1DE  26 00      			rol	<__temp
 8445    00:E1E0  A4 00      	aslw0:		ldy	<__temp
 8446    00:E1E2  60         			rts
 8447                        	
 8448                        	; **************
 8449                        	; Y:A = Y:A >> const
 8450                        	
 8451    00:E1E3  C9 80      	asrw15:		cmp	#$80
 8452    00:E1E5  6A         			ror	a
 8453    00:E1E6  C9 80      	asrw14:		cmp	#$80
 8454    00:E1E8  6A         			ror	a
 8455    00:E1E9  C9 80      	asrw13:		cmp	#$80
 8456    00:E1EB  6A         			ror	a
 8457    00:E1EC  C9 80      	asrw12:		cmp	#$80
 8458    00:E1EE  6A         			ror	a
 8459    00:E1EF  C9 80      	asrw11:		cmp	#$80
 8460    00:E1F1  6A         			ror	a
 8461    00:E1F2  C9 80      	asrw10:		cmp	#$80
 8462    00:E1F4  6A         			ror	a
 8463    00:E1F5  C9 80      	asrw9:		cmp	#$80
 8464    00:E1F7  6A         			ror	a
 8465    00:E1F8  C9 80      	asrw8:		cmp	#$80
 8466    00:E1FA  C2         			cly
 8467    00:E1FB  90 01      			bcc	!+
 8468    00:E1FD  88         			dey
 8469    00:E1FE  60         	!:		rts
 8470                        	
 8471    00:E1FF  C0 80      	asrw7:		cpy	#$80
 8472    00:E201  66 00      			ror	<__temp
 8473    00:E203  6A         			ror	a
 8474    00:E204  C0 80      	asrw6:		cpy	#$80
 8475    00:E206  66 00      			ror	<__temp
 8476    00:E208  6A         			ror	a
 8477    00:E209  C0 80      	asrw5:		cpy	#$80
 8478    00:E20B  66 00      			ror	<__temp
 8479    00:E20D  6A         			ror	a
 8480    00:E20E  C0 80      	asrw4:		cpy	#$80
 8481    00:E210  66 00      			ror	<__temp
 8482    00:E212  6A         			ror	a
 8483    00:E213  C0 80      	asrw3:		cpy	#$80
 8484    00:E215  66 00      			ror	<__temp
 8485    00:E217  6A         			ror	a
 8486    00:E218  C0 80      	asrw2:		cpy	#$80
 8487    00:E21A  66 00      			ror	<__temp
 8488    00:E21C  6A         			ror	a
 8489    00:E21D  C0 80      	asrw1:		cpy	#$80
 8490    00:E21F  66 00      			ror	<__temp
 8491    00:E221  6A         			ror	a
 8492    00:E222  A4 00      	asrw0:		ldy	<__temp
 8493    00:E224  60         			rts
 8494                        	
 8495                        	; **************
 8496                        	; Y:A = Y:A >> const
 8497                        	
 8498    00:E225  4A         	lsrw15:		lsr	a
 8499    00:E226  4A         	lsrw14:		lsr	a
 8500    00:E227  4A         	lsrw13:		lsr	a
 8501    00:E228  4A         	lsrw12:		lsr	a
 8502    00:E229  4A         	lsrw11:		lsr	a
 8503    00:E22A  4A         	lsrw10:		lsr	a
 8504    00:E22B  4A         	lsrw9:		lsr	a
 8505    00:E22C  C2         	lsrw8:		cly
 8506    00:E22D  60         			rts
 8507                        	
 8508    00:E22E  46 00      	lsrw7:		lsr	<__temp
 8509    00:E230  6A         			ror	a
 8510    00:E231  46 00      	lsrw6:		lsr	<__temp
 8511    00:E233  6A         			ror	a
 8512    00:E234  46 00      	lsrw5:		lsr	<__temp
 8513    00:E236  6A         			ror	a
 8514    00:E237  46 00      	lsrw4:		lsr	<__temp
 8515    00:E239  6A         			ror	a
 8516    00:E23A  46 00      	lsrw3:		lsr	<__temp
 8517    00:E23C  6A         			ror	a
 8518    00:E23D  46 00      	lsrw2:		lsr	<__temp
 8519    00:E23F  6A         			ror	a
 8520    00:E240  46 00      	lsrw1:		lsr	<__temp
 8521    00:E242  6A         			ror	a
 8522    00:E243  A4 00      	lsrw0:		ldy	<__temp
 8523    00:E245  60         			rts
 8524                        	
 8525                        	
 8526                        	
 8527                        	; ***************************************************************************
 8528                        	; ***************************************************************************
 8529                        	; subroutines for logical and arithmetic shifts by a variable amount
 8530                        	; ***************************************************************************
 8531                        	; ***************************************************************************
 8532                        	
 8533                        	; **************
 8534                        	; Y:A = Y:A << X
 8535                        	
 8536    00:E246  84 00      	asl.wx:		sty	<__temp
 8537    00:E248  E0 10      			cpx	#16
 8538    00:E24A  B0 37      			bcs	!zero+
 8539    00:E24C  CA         			dex
 8540    00:E24D  30 06      			bmi	.done
 8541    00:E24F  0A         	.loop:		asl	a
 8542    00:E250  26 00      			rol	<__temp
 8543    00:E252  CA         			dex
 8544    00:E253  10 FA      			bpl	.loop
 8545    00:E255  A4 00      	.done:		ldy	<__temp
 8546    00:E257  60         			rts
 8547                        	
 8548                        	; **************
 8549                        	; Y:A = Y:A >> X
 8550                        	
 8551    00:E258  84 00      	asr.wx:		sty	<__temp
 8552    00:E25A  10 17      			bpl	!positive+
 8553    00:E25C  E0 10      	!negative:	cpx	#16
 8554    00:E25E  B0 0D      			bcs	.sign
 8555    00:E260  CA         			dex
 8556    00:E261  30 07      			bmi	.done
 8557    00:E263  38         	.loop:		sec
 8558    00:E264  66 00      			ror	<__temp
 8559    00:E266  6A         			ror	a
 8560    00:E267  CA         			dex
 8561    00:E268  10 F9      			bpl	.loop
 8562    00:E26A  A4 00      	.done:		ldy	<__temp
 8563    00:E26C  60         			rts
 8564                        	
 8565    00:E26D  A9 FF      	.sign:		lda	#$FF
 8566    00:E26F  A8         			tay
 8567    00:E270  60         			rts
 8568                        	
 8569                        	; **************
 8570                        	; Y:A = Y:A >> X
 8571                        	
 8572    00:E271  84 00      	lsr.wx:		sty	<__temp
 8573    00:E273  E0 10      	!positive:	cpx	#16
 8574    00:E275  B0 0C      			bcs	!zero+
 8575    00:E277  CA         			dex
 8576    00:E278  30 06      			bmi	.done
 8577    00:E27A  46 00      	.loop:		lsr	<__temp
 8578    00:E27C  6A         			ror	a
 8579    00:E27D  CA         			dex
 8580    00:E27E  10 FA      			bpl	.loop
 8581    00:E280  A4 00      	.done:		ldy	<__temp
 8582    00:E282  60         			rts
 8583                        	
 8584    00:E283  62         	!zero:		cla
 8585    00:E284  C2         			cly
 8586    00:E285  60         			rts
 8587                        	
 8588                        	
 8589                        	
 8590                        	; ***************************************************************************
 8591                        	; ***************************************************************************
 8592                        	; POTENTIAL OPTIMIZATIONS, NOT YET ADDED
 8593                        	; ***************************************************************************
 8594                        	; ***************************************************************************
                             #[2]   "..\..\..\include\hucc\hucc.asm"
                             #[3]   "..\..\..\include\hucc\hucc-baselib.asm"
  244                        			include	"hucc-baselib.asm"	; HuCC base library macros.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-baselib.asm
    5                        	;
    6                        	; Basic library functions provided (mostly) as macros.
    7                        	;
    8                        	; Copyright John Brandwood 2024-2025.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	
   17                        	
   18                        	
   19                        	; ***************************************************************************
   20                        	; ***************************************************************************
   21                        	;
   22                        	; Make certain System Card variables accessible to HuCC.
   23                        	
   24    00:E286             	_irq_cnt	.alias	irq_cnt
   25    00:E286             	_joynow		.alias	joynow
   26    00:E286             	_joytrg		.alias	joytrg
   27    00:E286             	_joy6now	.alias	joy6now
   28    00:E286             	_joy6trg	.alias	joy6trg
   29    00:E286             	_bg_x1		.alias	bg_x1
   30    00:E286             	_bg_y1		.alias	bg_y1
   31    00:E286             	_bg_x2		.alias	bg_x2
   32    00:E286             	_bg_y2		.alias	bg_y2
   33                        	
   34                        	
   35                        	
   36                        	; ***************************************************************************
   37                        	; ***************************************************************************
   38                        	;
   39                        	; void __fastcall dump_screen( void );
   40                        	;
   41                        	; THIS IS AN ILLEGAL INSTRUCTION ONLY IMPLEMENTED BY THE TGEMU EMULATOR!
   42                        	
   43    00:E286  33         	_dump_screen:	db	0x33
   44                        	
   45                        	
   46                        	
   47                        	; ***************************************************************************
   48                        	; ***************************************************************************
   49                        	;
   50                        	; void __fastcall abort( void );
   51                        	;
   52                        	; THIS IS AN ILLEGAL INSTRUCTION ONLY IMPLEMENTED BY THE TGEMU EMULATOR!
   53                        	
   54    00:E287  E2         	_abort:		db	0xE2
   55                        	
   56                        	
   57                        	
   58                        	; ***************************************************************************
   59                        	; ***************************************************************************
   60                        	;
   61                        	; void __fastcall exit( int value<acc> );
   62                        	;
   63                        	; THIS IS AN ILLEGAL INSTRUCTION ONLY IMPLEMENTED BY THE TGEMU EMULATOR!
   64                        	
   65    00:E288  AA         	_exit.1:	tax				; Put the return code into X.
   66    00:E289  63         			db	0x63
   67                        	
   68    00:E28A  80 FE      	.hang:		bra	.hang			; Hang if used in normal code.
   69                        	
   70                        	
   71                        	
   72                        	; ***************************************************************************
   73                        	; ***************************************************************************
   74                        	;
   75                        	; unsigned char __fastcall __macro cd_execoverlay( unsigned char ovl_index<acc> );
   76                        	;
   77                        	; Execute program overlay from disc
   78                        	;
   79                        	; N.B. This does not return, even if there's an error.
   80                        	
   81                        			.macro	_cd_execoverlay.1
   82                        			tax
   83                        			jmp	exec_overlay
   84                        			.endm
   85                        	
   86                        	
   87                        	
   88                        	; ***************************************************************************
   89                        	; ***************************************************************************
   90                        	;
   91                        	; void __fastcall __nop set_far_base( unsigned char data_bank<_bp_bank>, unsigned char *data_addr<_bp> );
   92                        	; void __fastcall set_far_offset( unsigned int offset<_bp>, unsigned char data_bank<_bp_bank>, unsigned char *data_addr<acc> );
   93                        	
   94    00:E28C             	_set_far_offset.3:
   95    00:E28C  18         			clc
   96    00:E28D  65 EC      			adc.l	<_bp
   97    00:E28F  85 EC      			sta.l	<_bp
   98    00:E291  98         			tya
   99    00:E292  29 1F      			and	#$1F
  100    00:E294  65 ED      			adc.h	<_bp
  101    00:E296  A8         			tay
  102    00:E297  29 1F      			and	#$1F
  103    00:E299  09 60      			ora	#$60
  104    00:E29B  85 ED      			sta.h	<_bp
  105    00:E29D  98         			tya
  106    00:E29E  6A         			ror	a
  107    00:E29F  4A         			lsr	a
  108    00:E2A0  4A         			lsr	a
  109    00:E2A1  4A         			lsr	a
  110    00:E2A2  4A         			lsr	a
  111    00:E2A3  18         			clc
  112    00:E2A4  65 02      			adc	<_bp_bank
  113    00:E2A6  85 02      			sta	<_bp_bank
  114    00:E2A8  60         			rts
  115                        	
  116                        	
  117                        	; ***************************************************************************
  118                        	; ***************************************************************************
  119                        	;
  120                        	; void __fastcall __macro reset_mpr2( void );
  121                        	; void __fastcall __macro reset_mpr34( void );
  122                        	;
  123                        	; void * __fastcall __macro set_mpr2( void __far *addr<_bp_bank:_bp> );
  124                        	; void * __fastcall __macro set_mpr34( void __far *addr<_bp_bank:_bp> );
  125                        	;
  126                        	; void * __fastcall __macro far_set_mpr2( void );
  127                        	; void * __fastcall __macro far_set_mpr34( void );
  128                        	
  129                        	_reset_mpr2	.macro
  130                        		.if	SUPPORT_SGX
  131                        			lda	#$F9
  132                        		.else
  133                        			lda	#$87
  134                        		.endif
  135                        			tam2
  136                        			.endm
  137                        	
  138                        	_reset_mpr34	.macro
  139                        			lda	#CONST_BANK + _bank_base
  140                        			tam3
  141                        			inc	a
  142                        			tam4
  143                        			.endm
  144                        	
  145                        	_farset_mpr2.1	.macro
  146                        			lda	<_bp_bank
  147                        			tam2
  148                        			lda.l	<_bp
  149                        			ldy.h	<_bp
  150                        			.endm
  151                        	
  152                        	_farset_mpr34.1	.macro
  153                        			lda	<_bp_bank
  154                        			tam3
  155                        			inc	a
  156                        			tam4
  157                        			lda.l	<_bp
  158                        			ldy.h	<_bp
  159                        			.endm
  160                        	
  161                        	_far_set_mpr2	.macro
  162                        			lda	<_bp_bank
  163                        			tam2
  164                        			lda.l	<_bp
  165                        			ldy.h	<_bp
  166                        			.endm
  167                        	
  168                        	_far_set_mpr34	.macro
  169                        			lda	<_bp_bank
  170                        			tam3
  171                        			inc	a
  172                        			tam4
  173                        			lda.l	<_bp
  174                        			ldy.h	<_bp
  175                        			.endm
  176                        	
  177                        	
  178                        	
  179                        	; ***************************************************************************
  180                        	; ***************************************************************************
  181                        	;
  182                        	; unsigned char __fastcall __macro ac_exists( void );
  183                        	
  184                        	_ac_exists	.macro
  185                        			cla
  186                        			ldy	ACD_FLAG
  187                        			cpy	#ACD_ID
  188                        			bne	!+
  189                        			inc	a
  190                        	!:		cly
  191                        			.endm
  192                        	
  193                        	
  194                        	
  195                        	; ***************************************************************************
  196                        	; ***************************************************************************
  197                        	;
  198                        	; unsigned char __fastcall __macro _sgx_detect( void );
  199                        	
  200                        	_sgx_detect	.macro
  201                        			lda	sgx_detected
  202                        			cly
  203                        			.endm
  204                        	
  205                        	
  206                        	
  207                        	; ***************************************************************************
  208                        	; ***************************************************************************
  209                        	;
  210                        	; unsigned int __fastcall __macro peek( unsigned int addr<__ptr> );
  211                        	
  212                        	_peek.1		.macro
  213                        			lda	[__ptr]
  214                        			cly
  215                        			.endm
  216                        	
  217                        	
  218                        	
  219                        	; ***************************************************************************
  220                        	; ***************************************************************************
  221                        	;
  222                        	; unsigned int __fastcall __macro peekw( unsigned int addr<__ptr> );
  223                        	
  224                        	_peekw.1	.macro
  225                        			lda	[__ptr]
  226                        			pha
  227                        			ldy	#1
  228                        			lda	[__ptr], y
  229                        			tay
  230                        			pla
  231                        			.endm
  232                        	
  233                        	
  234                        	
  235                        	; ***************************************************************************
  236                        	; ***************************************************************************
  237                        	;
  238                        	; void __fastcall __macro poke( unsigned int addr<__poke>, unsigned char with<acc> );
  239                        	;
  240                        	; N.B. Because the <acc> value can be a complex C calculation, it isn't safe
  241                        	; to use __ptr as the destination, which can be overwritten in C macros.
  242                        	
  243                        	_poke.2		.macro
  244                        			sta	[__poke]
  245                        			.endm
  246                        	
  247                        	
  248                        	
  249                        	; ***************************************************************************
  250                        	; ***************************************************************************
  251                        	;
  252                        	; void __fastcall __macro pokew( unsigned int addr<__poke>, unsigned int with<acc> );
  253                        	;
  254                        	; N.B. Because the <acc> value can be a complex C calculation, it isn't safe
  255                        	; to use __ptr as the destination, which can be overwritten in C macros.
  256                        	
  257                        	_pokew.2	.macro
  258                        			sta	[__poke]
  259                        			tya
  260                        			ldy	#1
  261                        			sta	[__poke], y
  262                        			.endm
  263                        	
  264                        	
  265                        	
  266                        	; ***************************************************************************
  267                        	; ***************************************************************************
  268                        	;
  269                        	; unsigned char __fastcall __macro clock_hh( void );
  270                        	; unsigned char __fastcall __macro clock_mm( void );
  271                        	; unsigned char __fastcall __macro clock_ss( void );
  272                        	; unsigned char __fastcall __macro clock_tt( void );
  273                        	;
  274                        	; N.B. HuC stores the clock as binary, HuCC stores it as BCD.
  275                        	
  276                        	_clock_hh	.macro
  277                        			lda	__clock_hh
  278                        			jsr	bcd_byte_to_bin
  279                        			.endm
  280                        	
  281                        	_clock_mm	.macro
  282                        			lda	__clock_mm
  283                        			jsr	bcd_byte_to_bin
  284                        			.endm
  285                        	
  286                        	_clock_ss	.macro
  287                        			lda	__clock_ss
  288                        			jsr	bcd_byte_to_bin
  289                        			.endm
  290                        	
  291                        	_clock_tt	.macro
  292                        			lda	__clock_tt
  293                        			jsr	bcd_byte_to_bin
  294                        			.endm
  295                        	
  296                        			; HuC returns binary values for these clock functions.
  297                        	
  298    00:E2A9  A8         	bcd_byte_to_bin:tay
  299    00:E2AA  4A         			lsr	a
  300    00:E2AB  4A         			lsr	a
  301    00:E2AC  4A         			lsr	a
  302    00:E2AD  4A         			lsr	a
  303    00:E2AE  42         			say
  304    00:E2AF  18         			clc
  305    00:E2B0  29 0F      			and	#$0F
  306    00:E2B2  79 B7 E2   			adc	.table, y
  307    00:E2B5  C2         			cly
  308    00:E2B6  60         			rts
  309                        	
  310    00:E2B7  00         	.table:		db	0
  311    00:E2B8  0A         			db	10
  312    00:E2B9  14         			db	20
  313    00:E2BA  1E         			db	30
  314    00:E2BB  28         			db	40
  315    00:E2BC  32         			db	50
  316                        	
  317                        	
  318                        	
  319                        	; ***************************************************************************
  320                        	; ***************************************************************************
  321                        	;
  322                        	; void __fastcall __macro clock_reset( void );
  323                        	
  324                        	_clock_reset	.macro
  325                        			stz	__clock_tt
  326                        			stz	__clock_ss
  327                        			stz	__clock_mm
  328                        			stz	__clock_hh
  329                        			.endm
  330                        	
  331                        	
  332                        	
  333                        	
  334                        	; ***************************************************************************
  335                        	; ***************************************************************************
  336                        	;
  337                        	; unsigned int __fastcall __macro joy( unsigned char which<acc> );
  338                        	
  339                        	_joy.1		.macro
  340                        			tax
  341                        			lda	joynow, x
  342                        		.if	SUPPORT_6BUTTON
  343                        			ldy	joy6now, x
  344                        		.else
  345                        			cly
  346                        		.endif
  347                        			.endm
  348                        	
  349                        	
  350                        	
  351                        	; ***************************************************************************
  352                        	; ***************************************************************************
  353                        	;
  354                        	; unsigned int __fastcall __macro joytrg( unsigned char which<acc> );
  355                        	
  356                        	_joytrg.1	.macro
  357                        			tax
  358                        			lda	joytrg, x
  359                        		.if	SUPPORT_6BUTTON
  360                        			ldy	joy6trg, x
  361                        		.else
  362                        			cly
  363                        		.endif
  364                        			.endm
  365                        	
  366                        	
  367                        	
  368                        	; ***************************************************************************
  369                        	; ***************************************************************************
  370                        	;
  371                        	; unsigned int __fastcall __macro joybuf( unsigned char which<acc> );
  372                        	
  373                        	_joybuf.1	.macro
  374                        		.if	HUC_JOY_EVENTS
  375                        			tax
  376                        			lda	joybuf, x
  377                        		.if	SUPPORT_6BUTTON
  378                        			ldy	joy6buf, x
  379                        		.else
  380                        			cly
  381                        		.endif
  382                        		.else
  383                        			.fail	You must enable HUC_JOY_EVENTS in your hucc-config.inc!
  384                        		.endif
  385                        			.endm
  386                        	
  387                        	
  388                        	
  389                        	; ***************************************************************************
  390                        	; ***************************************************************************
  391                        	;
  392                        	; unsigned int __fastcall __macro get_joy_events( unsigned char which<acc> );
  393                        	;
  394                        	; N.B. This is just a version of joybuf() that clears the accumulated events.
  395                        	
  396                        			.macro	_get_joy_events.1
  397                        		.if	HUC_JOY_EVENTS
  398                        			tax
  399                        			lda	joybuf, x
  400                        			stz	joybuf, x
  401                        		.if	SUPPORT_6BUTTON
  402                        			ldy	joy6buf, x
  403                        			stz	joy6buf, x
  404                        		.else
  405                        			cly
  406                        		.endif
  407                        		.else
  408                        		.if	ACCUMULATE_JOY
  409                        			tax
  410                        			lda	joytrg, x
  411                        			stz	joytrg, x
  412                        		.if	SUPPORT_6BUTTON
  413                        			ldy	joy6trg, x
  414                        			stz	joy6trg, x
  415                        		.else
  416                        			cly
  417                        		.endif
  418                        		.else
  419                        			.fail	You must enable HUC_JOY_EVENTS or ACCUMULATE_JOY in your hucc-config.inc!
  420                        		.endif
  421                        		.endif
  422                        			.endm
  423                        	
  424                        	
  425                        	
  426                        	; ***************************************************************************
  427                        	; ***************************************************************************
  428                        	;
  429                        	; void __fastcall __macro clear_joy_events( unsigned char mask<acc> );
  430                        	
  431                        			.macro	_clear_joy_events.1
  432                        			php
  433                        			sei
  434                        			and	#(1 << MAX_PADS) - 1
  435                        			ldx	#$FF
  436                        	.loop:		inx
  437                        			lsr	a
  438                        			bcc	.next
  439                        		.if	HUC_JOY_EVENTS
  440                        			stz	joybuf, x
  441                        		.if	SUPPORT_6BUTTON
  442                        			stz	joy6buf, x
  443                        		.endif
  444                        		.else
  445                        		.if	ACCUMULATE_JOY
  446                        			stz	joytrg, x
  447                        		.if	SUPPORT_6BUTTON
  448                        			stz	joy6trg, x
  449                        		.endif
  450                        		.else
  451                        			.fail	You must enable HUC_JOY_EVENTS or ACCUMULATE_JOY in your hucc-config.inc!
  452                        		.endif
  453                        		.endif
  454                        	.next:		bne	.loop
  455                        			plp
  456                        			.endm
  457                        	
  458                        	
  459                        	
  460                        	; ***************************************************************************
  461                        	; ***************************************************************************
  462                        	;
  463                        	; void __fastcall srand( unsigned char seed<acc> );
  464                        	
  465               0001     		.ifndef	HUCC_NO_DEFAULT_RANDOM
  466                        	_srand.1	.macro
  467                        			tay
  468                        			jsr	init_random
  469                        			.endm
  470                        		.endif
  471                        	
  472                        	
  473                        	
  474                        	; ***************************************************************************
  475                        	; ***************************************************************************
  476                        	;
  477                        	; unsigned int __fastcall rand( void );
  478                        	; unsigned char __fastcall rand8( void );
  479                        	
  480               0001     		.ifndef	HUCC_NO_DEFAULT_RANDOM
  481    00:E2BD  20 9E E6   	_rand:		jsr	get_random		; Random in A, preserve Y.
  482    00:E2C0  A8         			tay
  483    00:E2C1  4C 9E E6   			jmp	get_random		; Random in A, preserve Y.
  484                        		.endif
  485                        	
  486                        	
  487                        	
  488                        	; ***************************************************************************
  489                        	; ***************************************************************************
  490                        	;
  491                        	; unsigned char __fastcall random8( unsigned char limit<acc> );
  492                        	;
  493                        	; IN :	A = range (0..255)
  494                        	; OUT : A = random number interval 0 <= x < A
  495                        	
  496               0001     		.ifndef	HUCC_NO_DEFAULT_RANDOM
  497                        	
  498    00:E2C4  A8         	_random8.1:	tay				; Preserve the limit.
  499    00:E2C5  20 9E E6   			jsr	get_random		; Random in A, preserve Y.
  500                        	
  501    00:E2C8  20 04 E5   			jsr	__muluchar
  502    00:E2CB  98         			tya				; Do a 8.0 x 0.8 fixed point
  503    00:E2CC  C2         			cly				; fractional multiply.
  504    00:E2CD  60         			rts
  505                        		.endif
  506                        	
  507                        	
  508                        	
  509                        	; ***************************************************************************
  510                        	; ***************************************************************************
  511                        	;
  512                        	; unsigned char __fastcall random( unsigned char limit<acc> );
  513                        	;
  514                        	; IN :	A = range (0..128), 129..255 is treated as 128
  515                        	; OUT : A = random number interval 0 <= x < A
  516                        	
  517               0001     		.ifndef	HUCC_NO_DEFAULT_RANDOM
  518                        	
  519    00:E2CE  A8         	_random.1:	tay				; Preserve the limit.
  520    00:E2CF  20 9E E6   			jsr	get_random		; Random in A, preserve Y.
  521                        	
  522    00:E2D2  C0 80      			cpy	#128			; Check the limit.
  523    00:E2D4  90 04      			bcc	!+
  524                        	
  525    00:E2D6  29 7F      			and	#$7F			; Just mask the random if
  526    00:E2D8  C2         			cly				; the limit is >= 128.
  527    00:E2D9  60         			rts
  528                        	
  529    00:E2DA  20 04 E5   	!:		jsr	__muluchar
  530    00:E2DD  98         			tya				; If the limit is < 128 then
  531    00:E2DE  C2         			cly				; do a 8.0 x 0.8 fixed point
  532    00:E2DF  60         			rts				; fractional multiply.
  533                        		.endif
  534                        	
  535                        	
  536                        	
  537                        	; ***************************************************************************
  538                        	; ***************************************************************************
  539                        	;
  540                        	; unsigned char __fastcall __builtin_ffs( unsigned int value<__temp> );
  541                        	
  542                        			.proc	___builtin_ffs.1
  562                        			.endp
  563                        	
  564                        	
  565                        	
  566                        	; ***************************************************************************
  567                        	; ***************************************************************************
  568                        	;
  569                        	; N.B. Declared in hucc-string.h, but defined here because they're macros!
  570                        	;
  571                        	; int __fastcall __macro memcmp( unsigned char *destination<_di>, unsigned char *source<_bp>, unsigned int count<acc> );
  572                        	
  573                        	_memcmp.3	.macro
  574                        			stz	<_bp_bank		; Map the source string.
  575                        			call	_farmemcmp.3
  576                        			.endm
  577                        	
  578                        	
  579                        	
  580                        	; ***************************************************************************
  581                        	; ***************************************************************************
  582                        	;
  583                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  584                        	;
  585                        	; void __fastcall __macro get_color( unsigned int index<VCE_CTA> );
  586                        	
  587                        	_get_color.1	.macro
  588                        			lda.l	VCE_CTR
  589                        			ldy.h	VCE_CTR
  590                        			.endm
  591                        	
  592                        	
  593                        	
  594                        	; ***************************************************************************
  595                        	; ***************************************************************************
  596                        	;
  597                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  598                        	;
  599                        	; void __fastcall __macro fade_to_black( unsigned int __far *from<_bp_bank:_bp>, unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_sub<_ah> );
  600                        	; void __fastcall __macro fade_to_white( unsigned int __far *from<_bp_bank:_bp>, unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_add<_ah> );
  601                        	; void __fastcall __macro cross_fade_to( unsigned int __far *from<_bp_bank:_bp>, unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char which_component<_ah );
  602                        	;
  603                        	; void __fastcall __macro far_fade_to_black( unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_sub<_ah> );
  604                        	; void __fastcall __macro far_fade_to_white( unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_add<_ah> );
  605                        	; void __fastcall __macro far_cross_fade_to( unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char which_component<_ah );
  606                        	
  607                        			.macro	_fade_to_black.4
  608                        			ldy	<_bp_bank
  609                        			call	fade_to_black
  610                        			.endm
  611                        	
  612                        			.macro	_fade_to_white.4
  613                        			ldy	<_bp_bank
  614                        			call	fade_to_white
  615                        			.endm
  616                        	
  617                        			.macro	_cross_fade_to.4
  618                        			ldy	<_bp_bank
  619                        			call	cross_fade_to
  620                        			.endm
  621                        	
  622                        			.macro	_far_fade_to_black.3
  623                        			ldy	<_bp_bank
  624                        			call	fade_to_black
  625                        			.endm
  626                        	
  627                        			.macro	_far_fade_to_white.3
  628                        			ldy	<_bp_bank
  629                        			call	fade_to_white
  630                        			.endm
  631                        	
  632                        			.macro	_far_cross_fade_to.3
  633                        			ldy	<_bp_bank
  634                        			call	cross_fade_to
  635                        			.endm
  636                        	
  637                        	
  638                        	
  639                        	; ***************************************************************************
  640                        	; ***************************************************************************
  641                        	;
  642                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  643                        	;
  644                        	; void __fastcall __macro set_xres( unsigned int x_pixels<_ax> );
  645                        	; void __fastcall __macro sgx_set_xres( unsigned int x_pixels<_ax> );
  646                        	;
  647                        	; void __fastcall set_xres( unsigned int x_pixels<_ax>, unsigned char blur_flag<_bl> );
  648                        	; void __fastcall sgx_set_xres( unsigned int x_pixels<_ax>, unsigned char blur_flag<_bl> );
  649                        	
  650                        	_set_xres.1	.macro
  651                        			lda	#XRES_SOFT
  652                        			sta	<_bl
  653                        			call	_set_xres.2
  654                        			.endm
  655                        	
  656               0001     		.if	SUPPORT_SGX
  657                        			.macro	_sgx_set_xres.1
  658                        			lda	#XRES_SOFT
  659                        			sta	<_bl
  660                        			call	_sgx_set_xres.2
  661                        			.endm
  662                        		.endif
  663                        	
  664                        	
  665                        	
  666                        	; ***************************************************************************
  667                        	; ***************************************************************************
  668                        	;
  669                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  670                        	;
  671                        	; unsigned int __fastcall __macro vram_addr( unsigned char bat_x<_al>, unsigned char bat_y<_ah> );
  672                        	; unsigned int __fastcall __macro sgx_vram_addr( unsigned char bat_x<_al>, unsigned char bat_y<_ah> );
  673                        	
  674                        			.macro	_vram_addr.2
  675                        			cla
  676                        			bit	vdc_bat_width
  677                        			bmi	!w128+
  678                        			bvs	!w64+
  679                        	!w32:		lsr	<_ah
  680                        			ror	a
  681                        	!w64:		lsr	<_ah
  682                        			ror	a
  683                        	!w128:		lsr	<_ah
  684                        			ror	a
  685                        			ora	<_al
  686                        			ldy	<_ah
  687                        			.endm
  688                        	
  689               0001     		.if	SUPPORT_SGX
  690                        			.macro	_sgx_vram_addr.2
  691                        			cla
  692                        			bit	sgx_bat_width
  693                        			bmi	!w128+
  694                        			bvs	!w64+
  695                        	!w32:		lsr	<_ah
  696                        			ror	a
  697                        	!w64:		lsr	<_ah
  698                        			ror	a
  699                        	!w128:		lsr	<_ah
  700                        			ror	a
  701                        			ora	<_al
  702                        			ldy	<_ah
  703                        			.endm
  704                        		.endif
  705                        	
  706                        	
  707                        	
  708                        	; ***************************************************************************
  709                        	; ***************************************************************************
  710                        	;
  711                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  712                        	;
  713                        	; unsigned int __fastcall __macro get_vram( unsigned int address<_di> );
  714                        	; void __fastcall __macro put_vram( unsigned int address<_di>, unsigned int data<acc> );
  715                        	;
  716                        	; unsigned int __fastcall __macro sgx_get_vram( unsigned int address<_di> );
  717                        	; void __fastcall __macro sgx_put_vram( unsigned int address<_di>, unsigned int data<acc> );
  718                        	
  719                        			.macro	_get_vram.1
  720                        			jsr	vdc_di_to_marr
  721                        			lda	VDC_DL
  722                        			ldy	VDC_DH
  723                        			.endm
  724                        	
  725                        			.macro	_put_vram.2
  726                        			pha
  727                        			jsr	vdc_di_to_mawr
  728                        			pla
  729                        			sta	VDC_DL
  730                        			sty	VDC_DH
  731                        			.endm
  732                        	
  733               0001     		.if	SUPPORT_SGX
  734                        			.macro	_sgx_get_vram.1
  735                        			jsr	sgx_di_to_marr
  736                        			lda	SGX_DL
  737                        			ldy	SGX_DH
  738                        			.endm
  739                        	
  740                        			.macro	_sgx_put_vram.2
  741                        			pha
  742                        			jsr	sgx_di_to_mawr
  743                        			pla
  744                        			sta	SGX_DL
  745                        			sty	SGX_DH
  746                        			.endm
  747                        		.endif
  748                        	
  749                        	
  750                        	
  751                        	; ***************************************************************************
  752                        	; ***************************************************************************
  753                        	;
  754                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  755                        	;
  756                        	; void __fastcall __macro set_bgpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp> );
  757                        	; void __fastcall __macro set_bgpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_palettes<_ah> );
  758                        	; void __fastcall __macro set_sprpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp> );
  759                        	; void __fastcall __macro set_sprpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_palettes<_ah> );
  760                        	
  761                        	_set_bgpal.2	.macro
  762                        			lda	#1
  763                        			sta	<_ah
  764                        			call	_load_palette.3
  765                        			.endm
  766                        	
  767                        	_set_bgpal.3	.macro
  768                        			call	_load_palette.3
  769                        			.endm
  770                        	
  771                        	_set_sprpal.2	.macro
  772                        			lda	#1
  773                        			sta	<_ah
  774                        			smb4	<_al
  775                        			call	_load_palette.3
  776                        			.endm
  777                        	
  778                        	_set_sprpal.3	.macro
  779                        			smb4	<_al
  780                        			call	_load_palette.3
  781                        			.endm
  782                        	
  783                        	
  784                        	
  785                        	; ***************************************************************************
  786                        	; ***************************************************************************
  787                        	;
  788                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  789                        	;
  790                        	; void __fastcall __macro load_vram( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_words<_ax> );
  791                        	; void __fastcall __macro sgx_load_vram( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_words<_ax> );
  792                        	;
  793                        	; void __fastcall __macro far_load_vram( unsigned int vram<_di>, unsigned int num_words<_ax> );
  794                        	; void __fastcall __macro sgx_far_load_vram( unsigned int vram<_di>, unsigned int num_words<_ax> );
  795                        	;
  796                        	
  797               0001     		.if	SUPPORT_SGX
  798                        			.macro	_sgx_load_vram.3
  799                        			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  800                        			call	load_vram_x
  801                        			.endm
  802                        	
  803                        			.macro	_sgx_far_load_vram.2
  804                        			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  805                        			call	load_vram_x
  806                        			.endm
  807                        		.endif
  808                        	
  809                        			.macro	_load_vram.3
  810                        			clx				; Offset to PCE VDC.
  811                        			call	load_vram_x
  812                        			.endm
  813                        	
  814                        			.macro	_far_load_vram.2
  815                        			clx				; Offset to PCE VDC.
  816                        			call	load_vram_x
  817                        			.endm
  818                        	
  819                        	
  820                        	
  821                        	; ***************************************************************************
  822                        	; ***************************************************************************
  823                        	;
  824                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  825                        	;
  826                        	; void __fastcall __macro load_sprites( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_groups<acc> );
  827                        	; void __fastcall __macro sgx_load_sprites( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_groups<acc> );
  828                        	; void __fastcall __macro far_load_sprites( unsigned int vram<_di>, unsigned int num_groups<acc> );
  829                        	; void __fastcall __macro sgx_far_load_sprites( unsigned int vram<_di>, unsigned int num_groups<acc> );
  830                        	
  831               0001     		.if	SUPPORT_SGX
  832                        			.macro	_sgx_load_sprites.3
  833                        			stz.l	<_ax
  834                        			asl	a
  835                        			sta.h	<_ax
  836                        			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  837                        			call	load_vram_x
  838                        			.endm
  839                        	
  840                        			.macro	_sgx_far_load_sprites.2
  841                        			stz.l	<_ax
  842                        			asl	a
  843                        			sta.h	<_ax
  844                        			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  845                        			call	load_vram_x
  846                        			.endm
  847                        		.endif
  848                        	
  849                        			.macro	_load_sprites.3
  850                        			stz.l	<_ax
  851                        			asl	a
  852                        			sta.h	<_ax
  853                        			clx				; Offset to PCE VDC.
  854                        			call	load_vram_x
  855                        			.endm
  856                        	
  857                        			.macro	_far_load_sprites.2
  858                        			stz.l	<_ax
  859                        			asl	a
  860                        			sta.h	<_ax
  861                        			clx				; Offset to PCE VDC.
  862                        			call	load_vram_x
  863                        			.endm
  864                        	
  865                        	
  866                        	
  867                        	; ***************************************************************************
  868                        	; ***************************************************************************
  869                        	;
  870                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  871                        	;
  872                        	; void __fastcall load_default_font( void );
  873                        	; void __fastcall sgx_load_default_font( void );
  874                        	;
  875                        	
  876               0001     		.if	SUPPORT_SGX
  877                        			.macro	_sgx_load_default_font
  878                        			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  879                        			call	huc_monofont_x
  880                        			.endm
  881                        		.endif
  882                        	
  883                        			.macro	_load_default_font
  884                        			clx				; Offset to PCE VDC.
  885                        			call	huc_monofont_x
  886                        			.endm
  887                        	
  888                        	
  889                        	
  890                        	; ***************************************************************************
  891                        	; ***************************************************************************
  892                        	
  893               0000     		.if	0
  911                        		.endif
                             #[2]   "..\..\..\include\hucc\hucc.asm"
  245                        	
  246               0000     		.if	CDROM
  248                        		.endif
  249                        	
  250                        			; Definitions for compatibility with old HuC/MagicKit projects.
  251                        	
  252               0001     		.ifndef	HUCC_NO_DEPRECATED
                             #[3]   "..\..\..\include\hucc\hucc-deprecated.inc"
  253                        			include	"hucc-deprecated.inc"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-deprecated.inc
    5                        	;
    6                        	; Macros and definitions for compatibility with old HuC/MagicKit projects.
    7                        	;
    8                        	; Based on the original HuC and MagicKit definitions by David Michel and the
    9                        	; other original HuC developers.
   10                        	;
   11                        	; ***************************************************************************
   12                        	; ***************************************************************************
   13                        	
   14                        			; For compatibility with HuC projects that use the old name.
   15                        	
   16               0001     	HUC_USER_RESERVED = HUC_USER_BANK
   17                        	
   18                        			; For compatibility with code that expects the HuC naming that
   19                        			; is used in the newer HuC, rather than the original HuC v3.21.
   20                        			;
   21                        			; Code generated by HuCC uses the original single-underscore.
   22                        	
   23               0001     		.if	1				
   24               0002     	__bp		=	$F8:20EC, 2		; base pointer
   25               0002     	__si		=	$F8:20EE, 2		; source address
   26               0002     	__di		=	$F8:20F0, 2		; destination address
   27                        	
   28               0002     	__ax		=	$F8:20F8, 2
   29               0001     	__al		=	$F8:20F8, 1
   30               0001     	__ah		=	$F8:20F9, 1
   31                        	
   32               0002     	__bx		=	$F8:20FA, 2
   33               0001     	__bl		=	$F8:20FA, 1
   34               0001     	__bh		=	$F8:20FB, 1
   35                        	
   36               0002     	__cx		=	$F8:20FC, 2
   37               0001     	__cl		=	$F8:20FC, 1
   38               0001     	__ch		=	$F8:20FD, 1
   39                        	
   40               0002     	__dx		=	$F8:20FE, 2
   41               0001     	__dl		=	$F8:20FE, 1
   42               0001     	__dh		=	$F8:20FF, 1
   43                        		.endif
   44                        	
   45                        			; For compatibility with code that expects the HuC naming that
   46                        			; is used rather than the shorter upper-case #define naming.
   47                        	
   48               0001     		.if	1				
   49               0001     	video_reg	=	$FF:0200, 1		; Address/Status Register
   50               0001     	video_reg_l	=	$FF:0200, 1		; Address/Status Register
   51               0001     	video_reg_h	=	$FF:0201, 1		; Address/Status Register
   52               0002     	video_data	=	$FF:0202, 2		; Data (Read/Write) Low
   53               0001     	video_data_l	=	$FF:0202, 1		; Data (Read/Write) Low
   54               0001     	video_data_h	=	$FF:0203, 1		; Data (Read/Write) High
   55                        	
   56               0002     	color_ctrl	=	$FF:0400, 2		; Control Register
   57               0002     	color_reg	=	$FF:0402, 2		; Color Table Address
   58               0001     	color_reg_l	=	$FF:0402, 1		; Color Table Address
   59               0001     	color_reg_h	=	$FF:0402, 1		; Color Table Address
   60               0002     	color_data	=	$FF:0404, 2		; Color Table Data Read/Write
   61               0001     	color_data_l	=	$FF:0404, 1		; Color Table Data Read/Write
   62               0001     	color_data_h	=	$FF:0405, 1		; Color Table Data Read/Write
   63                        	
   64               0001     	psg_ch		=	$FF:0800, 1		; Channel Select
   65               0001     	psg_mainvol	=	$FF:0801, 1		; Main Amplitude Level
   66               0001     	psg_freqlo	=	$FF:0802, 1		; Frequency Low
   67               0001     	psg_freqhi	=	$FF:0803, 1		; Frequency High
   68               0001     	psg_ctrl	=	$FF:0804, 1		; Control & Channel Amplitude
   69               0001     	psg_pan		=	$FF:0805, 1		; L/R Amplitude Level
   70               0001     	psg_wavebuf	=	$FF:0806, 1		; Waveform
   71               0001     	psg_noise	=	$FF:0807, 1		; Noise
   72               0001     	psg_lfofreq	=	$FF:0808, 1		; LFO Frequency
   73               0001     	psg_lfoctrl	=	$FF:0809, 1		; LFO Control
   74                        	
   75               0001     	irq_m		=	irq_vec, 1		; Old System Card name.
   76               0002     	irq2_jmp	=	irq2_hook, 2		; Old System Card name.
   77               0002     	irq1_jmp	=	irq1_hook, 2		; Old System Card name.
   78               0002     	timer_jmp	=	timer_hook, 2		; Old System Card name.
   79               0002     	nmi_jmp		=	nmi_hook, 2		; Old System Card name.
   80               0002     	sat_adr		=	satb_addr, 2		; Old System Card name.
   81               0005     	joy		=	joynow, 5		; Old System Card name.
   82               0001     	mwr_m		=	vdc_mwr, 1		; Old System Card name.
   83               0001     	dcr_m		=	vdc_dcr, 1		; Old System Card name.
   84                        		.endif
   85                        	
   86                        			; Macros for compatibility with #asm usage in old HuC projects.
   87                        	
   88                        	stw		.macro
   89                        			lda.l	\1
   90                        			sta.l	\2
   91                        			lda.h	\1
   92                        			sta.h	\2
   93                        			.endm
   94                        	
   95                        	stb		.macro
   96                        			lda	\1
   97                        			sta	\2
   98                        			.endm
   99                        	
  100                        	addw		.macro
  101                        		.if	(\# = 3)
  102                        			clc
  103                        			lda.l	\2
  104                        			adc.l	\1
  105                        			sta.l	\3
  106                        			lda.h	\2
  107                        			adc.h	\1
  108                        			sta.h	\3
  109                        		.else
  110                        			clc
  111                        			lda.l	\2
  112                        			adc.l	\1
  113                        			sta.l	\2
  114                        			lda.h	\2
  115                        			adc.h	\1
  116                        			sta.h	\2
  117                        		.endif
  118                        			.endm
  119                        	
  120                        	add		.macro			; add byte-sized value to
  121                        		.if (\# = 2)			; register A (handle carry
  122                        			lda	\2		; flag)
  123                        			clc
  124                        			adc	\1
  125                        			sta	\2
  126                        		.else
  127                        			clc
  128                        			adc	\1
  129                        		.endif
  130                        			.endm
  131                        	
  132                        	subw		.macro
  133                        			sec
  134                        			lda.l	\2
  135                        			sbc.l	\1
  136                        			sta.l	\2
  137                        			lda.h	\2
  138                        			sbc.h	\1
  139                        			sta.h	\2
  140                        			.endm
  141                        	
  142                        	sub		.macro			; subtract byte-sized value
  143                        		.if (\# = 2)			; from register A (handle
  144                        			lda	\2		; carry flag)
  145                        			sec
  146                        			sbc	\1
  147                        			sta	\2
  148                        		.else
  149                        			sec
  150                        			sbc	\1
  151                        		.endif
  152                        			.endm
  153                        	
  154                        	incw		.macro			; increment a word-sized
  155                        			inc.l	\1		; value at stated memory
  156                        			bne	!+		; location
  157                        			inc.h	\1
  158                        	!:
  159                        			.endm
  160                        	
  161                        	decw		.macro			; decrement a word-sized
  162                        			lda	\1		; value at stated memory
  163                        			bne	!+		; location
  164                        			dec.h	\1
  165                        	!:		dec.l	\1
  166                        			.endm
  167                        	
  168                        	lbne		.macro
  169                        			bne	\1
  170                        			.endm
  171                        	
  172                        	lbeq		.macro
  173                        			beq	\1
  174                        			.endm
  175                        	
  176                        	lbpl		.macro
  177                        			bpl	\1
  178                        			.endm
  179                        	
  180                        	lbmi		.macro
  181                        			bmi	\1
  182                        			.endm
  183                        	
  184                        	lbcc		.macro
  185                        			bcc	\1
  186                        			.endm
  187                        	
  188                        	lbcs		.macro
  189                        			bcs	\1
  190                        			.endm
  191                        	
  192                        	lblo		.macro
  193                        			bcc	\1
  194                        			.endm
  195                        	
  196                        	lbhs		.macro
  197                        			bcs	\1
  198                        			.endm
  199                        	
  200                        	__ldwi		.macro
  201                        		__ld.wi		\1
  202                        			.endm
                             #[2]   "..\..\..\include\hucc\hucc.asm"
  254                        		.endif
  255                        	
  256                        			;
  257                        			;
  258                        			;
  259                        	
  260                        	
  261                        	
  262                        	; ***************************************************************************
  263                        	; ***************************************************************************
  264                        	;
  265                        	; core_main - This is executed after "CORE(not TM)" library initialization.
  266                        	;
  267                        	; This is the first code assembled after the library includes, so we're still
  268                        	; in the CORE_BANK, usually ".bank 0"; and because this is assembled with the
  269                        	; default configuration from "include/core-config.inc", which sets the option
  270                        	; "USING_MPR7", then we're running in MPR7 ($E000-$FFFF).
  271                        	
  272    1F:D01C             	core_main	.proc
  273                        	
  274               0001     		.if	SUPPORT_SGX
  275    1F:D01C  A9 F9      			lda	#$F9			; Map the 2nd SGX RAM bank.
  276                        		.else
  278                        		.endif
  279    1F:D01E  53 04      			tam2
  280                        	
  281    1F:D020  A9 01      			lda	#CONST_BANK + _bank_base; Map HuCC's .RODATA bank.
  282    1F:D022  53 08      			tam3
  283    1F:D024  1A         			inc	a
  284    1F:D025  53 10      			tam4
  285                        	
  286               0000     		.ifdef	HOME_BANK
  288                        		.else
  289    1F:D027  1A         			inc	a
  290                        		.endif
  291    1F:D028  53 20      			tam5
  292                        	
  293    1F:D02A  08         			php				; Disable interrupts while
  294    1F:D02B  78         			sei				; clearing overlay's BSS.
  295                        	
  296               0000     		.ifndef	USING_RCR_MACROS
  311                        		.endif	USING_RCR_MACROS
  312                        	
  313    1F:D02C  A9 E0      			lda	#<hucc_vbl		; Setup HuCC's VBL IRQ handler.
  314    1F:D02E  8D 08 22   			sta.l	vsync_hook
  315    1F:D031  A9 E2      			lda	#>hucc_vbl
  316    1F:D033  8D 09 22   			sta.h	vsync_hook
  317                        	
  318               0000     		.if	CDROM				; Overlays should clear BSS.
  320                        		.else
  321    1F:D036  73 83 D0 F0			tii	.rom_tia, ram_tia, 16	; Only needed on HuCARD.
         1F:D03A  22 10 00    
  322                        		.endif	CDROM
  323                        	
  324               0000     		.if	(_xinit_end - _xinit_start)	; Copy initialized BSS data.
  326                        		.endif
  327                        	
  328    1F:D03D  F3 81 D0 08			tai	.stack_fill, __stack, HUCC_STACK_SZ
         1F:D041  20 80 00    
  329                        	
  330               0000     		.if	FAST_MULTIPLY
  339                        		.endif
  340                        	
  341    1F:D044  A9 10      			lda	#$10			; Enable HuCC's vblank IRQ
  342    1F:D046  04 F5      			tsb	<irq_vec		; handler.
  343                        	
  344                        			__sound_init			; Initialize a sound driver.
  345                        	
  346    1F:D048  AD 00 02   			lda	VDC_SR			; Purge any overdue VBL.
  347    1F:D04B  9C 41 22   			stz	irq_cnt			; Make it easy to check.
  348                        	
  349    1F:D04E  28         			plp				; Restore interrupts.
  350                        	
  351               0001     		.ifndef	HUCC_NO_DEFAULT_SCREEN
  352    1F:D04F  20 D1 FF   			call	_init_256x224		; HuCC initializes the VDC and
  353    1F:D052  20 2A E4   			jsr	set_dspon		; turns the display on.
  354                        		.endif
  355                        	
  356               0001     		.ifndef	HUCC_NO_DEFAULT_FONT
  357    1F:D055  A9 01      			lda	#1			; HuCC loads a default font.
  358    1F:D057  8D F5 26   			sta	monofont_fg
  359    1F:D05A  9C F6 26   			stz	monofont_bg
  360                        			_load_default_font
         1F:D05D  82         			clx				; Offset to PCE VDC.
         1F:D05E  20 C7 FF   			call	huc_monofont_x
  361    1F:D061  A9 01      			lda	#$01			; Set the font palette entry to
  362    1F:D063  8D 02 04   			sta.l	VCE_CTA			; cyan which is a) visible, but
  363    1F:D066  9C 03 04   			stz.h	VCE_CTA			; b) a clear indicator that the
  364    1F:D069  A0 96      			ldy	#$96			; user hasn't set a palette yet.
  365    1F:D06B  8C 04 04   			sty.l	VCE_CTW
  366    1F:D06E  8D 05 04   			sta.h	VCE_CTW
  367                        		.endif
  368                        	
  369               0001     		.ifndef	HUCC_NO_DEFAULT_RANDOM
  370    1F:D071  AC 41 22   			ldy	irq_cnt			; Initialize random seed.
  371    1F:D074  20 BD FF   			call	init_random
  372                        		.endif
  373                        	
  374    1F:D077  A2 80      			ldx	#HUCC_STACK_SZ		; Initialize the HuCC stack.
  375    1F:D079  86 8D      			stx	<__sp
  376                        	
  377    1F:D07B  20 B3 FF   			call	_main			; Execute the HuCC program.
  378                        	
  379    1F:D07E  4C 88 E2   			jmp	_exit.1			; Pass the exit code on.
  380                        	
  381    1F:D081  EA EA      	.stack_fill:	db	$EA,$EA			; To make it easier to see.
  382                        	
  383               0001     		.if	!CDROM
  384                        	
  385    1F:D083  E3 34 12 02	.rom_tia:	tia	$1234, VDC_DL, 32
         1F:D087  02 20 00    
  386    1F:D08A  60         			rts
  387                        	
  388    1F:D08B  73 34 12 78	.rom_tii:	tii	$1234, $5678, $9ABC
         1F:D08F  56 BC 9A    
  389    1F:D092  60         			rts
  390                        	
  391               22F0     			.bss
  392    F8:22F0             	ram_tia:	ds	8
  393    F8:22F8             	ram_tii:	ds	8
  394               D093     			.code
  395                        	
  396                        		.endif	!CDROM
  397                        	
  398                        			.endp
  399                        	
  400                        			;
  401                        			; Self-Modifying TIA and TII instruction subroutines.
  402                        			;
  403                        			; These need to be in permanently-accessible memory so that
  404                        			; HuCC code can modify the values as __fastcall parameters.
  405                        			;
  406                        	
  407               0000     		.if	CDROM
  415                        		.endif	CDROM
  416                        	
  417               22F0     			rsset	ram_tia
  418               22F0     	ram_tia_opc	rs	1
  419               22F1     	ram_tia_src	rs	2
  420               22F3     	ram_tia_dst	rs	2
  421               22F5     	ram_tia_len	rs	2
  422               22F7     	ram_tia_rts	rs	1
  423                        	
  424               22F8     			rsset	ram_tii
  425               22F8     	ram_tii_opc	rs	1
  426               22F9     	ram_tii_src	rs	2
  427               22FB     	ram_tii_dst	rs	2
  428               22FD     	ram_tii_len	rs	2
  429               22FF     	ram_tii_rts	rs	1
  430                        	
  431                        	
  432                        	
  433                        	; ***************************************************************************
  434                        	; ***************************************************************************
  435                        	;
  436                        	; hucc_vbl - vblank IRQ handler, called by the "CORE(not TM)" kernel.
  437                        	;
  438                        	; This uses the kernel's hook to process things during vblank. It returns
  439                        	; with a simple RTS, and it can corrupt any register.
  440                        	;
  441                        	; Any slow routines in here should enable interrupts and protect itself from
  442                        	; re-entrancy problems.
  443                        	;
  444                        	
  445    00:E2E0  20 A9 FF   	hucc_vbl:	call	vbl_init_scroll		; Prepare for the next frame.
  446                        	
  447    00:E2E3  F8         			sed				; Update the HuC system clock
  448    00:E2E4  38         			sec				; which is in BCD here rather
  449    00:E2E5  AD EC 22   			lda	__clock_tt		; than the binary one in HuC.
  450    00:E2E8  69 00      			adc	#0			; BCD add ...
  451    00:E2EA  C9 60      			cmp	#$60			; ... but binary comparison.
  452    00:E2EC  90 28      			bcc	.ticks
  453    00:E2EE  AD ED 22   			lda	__clock_ss
  454    00:E2F1  69 00      			adc	#0			; BCD add ...
  455    00:E2F3  C9 60      			cmp	#$60			; ... but binary comparison.
  456    00:E2F5  90 1B      			bcc	.seconds
  457    00:E2F7  AD EE 22   			lda	__clock_mm
  458    00:E2FA  69 00      			adc	#0			; BCD add ...
  459    00:E2FC  C9 60      			cmp	#$60			; ... but binary comparison.
  460    00:E2FE  90 0E      			bcc	.minutes
  461    00:E300  AD EF 22   			lda	__clock_hh
  462    00:E303  69 00      			adc	#0			; BCD add ...
  463    00:E305  C9 12      			cmp	#$12			; ... but binary comparison.
  464    00:E307  90 01      			bcc	.hours
  465    00:E309  62         			cla
  466    00:E30A  8D EF 22   	.hours:		sta	__clock_hh
  467    00:E30D  62         			cla
  468    00:E30E  8D EE 22   	.minutes:	sta	__clock_mm
  469    00:E311  62         			cla
  470    00:E312  8D ED 22   	.seconds:	sta	__clock_ss
  471    00:E315  62         			cla
  472    00:E316  8D EC 22   	.ticks:		sta	__clock_tt
  473    00:E319  D8         			cld
  474                        	
  475    00:E31A  4C AA E3   			jmp	xfer_palettes		; Upload any palette changes.
                             #[1]   "main.s"
   15                        		.opt		@+
   16               E31D     		.code
   17                        	
   18                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 1; // **************************************************************************
   19                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 2; // **************************************************************************
   20                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 3; //
   21                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 4; // globals.h
   22                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 5; //
   23                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 6; // **************************************************************************
   24                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 7; // **************************************************************************
   25                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 8; //
   26                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 9; // The idea is that you, a PCE developer, copy this file from the ../include/
   27                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 10; // directory and into your project's directory, and then define the variables
   28                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 11; // that you want to have shared access to in all overlay programs on your CD.
   29                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 12; //
   30                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 13; // Because PCEAS searches the current (i.e. project) directory for an include
   31                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 14; // file first, then it will find your customized copy of the file rather than
   32                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 15; // the original copy in the ../include/ directory.
   33                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 16; //
   34                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 17; // **************************************************************************
   35                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 18; // **************************************************************************
   36                        		.dbg	clear
   37               2300     		.bss
   38    F8:2300             	huc_globals:
   39                        	
   40    F8:2300             	huc_globals_end:
   41               E31D     		.code
   42                        		.dbg	line,	"main.c", 1; #include "huc.h"
   43                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
   44                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
   45                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
   46                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
   47                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
   48                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
   49                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
   50                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
   51                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
   52                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
   53                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
   54                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
   55                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
   56                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
   57                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
   58                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
   59                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
   60                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
   61                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
   62                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
   63                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
   64                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
   65                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
   66                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
   67                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
   68                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
   69                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
   70                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
   71                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
   72                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
   73                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
   74                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 1; #ifndef _hucc_systemcard_h
   75                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 2; #define _hucc_systemcard_h
   76                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 4; /****************************************************************************
   77                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 5; ; ***************************************************************************
   78                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 6; ;
   79                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 7; ; hucc-systemcard.h
   80                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 8; ;
   81                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 9; ; Macros and library functions for using the System Card.
   82                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 10; ;
   83                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 11; ; Copyright John Brandwood 2024.
   84                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 12; ;
   85                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 13; ; Distributed under the Boost Software License, Version 1.0.
   86                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
   87                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
   88                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 16; ;
   89                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 17; ; ***************************************************************************
   90                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 18; ; ***************************************************************************
   91                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 19; ;
   92                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 20; ; Because these are mainly macros, and so must be included before being used
   93                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 21; ; in compiled code, the actual functions here are written to avoid using any
   94                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 22; ; BSS memory so that HuCC's overlay global-shared-variables are not effected.
   95                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 23; ;
   96                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 24; ; ***************************************************************************
   97                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 25; ; **************************************************************************/
   98                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 27; // *************
   99                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 28; // Backup RAM defines ...
  100                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 29; // *************
  101                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 31; #define  BM_OK             0
  102                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 32; #define  BM_NOT_FOUND      1
  103                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 33; #define  BM_BAD_CHECKSUM   2
  104                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 34; #define  BM_DIR_CORRUPTED  3
  105                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 35; #define  BM_FILE_EMPTY     4
  106                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 36; #define  BM_FULL           5
  107                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 37; #define  BM_NOT_FORMATED   0xFF			// HuC incorrect spelling.
  108                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 38; #define  BM_NOT_FORMATTED  0xFF			// HuCC can use a dictionary!
  109                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 40; #define  BRAM_STARTPTR     0x8010
  110                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 42; // *************
  111                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 43; // CD defines ...
  112                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 44; // *************
  113                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 46; #define	CDPLAY_MUTE		0
  114                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 47; #define	CDPLAY_REPEAT		1
  115                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 48; #define	CDPLAY_NORMAL		2
  116                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 49; #define	CDPLAY_ENDOFDISC	0
  117                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 51; #define	CDFADE_CANCEL	0
  118                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 52; #define	CDFADE_PCM6	8
  119                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 53; #define	CDFADE_ADPCM6	10
  120                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 54; #define	CDFADE_PCM2	12
  121                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 55; #define	CDFADE_ADPCM2	14
  122                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 57; #define CDTRK_AUDIO	0
  123                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 58; #define CDTRK_DATA	4
  124                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 60; // *************
  125                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 61; // ADPCM defines ...
  126                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 62; // *************
  127                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 64; #define	ADPLAY_AUTOSTOP		0
  128                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 65; #define	ADPLAY_REPEAT		0x80
  129                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 67; #define ADPLAY_FREQ_16KHZ	0xE
  130                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 68; #define ADPLAY_FREQ_10KHZ	0xD
  131                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 69; #define ADPLAY_FREQ_8KHZ	0xC
  132                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 70; #define ADPLAY_FREQ_6KHZ	0xB
  133                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 71; #define ADPLAY_FREQ_5KHZ	0xA
  134                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 73; #define ADREAD_RAM	0
  135                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 74; #define ADREAD_VRAM	0xFF
  136                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 76; #define ADWRITE_RAM	0
  137                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 77; #define ADWRITE_VRAM	0xFF
  138                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 79; // *************
  139                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 80; // Functions in hucc-systemcard.asm ...
  140                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 81; // *************
  141                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 83; #ifdef __HUCC__
  142                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 85; #asmdef	HUCC_USES_SYSTEMCARD 1
  143               0001     	HUCC_USES_SYSTEMCARD = 1
  144                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 87; extern void __fastcall __macro cd_boot( void );
  145                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 88; extern unsigned int __fastcall __macro cd_getver( void );
  146                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 89; extern void __fastcall __macro cd_reset( void );
  147                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 90; extern unsigned char __fastcall __macro cd_pause( void );
  148                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 91; extern unsigned char __fastcall cd_unpause( void );
  149                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 92; extern void __fastcall __macro cd_fade( unsigned char type<acc> );
  150                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 93; extern unsigned char __fastcall cd_playtrk( unsigned char start_track<_bx>, unsigned char end_track<_cx>, unsigned char mode<_dh> );
  151                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 94; extern unsigned char __fastcall cd_playmsf( unsigned char start_minute<_al>,  unsigned char start_second<_ah>,  unsigned char start_frame<_bl>, unsigned char end_minute<_cl>,  unsigned char end_second<_ch>,  unsigned char end_frame<_dl>,  unsigned char mode<_dh> );
  152                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 95; extern unsigned char __fastcall cd_fastvram( unsigned char ovl_index<_cl>, unsigned int sect_offset<_si>, unsigned int vramaddr<_bx>, unsigned int sectors<_al> );
  153                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 96; extern unsigned char __fastcall cd_loadvram( unsigned char ovl_index<_cl>, unsigned int sect_offset<_si>, unsigned int vramaddr<_bx>, unsigned int bytes<_ax> );
  154                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 97; extern unsigned char __fastcall cd_loaddata( unsigned char ovl_index<_cl>, unsigned int sect_offset<_si>, unsigned char __far *buffer<_bp_bank:_bp>, unsigned int bytes<__ptr> );
  155                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 98; extern unsigned char __fastcall cd_loadbank( unsigned char ovl_index<_cl>, unsigned int sect_offset<_si>, unsigned char bank<_bl>, unsigned int sectors<_al> );
  156                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 99; extern unsigned char __fastcall __macro cd_status( unsigned char mode<acc> );
  157                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 101; extern void __fastcall __macro ad_reset( void );
  158                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 102; extern unsigned char __fastcall __macro ad_trans( unsigned char ovl_index<_cl>, unsigned int sect_offset<_si>, unsigned char nb_sectors<_dh>, unsigned int ad_addr<_bx> );
  159                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 103; extern void __fastcall __macro ad_read( unsigned int ad_addr<_cx>, unsigned char mode<_dh>, unsigned int buf<_bx>, unsigned int bytes<_ax> );
  160                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 104; extern void __fastcall __macro ad_write( unsigned int ad_addr<_cx>, unsigned char mode<_dh>, unsigned int buf<_bx>, unsigned int bytes<_ax> );
  161                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 105; extern unsigned char __fastcall __macro ad_play( unsigned int ad_addr<_bx>, unsigned int bytes<_ax>, unsigned char freq<_dh>, unsigned char mode<_dl> );
  162                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 106; extern unsigned char __fastcall __macro ad_cplay( unsigned char ovl_index<_cl>, unsigned int sect_offset<_si>, unsigned int nb_sectors<_bx>, unsigned char freq<_dh> );
  163                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 107; extern void __fastcall __macro ad_stop( void );
  164                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 108; extern unsigned char __fastcall __macro ad_stat( void );
  165                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 110; extern unsigned char __fastcall bm_check( void );
  166                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 111; extern unsigned char __fastcall bm_format( void );
  167                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 112; extern unsigned int __fastcall __macro bm_free( void );
  168                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 113; extern unsigned char __fastcall __macro bm_read( unsigned char *buffer<_bx>, unsigned char *name<_ax>, unsigned int offset<_dx>, unsigned int length<_cx> );
  169                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 114; extern unsigned char __fastcall __macro bm_write( unsigned char *buffer<_bx>, unsigned char *name<_ax>, unsigned int offset<_dx>, unsigned int length<_cx> );
  170                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 115; extern unsigned char __fastcall __macro bm_delete( unsigned char *name<_ax> );
  171                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 117; // Deprecated functions ...
  172                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 119; extern unsigned char __fastcall __macro bm_exist( unsigned char *name<_ax> );
  173                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 120; extern unsigned char __fastcall __macro bm_create( unsigned char *name<_ax>, unsigned int length<_cx> );
  174                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 122; // void __fastcall _xsafe add_sectors( unsigned int sector_offset<acc> );
  175                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 124; #endif // __HUCC__
  176                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 126; #endif // _hucc_systemcard_h
  177                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
  178                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 1; #ifndef _hucc_baselib_h
  179                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 2; #define _hucc_baselib_h
  180                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 4; /****************************************************************************
  181                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 5; ; ***************************************************************************
  182                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 6; ;
  183                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 7; ; hucc-baselib.h
  184                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 8; ;
  185                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 9; ; Basic library functions provided as macros.
  186                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 10; ;
  187                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 11; ; Copyright John Brandwood 2024.
  188                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 12; ;
  189                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 13; ; Distributed under the Boost Software License, Version 1.0.
  190                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
  191                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
  192                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 16; ;
  193                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 17; ; ***************************************************************************
  194                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 18; ; **************************************************************************/
  195                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 20; // *************
  196                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 21; // Joypad defines ...
  197                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 22; // *************
  198                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 24; #define	JOY_A		0x01
  199                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 25; #define	JOY_I		0x01
  200                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 26; #define	JOY_B		0x02
  201                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 27; #define	JOY_II		0x02
  202                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 28; #define	JOY_SLCT	0x04
  203                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 29; #define	JOY_SEL		0x04
  204                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 30; #define	JOY_STRT	0x08
  205                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 31; #define	JOY_RUN		0x08
  206                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 32; #define	JOY_UP		0x10
  207                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 33; #define	JOY_RGHT	0x20
  208                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 34; #define	JOY_RIGHT	0x20
  209                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 35; #define	JOY_DOWN	0x40
  210                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 36; #define	JOY_LEFT	0x80
  211                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 38; #define	JOY_C		0x0100
  212                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 39; #define	JOY_III		0x0100
  213                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 40; #define	JOY_D		0x0200
  214                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 41; #define	JOY_IV		0x0200
  215                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 42; #define	JOY_E		0x0400
  216                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 43; #define	JOY_V		0x0400
  217                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 44; #define	JOY_F		0x0800
  218                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 45; #define	JOY_VI		0x0800
  219                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 47; #define JOY_SIXBUT	0x8000
  220                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 48; #define JOY_TYPE6	0x8000
  221                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 50; // *************
  222                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 51; // SuperGRAFX VPC settings for set_vpc_ctl() ...
  223                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 52; // *************
  224                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 54; #define VPC_SPR1_BKG1_SPR2_BKG2	0x3000 // same as SGX_PARALLAX=0
  225                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 55; #define VPC_SPR1_SPR2_BKG1_BKG2	0x7000 // same as SGX_PARALLAX=1
  226                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 56; #define VPC_BKG1_BKG2_SPR1_SPR2	0xB000
  227                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 58; // *************
  228                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 59; // System Card variables ...
  229                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 60; // *************
  230                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 62; extern unsigned int si;
  231                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 63; extern unsigned int di;
  232                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 64; extern unsigned int bp;
  233                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 66; extern unsigned int ax;
  234                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 67; extern unsigned int bx;
  235                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 68; extern unsigned int cx;
  236                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 69; extern unsigned int dx;
  237                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 71; extern unsigned char al;
  238                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 72; extern unsigned char ah;
  239                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 73; extern unsigned char bl;
  240                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 74; extern unsigned char bh;
  241                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 75; extern unsigned char cl;
  242                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 76; extern unsigned char ch;
  243                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 77; extern unsigned char dl;
  244                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 78; extern unsigned char dh;
  245                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 80; extern unsigned char irq_cnt;
  246                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 81; extern unsigned char joynow[5];
  247                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 82; extern unsigned char joytrg[5];
  248                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 83; extern unsigned char joy6now[5];
  249                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 84; extern unsigned char joy6trg[5];
  250                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 85; extern unsigned int  bg_x1;
  251                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 86; extern unsigned int  bg_y1;
  252                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 87; extern unsigned int  bg_x2;
  253                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 88; extern unsigned int  bg_y2;
  254                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 90; // *************
  255                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 91; // Special macros to get information from PCEAS ...
  256                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 92; // *************
  257                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 94; #define BANK( datasym ) ((unsigned) (&__bank__ ## datasym))
  258                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 95; #define SIZEOF( datasym ) ((unsigned) (&__sizeof__ ## datasym))
  259                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 96; #define COUNTOF( datasym ) ((unsigned) (&__countof__ ## datasym))
  260                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 97; #define OVERLAY( datasym ) ((unsigned) (&__overlay__ ## datasym))
  261                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 100; // *************
  262                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 101; // Functions in hucc-baselib.asm ...
  263                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 102; // *************
  264                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 104; #ifdef __HUCC__
  265                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 106; #asmdef	HUCC_USES_BASELIB 1
  266               0001     	HUCC_USES_BASELIB = 1
  267                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 108; #define	_OPTIMIZE 1
  268                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 111; // *************
  269                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 112; // Hardware Detection
  270                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 113; // *************
  271                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 115; extern unsigned char __fastcall __macro sgx_detect( void );
  272                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 116; extern unsigned char __fastcall __macro ac_exists( void );
  273                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 119; // *************
  274                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 120; // Memory Access
  275                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 121; // *************
  276                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 123; extern unsigned char __fastcall __macro peek( unsigned int addr<__ptr> );
  277                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 124; extern unsigned int  __fastcall __macro peekw( unsigned int addr<__ptr> );
  278                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 126; extern void __fastcall __macro poke( unsigned int addr<__poke>, unsigned char with<acc> );
  279                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 127; extern void __fastcall __macro pokew( unsigned int addr<__poke>, unsigned int with<acc> );
  280                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 129; extern unsigned char __fastcall farpeek( void __far *addr<_bp_bank:_bp> );
  281                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 130; extern unsigned int  __fastcall farpeekw( void __far *addr<_bp_bank:_bp> );
  282                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 132; extern void __fastcall __nop set_far_base( unsigned char data_bank<_bp_bank>, unsigned char *data_addr<_bp> );
  283                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 133; extern void __fastcall set_far_offset( unsigned int offset<_bp>, unsigned char data_bank<_bp_bank>, unsigned char *data_addr<acc> );
  284                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 135; extern unsigned char __fastcall far_peek( void );
  285                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 136; extern unsigned int  __fastcall far_peekw( void );
  286                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 138; extern void __fastcall __macro reset_mpr2( void );
  287                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 139; extern void __fastcall __macro reset_mpr34( void );
  288                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 141; extern void * __fastcall __macro farset_mpr2( void __far *addr<_bp_bank:_bp> );
  289                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 142; extern void * __fastcall __macro farset_mpr34( void __far *addr<_bp_bank:_bp> );
  290                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 144; extern void * __fastcall __macro far_set_mpr2( void );
  291                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 145; extern void * __fastcall __macro far_set_mpr34( void );
  292                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 148; // *************
  293                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 149; // Clock Functions
  294                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 150; // *************
  295                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 152; extern unsigned char __fastcall __macro clock_hh( void );
  296                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 153; extern unsigned char __fastcall __macro clock_mm( void );
  297                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 154; extern unsigned char __fastcall __macro clock_ss( void );
  298                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 155; extern unsigned char __fastcall __macro clock_tt( void );
  299                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 156; extern void __fastcall __macro clock_reset( void );
  300                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 159; // *************
  301                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 160; // Joypad Functions
  302                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 161; // *************
  303                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 163; extern unsigned int __fastcall __macro joy( unsigned char which<acc> );
  304                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 164; extern unsigned int __fastcall __macro joytrg( unsigned char which<acc> );
  305                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 167; // *************
  306                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 168; // Number Functions
  307                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 169; // *************
  308                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 171; extern void __fastcall __macro srand( unsigned char seed<acc> );
  309                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 172; extern unsigned int __fastcall rand( void );
  310                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 173; extern unsigned char __fastcall rand8( void );
  311                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 175; // Note: "limit" is 0..255.
  312                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 176; extern unsigned char __fastcall random8( unsigned char limit<acc> );
  313                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 178; // Note: "limit" is 0..128, 129..255 are treated as 128!
  314                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 179; extern unsigned char __fastcall random( unsigned char limit<acc> );
  315                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 182; // *************
  316                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 183; // Overlay Execution
  317                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 184; // *************
  318                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 186; extern unsigned char __fastcall __macro cd_execoverlay( unsigned char ovl_index<acc> );
  319                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 189; // *************
  320                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 190; // Functions that are only optionally available if configured in your hucc-config.inc
  321                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 191; // *************
  322                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 193; extern unsigned int __fastcall __macro joybuf( unsigned char which<acc> );
  323                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 194; extern unsigned int __fastcall __macro get_joy_events( unsigned char which<acc> );
  324                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 195; extern void __fastcall __macro clear_joy_events( unsigned char mask<acc> );
  325                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 198; // *************
  326                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 199; // Functions that are only implemented in the TGEMU emulator for unit-testing
  327                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 200; // the compiler, and which should never be used in normal HuCC projects ...
  328                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 201; // *************
  329                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 203; extern void __fastcall dump_screen( void );
  330                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 205; #endif // __HUCC__
  331                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 207; #endif // _hucc_baselib_h
  332                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
  333                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 1; #ifndef _hucc_gfx_h
  334                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 2; #define _hucc_gfx_h
  335                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 4; /****************************************************************************
  336                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 5; ; ***************************************************************************
  337                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 6; ;
  338                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 7; ; huc-gfx.h
  339                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 8; ;
  340                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 9; ; Based on the original HuC and MagicKit functions by David Michel and the
  341                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 10; ; other original HuC developers.
  342                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 11; ;
  343                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 12; ; Modifications copyright John Brandwood 2024.
  344                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 13; ;
  345                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 14; ; Distributed under the Boost Software License, Version 1.0.
  346                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 15; ; (See accompanying file LICENSE_1_0.txt or copy at
  347                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 16; ;  http://www.boost.org/LICENSE_1_0.txt)
  348                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 17; ;
  349                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 18; ; ***************************************************************************
  350                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 19; ; **************************************************************************/
  351                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 21; // *************
  352                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 22; // Screen defines ...
  353                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 23; // *************
  354                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 25; #define	SCR_SIZE_32x32	0
  355                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 26; #define	SCR_SIZE_64x32	1
  356                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 27; #define	SCR_SIZE_128x32	2
  357                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 28; #define	SCR_SIZE_32x64	4
  358                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 29; #define	SCR_SIZE_64x64	5
  359                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 30; #define	SCR_SIZE_128x64	6
  360                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 32; #define	XRES_SHARP	0
  361                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 33; #define	XRES_SOFT	4
  362                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 34; #define	XRES_KEEP	128
  363                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 36; #define VPC_WIN_A	0x00
  364                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 37; #define VPC_WIN_B	0x01
  365                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 38; #define	VPC_WIN_AB	0x02
  366                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 39; #define	VPC_WIN_NONE	0x03
  367                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 40; #define	VPC_NORM	0x00
  368                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 41; #define	VPC_SPR		0x04
  369                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 42; #define	VPC_INV_SPR	0x08
  370                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 43; #define VDC1_ON		0x01
  371                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 44; #define	VDC1_OFF	0x00
  372                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 45; #define VDC2_ON		0x02
  373                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 46; #define	VDC2_OFF	0x00
  374                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 47; #define VDC_ON		0x03
  375                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 48; #define	VDC_OFF		0x00
  376                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 50; // *************
  377                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 51; // Functions in hucc-gfx.asm ...
  378                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 52; // *************
  379                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 54; #ifdef __HUCC__
  380                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 56; #asmdef	HUCC_USES_GFX 1
  381               0001     	HUCC_USES_GFX = 1
  382                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 58; // *************
  383                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 59; // Color and Palette Functions
  384                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 60; // *************
  385                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 62; extern void __fastcall clear_palette( void );
  386                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 64; extern void __fastcall __nop set_color( unsigned int index<VCE_CTA>, unsigned int value<VCE_CTW> );
  387                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 65; extern void __fastcall set_color_rgb( unsigned int index<VCE_CTA>, unsigned char r<_al>, unsigned char g<_ah>, unsigned char b<acc> );
  388                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 66; extern unsigned int __fastcall __macro get_color( unsigned int index<VCE_CTA> );
  389                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 68; extern void __fastcall load_palette( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp>, unsigned char num_palettes<_ah> );
  390                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 69; extern void __fastcall far_load_palette( unsigned char palette<_al>, unsigned char num_palettes<_ah> );
  391                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 71; extern void __fastcall read_palette( unsigned char palette<_al>, unsigned char num_palettes<_ah>, unsigned int *destination<_di> );
  392                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 73; extern void __fastcall __macro fade_to_black( unsigned int __far *from<_bp_bank:_bp>, unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_sub<_ah> );
  393                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 74; extern void __fastcall __macro fade_to_white( unsigned int __far *from<_bp_bank:_bp>, unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_add<_ah> );
  394                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 75; extern void __fastcall __macro cross_fade_to( unsigned int __far *from<_bp_bank:_bp>, unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char which_component<_ah> );
  395                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 77; extern void __fastcall __macro far_fade_to_black( unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_sub<_ah> );
  396                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 78; extern void __fastcall __macro far_fade_to_white( unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_add<_ah> );
  397                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 79; extern void __fastcall __macro far_cross_fade_to( unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char which_component<_ah> );
  398                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 83; // *************
  399                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 84; // Video Functions
  400                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 85; // *************
  401                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 87; extern void __fastcall init_240x208( void );
  402                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 88; extern void __fastcall init_256x224( void );
  403                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 90; extern void __fastcall vsync( void );
  404                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 91; extern void __fastcall vsync( unsigned char count<_al> );
  405                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 93; extern void __fastcall disp_on( void );
  406                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 94; extern void __fastcall disp_off( void );
  407                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 96; extern void __fastcall set_screen_size( unsigned char value<_al> );
  408                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 98; extern void __fastcall set_xres( unsigned int x_pixels<_ax>, unsigned char blur_flag<_bl> );
  409                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 100; extern void __fastcall cls( void );
  410                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 101; extern void __fastcall cls( unsigned int tile<acc> );
  411                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 103; extern unsigned int __fastcall __macro vram_addr( unsigned char bat_x<_al>, unsigned char bat_y<_ah> );
  412                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 104; extern unsigned int __fastcall __macro get_vram( unsigned int address<_di> );
  413                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 105; extern void __fastcall __macro put_vram( unsigned int address<_di>, unsigned int data<acc> );
  414                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 107; extern void __fastcall __macro load_vram( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_words<_ax> );
  415                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 108; extern void __fastcall __macro far_load_vram( unsigned int vram<_di>,  unsigned int num_words<_ax> );
  416                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 110; extern void __fastcall load_bat( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  417                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 111; extern void __fastcall far_load_bat( unsigned int vram<_di>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  418                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 113; extern void __fastcall __macro load_sprites( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_groups<acc> );
  419                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 114; extern void __fastcall __macro far_load_sprites( unsigned int vram<_di>, unsigned int num_groups<acc> );
  420                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 116; extern void __fastcall vram2vram( unsigned int vram_dst<_ax>, unsigned int vram_src<_bx>, unsigned int word_len<_cx> );
  421                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 119; // *************
  422                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 120; // SuperGRAFX Video Functions
  423                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 121; // *************
  424                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 123; extern void __fastcall __nop vpc_set_ctl( unsigned int bits<VPC_CR> );
  425                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 124; extern void __fastcall __nop vpc_set_win1( unsigned int width<VPC_WINDOW1> );
  426                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 125; extern void __fastcall __nop vpc_set_win2( unsigned int width<VPC_WINDOW2> );
  427                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 127; extern void __fastcall sgx_set_screen_size( unsigned char value<_al> );
  428                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 129; extern void __fastcall sgx_set_xres( unsigned int x_pixels<_ax>, unsigned char blur_flag<_bl> );
  429                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 131; extern void __fastcall sgx_cls( void );
  430                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 132; extern void __fastcall sgx_cls( unsigned int tile<acc> );
  431                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 134; extern unsigned int __fastcall __macro sgx_vram_addr( unsigned char bat_x<_al>, unsigned char bat_y<_ah> );
  432                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 135; extern unsigned int __fastcall __macro sgx_get_vram( unsigned int address<_di> );
  433                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 136; extern void __fastcall __macro sgx_put_vram( unsigned int address<_di>, unsigned int data<acc> );
  434                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 138; extern void __fastcall __macro sgx_load_vram( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_words<_ax> );
  435                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 139; extern void __fastcall __macro sgx_far_load_vram( unsigned int vram<_di>, unsigned int num_words<_ax> );
  436                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 141; extern void __fastcall sgx_load_bat( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  437                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 142; extern void __fastcall sgx_far_load_bat( unsigned int vram<_di>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  438                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 144; extern void __fastcall __macro sgx_load_sprites( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_groups<acc> );
  439                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 145; extern void __fastcall __macro sgx_far_load_sprites( unsigned int vram<_di>, unsigned int num_groups<acc> );
  440                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 147; extern void __fastcall sgx_vram2vram( unsigned int vram_dst<_ax>, unsigned int vram_src<_bx>, unsigned int word_len<_cx> );
  441                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 150; // *************
  442                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 151; // Font Functions
  443                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 152; // *************
  444                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 154; extern void __fastcall set_font_addr( unsigned int vram<acc> );
  445                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 155; extern void __fastcall set_font_pal( unsigned char palette<acc> );
  446                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 157; extern void __fastcall load_font( unsigned char __far *font<_bp_bank:_bp>, unsigned char count<_al>, unsigned int vram<acc> );
  447                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 158; extern void __fastcall far_load_font( unsigned char count<_al>, unsigned int vram<acc> );
  448                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 160; extern void __fastcall __nop set_font_color( unsigned char foreground<monofont_fg>, unsigned char background<monofont_bg> );
  449                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 161; extern void __fastcall __macro load_default_font( void );
  450                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 164; // *************
  451                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 165; // SuperGRAFX Font Functions
  452                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 166; // *************
  453                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 168; extern void __fastcall sgx_set_font_addr( unsigned int vram<acc> );
  454                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 169; extern void __fastcall sgx_set_font_pal( unsigned char palette<acc> );
  455                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 171; extern void __fastcall sgx_load_font( char __far *font<_bp_bank:_bp>, unsigned char count<_al>, unsigned int vram<acc> );
  456                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 172; extern void __fastcall sgx_far_load_font( unsigned char count<_al>, unsigned int vram<acc> );
  457                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 174; extern void __fastcall __macro sgx_load_default_font( void );
  458                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 177; // *************
  459                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 178; // Deprecated functions ...
  460                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 179; // *************
  461                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 181; extern void __fastcall __macro set_xres( unsigned int x_pixels<_ax> );
  462                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 182; extern void __fastcall __macro sgx_set_xres( unsigned int x_pixels<_ax> );
  463                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 184; extern void __fastcall load_background( unsigned char __far *tiles<_bp_bank:_bp>, unsigned char __far *palettes<__fbank:__fptr>, unsigned char __far *bat<_cl:_bx>, unsigned char w<_dl>, unsigned char h<_dh> );
  464                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 186; extern void __fastcall __macro set_bgpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp> );
  465                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 187; extern void __fastcall __macro set_bgpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_palettes<_ah> );
  466                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 188; extern void __fastcall __macro set_sprpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp> );
  467                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 189; extern void __fastcall __macro set_sprpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_palettes<_ah> );
  468                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 191; extern void __fastcall load_font( char __far *font<_bp_bank:_bp>, unsigned char count<_al> );
  469                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 193; extern void __fastcall put_string( unsigned char *string<_bp>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
  470                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 195; extern void __fastcall put_char( unsigned char digit<_bl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
  471                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 196; extern void __fastcall put_digit( unsigned char digit<_bl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
  472                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 197; extern void __fastcall put_hex( unsigned int number<_bx>, unsigned char length<_cl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
  473                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 198; extern void __fastcall put_number( unsigned int number<_bx>, unsigned char length<_cl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
  474                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 199; extern void __fastcall put_raw( unsigned int data<_bx>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
  475                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 201; #endif // __HUCC__
  476                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 203; #endif // _hucc_gfx_h
  477                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
  478                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 1; #ifndef _hucc_old_scroll_h
  479                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 2; #define _hucc_old_scroll_h
  480                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 4; /****************************************************************************
  481                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 5; ; ***************************************************************************
  482                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 6; ;
  483                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 7; ; hucc-old-scroll.h
  484                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 8; ;
  485                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 9; ; Based on the original HuC and MagicKit functions by David Michel and the
  486                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 10; ; other original HuC developers.
  487                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 11; ;
  488                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 12; ; Modifications copyright John Brandwood 2024.
  489                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 13; ;
  490                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 14; ; Distributed under the Boost Software License, Version 1.0.
  491                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 15; ; (See accompanying file LICENSE_1_0.txt or copy at
  492                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 16; ;  http://www.boost.org/LICENSE_1_0.txt)
  493                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 17; ;
  494                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 18; ; ***************************************************************************
  495                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 19; ; ***************************************************************************
  496                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 20; ;
  497                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 21; ; HuC's old scrolling library is provided for use with existing HuC projects,
  498                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 22; ; but it should preferably be avoided in new projects because it is slow and
  499                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 23; ; forever limited by its choice to handle gaps between areas, and sorting.
  500                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 24; ;
  501                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 25; ; HuCC's new scrolling library puts the responibility for defining both gaps
  502                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 26; ; and the display order into the project's hands, but in return it runs much
  503                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 27; ; faster, using less than 1/6 of the processing time in VBLANK, and far less
  504                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 28; ; time in the RCR interrputs themselves. It also supports the 2nd SuperGRAFX
  505                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 29; ; screen layer, which HuC's old scrolling library ignores.
  506                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 30; ;
  507                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 31; ; ***************************************************************************
  508                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 32; ; **************************************************************************/
  509                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 34; // *************
  510                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 35; // Functions in hucc-old-scroll.asm ...
  511                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 36; // *************
  512                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 38; #ifdef __HUCC__
  513                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 40; #asmdef	HUCC_USES_OLD_SCROLL 1
  514               0001     	HUCC_USES_OLD_SCROLL = 1
  515                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 42; extern void __fastcall scroll( unsigned char num<_al>, unsigned int x<_cx>, unsigned int y<_dx>, unsigned char top<_ah>, unsigned char bottom<_bl>, unsigned char disp<acc> );
  516                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 43; extern void __fastcall scroll_disable( unsigned char num<acc> );
  517                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 45; #endif // __HUCC__
  518                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 47; #endif // _hucc_old_scroll_h
  519                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
  520                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 1; #ifndef _hucc_old_spr_h
  521                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 2; #define _hucc_old_spr_h
  522                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 4; /****************************************************************************
  523                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 5; ; ***************************************************************************
  524                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 6; ;
  525                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 7; ; hucc-old-spr.h
  526                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 8; ;
  527                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 9; ; Based on the original HuC and MagicKit functions by David Michel and the
  528                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 10; ; other original HuC developers.
  529                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 11; ;
  530                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 12; ; Modifications copyright John Brandwood 2024.
  531                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 13; ;
  532                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 14; ; Distributed under the Boost Software License, Version 1.0.
  533                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 15; ; (See accompanying file LICENSE_1_0.txt or copy at
  534                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 16; ;  http://www.boost.org/LICENSE_1_0.txt)
  535                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 17; ;
  536                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 18; ; ***************************************************************************
  537                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 19; ; **************************************************************************/
  538                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 21; // *************
  539                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 22; // Sprite defines ...
  540                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 23; // *************
  541                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 25; #define FLIP_X_MASK 0x08
  542                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 26; #define FLIP_Y_MASK 0x80
  543                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 27; #define FLIP_MAS    0x88
  544                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 28; #define SIZE_MAS    0x31
  545                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 30; #define NO_FLIP     0x00
  546                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 31; #define NO_FLIP_X   0x00
  547                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 32; #define NO_FLIP_Y   0x00
  548                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 33; #define FLIP_X      0x08
  549                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 34; #define FLIP_Y      0x80
  550                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 35; #define SZ_16x16    0x00
  551                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 36; #define SZ_16x32    0x10
  552                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 37; #define SZ_16x64    0x30
  553                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 38; #define SZ_32x16    0x01
  554                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 39; #define SZ_32x32    0x11
  555                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 40; #define	SZ_32x64    0x31
  556                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 42; // *************
  557                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 43; // Functions in hucc-old-spr.asm ...
  558                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 44; // *************
  559                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 46; #ifdef __HUCC__
  560                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 48; #asmdef	HUCC_USES_OLD_SPR 1
  561               0001     	HUCC_USES_OLD_SPR = 1
  562                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 50; extern void __fastcall init_satb( void );
  563                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 51; extern void __fastcall reset_satb( void );
  564                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 52; extern void __fastcall satb_update( void );
  565                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 53; extern void __fastcall spr_set( unsigned char num<acc> );
  566                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 54; extern void __fastcall spr_hide( void );
  567                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 55; extern void __fastcall spr_show( void );
  568                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 56; extern void __fastcall spr_x( unsigned int value<acc> );
  569                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 57; extern void __fastcall spr_y( unsigned int value<acc> );
  570                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 58; extern void __fastcall spr_pattern( unsigned int vaddr<acc> );
  571                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 59; extern void __fastcall spr_ctrl( unsigned char mask<_al>, unsigned char value<acc> );
  572                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 60; extern void __fastcall spr_pal( unsigned char palette<acc> );
  573                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 61; extern void __fastcall spr_pri( unsigned char priority<acc> );
  574                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 63; extern unsigned int __fastcall spr_get_x( void );
  575                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 64; extern unsigned int __fastcall spr_get_y( void );
  576                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 66; extern void __fastcall sgx_init_satb( void );
  577                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 67; extern void __fastcall sgx_reset_satb( void );
  578                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 68; extern void __fastcall sgx_satb_update( void );
  579                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 69; extern void __fastcall sgx_spr_set( unsigned char num<acc> );
  580                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 70; extern void __fastcall sgx_spr_hide( void );
  581                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 71; extern void __fastcall sgx_spr_show( void );
  582                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 72; extern void __fastcall sgx_spr_x( unsigned int value<acc> );
  583                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 73; extern void __fastcall sgx_spr_y( unsigned int value<acc> );
  584                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 74; extern void __fastcall sgx_spr_pattern( unsigned int vaddr<acc> );
  585                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 75; extern void __fastcall sgx_spr_ctrl( unsigned char mask<_al>, unsigned char value<acc> );
  586                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 76; extern void __fastcall sgx_spr_pal( unsigned char palette<acc> );
  587                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 77; extern void __fastcall sgx_spr_pri( unsigned char priority<acc> );
  588                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 79; extern unsigned int __fastcall sgx_spr_get_x( void );
  589                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 80; extern unsigned int __fastcall sgx_spr_get_y( void );
  590                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 82; #endif // __HUCC__
  591                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 84; #endif // _hucc_old_spr_h
  592                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
  593                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 1; #ifndef _hucc_old_map_h
  594                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 2; #define _hucc_old_map_h
  595                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 4; /****************************************************************************
  596                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 5; ; ***************************************************************************
  597                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 6; ;
  598                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 7; ; hucc-old-map.h
  599                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 8; ;
  600                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 9; ; Based on the original HuC and MagicKit functions by David Michel and the
  601                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 10; ; other original HuC developers.
  602                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 11; ;
  603                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 12; ; Modifications copyright John Brandwood 2024.
  604                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 13; ;
  605                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 14; ; Distributed under the Boost Software License, Version 1.0.
  606                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 15; ; (See accompanying file LICENSE_1_0.txt or copy at
  607                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 16; ;  http://www.boost.org/LICENSE_1_0.txt)
  608                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 17; ;
  609                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 18; ; ***************************************************************************
  610                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 19; ; **************************************************************************/
  611                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 21; // *************
  612                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 22; // Functions in hucc-old-map.asm ...
  613                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 23; // *************
  614                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 25; #ifdef __HUCC__
  615                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 27; #asmdef	HUCC_USES_OLD_MAP 1
  616               0001     	HUCC_USES_OLD_MAP = 1
  617                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 29; extern void __fastcall set_tile_address( unsigned int vram<_di> );
  618                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 30; extern void __fastcall sgx_set_tile_address( unsigned int vram<_di> );
  619                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 32; extern void __fastcall __nop set_tile_data( unsigned char __far *tiles<vdc_tile_bank:vdc_tile_addr>, unsigned char num_tiles<vdc_num_tiles>, unsigned char __far *palette_table<vdc_attr_bank:vdc_attr_addr>, unsigned char tile_type<vdc_tile_type> );
  620                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 33; extern void __fastcall __nop sgx_set_tile_data( unsigned char __far *tiles<sgx_tile_bank:sgx_tile_addr>, unsigned char num_tiles<sgx_num_tiles>, unsigned char __far *palette_table<sgx_attr_bank:sgx_attr_addr>, unsigned char tile_type<sgx_tile_type> );
  621                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 35; extern void __fastcall __nop set_far_tile_data( unsigned char tile_bank<vdc_tile_bank>, unsigned char *tile_addr<vdc_tile_addr>, unsigned char num_tiles<vdc_num_tiles>, unsigned char palette_table_bank<vdc_attr_bank>, unsigned char *palette_table_addr<vdc_attr_addr>, unsigned char tile_type<vdc_tile_type> );
  622                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 36; extern void __fastcall __nop sgx_set_far_tile_data( unsigned char tile_bank<sgx_tile_bank>, unsigned char *tile_addr<sgx_tile_addr>, unsigned char num_tiles<sgx_num_tiles>, unsigned char palette_table_bank<sgx_attr_bank>, unsigned char *palette_table_addr<sgx_attr_addr>, unsigned char tile_type<sgx_tile_type> );
  623                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 38; extern void __fastcall __nop set_map_data( unsigned char __far *map<vdc_map_bank:vdc_map_addr>, unsigned char w<vdc_map_width>, unsigned char h<vdc_map_height> );
  624                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 39; extern void __fastcall __nop sgx_set_map_data( unsigned char __far *map<sgx_map_bank:sgx_map_addr>, unsigned char w<sgx_map_width>, unsigned char h<sgx_map_height> );
  625                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 41; extern void __fastcall __nop set_far_map_data( unsigned char map_bank<vdc_map_bank>, unsigned char *map_addr<vdc_map_addr>, unsigned char w<vdc_map_width>, unsigned char h<vdc_map_height> );
  626                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 42; extern void __fastcall __nop sgx_set_far_map_data( unsigned char map_bank<vdc_map_bank>, unsigned char *map_addr<vdc_map_addr>, unsigned char w<sgx_map_width>, unsigned char h<sgx_map_height> );
  627                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 44; extern void __fastcall load_tile( unsigned int vram<_di> );
  628                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 45; extern void __fastcall sgx_load_tile( unsigned int vram<_di> );
  629                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 47; extern void __fastcall load_map( unsigned char bat_x<_al>, unsigned char bat_y<_ah>, int map_x<_bx>, int map_y<_dx>, unsigned char tiles_w<_cl>, unsigned char tiles_h<_ch> );
  630                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 48; extern void __fastcall sgx_load_map( unsigned char bat_x<_al>, unsigned char bat_y<_ah>, int map_x<_bx>, int map_y<_dx>, unsigned char tiles_w<_cl>, unsigned char tiles_h<_ch> );
  631                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 50; extern unsigned char __fastcall map_get_tile( unsigned char map_x<_bl>, unsigned char map_y<_bh> );
  632                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 51; extern unsigned char __fastcall sgx_map_get_tile( unsigned char map_x<_bl>, unsigned char map_y<_bh> );
  633                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 53; extern void __fastcall map_put_tile( unsigned char map_x<_bl>, unsigned char map_y<_bh>, unsigned char tile<_al> );
  634                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 54; extern void __fastcall sgx_map_put_tile( unsigned char map_x<_bl>, unsigned char map_y<_bh>, unsigned char tile<_al> );
  635                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 56; extern void __fastcall put_tile( unsigned char tile<_bl>, unsigned char bat_x<_al>, unsigned char bat_y<_ah> );
  636                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 57; extern void __fastcall sgx_put_tile( unsigned char tile<_bl>, unsigned char bat_x<_al>, unsigned char bat_y<_ah> );
  637                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 59; // Deprecated functions ...
  638                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 61; extern void __fastcall set_tile_data( unsigned char *tile_ex<_di> );
  639                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 63; extern void __fastcall __nop set_map_pals( unsigned char __far *palette_table<vdc_attr_bank:vdc_attr_addr> );
  640                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 64; extern void __fastcall __nop set_map_tile_type( unsigned char tile_type<vdc_tile_type> );
  641                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 66; extern void __fastcall __nop sgx_set_map_pals( unsigned char __far *palette_table<sgx_attr_bank:sgx_attr_addr> );
  642                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 67; extern void __fastcall __nop sgx_set_map_tile_type( unsigned char tile_type<sgx_tile_type> );
  643                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 69; extern void __fastcall set_map_tile_base( unsigned int vram<_di> );
  644                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 70; extern void __fastcall sgx_set_map_tile_base( unsigned int vram<_di> );
  645                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 72; #endif // __HUCC__
  646                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 74; #endif // _hucc_old_map_h
  647                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
  648                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 1; #ifndef _hucc_old_line_h
  649                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 2; #define _hucc_old_line_h
  650                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 4; /****************************************************************************
  651                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 5; ; ***************************************************************************
  652                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 6; ;
  653                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 7; ; hucc-old-line.h
  654                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 8; ;
  655                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 9; ; Based on the original HuC and MagicKit functions by David Michel and the
  656                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 10; ; other original HuC developers.
  657                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 11; ;
  658                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 12; ; Modifications copyright John Brandwood 2024.
  659                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 13; ;
  660                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 14; ; Distributed under the Boost Software License, Version 1.0.
  661                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 15; ; (See accompanying file LICENSE_1_0.txt or copy at
  662                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 16; ;  http://www.boost.org/LICENSE_1_0.txt)
  663                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 17; ;
  664                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 18; ; ***************************************************************************
  665                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 19; ; **************************************************************************/
  666                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 21; // *************
  667                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 22; // Functions in hucc-old-line.asm ...
  668                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 23; // *************
  669                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 25; #ifdef __HUCC__
  670                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 27; #asmdef	HUCC_USES_OLD_LINE 1
  671               0001     	HUCC_USES_OLD_LINE = 1
  672                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 29; extern void __fastcall gfx_init( unsigned int start_vram_addr<_ax> );
  673                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 30; extern void __fastcall gfx_clear( unsigned int start_vram_addr<_di> );
  674                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 31; extern void __fastcall gfx_plot( unsigned int x<_gfx_x1>, unsigned int y<_gfx_y1>, char color<_gfx_color> );
  675                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 32; extern void __fastcall gfx_line( unsigned int x1<_gfx_x1>, unsigned int y1<_gfx_y1>, unsigned int x2<_gfx_x2>, unsigned int y2<_gfx_y2>, unsigned char color<_gfx_color> );
  676                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 34; #endif // __HUCC__
  677                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 36; #endif // _hucc_old_line_h
  678                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
  679                        		.dbg	line,	"..\..\..\include\hucc\stdlib.h", 1; #ifndef _hucc_stdlib_h
  680                        		.dbg	line,	"..\..\..\include\hucc\stdlib.h", 2; #define _hucc_stdlib_h
  681                        		.dbg	line,	"..\..\..\include\hucc\stdlib.h", 4; #define RAND_MAX 32767
  682                        		.dbg	line,	"..\..\..\include\hucc\stdlib.h", 6; #ifdef __HUCC__
  683                        		.dbg	line,	"..\..\..\include\hucc\stdlib.h", 7; extern int __fastcall abs( int value<acc> );
  684                        		.dbg	line,	"..\..\..\include\hucc\stdlib.h", 8; #endif
  685                        		.dbg	line,	"..\..\..\include\hucc\stdlib.h", 10; #endif // _hucc_stdlib_h
  686                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
  687                        		.dbg	line,	"..\..\..\include\hucc\string.h", 1; #ifdef __HUCC__
  688                        		.dbg	line,	"..\..\..\include\hucc\string.h", 2; #include "hucc-string.h"
  689                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 1; #ifndef _hucc_string_h
  690                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 2; #define _hucc_string_h
  691                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 4; /****************************************************************************
  692                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 5; ; ***************************************************************************
  693                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 6; ;
  694                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 7; ; hucc-string.h
  695                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 8; ;
  696                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 9; ; Not-quite-standard, but fast, replacements for <string.h>.
  697                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 10; ;
  698                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 11; ; Copyright John Brandwood 2024.
  699                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 12; ;
  700                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 13; ; Distributed under the Boost Software License, Version 1.0.
  701                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
  702                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
  703                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 16; ;
  704                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 17; ; ***************************************************************************
  705                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 18; ; ***************************************************************************
  706                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 19; ;
  707                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 20; ; !!! WARNING : non-standard return values !!!
  708                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 21; ;
  709                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 22; ; Strings are limited to a maximum of 255 characters (+ the terminator)!
  710                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 23; ;
  711                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 24; ; The memcpy(), strcpy() and strcat() functions do NOT return the destination
  712                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 25; ; address, and they are declared "void" to check that the value is not used.
  713                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 26; ;
  714                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 27; ; mempcpy() is provided which returns the end address instead of the starting
  715                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 28; ; address, because this is typically more useful.
  716                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 29; ;
  717                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 30; ; Please note that both memcpy() and memset() are implemented using a TII for
  718                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 31; ; speed, and so the length should be < 16 bytes if used in time-critical bits
  719                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 32; ; of code (such as when using a split screen) because they delay interrupts.
  720                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 33; ;
  721                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 34; ; strncpy() and strncat() are not provided, because strncpy() was not created
  722                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 35; ; for the purpose of avoiding string overruns, and strncat() is just a poorly
  723                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 36; ; designed function IMHO.
  724                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 37; ;
  725                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 38; ; POSIX strlcpy() and strlcat() are provided instead, but once again they are
  726                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 39; ; slightly non-standard in that the return value when there is an overflow is
  727                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 40; ; the buffer size (so that the overflow can be detected), instead of the full
  728                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 41; ; size of the destination string that was too big to fit in the buffer.
  729                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 42; ;
  730                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 43; ; ***************************************************************************
  731                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 44; ; **************************************************************************/
  732                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 46; // *************
  733                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 47; // Functions in hucc-string.asm ...
  734                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 48; // *************
  735                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 50; #ifdef __HUCC__
  736                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 52; #asmdef	HUCC_USES_STRING 1
  737               0001     	HUCC_USES_STRING = 1
  738                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 54; extern void __fastcall strcpy( char *destination<_di>, char *source<_bp> );
  739                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 55; extern void __fastcall strcat( char *destination<_di>, char *source<_bp> );
  740                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 57; extern unsigned int __fastcall strlen( char *source<_bp> );
  741                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 59; extern unsigned int __fastcall strlcpy( char *destination<_di>, char *source<_bp>, unsigned char size<acc> );
  742                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 60; extern unsigned int __fastcall strlcat( char *destination<_di>, char *source<_bp>, unsigned char size<acc> );
  743                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 62; extern void __fastcall memcpy( unsigned char *destination<ram_tii_dst>, unsigned char *source<ram_tii_src>, unsigned int count<acc> );
  744                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 63; extern void __fastcall farmemcpy( unsigned char *destination<ram_tii_dst>, unsigned char __far *source<_bp_bank:ram_tii_src>, unsigned int count<acc> );
  745                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 64; extern void __fastcall far_memcpy( unsigned char *destination<ram_tii_dst>, unsigned int count<acc> );
  746                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 66; extern unsigned char * __fastcall mempcpy( unsigned char *destination<ram_tii_dst>, unsigned char *source<ram_tii_src>, unsigned int count<acc> );
  747                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 67; extern unsigned char * __fastcall farmempcpy( unsigned char *destination<ram_tii_dst>, unsigned char __far *source<_bp_bank:ram_tii_src>, unsigned int count<acc> );
  748                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 68; extern unsigned char * __fastcall far_mempcpy( unsigned char *destination<ram_tii_dst>, unsigned int count<acc> );
  749                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 70; extern void __fastcall memset( unsigned char *destination<ram_tii_src>, unsigned char value<_al>, unsigned int count<acc> );
  750                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 72; //  0 	if strings are equal
  751                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 73; //  1 	if the first non-matching character in string1 > string2 (in ASCII).
  752                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 74; // -1 	if the first non-matching character in string1 < string2 (in ASCII).
  753                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 76; extern int __fastcall strcmp( char *string1<_di>, char *string2<_bp> );
  754                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 77; extern int __fastcall strncmp( char *string1<_di>, char *string2<_bp>, unsigned int count<_ax> );
  755                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 79; extern int __fastcall __macro memcmp( unsigned char *string1<_di>, unsigned char *string2<_bp>, unsigned int count<acc> );
  756                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 80; extern int __fastcall farmemcmp( unsigned char *string1<_di>, unsigned char __far *string2<_bp_bank:_bp>, unsigned int count<acc> );
  757                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 81; extern int __fastcall far_memcmp( unsigned char *string1<_di>, unsigned int count<acc> );
  758                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 83; #endif // __HUCC__
  759                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 85; #endif // _hucc_string_h
  760                        		.dbg	line,	"..\..\..\include\hucc\string.h", 3; #endif
  761                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
  762                        		.dbg	line,	"main.c", 2; #include "hucc-scroll.h"
  763                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
  764                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
  765                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
  766                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
  767                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
  768                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
  769                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
  770                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
  771                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
  772                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
  773                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
  774                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
  775                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
  776                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
  777                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
  778                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
  779                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
  780                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
  781                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
  782                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
  783                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
  784                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
  785                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
  786                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
  787                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
  788                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
  789                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
  790                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
  791                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
  792                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
  793                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
  794                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
  795                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
  796                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
  797                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
  798                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
  799                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
  800                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
  801                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
  802                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
  803                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
  804                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
  805                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
  806                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
  807                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
  808                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
  809                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
  810                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
  811                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
  812                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
  813                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
  814                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
  815                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
  816               0001     	HUCC_USES_NEW_SCROLL = 1
  817                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
  818                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
  819                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
  820                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
  821                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
  822                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
  823                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
  824                        		.dbg	clear
  825                        			.macro	_disable_all_splits
  826                        			ldy	#HUCC_PCE_SPLITS - 1
  827                        	!loop:		tya
  828                        			call	_disable_split.1
  829                        			dey
  830                        			bpl	!loop-
  831                        			.endm
  832                        			.macro	_sgx_disable_all_splits
  833                        			ldy	#HUCC_SGX_SPLITS - 1
  834                        	!loop:		tya
  835                        			call	_sgx_disable_split.1
  836                        			dey
  837                        			bpl	!loop-
  838                        			.endm
  839                        	
  840                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
  841                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
  842                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
  843                        		.dbg	line,	"main.c", 3; #include "hucc-chrmap.h"
  844                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
  845                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
  846                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
  847                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
  848                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
  849                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
  850                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
  851                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
  852                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
  853                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
  854                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
  855                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
  856                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
  857                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
  858                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
  859                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
  860                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
  861                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
  862                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
  863                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
  864                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
  865                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
  866                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
  867                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
  868                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
  869                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
  870                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
  871                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
  872                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
  873                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
  874                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
  875                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
  876                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
  877                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
  878                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
  879                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
  880                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
  881                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
  882                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
  883                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
  884                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
  885                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
  886                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
  887                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
  888                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
  889                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
  890                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
  891                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
  892                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
  893                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
  894                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
  895                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
  896                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
  897                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
  898                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
  899                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
  900                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
  901                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
  902                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
  903                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
  904                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
  905                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
  906                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
  907                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
  908                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
  909                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
  910               0001     	HUCC_USES_BLKMAP = 1
  911                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
  912                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
  913                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
  914                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
  915                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
  916                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
  917                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
  918                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
  919                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
  920                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
  921                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
  922                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
  923                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
  924                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
  925                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
  926                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
  927                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
  928                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
  929                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
  930                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
  931                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
  932                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
  933                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
  934                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
  935                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
  936                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
  937                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
  938                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
  939                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
  940                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
  941                        		.dbg	clear
  942                        			.macro	_set_blkmap.2
  943                        			stz	vdc_scr_bank
  944                        			.endm
  945                        			.macro	_set_multimap.2
  946                        			lda	vdc_bat_width
  947                        			lsr	a
  948                        			sta	vdc_map_line_w
  949                        			.endm
  950                        			.macro	SCREEN
  951                        			db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
  952                        			db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
  953                        			db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
  954                        			dw	(\4)
  955                        			.endm
  956                        	
  957                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
  958                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
  959                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
  960                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
  961                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
  962                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
  963                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
  964                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
  965                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
  966                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
  967                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
  968                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
  969                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
  970                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
  971                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
  972                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
  973                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
  974                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
  975                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
  976                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
  977                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
  978                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
  979                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
  980                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
  981                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
  982                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
  983                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
  984                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
  985                        		.dbg	clear
  986                        			.macro	_sgx_set_blkmap.2
  987                        			stz	sgx_scr_bank
  988                        			.endm
  989                        			.macro	_sgx_set_multimap.2
  990                        			lda	sgx_bat_width
  991                        			lsr	a
  992                        			sta	sgx_map_line_w
  993                        			.endm
  994                        	
  995                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
  996                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
  997                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
  998                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
  999                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 1000                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 1001                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 1002                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 1003                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 1004               0001     	HUCC_USES_CHRMAP = 1
 1005                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 1006                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 1007                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 1008                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1009                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 1010                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 1011                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 1012                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 1013                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1014                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 1015                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 1016                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 1017                        		.dbg	line,	"main.c", 4; #include "hucc-blkmap.h"
 1018                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 1019                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 1020                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 1021                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 1022                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 1023                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 1024                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 1025                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 1026                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 1027                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 1028                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 1029                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1030                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1031                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1032                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 1033                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 1034                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 1035                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 1036                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 1037                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 1038                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 1039                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 1040                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 1041                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 1042                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 1043                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 1044                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 1045                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 1046                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 1047                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 1048                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 1049                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 1050                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 1051                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 1052                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 1053                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 1054                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 1055                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 1056                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 1057                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 1058                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 1059                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 1060                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 1061                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 1062                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 1063                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 1064                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 1065                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 1066                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 1067                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 1068                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 1069                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 1070                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 1071                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 1072                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 1073                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 1074                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 1075                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 1076                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 1077                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 1078                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 1079                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 1080                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 1081                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 1082                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1083                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 1084                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 1085                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 1086                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 1087                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 1088                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 1089                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 1090                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 1091                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 1092                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 1093                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 1094                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 1095                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 1096                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 1097                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 1098                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 1099                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 1100                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 1101                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 1102                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 1103                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 1104                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 1105                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 1106                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 1107                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 1108                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 1109                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 1110                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 1111                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 1112                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 1113                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 1114                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 1115                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 1116                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 1117                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 1118                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 1119                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 1120                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 1121                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 1122                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 1123                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 1124                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1125                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 1126                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 1127                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 1128                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 1129                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 1130                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 1131                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 1132                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 1133                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 1134                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 1135                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 1136                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 1137                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 1138                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 1139                        		.dbg	line,	"main.c", 7; #include "include/constants.c"
 1140                        		.dbg	line,	"include\constants.c", 1; //*****************************************************************************//
 1141                        		.dbg	line,	"include\constants.c", 2; //                                                                             //
 1142                        		.dbg	line,	"include\constants.c", 3; //                                SYSTEM CONSTANTS                             //
 1143                        		.dbg	line,	"include\constants.c", 4; //                                                                             //
 1144                        		.dbg	line,	"include\constants.c", 5; //*****************************************************************************//
 1145                        		.dbg	line,	"include\constants.c", 7; #define FALSE 0
 1146                        		.dbg	line,	"include\constants.c", 8; #define TRUE  1
 1147                        		.dbg	line,	"include\constants.c", 10; #define YES   1
 1148                        		.dbg	line,	"include\constants.c", 11; #define NO    2
 1149                        		.dbg	line,	"include\constants.c", 13; #define JOYPAD_1 0
 1150                        		.dbg	line,	"include\constants.c", 14; #define JOYPAD_2 1
 1151                        		.dbg	line,	"include\constants.c", 16; #define BAT_SIZE_W 2048 // IN PIXELS
 1152                        		.dbg	line,	"include\constants.c", 17; #define BAT_SIZE_H 256  // IN PIXELS
 1153                        		.dbg	line,	"include\constants.c", 19; #define NUMBERS_FONT_VRAM_ADR   0x0900
 1154                        		.dbg	line,	"include\constants.c", 21; #define JOY_DIR_PRESSED (JOY_DOWN | JOY_UP | JOY_RIGHT | JOY_LEFT)
 1155                        		.dbg	line,	"include\constants.c", 24; #define TILES_1   16
 1156                        		.dbg	line,	"include\constants.c", 25; #define TILES_2   32
 1157                        		.dbg	line,	"include\constants.c", 26; #define TILES_3   48
 1158                        		.dbg	line,	"include\constants.c", 27; #define TILES_4   64
 1159                        		.dbg	line,	"include\constants.c", 28; #define TILES_8   128
 1160                        		.dbg	line,	"include\constants.c", 29; #define TILES_12  192
 1161                        		.dbg	line,	"include\constants.c", 30; #define TILES_16  256
 1162                        		.dbg	line,	"include\constants.c", 31; #define TILES_24  384
 1163                        		.dbg	line,	"include\constants.c", 32; #define TILES_32  512
 1164                        		.dbg	line,	"include\constants.c", 33; #define TILES_48  768
 1165                        		.dbg	line,	"include\constants.c", 34; #define TILES_64  1024
 1166                        		.dbg	line,	"include\constants.c", 35; #define TILES_80  1280
 1167                        		.dbg	line,	"include\constants.c", 36; #define TILES_96  1536
 1168                        		.dbg	line,	"include\constants.c", 37; #define TILES_128 2048
 1169                        		.dbg	line,	"include\constants.c", 38; #define TILES_144 2304
 1170                        		.dbg	line,	"include\constants.c", 39; #define TILES_160 2560
 1171                        		.dbg	line,	"include\constants.c", 40; #define TILES_256 4096
 1172                        		.dbg	line,	"include\constants.c", 41; #define TILES_384 6144
 1173                        		.dbg	line,	"include\constants.c", 42; #define TILES_400 6400
 1174                        		.dbg	line,	"include\constants.c", 48; #define SEQUENCE_TITLE      0
 1175                        		.dbg	line,	"include\constants.c", 49; #define SEQUENCE_INTRO      1
 1176                        		.dbg	line,	"include\constants.c", 50; #define SEQUENCE_GAME       2
 1177                        		.dbg	line,	"include\constants.c", 51; #define SEQUENCE_NPC        3
 1178                        		.dbg	line,	"include\constants.c", 52; #define SEQUENCE_SHOP       4
 1179                        		.dbg	line,	"include\constants.c", 55; #define CAMERA_RECENTER_VELOCITY    4
 1180                        		.dbg	line,	"include\constants.c", 60; //-----------------------------------------------------------------------------//
 1181                        		.dbg	line,	"include\constants.c", 61; //                                                                             //
 1182                        		.dbg	line,	"include\constants.c", 62; //                                    INTRO                                    //
 1183                        		.dbg	line,	"include\constants.c", 63; //                                                                             //
 1184                        		.dbg	line,	"include\constants.c", 64; //-----------------------------------------------------------------------------//
 1185                        		.dbg	line,	"include\constants.c", 66; #define DRAGON_INTRO_VRAM_ADR       0x2C00
 1186                        		.dbg	line,	"include\constants.c", 71; //-----------------------------------------------------------------------------//
 1187                        		.dbg	line,	"include\constants.c", 72; //                                                                             //
 1188                        		.dbg	line,	"include\constants.c", 73; //                                   PLAYER                                    //
 1189                        		.dbg	line,	"include\constants.c", 74; //                                                                             //
 1190                        		.dbg	line,	"include\constants.c", 75; //-----------------------------------------------------------------------------//
 1191                        		.dbg	line,	"include\constants.c", 77; #define AXIS_RIGHT          0
 1192                        		.dbg	line,	"include\constants.c", 78; #define AXIS_LEFT           1
 1193                        		.dbg	line,	"include\constants.c", 79; #define AXIS_UP             2
 1194                        		.dbg	line,	"include\constants.c", 80; #define AXIS_DOWN           3
 1195                        		.dbg	line,	"include\constants.c", 84; #define STATE_IDLE          0
 1196                        		.dbg	line,	"include\constants.c", 85; #define STATE_WALK          1
 1197                        		.dbg	line,	"include\constants.c", 86; #define STATE_ATTACK        2
 1198                        		.dbg	line,	"include\constants.c", 87; #define STATE_JUMP          4
 1199                        		.dbg	line,	"include\constants.c", 88; #define STATE_JUMP_RIGHT    5
 1200                        		.dbg	line,	"include\constants.c", 89; #define STATE_JUMP_LEFT     6
 1201                        		.dbg	line,	"include\constants.c", 90; #define STATE_CROUCH        7
 1202                        		.dbg	line,	"include\constants.c", 91; #define STATE_CROUCH_ATTACK 8
 1203                        		.dbg	line,	"include\constants.c", 92; #define STATE_FALL          9
 1204                        		.dbg	line,	"include\constants.c", 93; #define STATE_HANG          10
 1205                        		.dbg	line,	"include\constants.c", 94; #define STATE_CLIMB_UP      11
 1206                        		.dbg	line,	"include\constants.c", 95; #define STATE_CLIMB_DOWN    12
 1207                        		.dbg	line,	"include\constants.c", 96; #define STATE_JUMP_LADDER   13
 1208                        		.dbg	line,	"include\constants.c", 97; #define STATE_HANG_ATTACK   14
 1209                        		.dbg	line,	"include\constants.c", 102; #define PLAYER_BASE_Y_POS   128
 1210                        		.dbg	line,	"include\constants.c", 104; #define RESPAWN_DEAD        1
 1211                        		.dbg	line,	"include\constants.c", 105; #define RESPAWN_SHOP        2
 1212                        		.dbg	line,	"include\constants.c", 107; #define PLAYER_START_INDEX  14
 1213                        		.dbg	line,	"include\constants.c", 111; #define PLAYER_VRAM_ADR                     0x1400
 1214                        		.dbg	line,	"include\constants.c", 112; #define PLAYER_IDLE_VRAM_ADR                PLAYER_VRAM_ADR
 1215                        		.dbg	line,	"include\constants.c", 113; #define PLAYER_WALK_1_VRAM_ADR              PLAYER_VRAM_ADR+TILES_16
 1216                        		.dbg	line,	"include\constants.c", 114; #define PLAYER_WALK_2_VRAM_ADR              PLAYER_WALK_1_VRAM_ADR+TILES_16
 1217                        		.dbg	line,	"include\constants.c", 115; #define PLAYER_WALK_3_VRAM_ADR              PLAYER_WALK_2_VRAM_ADR+TILES_16
 1218                        		.dbg	line,	"include\constants.c", 116; #define PLAYER_WALK_4_VRAM_ADR              PLAYER_WALK_3_VRAM_ADR+TILES_16
 1219                        		.dbg	line,	"include\constants.c", 117; #define PLAYER_WALK_5_VRAM_ADR              PLAYER_WALK_4_VRAM_ADR+TILES_16
 1220                        		.dbg	line,	"include\constants.c", 118; #define PLAYER_WALK_6_VRAM_ADR              PLAYER_WALK_5_VRAM_ADR+TILES_16
 1221                        		.dbg	line,	"include\constants.c", 120; #define PLAYER_JUMP_VRAM_ADR                PLAYER_WALK_6_VRAM_ADR+TILES_16
 1222                        		.dbg	line,	"include\constants.c", 121; #define PLAYER_CROUCH_VRAM_ADR              PLAYER_JUMP_VRAM_ADR+TILES_16
 1223                        		.dbg	line,	"include\constants.c", 122; #define PLAYER_HANG_VRAM_ADR                PLAYER_CROUCH_VRAM_ADR+TILES_16
 1224                        		.dbg	line,	"include\constants.c", 124; #define PLAYER_CLIMB_1_VRAM_ADR             PLAYER_HANG_VRAM_ADR+TILES_16
 1225                        		.dbg	line,	"include\constants.c", 125; #define PLAYER_CLIMB_2_VRAM_ADR             PLAYER_CLIMB_1_VRAM_ADR+TILES_16
 1226                        		.dbg	line,	"include\constants.c", 126; #define PLAYER_CLIMB_3_VRAM_ADR             PLAYER_CLIMB_2_VRAM_ADR+TILES_16
 1227                        		.dbg	line,	"include\constants.c", 127; #define PLAYER_CLIMB_4_VRAM_ADR             PLAYER_CLIMB_3_VRAM_ADR+TILES_16
 1228                        		.dbg	line,	"include\constants.c", 128; #define PLAYER_CLIMB_5_VRAM_ADR             PLAYER_CLIMB_4_VRAM_ADR+TILES_16
 1229                        		.dbg	line,	"include\constants.c", 129; #define PLAYER_CLIMB_6_VRAM_ADR             PLAYER_CLIMB_5_VRAM_ADR+TILES_16
 1230                        		.dbg	line,	"include\constants.c", 131; #define PLAYER_FALL_VRAM_ADR                PLAYER_CLIMB_6_VRAM_ADR+TILES_16
 1231                        		.dbg	line,	"include\constants.c", 133; #define PLAYER_ATTACK_1_VRAM_ADR            PLAYER_FALL_VRAM_ADR+TILES_16
 1232                        		.dbg	line,	"include\constants.c", 134; #define PLAYER_ATTACK_2_VRAM_ADR            PLAYER_ATTACK_1_VRAM_ADR+TILES_16
 1233                        		.dbg	line,	"include\constants.c", 136; #define PLAYER_CROUCH_ATTACK_1_VRAM_ADR     PLAYER_ATTACK_2_VRAM_ADR+TILES_16
 1234                        		.dbg	line,	"include\constants.c", 137; #define PLAYER_CROUCH_ATTACK_2_VRAM_ADR     PLAYER_CROUCH_ATTACK_1_VRAM_ADR+TILES_16
 1235                        		.dbg	line,	"include\constants.c", 139; #define PLAYER_JUMP_ATTACK_1_VRAM_ADR       PLAYER_CROUCH_ATTACK_2_VRAM_ADR+TILES_16
 1236                        		.dbg	line,	"include\constants.c", 140; #define PLAYER_JUMP_ATTACK_2_VRAM_ADR       PLAYER_JUMP_ATTACK_1_VRAM_ADR+TILES_16
 1237                        		.dbg	line,	"include\constants.c", 142; #define PLAYER_HANG_ATTACK_1_VRAM_ADR       PLAYER_JUMP_ATTACK_2_VRAM_ADR+TILES_16
 1238                        		.dbg	line,	"include\constants.c", 143; #define PLAYER_HANG_ATTACK_2_VRAM_ADR       PLAYER_HANG_ATTACK_1_VRAM_ADR+TILES_16
 1239                        		.dbg	line,	"include\constants.c", 148; //-----------------------------------------------------------------------------//
 1240                        		.dbg	line,	"include\constants.c", 149; //                                                                             //
 1241                        		.dbg	line,	"include\constants.c", 150; //                                  WEAPONS                                    //
 1242                        		.dbg	line,	"include\constants.c", 151; //                                                                             //
 1243                        		.dbg	line,	"include\constants.c", 152; //-----------------------------------------------------------------------------//
 1244                        		.dbg	line,	"include\constants.c", 154; #define CHAIN_VRAM_ADR                  0x7C00
 1245                        		.dbg	line,	"include\constants.c", 155; #define WEAPON_VRAM_ADR                 CHAIN_VRAM_ADR+TILES_4
 1246                        		.dbg	line,	"include\constants.c", 156; #define CHAIN_START_INDEX               PLAYER_START_INDEX-3
 1247                        		.dbg	line,	"include\constants.c", 158; #define WEAPON_IDLE_VRAM_ADRESS         WEAPON_VRAM_ADR
 1248                        		.dbg	line,	"include\constants.c", 159; #define WEAPON_WALK_1_VRAM_ADRESS       WEAPON_IDLE_VRAM_ADRESS+TILES_4
 1249                        		.dbg	line,	"include\constants.c", 160; #define WEAPON_WALK_2_VRAM_ADRESS       WEAPON_WALK_1_VRAM_ADRESS+TILES_4
 1250                        		.dbg	line,	"include\constants.c", 162; #define WEAPON_ATTACK_1_VRAM_ADRESS     WEAPON_WALK_2_VRAM_ADRESS+TILES_4
 1251                        		.dbg	line,	"include\constants.c", 163; #define WEAPON_ATTACK_2_VRAM_ADRESS     WEAPON_ATTACK_1_VRAM_ADRESS+TILES_4
 1252                        		.dbg	line,	"include\constants.c", 168; //-----------------------------------------------------------------------------//
 1253                        		.dbg	line,	"include\constants.c", 169; //                                                                             //
 1254                        		.dbg	line,	"include\constants.c", 170; //                                  COLLISIONS                                 //
 1255                        		.dbg	line,	"include\constants.c", 171; //                                                                             //
 1256                        		.dbg	line,	"include\constants.c", 172; //-----------------------------------------------------------------------------//
 1257                        		.dbg	line,	"include\constants.c", 174; #define TILE_EMPTY          0
 1258                        		.dbg	line,	"include\constants.c", 175; #define TILE_BG             1
 1259                        		.dbg	line,	"include\constants.c", 176; #define TILE_LADDER         2
 1260                        		.dbg	line,	"include\constants.c", 181; //-----------------------------------------------------------------------------//
 1261                        		.dbg	line,	"include\constants.c", 182; //                                                                             //
 1262                        		.dbg	line,	"include\constants.c", 183; //                                     HUD                                     //
 1263                        		.dbg	line,	"include\constants.c", 184; //                                                                             //
 1264                        		.dbg	line,	"include\constants.c", 185; //-----------------------------------------------------------------------------//
 1265                        		.dbg	line,	"include\constants.c", 187; #define LIFEBAR_1_VRAM_ADR      0x1000
 1266                        		.dbg	line,	"include\constants.c", 188; #define LIFEBAR_2_VRAM_ADR      LIFEBAR_1_VRAM_ADR+TILES_2
 1267                        		.dbg	line,	"include\constants.c", 189; #define LIFEBAR_3_VRAM_ADR      LIFEBAR_2_VRAM_ADR+TILES_2
 1268                        		.dbg	line,	"include\constants.c", 190; #define LIFEBAR_4_VRAM_ADR      LIFEBAR_3_VRAM_ADR+TILES_2
 1269                        		.dbg	line,	"include\constants.c", 191; #define LIFEBAR_5_VRAM_ADR      LIFEBAR_4_VRAM_ADR+TILES_2
 1270                        		.dbg	line,	"include\constants.c", 193; #define WEAPON_ICON_VRAM_ADR    LIFEBAR_5_VRAM_ADR+TILES_2
 1271                        		.dbg	line,	"include\constants.c", 194; #define ARMOR_VRAM_ADR          WEAPON_ICON_VRAM_ADR+TILES_4
 1272                        		.dbg	line,	"include\constants.c", 199; //-----------------------------------------------------------------------------//
 1273                        		.dbg	line,	"include\constants.c", 200; //                                                                             //
 1274                        		.dbg	line,	"include\constants.c", 201; //                                    LEVELS                                   //
 1275                        		.dbg	line,	"include\constants.c", 202; //                                                                             //
 1276                        		.dbg	line,	"include\constants.c", 203; //-----------------------------------------------------------------------------//
 1277                        		.dbg	line,	"include\constants.c", 205; #define LV1_WALL_VRAM_ADR       0x1000
 1278                        		.dbg	line,	"include\constants.c", 206; #define LV1_DOOR_VRAM_ADR       LV1_WALL_VRAM_ADR+256
 1279                        		.dbg	line,	"include\constants.c", 211; #define OBJECT_NUMBER_LV1       23
 1280                        		.dbg	line,	"include\constants.c", 212; #define CHEST_NUMBER_LV1        2
 1281                        		.dbg	line,	"include\constants.c", 213; #define NPC_NUMBER_LV1          2
 1282                        		.dbg	line,	"include\constants.c", 215; #define OBJECT_START_INDEX_LV1  0
 1283                        		.dbg	line,	"include\constants.c", 216; #define CHEST_START_INDEX_LV1   OBJECT_START_INDEX_LV1+OBJECT_NUMBER_LV1
 1284                        		.dbg	line,	"include\constants.c", 217; #define NPC_START_INDEX_LV1     CHEST_START_INDEX_LV1+CHEST_NUMBER_LV1
 1285                        		.dbg	line,	"include\constants.c", 222; //-----------------------------------------------------------------------------//
 1286                        		.dbg	line,	"include\constants.c", 223; //                                                                             //
 1287                        		.dbg	line,	"include\constants.c", 224; //                                   OBJECT                                    //
 1288                        		.dbg	line,	"include\constants.c", 225; //                                                                             //
 1289                        		.dbg	line,	"include\constants.c", 226; //-----------------------------------------------------------------------------//
 1290                        		.dbg	line,	"include\constants.c", 228; #define TYPE_HOURGLASS          0
 1291                        		.dbg	line,	"include\constants.c", 229; #define TYPE_POT                1
 1292                        		.dbg	line,	"include\constants.c", 230; #define TYPE_POW                2
 1293                        		.dbg	line,	"include\constants.c", 231; #define TYPE_CHEST              3
 1294                        		.dbg	line,	"include\constants.c", 232; #define TYPE_GRAY_KEY           4
 1295                        		.dbg	line,	"include\constants.c", 233; #define TYPE_GOLD_KEY           5
 1296                        		.dbg	line,	"include\constants.c", 234; #define TYPE_1UP                6
 1297                        		.dbg	line,	"include\constants.c", 235; #define TYPE_COIN_1             7
 1298                        		.dbg	line,	"include\constants.c", 236; #define TYPE_COIN_5             8
 1299                        		.dbg	line,	"include\constants.c", 237; #define TYPE_COIN_10            9
 1300                        		.dbg	line,	"include\constants.c", 238; #define TYPE_COIN_50            10
 1301                        		.dbg	line,	"include\constants.c", 239; #define TYPE_COIN_100           11
 1302                        		.dbg	line,	"include\constants.c", 240; #define TYPE_COIN_500           12
 1303                        		.dbg	line,	"include\constants.c", 241; #define TYPE_COIN_1000          13
 1304                        		.dbg	line,	"include\constants.c", 242; #define TYPE_YASHICHI           14
 1305                        		.dbg	line,	"include\constants.c", 243; #define TYPE_NULL               99
 1306                        		.dbg	line,	"include\constants.c", 246; #define STATE_FREE              0
 1307                        		.dbg	line,	"include\constants.c", 247; #define STATE_ACTIVE            1
 1308                        		.dbg	line,	"include\constants.c", 248; #define STATE_HIT               2
 1309                        		.dbg	line,	"include\constants.c", 249; #define STATE_DROPPED           3
 1310                        		.dbg	line,	"include\constants.c", 251; #define OBJECT_MARGIN           10//9
 1311                        		.dbg	line,	"include\constants.c", 254; #define POT1_VRAM_ADR           0x6800
 1312                        		.dbg	line,	"include\constants.c", 255; #define POT2_VRAM_ADR           POT1_VRAM_ADR+TILES_4
 1313                        		.dbg	line,	"include\constants.c", 256; #define POT3_VRAM_ADR           POT2_VRAM_ADR+TILES_4
 1314                        		.dbg	line,	"include\constants.c", 257; #define POT4_VRAM_ADR           POT3_VRAM_ADR+TILES_4
 1315                        		.dbg	line,	"include\constants.c", 258; #define POT5_VRAM_ADR           POT4_VRAM_ADR+TILES_4
 1316                        		.dbg	line,	"include\constants.c", 259; #define POT6_VRAM_ADR           POT5_VRAM_ADR+TILES_4
 1317                        		.dbg	line,	"include\constants.c", 260; #define POT7_VRAM_ADR           POT6_VRAM_ADR+TILES_4
 1318                        		.dbg	line,	"include\constants.c", 261; #define POT8_VRAM_ADR           POT7_VRAM_ADR+TILES_4
 1319                        		.dbg	line,	"include\constants.c", 263; #define POW_VRAM_ADR            POT8_VRAM_ADR+TILES_4
 1320                        		.dbg	line,	"include\constants.c", 264; #define GRAY_KEY_VRAM_ADR       POW_VRAM_ADR+TILES_4
 1321                        		.dbg	line,	"include\constants.c", 265; //#define GOLD_KEY_VRAM_ADR       GRAY_KEY_VRAM_ADR+TILES_4
 1322                        		.dbg	line,	"include\constants.c", 266; //#define LIFE_VRAM_ADR           GOLD_KEY_VRAM_ADR+TILES_4
 1323                        		.dbg	line,	"include\constants.c", 268; //#define COIN_1_VRAM_ADR         LIFE_VRAM_ADR+TILES_4
 1324                        		.dbg	line,	"include\constants.c", 269; #define COIN_1_VRAM_ADR         GRAY_KEY_VRAM_ADR+TILES_4
 1325                        		.dbg	line,	"include\constants.c", 270; #define COIN_5_VRAM_ADR         COIN_1_VRAM_ADR+TILES_4
 1326                        		.dbg	line,	"include\constants.c", 271; #define COIN_10_VRAM_ADR        COIN_5_VRAM_ADR+TILES_4
 1327                        		.dbg	line,	"include\constants.c", 272; #define COIN_50_VRAM_ADR        COIN_10_VRAM_ADR+TILES_4
 1328                        		.dbg	line,	"include\constants.c", 273; #define COIN_100_VRAM_ADR       COIN_50_VRAM_ADR+TILES_4
 1329                        		.dbg	line,	"include\constants.c", 274; #define COIN_500_VRAM_ADR       COIN_100_VRAM_ADR+TILES_4
 1330                        		.dbg	line,	"include\constants.c", 275; #define COIN_1000_VRAM_ADR      COIN_500_VRAM_ADR+TILES_4
 1331                        		.dbg	line,	"include\constants.c", 277; #define STAR_VRAM_ADR           COIN_1000_VRAM_ADR+TILES_4
 1332                        		.dbg	line,	"include\constants.c", 278; #define OCTOPUS_VRAM_ADR        STAR_VRAM_ADR+TILES_4
 1333                        		.dbg	line,	"include\constants.c", 279; #define FRUIT_VRAM_ADR          OCTOPUS_VRAM_ADR+TILES_4
 1334                        		.dbg	line,	"include\constants.c", 280; #define BARREL_VRAM_ADR         FRUIT_VRAM_ADR+TILES_4
 1335                        		.dbg	line,	"include\constants.c", 281; #define HOURGLASS_VRAM_ADR      BARREL_VRAM_ADR+TILES_4
 1336                        		.dbg	line,	"include\constants.c", 282; #define BAMBOO_VRAM_ADR         HOURGLASS_VRAM_ADR+TILES_4
 1337                        		.dbg	line,	"include\constants.c", 283; #define YASHICHI_VRAM_ADR       BAMBOO_VRAM_ADR+TILES_4
 1338                        		.dbg	line,	"include\constants.c", 284; #define ELEPHANT_VRAM_ADR       YASHICHI_VRAM_ADR+TILES_4
 1339                        		.dbg	line,	"include\constants.c", 285; #define DRAGONFLY_VRAM_ADR      ELEPHANT_VRAM_ADR+TILES_4
 1340                        		.dbg	line,	"include\constants.c", 286; #define COW_VRAM_ADR            DRAGONFLY_VRAM_ADR+TILES_4
 1341                        		.dbg	line,	"include\constants.c", 287; #define MOBICHAN_VRAM_ADR       COW_VRAM_ADR+TILES_4
 1342                        		.dbg	line,	"include\constants.c", 289; #define CHEST_VRAM_ADR          0x6F00//0x7000
 1343                        		.dbg	line,	"include\constants.c", 290; #define NPC_VRAM_ADR            CHEST_VRAM_ADR+TILES_96
 1344                        		.dbg	line,	"include\constants.c", 295; //-----------------------------------------------------------------------------//
 1345                        		.dbg	line,	"include\constants.c", 296; //                                                                             //
 1346                        		.dbg	line,	"include\constants.c", 297; //                                    NPC                                      //
 1347                        		.dbg	line,	"include\constants.c", 298; //                                                                             //
 1348                        		.dbg	line,	"include\constants.c", 299; //-----------------------------------------------------------------------------//
 1349                        		.dbg	line,	"include\constants.c", 301; #define TYPE_NPC_REWARD         0
 1350                        		.dbg	line,	"include\constants.c", 302; #define TYPE_NPC_SHOP           1
 1351                        		.dbg	line,	"include\constants.c", 307; //-----------------------------------------------------------------------------//
 1352                        		.dbg	line,	"include\constants.c", 308; //                                                                             //
 1353                        		.dbg	line,	"include\constants.c", 309; //                                    SHOP                                     //
 1354                        		.dbg	line,	"include\constants.c", 310; //                                                                             //
 1355                        		.dbg	line,	"include\constants.c", 311; //-----------------------------------------------------------------------------//
 1356                        		.dbg	line,	"include\constants.c", 313; #define SHOP_PHASE_ENTER        0
 1357                        		.dbg	line,	"include\constants.c", 314; #define SHOP_PHASE_BUY          1
 1358                        		.dbg	line,	"include\constants.c", 315; #define SHOP_PHASE_EXIT         2
 1359                        		.dbg	line,	"include\constants.c", 317; #define TYPE_ITEM_WEAPON_2      0
 1360                        		.dbg	line,	"include\constants.c", 318; #define TYPE_ITEM_WEAPON_3      1
 1361                        		.dbg	line,	"include\constants.c", 319; #define TYPE_ITEM_WEAPON_4      2
 1362                        		.dbg	line,	"include\constants.c", 320; #define TYPE_ITEM_WEAPON_5      3
 1363                        		.dbg	line,	"include\constants.c", 321; #define TYPE_ITEM_KEY           4
 1364                        		.dbg	line,	"include\constants.c", 323; #define TYPE_ITEM_ARMOR_2       5
 1365                        		.dbg	line,	"include\constants.c", 324; #define TYPE_ITEM_ARMOR_3       6
 1366                        		.dbg	line,	"include\constants.c", 325; #define TYPE_ITEM_ARMOR_4       7
 1367                        		.dbg	line,	"include\constants.c", 326; #define TYPE_ITEM_ARMOR_5       8
 1368                        		.dbg	line,	"include\constants.c", 327; #define TYPE_ITEM_POTION        9
 1369                        		.dbg	line,	"include\constants.c", 332; //-----------------------------------------------------------------------------//
 1370                        		.dbg	line,	"include\constants.c", 333; //                                                                             //
 1371                        		.dbg	line,	"include\constants.c", 334; //                                   ENEMIES                                   //
 1372                        		.dbg	line,	"include\constants.c", 335; //                                                                             //
 1373                        		.dbg	line,	"include\constants.c", 336; //-----------------------------------------------------------------------------//
 1374                        		.dbg	line,	"include\constants.c", 338; //-----------------------------------------------------------------------------//
 1375                        		.dbg	line,	"include\constants.c", 339; //                                     ORC                                     //
 1376                        		.dbg	line,	"include\constants.c", 340; //-----------------------------------------------------------------------------//
 1377                        		.dbg	line,	"include\constants.c", 342; #define ORC_VRAM_ADR                     PLAYER_HANG_ATTACK_2_VRAM_ADR+TILES_16
 1378                        		.dbg	line,	"include\constants.c", 344; #define ORC_WALK_1_VRAM_ADR              ORC_VRAM_ADR
 1379                        		.dbg	line,	"include\constants.c", 345; #define ORC_WALK_2_VRAM_ADR              ORC_WALK_1_VRAM_ADR+TILES_16
 1380                        		.dbg	line,	"include\constants.c", 346; #define ORC_WALK_3_VRAM_ADR              ORC_WALK_2_VRAM_ADR+TILES_16
 1381                        		.dbg	line,	"include\constants.c", 347; #define ORC_ATTACK_1_VRAM_ADR            ORC_WALK_3_VRAM_ADR+TILES_16
 1382                        		.dbg	line,	"include\constants.c", 349; #define ORC_ATTACK_2_VRAM_ADR            ORC_ATTACK_1_VRAM_ADR+TILES_16
 1383                        		.dbg	line,	"include\constants.c", 350; #define ORC_ATTACK_3_VRAM_ADR            ORC_ATTACK_2_VRAM_ADR+TILES_16
 1384                        		.dbg	line,	"include\constants.c", 351; #define ORC_ATTACK_4_VRAM_ADR            ORC_ATTACK_3_VRAM_ADR+TILES_16
 1385                        		.dbg	line,	"include\constants.c", 352; #define ORC_ATTACK_5_VRAM_ADR            ORC_ATTACK_4_VRAM_ADR+TILES_16
 1386                        		.dbg	line,	"include\constants.c", 353; #define ORC_ATTACK_6_VRAM_ADR            ORC_ATTACK_5_VRAM_ADR+TILES_16
 1387                        		.dbg	line,	"include\constants.c", 355; #define ORC_DEAD_1_VRAM_ADR              ORC_ATTACK_6_VRAM_ADR+TILES_16
 1388                        		.dbg	line,	"include\constants.c", 356; #define ORC_DEAD_2_VRAM_ADR              ORC_DEAD_1_VRAM_ADR+TILES_16
 1389                        		.dbg	line,	"include\constants.c", 357; #define ORC_DEAD_3_VRAM_ADR              ORC_DEAD_2_VRAM_ADR+TILES_16
 1390                        		.dbg	line,	"include\constants.c", 358; #define ORC_DEAD_4_VRAM_ADR              ORC_DEAD_3_VRAM_ADR+TILES_16
 1391                        		.dbg	line,	"include\constants.c", 360; #define ORC_AXE_1_VRAM_ADR               ORC_DEAD_4_VRAM_ADR+TILES_16
 1392                        		.dbg	line,	"include\constants.c", 361; #define ORC_AXE_2_VRAM_ADR               ORC_AXE_1_VRAM_ADR+TILES_4
 1393                        		.dbg	line,	"include\constants.c", 362; #define ORC_AXE_3_VRAM_ADR               ORC_AXE_2_VRAM_ADR+TILES_4
 1394                        		.dbg	line,	"include\constants.c", 363; #define ORC_AXE_4_VRAM_ADR               ORC_AXE_3_VRAM_ADR+TILES_4
 1395                        		.dbg	line,	"include\constants.c", 364; #define ORC_AXE_5_VRAM_ADR               ORC_AXE_4_VRAM_ADR+TILES_4
 1396                        		.dbg	line,	"include\constants.c", 365; #define ORC_AXE_6_VRAM_ADR               ORC_AXE_5_VRAM_ADR+TILES_4
 1397                        		.dbg	line,	"include\constants.c", 368; //-----------------------------------------------------------------------------//
 1398                        		.dbg	line,	"include\constants.c", 369; //                                                                             //
 1399                        		.dbg	line,	"include\constants.c", 370; //                                   SERPENT                                   //
 1400                        		.dbg	line,	"include\constants.c", 371; //                                                                             //
 1401                        		.dbg	line,	"include\constants.c", 372; //-----------------------------------------------------------------------------//
 1402                        		.dbg	line,	"include\constants.c", 374; #define SERPENT_VRAM_ADR                    ORC_AXE_6_VRAM_ADR+TILES_4
 1403                        		.dbg	line,	"include\constants.c", 375; #define SERPENT_LEFT_VRAM_ADR               SERPENT_VRAM_ADR
 1404                        		.dbg	line,	"include\constants.c", 376; #define SERPENT_FRONT_VRAM_ADR              SERPENT_LEFT_VRAM_ADR+TILES_16
 1405                        		.dbg	line,	"include\constants.c", 377; #define SERPENT_RIGHT_VRAM_ADR              SERPENT_FRONT_VRAM_ADR+TILES_16
 1406                        		.dbg	line,	"include\constants.c", 378; #define SERPENT_ATTACK_LEFT_VRAM_ADR        SERPENT_RIGHT_VRAM_ADR+TILES_16
 1407                        		.dbg	line,	"include\constants.c", 379; #define SERPENT_ATTACK_FRONT_VRAM_ADR       SERPENT_ATTACK_LEFT_VRAM_ADR+TILES_16
 1408                        		.dbg	line,	"include\constants.c", 380; #define SERPENT_ATTACK_RIGHT_VRAM_ADR       SERPENT_ATTACK_FRONT_VRAM_ADR+TILES_16
 1409                        		.dbg	line,	"include\constants.c", 383; //-----------------------------------------------------------------------------//
 1410                        		.dbg	line,	"include\constants.c", 384; //                                                                             //
 1411                        		.dbg	line,	"include\constants.c", 385; //                                    PLANT                                    //
 1412                        		.dbg	line,	"include\constants.c", 386; //                                                                             //
 1413                        		.dbg	line,	"include\constants.c", 387; //-----------------------------------------------------------------------------//
 1414                        		.dbg	line,	"include\constants.c", 389; #define PLANT_VRAM_ADR                      SERPENT_ATTACK_RIGHT_VRAM_ADR+TILES_16
 1415                        		.dbg	line,	"include\constants.c", 390; #define PLANT_IDLE_VRAM_ADR                 PLANT_VRAM_ADR
 1416                        		.dbg	line,	"main.c", 8; #include "include/variables.c"
 1417                        		.dbg	line,	"include\variables.c", 1; #include "huc.h"
 1418                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 1419                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 1420                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 1421                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 1422                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 1423                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 1424                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 1425                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 1426                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 1427                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 1428                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 1429                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1430                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1431                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1432                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 1433                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 1434                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 1435                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 1436                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 1437                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 1438                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 1439                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 1440                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 1441                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 1442                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 1443                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 1444                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 1445                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 1446                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 1447                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 1448                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 1449                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 1450                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 1451                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
 1452                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
 1453                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
 1454                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
 1455                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
 1456                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
 1457                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
 1458                        		.dbg	line,	"include\variables.c", 2; #include "hucc-scroll.h"
 1459                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
 1460                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
 1461                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
 1462                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
 1463                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
 1464                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
 1465                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
 1466                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
 1467                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
 1468                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
 1469                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
 1470                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1471                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1472                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1473                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
 1474                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
 1475                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
 1476                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
 1477                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
 1478                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
 1479                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
 1480                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
 1481                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
 1482                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
 1483                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
 1484                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
 1485                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
 1486                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
 1487                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
 1488                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
 1489                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
 1490                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
 1491                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
 1492                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
 1493                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
 1494                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
 1495                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
 1496                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
 1497                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
 1498                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
 1499                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
 1500                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
 1501                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
 1502                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
 1503                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
 1504                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
 1505                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
 1506                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
 1507                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
 1508                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
 1509                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
 1510                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
 1511                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
 1512                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 1513                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 1514                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
 1515                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
 1516                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
 1517                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
 1518                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
 1519                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
 1520                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
 1521                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
 1522                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
 1523                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
 1524                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
 1525                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
 1526                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
 1527                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
 1528                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
 1529                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
 1530                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
 1531                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
 1532                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
 1533                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
 1534                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
 1535                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
 1536                        		.dbg	line,	"include\variables.c", 3; #include "hucc-chrmap.h"
 1537                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
 1538                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
 1539                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
 1540                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
 1541                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
 1542                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
 1543                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
 1544                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
 1545                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
 1546                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
 1547                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
 1548                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1549                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1550                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1551                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
 1552                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
 1553                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
 1554                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
 1555                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
 1556                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
 1557                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
 1558                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
 1559                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
 1560                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
 1561                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
 1562                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
 1563                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
 1564                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
 1565                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
 1566                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 1567                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 1568                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 1569                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 1570                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 1571                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 1572                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 1573                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 1574                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1575                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 1576                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 1577                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 1578                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 1579                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1580                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 1581                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 1582                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 1583                        		.dbg	line,	"include\variables.c", 4; #include "hucc-blkmap.h"
 1584                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 1585                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 1586                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 1587                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 1588                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 1589                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 1590                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 1591                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 1592                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 1593                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 1594                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 1595                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1596                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1597                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1598                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 1599                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 1600                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 1601                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 1602                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 1603                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 1604                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 1605                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 1606                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 1607                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 1608                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 1609                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 1610                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 1611                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 1612                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 1613                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 1614                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 1615                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 1616                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 1617                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 1618                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 1619                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 1620                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 1621                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 1622                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 1623                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 1624                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 1625                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 1626                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 1627                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 1628                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 1629                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 1630                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 1631                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 1632                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 1633                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 1634                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 1635                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 1636                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 1637                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 1638                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 1639                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 1640                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 1641                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 1642                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 1643                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 1644                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 1645                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 1646                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 1647                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 1648                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1649                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 1650                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 1651                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 1652                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 1653                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 1654                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 1655                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 1656                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 1657                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 1658                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 1659                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 1660                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 1661                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 1662                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 1663                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 1664                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 1665                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 1666                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 1667                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 1668                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 1669                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 1670                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 1671                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 1672                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 1673                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 1674                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 1675                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 1676                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 1677                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 1678                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 1679                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 1680                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 1681                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 1682                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 1683                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 1684                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 1685                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 1686                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 1687                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 1688                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 1689                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 1690                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1691                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 1692                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 1693                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 1694                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 1695                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 1696                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 1697                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 1698                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 1699                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 1700                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 1701                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 1702                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 1703                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 1704                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 1705                        		.dbg	line,	"include\variables.c", 13; unsigned char   sequence_id,
 1706                        		.dbg	line,	"include\variables.c", 14; sequence_loaded,
 1707                        		.dbg	line,	"include\variables.c", 16; level_id,
 1708                        		.dbg	line,	"include\variables.c", 18; // PLAYER //
 1709                        		.dbg	line,	"include\variables.c", 19; respawn,
 1710                        		.dbg	line,	"include\variables.c", 20; player_id,
 1711                        		.dbg	line,	"include\variables.c", 21; player_state,
 1712                        		.dbg	line,	"include\variables.c", 22; player_axis,
 1713                        		.dbg	line,	"include\variables.c", 23; player_previous_axis,
 1714                        		.dbg	line,	"include\variables.c", 24; player_counter_anim,
 1715                        		.dbg	line,	"include\variables.c", 25; player_index_jump,
 1716                        		.dbg	line,	"include\variables.c", 26; player_index_fall,
 1717                        		.dbg	line,	"include\variables.c", 27; player_counter_attack,
 1718                        		.dbg	line,	"include\variables.c", 29; player_naked,
 1719                        		.dbg	line,	"include\variables.c", 30; player_attack,
 1720                        		.dbg	line,	"include\variables.c", 32; jump_ladder,
 1721                        		.dbg	line,	"include\variables.c", 33; jump_max_index,
 1722                        		.dbg	line,	"include\variables.c", 34; fall_ladder,
 1723                        		.dbg	line,	"include\variables.c", 35; hit_wall,
 1724                        		.dbg	line,	"include\variables.c", 37; // ARMOR + WEAPON //
 1725                        		.dbg	line,	"include\variables.c", 38; chain_id,
 1726                        		.dbg	line,	"include\variables.c", 39; weapon_id,
 1727                        		.dbg	line,	"include\variables.c", 40; armor_level,
 1728                        		.dbg	line,	"include\variables.c", 41; weapon_level,
 1729                        		.dbg	line,	"include\variables.c", 42; chain_unfold,
 1730                        		.dbg	line,	"include\variables.c", 43; list_chain_active[3],
 1731                        		.dbg	line,	"include\variables.c", 45; // HUD //
 1732                        		.dbg	line,	"include\variables.c", 46; life_amount,
 1733                        		.dbg	line,	"include\variables.c", 47; credits_amount,
 1734                        		.dbg	line,	"include\variables.c", 48; key_amount,
 1735                        		.dbg	line,	"include\variables.c", 49; potion_amount,
 1736                        		.dbg	line,	"include\variables.c", 51; // TIME //
 1737                        		.dbg	line,	"include\variables.c", 52; minutes,
 1738                        		.dbg	line,	"include\variables.c", 53; seconds,
 1739                        		.dbg	line,	"include\variables.c", 54; time_counter,
 1740                        		.dbg	line,	"include\variables.c", 56; minutes_backup,
 1741                        		.dbg	line,	"include\variables.c", 57; seconds_backup,
 1742                        		.dbg	line,	"include\variables.c", 60; // OBJECTS //
 1743                        		.dbg	line,	"include\variables.c", 61; object_start_index,
 1744                        		.dbg	line,	"include\variables.c", 62; level_object_number,
 1745                        		.dbg	line,	"include\variables.c", 63; onscreen_object_number,
 1746                        		.dbg	line,	"include\variables.c", 64; 
 1747                        		.dbg	line,	"include\variables.c", 65; list_object_type[25],
 1748                        		.dbg	line,	"include\variables.c", 66; list_object_state[25],
 1749                        		.dbg	line,	"include\variables.c", 67; list_object_energy[25],
 1750                        		.dbg	line,	"include\variables.c", 68; list_reward_type[25],
 1751                        		.dbg	line,	"include\variables.c", 69; list_object_counter[25],
 1752                        		.dbg	line,	"include\variables.c", 70; 
 1753                        		.dbg	line,	"include\variables.c", 71; list_onscreen_object[8],                
 1754                        		.dbg	line,	"include\variables.c", 72; 
 1755                        		.dbg	line,	"include\variables.c", 73; // CHESTS //
 1756                        		.dbg	line,	"include\variables.c", 74; chest_start_index,
 1757                        		.dbg	line,	"include\variables.c", 75; level_chest_number,
 1758                        		.dbg	line,	"include\variables.c", 76; onscreen_chest_number,
 1759                        		.dbg	line,	"include\variables.c", 77; 
 1760                        		.dbg	line,	"include\variables.c", 78; list_chest_state[8],
 1761                        		.dbg	line,	"include\variables.c", 79; list_onscreen_chest[8],
 1762                        		.dbg	line,	"include\variables.c", 81; // NPC //
 1763                        		.dbg	line,	"include\variables.c", 82; npc_start_index,
 1764                        		.dbg	line,	"include\variables.c", 83; level_npc_number,
 1765                        		.dbg	line,	"include\variables.c", 84; onscreen_npc_number,
 1766                        		.dbg	line,	"include\variables.c", 86; list_npc_type[9],
 1767                        		.dbg	line,	"include\variables.c", 87; list_npc_state[9],
 1768                        		.dbg	line,	"include\variables.c", 88; list_onscreen_npc[9],
 1769                        		.dbg	line,	"include\variables.c", 90; // SHOPS //
 1770                        		.dbg	line,	"include\variables.c", 91; index_x,
 1771                        		.dbg	line,	"include\variables.c", 92; index_y,
 1772                        		.dbg	line,	"include\variables.c", 93; item_index,
 1773                        		.dbg	line,	"include\variables.c", 95; shop_phase,
 1774                        		.dbg	line,	"include\variables.c", 96; shop_counter,
 1775                        		.dbg	line,	"include\variables.c", 98; palette_step,
 1776                        		.dbg	line,	"include\variables.c", 99; 
 1777                        		.dbg	line,	"include\variables.c", 100; tilemap_mask[256];
 1778                        		.dbg	line,	"include\variables.c", 105; signed int      player_pos_x,
 1779                        		.dbg	line,	"include\variables.c", 106; player_pos_y,
 1780                        		.dbg	line,	"include\variables.c", 107; camera_max_y_position,
 1781                        		.dbg	line,	"include\variables.c", 109; camera_pos_x_backup,
 1782                        		.dbg	line,	"include\variables.c", 110; camera_pos_y_backup,
 1783                        		.dbg	line,	"include\variables.c", 113; list_object_x_pos[25],
 1784                        		.dbg	line,	"include\variables.c", 114; list_object_y_pos[25],
 1785                        		.dbg	line,	"include\variables.c", 115; list_object_x_pos_ref[25],
 1786                        		.dbg	line,	"include\variables.c", 116; list_object_y_pos_ref[25],
 1787                        		.dbg	line,	"include\variables.c", 119; list_chest_x_pos[8],
 1788                        		.dbg	line,	"include\variables.c", 120; list_chest_y_pos[8],
 1789                        		.dbg	line,	"include\variables.c", 121; list_chest_x_pos_ref[8],
 1790                        		.dbg	line,	"include\variables.c", 122; list_chest_y_pos_ref[8],
 1791                        		.dbg	line,	"include\variables.c", 125; list_npc_x_pos[9],
 1792                        		.dbg	line,	"include\variables.c", 126; list_npc_y_pos[9],
 1793                        		.dbg	line,	"include\variables.c", 127; list_npc_x_pos_ref[9],
 1794                        		.dbg	line,	"include\variables.c", 128; list_npc_y_pos_ref[9];
 1795                        		.dbg	line,	"include\variables.c", 129; 
 1796                        		.dbg	line,	"include\variables.c", 133; int             global_counter,
 1797                        		.dbg	line,	"include\variables.c", 134; letter_index,
 1798                        		.dbg	line,	"include\variables.c", 135; letter_counter,
 1799                        		.dbg	line,	"include\variables.c", 136; zenny_amount,
 1800                        		.dbg	line,	"include\variables.c", 137; score,
 1801                        		.dbg	line,	"include\variables.c", 139; shop_prices[10],
 1802                        		.dbg	line,	"include\variables.c", 140; palette_buffer[16];
 1803                        		.dbg	line,	"include\variables.c", 145; signed char weapon_y_offset;
 1804                        		.dbg	line,	"include\variables.c", 150; extern unsigned char tileset_LV1_BG_B[];
 1805                        		.dbg	line,	"include\variables.c", 151; extern unsigned char multimap_LV1_BG_B[];
 1806                        		.dbg	line,	"include\variables.c", 153; extern unsigned char tileset_HUD[];
 1807                        		.dbg	line,	"include\variables.c", 154; extern unsigned char multimap_LV1_BG_A[];
 1808                        		.dbg	line,	"include\variables.c", 156; extern unsigned char tileset_SHOP_BG_B[];
 1809                        		.dbg	line,	"include\variables.c", 158; char *ptr_REWARD_TYPE;
 1810                        		.dbg	line,	"include\variables.c", 159; int *ptr_REWARD_VRAM_ADR;
 1811                        		.dbg	line,	"include\variables.c", 160; int *ptr_SHOP_ITEM_PRICES;
 1812                        		.dbg	line,	"main.c", 11; #include "include/gfx_BG_INTRO.c"
 1813                        		.dbg	line,	"include\gfx_BG_INTRO.c", 1; #include "huc.h"
 1814                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 1815                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 1816                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 1817                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 1818                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 1819                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 1820                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 1821                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 1822                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 1823                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 1824                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 1825                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1826                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1827                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1828                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 1829                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 1830                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 1831                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 1832                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 1833                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 1834                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 1835                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 1836                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 1837                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 1838                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 1839                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 1840                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 1841                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 1842                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 1843                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 1844                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 1845                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 1846                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 1847                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
 1848                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
 1849                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
 1850                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
 1851                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
 1852                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
 1853                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
 1854                        		.dbg	line,	"include\gfx_BG_INTRO.c", 2; #include "hucc-scroll.h"
 1855                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
 1856                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
 1857                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
 1858                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
 1859                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
 1860                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
 1861                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
 1862                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
 1863                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
 1864                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
 1865                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
 1866                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1867                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1868                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1869                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
 1870                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
 1871                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
 1872                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
 1873                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
 1874                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
 1875                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
 1876                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
 1877                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
 1878                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
 1879                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
 1880                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
 1881                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
 1882                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
 1883                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
 1884                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
 1885                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
 1886                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
 1887                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
 1888                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
 1889                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
 1890                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
 1891                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
 1892                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
 1893                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
 1894                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
 1895                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
 1896                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
 1897                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
 1898                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
 1899                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
 1900                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
 1901                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
 1902                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
 1903                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
 1904                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
 1905                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
 1906                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
 1907                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
 1908                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 1909                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 1910                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
 1911                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
 1912                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
 1913                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
 1914                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
 1915                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
 1916                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
 1917                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
 1918                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
 1919                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
 1920                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
 1921                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
 1922                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
 1923                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
 1924                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
 1925                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
 1926                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
 1927                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
 1928                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
 1929                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
 1930                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
 1931                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
 1932                        		.dbg	line,	"include\gfx_BG_INTRO.c", 3; #include "hucc-chrmap.h"
 1933                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
 1934                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
 1935                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
 1936                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
 1937                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
 1938                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
 1939                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
 1940                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
 1941                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
 1942                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
 1943                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
 1944                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1945                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1946                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1947                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
 1948                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
 1949                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
 1950                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
 1951                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
 1952                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
 1953                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
 1954                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
 1955                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
 1956                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
 1957                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
 1958                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
 1959                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
 1960                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
 1961                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
 1962                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 1963                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 1964                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 1965                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 1966                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 1967                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 1968                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 1969                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 1970                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1971                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 1972                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 1973                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 1974                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 1975                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1976                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 1977                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 1978                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 1979                        		.dbg	line,	"include\gfx_BG_INTRO.c", 4; #include "hucc-blkmap.h"
 1980                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 1981                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 1982                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 1983                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 1984                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 1985                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 1986                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 1987                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 1988                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 1989                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 1990                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 1991                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1992                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1993                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1994                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 1995                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 1996                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 1997                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 1998                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 1999                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 2000                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 2001                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 2002                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 2003                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 2004                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 2005                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 2006                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 2007                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 2008                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 2009                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 2010                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 2011                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 2012                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 2013                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 2014                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 2015                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 2016                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 2017                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 2018                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 2019                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 2020                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 2021                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 2022                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 2023                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 2024                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 2025                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 2026                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 2027                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 2028                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 2029                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 2030                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 2031                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 2032                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 2033                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 2034                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 2035                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 2036                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 2037                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 2038                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 2039                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 2040                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 2041                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 2042                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 2043                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 2044                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2045                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 2046                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 2047                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 2048                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 2049                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 2050                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 2051                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 2052                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 2053                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 2054                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 2055                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 2056                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 2057                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 2058                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 2059                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 2060                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 2061                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 2062                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 2063                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 2064                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 2065                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 2066                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 2067                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 2068                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 2069                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 2070                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 2071                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 2072                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 2073                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 2074                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 2075                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 2076                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 2077                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 2078                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 2079                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 2080                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 2081                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 2082                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 2083                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 2084                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 2085                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 2086                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2087                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 2088                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 2089                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 2090                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 2091                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 2092                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 2093                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 2094                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 2095                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 2096                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 2097                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 2098                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 2099                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 2100                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 2101                        		.dbg	line,	"include\gfx_BG_INTRO.c", 13; #incchr(tileset_FONT_INTRO,"res/maps/tiles_FONT_INTRO.png");
 2102               6000     		.data
 2103    03:6000             	_tileset_FONT_INTRO: 	.incchr		"res/maps/tiles_FONT_INTRO.png"
 2104               E31D     		.code
 2105                        		.dbg	line,	"include\gfx_BG_INTRO.c", 15; #incpal(palette_FONT_INTRO, "res/maps/tiles_FONT_INTRO.png")
 2106               6C00     		.data
 2107    03:6C00             	_palette_FONT_INTRO:	.incpal		"res/maps/tiles_FONT_INTRO.png"
 2108               E31D     		.code
 2109                        		.dbg	line,	"include\gfx_BG_INTRO.c", 17; #incpal(palette_BLACK, "res/palettes/palette_BLACK.png")
 2110               6E00     		.data
 2111    03:6E00             	_palette_BLACK:	.incpal		"res/palettes/palette_BLACK.png"
 2112               E31D     		.code
 2113                        		.dbg	line,	"include\gfx_BG_INTRO.c", 20; //**************************************************************************************//
 2114                        		.dbg	line,	"include\gfx_BG_INTRO.c", 21; //                                                                                      //
 2115                        		.dbg	line,	"include\gfx_BG_INTRO.c", 22; //                                        TITLE                                         //
 2116                        		.dbg	line,	"include\gfx_BG_INTRO.c", 23; //                                                                                      //
 2117                        		.dbg	line,	"include\gfx_BG_INTRO.c", 24; //**************************************************************************************//
 2118                        		.dbg	line,	"include\gfx_BG_INTRO.c", 26; #incchr(tileset_INTRO_BG_B, "res/maps/tilemap_INTRO_BG_B.png", _OPTIMIZE)
 2119               7000     		.data
 2120    03:7000             	_tileset_INTRO_BG_B: 	.incchr		"res/maps/tilemap_INTRO_BG_B.png", 1
 2121               E31D     		.code
 2122                        		.dbg	line,	"include\gfx_BG_INTRO.c", 27; #incbat(tilemap_INTRO_BG_B,"res/maps/tilemap_INTRO_BG_B.png", 0x1000 , 32 , 28 , tileset_INTRO_BG_B);
 2123               6460     		.data
 2124    05:6460             	_tilemap_INTRO_BG_B:	.incbat		"res/maps/tilemap_INTRO_BG_B.png", 4096, 32, 28, _tileset_INTRO_BG_B
 2125               E31D     		.code
 2126                        		.dbg	line,	"include\gfx_BG_INTRO.c", 29; #incchr(tileset_INTRO_BG_A, "res/maps/tilemap_INTRO_BG_A.png", _OPTIMIZE)
 2127               6B60     		.data
 2128    05:6B60             	_tileset_INTRO_BG_A: 	.incchr		"res/maps/tilemap_INTRO_BG_A.png", 1
 2129               E31D     		.code
 2130                        		.dbg	line,	"include\gfx_BG_INTRO.c", 30; #incbat(tilemap_INTRO_BG_A,"res/maps/tilemap_INTRO_BG_A.png", 0x1000 , 64 , 64 , tileset_INTRO_BG_A);
 2131               76E0     		.data
 2132    05:76E0             	_tilemap_INTRO_BG_A:	.incbat		"res/maps/tilemap_INTRO_BG_A.png", 4096, 64, 64, _tileset_INTRO_BG_A
 2133               E31D     		.code
 2134                        		.dbg	line,	"include\gfx_BG_INTRO.c", 32; #incpal(palette_INTRO_1, "res/maps/tilemap_INTRO_BG_B.png")
 2135               76E0     		.data
 2136    06:76E0             	_palette_INTRO_1:	.incpal		"res/maps/tilemap_INTRO_BG_B.png"
 2137               E31D     		.code
 2138                        		.dbg	line,	"include\gfx_BG_INTRO.c", 33; #incpal(palette_INTRO_2, "res/palettes/palette_INTRO_2.png")
 2139               78E0     		.data
 2140    06:78E0             	_palette_INTRO_2:	.incpal		"res/palettes/palette_INTRO_2.png"
 2141               E31D     		.code
 2142                        		.dbg	line,	"include\gfx_BG_INTRO.c", 34; #incpal(palette_INTRO_3, "res/palettes/palette_INTRO_3.png")
 2143               7AE0     		.data
 2144    06:7AE0             	_palette_INTRO_3:	.incpal		"res/palettes/palette_INTRO_3.png"
 2145               E31D     		.code
 2146                        		.dbg	line,	"main.c", 12; #include "include/gfx_BG_LEVELS.c"
 2147                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 1; #include "huc.h"
 2148                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 2149                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 2150                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 2151                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 2152                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 2153                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 2154                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 2155                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 2156                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 2157                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 2158                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 2159                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2160                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2161                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2162                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 2163                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 2164                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 2165                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 2166                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 2167                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 2168                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 2169                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 2170                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 2171                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 2172                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 2173                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 2174                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 2175                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 2176                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 2177                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 2178                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 2179                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 2180                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 2181                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
 2182                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
 2183                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
 2184                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
 2185                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
 2186                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
 2187                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
 2188                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 2; #include "hucc-scroll.h"
 2189                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
 2190                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
 2191                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
 2192                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
 2193                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
 2194                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
 2195                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
 2196                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
 2197                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
 2198                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
 2199                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
 2200                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2201                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2202                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2203                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
 2204                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
 2205                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
 2206                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
 2207                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
 2208                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
 2209                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
 2210                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
 2211                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
 2212                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
 2213                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
 2214                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
 2215                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
 2216                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
 2217                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
 2218                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
 2219                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
 2220                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
 2221                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
 2222                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
 2223                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
 2224                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
 2225                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
 2226                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
 2227                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
 2228                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
 2229                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
 2230                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
 2231                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
 2232                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
 2233                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
 2234                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
 2235                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
 2236                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
 2237                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
 2238                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
 2239                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
 2240                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
 2241                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
 2242                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 2243                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 2244                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
 2245                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
 2246                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
 2247                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
 2248                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
 2249                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
 2250                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
 2251                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
 2252                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
 2253                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
 2254                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
 2255                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
 2256                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
 2257                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
 2258                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
 2259                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
 2260                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
 2261                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
 2262                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
 2263                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
 2264                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
 2265                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
 2266                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 3; #include "hucc-chrmap.h"
 2267                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
 2268                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
 2269                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
 2270                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
 2271                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
 2272                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
 2273                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
 2274                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
 2275                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
 2276                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
 2277                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
 2278                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2279                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2280                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2281                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
 2282                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
 2283                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
 2284                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
 2285                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
 2286                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
 2287                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
 2288                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
 2289                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
 2290                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
 2291                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
 2292                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
 2293                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
 2294                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
 2295                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
 2296                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 2297                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 2298                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 2299                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 2300                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 2301                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 2302                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 2303                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 2304                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2305                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 2306                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 2307                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 2308                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 2309                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2310                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 2311                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 2312                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 2313                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 4; #include "hucc-blkmap.h"
 2314                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 2315                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 2316                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 2317                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 2318                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 2319                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 2320                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 2321                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 2322                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 2323                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 2324                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 2325                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2326                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2327                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2328                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 2329                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 2330                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 2331                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 2332                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 2333                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 2334                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 2335                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 2336                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 2337                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 2338                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 2339                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 2340                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 2341                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 2342                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 2343                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 2344                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 2345                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 2346                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 2347                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 2348                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 2349                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 2350                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 2351                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 2352                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 2353                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 2354                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 2355                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 2356                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 2357                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 2358                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 2359                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 2360                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 2361                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 2362                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 2363                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 2364                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 2365                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 2366                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 2367                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 2368                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 2369                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 2370                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 2371                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 2372                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 2373                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 2374                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 2375                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 2376                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 2377                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 2378                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2379                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 2380                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 2381                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 2382                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 2383                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 2384                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 2385                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 2386                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 2387                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 2388                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 2389                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 2390                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 2391                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 2392                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 2393                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 2394                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 2395                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 2396                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 2397                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 2398                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 2399                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 2400                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 2401                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 2402                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 2403                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 2404                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 2405                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 2406                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 2407                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 2408                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 2409                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 2410                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 2411                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 2412                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 2413                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 2414                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 2415                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 2416                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 2417                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 2418                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 2419                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 2420                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2421                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 2422                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 2423                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 2424                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 2425                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 2426                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 2427                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 2428                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 2429                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 2430                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 2431                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 2432                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 2433                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 2434                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 2435                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 13; #incchr(tileset_FONT,"res/maps/tiles_FONT.png");
 2436               7CE0     		.data
 2437    06:7CE0             	_tileset_FONT: 	.incchr		"res/maps/tiles_FONT.png"
 2438               E31D     		.code
 2439                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 16; //**************************************************************************************//
 2440                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 17; //                                                                                      //
 2441                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 18; //                                       LEVEL 1                                        //
 2442                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 19; //                                                                                      //
 2443                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 20; //**************************************************************************************//
 2444                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 22; #incchr(tileset_LV1_WALL,"res/maps/tiles_LV1_WALL.png", 4 , 4);
 2445               68E0     		.data
 2446    07:68E0             	_tileset_LV1_WALL: 	.incchr		"res/maps/tiles_LV1_WALL.png", 4, 4
 2447               E31D     		.code
 2448                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 23; #incchr(tileset_LV1_DOOR_OPEN,"res/maps/tiles_LV1_DOOR_OPEN.png", 4 , 6);
 2449               6AE0     		.data
 2450    07:6AE0             	_tileset_LV1_DOOR_OPEN: 	.incchr		"res/maps/tiles_LV1_DOOR_OPEN.png", 4, 6
 2451               E31D     		.code
 2452                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 24; #incchr(tileset_LV1_DOOR_CLOSED,"res/maps/tiles_LV1_DOOR_CLOSED.png", 4 , 6);
 2453               6DE0     		.data
 2454    07:6DE0             	_tileset_LV1_DOOR_CLOSED: 	.incchr		"res/maps/tiles_LV1_DOOR_CLOSED.png", 4, 6
 2455               E31D     		.code
 2456                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 26; #incchr(tileset_LIFE_RED,"res/maps/tileset_LIFE_RED.png", 2 , 1);
 2457               70E0     		.data
 2458    07:70E0             	_tileset_LIFE_RED: 	.incchr		"res/maps/tileset_LIFE_RED.png", 2, 1
 2459               E31D     		.code
 2460                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 27; #incchr(tileset_LIFE_ORANGE,"res/maps/tileset_LIFE_ORANGE.png", 2 , 1);
 2461               7120     		.data
 2462    07:7120             	_tileset_LIFE_ORANGE: 	.incchr		"res/maps/tileset_LIFE_ORANGE.png", 2, 1
 2463               E31D     		.code
 2464                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 28; #incchr(tileset_LIFE_YELLOW,"res/maps/tileset_LIFE_YELLOW.png", 2 , 1);
 2465               7160     		.data
 2466    07:7160             	_tileset_LIFE_YELLOW: 	.incchr		"res/maps/tileset_LIFE_YELLOW.png", 2, 1
 2467               E31D     		.code
 2468                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 29; #incchr(tileset_LIFE_EMPTY,"res/maps/tileset_LIFE_EMPTY.png", 2 , 1);
 2469               71A0     		.data
 2470    07:71A0             	_tileset_LIFE_EMPTY: 	.incchr		"res/maps/tileset_LIFE_EMPTY.png", 2, 1
 2471               E31D     		.code
 2472                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 31; #incchr(tileset_ARMOR_1,"res/maps/tileset_ARMOR_1.png", 2 , 2);
 2473               71E0     		.data
 2474    07:71E0             	_tileset_ARMOR_1: 	.incchr		"res/maps/tileset_ARMOR_1.png", 2, 2
 2475               E31D     		.code
 2476                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 32; #incchr(tileset_ARMOR_2,"res/maps/tileset_ARMOR_2.png", 2 , 2);
 2477               7260     		.data
 2478    07:7260             	_tileset_ARMOR_2: 	.incchr		"res/maps/tileset_ARMOR_2.png", 2, 2
 2479               E31D     		.code
 2480                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 33; #incchr(tileset_ARMOR_4,"res/maps/tileset_ARMOR_4.png", 2 , 2);
 2481               72E0     		.data
 2482    07:72E0             	_tileset_ARMOR_4: 	.incchr		"res/maps/tileset_ARMOR_4.png", 2, 2
 2483               E31D     		.code
 2484                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 34; #incchr(tileset_ARMOR_8,"res/maps/tileset_ARMOR_8.png", 2 , 2);
 2485               7360     		.data
 2486    07:7360             	_tileset_ARMOR_8: 	.incchr		"res/maps/tileset_ARMOR_8.png", 2, 2
 2487               E31D     		.code
 2488                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 36; #incchr(tileset_WEAPON_1,"res/maps/tileset_WEAPON_1.png", 2 , 2);
 2489               73E0     		.data
 2490    07:73E0             	_tileset_WEAPON_1: 	.incchr		"res/maps/tileset_WEAPON_1.png", 2, 2
 2491               E31D     		.code
 2492                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 37; #incchr(tileset_WEAPON_2,"res/maps/tileset_WEAPON_2.png", 2 , 2);
 2493               7460     		.data
 2494    07:7460             	_tileset_WEAPON_2: 	.incchr		"res/maps/tileset_WEAPON_2.png", 2, 2
 2495               E31D     		.code
 2496                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 38; #incchr(tileset_WEAPON_4,"res/maps/tileset_WEAPON_4.png", 2 , 2);
 2497               74E0     		.data
 2498    07:74E0             	_tileset_WEAPON_4: 	.incchr		"res/maps/tileset_WEAPON_4.png", 2, 2
 2499               E31D     		.code
 2500                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 39; #incchr(tileset_WEAPON_5,"res/maps/tileset_WEAPON_5.png", 2 , 2);
 2501               7560     		.data
 2502    07:7560             	_tileset_WEAPON_5: 	.incchr		"res/maps/tileset_WEAPON_5.png", 2, 2
 2503               E31D     		.code
 2504                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 40; #incchr(tileset_WEAPON_8,"res/maps/tileset_WEAPON_8.png", 2 , 2);
 2505               75E0     		.data
 2506    07:75E0             	_tileset_WEAPON_8: 	.incchr		"res/maps/tileset_WEAPON_8.png", 2, 2
 2507               E31D     		.code
 2508                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 43; //--------------------------------------------------------------------------------------//
 2509                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 44; //                                        VDC 2                                         //
 2510                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 45; //--------------------------------------------------------------------------------------//
 2511                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 47; #asm
 2512                        		.dbg	clear
 2513               0001     	OPTIMIZE	=	1
 2514               7660     			.data
 2515                        	; EXTRACT TILESET
 2516                        	;----------------
 2517    07:7660             	_tileset_LV1_BG_B:  incchr	"res/maps/template_LV1_WALL.png"
 2518    07:7860             			incchr	"res/maps/template_LV1_DOOR.png"
 2519    07:7B60             			incchr	"res/maps/tilemap_LV1_BG_B.png", OPTIMIZE
 2520                        	; EXTRACT BLOCKS
 2521                        	;--------------
 2522    0B:7000             	blocks_LV1_BG_B1:	incblk	"res/maps/tilemap_LV1_BG_B.png" , 0x1000 ,    0 ,   0 ,  64 , 32 , _tileset_LV1_BG_B ; // 96x16 = 1536 | 32x16 =  512
 2523    0B:7800             	blocks_LV1_BG_B2:	incblk	"res/maps/tilemap_LV1_BG_B.png" , 0x1000 , 1024 ,   0 ,  96 , 32 , _tileset_LV1_BG_B ; // 64x16 = 1024 | 32x16 =  512
 2524    0C:6000             	blocks_LV1_BG_B3:	incblk	"res/maps/tilemap_LV1_BG_B.png" , 0x1000 ,    0 , 512 ,  64 , 32 , _tileset_LV1_BG_B ; // 96x16 = 1536 | 16x16 =  256
 2525    0C:6800             	blocks_LV1_BG_B4:	incblk	"res/maps/tilemap_LV1_BG_B.png" , 0x1000 , 1024 , 512 ,  96 , 32 , _tileset_LV1_BG_B ; // 64x16 = 1024 | 16x16 =  256
 2526                        	; EXTRACT MAPS
 2527                        	;------------
 2528               7000     			align	256
 2529    0C:7000             	MAP_LV1_BG_B1:		incmap	"res/maps/tilemap_LV1_BG_B.png",    0 ,   0 ,  64 , 32 , blocks_LV1_BG_B1 ; // 96x16 = 1536 | 32x16 =  512
 2530               7800     			align	256
 2531    0C:7800             	MAP_LV1_BG_B2:		incmap	"res/maps/tilemap_LV1_BG_B.png", 1024 ,   0 ,  96 , 32 , blocks_LV1_BG_B2 ; // 64x16 = 1024 | 32x16 =  512
 2532               6400     			align	256
 2533    0D:6400             	MAP_LV1_BG_B3:		incmap	"res/maps/tilemap_LV1_BG_B.png",    0 , 512 ,  64 , 32 , blocks_LV1_BG_B3 ; // 96x16 = 1536 | 16x16 =  256
 2534               6C00     			align	256
 2535    0D:6C00             	MAP_LV1_BG_B4:		incmap	"res/maps/tilemap_LV1_BG_B.png", 1024 , 512 ,  96 , 32 , blocks_LV1_BG_B4 ; // 64x16 = 1024 | 16x16 =  256
 2536                        	; MASK (EMPTY)
 2537                        	;----------------
 2538    0D:7800  00 00 00 00	dummy_tbl:	ds	256
         0D:7804  00 00 00 00 
         0D:7808  00 00 00 00 
         0D:780C  00 00 00 00 
         0D:7810  00 00 00 00 
         0D:7814  00 00 00 00 
         0D:7818  00 00 00 00 
         0D:781C  00 00 00 00 
         0D:7820  00 00 00 00 
         0D:7824  00 00 00 00 
         0D:7828  00 00 00 00 
         0D:782C  00 00 00 00 
         0D:7830  00 00 00 00 
         0D:7834  00 00 00 00 
         0D:7838  00 00 00 00 
         0D:783C  00 00 00 00 
         0D:7840  00 00 00 00 
         0D:7844  00 00 00 00 
         0D:7848  00 00 00 00 
         0D:784C  00 00 00 00 
         0D:7850  00 00 00 00 
         0D:7854  00 00 00 00 
         0D:7858  00 00 00 00 
         0D:785C  00 00 00 00 
         0D:7860  00 00 00 00 
         0D:7864  00 00 00 00 
         0D:7868  00 00 00 00 
         0D:786C  00 00 00 00 
         0D:7870  00 00 00 00 
         0D:7874  00 00 00 00 
         0D:7878  00 00 00 00 
         0D:787C  00 00 00 00 
         0D:7880  00 00 00 00 
         0D:7884  00 00 00 00 
         0D:7888  00 00 00 00 
         0D:788C  00 00 00 00 
         0D:7890  00 00 00 00 
         0D:7894  00 00 00 00 
         0D:7898  00 00 00 00 
         0D:789C  00 00 00 00 
         0D:78A0  00 00 00 00 
         0D:78A4  00 00 00 00 
         0D:78A8  00 00 00 00 
         0D:78AC  00 00 00 00 
         0D:78B0  00 00 00 00 
         0D:78B4  00 00 00 00 
         0D:78B8  00 00 00 00 
         0D:78BC  00 00 00 00 
         0D:78C0  00 00 00 00 
         0D:78C4  00 00 00 00 
         0D:78C8  00 00 00 00 
         0D:78CC  00 00 00 00 
         0D:78D0  00 00 00 00 
         0D:78D4  00 00 00 00 
         0D:78D8  00 00 00 00 
         0D:78DC  00 00 00 00 
         0D:78E0  00 00 00 00 
         0D:78E4  00 00 00 00 
         0D:78E8  00 00 00 00 
         0D:78EC  00 00 00 00 
         0D:78F0  00 00 00 00 
         0D:78F4  00 00 00 00 
         0D:78F8  00 00 00 00 
         0D:78FC  00 00 00 00 
 2539                        	; SWIZZLE MAPS
 2540                        	;-------------
 2541    0D:7900             	swizzle	MAP_LV1_BG_B1,  32, 16 ;
 2542    0D:7900             	swizzle	MAP_LV1_BG_B2,  32, 16 ;
 2543    0D:7900             	swizzle	MAP_LV1_BG_B3,  32, 16 ;
 2544    0D:7900             	swizzle	MAP_LV1_BG_B4,  32, 16 ;
 2545                        	; BUILD MULTIMAP
 2546                        	;---------------
 2547    0D:7900             	_multimap_LV1_BG_B:
 2548                        			; 1st line of 5 screens (512x256)
 2549                        			SCREEN MAP_LV1_BG_B1 + 0x0000, blocks_LV1_BG_B1, dummy_tbl, 0
         0D:7900  70 0C      			db	(((MAP_LV1_BG_B1 + 0x0000) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B1 + 0x0000)
         0D:7902  50 0B      			db	(((blocks_LV1_BG_B1) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B1)
         0D:7904  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7906  00 00      			dw	(0)
 2550                        			SCREEN MAP_LV1_BG_B1 + 0x0200, blocks_LV1_BG_B1, dummy_tbl, 0
         0D:7908  72 0C      			db	(((MAP_LV1_BG_B1 + 0x0200) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B1 + 0x0200)
         0D:790A  50 0B      			db	(((blocks_LV1_BG_B1) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B1)
         0D:790C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:790E  00 00      			dw	(0)
 2551                        			SCREEN MAP_LV1_BG_B2 + 0x0000, blocks_LV1_BG_B2, dummy_tbl, 0
         0D:7910  78 0C      			db	(((MAP_LV1_BG_B2 + 0x0000) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B2 + 0x0000)
         0D:7912  58 0B      			db	(((blocks_LV1_BG_B2) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B2)
         0D:7914  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7916  00 00      			dw	(0)
 2552                        			SCREEN MAP_LV1_BG_B2 + 0x0200, blocks_LV1_BG_B2, dummy_tbl, 0
         0D:7918  7A 0C      			db	(((MAP_LV1_BG_B2 + 0x0200) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B2 + 0x0200)
         0D:791A  58 0B      			db	(((blocks_LV1_BG_B2) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B2)
         0D:791C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:791E  00 00      			dw	(0)
 2553                        			SCREEN MAP_LV1_BG_B2 + 0x0400, blocks_LV1_BG_B2, dummy_tbl, 0
         0D:7920  7C 0C      			db	(((MAP_LV1_BG_B2 + 0x0400) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B2 + 0x0400)
         0D:7922  58 0B      			db	(((blocks_LV1_BG_B2) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B2)
         0D:7924  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7926  00 00      			dw	(0)
 2554                        			; 2nd line of 5 screens (512x256)
 2555                        			SCREEN MAP_LV1_BG_B1 + 0x0400, blocks_LV1_BG_B1, dummy_tbl, 0
         0D:7928  74 0C      			db	(((MAP_LV1_BG_B1 + 0x0400) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B1 + 0x0400)
         0D:792A  50 0B      			db	(((blocks_LV1_BG_B1) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B1)
         0D:792C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:792E  00 00      			dw	(0)
 2556                        			SCREEN MAP_LV1_BG_B1 + 0x0600, blocks_LV1_BG_B1, dummy_tbl, 0
         0D:7930  76 0C      			db	(((MAP_LV1_BG_B1 + 0x0600) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B1 + 0x0600)
         0D:7932  50 0B      			db	(((blocks_LV1_BG_B1) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B1)
         0D:7934  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7936  00 00      			dw	(0)
 2557                        			SCREEN MAP_LV1_BG_B2 + 0x0600, blocks_LV1_BG_B2, dummy_tbl, 0
         0D:7938  7E 0C      			db	(((MAP_LV1_BG_B2 + 0x0600) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B2 + 0x0600)
         0D:793A  58 0B      			db	(((blocks_LV1_BG_B2) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B2)
         0D:793C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:793E  00 00      			dw	(0)
 2558                        			SCREEN MAP_LV1_BG_B2 + 0x0800, blocks_LV1_BG_B2, dummy_tbl, 0
         0D:7940  60 0D      			db	(((MAP_LV1_BG_B2 + 0x0800) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B2 + 0x0800)
         0D:7942  58 0B      			db	(((blocks_LV1_BG_B2) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B2)
         0D:7944  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7946  00 00      			dw	(0)
 2559                        			SCREEN MAP_LV1_BG_B2 + 0x0A00, blocks_LV1_BG_B2, dummy_tbl, 0
         0D:7948  62 0D      			db	(((MAP_LV1_BG_B2 + 0x0A00) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B2 + 0x0A00)
         0D:794A  58 0B      			db	(((blocks_LV1_BG_B2) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B2)
         0D:794C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:794E  00 00      			dw	(0)
 2560                        			; 3rd line of 5 screens (512x256)
 2561                        			SCREEN MAP_LV1_BG_B3 + 0x0000, blocks_LV1_BG_B3, dummy_tbl, 0
         0D:7950  64 0D      			db	(((MAP_LV1_BG_B3 + 0x0000) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B3 + 0x0000)
         0D:7952  40 0C      			db	(((blocks_LV1_BG_B3) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B3)
         0D:7954  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7956  00 00      			dw	(0)
 2562                        			SCREEN MAP_LV1_BG_B3 + 0x0200, blocks_LV1_BG_B3, dummy_tbl, 0
         0D:7958  66 0D      			db	(((MAP_LV1_BG_B3 + 0x0200) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B3 + 0x0200)
         0D:795A  40 0C      			db	(((blocks_LV1_BG_B3) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B3)
         0D:795C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:795E  00 00      			dw	(0)
 2563                        			SCREEN MAP_LV1_BG_B4 + 0x0000, blocks_LV1_BG_B4, dummy_tbl, 0
         0D:7960  6C 0D      			db	(((MAP_LV1_BG_B4 + 0x0000) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B4 + 0x0000)
         0D:7962  48 0C      			db	(((blocks_LV1_BG_B4) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B4)
         0D:7964  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7966  00 00      			dw	(0)
 2564                        			SCREEN MAP_LV1_BG_B4 + 0x0200, blocks_LV1_BG_B4, dummy_tbl, 0
         0D:7968  6E 0D      			db	(((MAP_LV1_BG_B4 + 0x0200) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B4 + 0x0200)
         0D:796A  48 0C      			db	(((blocks_LV1_BG_B4) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B4)
         0D:796C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:796E  00 00      			dw	(0)
 2565                        			SCREEN MAP_LV1_BG_B4 + 0x0400, blocks_LV1_BG_B4, dummy_tbl, 0
         0D:7970  70 0D      			db	(((MAP_LV1_BG_B4 + 0x0400) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B4 + 0x0400)
         0D:7972  48 0C      			db	(((blocks_LV1_BG_B4) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B4)
         0D:7974  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7976  00 00      			dw	(0)
 2566                        			; 4th line of 5 screens (512x256)
 2567                        			SCREEN MAP_LV1_BG_B3 + 0x0400, blocks_LV1_BG_B3, dummy_tbl, 0
         0D:7978  68 0D      			db	(((MAP_LV1_BG_B3 + 0x0400) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B3 + 0x0400)
         0D:797A  40 0C      			db	(((blocks_LV1_BG_B3) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B3)
         0D:797C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:797E  00 00      			dw	(0)
 2568                        			SCREEN MAP_LV1_BG_B3 + 0x0600, blocks_LV1_BG_B3, dummy_tbl, 0
         0D:7980  6A 0D      			db	(((MAP_LV1_BG_B3 + 0x0600) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B3 + 0x0600)
         0D:7982  40 0C      			db	(((blocks_LV1_BG_B3) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B3)
         0D:7984  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7986  00 00      			dw	(0)
 2569                        			SCREEN MAP_LV1_BG_B4 + 0x0600, blocks_LV1_BG_B4, dummy_tbl, 0
         0D:7988  72 0D      			db	(((MAP_LV1_BG_B4 + 0x0600) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B4 + 0x0600)
         0D:798A  48 0C      			db	(((blocks_LV1_BG_B4) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B4)
         0D:798C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:798E  00 00      			dw	(0)
 2570                        			SCREEN MAP_LV1_BG_B4 + 0x0800, blocks_LV1_BG_B4, dummy_tbl, 0
         0D:7990  74 0D      			db	(((MAP_LV1_BG_B4 + 0x0800) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B4 + 0x0800)
         0D:7992  48 0C      			db	(((blocks_LV1_BG_B4) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B4)
         0D:7994  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7996  00 00      			dw	(0)
 2571                        			SCREEN MAP_LV1_BG_B4 + 0x0A00, blocks_LV1_BG_B4, dummy_tbl, 0
         0D:7998  76 0D      			db	(((MAP_LV1_BG_B4 + 0x0A00) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B4 + 0x0A00)
         0D:799A  48 0C      			db	(((blocks_LV1_BG_B4) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B4)
         0D:799C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:799E  00 00      			dw	(0)
 2572                        	;//--------------------------------------------------------------------------------------//
 2573                        	;//                                        VDC 1                                         //
 2574                        	;//--------------------------------------------------------------------------------------//
 2575                        	; EXTRACT TILESET
 2576                        	;----------------
 2577    0D:79A0             	_tileset_HUD:	incchr	"res/maps/template_LIFEBAR_1.png"
 2578    0D:79E0             			incchr	"res/maps/template_LIFEBAR_2.png"
 2579    0D:7A20             			incchr	"res/maps/template_LIFEBAR_3.png"
 2580    0D:7A60             			incchr	"res/maps/template_LIFEBAR_4.png"
 2581    0D:7AA0             			incchr	"res/maps/template_LIFEBAR_5.png"
 2582    0D:7AE0             			incchr	"res/maps/tileset_WEAPON_1.png"
 2583    0D:7B60             			incchr	"res/maps/tileset_ARMOR_2.png"
 2584    0D:7BE0             			incchr	"res/maps/tilemap_HUD.png", OPTIMIZE
 2585                        	; EXTRACT BLOCKS
 2586                        	;--------------
 2587    0E:6000             	blocks_HUD1:	incblk	"res/maps/tilemap_HUD.png" , 0x1000 ,    0 ,   0 , 128 , 64 , _tileset_HUD ; // 128x16 = 2048 | 64x16 = 1024
 2588    0E:6800             	blocks_HUD2:	incblk	"res/maps/tilemap_HUD.png" , 0x1000 , 2048 ,   0 ,  32 , 64 , _tileset_HUD ; //  32x16 =  512 | 64x16 = 1024
 2589                        	; EXTRACT MAPS
 2590                        	;------------
 2591               7000     			align	256
 2592    0E:7000             	MAP_HUD1:		incmap	"res/maps/tilemap_HUD.png",    0 ,   0 , 128 , 64 , blocks_HUD1 ; // 128x16 = 2048 | 64x16 = 1024
 2593    0F:7000             			flagmap "res/maps/collision_LV1.png",       0 ,   0 , 128 , 64 , MAP_HUD1
 2594               7000     			align	256
 2595    0F:7000             	MAP_HUD2:		incmap	"res/maps/tilemap_HUD.png", 2048 ,   0 ,  32 , 64 , blocks_HUD2 ; //  32x16 =  512 | 64x16 = 1024
 2596    0F:7800             			flagmap "res/maps/collision_LV1.png",    2048 ,   0 ,  32 , 64 , MAP_HUD2
 2597                        	; SWIZZLE MAPS
 2598                        	;-------------
 2599    0F:7800             	swizzle	MAP_HUD1,  32, 16 ;
 2600    0F:7800             	swizzle	MAP_HUD2,  32, 16 ;
 2601                        	; BUILD MULTIMAP
 2602                        	;---------------
 2603    0F:7800             	_multimap_LV1_BG_A:
 2604                        			; 1st line of 5 screens (512x256)
 2605                        			SCREEN MAP_HUD1 + 0x0000, blocks_HUD1, dummy_tbl, 0
         0F:7800  70 0E      			db	(((MAP_HUD1 + 0x0000) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0000)
         0F:7802  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:7804  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:7806  00 00      			dw	(0)
 2606                        			SCREEN MAP_HUD1 + 0x0200, blocks_HUD1, dummy_tbl, 0
         0F:7808  72 0E      			db	(((MAP_HUD1 + 0x0200) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0200)
         0F:780A  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:780C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:780E  00 00      			dw	(0)
 2607                        			SCREEN MAP_HUD1 + 0x0400, blocks_HUD1, dummy_tbl, 0
         0F:7810  74 0E      			db	(((MAP_HUD1 + 0x0400) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0400)
         0F:7812  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:7814  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:7816  00 00      			dw	(0)
 2608                        			SCREEN MAP_HUD1 + 0x0600, blocks_HUD1, dummy_tbl, 0
         0F:7818  76 0E      			db	(((MAP_HUD1 + 0x0600) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0600)
         0F:781A  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:781C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:781E  00 00      			dw	(0)
 2609                        			SCREEN MAP_HUD2 + 0x0000, blocks_HUD2, dummy_tbl, 0
         0F:7820  70 0F      			db	(((MAP_HUD2 + 0x0000) & $1FFF) | $6000) >> 8, bank(MAP_HUD2 + 0x0000)
         0F:7822  48 0E      			db	(((blocks_HUD2) & $1FFF) | $4000) >> 8, bank(blocks_HUD2)
         0F:7824  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:7826  00 00      			dw	(0)
 2610                        			; 2nd line of 5 screens (512x256)
 2611                        			SCREEN MAP_HUD1 + 0x0800, blocks_HUD1, dummy_tbl, 0
         0F:7828  78 0E      			db	(((MAP_HUD1 + 0x0800) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0800)
         0F:782A  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:782C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:782E  00 00      			dw	(0)
 2612                        			SCREEN MAP_HUD1 + 0x0A00, blocks_HUD1, dummy_tbl, 0
         0F:7830  7A 0E      			db	(((MAP_HUD1 + 0x0A00) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0A00)
         0F:7832  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:7834  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:7836  00 00      			dw	(0)
 2613                        			SCREEN MAP_HUD1 + 0x0C00, blocks_HUD1, dummy_tbl, 0
         0F:7838  7C 0E      			db	(((MAP_HUD1 + 0x0C00) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0C00)
         0F:783A  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:783C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:783E  00 00      			dw	(0)
 2614                        			SCREEN MAP_HUD1 + 0x0E00, blocks_HUD1, dummy_tbl, 0
         0F:7840  7E 0E      			db	(((MAP_HUD1 + 0x0E00) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0E00)
         0F:7842  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:7844  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:7846  00 00      			dw	(0)
 2615                        			SCREEN MAP_HUD2 + 0x0200, blocks_HUD2, dummy_tbl, 0
         0F:7848  72 0F      			db	(((MAP_HUD2 + 0x0200) & $1FFF) | $6000) >> 8, bank(MAP_HUD2 + 0x0200)
         0F:784A  48 0E      			db	(((blocks_HUD2) & $1FFF) | $4000) >> 8, bank(blocks_HUD2)
         0F:784C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:784E  00 00      			dw	(0)
 2616                        			; 3rd line of 5 screens (512x256)
 2617                        			SCREEN MAP_HUD1 + 0x1000, blocks_HUD1, dummy_tbl, 0
         0F:7850  60 0F      			db	(((MAP_HUD1 + 0x1000) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1000)
         0F:7852  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:7854  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:7856  00 00      			dw	(0)
 2618                        			SCREEN MAP_HUD1 + 0x1200, blocks_HUD1, dummy_tbl, 0
         0F:7858  62 0F      			db	(((MAP_HUD1 + 0x1200) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1200)
         0F:785A  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:785C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:785E  00 00      			dw	(0)
 2619                        			SCREEN MAP_HUD1 + 0x1400, blocks_HUD1, dummy_tbl, 0
         0F:7860  64 0F      			db	(((MAP_HUD1 + 0x1400) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1400)
         0F:7862  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:7864  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:7866  00 00      			dw	(0)
 2620                        			SCREEN MAP_HUD1 + 0x1600, blocks_HUD1, dummy_tbl, 0
         0F:7868  66 0F      			db	(((MAP_HUD1 + 0x1600) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1600)
         0F:786A  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:786C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:786E  00 00      			dw	(0)
 2621                        			SCREEN MAP_HUD2 + 0x0400, blocks_HUD2, dummy_tbl, 0
         0F:7870  74 0F      			db	(((MAP_HUD2 + 0x0400) & $1FFF) | $6000) >> 8, bank(MAP_HUD2 + 0x0400)
         0F:7872  48 0E      			db	(((blocks_HUD2) & $1FFF) | $4000) >> 8, bank(blocks_HUD2)
         0F:7874  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:7876  00 00      			dw	(0)
 2622                        			; 4th line of 5 screens (512x256)
 2623                        			SCREEN MAP_HUD1 + 0x1800, blocks_HUD1, dummy_tbl, 0
         0F:7878  68 0F      			db	(((MAP_HUD1 + 0x1800) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1800)
         0F:787A  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:787C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:787E  00 00      			dw	(0)
 2624                        			SCREEN MAP_HUD1 + 0x1A00, blocks_HUD1, dummy_tbl, 0
         0F:7880  6A 0F      			db	(((MAP_HUD1 + 0x1A00) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1A00)
         0F:7882  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:7884  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:7886  00 00      			dw	(0)
 2625                        			SCREEN MAP_HUD1 + 0x1C00, blocks_HUD1, dummy_tbl, 0
         0F:7888  6C 0F      			db	(((MAP_HUD1 + 0x1C00) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1C00)
         0F:788A  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:788C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:788E  00 00      			dw	(0)
 2626                        			SCREEN MAP_HUD1 + 0x1E00, blocks_HUD1, dummy_tbl, 0
         0F:7890  6E 0F      			db	(((MAP_HUD1 + 0x1E00) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1E00)
         0F:7892  40 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         0F:7894  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:7896  00 00      			dw	(0)
 2627                        			SCREEN MAP_HUD2 + 0x0600, blocks_HUD2, dummy_tbl, 0
         0F:7898  76 0F      			db	(((MAP_HUD2 + 0x0600) & $1FFF) | $6000) >> 8, bank(MAP_HUD2 + 0x0600)
         0F:789A  48 0E      			db	(((blocks_HUD2) & $1FFF) | $4000) >> 8, bank(blocks_HUD2)
         0F:789C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0F:789E  00 00      			dw	(0)
 2628               E31D     			.code
 2629                        	
 2630                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 207; #endasm
 2631                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 211; //--------------------------------------------------------------------------------------//
 2632                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 212; //                                   EXTRACT PALETTES                                   //
 2633                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 213; //--------------------------------------------------------------------------------------//
 2634                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 215; #incpal(palette_LV1,"res/maps/tilemap_LV1_BG_B.png");
 2635               78A0     		.data
 2636    0F:78A0             	_palette_LV1:	.incpal		"res/maps/tilemap_LV1_BG_B.png"
 2637               E31D     		.code
 2638                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 224; //**************************************************************************************//
 2639                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 225; //                                                                                      //
 2640                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 226; //                                         SHOP                                         //
 2641                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 227; //                                                                                      //
 2642                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 228; //**************************************************************************************//
 2643                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 230; #asm
 2644                        		.dbg	clear
 2645               0001     	OPTIMIZE	=	1
 2646               7AA0     			.data
 2647                        	;//--------------------------------------------------------------------------------------//
 2648                        	;//                                        VDC 1                                         //
 2649                        	;//--------------------------------------------------------------------------------------//
 2650                        	; EXTRACT TILESET
 2651                        	;----------------
 2652    0F:7AA0             	_tileset_SHOP_BG_B:		incchr	"res/maps/template_ITEM_1.png"
 2653    0F:7B20             			incchr	"res/maps/template_ITEM_2.png"
 2654    0F:7BA0             			incchr	"res/maps/template_ITEM_3.png"
 2655    0F:7C20             			incchr	"res/maps/template_ITEM_4.png"
 2656    0F:7CA0             			incchr	"res/maps/template_ITEM_5.png"
 2657    0F:7D20             			incchr	"res/maps/template_ITEM_6.png"
 2658    0F:7DA0             			incchr	"res/maps/template_ITEM_7.png"
 2659    0F:7E20             			incchr	"res/maps/template_ITEM_8.png"
 2660    0F:7EA0             			incchr	"res/maps/template_ITEM_9.png"
 2661    0F:7F20             			incchr	"res/maps/template_ITEM_10.png"
 2662    0F:7FA0             			incchr	"res/maps/tilemap_SHOP_BG_B.png", OPTIMIZE
 2663               E31D     			.code
 2664                        	
 2665                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 254; #endasm
 2666                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 257; // EXTRACT BLOCKS //
 2667                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 258; #incblk(blocks_SHOP_BG_B, "res/maps/tilemap_SHOP_BG_B.png", 0x1000, tileset_SHOP_BG_B);
 2668               7400     		.data
 2669    11:7800             	_blocks_SHOP_BG_B:	.incblk		"res/maps/tilemap_SHOP_BG_B.png", 4096, _tileset_SHOP_BG_B
 2670               E31D     		.code
 2671                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 260; // EXTRACT MAP //
 2672                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 261; #incmap(map_SHOP_BG_B, "res/maps/tilemap_SHOP_BG_B.png", blocks_SHOP_BG_B);
 2673               8000     		.data
 2674    12:6000             	_map_SHOP_BG_B:	.incmap		"res/maps/tilemap_SHOP_BG_B.png", _blocks_SHOP_BG_B
 2675               E31D     		.code
 2676                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 264; //--------------------------------------------------------------------------------------//
 2677                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 265; //                                        ITEMS                                         //
 2678                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 266; //--------------------------------------------------------------------------------------//
 2679                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 268; #incchr(tiles_ITEM_WEAPON_2,"res/maps/tiles_ITEM_WEAPON_2.png", 2 , 2);
 2680               60E0     		.data
 2681    12:60E0             	_tiles_ITEM_WEAPON_2: 	.incchr		"res/maps/tiles_ITEM_WEAPON_2.png", 2, 2
 2682               E31D     		.code
 2683                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 269; #incchr(tiles_ITEM_WEAPON_3,"res/maps/tiles_ITEM_WEAPON_3.png", 2 , 2);
 2684               6160     		.data
 2685    12:6160             	_tiles_ITEM_WEAPON_3: 	.incchr		"res/maps/tiles_ITEM_WEAPON_3.png", 2, 2
 2686               E31D     		.code
 2687                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 270; #incchr(tiles_ITEM_WEAPON_4,"res/maps/tiles_ITEM_WEAPON_4.png", 2 , 2);
 2688               61E0     		.data
 2689    12:61E0             	_tiles_ITEM_WEAPON_4: 	.incchr		"res/maps/tiles_ITEM_WEAPON_4.png", 2, 2
 2690               E31D     		.code
 2691                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 271; #incchr(tiles_ITEM_WEAPON_5,"res/maps/tiles_ITEM_WEAPON_5.png", 2 , 2);
 2692               6260     		.data
 2693    12:6260             	_tiles_ITEM_WEAPON_5: 	.incchr		"res/maps/tiles_ITEM_WEAPON_5.png", 2, 2
 2694               E31D     		.code
 2695                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 272; #incchr(tiles_ITEM_KEY,"res/maps/tiles_ITEM_KEY.png", 2 , 2);
 2696               62E0     		.data
 2697    12:62E0             	_tiles_ITEM_KEY: 	.incchr		"res/maps/tiles_ITEM_KEY.png", 2, 2
 2698               E31D     		.code
 2699                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 273; #incchr(tiles_ITEM_ARMOR_2,"res/maps/tiles_ITEM_ARMOR_2.png", 2 , 2);
 2700               6360     		.data
 2701    12:6360             	_tiles_ITEM_ARMOR_2: 	.incchr		"res/maps/tiles_ITEM_ARMOR_2.png", 2, 2
 2702               E31D     		.code
 2703                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 274; #incchr(tiles_ITEM_ARMOR_3,"res/maps/tiles_ITEM_ARMOR_3.png", 2 , 2);
 2704               63E0     		.data
 2705    12:63E0             	_tiles_ITEM_ARMOR_3: 	.incchr		"res/maps/tiles_ITEM_ARMOR_3.png", 2, 2
 2706               E31D     		.code
 2707                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 275; #incchr(tiles_ITEM_ARMOR_4,"res/maps/tiles_ITEM_ARMOR_4.png", 2 , 2);
 2708               6460     		.data
 2709    12:6460             	_tiles_ITEM_ARMOR_4: 	.incchr		"res/maps/tiles_ITEM_ARMOR_4.png", 2, 2
 2710               E31D     		.code
 2711                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 276; #incchr(tiles_ITEM_ARMOR_5,"res/maps/tiles_ITEM_ARMOR_5.png", 2 , 2);
 2712               64E0     		.data
 2713    12:64E0             	_tiles_ITEM_ARMOR_5: 	.incchr		"res/maps/tiles_ITEM_ARMOR_5.png", 2, 2
 2714               E31D     		.code
 2715                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 277; #incchr(tiles_ITEM_POTION,"res/maps/tiles_ITEM_POTION.png", 2 , 2);
 2716               6560     		.data
 2717    12:6560             	_tiles_ITEM_POTION: 	.incchr		"res/maps/tiles_ITEM_POTION.png", 2, 2
 2718               E31D     		.code
 2719                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 279; //#incchr(tileset_NUMBERS_SHOP_FONT,"res/maps/tiles_NUMBERS_SHOP_FONT.png");
 2720                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 282; //--------------------------------------------------------------------------------------//
 2721                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 283; //                                   EXTRACT PALETTES                                   //
 2722                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 284; //--------------------------------------------------------------------------------------//
 2723                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 286; #incpal(palette_SHOP,"res/maps/tilemap_SHOP_BG_B.png");
 2724               65E0     		.data
 2725    12:65E0             	_palette_SHOP:	.incpal		"res/maps/tilemap_SHOP_BG_B.png"
 2726               E31D     		.code
 2727                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 287; #incpal(palette_SHOP_ITEMS,"res/palettes/palette_SHOP_ITEMS.png");
 2728               67E0     		.data
 2729    12:67E0             	_palette_SHOP_ITEMS:	.incpal		"res/palettes/palette_SHOP_ITEMS.png"
 2730               E31D     		.code
 2731                        		.dbg	line,	"main.c", 13; #include "include/gfx_BG_TITLE.c"
 2732                        		.dbg	line,	"include\gfx_BG_TITLE.c", 1; #include "huc.h"
 2733                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 2734                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 2735                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 2736                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 2737                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 2738                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 2739                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 2740                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 2741                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 2742                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 2743                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 2744                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2745                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2746                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2747                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 2748                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 2749                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 2750                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 2751                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 2752                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 2753                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 2754                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 2755                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 2756                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 2757                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 2758                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 2759                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 2760                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 2761                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 2762                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 2763                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 2764                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 2765                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 2766                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
 2767                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
 2768                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
 2769                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
 2770                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
 2771                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
 2772                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
 2773                        		.dbg	line,	"include\gfx_BG_TITLE.c", 2; #include "hucc-scroll.h"
 2774                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
 2775                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
 2776                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
 2777                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
 2778                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
 2779                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
 2780                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
 2781                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
 2782                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
 2783                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
 2784                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
 2785                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2786                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2787                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2788                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
 2789                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
 2790                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
 2791                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
 2792                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
 2793                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
 2794                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
 2795                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
 2796                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
 2797                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
 2798                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
 2799                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
 2800                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
 2801                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
 2802                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
 2803                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
 2804                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
 2805                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
 2806                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
 2807                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
 2808                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
 2809                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
 2810                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
 2811                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
 2812                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
 2813                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
 2814                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
 2815                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
 2816                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
 2817                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
 2818                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
 2819                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
 2820                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
 2821                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
 2822                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
 2823                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
 2824                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
 2825                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
 2826                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
 2827                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 2828                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 2829                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
 2830                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
 2831                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
 2832                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
 2833                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
 2834                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
 2835                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
 2836                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
 2837                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
 2838                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
 2839                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
 2840                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
 2841                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
 2842                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
 2843                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
 2844                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
 2845                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
 2846                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
 2847                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
 2848                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
 2849                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
 2850                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
 2851                        		.dbg	line,	"include\gfx_BG_TITLE.c", 3; #include "hucc-chrmap.h"
 2852                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
 2853                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
 2854                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
 2855                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
 2856                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
 2857                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
 2858                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
 2859                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
 2860                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
 2861                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
 2862                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
 2863                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2864                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2865                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2866                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
 2867                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
 2868                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
 2869                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
 2870                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
 2871                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
 2872                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
 2873                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
 2874                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
 2875                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
 2876                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
 2877                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
 2878                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
 2879                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
 2880                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
 2881                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 2882                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 2883                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 2884                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 2885                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 2886                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 2887                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 2888                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 2889                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2890                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 2891                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 2892                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 2893                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 2894                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2895                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 2896                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 2897                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 2898                        		.dbg	line,	"include\gfx_BG_TITLE.c", 4; #include "hucc-blkmap.h"
 2899                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 2900                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 2901                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 2902                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 2903                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 2904                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 2905                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 2906                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 2907                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 2908                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 2909                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 2910                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2911                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2912                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2913                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 2914                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 2915                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 2916                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 2917                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 2918                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 2919                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 2920                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 2921                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 2922                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 2923                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 2924                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 2925                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 2926                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 2927                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 2928                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 2929                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 2930                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 2931                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 2932                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 2933                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 2934                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 2935                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 2936                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 2937                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 2938                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 2939                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 2940                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 2941                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 2942                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 2943                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 2944                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 2945                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 2946                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 2947                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 2948                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 2949                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 2950                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 2951                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 2952                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 2953                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 2954                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 2955                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 2956                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 2957                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 2958                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 2959                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 2960                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 2961                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 2962                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 2963                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2964                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 2965                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 2966                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 2967                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 2968                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 2969                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 2970                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 2971                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 2972                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 2973                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 2974                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 2975                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 2976                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 2977                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 2978                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 2979                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 2980                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 2981                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 2982                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 2983                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 2984                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 2985                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 2986                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 2987                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 2988                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 2989                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 2990                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 2991                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 2992                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 2993                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 2994                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 2995                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 2996                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 2997                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 2998                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 2999                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 3000                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 3001                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 3002                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 3003                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 3004                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 3005                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 3006                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 3007                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 3008                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 3009                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 3010                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 3011                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 3012                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 3013                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 3014                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 3015                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 3016                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 3017                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 3018                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 3019                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 3020                        		.dbg	line,	"include\gfx_BG_TITLE.c", 13; #incchr(tileset_FONT_TITLE,"res/maps/tiles_FONT_TITLE.png");
 3021               69E0     		.data
 3022    12:69E0             	_tileset_FONT_TITLE: 	.incchr		"res/maps/tiles_FONT_TITLE.png"
 3023               E31D     		.code
 3024                        		.dbg	line,	"include\gfx_BG_TITLE.c", 16; //**************************************************************************************//
 3025                        		.dbg	line,	"include\gfx_BG_TITLE.c", 17; //                                                                                      //
 3026                        		.dbg	line,	"include\gfx_BG_TITLE.c", 18; //                                        TITLE                                         //
 3027                        		.dbg	line,	"include\gfx_BG_TITLE.c", 19; //                                                                                      //
 3028                        		.dbg	line,	"include\gfx_BG_TITLE.c", 20; //**************************************************************************************//
 3029                        		.dbg	line,	"include\gfx_BG_TITLE.c", 22; #incchr(tileset_TITLE_BG_B, "res/maps/tilemap_TITLE_BG_B.png", _OPTIMIZE)
 3030               75E0     		.data
 3031    12:75E0             	_tileset_TITLE_BG_B: 	.incchr		"res/maps/tilemap_TITLE_BG_B.png", 1
 3032               E31D     		.code
 3033                        		.dbg	line,	"include\gfx_BG_TITLE.c", 24; #incbat(tilemap_TITLE_BG_B,"res/maps/tilemap_TITLE_BG_B.png", 0x1000 , 32 , 28 , tileset_TITLE_BG_B);
 3034               7240     		.data
 3035    13:7240             	_tilemap_TITLE_BG_B:	.incbat		"res/maps/tilemap_TITLE_BG_B.png", 4096, 32, 28, _tileset_TITLE_BG_B
 3036               E31D     		.code
 3037                        		.dbg	line,	"main.c", 13; #incpal(palette_TITLE, "res/maps/tilemap_TITLE_BG_B.png")
 3038               7940     		.data
 3039    13:7940             	_palette_TITLE:	.incpal		"res/maps/tilemap_TITLE_BG_B.png"
 3040               E31D     		.code
 3041                        		.dbg	line,	"main.c", 14; #include "include/gfx_SPRITES.c"
 3042                        		.dbg	line,	"include\gfx_SPRITES.c", 1; #include "huc.h"
 3043                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 3044                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 3045                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 3046                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 3047                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 3048                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 3049                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 3050                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 3051                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 3052                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 3053                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 3054                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 3055                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 3056                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 3057                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 3058                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 3059                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 3060                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 3061                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 3062                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 3063                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 3064                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 3065                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 3066                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 3067                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 3068                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 3069                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 3070                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 3071                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 3072                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 3073                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 3074                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 3075                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 3076                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
 3077                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
 3078                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
 3079                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
 3080                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
 3081                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
 3082                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
 3083                        		.dbg	line,	"include\gfx_SPRITES.c", 10; #incspr(tiles_SPR_DRAGON_INTRO,"res/sprites/tiles_SPR_DRAGON_INTRO.png")
 3084               7B40     		.data
 3085    13:7B40             	_tiles_SPR_DRAGON_INTRO:	.incspr		"res/sprites/tiles_SPR_DRAGON_INTRO.png"
 3086               E31D     		.code
 3087                        		.dbg	line,	"include\gfx_SPRITES.c", 11; #incpal(palette_SPR_DRAGON_INTRO,"res/sprites/tiles_SPR_DRAGON_INTRO.png");
 3088               7B40     		.data
 3089    15:7B40             	_palette_SPR_DRAGON_INTRO:	.incpal		"res/sprites/tiles_SPR_DRAGON_INTRO.png"
 3090               E31D     		.code
 3091                        		.dbg	line,	"include\gfx_SPRITES.c", 13; #incspr(tiles_SPR_SELECTOR,"res/sprites/tiles_SPR_SELECTOR.png")
 3092               7D40     		.data
 3093    15:7D40             	_tiles_SPR_SELECTOR:	.incspr		"res/sprites/tiles_SPR_SELECTOR.png"
 3094               E31D     		.code
 3095                        		.dbg	line,	"include\gfx_SPRITES.c", 16; // EXTRACT PLAYER TILES //
 3096                        		.dbg	line,	"include\gfx_SPRITES.c", 17; #incspr(tiles_SPR_PLAYER_ARMOR,"res/sprites/tiles_SPR_PLAYER_ARMOR.png")
 3097               7DC0     		.data
 3098    15:7DC0             	_tiles_SPR_PLAYER_ARMOR:	.incspr		"res/sprites/tiles_SPR_PLAYER_ARMOR.png"
 3099               E31D     		.code
 3100                        		.dbg	line,	"include\gfx_SPRITES.c", 18; #incspr(tiles_SPR_PLAYER_NAKED,"res/sprites/tiles_SPR_PLAYER_NAKED.png")
 3101               6FC0     		.data
 3102    17:6FC0             	_tiles_SPR_PLAYER_NAKED:	.incspr		"res/sprites/tiles_SPR_PLAYER_NAKED.png"
 3103               E31D     		.code
 3104                        		.dbg	line,	"include\gfx_SPRITES.c", 20; // EXTRACT PLAYER PALETTE //
 3105                        		.dbg	line,	"include\gfx_SPRITES.c", 21; #incpal(palette_PLAYER_1,"res/palettes/palette_PLAYER_1.png");
 3106               61C0     		.data
 3107    19:61C0             	_palette_PLAYER_1:	.incpal		"res/palettes/palette_PLAYER_1.png"
 3108               E31D     		.code
 3109                        		.dbg	line,	"include\gfx_SPRITES.c", 22; #incpal(palette_PLAYER_4,"res/palettes/palette_PLAYER_4.png");
 3110               63C0     		.data
 3111    19:63C0             	_palette_PLAYER_4:	.incpal		"res/palettes/palette_PLAYER_4.png"
 3112               E31D     		.code
 3113                        		.dbg	line,	"include\gfx_SPRITES.c", 23; #incpal(palette_PLAYER_5,"res/palettes/palette_PLAYER_5.png");
 3114               65C0     		.data
 3115    19:65C0             	_palette_PLAYER_5:	.incpal		"res/palettes/palette_PLAYER_5.png"
 3116               E31D     		.code
 3117                        		.dbg	line,	"include\gfx_SPRITES.c", 24; #incpal(palette_PLAYER_8,"res/palettes/palette_PLAYER_8.png");
 3118               67C0     		.data
 3119    19:67C0             	_palette_PLAYER_8:	.incpal		"res/palettes/palette_PLAYER_8.png"
 3120               E31D     		.code
 3121                        		.dbg	line,	"include\gfx_SPRITES.c", 27; // EXTRACT WEAPONS TILES //
 3122                        		.dbg	line,	"include\gfx_SPRITES.c", 28; #incspr(tiles_SPR_CHAIN,"res/sprites/tiles_SPR_CHAIN.png")
 3123               69C0     		.data
 3124    19:69C0             	_tiles_SPR_CHAIN:	.incspr		"res/sprites/tiles_SPR_CHAIN.png"
 3125               E31D     		.code
 3126                        		.dbg	line,	"include\gfx_SPRITES.c", 29; #incspr(tiles_SPR_WEAPON_0,"res/sprites/tiles_SPR_WEAPON_0.png")
 3127               6A40     		.data
 3128    19:6A40             	_tiles_SPR_WEAPON_0:	.incspr		"res/sprites/tiles_SPR_WEAPON_0.png"
 3129               E31D     		.code
 3130                        		.dbg	line,	"include\gfx_SPRITES.c", 30; #incspr(tiles_SPR_WEAPON_1,"res/sprites/tiles_SPR_WEAPON_1.png")
 3131               6CC0     		.data
 3132    19:6CC0             	_tiles_SPR_WEAPON_1:	.incspr		"res/sprites/tiles_SPR_WEAPON_1.png"
 3133               E31D     		.code
 3134                        		.dbg	line,	"include\gfx_SPRITES.c", 31; #incspr(tiles_SPR_WEAPON_2,"res/sprites/tiles_SPR_WEAPON_2.png")
 3135               6F40     		.data
 3136    19:6F40             	_tiles_SPR_WEAPON_2:	.incspr		"res/sprites/tiles_SPR_WEAPON_2.png"
 3137               E31D     		.code
 3138                        		.dbg	line,	"include\gfx_SPRITES.c", 32; #incspr(tiles_SPR_WEAPON_3,"res/sprites/tiles_SPR_WEAPON_3.png")
 3139               71C0     		.data
 3140    19:71C0             	_tiles_SPR_WEAPON_3:	.incspr		"res/sprites/tiles_SPR_WEAPON_3.png"
 3141               E31D     		.code
 3142                        		.dbg	line,	"include\gfx_SPRITES.c", 33; #incspr(tiles_SPR_WEAPON_4,"res/sprites/tiles_SPR_WEAPON_4.png")
 3143               7440     		.data
 3144    19:7440             	_tiles_SPR_WEAPON_4:	.incspr		"res/sprites/tiles_SPR_WEAPON_4.png"
 3145               E31D     		.code
 3146                        		.dbg	line,	"include\gfx_SPRITES.c", 36; #incspr(tiles_SPR_HIT,"res/sprites/tiles_SPR_HIT.png")
 3147               76C0     		.data
 3148    19:76C0             	_tiles_SPR_HIT:	.incspr		"res/sprites/tiles_SPR_HIT.png"
 3149               E31D     		.code
 3150                        		.dbg	line,	"include\gfx_SPRITES.c", 39; // EXTRACT OBJECTS TILES //
 3151                        		.dbg	line,	"include\gfx_SPRITES.c", 40; #incspr(tiles_SPR_BARREL,"res/sprites/tiles_SPR_BARREL.png")
 3152               7740     		.data
 3153    19:7740             	_tiles_SPR_BARREL:	.incspr		"res/sprites/tiles_SPR_BARREL.png"
 3154               E31D     		.code
 3155                        		.dbg	line,	"include\gfx_SPRITES.c", 41; #incspr(tiles_SPR_CHEST,"res/sprites/tiles_SPR_CHEST.png")
 3156               77C0     		.data
 3157    19:77C0             	_tiles_SPR_CHEST:	.incspr		"res/sprites/tiles_SPR_CHEST.png"
 3158               E31D     		.code
 3159                        		.dbg	line,	"include\gfx_SPRITES.c", 42; #incspr(tiles_SPR_COIN_1,"res/sprites/tiles_SPR_COIN_1.png")
 3160               63C0     		.data
 3161    1A:63C0             	_tiles_SPR_COIN_1:	.incspr		"res/sprites/tiles_SPR_COIN_1.png"
 3162               E31D     		.code
 3163                        		.dbg	line,	"include\gfx_SPRITES.c", 43; #incspr(tiles_SPR_COIN_5,"res/sprites/tiles_SPR_COIN_5.png")
 3164               6440     		.data
 3165    1A:6440             	_tiles_SPR_COIN_5:	.incspr		"res/sprites/tiles_SPR_COIN_5.png"
 3166               E31D     		.code
 3167                        		.dbg	line,	"include\gfx_SPRITES.c", 44; #incspr(tiles_SPR_COIN_10,"res/sprites/tiles_SPR_COIN_10.png")
 3168               64C0     		.data
 3169    1A:64C0             	_tiles_SPR_COIN_10:	.incspr		"res/sprites/tiles_SPR_COIN_10.png"
 3170               E31D     		.code
 3171                        		.dbg	line,	"include\gfx_SPRITES.c", 45; #incspr(tiles_SPR_COIN_50,"res/sprites/tiles_SPR_COIN_50.png")
 3172               6540     		.data
 3173    1A:6540             	_tiles_SPR_COIN_50:	.incspr		"res/sprites/tiles_SPR_COIN_50.png"
 3174               E31D     		.code
 3175                        		.dbg	line,	"include\gfx_SPRITES.c", 46; #incspr(tiles_SPR_COIN_100,"res/sprites/tiles_SPR_COIN_100.png")
 3176               65C0     		.data
 3177    1A:65C0             	_tiles_SPR_COIN_100:	.incspr		"res/sprites/tiles_SPR_COIN_100.png"
 3178               E31D     		.code
 3179                        		.dbg	line,	"include\gfx_SPRITES.c", 47; #incspr(tiles_SPR_COIN_500,"res/sprites/tiles_SPR_COIN_500.png")
 3180               6640     		.data
 3181    1A:6640             	_tiles_SPR_COIN_500:	.incspr		"res/sprites/tiles_SPR_COIN_500.png"
 3182               E31D     		.code
 3183                        		.dbg	line,	"include\gfx_SPRITES.c", 48; #incspr(tiles_SPR_COIN_1000,"res/sprites/tiles_SPR_COIN_1000.png")
 3184               66C0     		.data
 3185    1A:66C0             	_tiles_SPR_COIN_1000:	.incspr		"res/sprites/tiles_SPR_COIN_1000.png"
 3186               E31D     		.code
 3187                        		.dbg	line,	"include\gfx_SPRITES.c", 49; #incspr(tiles_SPR_FRUIT,"res/sprites/tiles_SPR_FRUIT.png")
 3188               6740     		.data
 3189    1A:6740             	_tiles_SPR_FRUIT:	.incspr		"res/sprites/tiles_SPR_FRUIT.png"
 3190               E31D     		.code
 3191                        		.dbg	line,	"include\gfx_SPRITES.c", 50; #incspr(tiles_SPR_GRAY_KEY,"res/sprites/tiles_SPR_GRAY_KEY.png")
 3192               67C0     		.data
 3193    1A:67C0             	_tiles_SPR_GRAY_KEY:	.incspr		"res/sprites/tiles_SPR_GRAY_KEY.png"
 3194               E31D     		.code
 3195                        		.dbg	line,	"include\gfx_SPRITES.c", 51; #incspr(tiles_SPR_GOLD_KEY,"res/sprites/tiles_SPR_GOLD_KEY.png")
 3196               6840     		.data
 3197    1A:6840             	_tiles_SPR_GOLD_KEY:	.incspr		"res/sprites/tiles_SPR_GOLD_KEY.png"
 3198               E31D     		.code
 3199                        		.dbg	line,	"include\gfx_SPRITES.c", 52; #incspr(tiles_SPR_HOURGLASS,"res/sprites/tiles_SPR_HOURGLASS.png")
 3200               68C0     		.data
 3201    1A:68C0             	_tiles_SPR_HOURGLASS:	.incspr		"res/sprites/tiles_SPR_HOURGLASS.png"
 3202               E31D     		.code
 3203                        		.dbg	line,	"include\gfx_SPRITES.c", 53; #incspr(tiles_SPR_LIFE,"res/sprites/tiles_SPR_LIFE.png")
 3204               6940     		.data
 3205    1A:6940             	_tiles_SPR_LIFE:	.incspr		"res/sprites/tiles_SPR_LIFE.png"
 3206               E31D     		.code
 3207                        		.dbg	line,	"include\gfx_SPRITES.c", 54; #incspr(tiles_SPR_OCTOPUS,"res/sprites/tiles_SPR_OCTOPUS.png")
 3208               69C0     		.data
 3209    1A:69C0             	_tiles_SPR_OCTOPUS:	.incspr		"res/sprites/tiles_SPR_OCTOPUS.png"
 3210               E31D     		.code
 3211                        		.dbg	line,	"include\gfx_SPRITES.c", 55; #incspr(tiles_SPR_POT,"res/sprites/tiles_SPR_POT.png")
 3212               6A40     		.data
 3213    1A:6A40             	_tiles_SPR_POT:	.incspr		"res/sprites/tiles_SPR_POT.png"
 3214               E31D     		.code
 3215                        		.dbg	line,	"include\gfx_SPRITES.c", 56; #incspr(tiles_SPR_POW,"res/sprites/tiles_SPR_POW.png")
 3216               6E40     		.data
 3217    1A:6E40             	_tiles_SPR_POW:	.incspr		"res/sprites/tiles_SPR_POW.png"
 3218               E31D     		.code
 3219                        		.dbg	line,	"include\gfx_SPRITES.c", 57; #incspr(tiles_SPR_STAR,"res/sprites/tiles_SPR_STAR.png")
 3220               6EC0     		.data
 3221    1A:6EC0             	_tiles_SPR_STAR:	.incspr		"res/sprites/tiles_SPR_STAR.png"
 3222               E31D     		.code
 3223                        		.dbg	line,	"include\gfx_SPRITES.c", 58; #incspr(tiles_SPR_BAMBOO,"res/sprites/tiles_SPR_BAMBOO.png")
 3224               6F40     		.data
 3225    1A:6F40             	_tiles_SPR_BAMBOO:	.incspr		"res/sprites/tiles_SPR_BAMBOO.png"
 3226               E31D     		.code
 3227                        		.dbg	line,	"include\gfx_SPRITES.c", 59; #incspr(tiles_SPR_YASHICHI,"res/sprites/tiles_SPR_YASHICHI.png")
 3228               6FC0     		.data
 3229    1A:6FC0             	_tiles_SPR_YASHICHI:	.incspr		"res/sprites/tiles_SPR_YASHICHI.png"
 3230               E31D     		.code
 3231                        		.dbg	line,	"include\gfx_SPRITES.c", 60; #incspr(tiles_SPR_ELEPHANT,"res/sprites/tiles_SPR_ELEPHANT.png")
 3232               7040     		.data
 3233    1A:7040             	_tiles_SPR_ELEPHANT:	.incspr		"res/sprites/tiles_SPR_ELEPHANT.png"
 3234               E31D     		.code
 3235                        		.dbg	line,	"include\gfx_SPRITES.c", 61; #incspr(tiles_SPR_DRAGONFLY,"res/sprites/tiles_SPR_DRAGONFLY.png")
 3236               70C0     		.data
 3237    1A:70C0             	_tiles_SPR_DRAGONFLY:	.incspr		"res/sprites/tiles_SPR_DRAGONFLY.png"
 3238               E31D     		.code
 3239                        		.dbg	line,	"include\gfx_SPRITES.c", 62; #incspr(tiles_SPR_COW,"res/sprites/tiles_SPR_COW.png")
 3240               7140     		.data
 3241    1A:7140             	_tiles_SPR_COW:	.incspr		"res/sprites/tiles_SPR_COW.png"
 3242               E31D     		.code
 3243                        		.dbg	line,	"include\gfx_SPRITES.c", 63; #incspr(tiles_SPR_MOBICHAN,"res/sprites/tiles_SPR_MOBICHAN.png")
 3244               71C0     		.data
 3245    1A:71C0             	_tiles_SPR_MOBICHAN:	.incspr		"res/sprites/tiles_SPR_MOBICHAN.png"
 3246               E31D     		.code
 3247                        		.dbg	line,	"include\gfx_SPRITES.c", 65; // EXTRACT OBJECTS PALETTE //
 3248                        		.dbg	line,	"include\gfx_SPRITES.c", 66; #incpal(palette_objects_1,"res/palettes/palette_objects_1.png");
 3249               7240     		.data
 3250    1A:7240             	_palette_objects_1:	.incpal		"res/palettes/palette_objects_1.png"
 3251               E31D     		.code
 3252                        		.dbg	line,	"include\gfx_SPRITES.c", 67; #incpal(palette_objects_2,"res/palettes/palette_objects_2.png");
 3253               7440     		.data
 3254    1A:7440             	_palette_objects_2:	.incpal		"res/palettes/palette_objects_2.png"
 3255               E31D     		.code
 3256                        		.dbg	line,	"include\gfx_SPRITES.c", 70; // EXTRACT NPCS TILES //
 3257                        		.dbg	line,	"include\gfx_SPRITES.c", 71; #incspr(tiles_SPR_NPC,"res/sprites/tiles_SPR_NPC.png")
 3258               7640     		.data
 3259    1A:7640             	_tiles_SPR_NPC:	.incspr		"res/sprites/tiles_SPR_NPC.png"
 3260               E31D     		.code
 3261                        		.dbg	line,	"include\gfx_SPRITES.c", 75; // EXTRACT CURSOR TILES //
 3262                        		.dbg	line,	"include\gfx_SPRITES.c", 76; #incspr(tiles_SPR_CURSOR,"res/sprites/tiles_SPR_CURSOR.png")
 3263               6240     		.data
 3264    1B:6240             	_tiles_SPR_CURSOR:	.incspr		"res/sprites/tiles_SPR_CURSOR.png"
 3265               E31D     		.code
 3266                        		.dbg	line,	"include\gfx_SPRITES.c", 81; // EXTRACT ENEMIES TILES //
 3267                        		.dbg	line,	"include\gfx_SPRITES.c", 82; #incspr(tiles_SPR_ORC,"res/sprites/tiles_SPR_ORC.png")
 3268               6440     		.data
 3269    1B:6440             	_tiles_SPR_ORC:	.incspr		"res/sprites/tiles_SPR_ORC.png"
 3270               E31D     		.code
 3271                        		.dbg	line,	"include\gfx_SPRITES.c", 83; #incspr(tiles_SPR_SERPENT,"res/sprites/tiles_SPR_SERPENT.png")
 3272               6140     		.data
 3273    1C:6140             	_tiles_SPR_SERPENT:	.incspr		"res/sprites/tiles_SPR_SERPENT.png"
 3274               E31D     		.code
 3275                        		.dbg	line,	"include\gfx_SPRITES.c", 84; #incspr(tiles_SPR_PLANT,"res/sprites/tiles_SPR_PLANT.png")
 3276               6D40     		.data
 3277    1C:6D40             	_tiles_SPR_PLANT:	.incspr		"res/sprites/tiles_SPR_PLANT.png"
 3278               E31D     		.code
 3279                        		.dbg	line,	"include\gfx_SPRITES.c", 86; // EXTRACT ENEMIES PALETTES //
 3280                        		.dbg	line,	"include\gfx_SPRITES.c", 87; #incpal(palette_SPR_ORC,"res/sprites/tiles_SPR_ORC.png")
 3281               6740     		.data
 3282    1D:6740             	_palette_SPR_ORC:	.incpal		"res/sprites/tiles_SPR_ORC.png"
 3283               E31D     		.code
 3284                        		.dbg	line,	"include\gfx_SPRITES.c", 88; #incpal(palette_SPR_PLANT,"res/sprites/tiles_SPR_PLANT.png")
 3285               6940     		.data
 3286    1D:6940             	_palette_SPR_PLANT:	.incpal		"res/sprites/tiles_SPR_PLANT.png"
 3287               E31D     		.code
 3288                        		.dbg	line,	"main.c", 17; #include "include/tables_INTRO.c"
 3289                        		.dbg	line,	"include\tables_INTRO.c", 1; //-----------------------------------------------------------------------------//
 3290                        		.dbg	line,	"include\tables_INTRO.c", 2; //                                                                             //
 3291                        		.dbg	line,	"include\tables_INTRO.c", 3; //                                   LEVEL 1                                   //
 3292                        		.dbg	line,	"include\tables_INTRO.c", 4; //                                                                             //
 3293                        		.dbg	line,	"include\tables_INTRO.c", 5; //-----------------------------------------------------------------------------//
 3294                        		.dbg	line,	"include\tables_INTRO.c", 7; // 28 CHAR BY LINE //
 3295                        		.dbg	line,	"include\tables_INTRO.c", 8; // 224 CHAR IN TOTAL //
 3296                        		.dbg	line,	"include\tables_INTRO.c", 9; const char              TABLE_INTRO_TEXT[]  =   {
 3297                        		.dbg	line,	"include\tables_INTRO.c", 10; "Long Long ago, three dragonsdescended from skies above  with a rolling thunder and  destroyed a kingdom into    darkness.                   From lengthy suffering and  darkness of the kingdom     came one brave fighter.    "
 3298                        		.dbg	line,	"include\tables_INTRO.c", 11; };
 3299                        		.dbg	line,	"main.c", 18; #include "include/tables_NPC.c"
 3300                        		.dbg	line,	"include\tables_NPC.c", 1; //-----------------------------------------------------------------------------//
 3301                        		.dbg	line,	"include\tables_NPC.c", 2; //                                                                             //
 3302                        		.dbg	line,	"include\tables_NPC.c", 3; //                                   LEVEL 1                                   //
 3303                        		.dbg	line,	"include\tables_NPC.c", 4; //                                                                             //
 3304                        		.dbg	line,	"include\tables_NPC.c", 5; //-----------------------------------------------------------------------------//
 3305                        		.dbg	line,	"include\tables_NPC.c", 7; const char              TABLE_NPC_TYPE_LV1[NPC_NUMBER_LV1]              =   {
 3306                        		.dbg	line,	"include\tables_NPC.c", 8; TYPE_NPC_SHOP,
 3307                        		.dbg	line,	"include\tables_NPC.c", 9; TYPE_NPC_REWARD
 3308                        		.dbg	line,	"include\tables_NPC.c", 10; };
 3309                        		.dbg	line,	"include\tables_NPC.c", 13; const signed int        TABLE_NPC_X_POS_REF_LV1[NPC_NUMBER_LV1]         =   {
 3310                        		.dbg	line,	"include\tables_NPC.c", 14; 912,
 3311                        		.dbg	line,	"include\tables_NPC.c", 15; 1232
 3312                        		.dbg	line,	"include\tables_NPC.c", 16; };
 3313                        		.dbg	line,	"include\tables_NPC.c", 19; const signed int        TABLE_NPC_Y_POS_REF_LV1[NPC_NUMBER_LV1]         =   {
 3314                        		.dbg	line,	"include\tables_NPC.c", 20; 576,
 3315                        		.dbg	line,	"include\tables_NPC.c", 21; 400
 3316                        		.dbg	line,	"include\tables_NPC.c", 22; };
 3317                        		.dbg	line,	"main.c", 19; #include "include/tables_OBJECT.c"
 3318                        		.dbg	line,	"include\tables_OBJECT.c", 1; //-----------------------------------------------------------------------------//
 3319                        		.dbg	line,	"include\tables_OBJECT.c", 2; //                                                                             //
 3320                        		.dbg	line,	"include\tables_OBJECT.c", 3; //                                   LEVEL 1                                   //
 3321                        		.dbg	line,	"include\tables_OBJECT.c", 4; //                                                                             //
 3322                        		.dbg	line,	"include\tables_OBJECT.c", 5; //-----------------------------------------------------------------------------//
 3323                        		.dbg	line,	"include\tables_OBJECT.c", 7; const char              TABLE_OBJECT_TYPE_LV1[OBJECT_NUMBER_LV1]      =   {
 3324                        		.dbg	line,	"include\tables_OBJECT.c", 8; TYPE_HOURGLASS,
 3325                        		.dbg	line,	"include\tables_OBJECT.c", 9; TYPE_POT,
 3326                        		.dbg	line,	"include\tables_OBJECT.c", 10; TYPE_POT,
 3327                        		.dbg	line,	"include\tables_OBJECT.c", 11; TYPE_POT,
 3328                        		.dbg	line,	"include\tables_OBJECT.c", 12; TYPE_POT,
 3329                        		.dbg	line,	"include\tables_OBJECT.c", 13; TYPE_POT,
 3330                        		.dbg	line,	"include\tables_OBJECT.c", 14; TYPE_POT,
 3331                        		.dbg	line,	"include\tables_OBJECT.c", 15; TYPE_POW,
 3332                        		.dbg	line,	"include\tables_OBJECT.c", 16; TYPE_POT,
 3333                        		.dbg	line,	"include\tables_OBJECT.c", 17; TYPE_POT,
 3334                        		.dbg	line,	"include\tables_OBJECT.c", 19; //
 3335                        		.dbg	line,	"include\tables_OBJECT.c", 20; TYPE_POT,
 3336                        		.dbg	line,	"include\tables_OBJECT.c", 21; TYPE_POT,
 3337                        		.dbg	line,	"include\tables_OBJECT.c", 22; TYPE_POT,
 3338                        		.dbg	line,	"include\tables_OBJECT.c", 23; TYPE_POT,
 3339                        		.dbg	line,	"include\tables_OBJECT.c", 24; TYPE_POT,
 3340                        		.dbg	line,	"include\tables_OBJECT.c", 25; TYPE_POT,
 3341                        		.dbg	line,	"include\tables_OBJECT.c", 26; TYPE_POT,
 3342                        		.dbg	line,	"include\tables_OBJECT.c", 27; TYPE_POT,
 3343                        		.dbg	line,	"include\tables_OBJECT.c", 28; TYPE_POT,
 3344                        		.dbg	line,	"include\tables_OBJECT.c", 29; TYPE_POT,
 3345                        		.dbg	line,	"include\tables_OBJECT.c", 31; //
 3346                        		.dbg	line,	"include\tables_OBJECT.c", 32; TYPE_POT,
 3347                        		.dbg	line,	"include\tables_OBJECT.c", 33; TYPE_POT,
 3348                        		.dbg	line,	"include\tables_OBJECT.c", 34; TYPE_POT
 3349                        		.dbg	line,	"include\tables_OBJECT.c", 35; };
 3350                        		.dbg	line,	"include\tables_OBJECT.c", 38; const signed int        TABLE_OBJECT_X_POS_REF_LV1[OBJECT_NUMBER_LV1] =   {
 3351                        		.dbg	line,	"include\tables_OBJECT.c", 39; 1680,
 3352                        		.dbg	line,	"include\tables_OBJECT.c", 40; 1280,
 3353                        		.dbg	line,	"include\tables_OBJECT.c", 41; 1472,
 3354                        		.dbg	line,	"include\tables_OBJECT.c", 42; 1440,
 3355                        		.dbg	line,	"include\tables_OBJECT.c", 43; 1168,
 3356                        		.dbg	line,	"include\tables_OBJECT.c", 44; 1200,
 3357                        		.dbg	line,	"include\tables_OBJECT.c", 45; 960,
 3358                        		.dbg	line,	"include\tables_OBJECT.c", 46; 984,
 3359                        		.dbg	line,	"include\tables_OBJECT.c", 47; 1360,
 3360                        		.dbg	line,	"include\tables_OBJECT.c", 48; 1392,
 3361                        		.dbg	line,	"include\tables_OBJECT.c", 50; //
 3362                        		.dbg	line,	"include\tables_OBJECT.c", 51; 1552,
 3363                        		.dbg	line,	"include\tables_OBJECT.c", 52; 1680,
 3364                        		.dbg	line,	"include\tables_OBJECT.c", 53; 1712,
 3365                        		.dbg	line,	"include\tables_OBJECT.c", 54; 1744,
 3366                        		.dbg	line,	"include\tables_OBJECT.c", 55; 1248,
 3367                        		.dbg	line,	"include\tables_OBJECT.c", 56; 1280,
 3368                        		.dbg	line,	"include\tables_OBJECT.c", 57; 1168,
 3369                        		.dbg	line,	"include\tables_OBJECT.c", 58; 1040,
 3370                        		.dbg	line,	"include\tables_OBJECT.c", 59; 640,
 3371                        		.dbg	line,	"include\tables_OBJECT.c", 60; 672,
 3372                        		.dbg	line,	"include\tables_OBJECT.c", 62; //
 3373                        		.dbg	line,	"include\tables_OBJECT.c", 63; 336,
 3374                        		.dbg	line,	"include\tables_OBJECT.c", 64; 368,
 3375                        		.dbg	line,	"include\tables_OBJECT.c", 65; 416
 3376                        		.dbg	line,	"include\tables_OBJECT.c", 66; };
 3377                        		.dbg	line,	"include\tables_OBJECT.c", 69; const signed int        TABLE_OBJECT_Y_POS_REF_LV1[OBJECT_NUMBER_LV1] =     {
 3378                        		.dbg	line,	"include\tables_OBJECT.c", 70; 384,
 3379                        		.dbg	line,	"include\tables_OBJECT.c", 71; 416,
 3380                        		.dbg	line,	"include\tables_OBJECT.c", 72; 480,
 3381                        		.dbg	line,	"include\tables_OBJECT.c", 73; 496,
 3382                        		.dbg	line,	"include\tables_OBJECT.c", 74; 560,
 3383                        		.dbg	line,	"include\tables_OBJECT.c", 75; 560,
 3384                        		.dbg	line,	"include\tables_OBJECT.c", 76; 592,
 3385                        		.dbg	line,	"include\tables_OBJECT.c", 77; 592,
 3386                        		.dbg	line,	"include\tables_OBJECT.c", 78; 592,
 3387                        		.dbg	line,	"include\tables_OBJECT.c", 79; 592,
 3388                        		.dbg	line,	"include\tables_OBJECT.c", 81; //
 3389                        		.dbg	line,	"include\tables_OBJECT.c", 82; 704,
 3390                        		.dbg	line,	"include\tables_OBJECT.c", 83; 720,
 3391                        		.dbg	line,	"include\tables_OBJECT.c", 84; 720,
 3392                        		.dbg	line,	"include\tables_OBJECT.c", 85; 720,
 3393                        		.dbg	line,	"include\tables_OBJECT.c", 86; 736,
 3394                        		.dbg	line,	"include\tables_OBJECT.c", 87; 736,
 3395                        		.dbg	line,	"include\tables_OBJECT.c", 88; 752,
 3396                        		.dbg	line,	"include\tables_OBJECT.c", 89; 848,
 3397                        		.dbg	line,	"include\tables_OBJECT.c", 90; 880,
 3398                        		.dbg	line,	"include\tables_OBJECT.c", 91; 880,
 3399                        		.dbg	line,	"include\tables_OBJECT.c", 93; //
 3400                        		.dbg	line,	"include\tables_OBJECT.c", 94; 896,
 3401                        		.dbg	line,	"include\tables_OBJECT.c", 95; 896,
 3402                        		.dbg	line,	"include\tables_OBJECT.c", 96; 896
 3403                        		.dbg	line,	"include\tables_OBJECT.c", 97; };
 3404                        		.dbg	line,	"include\tables_OBJECT.c", 100; const char              TABLE_REWARD_TYPE_LV1[OBJECT_NUMBER_LV1]       =    {
 3405                        		.dbg	line,	"include\tables_OBJECT.c", 101; TYPE_GRAY_KEY,
 3406                        		.dbg	line,	"include\tables_OBJECT.c", 102; TYPE_GRAY_KEY,
 3407                        		.dbg	line,	"include\tables_OBJECT.c", 103; TYPE_GRAY_KEY,
 3408                        		.dbg	line,	"include\tables_OBJECT.c", 104; TYPE_GRAY_KEY,
 3409                        		.dbg	line,	"include\tables_OBJECT.c", 105; TYPE_GRAY_KEY,
 3410                        		.dbg	line,	"include\tables_OBJECT.c", 106; TYPE_GRAY_KEY,
 3411                        		.dbg	line,	"include\tables_OBJECT.c", 107; TYPE_GRAY_KEY,
 3412                        		.dbg	line,	"include\tables_OBJECT.c", 108; TYPE_NULL,
 3413                        		.dbg	line,	"include\tables_OBJECT.c", 109; TYPE_GRAY_KEY,
 3414                        		.dbg	line,	"include\tables_OBJECT.c", 110; TYPE_GRAY_KEY,
 3415                        		.dbg	line,	"include\tables_OBJECT.c", 112; //
 3416                        		.dbg	line,	"include\tables_OBJECT.c", 113; TYPE_GRAY_KEY,
 3417                        		.dbg	line,	"include\tables_OBJECT.c", 114; TYPE_GRAY_KEY,
 3418                        		.dbg	line,	"include\tables_OBJECT.c", 115; TYPE_GRAY_KEY,
 3419                        		.dbg	line,	"include\tables_OBJECT.c", 116; TYPE_GRAY_KEY,
 3420                        		.dbg	line,	"include\tables_OBJECT.c", 117; TYPE_GRAY_KEY,
 3421                        		.dbg	line,	"include\tables_OBJECT.c", 118; TYPE_GRAY_KEY,
 3422                        		.dbg	line,	"include\tables_OBJECT.c", 119; TYPE_GRAY_KEY,
 3423                        		.dbg	line,	"include\tables_OBJECT.c", 120; TYPE_GRAY_KEY,
 3424                        		.dbg	line,	"include\tables_OBJECT.c", 122; //
 3425                        		.dbg	line,	"include\tables_OBJECT.c", 123; TYPE_GRAY_KEY,
 3426                        		.dbg	line,	"include\tables_OBJECT.c", 124; TYPE_GRAY_KEY,
 3427                        		.dbg	line,	"include\tables_OBJECT.c", 125; TYPE_GRAY_KEY,
 3428                        		.dbg	line,	"include\tables_OBJECT.c", 126; TYPE_COIN_5,
 3429                        		.dbg	line,	"include\tables_OBJECT.c", 127; TYPE_GRAY_KEY
 3430                        		.dbg	line,	"include\tables_OBJECT.c", 128; };
 3431                        		.dbg	line,	"include\tables_OBJECT.c", 131; const int              TABLE_REWARD_VRAM_ADR_LV1[OBJECT_NUMBER_LV1]  =     {
 3432                        		.dbg	line,	"include\tables_OBJECT.c", 132; GRAY_KEY_VRAM_ADR,
 3433                        		.dbg	line,	"include\tables_OBJECT.c", 133; GRAY_KEY_VRAM_ADR,
 3434                        		.dbg	line,	"include\tables_OBJECT.c", 134; GRAY_KEY_VRAM_ADR,
 3435                        		.dbg	line,	"include\tables_OBJECT.c", 135; GRAY_KEY_VRAM_ADR,
 3436                        		.dbg	line,	"include\tables_OBJECT.c", 136; GRAY_KEY_VRAM_ADR,
 3437                        		.dbg	line,	"include\tables_OBJECT.c", 137; GRAY_KEY_VRAM_ADR,
 3438                        		.dbg	line,	"include\tables_OBJECT.c", 138; GRAY_KEY_VRAM_ADR,
 3439                        		.dbg	line,	"include\tables_OBJECT.c", 139; TYPE_NULL,
 3440                        		.dbg	line,	"include\tables_OBJECT.c", 140; GRAY_KEY_VRAM_ADR,
 3441                        		.dbg	line,	"include\tables_OBJECT.c", 141; GRAY_KEY_VRAM_ADR,
 3442                        		.dbg	line,	"include\tables_OBJECT.c", 143; //
 3443                        		.dbg	line,	"include\tables_OBJECT.c", 144; GRAY_KEY_VRAM_ADR,
 3444                        		.dbg	line,	"include\tables_OBJECT.c", 145; GRAY_KEY_VRAM_ADR,
 3445                        		.dbg	line,	"include\tables_OBJECT.c", 146; GRAY_KEY_VRAM_ADR,
 3446                        		.dbg	line,	"include\tables_OBJECT.c", 147; GRAY_KEY_VRAM_ADR,
 3447                        		.dbg	line,	"include\tables_OBJECT.c", 148; GRAY_KEY_VRAM_ADR,
 3448                        		.dbg	line,	"include\tables_OBJECT.c", 149; GRAY_KEY_VRAM_ADR,
 3449                        		.dbg	line,	"include\tables_OBJECT.c", 150; GRAY_KEY_VRAM_ADR,
 3450                        		.dbg	line,	"include\tables_OBJECT.c", 151; GRAY_KEY_VRAM_ADR,
 3451                        		.dbg	line,	"include\tables_OBJECT.c", 153; //
 3452                        		.dbg	line,	"include\tables_OBJECT.c", 154; GRAY_KEY_VRAM_ADR,
 3453                        		.dbg	line,	"include\tables_OBJECT.c", 155; GRAY_KEY_VRAM_ADR,
 3454                        		.dbg	line,	"include\tables_OBJECT.c", 156; GRAY_KEY_VRAM_ADR,
 3455                        		.dbg	line,	"include\tables_OBJECT.c", 157; COIN_5_VRAM_ADR,
 3456                        		.dbg	line,	"include\tables_OBJECT.c", 158; GRAY_KEY_VRAM_ADR
 3457                        		.dbg	line,	"include\tables_OBJECT.c", 159; };
 3458                        		.dbg	line,	"include\tables_OBJECT.c", 164; const signed int        TABLE_CHEST_X_POS_REF_LV1[CHEST_NUMBER_LV1]   =     {
 3459                        		.dbg	line,	"include\tables_OBJECT.c", 165; 1072,
 3460                        		.dbg	line,	"include\tables_OBJECT.c", 166; 816
 3461                        		.dbg	line,	"include\tables_OBJECT.c", 167; };
 3462                        		.dbg	line,	"include\tables_OBJECT.c", 170; const signed int        TABLE_CHEST_Y_POS_REF_LV1[CHEST_NUMBER_LV1]   =     {
 3463                        		.dbg	line,	"include\tables_OBJECT.c", 171; 832,
 3464                        		.dbg	line,	"include\tables_OBJECT.c", 172; 848
 3465                        		.dbg	line,	"main.c", 19; };
 3466                        		.dbg	line,	"main.c", 20; #include "include/tables_PLAYER.c"
 3467                        		.dbg	line,	"include\tables_PLAYER.c", 3; const unsigned char     *TABLE_PLAYER_TILES_ADR[2]     =   {
 3468                        		.dbg	line,	"include\tables_PLAYER.c", 4; &tiles_SPR_PLAYER_ARMOR,
 3469                        		.dbg	line,	"include\tables_PLAYER.c", 5; &tiles_SPR_PLAYER_NAKED
 3470                        		.dbg	line,	"include\tables_PLAYER.c", 6; };
 3471                        		.dbg	line,	"include\tables_PLAYER.c", 9; const unsigned char     TABLE_PLAYER_TILES_BANK[2]     =   {
 3472                        		.dbg	line,	"include\tables_PLAYER.c", 10; ^tiles_SPR_PLAYER_ARMOR,
 3473                        		.dbg	line,	"include\tables_PLAYER.c", 11; ^tiles_SPR_PLAYER_NAKED
 3474                        		.dbg	line,	"include\tables_PLAYER.c", 12; };
 3475                        		.dbg	line,	"include\tables_PLAYER.c", 15; const signed char       TABLE_PLAYER_JUMP_V[35]     =   {
 3476                        		.dbg	line,	"include\tables_PLAYER.c", 16; // UPWARD
 3477                        		.dbg	line,	"include\tables_PLAYER.c", 17; -4,
 3478                        		.dbg	line,	"include\tables_PLAYER.c", 18; -5,
 3479                        		.dbg	line,	"include\tables_PLAYER.c", 19; -10,
 3480                        		.dbg	line,	"include\tables_PLAYER.c", 20; -4,
 3481                        		.dbg	line,	"include\tables_PLAYER.c", 21; -4,
 3482                        		.dbg	line,	"include\tables_PLAYER.c", 22; -7,
 3483                        		.dbg	line,	"include\tables_PLAYER.c", 23; -6,
 3484                        		.dbg	line,	"include\tables_PLAYER.c", 24; -3,
 3485                        		.dbg	line,	"include\tables_PLAYER.c", 25; -5,
 3486                        		.dbg	line,	"include\tables_PLAYER.c", 26; -2,
 3487                        		.dbg	line,	"include\tables_PLAYER.c", 27; -4,
 3488                        		.dbg	line,	"include\tables_PLAYER.c", 28; -1,
 3489                        		.dbg	line,	"include\tables_PLAYER.c", 29; -1,
 3490                        		.dbg	line,	"include\tables_PLAYER.c", 30; -1,
 3491                        		.dbg	line,	"include\tables_PLAYER.c", 31; -1,
 3492                        		.dbg	line,	"include\tables_PLAYER.c", 32; 0,
 3493                        		.dbg	line,	"include\tables_PLAYER.c", 33; 0,
 3494                        		.dbg	line,	"include\tables_PLAYER.c", 34; 0,
 3495                        		.dbg	line,	"include\tables_PLAYER.c", 35; 0,
 3496                        		.dbg	line,	"include\tables_PLAYER.c", 36; // DOWNWARD
 3497                        		.dbg	line,	"include\tables_PLAYER.c", 37; 1,
 3498                        		.dbg	line,	"include\tables_PLAYER.c", 38; 1,
 3499                        		.dbg	line,	"include\tables_PLAYER.c", 39; 1,
 3500                        		.dbg	line,	"include\tables_PLAYER.c", 40; 1,
 3501                        		.dbg	line,	"include\tables_PLAYER.c", 41; 4,
 3502                        		.dbg	line,	"include\tables_PLAYER.c", 42; 2,
 3503                        		.dbg	line,	"include\tables_PLAYER.c", 43; 5,
 3504                        		.dbg	line,	"include\tables_PLAYER.c", 44; 3,
 3505                        		.dbg	line,	"include\tables_PLAYER.c", 45; 6,
 3506                        		.dbg	line,	"include\tables_PLAYER.c", 46; 7,
 3507                        		.dbg	line,	"include\tables_PLAYER.c", 47; 4,
 3508                        		.dbg	line,	"include\tables_PLAYER.c", 48; 4,
 3509                        		.dbg	line,	"include\tables_PLAYER.c", 49; 10,
 3510                        		.dbg	line,	"include\tables_PLAYER.c", 50; 4,
 3511                        		.dbg	line,	"include\tables_PLAYER.c", 51; 4,
 3512                        		.dbg	line,	"include\tables_PLAYER.c", 52; 5
 3513                        		.dbg	line,	"include\tables_PLAYER.c", 53; };
 3514                        		.dbg	line,	"include\tables_PLAYER.c", 56; const signed char       TABLE_PLAYER_FALL[21]       =   {
 3515                        		.dbg	line,	"include\tables_PLAYER.c", 57; 0,
 3516                        		.dbg	line,	"include\tables_PLAYER.c", 58; 0,
 3517                        		.dbg	line,	"include\tables_PLAYER.c", 59; 0,
 3518                        		.dbg	line,	"include\tables_PLAYER.c", 60; 0,
 3519                        		.dbg	line,	"include\tables_PLAYER.c", 61; 1,
 3520                        		.dbg	line,	"include\tables_PLAYER.c", 62; 1,
 3521                        		.dbg	line,	"include\tables_PLAYER.c", 63; 1,
 3522                        		.dbg	line,	"include\tables_PLAYER.c", 64; 1,
 3523                        		.dbg	line,	"include\tables_PLAYER.c", 65; 2,
 3524                        		.dbg	line,	"include\tables_PLAYER.c", 66; 2,
 3525                        		.dbg	line,	"include\tables_PLAYER.c", 67; 2,
 3526                        		.dbg	line,	"include\tables_PLAYER.c", 68; 2,
 3527                        		.dbg	line,	"include\tables_PLAYER.c", 69; 3,
 3528                        		.dbg	line,	"include\tables_PLAYER.c", 70; 3,
 3529                        		.dbg	line,	"include\tables_PLAYER.c", 71; 3,
 3530                        		.dbg	line,	"include\tables_PLAYER.c", 72; 4,
 3531                        		.dbg	line,	"include\tables_PLAYER.c", 73; 4,
 3532                        		.dbg	line,	"include\tables_PLAYER.c", 74; 4,
 3533                        		.dbg	line,	"include\tables_PLAYER.c", 75; 4,
 3534                        		.dbg	line,	"include\tables_PLAYER.c", 76; 4,
 3535                        		.dbg	line,	"include\tables_PLAYER.c", 77; 5
 3536                        		.dbg	line,	"include\tables_PLAYER.c", 78; };
 3537                        		.dbg	line,	"include\tables_PLAYER.c", 81; const signed char       TABLE_PLAYER_JUMP_LADDER[30]    =   {
 3538                        		.dbg	line,	"include\tables_PLAYER.c", 82; // UPWARD
 3539                        		.dbg	line,	"include\tables_PLAYER.c", 83; -4,
 3540                        		.dbg	line,	"include\tables_PLAYER.c", 84; -4,
 3541                        		.dbg	line,	"include\tables_PLAYER.c", 85; -3,
 3542                        		.dbg	line,	"include\tables_PLAYER.c", 86; -3,
 3543                        		.dbg	line,	"include\tables_PLAYER.c", 87; -3,
 3544                        		.dbg	line,	"include\tables_PLAYER.c", 88; -2,
 3545                        		.dbg	line,	"include\tables_PLAYER.c", 89; -2,
 3546                        		.dbg	line,	"include\tables_PLAYER.c", 90; -2,
 3547                        		.dbg	line,	"include\tables_PLAYER.c", 91; -1,
 3548                        		.dbg	line,	"include\tables_PLAYER.c", 92; -1,
 3549                        		.dbg	line,	"include\tables_PLAYER.c", 93; -1,
 3550                        		.dbg	line,	"include\tables_PLAYER.c", 94; -1,
 3551                        		.dbg	line,	"include\tables_PLAYER.c", 95; -1,
 3552                        		.dbg	line,	"include\tables_PLAYER.c", 96; 0,
 3553                        		.dbg	line,	"include\tables_PLAYER.c", 97; 0,
 3554                        		.dbg	line,	"include\tables_PLAYER.c", 98; 0,
 3555                        		.dbg	line,	"include\tables_PLAYER.c", 99; 0,
 3556                        		.dbg	line,	"include\tables_PLAYER.c", 100; // DOWNWARD
 3557                        		.dbg	line,	"include\tables_PLAYER.c", 101; 1,
 3558                        		.dbg	line,	"include\tables_PLAYER.c", 102; 1,
 3559                        		.dbg	line,	"include\tables_PLAYER.c", 103; 1,
 3560                        		.dbg	line,	"include\tables_PLAYER.c", 104; 1,
 3561                        		.dbg	line,	"include\tables_PLAYER.c", 105; 1,
 3562                        		.dbg	line,	"include\tables_PLAYER.c", 106; 2,
 3563                        		.dbg	line,	"include\tables_PLAYER.c", 107; 2,
 3564                        		.dbg	line,	"include\tables_PLAYER.c", 108; 2,
 3565                        		.dbg	line,	"include\tables_PLAYER.c", 109; 3,
 3566                        		.dbg	line,	"include\tables_PLAYER.c", 110; 3,
 3567                        		.dbg	line,	"include\tables_PLAYER.c", 111; 3,
 3568                        		.dbg	line,	"include\tables_PLAYER.c", 112; 4,
 3569                        		.dbg	line,	"include\tables_PLAYER.c", 113; 4
 3570                        		.dbg	line,	"include\tables_PLAYER.c", 114; };
 3571                        		.dbg	line,	"include\tables_PLAYER.c", 123; const unsigned char     *TABLE_WEAPON_TILES_ADR[5]     =   {
 3572                        		.dbg	line,	"include\tables_PLAYER.c", 124; &tiles_SPR_WEAPON_0,
 3573                        		.dbg	line,	"include\tables_PLAYER.c", 125; &tiles_SPR_WEAPON_1,
 3574                        		.dbg	line,	"include\tables_PLAYER.c", 126; &tiles_SPR_WEAPON_2,
 3575                        		.dbg	line,	"include\tables_PLAYER.c", 127; &tiles_SPR_WEAPON_3,
 3576                        		.dbg	line,	"include\tables_PLAYER.c", 128; &tiles_SPR_WEAPON_4
 3577                        		.dbg	line,	"include\tables_PLAYER.c", 129; };
 3578                        		.dbg	line,	"include\tables_PLAYER.c", 132; const unsigned char     TABLE_WEAPON_TILES_BANK[5]     =   {
 3579                        		.dbg	line,	"include\tables_PLAYER.c", 133; ^tiles_SPR_WEAPON_0,
 3580                        		.dbg	line,	"include\tables_PLAYER.c", 134; ^tiles_SPR_WEAPON_1,
 3581                        		.dbg	line,	"include\tables_PLAYER.c", 135; ^tiles_SPR_WEAPON_2,
 3582                        		.dbg	line,	"include\tables_PLAYER.c", 136; ^tiles_SPR_WEAPON_3,
 3583                        		.dbg	line,	"include\tables_PLAYER.c", 137; ^tiles_SPR_WEAPON_4
 3584                        		.dbg	line,	"main.c", 20; };
 3585                        		.dbg	line,	"main.c", 21; #include "include/tables_SHOP.c"
 3586                        		.dbg	line,	"include\tables_SHOP.c", 1; //-----------------------------------------------------------------------------//
 3587                        		.dbg	line,	"include\tables_SHOP.c", 2; //                                                                             //
 3588                        		.dbg	line,	"include\tables_SHOP.c", 3; //                                   LEVEL 1                                   //
 3589                        		.dbg	line,	"include\tables_SHOP.c", 4; //                                                                             //
 3590                        		.dbg	line,	"include\tables_SHOP.c", 5; //-----------------------------------------------------------------------------//
 3591                        		.dbg	line,	"include\tables_SHOP.c", 7; const char              TABLE_SHOP_ITEMS_LV1[10]        =   {
 3592                        		.dbg	line,	"include\tables_SHOP.c", 8; TYPE_ITEM_WEAPON_2,
 3593                        		.dbg	line,	"include\tables_SHOP.c", 9; TYPE_ITEM_WEAPON_3,
 3594                        		.dbg	line,	"include\tables_SHOP.c", 10; TYPE_ITEM_WEAPON_4,
 3595                        		.dbg	line,	"include\tables_SHOP.c", 11; TYPE_ITEM_WEAPON_5,
 3596                        		.dbg	line,	"include\tables_SHOP.c", 12; TYPE_ITEM_KEY,
 3597                        		.dbg	line,	"include\tables_SHOP.c", 14; TYPE_ITEM_ARMOR_2,
 3598                        		.dbg	line,	"include\tables_SHOP.c", 15; TYPE_ITEM_ARMOR_3,
 3599                        		.dbg	line,	"include\tables_SHOP.c", 16; TYPE_ITEM_ARMOR_4,
 3600                        		.dbg	line,	"include\tables_SHOP.c", 17; TYPE_ITEM_ARMOR_5,
 3601                        		.dbg	line,	"include\tables_SHOP.c", 18; TYPE_ITEM_POTION
 3602                        		.dbg	line,	"include\tables_SHOP.c", 19; };
 3603                        		.dbg	line,	"include\tables_SHOP.c", 22; const int               TABLE_SHOP_PRICES_LV1[10]       =   {
 3604                        		.dbg	line,	"include\tables_SHOP.c", 23; 100,
 3605                        		.dbg	line,	"include\tables_SHOP.c", 24; 1000,
 3606                        		.dbg	line,	"include\tables_SHOP.c", 25; 2400,
 3607                        		.dbg	line,	"include\tables_SHOP.c", 26; 9600,
 3608                        		.dbg	line,	"include\tables_SHOP.c", 27; 30,
 3609                        		.dbg	line,	"include\tables_SHOP.c", 28; 80,
 3610                        		.dbg	line,	"include\tables_SHOP.c", 29; 300,
 3611                        		.dbg	line,	"include\tables_SHOP.c", 30; 800,
 3612                        		.dbg	line,	"include\tables_SHOP.c", 31; 1600,
 3613                        		.dbg	line,	"include\tables_SHOP.c", 32; 150
 3614                        		.dbg	line,	"include\tables_SHOP.c", 33; };
 3615                        		.dbg	line,	"include\tables_SHOP.c", 36; const unsigned char     *TABLE_SHOP_ITEMS_TILES_ADR[10]     =   {
 3616                        		.dbg	line,	"include\tables_SHOP.c", 37; &tiles_ITEM_WEAPON_2,
 3617                        		.dbg	line,	"include\tables_SHOP.c", 38; &tiles_ITEM_WEAPON_3,
 3618                        		.dbg	line,	"include\tables_SHOP.c", 39; &tiles_ITEM_WEAPON_4,
 3619                        		.dbg	line,	"include\tables_SHOP.c", 40; &tiles_ITEM_WEAPON_5,
 3620                        		.dbg	line,	"include\tables_SHOP.c", 41; &tiles_ITEM_KEY,
 3621                        		.dbg	line,	"include\tables_SHOP.c", 42; &tiles_ITEM_ARMOR_2,
 3622                        		.dbg	line,	"include\tables_SHOP.c", 43; &tiles_ITEM_ARMOR_3,
 3623                        		.dbg	line,	"include\tables_SHOP.c", 44; &tiles_ITEM_ARMOR_4,
 3624                        		.dbg	line,	"include\tables_SHOP.c", 45; &tiles_ITEM_ARMOR_5,
 3625                        		.dbg	line,	"include\tables_SHOP.c", 46; &tiles_ITEM_POTION
 3626                        		.dbg	line,	"include\tables_SHOP.c", 47; };
 3627                        		.dbg	line,	"include\tables_SHOP.c", 50; const unsigned char     TABLE_SHOP_ITEMS_TILES_BANK[10]     =   {
 3628                        		.dbg	line,	"include\tables_SHOP.c", 51; ^tiles_ITEM_WEAPON_2,
 3629                        		.dbg	line,	"include\tables_SHOP.c", 52; ^tiles_ITEM_WEAPON_3,
 3630                        		.dbg	line,	"include\tables_SHOP.c", 53; ^tiles_ITEM_WEAPON_4,
 3631                        		.dbg	line,	"include\tables_SHOP.c", 54; ^tiles_ITEM_WEAPON_5,
 3632                        		.dbg	line,	"include\tables_SHOP.c", 55; ^tiles_ITEM_KEY,
 3633                        		.dbg	line,	"include\tables_SHOP.c", 56; ^tiles_ITEM_ARMOR_2,
 3634                        		.dbg	line,	"include\tables_SHOP.c", 57; ^tiles_ITEM_ARMOR_3,
 3635                        		.dbg	line,	"include\tables_SHOP.c", 58; ^tiles_ITEM_ARMOR_4,
 3636                        		.dbg	line,	"include\tables_SHOP.c", 59; ^tiles_ITEM_ARMOR_5,
 3637                        		.dbg	line,	"include\tables_SHOP.c", 60; ^tiles_ITEM_POTION
 3638                        		.dbg	line,	"include\tables_SHOP.c", 61; };
 3639                        		.dbg	line,	"include\tables_SHOP.c", 64; const char              TABLE_CURSOR_POS_X[11]              =   {
 3640                        		.dbg	line,	"include\tables_SHOP.c", 65; 24,
 3641                        		.dbg	line,	"include\tables_SHOP.c", 66; 56,
 3642                        		.dbg	line,	"include\tables_SHOP.c", 67; 96,
 3643                        		.dbg	line,	"include\tables_SHOP.c", 68; 136,
 3644                        		.dbg	line,	"include\tables_SHOP.c", 69; 176,
 3645                        		.dbg	line,	"include\tables_SHOP.c", 70; 24,
 3646                        		.dbg	line,	"include\tables_SHOP.c", 71; 56,
 3647                        		.dbg	line,	"include\tables_SHOP.c", 72; 96,
 3648                        		.dbg	line,	"include\tables_SHOP.c", 73; 136,
 3649                        		.dbg	line,	"include\tables_SHOP.c", 74; 176,
 3650                        		.dbg	line,	"include\tables_SHOP.c", 75; 212
 3651                        		.dbg	line,	"include\tables_SHOP.c", 76; };
 3652                        		.dbg	line,	"main.c", 25; #include "include/routines_INTRO.c"
 3653                        		.dbg	line,	"include\routines_INTRO.c", 1; #include "huc.h"
 3654                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 3655                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 3656                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 3657                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 3658                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 3659                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 3660                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 3661                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 3662                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 3663                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 3664                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 3665                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 3666                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 3667                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 3668                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 3669                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 3670                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 3671                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 3672                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 3673                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 3674                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 3675                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 3676                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 3677                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 3678                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 3679                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 3680                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 3681                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 3682                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 3683                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 3684                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 3685                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 3686                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 3687                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
 3688                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
 3689                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
 3690                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
 3691                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
 3692                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
 3693                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
 3694                        		.dbg	line,	"include\routines_INTRO.c", 2; #include "hucc-scroll.h"
 3695                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
 3696                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
 3697                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
 3698                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
 3699                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
 3700                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
 3701                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
 3702                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
 3703                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
 3704                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
 3705                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
 3706                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 3707                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 3708                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 3709                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
 3710                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
 3711                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
 3712                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
 3713                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
 3714                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
 3715                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
 3716                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
 3717                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
 3718                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
 3719                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
 3720                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
 3721                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
 3722                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
 3723                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
 3724                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
 3725                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
 3726                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
 3727                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
 3728                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
 3729                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
 3730                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
 3731                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
 3732                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
 3733                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
 3734                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
 3735                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
 3736                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
 3737                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
 3738                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
 3739                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
 3740                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
 3741                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
 3742                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
 3743                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
 3744                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
 3745                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
 3746                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
 3747                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
 3748                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 3749                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 3750                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
 3751                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
 3752                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
 3753                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
 3754                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
 3755                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
 3756                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
 3757                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
 3758                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
 3759                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
 3760                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
 3761                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
 3762                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
 3763                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
 3764                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
 3765                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
 3766                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
 3767                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
 3768                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
 3769                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
 3770                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
 3771                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
 3772                        		.dbg	line,	"include\routines_INTRO.c", 3; #include "hucc-chrmap.h"
 3773                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
 3774                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
 3775                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
 3776                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
 3777                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
 3778                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
 3779                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
 3780                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
 3781                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
 3782                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
 3783                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
 3784                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 3785                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 3786                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 3787                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
 3788                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
 3789                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
 3790                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
 3791                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
 3792                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
 3793                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
 3794                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
 3795                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
 3796                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
 3797                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
 3798                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
 3799                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
 3800                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
 3801                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
 3802                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 3803                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 3804                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 3805                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 3806                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 3807                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 3808                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 3809                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 3810                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 3811                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 3812                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 3813                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 3814                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 3815                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 3816                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 3817                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 3818                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 3819                        		.dbg	line,	"include\routines_INTRO.c", 4; #include "hucc-blkmap.h"
 3820                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 3821                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 3822                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 3823                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 3824                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 3825                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 3826                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 3827                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 3828                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 3829                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 3830                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 3831                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 3832                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 3833                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 3834                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 3835                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 3836                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 3837                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 3838                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 3839                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 3840                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 3841                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 3842                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 3843                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 3844                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 3845                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 3846                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 3847                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 3848                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 3849                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 3850                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 3851                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 3852                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 3853                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 3854                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 3855                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 3856                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 3857                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 3858                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 3859                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 3860                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 3861                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 3862                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 3863                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 3864                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 3865                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 3866                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 3867                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 3868                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 3869                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 3870                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 3871                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 3872                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 3873                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 3874                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 3875                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 3876                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 3877                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 3878                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 3879                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 3880                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 3881                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 3882                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 3883                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 3884                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 3885                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 3886                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 3887                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 3888                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 3889                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 3890                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 3891                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 3892                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 3893                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 3894                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 3895                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 3896                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 3897                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 3898                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 3899                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 3900                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 3901                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 3902                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 3903                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 3904                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 3905                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 3906                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 3907                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 3908                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 3909                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 3910                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 3911                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 3912                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 3913                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 3914                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 3915                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 3916                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 3917                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 3918                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 3919                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 3920                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 3921                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 3922                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 3923                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 3924                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 3925                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 3926                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 3927                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 3928                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 3929                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 3930                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 3931                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 3932                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 3933                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 3934                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 3935                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 3936                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 3937                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 3938                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 3939                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 3940                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 3941                        		.dbg	line,	"include\routines_INTRO.c", 13; void joypad_BUTTONS_INTRO()
 3942                        		.dbg	line,	"include\routines_INTRO.c", 14; {
 3943                        	;***********************
 3944                        	;***********************
 3945                        	
 3946                        		.hucc
 3947    1F:D3B8             		.proc		_joypad_BUTTONS_INTRO
 3948                        		__enter		_joypad_BUTTONS_INTRO
 3949                        	
 3950                        		.dbg	line,	"include\routines_INTRO.c", 15; if(joytrg(JOYPAD_1) & JOY_I || joytrg(JOYPAD_1) & JOY_II || joytrg(JOYPAD_1) & JOY_RUN)
 3951                        		__ld.uiq	0
         1F:D3B8  62         			cla
 3952                        		 _joytrg.1
         1F:D3B9  AA         			tax
         1F:D3BA  BD 2D 22   			lda	joytrg, x
         1F:D3BD  BC DD 22   			ldy	joy6trg, x
 3953                        		__tand.wi	1
         1F:D3C0  29 01      			and	#1
         1F:D3C2  C9 01      	!:		cmp	#1
 3954                        		__btrue		.LL4
         1F:D3C4  B0 0C      			bcs	.LL4
 3955                        		__ld.uiq	0
         1F:D3C6  62         			cla
 3956                        		 _joytrg.1
         1F:D3C7  AA         			tax
         1F:D3C8  BD 2D 22   			lda	joytrg, x
         1F:D3CB  BC DD 22   			ldy	joy6trg, x
 3957                        		__tand.wi	2
         1F:D3CE  29 02      			and	#2
         1F:D3D0  C9 01      	!:		cmp	#1
 3958    1F:D3D2             	.LL4:
 3959                        		__btrue		.LL5
         1F:D3D2  B0 0C      			bcs	.LL5
 3960                        		__ld.uiq	0
         1F:D3D4  62         			cla
 3961                        		 _joytrg.1
         1F:D3D5  AA         			tax
         1F:D3D6  BD 2D 22   			lda	joytrg, x
         1F:D3D9  BC DD 22   			ldy	joy6trg, x
 3962                        		__tand.wi	8
         1F:D3DC  29 08      			and	#8
         1F:D3DE  C9 01      	!:		cmp	#1
 3963    1F:D3E0             	.LL5:
 3964                        		__bfalse	.LL3
         1F:D3E0  90 0B      			bcc	.LL3
 3965                        	
 3966                        		.dbg	line,	"include\routines_INTRO.c", 16; {
 3967                        	
 3968                        		.dbg	line,	"include\routines_INTRO.c", 17; // DISABLE DISPLAY //
 3969                        	
 3970                        		.dbg	line,	"include\routines_INTRO.c", 18; disp_off();
 3971                        		__call		_disp_off
         1F:D3E2  20 3D E4   			call	_disp_off
 3972                        	
 3973                        		.dbg	line,	"include\routines_INTRO.c", 20; sequence_loaded = FALSE;
 3974                        		__st.umiq	0, _sequence_loaded
         1F:D3E5  9C 14 23   			stz	_sequence_loaded
 3975                        	
 3976                        		.dbg	line,	"include\routines_INTRO.c", 22; sequence_id = SEQUENCE_GAME;
 3977                        		__st.umiq	2, _sequence_id
         1F:D3E8  A9 02      			lda.l	#2
         1F:D3EA  8D 13 23   			sta	_sequence_id
 3978                        	
 3979                        		.dbg	line,	"include\routines_INTRO.c", 23; }
 3980                        	
 3981                        		.dbg	line,	"include\routines_INTRO.c", 24; }
 3982    1F:D3ED             	.LL3:
 3983    1F:D3ED             	.LL2:
 3984                        		__return	0
         1F:D3ED  4C EF FF   			jmp	leave_proc
 3985                        		.dbg	clear
 3986                        		.endp
 3987                        		.pceas
 3988                        	
 3989                        		.dbg	line,	"include\routines_INTRO.c", 29; void sequence_INTRO()
 3990                        		.dbg	line,	"include\routines_INTRO.c", 30; {
 3991                        	;***********************
 3992                        	;***********************
 3993                        	
 3994                        		.hucc
 3995    1D:CB40             		.proc		_sequence_INTRO
 3996                        		__enter		_sequence_INTRO
 3997                        	
 3998                        		.dbg	line,	"include\routines_INTRO.c", 31; //--------------------------------------------------------------------------------------//
 3999                        	
 4000                        		.dbg	line,	"include\routines_INTRO.c", 32; //                                    PALETTE FADING                                    //
 4001                        	
 4002                        		.dbg	line,	"include\routines_INTRO.c", 33; //--------------------------------------------------------------------------------------//
 4003                        	
 4004                        		.dbg	line,	"include\routines_INTRO.c", 35; char i;
 4005                        	
 4006                        		.dbg	line,	"include\routines_INTRO.c", 38; if(global_counter > 0 && global_counter < 43)
 4007                        		__ld.wm		_global_counter
         1D:CB40  AD 4F 26   			lda.l	_global_counter
         1D:CB43  AC 50 26   			ldy.h	_global_counter
 4008                        		__sgt_w.wi	0
         1D:CB46  18         			clc			; Subtract integer+1 from Y:A.
         1D:CB47  E9 00      			sbc.l	#0
         1D:CB49  98         			tya
         1D:CB4A  E9 00      			sbc.h	#0
         1D:CB4C  50 02      			bvc	!+
         1D:CB4E  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1D:CB50  49 80      	!:		eor	#$80
         1D:CB52  0A         			asl	a
 4009                        		__bfalse	.LL8
         1D:CB53  90 10      			bcc	.LL8
 4010                        		__ld.wm		_global_counter
         1D:CB55  AD 4F 26   			lda.l	_global_counter
         1D:CB58  AC 50 26   			ldy.h	_global_counter
 4011                        		__slt_w.wi	43
         1D:CB5B  C9 2B      			cmp.l	#43		; Subtract integer from Y:A.
         1D:CB5D  98         			tya
         1D:CB5E  E9 00      			sbc.h	#43
         1D:CB60  50 02      			bvc	!+
         1D:CB62  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1D:CB64  0A         	!:		asl	a
 4012    1D:CB65             	.LL8:
 4013                        		__bfalse	.LL7
         1D:CB65  B0 03 4C FE			bcc	.LL7
         1D:CB69  CB          
 4014                        	
 4015                        		.dbg	line,	"include\routines_INTRO.c", 39; {
 4016                        	
 4017                        		.dbg	line,	"include\routines_INTRO.c", 40; if(global_counter%6 == FALSE)
 4018                        		__ld.wm		_global_counter
         1D:CB6A  AD 4F 26   			lda.l	_global_counter
         1D:CB6D  AC 50 26   			ldy.h	_global_counter
 4019                        		__smod.wi	6
         1D:CB70  A2 06      			ldx.l	#6
         1D:CB72  86 00      			stx.l	<divisor
         1D:CB74  A2 00      			ldx.h	#6
         1D:CB76  86 01      			stx.h	<divisor
         1D:CB78  20 CB E4   			jsr	__modsint
 4020                        		__not.wr
         1D:CB7B  84 00      			sty	__temp
         1D:CB7D  05 00      			ora	__temp
         1D:CB7F  18         			clc
         1D:CB80  D0 01      			bne	!+
         1D:CB82  38         			sec
         1D:CB83             	!:
 4021                        		__bfalse	.LL9
         1D:CB83  90 79      			bcc	.LL9
 4022                        	
 4023                        		.dbg	line,	"include\routines_INTRO.c", 41; {
 4024                        	
 4025                        		.dbg	line,	"include\routines_INTRO.c", 42; read_palette( 0, 1, palette_buffer );
 4026                        		__st.umiq	0, _al
         1D:CB85  64 F8      			stz	_al
 4027                        		__st.umiq	1, _ah
         1D:CB87  A9 01      			lda.l	#1
         1D:CB89  85 F9      			sta	_ah
 4028                        		__ld.wi		_palette_buffer
         1D:CB8B  A9 6D      			lda.l	#_palette_buffer
         1D:CB8D  A0 26      			ldy.h	#_palette_buffer
 4029                        		__st.wmq	_di
         1D:CB8F  85 F0      			sta.l	_di
         1D:CB91  84 F1      			sty.h	_di
 4030                        		__call		_read_palette.3
         1D:CB93  20 9F FF   			call	_read_palette.3
 4031                        	
 4032                        		.dbg	line,	"include\routines_INTRO.c", 44; cross_fade_to(palette_INTRO_2 , palette_buffer , 16 , palette_step);
 4033                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         1D:CB96  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:CB98  85 EC      			sta.l	_bp
         1D:CB9A  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:CB9C  85 ED      			sta.h	_bp
         1D:CB9E  A9 06      			lda	#bank(_palette_INTRO_2)
         1D:CBA0  85 02      			sta	_bp_bank
 4034                        		__ld.wi		_palette_buffer
         1D:CBA2  A9 6D      			lda.l	#_palette_buffer
         1D:CBA4  A0 26      			ldy.h	#_palette_buffer
 4035                        		__st.wmq	_di
         1D:CBA6  85 F0      			sta.l	_di
         1D:CBA8  84 F1      			sty.h	_di
 4036                        		__st.umiq	16, _al
         1D:CBAA  A9 10      			lda.l	#16
         1D:CBAC  85 F8      			sta	_al
 4037                        		__ld.um		_palette_step
         1D:CBAE  AD F4 23   			lda	_palette_step
         1D:CBB1  C2         			cly
 4038                        		__st.umq	_ah
         1D:CBB2  85 F9      			sta	_ah
 4039                        		 _cross_fade_to.4
         1D:CBB4  A4 02      			ldy	<_bp_bank
         1D:CBB6  20 95 FF   			call	cross_fade_to
 4040                        	
 4041                        		.dbg	line,	"include\routines_INTRO.c", 45; cross_fade_to(palette_INTRO_2 , palette_buffer , 16 , palette_step+1);
 4042                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         1D:CBB9  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:CBBB  85 EC      			sta.l	_bp
         1D:CBBD  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:CBBF  85 ED      			sta.h	_bp
         1D:CBC1  A9 06      			lda	#bank(_palette_INTRO_2)
         1D:CBC3  85 02      			sta	_bp_bank
 4043                        		__ld.wi		_palette_buffer
         1D:CBC5  A9 6D      			lda.l	#_palette_buffer
         1D:CBC7  A0 26      			ldy.h	#_palette_buffer
 4044                        		__st.wmq	_di
         1D:CBC9  85 F0      			sta.l	_di
         1D:CBCB  84 F1      			sty.h	_di
 4045                        		__st.umiq	16, _al
         1D:CBCD  A9 10      			lda.l	#16
         1D:CBCF  85 F8      			sta	_al
 4046                        		__ld.um		_palette_step
         1D:CBD1  AD F4 23   			lda	_palette_step
         1D:CBD4  C2         			cly
 4047                        		__add.wi	1
         1D:CBD5  1A         			inc	a
         1D:CBD6  D0 01      			bne	!+
         1D:CBD8  C8         			iny
         1D:CBD9             	!:
 4048                        		__st.umq	_ah
         1D:CBD9  85 F9      			sta	_ah
 4049                        		 _cross_fade_to.4
         1D:CBDB  A4 02      			ldy	<_bp_bank
         1D:CBDD  20 95 FF   			call	cross_fade_to
 4050                        	
 4051                        		.dbg	line,	"include\routines_INTRO.c", 47; load_palette( 0, palette_buffer, 1 );
 4052                        		__st.umiq	0, _al
         1D:CBE0  64 F8      			stz	_al
 4053                        		__farptr	_palette_buffer, _bp_bank, _bp
         1D:CBE2  A9 6D      			lda.l	#$6000 + ($1FFF & (_palette_buffer))
         1D:CBE4  85 EC      			sta.l	_bp
         1D:CBE6  A9 66      			lda.h	#$6000 + ($1FFF & (_palette_buffer))
         1D:CBE8  85 ED      			sta.h	_bp
         1D:CBEA  A9 F8      			lda	#bank(_palette_buffer)
         1D:CBEC  85 02      			sta	_bp_bank
 4054                        		__st.umiq	1, _ah
         1D:CBEE  A9 01      			lda.l	#1
         1D:CBF0  85 F9      			sta	_ah
 4055                        		__call		_load_palette.3
         1D:CBF2  20 8B FF   			call	_load_palette.3
 4056                        	
 4057                        		.dbg	line,	"include\routines_INTRO.c", 49; palette_step += 2;
 4058                        		__add_st.umiq	2, _palette_step
         1D:CBF5  18         			clc
         1D:CBF6  AD F4 23   			lda	_palette_step
         1D:CBF9  69 02      			adc	#2
         1D:CBFB  8D F4 23   			sta	_palette_step
 4059                        	
 4060                        		.dbg	line,	"include\routines_INTRO.c", 50; }
 4061                        	
 4062                        		.dbg	line,	"include\routines_INTRO.c", 51; }
 4063    1D:CBFE             	.LL9:
 4064                        	
 4065                        		.dbg	line,	"include\routines_INTRO.c", 52; 
 4066                        	
 4067                        		.dbg	line,	"include\routines_INTRO.c", 53; 
 4068                        	
 4069                        		.dbg	line,	"include\routines_INTRO.c", 55; //--------------------------------------------------------------------------------------//
 4070                        	
 4071                        		.dbg	line,	"include\routines_INTRO.c", 56; //                                     MOVE DRAGON                                      //
 4072                        	
 4073                        		.dbg	line,	"include\routines_INTRO.c", 57; //--------------------------------------------------------------------------------------//
 4074                        	
 4075                        		.dbg	line,	"include\routines_INTRO.c", 59; if(global_counter < 50)
 4076    1D:CBFE             	.LL7:
 4077                        		__ld.wm		_global_counter
         1D:CBFE  AD 4F 26   			lda.l	_global_counter
         1D:CC01  AC 50 26   			ldy.h	_global_counter
 4078                        		__slt_w.wi	50
         1D:CC04  C9 32      			cmp.l	#50		; Subtract integer from Y:A.
         1D:CC06  98         			tya
         1D:CC07  E9 00      			sbc.h	#50
         1D:CC09  50 02      			bvc	!+
         1D:CC0B  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1D:CC0D  0A         	!:		asl	a
 4079                        		__bfalse	.LL10
         1D:CC0E  B0 03 4C 20			bcc	.LL10
         1D:CC12  CE          
 4080                        	
 4081                        		.dbg	line,	"include\routines_INTRO.c", 60; {
 4082                        	
 4083                        		.dbg	line,	"include\routines_INTRO.c", 61; player_pos_x -= 1;
 4084                        		__sub_st.wmiq	1, _player_pos_x
         1D:CC13  AD F5 24   			lda.l	_player_pos_x
         1D:CC16  D0 03      			bne	!+
         1D:CC18  CE F6 24   			dec.h	_player_pos_x
         1D:CC1B  CE F5 24   	!:		dec.l	_player_pos_x
 4085                        	
 4086                        		.dbg	line,	"include\routines_INTRO.c", 62; player_pos_y -= 1;
 4087                        		__sub_st.wmiq	1, _player_pos_y
         1D:CC1E  AD F7 24   			lda.l	_player_pos_y
         1D:CC21  D0 03      			bne	!+
         1D:CC23  CE F8 24   			dec.h	_player_pos_y
         1D:CC26  CE F7 24   	!:		dec.l	_player_pos_y
 4088                        	
 4089                        		.dbg	line,	"include\routines_INTRO.c", 63; 
 4090                        	
 4091                        		.dbg	line,	"include\routines_INTRO.c", 64; for(i=0 ; i<8 ; i++)
 4092                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:CC29  9C 21 2C   			stz	__sequence_INTRO_end - 1
 4093    1D:CC2C             	.LL11:
 4094                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CC2C  AD 21 2C   			lda	__sequence_INTRO_end - 1
 4095                        		__ult_b.uiq	8
         1D:CC2F  C9 08      			cmp	#8		; Subtract integer from A.
         1D:CC31  6A         			ror	a		; CC if A < integer.
         1D:CC32  49 80      			eor	#$80
         1D:CC34  2A         			rol	a
 4096                        		__btrue		.LL13
         1D:CC35  B0 07      			bcs	.LL13
 4097                        		__bra		.LL14
         1D:CC37  80 62      			bra	.LL14
 4098    1D:CC39             	.LL12:
 4099                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:CC39  EE 21 2C   			inc	__sequence_INTRO_end - 1
 4100                        		__bra		.LL11
         1D:CC3C  80 EE      			bra	.LL11
 4101    1D:CC3E             	.LL13:
 4102                        	
 4103                        		.dbg	line,	"include\routines_INTRO.c", 65; {
 4104                        	
 4105                        		.dbg	line,	"include\routines_INTRO.c", 66; sgx_spr_set(i);
 4106                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CC3E  AD 21 2C   			lda	__sequence_INTRO_end - 1
 4107                        		__call		_sgx_spr_set.1
         1D:CC41  20 9E E8   			call	_sgx_spr_set.1
 4108                        	
 4109                        		.dbg	line,	"include\routines_INTRO.c", 67; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 4110                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:CC44  AD 21 2C   			lda	__sequence_INTRO_end - 1
         1D:CC47  C2         			cly
 4111                        		__asl.wi	5
         1D:CC48  85 00      			sta	__temp
         1D:CC4A  98         			tya
         1D:CC4B  4A         			lsr	a
         1D:CC4C  20 C8 E1   			jsr	aslw5
         1D:CC4F  29 E0      			and.l	#$FF << 5
 4112                        		__add.wm	_player_pos_x
         1D:CC51  18         			clc
         1D:CC52  6D F5 24   			adc.l	_player_pos_x
         1D:CC55  42         			say
         1D:CC56  6D F6 24   			adc.h	_player_pos_x
         1D:CC59  42         			say
 4113                        		__push.wr
         1D:CC5A  5A         			phy
         1D:CC5B  48         			pha
 4114                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:CC5C  AD 21 2C   			lda	__sequence_INTRO_end - 1
         1D:CC5F  C2         			cly
 4115                        		__lsr.uiq	2
         1D:CC60  4A         			lsr	a
         1D:CC61  4A         			lsr	a
 4116                        		__asl.wi	7
         1D:CC62  42         			say
         1D:CC63  4A         			lsr	a
         1D:CC64  42         			say
         1D:CC65  6A         			ror	a
         1D:CC66  42         			say
         1D:CC67  6A         			ror	a
         1D:CC68  29 80      			and	#$80
 4117                        		__sub.wt
         1D:CC6A  BA         			tsx
         1D:CC6B  38         			sec
         1D:CC6C  49 FF      			eor	#$FF
         1D:CC6E  7D 01 21   			adc.l	__tos, x
         1D:CC71  42         			say
         1D:CC72  49 FF      			eor	#$FF
         1D:CC74  7D 02 21   			adc.h	__tos, x
         1D:CC77  42         			say
         1D:CC78  E8         			inx
         1D:CC79  E8         			inx
         1D:CC7A  9A         			txs
 4118                        		__call		_sgx_spr_x.1
         1D:CC7B  20 CB E8   			call	_sgx_spr_x.1
 4119                        	
 4120                        		.dbg	line,	"include\routines_INTRO.c", 68; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 4121                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:CC7E  AD 21 2C   			lda	__sequence_INTRO_end - 1
         1D:CC81  C2         			cly
 4122                        		__lsr.uiq	2
         1D:CC82  4A         			lsr	a
         1D:CC83  4A         			lsr	a
 4123                        		__asl.wi	5
         1D:CC84  85 00      			sta	__temp
         1D:CC86  98         			tya
         1D:CC87  4A         			lsr	a
         1D:CC88  20 C8 E1   			jsr	aslw5
         1D:CC8B  29 E0      			and.l	#$FF << 5
 4124                        		__add.wm	_player_pos_y
         1D:CC8D  18         			clc
         1D:CC8E  6D F7 24   			adc.l	_player_pos_y
         1D:CC91  42         			say
         1D:CC92  6D F8 24   			adc.h	_player_pos_y
         1D:CC95  42         			say
 4125                        		__call		_sgx_spr_y.1
         1D:CC96  20 DA E8   			call	_sgx_spr_y.1
 4126                        	
 4127                        		.dbg	line,	"include\routines_INTRO.c", 69; }
 4128                        		__bra		.LL12
         1D:CC99  80 9E      			bra	.LL12
 4129    1D:CC9B             	.LL14:
 4130                        	
 4131                        		.dbg	line,	"include\routines_INTRO.c", 71; //--------------------------------------------------------------------------------------//
 4132                        	
 4133                        		.dbg	line,	"include\routines_INTRO.c", 72; //                                    DRAGON PATTERN                                    //
 4134                        	
 4135                        		.dbg	line,	"include\routines_INTRO.c", 73; //--------------------------------------------------------------------------------------//
 4136                        	
 4137                        		.dbg	line,	"include\routines_INTRO.c", 75; if(global_counter == 8)
 4138                        		__ld.wm		_global_counter
         1D:CC9B  AD 4F 26   			lda.l	_global_counter
         1D:CC9E  AC 50 26   			ldy.h	_global_counter
 4139                        		__equ_w.wi	8
         1D:CCA1  C9 08      			cmp.l	#8
         1D:CCA3  D0 04      			bne	!false+
         1D:CCA5  C0 00      			cpy.h	#8
         1D:CCA7  F0 01      			beq	!+
         1D:CCA9  18         	!false:		clc
         1D:CCAA             	!:
 4140                        		__bfalse	.LL15
         1D:CCAA  90 31      			bcc	.LL15
 4141                        	
 4142                        		.dbg	line,	"include\routines_INTRO.c", 76; {
 4143                        	
 4144                        		.dbg	line,	"include\routines_INTRO.c", 77; for(i=0 ; i<8 ; i++)
 4145                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:CCAC  9C 21 2C   			stz	__sequence_INTRO_end - 1
 4146    1D:CCAF             	.LL16:
 4147                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CCAF  AD 21 2C   			lda	__sequence_INTRO_end - 1
 4148                        		__ult_b.uiq	8
         1D:CCB2  C9 08      			cmp	#8		; Subtract integer from A.
         1D:CCB4  6A         			ror	a		; CC if A < integer.
         1D:CCB5  49 80      			eor	#$80
         1D:CCB7  2A         			rol	a
 4149                        		__btrue		.LL18
         1D:CCB8  B0 08      			bcs	.LL18
 4150                        		__bra		.LL19
         1D:CCBA  4C 20 CE   			bra	.LL19
 4151    1D:CCBD             	.LL17:
 4152                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:CCBD  EE 21 2C   			inc	__sequence_INTRO_end - 1
 4153                        		__bra		.LL16
         1D:CCC0  80 ED      			bra	.LL16
 4154    1D:CCC2             	.LL18:
 4155                        	
 4156                        		.dbg	line,	"include\routines_INTRO.c", 78; {
 4157                        	
 4158                        		.dbg	line,	"include\routines_INTRO.c", 79; sgx_spr_set(i);
 4159                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CCC2  AD 21 2C   			lda	__sequence_INTRO_end - 1
 4160                        		__call		_sgx_spr_set.1
         1D:CCC5  20 9E E8   			call	_sgx_spr_set.1
 4161                        	
 4162                        		.dbg	line,	"include\routines_INTRO.c", 80; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16) + TILES_128);
 4163                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:CCC8  AD 21 2C   			lda	__sequence_INTRO_end - 1
         1D:CCCB  C2         			cly
 4164                        		__asl.wi	8
         1D:CCCC  A8         			tay
         1D:CCCD  62         			cla
 4165                        		__add.wi	13312
         1D:CCCE  18         			clc
         1D:CCCF  69 00      			adc.l	#13312
         1D:CCD1  42         			say
         1D:CCD2  69 34      			adc.h	#13312
         1D:CCD4  42         			say
 4166                        		__call		_sgx_spr_pattern.1
         1D:CCD5  20 E7 E8   			call	_sgx_spr_pattern.1
 4167                        	
 4168                        		.dbg	line,	"include\routines_INTRO.c", 81; }
 4169                        		__bra		.LL17
         1D:CCD8  80 E3      			bra	.LL17
 4170    1D:CCDA             	.LL19	.alias		.LL20
 4171                        	
 4172                        		.dbg	line,	"include\routines_INTRO.c", 82; }
 4173                        	
 4174                        		.dbg	line,	"include\routines_INTRO.c", 84; else if(global_counter == 16)
 4175                        		__bra		.LL20
         1D:CCDA  4C 20 CE   			bra	.LL20
 4176    1D:CCDD             	.LL15:
 4177                        		__ld.wm		_global_counter
         1D:CCDD  AD 4F 26   			lda.l	_global_counter
         1D:CCE0  AC 50 26   			ldy.h	_global_counter
 4178                        		__equ_w.wi	16
         1D:CCE3  C9 10      			cmp.l	#16
         1D:CCE5  D0 04      			bne	!false+
         1D:CCE7  C0 00      			cpy.h	#16
         1D:CCE9  F0 01      			beq	!+
         1D:CCEB  18         	!false:		clc
         1D:CCEC             	!:
 4179                        		__bfalse	.LL21
         1D:CCEC  90 31      			bcc	.LL21
 4180                        	
 4181                        		.dbg	line,	"include\routines_INTRO.c", 85; {
 4182                        	
 4183                        		.dbg	line,	"include\routines_INTRO.c", 86; for(i=0 ; i<8 ; i++)
 4184                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:CCEE  9C 21 2C   			stz	__sequence_INTRO_end - 1
 4185    1D:CCF1             	.LL22:
 4186                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CCF1  AD 21 2C   			lda	__sequence_INTRO_end - 1
 4187                        		__ult_b.uiq	8
         1D:CCF4  C9 08      			cmp	#8		; Subtract integer from A.
         1D:CCF6  6A         			ror	a		; CC if A < integer.
         1D:CCF7  49 80      			eor	#$80
         1D:CCF9  2A         			rol	a
 4188                        		__btrue		.LL24
         1D:CCFA  B0 08      			bcs	.LL24
 4189                        		__bra		.LL25
         1D:CCFC  4C 20 CE   			bra	.LL25
 4190    1D:CCFF             	.LL23:
 4191                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:CCFF  EE 21 2C   			inc	__sequence_INTRO_end - 1
 4192                        		__bra		.LL22
         1D:CD02  80 ED      			bra	.LL22
 4193    1D:CD04             	.LL24:
 4194                        	
 4195                        		.dbg	line,	"include\routines_INTRO.c", 87; {
 4196                        	
 4197                        		.dbg	line,	"include\routines_INTRO.c", 88; sgx_spr_set(i);
 4198                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CD04  AD 21 2C   			lda	__sequence_INTRO_end - 1
 4199                        		__call		_sgx_spr_set.1
         1D:CD07  20 9E E8   			call	_sgx_spr_set.1
 4200                        	
 4201                        		.dbg	line,	"include\routines_INTRO.c", 89; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16) + TILES_256);
 4202                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:CD0A  AD 21 2C   			lda	__sequence_INTRO_end - 1
         1D:CD0D  C2         			cly
 4203                        		__asl.wi	8
         1D:CD0E  A8         			tay
         1D:CD0F  62         			cla
 4204                        		__add.wi	15360
         1D:CD10  18         			clc
         1D:CD11  69 00      			adc.l	#15360
         1D:CD13  42         			say
         1D:CD14  69 3C      			adc.h	#15360
         1D:CD16  42         			say
 4205                        		__call		_sgx_spr_pattern.1
         1D:CD17  20 E7 E8   			call	_sgx_spr_pattern.1
 4206                        	
 4207                        		.dbg	line,	"include\routines_INTRO.c", 90; }
 4208                        		__bra		.LL23
         1D:CD1A  80 E3      			bra	.LL23
 4209    1D:CD1C             	.LL25	.alias		.LL26
 4210                        	
 4211                        		.dbg	line,	"include\routines_INTRO.c", 91; }
 4212                        	
 4213                        		.dbg	line,	"include\routines_INTRO.c", 93; else if(global_counter == 24)
 4214                        		__bra		.LL26
         1D:CD1C  4C 20 CE   			bra	.LL26
 4215    1D:CD1F             	.LL21:
 4216                        		__ld.wm		_global_counter
         1D:CD1F  AD 4F 26   			lda.l	_global_counter
         1D:CD22  AC 50 26   			ldy.h	_global_counter
 4217                        		__equ_w.wi	24
         1D:CD25  C9 18      			cmp.l	#24
         1D:CD27  D0 04      			bne	!false+
         1D:CD29  C0 00      			cpy.h	#24
         1D:CD2B  F0 01      			beq	!+
         1D:CD2D  18         	!false:		clc
         1D:CD2E             	!:
 4218                        		__bfalse	.LL27
         1D:CD2E  90 31      			bcc	.LL27
 4219                        	
 4220                        		.dbg	line,	"include\routines_INTRO.c", 94; {
 4221                        	
 4222                        		.dbg	line,	"include\routines_INTRO.c", 95; for(i=0 ; i<8 ; i++)
 4223                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:CD30  9C 21 2C   			stz	__sequence_INTRO_end - 1
 4224    1D:CD33             	.LL28:
 4225                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CD33  AD 21 2C   			lda	__sequence_INTRO_end - 1
 4226                        		__ult_b.uiq	8
         1D:CD36  C9 08      			cmp	#8		; Subtract integer from A.
         1D:CD38  6A         			ror	a		; CC if A < integer.
         1D:CD39  49 80      			eor	#$80
         1D:CD3B  2A         			rol	a
 4227                        		__btrue		.LL30
         1D:CD3C  B0 08      			bcs	.LL30
 4228                        		__bra		.LL31
         1D:CD3E  4C 20 CE   			bra	.LL31
 4229    1D:CD41             	.LL29:
 4230                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:CD41  EE 21 2C   			inc	__sequence_INTRO_end - 1
 4231                        		__bra		.LL28
         1D:CD44  80 ED      			bra	.LL28
 4232    1D:CD46             	.LL30:
 4233                        	
 4234                        		.dbg	line,	"include\routines_INTRO.c", 96; {
 4235                        	
 4236                        		.dbg	line,	"include\routines_INTRO.c", 97; sgx_spr_set(i);
 4237                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CD46  AD 21 2C   			lda	__sequence_INTRO_end - 1
 4238                        		__call		_sgx_spr_set.1
         1D:CD49  20 9E E8   			call	_sgx_spr_set.1
 4239                        	
 4240                        		.dbg	line,	"include\routines_INTRO.c", 98; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16));
 4241                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:CD4C  AD 21 2C   			lda	__sequence_INTRO_end - 1
         1D:CD4F  C2         			cly
 4242                        		__asl.wi	8
         1D:CD50  A8         			tay
         1D:CD51  62         			cla
 4243                        		__add.wi	11264
         1D:CD52  18         			clc
         1D:CD53  69 00      			adc.l	#11264
         1D:CD55  42         			say
         1D:CD56  69 2C      			adc.h	#11264
         1D:CD58  42         			say
 4244                        		__call		_sgx_spr_pattern.1
         1D:CD59  20 E7 E8   			call	_sgx_spr_pattern.1
 4245                        	
 4246                        		.dbg	line,	"include\routines_INTRO.c", 99; }
 4247                        		__bra		.LL29
         1D:CD5C  80 E3      			bra	.LL29
 4248    1D:CD5E             	.LL31	.alias		.LL32
 4249                        	
 4250                        		.dbg	line,	"include\routines_INTRO.c", 100; }
 4251                        	
 4252                        		.dbg	line,	"include\routines_INTRO.c", 102; else if(global_counter == 32)
 4253                        		__bra		.LL32
         1D:CD5E  4C 20 CE   			bra	.LL32
 4254    1D:CD61             	.LL27:
 4255                        		__ld.wm		_global_counter
         1D:CD61  AD 4F 26   			lda.l	_global_counter
         1D:CD64  AC 50 26   			ldy.h	_global_counter
 4256                        		__equ_w.wi	32
         1D:CD67  C9 20      			cmp.l	#32
         1D:CD69  D0 04      			bne	!false+
         1D:CD6B  C0 00      			cpy.h	#32
         1D:CD6D  F0 01      			beq	!+
         1D:CD6F  18         	!false:		clc
         1D:CD70             	!:
 4257                        		__bfalse	.LL33
         1D:CD70  90 30      			bcc	.LL33
 4258                        	
 4259                        		.dbg	line,	"include\routines_INTRO.c", 103; {
 4260                        	
 4261                        		.dbg	line,	"include\routines_INTRO.c", 104; for(i=0 ; i<8 ; i++)
 4262                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:CD72  9C 21 2C   			stz	__sequence_INTRO_end - 1
 4263    1D:CD75             	.LL34:
 4264                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CD75  AD 21 2C   			lda	__sequence_INTRO_end - 1
 4265                        		__ult_b.uiq	8
         1D:CD78  C9 08      			cmp	#8		; Subtract integer from A.
         1D:CD7A  6A         			ror	a		; CC if A < integer.
         1D:CD7B  49 80      			eor	#$80
         1D:CD7D  2A         			rol	a
 4266                        		__btrue		.LL36
         1D:CD7E  B0 08      			bcs	.LL36
 4267                        		__bra		.LL37
         1D:CD80  4C 20 CE   			bra	.LL37
 4268    1D:CD83             	.LL35:
 4269                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:CD83  EE 21 2C   			inc	__sequence_INTRO_end - 1
 4270                        		__bra		.LL34
         1D:CD86  80 ED      			bra	.LL34
 4271    1D:CD88             	.LL36:
 4272                        	
 4273                        		.dbg	line,	"include\routines_INTRO.c", 105; {
 4274                        	
 4275                        		.dbg	line,	"include\routines_INTRO.c", 106; sgx_spr_set(i);
 4276                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CD88  AD 21 2C   			lda	__sequence_INTRO_end - 1
 4277                        		__call		_sgx_spr_set.1
         1D:CD8B  20 9E E8   			call	_sgx_spr_set.1
 4278                        	
 4279                        		.dbg	line,	"include\routines_INTRO.c", 107; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16) + TILES_128);
 4280                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:CD8E  AD 21 2C   			lda	__sequence_INTRO_end - 1
         1D:CD91  C2         			cly
 4281                        		__asl.wi	8
         1D:CD92  A8         			tay
         1D:CD93  62         			cla
 4282                        		__add.wi	13312
         1D:CD94  18         			clc
         1D:CD95  69 00      			adc.l	#13312
         1D:CD97  42         			say
         1D:CD98  69 34      			adc.h	#13312
         1D:CD9A  42         			say
 4283                        		__call		_sgx_spr_pattern.1
         1D:CD9B  20 E7 E8   			call	_sgx_spr_pattern.1
 4284                        	
 4285                        		.dbg	line,	"include\routines_INTRO.c", 108; }
 4286                        		__bra		.LL35
         1D:CD9E  80 E3      			bra	.LL35
 4287    1D:CDA0             	.LL37	.alias		.LL38
 4288                        	
 4289                        		.dbg	line,	"include\routines_INTRO.c", 109; }
 4290                        	
 4291                        		.dbg	line,	"include\routines_INTRO.c", 111; else if(global_counter == 40)
 4292                        		__bra		.LL38
         1D:CDA0  80 7E      			bra	.LL38
 4293    1D:CDA2             	.LL33:
 4294                        		__ld.wm		_global_counter
         1D:CDA2  AD 4F 26   			lda.l	_global_counter
         1D:CDA5  AC 50 26   			ldy.h	_global_counter
 4295                        		__equ_w.wi	40
         1D:CDA8  C9 28      			cmp.l	#40
         1D:CDAA  D0 04      			bne	!false+
         1D:CDAC  C0 00      			cpy.h	#40
         1D:CDAE  F0 01      			beq	!+
         1D:CDB0  18         	!false:		clc
         1D:CDB1             	!:
 4296                        		__bfalse	.LL39
         1D:CDB1  90 2F      			bcc	.LL39
 4297                        	
 4298                        		.dbg	line,	"include\routines_INTRO.c", 112; {
 4299                        	
 4300                        		.dbg	line,	"include\routines_INTRO.c", 113; for(i=0 ; i<8 ; i++)
 4301                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:CDB3  9C 21 2C   			stz	__sequence_INTRO_end - 1
 4302    1D:CDB6             	.LL40:
 4303                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CDB6  AD 21 2C   			lda	__sequence_INTRO_end - 1
 4304                        		__ult_b.uiq	8
         1D:CDB9  C9 08      			cmp	#8		; Subtract integer from A.
         1D:CDBB  6A         			ror	a		; CC if A < integer.
         1D:CDBC  49 80      			eor	#$80
         1D:CDBE  2A         			rol	a
 4305                        		__btrue		.LL42
         1D:CDBF  B0 07      			bcs	.LL42
 4306                        		__bra		.LL43
         1D:CDC1  80 5D      			bra	.LL43
 4307    1D:CDC3             	.LL41:
 4308                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:CDC3  EE 21 2C   			inc	__sequence_INTRO_end - 1
 4309                        		__bra		.LL40
         1D:CDC6  80 EE      			bra	.LL40
 4310    1D:CDC8             	.LL42:
 4311                        	
 4312                        		.dbg	line,	"include\routines_INTRO.c", 114; {
 4313                        	
 4314                        		.dbg	line,	"include\routines_INTRO.c", 115; sgx_spr_set(i);
 4315                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CDC8  AD 21 2C   			lda	__sequence_INTRO_end - 1
 4316                        		__call		_sgx_spr_set.1
         1D:CDCB  20 9E E8   			call	_sgx_spr_set.1
 4317                        	
 4318                        		.dbg	line,	"include\routines_INTRO.c", 116; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16) + TILES_256);
 4319                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:CDCE  AD 21 2C   			lda	__sequence_INTRO_end - 1
         1D:CDD1  C2         			cly
 4320                        		__asl.wi	8
         1D:CDD2  A8         			tay
         1D:CDD3  62         			cla
 4321                        		__add.wi	15360
         1D:CDD4  18         			clc
         1D:CDD5  69 00      			adc.l	#15360
         1D:CDD7  42         			say
         1D:CDD8  69 3C      			adc.h	#15360
         1D:CDDA  42         			say
 4322                        		__call		_sgx_spr_pattern.1
         1D:CDDB  20 E7 E8   			call	_sgx_spr_pattern.1
 4323                        	
 4324                        		.dbg	line,	"include\routines_INTRO.c", 117; }
 4325                        		__bra		.LL41
         1D:CDDE  80 E3      			bra	.LL41
 4326    1D:CDE0             	.LL43	.alias		.LL44
 4327                        	
 4328                        		.dbg	line,	"include\routines_INTRO.c", 118; }
 4329                        	
 4330                        		.dbg	line,	"include\routines_INTRO.c", 120; else if(global_counter == 48)
 4331                        		__bra		.LL44
         1D:CDE0  80 3E      			bra	.LL44
 4332    1D:CDE2             	.LL39:
 4333                        		__ld.wm		_global_counter
         1D:CDE2  AD 4F 26   			lda.l	_global_counter
         1D:CDE5  AC 50 26   			ldy.h	_global_counter
 4334                        		__equ_w.wi	48
         1D:CDE8  C9 30      			cmp.l	#48
         1D:CDEA  D0 04      			bne	!false+
         1D:CDEC  C0 00      			cpy.h	#48
         1D:CDEE  F0 01      			beq	!+
         1D:CDF0  18         	!false:		clc
         1D:CDF1             	!:
 4335                        		__bfalse	.LL45
         1D:CDF1  90 2D      			bcc	.LL45
 4336                        	
 4337                        		.dbg	line,	"include\routines_INTRO.c", 121; {
 4338                        	
 4339                        		.dbg	line,	"include\routines_INTRO.c", 122; for(i=0 ; i<8 ; i++)
 4340                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:CDF3  9C 21 2C   			stz	__sequence_INTRO_end - 1
 4341    1D:CDF6             	.LL46:
 4342                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CDF6  AD 21 2C   			lda	__sequence_INTRO_end - 1
 4343                        		__ult_b.uiq	8
         1D:CDF9  C9 08      			cmp	#8		; Subtract integer from A.
         1D:CDFB  6A         			ror	a		; CC if A < integer.
         1D:CDFC  49 80      			eor	#$80
         1D:CDFE  2A         			rol	a
 4344                        		__btrue		.LL48
         1D:CDFF  B0 07      			bcs	.LL48
 4345                        		__bra		.LL49
         1D:CE01  80 1D      			bra	.LL49
 4346    1D:CE03             	.LL47:
 4347                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:CE03  EE 21 2C   			inc	__sequence_INTRO_end - 1
 4348                        		__bra		.LL46
         1D:CE06  80 EE      			bra	.LL46
 4349    1D:CE08             	.LL48:
 4350                        	
 4351                        		.dbg	line,	"include\routines_INTRO.c", 123; {
 4352                        	
 4353                        		.dbg	line,	"include\routines_INTRO.c", 124; sgx_spr_set(i);
 4354                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:CE08  AD 21 2C   			lda	__sequence_INTRO_end - 1
 4355                        		__call		_sgx_spr_set.1
         1D:CE0B  20 9E E8   			call	_sgx_spr_set.1
 4356                        	
 4357                        		.dbg	line,	"include\routines_INTRO.c", 125; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16) + TILES_384);
 4358                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:CE0E  AD 21 2C   			lda	__sequence_INTRO_end - 1
         1D:CE11  C2         			cly
 4359                        		__asl.wi	8
         1D:CE12  A8         			tay
         1D:CE13  62         			cla
 4360                        		__add.wi	17408
         1D:CE14  18         			clc
         1D:CE15  69 00      			adc.l	#17408
         1D:CE17  42         			say
         1D:CE18  69 44      			adc.h	#17408
         1D:CE1A  42         			say
 4361                        		__call		_sgx_spr_pattern.1
         1D:CE1B  20 E7 E8   			call	_sgx_spr_pattern.1
 4362                        	
 4363                        		.dbg	line,	"include\routines_INTRO.c", 126; }
 4364                        		__bra		.LL47
         1D:CE1E  80 E3      			bra	.LL47
 4365    1D:CE20             	.LL49:
 4366                        	
 4367                        		.dbg	line,	"include\routines_INTRO.c", 127; }
 4368                        	
 4369                        		.dbg	line,	"include\routines_INTRO.c", 128; }
 4370    1D:CE20             	.LL45:
 4371    1D:CE20             	.LL44:
 4372    1D:CE20             	.LL38:
 4373    1D:CE20             	.LL32:
 4374    1D:CE20             	.LL26:
 4375    1D:CE20             	.LL20:
 4376                        	
 4377                        		.dbg	line,	"include\routines_INTRO.c", 133; //--------------------------------------------------------------------------------------//
 4378                        	
 4379                        		.dbg	line,	"include\routines_INTRO.c", 134; //                                        BOLTS                                         //
 4380                        	
 4381                        		.dbg	line,	"include\routines_INTRO.c", 135; //--------------------------------------------------------------------------------------//
 4382                        	
 4383                        		.dbg	line,	"include\routines_INTRO.c", 137; if(global_counter == 71)
 4384    1D:CE20             	.LL10:
 4385                        		__ld.wm		_global_counter
         1D:CE20  AD 4F 26   			lda.l	_global_counter
         1D:CE23  AC 50 26   			ldy.h	_global_counter
 4386                        		__equ_w.wi	71
         1D:CE26  C9 47      			cmp.l	#71
         1D:CE28  D0 04      			bne	!false+
         1D:CE2A  C0 00      			cpy.h	#71
         1D:CE2C  F0 01      			beq	!+
         1D:CE2E  18         	!false:		clc
         1D:CE2F             	!:
 4387                        		__bfalse	.LL50
         1D:CE2F  90 4B      			bcc	.LL50
 4388                        	
 4389                        		.dbg	line,	"include\routines_INTRO.c", 138; {
 4390                        	
 4391                        		.dbg	line,	"include\routines_INTRO.c", 139; load_palette( 0, palette_INTRO_3, 1 );
 4392                        		__st.umiq	0, _al
         1D:CE31  64 F8      			stz	_al
 4393                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         1D:CE33  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:CE35  85 EC      			sta.l	_bp
         1D:CE37  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:CE39  85 ED      			sta.h	_bp
         1D:CE3B  A9 06      			lda	#bank(_palette_INTRO_3)
         1D:CE3D  85 02      			sta	_bp_bank
 4394                        		__st.umiq	1, _ah
         1D:CE3F  A9 01      			lda.l	#1
         1D:CE41  85 F9      			sta	_ah
 4395                        		__call		_load_palette.3
         1D:CE43  20 8B FF   			call	_load_palette.3
 4396                        	
 4397                        		.dbg	line,	"include\routines_INTRO.c", 141; vdc_map_pxl_x = 256;
 4398                        		__st.wmiq	256, _vdc_map_pxl_x
         1D:CE46  9C C8 26   			stz.l	_vdc_map_pxl_x
         1D:CE49  A9 01      			lda.h	#256
         1D:CE4B  8D C9 26   			sta.h	_vdc_map_pxl_x
 4399                        	
 4400                        		.dbg	line,	"include\routines_INTRO.c", 142; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4401                        		__st.umiq	0, _al
         1D:CE4E  64 F8      			stz	_al
 4402                        		__st.umiq	0, _ah
         1D:CE50  64 F9      			stz	_ah
 4403                        		__ld.wm		_vdc_map_pxl_x
         1D:CE52  AD C8 26   			lda.l	_vdc_map_pxl_x
         1D:CE55  AC C9 26   			ldy.h	_vdc_map_pxl_x
 4404                        		__and.wi	511
         1D:CE58  29 FF      			and.l	#511
         1D:CE5A  42         			say
         1D:CE5B  29 01      			and.h	#511
         1D:CE5D  42         			say
 4405                        		__st.wmq	_bx
         1D:CE5E  85 FA      			sta.l	_bx
         1D:CE60  84 FB      			sty.h	_bx
 4406                        		__ld.wm		_vdc_map_pxl_y
         1D:CE62  AD CA 26   			lda.l	_vdc_map_pxl_y
         1D:CE65  AC CB 26   			ldy.h	_vdc_map_pxl_y
 4407                        		__and.wi	511
         1D:CE68  29 FF      			and.l	#511
         1D:CE6A  42         			say
         1D:CE6B  29 01      			and.h	#511
         1D:CE6D  42         			say
 4408                        		__st.wmq	_cx
         1D:CE6E  85 FC      			sta.l	_cx
         1D:CE70  84 FD      			sty.h	_cx
 4409                        		__st.umiq	192, _dl
         1D:CE72  A9 C0      			lda.l	#192
         1D:CE74  85 FE      			sta	_dl
 4410                        		__call		_scroll_split.5
         1D:CE76  20 81 FF   			call	_scroll_split.5
 4411                        	
 4412                        		.dbg	line,	"include\routines_INTRO.c", 143; }
 4413                        	
 4414                        		.dbg	line,	"include\routines_INTRO.c", 145; else if(global_counter == 76)
 4415                        		__bra		.LL51
         1D:CE79  4C 64 DA   			bra	.LL51
 4416    1D:CE7C             	.LL50:
 4417                        		__ld.wm		_global_counter
         1D:CE7C  AD 4F 26   			lda.l	_global_counter
         1D:CE7F  AC 50 26   			ldy.h	_global_counter
 4418                        		__equ_w.wi	76
         1D:CE82  C9 4C      			cmp.l	#76
         1D:CE84  D0 04      			bne	!false+
         1D:CE86  C0 00      			cpy.h	#76
         1D:CE88  F0 01      			beq	!+
         1D:CE8A  18         	!false:		clc
         1D:CE8B             	!:
 4419                        		__bfalse	.LL52
         1D:CE8B  90 49      			bcc	.LL52
 4420                        	
 4421                        		.dbg	line,	"include\routines_INTRO.c", 146; {
 4422                        	
 4423                        		.dbg	line,	"include\routines_INTRO.c", 147; vdc_map_pxl_x = 0;
 4424                        		__st.wmiq	0, _vdc_map_pxl_x
         1D:CE8D  9C C8 26   			stz.l	_vdc_map_pxl_x
         1D:CE90  9C C9 26   			stz.h	_vdc_map_pxl_x
 4425                        	
 4426                        		.dbg	line,	"include\routines_INTRO.c", 148; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4427                        		__st.umiq	0, _al
         1D:CE93  64 F8      			stz	_al
 4428                        		__st.umiq	0, _ah
         1D:CE95  64 F9      			stz	_ah
 4429                        		__ld.wm		_vdc_map_pxl_x
         1D:CE97  AD C8 26   			lda.l	_vdc_map_pxl_x
         1D:CE9A  AC C9 26   			ldy.h	_vdc_map_pxl_x
 4430                        		__and.wi	511
         1D:CE9D  29 FF      			and.l	#511
         1D:CE9F  42         			say
         1D:CEA0  29 01      			and.h	#511
         1D:CEA2  42         			say
 4431                        		__st.wmq	_bx
         1D:CEA3  85 FA      			sta.l	_bx
         1D:CEA5  84 FB      			sty.h	_bx
 4432                        		__ld.wm		_vdc_map_pxl_y
         1D:CEA7  AD CA 26   			lda.l	_vdc_map_pxl_y
         1D:CEAA  AC CB 26   			ldy.h	_vdc_map_pxl_y
 4433                        		__and.wi	511
         1D:CEAD  29 FF      			and.l	#511
         1D:CEAF  42         			say
         1D:CEB0  29 01      			and.h	#511
         1D:CEB2  42         			say
 4434                        		__st.wmq	_cx
         1D:CEB3  85 FC      			sta.l	_cx
         1D:CEB5  84 FD      			sty.h	_cx
 4435                        		__st.umiq	192, _dl
         1D:CEB7  A9 C0      			lda.l	#192
         1D:CEB9  85 FE      			sta	_dl
 4436                        		__call		_scroll_split.5
         1D:CEBB  20 81 FF   			call	_scroll_split.5
 4437                        	
 4438                        		.dbg	line,	"include\routines_INTRO.c", 150; load_palette( 0, palette_INTRO_2, 1 );
 4439                        		__st.umiq	0, _al
         1D:CEBE  64 F8      			stz	_al
 4440                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         1D:CEC0  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:CEC2  85 EC      			sta.l	_bp
         1D:CEC4  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:CEC6  85 ED      			sta.h	_bp
         1D:CEC8  A9 06      			lda	#bank(_palette_INTRO_2)
         1D:CECA  85 02      			sta	_bp_bank
 4441                        		__st.umiq	1, _ah
         1D:CECC  A9 01      			lda.l	#1
         1D:CECE  85 F9      			sta	_ah
 4442                        		__call		_load_palette.3
         1D:CED0  20 8B FF   			call	_load_palette.3
 4443                        	
 4444                        		.dbg	line,	"include\routines_INTRO.c", 151; }
 4445                        	
 4446                        		.dbg	line,	"include\routines_INTRO.c", 153; else if(global_counter == 136)
 4447                        		__bra		.LL53
         1D:CED3  4C 64 DA   			bra	.LL53
 4448    1D:CED6             	.LL52:
 4449                        		__ld.wm		_global_counter
         1D:CED6  AD 4F 26   			lda.l	_global_counter
         1D:CED9  AC 50 26   			ldy.h	_global_counter
 4450                        		__equ_w.wi	136
         1D:CEDC  C9 88      			cmp.l	#136
         1D:CEDE  D0 04      			bne	!false+
         1D:CEE0  C0 00      			cpy.h	#136
         1D:CEE2  F0 01      			beq	!+
         1D:CEE4  18         	!false:		clc
         1D:CEE5             	!:
 4451                        		__bfalse	.LL54
         1D:CEE5  90 4B      			bcc	.LL54
 4452                        	
 4453                        		.dbg	line,	"include\routines_INTRO.c", 154; {
 4454                        	
 4455                        		.dbg	line,	"include\routines_INTRO.c", 155; load_palette( 0, palette_INTRO_3, 1 );
 4456                        		__st.umiq	0, _al
         1D:CEE7  64 F8      			stz	_al
 4457                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         1D:CEE9  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:CEEB  85 EC      			sta.l	_bp
         1D:CEED  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:CEEF  85 ED      			sta.h	_bp
         1D:CEF1  A9 06      			lda	#bank(_palette_INTRO_3)
         1D:CEF3  85 02      			sta	_bp_bank
 4458                        		__st.umiq	1, _ah
         1D:CEF5  A9 01      			lda.l	#1
         1D:CEF7  85 F9      			sta	_ah
 4459                        		__call		_load_palette.3
         1D:CEF9  20 8B FF   			call	_load_palette.3
 4460                        	
 4461                        		.dbg	line,	"include\routines_INTRO.c", 157; vdc_map_pxl_x = 256;
 4462                        		__st.wmiq	256, _vdc_map_pxl_x
         1D:CEFC  9C C8 26   			stz.l	_vdc_map_pxl_x
         1D:CEFF  A9 01      			lda.h	#256
         1D:CF01  8D C9 26   			sta.h	_vdc_map_pxl_x
 4463                        	
 4464                        		.dbg	line,	"include\routines_INTRO.c", 158; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4465                        		__st.umiq	0, _al
         1D:CF04  64 F8      			stz	_al
 4466                        		__st.umiq	0, _ah
         1D:CF06  64 F9      			stz	_ah
 4467                        		__ld.wm		_vdc_map_pxl_x
         1D:CF08  AD C8 26   			lda.l	_vdc_map_pxl_x
         1D:CF0B  AC C9 26   			ldy.h	_vdc_map_pxl_x
 4468                        		__and.wi	511
         1D:CF0E  29 FF      			and.l	#511
         1D:CF10  42         			say
         1D:CF11  29 01      			and.h	#511
         1D:CF13  42         			say
 4469                        		__st.wmq	_bx
         1D:CF14  85 FA      			sta.l	_bx
         1D:CF16  84 FB      			sty.h	_bx
 4470                        		__ld.wm		_vdc_map_pxl_y
         1D:CF18  AD CA 26   			lda.l	_vdc_map_pxl_y
         1D:CF1B  AC CB 26   			ldy.h	_vdc_map_pxl_y
 4471                        		__and.wi	511
         1D:CF1E  29 FF      			and.l	#511
         1D:CF20  42         			say
         1D:CF21  29 01      			and.h	#511
         1D:CF23  42         			say
 4472                        		__st.wmq	_cx
         1D:CF24  85 FC      			sta.l	_cx
         1D:CF26  84 FD      			sty.h	_cx
 4473                        		__st.umiq	192, _dl
         1D:CF28  A9 C0      			lda.l	#192
         1D:CF2A  85 FE      			sta	_dl
 4474                        		__call		_scroll_split.5
         1D:CF2C  20 81 FF   			call	_scroll_split.5
 4475                        	
 4476                        		.dbg	line,	"include\routines_INTRO.c", 159; }
 4477                        	
 4478                        		.dbg	line,	"include\routines_INTRO.c", 161; else if(global_counter == 140)
 4479                        		__bra		.LL55
         1D:CF2F  4C 64 DA   			bra	.LL55
 4480    1D:CF32             	.LL54:
 4481                        		__ld.wm		_global_counter
         1D:CF32  AD 4F 26   			lda.l	_global_counter
         1D:CF35  AC 50 26   			ldy.h	_global_counter
 4482                        		__equ_w.wi	140
         1D:CF38  C9 8C      			cmp.l	#140
         1D:CF3A  D0 04      			bne	!false+
         1D:CF3C  C0 00      			cpy.h	#140
         1D:CF3E  F0 01      			beq	!+
         1D:CF40  18         	!false:		clc
         1D:CF41             	!:
 4483                        		__bfalse	.LL56
         1D:CF41  90 34      			bcc	.LL56
 4484                        	
 4485                        		.dbg	line,	"include\routines_INTRO.c", 162; {
 4486                        	
 4487                        		.dbg	line,	"include\routines_INTRO.c", 163; vdc_map_pxl_x = 0;
 4488                        		__st.wmiq	0, _vdc_map_pxl_x
         1D:CF43  9C C8 26   			stz.l	_vdc_map_pxl_x
         1D:CF46  9C C9 26   			stz.h	_vdc_map_pxl_x
 4489                        	
 4490                        		.dbg	line,	"include\routines_INTRO.c", 164; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4491                        		__st.umiq	0, _al
         1D:CF49  64 F8      			stz	_al
 4492                        		__st.umiq	0, _ah
         1D:CF4B  64 F9      			stz	_ah
 4493                        		__ld.wm		_vdc_map_pxl_x
         1D:CF4D  AD C8 26   			lda.l	_vdc_map_pxl_x
         1D:CF50  AC C9 26   			ldy.h	_vdc_map_pxl_x
 4494                        		__and.wi	511
         1D:CF53  29 FF      			and.l	#511
         1D:CF55  42         			say
         1D:CF56  29 01      			and.h	#511
         1D:CF58  42         			say
 4495                        		__st.wmq	_bx
         1D:CF59  85 FA      			sta.l	_bx
         1D:CF5B  84 FB      			sty.h	_bx
 4496                        		__ld.wm		_vdc_map_pxl_y
         1D:CF5D  AD CA 26   			lda.l	_vdc_map_pxl_y
         1D:CF60  AC CB 26   			ldy.h	_vdc_map_pxl_y
 4497                        		__and.wi	511
         1D:CF63  29 FF      			and.l	#511
         1D:CF65  42         			say
         1D:CF66  29 01      			and.h	#511
         1D:CF68  42         			say
 4498                        		__st.wmq	_cx
         1D:CF69  85 FC      			sta.l	_cx
         1D:CF6B  84 FD      			sty.h	_cx
 4499                        		__st.umiq	192, _dl
         1D:CF6D  A9 C0      			lda.l	#192
         1D:CF6F  85 FE      			sta	_dl
 4500                        		__call		_scroll_split.5
         1D:CF71  20 81 FF   			call	_scroll_split.5
 4501                        	
 4502                        		.dbg	line,	"include\routines_INTRO.c", 165; }
 4503                        	
 4504                        		.dbg	line,	"include\routines_INTRO.c", 167; else if(global_counter == 141)
 4505                        		__bra		.LL57
         1D:CF74  4C 64 DA   			bra	.LL57
 4506    1D:CF77             	.LL56:
 4507                        		__ld.wm		_global_counter
         1D:CF77  AD 4F 26   			lda.l	_global_counter
         1D:CF7A  AC 50 26   			ldy.h	_global_counter
 4508                        		__equ_w.wi	141
         1D:CF7D  C9 8D      			cmp.l	#141
         1D:CF7F  D0 04      			bne	!false+
         1D:CF81  C0 00      			cpy.h	#141
         1D:CF83  F0 01      			beq	!+
         1D:CF85  18         	!false:		clc
         1D:CF86             	!:
 4509                        		__bfalse	.LL58
         1D:CF86  90 18      			bcc	.LL58
 4510                        	
 4511                        		.dbg	line,	"include\routines_INTRO.c", 168; {
 4512                        	
 4513                        		.dbg	line,	"include\routines_INTRO.c", 169; load_palette( 0, palette_INTRO_2, 1 );
 4514                        		__st.umiq	0, _al
         1D:CF88  64 F8      			stz	_al
 4515                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         1D:CF8A  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:CF8C  85 EC      			sta.l	_bp
         1D:CF8E  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:CF90  85 ED      			sta.h	_bp
         1D:CF92  A9 06      			lda	#bank(_palette_INTRO_2)
         1D:CF94  85 02      			sta	_bp_bank
 4516                        		__st.umiq	1, _ah
         1D:CF96  A9 01      			lda.l	#1
         1D:CF98  85 F9      			sta	_ah
 4517                        		__call		_load_palette.3
         1D:CF9A  20 8B FF   			call	_load_palette.3
 4518                        	
 4519                        		.dbg	line,	"include\routines_INTRO.c", 170; }
 4520                        	
 4521                        		.dbg	line,	"include\routines_INTRO.c", 172; else if(global_counter == 145)
 4522                        		__bra		.LL59
         1D:CF9D  4C 64 DA   			bra	.LL59
 4523    1D:CFA0             	.LL58:
 4524                        		__ld.wm		_global_counter
         1D:CFA0  AD 4F 26   			lda.l	_global_counter
         1D:CFA3  AC 50 26   			ldy.h	_global_counter
 4525                        		__equ_w.wi	145
         1D:CFA6  C9 91      			cmp.l	#145
         1D:CFA8  D0 04      			bne	!false+
         1D:CFAA  C0 00      			cpy.h	#145
         1D:CFAC  F0 01      			beq	!+
         1D:CFAE  18         	!false:		clc
         1D:CFAF             	!:
 4526                        		__bfalse	.LL60
         1D:CFAF  90 4B      			bcc	.LL60
 4527                        	
 4528                        		.dbg	line,	"include\routines_INTRO.c", 173; {
 4529                        	
 4530                        		.dbg	line,	"include\routines_INTRO.c", 174; vdc_map_pxl_y = 256;
 4531                        		__st.wmiq	256, _vdc_map_pxl_y
         1D:CFB1  9C CA 26   			stz.l	_vdc_map_pxl_y
         1D:CFB4  A9 01      			lda.h	#256
         1D:CFB6  8D CB 26   			sta.h	_vdc_map_pxl_y
 4532                        	
 4533                        		.dbg	line,	"include\routines_INTRO.c", 175; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4534                        		__st.umiq	0, _al
         1D:CFB9  64 F8      			stz	_al
 4535                        		__st.umiq	0, _ah
         1D:CFBB  64 F9      			stz	_ah
 4536                        		__ld.wm		_vdc_map_pxl_x
         1D:CFBD  AD C8 26   			lda.l	_vdc_map_pxl_x
         1D:CFC0  AC C9 26   			ldy.h	_vdc_map_pxl_x
 4537                        		__and.wi	511
         1D:CFC3  29 FF      			and.l	#511
         1D:CFC5  42         			say
         1D:CFC6  29 01      			and.h	#511
         1D:CFC8  42         			say
 4538                        		__st.wmq	_bx
         1D:CFC9  85 FA      			sta.l	_bx
         1D:CFCB  84 FB      			sty.h	_bx
 4539                        		__ld.wm		_vdc_map_pxl_y
         1D:CFCD  AD CA 26   			lda.l	_vdc_map_pxl_y
         1D:CFD0  AC CB 26   			ldy.h	_vdc_map_pxl_y
 4540                        		__and.wi	511
         1D:CFD3  29 FF      			and.l	#511
         1D:CFD5  42         			say
         1D:CFD6  29 01      			and.h	#511
         1D:CFD8  42         			say
 4541                        		__st.wmq	_cx
         1D:CFD9  85 FC      			sta.l	_cx
         1D:CFDB  84 FD      			sty.h	_cx
 4542                        		__st.umiq	192, _dl
         1D:CFDD  A9 C0      			lda.l	#192
         1D:CFDF  85 FE      			sta	_dl
 4543                        		__call		_scroll_split.5
         1D:CFE1  20 81 FF   			call	_scroll_split.5
 4544                        	
 4545                        		.dbg	line,	"include\routines_INTRO.c", 177; load_palette( 0, palette_INTRO_3, 1 );
 4546                        		__st.umiq	0, _al
         1D:CFE4  64 F8      			stz	_al
 4547                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         1D:CFE6  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:CFE8  85 EC      			sta.l	_bp
         1D:CFEA  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:CFEC  85 ED      			sta.h	_bp
         1D:CFEE  A9 06      			lda	#bank(_palette_INTRO_3)
         1D:CFF0  85 02      			sta	_bp_bank
 4548                        		__st.umiq	1, _ah
         1D:CFF2  A9 01      			lda.l	#1
         1D:CFF4  85 F9      			sta	_ah
 4549                        		__call		_load_palette.3
         1D:CFF6  20 8B FF   			call	_load_palette.3
 4550                        	
 4551                        		.dbg	line,	"include\routines_INTRO.c", 178; }
 4552                        	
 4553                        		.dbg	line,	"include\routines_INTRO.c", 180; else if(global_counter == 149)
 4554                        		__bra		.LL61
         1D:CFF9  4C 64 DA   			bra	.LL61
 4555    1D:CFFC             	.LL60:
 4556                        		__ld.wm		_global_counter
         1D:CFFC  AD 4F 26   			lda.l	_global_counter
         1D:CFFF  AC 50 26   			ldy.h	_global_counter
 4557                        		__equ_w.wi	149
         1D:D002  C9 95      			cmp.l	#149
         1D:D004  D0 04      			bne	!false+
         1D:D006  C0 00      			cpy.h	#149
         1D:D008  F0 01      			beq	!+
         1D:D00A  18         	!false:		clc
         1D:D00B             	!:
 4558                        		__bfalse	.LL62
         1D:D00B  90 34      			bcc	.LL62
 4559                        	
 4560                        		.dbg	line,	"include\routines_INTRO.c", 181; {
 4561                        	
 4562                        		.dbg	line,	"include\routines_INTRO.c", 182; vdc_map_pxl_y = 0;
 4563                        		__st.wmiq	0, _vdc_map_pxl_y
         1D:D00D  9C CA 26   			stz.l	_vdc_map_pxl_y
         1D:D010  9C CB 26   			stz.h	_vdc_map_pxl_y
 4564                        	
 4565                        		.dbg	line,	"include\routines_INTRO.c", 183; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4566                        		__st.umiq	0, _al
         1D:D013  64 F8      			stz	_al
 4567                        		__st.umiq	0, _ah
         1D:D015  64 F9      			stz	_ah
 4568                        		__ld.wm		_vdc_map_pxl_x
         1D:D017  AD C8 26   			lda.l	_vdc_map_pxl_x
         1D:D01A  AC C9 26   			ldy.h	_vdc_map_pxl_x
 4569                        		__and.wi	511
         1D:D01D  29 FF      			and.l	#511
         1D:D01F  42         			say
         1D:D020  29 01      			and.h	#511
         1D:D022  42         			say
 4570                        		__st.wmq	_bx
         1D:D023  85 FA      			sta.l	_bx
         1D:D025  84 FB      			sty.h	_bx
 4571                        		__ld.wm		_vdc_map_pxl_y
         1D:D027  AD CA 26   			lda.l	_vdc_map_pxl_y
         1D:D02A  AC CB 26   			ldy.h	_vdc_map_pxl_y
 4572                        		__and.wi	511
         1D:D02D  29 FF      			and.l	#511
         1D:D02F  42         			say
         1D:D030  29 01      			and.h	#511
         1D:D032  42         			say
 4573                        		__st.wmq	_cx
         1D:D033  85 FC      			sta.l	_cx
         1D:D035  84 FD      			sty.h	_cx
 4574                        		__st.umiq	192, _dl
         1D:D037  A9 C0      			lda.l	#192
         1D:D039  85 FE      			sta	_dl
 4575                        		__call		_scroll_split.5
         1D:D03B  20 81 FF   			call	_scroll_split.5
 4576                        	
 4577                        		.dbg	line,	"include\routines_INTRO.c", 184; }
 4578                        	
 4579                        		.dbg	line,	"include\routines_INTRO.c", 186; else if(global_counter == 150)
 4580                        		__bra		.LL63
         1D:D03E  4C 64 DA   			bra	.LL63
 4581    1D:D041             	.LL62:
 4582                        		__ld.wm		_global_counter
         1D:D041  AD 4F 26   			lda.l	_global_counter
         1D:D044  AC 50 26   			ldy.h	_global_counter
 4583                        		__equ_w.wi	150
         1D:D047  C9 96      			cmp.l	#150
         1D:D049  D0 04      			bne	!false+
         1D:D04B  C0 00      			cpy.h	#150
         1D:D04D  F0 01      			beq	!+
         1D:D04F  18         	!false:		clc
         1D:D050             	!:
 4584                        		__bfalse	.LL64
         1D:D050  90 38      			bcc	.LL64
 4585                        	
 4586                        		.dbg	line,	"include\routines_INTRO.c", 187; {
 4587                        	
 4588                        		.dbg	line,	"include\routines_INTRO.c", 188; for(i=0 ; i<8 ; i++)
 4589                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D052  9C 21 2C   			stz	__sequence_INTRO_end - 1
 4590    1D:D055             	.LL65:
 4591                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D055  AD 21 2C   			lda	__sequence_INTRO_end - 1
 4592                        		__ult_b.uiq	8
         1D:D058  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D05A  6A         			ror	a		; CC if A < integer.
         1D:D05B  49 80      			eor	#$80
         1D:D05D  2A         			rol	a
 4593                        		__btrue		.LL67
         1D:D05E  B0 07      			bcs	.LL67
 4594                        		__bra		.LL68
         1D:D060  80 10      			bra	.LL68
 4595    1D:D062             	.LL66:
 4596                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D062  EE 21 2C   			inc	__sequence_INTRO_end - 1
 4597                        		__bra		.LL65
         1D:D065  80 EE      			bra	.LL65
 4598    1D:D067             	.LL67:
 4599                        	
 4600                        		.dbg	line,	"include\routines_INTRO.c", 189; {
 4601                        	
 4602                        		.dbg	line,	"include\routines_INTRO.c", 190; sgx_spr_set(i);
 4603                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D067  AD 21 2C   			lda	__sequence_INTRO_end - 1
 4604                        		__call		_sgx_spr_set.1
         1D:D06A  20 9E E8   			call	_sgx_spr_set.1
 4605                        	
 4606                        		.dbg	line,	"include\routines_INTRO.c", 191; sgx_spr_hide();
 4607                        		__call		_sgx_spr_hide
         1D:D06D  20 B9 E8   			call	_sgx_spr_hide
 4608                        	
 4609                        		.dbg	line,	"include\routines_INTRO.c", 192; }
 4610                        		__bra		.LL66
         1D:D070  80 F0      			bra	.LL66
 4611    1D:D072             	.LL68:
 4612                        	
 4613                        		.dbg	line,	"include\routines_INTRO.c", 193; 
 4614                        	
 4615                        		.dbg	line,	"include\routines_INTRO.c", 194; load_palette( 0, palette_INTRO_2, 1 );
 4616                        		__st.umiq	0, _al
         1D:D072  64 F8      			stz	_al
 4617                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         1D:D074  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:D076  85 EC      			sta.l	_bp
         1D:D078  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:D07A  85 ED      			sta.h	_bp
         1D:D07C  A9 06      			lda	#bank(_palette_INTRO_2)
         1D:D07E  85 02      			sta	_bp_bank
 4618                        		__st.umiq	1, _ah
         1D:D080  A9 01      			lda.l	#1
         1D:D082  85 F9      			sta	_ah
 4619                        		__call		_load_palette.3
         1D:D084  20 8B FF   			call	_load_palette.3
 4620                        	
 4621                        		.dbg	line,	"include\routines_INTRO.c", 195; }
 4622                        	
 4623                        		.dbg	line,	"include\routines_INTRO.c", 197; else if(global_counter == 152)
 4624                        		__bra		.LL69
         1D:D087  4C 64 DA   			bra	.LL69
 4625    1D:D08A             	.LL64:
 4626                        		__ld.wm		_global_counter
         1D:D08A  AD 4F 26   			lda.l	_global_counter
         1D:D08D  AC 50 26   			ldy.h	_global_counter
 4627                        		__equ_w.wi	152
         1D:D090  C9 98      			cmp.l	#152
         1D:D092  D0 04      			bne	!false+
         1D:D094  C0 00      			cpy.h	#152
         1D:D096  F0 01      			beq	!+
         1D:D098  18         	!false:		clc
         1D:D099             	!:
 4628                        		__bfalse	.LL70
         1D:D099  90 76      			bcc	.LL70
 4629                        	
 4630                        		.dbg	line,	"include\routines_INTRO.c", 198; {
 4631                        	
 4632                        		.dbg	line,	"include\routines_INTRO.c", 199; for(i=0 ; i<8 ; i++)
 4633                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D09B  9C 21 2C   			stz	__sequence_INTRO_end - 1
 4634    1D:D09E             	.LL71:
 4635                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D09E  AD 21 2C   			lda	__sequence_INTRO_end - 1
 4636                        		__ult_b.uiq	8
         1D:D0A1  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D0A3  6A         			ror	a		; CC if A < integer.
         1D:D0A4  49 80      			eor	#$80
         1D:D0A6  2A         			rol	a
 4637                        		__btrue		.LL73
         1D:D0A7  B0 08      			bcs	.LL73
 4638                        		__bra		.LL74
         1D:D0A9  4C 64 DA   			bra	.LL74
 4639    1D:D0AC             	.LL72:
 4640                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D0AC  EE 21 2C   			inc	__sequence_INTRO_end - 1
 4641                        		__bra		.LL71
         1D:D0AF  80 ED      			bra	.LL71
 4642    1D:D0B1             	.LL73:
 4643                        	
 4644                        		.dbg	line,	"include\routines_INTRO.c", 200; {
 4645                        	
 4646                        		.dbg	line,	"include\routines_INTRO.c", 201; sgx_spr_set(i);
 4647                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D0B1  AD 21 2C   			lda	__sequence_INTRO_end - 1
 4648                        		__call		_sgx_spr_set.1
         1D:D0B4  20 9E E8   			call	_sgx_spr_set.1
 4649                        	
 4650                        		.dbg	line,	"include\routines_INTRO.c", 202; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 4651                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D0B7  AD 21 2C   			lda	__sequence_INTRO_end - 1
         1D:D0BA  C2         			cly
 4652                        		__asl.wi	5
         1D:D0BB  85 00      			sta	__temp
         1D:D0BD  98         			tya
         1D:D0BE  4A         			lsr	a
         1D:D0BF  20 C8 E1   			jsr	aslw5
         1D:D0C2  29 E0      			and.l	#$FF << 5
 4653                        		__add.wm	_player_pos_x
         1D:D0C4  18         			clc
         1D:D0C5  6D F5 24   			adc.l	_player_pos_x
         1D:D0C8  42         			say
         1D:D0C9  6D F6 24   			adc.h	_player_pos_x
         1D:D0CC  42         			say
 4654                        		__push.wr
         1D:D0CD  5A         			phy
         1D:D0CE  48         			pha
 4655                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D0CF  AD 21 2C   			lda	__sequence_INTRO_end - 1
         1D:D0D2  C2         			cly
 4656                        		__lsr.uiq	2
         1D:D0D3  4A         			lsr	a
         1D:D0D4  4A         			lsr	a
 4657                        		__asl.wi	7
         1D:D0D5  42         			say
         1D:D0D6  4A         			lsr	a
         1D:D0D7  42         			say
         1D:D0D8  6A         			ror	a
         1D:D0D9  42         			say
         1D:D0DA  6A         			ror	a
         1D:D0DB  29 80      			and	#$80
 4658                        		__sub.wt
         1D:D0DD  BA         			tsx
         1D:D0DE  38         			sec
         1D:D0DF  49 FF      			eor	#$FF
         1D:D0E1  7D 01 21   			adc.l	__tos, x
         1D:D0E4  42         			say
         1D:D0E5  49 FF      			eor	#$FF
         1D:D0E7  7D 02 21   			adc.h	__tos, x
         1D:D0EA  42         			say
         1D:D0EB  E8         			inx
         1D:D0EC  E8         			inx
         1D:D0ED  9A         			txs
 4659                        		__call		_sgx_spr_x.1
         1D:D0EE  20 CB E8   			call	_sgx_spr_x.1
 4660                        	
 4661                        		.dbg	line,	"include\routines_INTRO.c", 203; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 4662                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D0F1  AD 21 2C   			lda	__sequence_INTRO_end - 1
         1D:D0F4  C2         			cly
 4663                        		__lsr.uiq	2
         1D:D0F5  4A         			lsr	a
         1D:D0F6  4A         			lsr	a
 4664                        		__asl.wi	5
         1D:D0F7  85 00      			sta	__temp
         1D:D0F9  98         			tya
         1D:D0FA  4A         			lsr	a
         1D:D0FB  20 C8 E1   			jsr	aslw5
         1D:D0FE  29 E0      			and.l	#$FF << 5
 4665                        		__add.wm	_player_pos_y
         1D:D100  18         			clc
         1D:D101  6D F7 24   			adc.l	_player_pos_y
         1D:D104  42         			say
         1D:D105  6D F8 24   			adc.h	_player_pos_y
         1D:D108  42         			say
 4666                        		__call		_sgx_spr_y.1
         1D:D109  20 DA E8   			call	_sgx_spr_y.1
 4667                        	
 4668                        		.dbg	line,	"include\routines_INTRO.c", 204; }
 4669                        		__bra		.LL72
         1D:D10C  80 9E      			bra	.LL72
 4670    1D:D10E             	.LL74	.alias		.LL75
 4671                        	
 4672                        		.dbg	line,	"include\routines_INTRO.c", 205; }
 4673                        	
 4674                        		.dbg	line,	"include\routines_INTRO.c", 207; else if(global_counter == 154)
 4675                        		__bra		.LL75
         1D:D10E  4C 64 DA   			bra	.LL75
 4676    1D:D111             	.LL70:
 4677                        		__ld.wm		_global_counter
         1D:D111  AD 4F 26   			lda.l	_global_counter
         1D:D114  AC 50 26   			ldy.h	_global_counter
 4678                        		__equ_w.wi	154
         1D:D117  C9 9A      			cmp.l	#154
         1D:D119  D0 04      			bne	!false+
         1D:D11B  C0 00      			cpy.h	#154
         1D:D11D  F0 01      			beq	!+
         1D:D11F  18         	!false:		clc
         1D:D120             	!:
 4679                        		__bfalse	.LL76
         1D:D120  90 73      			bcc	.LL76
 4680                        	
 4681                        		.dbg	line,	"include\routines_INTRO.c", 208; {
 4682                        	
 4683                        		.dbg	line,	"include\routines_INTRO.c", 209; for(i=0 ; i<8 ; i++)
 4684                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D122  9C 21 2C   			stz	__sequence_INTRO_end - 1
 4685    1D:D125             	.LL77:
 4686                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D125  AD 21 2C   			lda	__sequence_INTRO_end - 1
 4687                        		__ult_b.uiq	8
         1D:D128  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D12A  6A         			ror	a		; CC if A < integer.
         1D:D12B  49 80      			eor	#$80
         1D:D12D  2A         			rol	a
 4688                        		__btrue		.LL79
         1D:D12E  B0 07      			bcs	.LL79
 4689                        		__bra		.LL80
         1D:D130  80 10      			bra	.LL80
 4690    1D:D132             	.LL78:
 4691                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D132  EE 21 2C   			inc	__sequence_INTRO_end - 1
 4692                        		__bra		.LL77
         1D:D135  80 EE      			bra	.LL77
 4693    1D:D137             	.LL79:
 4694                        	
 4695                        		.dbg	line,	"include\routines_INTRO.c", 210; {
 4696                        	
 4697                        		.dbg	line,	"include\routines_INTRO.c", 211; sgx_spr_set(i);
 4698                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D137  AD 21 2C   			lda	__sequence_INTRO_end - 1
 4699                        		__call		_sgx_spr_set.1
         1D:D13A  20 9E E8   			call	_sgx_spr_set.1
 4700                        	
 4701                        		.dbg	line,	"include\routines_INTRO.c", 212; sgx_spr_hide();
 4702                        		__call		_sgx_spr_hide
         1D:D13D  20 B9 E8   			call	_sgx_spr_hide
 4703                        	
 4704                        		.dbg	line,	"include\routines_INTRO.c", 213; }
 4705                        		__bra		.LL78
         1D:D140  80 F0      			bra	.LL78
 4706    1D:D142             	.LL80:
 4707                        	
 4708                        		.dbg	line,	"include\routines_INTRO.c", 215; vdc_map_pxl_x = 256;
 4709                        		__st.wmiq	256, _vdc_map_pxl_x
         1D:D142  9C C8 26   			stz.l	_vdc_map_pxl_x
         1D:D145  A9 01      			lda.h	#256
         1D:D147  8D C9 26   			sta.h	_vdc_map_pxl_x
 4710                        	
 4711                        		.dbg	line,	"include\routines_INTRO.c", 216; vdc_map_pxl_y = 256;
 4712                        		__st.wmiq	256, _vdc_map_pxl_y
         1D:D14A  9C CA 26   			stz.l	_vdc_map_pxl_y
         1D:D14D  A9 01      			lda.h	#256
         1D:D14F  8D CB 26   			sta.h	_vdc_map_pxl_y
 4713                        	
 4714                        		.dbg	line,	"include\routines_INTRO.c", 217; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4715                        		__st.umiq	0, _al
         1D:D152  64 F8      			stz	_al
 4716                        		__st.umiq	0, _ah
         1D:D154  64 F9      			stz	_ah
 4717                        		__ld.wm		_vdc_map_pxl_x
         1D:D156  AD C8 26   			lda.l	_vdc_map_pxl_x
         1D:D159  AC C9 26   			ldy.h	_vdc_map_pxl_x
 4718                        		__and.wi	511
         1D:D15C  29 FF      			and.l	#511
         1D:D15E  42         			say
         1D:D15F  29 01      			and.h	#511
         1D:D161  42         			say
 4719                        		__st.wmq	_bx
         1D:D162  85 FA      			sta.l	_bx
         1D:D164  84 FB      			sty.h	_bx
 4720                        		__ld.wm		_vdc_map_pxl_y
         1D:D166  AD CA 26   			lda.l	_vdc_map_pxl_y
         1D:D169  AC CB 26   			ldy.h	_vdc_map_pxl_y
 4721                        		__and.wi	511
         1D:D16C  29 FF      			and.l	#511
         1D:D16E  42         			say
         1D:D16F  29 01      			and.h	#511
         1D:D171  42         			say
 4722                        		__st.wmq	_cx
         1D:D172  85 FC      			sta.l	_cx
         1D:D174  84 FD      			sty.h	_cx
 4723                        		__st.umiq	192, _dl
         1D:D176  A9 C0      			lda.l	#192
         1D:D178  85 FE      			sta	_dl
 4724                        		__call		_scroll_split.5
         1D:D17A  20 81 FF   			call	_scroll_split.5
 4725                        	
 4726                        		.dbg	line,	"include\routines_INTRO.c", 219; load_palette( 0, palette_INTRO_3, 1 );
 4727                        		__st.umiq	0, _al
         1D:D17D  64 F8      			stz	_al
 4728                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         1D:D17F  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:D181  85 EC      			sta.l	_bp
         1D:D183  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:D185  85 ED      			sta.h	_bp
         1D:D187  A9 06      			lda	#bank(_palette_INTRO_3)
         1D:D189  85 02      			sta	_bp_bank
 4729                        		__st.umiq	1, _ah
         1D:D18B  A9 01      			lda.l	#1
         1D:D18D  85 F9      			sta	_ah
 4730                        		__call		_load_palette.3
         1D:D18F  20 8B FF   			call	_load_palette.3
 4731                        	
 4732                        		.dbg	line,	"include\routines_INTRO.c", 220; }
 4733                        	
 4734                        		.dbg	line,	"include\routines_INTRO.c", 222; else if(global_counter == 156)
 4735                        		__bra		.LL81
         1D:D192  4C 64 DA   			bra	.LL81
 4736    1D:D195             	.LL76:
 4737                        		__ld.wm		_global_counter
         1D:D195  AD 4F 26   			lda.l	_global_counter
         1D:D198  AC 50 26   			ldy.h	_global_counter
 4738                        		__equ_w.wi	156
         1D:D19B  C9 9C      			cmp.l	#156
         1D:D19D  D0 04      			bne	!false+
         1D:D19F  C0 00      			cpy.h	#156
         1D:D1A1  F0 01      			beq	!+
         1D:D1A3  18         	!false:		clc
         1D:D1A4             	!:
 4739                        		__bfalse	.LL82
         1D:D1A4  90 76      			bcc	.LL82
 4740                        	
 4741                        		.dbg	line,	"include\routines_INTRO.c", 223; {
 4742                        	
 4743                        		.dbg	line,	"include\routines_INTRO.c", 224; for(i=0 ; i<8 ; i++)
 4744                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D1A6  9C 21 2C   			stz	__sequence_INTRO_end - 1
 4745    1D:D1A9             	.LL83:
 4746                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D1A9  AD 21 2C   			lda	__sequence_INTRO_end - 1
 4747                        		__ult_b.uiq	8
         1D:D1AC  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D1AE  6A         			ror	a		; CC if A < integer.
         1D:D1AF  49 80      			eor	#$80
         1D:D1B1  2A         			rol	a
 4748                        		__btrue		.LL85
         1D:D1B2  B0 08      			bcs	.LL85
 4749                        		__bra		.LL86
         1D:D1B4  4C 64 DA   			bra	.LL86
 4750    1D:D1B7             	.LL84:
 4751                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D1B7  EE 21 2C   			inc	__sequence_INTRO_end - 1
 4752                        		__bra		.LL83
         1D:D1BA  80 ED      			bra	.LL83
 4753    1D:D1BC             	.LL85:
 4754                        	
 4755                        		.dbg	line,	"include\routines_INTRO.c", 225; {
 4756                        	
 4757                        		.dbg	line,	"include\routines_INTRO.c", 226; sgx_spr_set(i);
 4758                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D1BC  AD 21 2C   			lda	__sequence_INTRO_end - 1
 4759                        		__call		_sgx_spr_set.1
         1D:D1BF  20 9E E8   			call	_sgx_spr_set.1
 4760                        	
 4761                        		.dbg	line,	"include\routines_INTRO.c", 227; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 4762                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D1C2  AD 21 2C   			lda	__sequence_INTRO_end - 1
         1D:D1C5  C2         			cly
 4763                        		__asl.wi	5
         1D:D1C6  85 00      			sta	__temp
         1D:D1C8  98         			tya
         1D:D1C9  4A         			lsr	a
         1D:D1CA  20 C8 E1   			jsr	aslw5
         1D:D1CD  29 E0      			and.l	#$FF << 5
 4764                        		__add.wm	_player_pos_x
         1D:D1CF  18         			clc
         1D:D1D0  6D F5 24   			adc.l	_player_pos_x
         1D:D1D3  42         			say
         1D:D1D4  6D F6 24   			adc.h	_player_pos_x
         1D:D1D7  42         			say
 4765                        		__push.wr
         1D:D1D8  5A         			phy
         1D:D1D9  48         			pha
 4766                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D1DA  AD 21 2C   			lda	__sequence_INTRO_end - 1
         1D:D1DD  C2         			cly
 4767                        		__lsr.uiq	2
         1D:D1DE  4A         			lsr	a
         1D:D1DF  4A         			lsr	a
 4768                        		__asl.wi	7
         1D:D1E0  42         			say
         1D:D1E1  4A         			lsr	a
         1D:D1E2  42         			say
         1D:D1E3  6A         			ror	a
         1D:D1E4  42         			say
         1D:D1E5  6A         			ror	a
         1D:D1E6  29 80      			and	#$80
 4769                        		__sub.wt
         1D:D1E8  BA         			tsx
         1D:D1E9  38         			sec
         1D:D1EA  49 FF      			eor	#$FF
         1D:D1EC  7D 01 21   			adc.l	__tos, x
         1D:D1EF  42         			say
         1D:D1F0  49 FF      			eor	#$FF
         1D:D1F2  7D 02 21   			adc.h	__tos, x
         1D:D1F5  42         			say
         1D:D1F6  E8         			inx
         1D:D1F7  E8         			inx
         1D:D1F8  9A         			txs
 4770                        		__call		_sgx_spr_x.1
         1D:D1F9  20 CB E8   			call	_sgx_spr_x.1
 4771                        	
 4772                        		.dbg	line,	"include\routines_INTRO.c", 228; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 4773                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D1FC  AD 21 2C   			lda	__sequence_INTRO_end - 1
         1D:D1FF  C2         			cly
 4774                        		__lsr.uiq	2
         1D:D200  4A         			lsr	a
         1D:D201  4A         			lsr	a
 4775                        		__asl.wi	5
         1D:D202  85 00      			sta	__temp
         1D:D204  98         			tya
         1D:D205  4A         			lsr	a
         1D:D206  20 C8 E1   			jsr	aslw5
         1D:D209  29 E0      			and.l	#$FF << 5
 4776                        		__add.wm	_player_pos_y
         1D:D20B  18         			clc
         1D:D20C  6D F7 24   			adc.l	_player_pos_y
         1D:D20F  42         			say
         1D:D210  6D F8 24   			adc.h	_player_pos_y
         1D:D213  42         			say
 4777                        		__call		_sgx_spr_y.1
         1D:D214  20 DA E8   			call	_sgx_spr_y.1
 4778                        	
 4779                        		.dbg	line,	"include\routines_INTRO.c", 229; }
 4780                        		__bra		.LL84
         1D:D217  80 9E      			bra	.LL84
 4781    1D:D219             	.LL86	.alias		.LL87
 4782                        	
 4783                        		.dbg	line,	"include\routines_INTRO.c", 230; }
 4784                        	
 4785                        		.dbg	line,	"include\routines_INTRO.c", 232; else if(global_counter == 158)
 4786                        		__bra		.LL87
         1D:D219  4C 64 DA   			bra	.LL87
 4787    1D:D21C             	.LL82:
 4788                        		__ld.wm		_global_counter
         1D:D21C  AD 4F 26   			lda.l	_global_counter
         1D:D21F  AC 50 26   			ldy.h	_global_counter
 4789                        		__equ_w.wi	158
         1D:D222  C9 9E      			cmp.l	#158
         1D:D224  D0 04      			bne	!false+
         1D:D226  C0 00      			cpy.h	#158
         1D:D228  F0 01      			beq	!+
         1D:D22A  18         	!false:		clc
         1D:D22B             	!:
 4790                        		__bfalse	.LL88
         1D:D22B  90 5A      			bcc	.LL88
 4791                        	
 4792                        		.dbg	line,	"include\routines_INTRO.c", 233; {
 4793                        	
 4794                        		.dbg	line,	"include\routines_INTRO.c", 234; for(i=0 ; i<8 ; i++)
 4795                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D22D  9C 21 2C   			stz	__sequence_INTRO_end - 1
 4796    1D:D230             	.LL89:
 4797                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D230  AD 21 2C   			lda	__sequence_INTRO_end - 1
 4798                        		__ult_b.uiq	8
         1D:D233  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D235  6A         			ror	a		; CC if A < integer.
         1D:D236  49 80      			eor	#$80
         1D:D238  2A         			rol	a
 4799                        		__btrue		.LL91
         1D:D239  B0 07      			bcs	.LL91
 4800                        		__bra		.LL92
         1D:D23B  80 10      			bra	.LL92
 4801    1D:D23D             	.LL90:
 4802                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D23D  EE 21 2C   			inc	__sequence_INTRO_end - 1
 4803                        		__bra		.LL89
         1D:D240  80 EE      			bra	.LL89
 4804    1D:D242             	.LL91:
 4805                        	
 4806                        		.dbg	line,	"include\routines_INTRO.c", 235; {
 4807                        	
 4808                        		.dbg	line,	"include\routines_INTRO.c", 236; sgx_spr_set(i);
 4809                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D242  AD 21 2C   			lda	__sequence_INTRO_end - 1
 4810                        		__call		_sgx_spr_set.1
         1D:D245  20 9E E8   			call	_sgx_spr_set.1
 4811                        	
 4812                        		.dbg	line,	"include\routines_INTRO.c", 237; sgx_spr_hide();
 4813                        		__call		_sgx_spr_hide
         1D:D248  20 B9 E8   			call	_sgx_spr_hide
 4814                        	
 4815                        		.dbg	line,	"include\routines_INTRO.c", 238; }
 4816                        		__bra		.LL90
         1D:D24B  80 F0      			bra	.LL90
 4817    1D:D24D             	.LL92:
 4818                        	
 4819                        		.dbg	line,	"include\routines_INTRO.c", 240; vdc_map_pxl_x = 0;
 4820                        		__st.wmiq	0, _vdc_map_pxl_x
         1D:D24D  9C C8 26   			stz.l	_vdc_map_pxl_x
         1D:D250  9C C9 26   			stz.h	_vdc_map_pxl_x
 4821                        	
 4822                        		.dbg	line,	"include\routines_INTRO.c", 241; vdc_map_pxl_y = 0;
 4823                        		__st.wmiq	0, _vdc_map_pxl_y
         1D:D253  9C CA 26   			stz.l	_vdc_map_pxl_y
         1D:D256  9C CB 26   			stz.h	_vdc_map_pxl_y
 4824                        	
 4825                        		.dbg	line,	"include\routines_INTRO.c", 242; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4826                        		__st.umiq	0, _al
         1D:D259  64 F8      			stz	_al
 4827                        		__st.umiq	0, _ah
         1D:D25B  64 F9      			stz	_ah
 4828                        		__ld.wm		_vdc_map_pxl_x
         1D:D25D  AD C8 26   			lda.l	_vdc_map_pxl_x
         1D:D260  AC C9 26   			ldy.h	_vdc_map_pxl_x
 4829                        		__and.wi	511
         1D:D263  29 FF      			and.l	#511
         1D:D265  42         			say
         1D:D266  29 01      			and.h	#511
         1D:D268  42         			say
 4830                        		__st.wmq	_bx
         1D:D269  85 FA      			sta.l	_bx
         1D:D26B  84 FB      			sty.h	_bx
 4831                        		__ld.wm		_vdc_map_pxl_y
         1D:D26D  AD CA 26   			lda.l	_vdc_map_pxl_y
         1D:D270  AC CB 26   			ldy.h	_vdc_map_pxl_y
 4832                        		__and.wi	511
         1D:D273  29 FF      			and.l	#511
         1D:D275  42         			say
         1D:D276  29 01      			and.h	#511
         1D:D278  42         			say
 4833                        		__st.wmq	_cx
         1D:D279  85 FC      			sta.l	_cx
         1D:D27B  84 FD      			sty.h	_cx
 4834                        		__st.umiq	192, _dl
         1D:D27D  A9 C0      			lda.l	#192
         1D:D27F  85 FE      			sta	_dl
 4835                        		__call		_scroll_split.5
         1D:D281  20 81 FF   			call	_scroll_split.5
 4836                        	
 4837                        		.dbg	line,	"include\routines_INTRO.c", 243; }
 4838                        	
 4839                        		.dbg	line,	"include\routines_INTRO.c", 245; else if(global_counter == 159)
 4840                        		__bra		.LL93
         1D:D284  4C 64 DA   			bra	.LL93
 4841    1D:D287             	.LL88:
 4842                        		__ld.wm		_global_counter
         1D:D287  AD 4F 26   			lda.l	_global_counter
         1D:D28A  AC 50 26   			ldy.h	_global_counter
 4843                        		__equ_w.wi	159
         1D:D28D  C9 9F      			cmp.l	#159
         1D:D28F  D0 04      			bne	!false+
         1D:D291  C0 00      			cpy.h	#159
         1D:D293  F0 01      			beq	!+
         1D:D295  18         	!false:		clc
         1D:D296             	!:
 4844                        		__bfalse	.LL94
         1D:D296  90 36      			bcc	.LL94
 4845                        	
 4846                        		.dbg	line,	"include\routines_INTRO.c", 246; {
 4847                        	
 4848                        		.dbg	line,	"include\routines_INTRO.c", 247; vdc_map_pxl_y = 256;
 4849                        		__st.wmiq	256, _vdc_map_pxl_y
         1D:D298  9C CA 26   			stz.l	_vdc_map_pxl_y
         1D:D29B  A9 01      			lda.h	#256
         1D:D29D  8D CB 26   			sta.h	_vdc_map_pxl_y
 4850                        	
 4851                        		.dbg	line,	"include\routines_INTRO.c", 248; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4852                        		__st.umiq	0, _al
         1D:D2A0  64 F8      			stz	_al
 4853                        		__st.umiq	0, _ah
         1D:D2A2  64 F9      			stz	_ah
 4854                        		__ld.wm		_vdc_map_pxl_x
         1D:D2A4  AD C8 26   			lda.l	_vdc_map_pxl_x
         1D:D2A7  AC C9 26   			ldy.h	_vdc_map_pxl_x
 4855                        		__and.wi	511
         1D:D2AA  29 FF      			and.l	#511
         1D:D2AC  42         			say
         1D:D2AD  29 01      			and.h	#511
         1D:D2AF  42         			say
 4856                        		__st.wmq	_bx
         1D:D2B0  85 FA      			sta.l	_bx
         1D:D2B2  84 FB      			sty.h	_bx
 4857                        		__ld.wm		_vdc_map_pxl_y
         1D:D2B4  AD CA 26   			lda.l	_vdc_map_pxl_y
         1D:D2B7  AC CB 26   			ldy.h	_vdc_map_pxl_y
 4858                        		__and.wi	511
         1D:D2BA  29 FF      			and.l	#511
         1D:D2BC  42         			say
         1D:D2BD  29 01      			and.h	#511
         1D:D2BF  42         			say
 4859                        		__st.wmq	_cx
         1D:D2C0  85 FC      			sta.l	_cx
         1D:D2C2  84 FD      			sty.h	_cx
 4860                        		__st.umiq	192, _dl
         1D:D2C4  A9 C0      			lda.l	#192
         1D:D2C6  85 FE      			sta	_dl
 4861                        		__call		_scroll_split.5
         1D:D2C8  20 81 FF   			call	_scroll_split.5
 4862                        	
 4863                        		.dbg	line,	"include\routines_INTRO.c", 249; }
 4864                        	
 4865                        		.dbg	line,	"include\routines_INTRO.c", 251; else if(global_counter == 160)
 4866                        		__bra		.LL95
         1D:D2CB  4C 64 DA   			bra	.LL95
 4867    1D:D2CE             	.LL94:
 4868                        		__ld.wm		_global_counter
         1D:D2CE  AD 4F 26   			lda.l	_global_counter
         1D:D2D1  AC 50 26   			ldy.h	_global_counter
 4869                        		__equ_w.wi	160
         1D:D2D4  C9 A0      			cmp.l	#160
         1D:D2D6  D0 04      			bne	!false+
         1D:D2D8  C0 00      			cpy.h	#160
         1D:D2DA  F0 01      			beq	!+
         1D:D2DC  18         	!false:		clc
         1D:D2DD             	!:
 4870                        		__bfalse	.LL96
         1D:D2DD  B0 03 4C 90			bcc	.LL96
         1D:D2E1  D3          
 4871                        	
 4872                        		.dbg	line,	"include\routines_INTRO.c", 252; {
 4873                        	
 4874                        		.dbg	line,	"include\routines_INTRO.c", 253; for(i=0 ; i<8 ; i++)
 4875                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D2E2  9C 21 2C   			stz	__sequence_INTRO_end - 1
 4876    1D:D2E5             	.LL97:
 4877                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D2E5  AD 21 2C   			lda	__sequence_INTRO_end - 1
 4878                        		__ult_b.uiq	8
         1D:D2E8  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D2EA  6A         			ror	a		; CC if A < integer.
         1D:D2EB  49 80      			eor	#$80
         1D:D2ED  2A         			rol	a
 4879                        		__btrue		.LL99
         1D:D2EE  B0 07      			bcs	.LL99
 4880                        		__bra		.LL100
         1D:D2F0  80 62      			bra	.LL100
 4881    1D:D2F2             	.LL98:
 4882                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D2F2  EE 21 2C   			inc	__sequence_INTRO_end - 1
 4883                        		__bra		.LL97
         1D:D2F5  80 EE      			bra	.LL97
 4884    1D:D2F7             	.LL99:
 4885                        	
 4886                        		.dbg	line,	"include\routines_INTRO.c", 254; {
 4887                        	
 4888                        		.dbg	line,	"include\routines_INTRO.c", 255; sgx_spr_set(i);
 4889                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D2F7  AD 21 2C   			lda	__sequence_INTRO_end - 1
 4890                        		__call		_sgx_spr_set.1
         1D:D2FA  20 9E E8   			call	_sgx_spr_set.1
 4891                        	
 4892                        		.dbg	line,	"include\routines_INTRO.c", 256; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 4893                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D2FD  AD 21 2C   			lda	__sequence_INTRO_end - 1
         1D:D300  C2         			cly
 4894                        		__asl.wi	5
         1D:D301  85 00      			sta	__temp
         1D:D303  98         			tya
         1D:D304  4A         			lsr	a
         1D:D305  20 C8 E1   			jsr	aslw5
         1D:D308  29 E0      			and.l	#$FF << 5
 4895                        		__add.wm	_player_pos_x
         1D:D30A  18         			clc
         1D:D30B  6D F5 24   			adc.l	_player_pos_x
         1D:D30E  42         			say
         1D:D30F  6D F6 24   			adc.h	_player_pos_x
         1D:D312  42         			say
 4896                        		__push.wr
         1D:D313  5A         			phy
         1D:D314  48         			pha
 4897                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D315  AD 21 2C   			lda	__sequence_INTRO_end - 1
         1D:D318  C2         			cly
 4898                        		__lsr.uiq	2
         1D:D319  4A         			lsr	a
         1D:D31A  4A         			lsr	a
 4899                        		__asl.wi	7
         1D:D31B  42         			say
         1D:D31C  4A         			lsr	a
         1D:D31D  42         			say
         1D:D31E  6A         			ror	a
         1D:D31F  42         			say
         1D:D320  6A         			ror	a
         1D:D321  29 80      			and	#$80
 4900                        		__sub.wt
         1D:D323  BA         			tsx
         1D:D324  38         			sec
         1D:D325  49 FF      			eor	#$FF
         1D:D327  7D 01 21   			adc.l	__tos, x
         1D:D32A  42         			say
         1D:D32B  49 FF      			eor	#$FF
         1D:D32D  7D 02 21   			adc.h	__tos, x
         1D:D330  42         			say
         1D:D331  E8         			inx
         1D:D332  E8         			inx
         1D:D333  9A         			txs
 4901                        		__call		_sgx_spr_x.1
         1D:D334  20 CB E8   			call	_sgx_spr_x.1
 4902                        	
 4903                        		.dbg	line,	"include\routines_INTRO.c", 257; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 4904                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D337  AD 21 2C   			lda	__sequence_INTRO_end - 1
         1D:D33A  C2         			cly
 4905                        		__lsr.uiq	2
         1D:D33B  4A         			lsr	a
         1D:D33C  4A         			lsr	a
 4906                        		__asl.wi	5
         1D:D33D  85 00      			sta	__temp
         1D:D33F  98         			tya
         1D:D340  4A         			lsr	a
         1D:D341  20 C8 E1   			jsr	aslw5
         1D:D344  29 E0      			and.l	#$FF << 5
 4907                        		__add.wm	_player_pos_y
         1D:D346  18         			clc
         1D:D347  6D F7 24   			adc.l	_player_pos_y
         1D:D34A  42         			say
         1D:D34B  6D F8 24   			adc.h	_player_pos_y
         1D:D34E  42         			say
 4908                        		__call		_sgx_spr_y.1
         1D:D34F  20 DA E8   			call	_sgx_spr_y.1
 4909                        	
 4910                        		.dbg	line,	"include\routines_INTRO.c", 258; }
 4911                        		__bra		.LL98
         1D:D352  80 9E      			bra	.LL98
 4912    1D:D354             	.LL100:
 4913                        	
 4914                        		.dbg	line,	"include\routines_INTRO.c", 260; vdc_map_pxl_x = 256;
 4915                        		__st.wmiq	256, _vdc_map_pxl_x
         1D:D354  9C C8 26   			stz.l	_vdc_map_pxl_x
         1D:D357  A9 01      			lda.h	#256
         1D:D359  8D C9 26   			sta.h	_vdc_map_pxl_x
 4916                        	
 4917                        		.dbg	line,	"include\routines_INTRO.c", 261; vdc_map_pxl_y = 0;
 4918                        		__st.wmiq	0, _vdc_map_pxl_y
         1D:D35C  9C CA 26   			stz.l	_vdc_map_pxl_y
         1D:D35F  9C CB 26   			stz.h	_vdc_map_pxl_y
 4919                        	
 4920                        		.dbg	line,	"include\routines_INTRO.c", 262; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4921                        		__st.umiq	0, _al
         1D:D362  64 F8      			stz	_al
 4922                        		__st.umiq	0, _ah
         1D:D364  64 F9      			stz	_ah
 4923                        		__ld.wm		_vdc_map_pxl_x
         1D:D366  AD C8 26   			lda.l	_vdc_map_pxl_x
         1D:D369  AC C9 26   			ldy.h	_vdc_map_pxl_x
 4924                        		__and.wi	511
         1D:D36C  29 FF      			and.l	#511
         1D:D36E  42         			say
         1D:D36F  29 01      			and.h	#511
         1D:D371  42         			say
 4925                        		__st.wmq	_bx
         1D:D372  85 FA      			sta.l	_bx
         1D:D374  84 FB      			sty.h	_bx
 4926                        		__ld.wm		_vdc_map_pxl_y
         1D:D376  AD CA 26   			lda.l	_vdc_map_pxl_y
         1D:D379  AC CB 26   			ldy.h	_vdc_map_pxl_y
 4927                        		__and.wi	511
         1D:D37C  29 FF      			and.l	#511
         1D:D37E  42         			say
         1D:D37F  29 01      			and.h	#511
         1D:D381  42         			say
 4928                        		__st.wmq	_cx
         1D:D382  85 FC      			sta.l	_cx
         1D:D384  84 FD      			sty.h	_cx
 4929                        		__st.umiq	192, _dl
         1D:D386  A9 C0      			lda.l	#192
         1D:D388  85 FE      			sta	_dl
 4930                        		__call		_scroll_split.5
         1D:D38A  20 81 FF   			call	_scroll_split.5
 4931                        	
 4932                        		.dbg	line,	"include\routines_INTRO.c", 263; }
 4933                        	
 4934                        		.dbg	line,	"include\routines_INTRO.c", 265; else if(global_counter == 162)
 4935                        		__bra		.LL101
         1D:D38D  4C 64 DA   			bra	.LL101
 4936    1D:D390             	.LL96:
 4937                        		__ld.wm		_global_counter
         1D:D390  AD 4F 26   			lda.l	_global_counter
         1D:D393  AC 50 26   			ldy.h	_global_counter
 4938                        		__equ_w.wi	162
         1D:D396  C9 A2      			cmp.l	#162
         1D:D398  D0 04      			bne	!false+
         1D:D39A  C0 00      			cpy.h	#162
         1D:D39C  F0 01      			beq	!+
         1D:D39E  18         	!false:		clc
         1D:D39F             	!:
 4939                        		__bfalse	.LL102
         1D:D39F  90 24      			bcc	.LL102
 4940                        	
 4941                        		.dbg	line,	"include\routines_INTRO.c", 266; {
 4942                        	
 4943                        		.dbg	line,	"include\routines_INTRO.c", 267; for(i=0 ; i<8 ; i++)
 4944                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D3A1  9C 21 2C   			stz	__sequence_INTRO_end - 1
 4945    1D:D3A4             	.LL103:
 4946                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D3A4  AD 21 2C   			lda	__sequence_INTRO_end - 1
 4947                        		__ult_b.uiq	8
         1D:D3A7  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D3A9  6A         			ror	a		; CC if A < integer.
         1D:D3AA  49 80      			eor	#$80
         1D:D3AC  2A         			rol	a
 4948                        		__btrue		.LL105
         1D:D3AD  B0 08      			bcs	.LL105
 4949                        		__bra		.LL106
         1D:D3AF  4C 64 DA   			bra	.LL106
 4950    1D:D3B2             	.LL104:
 4951                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D3B2  EE 21 2C   			inc	__sequence_INTRO_end - 1
 4952                        		__bra		.LL103
         1D:D3B5  80 ED      			bra	.LL103
 4953    1D:D3B7             	.LL105:
 4954                        	
 4955                        		.dbg	line,	"include\routines_INTRO.c", 268; {
 4956                        	
 4957                        		.dbg	line,	"include\routines_INTRO.c", 269; sgx_spr_set(i);
 4958                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D3B7  AD 21 2C   			lda	__sequence_INTRO_end - 1
 4959                        		__call		_sgx_spr_set.1
         1D:D3BA  20 9E E8   			call	_sgx_spr_set.1
 4960                        	
 4961                        		.dbg	line,	"include\routines_INTRO.c", 270; sgx_spr_hide();
 4962                        		__call		_sgx_spr_hide
         1D:D3BD  20 B9 E8   			call	_sgx_spr_hide
 4963                        	
 4964                        		.dbg	line,	"include\routines_INTRO.c", 271; }
 4965                        		__bra		.LL104
         1D:D3C0  80 F0      			bra	.LL104
 4966    1D:D3C2             	.LL106	.alias		.LL107
 4967                        	
 4968                        		.dbg	line,	"include\routines_INTRO.c", 272; }
 4969                        	
 4970                        		.dbg	line,	"include\routines_INTRO.c", 274; else if(global_counter == 163)
 4971                        		__bra		.LL107
         1D:D3C2  4C 64 DA   			bra	.LL107
 4972    1D:D3C5             	.LL102:
 4973                        		__ld.wm		_global_counter
         1D:D3C5  AD 4F 26   			lda.l	_global_counter
         1D:D3C8  AC 50 26   			ldy.h	_global_counter
 4974                        		__equ_w.wi	163
         1D:D3CB  C9 A3      			cmp.l	#163
         1D:D3CD  D0 04      			bne	!false+
         1D:D3CF  C0 00      			cpy.h	#163
         1D:D3D1  F0 01      			beq	!+
         1D:D3D3  18         	!false:		clc
         1D:D3D4             	!:
 4975                        		__bfalse	.LL108
         1D:D3D4  90 3A      			bcc	.LL108
 4976                        	
 4977                        		.dbg	line,	"include\routines_INTRO.c", 275; {
 4978                        	
 4979                        		.dbg	line,	"include\routines_INTRO.c", 276; vdc_map_pxl_x = 0;
 4980                        		__st.wmiq	0, _vdc_map_pxl_x
         1D:D3D6  9C C8 26   			stz.l	_vdc_map_pxl_x
         1D:D3D9  9C C9 26   			stz.h	_vdc_map_pxl_x
 4981                        	
 4982                        		.dbg	line,	"include\routines_INTRO.c", 277; vdc_map_pxl_y = 0;
 4983                        		__st.wmiq	0, _vdc_map_pxl_y
         1D:D3DC  9C CA 26   			stz.l	_vdc_map_pxl_y
         1D:D3DF  9C CB 26   			stz.h	_vdc_map_pxl_y
 4984                        	
 4985                        		.dbg	line,	"include\routines_INTRO.c", 278; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 4986                        		__st.umiq	0, _al
         1D:D3E2  64 F8      			stz	_al
 4987                        		__st.umiq	0, _ah
         1D:D3E4  64 F9      			stz	_ah
 4988                        		__ld.wm		_vdc_map_pxl_x
         1D:D3E6  AD C8 26   			lda.l	_vdc_map_pxl_x
         1D:D3E9  AC C9 26   			ldy.h	_vdc_map_pxl_x
 4989                        		__and.wi	511
         1D:D3EC  29 FF      			and.l	#511
         1D:D3EE  42         			say
         1D:D3EF  29 01      			and.h	#511
         1D:D3F1  42         			say
 4990                        		__st.wmq	_bx
         1D:D3F2  85 FA      			sta.l	_bx
         1D:D3F4  84 FB      			sty.h	_bx
 4991                        		__ld.wm		_vdc_map_pxl_y
         1D:D3F6  AD CA 26   			lda.l	_vdc_map_pxl_y
         1D:D3F9  AC CB 26   			ldy.h	_vdc_map_pxl_y
 4992                        		__and.wi	511
         1D:D3FC  29 FF      			and.l	#511
         1D:D3FE  42         			say
         1D:D3FF  29 01      			and.h	#511
         1D:D401  42         			say
 4993                        		__st.wmq	_cx
         1D:D402  85 FC      			sta.l	_cx
         1D:D404  84 FD      			sty.h	_cx
 4994                        		__st.umiq	192, _dl
         1D:D406  A9 C0      			lda.l	#192
         1D:D408  85 FE      			sta	_dl
 4995                        		__call		_scroll_split.5
         1D:D40A  20 81 FF   			call	_scroll_split.5
 4996                        	
 4997                        		.dbg	line,	"include\routines_INTRO.c", 279; }
 4998                        	
 4999                        		.dbg	line,	"include\routines_INTRO.c", 281; else if(global_counter == 164)
 5000                        		__bra		.LL109
         1D:D40D  4C 64 DA   			bra	.LL109
 5001    1D:D410             	.LL108:
 5002                        		__ld.wm		_global_counter
         1D:D410  AD 4F 26   			lda.l	_global_counter
         1D:D413  AC 50 26   			ldy.h	_global_counter
 5003                        		__equ_w.wi	164
         1D:D416  C9 A4      			cmp.l	#164
         1D:D418  D0 04      			bne	!false+
         1D:D41A  C0 00      			cpy.h	#164
         1D:D41C  F0 01      			beq	!+
         1D:D41E  18         	!false:		clc
         1D:D41F             	!:
 5004                        		__bfalse	.LL110
         1D:D41F  B0 03 4C AE			bcc	.LL110
         1D:D423  D4          
 5005                        	
 5006                        		.dbg	line,	"include\routines_INTRO.c", 282; {
 5007                        	
 5008                        		.dbg	line,	"include\routines_INTRO.c", 283; for(i=0 ; i<8 ; i++)
 5009                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D424  9C 21 2C   			stz	__sequence_INTRO_end - 1
 5010    1D:D427             	.LL111:
 5011                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D427  AD 21 2C   			lda	__sequence_INTRO_end - 1
 5012                        		__ult_b.uiq	8
         1D:D42A  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D42C  6A         			ror	a		; CC if A < integer.
         1D:D42D  49 80      			eor	#$80
         1D:D42F  2A         			rol	a
 5013                        		__btrue		.LL113
         1D:D430  B0 07      			bcs	.LL113
 5014                        		__bra		.LL114
         1D:D432  80 62      			bra	.LL114
 5015    1D:D434             	.LL112:
 5016                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D434  EE 21 2C   			inc	__sequence_INTRO_end - 1
 5017                        		__bra		.LL111
         1D:D437  80 EE      			bra	.LL111
 5018    1D:D439             	.LL113:
 5019                        	
 5020                        		.dbg	line,	"include\routines_INTRO.c", 284; {
 5021                        	
 5022                        		.dbg	line,	"include\routines_INTRO.c", 285; sgx_spr_set(i);
 5023                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D439  AD 21 2C   			lda	__sequence_INTRO_end - 1
 5024                        		__call		_sgx_spr_set.1
         1D:D43C  20 9E E8   			call	_sgx_spr_set.1
 5025                        	
 5026                        		.dbg	line,	"include\routines_INTRO.c", 286; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 5027                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D43F  AD 21 2C   			lda	__sequence_INTRO_end - 1
         1D:D442  C2         			cly
 5028                        		__asl.wi	5
         1D:D443  85 00      			sta	__temp
         1D:D445  98         			tya
         1D:D446  4A         			lsr	a
         1D:D447  20 C8 E1   			jsr	aslw5
         1D:D44A  29 E0      			and.l	#$FF << 5
 5029                        		__add.wm	_player_pos_x
         1D:D44C  18         			clc
         1D:D44D  6D F5 24   			adc.l	_player_pos_x
         1D:D450  42         			say
         1D:D451  6D F6 24   			adc.h	_player_pos_x
         1D:D454  42         			say
 5030                        		__push.wr
         1D:D455  5A         			phy
         1D:D456  48         			pha
 5031                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D457  AD 21 2C   			lda	__sequence_INTRO_end - 1
         1D:D45A  C2         			cly
 5032                        		__lsr.uiq	2
         1D:D45B  4A         			lsr	a
         1D:D45C  4A         			lsr	a
 5033                        		__asl.wi	7
         1D:D45D  42         			say
         1D:D45E  4A         			lsr	a
         1D:D45F  42         			say
         1D:D460  6A         			ror	a
         1D:D461  42         			say
         1D:D462  6A         			ror	a
         1D:D463  29 80      			and	#$80
 5034                        		__sub.wt
         1D:D465  BA         			tsx
         1D:D466  38         			sec
         1D:D467  49 FF      			eor	#$FF
         1D:D469  7D 01 21   			adc.l	__tos, x
         1D:D46C  42         			say
         1D:D46D  49 FF      			eor	#$FF
         1D:D46F  7D 02 21   			adc.h	__tos, x
         1D:D472  42         			say
         1D:D473  E8         			inx
         1D:D474  E8         			inx
         1D:D475  9A         			txs
 5035                        		__call		_sgx_spr_x.1
         1D:D476  20 CB E8   			call	_sgx_spr_x.1
 5036                        	
 5037                        		.dbg	line,	"include\routines_INTRO.c", 287; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 5038                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D479  AD 21 2C   			lda	__sequence_INTRO_end - 1
         1D:D47C  C2         			cly
 5039                        		__lsr.uiq	2
         1D:D47D  4A         			lsr	a
         1D:D47E  4A         			lsr	a
 5040                        		__asl.wi	5
         1D:D47F  85 00      			sta	__temp
         1D:D481  98         			tya
         1D:D482  4A         			lsr	a
         1D:D483  20 C8 E1   			jsr	aslw5
         1D:D486  29 E0      			and.l	#$FF << 5
 5041                        		__add.wm	_player_pos_y
         1D:D488  18         			clc
         1D:D489  6D F7 24   			adc.l	_player_pos_y
         1D:D48C  42         			say
         1D:D48D  6D F8 24   			adc.h	_player_pos_y
         1D:D490  42         			say
 5042                        		__call		_sgx_spr_y.1
         1D:D491  20 DA E8   			call	_sgx_spr_y.1
 5043                        	
 5044                        		.dbg	line,	"include\routines_INTRO.c", 288; }
 5045                        		__bra		.LL112
         1D:D494  80 9E      			bra	.LL112
 5046    1D:D496             	.LL114:
 5047                        	
 5048                        		.dbg	line,	"include\routines_INTRO.c", 290; load_palette( 0, palette_INTRO_2, 1 );
 5049                        		__st.umiq	0, _al
         1D:D496  64 F8      			stz	_al
 5050                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         1D:D498  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:D49A  85 EC      			sta.l	_bp
         1D:D49C  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:D49E  85 ED      			sta.h	_bp
         1D:D4A0  A9 06      			lda	#bank(_palette_INTRO_2)
         1D:D4A2  85 02      			sta	_bp_bank
 5051                        		__st.umiq	1, _ah
         1D:D4A4  A9 01      			lda.l	#1
         1D:D4A6  85 F9      			sta	_ah
 5052                        		__call		_load_palette.3
         1D:D4A8  20 8B FF   			call	_load_palette.3
 5053                        	
 5054                        		.dbg	line,	"include\routines_INTRO.c", 291; }
 5055                        	
 5056                        		.dbg	line,	"include\routines_INTRO.c", 293; else if(global_counter == 166)
 5057                        		__bra		.LL115
         1D:D4AB  4C 64 DA   			bra	.LL115
 5058    1D:D4AE             	.LL110:
 5059                        		__ld.wm		_global_counter
         1D:D4AE  AD 4F 26   			lda.l	_global_counter
         1D:D4B1  AC 50 26   			ldy.h	_global_counter
 5060                        		__equ_w.wi	166
         1D:D4B4  C9 A6      			cmp.l	#166
         1D:D4B6  D0 04      			bne	!false+
         1D:D4B8  C0 00      			cpy.h	#166
         1D:D4BA  F0 01      			beq	!+
         1D:D4BC  18         	!false:		clc
         1D:D4BD             	!:
 5061                        		__bfalse	.LL116
         1D:D4BD  90 24      			bcc	.LL116
 5062                        	
 5063                        		.dbg	line,	"include\routines_INTRO.c", 294; {
 5064                        	
 5065                        		.dbg	line,	"include\routines_INTRO.c", 295; for(i=0 ; i<8 ; i++)
 5066                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D4BF  9C 21 2C   			stz	__sequence_INTRO_end - 1
 5067    1D:D4C2             	.LL117:
 5068                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D4C2  AD 21 2C   			lda	__sequence_INTRO_end - 1
 5069                        		__ult_b.uiq	8
         1D:D4C5  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D4C7  6A         			ror	a		; CC if A < integer.
         1D:D4C8  49 80      			eor	#$80
         1D:D4CA  2A         			rol	a
 5070                        		__btrue		.LL119
         1D:D4CB  B0 08      			bcs	.LL119
 5071                        		__bra		.LL120
         1D:D4CD  4C 64 DA   			bra	.LL120
 5072    1D:D4D0             	.LL118:
 5073                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D4D0  EE 21 2C   			inc	__sequence_INTRO_end - 1
 5074                        		__bra		.LL117
         1D:D4D3  80 ED      			bra	.LL117
 5075    1D:D4D5             	.LL119:
 5076                        	
 5077                        		.dbg	line,	"include\routines_INTRO.c", 296; {
 5078                        	
 5079                        		.dbg	line,	"include\routines_INTRO.c", 297; sgx_spr_set(i);
 5080                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D4D5  AD 21 2C   			lda	__sequence_INTRO_end - 1
 5081                        		__call		_sgx_spr_set.1
         1D:D4D8  20 9E E8   			call	_sgx_spr_set.1
 5082                        	
 5083                        		.dbg	line,	"include\routines_INTRO.c", 298; sgx_spr_hide();
 5084                        		__call		_sgx_spr_hide
         1D:D4DB  20 B9 E8   			call	_sgx_spr_hide
 5085                        	
 5086                        		.dbg	line,	"include\routines_INTRO.c", 299; }
 5087                        		__bra		.LL118
         1D:D4DE  80 F0      			bra	.LL118
 5088    1D:D4E0             	.LL120	.alias		.LL121
 5089                        	
 5090                        		.dbg	line,	"include\routines_INTRO.c", 300; }
 5091                        	
 5092                        		.dbg	line,	"include\routines_INTRO.c", 302; else if(global_counter == 168)
 5093                        		__bra		.LL121
         1D:D4E0  4C 64 DA   			bra	.LL121
 5094    1D:D4E3             	.LL116:
 5095                        		__ld.wm		_global_counter
         1D:D4E3  AD 4F 26   			lda.l	_global_counter
         1D:D4E6  AC 50 26   			ldy.h	_global_counter
 5096                        		__equ_w.wi	168
         1D:D4E9  C9 A8      			cmp.l	#168
         1D:D4EB  D0 04      			bne	!false+
         1D:D4ED  C0 00      			cpy.h	#168
         1D:D4EF  F0 01      			beq	!+
         1D:D4F1  18         	!false:		clc
         1D:D4F2             	!:
 5097                        		__bfalse	.LL122
         1D:D4F2  B0 03 4C B4			bcc	.LL122
         1D:D4F6  D5          
 5098                        	
 5099                        		.dbg	line,	"include\routines_INTRO.c", 303; {
 5100                        	
 5101                        		.dbg	line,	"include\routines_INTRO.c", 304; for(i=0 ; i<8 ; i++)
 5102                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D4F7  9C 21 2C   			stz	__sequence_INTRO_end - 1
 5103    1D:D4FA             	.LL123:
 5104                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D4FA  AD 21 2C   			lda	__sequence_INTRO_end - 1
 5105                        		__ult_b.uiq	8
         1D:D4FD  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D4FF  6A         			ror	a		; CC if A < integer.
         1D:D500  49 80      			eor	#$80
         1D:D502  2A         			rol	a
 5106                        		__btrue		.LL125
         1D:D503  B0 07      			bcs	.LL125
 5107                        		__bra		.LL126
         1D:D505  80 62      			bra	.LL126
 5108    1D:D507             	.LL124:
 5109                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D507  EE 21 2C   			inc	__sequence_INTRO_end - 1
 5110                        		__bra		.LL123
         1D:D50A  80 EE      			bra	.LL123
 5111    1D:D50C             	.LL125:
 5112                        	
 5113                        		.dbg	line,	"include\routines_INTRO.c", 305; {
 5114                        	
 5115                        		.dbg	line,	"include\routines_INTRO.c", 306; sgx_spr_set(i);
 5116                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D50C  AD 21 2C   			lda	__sequence_INTRO_end - 1
 5117                        		__call		_sgx_spr_set.1
         1D:D50F  20 9E E8   			call	_sgx_spr_set.1
 5118                        	
 5119                        		.dbg	line,	"include\routines_INTRO.c", 307; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 5120                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D512  AD 21 2C   			lda	__sequence_INTRO_end - 1
         1D:D515  C2         			cly
 5121                        		__asl.wi	5
         1D:D516  85 00      			sta	__temp
         1D:D518  98         			tya
         1D:D519  4A         			lsr	a
         1D:D51A  20 C8 E1   			jsr	aslw5
         1D:D51D  29 E0      			and.l	#$FF << 5
 5122                        		__add.wm	_player_pos_x
         1D:D51F  18         			clc
         1D:D520  6D F5 24   			adc.l	_player_pos_x
         1D:D523  42         			say
         1D:D524  6D F6 24   			adc.h	_player_pos_x
         1D:D527  42         			say
 5123                        		__push.wr
         1D:D528  5A         			phy
         1D:D529  48         			pha
 5124                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D52A  AD 21 2C   			lda	__sequence_INTRO_end - 1
         1D:D52D  C2         			cly
 5125                        		__lsr.uiq	2
         1D:D52E  4A         			lsr	a
         1D:D52F  4A         			lsr	a
 5126                        		__asl.wi	7
         1D:D530  42         			say
         1D:D531  4A         			lsr	a
         1D:D532  42         			say
         1D:D533  6A         			ror	a
         1D:D534  42         			say
         1D:D535  6A         			ror	a
         1D:D536  29 80      			and	#$80
 5127                        		__sub.wt
         1D:D538  BA         			tsx
         1D:D539  38         			sec
         1D:D53A  49 FF      			eor	#$FF
         1D:D53C  7D 01 21   			adc.l	__tos, x
         1D:D53F  42         			say
         1D:D540  49 FF      			eor	#$FF
         1D:D542  7D 02 21   			adc.h	__tos, x
         1D:D545  42         			say
         1D:D546  E8         			inx
         1D:D547  E8         			inx
         1D:D548  9A         			txs
 5128                        		__call		_sgx_spr_x.1
         1D:D549  20 CB E8   			call	_sgx_spr_x.1
 5129                        	
 5130                        		.dbg	line,	"include\routines_INTRO.c", 308; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 5131                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D54C  AD 21 2C   			lda	__sequence_INTRO_end - 1
         1D:D54F  C2         			cly
 5132                        		__lsr.uiq	2
         1D:D550  4A         			lsr	a
         1D:D551  4A         			lsr	a
 5133                        		__asl.wi	5
         1D:D552  85 00      			sta	__temp
         1D:D554  98         			tya
         1D:D555  4A         			lsr	a
         1D:D556  20 C8 E1   			jsr	aslw5
         1D:D559  29 E0      			and.l	#$FF << 5
 5134                        		__add.wm	_player_pos_y
         1D:D55B  18         			clc
         1D:D55C  6D F7 24   			adc.l	_player_pos_y
         1D:D55F  42         			say
         1D:D560  6D F8 24   			adc.h	_player_pos_y
         1D:D563  42         			say
 5135                        		__call		_sgx_spr_y.1
         1D:D564  20 DA E8   			call	_sgx_spr_y.1
 5136                        	
 5137                        		.dbg	line,	"include\routines_INTRO.c", 309; }
 5138                        		__bra		.LL124
         1D:D567  80 9E      			bra	.LL124
 5139    1D:D569             	.LL126:
 5140                        	
 5141                        		.dbg	line,	"include\routines_INTRO.c", 311; vdc_map_pxl_y = 256;
 5142                        		__st.wmiq	256, _vdc_map_pxl_y
         1D:D569  9C CA 26   			stz.l	_vdc_map_pxl_y
         1D:D56C  A9 01      			lda.h	#256
         1D:D56E  8D CB 26   			sta.h	_vdc_map_pxl_y
 5143                        	
 5144                        		.dbg	line,	"include\routines_INTRO.c", 312; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 5145                        		__st.umiq	0, _al
         1D:D571  64 F8      			stz	_al
 5146                        		__st.umiq	0, _ah
         1D:D573  64 F9      			stz	_ah
 5147                        		__ld.wm		_vdc_map_pxl_x
         1D:D575  AD C8 26   			lda.l	_vdc_map_pxl_x
         1D:D578  AC C9 26   			ldy.h	_vdc_map_pxl_x
 5148                        		__and.wi	511
         1D:D57B  29 FF      			and.l	#511
         1D:D57D  42         			say
         1D:D57E  29 01      			and.h	#511
         1D:D580  42         			say
 5149                        		__st.wmq	_bx
         1D:D581  85 FA      			sta.l	_bx
         1D:D583  84 FB      			sty.h	_bx
 5150                        		__ld.wm		_vdc_map_pxl_y
         1D:D585  AD CA 26   			lda.l	_vdc_map_pxl_y
         1D:D588  AC CB 26   			ldy.h	_vdc_map_pxl_y
 5151                        		__and.wi	511
         1D:D58B  29 FF      			and.l	#511
         1D:D58D  42         			say
         1D:D58E  29 01      			and.h	#511
         1D:D590  42         			say
 5152                        		__st.wmq	_cx
         1D:D591  85 FC      			sta.l	_cx
         1D:D593  84 FD      			sty.h	_cx
 5153                        		__st.umiq	192, _dl
         1D:D595  A9 C0      			lda.l	#192
         1D:D597  85 FE      			sta	_dl
 5154                        		__call		_scroll_split.5
         1D:D599  20 81 FF   			call	_scroll_split.5
 5155                        	
 5156                        		.dbg	line,	"include\routines_INTRO.c", 313; 
 5157                        	
 5158                        		.dbg	line,	"include\routines_INTRO.c", 314; load_palette( 0, palette_INTRO_3, 1 );
 5159                        		__st.umiq	0, _al
         1D:D59C  64 F8      			stz	_al
 5160                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         1D:D59E  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:D5A0  85 EC      			sta.l	_bp
         1D:D5A2  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:D5A4  85 ED      			sta.h	_bp
         1D:D5A6  A9 06      			lda	#bank(_palette_INTRO_3)
         1D:D5A8  85 02      			sta	_bp_bank
 5161                        		__st.umiq	1, _ah
         1D:D5AA  A9 01      			lda.l	#1
         1D:D5AC  85 F9      			sta	_ah
 5162                        		__call		_load_palette.3
         1D:D5AE  20 8B FF   			call	_load_palette.3
 5163                        	
 5164                        		.dbg	line,	"include\routines_INTRO.c", 315; }
 5165                        	
 5166                        		.dbg	line,	"include\routines_INTRO.c", 317; else if(global_counter == 170)
 5167                        		__bra		.LL127
         1D:D5B1  4C 64 DA   			bra	.LL127
 5168    1D:D5B4             	.LL122:
 5169                        		__ld.wm		_global_counter
         1D:D5B4  AD 4F 26   			lda.l	_global_counter
         1D:D5B7  AC 50 26   			ldy.h	_global_counter
 5170                        		__equ_w.wi	170
         1D:D5BA  C9 AA      			cmp.l	#170
         1D:D5BC  D0 04      			bne	!false+
         1D:D5BE  C0 00      			cpy.h	#170
         1D:D5C0  F0 01      			beq	!+
         1D:D5C2  18         	!false:		clc
         1D:D5C3             	!:
 5171                        		__bfalse	.LL128
         1D:D5C3  90 24      			bcc	.LL128
 5172                        	
 5173                        		.dbg	line,	"include\routines_INTRO.c", 318; {
 5174                        	
 5175                        		.dbg	line,	"include\routines_INTRO.c", 319; for(i=0 ; i<8 ; i++)
 5176                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D5C5  9C 21 2C   			stz	__sequence_INTRO_end - 1
 5177    1D:D5C8             	.LL129:
 5178                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D5C8  AD 21 2C   			lda	__sequence_INTRO_end - 1
 5179                        		__ult_b.uiq	8
         1D:D5CB  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D5CD  6A         			ror	a		; CC if A < integer.
         1D:D5CE  49 80      			eor	#$80
         1D:D5D0  2A         			rol	a
 5180                        		__btrue		.LL131
         1D:D5D1  B0 08      			bcs	.LL131
 5181                        		__bra		.LL132
         1D:D5D3  4C 64 DA   			bra	.LL132
 5182    1D:D5D6             	.LL130:
 5183                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D5D6  EE 21 2C   			inc	__sequence_INTRO_end - 1
 5184                        		__bra		.LL129
         1D:D5D9  80 ED      			bra	.LL129
 5185    1D:D5DB             	.LL131:
 5186                        	
 5187                        		.dbg	line,	"include\routines_INTRO.c", 320; {
 5188                        	
 5189                        		.dbg	line,	"include\routines_INTRO.c", 321; sgx_spr_set(i);
 5190                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D5DB  AD 21 2C   			lda	__sequence_INTRO_end - 1
 5191                        		__call		_sgx_spr_set.1
         1D:D5DE  20 9E E8   			call	_sgx_spr_set.1
 5192                        	
 5193                        		.dbg	line,	"include\routines_INTRO.c", 322; sgx_spr_hide();
 5194                        		__call		_sgx_spr_hide
         1D:D5E1  20 B9 E8   			call	_sgx_spr_hide
 5195                        	
 5196                        		.dbg	line,	"include\routines_INTRO.c", 323; }
 5197                        		__bra		.LL130
         1D:D5E4  80 F0      			bra	.LL130
 5198    1D:D5E6             	.LL132	.alias		.LL133
 5199                        	
 5200                        		.dbg	line,	"include\routines_INTRO.c", 324; }
 5201                        	
 5202                        		.dbg	line,	"include\routines_INTRO.c", 326; else if(global_counter == 172)
 5203                        		__bra		.LL133
         1D:D5E6  4C 64 DA   			bra	.LL133
 5204    1D:D5E9             	.LL128:
 5205                        		__ld.wm		_global_counter
         1D:D5E9  AD 4F 26   			lda.l	_global_counter
         1D:D5EC  AC 50 26   			ldy.h	_global_counter
 5206                        		__equ_w.wi	172
         1D:D5EF  C9 AC      			cmp.l	#172
         1D:D5F1  D0 04      			bne	!false+
         1D:D5F3  C0 00      			cpy.h	#172
         1D:D5F5  F0 01      			beq	!+
         1D:D5F7  18         	!false:		clc
         1D:D5F8             	!:
 5207                        		__bfalse	.LL134
         1D:D5F8  B0 03 4C A3			bcc	.LL134
         1D:D5FC  D6          
 5208                        	
 5209                        		.dbg	line,	"include\routines_INTRO.c", 327; {
 5210                        	
 5211                        		.dbg	line,	"include\routines_INTRO.c", 328; for(i=0 ; i<8 ; i++)
 5212                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D5FD  9C 21 2C   			stz	__sequence_INTRO_end - 1
 5213    1D:D600             	.LL135:
 5214                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D600  AD 21 2C   			lda	__sequence_INTRO_end - 1
 5215                        		__ult_b.uiq	8
         1D:D603  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D605  6A         			ror	a		; CC if A < integer.
         1D:D606  49 80      			eor	#$80
         1D:D608  2A         			rol	a
 5216                        		__btrue		.LL137
         1D:D609  B0 07      			bcs	.LL137
 5217                        		__bra		.LL138
         1D:D60B  80 62      			bra	.LL138
 5218    1D:D60D             	.LL136:
 5219                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D60D  EE 21 2C   			inc	__sequence_INTRO_end - 1
 5220                        		__bra		.LL135
         1D:D610  80 EE      			bra	.LL135
 5221    1D:D612             	.LL137:
 5222                        	
 5223                        		.dbg	line,	"include\routines_INTRO.c", 329; {
 5224                        	
 5225                        		.dbg	line,	"include\routines_INTRO.c", 330; sgx_spr_set(i);
 5226                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D612  AD 21 2C   			lda	__sequence_INTRO_end - 1
 5227                        		__call		_sgx_spr_set.1
         1D:D615  20 9E E8   			call	_sgx_spr_set.1
 5228                        	
 5229                        		.dbg	line,	"include\routines_INTRO.c", 331; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 5230                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D618  AD 21 2C   			lda	__sequence_INTRO_end - 1
         1D:D61B  C2         			cly
 5231                        		__asl.wi	5
         1D:D61C  85 00      			sta	__temp
         1D:D61E  98         			tya
         1D:D61F  4A         			lsr	a
         1D:D620  20 C8 E1   			jsr	aslw5
         1D:D623  29 E0      			and.l	#$FF << 5
 5232                        		__add.wm	_player_pos_x
         1D:D625  18         			clc
         1D:D626  6D F5 24   			adc.l	_player_pos_x
         1D:D629  42         			say
         1D:D62A  6D F6 24   			adc.h	_player_pos_x
         1D:D62D  42         			say
 5233                        		__push.wr
         1D:D62E  5A         			phy
         1D:D62F  48         			pha
 5234                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D630  AD 21 2C   			lda	__sequence_INTRO_end - 1
         1D:D633  C2         			cly
 5235                        		__lsr.uiq	2
         1D:D634  4A         			lsr	a
         1D:D635  4A         			lsr	a
 5236                        		__asl.wi	7
         1D:D636  42         			say
         1D:D637  4A         			lsr	a
         1D:D638  42         			say
         1D:D639  6A         			ror	a
         1D:D63A  42         			say
         1D:D63B  6A         			ror	a
         1D:D63C  29 80      			and	#$80
 5237                        		__sub.wt
         1D:D63E  BA         			tsx
         1D:D63F  38         			sec
         1D:D640  49 FF      			eor	#$FF
         1D:D642  7D 01 21   			adc.l	__tos, x
         1D:D645  42         			say
         1D:D646  49 FF      			eor	#$FF
         1D:D648  7D 02 21   			adc.h	__tos, x
         1D:D64B  42         			say
         1D:D64C  E8         			inx
         1D:D64D  E8         			inx
         1D:D64E  9A         			txs
 5238                        		__call		_sgx_spr_x.1
         1D:D64F  20 CB E8   			call	_sgx_spr_x.1
 5239                        	
 5240                        		.dbg	line,	"include\routines_INTRO.c", 332; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 5241                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D652  AD 21 2C   			lda	__sequence_INTRO_end - 1
         1D:D655  C2         			cly
 5242                        		__lsr.uiq	2
         1D:D656  4A         			lsr	a
         1D:D657  4A         			lsr	a
 5243                        		__asl.wi	5
         1D:D658  85 00      			sta	__temp
         1D:D65A  98         			tya
         1D:D65B  4A         			lsr	a
         1D:D65C  20 C8 E1   			jsr	aslw5
         1D:D65F  29 E0      			and.l	#$FF << 5
 5244                        		__add.wm	_player_pos_y
         1D:D661  18         			clc
         1D:D662  6D F7 24   			adc.l	_player_pos_y
         1D:D665  42         			say
         1D:D666  6D F8 24   			adc.h	_player_pos_y
         1D:D669  42         			say
 5245                        		__call		_sgx_spr_y.1
         1D:D66A  20 DA E8   			call	_sgx_spr_y.1
 5246                        	
 5247                        		.dbg	line,	"include\routines_INTRO.c", 333; }
 5248                        		__bra		.LL136
         1D:D66D  80 9E      			bra	.LL136
 5249    1D:D66F             	.LL138:
 5250                        	
 5251                        		.dbg	line,	"include\routines_INTRO.c", 335; vdc_map_pxl_y = 0;
 5252                        		__st.wmiq	0, _vdc_map_pxl_y
         1D:D66F  9C CA 26   			stz.l	_vdc_map_pxl_y
         1D:D672  9C CB 26   			stz.h	_vdc_map_pxl_y
 5253                        	
 5254                        		.dbg	line,	"include\routines_INTRO.c", 336; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 5255                        		__st.umiq	0, _al
         1D:D675  64 F8      			stz	_al
 5256                        		__st.umiq	0, _ah
         1D:D677  64 F9      			stz	_ah
 5257                        		__ld.wm		_vdc_map_pxl_x
         1D:D679  AD C8 26   			lda.l	_vdc_map_pxl_x
         1D:D67C  AC C9 26   			ldy.h	_vdc_map_pxl_x
 5258                        		__and.wi	511
         1D:D67F  29 FF      			and.l	#511
         1D:D681  42         			say
         1D:D682  29 01      			and.h	#511
         1D:D684  42         			say
 5259                        		__st.wmq	_bx
         1D:D685  85 FA      			sta.l	_bx
         1D:D687  84 FB      			sty.h	_bx
 5260                        		__ld.wm		_vdc_map_pxl_y
         1D:D689  AD CA 26   			lda.l	_vdc_map_pxl_y
         1D:D68C  AC CB 26   			ldy.h	_vdc_map_pxl_y
 5261                        		__and.wi	511
         1D:D68F  29 FF      			and.l	#511
         1D:D691  42         			say
         1D:D692  29 01      			and.h	#511
         1D:D694  42         			say
 5262                        		__st.wmq	_cx
         1D:D695  85 FC      			sta.l	_cx
         1D:D697  84 FD      			sty.h	_cx
 5263                        		__st.umiq	192, _dl
         1D:D699  A9 C0      			lda.l	#192
         1D:D69B  85 FE      			sta	_dl
 5264                        		__call		_scroll_split.5
         1D:D69D  20 81 FF   			call	_scroll_split.5
 5265                        	
 5266                        		.dbg	line,	"include\routines_INTRO.c", 337; }
 5267                        	
 5268                        		.dbg	line,	"include\routines_INTRO.c", 339; else if(global_counter == 173)
 5269                        		__bra		.LL139
         1D:D6A0  4C 64 DA   			bra	.LL139
 5270    1D:D6A3             	.LL134:
 5271                        		__ld.wm		_global_counter
         1D:D6A3  AD 4F 26   			lda.l	_global_counter
         1D:D6A6  AC 50 26   			ldy.h	_global_counter
 5272                        		__equ_w.wi	173
         1D:D6A9  C9 AD      			cmp.l	#173
         1D:D6AB  D0 04      			bne	!false+
         1D:D6AD  C0 00      			cpy.h	#173
         1D:D6AF  F0 01      			beq	!+
         1D:D6B1  18         	!false:		clc
         1D:D6B2             	!:
 5273                        		__bfalse	.LL140
         1D:D6B2  90 18      			bcc	.LL140
 5274                        	
 5275                        		.dbg	line,	"include\routines_INTRO.c", 340; {
 5276                        	
 5277                        		.dbg	line,	"include\routines_INTRO.c", 341; load_palette( 0, palette_INTRO_2, 1 );
 5278                        		__st.umiq	0, _al
         1D:D6B4  64 F8      			stz	_al
 5279                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         1D:D6B6  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:D6B8  85 EC      			sta.l	_bp
         1D:D6BA  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:D6BC  85 ED      			sta.h	_bp
         1D:D6BE  A9 06      			lda	#bank(_palette_INTRO_2)
         1D:D6C0  85 02      			sta	_bp_bank
 5280                        		__st.umiq	1, _ah
         1D:D6C2  A9 01      			lda.l	#1
         1D:D6C4  85 F9      			sta	_ah
 5281                        		__call		_load_palette.3
         1D:D6C6  20 8B FF   			call	_load_palette.3
 5282                        	
 5283                        		.dbg	line,	"include\routines_INTRO.c", 342; }
 5284                        	
 5285                        		.dbg	line,	"include\routines_INTRO.c", 344; else if(global_counter == 174)
 5286                        		__bra		.LL141
         1D:D6C9  4C 64 DA   			bra	.LL141
 5287    1D:D6CC             	.LL140:
 5288                        		__ld.wm		_global_counter
         1D:D6CC  AD 4F 26   			lda.l	_global_counter
         1D:D6CF  AC 50 26   			ldy.h	_global_counter
 5289                        		__equ_w.wi	174
         1D:D6D2  C9 AE      			cmp.l	#174
         1D:D6D4  D0 04      			bne	!false+
         1D:D6D6  C0 00      			cpy.h	#174
         1D:D6D8  F0 01      			beq	!+
         1D:D6DA  18         	!false:		clc
         1D:D6DB             	!:
 5290                        		__bfalse	.LL142
         1D:D6DB  90 24      			bcc	.LL142
 5291                        	
 5292                        		.dbg	line,	"include\routines_INTRO.c", 345; {
 5293                        	
 5294                        		.dbg	line,	"include\routines_INTRO.c", 346; for(i=0 ; i<8 ; i++)
 5295                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D6DD  9C 21 2C   			stz	__sequence_INTRO_end - 1
 5296    1D:D6E0             	.LL143:
 5297                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D6E0  AD 21 2C   			lda	__sequence_INTRO_end - 1
 5298                        		__ult_b.uiq	8
         1D:D6E3  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D6E5  6A         			ror	a		; CC if A < integer.
         1D:D6E6  49 80      			eor	#$80
         1D:D6E8  2A         			rol	a
 5299                        		__btrue		.LL145
         1D:D6E9  B0 08      			bcs	.LL145
 5300                        		__bra		.LL146
         1D:D6EB  4C 64 DA   			bra	.LL146
 5301    1D:D6EE             	.LL144:
 5302                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D6EE  EE 21 2C   			inc	__sequence_INTRO_end - 1
 5303                        		__bra		.LL143
         1D:D6F1  80 ED      			bra	.LL143
 5304    1D:D6F3             	.LL145:
 5305                        	
 5306                        		.dbg	line,	"include\routines_INTRO.c", 347; {
 5307                        	
 5308                        		.dbg	line,	"include\routines_INTRO.c", 348; sgx_spr_set(i);
 5309                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D6F3  AD 21 2C   			lda	__sequence_INTRO_end - 1
 5310                        		__call		_sgx_spr_set.1
         1D:D6F6  20 9E E8   			call	_sgx_spr_set.1
 5311                        	
 5312                        		.dbg	line,	"include\routines_INTRO.c", 349; sgx_spr_hide();
 5313                        		__call		_sgx_spr_hide
         1D:D6F9  20 B9 E8   			call	_sgx_spr_hide
 5314                        	
 5315                        		.dbg	line,	"include\routines_INTRO.c", 350; }
 5316                        		__bra		.LL144
         1D:D6FC  80 F0      			bra	.LL144
 5317    1D:D6FE             	.LL146	.alias		.LL147
 5318                        	
 5319                        		.dbg	line,	"include\routines_INTRO.c", 351; }
 5320                        	
 5321                        		.dbg	line,	"include\routines_INTRO.c", 353; else if(global_counter == 176)
 5322                        		__bra		.LL147
         1D:D6FE  4C 64 DA   			bra	.LL147
 5323    1D:D701             	.LL142:
 5324                        		__ld.wm		_global_counter
         1D:D701  AD 4F 26   			lda.l	_global_counter
         1D:D704  AC 50 26   			ldy.h	_global_counter
 5325                        		__equ_w.wi	176
         1D:D707  C9 B0      			cmp.l	#176
         1D:D709  D0 04      			bne	!false+
         1D:D70B  C0 00      			cpy.h	#176
         1D:D70D  F0 01      			beq	!+
         1D:D70F  18         	!false:		clc
         1D:D710             	!:
 5326                        		__bfalse	.LL148
         1D:D710  90 76      			bcc	.LL148
 5327                        	
 5328                        		.dbg	line,	"include\routines_INTRO.c", 354; {
 5329                        	
 5330                        		.dbg	line,	"include\routines_INTRO.c", 355; for(i=0 ; i<8 ; i++)
 5331                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D712  9C 21 2C   			stz	__sequence_INTRO_end - 1
 5332    1D:D715             	.LL149:
 5333                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D715  AD 21 2C   			lda	__sequence_INTRO_end - 1
 5334                        		__ult_b.uiq	8
         1D:D718  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D71A  6A         			ror	a		; CC if A < integer.
         1D:D71B  49 80      			eor	#$80
         1D:D71D  2A         			rol	a
 5335                        		__btrue		.LL151
         1D:D71E  B0 08      			bcs	.LL151
 5336                        		__bra		.LL152
         1D:D720  4C 64 DA   			bra	.LL152
 5337    1D:D723             	.LL150:
 5338                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D723  EE 21 2C   			inc	__sequence_INTRO_end - 1
 5339                        		__bra		.LL149
         1D:D726  80 ED      			bra	.LL149
 5340    1D:D728             	.LL151:
 5341                        	
 5342                        		.dbg	line,	"include\routines_INTRO.c", 356; {
 5343                        	
 5344                        		.dbg	line,	"include\routines_INTRO.c", 357; sgx_spr_set(i);
 5345                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D728  AD 21 2C   			lda	__sequence_INTRO_end - 1
 5346                        		__call		_sgx_spr_set.1
         1D:D72B  20 9E E8   			call	_sgx_spr_set.1
 5347                        	
 5348                        		.dbg	line,	"include\routines_INTRO.c", 358; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 5349                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D72E  AD 21 2C   			lda	__sequence_INTRO_end - 1
         1D:D731  C2         			cly
 5350                        		__asl.wi	5
         1D:D732  85 00      			sta	__temp
         1D:D734  98         			tya
         1D:D735  4A         			lsr	a
         1D:D736  20 C8 E1   			jsr	aslw5
         1D:D739  29 E0      			and.l	#$FF << 5
 5351                        		__add.wm	_player_pos_x
         1D:D73B  18         			clc
         1D:D73C  6D F5 24   			adc.l	_player_pos_x
         1D:D73F  42         			say
         1D:D740  6D F6 24   			adc.h	_player_pos_x
         1D:D743  42         			say
 5352                        		__push.wr
         1D:D744  5A         			phy
         1D:D745  48         			pha
 5353                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D746  AD 21 2C   			lda	__sequence_INTRO_end - 1
         1D:D749  C2         			cly
 5354                        		__lsr.uiq	2
         1D:D74A  4A         			lsr	a
         1D:D74B  4A         			lsr	a
 5355                        		__asl.wi	7
         1D:D74C  42         			say
         1D:D74D  4A         			lsr	a
         1D:D74E  42         			say
         1D:D74F  6A         			ror	a
         1D:D750  42         			say
         1D:D751  6A         			ror	a
         1D:D752  29 80      			and	#$80
 5356                        		__sub.wt
         1D:D754  BA         			tsx
         1D:D755  38         			sec
         1D:D756  49 FF      			eor	#$FF
         1D:D758  7D 01 21   			adc.l	__tos, x
         1D:D75B  42         			say
         1D:D75C  49 FF      			eor	#$FF
         1D:D75E  7D 02 21   			adc.h	__tos, x
         1D:D761  42         			say
         1D:D762  E8         			inx
         1D:D763  E8         			inx
         1D:D764  9A         			txs
 5357                        		__call		_sgx_spr_x.1
         1D:D765  20 CB E8   			call	_sgx_spr_x.1
 5358                        	
 5359                        		.dbg	line,	"include\routines_INTRO.c", 359; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 5360                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D768  AD 21 2C   			lda	__sequence_INTRO_end - 1
         1D:D76B  C2         			cly
 5361                        		__lsr.uiq	2
         1D:D76C  4A         			lsr	a
         1D:D76D  4A         			lsr	a
 5362                        		__asl.wi	5
         1D:D76E  85 00      			sta	__temp
         1D:D770  98         			tya
         1D:D771  4A         			lsr	a
         1D:D772  20 C8 E1   			jsr	aslw5
         1D:D775  29 E0      			and.l	#$FF << 5
 5363                        		__add.wm	_player_pos_y
         1D:D777  18         			clc
         1D:D778  6D F7 24   			adc.l	_player_pos_y
         1D:D77B  42         			say
         1D:D77C  6D F8 24   			adc.h	_player_pos_y
         1D:D77F  42         			say
 5364                        		__call		_sgx_spr_y.1
         1D:D780  20 DA E8   			call	_sgx_spr_y.1
 5365                        	
 5366                        		.dbg	line,	"include\routines_INTRO.c", 360; }
 5367                        		__bra		.LL150
         1D:D783  80 9E      			bra	.LL150
 5368    1D:D785             	.LL152	.alias		.LL153
 5369                        	
 5370                        		.dbg	line,	"include\routines_INTRO.c", 361; }
 5371                        	
 5372                        		.dbg	line,	"include\routines_INTRO.c", 363; else if(global_counter == 177)
 5373                        		__bra		.LL153
         1D:D785  4C 64 DA   			bra	.LL153
 5374    1D:D788             	.LL148:
 5375                        		__ld.wm		_global_counter
         1D:D788  AD 4F 26   			lda.l	_global_counter
         1D:D78B  AC 50 26   			ldy.h	_global_counter
 5376                        		__equ_w.wi	177
         1D:D78E  C9 B1      			cmp.l	#177
         1D:D790  D0 04      			bne	!false+
         1D:D792  C0 00      			cpy.h	#177
         1D:D794  F0 01      			beq	!+
         1D:D796  18         	!false:		clc
         1D:D797             	!:
 5377                        		__bfalse	.LL154
         1D:D797  90 53      			bcc	.LL154
 5378                        	
 5379                        		.dbg	line,	"include\routines_INTRO.c", 364; {
 5380                        	
 5381                        		.dbg	line,	"include\routines_INTRO.c", 365; vdc_map_pxl_x = 256;
 5382                        		__st.wmiq	256, _vdc_map_pxl_x
         1D:D799  9C C8 26   			stz.l	_vdc_map_pxl_x
         1D:D79C  A9 01      			lda.h	#256
         1D:D79E  8D C9 26   			sta.h	_vdc_map_pxl_x
 5383                        	
 5384                        		.dbg	line,	"include\routines_INTRO.c", 366; vdc_map_pxl_y = 256;
 5385                        		__st.wmiq	256, _vdc_map_pxl_y
         1D:D7A1  9C CA 26   			stz.l	_vdc_map_pxl_y
         1D:D7A4  A9 01      			lda.h	#256
         1D:D7A6  8D CB 26   			sta.h	_vdc_map_pxl_y
 5386                        	
 5387                        		.dbg	line,	"include\routines_INTRO.c", 367; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 5388                        		__st.umiq	0, _al
         1D:D7A9  64 F8      			stz	_al
 5389                        		__st.umiq	0, _ah
         1D:D7AB  64 F9      			stz	_ah
 5390                        		__ld.wm		_vdc_map_pxl_x
         1D:D7AD  AD C8 26   			lda.l	_vdc_map_pxl_x
         1D:D7B0  AC C9 26   			ldy.h	_vdc_map_pxl_x
 5391                        		__and.wi	511
         1D:D7B3  29 FF      			and.l	#511
         1D:D7B5  42         			say
         1D:D7B6  29 01      			and.h	#511
         1D:D7B8  42         			say
 5392                        		__st.wmq	_bx
         1D:D7B9  85 FA      			sta.l	_bx
         1D:D7BB  84 FB      			sty.h	_bx
 5393                        		__ld.wm		_vdc_map_pxl_y
         1D:D7BD  AD CA 26   			lda.l	_vdc_map_pxl_y
         1D:D7C0  AC CB 26   			ldy.h	_vdc_map_pxl_y
 5394                        		__and.wi	511
         1D:D7C3  29 FF      			and.l	#511
         1D:D7C5  42         			say
         1D:D7C6  29 01      			and.h	#511
         1D:D7C8  42         			say
 5395                        		__st.wmq	_cx
         1D:D7C9  85 FC      			sta.l	_cx
         1D:D7CB  84 FD      			sty.h	_cx
 5396                        		__st.umiq	192, _dl
         1D:D7CD  A9 C0      			lda.l	#192
         1D:D7CF  85 FE      			sta	_dl
 5397                        		__call		_scroll_split.5
         1D:D7D1  20 81 FF   			call	_scroll_split.5
 5398                        	
 5399                        		.dbg	line,	"include\routines_INTRO.c", 369; load_palette( 0, palette_INTRO_3, 1 );
 5400                        		__st.umiq	0, _al
         1D:D7D4  64 F8      			stz	_al
 5401                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         1D:D7D6  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:D7D8  85 EC      			sta.l	_bp
         1D:D7DA  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:D7DC  85 ED      			sta.h	_bp
         1D:D7DE  A9 06      			lda	#bank(_palette_INTRO_3)
         1D:D7E0  85 02      			sta	_bp_bank
 5402                        		__st.umiq	1, _ah
         1D:D7E2  A9 01      			lda.l	#1
         1D:D7E4  85 F9      			sta	_ah
 5403                        		__call		_load_palette.3
         1D:D7E6  20 8B FF   			call	_load_palette.3
 5404                        	
 5405                        		.dbg	line,	"include\routines_INTRO.c", 370; }
 5406                        	
 5407                        		.dbg	line,	"include\routines_INTRO.c", 372; else if(global_counter == 178)
 5408                        		__bra		.LL155
         1D:D7E9  4C 64 DA   			bra	.LL155
 5409    1D:D7EC             	.LL154:
 5410                        		__ld.wm		_global_counter
         1D:D7EC  AD 4F 26   			lda.l	_global_counter
         1D:D7EF  AC 50 26   			ldy.h	_global_counter
 5411                        		__equ_w.wi	178
         1D:D7F2  C9 B2      			cmp.l	#178
         1D:D7F4  D0 04      			bne	!false+
         1D:D7F6  C0 00      			cpy.h	#178
         1D:D7F8  F0 01      			beq	!+
         1D:D7FA  18         	!false:		clc
         1D:D7FB             	!:
 5412                        		__bfalse	.LL156
         1D:D7FB  90 24      			bcc	.LL156
 5413                        	
 5414                        		.dbg	line,	"include\routines_INTRO.c", 373; {
 5415                        	
 5416                        		.dbg	line,	"include\routines_INTRO.c", 374; for(i=0 ; i<8 ; i++)
 5417                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D7FD  9C 21 2C   			stz	__sequence_INTRO_end - 1
 5418    1D:D800             	.LL157:
 5419                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D800  AD 21 2C   			lda	__sequence_INTRO_end - 1
 5420                        		__ult_b.uiq	8
         1D:D803  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D805  6A         			ror	a		; CC if A < integer.
         1D:D806  49 80      			eor	#$80
         1D:D808  2A         			rol	a
 5421                        		__btrue		.LL159
         1D:D809  B0 08      			bcs	.LL159
 5422                        		__bra		.LL160
         1D:D80B  4C 64 DA   			bra	.LL160
 5423    1D:D80E             	.LL158:
 5424                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D80E  EE 21 2C   			inc	__sequence_INTRO_end - 1
 5425                        		__bra		.LL157
         1D:D811  80 ED      			bra	.LL157
 5426    1D:D813             	.LL159:
 5427                        	
 5428                        		.dbg	line,	"include\routines_INTRO.c", 375; {
 5429                        	
 5430                        		.dbg	line,	"include\routines_INTRO.c", 376; sgx_spr_set(i);
 5431                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D813  AD 21 2C   			lda	__sequence_INTRO_end - 1
 5432                        		__call		_sgx_spr_set.1
         1D:D816  20 9E E8   			call	_sgx_spr_set.1
 5433                        	
 5434                        		.dbg	line,	"include\routines_INTRO.c", 377; sgx_spr_hide();
 5435                        		__call		_sgx_spr_hide
         1D:D819  20 B9 E8   			call	_sgx_spr_hide
 5436                        	
 5437                        		.dbg	line,	"include\routines_INTRO.c", 378; }
 5438                        		__bra		.LL158
         1D:D81C  80 F0      			bra	.LL158
 5439    1D:D81E             	.LL160	.alias		.LL161
 5440                        	
 5441                        		.dbg	line,	"include\routines_INTRO.c", 379; }
 5442                        	
 5443                        		.dbg	line,	"include\routines_INTRO.c", 381; else if(global_counter == 180)
 5444                        		__bra		.LL161
         1D:D81E  4C 64 DA   			bra	.LL161
 5445    1D:D821             	.LL156:
 5446                        		__ld.wm		_global_counter
         1D:D821  AD 4F 26   			lda.l	_global_counter
         1D:D824  AC 50 26   			ldy.h	_global_counter
 5447                        		__equ_w.wi	180
         1D:D827  C9 B4      			cmp.l	#180
         1D:D829  D0 04      			bne	!false+
         1D:D82B  C0 00      			cpy.h	#180
         1D:D82D  F0 01      			beq	!+
         1D:D82F  18         	!false:		clc
         1D:D830             	!:
 5448                        		__bfalse	.LL162
         1D:D830  90 76      			bcc	.LL162
 5449                        	
 5450                        		.dbg	line,	"include\routines_INTRO.c", 382; {
 5451                        	
 5452                        		.dbg	line,	"include\routines_INTRO.c", 383; for(i=0 ; i<8 ; i++)
 5453                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D832  9C 21 2C   			stz	__sequence_INTRO_end - 1
 5454    1D:D835             	.LL163:
 5455                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D835  AD 21 2C   			lda	__sequence_INTRO_end - 1
 5456                        		__ult_b.uiq	8
         1D:D838  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D83A  6A         			ror	a		; CC if A < integer.
         1D:D83B  49 80      			eor	#$80
         1D:D83D  2A         			rol	a
 5457                        		__btrue		.LL165
         1D:D83E  B0 08      			bcs	.LL165
 5458                        		__bra		.LL166
         1D:D840  4C 64 DA   			bra	.LL166
 5459    1D:D843             	.LL164:
 5460                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D843  EE 21 2C   			inc	__sequence_INTRO_end - 1
 5461                        		__bra		.LL163
         1D:D846  80 ED      			bra	.LL163
 5462    1D:D848             	.LL165:
 5463                        	
 5464                        		.dbg	line,	"include\routines_INTRO.c", 384; {
 5465                        	
 5466                        		.dbg	line,	"include\routines_INTRO.c", 385; sgx_spr_set(i);
 5467                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D848  AD 21 2C   			lda	__sequence_INTRO_end - 1
 5468                        		__call		_sgx_spr_set.1
         1D:D84B  20 9E E8   			call	_sgx_spr_set.1
 5469                        	
 5470                        		.dbg	line,	"include\routines_INTRO.c", 386; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 5471                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D84E  AD 21 2C   			lda	__sequence_INTRO_end - 1
         1D:D851  C2         			cly
 5472                        		__asl.wi	5
         1D:D852  85 00      			sta	__temp
         1D:D854  98         			tya
         1D:D855  4A         			lsr	a
         1D:D856  20 C8 E1   			jsr	aslw5
         1D:D859  29 E0      			and.l	#$FF << 5
 5473                        		__add.wm	_player_pos_x
         1D:D85B  18         			clc
         1D:D85C  6D F5 24   			adc.l	_player_pos_x
         1D:D85F  42         			say
         1D:D860  6D F6 24   			adc.h	_player_pos_x
         1D:D863  42         			say
 5474                        		__push.wr
         1D:D864  5A         			phy
         1D:D865  48         			pha
 5475                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D866  AD 21 2C   			lda	__sequence_INTRO_end - 1
         1D:D869  C2         			cly
 5476                        		__lsr.uiq	2
         1D:D86A  4A         			lsr	a
         1D:D86B  4A         			lsr	a
 5477                        		__asl.wi	7
         1D:D86C  42         			say
         1D:D86D  4A         			lsr	a
         1D:D86E  42         			say
         1D:D86F  6A         			ror	a
         1D:D870  42         			say
         1D:D871  6A         			ror	a
         1D:D872  29 80      			and	#$80
 5478                        		__sub.wt
         1D:D874  BA         			tsx
         1D:D875  38         			sec
         1D:D876  49 FF      			eor	#$FF
         1D:D878  7D 01 21   			adc.l	__tos, x
         1D:D87B  42         			say
         1D:D87C  49 FF      			eor	#$FF
         1D:D87E  7D 02 21   			adc.h	__tos, x
         1D:D881  42         			say
         1D:D882  E8         			inx
         1D:D883  E8         			inx
         1D:D884  9A         			txs
 5479                        		__call		_sgx_spr_x.1
         1D:D885  20 CB E8   			call	_sgx_spr_x.1
 5480                        	
 5481                        		.dbg	line,	"include\routines_INTRO.c", 387; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 5482                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D888  AD 21 2C   			lda	__sequence_INTRO_end - 1
         1D:D88B  C2         			cly
 5483                        		__lsr.uiq	2
         1D:D88C  4A         			lsr	a
         1D:D88D  4A         			lsr	a
 5484                        		__asl.wi	5
         1D:D88E  85 00      			sta	__temp
         1D:D890  98         			tya
         1D:D891  4A         			lsr	a
         1D:D892  20 C8 E1   			jsr	aslw5
         1D:D895  29 E0      			and.l	#$FF << 5
 5485                        		__add.wm	_player_pos_y
         1D:D897  18         			clc
         1D:D898  6D F7 24   			adc.l	_player_pos_y
         1D:D89B  42         			say
         1D:D89C  6D F8 24   			adc.h	_player_pos_y
         1D:D89F  42         			say
 5486                        		__call		_sgx_spr_y.1
         1D:D8A0  20 DA E8   			call	_sgx_spr_y.1
 5487                        	
 5488                        		.dbg	line,	"include\routines_INTRO.c", 388; }
 5489                        		__bra		.LL164
         1D:D8A3  80 9E      			bra	.LL164
 5490    1D:D8A5             	.LL166	.alias		.LL167
 5491                        	
 5492                        		.dbg	line,	"include\routines_INTRO.c", 389; }
 5493                        	
 5494                        		.dbg	line,	"include\routines_INTRO.c", 391; else if(global_counter == 181)
 5495                        		__bra		.LL167
         1D:D8A5  4C 64 DA   			bra	.LL167
 5496    1D:D8A8             	.LL162:
 5497                        		__ld.wm		_global_counter
         1D:D8A8  AD 4F 26   			lda.l	_global_counter
         1D:D8AB  AC 50 26   			ldy.h	_global_counter
 5498                        		__equ_w.wi	181
         1D:D8AE  C9 B5      			cmp.l	#181
         1D:D8B0  D0 04      			bne	!false+
         1D:D8B2  C0 00      			cpy.h	#181
         1D:D8B4  F0 01      			beq	!+
         1D:D8B6  18         	!false:		clc
         1D:D8B7             	!:
 5499                        		__bfalse	.LL168
         1D:D8B7  90 4F      			bcc	.LL168
 5500                        	
 5501                        		.dbg	line,	"include\routines_INTRO.c", 392; {
 5502                        	
 5503                        		.dbg	line,	"include\routines_INTRO.c", 393; vdc_map_pxl_x = 0;
 5504                        		__st.wmiq	0, _vdc_map_pxl_x
         1D:D8B9  9C C8 26   			stz.l	_vdc_map_pxl_x
         1D:D8BC  9C C9 26   			stz.h	_vdc_map_pxl_x
 5505                        	
 5506                        		.dbg	line,	"include\routines_INTRO.c", 394; vdc_map_pxl_y = 0;
 5507                        		__st.wmiq	0, _vdc_map_pxl_y
         1D:D8BF  9C CA 26   			stz.l	_vdc_map_pxl_y
         1D:D8C2  9C CB 26   			stz.h	_vdc_map_pxl_y
 5508                        	
 5509                        		.dbg	line,	"include\routines_INTRO.c", 395; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 5510                        		__st.umiq	0, _al
         1D:D8C5  64 F8      			stz	_al
 5511                        		__st.umiq	0, _ah
         1D:D8C7  64 F9      			stz	_ah
 5512                        		__ld.wm		_vdc_map_pxl_x
         1D:D8C9  AD C8 26   			lda.l	_vdc_map_pxl_x
         1D:D8CC  AC C9 26   			ldy.h	_vdc_map_pxl_x
 5513                        		__and.wi	511
         1D:D8CF  29 FF      			and.l	#511
         1D:D8D1  42         			say
         1D:D8D2  29 01      			and.h	#511
         1D:D8D4  42         			say
 5514                        		__st.wmq	_bx
         1D:D8D5  85 FA      			sta.l	_bx
         1D:D8D7  84 FB      			sty.h	_bx
 5515                        		__ld.wm		_vdc_map_pxl_y
         1D:D8D9  AD CA 26   			lda.l	_vdc_map_pxl_y
         1D:D8DC  AC CB 26   			ldy.h	_vdc_map_pxl_y
 5516                        		__and.wi	511
         1D:D8DF  29 FF      			and.l	#511
         1D:D8E1  42         			say
         1D:D8E2  29 01      			and.h	#511
         1D:D8E4  42         			say
 5517                        		__st.wmq	_cx
         1D:D8E5  85 FC      			sta.l	_cx
         1D:D8E7  84 FD      			sty.h	_cx
 5518                        		__st.umiq	192, _dl
         1D:D8E9  A9 C0      			lda.l	#192
         1D:D8EB  85 FE      			sta	_dl
 5519                        		__call		_scroll_split.5
         1D:D8ED  20 81 FF   			call	_scroll_split.5
 5520                        	
 5521                        		.dbg	line,	"include\routines_INTRO.c", 397; load_palette( 0, palette_INTRO_3, 1 );
 5522                        		__st.umiq	0, _al
         1D:D8F0  64 F8      			stz	_al
 5523                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         1D:D8F2  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:D8F4  85 EC      			sta.l	_bp
         1D:D8F6  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         1D:D8F8  85 ED      			sta.h	_bp
         1D:D8FA  A9 06      			lda	#bank(_palette_INTRO_3)
         1D:D8FC  85 02      			sta	_bp_bank
 5524                        		__st.umiq	1, _ah
         1D:D8FE  A9 01      			lda.l	#1
         1D:D900  85 F9      			sta	_ah
 5525                        		__call		_load_palette.3
         1D:D902  20 8B FF   			call	_load_palette.3
 5526                        	
 5527                        		.dbg	line,	"include\routines_INTRO.c", 398; }
 5528                        	
 5529                        		.dbg	line,	"include\routines_INTRO.c", 400; else if(global_counter == 182)
 5530                        		__bra		.LL169
         1D:D905  4C 64 DA   			bra	.LL169
 5531    1D:D908             	.LL168:
 5532                        		__ld.wm		_global_counter
         1D:D908  AD 4F 26   			lda.l	_global_counter
         1D:D90B  AC 50 26   			ldy.h	_global_counter
 5533                        		__equ_w.wi	182
         1D:D90E  C9 B6      			cmp.l	#182
         1D:D910  D0 04      			bne	!false+
         1D:D912  C0 00      			cpy.h	#182
         1D:D914  F0 01      			beq	!+
         1D:D916  18         	!false:		clc
         1D:D917             	!:
 5534                        		__bfalse	.LL170
         1D:D917  90 38      			bcc	.LL170
 5535                        	
 5536                        		.dbg	line,	"include\routines_INTRO.c", 401; {
 5537                        	
 5538                        		.dbg	line,	"include\routines_INTRO.c", 402; for(i=0 ; i<8 ; i++)
 5539                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D919  9C 21 2C   			stz	__sequence_INTRO_end - 1
 5540    1D:D91C             	.LL171:
 5541                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D91C  AD 21 2C   			lda	__sequence_INTRO_end - 1
 5542                        		__ult_b.uiq	8
         1D:D91F  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D921  6A         			ror	a		; CC if A < integer.
         1D:D922  49 80      			eor	#$80
         1D:D924  2A         			rol	a
 5543                        		__btrue		.LL173
         1D:D925  B0 07      			bcs	.LL173
 5544                        		__bra		.LL174
         1D:D927  80 10      			bra	.LL174
 5545    1D:D929             	.LL172:
 5546                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D929  EE 21 2C   			inc	__sequence_INTRO_end - 1
 5547                        		__bra		.LL171
         1D:D92C  80 EE      			bra	.LL171
 5548    1D:D92E             	.LL173:
 5549                        	
 5550                        		.dbg	line,	"include\routines_INTRO.c", 403; {
 5551                        	
 5552                        		.dbg	line,	"include\routines_INTRO.c", 404; sgx_spr_set(i);
 5553                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D92E  AD 21 2C   			lda	__sequence_INTRO_end - 1
 5554                        		__call		_sgx_spr_set.1
         1D:D931  20 9E E8   			call	_sgx_spr_set.1
 5555                        	
 5556                        		.dbg	line,	"include\routines_INTRO.c", 405; sgx_spr_hide();
 5557                        		__call		_sgx_spr_hide
         1D:D934  20 B9 E8   			call	_sgx_spr_hide
 5558                        	
 5559                        		.dbg	line,	"include\routines_INTRO.c", 406; }
 5560                        		__bra		.LL172
         1D:D937  80 F0      			bra	.LL172
 5561    1D:D939             	.LL174:
 5562                        	
 5563                        		.dbg	line,	"include\routines_INTRO.c", 408; load_palette( 0, palette_INTRO_2, 1 );
 5564                        		__st.umiq	0, _al
         1D:D939  64 F8      			stz	_al
 5565                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         1D:D93B  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:D93D  85 EC      			sta.l	_bp
         1D:D93F  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:D941  85 ED      			sta.h	_bp
         1D:D943  A9 06      			lda	#bank(_palette_INTRO_2)
         1D:D945  85 02      			sta	_bp_bank
 5566                        		__st.umiq	1, _ah
         1D:D947  A9 01      			lda.l	#1
         1D:D949  85 F9      			sta	_ah
 5567                        		__call		_load_palette.3
         1D:D94B  20 8B FF   			call	_load_palette.3
 5568                        	
 5569                        		.dbg	line,	"include\routines_INTRO.c", 409; }
 5570                        	
 5571                        		.dbg	line,	"include\routines_INTRO.c", 411; else if(global_counter == 184)
 5572                        		__bra		.LL175
         1D:D94E  4C 64 DA   			bra	.LL175
 5573    1D:D951             	.LL170:
 5574                        		__ld.wm		_global_counter
         1D:D951  AD 4F 26   			lda.l	_global_counter
         1D:D954  AC 50 26   			ldy.h	_global_counter
 5575                        		__equ_w.wi	184
         1D:D957  C9 B8      			cmp.l	#184
         1D:D959  D0 04      			bne	!false+
         1D:D95B  C0 00      			cpy.h	#184
         1D:D95D  F0 01      			beq	!+
         1D:D95F  18         	!false:		clc
         1D:D960             	!:
 5576                        		__bfalse	.LL176
         1D:D960  90 76      			bcc	.LL176
 5577                        	
 5578                        		.dbg	line,	"include\routines_INTRO.c", 412; {
 5579                        	
 5580                        		.dbg	line,	"include\routines_INTRO.c", 413; for(i=0 ; i<8 ; i++)
 5581                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D962  9C 21 2C   			stz	__sequence_INTRO_end - 1
 5582    1D:D965             	.LL177:
 5583                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D965  AD 21 2C   			lda	__sequence_INTRO_end - 1
 5584                        		__ult_b.uiq	8
         1D:D968  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D96A  6A         			ror	a		; CC if A < integer.
         1D:D96B  49 80      			eor	#$80
         1D:D96D  2A         			rol	a
 5585                        		__btrue		.LL179
         1D:D96E  B0 08      			bcs	.LL179
 5586                        		__bra		.LL180
         1D:D970  4C 64 DA   			bra	.LL180
 5587    1D:D973             	.LL178:
 5588                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D973  EE 21 2C   			inc	__sequence_INTRO_end - 1
 5589                        		__bra		.LL177
         1D:D976  80 ED      			bra	.LL177
 5590    1D:D978             	.LL179:
 5591                        	
 5592                        		.dbg	line,	"include\routines_INTRO.c", 414; {
 5593                        	
 5594                        		.dbg	line,	"include\routines_INTRO.c", 415; sgx_spr_set(i);
 5595                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D978  AD 21 2C   			lda	__sequence_INTRO_end - 1
 5596                        		__call		_sgx_spr_set.1
         1D:D97B  20 9E E8   			call	_sgx_spr_set.1
 5597                        	
 5598                        		.dbg	line,	"include\routines_INTRO.c", 416; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 5599                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D97E  AD 21 2C   			lda	__sequence_INTRO_end - 1
         1D:D981  C2         			cly
 5600                        		__asl.wi	5
         1D:D982  85 00      			sta	__temp
         1D:D984  98         			tya
         1D:D985  4A         			lsr	a
         1D:D986  20 C8 E1   			jsr	aslw5
         1D:D989  29 E0      			and.l	#$FF << 5
 5601                        		__add.wm	_player_pos_x
         1D:D98B  18         			clc
         1D:D98C  6D F5 24   			adc.l	_player_pos_x
         1D:D98F  42         			say
         1D:D990  6D F6 24   			adc.h	_player_pos_x
         1D:D993  42         			say
 5602                        		__push.wr
         1D:D994  5A         			phy
         1D:D995  48         			pha
 5603                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D996  AD 21 2C   			lda	__sequence_INTRO_end - 1
         1D:D999  C2         			cly
 5604                        		__lsr.uiq	2
         1D:D99A  4A         			lsr	a
         1D:D99B  4A         			lsr	a
 5605                        		__asl.wi	7
         1D:D99C  42         			say
         1D:D99D  4A         			lsr	a
         1D:D99E  42         			say
         1D:D99F  6A         			ror	a
         1D:D9A0  42         			say
         1D:D9A1  6A         			ror	a
         1D:D9A2  29 80      			and	#$80
 5606                        		__sub.wt
         1D:D9A4  BA         			tsx
         1D:D9A5  38         			sec
         1D:D9A6  49 FF      			eor	#$FF
         1D:D9A8  7D 01 21   			adc.l	__tos, x
         1D:D9AB  42         			say
         1D:D9AC  49 FF      			eor	#$FF
         1D:D9AE  7D 02 21   			adc.h	__tos, x
         1D:D9B1  42         			say
         1D:D9B2  E8         			inx
         1D:D9B3  E8         			inx
         1D:D9B4  9A         			txs
 5607                        		__call		_sgx_spr_x.1
         1D:D9B5  20 CB E8   			call	_sgx_spr_x.1
 5608                        	
 5609                        		.dbg	line,	"include\routines_INTRO.c", 417; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 5610                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         1D:D9B8  AD 21 2C   			lda	__sequence_INTRO_end - 1
         1D:D9BB  C2         			cly
 5611                        		__lsr.uiq	2
         1D:D9BC  4A         			lsr	a
         1D:D9BD  4A         			lsr	a
 5612                        		__asl.wi	5
         1D:D9BE  85 00      			sta	__temp
         1D:D9C0  98         			tya
         1D:D9C1  4A         			lsr	a
         1D:D9C2  20 C8 E1   			jsr	aslw5
         1D:D9C5  29 E0      			and.l	#$FF << 5
 5613                        		__add.wm	_player_pos_y
         1D:D9C7  18         			clc
         1D:D9C8  6D F7 24   			adc.l	_player_pos_y
         1D:D9CB  42         			say
         1D:D9CC  6D F8 24   			adc.h	_player_pos_y
         1D:D9CF  42         			say
 5614                        		__call		_sgx_spr_y.1
         1D:D9D0  20 DA E8   			call	_sgx_spr_y.1
 5615                        	
 5616                        		.dbg	line,	"include\routines_INTRO.c", 418; }
 5617                        		__bra		.LL178
         1D:D9D3  80 9E      			bra	.LL178
 5618    1D:D9D5             	.LL180	.alias		.LL181
 5619                        	
 5620                        		.dbg	line,	"include\routines_INTRO.c", 419; }
 5621                        	
 5622                        		.dbg	line,	"include\routines_INTRO.c", 421; else if(global_counter == 186)
 5623                        		__bra		.LL181
         1D:D9D5  4C 64 DA   			bra	.LL181
 5624    1D:D9D8             	.LL176:
 5625                        		__ld.wm		_global_counter
         1D:D9D8  AD 4F 26   			lda.l	_global_counter
         1D:D9DB  AC 50 26   			ldy.h	_global_counter
 5626                        		__equ_w.wi	186
         1D:D9DE  C9 BA      			cmp.l	#186
         1D:D9E0  D0 04      			bne	!false+
         1D:D9E2  C0 00      			cpy.h	#186
         1D:D9E4  F0 01      			beq	!+
         1D:D9E6  18         	!false:		clc
         1D:D9E7             	!:
 5627                        		__bfalse	.LL182
         1D:D9E7  90 37      			bcc	.LL182
 5628                        	
 5629                        		.dbg	line,	"include\routines_INTRO.c", 422; {
 5630                        	
 5631                        		.dbg	line,	"include\routines_INTRO.c", 423; for(i=0 ; i<8 ; i++)
 5632                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         1D:D9E9  9C 21 2C   			stz	__sequence_INTRO_end - 1
 5633    1D:D9EC             	.LL183:
 5634                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D9EC  AD 21 2C   			lda	__sequence_INTRO_end - 1
 5635                        		__ult_b.uiq	8
         1D:D9EF  C9 08      			cmp	#8		; Subtract integer from A.
         1D:D9F1  6A         			ror	a		; CC if A < integer.
         1D:D9F2  49 80      			eor	#$80
         1D:D9F4  2A         			rol	a
 5636                        		__btrue		.LL185
         1D:D9F5  B0 07      			bcs	.LL185
 5637                        		__bra		.LL186
         1D:D9F7  80 10      			bra	.LL186
 5638    1D:D9F9             	.LL184:
 5639                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         1D:D9F9  EE 21 2C   			inc	__sequence_INTRO_end - 1
 5640                        		__bra		.LL183
         1D:D9FC  80 EE      			bra	.LL183
 5641    1D:D9FE             	.LL185:
 5642                        	
 5643                        		.dbg	line,	"include\routines_INTRO.c", 424; {
 5644                        	
 5645                        		.dbg	line,	"include\routines_INTRO.c", 425; sgx_spr_set(i);
 5646                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         1D:D9FE  AD 21 2C   			lda	__sequence_INTRO_end - 1
 5647                        		__call		_sgx_spr_set.1
         1D:DA01  20 9E E8   			call	_sgx_spr_set.1
 5648                        	
 5649                        		.dbg	line,	"include\routines_INTRO.c", 426; sgx_spr_hide();
 5650                        		__call		_sgx_spr_hide
         1D:DA04  20 B9 E8   			call	_sgx_spr_hide
 5651                        	
 5652                        		.dbg	line,	"include\routines_INTRO.c", 427; }
 5653                        		__bra		.LL184
         1D:DA07  80 F0      			bra	.LL184
 5654    1D:DA09             	.LL186:
 5655                        	
 5656                        		.dbg	line,	"include\routines_INTRO.c", 429; load_palette( 0, palette_INTRO_2, 1 );
 5657                        		__st.umiq	0, _al
         1D:DA09  64 F8      			stz	_al
 5658                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         1D:DA0B  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:DA0D  85 EC      			sta.l	_bp
         1D:DA0F  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         1D:DA11  85 ED      			sta.h	_bp
         1D:DA13  A9 06      			lda	#bank(_palette_INTRO_2)
         1D:DA15  85 02      			sta	_bp_bank
 5659                        		__st.umiq	1, _ah
         1D:DA17  A9 01      			lda.l	#1
         1D:DA19  85 F9      			sta	_ah
 5660                        		__call		_load_palette.3
         1D:DA1B  20 8B FF   			call	_load_palette.3
 5661                        	
 5662                        		.dbg	line,	"include\routines_INTRO.c", 430; }
 5663                        	
 5664                        		.dbg	line,	"include\routines_INTRO.c", 432; else if(global_counter == 731)
 5665                        		__bra		.LL187
         1D:DA1E  80 44      			bra	.LL187
 5666    1D:DA20             	.LL182:
 5667                        		__ld.wm		_global_counter
         1D:DA20  AD 4F 26   			lda.l	_global_counter
         1D:DA23  AC 50 26   			ldy.h	_global_counter
 5668                        		__equ_w.wi	731
         1D:DA26  C9 DB      			cmp.l	#731
         1D:DA28  D0 04      			bne	!false+
         1D:DA2A  C0 02      			cpy.h	#731
         1D:DA2C  F0 01      			beq	!+
         1D:DA2E  18         	!false:		clc
         1D:DA2F             	!:
 5669                        		__bfalse	.LL188
         1D:DA2F  90 17      			bcc	.LL188
 5670                        	
 5671                        		.dbg	line,	"include\routines_INTRO.c", 433; {
 5672                        	
 5673                        		.dbg	line,	"include\routines_INTRO.c", 434; load_palette( 0, palette_BLACK, 1 );
 5674                        		__st.umiq	0, _al
         1D:DA31  64 F8      			stz	_al
 5675                        		__farptr	_palette_BLACK, _bp_bank, _bp
         1D:DA33  A9 00      			lda.l	#$6000 + ($1FFF & (_palette_BLACK))
         1D:DA35  85 EC      			sta.l	_bp
         1D:DA37  A9 6E      			lda.h	#$6000 + ($1FFF & (_palette_BLACK))
         1D:DA39  85 ED      			sta.h	_bp
         1D:DA3B  A9 03      			lda	#bank(_palette_BLACK)
         1D:DA3D  85 02      			sta	_bp_bank
 5676                        		__st.umiq	1, _ah
         1D:DA3F  A9 01      			lda.l	#1
         1D:DA41  85 F9      			sta	_ah
 5677                        		__call		_load_palette.3
         1D:DA43  20 8B FF   			call	_load_palette.3
 5678                        	
 5679                        		.dbg	line,	"include\routines_INTRO.c", 435; }
 5680                        	
 5681                        		.dbg	line,	"include\routines_INTRO.c", 437; else if(global_counter == 851)
 5682                        		__bra		.LL189
         1D:DA46  80 1C      			bra	.LL189
 5683    1D:DA48             	.LL188:
 5684                        		__ld.wm		_global_counter
         1D:DA48  AD 4F 26   			lda.l	_global_counter
         1D:DA4B  AC 50 26   			ldy.h	_global_counter
 5685                        		__equ_w.wi	851
         1D:DA4E  C9 53      			cmp.l	#851
         1D:DA50  D0 04      			bne	!false+
         1D:DA52  C0 03      			cpy.h	#851
         1D:DA54  F0 01      			beq	!+
         1D:DA56  18         	!false:		clc
         1D:DA57             	!:
 5686                        		__bfalse	.LL190
         1D:DA57  90 0B      			bcc	.LL190
 5687                        	
 5688                        		.dbg	line,	"include\routines_INTRO.c", 438; {
 5689                        	
 5690                        		.dbg	line,	"include\routines_INTRO.c", 439; // DISABLE DISPLAY //
 5691                        	
 5692                        		.dbg	line,	"include\routines_INTRO.c", 440; disp_off();
 5693                        		__call		_disp_off
         1D:DA59  20 3D E4   			call	_disp_off
 5694                        	
 5695                        		.dbg	line,	"include\routines_INTRO.c", 442; sequence_loaded = FALSE;
 5696                        		__st.umiq	0, _sequence_loaded
         1D:DA5C  9C 14 23   			stz	_sequence_loaded
 5697                        	
 5698                        		.dbg	line,	"include\routines_INTRO.c", 444; sequence_id = SEQUENCE_GAME;
 5699                        		__st.umiq	2, _sequence_id
         1D:DA5F  A9 02      			lda.l	#2
         1D:DA61  8D 13 23   			sta	_sequence_id
 5700                        	
 5701                        		.dbg	line,	"include\routines_INTRO.c", 445; }
 5702                        	
 5703                        		.dbg	line,	"include\routines_INTRO.c", 450; //--------------------------------------------------------------------------------------//
 5704                        	
 5705                        		.dbg	line,	"include\routines_INTRO.c", 451; //                                     TEXT DISPLAY                                     //
 5706                        	
 5707                        		.dbg	line,	"include\routines_INTRO.c", 452; //--------------------------------------------------------------------------------------//
 5708                        	
 5709                        		.dbg	line,	"include\routines_INTRO.c", 453; 
 5710                        	
 5711                        		.dbg	line,	"include\routines_INTRO.c", 454; if(global_counter > 241)
 5712    1D:DA64             	.LL190:
 5713    1D:DA64             	.LL189:
 5714    1D:DA64             	.LL187:
 5715    1D:DA64             	.LL181:
 5716    1D:DA64             	.LL175:
 5717    1D:DA64             	.LL169:
 5718    1D:DA64             	.LL167:
 5719    1D:DA64             	.LL161:
 5720    1D:DA64             	.LL155:
 5721    1D:DA64             	.LL153:
 5722    1D:DA64             	.LL147:
 5723    1D:DA64             	.LL141:
 5724    1D:DA64             	.LL139:
 5725    1D:DA64             	.LL133:
 5726    1D:DA64             	.LL127:
 5727    1D:DA64             	.LL121:
 5728    1D:DA64             	.LL115:
 5729    1D:DA64             	.LL109:
 5730    1D:DA64             	.LL107:
 5731    1D:DA64             	.LL101:
 5732    1D:DA64             	.LL95:
 5733    1D:DA64             	.LL93:
 5734    1D:DA64             	.LL87:
 5735    1D:DA64             	.LL81:
 5736    1D:DA64             	.LL75:
 5737    1D:DA64             	.LL69:
 5738    1D:DA64             	.LL63:
 5739    1D:DA64             	.LL61:
 5740    1D:DA64             	.LL59:
 5741    1D:DA64             	.LL57:
 5742    1D:DA64             	.LL55:
 5743    1D:DA64             	.LL53:
 5744    1D:DA64             	.LL51:
 5745                        		__ld.wm		_global_counter
         1D:DA64  AD 4F 26   			lda.l	_global_counter
         1D:DA67  AC 50 26   			ldy.h	_global_counter
 5746                        		__sgt_w.wi	241
         1D:DA6A  18         			clc			; Subtract integer+1 from Y:A.
         1D:DA6B  E9 F1      			sbc.l	#241
         1D:DA6D  98         			tya
         1D:DA6E  E9 00      			sbc.h	#241
         1D:DA70  50 02      			bvc	!+
         1D:DA72  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1D:DA74  49 80      	!:		eor	#$80
         1D:DA76  0A         			asl	a
 5747                        		__bfalse	.LL191
         1D:DA77  B0 03 4C FE			bcc	.LL191
         1D:DA7B  DA          
 5748                        	
 5749                        		.dbg	line,	"include\routines_INTRO.c", 455; {       
 5750                        	
 5751                        		.dbg	line,	"include\routines_INTRO.c", 456; if(letter_counter < 446)
 5752                        		__ld.wm		_letter_counter
         1D:DA7C  AD 53 26   			lda.l	_letter_counter
         1D:DA7F  AC 54 26   			ldy.h	_letter_counter
 5753                        		__slt_w.wi	446
         1D:DA82  C9 BE      			cmp.l	#446		; Subtract integer from Y:A.
         1D:DA84  98         			tya
         1D:DA85  E9 01      			sbc.h	#446
         1D:DA87  50 02      			bvc	!+
         1D:DA89  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1D:DA8B  0A         	!:		asl	a
 5754                        		__bfalse	.LL192
         1D:DA8C  90 68      			bcc	.LL192
 5755                        	
 5756                        		.dbg	line,	"include\routines_INTRO.c", 457; {
 5757                        	
 5758                        		.dbg	line,	"include\routines_INTRO.c", 458; // EVERY 2 FRAMES //
 5759                        	
 5760                        		.dbg	line,	"include\routines_INTRO.c", 459; if(letter_counter%2 == FALSE)
 5761                        		__ld.wm		_letter_counter
         1D:DA8E  AD 53 26   			lda.l	_letter_counter
         1D:DA91  AC 54 26   			ldy.h	_letter_counter
 5762                        		__smod.wi	2
         1D:DA94  A2 02      			ldx.l	#2
         1D:DA96  86 00      			stx.l	<divisor
         1D:DA98  A2 00      			ldx.h	#2
         1D:DA9A  86 01      			stx.h	<divisor
         1D:DA9C  20 CB E4   			jsr	__modsint
 5763                        		__not.wr
         1D:DA9F  84 00      			sty	__temp
         1D:DAA1  05 00      			ora	__temp
         1D:DAA3  18         			clc
         1D:DAA4  D0 01      			bne	!+
         1D:DAA6  38         			sec
         1D:DAA7             	!:
 5764                        		__bfalse	.LL193
         1D:DAA7  90 4D      			bcc	.LL193
 5765                        	
 5766                        		.dbg	line,	"include\routines_INTRO.c", 460; {            
 5767                        	
 5768                        		.dbg	line,	"include\routines_INTRO.c", 461; put_char(TABLE_INTRO_TEXT[letter_index] , 2 + index_x , 4 + ((letter_index / 28) << 1));
 5769                        		__ldx.wmq	_letter_index
         1D:DAA9  AE 51 26   			ldx.l	_letter_index
 5770                        		__ld.uax	_TABLE_INTRO_TEXT
         1D:DAAC  BD 92 60   			lda	_TABLE_INTRO_TEXT, x
         1D:DAAF  C2         			cly
 5771                        		__st.umq	_bl
         1D:DAB0  85 FA      			sta	_bl
 5772                        		__ld.wi		2
         1D:DAB2  A9 02      			lda.l	#2
         1D:DAB4  C2         			cly
 5773                        		__add.um	_index_x
         1D:DAB5  18         			clc
         1D:DAB6  6D EF 23   			adc	_index_x
         1D:DAB9  90 01      			bcc	!+
         1D:DABB  C8         			iny
         1D:DABC             	!:
 5774                        		__st.umq	_dil
         1D:DABC  85 F0      			sta	_dil
 5775                        		__ld.wm		_letter_index
         1D:DABE  AD 51 26   			lda.l	_letter_index
         1D:DAC1  AC 52 26   			ldy.h	_letter_index
 5776                        		__sdiv.wi	28
         1D:DAC4  A2 1C      			ldx.l	#28
         1D:DAC6  86 00      			stx.l	<divisor
         1D:DAC8  A2 00      			ldx.h	#28
         1D:DACA  86 01      			stx.h	<divisor
         1D:DACC  20 C3 E4   			jsr	__divsint
 5777                        		__asl.wi	1
         1D:DACF  0A         			asl	a
         1D:DAD0  42         			say
         1D:DAD1  2A         			rol	a
         1D:DAD2  42         			say
 5778                        		__add.wi	4
         1D:DAD3  18         			clc
         1D:DAD4  69 04      			adc.l	#4
         1D:DAD6  90 01      			bcc	!+
         1D:DAD8  C8         			iny
         1D:DAD9             	!:
 5779                        		__st.umq	_dih
         1D:DAD9  85 F1      			sta	_dih
 5780                        		__call		_put_char.3
         1D:DADB  20 77 FF   			call	_put_char.3
 5781                        	
 5782                        		.dbg	line,	"include\routines_INTRO.c", 463; letter_index += 1;
 5783                        		__add_st.wmiq	1, _letter_index
         1D:DADE  EE 51 26   			inc.l	_letter_index
         1D:DAE1  D0 03      			bne	!+
         1D:DAE3  EE 52 26   			inc.h	_letter_index
         1D:DAE6             	!:
 5784                        	
 5785                        		.dbg	line,	"include\routines_INTRO.c", 464; index_x += 1;
 5786                        		__add_st.umiq	1, _index_x
         1D:DAE6  EE EF 23   			inc	_index_x
 5787                        	
 5788                        		.dbg	line,	"include\routines_INTRO.c", 466; if(index_x == 28)
 5789                        		__ld.umq	_index_x
         1D:DAE9  AD EF 23   			lda	_index_x
 5790                        		__equ_b.uiq	28
         1D:DAEC  C9 1C      			cmp	#28
         1D:DAEE  F0 01      			beq	!+
         1D:DAF0  18         			clc
         1D:DAF1             	!:
 5791                        		__bfalse	.LL194
         1D:DAF1  90 03      			bcc	.LL194
 5792                        	
 5793                        		.dbg	line,	"include\routines_INTRO.c", 467; {
 5794                        	
 5795                        		.dbg	line,	"include\routines_INTRO.c", 468; index_x = 0;
 5796                        		__st.umiq	0, _index_x
         1D:DAF3  9C EF 23   			stz	_index_x
 5797                        	
 5798                        		.dbg	line,	"include\routines_INTRO.c", 469; }
 5799                        	
 5800                        		.dbg	line,	"include\routines_INTRO.c", 470; }
 5801    1D:DAF6             	.LL194:
 5802                        	
 5803                        		.dbg	line,	"include\routines_INTRO.c", 471; }
 5804    1D:DAF6             	.LL193:
 5805                        	
 5806                        		.dbg	line,	"include\routines_INTRO.c", 473; letter_counter += 1;
 5807    1D:DAF6             	.LL192:
 5808                        		__add_st.wmiq	1, _letter_counter
         1D:DAF6  EE 53 26   			inc.l	_letter_counter
         1D:DAF9  D0 03      			bne	!+
         1D:DAFB  EE 54 26   			inc.h	_letter_counter
         1D:DAFE             	!:
 5809                        	
 5810                        		.dbg	line,	"include\routines_INTRO.c", 474; }
 5811                        	
 5812                        		.dbg	line,	"include\routines_INTRO.c", 477; global_counter += 1;
 5813    1D:DAFE             	.LL191:
 5814                        		__add_st.wmiq	1, _global_counter
         1D:DAFE  EE 4F 26   			inc.l	_global_counter
         1D:DB01  D0 03      			bne	!+
         1D:DB03  EE 50 26   			inc.h	_global_counter
         1D:DB06             	!:
 5815                        	
 5816                        		.dbg	line,	"include\routines_INTRO.c", 478; }
 5817    1D:DB06             	.LL6:
 5818                        		__return	0
         1D:DB06  4C EF FF   			jmp	leave_proc
 5819                        		.dbg	clear
 5820                        		.endp
 5821               2300     		.bss
 5822    F8:2300             	__sequence_INTRO_end	.alias	leaf_stack
 5823               E31D     		.code
 5824                        		.pceas
 5825                        	
 5826                        		.dbg	line,	"main.c", 26; #include "include/routines_LEVELS.c"
 5827                        		.dbg	line,	"include\routines_LEVELS.c", 1; #include "huc.h"
 5828                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 5829                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 5830                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 5831                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 5832                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 5833                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 5834                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 5835                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 5836                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 5837                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 5838                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 5839                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 5840                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 5841                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 5842                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 5843                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 5844                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 5845                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 5846                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 5847                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 5848                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 5849                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 5850                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 5851                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 5852                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 5853                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 5854                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 5855                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 5856                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 5857                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 5858                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 5859                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 5860                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 5861                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
 5862                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
 5863                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
 5864                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
 5865                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
 5866                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
 5867                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
 5868                        		.dbg	line,	"include\routines_LEVELS.c", 2; #include "hucc-scroll.h"
 5869                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
 5870                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
 5871                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
 5872                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
 5873                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
 5874                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
 5875                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
 5876                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
 5877                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
 5878                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
 5879                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
 5880                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 5881                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 5882                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 5883                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
 5884                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
 5885                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
 5886                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
 5887                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
 5888                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
 5889                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
 5890                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
 5891                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
 5892                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
 5893                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
 5894                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
 5895                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
 5896                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
 5897                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
 5898                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
 5899                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
 5900                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
 5901                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
 5902                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
 5903                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
 5904                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
 5905                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
 5906                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
 5907                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
 5908                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
 5909                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
 5910                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
 5911                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
 5912                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
 5913                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
 5914                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
 5915                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
 5916                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
 5917                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
 5918                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
 5919                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
 5920                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
 5921                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
 5922                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 5923                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 5924                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
 5925                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
 5926                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
 5927                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
 5928                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
 5929                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
 5930                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
 5931                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
 5932                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
 5933                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
 5934                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
 5935                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
 5936                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
 5937                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
 5938                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
 5939                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
 5940                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
 5941                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
 5942                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
 5943                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
 5944                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
 5945                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
 5946                        		.dbg	line,	"include\routines_LEVELS.c", 3; #include "hucc-chrmap.h"
 5947                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
 5948                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
 5949                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
 5950                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
 5951                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
 5952                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
 5953                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
 5954                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
 5955                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
 5956                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
 5957                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
 5958                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 5959                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 5960                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 5961                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
 5962                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
 5963                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
 5964                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
 5965                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
 5966                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
 5967                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
 5968                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
 5969                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
 5970                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
 5971                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
 5972                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
 5973                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
 5974                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
 5975                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
 5976                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 5977                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 5978                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 5979                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 5980                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 5981                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 5982                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 5983                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 5984                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 5985                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 5986                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 5987                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 5988                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 5989                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 5990                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 5991                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 5992                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 5993                        		.dbg	line,	"include\routines_LEVELS.c", 4; #include "hucc-blkmap.h"
 5994                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 5995                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 5996                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 5997                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 5998                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 5999                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 6000                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 6001                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 6002                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 6003                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 6004                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 6005                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 6006                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 6007                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 6008                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 6009                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 6010                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 6011                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 6012                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 6013                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 6014                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 6015                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 6016                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 6017                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 6018                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 6019                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 6020                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 6021                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 6022                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 6023                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 6024                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 6025                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 6026                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 6027                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 6028                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 6029                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 6030                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 6031                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 6032                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 6033                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 6034                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 6035                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 6036                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 6037                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 6038                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 6039                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 6040                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 6041                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 6042                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 6043                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 6044                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 6045                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 6046                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 6047                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 6048                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 6049                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 6050                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 6051                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 6052                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 6053                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 6054                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 6055                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 6056                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 6057                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 6058                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 6059                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 6060                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 6061                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 6062                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 6063                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 6064                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 6065                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 6066                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 6067                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 6068                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 6069                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 6070                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 6071                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 6072                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 6073                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 6074                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 6075                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 6076                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 6077                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 6078                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 6079                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 6080                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 6081                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 6082                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 6083                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 6084                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 6085                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 6086                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 6087                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 6088                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 6089                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 6090                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 6091                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 6092                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 6093                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 6094                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 6095                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 6096                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 6097                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 6098                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 6099                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 6100                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 6101                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 6102                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 6103                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 6104                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 6105                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 6106                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 6107                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 6108                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 6109                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 6110                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 6111                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 6112                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 6113                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 6114                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 6115                        		.dbg	line,	"include\routines_LEVELS.c", 13; void hide_LEVEL_SPRITES()
 6116                        		.dbg	line,	"include\routines_LEVELS.c", 14; {
 6117                        	;***********************
 6118                        	;***********************
 6119                        	
 6120                        		.hucc
 6121    1F:D495             		.proc		_hide_LEVEL_SPRITES
 6122                        		__enter		_hide_LEVEL_SPRITES
 6123                        	
 6124                        		.dbg	line,	"include\routines_LEVELS.c", 15; char i;
 6125                        	
 6126                        		.dbg	line,	"include\routines_LEVELS.c", 17; for(i=0 ; i<64 ; i++)
 6127                        		__st.umiq	0, __hide_LEVEL_SPRITES_end - 1  /* i */
         1F:D495  9C 21 2C   			stz	__hide_LEVEL_SPRITES_end - 1
 6128    1F:D498             	.LL196:
 6129                        		__ld.umq	__hide_LEVEL_SPRITES_end - 1  /* i */
         1F:D498  AD 21 2C   			lda	__hide_LEVEL_SPRITES_end - 1
 6130                        		__ult_b.uiq	64
         1F:D49B  C9 40      			cmp	#64		; Subtract integer from A.
         1F:D49D  6A         			ror	a		; CC if A < integer.
         1F:D49E  49 80      			eor	#$80
         1F:D4A0  2A         			rol	a
 6131                        		__btrue		.LL198
         1F:D4A1  B0 07      			bcs	.LL198
 6132                        		__bra		.LL199
         1F:D4A3  80 10      			bra	.LL199
 6133    1F:D4A5             	.LL197:
 6134                        		__inc.umq	__hide_LEVEL_SPRITES_end - 1  /* i */
         1F:D4A5  EE 21 2C   			inc	__hide_LEVEL_SPRITES_end - 1
 6135                        		__bra		.LL196
         1F:D4A8  80 EE      			bra	.LL196
 6136    1F:D4AA             	.LL198:
 6137                        	
 6138                        		.dbg	line,	"include\routines_LEVELS.c", 18; {
 6139                        	
 6140                        		.dbg	line,	"include\routines_LEVELS.c", 19; spr_set(i);
 6141                        		__ld.umq	__hide_LEVEL_SPRITES_end - 1  /* i */
         1F:D4AA  AD 21 2C   			lda	__hide_LEVEL_SPRITES_end - 1
 6142                        		__call		_spr_set.1
         1F:D4AD  20 F1 E7   			call	_spr_set.1
 6143                        	
 6144                        		.dbg	line,	"include\routines_LEVELS.c", 20; spr_hide();
 6145                        		__call		_spr_hide
         1F:D4B0  20 0C E8   			call	_spr_hide
 6146                        	
 6147                        		.dbg	line,	"include\routines_LEVELS.c", 21; }
 6148                        		__bra		.LL197
         1F:D4B3  80 F0      			bra	.LL197
 6149    1F:D4B5             	.LL199:
 6150                        	
 6151                        		.dbg	line,	"include\routines_LEVELS.c", 22; }
 6152    1F:D4B5             	.LL195:
 6153                        		__return	0
         1F:D4B5  4C EF FF   			jmp	leave_proc
 6154                        		.dbg	clear
 6155                        		.endp
 6156               2300     		.bss
 6157    F8:2300             	__hide_LEVEL_SPRITES_end	.alias	leaf_stack
 6158               E31D     		.code
 6159                        		.pceas
 6160                        	
 6161                        		.dbg	line,	"include\routines_LEVELS.c", 27; //-----------------------------------------------------------------------------//
 6162                        		.dbg	line,	"include\routines_LEVELS.c", 28; //                                     HUD                                     //
 6163                        		.dbg	line,	"include\routines_LEVELS.c", 29; //-----------------------------------------------------------------------------//
 6164                        		.dbg	line,	"include\routines_LEVELS.c", 31; void display_LIFE()
 6165                        		.dbg	line,	"include\routines_LEVELS.c", 32; {
 6166                        	;***********************
 6167                        	;***********************
 6168                        	
 6169                        		.hucc
 6170    1F:D524             		.proc		_display_LIFE
 6171                        		__enter		_display_LIFE
 6172                        	
 6173                        		.dbg	line,	"include\routines_LEVELS.c", 33; put_number(life_amount,1,1,0);
 6174                        		__ld.um		_life_amount
         1F:D524  AD 2D 23   			lda	_life_amount
         1F:D527  C2         			cly
 6175                        		__st.wmq	_bx
         1F:D528  85 FA      			sta.l	_bx
         1F:D52A  84 FB      			sty.h	_bx
 6176                        		__st.umiq	1, _cl
         1F:D52C  A9 01      			lda.l	#1
         1F:D52E  85 FC      			sta	_cl
 6177                        		__st.umiq	1, _dil
         1F:D530  A9 01      			lda.l	#1
         1F:D532  85 F0      			sta	_dil
 6178                        		__st.umiq	0, _dih
         1F:D534  64 F1      			stz	_dih
 6179                        		__call		_put_number.4
         1F:D536  20 6D FF   			call	_put_number.4
 6180                        	
 6181                        		.dbg	line,	"include\routines_LEVELS.c", 34; }
 6182    1F:D539             	.LL200:
 6183                        		__return	0
         1F:D539  4C EF FF   			jmp	leave_proc
 6184                        		.dbg	clear
 6185                        		.endp
 6186                        		.pceas
 6187                        	
 6188                        		.dbg	line,	"include\routines_LEVELS.c", 37; void display_SCORE()
 6189                        		.dbg	line,	"include\routines_LEVELS.c", 38; {
 6190                        	;***********************
 6191                        	;***********************
 6192                        	
 6193                        		.hucc
 6194    1D:DFDF             		.proc		_display_SCORE
 6195                        		__enter		_display_SCORE
 6196                        	
 6197                        		.dbg	line,	"include\routines_LEVELS.c", 39; put_number(score,6,14,1);
 6198                        		__ld.wm		_score
         1D:DFDF  AD 57 26   			lda.l	_score
         1D:DFE2  AC 58 26   			ldy.h	_score
 6199                        		__st.wmq	_bx
         1D:DFE5  85 FA      			sta.l	_bx
         1D:DFE7  84 FB      			sty.h	_bx
 6200                        		__st.umiq	6, _cl
         1D:DFE9  A9 06      			lda.l	#6
         1D:DFEB  85 FC      			sta	_cl
 6201                        		__st.umiq	14, _dil
         1D:DFED  A9 0E      			lda.l	#14
         1D:DFEF  85 F0      			sta	_dil
 6202                        		__st.umiq	1, _dih
         1D:DFF1  A9 01      			lda.l	#1
         1D:DFF3  85 F1      			sta	_dih
 6203                        		__call		_put_number.4
         1D:DFF5  20 6D FF   			call	_put_number.4
 6204                        	
 6205                        		.dbg	line,	"include\routines_LEVELS.c", 40; }
 6206    1D:DFF8             	.LL201:
 6207                        		__return	0
         1D:DFF8  4C EF FF   			jmp	leave_proc
 6208                        		.dbg	clear
 6209                        		.endp
 6210                        		.pceas
 6211                        	
 6212                        		.dbg	line,	"include\routines_LEVELS.c", 43; void display_TIME_LEVEL()
 6213                        		.dbg	line,	"include\routines_LEVELS.c", 44; {
 6214                        	;***********************
 6215                        	;***********************
 6216                        	
 6217                        		.hucc
 6218    1F:CCDD             		.proc		_display_TIME_LEVEL
 6219                        		__enter		_display_TIME_LEVEL
 6220                        	
 6221                        		.dbg	line,	"include\routines_LEVELS.c", 45; put_number(minutes,1,1,3);
 6222                        		__ld.um		_minutes
         1F:CCDD  AD 31 23   			lda	_minutes
         1F:CCE0  C2         			cly
 6223                        		__st.wmq	_bx
         1F:CCE1  85 FA      			sta.l	_bx
         1F:CCE3  84 FB      			sty.h	_bx
 6224                        		__st.umiq	1, _cl
         1F:CCE5  A9 01      			lda.l	#1
         1F:CCE7  85 FC      			sta	_cl
 6225                        		__st.umiq	1, _dil
         1F:CCE9  A9 01      			lda.l	#1
         1F:CCEB  85 F0      			sta	_dil
 6226                        		__st.umiq	3, _dih
         1F:CCED  A9 03      			lda.l	#3
         1F:CCEF  85 F1      			sta	_dih
 6227                        		__call		_put_number.4
         1F:CCF1  20 6D FF   			call	_put_number.4
 6228                        	
 6229                        		.dbg	line,	"include\routines_LEVELS.c", 47; if(seconds < 10)
 6230                        		__ld.umq	_seconds
         1F:CCF4  AD 32 23   			lda	_seconds
 6231                        		__ult_b.uiq	10
         1F:CCF7  C9 0A      			cmp	#10		; Subtract integer from A.
         1F:CCF9  6A         			ror	a		; CC if A < integer.
         1F:CCFA  49 80      			eor	#$80
         1F:CCFC  2A         			rol	a
 6232                        		__bfalse	.LL203
         1F:CCFD  90 2C      			bcc	.LL203
 6233                        	
 6234                        		.dbg	line,	"include\routines_LEVELS.c", 48; {
 6235                        	
 6236                        		.dbg	line,	"include\routines_LEVELS.c", 49; put_number(0,1,3,3);
 6237                        		__st.wmiq	0, _bx
         1F:CCFF  64 FA      			stz.l	_bx
         1F:CD01  64 FB      			stz.h	_bx
 6238                        		__st.umiq	1, _cl
         1F:CD03  A9 01      			lda.l	#1
         1F:CD05  85 FC      			sta	_cl
 6239                        		__st.umiq	3, _dil
         1F:CD07  A9 03      			lda.l	#3
         1F:CD09  85 F0      			sta	_dil
 6240                        		__st.umiq	3, _dih
         1F:CD0B  A9 03      			lda.l	#3
         1F:CD0D  85 F1      			sta	_dih
 6241                        		__call		_put_number.4
         1F:CD0F  20 6D FF   			call	_put_number.4
 6242                        	
 6243                        		.dbg	line,	"include\routines_LEVELS.c", 50; put_number(seconds,1,4,3);
 6244                        		__ld.um		_seconds
         1F:CD12  AD 32 23   			lda	_seconds
         1F:CD15  C2         			cly
 6245                        		__st.wmq	_bx
         1F:CD16  85 FA      			sta.l	_bx
         1F:CD18  84 FB      			sty.h	_bx
 6246                        		__st.umiq	1, _cl
         1F:CD1A  A9 01      			lda.l	#1
         1F:CD1C  85 FC      			sta	_cl
 6247                        		__st.umiq	4, _dil
         1F:CD1E  A9 04      			lda.l	#4
         1F:CD20  85 F0      			sta	_dil
 6248                        		__st.umiq	3, _dih
         1F:CD22  A9 03      			lda.l	#3
         1F:CD24  85 F1      			sta	_dih
 6249                        		__call		_put_number.4
         1F:CD26  20 6D FF   			call	_put_number.4
 6250                        	
 6251                        		.dbg	line,	"include\routines_LEVELS.c", 51; }
 6252                        	
 6253                        		.dbg	line,	"include\routines_LEVELS.c", 53; else
 6254                        		__bra		.LL204
         1F:CD29  80 17      			bra	.LL204
 6255    1F:CD2B             	.LL203:
 6256                        	
 6257                        		.dbg	line,	"include\routines_LEVELS.c", 54; {
 6258                        	
 6259                        		.dbg	line,	"include\routines_LEVELS.c", 55; put_number(seconds,2,3,3);
 6260                        		__ld.um		_seconds
         1F:CD2B  AD 32 23   			lda	_seconds
         1F:CD2E  C2         			cly
 6261                        		__st.wmq	_bx
         1F:CD2F  85 FA      			sta.l	_bx
         1F:CD31  84 FB      			sty.h	_bx
 6262                        		__st.umiq	2, _cl
         1F:CD33  A9 02      			lda.l	#2
         1F:CD35  85 FC      			sta	_cl
 6263                        		__st.umiq	3, _dil
         1F:CD37  A9 03      			lda.l	#3
         1F:CD39  85 F0      			sta	_dil
 6264                        		__st.umiq	3, _dih
         1F:CD3B  A9 03      			lda.l	#3
         1F:CD3D  85 F1      			sta	_dih
 6265                        		__call		_put_number.4
         1F:CD3F  20 6D FF   			call	_put_number.4
 6266                        	
 6267                        		.dbg	line,	"include\routines_LEVELS.c", 56; }
 6268    1F:CD42             	.LL204:
 6269                        	
 6270                        		.dbg	line,	"include\routines_LEVELS.c", 58; time_counter += 1;
 6271                        		__add_st.umiq	1, _time_counter
         1F:CD42  EE 33 23   			inc	_time_counter
 6272                        	
 6273                        		.dbg	line,	"include\routines_LEVELS.c", 60; if(time_counter == 60)
 6274                        		__ld.umq	_time_counter
         1F:CD45  AD 33 23   			lda	_time_counter
 6275                        		__equ_b.uiq	60
         1F:CD48  C9 3C      			cmp	#60
         1F:CD4A  F0 01      			beq	!+
         1F:CD4C  18         			clc
         1F:CD4D             	!:
 6276                        		__bfalse	.LL205
         1F:CD4D  90 28      			bcc	.LL205
 6277                        	
 6278                        		.dbg	line,	"include\routines_LEVELS.c", 61; {
 6279                        	
 6280                        		.dbg	line,	"include\routines_LEVELS.c", 62; time_counter = 0;
 6281                        		__st.umiq	0, _time_counter
         1F:CD4F  9C 33 23   			stz	_time_counter
 6282                        	
 6283                        		.dbg	line,	"include\routines_LEVELS.c", 64; if(seconds > 0)
 6284                        		__ld.umq	_seconds
         1F:CD52  AD 32 23   			lda	_seconds
 6285                        		__ugt_b.uiq	0
         1F:CD55  18         			clc			; Subtract integer+1 from A.
         1F:CD56  E9 00      			sbc	#0		; CS if A > integer.
 6286                        		__bfalse	.LL206
         1F:CD58  90 05      			bcc	.LL206
 6287                        	
 6288                        		.dbg	line,	"include\routines_LEVELS.c", 65; {
 6289                        	
 6290                        		.dbg	line,	"include\routines_LEVELS.c", 66; seconds -= 1;
 6291                        		__sub_st.umiq	1, _seconds
         1F:CD5A  CE 32 23   			dec	_seconds
 6292                        	
 6293                        		.dbg	line,	"include\routines_LEVELS.c", 67; }
 6294                        	
 6295                        		.dbg	line,	"include\routines_LEVELS.c", 69; else
 6296                        		__bra		.LL207
         1F:CD5D  80 18      			bra	.LL207
 6297    1F:CD5F             	.LL206:
 6298                        	
 6299                        		.dbg	line,	"include\routines_LEVELS.c", 70; {
 6300                        	
 6301                        		.dbg	line,	"include\routines_LEVELS.c", 71; if(minutes > 0)
 6302                        		__ld.umq	_minutes
         1F:CD5F  AD 31 23   			lda	_minutes
 6303                        		__ugt_b.uiq	0
         1F:CD62  18         			clc			; Subtract integer+1 from A.
         1F:CD63  E9 00      			sbc	#0		; CS if A > integer.
 6304                        		__bfalse	.LL208
         1F:CD65  90 0A      			bcc	.LL208
 6305                        	
 6306                        		.dbg	line,	"include\routines_LEVELS.c", 72; {
 6307                        	
 6308                        		.dbg	line,	"include\routines_LEVELS.c", 73; seconds = 59;
 6309                        		__st.umiq	59, _seconds
         1F:CD67  A9 3B      			lda.l	#59
         1F:CD69  8D 32 23   			sta	_seconds
 6310                        	
 6311                        		.dbg	line,	"include\routines_LEVELS.c", 74; minutes -= 1;
 6312                        		__sub_st.umiq	1, _minutes
         1F:CD6C  CE 31 23   			dec	_minutes
 6313                        	
 6314                        		.dbg	line,	"include\routines_LEVELS.c", 75; }
 6315                        	
 6316                        		.dbg	line,	"include\routines_LEVELS.c", 77; else
 6317                        		__bra		.LL209
         1F:CD6F  80 06      			bra	.LL209
 6318    1F:CD71             	.LL208:
 6319                        	
 6320                        		.dbg	line,	"include\routines_LEVELS.c", 78; {
 6321                        	
 6322                        		.dbg	line,	"include\routines_LEVELS.c", 79; seconds = 0;
 6323                        		__st.umiq	0, _seconds
         1F:CD71  9C 32 23   			stz	_seconds
 6324                        	
 6325                        		.dbg	line,	"include\routines_LEVELS.c", 80; minutes = 0;
 6326                        		__st.umiq	0, _minutes
         1F:CD74  9C 31 23   			stz	_minutes
 6327                        	
 6328                        		.dbg	line,	"include\routines_LEVELS.c", 81; // TIME OUT //
 6329                        	
 6330                        		.dbg	line,	"include\routines_LEVELS.c", 82; }
 6331    1F:CD77             	.LL209:
 6332                        	
 6333                        		.dbg	line,	"include\routines_LEVELS.c", 83; }
 6334    1F:CD77             	.LL207:
 6335                        	
 6336                        		.dbg	line,	"include\routines_LEVELS.c", 84; } 
 6337                        	
 6338                        		.dbg	line,	"include\routines_LEVELS.c", 85; }
 6339    1F:CD77             	.LL205:
 6340    1F:CD77             	.LL202:
 6341                        		__return	0
         1F:CD77  4C EF FF   			jmp	leave_proc
 6342                        		.dbg	clear
 6343                        		.endp
 6344                        		.pceas
 6345                        	
 6346                        		.dbg	line,	"include\routines_LEVELS.c", 88; void display_KEY()
 6347                        		.dbg	line,	"include\routines_LEVELS.c", 89; {
 6348                        	;***********************
 6349                        	;***********************
 6350                        	
 6351                        		.hucc
 6352    1F:D4F0             		.proc		_display_KEY
 6353                        		__enter		_display_KEY
 6354                        	
 6355                        		.dbg	line,	"include\routines_LEVELS.c", 90; put_number(key_amount,2,7,27);
 6356                        		__ld.um		_key_amount
         1F:D4F0  AD 2F 23   			lda	_key_amount
         1F:D4F3  C2         			cly
 6357                        		__st.wmq	_bx
         1F:D4F4  85 FA      			sta.l	_bx
         1F:D4F6  84 FB      			sty.h	_bx
 6358                        		__st.umiq	2, _cl
         1F:D4F8  A9 02      			lda.l	#2
         1F:D4FA  85 FC      			sta	_cl
 6359                        		__st.umiq	7, _dil
         1F:D4FC  A9 07      			lda.l	#7
         1F:D4FE  85 F0      			sta	_dil
 6360                        		__st.umiq	27, _dih
         1F:D500  A9 1B      			lda.l	#27
         1F:D502  85 F1      			sta	_dih
 6361                        		__call		_put_number.4
         1F:D504  20 6D FF   			call	_put_number.4
 6362                        	
 6363                        		.dbg	line,	"include\routines_LEVELS.c", 91; }
 6364    1F:D507             	.LL210:
 6365                        		__return	0
         1F:D507  4C EF FF   			jmp	leave_proc
 6366                        		.dbg	clear
 6367                        		.endp
 6368                        		.pceas
 6369                        	
 6370                        		.dbg	line,	"include\routines_LEVELS.c", 94; void display_POTION()
 6371                        		.dbg	line,	"include\routines_LEVELS.c", 95; {
 6372                        	;***********************
 6373                        	;***********************
 6374                        	
 6375                        		.hucc
 6376    1F:D50A             		.proc		_display_POTION
 6377                        		__enter		_display_POTION
 6378                        	
 6379                        		.dbg	line,	"include\routines_LEVELS.c", 96; put_number(potion_amount,2,19,27);
 6380                        		__ld.um		_potion_amount
         1F:D50A  AD 30 23   			lda	_potion_amount
         1F:D50D  C2         			cly
 6381                        		__st.wmq	_bx
         1F:D50E  85 FA      			sta.l	_bx
         1F:D510  84 FB      			sty.h	_bx
 6382                        		__st.umiq	2, _cl
         1F:D512  A9 02      			lda.l	#2
         1F:D514  85 FC      			sta	_cl
 6383                        		__st.umiq	19, _dil
         1F:D516  A9 13      			lda.l	#19
         1F:D518  85 F0      			sta	_dil
 6384                        		__st.umiq	27, _dih
         1F:D51A  A9 1B      			lda.l	#27
         1F:D51C  85 F1      			sta	_dih
 6385                        		__call		_put_number.4
         1F:D51E  20 6D FF   			call	_put_number.4
 6386                        	
 6387                        		.dbg	line,	"include\routines_LEVELS.c", 97; }
 6388    1F:D521             	.LL211:
 6389                        		__return	0
         1F:D521  4C EF FF   			jmp	leave_proc
 6390                        		.dbg	clear
 6391                        		.endp
 6392                        		.pceas
 6393                        	
 6394                        		.dbg	line,	"include\routines_LEVELS.c", 100; void display_ZENNY()
 6395                        		.dbg	line,	"include\routines_LEVELS.c", 101; {
 6396                        	;***********************
 6397                        	;***********************
 6398                        	
 6399                        		.hucc
 6400    1F:D4B8             		.proc		_display_ZENNY
 6401                        		__enter		_display_ZENNY
 6402                        	
 6403                        		.dbg	line,	"include\routines_LEVELS.c", 102; put_number(zenny_amount,5,26,4);
 6404                        		__ld.wm		_zenny_amount
         1F:D4B8  AD 55 26   			lda.l	_zenny_amount
         1F:D4BB  AC 56 26   			ldy.h	_zenny_amount
 6405                        		__st.wmq	_bx
         1F:D4BE  85 FA      			sta.l	_bx
         1F:D4C0  84 FB      			sty.h	_bx
 6406                        		__st.umiq	5, _cl
         1F:D4C2  A9 05      			lda.l	#5
         1F:D4C4  85 FC      			sta	_cl
 6407                        		__st.umiq	26, _dil
         1F:D4C6  A9 1A      			lda.l	#26
         1F:D4C8  85 F0      			sta	_dil
 6408                        		__st.umiq	4, _dih
         1F:D4CA  A9 04      			lda.l	#4
         1F:D4CC  85 F1      			sta	_dih
 6409                        		__call		_put_number.4
         1F:D4CE  20 6D FF   			call	_put_number.4
 6410                        	
 6411                        		.dbg	line,	"include\routines_LEVELS.c", 103; }
 6412    1F:D4D1             	.LL212:
 6413                        		__return	0
         1F:D4D1  4C EF FF   			jmp	leave_proc
 6414                        		.dbg	clear
 6415                        		.endp
 6416                        		.pceas
 6417                        	
 6418                        		.dbg	line,	"include\routines_LEVELS.c", 108; //-----------------------------------------------------------------------------//
 6419                        		.dbg	line,	"include\routines_LEVELS.c", 109; //                                  SCROLLING                                  //
 6420                        		.dbg	line,	"include\routines_LEVELS.c", 110; //-----------------------------------------------------------------------------//
 6421                        		.dbg	line,	"include\routines_LEVELS.c", 112; void scroll_object()
 6422                        		.dbg	line,	"include\routines_LEVELS.c", 113; {
 6423                        	;***********************
 6424                        	;***********************
 6425                        	
 6426                        		.hucc
 6427    1F:C000             		.proc		_scroll_object
 6428                        		__enter		_scroll_object
 6429                        	
 6430                        		.dbg	line,	"include\routines_LEVELS.c", 114; char i;
 6431                        	
 6432                        		.dbg	line,	"include\routines_LEVELS.c", 115; onscreen_object_number = 0;
 6433                        		__st.umiq	0, _onscreen_object_number
         1F:C000  9C 38 23   			stz	_onscreen_object_number
 6434                        	
 6435                        		.dbg	line,	"include\routines_LEVELS.c", 117; for(i=0 ; i<level_object_number ; i++)
 6436                        		__st.umiq	0, __scroll_object_end - 1  /* i */
         1F:C003  9C 21 2C   			stz	__scroll_object_end - 1
 6437    1F:C006             	.LL214:
 6438                        		__ld.umq	__scroll_object_end - 1  /* i */
         1F:C006  AD 21 2C   			lda	__scroll_object_end - 1
 6439                        		__ult_b.umq	_level_object_number
         1F:C009  CD 37 23   			cmp	_level_object_number		; Subtract memory from A.
         1F:C00C  6A         			ror	a		; CC if A < memory.
         1F:C00D  49 80      			eor	#$80
         1F:C00F  2A         			rol	a
 6440                        		__btrue		.LL216
         1F:C010  B0 08      			bcs	.LL216
 6441                        		__bra		.LL217
         1F:C012  4C 60 C1   			bra	.LL217
 6442    1F:C015             	.LL215:
 6443                        		__inc.umq	__scroll_object_end - 1  /* i */
         1F:C015  EE 21 2C   			inc	__scroll_object_end - 1
 6444                        		__bra		.LL214
         1F:C018  80 EC      			bra	.LL214
 6445    1F:C01A             	.LL216:
 6446                        	
 6447                        		.dbg	line,	"include\routines_LEVELS.c", 118; {
 6448                        	
 6449                        		.dbg	line,	"include\routines_LEVELS.c", 119; if(list_object_state[i] != STATE_FREE)
 6450                        		__ldx.umq	__scroll_object_end - 1  /* i */
         1F:C01A  AE 21 2C   			ldx	__scroll_object_end - 1
 6451                        		__tst.uax	_list_object_state
         1F:C01D  BD 52 23   			lda	_list_object_state, x
         1F:C020  C9 01      			cmp	#1
 6452                        		__bfalse	.LL218
         1F:C022  90 F1      			bcc	.LL218
 6453                        	
 6454                        		.dbg	line,	"include\routines_LEVELS.c", 120; {
 6455                        	
 6456                        		.dbg	line,	"include\routines_LEVELS.c", 121; char scroll_allowed = FALSE;
 6457                        		__st.umiq	0, __scroll_object_end - 2  /* scroll_allowed */
         1F:C024  9C 20 2C   			stz	__scroll_object_end - 2
 6458                        	
 6459                        		.dbg	line,	"include\routines_LEVELS.c", 122; 
 6460                        	
 6461                        		.dbg	line,	"include\routines_LEVELS.c", 123; // IF OBJECT X POSITION IS INFERIOR TO SCREEN RIGHT SIDE //
 6462                        	
 6463                        		.dbg	line,	"include\routines_LEVELS.c", 124; if(list_object_x_pos_ref[i] < sgx_map_pxl_x + 256)
 6464                        		__ld.wm		_sgx_map_pxl_x
         1F:C027  AD D8 26   			lda.l	_sgx_map_pxl_x
         1F:C02A  AC D9 26   			ldy.h	_sgx_map_pxl_x
 6465                        		__add.wi	256
         1F:C02D  18         			clc
         1F:C02E  69 00      			adc.l	#256
         1F:C030  42         			say
         1F:C031  69 01      			adc.h	#256
         1F:C033  42         			say
 6466                        		__ld2x.um	__scroll_object_end - 1  /* i */
         1F:C034  AA         			tax
         1F:C035  AD 21 2C   			lda	__scroll_object_end - 1
         1F:C038  0A         			asl	a
         1F:C039  22         			sax
 6467                        		__ugt_w.wax	_list_object_x_pos_ref
         1F:C03A  18         			clc			; Subtract memory+1 from Y:A.
         1F:C03B  FD 63 25   			sbc.l	_list_object_x_pos_ref, x
         1F:C03E  98         			tya
         1F:C03F  FD 64 25   			sbc.h	_list_object_x_pos_ref, x		; CS if Y:A > memory.
 6468                        		__bfalse	.LL219
         1F:C042  B0 03 4C C7			bcc	.LL219
         1F:C046  C0          
 6469                        	
 6470                        		.dbg	line,	"include\routines_LEVELS.c", 125; {
 6471                        	
 6472                        		.dbg	line,	"include\routines_LEVELS.c", 126; // IF OBJECT X POSITION IS SUPERIOR TO SCREEN LEFT SIDE PLUS 16 PX //
 6473                        	
 6474                        		.dbg	line,	"include\routines_LEVELS.c", 127; if(list_object_x_pos_ref[i] - sgx_map_pxl_x + 16 > 0)
 6475                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:C047  AD 21 2C   			lda	__scroll_object_end - 1
         1F:C04A  0A         			asl	a
         1F:C04B  AA         			tax
 6476                        		__ld.wax	_list_object_x_pos_ref
         1F:C04C  BD 63 25   			lda.l	_list_object_x_pos_ref, x
         1F:C04F  BC 64 25   			ldy.h	_list_object_x_pos_ref, x
 6477                        		__sub.wm	_sgx_map_pxl_x
         1F:C052  38         			sec
         1F:C053  ED D8 26   			sbc.l	_sgx_map_pxl_x
         1F:C056  42         			say
         1F:C057  ED D9 26   			sbc.h	_sgx_map_pxl_x
         1F:C05A  42         			say
 6478                        		__add.wi	16
         1F:C05B  18         			clc
         1F:C05C  69 10      			adc.l	#16
         1F:C05E  90 01      			bcc	!+
         1F:C060  C8         			iny
         1F:C061             	!:
 6479                        		__sgt_w.wi	0
         1F:C061  18         			clc			; Subtract integer+1 from Y:A.
         1F:C062  E9 00      			sbc.l	#0
         1F:C064  98         			tya
         1F:C065  E9 00      			sbc.h	#0
         1F:C067  50 02      			bvc	!+
         1F:C069  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:C06B  49 80      	!:		eor	#$80
         1F:C06D  0A         			asl	a
 6480                        		__bfalse	.LL220
         1F:C06E  90 57      			bcc	.LL220
 6481                        	
 6482                        		.dbg	line,	"include\routines_LEVELS.c", 128; {
 6483                        	
 6484                        		.dbg	line,	"include\routines_LEVELS.c", 129; // IF OBJECT Y POSITION IS INFERIOR TO SCREEN BOTTOM //
 6485                        	
 6486                        		.dbg	line,	"include\routines_LEVELS.c", 130; if(list_object_y_pos_ref[i] < sgx_map_pxl_y + 224)
 6487                        		__ld.wm		_sgx_map_pxl_y
         1F:C070  AD DA 26   			lda.l	_sgx_map_pxl_y
         1F:C073  AC DB 26   			ldy.h	_sgx_map_pxl_y
 6488                        		__add.wi	224
         1F:C076  18         			clc
         1F:C077  69 E0      			adc.l	#224
         1F:C079  90 01      			bcc	!+
         1F:C07B  C8         			iny
         1F:C07C             	!:
 6489                        		__ld2x.um	__scroll_object_end - 1  /* i */
         1F:C07C  AA         			tax
         1F:C07D  AD 21 2C   			lda	__scroll_object_end - 1
         1F:C080  0A         			asl	a
         1F:C081  22         			sax
 6490                        		__ugt_w.wax	_list_object_y_pos_ref
         1F:C082  18         			clc			; Subtract memory+1 from Y:A.
         1F:C083  FD 95 25   			sbc.l	_list_object_y_pos_ref, x
         1F:C086  98         			tya
         1F:C087  FD 96 25   			sbc.h	_list_object_y_pos_ref, x		; CS if Y:A > memory.
 6491                        		__bfalse	.LL221
         1F:C08A  90 3B      			bcc	.LL221
 6492                        	
 6493                        		.dbg	line,	"include\routines_LEVELS.c", 131; {
 6494                        	
 6495                        		.dbg	line,	"include\routines_LEVELS.c", 132; // IF OBJECT Y POSITION IS SUPERIOR TO SCREEN TOP PLUS 16 PX //
 6496                        	
 6497                        		.dbg	line,	"include\routines_LEVELS.c", 133; if(list_object_y_pos_ref[i] - sgx_map_pxl_y + 16 > 0)
 6498                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:C08C  AD 21 2C   			lda	__scroll_object_end - 1
         1F:C08F  0A         			asl	a
         1F:C090  AA         			tax
 6499                        		__ld.wax	_list_object_y_pos_ref
         1F:C091  BD 95 25   			lda.l	_list_object_y_pos_ref, x
         1F:C094  BC 96 25   			ldy.h	_list_object_y_pos_ref, x
 6500                        		__sub.wm	_sgx_map_pxl_y
         1F:C097  38         			sec
         1F:C098  ED DA 26   			sbc.l	_sgx_map_pxl_y
         1F:C09B  42         			say
         1F:C09C  ED DB 26   			sbc.h	_sgx_map_pxl_y
         1F:C09F  42         			say
 6501                        		__add.wi	16
         1F:C0A0  18         			clc
         1F:C0A1  69 10      			adc.l	#16
         1F:C0A3  90 01      			bcc	!+
         1F:C0A5  C8         			iny
         1F:C0A6             	!:
 6502                        		__sgt_w.wi	0
         1F:C0A6  18         			clc			; Subtract integer+1 from Y:A.
         1F:C0A7  E9 00      			sbc.l	#0
         1F:C0A9  98         			tya
         1F:C0AA  E9 00      			sbc.h	#0
         1F:C0AC  50 02      			bvc	!+
         1F:C0AE  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:C0B0  49 80      	!:		eor	#$80
         1F:C0B2  0A         			asl	a
 6503                        		__bfalse	.LL222
         1F:C0B3  90 12      			bcc	.LL222
 6504                        	
 6505                        		.dbg	line,	"include\routines_LEVELS.c", 134; {
 6506                        	
 6507                        		.dbg	line,	"include\routines_LEVELS.c", 135; // WE STORE THE OBJECT ID //
 6508                        	
 6509                        		.dbg	line,	"include\routines_LEVELS.c", 136; list_onscreen_object[onscreen_object_number] = i;
 6510                        		__ldx.umq	_onscreen_object_number
         1F:C0B5  AE 38 23   			ldx	_onscreen_object_number
 6511                        		__ld.um		__scroll_object_end - 1  /* i */
         1F:C0B8  AD 21 2C   			lda	__scroll_object_end - 1
         1F:C0BB  C2         			cly
 6512                        		__st.uaxq	_list_onscreen_object
         1F:C0BC  9D B6 23   			sta	_list_onscreen_object, x
 6513                        	
 6514                        		.dbg	line,	"include\routines_LEVELS.c", 137; onscreen_object_number += 1;
 6515                        		__add_st.umiq	1, _onscreen_object_number
         1F:C0BF  EE 38 23   			inc	_onscreen_object_number
 6516                        	
 6517                        		.dbg	line,	"include\routines_LEVELS.c", 138; //put_number(list_object_counter[i],1,0,i);
 6518                        	
 6519                        		.dbg	line,	"include\routines_LEVELS.c", 139; scroll_allowed = TRUE;
 6520                        		__st.umiq	1, __scroll_object_end - 2  /* scroll_allowed */
         1F:C0C2  A9 01      			lda.l	#1
         1F:C0C4  8D 20 2C   			sta	__scroll_object_end - 2
 6521                        	
 6522                        		.dbg	line,	"include\routines_LEVELS.c", 140; }
 6523                        	
 6524                        		.dbg	line,	"include\routines_LEVELS.c", 141; }
 6525    1F:C0C7             	.LL222:
 6526                        	
 6527                        		.dbg	line,	"include\routines_LEVELS.c", 142; }
 6528    1F:C0C7             	.LL221:
 6529                        	
 6530                        		.dbg	line,	"include\routines_LEVELS.c", 143; }
 6531    1F:C0C7             	.LL220:
 6532                        	
 6533                        		.dbg	line,	"include\routines_LEVELS.c", 145; // IF OBJECTS IS WITHIN THE SCREEN LIMITS //
 6534                        	
 6535                        		.dbg	line,	"include\routines_LEVELS.c", 146; if(scroll_allowed == TRUE)
 6536    1F:C0C7             	.LL219:
 6537                        		__ld.umq	__scroll_object_end - 2  /* scroll_allowed */
         1F:C0C7  AD 20 2C   			lda	__scroll_object_end - 2
 6538                        		__equ_b.uiq	1
         1F:C0CA  C9 01      			cmp	#1
         1F:C0CC  F0 01      			beq	!+
         1F:C0CE  18         			clc
         1F:C0CF             	!:
 6539                        		__bfalse	.LL223
         1F:C0CF  90 44      			bcc	.LL223
 6540                        	
 6541                        		.dbg	line,	"include\routines_LEVELS.c", 147; {
 6542                        	
 6543                        		.dbg	line,	"include\routines_LEVELS.c", 148; list_object_x_pos[i] = list_object_x_pos_ref[i] - sgx_map_pxl_x;
 6544                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:C0D1  AD 21 2C   			lda	__scroll_object_end - 1
         1F:C0D4  0A         			asl	a
         1F:C0D5  AA         			tax
 6545                        		__ld.wax	_list_object_x_pos_ref
         1F:C0D6  BD 63 25   			lda.l	_list_object_x_pos_ref, x
         1F:C0D9  BC 64 25   			ldy.h	_list_object_x_pos_ref, x
 6546                        		__sub.wm	_sgx_map_pxl_x
         1F:C0DC  38         			sec
         1F:C0DD  ED D8 26   			sbc.l	_sgx_map_pxl_x
         1F:C0E0  42         			say
         1F:C0E1  ED D9 26   			sbc.h	_sgx_map_pxl_x
         1F:C0E4  42         			say
 6547                        		__ld2x.um	__scroll_object_end - 1  /* i */
         1F:C0E5  AA         			tax
         1F:C0E6  AD 21 2C   			lda	__scroll_object_end - 1
         1F:C0E9  0A         			asl	a
         1F:C0EA  22         			sax
 6548                        		__st.waxq	_list_object_x_pos
         1F:C0EB  9D FF 24   			sta.l	_list_object_x_pos, x
         1F:C0EE  98         			tya
         1F:C0EF  9D 00 25   			sta.h	_list_object_x_pos, x
 6549                        	
 6550                        		.dbg	line,	"include\routines_LEVELS.c", 149; list_object_y_pos[i] = list_object_y_pos_ref[i] - sgx_map_pxl_y;
 6551                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:C0F2  AD 21 2C   			lda	__scroll_object_end - 1
         1F:C0F5  0A         			asl	a
         1F:C0F6  AA         			tax
 6552                        		__ld.wax	_list_object_y_pos_ref
         1F:C0F7  BD 95 25   			lda.l	_list_object_y_pos_ref, x
         1F:C0FA  BC 96 25   			ldy.h	_list_object_y_pos_ref, x
 6553                        		__sub.wm	_sgx_map_pxl_y
         1F:C0FD  38         			sec
         1F:C0FE  ED DA 26   			sbc.l	_sgx_map_pxl_y
         1F:C101  42         			say
         1F:C102  ED DB 26   			sbc.h	_sgx_map_pxl_y
         1F:C105  42         			say
 6554                        		__ld2x.um	__scroll_object_end - 1  /* i */
         1F:C106  AA         			tax
         1F:C107  AD 21 2C   			lda	__scroll_object_end - 1
         1F:C10A  0A         			asl	a
         1F:C10B  22         			sax
 6555                        		__st.waxq	_list_object_y_pos
         1F:C10C  9D 31 25   			sta.l	_list_object_y_pos, x
         1F:C10F  98         			tya
         1F:C110  9D 32 25   			sta.h	_list_object_y_pos, x
 6556                        	
 6557                        		.dbg	line,	"include\routines_LEVELS.c", 150; }
 6558                        	
 6559                        		.dbg	line,	"include\routines_LEVELS.c", 152; else
 6560                        		__bra		.LL224
         1F:C113  80 1E      			bra	.LL224
 6561    1F:C115             	.LL223:
 6562                        	
 6563                        		.dbg	line,	"include\routines_LEVELS.c", 153; {
 6564                        	
 6565                        		.dbg	line,	"include\routines_LEVELS.c", 154; list_object_x_pos[i] = -16;
 6566                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:C115  AD 21 2C   			lda	__scroll_object_end - 1
         1F:C118  0A         			asl	a
         1F:C119  AA         			tax
 6567                        		__st.waxiq	-16, _list_object_x_pos
         1F:C11A  A9 F0      			lda.l	#-16
         1F:C11C  9D FF 24   			sta.l	_list_object_x_pos, x
         1F:C11F  A9 FF      			lda.h	#-16
         1F:C121  9D 00 25   			sta.h	_list_object_x_pos, x
 6568                        	
 6569                        		.dbg	line,	"include\routines_LEVELS.c", 155; list_object_y_pos[i] = -16;
 6570                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:C124  AD 21 2C   			lda	__scroll_object_end - 1
         1F:C127  0A         			asl	a
         1F:C128  AA         			tax
 6571                        		__st.waxiq	-16, _list_object_y_pos
         1F:C129  A9 F0      			lda.l	#-16
         1F:C12B  9D 31 25   			sta.l	_list_object_y_pos, x
         1F:C12E  A9 FF      			lda.h	#-16
         1F:C130  9D 32 25   			sta.h	_list_object_y_pos, x
 6572                        	
 6573                        		.dbg	line,	"include\routines_LEVELS.c", 156; }
 6574    1F:C133             	.LL224:
 6575                        	
 6576                        		.dbg	line,	"include\routines_LEVELS.c", 158; sgx_spr_set(i + object_start_index);
 6577                        		__ld.um		__scroll_object_end - 1  /* i */
         1F:C133  AD 21 2C   			lda	__scroll_object_end - 1
         1F:C136  C2         			cly
 6578                        		__add.um	_object_start_index
         1F:C137  18         			clc
         1F:C138  6D 36 23   			adc	_object_start_index
         1F:C13B  90 01      			bcc	!+
         1F:C13D  C8         			iny
         1F:C13E             	!:
 6579                        		__call		_sgx_spr_set.1
         1F:C13E  20 9E E8   			call	_sgx_spr_set.1
 6580                        	
 6581                        		.dbg	line,	"include\routines_LEVELS.c", 160; sgx_spr_x(list_object_x_pos[i]);
 6582                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:C141  AD 21 2C   			lda	__scroll_object_end - 1
         1F:C144  0A         			asl	a
         1F:C145  AA         			tax
 6583                        		__ld.wax	_list_object_x_pos
         1F:C146  BD FF 24   			lda.l	_list_object_x_pos, x
         1F:C149  BC 00 25   			ldy.h	_list_object_x_pos, x
 6584                        		__call		_sgx_spr_x.1
         1F:C14C  20 CB E8   			call	_sgx_spr_x.1
 6585                        	
 6586                        		.dbg	line,	"include\routines_LEVELS.c", 161; sgx_spr_y(list_object_y_pos[i]);
 6587                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:C14F  AD 21 2C   			lda	__scroll_object_end - 1
         1F:C152  0A         			asl	a
         1F:C153  AA         			tax
 6588                        		__ld.wax	_list_object_y_pos
         1F:C154  BD 31 25   			lda.l	_list_object_y_pos, x
         1F:C157  BC 32 25   			ldy.h	_list_object_y_pos, x
 6589                        		__call		_sgx_spr_y.1
         1F:C15A  20 DA E8   			call	_sgx_spr_y.1
 6590                        	
 6591                        		.dbg	line,	"include\routines_LEVELS.c", 162; }
 6592                        	
 6593                        		.dbg	line,	"include\routines_LEVELS.c", 163; }
 6594    1F:C15D             	.LL218	.alias		.LL215
 6595                        		__bra		.LL215
         1F:C15D  4C 15 C0   			bra	.LL215
 6596    1F:C160             	.LL217:
 6597                        	
 6598                        		.dbg	line,	"include\routines_LEVELS.c", 164; }
 6599    1F:C160             	.LL213:
 6600                        		__return	0
         1F:C160  4C EF FF   			jmp	leave_proc
 6601                        		.dbg	clear
 6602                        		.endp
 6603               2300     		.bss
 6604    F8:2300             	__scroll_object_end	.alias	leaf_stack
 6605               E31D     		.code
 6606                        		.pceas
 6607                        	
 6608                        		.dbg	line,	"include\routines_LEVELS.c", 167; void scroll_chest()
 6609                        		.dbg	line,	"include\routines_LEVELS.c", 168; {
 6610                        	;***********************
 6611                        	;***********************
 6612                        	
 6613                        		.hucc
 6614    1F:C163             		.proc		_scroll_chest
 6615                        		__enter		_scroll_chest
 6616                        	
 6617                        		.dbg	line,	"include\routines_LEVELS.c", 169; char i;
 6618                        	
 6619                        		.dbg	line,	"include\routines_LEVELS.c", 170; onscreen_chest_number = 0;
 6620                        		__st.umiq	0, _onscreen_chest_number
         1F:C163  9C C0 23   			stz	_onscreen_chest_number
 6621                        	
 6622                        		.dbg	line,	"include\routines_LEVELS.c", 172; for(i=0 ; i<level_chest_number ; i++)
 6623                        		__st.umiq	0, __scroll_chest_end - 1  /* i */
         1F:C166  9C 21 2C   			stz	__scroll_chest_end - 1
 6624    1F:C169             	.LL226:
 6625                        		__ld.umq	__scroll_chest_end - 1  /* i */
         1F:C169  AD 21 2C   			lda	__scroll_chest_end - 1
 6626                        		__ult_b.umq	_level_chest_number
         1F:C16C  CD BF 23   			cmp	_level_chest_number		; Subtract memory from A.
         1F:C16F  6A         			ror	a		; CC if A < memory.
         1F:C170  49 80      			eor	#$80
         1F:C172  2A         			rol	a
 6627                        		__btrue		.LL228
         1F:C173  B0 08      			bcs	.LL228
 6628                        		__bra		.LL229
         1F:C175  4C C3 C2   			bra	.LL229
 6629    1F:C178             	.LL227:
 6630                        		__inc.umq	__scroll_chest_end - 1  /* i */
         1F:C178  EE 21 2C   			inc	__scroll_chest_end - 1
 6631                        		__bra		.LL226
         1F:C17B  80 EC      			bra	.LL226
 6632    1F:C17D             	.LL228:
 6633                        	
 6634                        		.dbg	line,	"include\routines_LEVELS.c", 173; {
 6635                        	
 6636                        		.dbg	line,	"include\routines_LEVELS.c", 174; if(list_chest_state[i] != STATE_FREE)
 6637                        		__ldx.umq	__scroll_chest_end - 1  /* i */
         1F:C17D  AE 21 2C   			ldx	__scroll_chest_end - 1
 6638                        		__tst.uax	_list_chest_state
         1F:C180  BD C1 23   			lda	_list_chest_state, x
         1F:C183  C9 01      			cmp	#1
 6639                        		__bfalse	.LL230
         1F:C185  90 F1      			bcc	.LL230
 6640                        	
 6641                        		.dbg	line,	"include\routines_LEVELS.c", 175; {
 6642                        	
 6643                        		.dbg	line,	"include\routines_LEVELS.c", 176; char scroll_allowed = FALSE;
 6644                        		__st.umiq	0, __scroll_chest_end - 2  /* scroll_allowed */
         1F:C187  9C 20 2C   			stz	__scroll_chest_end - 2
 6645                        	
 6646                        		.dbg	line,	"include\routines_LEVELS.c", 177; 
 6647                        	
 6648                        		.dbg	line,	"include\routines_LEVELS.c", 178; // IF CHEST X POSITION IS INFERIOR TO SCREEN RIGHT SIDE //
 6649                        	
 6650                        		.dbg	line,	"include\routines_LEVELS.c", 179; if(list_chest_x_pos_ref[i] < sgx_map_pxl_x + 256)
 6651                        		__ld.wm		_sgx_map_pxl_x
         1F:C18A  AD D8 26   			lda.l	_sgx_map_pxl_x
         1F:C18D  AC D9 26   			ldy.h	_sgx_map_pxl_x
 6652                        		__add.wi	256
         1F:C190  18         			clc
         1F:C191  69 00      			adc.l	#256
         1F:C193  42         			say
         1F:C194  69 01      			adc.h	#256
         1F:C196  42         			say
 6653                        		__ld2x.um	__scroll_chest_end - 1  /* i */
         1F:C197  AA         			tax
         1F:C198  AD 21 2C   			lda	__scroll_chest_end - 1
         1F:C19B  0A         			asl	a
         1F:C19C  22         			sax
 6654                        		__ugt_w.wax	_list_chest_x_pos_ref
         1F:C19D  18         			clc			; Subtract memory+1 from Y:A.
         1F:C19E  FD E7 25   			sbc.l	_list_chest_x_pos_ref, x
         1F:C1A1  98         			tya
         1F:C1A2  FD E8 25   			sbc.h	_list_chest_x_pos_ref, x		; CS if Y:A > memory.
 6655                        		__bfalse	.LL231
         1F:C1A5  B0 03 4C 2A			bcc	.LL231
         1F:C1A9  C2          
 6656                        	
 6657                        		.dbg	line,	"include\routines_LEVELS.c", 180; {
 6658                        	
 6659                        		.dbg	line,	"include\routines_LEVELS.c", 181; // IF CHEST X POSITION IS SUPERIOR TO SCREEN LEFT SIDE PLUS 32 PX //
 6660                        	
 6661                        		.dbg	line,	"include\routines_LEVELS.c", 182; if(list_chest_x_pos_ref[i] - sgx_map_pxl_x + 32 > 0)
 6662                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:C1AA  AD 21 2C   			lda	__scroll_chest_end - 1
         1F:C1AD  0A         			asl	a
         1F:C1AE  AA         			tax
 6663                        		__ld.wax	_list_chest_x_pos_ref
         1F:C1AF  BD E7 25   			lda.l	_list_chest_x_pos_ref, x
         1F:C1B2  BC E8 25   			ldy.h	_list_chest_x_pos_ref, x
 6664                        		__sub.wm	_sgx_map_pxl_x
         1F:C1B5  38         			sec
         1F:C1B6  ED D8 26   			sbc.l	_sgx_map_pxl_x
         1F:C1B9  42         			say
         1F:C1BA  ED D9 26   			sbc.h	_sgx_map_pxl_x
         1F:C1BD  42         			say
 6665                        		__add.wi	32
         1F:C1BE  18         			clc
         1F:C1BF  69 20      			adc.l	#32
         1F:C1C1  90 01      			bcc	!+
         1F:C1C3  C8         			iny
         1F:C1C4             	!:
 6666                        		__sgt_w.wi	0
         1F:C1C4  18         			clc			; Subtract integer+1 from Y:A.
         1F:C1C5  E9 00      			sbc.l	#0
         1F:C1C7  98         			tya
         1F:C1C8  E9 00      			sbc.h	#0
         1F:C1CA  50 02      			bvc	!+
         1F:C1CC  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:C1CE  49 80      	!:		eor	#$80
         1F:C1D0  0A         			asl	a
 6667                        		__bfalse	.LL232
         1F:C1D1  90 57      			bcc	.LL232
 6668                        	
 6669                        		.dbg	line,	"include\routines_LEVELS.c", 183; {
 6670                        	
 6671                        		.dbg	line,	"include\routines_LEVELS.c", 184; // IF CHEST Y POSITION IS INFERIOR TO SCREEN BOTTOM //
 6672                        	
 6673                        		.dbg	line,	"include\routines_LEVELS.c", 185; if(list_chest_y_pos_ref[i] < sgx_map_pxl_y + 224)
 6674                        		__ld.wm		_sgx_map_pxl_y
         1F:C1D3  AD DA 26   			lda.l	_sgx_map_pxl_y
         1F:C1D6  AC DB 26   			ldy.h	_sgx_map_pxl_y
 6675                        		__add.wi	224
         1F:C1D9  18         			clc
         1F:C1DA  69 E0      			adc.l	#224
         1F:C1DC  90 01      			bcc	!+
         1F:C1DE  C8         			iny
         1F:C1DF             	!:
 6676                        		__ld2x.um	__scroll_chest_end - 1  /* i */
         1F:C1DF  AA         			tax
         1F:C1E0  AD 21 2C   			lda	__scroll_chest_end - 1
         1F:C1E3  0A         			asl	a
         1F:C1E4  22         			sax
 6677                        		__ugt_w.wax	_list_chest_y_pos_ref
         1F:C1E5  18         			clc			; Subtract memory+1 from Y:A.
         1F:C1E6  FD F7 25   			sbc.l	_list_chest_y_pos_ref, x
         1F:C1E9  98         			tya
         1F:C1EA  FD F8 25   			sbc.h	_list_chest_y_pos_ref, x		; CS if Y:A > memory.
 6678                        		__bfalse	.LL233
         1F:C1ED  90 3B      			bcc	.LL233
 6679                        	
 6680                        		.dbg	line,	"include\routines_LEVELS.c", 186; {
 6681                        	
 6682                        		.dbg	line,	"include\routines_LEVELS.c", 187; // IF CHEST Y POSITION IS SUPERIOR TO SCREEN TOP PLUS 32 PX //
 6683                        	
 6684                        		.dbg	line,	"include\routines_LEVELS.c", 188; if(list_chest_y_pos_ref[i] - sgx_map_pxl_y + 32 > 0)
 6685                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:C1EF  AD 21 2C   			lda	__scroll_chest_end - 1
         1F:C1F2  0A         			asl	a
         1F:C1F3  AA         			tax
 6686                        		__ld.wax	_list_chest_y_pos_ref
         1F:C1F4  BD F7 25   			lda.l	_list_chest_y_pos_ref, x
         1F:C1F7  BC F8 25   			ldy.h	_list_chest_y_pos_ref, x
 6687                        		__sub.wm	_sgx_map_pxl_y
         1F:C1FA  38         			sec
         1F:C1FB  ED DA 26   			sbc.l	_sgx_map_pxl_y
         1F:C1FE  42         			say
         1F:C1FF  ED DB 26   			sbc.h	_sgx_map_pxl_y
         1F:C202  42         			say
 6688                        		__add.wi	32
         1F:C203  18         			clc
         1F:C204  69 20      			adc.l	#32
         1F:C206  90 01      			bcc	!+
         1F:C208  C8         			iny
         1F:C209             	!:
 6689                        		__sgt_w.wi	0
         1F:C209  18         			clc			; Subtract integer+1 from Y:A.
         1F:C20A  E9 00      			sbc.l	#0
         1F:C20C  98         			tya
         1F:C20D  E9 00      			sbc.h	#0
         1F:C20F  50 02      			bvc	!+
         1F:C211  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:C213  49 80      	!:		eor	#$80
         1F:C215  0A         			asl	a
 6690                        		__bfalse	.LL234
         1F:C216  90 12      			bcc	.LL234
 6691                        	
 6692                        		.dbg	line,	"include\routines_LEVELS.c", 189; {
 6693                        	
 6694                        		.dbg	line,	"include\routines_LEVELS.c", 190; // WE STORE THE CHEST ID //
 6695                        	
 6696                        		.dbg	line,	"include\routines_LEVELS.c", 191; list_onscreen_chest[onscreen_chest_number] = i;
 6697                        		__ldx.umq	_onscreen_chest_number
         1F:C218  AE C0 23   			ldx	_onscreen_chest_number
 6698                        		__ld.um		__scroll_chest_end - 1  /* i */
         1F:C21B  AD 21 2C   			lda	__scroll_chest_end - 1
         1F:C21E  C2         			cly
 6699                        		__st.uaxq	_list_onscreen_chest
         1F:C21F  9D C9 23   			sta	_list_onscreen_chest, x
 6700                        	
 6701                        		.dbg	line,	"include\routines_LEVELS.c", 192; onscreen_chest_number += 1;
 6702                        		__add_st.umiq	1, _onscreen_chest_number
         1F:C222  EE C0 23   			inc	_onscreen_chest_number
 6703                        	
 6704                        		.dbg	line,	"include\routines_LEVELS.c", 193; 
 6705                        	
 6706                        		.dbg	line,	"include\routines_LEVELS.c", 194; scroll_allowed = TRUE;
 6707                        		__st.umiq	1, __scroll_chest_end - 2  /* scroll_allowed */
         1F:C225  A9 01      			lda.l	#1
         1F:C227  8D 20 2C   			sta	__scroll_chest_end - 2
 6708                        	
 6709                        		.dbg	line,	"include\routines_LEVELS.c", 195; }
 6710                        	
 6711                        		.dbg	line,	"include\routines_LEVELS.c", 196; }
 6712    1F:C22A             	.LL234:
 6713                        	
 6714                        		.dbg	line,	"include\routines_LEVELS.c", 197; }
 6715    1F:C22A             	.LL233:
 6716                        	
 6717                        		.dbg	line,	"include\routines_LEVELS.c", 198; }
 6718    1F:C22A             	.LL232:
 6719                        	
 6720                        		.dbg	line,	"include\routines_LEVELS.c", 200; // IF CHEST IS WITHIN THE SCREEN LIMITS //
 6721                        	
 6722                        		.dbg	line,	"include\routines_LEVELS.c", 201; if(scroll_allowed == TRUE)
 6723    1F:C22A             	.LL231:
 6724                        		__ld.umq	__scroll_chest_end - 2  /* scroll_allowed */
         1F:C22A  AD 20 2C   			lda	__scroll_chest_end - 2
 6725                        		__equ_b.uiq	1
         1F:C22D  C9 01      			cmp	#1
         1F:C22F  F0 01      			beq	!+
         1F:C231  18         			clc
         1F:C232             	!:
 6726                        		__bfalse	.LL235
         1F:C232  90 44      			bcc	.LL235
 6727                        	
 6728                        		.dbg	line,	"include\routines_LEVELS.c", 202; {
 6729                        	
 6730                        		.dbg	line,	"include\routines_LEVELS.c", 203; list_chest_x_pos[i] = list_chest_x_pos_ref[i] - sgx_map_pxl_x;
 6731                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:C234  AD 21 2C   			lda	__scroll_chest_end - 1
         1F:C237  0A         			asl	a
         1F:C238  AA         			tax
 6732                        		__ld.wax	_list_chest_x_pos_ref
         1F:C239  BD E7 25   			lda.l	_list_chest_x_pos_ref, x
         1F:C23C  BC E8 25   			ldy.h	_list_chest_x_pos_ref, x
 6733                        		__sub.wm	_sgx_map_pxl_x
         1F:C23F  38         			sec
         1F:C240  ED D8 26   			sbc.l	_sgx_map_pxl_x
         1F:C243  42         			say
         1F:C244  ED D9 26   			sbc.h	_sgx_map_pxl_x
         1F:C247  42         			say
 6734                        		__ld2x.um	__scroll_chest_end - 1  /* i */
         1F:C248  AA         			tax
         1F:C249  AD 21 2C   			lda	__scroll_chest_end - 1
         1F:C24C  0A         			asl	a
         1F:C24D  22         			sax
 6735                        		__st.waxq	_list_chest_x_pos
         1F:C24E  9D C7 25   			sta.l	_list_chest_x_pos, x
         1F:C251  98         			tya
         1F:C252  9D C8 25   			sta.h	_list_chest_x_pos, x
 6736                        	
 6737                        		.dbg	line,	"include\routines_LEVELS.c", 204; list_chest_y_pos[i] = list_chest_y_pos_ref[i] - sgx_map_pxl_y;
 6738                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:C255  AD 21 2C   			lda	__scroll_chest_end - 1
         1F:C258  0A         			asl	a
         1F:C259  AA         			tax
 6739                        		__ld.wax	_list_chest_y_pos_ref
         1F:C25A  BD F7 25   			lda.l	_list_chest_y_pos_ref, x
         1F:C25D  BC F8 25   			ldy.h	_list_chest_y_pos_ref, x
 6740                        		__sub.wm	_sgx_map_pxl_y
         1F:C260  38         			sec
         1F:C261  ED DA 26   			sbc.l	_sgx_map_pxl_y
         1F:C264  42         			say
         1F:C265  ED DB 26   			sbc.h	_sgx_map_pxl_y
         1F:C268  42         			say
 6741                        		__ld2x.um	__scroll_chest_end - 1  /* i */
         1F:C269  AA         			tax
         1F:C26A  AD 21 2C   			lda	__scroll_chest_end - 1
         1F:C26D  0A         			asl	a
         1F:C26E  22         			sax
 6742                        		__st.waxq	_list_chest_y_pos
         1F:C26F  9D D7 25   			sta.l	_list_chest_y_pos, x
         1F:C272  98         			tya
         1F:C273  9D D8 25   			sta.h	_list_chest_y_pos, x
 6743                        	
 6744                        		.dbg	line,	"include\routines_LEVELS.c", 205; }
 6745                        	
 6746                        		.dbg	line,	"include\routines_LEVELS.c", 207; else
 6747                        		__bra		.LL236
         1F:C276  80 1E      			bra	.LL236
 6748    1F:C278             	.LL235:
 6749                        	
 6750                        		.dbg	line,	"include\routines_LEVELS.c", 208; {
 6751                        	
 6752                        		.dbg	line,	"include\routines_LEVELS.c", 209; list_chest_x_pos[i] = -32;
 6753                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:C278  AD 21 2C   			lda	__scroll_chest_end - 1
         1F:C27B  0A         			asl	a
         1F:C27C  AA         			tax
 6754                        		__st.waxiq	-32, _list_chest_x_pos
         1F:C27D  A9 E0      			lda.l	#-32
         1F:C27F  9D C7 25   			sta.l	_list_chest_x_pos, x
         1F:C282  A9 FF      			lda.h	#-32
         1F:C284  9D C8 25   			sta.h	_list_chest_x_pos, x
 6755                        	
 6756                        		.dbg	line,	"include\routines_LEVELS.c", 210; list_chest_y_pos[i] = -32;
 6757                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:C287  AD 21 2C   			lda	__scroll_chest_end - 1
         1F:C28A  0A         			asl	a
         1F:C28B  AA         			tax
 6758                        		__st.waxiq	-32, _list_chest_y_pos
         1F:C28C  A9 E0      			lda.l	#-32
         1F:C28E  9D D7 25   			sta.l	_list_chest_y_pos, x
         1F:C291  A9 FF      			lda.h	#-32
         1F:C293  9D D8 25   			sta.h	_list_chest_y_pos, x
 6759                        	
 6760                        		.dbg	line,	"include\routines_LEVELS.c", 211; }
 6761    1F:C296             	.LL236:
 6762                        	
 6763                        		.dbg	line,	"include\routines_LEVELS.c", 213; sgx_spr_set(i + chest_start_index);
 6764                        		__ld.um		__scroll_chest_end - 1  /* i */
         1F:C296  AD 21 2C   			lda	__scroll_chest_end - 1
         1F:C299  C2         			cly
 6765                        		__add.um	_chest_start_index
         1F:C29A  18         			clc
         1F:C29B  6D BE 23   			adc	_chest_start_index
         1F:C29E  90 01      			bcc	!+
         1F:C2A0  C8         			iny
         1F:C2A1             	!:
 6766                        		__call		_sgx_spr_set.1
         1F:C2A1  20 9E E8   			call	_sgx_spr_set.1
 6767                        	
 6768                        		.dbg	line,	"include\routines_LEVELS.c", 215; sgx_spr_x(list_chest_x_pos[i]);
 6769                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:C2A4  AD 21 2C   			lda	__scroll_chest_end - 1
         1F:C2A7  0A         			asl	a
         1F:C2A8  AA         			tax
 6770                        		__ld.wax	_list_chest_x_pos
         1F:C2A9  BD C7 25   			lda.l	_list_chest_x_pos, x
         1F:C2AC  BC C8 25   			ldy.h	_list_chest_x_pos, x
 6771                        		__call		_sgx_spr_x.1
         1F:C2AF  20 CB E8   			call	_sgx_spr_x.1
 6772                        	
 6773                        		.dbg	line,	"include\routines_LEVELS.c", 216; sgx_spr_y(list_chest_y_pos[i]);
 6774                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:C2B2  AD 21 2C   			lda	__scroll_chest_end - 1
         1F:C2B5  0A         			asl	a
         1F:C2B6  AA         			tax
 6775                        		__ld.wax	_list_chest_y_pos
         1F:C2B7  BD D7 25   			lda.l	_list_chest_y_pos, x
         1F:C2BA  BC D8 25   			ldy.h	_list_chest_y_pos, x
 6776                        		__call		_sgx_spr_y.1
         1F:C2BD  20 DA E8   			call	_sgx_spr_y.1
 6777                        	
 6778                        		.dbg	line,	"include\routines_LEVELS.c", 217; }
 6779                        	
 6780                        		.dbg	line,	"include\routines_LEVELS.c", 218; }
 6781    1F:C2C0             	.LL230	.alias		.LL227
 6782                        		__bra		.LL227
         1F:C2C0  4C 78 C1   			bra	.LL227
 6783    1F:C2C3             	.LL229:
 6784                        	
 6785                        		.dbg	line,	"include\routines_LEVELS.c", 219; }
 6786    1F:C2C3             	.LL225:
 6787                        		__return	0
         1F:C2C3  4C EF FF   			jmp	leave_proc
 6788                        		.dbg	clear
 6789                        		.endp
 6790               2300     		.bss
 6791    F8:2300             	__scroll_chest_end	.alias	leaf_stack
 6792               E31D     		.code
 6793                        		.pceas
 6794                        	
 6795                        		.dbg	line,	"include\routines_LEVELS.c", 222; void scroll_npc()
 6796                        		.dbg	line,	"include\routines_LEVELS.c", 223; {
 6797                        	;***********************
 6798                        	;***********************
 6799                        	
 6800                        		.hucc
 6801    1F:C2C6             		.proc		_scroll_npc
 6802                        		__enter		_scroll_npc
 6803                        	
 6804                        		.dbg	line,	"include\routines_LEVELS.c", 224; char i;
 6805                        	
 6806                        		.dbg	line,	"include\routines_LEVELS.c", 225; onscreen_npc_number = 0;
 6807                        		__st.umiq	0, _onscreen_npc_number
         1F:C2C6  9C D3 23   			stz	_onscreen_npc_number
 6808                        	
 6809                        		.dbg	line,	"include\routines_LEVELS.c", 227; for(i=0 ; i<level_npc_number ; i++)
 6810                        		__st.umiq	0, __scroll_npc_end - 1  /* i */
         1F:C2C9  9C 21 2C   			stz	__scroll_npc_end - 1
 6811    1F:C2CC             	.LL238:
 6812                        		__ld.umq	__scroll_npc_end - 1  /* i */
         1F:C2CC  AD 21 2C   			lda	__scroll_npc_end - 1
 6813                        		__ult_b.umq	_level_npc_number
         1F:C2CF  CD D2 23   			cmp	_level_npc_number		; Subtract memory from A.
         1F:C2D2  6A         			ror	a		; CC if A < memory.
         1F:C2D3  49 80      			eor	#$80
         1F:C2D5  2A         			rol	a
 6814                        		__btrue		.LL240
         1F:C2D6  B0 08      			bcs	.LL240
 6815                        		__bra		.LL241
         1F:C2D8  4C 26 C4   			bra	.LL241
 6816    1F:C2DB             	.LL239:
 6817                        		__inc.umq	__scroll_npc_end - 1  /* i */
         1F:C2DB  EE 21 2C   			inc	__scroll_npc_end - 1
 6818                        		__bra		.LL238
         1F:C2DE  80 EC      			bra	.LL238
 6819    1F:C2E0             	.LL240:
 6820                        	
 6821                        		.dbg	line,	"include\routines_LEVELS.c", 228; {
 6822                        	
 6823                        		.dbg	line,	"include\routines_LEVELS.c", 229; if(list_npc_state[i] != STATE_FREE)
 6824                        		__ldx.umq	__scroll_npc_end - 1  /* i */
         1F:C2E0  AE 21 2C   			ldx	__scroll_npc_end - 1
 6825                        		__tst.uax	_list_npc_state
         1F:C2E3  BD DD 23   			lda	_list_npc_state, x
         1F:C2E6  C9 01      			cmp	#1
 6826                        		__bfalse	.LL242
         1F:C2E8  90 F1      			bcc	.LL242
 6827                        	
 6828                        		.dbg	line,	"include\routines_LEVELS.c", 230; {
 6829                        	
 6830                        		.dbg	line,	"include\routines_LEVELS.c", 231; char scroll_allowed = FALSE;
 6831                        		__st.umiq	0, __scroll_npc_end - 2  /* scroll_allowed */
         1F:C2EA  9C 20 2C   			stz	__scroll_npc_end - 2
 6832                        	
 6833                        		.dbg	line,	"include\routines_LEVELS.c", 232; 
 6834                        	
 6835                        		.dbg	line,	"include\routines_LEVELS.c", 233; // IF NPC X POSITION IS INFERIOR TO SCREEN RIGHT SIDE //
 6836                        	
 6837                        		.dbg	line,	"include\routines_LEVELS.c", 234; if(list_npc_x_pos_ref[i] < sgx_map_pxl_x + 256)
 6838                        		__ld.wm		_sgx_map_pxl_x
         1F:C2ED  AD D8 26   			lda.l	_sgx_map_pxl_x
         1F:C2F0  AC D9 26   			ldy.h	_sgx_map_pxl_x
 6839                        		__add.wi	256
         1F:C2F3  18         			clc
         1F:C2F4  69 00      			adc.l	#256
         1F:C2F6  42         			say
         1F:C2F7  69 01      			adc.h	#256
         1F:C2F9  42         			say
 6840                        		__ld2x.um	__scroll_npc_end - 1  /* i */
         1F:C2FA  AA         			tax
         1F:C2FB  AD 21 2C   			lda	__scroll_npc_end - 1
         1F:C2FE  0A         			asl	a
         1F:C2FF  22         			sax
 6841                        		__ugt_w.wax	_list_npc_x_pos_ref
         1F:C300  18         			clc			; Subtract memory+1 from Y:A.
         1F:C301  FD 2B 26   			sbc.l	_list_npc_x_pos_ref, x
         1F:C304  98         			tya
         1F:C305  FD 2C 26   			sbc.h	_list_npc_x_pos_ref, x		; CS if Y:A > memory.
 6842                        		__bfalse	.LL243
         1F:C308  B0 03 4C 8D			bcc	.LL243
         1F:C30C  C3          
 6843                        	
 6844                        		.dbg	line,	"include\routines_LEVELS.c", 235; {
 6845                        	
 6846                        		.dbg	line,	"include\routines_LEVELS.c", 236; // IF NPC X POSITION IS SUPERIOR TO SCREEN LEFT SIDE PLUS 32 PX //
 6847                        	
 6848                        		.dbg	line,	"include\routines_LEVELS.c", 237; if(list_npc_x_pos_ref[i] - sgx_map_pxl_x + 32 > 0)
 6849                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:C30D  AD 21 2C   			lda	__scroll_npc_end - 1
         1F:C310  0A         			asl	a
         1F:C311  AA         			tax
 6850                        		__ld.wax	_list_npc_x_pos_ref
         1F:C312  BD 2B 26   			lda.l	_list_npc_x_pos_ref, x
         1F:C315  BC 2C 26   			ldy.h	_list_npc_x_pos_ref, x
 6851                        		__sub.wm	_sgx_map_pxl_x
         1F:C318  38         			sec
         1F:C319  ED D8 26   			sbc.l	_sgx_map_pxl_x
         1F:C31C  42         			say
         1F:C31D  ED D9 26   			sbc.h	_sgx_map_pxl_x
         1F:C320  42         			say
 6852                        		__add.wi	32
         1F:C321  18         			clc
         1F:C322  69 20      			adc.l	#32
         1F:C324  90 01      			bcc	!+
         1F:C326  C8         			iny
         1F:C327             	!:
 6853                        		__sgt_w.wi	0
         1F:C327  18         			clc			; Subtract integer+1 from Y:A.
         1F:C328  E9 00      			sbc.l	#0
         1F:C32A  98         			tya
         1F:C32B  E9 00      			sbc.h	#0
         1F:C32D  50 02      			bvc	!+
         1F:C32F  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:C331  49 80      	!:		eor	#$80
         1F:C333  0A         			asl	a
 6854                        		__bfalse	.LL244
         1F:C334  90 57      			bcc	.LL244
 6855                        	
 6856                        		.dbg	line,	"include\routines_LEVELS.c", 238; {
 6857                        	
 6858                        		.dbg	line,	"include\routines_LEVELS.c", 239; // IF NPC Y POSITION IS INFERIOR TO SCREEN BOTTOM //
 6859                        	
 6860                        		.dbg	line,	"include\routines_LEVELS.c", 240; if(list_npc_y_pos_ref[i] < sgx_map_pxl_y + 224)
 6861                        		__ld.wm		_sgx_map_pxl_y
         1F:C336  AD DA 26   			lda.l	_sgx_map_pxl_y
         1F:C339  AC DB 26   			ldy.h	_sgx_map_pxl_y
 6862                        		__add.wi	224
         1F:C33C  18         			clc
         1F:C33D  69 E0      			adc.l	#224
         1F:C33F  90 01      			bcc	!+
         1F:C341  C8         			iny
         1F:C342             	!:
 6863                        		__ld2x.um	__scroll_npc_end - 1  /* i */
         1F:C342  AA         			tax
         1F:C343  AD 21 2C   			lda	__scroll_npc_end - 1
         1F:C346  0A         			asl	a
         1F:C347  22         			sax
 6864                        		__ugt_w.wax	_list_npc_y_pos_ref
         1F:C348  18         			clc			; Subtract memory+1 from Y:A.
         1F:C349  FD 3D 26   			sbc.l	_list_npc_y_pos_ref, x
         1F:C34C  98         			tya
         1F:C34D  FD 3E 26   			sbc.h	_list_npc_y_pos_ref, x		; CS if Y:A > memory.
 6865                        		__bfalse	.LL245
         1F:C350  90 3B      			bcc	.LL245
 6866                        	
 6867                        		.dbg	line,	"include\routines_LEVELS.c", 241; {
 6868                        	
 6869                        		.dbg	line,	"include\routines_LEVELS.c", 242; // IF NPC Y POSITION IS SUPERIOR TO SCREEN TOP PLUS 32 PX //
 6870                        	
 6871                        		.dbg	line,	"include\routines_LEVELS.c", 243; if(list_npc_y_pos_ref[i] - sgx_map_pxl_y + 32 > 0)
 6872                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:C352  AD 21 2C   			lda	__scroll_npc_end - 1
         1F:C355  0A         			asl	a
         1F:C356  AA         			tax
 6873                        		__ld.wax	_list_npc_y_pos_ref
         1F:C357  BD 3D 26   			lda.l	_list_npc_y_pos_ref, x
         1F:C35A  BC 3E 26   			ldy.h	_list_npc_y_pos_ref, x
 6874                        		__sub.wm	_sgx_map_pxl_y
         1F:C35D  38         			sec
         1F:C35E  ED DA 26   			sbc.l	_sgx_map_pxl_y
         1F:C361  42         			say
         1F:C362  ED DB 26   			sbc.h	_sgx_map_pxl_y
         1F:C365  42         			say
 6875                        		__add.wi	32
         1F:C366  18         			clc
         1F:C367  69 20      			adc.l	#32
         1F:C369  90 01      			bcc	!+
         1F:C36B  C8         			iny
         1F:C36C             	!:
 6876                        		__sgt_w.wi	0
         1F:C36C  18         			clc			; Subtract integer+1 from Y:A.
         1F:C36D  E9 00      			sbc.l	#0
         1F:C36F  98         			tya
         1F:C370  E9 00      			sbc.h	#0
         1F:C372  50 02      			bvc	!+
         1F:C374  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:C376  49 80      	!:		eor	#$80
         1F:C378  0A         			asl	a
 6877                        		__bfalse	.LL246
         1F:C379  90 12      			bcc	.LL246
 6878                        	
 6879                        		.dbg	line,	"include\routines_LEVELS.c", 244; {
 6880                        	
 6881                        		.dbg	line,	"include\routines_LEVELS.c", 245; // WE STORE THE NPC ID //
 6882                        	
 6883                        		.dbg	line,	"include\routines_LEVELS.c", 246; list_onscreen_npc[onscreen_npc_number] = i;
 6884                        		__ldx.umq	_onscreen_npc_number
         1F:C37B  AE D3 23   			ldx	_onscreen_npc_number
 6885                        		__ld.um		__scroll_npc_end - 1  /* i */
         1F:C37E  AD 21 2C   			lda	__scroll_npc_end - 1
         1F:C381  C2         			cly
 6886                        		__st.uaxq	_list_onscreen_npc
         1F:C382  9D E6 23   			sta	_list_onscreen_npc, x
 6887                        	
 6888                        		.dbg	line,	"include\routines_LEVELS.c", 247; onscreen_npc_number += 1;
 6889                        		__add_st.umiq	1, _onscreen_npc_number
         1F:C385  EE D3 23   			inc	_onscreen_npc_number
 6890                        	
 6891                        		.dbg	line,	"include\routines_LEVELS.c", 248; 
 6892                        	
 6893                        		.dbg	line,	"include\routines_LEVELS.c", 249; scroll_allowed = TRUE;
 6894                        		__st.umiq	1, __scroll_npc_end - 2  /* scroll_allowed */
         1F:C388  A9 01      			lda.l	#1
         1F:C38A  8D 20 2C   			sta	__scroll_npc_end - 2
 6895                        	
 6896                        		.dbg	line,	"include\routines_LEVELS.c", 250; }
 6897                        	
 6898                        		.dbg	line,	"include\routines_LEVELS.c", 251; }
 6899    1F:C38D             	.LL246:
 6900                        	
 6901                        		.dbg	line,	"include\routines_LEVELS.c", 252; }
 6902    1F:C38D             	.LL245:
 6903                        	
 6904                        		.dbg	line,	"include\routines_LEVELS.c", 253; }
 6905    1F:C38D             	.LL244:
 6906                        	
 6907                        		.dbg	line,	"include\routines_LEVELS.c", 255; // IF NPC IS WITHIN THE SCREEN LIMITS //
 6908                        	
 6909                        		.dbg	line,	"include\routines_LEVELS.c", 256; if(scroll_allowed == TRUE)
 6910    1F:C38D             	.LL243:
 6911                        		__ld.umq	__scroll_npc_end - 2  /* scroll_allowed */
         1F:C38D  AD 20 2C   			lda	__scroll_npc_end - 2
 6912                        		__equ_b.uiq	1
         1F:C390  C9 01      			cmp	#1
         1F:C392  F0 01      			beq	!+
         1F:C394  18         			clc
         1F:C395             	!:
 6913                        		__bfalse	.LL247
         1F:C395  90 44      			bcc	.LL247
 6914                        	
 6915                        		.dbg	line,	"include\routines_LEVELS.c", 257; {
 6916                        	
 6917                        		.dbg	line,	"include\routines_LEVELS.c", 258; list_npc_x_pos[i] = list_npc_x_pos_ref[i] - sgx_map_pxl_x;
 6918                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:C397  AD 21 2C   			lda	__scroll_npc_end - 1
         1F:C39A  0A         			asl	a
         1F:C39B  AA         			tax
 6919                        		__ld.wax	_list_npc_x_pos_ref
         1F:C39C  BD 2B 26   			lda.l	_list_npc_x_pos_ref, x
         1F:C39F  BC 2C 26   			ldy.h	_list_npc_x_pos_ref, x
 6920                        		__sub.wm	_sgx_map_pxl_x
         1F:C3A2  38         			sec
         1F:C3A3  ED D8 26   			sbc.l	_sgx_map_pxl_x
         1F:C3A6  42         			say
         1F:C3A7  ED D9 26   			sbc.h	_sgx_map_pxl_x
         1F:C3AA  42         			say
 6921                        		__ld2x.um	__scroll_npc_end - 1  /* i */
         1F:C3AB  AA         			tax
         1F:C3AC  AD 21 2C   			lda	__scroll_npc_end - 1
         1F:C3AF  0A         			asl	a
         1F:C3B0  22         			sax
 6922                        		__st.waxq	_list_npc_x_pos
         1F:C3B1  9D 07 26   			sta.l	_list_npc_x_pos, x
         1F:C3B4  98         			tya
         1F:C3B5  9D 08 26   			sta.h	_list_npc_x_pos, x
 6923                        	
 6924                        		.dbg	line,	"include\routines_LEVELS.c", 259; list_npc_y_pos[i] = list_npc_y_pos_ref[i] - sgx_map_pxl_y;
 6925                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:C3B8  AD 21 2C   			lda	__scroll_npc_end - 1
         1F:C3BB  0A         			asl	a
         1F:C3BC  AA         			tax
 6926                        		__ld.wax	_list_npc_y_pos_ref
         1F:C3BD  BD 3D 26   			lda.l	_list_npc_y_pos_ref, x
         1F:C3C0  BC 3E 26   			ldy.h	_list_npc_y_pos_ref, x
 6927                        		__sub.wm	_sgx_map_pxl_y
         1F:C3C3  38         			sec
         1F:C3C4  ED DA 26   			sbc.l	_sgx_map_pxl_y
         1F:C3C7  42         			say
         1F:C3C8  ED DB 26   			sbc.h	_sgx_map_pxl_y
         1F:C3CB  42         			say
 6928                        		__ld2x.um	__scroll_npc_end - 1  /* i */
         1F:C3CC  AA         			tax
         1F:C3CD  AD 21 2C   			lda	__scroll_npc_end - 1
         1F:C3D0  0A         			asl	a
         1F:C3D1  22         			sax
 6929                        		__st.waxq	_list_npc_y_pos
         1F:C3D2  9D 19 26   			sta.l	_list_npc_y_pos, x
         1F:C3D5  98         			tya
         1F:C3D6  9D 1A 26   			sta.h	_list_npc_y_pos, x
 6930                        	
 6931                        		.dbg	line,	"include\routines_LEVELS.c", 260; }
 6932                        	
 6933                        		.dbg	line,	"include\routines_LEVELS.c", 262; else
 6934                        		__bra		.LL248
         1F:C3D9  80 1E      			bra	.LL248
 6935    1F:C3DB             	.LL247:
 6936                        	
 6937                        		.dbg	line,	"include\routines_LEVELS.c", 263; {
 6938                        	
 6939                        		.dbg	line,	"include\routines_LEVELS.c", 264; list_npc_x_pos[i] = -32;
 6940                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:C3DB  AD 21 2C   			lda	__scroll_npc_end - 1
         1F:C3DE  0A         			asl	a
         1F:C3DF  AA         			tax
 6941                        		__st.waxiq	-32, _list_npc_x_pos
         1F:C3E0  A9 E0      			lda.l	#-32
         1F:C3E2  9D 07 26   			sta.l	_list_npc_x_pos, x
         1F:C3E5  A9 FF      			lda.h	#-32
         1F:C3E7  9D 08 26   			sta.h	_list_npc_x_pos, x
 6942                        	
 6943                        		.dbg	line,	"include\routines_LEVELS.c", 265; list_npc_y_pos[i] = -32;
 6944                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:C3EA  AD 21 2C   			lda	__scroll_npc_end - 1
         1F:C3ED  0A         			asl	a
         1F:C3EE  AA         			tax
 6945                        		__st.waxiq	-32, _list_npc_y_pos
         1F:C3EF  A9 E0      			lda.l	#-32
         1F:C3F1  9D 19 26   			sta.l	_list_npc_y_pos, x
         1F:C3F4  A9 FF      			lda.h	#-32
         1F:C3F6  9D 1A 26   			sta.h	_list_npc_y_pos, x
 6946                        	
 6947                        		.dbg	line,	"include\routines_LEVELS.c", 266; }
 6948    1F:C3F9             	.LL248:
 6949                        	
 6950                        		.dbg	line,	"include\routines_LEVELS.c", 268; sgx_spr_set(i + npc_start_index);
 6951                        		__ld.um		__scroll_npc_end - 1  /* i */
         1F:C3F9  AD 21 2C   			lda	__scroll_npc_end - 1
         1F:C3FC  C2         			cly
 6952                        		__add.um	_npc_start_index
         1F:C3FD  18         			clc
         1F:C3FE  6D D1 23   			adc	_npc_start_index
         1F:C401  90 01      			bcc	!+
         1F:C403  C8         			iny
         1F:C404             	!:
 6953                        		__call		_sgx_spr_set.1
         1F:C404  20 9E E8   			call	_sgx_spr_set.1
 6954                        	
 6955                        		.dbg	line,	"include\routines_LEVELS.c", 270; sgx_spr_x(list_npc_x_pos[i]);
 6956                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:C407  AD 21 2C   			lda	__scroll_npc_end - 1
         1F:C40A  0A         			asl	a
         1F:C40B  AA         			tax
 6957                        		__ld.wax	_list_npc_x_pos
         1F:C40C  BD 07 26   			lda.l	_list_npc_x_pos, x
         1F:C40F  BC 08 26   			ldy.h	_list_npc_x_pos, x
 6958                        		__call		_sgx_spr_x.1
         1F:C412  20 CB E8   			call	_sgx_spr_x.1
 6959                        	
 6960                        		.dbg	line,	"include\routines_LEVELS.c", 271; sgx_spr_y(list_npc_y_pos[i]);
 6961                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:C415  AD 21 2C   			lda	__scroll_npc_end - 1
         1F:C418  0A         			asl	a
         1F:C419  AA         			tax
 6962                        		__ld.wax	_list_npc_y_pos
         1F:C41A  BD 19 26   			lda.l	_list_npc_y_pos, x
         1F:C41D  BC 1A 26   			ldy.h	_list_npc_y_pos, x
 6963                        		__call		_sgx_spr_y.1
         1F:C420  20 DA E8   			call	_sgx_spr_y.1
 6964                        	
 6965                        		.dbg	line,	"include\routines_LEVELS.c", 272; }
 6966                        	
 6967                        		.dbg	line,	"include\routines_LEVELS.c", 273; }
 6968    1F:C423             	.LL242	.alias		.LL239
 6969                        		__bra		.LL239
         1F:C423  4C DB C2   			bra	.LL239
 6970    1F:C426             	.LL241:
 6971                        	
 6972                        		.dbg	line,	"include\routines_LEVELS.c", 274; }
 6973    1F:C426             	.LL237:
 6974                        		__return	0
         1F:C426  4C EF FF   			jmp	leave_proc
 6975                        		.dbg	clear
 6976                        		.endp
 6977               2300     		.bss
 6978    F8:2300             	__scroll_npc_end	.alias	leaf_stack
 6979               E31D     		.code
 6980                        		.pceas
 6981                        	
 6982                        		.dbg	line,	"include\routines_LEVELS.c", 277; void scroll_BG()
 6983                        		.dbg	line,	"include\routines_LEVELS.c", 278; {
 6984                        	;***********************
 6985                        	;***********************
 6986                        	
 6987                        		.hucc
 6988    1F:D3F0             		.proc		_scroll_BG
 6989                        		__enter		_scroll_BG
 6990                        	
 6991                        		.dbg	line,	"include\routines_LEVELS.c", 279; // UPDATE VDC2 BG //
 6992                        	
 6993                        		.dbg	line,	"include\routines_LEVELS.c", 280; sgx_scroll_map();
 6994                        		__call		_sgx_scroll_map
         1F:D3F0  20 63 FF   			call	_sgx_scroll_map
 6995                        	
 6996                        		.dbg	line,	"include\routines_LEVELS.c", 282; //--------------------------------------------------------------------------------------//
 6997                        	
 6998                        		.dbg	line,	"include\routines_LEVELS.c", 283; //                                        VDC 2                                         //
 6999                        	
 7000                        		.dbg	line,	"include\routines_LEVELS.c", 284; //--------------------------------------------------------------------------------------//
 7001                        	
 7002                        		.dbg	line,	"include\routines_LEVELS.c", 286; sgx_scroll_split(0,   0, sgx_map_pxl_x & (BAT_SIZE_W - 1), sgx_map_pxl_y & (BAT_SIZE_H - 1), BKG_ON | SPR_ON);
 7003                        		__st.umiq	0, _al
         1F:D3F3  64 F8      			stz	_al
 7004                        		__st.umiq	0, _ah
         1F:D3F5  64 F9      			stz	_ah
 7005                        		__ld.wm		_sgx_map_pxl_x
         1F:D3F7  AD D8 26   			lda.l	_sgx_map_pxl_x
         1F:D3FA  AC D9 26   			ldy.h	_sgx_map_pxl_x
 7006                        		__and.wi	2047
         1F:D3FD  29 FF      			and.l	#2047
         1F:D3FF  42         			say
         1F:D400  29 07      			and.h	#2047
         1F:D402  42         			say
 7007                        		__st.wmq	_bx
         1F:D403  85 FA      			sta.l	_bx
         1F:D405  84 FB      			sty.h	_bx
 7008                        		__ld.wm		_sgx_map_pxl_y
         1F:D407  AD DA 26   			lda.l	_sgx_map_pxl_y
         1F:D40A  AC DB 26   			ldy.h	_sgx_map_pxl_y
 7009                        		__and.wi	255
         1F:D40D  29 FF      			and	#255
         1F:D40F  C2         			cly
 7010                        		__st.wmq	_cx
         1F:D410  85 FC      			sta.l	_cx
         1F:D412  84 FD      			sty.h	_cx
 7011                        		__st.umiq	192, _dl
         1F:D414  A9 C0      			lda.l	#192
         1F:D416  85 FE      			sta	_dl
 7012                        		__call		_sgx_scroll_split.5
         1F:D418  20 59 FF   			call	_sgx_scroll_split.5
 7013                        	
 7014                        		.dbg	line,	"include\routines_LEVELS.c", 287; }
 7015    1F:D41B             	.LL249:
 7016                        		__return	0
         1F:D41B  4C EF FF   			jmp	leave_proc
 7017                        		.dbg	clear
 7018                        		.endp
 7019                        		.pceas
 7020                        	
 7021                        		.dbg	line,	"include\routines_LEVELS.c", 290; void recenter_CAMERA()
 7022                        		.dbg	line,	"include\routines_LEVELS.c", 291; {
 7023                        	;***********************
 7024                        	;***********************
 7025                        	
 7026                        		.hucc
 7027    1F:C7E1             		.proc		_recenter_CAMERA
 7028                        		__enter		_recenter_CAMERA
 7029                        	
 7030                        		.dbg	line,	"include\routines_LEVELS.c", 292; signed char camera_y_move;
 7031                        	
 7032                        		.dbg	line,	"include\routines_LEVELS.c", 294; spr_set(player_id);
 7033                        		__ld.umq	_player_id
         1F:C7E1  AD 17 23   			lda	_player_id
 7034                        		__call		_spr_set.1
         1F:C7E4  20 F1 E7   			call	_spr_set.1
 7035                        	
 7036                        		.dbg	line,	"include\routines_LEVELS.c", 297; if(player_pos_y < 128)
 7037                        		__ld.wm		_player_pos_y
         1F:C7E7  AD F7 24   			lda.l	_player_pos_y
         1F:C7EA  AC F8 24   			ldy.h	_player_pos_y
 7038                        		__slt_w.wi	128
         1F:C7ED  C9 80      			cmp.l	#128		; Subtract integer from Y:A.
         1F:C7EF  98         			tya
         1F:C7F0  E9 00      			sbc.h	#128
         1F:C7F2  50 02      			bvc	!+
         1F:C7F4  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1F:C7F6  0A         	!:		asl	a
 7039                        		__bfalse	.LL251
         1F:C7F7  90 70      			bcc	.LL251
 7040                        	
 7041                        		.dbg	line,	"include\routines_LEVELS.c", 298; {
 7042                        	
 7043                        		.dbg	line,	"include\routines_LEVELS.c", 299; player_pos_y += CAMERA_RECENTER_VELOCITY;
 7044                        		__add_st.wmiq	4, _player_pos_y
         1F:C7F9  18         			clc
         1F:C7FA  AD F7 24   			lda.l	_player_pos_y
         1F:C7FD  69 04      			adc.l	#4
         1F:C7FF  8D F7 24   			sta.l	_player_pos_y
         1F:C802  90 03      			bcc	!+
         1F:C804  EE F8 24   			inc.h	_player_pos_y
         1F:C807             	!:
 7045                        	
 7046                        		.dbg	line,	"include\routines_LEVELS.c", 301; if(player_pos_y > 128)
 7047                        		__ld.wm		_player_pos_y
         1F:C807  AD F7 24   			lda.l	_player_pos_y
         1F:C80A  AC F8 24   			ldy.h	_player_pos_y
 7048                        		__sgt_w.wi	128
         1F:C80D  18         			clc			; Subtract integer+1 from Y:A.
         1F:C80E  E9 80      			sbc.l	#128
         1F:C810  98         			tya
         1F:C811  E9 00      			sbc.h	#128
         1F:C813  50 02      			bvc	!+
         1F:C815  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:C817  49 80      	!:		eor	#$80
         1F:C819  0A         			asl	a
 7049                        		__bfalse	.LL252
         1F:C81A  90 24      			bcc	.LL252
 7050                        	
 7051                        		.dbg	line,	"include\routines_LEVELS.c", 302; {
 7052                        	
 7053                        		.dbg	line,	"include\routines_LEVELS.c", 303; camera_y_move = CAMERA_RECENTER_VELOCITY - (player_pos_y - 128);
 7054                        		__ld.wm		_player_pos_y
         1F:C81C  AD F7 24   			lda.l	_player_pos_y
         1F:C81F  AC F8 24   			ldy.h	_player_pos_y
 7055                        		__sub.wi	128
         1F:C822  38         			sec
         1F:C823  E9 80      			sbc.l	#128
         1F:C825  B0 01      			bcs	!+
         1F:C827  88         			dey
         1F:C828             	!:
 7056                        		__isub.wi	4
         1F:C828  38         			sec
         1F:C829  49 FF      			eor	#$FF
         1F:C82B  69 04      			adc.l	#4
         1F:C82D  42         			say
         1F:C82E  49 FF      			eor	#$FF
         1F:C830  69 00      			adc.h	#4
         1F:C832  42         			say
 7057                        		__st.umq	__recenter_CAMERA_end - 1  /* camera_y_move */
         1F:C833  8D 21 2C   			sta	__recenter_CAMERA_end - 1
 7058                        	
 7059                        		.dbg	line,	"include\routines_LEVELS.c", 305; player_pos_y = 128;
 7060                        		__st.wmiq	128, _player_pos_y
         1F:C836  A9 80      			lda.l	#128
         1F:C838  8D F7 24   			sta.l	_player_pos_y
         1F:C83B  9C F8 24   			stz.h	_player_pos_y
 7061                        	
 7062                        		.dbg	line,	"include\routines_LEVELS.c", 306; }
 7063                        	
 7064                        		.dbg	line,	"include\routines_LEVELS.c", 308; else
 7065                        		__bra		.LL253
         1F:C83E  80 05      			bra	.LL253
 7066    1F:C840             	.LL252:
 7067                        	
 7068                        		.dbg	line,	"include\routines_LEVELS.c", 309; {
 7069                        	
 7070                        		.dbg	line,	"include\routines_LEVELS.c", 310; camera_y_move = CAMERA_RECENTER_VELOCITY;
 7071                        		__st.umiq	4, __recenter_CAMERA_end - 1  /* camera_y_move */
         1F:C840  A9 04      			lda.l	#4
         1F:C842  8D 21 2C   			sta	__recenter_CAMERA_end - 1
 7072                        	
 7073                        		.dbg	line,	"include\routines_LEVELS.c", 311; }
 7074    1F:C845             	.LL253:
 7075                        	
 7076                        		.dbg	line,	"include\routines_LEVELS.c", 313; spr_y(player_pos_y);
 7077                        		__ld.wm		_player_pos_y
         1F:C845  AD F7 24   			lda.l	_player_pos_y
         1F:C848  AC F8 24   			ldy.h	_player_pos_y
 7078                        		__call		_spr_y.1
         1F:C84B  20 2D E8   			call	_spr_y.1
 7079                        	
 7080                        		.dbg	line,	"include\routines_LEVELS.c", 315; sgx_map_pxl_y -= camera_y_move;
 7081                        		__ld.bm		__recenter_CAMERA_end - 1  /* camera_y_move */
         1F:C84E  AD 21 2C   			lda	__recenter_CAMERA_end - 1
         1F:C851  C2         			cly
         1F:C852  10 01      			bpl	!+
         1F:C854  88         			dey
         1F:C855             	!:
 7082                        		__isub_st.wmq	_sgx_map_pxl_y
         1F:C855  38         			sec
         1F:C856  49 FF      			eor	#$FF
         1F:C858  6D DA 26   			adc.l	_sgx_map_pxl_y
         1F:C85B  8D DA 26   			sta.l	_sgx_map_pxl_y
         1F:C85E  98         			tya
         1F:C85F  49 FF      			eor	#$FF
         1F:C861  6D DB 26   			adc.h	_sgx_map_pxl_y
         1F:C864  8D DB 26   			sta.h	_sgx_map_pxl_y
 7083                        	
 7084                        		.dbg	line,	"include\routines_LEVELS.c", 316; }
 7085                        	
 7086                        		.dbg	line,	"include\routines_LEVELS.c", 319; else if(player_pos_y > 128)
 7087                        		__bra		.LL254
         1F:C867  80 7C      			bra	.LL254
 7088    1F:C869             	.LL251:
 7089                        		__ld.wm		_player_pos_y
         1F:C869  AD F7 24   			lda.l	_player_pos_y
         1F:C86C  AC F8 24   			ldy.h	_player_pos_y
 7090                        		__sgt_w.wi	128
         1F:C86F  18         			clc			; Subtract integer+1 from Y:A.
         1F:C870  E9 80      			sbc.l	#128
         1F:C872  98         			tya
         1F:C873  E9 00      			sbc.h	#128
         1F:C875  50 02      			bvc	!+
         1F:C877  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:C879  49 80      	!:		eor	#$80
         1F:C87B  0A         			asl	a
 7091                        		__bfalse	.LL255
         1F:C87C  90 67      			bcc	.LL255
 7092                        	
 7093                        		.dbg	line,	"include\routines_LEVELS.c", 320; {
 7094                        	
 7095                        		.dbg	line,	"include\routines_LEVELS.c", 321; player_pos_y -= CAMERA_RECENTER_VELOCITY;
 7096                        		__sub_st.wmiq	4, _player_pos_y
         1F:C87E  38         			sec
         1F:C87F  AD F7 24   			lda.l	_player_pos_y
         1F:C882  E9 04      			sbc.l	#4
         1F:C884  8D F7 24   			sta.l	_player_pos_y
         1F:C887  B0 03      			bcs	!+
         1F:C889  CE F8 24   			dec.h	_player_pos_y
         1F:C88C             	!:
 7097                        	
 7098                        		.dbg	line,	"include\routines_LEVELS.c", 323; if(player_pos_y < 128)
 7099                        		__ld.wm		_player_pos_y
         1F:C88C  AD F7 24   			lda.l	_player_pos_y
         1F:C88F  AC F8 24   			ldy.h	_player_pos_y
 7100                        		__slt_w.wi	128
         1F:C892  C9 80      			cmp.l	#128		; Subtract integer from Y:A.
         1F:C894  98         			tya
         1F:C895  E9 00      			sbc.h	#128
         1F:C897  50 02      			bvc	!+
         1F:C899  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1F:C89B  0A         	!:		asl	a
 7101                        		__bfalse	.LL256
         1F:C89C  90 24      			bcc	.LL256
 7102                        	
 7103                        		.dbg	line,	"include\routines_LEVELS.c", 324; {
 7104                        	
 7105                        		.dbg	line,	"include\routines_LEVELS.c", 325; camera_y_move = CAMERA_RECENTER_VELOCITY - (128 - player_pos_y);
 7106                        		__ld.wi		128
         1F:C89E  A9 80      			lda.l	#128
         1F:C8A0  C2         			cly
 7107                        		__sub.wm	_player_pos_y
         1F:C8A1  38         			sec
         1F:C8A2  ED F7 24   			sbc.l	_player_pos_y
         1F:C8A5  42         			say
         1F:C8A6  ED F8 24   			sbc.h	_player_pos_y
         1F:C8A9  42         			say
 7108                        		__isub.wi	4
         1F:C8AA  38         			sec
         1F:C8AB  49 FF      			eor	#$FF
         1F:C8AD  69 04      			adc.l	#4
         1F:C8AF  42         			say
         1F:C8B0  49 FF      			eor	#$FF
         1F:C8B2  69 00      			adc.h	#4
         1F:C8B4  42         			say
 7109                        		__st.umq	__recenter_CAMERA_end - 1  /* camera_y_move */
         1F:C8B5  8D 21 2C   			sta	__recenter_CAMERA_end - 1
 7110                        	
 7111                        		.dbg	line,	"include\routines_LEVELS.c", 327; player_pos_y = 128;
 7112                        		__st.wmiq	128, _player_pos_y
         1F:C8B8  A9 80      			lda.l	#128
         1F:C8BA  8D F7 24   			sta.l	_player_pos_y
         1F:C8BD  9C F8 24   			stz.h	_player_pos_y
 7113                        	
 7114                        		.dbg	line,	"include\routines_LEVELS.c", 328; }
 7115                        	
 7116                        		.dbg	line,	"include\routines_LEVELS.c", 330; else
 7117                        		__bra		.LL257
         1F:C8C0  80 05      			bra	.LL257
 7118    1F:C8C2             	.LL256:
 7119                        	
 7120                        		.dbg	line,	"include\routines_LEVELS.c", 331; {
 7121                        	
 7122                        		.dbg	line,	"include\routines_LEVELS.c", 332; camera_y_move = CAMERA_RECENTER_VELOCITY;
 7123                        		__st.umiq	4, __recenter_CAMERA_end - 1  /* camera_y_move */
         1F:C8C2  A9 04      			lda.l	#4
         1F:C8C4  8D 21 2C   			sta	__recenter_CAMERA_end - 1
 7124                        	
 7125                        		.dbg	line,	"include\routines_LEVELS.c", 333; }
 7126    1F:C8C7             	.LL257:
 7127                        	
 7128                        		.dbg	line,	"include\routines_LEVELS.c", 335; spr_y(player_pos_y);
 7129                        		__ld.wm		_player_pos_y
         1F:C8C7  AD F7 24   			lda.l	_player_pos_y
         1F:C8CA  AC F8 24   			ldy.h	_player_pos_y
 7130                        		__call		_spr_y.1
         1F:C8CD  20 2D E8   			call	_spr_y.1
 7131                        	
 7132                        		.dbg	line,	"include\routines_LEVELS.c", 337; sgx_map_pxl_y += camera_y_move;
 7133                        		__ld.bm		__recenter_CAMERA_end - 1  /* camera_y_move */
         1F:C8D0  AD 21 2C   			lda	__recenter_CAMERA_end - 1
         1F:C8D3  C2         			cly
         1F:C8D4  10 01      			bpl	!+
         1F:C8D6  88         			dey
         1F:C8D7             	!:
 7134                        		__add_st.wmq	_sgx_map_pxl_y
         1F:C8D7  18         			clc
         1F:C8D8  6D DA 26   			adc.l	_sgx_map_pxl_y
         1F:C8DB  8D DA 26   			sta.l	_sgx_map_pxl_y
         1F:C8DE  98         			tya
         1F:C8DF  6D DB 26   			adc.h	_sgx_map_pxl_y
         1F:C8E2  8D DB 26   			sta.h	_sgx_map_pxl_y
 7135                        	
 7136                        		.dbg	line,	"include\routines_LEVELS.c", 338; }
 7137                        	
 7138                        		.dbg	line,	"include\routines_LEVELS.c", 339; }
 7139    1F:C8E5             	.LL255:
 7140    1F:C8E5             	.LL254:
 7141    1F:C8E5             	.LL250:
 7142                        		__return	0
         1F:C8E5  4C EF FF   			jmp	leave_proc
 7143                        		.dbg	clear
 7144                        		.endp
 7145               2300     		.bss
 7146    F8:2300             	__recenter_CAMERA_end	.alias	leaf_stack
 7147               E31D     		.code
 7148                        		.pceas
 7149                        	
 7150                        		.dbg	line,	"include\routines_LEVELS.c", 344; //-----------------------------------------------------------------------------//
 7151                        		.dbg	line,	"include\routines_LEVELS.c", 345; //                                 COLLISIONS                                  //
 7152                        		.dbg	line,	"include\routines_LEVELS.c", 346; //-----------------------------------------------------------------------------//
 7153                        		.dbg	line,	"include\routines_LEVELS.c", 348; int check_TILE_DEPTH(signed char x_offset , signed char y_offset)
 7154                        		.dbg	line,	"include\routines_LEVELS.c", 349; {
 7155                        	;***********************
 7156                        	;***********************
 7157                        	
 7158                        		.hucc
 7159    1F:CFA2             		.proc		_check_TILE_DEPTH
 7160                        		__enter		_check_TILE_DEPTH
 7161                        	
 7162                        		.dbg	line,	"include\routines_LEVELS.c", 350; int player_COLL_X;
 7163                        	
 7164                        		.dbg	line,	"include\routines_LEVELS.c", 351; int player_COLL_Y;
 7165                        	
 7166                        		.dbg	line,	"include\routines_LEVELS.c", 354; player_COLL_X = player_pos_x + x_offset;
 7167                        		__ld.bs		2  /* x_offset */
         1F:CFA2  A6 8D      			ldx	<__sp
         1F:CFA4  B5 0A      			lda	<__stack + 2, x
         1F:CFA6  C2         			cly
         1F:CFA7  10 01      			bpl	!+	; signed
         1F:CFA9  88         			dey
         1F:CFAA             	!:
 7168                        		__add.wm	_player_pos_x
         1F:CFAA  18         			clc
         1F:CFAB  6D F5 24   			adc.l	_player_pos_x
         1F:CFAE  42         			say
         1F:CFAF  6D F6 24   			adc.h	_player_pos_x
         1F:CFB2  42         			say
 7169                        		__st.wmq	__check_TILE_DEPTH_end - 2  /* player_COLL_X */
         1F:CFB3  8D 20 2C   			sta.l	__check_TILE_DEPTH_end - 2
         1F:CFB6  8C 21 2C   			sty.h	__check_TILE_DEPTH_end - 2
 7170                        	
 7171                        		.dbg	line,	"include\routines_LEVELS.c", 355; player_COLL_Y = player_pos_y + 32 - y_offset;//32
 7172                        		__ld.wm		_player_pos_y
         1F:CFB9  AD F7 24   			lda.l	_player_pos_y
         1F:CFBC  AC F8 24   			ldy.h	_player_pos_y
 7173                        		__add.wi	32
         1F:CFBF  18         			clc
         1F:CFC0  69 20      			adc.l	#32
         1F:CFC2  90 01      			bcc	!+
         1F:CFC4  C8         			iny
         1F:CFC5             	!:
 7174                        		__push.wr
         1F:CFC5  5A         			phy
         1F:CFC6  48         			pha
 7175                        		__ld.bs		0  /* y_offset */
         1F:CFC7  A6 8D      			ldx	<__sp
         1F:CFC9  B5 08      			lda	<__stack + 0, x
         1F:CFCB  C2         			cly
         1F:CFCC  10 01      			bpl	!+	; signed
         1F:CFCE  88         			dey
         1F:CFCF             	!:
 7176                        		__sub.wt
         1F:CFCF  BA         			tsx
         1F:CFD0  38         			sec
         1F:CFD1  49 FF      			eor	#$FF
         1F:CFD3  7D 01 21   			adc.l	__tos, x
         1F:CFD6  42         			say
         1F:CFD7  49 FF      			eor	#$FF
         1F:CFD9  7D 02 21   			adc.h	__tos, x
         1F:CFDC  42         			say
         1F:CFDD  E8         			inx
         1F:CFDE  E8         			inx
         1F:CFDF  9A         			txs
 7177                        		__st.wmq	__check_TILE_DEPTH_end - 4  /* player_COLL_Y */
         1F:CFE0  8D 1E 2C   			sta.l	__check_TILE_DEPTH_end - 4
         1F:CFE3  8C 1F 2C   			sty.h	__check_TILE_DEPTH_end - 4
 7178                        	
 7179                        		.dbg	line,	"include\routines_LEVELS.c", 357; get_map_block(player_COLL_X + sgx_map_pxl_x, player_COLL_Y + sgx_map_pxl_y);
 7180                        		__ld.wm		__check_TILE_DEPTH_end - 2  /* player_COLL_X */
         1F:CFE6  AD 20 2C   			lda.l	__check_TILE_DEPTH_end - 2
         1F:CFE9  AC 21 2C   			ldy.h	__check_TILE_DEPTH_end - 2
 7181                        		__add.wm	_sgx_map_pxl_x
         1F:CFEC  18         			clc
         1F:CFED  6D D8 26   			adc.l	_sgx_map_pxl_x
         1F:CFF0  42         			say
         1F:CFF1  6D D9 26   			adc.h	_sgx_map_pxl_x
         1F:CFF4  42         			say
 7182                        		__st.wmq	map_pxl_x
         1F:CFF5  85 FC      			sta.l	map_pxl_x
         1F:CFF7  84 FD      			sty.h	map_pxl_x
 7183                        		__ld.wm		__check_TILE_DEPTH_end - 4  /* player_COLL_Y */
         1F:CFF9  AD 1E 2C   			lda.l	__check_TILE_DEPTH_end - 4
         1F:CFFC  AC 1F 2C   			ldy.h	__check_TILE_DEPTH_end - 4
 7184                        		__add.wm	_sgx_map_pxl_y
         1F:CFFF  18         			clc
         1F:D000  6D DA 26   			adc.l	_sgx_map_pxl_y
         1F:D003  42         			say
         1F:D004  6D DB 26   			adc.h	_sgx_map_pxl_y
         1F:D007  42         			say
 7185                        		__st.wmq	map_pxl_y
         1F:D008  85 FE      			sta.l	map_pxl_y
         1F:D00A  84 FF      			sty.h	map_pxl_y
 7186                        		__call		_get_map_block.2
         1F:D00C  20 4F FF   			call	_get_map_block.2
 7187                        	
 7188                        		.dbg	line,	"include\routines_LEVELS.c", 358; }
 7189    1F:D00F             	.LL258:
 7190                        		__modsp		4
         1F:D00F  AA         			tax
         1F:D010  A5 8D      			lda	<__sp
         1F:D012  18         			clc
         1F:D013  69 04      			adc	#4
         1F:D015  85 8D      			sta	<__sp
         1F:D017  8A         			txa
 7191                        		__return	1
         1F:D018  AA         			tax
         1F:D019  4C EF FF   			jmp	leave_proc
 7192                        		.dbg	clear
 7193                        		.endp
 7194               2300     		.bss
 7195    F8:2300             	__check_TILE_DEPTH_end	.alias	leaf_stack
 7196               E31D     		.code
 7197                        		.pceas
 7198                        	
 7199                        		.dbg	line,	"include\routines_LEVELS.c", 360; // CHECK COLLISION PLAYER -> BG //
 7200                        		.dbg	line,	"include\routines_LEVELS.c", 361; int collision_PLAYER_BG(signed char x_offset , signed char y_offset)
 7201                        		.dbg	line,	"include\routines_LEVELS.c", 362; {
 7202                        	;***********************
 7203                        	;***********************
 7204                        	
 7205                        		.hucc
 7206    1F:D093             		.proc		_collision_PLAYER_BG
 7207                        		__enter		_collision_PLAYER_BG
 7208                        	
 7209                        		.dbg	line,	"include\routines_LEVELS.c", 363; int player_COLL_X;
 7210                        	
 7211                        		.dbg	line,	"include\routines_LEVELS.c", 364; int player_COLL_Y;
 7212                        	
 7213                        		.dbg	line,	"include\routines_LEVELS.c", 367; player_COLL_X = player_pos_x + x_offset;
 7214                        		__ld.bs		2  /* x_offset */
         1F:D093  A6 8D      			ldx	<__sp
         1F:D095  B5 0A      			lda	<__stack + 2, x
         1F:D097  C2         			cly
         1F:D098  10 01      			bpl	!+	; signed
         1F:D09A  88         			dey
         1F:D09B             	!:
 7215                        		__add.wm	_player_pos_x
         1F:D09B  18         			clc
         1F:D09C  6D F5 24   			adc.l	_player_pos_x
         1F:D09F  42         			say
         1F:D0A0  6D F6 24   			adc.h	_player_pos_x
         1F:D0A3  42         			say
 7216                        		__st.wmq	__collision_PLAYER_BG_end - 2  /* player_COLL_X */
         1F:D0A4  8D 20 2C   			sta.l	__collision_PLAYER_BG_end - 2
         1F:D0A7  8C 21 2C   			sty.h	__collision_PLAYER_BG_end - 2
 7217                        	
 7218                        		.dbg	line,	"include\routines_LEVELS.c", 368; player_COLL_Y = player_pos_y + y_offset;
 7219                        		__ld.bs		0  /* y_offset */
         1F:D0AA  A6 8D      			ldx	<__sp
         1F:D0AC  B5 08      			lda	<__stack + 0, x
         1F:D0AE  C2         			cly
         1F:D0AF  10 01      			bpl	!+	; signed
         1F:D0B1  88         			dey
         1F:D0B2             	!:
 7220                        		__add.wm	_player_pos_y
         1F:D0B2  18         			clc
         1F:D0B3  6D F7 24   			adc.l	_player_pos_y
         1F:D0B6  42         			say
         1F:D0B7  6D F8 24   			adc.h	_player_pos_y
         1F:D0BA  42         			say
 7221                        		__st.wmq	__collision_PLAYER_BG_end - 4  /* player_COLL_Y */
         1F:D0BB  8D 1E 2C   			sta.l	__collision_PLAYER_BG_end - 4
         1F:D0BE  8C 1F 2C   			sty.h	__collision_PLAYER_BG_end - 4
 7222                        	
 7223                        		.dbg	line,	"include\routines_LEVELS.c", 370; get_map_block(player_COLL_X + sgx_map_pxl_x, player_COLL_Y + sgx_map_pxl_y);
 7224                        		__ld.wm		__collision_PLAYER_BG_end - 2  /* player_COLL_X */
         1F:D0C1  AD 20 2C   			lda.l	__collision_PLAYER_BG_end - 2
         1F:D0C4  AC 21 2C   			ldy.h	__collision_PLAYER_BG_end - 2
 7225                        		__add.wm	_sgx_map_pxl_x
         1F:D0C7  18         			clc
         1F:D0C8  6D D8 26   			adc.l	_sgx_map_pxl_x
         1F:D0CB  42         			say
         1F:D0CC  6D D9 26   			adc.h	_sgx_map_pxl_x
         1F:D0CF  42         			say
 7226                        		__st.wmq	map_pxl_x
         1F:D0D0  85 FC      			sta.l	map_pxl_x
         1F:D0D2  84 FD      			sty.h	map_pxl_x
 7227                        		__ld.wm		__collision_PLAYER_BG_end - 4  /* player_COLL_Y */
         1F:D0D4  AD 1E 2C   			lda.l	__collision_PLAYER_BG_end - 4
         1F:D0D7  AC 1F 2C   			ldy.h	__collision_PLAYER_BG_end - 4
 7228                        		__add.wm	_sgx_map_pxl_y
         1F:D0DA  18         			clc
         1F:D0DB  6D DA 26   			adc.l	_sgx_map_pxl_y
         1F:D0DE  42         			say
         1F:D0DF  6D DB 26   			adc.h	_sgx_map_pxl_y
         1F:D0E2  42         			say
 7229                        		__st.wmq	map_pxl_y
         1F:D0E3  85 FE      			sta.l	map_pxl_y
         1F:D0E5  84 FF      			sty.h	map_pxl_y
 7230                        		__call		_get_map_block.2
         1F:D0E7  20 4F FF   			call	_get_map_block.2
 7231                        	
 7232                        		.dbg	line,	"include\routines_LEVELS.c", 371; }
 7233    1F:D0EA             	.LL259:
 7234                        		__modsp		4
         1F:D0EA  AA         			tax
         1F:D0EB  A5 8D      			lda	<__sp
         1F:D0ED  18         			clc
         1F:D0EE  69 04      			adc	#4
         1F:D0F0  85 8D      			sta	<__sp
         1F:D0F2  8A         			txa
 7235                        		__return	1
         1F:D0F3  AA         			tax
         1F:D0F4  4C EF FF   			jmp	leave_proc
 7236                        		.dbg	clear
 7237                        		.endp
 7238               2300     		.bss
 7239    F8:2300             	__collision_PLAYER_BG_end	.alias	leaf_stack
 7240               E31D     		.code
 7241                        		.pceas
 7242                        	
 7243                        		.dbg	line,	"include\routines_LEVELS.c", 373; // CHECK COLLISION PLAYER -> OBJECTS //
 7244                        		.dbg	line,	"include\routines_LEVELS.c", 374; void collision_PLAYER_OBJECT()
 7245                        		.dbg	line,	"include\routines_LEVELS.c", 375; {
 7246                        	;***********************
 7247                        	;***********************
 7248                        	
 7249                        		.hucc
 7250    1E:DA40             		.proc		_collision_PLAYER_OBJECT
 7251                        		__enter		_collision_PLAYER_OBJECT
 7252                        	
 7253                        		.dbg	line,	"include\routines_LEVELS.c", 376; if(onscreen_object_number != 0)
 7254                        		__tst.um	_onscreen_object_number
         1E:DA40  AD 38 23   			lda	_onscreen_object_number
         1E:DA43  C9 01      			cmp	#1
 7255                        		__bfalse	.LL261
         1E:DA45  B0 03 4C 62			bcc	.LL261
         1E:DA49  DC          
 7256                        	
 7257                        		.dbg	line,	"include\routines_LEVELS.c", 377; {
 7258                        	
 7259                        		.dbg	line,	"include\routines_LEVELS.c", 378; char i;
 7260                        	
 7261                        		.dbg	line,	"include\routines_LEVELS.c", 379; char current_object_id;
 7262                        	
 7263                        		.dbg	line,	"include\routines_LEVELS.c", 380; char current_object_type;
 7264                        	
 7265                        		.dbg	line,	"include\routines_LEVELS.c", 382; for(i=0 ; i<onscreen_object_number ; i++)
 7266                        		__st.umiq	0, __collision_PLAYER_OBJECT_end - 1  /* i */
         1E:DA4A  9C 02 23   			stz	__collision_PLAYER_OBJECT_end - 1
 7267    1E:DA4D             	.LL262:
 7268                        		__ld.umq	__collision_PLAYER_OBJECT_end - 1  /* i */
         1E:DA4D  AD 02 23   			lda	__collision_PLAYER_OBJECT_end - 1
 7269                        		__ult_b.umq	_onscreen_object_number
         1E:DA50  CD 38 23   			cmp	_onscreen_object_number		; Subtract memory from A.
         1E:DA53  6A         			ror	a		; CC if A < memory.
         1E:DA54  49 80      			eor	#$80
         1E:DA56  2A         			rol	a
 7270                        		__btrue		.LL264
         1E:DA57  B0 08      			bcs	.LL264
 7271                        		__bra		.LL265
         1E:DA59  4C 62 DC   			bra	.LL265
 7272    1E:DA5C             	.LL263:
 7273                        		__inc.umq	__collision_PLAYER_OBJECT_end - 1  /* i */
         1E:DA5C  EE 02 23   			inc	__collision_PLAYER_OBJECT_end - 1
 7274                        		__bra		.LL262
         1E:DA5F  80 EC      			bra	.LL262
 7275    1E:DA61             	.LL264:
 7276                        	
 7277                        		.dbg	line,	"include\routines_LEVELS.c", 383; {
 7278                        	
 7279                        		.dbg	line,	"include\routines_LEVELS.c", 384; // RETRIEVE OBJECT INDEX IN THE LIST //
 7280                        	
 7281                        		.dbg	line,	"include\routines_LEVELS.c", 385; current_object_id = list_onscreen_object[i];
 7282                        		__ldx.umq	__collision_PLAYER_OBJECT_end - 1  /* i */
         1E:DA61  AE 02 23   			ldx	__collision_PLAYER_OBJECT_end - 1
 7283                        		__ld.uax	_list_onscreen_object
         1E:DA64  BD B6 23   			lda	_list_onscreen_object, x
         1E:DA67  C2         			cly
 7284                        		__st.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1E:DA68  8D 01 23   			sta	__collision_PLAYER_OBJECT_end - 2
 7285                        	
 7286                        		.dbg	line,	"include\routines_LEVELS.c", 386; // RETRIEVE OBJECT TYPE //
 7287                        	
 7288                        		.dbg	line,	"include\routines_LEVELS.c", 387; current_object_type = list_object_type[current_object_id];
 7289                        		__ldx.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1E:DA6B  AE 01 23   			ldx	__collision_PLAYER_OBJECT_end - 2
 7290                        		__ld.uax	_list_object_type
         1E:DA6E  BD 39 23   			lda	_list_object_type, x
         1E:DA71  C2         			cly
 7291                        		__st.umq	__collision_PLAYER_OBJECT_end - 3  /* current_object_type */
         1E:DA72  8D 00 23   			sta	__collision_PLAYER_OBJECT_end - 3
 7292                        	
 7293                        		.dbg	line,	"include\routines_LEVELS.c", 389; if(current_object_type != TYPE_POT)
 7294                        		__ld.umq	__collision_PLAYER_OBJECT_end - 3  /* current_object_type */
         1E:DA75  AD 00 23   			lda	__collision_PLAYER_OBJECT_end - 3
 7295                        		__neq_b.uiq	1
         1E:DA78  38         			sec
         1E:DA79  49 01      			eor	#1
         1E:DA7B  D0 01      			bne	!+
         1E:DA7D  18         			clc
         1E:DA7E             	!:
 7296                        		__bfalse	.LL266
         1E:DA7E  90 DC      			bcc	.LL266
 7297                        	
 7298                        		.dbg	line,	"include\routines_LEVELS.c", 390; {
 7299                        	
 7300                        		.dbg	line,	"include\routines_LEVELS.c", 391; if(abs( (player_pos_x + 16) - (list_object_x_pos[current_object_id] + 8) ) < OBJECT_MARGIN)
 7301                        		__ld.wm		_player_pos_x
         1E:DA80  AD F5 24   			lda.l	_player_pos_x
         1E:DA83  AC F6 24   			ldy.h	_player_pos_x
 7302                        		__add.wi	16
         1E:DA86  18         			clc
         1E:DA87  69 10      			adc.l	#16
         1E:DA89  90 01      			bcc	!+
         1E:DA8B  C8         			iny
         1E:DA8C             	!:
 7303                        		__push.wr
         1E:DA8C  5A         			phy
         1E:DA8D  48         			pha
 7304                        		__ld2x.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1E:DA8E  AD 01 23   			lda	__collision_PLAYER_OBJECT_end - 2
         1E:DA91  0A         			asl	a
         1E:DA92  AA         			tax
 7305                        		__ld.wax	_list_object_x_pos
         1E:DA93  BD FF 24   			lda.l	_list_object_x_pos, x
         1E:DA96  BC 00 25   			ldy.h	_list_object_x_pos, x
 7306                        		__add.wi	8
         1E:DA99  18         			clc
         1E:DA9A  69 08      			adc.l	#8
         1E:DA9C  90 01      			bcc	!+
         1E:DA9E  C8         			iny
         1E:DA9F             	!:
 7307                        		__sub.wt
         1E:DA9F  BA         			tsx
         1E:DAA0  38         			sec
         1E:DAA1  49 FF      			eor	#$FF
         1E:DAA3  7D 01 21   			adc.l	__tos, x
         1E:DAA6  42         			say
         1E:DAA7  49 FF      			eor	#$FF
         1E:DAA9  7D 02 21   			adc.h	__tos, x
         1E:DAAC  42         			say
         1E:DAAD  E8         			inx
         1E:DAAE  E8         			inx
         1E:DAAF  9A         			txs
 7308                        		__call		_abs.1
         1E:DAB0  20 1D E5   			call	_abs.1
 7309                        		__slt_w.wi	10
         1E:DAB3  C9 0A      			cmp.l	#10		; Subtract integer from Y:A.
         1E:DAB5  98         			tya
         1E:DAB6  E9 00      			sbc.h	#10
         1E:DAB8  50 02      			bvc	!+
         1E:DABA  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1E:DABC  0A         	!:		asl	a
 7310                        		__bfalse	.LL267
         1E:DABD  90 9D      			bcc	.LL267
 7311                        	
 7312                        		.dbg	line,	"include\routines_LEVELS.c", 392; {
 7313                        	
 7314                        		.dbg	line,	"include\routines_LEVELS.c", 393; if(abs( (player_pos_y + 16) - (list_object_y_pos[current_object_id] + 8) ) < OBJECT_MARGIN)
 7315                        		__ld.wm		_player_pos_y
         1E:DABF  AD F7 24   			lda.l	_player_pos_y
         1E:DAC2  AC F8 24   			ldy.h	_player_pos_y
 7316                        		__add.wi	16
         1E:DAC5  18         			clc
         1E:DAC6  69 10      			adc.l	#16
         1E:DAC8  90 01      			bcc	!+
         1E:DACA  C8         			iny
         1E:DACB             	!:
 7317                        		__push.wr
         1E:DACB  5A         			phy
         1E:DACC  48         			pha
 7318                        		__ld2x.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1E:DACD  AD 01 23   			lda	__collision_PLAYER_OBJECT_end - 2
         1E:DAD0  0A         			asl	a
         1E:DAD1  AA         			tax
 7319                        		__ld.wax	_list_object_y_pos
         1E:DAD2  BD 31 25   			lda.l	_list_object_y_pos, x
         1E:DAD5  BC 32 25   			ldy.h	_list_object_y_pos, x
 7320                        		__add.wi	8
         1E:DAD8  18         			clc
         1E:DAD9  69 08      			adc.l	#8
         1E:DADB  90 01      			bcc	!+
         1E:DADD  C8         			iny
         1E:DADE             	!:
 7321                        		__sub.wt
         1E:DADE  BA         			tsx
         1E:DADF  38         			sec
         1E:DAE0  49 FF      			eor	#$FF
         1E:DAE2  7D 01 21   			adc.l	__tos, x
         1E:DAE5  42         			say
         1E:DAE6  49 FF      			eor	#$FF
         1E:DAE8  7D 02 21   			adc.h	__tos, x
         1E:DAEB  42         			say
         1E:DAEC  E8         			inx
         1E:DAED  E8         			inx
         1E:DAEE  9A         			txs
 7322                        		__call		_abs.1
         1E:DAEF  20 1D E5   			call	_abs.1
 7323                        		__slt_w.wi	10
         1E:DAF2  C9 0A      			cmp.l	#10		; Subtract integer from Y:A.
         1E:DAF4  98         			tya
         1E:DAF5  E9 00      			sbc.h	#10
         1E:DAF7  50 02      			bvc	!+
         1E:DAF9  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1E:DAFB  0A         	!:		asl	a
 7324                        		__bfalse	.LL268
         1E:DAFC  B0 03 4C 5C			bcc	.LL268
         1E:DB00  DA          
 7325                        	
 7326                        		.dbg	line,	"include\routines_LEVELS.c", 394; {
 7327                        	
 7328                        		.dbg	line,	"include\routines_LEVELS.c", 395; // THE OBJECT DISAPPEARS //
 7329                        	
 7330                        		.dbg	line,	"include\routines_LEVELS.c", 396; list_object_x_pos[current_object_id] = -16;
 7331                        		__ld2x.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1E:DB01  AD 01 23   			lda	__collision_PLAYER_OBJECT_end - 2
         1E:DB04  0A         			asl	a
         1E:DB05  AA         			tax
 7332                        		__st.waxiq	-16, _list_object_x_pos
         1E:DB06  A9 F0      			lda.l	#-16
         1E:DB08  9D FF 24   			sta.l	_list_object_x_pos, x
         1E:DB0B  A9 FF      			lda.h	#-16
         1E:DB0D  9D 00 25   			sta.h	_list_object_x_pos, x
 7333                        	
 7334                        		.dbg	line,	"include\routines_LEVELS.c", 397; list_object_y_pos[current_object_id] = -16;
 7335                        		__ld2x.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1E:DB10  AD 01 23   			lda	__collision_PLAYER_OBJECT_end - 2
         1E:DB13  0A         			asl	a
         1E:DB14  AA         			tax
 7336                        		__st.waxiq	-16, _list_object_y_pos
         1E:DB15  A9 F0      			lda.l	#-16
         1E:DB17  9D 31 25   			sta.l	_list_object_y_pos, x
         1E:DB1A  A9 FF      			lda.h	#-16
         1E:DB1C  9D 32 25   			sta.h	_list_object_y_pos, x
 7337                        	
 7338                        		.dbg	line,	"include\routines_LEVELS.c", 398; list_object_state[current_object_id] = STATE_FREE;
 7339                        		__ldx.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1E:DB1F  AE 01 23   			ldx	__collision_PLAYER_OBJECT_end - 2
 7340                        		__st.uaxiq	0, _list_object_state
         1E:DB22  9E 52 23   			stz	_list_object_state, x
 7341                        	
 7342                        		.dbg	line,	"include\routines_LEVELS.c", 400; sgx_spr_set(current_object_id + object_start_index);
 7343                        		__ld.um		__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1E:DB25  AD 01 23   			lda	__collision_PLAYER_OBJECT_end - 2
         1E:DB28  C2         			cly
 7344                        		__add.um	_object_start_index
         1E:DB29  18         			clc
         1E:DB2A  6D 36 23   			adc	_object_start_index
         1E:DB2D  90 01      			bcc	!+
         1E:DB2F  C8         			iny
         1E:DB30             	!:
 7345                        		__call		_sgx_spr_set.1
         1E:DB30  20 9E E8   			call	_sgx_spr_set.1
 7346                        	
 7347                        		.dbg	line,	"include\routines_LEVELS.c", 401; sgx_spr_x(list_object_x_pos[current_object_id]);
 7348                        		__ld2x.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1E:DB33  AD 01 23   			lda	__collision_PLAYER_OBJECT_end - 2
         1E:DB36  0A         			asl	a
         1E:DB37  AA         			tax
 7349                        		__ld.wax	_list_object_x_pos
         1E:DB38  BD FF 24   			lda.l	_list_object_x_pos, x
         1E:DB3B  BC 00 25   			ldy.h	_list_object_x_pos, x
 7350                        		__call		_sgx_spr_x.1
         1E:DB3E  20 CB E8   			call	_sgx_spr_x.1
 7351                        	
 7352                        		.dbg	line,	"include\routines_LEVELS.c", 402; sgx_spr_y(list_object_y_pos[current_object_id]);
 7353                        		__ld2x.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1E:DB41  AD 01 23   			lda	__collision_PLAYER_OBJECT_end - 2
         1E:DB44  0A         			asl	a
         1E:DB45  AA         			tax
 7354                        		__ld.wax	_list_object_y_pos
         1E:DB46  BD 31 25   			lda.l	_list_object_y_pos, x
         1E:DB49  BC 32 25   			ldy.h	_list_object_y_pos, x
 7355                        		__call		_sgx_spr_y.1
         1E:DB4C  20 DA E8   			call	_sgx_spr_y.1
 7356                        	
 7357                        		.dbg	line,	"include\routines_LEVELS.c", 403; 
 7358                        	
 7359                        		.dbg	line,	"include\routines_LEVELS.c", 405; switch(current_object_type)
 7360                        		__ld.umq	__collision_PLAYER_OBJECT_end - 3  /* current_object_type */
         1E:DB4F  AD 00 23   			lda	__collision_PLAYER_OBJECT_end - 3
 7361                        		__bra		.LL269
         1E:DB52  4C 34 DC   			bra	.LL269
 7362                        	
 7363                        		.dbg	line,	"include\routines_LEVELS.c", 406; {
 7364                        	
 7365                        		.dbg	line,	"include\routines_LEVELS.c", 407; case TYPE_HOURGLASS:
 7366    1E:DB55             	.LL271:
 7367                        		__case		0
 7368                        	
 7369                        		.dbg	line,	"include\routines_LEVELS.c", 408; if(seconds + 30 > 59)
 7370                        		__ld.um		_seconds
         1E:DB55  AD 32 23   			lda	_seconds
         1E:DB58  C2         			cly
 7371                        		__add.wi	30
         1E:DB59  18         			clc
         1E:DB5A  69 1E      			adc.l	#30
         1E:DB5C  90 01      			bcc	!+
         1E:DB5E  C8         			iny
         1E:DB5F             	!:
 7372                        		__sgt_w.wi	59
         1E:DB5F  18         			clc			; Subtract integer+1 from Y:A.
         1E:DB60  E9 3B      			sbc.l	#59
         1E:DB62  98         			tya
         1E:DB63  E9 00      			sbc.h	#59
         1E:DB65  50 02      			bvc	!+
         1E:DB67  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1E:DB69  49 80      	!:		eor	#$80
         1E:DB6B  0A         			asl	a
 7373                        		__bfalse	.LL272
         1E:DB6C  90 13      			bcc	.LL272
 7374                        	
 7375                        		.dbg	line,	"include\routines_LEVELS.c", 409; {
 7376                        	
 7377                        		.dbg	line,	"include\routines_LEVELS.c", 410; seconds = seconds + 30 - 60;
 7378                        		__ld.um		_seconds
         1E:DB6E  AD 32 23   			lda	_seconds
         1E:DB71  C2         			cly
 7379                        		__sub.wi	30
         1E:DB72  38         			sec
         1E:DB73  E9 1E      			sbc.l	#30
         1E:DB75  B0 01      			bcs	!+
         1E:DB77  88         			dey
         1E:DB78             	!:
 7380                        		__st.umq	_seconds
         1E:DB78  8D 32 23   			sta	_seconds
 7381                        	
 7382                        		.dbg	line,	"include\routines_LEVELS.c", 411; minutes += 1;
 7383                        		__add_st.umiq	1, _minutes
         1E:DB7B  EE 31 23   			inc	_minutes
 7384                        	
 7385                        		.dbg	line,	"include\routines_LEVELS.c", 412; }
 7386                        	
 7387                        		.dbg	line,	"include\routines_LEVELS.c", 414; else
 7388                        		__bra		.LL273
         1E:DB7E  4C 5C DA   			bra	.LL273
 7389    1E:DB81             	.LL272:
 7390                        	
 7391                        		.dbg	line,	"include\routines_LEVELS.c", 415; {
 7392                        	
 7393                        		.dbg	line,	"include\routines_LEVELS.c", 416; seconds += 30;
 7394                        		__add_st.umiq	30, _seconds
         1E:DB81  18         			clc
         1E:DB82  AD 32 23   			lda	_seconds
         1E:DB85  69 1E      			adc	#30
         1E:DB87  8D 32 23   			sta	_seconds
 7395                        	
 7396                        		.dbg	line,	"include\routines_LEVELS.c", 417; }
 7397    1E:DB8A             	.LL273	.alias		.LL270
 7398                        	
 7399                        		.dbg	line,	"include\routines_LEVELS.c", 419; break;
 7400                        		__bra		.LL270
         1E:DB8A  4C 5C DA   			bra	.LL270
 7401                        	
 7402                        		.dbg	line,	"include\routines_LEVELS.c", 421; case TYPE_POW:
 7403    1E:DB8D             	.LL274:
 7404                        		__case		2
 7405                        	
 7406                        		.dbg	line,	"include\routines_LEVELS.c", 422; //
 7407                        	
 7408                        		.dbg	line,	"include\routines_LEVELS.c", 423; break;
 7409                        		__bra		.LL270
         1E:DB8D  4C 5C DA   			bra	.LL270
 7410                        	
 7411                        		.dbg	line,	"include\routines_LEVELS.c", 425; case TYPE_GRAY_KEY:
 7412    1E:DB90             	.LL275:
 7413                        		__case		4
 7414                        	
 7415                        		.dbg	line,	"include\routines_LEVELS.c", 426; key_amount += 1;
 7416                        		__add_st.umiq	1, _key_amount
         1E:DB90  EE 2F 23   			inc	_key_amount
 7417                        	
 7418                        		.dbg	line,	"include\routines_LEVELS.c", 427; display_KEY();
 7419                        		__call		_display_KEY
         1E:DB93  20 45 FF   			call	_display_KEY
 7420                        	
 7421                        		.dbg	line,	"include\routines_LEVELS.c", 428; break;
 7422                        		__bra		.LL270
         1E:DB96  4C 5C DA   			bra	.LL270
 7423                        	
 7424                        		.dbg	line,	"include\routines_LEVELS.c", 430; case TYPE_1UP:
 7425    1E:DB99             	.LL276:
 7426                        		__case		6
 7427                        	
 7428                        		.dbg	line,	"include\routines_LEVELS.c", 431; key_amount += 1;
 7429                        		__add_st.umiq	1, _key_amount
         1E:DB99  EE 2F 23   			inc	_key_amount
 7430                        	
 7431                        		.dbg	line,	"include\routines_LEVELS.c", 432; display_LIFE();
 7432                        		__call		_display_LIFE
         1E:DB9C  20 3B FF   			call	_display_LIFE
 7433                        	
 7434                        		.dbg	line,	"include\routines_LEVELS.c", 433; break;
 7435                        		__bra		.LL270
         1E:DB9F  4C 5C DA   			bra	.LL270
 7436                        	
 7437                        		.dbg	line,	"include\routines_LEVELS.c", 435; case TYPE_COIN_1:
 7438    1E:DBA2             	.LL277:
 7439                        		__case		7
 7440                        	
 7441                        		.dbg	line,	"include\routines_LEVELS.c", 436; zenny_amount += 1;
 7442                        		__add_st.wmiq	1, _zenny_amount
         1E:DBA2  EE 55 26   			inc.l	_zenny_amount
         1E:DBA5  D0 03      			bne	!+
         1E:DBA7  EE 56 26   			inc.h	_zenny_amount
         1E:DBAA             	!:
 7443                        	
 7444                        		.dbg	line,	"include\routines_LEVELS.c", 437; display_ZENNY();
 7445                        		__call		_display_ZENNY
         1E:DBAA  20 31 FF   			call	_display_ZENNY
 7446                        	
 7447                        		.dbg	line,	"include\routines_LEVELS.c", 438; break;
 7448                        		__bra		.LL270
         1E:DBAD  4C 5C DA   			bra	.LL270
 7449                        	
 7450                        		.dbg	line,	"include\routines_LEVELS.c", 440; case TYPE_COIN_5:
 7451    1E:DBB0             	.LL278:
 7452                        		__case		8
 7453                        	
 7454                        		.dbg	line,	"include\routines_LEVELS.c", 441; zenny_amount += 5;
 7455                        		__add_st.wmiq	5, _zenny_amount
         1E:DBB0  18         			clc
         1E:DBB1  AD 55 26   			lda.l	_zenny_amount
         1E:DBB4  69 05      			adc.l	#5
         1E:DBB6  8D 55 26   			sta.l	_zenny_amount
         1E:DBB9  90 03      			bcc	!+
         1E:DBBB  EE 56 26   			inc.h	_zenny_amount
         1E:DBBE             	!:
 7456                        	
 7457                        		.dbg	line,	"include\routines_LEVELS.c", 442; display_ZENNY();
 7458                        		__call		_display_ZENNY
         1E:DBBE  20 31 FF   			call	_display_ZENNY
 7459                        	
 7460                        		.dbg	line,	"include\routines_LEVELS.c", 443; break;
 7461                        		__bra		.LL270
         1E:DBC1  4C 5C DA   			bra	.LL270
 7462                        	
 7463                        		.dbg	line,	"include\routines_LEVELS.c", 445; case TYPE_COIN_10:
 7464    1E:DBC4             	.LL279:
 7465                        		__case		9
 7466                        	
 7467                        		.dbg	line,	"include\routines_LEVELS.c", 446; zenny_amount += 10;
 7468                        		__add_st.wmiq	10, _zenny_amount
         1E:DBC4  18         			clc
         1E:DBC5  AD 55 26   			lda.l	_zenny_amount
         1E:DBC8  69 0A      			adc.l	#10
         1E:DBCA  8D 55 26   			sta.l	_zenny_amount
         1E:DBCD  90 03      			bcc	!+
         1E:DBCF  EE 56 26   			inc.h	_zenny_amount
         1E:DBD2             	!:
 7469                        	
 7470                        		.dbg	line,	"include\routines_LEVELS.c", 447; display_ZENNY();
 7471                        		__call		_display_ZENNY
         1E:DBD2  20 31 FF   			call	_display_ZENNY
 7472                        	
 7473                        		.dbg	line,	"include\routines_LEVELS.c", 448; break;
 7474                        		__bra		.LL270
         1E:DBD5  4C 5C DA   			bra	.LL270
 7475                        	
 7476                        		.dbg	line,	"include\routines_LEVELS.c", 450; case TYPE_COIN_50:
 7477    1E:DBD8             	.LL280:
 7478                        		__case		10
 7479                        	
 7480                        		.dbg	line,	"include\routines_LEVELS.c", 451; zenny_amount += 50;
 7481                        		__add_st.wmiq	50, _zenny_amount
         1E:DBD8  18         			clc
         1E:DBD9  AD 55 26   			lda.l	_zenny_amount
         1E:DBDC  69 32      			adc.l	#50
         1E:DBDE  8D 55 26   			sta.l	_zenny_amount
         1E:DBE1  90 03      			bcc	!+
         1E:DBE3  EE 56 26   			inc.h	_zenny_amount
         1E:DBE6             	!:
 7482                        	
 7483                        		.dbg	line,	"include\routines_LEVELS.c", 452; display_ZENNY();
 7484                        		__call		_display_ZENNY
         1E:DBE6  20 31 FF   			call	_display_ZENNY
 7485                        	
 7486                        		.dbg	line,	"include\routines_LEVELS.c", 453; break;
 7487                        		__bra		.LL270
         1E:DBE9  4C 5C DA   			bra	.LL270
 7488                        	
 7489                        		.dbg	line,	"include\routines_LEVELS.c", 455; case TYPE_COIN_100:
 7490    1E:DBEC             	.LL281:
 7491                        		__case		11
 7492                        	
 7493                        		.dbg	line,	"include\routines_LEVELS.c", 456; zenny_amount += 100;
 7494                        		__add_st.wmiq	100, _zenny_amount
         1E:DBEC  18         			clc
         1E:DBED  AD 55 26   			lda.l	_zenny_amount
         1E:DBF0  69 64      			adc.l	#100
         1E:DBF2  8D 55 26   			sta.l	_zenny_amount
         1E:DBF5  90 03      			bcc	!+
         1E:DBF7  EE 56 26   			inc.h	_zenny_amount
         1E:DBFA             	!:
 7495                        	
 7496                        		.dbg	line,	"include\routines_LEVELS.c", 457; display_ZENNY();
 7497                        		__call		_display_ZENNY
         1E:DBFA  20 31 FF   			call	_display_ZENNY
 7498                        	
 7499                        		.dbg	line,	"include\routines_LEVELS.c", 458; break;
 7500                        		__bra		.LL270
         1E:DBFD  4C 5C DA   			bra	.LL270
 7501                        	
 7502                        		.dbg	line,	"include\routines_LEVELS.c", 460; case TYPE_COIN_500:
 7503    1E:DC00             	.LL282:
 7504                        		__case		12
 7505                        	
 7506                        		.dbg	line,	"include\routines_LEVELS.c", 461; zenny_amount += 500;
 7507                        		__add_st.wmiq	500, _zenny_amount
         1E:DC00  18         			clc
         1E:DC01  AD 55 26   			lda.l	_zenny_amount
         1E:DC04  69 F4      			adc.l	#500
         1E:DC06  8D 55 26   			sta.l	_zenny_amount
         1E:DC09  AD 56 26   			lda.h	_zenny_amount
         1E:DC0C  69 01      			adc.h	#500
         1E:DC0E  8D 56 26   			sta.h	_zenny_amount
 7508                        	
 7509                        		.dbg	line,	"include\routines_LEVELS.c", 462; display_ZENNY();
 7510                        		__call		_display_ZENNY
         1E:DC11  20 31 FF   			call	_display_ZENNY
 7511                        	
 7512                        		.dbg	line,	"include\routines_LEVELS.c", 463; break;
 7513                        		__bra		.LL270
         1E:DC14  4C 5C DA   			bra	.LL270
 7514                        	
 7515                        		.dbg	line,	"include\routines_LEVELS.c", 465; case TYPE_COIN_1000:
 7516    1E:DC17             	.LL283:
 7517                        		__case		13
 7518                        	
 7519                        		.dbg	line,	"include\routines_LEVELS.c", 466; zenny_amount += 1000;
 7520                        		__add_st.wmiq	1000, _zenny_amount
         1E:DC17  18         			clc
         1E:DC18  AD 55 26   			lda.l	_zenny_amount
         1E:DC1B  69 E8      			adc.l	#1000
         1E:DC1D  8D 55 26   			sta.l	_zenny_amount
         1E:DC20  AD 56 26   			lda.h	_zenny_amount
         1E:DC23  69 03      			adc.h	#1000
         1E:DC25  8D 56 26   			sta.h	_zenny_amount
 7521                        	
 7522                        		.dbg	line,	"include\routines_LEVELS.c", 467; display_ZENNY();
 7523                        		__call		_display_ZENNY
         1E:DC28  20 31 FF   			call	_display_ZENNY
 7524                        	
 7525                        		.dbg	line,	"include\routines_LEVELS.c", 468; break;
 7526                        		__bra		.LL270
         1E:DC2B  4C 5C DA   			bra	.LL270
 7527                        	
 7528                        		.dbg	line,	"include\routines_LEVELS.c", 470; case TYPE_YASHICHI:
 7529    1E:DC2E             	.LL284:
 7530                        		__case		14
 7531                        	
 7532                        		.dbg	line,	"include\routines_LEVELS.c", 471; life_amount += 1;
 7533                        		__add_st.umiq	1, _life_amount
         1E:DC2E  EE 2D 23   			inc	_life_amount
 7534                        	
 7535                        		.dbg	line,	"include\routines_LEVELS.c", 472; break;
 7536                        		__bra		.LL270
         1E:DC31  4C 5C DA   			bra	.LL270
 7537                        	
 7538                        		.dbg	line,	"include\routines_LEVELS.c", 473; }
 7539    1E:DC34             	.LL269:
 7540                        		__switch_r.ur	0, 14
         1E:DC34  C9 0F      			cmp	#(14 - 0) + 1
         1E:DC36  90 02      			bcc	!found+
         1E:DC38  A9 0F      	!default:	lda	#(14 - 0) + 1
         1E:DC3A  0A         	!found:		asl	a
         1E:DC3B  AA         			tax
         1E:DC3C  7C 3F DC   			jmp	[!table+, x]
 7541                        	
 7542    1E:DC3F  55 DB      	!table:		dw	.LL271, .LL270, .LL274, .LL270, .LL275, .LL270, .LL276, .LL277
         1E:DC41  5C DA       
         1E:DC43  8D DB       
         1E:DC45  5C DA       
         1E:DC47  90 DB       
         1E:DC49  5C DA       
         1E:DC4B  99 DB       
         1E:DC4D  A2 DB       
 7543    1E:DC4F  B0 DB      			dw	.LL278, .LL279, .LL280, .LL281, .LL282, .LL283, .LL284
         1E:DC51  C4 DB       
         1E:DC53  D8 DB       
         1E:DC55  EC DB       
         1E:DC57  00 DC       
         1E:DC59  17 DC       
         1E:DC5B  2E DC       
 7544    1E:DC5D  5C DA      			dw	.LL270
 7545    1E:DC5F             	.LL270	.alias		.LL263
 7546                        	
 7547                        		.dbg	line,	"include\routines_LEVELS.c", 474; }
 7548                        	
 7549                        		.dbg	line,	"include\routines_LEVELS.c", 475; }
 7550    1E:DC5F             	.LL268	.alias		.LL263
 7551                        	
 7552                        		.dbg	line,	"include\routines_LEVELS.c", 476; }
 7553    1E:DC5F             	.LL267	.alias		.LL263
 7554                        	
 7555                        		.dbg	line,	"include\routines_LEVELS.c", 477; }
 7556    1E:DC5F             	.LL266	.alias		.LL263
 7557                        		__bra		.LL263
         1E:DC5F  4C 5C DA   			bra	.LL263
 7558    1E:DC62             	.LL265:
 7559                        	
 7560                        		.dbg	line,	"include\routines_LEVELS.c", 478; }
 7561                        	
 7562                        		.dbg	line,	"include\routines_LEVELS.c", 479; }
 7563    1E:DC62             	.LL261:
 7564    1E:DC62             	.LL260:
 7565                        		__return	0
         1E:DC62  4C EF FF   			jmp	leave_proc
 7566                        		.dbg	clear
 7567                        		.endp
 7568               2300     		.bss
 7569    F8:2300             			ds	3
 7570    F8:2303             	__collision_PLAYER_OBJECT_end:
 7571               E31D     		.code
 7572                        		.pceas
 7573                        	
 7574                        		.dbg	line,	"include\routines_LEVELS.c", 481; // CHECK COLLISION PLAYER -> NPCS //
 7575                        		.dbg	line,	"include\routines_LEVELS.c", 482; void collision_PLAYER_NPC()
 7576                        		.dbg	line,	"include\routines_LEVELS.c", 483; {
 7577                        	;***********************
 7578                        	;***********************
 7579                        	
 7580                        		.hucc
 7581    1F:C569             		.proc		_collision_PLAYER_NPC
 7582                        		__enter		_collision_PLAYER_NPC
 7583                        	
 7584                        		.dbg	line,	"include\routines_LEVELS.c", 484; if(onscreen_npc_number != 0)
 7585                        		__tst.um	_onscreen_npc_number
         1F:C569  AD D3 23   			lda	_onscreen_npc_number
         1F:C56C  C9 01      			cmp	#1
 7586                        		__bfalse	.LL286
         1F:C56E  B0 03 4C A3			bcc	.LL286
         1F:C572  C6          
 7587                        	
 7588                        		.dbg	line,	"include\routines_LEVELS.c", 485; {
 7589                        	
 7590                        		.dbg	line,	"include\routines_LEVELS.c", 486; if(player_state == STATE_IDLE || player_state == STATE_WALK)
 7591                        		__not.um	_player_state
         1F:C573  AD 18 23   			lda	_player_state
         1F:C576  18         			clc
         1F:C577  D0 01      			bne	!+
         1F:C579  38         			sec
         1F:C57A             	!:
 7592                        		__btrue		.LL288
         1F:C57A  B0 08      			bcs	.LL288
 7593                        		__ld.umq	_player_state
         1F:C57C  AD 18 23   			lda	_player_state
 7594                        		__equ_b.uiq	1
         1F:C57F  C9 01      			cmp	#1
         1F:C581  F0 01      			beq	!+
         1F:C583  18         			clc
         1F:C584             	!:
 7595    1F:C584             	.LL288:
 7596                        		__bfalse	.LL287
         1F:C584  B0 03 4C A3			bcc	.LL287
         1F:C588  C6          
 7597                        	
 7598                        		.dbg	line,	"include\routines_LEVELS.c", 487; {
 7599                        	
 7600                        		.dbg	line,	"include\routines_LEVELS.c", 488; char i,j;
 7601                        	
 7602                        		.dbg	line,	"include\routines_LEVELS.c", 489; char current_npc_id;
 7603                        	
 7604                        		.dbg	line,	"include\routines_LEVELS.c", 490; char current_npc_type;
 7605                        	
 7606                        		.dbg	line,	"include\routines_LEVELS.c", 492; for(i=0 ; i<onscreen_npc_number ; i++)
 7607                        		__st.umiq	0, __collision_PLAYER_NPC_end - 1  /* i */
         1F:C589  9C 21 2C   			stz	__collision_PLAYER_NPC_end - 1
 7608    1F:C58C             	.LL289:
 7609                        		__ld.umq	__collision_PLAYER_NPC_end - 1  /* i */
         1F:C58C  AD 21 2C   			lda	__collision_PLAYER_NPC_end - 1
 7610                        		__ult_b.umq	_onscreen_npc_number
         1F:C58F  CD D3 23   			cmp	_onscreen_npc_number		; Subtract memory from A.
         1F:C592  6A         			ror	a		; CC if A < memory.
         1F:C593  49 80      			eor	#$80
         1F:C595  2A         			rol	a
 7611                        		__btrue		.LL291
         1F:C596  B0 08      			bcs	.LL291
 7612                        		__bra		.LL292
         1F:C598  4C A3 C6   			bra	.LL292
 7613    1F:C59B             	.LL290:
 7614                        		__inc.umq	__collision_PLAYER_NPC_end - 1  /* i */
         1F:C59B  EE 21 2C   			inc	__collision_PLAYER_NPC_end - 1
 7615                        		__bra		.LL289
         1F:C59E  80 EC      			bra	.LL289
 7616    1F:C5A0             	.LL291:
 7617                        	
 7618                        		.dbg	line,	"include\routines_LEVELS.c", 493; {
 7619                        	
 7620                        		.dbg	line,	"include\routines_LEVELS.c", 494; // RETRIEVE NPC INDEX IN THE LIST //
 7621                        	
 7622                        		.dbg	line,	"include\routines_LEVELS.c", 495; current_npc_id = list_onscreen_npc[i];
 7623                        		__ldx.umq	__collision_PLAYER_NPC_end - 1  /* i */
         1F:C5A0  AE 21 2C   			ldx	__collision_PLAYER_NPC_end - 1
 7624                        		__ld.uax	_list_onscreen_npc
         1F:C5A3  BD E6 23   			lda	_list_onscreen_npc, x
         1F:C5A6  C2         			cly
 7625                        		__st.umq	__collision_PLAYER_NPC_end - 3  /* current_npc_id */
         1F:C5A7  8D 1F 2C   			sta	__collision_PLAYER_NPC_end - 3
 7626                        	
 7627                        		.dbg	line,	"include\routines_LEVELS.c", 497; if(list_npc_state[current_npc_id] == STATE_ACTIVE)
 7628                        		__ldx.umq	__collision_PLAYER_NPC_end - 3  /* current_npc_id */
         1F:C5AA  AE 1F 2C   			ldx	__collision_PLAYER_NPC_end - 3
 7629                        		__ld.uaxq	_list_npc_state
         1F:C5AD  BD DD 23   			lda	_list_npc_state, x
 7630                        		__equ_b.uiq	1
         1F:C5B0  C9 01      			cmp	#1
         1F:C5B2  F0 01      			beq	!+
         1F:C5B4  18         			clc
         1F:C5B5             	!:
 7631                        		__bfalse	.LL293
         1F:C5B5  90 E4      			bcc	.LL293
 7632                        	
 7633                        		.dbg	line,	"include\routines_LEVELS.c", 498; {
 7634                        	
 7635                        		.dbg	line,	"include\routines_LEVELS.c", 499; // RETRIEVE NPC TYPE //
 7636                        	
 7637                        		.dbg	line,	"include\routines_LEVELS.c", 500; current_npc_type = list_npc_type[current_npc_id];
 7638                        		__ldx.umq	__collision_PLAYER_NPC_end - 3  /* current_npc_id */
         1F:C5B7  AE 1F 2C   			ldx	__collision_PLAYER_NPC_end - 3
 7639                        		__ld.uax	_list_npc_type
         1F:C5BA  BD D4 23   			lda	_list_npc_type, x
         1F:C5BD  C2         			cly
 7640                        		__st.umq	__collision_PLAYER_NPC_end - 4  /* current_npc_type */
         1F:C5BE  8D 1E 2C   			sta	__collision_PLAYER_NPC_end - 4
 7641                        	
 7642                        		.dbg	line,	"include\routines_LEVELS.c", 502; if(abs( (player_pos_x + 16) - (list_npc_x_pos[current_npc_id] + 16) ) < OBJECT_MARGIN)
 7643                        		__ld.wm		_player_pos_x
         1F:C5C1  AD F5 24   			lda.l	_player_pos_x
         1F:C5C4  AC F6 24   			ldy.h	_player_pos_x
 7644                        		__add.wi	16
         1F:C5C7  18         			clc
         1F:C5C8  69 10      			adc.l	#16
         1F:C5CA  90 01      			bcc	!+
         1F:C5CC  C8         			iny
         1F:C5CD             	!:
 7645                        		__push.wr
         1F:C5CD  5A         			phy
         1F:C5CE  48         			pha
 7646                        		__ld2x.umq	__collision_PLAYER_NPC_end - 3  /* current_npc_id */
         1F:C5CF  AD 1F 2C   			lda	__collision_PLAYER_NPC_end - 3
         1F:C5D2  0A         			asl	a
         1F:C5D3  AA         			tax
 7647                        		__ld.wax	_list_npc_x_pos
         1F:C5D4  BD 07 26   			lda.l	_list_npc_x_pos, x
         1F:C5D7  BC 08 26   			ldy.h	_list_npc_x_pos, x
 7648                        		__add.wi	16
         1F:C5DA  18         			clc
         1F:C5DB  69 10      			adc.l	#16
         1F:C5DD  90 01      			bcc	!+
         1F:C5DF  C8         			iny
         1F:C5E0             	!:
 7649                        		__sub.wt
         1F:C5E0  BA         			tsx
         1F:C5E1  38         			sec
         1F:C5E2  49 FF      			eor	#$FF
         1F:C5E4  7D 01 21   			adc.l	__tos, x
         1F:C5E7  42         			say
         1F:C5E8  49 FF      			eor	#$FF
         1F:C5EA  7D 02 21   			adc.h	__tos, x
         1F:C5ED  42         			say
         1F:C5EE  E8         			inx
         1F:C5EF  E8         			inx
         1F:C5F0  9A         			txs
 7650                        		__call		_abs.1
         1F:C5F1  20 1D E5   			call	_abs.1
 7651                        		__slt_w.wi	10
         1F:C5F4  C9 0A      			cmp.l	#10		; Subtract integer from Y:A.
         1F:C5F6  98         			tya
         1F:C5F7  E9 00      			sbc.h	#10
         1F:C5F9  50 02      			bvc	!+
         1F:C5FB  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1F:C5FD  0A         	!:		asl	a
 7652                        		__bfalse	.LL294
         1F:C5FE  90 9B      			bcc	.LL294
 7653                        	
 7654                        		.dbg	line,	"include\routines_LEVELS.c", 503; {
 7655                        	
 7656                        		.dbg	line,	"include\routines_LEVELS.c", 504; if(abs( (player_pos_y + 16) - (list_npc_y_pos[current_npc_id] + 16) ) < OBJECT_MARGIN)
 7657                        		__ld.wm		_player_pos_y
         1F:C600  AD F7 24   			lda.l	_player_pos_y
         1F:C603  AC F8 24   			ldy.h	_player_pos_y
 7658                        		__add.wi	16
         1F:C606  18         			clc
         1F:C607  69 10      			adc.l	#16
         1F:C609  90 01      			bcc	!+
         1F:C60B  C8         			iny
         1F:C60C             	!:
 7659                        		__push.wr
         1F:C60C  5A         			phy
         1F:C60D  48         			pha
 7660                        		__ld2x.umq	__collision_PLAYER_NPC_end - 3  /* current_npc_id */
         1F:C60E  AD 1F 2C   			lda	__collision_PLAYER_NPC_end - 3
         1F:C611  0A         			asl	a
         1F:C612  AA         			tax
 7661                        		__ld.wax	_list_npc_y_pos
         1F:C613  BD 19 26   			lda.l	_list_npc_y_pos, x
         1F:C616  BC 1A 26   			ldy.h	_list_npc_y_pos, x
 7662                        		__add.wi	16
         1F:C619  18         			clc
         1F:C61A  69 10      			adc.l	#16
         1F:C61C  90 01      			bcc	!+
         1F:C61E  C8         			iny
         1F:C61F             	!:
 7663                        		__sub.wt
         1F:C61F  BA         			tsx
         1F:C620  38         			sec
         1F:C621  49 FF      			eor	#$FF
         1F:C623  7D 01 21   			adc.l	__tos, x
         1F:C626  42         			say
         1F:C627  49 FF      			eor	#$FF
         1F:C629  7D 02 21   			adc.h	__tos, x
         1F:C62C  42         			say
         1F:C62D  E8         			inx
         1F:C62E  E8         			inx
         1F:C62F  9A         			txs
 7664                        		__call		_abs.1
         1F:C630  20 1D E5   			call	_abs.1
 7665                        		__slt_w.wi	10
         1F:C633  C9 0A      			cmp.l	#10		; Subtract integer from Y:A.
         1F:C635  98         			tya
         1F:C636  E9 00      			sbc.h	#10
         1F:C638  50 02      			bvc	!+
         1F:C63A  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1F:C63C  0A         	!:		asl	a
 7666                        		__bfalse	.LL295
         1F:C63D  B0 03 4C 9B			bcc	.LL295
         1F:C641  C5          
 7667                        	
 7668                        		.dbg	line,	"include\routines_LEVELS.c", 505; {               
 7669                        	
 7670                        		.dbg	line,	"include\routines_LEVELS.c", 506; switch(current_npc_type)
 7671                        		__ld.umq	__collision_PLAYER_NPC_end - 4  /* current_npc_type */
         1F:C642  AD 1E 2C   			lda	__collision_PLAYER_NPC_end - 4
 7672                        		__bra		.LL296
         1F:C645  80 48      			bra	.LL296
 7673                        	
 7674                        		.dbg	line,	"include\routines_LEVELS.c", 507; {
 7675                        	
 7676                        		.dbg	line,	"include\routines_LEVELS.c", 508; case TYPE_NPC_REWARD:
 7677    1F:C647             	.LL298:
 7678                        		__case		0
 7679                        	
 7680                        		.dbg	line,	"include\routines_LEVELS.c", 509; //
 7681                        	
 7682                        		.dbg	line,	"include\routines_LEVELS.c", 510; break;
 7683                        		__bra		.LL297
         1F:C647  4C 9B C5   			bra	.LL297
 7684                        	
 7685                        		.dbg	line,	"include\routines_LEVELS.c", 512; case TYPE_NPC_SHOP:
 7686    1F:C64A             	.LL299:
 7687                        		__case		1
 7688                        	
 7689                        		.dbg	line,	"include\routines_LEVELS.c", 513; disp_off();
 7690                        		__call		_disp_off
         1F:C64A  20 3D E4   			call	_disp_off
 7691                        	
 7692                        		.dbg	line,	"include\routines_LEVELS.c", 515; minutes_backup = minutes;
 7693                        		__ld.um		_minutes
         1F:C64D  AD 31 23   			lda	_minutes
         1F:C650  C2         			cly
 7694                        		__st.umq	_minutes_backup
         1F:C651  8D 34 23   			sta	_minutes_backup
 7695                        	
 7696                        		.dbg	line,	"include\routines_LEVELS.c", 516; seconds_backup = seconds;
 7697                        		__ld.um		_seconds
         1F:C654  AD 32 23   			lda	_seconds
         1F:C657  C2         			cly
 7698                        		__st.umq	_seconds_backup
         1F:C658  8D 35 23   			sta	_seconds_backup
 7699                        	
 7700                        		.dbg	line,	"include\routines_LEVELS.c", 517; list_npc_state[current_npc_id] = STATE_FREE;
 7701                        		__ldx.umq	__collision_PLAYER_NPC_end - 3  /* current_npc_id */
         1F:C65B  AE 1F 2C   			ldx	__collision_PLAYER_NPC_end - 3
 7702                        		__st.uaxiq	0, _list_npc_state
         1F:C65E  9E DD 23   			stz	_list_npc_state, x
 7703                        	
 7704                        		.dbg	line,	"include\routines_LEVELS.c", 518; camera_pos_x_backup = sgx_map_pxl_x;
 7705                        		__ld.wm		_sgx_map_pxl_x
         1F:C661  AD D8 26   			lda.l	_sgx_map_pxl_x
         1F:C664  AC D9 26   			ldy.h	_sgx_map_pxl_x
 7706                        		__st.wmq	_camera_pos_x_backup
         1F:C667  8D FB 24   			sta.l	_camera_pos_x_backup
         1F:C66A  8C FC 24   			sty.h	_camera_pos_x_backup
 7707                        	
 7708                        		.dbg	line,	"include\routines_LEVELS.c", 519; camera_pos_y_backup = list_npc_y_pos_ref[current_npc_id] - 128;                                    
 7709                        		__ld2x.umq	__collision_PLAYER_NPC_end - 3  /* current_npc_id */
         1F:C66D  AD 1F 2C   			lda	__collision_PLAYER_NPC_end - 3
         1F:C670  0A         			asl	a
         1F:C671  AA         			tax
 7710                        		__ld.wax	_list_npc_y_pos_ref
         1F:C672  BD 3D 26   			lda.l	_list_npc_y_pos_ref, x
         1F:C675  BC 3E 26   			ldy.h	_list_npc_y_pos_ref, x
 7711                        		__sub.wi	128
         1F:C678  38         			sec
         1F:C679  E9 80      			sbc.l	#128
         1F:C67B  B0 01      			bcs	!+
         1F:C67D  88         			dey
         1F:C67E             	!:
 7712                        		__st.wmq	_camera_pos_y_backup
         1F:C67E  8D FD 24   			sta.l	_camera_pos_y_backup
         1F:C681  8C FE 24   			sty.h	_camera_pos_y_backup
 7713                        	
 7714                        		.dbg	line,	"include\routines_LEVELS.c", 520; sequence_loaded = FALSE;
 7715                        		__st.umiq	0, _sequence_loaded
         1F:C684  9C 14 23   			stz	_sequence_loaded
 7716                        	
 7717                        		.dbg	line,	"include\routines_LEVELS.c", 521; sequence_id = SEQUENCE_SHOP;
 7718                        		__st.umiq	4, _sequence_id
         1F:C687  A9 04      			lda.l	#4
         1F:C689  8D 13 23   			sta	_sequence_id
 7719                        	
 7720                        		.dbg	line,	"include\routines_LEVELS.c", 522; break;
 7721                        		__bra		.LL297
         1F:C68C  4C 9B C5   			bra	.LL297
 7722                        	
 7723                        		.dbg	line,	"include\routines_LEVELS.c", 523; }
 7724    1F:C68F             	.LL296:
 7725                        		__switch_r.ur	0, 1
         1F:C68F  C9 02      			cmp	#(1 - 0) + 1
         1F:C691  90 02      			bcc	!found+
         1F:C693  A9 02      	!default:	lda	#(1 - 0) + 1
         1F:C695  0A         	!found:		asl	a
         1F:C696  AA         			tax
         1F:C697  7C 9A C6   			jmp	[!table+, x]
 7726                        	
 7727    1F:C69A  47 C6      	!table:		dw	.LL298, .LL299
         1F:C69C  4A C6       
 7728    1F:C69E  9B C5      			dw	.LL297
 7729    1F:C6A0             	.LL297	.alias		.LL290
 7730                        	
 7731                        		.dbg	line,	"include\routines_LEVELS.c", 524; }
 7732                        	
 7733                        		.dbg	line,	"include\routines_LEVELS.c", 525; }
 7734    1F:C6A0             	.LL295	.alias		.LL290
 7735                        	
 7736                        		.dbg	line,	"include\routines_LEVELS.c", 526; }
 7737    1F:C6A0             	.LL294	.alias		.LL290
 7738                        	
 7739                        		.dbg	line,	"include\routines_LEVELS.c", 527; }
 7740    1F:C6A0             	.LL293	.alias		.LL290
 7741                        		__bra		.LL290
         1F:C6A0  4C 9B C5   			bra	.LL290
 7742    1F:C6A3             	.LL292:
 7743                        	
 7744                        		.dbg	line,	"include\routines_LEVELS.c", 528; }
 7745                        	
 7746                        		.dbg	line,	"include\routines_LEVELS.c", 529; }
 7747    1F:C6A3             	.LL287:
 7748                        	
 7749                        		.dbg	line,	"include\routines_LEVELS.c", 530; }
 7750    1F:C6A3             	.LL286:
 7751    1F:C6A3             	.LL285:
 7752                        		__return	0
         1F:C6A3  4C EF FF   			jmp	leave_proc
 7753                        		.dbg	clear
 7754                        		.endp
 7755               2303     		.bss
 7756    F8:2303             	__collision_PLAYER_NPC_end	.alias	leaf_stack
 7757               E31D     		.code
 7758                        		.pceas
 7759                        	
 7760                        		.dbg	line,	"include\routines_LEVELS.c", 532; // CHECK COLLISION WEAPON -> OBJECTS //
 7761                        		.dbg	line,	"include\routines_LEVELS.c", 533; void collision_WEAPON_OBJECTS()
 7762                        		.dbg	line,	"include\routines_LEVELS.c", 534; {
 7763                        	;***********************
 7764                        	;***********************
 7765                        	
 7766                        		.hucc
 7767    1F:C6A6             		.proc		_collision_WEAPON_OBJECTS
 7768                        		__enter		_collision_WEAPON_OBJECTS
 7769                        	
 7770                        		.dbg	line,	"include\routines_LEVELS.c", 535; if(onscreen_object_number != 0)
 7771                        		__tst.um	_onscreen_object_number
         1F:C6A6  AD 38 23   			lda	_onscreen_object_number
         1F:C6A9  C9 01      			cmp	#1
 7772                        		__bfalse	.LL301
         1F:C6AB  B0 03 4C DE			bcc	.LL301
         1F:C6AF  C7          
 7773                        	
 7774                        		.dbg	line,	"include\routines_LEVELS.c", 536; {
 7775                        	
 7776                        		.dbg	line,	"include\routines_LEVELS.c", 537; char i;
 7777                        	
 7778                        		.dbg	line,	"include\routines_LEVELS.c", 538; char current_object_id;
 7779                        	
 7780                        		.dbg	line,	"include\routines_LEVELS.c", 539; char current_object_type;
 7781                        	
 7782                        		.dbg	line,	"include\routines_LEVELS.c", 540; int weapon_pos_x;
 7783                        	
 7784                        		.dbg	line,	"include\routines_LEVELS.c", 541; int weapon_pos_y;
 7785                        	
 7786                        		.dbg	line,	"include\routines_LEVELS.c", 543; for(i=0 ; i<onscreen_object_number ; i++)
 7787                        		__st.umiq	0, __collision_WEAPON_OBJECTS_end - 1  /* i */
         1F:C6B0  9C 21 2C   			stz	__collision_WEAPON_OBJECTS_end - 1
 7788    1F:C6B3             	.LL302:
 7789                        		__ld.umq	__collision_WEAPON_OBJECTS_end - 1  /* i */
         1F:C6B3  AD 21 2C   			lda	__collision_WEAPON_OBJECTS_end - 1
 7790                        		__ult_b.umq	_onscreen_object_number
         1F:C6B6  CD 38 23   			cmp	_onscreen_object_number		; Subtract memory from A.
         1F:C6B9  6A         			ror	a		; CC if A < memory.
         1F:C6BA  49 80      			eor	#$80
         1F:C6BC  2A         			rol	a
 7791                        		__btrue		.LL304
         1F:C6BD  B0 08      			bcs	.LL304
 7792                        		__bra		.LL305
         1F:C6BF  4C DE C7   			bra	.LL305
 7793    1F:C6C2             	.LL303:
 7794                        		__inc.umq	__collision_WEAPON_OBJECTS_end - 1  /* i */
         1F:C6C2  EE 21 2C   			inc	__collision_WEAPON_OBJECTS_end - 1
 7795                        		__bra		.LL302
         1F:C6C5  80 EC      			bra	.LL302
 7796    1F:C6C7             	.LL304:
 7797                        	
 7798                        		.dbg	line,	"include\routines_LEVELS.c", 544; {
 7799                        	
 7800                        		.dbg	line,	"include\routines_LEVELS.c", 545; // RETRIEVE OBJECT INDEX IN THE LIST //
 7801                        	
 7802                        		.dbg	line,	"include\routines_LEVELS.c", 546; current_object_id = list_onscreen_object[i];
 7803                        		__ldx.umq	__collision_WEAPON_OBJECTS_end - 1  /* i */
         1F:C6C7  AE 21 2C   			ldx	__collision_WEAPON_OBJECTS_end - 1
 7804                        		__ld.uax	_list_onscreen_object
         1F:C6CA  BD B6 23   			lda	_list_onscreen_object, x
         1F:C6CD  C2         			cly
 7805                        		__st.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:C6CE  8D 20 2C   			sta	__collision_WEAPON_OBJECTS_end - 2
 7806                        	
 7807                        		.dbg	line,	"include\routines_LEVELS.c", 547; // RETRIEVE OBJECT TYPE //
 7808                        	
 7809                        		.dbg	line,	"include\routines_LEVELS.c", 548; current_object_type = list_object_type[current_object_id];
 7810                        		__ldx.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:C6D1  AE 20 2C   			ldx	__collision_WEAPON_OBJECTS_end - 2
 7811                        		__ld.uax	_list_object_type
         1F:C6D4  BD 39 23   			lda	_list_object_type, x
         1F:C6D7  C2         			cly
 7812                        		__st.umq	__collision_WEAPON_OBJECTS_end - 3  /* current_object_type */
         1F:C6D8  8D 1F 2C   			sta	__collision_WEAPON_OBJECTS_end - 3
 7813                        	
 7814                        		.dbg	line,	"include\routines_LEVELS.c", 550; if(current_object_type == TYPE_POT)
 7815                        		__ld.umq	__collision_WEAPON_OBJECTS_end - 3  /* current_object_type */
         1F:C6DB  AD 1F 2C   			lda	__collision_WEAPON_OBJECTS_end - 3
 7816                        		__equ_b.uiq	1
         1F:C6DE  C9 01      			cmp	#1
         1F:C6E0  F0 01      			beq	!+
         1F:C6E2  18         			clc
         1F:C6E3             	!:
 7817                        		__bfalse	.LL306
         1F:C6E3  90 DD      			bcc	.LL306
 7818                        	
 7819                        		.dbg	line,	"include\routines_LEVELS.c", 551; {
 7820                        	
 7821                        		.dbg	line,	"include\routines_LEVELS.c", 552; if(list_object_state[current_object_id] == STATE_ACTIVE)
 7822                        		__ldx.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:C6E5  AE 20 2C   			ldx	__collision_WEAPON_OBJECTS_end - 2
 7823                        		__ld.uaxq	_list_object_state
         1F:C6E8  BD 52 23   			lda	_list_object_state, x
 7824                        		__equ_b.uiq	1
         1F:C6EB  C9 01      			cmp	#1
         1F:C6ED  F0 01      			beq	!+
         1F:C6EF  18         			clc
         1F:C6F0             	!:
 7825                        		__bfalse	.LL307
         1F:C6F0  90 D0      			bcc	.LL307
 7826                        	
 7827                        		.dbg	line,	"include\routines_LEVELS.c", 553; {
 7828                        	
 7829                        		.dbg	line,	"include\routines_LEVELS.c", 554; // GET WEAPON POSITION //
 7830                        	
 7831                        		.dbg	line,	"include\routines_LEVELS.c", 555; spr_set(weapon_id);
 7832                        		__ld.umq	_weapon_id
         1F:C6F2  AD 26 23   			lda	_weapon_id
 7833                        		__call		_spr_set.1
         1F:C6F5  20 F1 E7   			call	_spr_set.1
 7834                        	
 7835                        		.dbg	line,	"include\routines_LEVELS.c", 556; weapon_pos_x = spr_get_x();
 7836                        		__call		_spr_get_x
         1F:C6F8  20 7F E8   			call	_spr_get_x
 7837                        		__st.wmq	__collision_WEAPON_OBJECTS_end - 5  /* weapon_pos_x */
         1F:C6FB  8D 1D 2C   			sta.l	__collision_WEAPON_OBJECTS_end - 5
         1F:C6FE  8C 1E 2C   			sty.h	__collision_WEAPON_OBJECTS_end - 5
 7838                        	
 7839                        		.dbg	line,	"include\routines_LEVELS.c", 557; weapon_pos_y = spr_get_y();
 7840                        		__call		_spr_get_y
         1F:C701  20 8F E8   			call	_spr_get_y
 7841                        		__st.wmq	__collision_WEAPON_OBJECTS_end - 7  /* weapon_pos_y */
         1F:C704  8D 1B 2C   			sta.l	__collision_WEAPON_OBJECTS_end - 7
         1F:C707  8C 1C 2C   			sty.h	__collision_WEAPON_OBJECTS_end - 7
 7842                        	
 7843                        		.dbg	line,	"include\routines_LEVELS.c", 559; if( abs( (weapon_pos_x + 8) - (list_object_x_pos[current_object_id] + 8) ) < 16 )
 7844                        		__ld.wm		__collision_WEAPON_OBJECTS_end - 5  /* weapon_pos_x */
         1F:C70A  AD 1D 2C   			lda.l	__collision_WEAPON_OBJECTS_end - 5
         1F:C70D  AC 1E 2C   			ldy.h	__collision_WEAPON_OBJECTS_end - 5
 7845                        		__add.wi	8
         1F:C710  18         			clc
         1F:C711  69 08      			adc.l	#8
         1F:C713  90 01      			bcc	!+
         1F:C715  C8         			iny
         1F:C716             	!:
 7846                        		__push.wr
         1F:C716  5A         			phy
         1F:C717  48         			pha
 7847                        		__ld2x.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:C718  AD 20 2C   			lda	__collision_WEAPON_OBJECTS_end - 2
         1F:C71B  0A         			asl	a
         1F:C71C  AA         			tax
 7848                        		__ld.wax	_list_object_x_pos
         1F:C71D  BD FF 24   			lda.l	_list_object_x_pos, x
         1F:C720  BC 00 25   			ldy.h	_list_object_x_pos, x
 7849                        		__add.wi	8
         1F:C723  18         			clc
         1F:C724  69 08      			adc.l	#8
         1F:C726  90 01      			bcc	!+
         1F:C728  C8         			iny
         1F:C729             	!:
 7850                        		__sub.wt
         1F:C729  BA         			tsx
         1F:C72A  38         			sec
         1F:C72B  49 FF      			eor	#$FF
         1F:C72D  7D 01 21   			adc.l	__tos, x
         1F:C730  42         			say
         1F:C731  49 FF      			eor	#$FF
         1F:C733  7D 02 21   			adc.h	__tos, x
         1F:C736  42         			say
         1F:C737  E8         			inx
         1F:C738  E8         			inx
         1F:C739  9A         			txs
 7851                        		__call		_abs.1
         1F:C73A  20 1D E5   			call	_abs.1
 7852                        		__slt_w.wi	16
         1F:C73D  C9 10      			cmp.l	#16		; Subtract integer from Y:A.
         1F:C73F  98         			tya
         1F:C740  E9 00      			sbc.h	#16
         1F:C742  50 02      			bvc	!+
         1F:C744  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1F:C746  0A         	!:		asl	a
 7853                        		__bfalse	.LL308
         1F:C747  B0 03 4C C2			bcc	.LL308
         1F:C74B  C6          
 7854                        	
 7855                        		.dbg	line,	"include\routines_LEVELS.c", 560; {
 7856                        	
 7857                        		.dbg	line,	"include\routines_LEVELS.c", 561; if( abs( (weapon_pos_y + 8) - (list_object_y_pos[current_object_id] + 8) ) < 8 )
 7858                        		__ld.wm		__collision_WEAPON_OBJECTS_end - 7  /* weapon_pos_y */
         1F:C74C  AD 1B 2C   			lda.l	__collision_WEAPON_OBJECTS_end - 7
         1F:C74F  AC 1C 2C   			ldy.h	__collision_WEAPON_OBJECTS_end - 7
 7859                        		__add.wi	8
         1F:C752  18         			clc
         1F:C753  69 08      			adc.l	#8
         1F:C755  90 01      			bcc	!+
         1F:C757  C8         			iny
         1F:C758             	!:
 7860                        		__push.wr
         1F:C758  5A         			phy
         1F:C759  48         			pha
 7861                        		__ld2x.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:C75A  AD 20 2C   			lda	__collision_WEAPON_OBJECTS_end - 2
         1F:C75D  0A         			asl	a
         1F:C75E  AA         			tax
 7862                        		__ld.wax	_list_object_y_pos
         1F:C75F  BD 31 25   			lda.l	_list_object_y_pos, x
         1F:C762  BC 32 25   			ldy.h	_list_object_y_pos, x
 7863                        		__add.wi	8
         1F:C765  18         			clc
         1F:C766  69 08      			adc.l	#8
         1F:C768  90 01      			bcc	!+
         1F:C76A  C8         			iny
         1F:C76B             	!:
 7864                        		__sub.wt
         1F:C76B  BA         			tsx
         1F:C76C  38         			sec
         1F:C76D  49 FF      			eor	#$FF
         1F:C76F  7D 01 21   			adc.l	__tos, x
         1F:C772  42         			say
         1F:C773  49 FF      			eor	#$FF
         1F:C775  7D 02 21   			adc.h	__tos, x
         1F:C778  42         			say
         1F:C779  E8         			inx
         1F:C77A  E8         			inx
         1F:C77B  9A         			txs
 7865                        		__call		_abs.1
         1F:C77C  20 1D E5   			call	_abs.1
 7866                        		__slt_w.wi	8
         1F:C77F  C9 08      			cmp.l	#8		; Subtract integer from Y:A.
         1F:C781  98         			tya
         1F:C782  E9 00      			sbc.h	#8
         1F:C784  50 02      			bvc	!+
         1F:C786  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1F:C788  0A         	!:		asl	a
 7867                        		__bfalse	.LL309
         1F:C789  B0 03 4C C2			bcc	.LL309
         1F:C78D  C6          
 7868                        	
 7869                        		.dbg	line,	"include\routines_LEVELS.c", 562; {
 7870                        	
 7871                        		.dbg	line,	"include\routines_LEVELS.c", 563; // WEAPON STOPS UNDOLDING //
 7872                        	
 7873                        		.dbg	line,	"include\routines_LEVELS.c", 564; chain_unfold = FALSE;
 7874                        		__st.umiq	0, _chain_unfold
         1F:C78E  9C 29 23   			stz	_chain_unfold
 7875                        	
 7876                        		.dbg	line,	"include\routines_LEVELS.c", 566; // WE SHORTEN WEAPON ANIMATION DURATION //
 7877                        	
 7878                        		.dbg	line,	"include\routines_LEVELS.c", 567; player_counter_attack = 19;
 7879                        		__st.umiq	19, _player_counter_attack
         1F:C791  A9 13      			lda.l	#19
         1F:C793  8D 1E 23   			sta	_player_counter_attack
 7880                        	
 7881                        		.dbg	line,	"include\routines_LEVELS.c", 569; // DECREASE POT ENERGY //
 7882                        	
 7883                        		.dbg	line,	"include\routines_LEVELS.c", 570; list_object_energy[current_object_id] -= 1;
 7884                        		__ldx.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:C796  AE 20 2C   			ldx	__collision_WEAPON_OBJECTS_end - 2
 7885                        		__sub_st.uaxiq	1, _list_object_energy
         1F:C799  DE 6B 23   			dec	_list_object_energy, x
 7886                        	
 7887                        		.dbg	line,	"include\routines_LEVELS.c", 572; // INIT POT COUNTER //
 7888                        	
 7889                        		.dbg	line,	"include\routines_LEVELS.c", 573; list_object_counter[current_object_id] = 0;
 7890                        		__ldx.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:C79C  AE 20 2C   			ldx	__collision_WEAPON_OBJECTS_end - 2
 7891                        		__st.uaxiq	0, _list_object_counter
         1F:C79F  9E 9D 23   			stz	_list_object_counter, x
 7892                        	
 7893                        		.dbg	line,	"include\routines_LEVELS.c", 575; // POT GETS HIT //
 7894                        	
 7895                        		.dbg	line,	"include\routines_LEVELS.c", 576; list_object_state[current_object_id] = STATE_HIT;
 7896                        		__ldx.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:C7A2  AE 20 2C   			ldx	__collision_WEAPON_OBJECTS_end - 2
 7897                        		__st.uaxiq	2, _list_object_state
         1F:C7A5  A9 02      			lda.l	#2
         1F:C7A7  9D 52 23   			sta	_list_object_state, x
 7898                        	
 7899                        		.dbg	line,	"include\routines_LEVELS.c", 578; // SELECT POT SPRITE //
 7900                        	
 7901                        		.dbg	line,	"include\routines_LEVELS.c", 579; sgx_spr_set(current_object_id + object_start_index);
 7902                        		__ld.um		__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:C7AA  AD 20 2C   			lda	__collision_WEAPON_OBJECTS_end - 2
         1F:C7AD  C2         			cly
 7903                        		__add.um	_object_start_index
         1F:C7AE  18         			clc
         1F:C7AF  6D 36 23   			adc	_object_start_index
         1F:C7B2  90 01      			bcc	!+
         1F:C7B4  C8         			iny
         1F:C7B5             	!:
 7904                        		__call		_sgx_spr_set.1
         1F:C7B5  20 9E E8   			call	_sgx_spr_set.1
 7905                        	
 7906                        		.dbg	line,	"include\routines_LEVELS.c", 580; 
 7907                        	
 7908                        		.dbg	line,	"include\routines_LEVELS.c", 581; // CHECK OBJECT ENERGY //
 7909                        	
 7910                        		.dbg	line,	"include\routines_LEVELS.c", 582; switch(list_object_energy[current_object_id])
 7911                        		__ldx.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:C7B8  AE 20 2C   			ldx	__collision_WEAPON_OBJECTS_end - 2
 7912                        		__ld.uaxq	_list_object_energy
         1F:C7BB  BD 6B 23   			lda	_list_object_energy, x
 7913                        		__bra		.LL310
         1F:C7BE  80 0A      			bra	.LL310
 7914                        	
 7915                        		.dbg	line,	"include\routines_LEVELS.c", 583; {
 7916                        	
 7917                        		.dbg	line,	"include\routines_LEVELS.c", 584; case 0:
 7918    1F:C7C0             	.LL312:
 7919    1F:C7C0             	.LL313:
 7920                        	
 7921                        		.dbg	line,	"include\routines_LEVELS.c", 585; //sgx_spr_pattern(POT3_VRAM_ADR);
 7922                        	
 7923                        		.dbg	line,	"include\routines_LEVELS.c", 588; case 1:
 7924                        		__case		1
 7925                        	
 7926                        		.dbg	line,	"include\routines_LEVELS.c", 589; sgx_spr_pattern(POT2_VRAM_ADR);
 7927                        		__ld.wi		26688
         1F:C7C0  A9 40      			lda.l	#26688
         1F:C7C2  A0 68      			ldy.h	#26688
 7928                        		__call		_sgx_spr_pattern.1
         1F:C7C4  20 E7 E8   			call	_sgx_spr_pattern.1
 7929                        	
 7930                        		.dbg	line,	"include\routines_LEVELS.c", 590; }
 7931                        		__bra		.LL311
         1F:C7C7  4C C2 C6   			bra	.LL311
 7932    1F:C7CA             	.LL310:
 7933                        		__switch_r.ur	0, 1
         1F:C7CA  C9 02      			cmp	#(1 - 0) + 1
         1F:C7CC  90 02      			bcc	!found+
         1F:C7CE  A9 02      	!default:	lda	#(1 - 0) + 1
         1F:C7D0  0A         	!found:		asl	a
         1F:C7D1  AA         			tax
         1F:C7D2  7C D5 C7   			jmp	[!table+, x]
 7934                        	
 7935    1F:C7D5  C0 C7      	!table:		dw	.LL312, .LL313
         1F:C7D7  C0 C7       
 7936    1F:C7D9  C2 C6      			dw	.LL311
 7937    1F:C7DB             	.LL311	.alias		.LL303
 7938                        	
 7939                        		.dbg	line,	"include\routines_LEVELS.c", 591; }
 7940                        	
 7941                        		.dbg	line,	"include\routines_LEVELS.c", 592; }
 7942    1F:C7DB             	.LL309	.alias		.LL303
 7943                        	
 7944                        		.dbg	line,	"include\routines_LEVELS.c", 593; }
 7945    1F:C7DB             	.LL308	.alias		.LL303
 7946                        	
 7947                        		.dbg	line,	"include\routines_LEVELS.c", 594; }
 7948    1F:C7DB             	.LL307	.alias		.LL303
 7949                        	
 7950                        		.dbg	line,	"include\routines_LEVELS.c", 595; }
 7951    1F:C7DB             	.LL306	.alias		.LL303
 7952                        		__bra		.LL303
         1F:C7DB  4C C2 C6   			bra	.LL303
 7953    1F:C7DE             	.LL305:
 7954                        	
 7955                        		.dbg	line,	"include\routines_LEVELS.c", 596; }
 7956                        	
 7957                        		.dbg	line,	"include\routines_LEVELS.c", 597; }
 7958    1F:C7DE             	.LL301:
 7959    1F:C7DE             	.LL300:
 7960                        		__return	0
         1F:C7DE  4C EF FF   			jmp	leave_proc
 7961                        		.dbg	clear
 7962                        		.endp
 7963               2303     		.bss
 7964    F8:2303             	__collision_WEAPON_OBJECTS_end	.alias	leaf_stack
 7965               E31D     		.code
 7966                        		.pceas
 7967                        	
 7968                        		.dbg	line,	"include\routines_LEVELS.c", 603; //-----------------------------------------------------------------------------//
 7969                        		.dbg	line,	"include\routines_LEVELS.c", 604; //                                   OBJECTS                                   //
 7970                        		.dbg	line,	"include\routines_LEVELS.c", 605; //-----------------------------------------------------------------------------//
 7971                        		.dbg	line,	"include\routines_LEVELS.c", 607; void anim_OBJECTS()
 7972                        		.dbg	line,	"include\routines_LEVELS.c", 608; {
 7973                        	;***********************
 7974                        	;***********************
 7975                        	
 7976                        		.hucc
 7977    1D:DB09             		.proc		_anim_OBJECTS
 7978                        		__enter		_anim_OBJECTS
 7979                        	
 7980                        		.dbg	line,	"include\routines_LEVELS.c", 609; if(onscreen_object_number != 0)
 7981                        		__tst.um	_onscreen_object_number
         1D:DB09  AD 38 23   			lda	_onscreen_object_number
         1D:DB0C  C9 01      			cmp	#1
 7982                        		__bfalse	.LL315
         1D:DB0E  B0 03 4C D4			bcc	.LL315
         1D:DB12  DE          
 7983                        	
 7984                        		.dbg	line,	"include\routines_LEVELS.c", 610; {
 7985                        	
 7986                        		.dbg	line,	"include\routines_LEVELS.c", 611; char i;
 7987                        	
 7988                        		.dbg	line,	"include\routines_LEVELS.c", 612; char current_object_id;
 7989                        	
 7990                        		.dbg	line,	"include\routines_LEVELS.c", 613; signed int object_pos_y;
 7991                        	
 7992                        		.dbg	line,	"include\routines_LEVELS.c", 616; for(i=0 ; i<onscreen_object_number ; i++)
 7993                        		__st.umiq	0, __anim_OBJECTS_end - 1  /* i */
         1D:DB13  9C 21 2C   			stz	__anim_OBJECTS_end - 1
 7994    1D:DB16             	.LL316:
 7995                        		__ld.umq	__anim_OBJECTS_end - 1  /* i */
         1D:DB16  AD 21 2C   			lda	__anim_OBJECTS_end - 1
 7996                        		__ult_b.umq	_onscreen_object_number
         1D:DB19  CD 38 23   			cmp	_onscreen_object_number		; Subtract memory from A.
         1D:DB1C  6A         			ror	a		; CC if A < memory.
         1D:DB1D  49 80      			eor	#$80
         1D:DB1F  2A         			rol	a
 7997                        		__btrue		.LL318
         1D:DB20  B0 08      			bcs	.LL318
 7998                        		__bra		.LL319
         1D:DB22  4C D4 DE   			bra	.LL319
 7999    1D:DB25             	.LL317:
 8000                        		__inc.umq	__anim_OBJECTS_end - 1  /* i */
         1D:DB25  EE 21 2C   			inc	__anim_OBJECTS_end - 1
 8001                        		__bra		.LL316
         1D:DB28  80 EC      			bra	.LL316
 8002    1D:DB2A             	.LL318:
 8003                        	
 8004                        		.dbg	line,	"include\routines_LEVELS.c", 617; {
 8005                        	
 8006                        		.dbg	line,	"include\routines_LEVELS.c", 618; // RETRIEVE OBJECT INDEX IN THE LIST //
 8007                        	
 8008                        		.dbg	line,	"include\routines_LEVELS.c", 619; current_object_id = list_onscreen_object[i];
 8009                        		__ldx.umq	__anim_OBJECTS_end - 1  /* i */
         1D:DB2A  AE 21 2C   			ldx	__anim_OBJECTS_end - 1
 8010                        		__ld.uax	_list_onscreen_object
         1D:DB2D  BD B6 23   			lda	_list_onscreen_object, x
         1D:DB30  C2         			cly
 8011                        		__st.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DB31  8D 20 2C   			sta	__anim_OBJECTS_end - 2
 8012                        	
 8013                        		.dbg	line,	"include\routines_LEVELS.c", 621; // IF POT HAS BEEN HIT BY THE WEAPON //
 8014                        	
 8015                        		.dbg	line,	"include\routines_LEVELS.c", 622; if(list_object_state[current_object_id] == STATE_HIT)
 8016                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DB34  AE 20 2C   			ldx	__anim_OBJECTS_end - 2
 8017                        		__ld.uaxq	_list_object_state
         1D:DB37  BD 52 23   			lda	_list_object_state, x
 8018                        		__equ_b.uiq	2
         1D:DB3A  C9 02      			cmp	#2
         1D:DB3C  F0 01      			beq	!+
         1D:DB3E  18         			clc
         1D:DB3F             	!:
 8019                        		__bfalse	.LL320
         1D:DB3F  90 E4      			bcc	.LL320
 8020                        	
 8021                        		.dbg	line,	"include\routines_LEVELS.c", 623; {
 8022                        	
 8023                        		.dbg	line,	"include\routines_LEVELS.c", 624; // SELECT POT SPRITE //
 8024                        	
 8025                        		.dbg	line,	"include\routines_LEVELS.c", 625; sgx_spr_set(current_object_id + object_start_index);
 8026                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DB41  AD 20 2C   			lda	__anim_OBJECTS_end - 2
         1D:DB44  C2         			cly
 8027                        		__add.um	_object_start_index
         1D:DB45  18         			clc
         1D:DB46  6D 36 23   			adc	_object_start_index
         1D:DB49  90 01      			bcc	!+
         1D:DB4B  C8         			iny
         1D:DB4C             	!:
 8028                        		__call		_sgx_spr_set.1
         1D:DB4C  20 9E E8   			call	_sgx_spr_set.1
 8029                        	
 8030                        		.dbg	line,	"include\routines_LEVELS.c", 626; 
 8031                        	
 8032                        		.dbg	line,	"include\routines_LEVELS.c", 627; // CHECK OBJECT ENERGY //
 8033                        	
 8034                        		.dbg	line,	"include\routines_LEVELS.c", 628; if(list_object_energy[current_object_id] == 0)
 8035                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DB4F  AE 20 2C   			ldx	__anim_OBJECTS_end - 2
 8036                        		__not.uax	_list_object_energy
         1D:DB52  BD 6B 23   			lda	_list_object_energy, x
         1D:DB55  18         			clc
         1D:DB56  D0 01      			bne	!+
         1D:DB58  38         			sec
         1D:DB59             	!:
 8037                        		__bfalse	.LL321
         1D:DB59  B0 03 4C 0E			bcc	.LL321
         1D:DB5D  DE          
 8038                        	
 8039                        		.dbg	line,	"include\routines_LEVELS.c", 629; {
 8040                        	
 8041                        		.dbg	line,	"include\routines_LEVELS.c", 630; if(list_object_counter[current_object_id] == 0)
 8042                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DB5E  AE 20 2C   			ldx	__anim_OBJECTS_end - 2
 8043                        		__not.uax	_list_object_counter
         1D:DB61  BD 9D 23   			lda	_list_object_counter, x
         1D:DB64  18         			clc
         1D:DB65  D0 01      			bne	!+
         1D:DB67  38         			sec
         1D:DB68             	!:
 8044                        		__bfalse	.LL322
         1D:DB68  90 1B      			bcc	.LL322
 8045                        	
 8046                        		.dbg	line,	"include\routines_LEVELS.c", 631; {
 8047                        	
 8048                        		.dbg	line,	"include\routines_LEVELS.c", 632; object_pos_y = sgx_spr_get_y();
 8049                        		__call		_sgx_spr_get_y
         1D:DB6A  20 3C E9   			call	_sgx_spr_get_y
 8050                        		__st.wmq	__anim_OBJECTS_end - 4  /* object_pos_y */
         1D:DB6D  8D 1E 2C   			sta.l	__anim_OBJECTS_end - 4
         1D:DB70  8C 1F 2C   			sty.h	__anim_OBJECTS_end - 4
 8051                        	
 8052                        		.dbg	line,	"include\routines_LEVELS.c", 633; sgx_spr_y(object_pos_y - 1);
 8053                        		__ld.wm		__anim_OBJECTS_end - 4  /* object_pos_y */
         1D:DB73  AD 1E 2C   			lda.l	__anim_OBJECTS_end - 4
         1D:DB76  AC 1F 2C   			ldy.h	__anim_OBJECTS_end - 4
 8054                        		__sub.wi	1
         1D:DB79  38         			sec
         1D:DB7A  E9 01      			sbc.l	#1
         1D:DB7C  B0 01      			bcs	!+
         1D:DB7E  88         			dey
         1D:DB7F             	!:
 8055                        		__call		_sgx_spr_y.1
         1D:DB7F  20 DA E8   			call	_sgx_spr_y.1
 8056                        	
 8057                        		.dbg	line,	"include\routines_LEVELS.c", 634; }
 8058                        	
 8059                        		.dbg	line,	"include\routines_LEVELS.c", 636; else if(list_object_counter[current_object_id] == 1)
 8060                        		__bra		.LL323
         1D:DB82  4C 05 DE   			bra	.LL323
 8061    1D:DB85             	.LL322:
 8062                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DB85  AE 20 2C   			ldx	__anim_OBJECTS_end - 2
 8063                        		__ld.uaxq	_list_object_counter
         1D:DB88  BD 9D 23   			lda	_list_object_counter, x
 8064                        		__equ_b.uiq	1
         1D:DB8B  C9 01      			cmp	#1
         1D:DB8D  F0 01      			beq	!+
         1D:DB8F  18         			clc
         1D:DB90             	!:
 8065                        		__bfalse	.LL324
         1D:DB90  90 1B      			bcc	.LL324
 8066                        	
 8067                        		.dbg	line,	"include\routines_LEVELS.c", 637; {
 8068                        	
 8069                        		.dbg	line,	"include\routines_LEVELS.c", 638; object_pos_y = sgx_spr_get_y();
 8070                        		__call		_sgx_spr_get_y
         1D:DB92  20 3C E9   			call	_sgx_spr_get_y
 8071                        		__st.wmq	__anim_OBJECTS_end - 4  /* object_pos_y */
         1D:DB95  8D 1E 2C   			sta.l	__anim_OBJECTS_end - 4
         1D:DB98  8C 1F 2C   			sty.h	__anim_OBJECTS_end - 4
 8072                        	
 8073                        		.dbg	line,	"include\routines_LEVELS.c", 639; sgx_spr_y(object_pos_y - 2);
 8074                        		__ld.wm		__anim_OBJECTS_end - 4  /* object_pos_y */
         1D:DB9B  AD 1E 2C   			lda.l	__anim_OBJECTS_end - 4
         1D:DB9E  AC 1F 2C   			ldy.h	__anim_OBJECTS_end - 4
 8075                        		__sub.wi	2
         1D:DBA1  38         			sec
         1D:DBA2  E9 02      			sbc.l	#2
         1D:DBA4  B0 01      			bcs	!+
         1D:DBA6  88         			dey
         1D:DBA7             	!:
 8076                        		__call		_sgx_spr_y.1
         1D:DBA7  20 DA E8   			call	_sgx_spr_y.1
 8077                        	
 8078                        		.dbg	line,	"include\routines_LEVELS.c", 640; }
 8079                        	
 8080                        		.dbg	line,	"include\routines_LEVELS.c", 642; else if(list_object_counter[current_object_id] == 2)
 8081                        		__bra		.LL325
         1D:DBAA  4C 05 DE   			bra	.LL325
 8082    1D:DBAD             	.LL324:
 8083                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DBAD  AE 20 2C   			ldx	__anim_OBJECTS_end - 2
 8084                        		__ld.uaxq	_list_object_counter
         1D:DBB0  BD 9D 23   			lda	_list_object_counter, x
 8085                        		__equ_b.uiq	2
         1D:DBB3  C9 02      			cmp	#2
         1D:DBB5  F0 01      			beq	!+
         1D:DBB7  18         			clc
         1D:DBB8             	!:
 8086                        		__bfalse	.LL326
         1D:DBB8  90 1B      			bcc	.LL326
 8087                        	
 8088                        		.dbg	line,	"include\routines_LEVELS.c", 643; {
 8089                        	
 8090                        		.dbg	line,	"include\routines_LEVELS.c", 644; object_pos_y = sgx_spr_get_y();
 8091                        		__call		_sgx_spr_get_y
         1D:DBBA  20 3C E9   			call	_sgx_spr_get_y
 8092                        		__st.wmq	__anim_OBJECTS_end - 4  /* object_pos_y */
         1D:DBBD  8D 1E 2C   			sta.l	__anim_OBJECTS_end - 4
         1D:DBC0  8C 1F 2C   			sty.h	__anim_OBJECTS_end - 4
 8093                        	
 8094                        		.dbg	line,	"include\routines_LEVELS.c", 645; sgx_spr_y(object_pos_y - 1);
 8095                        		__ld.wm		__anim_OBJECTS_end - 4  /* object_pos_y */
         1D:DBC3  AD 1E 2C   			lda.l	__anim_OBJECTS_end - 4
         1D:DBC6  AC 1F 2C   			ldy.h	__anim_OBJECTS_end - 4
 8096                        		__sub.wi	1
         1D:DBC9  38         			sec
         1D:DBCA  E9 01      			sbc.l	#1
         1D:DBCC  B0 01      			bcs	!+
         1D:DBCE  88         			dey
         1D:DBCF             	!:
 8097                        		__call		_sgx_spr_y.1
         1D:DBCF  20 DA E8   			call	_sgx_spr_y.1
 8098                        	
 8099                        		.dbg	line,	"include\routines_LEVELS.c", 646; }
 8100                        	
 8101                        		.dbg	line,	"include\routines_LEVELS.c", 648; else if(list_object_counter[current_object_id] == 8)
 8102                        		__bra		.LL327
         1D:DBD2  4C 05 DE   			bra	.LL327
 8103    1D:DBD5             	.LL326:
 8104                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DBD5  AE 20 2C   			ldx	__anim_OBJECTS_end - 2
 8105                        		__ld.uaxq	_list_object_counter
         1D:DBD8  BD 9D 23   			lda	_list_object_counter, x
 8106                        		__equ_b.uiq	8
         1D:DBDB  C9 08      			cmp	#8
         1D:DBDD  F0 01      			beq	!+
         1D:DBDF  18         			clc
         1D:DBE0             	!:
 8107                        		__bfalse	.LL328
         1D:DBE0  90 27      			bcc	.LL328
 8108                        	
 8109                        		.dbg	line,	"include\routines_LEVELS.c", 649; {
 8110                        	
 8111                        		.dbg	line,	"include\routines_LEVELS.c", 650; sgx_spr_pal(18);
 8112                        		__ld.uiq	18
         1D:DBE2  A9 12      			lda	#18
 8113                        		__call		_sgx_spr_pal.1
         1D:DBE4  20 0E E9   			call	_sgx_spr_pal.1
 8114                        	
 8115                        		.dbg	line,	"include\routines_LEVELS.c", 651; sgx_spr_pattern(*(ptr_REWARD_VRAM_ADR+current_object_id));
 8116                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DBE7  AD 20 2C   			lda	__anim_OBJECTS_end - 2
         1D:DBEA  C2         			cly
 8117                        		__asl.wr
         1D:DBEB  0A         			asl	a
         1D:DBEC  42         			say
         1D:DBED  2A         			rol	a
         1D:DBEE  42         			say
 8118                        		__add.wm	_ptr_REWARD_VRAM_ADR
         1D:DBEF  18         			clc
         1D:DBF0  6D 90 26   			adc.l	_ptr_REWARD_VRAM_ADR
         1D:DBF3  42         			say
         1D:DBF4  6D 91 26   			adc.h	_ptr_REWARD_VRAM_ADR
         1D:DBF7  42         			say
 8119                        		__st.wm		__ptr
         1D:DBF8  85 88      			sta.l	__ptr
         1D:DBFA  84 89      			sty.h	__ptr
 8120                        		__ld.wp		__ptr
         1D:DBFC  A0 01      			ldy	#1
         1D:DBFE  B1 88      			lda	[__ptr], y
         1D:DC00  A8         			tay
         1D:DC01  B2 88      			lda	[__ptr]
 8121                        		__call		_sgx_spr_pattern.1
         1D:DC03  20 E7 E8   			call	_sgx_spr_pattern.1
 8122                        	
 8123                        		.dbg	line,	"include\routines_LEVELS.c", 652; }
 8124                        	
 8125                        		.dbg	line,	"include\routines_LEVELS.c", 654; else if(list_object_counter[current_object_id] == 9)
 8126                        		__bra		.LL329
         1D:DC06  4C 05 DE   			bra	.LL329
 8127    1D:DC09             	.LL328:
 8128                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DC09  AE 20 2C   			ldx	__anim_OBJECTS_end - 2
 8129                        		__ld.uaxq	_list_object_counter
         1D:DC0C  BD 9D 23   			lda	_list_object_counter, x
 8130                        		__equ_b.uiq	9
         1D:DC0F  C9 09      			cmp	#9
         1D:DC11  F0 01      			beq	!+
         1D:DC13  18         			clc
         1D:DC14             	!:
 8131                        		__bfalse	.LL330
         1D:DC14  90 0F      			bcc	.LL330
 8132                        	
 8133                        		.dbg	line,	"include\routines_LEVELS.c", 655; {
 8134                        	
 8135                        		.dbg	line,	"include\routines_LEVELS.c", 656; sgx_spr_pal(17);
 8136                        		__ld.uiq	17
         1D:DC16  A9 11      			lda	#17
 8137                        		__call		_sgx_spr_pal.1
         1D:DC18  20 0E E9   			call	_sgx_spr_pal.1
 8138                        	
 8139                        		.dbg	line,	"include\routines_LEVELS.c", 657; sgx_spr_pattern(POT3_VRAM_ADR);
 8140                        		__ld.wi		26752
         1D:DC1B  A9 80      			lda.l	#26752
         1D:DC1D  A0 68      			ldy.h	#26752
 8141                        		__call		_sgx_spr_pattern.1
         1D:DC1F  20 E7 E8   			call	_sgx_spr_pattern.1
 8142                        	
 8143                        		.dbg	line,	"include\routines_LEVELS.c", 658; }
 8144                        	
 8145                        		.dbg	line,	"include\routines_LEVELS.c", 660; else if(list_object_counter[current_object_id] == 13)
 8146                        		__bra		.LL331
         1D:DC22  4C 05 DE   			bra	.LL331
 8147    1D:DC25             	.LL330:
 8148                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DC25  AE 20 2C   			ldx	__anim_OBJECTS_end - 2
 8149                        		__ld.uaxq	_list_object_counter
         1D:DC28  BD 9D 23   			lda	_list_object_counter, x
 8150                        		__equ_b.uiq	13
         1D:DC2B  C9 0D      			cmp	#13
         1D:DC2D  F0 01      			beq	!+
         1D:DC2F  18         			clc
         1D:DC30             	!:
 8151                        		__bfalse	.LL332
         1D:DC30  90 27      			bcc	.LL332
 8152                        	
 8153                        		.dbg	line,	"include\routines_LEVELS.c", 661; {
 8154                        	
 8155                        		.dbg	line,	"include\routines_LEVELS.c", 662; sgx_spr_pal(18);
 8156                        		__ld.uiq	18
         1D:DC32  A9 12      			lda	#18
 8157                        		__call		_sgx_spr_pal.1
         1D:DC34  20 0E E9   			call	_sgx_spr_pal.1
 8158                        	
 8159                        		.dbg	line,	"include\routines_LEVELS.c", 663; sgx_spr_pattern(*(ptr_REWARD_VRAM_ADR+current_object_id));
 8160                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DC37  AD 20 2C   			lda	__anim_OBJECTS_end - 2
         1D:DC3A  C2         			cly
 8161                        		__asl.wr
         1D:DC3B  0A         			asl	a
         1D:DC3C  42         			say
         1D:DC3D  2A         			rol	a
         1D:DC3E  42         			say
 8162                        		__add.wm	_ptr_REWARD_VRAM_ADR
         1D:DC3F  18         			clc
         1D:DC40  6D 90 26   			adc.l	_ptr_REWARD_VRAM_ADR
         1D:DC43  42         			say
         1D:DC44  6D 91 26   			adc.h	_ptr_REWARD_VRAM_ADR
         1D:DC47  42         			say
 8163                        		__st.wm		__ptr
         1D:DC48  85 88      			sta.l	__ptr
         1D:DC4A  84 89      			sty.h	__ptr
 8164                        		__ld.wp		__ptr
         1D:DC4C  A0 01      			ldy	#1
         1D:DC4E  B1 88      			lda	[__ptr], y
         1D:DC50  A8         			tay
         1D:DC51  B2 88      			lda	[__ptr]
 8165                        		__call		_sgx_spr_pattern.1
         1D:DC53  20 E7 E8   			call	_sgx_spr_pattern.1
 8166                        	
 8167                        		.dbg	line,	"include\routines_LEVELS.c", 664; }
 8168                        	
 8169                        		.dbg	line,	"include\routines_LEVELS.c", 666; else if(list_object_counter[current_object_id] == 14)
 8170                        		__bra		.LL333
         1D:DC56  4C 05 DE   			bra	.LL333
 8171    1D:DC59             	.LL332:
 8172                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DC59  AE 20 2C   			ldx	__anim_OBJECTS_end - 2
 8173                        		__ld.uaxq	_list_object_counter
         1D:DC5C  BD 9D 23   			lda	_list_object_counter, x
 8174                        		__equ_b.uiq	14
         1D:DC5F  C9 0E      			cmp	#14
         1D:DC61  F0 01      			beq	!+
         1D:DC63  18         			clc
         1D:DC64             	!:
 8175                        		__bfalse	.LL334
         1D:DC64  90 0F      			bcc	.LL334
 8176                        	
 8177                        		.dbg	line,	"include\routines_LEVELS.c", 667; {
 8178                        	
 8179                        		.dbg	line,	"include\routines_LEVELS.c", 668; sgx_spr_pal(17);
 8180                        		__ld.uiq	17
         1D:DC66  A9 11      			lda	#17
 8181                        		__call		_sgx_spr_pal.1
         1D:DC68  20 0E E9   			call	_sgx_spr_pal.1
 8182                        	
 8183                        		.dbg	line,	"include\routines_LEVELS.c", 669; sgx_spr_pattern(POT4_VRAM_ADR);
 8184                        		__ld.wi		26816
         1D:DC6B  A9 C0      			lda.l	#26816
         1D:DC6D  A0 68      			ldy.h	#26816
 8185                        		__call		_sgx_spr_pattern.1
         1D:DC6F  20 E7 E8   			call	_sgx_spr_pattern.1
 8186                        	
 8187                        		.dbg	line,	"include\routines_LEVELS.c", 670; }
 8188                        	
 8189                        		.dbg	line,	"include\routines_LEVELS.c", 672; else if(list_object_counter[current_object_id] == 18)
 8190                        		__bra		.LL335
         1D:DC72  4C 05 DE   			bra	.LL335
 8191    1D:DC75             	.LL334:
 8192                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DC75  AE 20 2C   			ldx	__anim_OBJECTS_end - 2
 8193                        		__ld.uaxq	_list_object_counter
         1D:DC78  BD 9D 23   			lda	_list_object_counter, x
 8194                        		__equ_b.uiq	18
         1D:DC7B  C9 12      			cmp	#18
         1D:DC7D  F0 01      			beq	!+
         1D:DC7F  18         			clc
         1D:DC80             	!:
 8195                        		__bfalse	.LL336
         1D:DC80  90 27      			bcc	.LL336
 8196                        	
 8197                        		.dbg	line,	"include\routines_LEVELS.c", 673; {
 8198                        	
 8199                        		.dbg	line,	"include\routines_LEVELS.c", 674; sgx_spr_pal(18);
 8200                        		__ld.uiq	18
         1D:DC82  A9 12      			lda	#18
 8201                        		__call		_sgx_spr_pal.1
         1D:DC84  20 0E E9   			call	_sgx_spr_pal.1
 8202                        	
 8203                        		.dbg	line,	"include\routines_LEVELS.c", 675; sgx_spr_pattern(*(ptr_REWARD_VRAM_ADR+current_object_id));
 8204                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DC87  AD 20 2C   			lda	__anim_OBJECTS_end - 2
         1D:DC8A  C2         			cly
 8205                        		__asl.wr
         1D:DC8B  0A         			asl	a
         1D:DC8C  42         			say
         1D:DC8D  2A         			rol	a
         1D:DC8E  42         			say
 8206                        		__add.wm	_ptr_REWARD_VRAM_ADR
         1D:DC8F  18         			clc
         1D:DC90  6D 90 26   			adc.l	_ptr_REWARD_VRAM_ADR
         1D:DC93  42         			say
         1D:DC94  6D 91 26   			adc.h	_ptr_REWARD_VRAM_ADR
         1D:DC97  42         			say
 8207                        		__st.wm		__ptr
         1D:DC98  85 88      			sta.l	__ptr
         1D:DC9A  84 89      			sty.h	__ptr
 8208                        		__ld.wp		__ptr
         1D:DC9C  A0 01      			ldy	#1
         1D:DC9E  B1 88      			lda	[__ptr], y
         1D:DCA0  A8         			tay
         1D:DCA1  B2 88      			lda	[__ptr]
 8209                        		__call		_sgx_spr_pattern.1
         1D:DCA3  20 E7 E8   			call	_sgx_spr_pattern.1
 8210                        	
 8211                        		.dbg	line,	"include\routines_LEVELS.c", 676; }
 8212                        	
 8213                        		.dbg	line,	"include\routines_LEVELS.c", 678; else if(list_object_counter[current_object_id] == 19)
 8214                        		__bra		.LL337
         1D:DCA6  4C 05 DE   			bra	.LL337
 8215    1D:DCA9             	.LL336:
 8216                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DCA9  AE 20 2C   			ldx	__anim_OBJECTS_end - 2
 8217                        		__ld.uaxq	_list_object_counter
         1D:DCAC  BD 9D 23   			lda	_list_object_counter, x
 8218                        		__equ_b.uiq	19
         1D:DCAF  C9 13      			cmp	#19
         1D:DCB1  F0 01      			beq	!+
         1D:DCB3  18         			clc
         1D:DCB4             	!:
 8219                        		__bfalse	.LL338
         1D:DCB4  90 0E      			bcc	.LL338
 8220                        	
 8221                        		.dbg	line,	"include\routines_LEVELS.c", 679; {
 8222                        	
 8223                        		.dbg	line,	"include\routines_LEVELS.c", 680; sgx_spr_pal(17);
 8224                        		__ld.uiq	17
         1D:DCB6  A9 11      			lda	#17
 8225                        		__call		_sgx_spr_pal.1
         1D:DCB8  20 0E E9   			call	_sgx_spr_pal.1
 8226                        	
 8227                        		.dbg	line,	"include\routines_LEVELS.c", 681; sgx_spr_pattern(POT5_VRAM_ADR);
 8228                        		__ld.wi		26880
         1D:DCBB  62         			cla
         1D:DCBC  A0 69      			ldy.h	#26880
 8229                        		__call		_sgx_spr_pattern.1
         1D:DCBE  20 E7 E8   			call	_sgx_spr_pattern.1
 8230                        	
 8231                        		.dbg	line,	"include\routines_LEVELS.c", 682; }
 8232                        	
 8233                        		.dbg	line,	"include\routines_LEVELS.c", 684; else if(list_object_counter[current_object_id] == 23)
 8234                        		__bra		.LL339
         1D:DCC1  4C 05 DE   			bra	.LL339
 8235    1D:DCC4             	.LL338:
 8236                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DCC4  AE 20 2C   			ldx	__anim_OBJECTS_end - 2
 8237                        		__ld.uaxq	_list_object_counter
         1D:DCC7  BD 9D 23   			lda	_list_object_counter, x
 8238                        		__equ_b.uiq	23
         1D:DCCA  C9 17      			cmp	#23
         1D:DCCC  F0 01      			beq	!+
         1D:DCCE  18         			clc
         1D:DCCF             	!:
 8239                        		__bfalse	.LL340
         1D:DCCF  90 27      			bcc	.LL340
 8240                        	
 8241                        		.dbg	line,	"include\routines_LEVELS.c", 685; {
 8242                        	
 8243                        		.dbg	line,	"include\routines_LEVELS.c", 686; sgx_spr_pal(18);
 8244                        		__ld.uiq	18
         1D:DCD1  A9 12      			lda	#18
 8245                        		__call		_sgx_spr_pal.1
         1D:DCD3  20 0E E9   			call	_sgx_spr_pal.1
 8246                        	
 8247                        		.dbg	line,	"include\routines_LEVELS.c", 687; sgx_spr_pattern(*(ptr_REWARD_VRAM_ADR+current_object_id));
 8248                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DCD6  AD 20 2C   			lda	__anim_OBJECTS_end - 2
         1D:DCD9  C2         			cly
 8249                        		__asl.wr
         1D:DCDA  0A         			asl	a
         1D:DCDB  42         			say
         1D:DCDC  2A         			rol	a
         1D:DCDD  42         			say
 8250                        		__add.wm	_ptr_REWARD_VRAM_ADR
         1D:DCDE  18         			clc
         1D:DCDF  6D 90 26   			adc.l	_ptr_REWARD_VRAM_ADR
         1D:DCE2  42         			say
         1D:DCE3  6D 91 26   			adc.h	_ptr_REWARD_VRAM_ADR
         1D:DCE6  42         			say
 8251                        		__st.wm		__ptr
         1D:DCE7  85 88      			sta.l	__ptr
         1D:DCE9  84 89      			sty.h	__ptr
 8252                        		__ld.wp		__ptr
         1D:DCEB  A0 01      			ldy	#1
         1D:DCED  B1 88      			lda	[__ptr], y
         1D:DCEF  A8         			tay
         1D:DCF0  B2 88      			lda	[__ptr]
 8253                        		__call		_sgx_spr_pattern.1
         1D:DCF2  20 E7 E8   			call	_sgx_spr_pattern.1
 8254                        	
 8255                        		.dbg	line,	"include\routines_LEVELS.c", 688; }
 8256                        	
 8257                        		.dbg	line,	"include\routines_LEVELS.c", 690; else if(list_object_counter[current_object_id] == 24)
 8258                        		__bra		.LL341
         1D:DCF5  4C 05 DE   			bra	.LL341
 8259    1D:DCF8             	.LL340:
 8260                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DCF8  AE 20 2C   			ldx	__anim_OBJECTS_end - 2
 8261                        		__ld.uaxq	_list_object_counter
         1D:DCFB  BD 9D 23   			lda	_list_object_counter, x
 8262                        		__equ_b.uiq	24
         1D:DCFE  C9 18      			cmp	#24
         1D:DD00  F0 01      			beq	!+
         1D:DD02  18         			clc
         1D:DD03             	!:
 8263                        		__bfalse	.LL342
         1D:DD03  90 0F      			bcc	.LL342
 8264                        	
 8265                        		.dbg	line,	"include\routines_LEVELS.c", 691; {
 8266                        	
 8267                        		.dbg	line,	"include\routines_LEVELS.c", 692; sgx_spr_pal(17);
 8268                        		__ld.uiq	17
         1D:DD05  A9 11      			lda	#17
 8269                        		__call		_sgx_spr_pal.1
         1D:DD07  20 0E E9   			call	_sgx_spr_pal.1
 8270                        	
 8271                        		.dbg	line,	"include\routines_LEVELS.c", 693; sgx_spr_pattern(POT6_VRAM_ADR);
 8272                        		__ld.wi		26944
         1D:DD0A  A9 40      			lda.l	#26944
         1D:DD0C  A0 69      			ldy.h	#26944
 8273                        		__call		_sgx_spr_pattern.1
         1D:DD0E  20 E7 E8   			call	_sgx_spr_pattern.1
 8274                        	
 8275                        		.dbg	line,	"include\routines_LEVELS.c", 694; }
 8276                        	
 8277                        		.dbg	line,	"include\routines_LEVELS.c", 696; else if(list_object_counter[current_object_id] == 28)
 8278                        		__bra		.LL343
         1D:DD11  4C 05 DE   			bra	.LL343
 8279    1D:DD14             	.LL342:
 8280                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DD14  AE 20 2C   			ldx	__anim_OBJECTS_end - 2
 8281                        		__ld.uaxq	_list_object_counter
         1D:DD17  BD 9D 23   			lda	_list_object_counter, x
 8282                        		__equ_b.uiq	28
         1D:DD1A  C9 1C      			cmp	#28
         1D:DD1C  F0 01      			beq	!+
         1D:DD1E  18         			clc
         1D:DD1F             	!:
 8283                        		__bfalse	.LL344
         1D:DD1F  90 27      			bcc	.LL344
 8284                        	
 8285                        		.dbg	line,	"include\routines_LEVELS.c", 697; {
 8286                        	
 8287                        		.dbg	line,	"include\routines_LEVELS.c", 698; sgx_spr_pal(18);
 8288                        		__ld.uiq	18
         1D:DD21  A9 12      			lda	#18
 8289                        		__call		_sgx_spr_pal.1
         1D:DD23  20 0E E9   			call	_sgx_spr_pal.1
 8290                        	
 8291                        		.dbg	line,	"include\routines_LEVELS.c", 699; sgx_spr_pattern(*(ptr_REWARD_VRAM_ADR+current_object_id));
 8292                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DD26  AD 20 2C   			lda	__anim_OBJECTS_end - 2
         1D:DD29  C2         			cly
 8293                        		__asl.wr
         1D:DD2A  0A         			asl	a
         1D:DD2B  42         			say
         1D:DD2C  2A         			rol	a
         1D:DD2D  42         			say
 8294                        		__add.wm	_ptr_REWARD_VRAM_ADR
         1D:DD2E  18         			clc
         1D:DD2F  6D 90 26   			adc.l	_ptr_REWARD_VRAM_ADR
         1D:DD32  42         			say
         1D:DD33  6D 91 26   			adc.h	_ptr_REWARD_VRAM_ADR
         1D:DD36  42         			say
 8295                        		__st.wm		__ptr
         1D:DD37  85 88      			sta.l	__ptr
         1D:DD39  84 89      			sty.h	__ptr
 8296                        		__ld.wp		__ptr
         1D:DD3B  A0 01      			ldy	#1
         1D:DD3D  B1 88      			lda	[__ptr], y
         1D:DD3F  A8         			tay
         1D:DD40  B2 88      			lda	[__ptr]
 8297                        		__call		_sgx_spr_pattern.1
         1D:DD42  20 E7 E8   			call	_sgx_spr_pattern.1
 8298                        	
 8299                        		.dbg	line,	"include\routines_LEVELS.c", 700; }
 8300                        	
 8301                        		.dbg	line,	"include\routines_LEVELS.c", 702; else if(list_object_counter[current_object_id] == 29)
 8302                        		__bra		.LL345
         1D:DD45  4C 05 DE   			bra	.LL345
 8303    1D:DD48             	.LL344:
 8304                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DD48  AE 20 2C   			ldx	__anim_OBJECTS_end - 2
 8305                        		__ld.uaxq	_list_object_counter
         1D:DD4B  BD 9D 23   			lda	_list_object_counter, x
 8306                        		__equ_b.uiq	29
         1D:DD4E  C9 1D      			cmp	#29
         1D:DD50  F0 01      			beq	!+
         1D:DD52  18         			clc
         1D:DD53             	!:
 8307                        		__bfalse	.LL346
         1D:DD53  90 0F      			bcc	.LL346
 8308                        	
 8309                        		.dbg	line,	"include\routines_LEVELS.c", 703; {
 8310                        	
 8311                        		.dbg	line,	"include\routines_LEVELS.c", 704; sgx_spr_pal(17);
 8312                        		__ld.uiq	17
         1D:DD55  A9 11      			lda	#17
 8313                        		__call		_sgx_spr_pal.1
         1D:DD57  20 0E E9   			call	_sgx_spr_pal.1
 8314                        	
 8315                        		.dbg	line,	"include\routines_LEVELS.c", 705; sgx_spr_pattern(POT7_VRAM_ADR);
 8316                        		__ld.wi		27008
         1D:DD5A  A9 80      			lda.l	#27008
         1D:DD5C  A0 69      			ldy.h	#27008
 8317                        		__call		_sgx_spr_pattern.1
         1D:DD5E  20 E7 E8   			call	_sgx_spr_pattern.1
 8318                        	
 8319                        		.dbg	line,	"include\routines_LEVELS.c", 706; }
 8320                        	
 8321                        		.dbg	line,	"include\routines_LEVELS.c", 708; else if(list_object_counter[current_object_id] == 33)
 8322                        		__bra		.LL347
         1D:DD61  4C 05 DE   			bra	.LL347
 8323    1D:DD64             	.LL346:
 8324                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DD64  AE 20 2C   			ldx	__anim_OBJECTS_end - 2
 8325                        		__ld.uaxq	_list_object_counter
         1D:DD67  BD 9D 23   			lda	_list_object_counter, x
 8326                        		__equ_b.uiq	33
         1D:DD6A  C9 21      			cmp	#33
         1D:DD6C  F0 01      			beq	!+
         1D:DD6E  18         			clc
         1D:DD6F             	!:
 8327                        		__bfalse	.LL348
         1D:DD6F  90 26      			bcc	.LL348
 8328                        	
 8329                        		.dbg	line,	"include\routines_LEVELS.c", 709; {
 8330                        	
 8331                        		.dbg	line,	"include\routines_LEVELS.c", 710; sgx_spr_pal(18);
 8332                        		__ld.uiq	18
         1D:DD71  A9 12      			lda	#18
 8333                        		__call		_sgx_spr_pal.1
         1D:DD73  20 0E E9   			call	_sgx_spr_pal.1
 8334                        	
 8335                        		.dbg	line,	"include\routines_LEVELS.c", 711; sgx_spr_pattern(*(ptr_REWARD_VRAM_ADR+current_object_id));
 8336                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DD76  AD 20 2C   			lda	__anim_OBJECTS_end - 2
         1D:DD79  C2         			cly
 8337                        		__asl.wr
         1D:DD7A  0A         			asl	a
         1D:DD7B  42         			say
         1D:DD7C  2A         			rol	a
         1D:DD7D  42         			say
 8338                        		__add.wm	_ptr_REWARD_VRAM_ADR
         1D:DD7E  18         			clc
         1D:DD7F  6D 90 26   			adc.l	_ptr_REWARD_VRAM_ADR
         1D:DD82  42         			say
         1D:DD83  6D 91 26   			adc.h	_ptr_REWARD_VRAM_ADR
         1D:DD86  42         			say
 8339                        		__st.wm		__ptr
         1D:DD87  85 88      			sta.l	__ptr
         1D:DD89  84 89      			sty.h	__ptr
 8340                        		__ld.wp		__ptr
         1D:DD8B  A0 01      			ldy	#1
         1D:DD8D  B1 88      			lda	[__ptr], y
         1D:DD8F  A8         			tay
         1D:DD90  B2 88      			lda	[__ptr]
 8341                        		__call		_sgx_spr_pattern.1
         1D:DD92  20 E7 E8   			call	_sgx_spr_pattern.1
 8342                        	
 8343                        		.dbg	line,	"include\routines_LEVELS.c", 712; }
 8344                        	
 8345                        		.dbg	line,	"include\routines_LEVELS.c", 714; else if(list_object_counter[current_object_id] == 34)
 8346                        		__bra		.LL349
         1D:DD95  80 6E      			bra	.LL349
 8347    1D:DD97             	.LL348:
 8348                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DD97  AE 20 2C   			ldx	__anim_OBJECTS_end - 2
 8349                        		__ld.uaxq	_list_object_counter
         1D:DD9A  BD 9D 23   			lda	_list_object_counter, x
 8350                        		__equ_b.uiq	34
         1D:DD9D  C9 22      			cmp	#34
         1D:DD9F  F0 01      			beq	!+
         1D:DDA1  18         			clc
         1D:DDA2             	!:
 8351                        		__bfalse	.LL350
         1D:DDA2  90 0E      			bcc	.LL350
 8352                        	
 8353                        		.dbg	line,	"include\routines_LEVELS.c", 715; {
 8354                        	
 8355                        		.dbg	line,	"include\routines_LEVELS.c", 716; sgx_spr_pal(17);
 8356                        		__ld.uiq	17
         1D:DDA4  A9 11      			lda	#17
 8357                        		__call		_sgx_spr_pal.1
         1D:DDA6  20 0E E9   			call	_sgx_spr_pal.1
 8358                        	
 8359                        		.dbg	line,	"include\routines_LEVELS.c", 717; sgx_spr_pattern(POT8_VRAM_ADR);
 8360                        		__ld.wi		27072
         1D:DDA9  A9 C0      			lda.l	#27072
         1D:DDAB  A0 69      			ldy.h	#27072
 8361                        		__call		_sgx_spr_pattern.1
         1D:DDAD  20 E7 E8   			call	_sgx_spr_pattern.1
 8362                        	
 8363                        		.dbg	line,	"include\routines_LEVELS.c", 718; }
 8364                        	
 8365                        		.dbg	line,	"include\routines_LEVELS.c", 720; else if(list_object_counter[current_object_id] == 38)
 8366                        		__bra		.LL351
         1D:DDB0  80 53      			bra	.LL351
 8367    1D:DDB2             	.LL350:
 8368                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DDB2  AE 20 2C   			ldx	__anim_OBJECTS_end - 2
 8369                        		__ld.uaxq	_list_object_counter
         1D:DDB5  BD 9D 23   			lda	_list_object_counter, x
 8370                        		__equ_b.uiq	38
         1D:DDB8  C9 26      			cmp	#38
         1D:DDBA  F0 01      			beq	!+
         1D:DDBC  18         			clc
         1D:DDBD             	!:
 8371                        		__bfalse	.LL352
         1D:DDBD  90 46      			bcc	.LL352
 8372                        	
 8373                        		.dbg	line,	"include\routines_LEVELS.c", 721; {
 8374                        	
 8375                        		.dbg	line,	"include\routines_LEVELS.c", 722; sgx_spr_pal(18);
 8376                        		__ld.uiq	18
         1D:DDBF  A9 12      			lda	#18
 8377                        		__call		_sgx_spr_pal.1
         1D:DDC1  20 0E E9   			call	_sgx_spr_pal.1
 8378                        	
 8379                        		.dbg	line,	"include\routines_LEVELS.c", 723; sgx_spr_pattern(*(ptr_REWARD_VRAM_ADR+current_object_id));
 8380                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DDC4  AD 20 2C   			lda	__anim_OBJECTS_end - 2
         1D:DDC7  C2         			cly
 8381                        		__asl.wr
         1D:DDC8  0A         			asl	a
         1D:DDC9  42         			say
         1D:DDCA  2A         			rol	a
         1D:DDCB  42         			say
 8382                        		__add.wm	_ptr_REWARD_VRAM_ADR
         1D:DDCC  18         			clc
         1D:DDCD  6D 90 26   			adc.l	_ptr_REWARD_VRAM_ADR
         1D:DDD0  42         			say
         1D:DDD1  6D 91 26   			adc.h	_ptr_REWARD_VRAM_ADR
         1D:DDD4  42         			say
 8383                        		__st.wm		__ptr
         1D:DDD5  85 88      			sta.l	__ptr
         1D:DDD7  84 89      			sty.h	__ptr
 8384                        		__ld.wp		__ptr
         1D:DDD9  A0 01      			ldy	#1
         1D:DDDB  B1 88      			lda	[__ptr], y
         1D:DDDD  A8         			tay
         1D:DDDE  B2 88      			lda	[__ptr]
 8385                        		__call		_sgx_spr_pattern.1
         1D:DDE0  20 E7 E8   			call	_sgx_spr_pattern.1
 8386                        	
 8387                        		.dbg	line,	"include\routines_LEVELS.c", 724; list_object_type[current_object_id] = *(ptr_REWARD_TYPE+current_object_id);
 8388                        		__ld.wm		_ptr_REWARD_TYPE
         1D:DDE3  AD 8E 26   			lda.l	_ptr_REWARD_TYPE
         1D:DDE6  AC 8F 26   			ldy.h	_ptr_REWARD_TYPE
 8389                        		__add.um	__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DDE9  18         			clc
         1D:DDEA  6D 20 2C   			adc	__anim_OBJECTS_end - 2
         1D:DDED  90 01      			bcc	!+
         1D:DDEF  C8         			iny
         1D:DDF0             	!:
 8390                        		__st.wm		__ptr
         1D:DDF0  85 88      			sta.l	__ptr
         1D:DDF2  84 89      			sty.h	__ptr
 8391                        		__ld.up		__ptr
         1D:DDF4  B2 88      			lda	[__ptr]
         1D:DDF6  C2         			cly
 8392                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DDF7  AE 20 2C   			ldx	__anim_OBJECTS_end - 2
 8393                        		__st.uaxq	_list_object_type
         1D:DDFA  9D 39 23   			sta	_list_object_type, x
 8394                        	
 8395                        		.dbg	line,	"include\routines_LEVELS.c", 725; list_object_state[current_object_id] = STATE_DROPPED;
 8396                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DDFD  AE 20 2C   			ldx	__anim_OBJECTS_end - 2
 8397                        		__st.uaxiq	3, _list_object_state
         1D:DE00  A9 03      			lda.l	#3
         1D:DE02  9D 52 23   			sta	_list_object_state, x
 8398                        	
 8399                        		.dbg	line,	"include\routines_LEVELS.c", 726; }
 8400                        	
 8401                        		.dbg	line,	"include\routines_LEVELS.c", 728; list_object_counter[current_object_id] += 1;
 8402    1D:DE05             	.LL352:
 8403    1D:DE05             	.LL351:
 8404    1D:DE05             	.LL349:
 8405    1D:DE05             	.LL347:
 8406    1D:DE05             	.LL345:
 8407    1D:DE05             	.LL343:
 8408    1D:DE05             	.LL341:
 8409    1D:DE05             	.LL339:
 8410    1D:DE05             	.LL337:
 8411    1D:DE05             	.LL335:
 8412    1D:DE05             	.LL333:
 8413    1D:DE05             	.LL331:
 8414    1D:DE05             	.LL329:
 8415    1D:DE05             	.LL327:
 8416    1D:DE05             	.LL325:
 8417    1D:DE05             	.LL323:
 8418                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DE05  AE 20 2C   			ldx	__anim_OBJECTS_end - 2
 8419                        		__add_st.uaxiq	1, _list_object_counter
         1D:DE08  FE 9D 23   			inc	_list_object_counter, x
 8420                        	
 8421                        		.dbg	line,	"include\routines_LEVELS.c", 729; }
 8422                        	
 8423                        		.dbg	line,	"include\routines_LEVELS.c", 730; 
 8424                        	
 8425                        		.dbg	line,	"include\routines_LEVELS.c", 732; else if(list_object_energy[current_object_id] == 1)
 8426                        		__bra		.LL353
         1D:DE0B  4C 25 DB   			bra	.LL353
 8427    1D:DE0E             	.LL321:
 8428                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DE0E  AE 20 2C   			ldx	__anim_OBJECTS_end - 2
 8429                        		__ld.uaxq	_list_object_energy
         1D:DE11  BD 6B 23   			lda	_list_object_energy, x
 8430                        		__equ_b.uiq	1
         1D:DE14  C9 01      			cmp	#1
         1D:DE16  F0 01      			beq	!+
         1D:DE18  18         			clc
         1D:DE19             	!:
 8431                        		__bfalse	.LL354
         1D:DE19  B0 03 4C 25			bcc	.LL354
         1D:DE1D  DB          
 8432                        	
 8433                        		.dbg	line,	"include\routines_LEVELS.c", 733; {
 8434                        	
 8435                        		.dbg	line,	"include\routines_LEVELS.c", 734; if(list_object_counter[current_object_id] == 0)
 8436                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DE1E  AE 20 2C   			ldx	__anim_OBJECTS_end - 2
 8437                        		__not.uax	_list_object_counter
         1D:DE21  BD 9D 23   			lda	_list_object_counter, x
         1D:DE24  18         			clc
         1D:DE25  D0 01      			bne	!+
         1D:DE27  38         			sec
         1D:DE28             	!:
 8438                        		__bfalse	.LL355
         1D:DE28  90 1B      			bcc	.LL355
 8439                        	
 8440                        		.dbg	line,	"include\routines_LEVELS.c", 735; {
 8441                        	
 8442                        		.dbg	line,	"include\routines_LEVELS.c", 736; object_pos_y = sgx_spr_get_y();
 8443                        		__call		_sgx_spr_get_y
         1D:DE2A  20 3C E9   			call	_sgx_spr_get_y
 8444                        		__st.wmq	__anim_OBJECTS_end - 4  /* object_pos_y */
         1D:DE2D  8D 1E 2C   			sta.l	__anim_OBJECTS_end - 4
         1D:DE30  8C 1F 2C   			sty.h	__anim_OBJECTS_end - 4
 8445                        	
 8446                        		.dbg	line,	"include\routines_LEVELS.c", 737; sgx_spr_y(object_pos_y - 1);
 8447                        		__ld.wm		__anim_OBJECTS_end - 4  /* object_pos_y */
         1D:DE33  AD 1E 2C   			lda.l	__anim_OBJECTS_end - 4
         1D:DE36  AC 1F 2C   			ldy.h	__anim_OBJECTS_end - 4
 8448                        		__sub.wi	1
         1D:DE39  38         			sec
         1D:DE3A  E9 01      			sbc.l	#1
         1D:DE3C  B0 01      			bcs	!+
         1D:DE3E  88         			dey
         1D:DE3F             	!:
 8449                        		__call		_sgx_spr_y.1
         1D:DE3F  20 DA E8   			call	_sgx_spr_y.1
 8450                        	
 8451                        		.dbg	line,	"include\routines_LEVELS.c", 738; }
 8452                        	
 8453                        		.dbg	line,	"include\routines_LEVELS.c", 740; else if(list_object_counter[current_object_id] == 1)
 8454                        		__bra		.LL356
         1D:DE42  4C CB DE   			bra	.LL356
 8455    1D:DE45             	.LL355:
 8456                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DE45  AE 20 2C   			ldx	__anim_OBJECTS_end - 2
 8457                        		__ld.uaxq	_list_object_counter
         1D:DE48  BD 9D 23   			lda	_list_object_counter, x
 8458                        		__equ_b.uiq	1
         1D:DE4B  C9 01      			cmp	#1
         1D:DE4D  F0 01      			beq	!+
         1D:DE4F  18         			clc
         1D:DE50             	!:
 8459                        		__bfalse	.LL357
         1D:DE50  90 1A      			bcc	.LL357
 8460                        	
 8461                        		.dbg	line,	"include\routines_LEVELS.c", 741; {
 8462                        	
 8463                        		.dbg	line,	"include\routines_LEVELS.c", 742; object_pos_y = sgx_spr_get_y();
 8464                        		__call		_sgx_spr_get_y
         1D:DE52  20 3C E9   			call	_sgx_spr_get_y
 8465                        		__st.wmq	__anim_OBJECTS_end - 4  /* object_pos_y */
         1D:DE55  8D 1E 2C   			sta.l	__anim_OBJECTS_end - 4
         1D:DE58  8C 1F 2C   			sty.h	__anim_OBJECTS_end - 4
 8466                        	
 8467                        		.dbg	line,	"include\routines_LEVELS.c", 743; sgx_spr_y(object_pos_y - 1);
 8468                        		__ld.wm		__anim_OBJECTS_end - 4  /* object_pos_y */
         1D:DE5B  AD 1E 2C   			lda.l	__anim_OBJECTS_end - 4
         1D:DE5E  AC 1F 2C   			ldy.h	__anim_OBJECTS_end - 4
 8469                        		__sub.wi	1
         1D:DE61  38         			sec
         1D:DE62  E9 01      			sbc.l	#1
         1D:DE64  B0 01      			bcs	!+
         1D:DE66  88         			dey
         1D:DE67             	!:
 8470                        		__call		_sgx_spr_y.1
         1D:DE67  20 DA E8   			call	_sgx_spr_y.1
 8471                        	
 8472                        		.dbg	line,	"include\routines_LEVELS.c", 744; }
 8473                        	
 8474                        		.dbg	line,	"include\routines_LEVELS.c", 746; else if(list_object_counter[current_object_id] == 2)
 8475                        		__bra		.LL358
         1D:DE6A  80 5F      			bra	.LL358
 8476    1D:DE6C             	.LL357:
 8477                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DE6C  AE 20 2C   			ldx	__anim_OBJECTS_end - 2
 8478                        		__ld.uaxq	_list_object_counter
         1D:DE6F  BD 9D 23   			lda	_list_object_counter, x
 8479                        		__equ_b.uiq	2
         1D:DE72  C9 02      			cmp	#2
         1D:DE74  F0 01      			beq	!+
         1D:DE76  18         			clc
         1D:DE77             	!:
 8480                        		__bfalse	.LL359
         1D:DE77  90 18      			bcc	.LL359
 8481                        	
 8482                        		.dbg	line,	"include\routines_LEVELS.c", 747; {
 8483                        	
 8484                        		.dbg	line,	"include\routines_LEVELS.c", 748; object_pos_y = sgx_spr_get_y();
 8485                        		__call		_sgx_spr_get_y
         1D:DE79  20 3C E9   			call	_sgx_spr_get_y
 8486                        		__st.wmq	__anim_OBJECTS_end - 4  /* object_pos_y */
         1D:DE7C  8D 1E 2C   			sta.l	__anim_OBJECTS_end - 4
         1D:DE7F  8C 1F 2C   			sty.h	__anim_OBJECTS_end - 4
 8487                        	
 8488                        		.dbg	line,	"include\routines_LEVELS.c", 749; sgx_spr_y(object_pos_y + 1);
 8489                        		__ld.wm		__anim_OBJECTS_end - 4  /* object_pos_y */
         1D:DE82  AD 1E 2C   			lda.l	__anim_OBJECTS_end - 4
         1D:DE85  AC 1F 2C   			ldy.h	__anim_OBJECTS_end - 4
 8490                        		__add.wi	1
         1D:DE88  1A         			inc	a
         1D:DE89  D0 01      			bne	!+
         1D:DE8B  C8         			iny
         1D:DE8C             	!:
 8491                        		__call		_sgx_spr_y.1
         1D:DE8C  20 DA E8   			call	_sgx_spr_y.1
 8492                        	
 8493                        		.dbg	line,	"include\routines_LEVELS.c", 750; }
 8494                        	
 8495                        		.dbg	line,	"include\routines_LEVELS.c", 752; else if(list_object_counter[current_object_id] == 3)
 8496                        		__bra		.LL360
         1D:DE8F  80 3A      			bra	.LL360
 8497    1D:DE91             	.LL359:
 8498                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DE91  AE 20 2C   			ldx	__anim_OBJECTS_end - 2
 8499                        		__ld.uaxq	_list_object_counter
         1D:DE94  BD 9D 23   			lda	_list_object_counter, x
 8500                        		__equ_b.uiq	3
         1D:DE97  C9 03      			cmp	#3
         1D:DE99  F0 01      			beq	!+
         1D:DE9B  18         			clc
         1D:DE9C             	!:
 8501                        		__bfalse	.LL361
         1D:DE9C  90 18      			bcc	.LL361
 8502                        	
 8503                        		.dbg	line,	"include\routines_LEVELS.c", 753; {
 8504                        	
 8505                        		.dbg	line,	"include\routines_LEVELS.c", 754; object_pos_y = sgx_spr_get_y();
 8506                        		__call		_sgx_spr_get_y
         1D:DE9E  20 3C E9   			call	_sgx_spr_get_y
 8507                        		__st.wmq	__anim_OBJECTS_end - 4  /* object_pos_y */
         1D:DEA1  8D 1E 2C   			sta.l	__anim_OBJECTS_end - 4
         1D:DEA4  8C 1F 2C   			sty.h	__anim_OBJECTS_end - 4
 8508                        	
 8509                        		.dbg	line,	"include\routines_LEVELS.c", 755; sgx_spr_y(object_pos_y + 1);
 8510                        		__ld.wm		__anim_OBJECTS_end - 4  /* object_pos_y */
         1D:DEA7  AD 1E 2C   			lda.l	__anim_OBJECTS_end - 4
         1D:DEAA  AC 1F 2C   			ldy.h	__anim_OBJECTS_end - 4
 8511                        		__add.wi	1
         1D:DEAD  1A         			inc	a
         1D:DEAE  D0 01      			bne	!+
         1D:DEB0  C8         			iny
         1D:DEB1             	!:
 8512                        		__call		_sgx_spr_y.1
         1D:DEB1  20 DA E8   			call	_sgx_spr_y.1
 8513                        	
 8514                        		.dbg	line,	"include\routines_LEVELS.c", 756; }
 8515                        	
 8516                        		.dbg	line,	"include\routines_LEVELS.c", 758; else if(list_object_counter[current_object_id] == 4)
 8517                        		__bra		.LL362
         1D:DEB4  80 15      			bra	.LL362
 8518    1D:DEB6             	.LL361:
 8519                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DEB6  AE 20 2C   			ldx	__anim_OBJECTS_end - 2
 8520                        		__ld.uaxq	_list_object_counter
         1D:DEB9  BD 9D 23   			lda	_list_object_counter, x
 8521                        		__equ_b.uiq	4
         1D:DEBC  C9 04      			cmp	#4
         1D:DEBE  F0 01      			beq	!+
         1D:DEC0  18         			clc
         1D:DEC1             	!:
 8522                        		__bfalse	.LL363
         1D:DEC1  90 08      			bcc	.LL363
 8523                        	
 8524                        		.dbg	line,	"include\routines_LEVELS.c", 759; {
 8525                        	
 8526                        		.dbg	line,	"include\routines_LEVELS.c", 760; list_object_state[current_object_id] = STATE_ACTIVE;
 8527                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DEC3  AE 20 2C   			ldx	__anim_OBJECTS_end - 2
 8528                        		__st.uaxiq	1, _list_object_state
         1D:DEC6  A9 01      			lda.l	#1
         1D:DEC8  9D 52 23   			sta	_list_object_state, x
 8529                        	
 8530                        		.dbg	line,	"include\routines_LEVELS.c", 761; }
 8531                        	
 8532                        		.dbg	line,	"include\routines_LEVELS.c", 763; list_object_counter[current_object_id] += 1;
 8533    1D:DECB             	.LL363:
 8534    1D:DECB             	.LL362:
 8535    1D:DECB             	.LL360:
 8536    1D:DECB             	.LL358:
 8537    1D:DECB             	.LL356:
 8538                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         1D:DECB  AE 20 2C   			ldx	__anim_OBJECTS_end - 2
 8539                        		__add_st.uaxiq	1, _list_object_counter
         1D:DECE  FE 9D 23   			inc	_list_object_counter, x
 8540                        	
 8541                        		.dbg	line,	"include\routines_LEVELS.c", 764; }
 8542                        	
 8543                        		.dbg	line,	"include\routines_LEVELS.c", 765; }
 8544    1D:DED1             	.LL354	.alias		.LL317
 8545    1D:DED1             	.LL353	.alias		.LL317
 8546                        	
 8547                        		.dbg	line,	"include\routines_LEVELS.c", 766; }
 8548    1D:DED1             	.LL320	.alias		.LL317
 8549                        		__bra		.LL317
         1D:DED1  4C 25 DB   			bra	.LL317
 8550    1D:DED4             	.LL319:
 8551                        	
 8552                        		.dbg	line,	"include\routines_LEVELS.c", 767; }
 8553                        	
 8554                        		.dbg	line,	"include\routines_LEVELS.c", 768; }
 8555    1D:DED4             	.LL315:
 8556    1D:DED4             	.LL314:
 8557                        		__return	0
         1D:DED4  4C EF FF   			jmp	leave_proc
 8558                        		.dbg	clear
 8559                        		.endp
 8560               2303     		.bss
 8561    F8:2303             	__anim_OBJECTS_end	.alias	leaf_stack
 8562               E31D     		.code
 8563                        		.pceas
 8564                        	
 8565                        		.dbg	line,	"include\routines_LEVELS.c", 776; void joypad_BUTTONS()
 8566                        		.dbg	line,	"include\routines_LEVELS.c", 777; {
 8567                        	;***********************
 8568                        	;***********************
 8569                        	
 8570                        		.hucc
 8571    1E:D356             		.proc		_joypad_BUTTONS
 8572                        		__enter		_joypad_BUTTONS
 8573                        	
 8574                        		.dbg	line,	"include\routines_LEVELS.c", 778; // JUMP //
 8575                        	
 8576                        		.dbg	line,	"include\routines_LEVELS.c", 779; if(joytrg(JOYPAD_1) == JOY_I)
 8577                        		__ld.uiq	0
         1E:D356  62         			cla
 8578                        		 _joytrg.1
         1E:D357  AA         			tax
         1E:D358  BD 2D 22   			lda	joytrg, x
         1E:D35B  BC DD 22   			ldy	joy6trg, x
 8579                        		__equ_w.wi	1
         1E:D35E  C9 01      			cmp.l	#1
         1E:D360  D0 04      			bne	!false+
         1E:D362  C0 00      			cpy.h	#1
         1E:D364  F0 01      			beq	!+
         1E:D366  18         	!false:		clc
         1E:D367             	!:
 8580                        		__bfalse	.LL365
         1E:D367  B0 03 4C 19			bcc	.LL365
         1E:D36B  D5          
 8581                        	
 8582                        		.dbg	line,	"include\routines_LEVELS.c", 780; {
 8583                        	
 8584                        		.dbg	line,	"include\routines_LEVELS.c", 781; if(player_state == STATE_IDLE)
 8585                        		__not.um	_player_state
         1E:D36C  AD 18 23   			lda	_player_state
         1E:D36F  18         			clc
         1E:D370  D0 01      			bne	!+
         1E:D372  38         			sec
         1E:D373             	!:
 8586                        		__bfalse	.LL366
         1E:D373  90 3E      			bcc	.LL366
 8587                        	
 8588                        		.dbg	line,	"include\routines_LEVELS.c", 782; {
 8589                        	
 8590                        		.dbg	line,	"include\routines_LEVELS.c", 783; hit_wall = FALSE;
 8591                        		__st.umiq	0, _hit_wall
         1E:D375  9C 24 23   			stz	_hit_wall
 8592                        	
 8593                        		.dbg	line,	"include\routines_LEVELS.c", 784; 
 8594                        	
 8595                        		.dbg	line,	"include\routines_LEVELS.c", 785; player_counter_anim = 0;
 8596                        		__st.umiq	0, _player_counter_anim
         1E:D378  9C 1B 23   			stz	_player_counter_anim
 8597                        	
 8598                        		.dbg	line,	"include\routines_LEVELS.c", 787; player_state = STATE_JUMP;
 8599                        		__st.umiq	4, _player_state
         1E:D37B  A9 04      			lda.l	#4
         1E:D37D  8D 18 23   			sta	_player_state
 8600                        	
 8601                        		.dbg	line,	"include\routines_LEVELS.c", 789; spr_set(weapon_id);
 8602                        		__ld.umq	_weapon_id
         1E:D380  AD 26 23   			lda	_weapon_id
 8603                        		__call		_spr_set.1
         1E:D383  20 F1 E7   			call	_spr_set.1
 8604                        	
 8605                        		.dbg	line,	"include\routines_LEVELS.c", 790; 
 8606                        	
 8607                        		.dbg	line,	"include\routines_LEVELS.c", 791; if(player_axis == AXIS_RIGHT)
 8608                        		__not.um	_player_axis
         1E:D386  AD 19 23   			lda	_player_axis
         1E:D389  18         			clc
         1E:D38A  D0 01      			bne	!+
         1E:D38C  38         			sec
         1E:D38D             	!:
 8609                        		__bfalse	.LL367
         1E:D38D  90 12      			bcc	.LL367
 8610                        	
 8611                        		.dbg	line,	"include\routines_LEVELS.c", 792; {
 8612                        	
 8613                        		.dbg	line,	"include\routines_LEVELS.c", 793; spr_x(player_pos_x-5);
 8614                        		__ld.wm		_player_pos_x
         1E:D38F  AD F5 24   			lda.l	_player_pos_x
         1E:D392  AC F6 24   			ldy.h	_player_pos_x
 8615                        		__sub.wi	5
         1E:D395  38         			sec
         1E:D396  E9 05      			sbc.l	#5
         1E:D398  B0 01      			bcs	!+
         1E:D39A  88         			dey
         1E:D39B             	!:
 8616                        		__call		_spr_x.1
         1E:D39B  20 1E E8   			call	_spr_x.1
 8617                        	
 8618                        		.dbg	line,	"include\routines_LEVELS.c", 794; }
 8619                        	
 8620                        		.dbg	line,	"include\routines_LEVELS.c", 796; else
 8621                        		__bra		.LL368
         1E:D39E  4C CA D5   			bra	.LL368
 8622    1E:D3A1             	.LL367:
 8623                        	
 8624                        		.dbg	line,	"include\routines_LEVELS.c", 797; {
 8625                        	
 8626                        		.dbg	line,	"include\routines_LEVELS.c", 798; spr_x(player_pos_x+21);
 8627                        		__ld.wm		_player_pos_x
         1E:D3A1  AD F5 24   			lda.l	_player_pos_x
         1E:D3A4  AC F6 24   			ldy.h	_player_pos_x
 8628                        		__add.wi	21
         1E:D3A7  18         			clc
         1E:D3A8  69 15      			adc.l	#21
         1E:D3AA  90 01      			bcc	!+
         1E:D3AC  C8         			iny
         1E:D3AD             	!:
 8629                        		__call		_spr_x.1
         1E:D3AD  20 1E E8   			call	_spr_x.1
 8630                        	
 8631                        		.dbg	line,	"include\routines_LEVELS.c", 799; }
 8632    1E:D3B0             	.LL368	.alias		.LL369
 8633                        	
 8634                        		.dbg	line,	"include\routines_LEVELS.c", 800; }
 8635                        	
 8636                        		.dbg	line,	"include\routines_LEVELS.c", 803; else if(player_state == STATE_WALK)
 8637                        		__bra		.LL369
         1E:D3B0  4C CA D5   			bra	.LL369
 8638    1E:D3B3             	.LL366:
 8639                        		__ld.umq	_player_state
         1E:D3B3  AD 18 23   			lda	_player_state
 8640                        		__equ_b.uiq	1
         1E:D3B6  C9 01      			cmp	#1
         1E:D3B8  F0 01      			beq	!+
         1E:D3BA  18         			clc
         1E:D3BB             	!:
 8641                        		__bfalse	.LL370
         1E:D3BB  90 46      			bcc	.LL370
 8642                        	
 8643                        		.dbg	line,	"include\routines_LEVELS.c", 804; {
 8644                        	
 8645                        		.dbg	line,	"include\routines_LEVELS.c", 805; hit_wall = FALSE;
 8646                        		__st.umiq	0, _hit_wall
         1E:D3BD  9C 24 23   			stz	_hit_wall
 8647                        	
 8648                        		.dbg	line,	"include\routines_LEVELS.c", 806; 
 8649                        	
 8650                        		.dbg	line,	"include\routines_LEVELS.c", 807; player_counter_anim = 0;
 8651                        		__st.umiq	0, _player_counter_anim
         1E:D3C0  9C 1B 23   			stz	_player_counter_anim
 8652                        	
 8653                        		.dbg	line,	"include\routines_LEVELS.c", 809; player_state = STATE_JUMP_RIGHT + player_axis;
 8654                        		__ld.wi		5
         1E:D3C3  A9 05      			lda.l	#5
         1E:D3C5  C2         			cly
 8655                        		__add.um	_player_axis
         1E:D3C6  18         			clc
         1E:D3C7  6D 19 23   			adc	_player_axis
         1E:D3CA  90 01      			bcc	!+
         1E:D3CC  C8         			iny
         1E:D3CD             	!:
 8656                        		__st.umq	_player_state
         1E:D3CD  8D 18 23   			sta	_player_state
 8657                        	
 8658                        		.dbg	line,	"include\routines_LEVELS.c", 811; spr_set(weapon_id);
 8659                        		__ld.umq	_weapon_id
         1E:D3D0  AD 26 23   			lda	_weapon_id
 8660                        		__call		_spr_set.1
         1E:D3D3  20 F1 E7   			call	_spr_set.1
 8661                        	
 8662                        		.dbg	line,	"include\routines_LEVELS.c", 812; 
 8663                        	
 8664                        		.dbg	line,	"include\routines_LEVELS.c", 813; if(player_axis == AXIS_RIGHT)
 8665                        		__not.um	_player_axis
         1E:D3D6  AD 19 23   			lda	_player_axis
         1E:D3D9  18         			clc
         1E:D3DA  D0 01      			bne	!+
         1E:D3DC  38         			sec
         1E:D3DD             	!:
 8666                        		__bfalse	.LL371
         1E:D3DD  90 12      			bcc	.LL371
 8667                        	
 8668                        		.dbg	line,	"include\routines_LEVELS.c", 814; {
 8669                        	
 8670                        		.dbg	line,	"include\routines_LEVELS.c", 815; spr_x(player_pos_x-5);
 8671                        		__ld.wm		_player_pos_x
         1E:D3DF  AD F5 24   			lda.l	_player_pos_x
         1E:D3E2  AC F6 24   			ldy.h	_player_pos_x
 8672                        		__sub.wi	5
         1E:D3E5  38         			sec
         1E:D3E6  E9 05      			sbc.l	#5
         1E:D3E8  B0 01      			bcs	!+
         1E:D3EA  88         			dey
         1E:D3EB             	!:
 8673                        		__call		_spr_x.1
         1E:D3EB  20 1E E8   			call	_spr_x.1
 8674                        	
 8675                        		.dbg	line,	"include\routines_LEVELS.c", 816; }
 8676                        	
 8677                        		.dbg	line,	"include\routines_LEVELS.c", 818; else
 8678                        		__bra		.LL372
         1E:D3EE  4C CA D5   			bra	.LL372
 8679    1E:D3F1             	.LL371:
 8680                        	
 8681                        		.dbg	line,	"include\routines_LEVELS.c", 819; {
 8682                        	
 8683                        		.dbg	line,	"include\routines_LEVELS.c", 820; spr_x(player_pos_x+21);
 8684                        		__ld.wm		_player_pos_x
         1E:D3F1  AD F5 24   			lda.l	_player_pos_x
         1E:D3F4  AC F6 24   			ldy.h	_player_pos_x
 8685                        		__add.wi	21
         1E:D3F7  18         			clc
         1E:D3F8  69 15      			adc.l	#21
         1E:D3FA  90 01      			bcc	!+
         1E:D3FC  C8         			iny
         1E:D3FD             	!:
 8686                        		__call		_spr_x.1
         1E:D3FD  20 1E E8   			call	_spr_x.1
 8687                        	
 8688                        		.dbg	line,	"include\routines_LEVELS.c", 821; }
 8689    1E:D400             	.LL372	.alias		.LL373
 8690                        	
 8691                        		.dbg	line,	"include\routines_LEVELS.c", 822; }
 8692                        	
 8693                        		.dbg	line,	"include\routines_LEVELS.c", 825; else if(player_state == STATE_HANG || player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
 8694                        		__bra		.LL373
         1E:D400  4C CA D5   			bra	.LL373
 8695    1E:D403             	.LL370:
 8696                        		__ld.umq	_player_state
         1E:D403  AD 18 23   			lda	_player_state
 8697                        		__equ_b.uiq	10
         1E:D406  C9 0A      			cmp	#10
         1E:D408  F0 01      			beq	!+
         1E:D40A  18         			clc
         1E:D40B             	!:
 8698                        		__btrue		.LL375
         1E:D40B  B0 08      			bcs	.LL375
 8699                        		__ld.umq	_player_state
         1E:D40D  AD 18 23   			lda	_player_state
 8700                        		__equ_b.uiq	11
         1E:D410  C9 0B      			cmp	#11
         1E:D412  F0 01      			beq	!+
         1E:D414  18         			clc
         1E:D415             	!:
 8701    1E:D415             	.LL375:
 8702                        		__btrue		.LL376
         1E:D415  B0 08      			bcs	.LL376
 8703                        		__ld.umq	_player_state
         1E:D417  AD 18 23   			lda	_player_state
 8704                        		__equ_b.uiq	12
         1E:D41A  C9 0C      			cmp	#12
         1E:D41C  F0 01      			beq	!+
         1E:D41E  18         			clc
         1E:D41F             	!:
 8705    1E:D41F             	.LL376:
 8706                        		__bfalse	.LL374
         1E:D41F  B0 03 4C CA			bcc	.LL374
         1E:D423  D5          
 8707                        	
 8708                        		.dbg	line,	"include\routines_LEVELS.c", 826; {
 8709                        	
 8710                        		.dbg	line,	"include\routines_LEVELS.c", 827; if(player_attack == FALSE)
 8711                        		__not.um	_player_attack
         1E:D424  AD 20 23   			lda	_player_attack
         1E:D427  18         			clc
         1E:D428  D0 01      			bne	!+
         1E:D42A  38         			sec
         1E:D42B             	!:
 8712                        		__bfalse	.LL377
         1E:D42B  B0 03 4C CA			bcc	.LL377
         1E:D42F  D5          
 8713                        	
 8714                        		.dbg	line,	"include\routines_LEVELS.c", 828; {
 8715                        	
 8716                        		.dbg	line,	"include\routines_LEVELS.c", 829; if(joy(JOYPAD_1) & JOY_RIGHT)
 8717                        		__ld.uiq	0
         1E:D430  62         			cla
 8718                        		 _joy.1
         1E:D431  AA         			tax
         1E:D432  BD 28 22   			lda	joynow, x
         1E:D435  BC D3 22   			ldy	joy6now, x
 8719                        		__tand.wi	32
         1E:D438  29 20      			and	#32
         1E:D43A  C9 01      	!:		cmp	#1
 8720                        		__bfalse	.LL378
         1E:D43C  90 23      			bcc	.LL378
 8721                        	
 8722                        		.dbg	line,	"include\routines_LEVELS.c", 830; {
 8723                        	
 8724                        		.dbg	line,	"include\routines_LEVELS.c", 831; hit_wall = FALSE;
 8725                        		__st.umiq	0, _hit_wall
         1E:D43E  9C 24 23   			stz	_hit_wall
 8726                        	
 8727                        		.dbg	line,	"include\routines_LEVELS.c", 832; 
 8728                        	
 8729                        		.dbg	line,	"include\routines_LEVELS.c", 833; player_counter_anim = 0;
 8730                        		__st.umiq	0, _player_counter_anim
         1E:D441  9C 1B 23   			stz	_player_counter_anim
 8731                        	
 8732                        		.dbg	line,	"include\routines_LEVELS.c", 835; player_state = STATE_JUMP_RIGHT;
 8733                        		__st.umiq	5, _player_state
         1E:D444  A9 05      			lda.l	#5
         1E:D446  8D 18 23   			sta	_player_state
 8734                        	
 8735                        		.dbg	line,	"include\routines_LEVELS.c", 837; spr_set(weapon_id);
 8736                        		__ld.umq	_weapon_id
         1E:D449  AD 26 23   			lda	_weapon_id
 8737                        		__call		_spr_set.1
         1E:D44C  20 F1 E7   			call	_spr_set.1
 8738                        	
 8739                        		.dbg	line,	"include\routines_LEVELS.c", 838; spr_x(player_pos_x-5);
 8740                        		__ld.wm		_player_pos_x
         1E:D44F  AD F5 24   			lda.l	_player_pos_x
         1E:D452  AC F6 24   			ldy.h	_player_pos_x
 8741                        		__sub.wi	5
         1E:D455  38         			sec
         1E:D456  E9 05      			sbc.l	#5
         1E:D458  B0 01      			bcs	!+
         1E:D45A  88         			dey
         1E:D45B             	!:
 8742                        		__call		_spr_x.1
         1E:D45B  20 1E E8   			call	_spr_x.1
 8743                        	
 8744                        		.dbg	line,	"include\routines_LEVELS.c", 839; }
 8745                        	
 8746                        		.dbg	line,	"include\routines_LEVELS.c", 841; else if(joy(JOYPAD_1) & JOY_LEFT)
 8747                        		__bra		.LL379
         1E:D45E  4C CA D5   			bra	.LL379
 8748    1E:D461             	.LL378:
 8749                        		__ld.uiq	0
         1E:D461  62         			cla
 8750                        		 _joy.1
         1E:D462  AA         			tax
         1E:D463  BD 28 22   			lda	joynow, x
         1E:D466  BC D3 22   			ldy	joy6now, x
 8751                        		__tand.wi	128
         1E:D469  29 80      			and	#128
         1E:D46B  C9 01      	!:		cmp	#1
 8752                        		__bfalse	.LL380
         1E:D46D  90 23      			bcc	.LL380
 8753                        	
 8754                        		.dbg	line,	"include\routines_LEVELS.c", 842; {
 8755                        	
 8756                        		.dbg	line,	"include\routines_LEVELS.c", 843; hit_wall = FALSE;
 8757                        		__st.umiq	0, _hit_wall
         1E:D46F  9C 24 23   			stz	_hit_wall
 8758                        	
 8759                        		.dbg	line,	"include\routines_LEVELS.c", 844; 
 8760                        	
 8761                        		.dbg	line,	"include\routines_LEVELS.c", 845; player_counter_anim = 0;
 8762                        		__st.umiq	0, _player_counter_anim
         1E:D472  9C 1B 23   			stz	_player_counter_anim
 8763                        	
 8764                        		.dbg	line,	"include\routines_LEVELS.c", 847; player_state = STATE_JUMP_LEFT;
 8765                        		__st.umiq	6, _player_state
         1E:D475  A9 06      			lda.l	#6
         1E:D477  8D 18 23   			sta	_player_state
 8766                        	
 8767                        		.dbg	line,	"include\routines_LEVELS.c", 849; spr_set(weapon_id);
 8768                        		__ld.umq	_weapon_id
         1E:D47A  AD 26 23   			lda	_weapon_id
 8769                        		__call		_spr_set.1
         1E:D47D  20 F1 E7   			call	_spr_set.1
 8770                        	
 8771                        		.dbg	line,	"include\routines_LEVELS.c", 850; spr_x(player_pos_x+21);
 8772                        		__ld.wm		_player_pos_x
         1E:D480  AD F5 24   			lda.l	_player_pos_x
         1E:D483  AC F6 24   			ldy.h	_player_pos_x
 8773                        		__add.wi	21
         1E:D486  18         			clc
         1E:D487  69 15      			adc.l	#21
         1E:D489  90 01      			bcc	!+
         1E:D48B  C8         			iny
         1E:D48C             	!:
 8774                        		__call		_spr_x.1
         1E:D48C  20 1E E8   			call	_spr_x.1
 8775                        	
 8776                        		.dbg	line,	"include\routines_LEVELS.c", 851; }
 8777                        	
 8778                        		.dbg	line,	"include\routines_LEVELS.c", 853; else if(joy(JOYPAD_1) & JOY_UP)
 8779                        		__bra		.LL381
         1E:D48F  4C CA D5   			bra	.LL381
 8780    1E:D492             	.LL380:
 8781                        		__ld.uiq	0
         1E:D492  62         			cla
 8782                        		 _joy.1
         1E:D493  AA         			tax
         1E:D494  BD 28 22   			lda	joynow, x
         1E:D497  BC D3 22   			ldy	joy6now, x
 8783                        		__tand.wi	16
         1E:D49A  29 10      			and	#16
         1E:D49C  C9 01      	!:		cmp	#1
 8784                        		__bfalse	.LL382
         1E:D49E  B0 03 4C CA			bcc	.LL382
         1E:D4A2  D5          
 8785                        	
 8786                        		.dbg	line,	"include\routines_LEVELS.c", 854; {
 8787                        	
 8788                        		.dbg	line,	"include\routines_LEVELS.c", 855; hit_wall = FALSE;
 8789                        		__st.umiq	0, _hit_wall
         1E:D4A3  9C 24 23   			stz	_hit_wall
 8790                        	
 8791                        		.dbg	line,	"include\routines_LEVELS.c", 856; 
 8792                        	
 8793                        		.dbg	line,	"include\routines_LEVELS.c", 857; player_counter_anim = 0;
 8794                        		__st.umiq	0, _player_counter_anim
         1E:D4A6  9C 1B 23   			stz	_player_counter_anim
 8795                        	
 8796                        		.dbg	line,	"include\routines_LEVELS.c", 859; collision_PLAYER_BG( 15 , 8 );
 8797                        		__ld.wi		15
         1E:D4A9  A9 0F      			lda.l	#15
         1E:D4AB  C2         			cly
 8798                        		__pusharg.wr
         1E:D4AC  A6 8D      			ldx	<__sp
         1E:D4AE  CA         			dex
         1E:D4AF  CA         			dex
         1E:D4B0  95 08      			sta.l	<__stack, x
         1E:D4B2  94 09      			sty.h	<__stack, x
         1E:D4B4  86 8D      			stx	<__sp
 8799                        		__ld.wi		8
         1E:D4B6  A9 08      			lda.l	#8
         1E:D4B8  C2         			cly
 8800                        		__pusharg.wr
         1E:D4B9  A6 8D      			ldx	<__sp
         1E:D4BB  CA         			dex
         1E:D4BC  CA         			dex
         1E:D4BD  95 08      			sta.l	<__stack, x
         1E:D4BF  94 09      			sty.h	<__stack, x
         1E:D4C1  86 8D      			stx	<__sp
 8801                        		__call		_collision_PLAYER_BG
         1E:D4C3  20 27 FF   			call	_collision_PLAYER_BG
 8802                        	
 8803                        		.dbg	line,	"include\routines_LEVELS.c", 861; if(map_blk_flag == TILE_EMPTY)
 8804                        		__not.um	_map_blk_flag
         1E:D4C6  AD F9 2B   			lda	_map_blk_flag
         1E:D4C9  18         			clc
         1E:D4CA  D0 01      			bne	!+
         1E:D4CC  38         			sec
         1E:D4CD             	!:
 8805                        		__bfalse	.LL383
         1E:D4CD  B0 03 4C CA			bcc	.LL383
         1E:D4D1  D5          
 8806                        	
 8807                        		.dbg	line,	"include\routines_LEVELS.c", 862; {
 8808                        	
 8809                        		.dbg	line,	"include\routines_LEVELS.c", 863; player_state = STATE_JUMP_LADDER;
 8810                        		__st.umiq	13, _player_state
         1E:D4D2  A9 0D      			lda.l	#13
         1E:D4D4  8D 18 23   			sta	_player_state
 8811                        	
 8812                        		.dbg	line,	"include\routines_LEVELS.c", 865; spr_set(weapon_id);
 8813                        		__ld.umq	_weapon_id
         1E:D4D7  AD 26 23   			lda	_weapon_id
 8814                        		__call		_spr_set.1
         1E:D4DA  20 F1 E7   			call	_spr_set.1
 8815                        	
 8816                        		.dbg	line,	"include\routines_LEVELS.c", 866; spr_y(player_pos_y+8);
 8817                        		__ld.wm		_player_pos_y
         1E:D4DD  AD F7 24   			lda.l	_player_pos_y
         1E:D4E0  AC F8 24   			ldy.h	_player_pos_y
 8818                        		__add.wi	8
         1E:D4E3  18         			clc
         1E:D4E4  69 08      			adc.l	#8
         1E:D4E6  90 01      			bcc	!+
         1E:D4E8  C8         			iny
         1E:D4E9             	!:
 8819                        		__call		_spr_y.1
         1E:D4E9  20 2D E8   			call	_spr_y.1
 8820                        	
 8821                        		.dbg	line,	"include\routines_LEVELS.c", 867; 
 8822                        	
 8823                        		.dbg	line,	"include\routines_LEVELS.c", 868; if(player_axis == AXIS_RIGHT)
 8824                        		__not.um	_player_axis
         1E:D4EC  AD 19 23   			lda	_player_axis
         1E:D4EF  18         			clc
         1E:D4F0  D0 01      			bne	!+
         1E:D4F2  38         			sec
         1E:D4F3             	!:
 8825                        		__bfalse	.LL384
         1E:D4F3  90 12      			bcc	.LL384
 8826                        	
 8827                        		.dbg	line,	"include\routines_LEVELS.c", 869; {
 8828                        	
 8829                        		.dbg	line,	"include\routines_LEVELS.c", 870; spr_x(player_pos_x-5);
 8830                        		__ld.wm		_player_pos_x
         1E:D4F5  AD F5 24   			lda.l	_player_pos_x
         1E:D4F8  AC F6 24   			ldy.h	_player_pos_x
 8831                        		__sub.wi	5
         1E:D4FB  38         			sec
         1E:D4FC  E9 05      			sbc.l	#5
         1E:D4FE  B0 01      			bcs	!+
         1E:D500  88         			dey
         1E:D501             	!:
 8832                        		__call		_spr_x.1
         1E:D501  20 1E E8   			call	_spr_x.1
 8833                        	
 8834                        		.dbg	line,	"include\routines_LEVELS.c", 871; }
 8835                        	
 8836                        		.dbg	line,	"include\routines_LEVELS.c", 873; else
 8837                        		__bra		.LL385
         1E:D504  4C CA D5   			bra	.LL385
 8838    1E:D507             	.LL384:
 8839                        	
 8840                        		.dbg	line,	"include\routines_LEVELS.c", 874; {
 8841                        	
 8842                        		.dbg	line,	"include\routines_LEVELS.c", 875; spr_x(player_pos_x+21);
 8843                        		__ld.wm		_player_pos_x
         1E:D507  AD F5 24   			lda.l	_player_pos_x
         1E:D50A  AC F6 24   			ldy.h	_player_pos_x
 8844                        		__add.wi	21
         1E:D50D  18         			clc
         1E:D50E  69 15      			adc.l	#21
         1E:D510  90 01      			bcc	!+
         1E:D512  C8         			iny
         1E:D513             	!:
 8845                        		__call		_spr_x.1
         1E:D513  20 1E E8   			call	_spr_x.1
 8846                        	
 8847                        		.dbg	line,	"include\routines_LEVELS.c", 876; }
 8848    1E:D516             	.LL385	.alias		.LL386
 8849                        	
 8850                        		.dbg	line,	"include\routines_LEVELS.c", 877; }
 8851                        	
 8852                        		.dbg	line,	"include\routines_LEVELS.c", 878; }
 8853    1E:D516             	.LL383	.alias		.LL386
 8854                        	
 8855                        		.dbg	line,	"include\routines_LEVELS.c", 879; }
 8856    1E:D516             	.LL382	.alias		.LL386
 8857    1E:D516             	.LL381	.alias		.LL386
 8858    1E:D516             	.LL379	.alias		.LL386
 8859                        	
 8860                        		.dbg	line,	"include\routines_LEVELS.c", 880; }
 8861    1E:D516             	.LL377	.alias		.LL386
 8862                        	
 8863                        		.dbg	line,	"include\routines_LEVELS.c", 881; }
 8864    1E:D516             	.LL374	.alias		.LL386
 8865    1E:D516             	.LL373	.alias		.LL386
 8866    1E:D516             	.LL369	.alias		.LL386
 8867                        	
 8868                        		.dbg	line,	"include\routines_LEVELS.c", 883; // ATTACK //
 8869                        	
 8870                        		.dbg	line,	"include\routines_LEVELS.c", 884; else if(joytrg(JOYPAD_1) == JOY_II)
 8871                        		__bra		.LL386
         1E:D516  4C CA D5   			bra	.LL386
 8872    1E:D519             	.LL365:
 8873                        		__ld.uiq	0
         1E:D519  62         			cla
 8874                        		 _joytrg.1
         1E:D51A  AA         			tax
         1E:D51B  BD 2D 22   			lda	joytrg, x
         1E:D51E  BC DD 22   			ldy	joy6trg, x
 8875                        		__equ_w.wi	2
         1E:D521  C9 02      			cmp.l	#2
         1E:D523  D0 04      			bne	!false+
         1E:D525  C0 00      			cpy.h	#2
         1E:D527  F0 01      			beq	!+
         1E:D529  18         	!false:		clc
         1E:D52A             	!:
 8876                        		__bfalse	.LL387
         1E:D52A  B0 03 4C CA			bcc	.LL387
         1E:D52E  D5          
 8877                        	
 8878                        		.dbg	line,	"include\routines_LEVELS.c", 885; {
 8879                        	
 8880                        		.dbg	line,	"include\routines_LEVELS.c", 886; if(player_state == STATE_IDLE || player_state == STATE_WALK)
 8881                        		__not.um	_player_state
         1E:D52F  AD 18 23   			lda	_player_state
         1E:D532  18         			clc
         1E:D533  D0 01      			bne	!+
         1E:D535  38         			sec
         1E:D536             	!:
 8882                        		__btrue		.LL389
         1E:D536  B0 08      			bcs	.LL389
 8883                        		__ld.umq	_player_state
         1E:D538  AD 18 23   			lda	_player_state
 8884                        		__equ_b.uiq	1
         1E:D53B  C9 01      			cmp	#1
         1E:D53D  F0 01      			beq	!+
         1E:D53F  18         			clc
         1E:D540             	!:
 8885    1E:D540             	.LL389:
 8886                        		__bfalse	.LL388
         1E:D540  90 18      			bcc	.LL388
 8887                        	
 8888                        		.dbg	line,	"include\routines_LEVELS.c", 887; {
 8889                        	
 8890                        		.dbg	line,	"include\routines_LEVELS.c", 888; list_chain_active[0] = FALSE;
 8891                        		__st.umiq	0, _list_chain_active
         1E:D542  9C 2A 23   			stz	_list_chain_active
 8892                        	
 8893                        		.dbg	line,	"include\routines_LEVELS.c", 889; list_chain_active[1] = FALSE;
 8894                        		__st.umiq	0, _list_chain_active + 1
         1E:D545  9C 2B 23   			stz	_list_chain_active + 1
 8895                        	
 8896                        		.dbg	line,	"include\routines_LEVELS.c", 890; list_chain_active[2] = FALSE;
 8897                        		__st.umiq	0, _list_chain_active + 2
         1E:D548  9C 2C 23   			stz	_list_chain_active + 2
 8898                        	
 8899                        		.dbg	line,	"include\routines_LEVELS.c", 892; chain_unfold = TRUE;
 8900                        		__st.umiq	1, _chain_unfold
         1E:D54B  A9 01      			lda.l	#1
         1E:D54D  8D 29 23   			sta	_chain_unfold
 8901                        	
 8902                        		.dbg	line,	"include\routines_LEVELS.c", 893; player_counter_attack = 0;
 8903                        		__st.umiq	0, _player_counter_attack
         1E:D550  9C 1E 23   			stz	_player_counter_attack
 8904                        	
 8905                        		.dbg	line,	"include\routines_LEVELS.c", 894; player_state = STATE_ATTACK;
 8906                        		__st.umiq	2, _player_state
         1E:D553  A9 02      			lda.l	#2
         1E:D555  8D 18 23   			sta	_player_state
 8907                        	
 8908                        		.dbg	line,	"include\routines_LEVELS.c", 895; }
 8909                        	
 8910                        		.dbg	line,	"include\routines_LEVELS.c", 897; else if(player_state == STATE_JUMP)
 8911                        		__bra		.LL390
         1E:D558  80 70      			bra	.LL390
 8912    1E:D55A             	.LL388:
 8913                        		__ld.umq	_player_state
         1E:D55A  AD 18 23   			lda	_player_state
 8914                        		__equ_b.uiq	4
         1E:D55D  C9 04      			cmp	#4
         1E:D55F  F0 01      			beq	!+
         1E:D561  18         			clc
         1E:D562             	!:
 8915                        		__bfalse	.LL391
         1E:D562  90 02      			bcc	.LL391
 8916                        	
 8917                        		.dbg	line,	"include\routines_LEVELS.c", 898; {
 8918                        	
 8919                        		.dbg	line,	"include\routines_LEVELS.c", 899; /*if(player_attack == FALSE)
 8920                        	
 8921                        		.dbg	line,	"include\routines_LEVELS.c", 900; {
 8922                        	
 8923                        		.dbg	line,	"include\routines_LEVELS.c", 901; chain_unfold = TRUE;
 8924                        	
 8925                        		.dbg	line,	"include\routines_LEVELS.c", 902; player_counter_attack = 0;
 8926                        	
 8927                        		.dbg	line,	"include\routines_LEVELS.c", 903; player_attack = TRUE;
 8928                        	
 8929                        		.dbg	line,	"include\routines_LEVELS.c", 904; }*/
 8930                        	
 8931                        		.dbg	line,	"include\routines_LEVELS.c", 905; }
 8932                        	
 8933                        		.dbg	line,	"include\routines_LEVELS.c", 907; else if(player_state == STATE_CROUCH)
 8934                        		__bra		.LL392
         1E:D564  80 64      			bra	.LL392
 8935    1E:D566             	.LL391:
 8936                        		__ld.umq	_player_state
         1E:D566  AD 18 23   			lda	_player_state
 8937                        		__equ_b.uiq	7
         1E:D569  C9 07      			cmp	#7
         1E:D56B  F0 01      			beq	!+
         1E:D56D  18         			clc
         1E:D56E             	!:
 8938                        		__bfalse	.LL393
         1E:D56E  90 18      			bcc	.LL393
 8939                        	
 8940                        		.dbg	line,	"include\routines_LEVELS.c", 908; {
 8941                        	
 8942                        		.dbg	line,	"include\routines_LEVELS.c", 909; list_chain_active[0] = FALSE;
 8943                        		__st.umiq	0, _list_chain_active
         1E:D570  9C 2A 23   			stz	_list_chain_active
 8944                        	
 8945                        		.dbg	line,	"include\routines_LEVELS.c", 910; list_chain_active[1] = FALSE;
 8946                        		__st.umiq	0, _list_chain_active + 1
         1E:D573  9C 2B 23   			stz	_list_chain_active + 1
 8947                        	
 8948                        		.dbg	line,	"include\routines_LEVELS.c", 911; list_chain_active[2] = FALSE;
 8949                        		__st.umiq	0, _list_chain_active + 2
         1E:D576  9C 2C 23   			stz	_list_chain_active + 2
 8950                        	
 8951                        		.dbg	line,	"include\routines_LEVELS.c", 913; chain_unfold = TRUE;
 8952                        		__st.umiq	1, _chain_unfold
         1E:D579  A9 01      			lda.l	#1
         1E:D57B  8D 29 23   			sta	_chain_unfold
 8953                        	
 8954                        		.dbg	line,	"include\routines_LEVELS.c", 914; player_counter_attack = 0;
 8955                        		__st.umiq	0, _player_counter_attack
         1E:D57E  9C 1E 23   			stz	_player_counter_attack
 8956                        	
 8957                        		.dbg	line,	"include\routines_LEVELS.c", 915; player_state = STATE_CROUCH_ATTACK;
 8958                        		__st.umiq	8, _player_state
         1E:D581  A9 08      			lda.l	#8
         1E:D583  8D 18 23   			sta	_player_state
 8959                        	
 8960                        		.dbg	line,	"include\routines_LEVELS.c", 916; }
 8961                        	
 8962                        		.dbg	line,	"include\routines_LEVELS.c", 918; else if(player_state == STATE_HANG || player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
 8963                        		__bra		.LL394
         1E:D586  80 42      			bra	.LL394
 8964    1E:D588             	.LL393:
 8965                        		__ld.umq	_player_state
         1E:D588  AD 18 23   			lda	_player_state
 8966                        		__equ_b.uiq	10
         1E:D58B  C9 0A      			cmp	#10
         1E:D58D  F0 01      			beq	!+
         1E:D58F  18         			clc
         1E:D590             	!:
 8967                        		__btrue		.LL396
         1E:D590  B0 08      			bcs	.LL396
 8968                        		__ld.umq	_player_state
         1E:D592  AD 18 23   			lda	_player_state
 8969                        		__equ_b.uiq	11
         1E:D595  C9 0B      			cmp	#11
         1E:D597  F0 01      			beq	!+
         1E:D599  18         			clc
         1E:D59A             	!:
 8970    1E:D59A             	.LL396:
 8971                        		__btrue		.LL397
         1E:D59A  B0 08      			bcs	.LL397
 8972                        		__ld.umq	_player_state
         1E:D59C  AD 18 23   			lda	_player_state
 8973                        		__equ_b.uiq	12
         1E:D59F  C9 0C      			cmp	#12
         1E:D5A1  F0 01      			beq	!+
         1E:D5A3  18         			clc
         1E:D5A4             	!:
 8974    1E:D5A4             	.LL397:
 8975                        		__bfalse	.LL395
         1E:D5A4  90 24      			bcc	.LL395
 8976                        	
 8977                        		.dbg	line,	"include\routines_LEVELS.c", 919; {
 8978                        	
 8979                        		.dbg	line,	"include\routines_LEVELS.c", 920; if(player_attack == FALSE)
 8980                        		__not.um	_player_attack
         1E:D5A6  AD 20 23   			lda	_player_attack
         1E:D5A9  18         			clc
         1E:D5AA  D0 01      			bne	!+
         1E:D5AC  38         			sec
         1E:D5AD             	!:
 8981                        		__bfalse	.LL398
         1E:D5AD  90 1B      			bcc	.LL398
 8982                        	
 8983                        		.dbg	line,	"include\routines_LEVELS.c", 921; {
 8984                        	
 8985                        		.dbg	line,	"include\routines_LEVELS.c", 922; list_chain_active[0] = FALSE;
 8986                        		__st.umiq	0, _list_chain_active
         1E:D5AF  9C 2A 23   			stz	_list_chain_active
 8987                        	
 8988                        		.dbg	line,	"include\routines_LEVELS.c", 923; list_chain_active[1] = FALSE;
 8989                        		__st.umiq	0, _list_chain_active + 1
         1E:D5B2  9C 2B 23   			stz	_list_chain_active + 1
 8990                        	
 8991                        		.dbg	line,	"include\routines_LEVELS.c", 924; list_chain_active[2] = FALSE;
 8992                        		__st.umiq	0, _list_chain_active + 2
         1E:D5B5  9C 2C 23   			stz	_list_chain_active + 2
 8993                        	
 8994                        		.dbg	line,	"include\routines_LEVELS.c", 925; 
 8995                        	
 8996                        		.dbg	line,	"include\routines_LEVELS.c", 926; player_counter_attack = 0;
 8997                        		__st.umiq	0, _player_counter_attack
         1E:D5B8  9C 1E 23   			stz	_player_counter_attack
 8998                        	
 8999                        		.dbg	line,	"include\routines_LEVELS.c", 927; chain_unfold = TRUE;
 9000                        		__st.umiq	1, _chain_unfold
         1E:D5BB  A9 01      			lda.l	#1
         1E:D5BD  8D 29 23   			sta	_chain_unfold
 9001                        	
 9002                        		.dbg	line,	"include\routines_LEVELS.c", 928; player_attack = TRUE;
 9003                        		__st.umiq	1, _player_attack
         1E:D5C0  A9 01      			lda.l	#1
         1E:D5C2  8D 20 23   			sta	_player_attack
 9004                        	
 9005                        		.dbg	line,	"include\routines_LEVELS.c", 929; player_state = STATE_HANG;
 9006                        		__st.umiq	10, _player_state
         1E:D5C5  A9 0A      			lda.l	#10
         1E:D5C7  8D 18 23   			sta	_player_state
 9007                        	
 9008                        		.dbg	line,	"include\routines_LEVELS.c", 930; }
 9009                        	
 9010                        		.dbg	line,	"include\routines_LEVELS.c", 931; }
 9011    1E:D5CA             	.LL398:
 9012                        	
 9013                        		.dbg	line,	"include\routines_LEVELS.c", 932; }
 9014    1E:D5CA             	.LL395:
 9015    1E:D5CA             	.LL394:
 9016    1E:D5CA             	.LL392:
 9017    1E:D5CA             	.LL390:
 9018                        	
 9019                        		.dbg	line,	"include\routines_LEVELS.c", 933; }
 9020    1E:D5CA             	.LL387:
 9021    1E:D5CA             	.LL386:
 9022    1E:D5CA             	.LL364:
 9023                        		__return	0
         1E:D5CA  4C EF FF   			jmp	leave_proc
 9024                        		.dbg	clear
 9025                        		.endp
 9026                        		.pceas
 9027                        	
 9028                        		.dbg	line,	"include\routines_LEVELS.c", 936; void joypad_DIR()
 9029                        		.dbg	line,	"include\routines_LEVELS.c", 937; {
 9030                        	;***********************
 9031                        	;***********************
 9032                        	
 9033                        		.hucc
 9034    02:C000             		.proc		_joypad_DIR
 9035                        		__enter		_joypad_DIR
 9036                        	
 9037                        		.dbg	line,	"include\routines_LEVELS.c", 938; //--------------------------------------------------------------------------------------//
 9038                        	
 9039                        		.dbg	line,	"include\routines_LEVELS.c", 939; //                                        NO DIR                                        //
 9040                        	
 9041                        		.dbg	line,	"include\routines_LEVELS.c", 940; //--------------------------------------------------------------------------------------//
 9042                        	
 9043                        		.dbg	line,	"include\routines_LEVELS.c", 942; if(! (joy(JOYPAD_1) & JOY_DIR_PRESSED) )
 9044                        		__ld.uiq	0
         02:C000  62         			cla
 9045                        		 _joy.1
         02:C001  AA         			tax
         02:C002  BD 28 22   			lda	joynow, x
         02:C005  BC D3 22   			ldy	joy6now, x
 9046                        		__nand.wi	240
         02:C008  18         			clc
         02:C009  29 F0      			and	#240
         02:C00B  D0 01      			bne	!+
         02:C00D  38         			sec
         02:C00E             	!:
 9047                        		__bfalse	.LL400
         02:C00E  90 58      			bcc	.LL400
 9048                        	
 9049                        		.dbg	line,	"include\routines_LEVELS.c", 943; {
 9050                        	
 9051                        		.dbg	line,	"include\routines_LEVELS.c", 944; if(player_state == STATE_WALK || player_state == STATE_CROUCH)
 9052                        		__ld.umq	_player_state
         02:C010  AD 18 23   			lda	_player_state
 9053                        		__equ_b.uiq	1
         02:C013  C9 01      			cmp	#1
         02:C015  F0 01      			beq	!+
         02:C017  18         			clc
         02:C018             	!:
 9054                        		__btrue		.LL402
         02:C018  B0 08      			bcs	.LL402
 9055                        		__ld.umq	_player_state
         02:C01A  AD 18 23   			lda	_player_state
 9056                        		__equ_b.uiq	7
         02:C01D  C9 07      			cmp	#7
         02:C01F  F0 01      			beq	!+
         02:C021  18         			clc
         02:C022             	!:
 9057    02:C022             	.LL402:
 9058                        		__bfalse	.LL401
         02:C022  90 13      			bcc	.LL401
 9059                        	
 9060                        		.dbg	line,	"include\routines_LEVELS.c", 945; {
 9061                        	
 9062                        		.dbg	line,	"include\routines_LEVELS.c", 946; if(player_attack == FALSE)
 9063                        		__not.um	_player_attack
         02:C024  AD 20 23   			lda	_player_attack
         02:C027  18         			clc
         02:C028  D0 01      			bne	!+
         02:C02A  38         			sec
         02:C02B             	!:
 9064                        		__bfalse	.LL403
         02:C02B  90 3B      			bcc	.LL403
 9065                        	
 9066                        		.dbg	line,	"include\routines_LEVELS.c", 947; {
 9067                        	
 9068                        		.dbg	line,	"include\routines_LEVELS.c", 948; player_counter_anim = 1;
 9069                        		__st.umiq	1, _player_counter_anim
         02:C02D  A9 01      			lda.l	#1
         02:C02F  8D 1B 23   			sta	_player_counter_anim
 9070                        	
 9071                        		.dbg	line,	"include\routines_LEVELS.c", 949; player_state = STATE_IDLE;
 9072                        		__st.umiq	0, _player_state
         02:C032  9C 18 23   			stz	_player_state
 9073                        	
 9074                        		.dbg	line,	"include\routines_LEVELS.c", 950; }
 9075                        	
 9076                        		.dbg	line,	"include\routines_LEVELS.c", 951; }
 9077    02:C035             	.LL403	.alias		.LL404
 9078                        	
 9079                        		.dbg	line,	"include\routines_LEVELS.c", 954; else if(player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
 9080                        		__bra		.LL404
         02:C035  80 31      			bra	.LL404
 9081    02:C037             	.LL401:
 9082                        		__ld.umq	_player_state
         02:C037  AD 18 23   			lda	_player_state
 9083                        		__equ_b.uiq	11
         02:C03A  C9 0B      			cmp	#11
         02:C03C  F0 01      			beq	!+
         02:C03E  18         			clc
         02:C03F             	!:
 9084                        		__btrue		.LL406
         02:C03F  B0 08      			bcs	.LL406
 9085                        		__ld.umq	_player_state
         02:C041  AD 18 23   			lda	_player_state
 9086                        		__equ_b.uiq	12
         02:C044  C9 0C      			cmp	#12
         02:C046  F0 01      			beq	!+
         02:C048  18         			clc
         02:C049             	!:
 9087    02:C049             	.LL406:
 9088                        		__bfalse	.LL405
         02:C049  90 1D      			bcc	.LL405
 9089                        	
 9090                        		.dbg	line,	"include\routines_LEVELS.c", 955; {
 9091                        	
 9092                        		.dbg	line,	"include\routines_LEVELS.c", 956; if(player_attack == FALSE)
 9093                        		__not.um	_player_attack
         02:C04B  AD 20 23   			lda	_player_attack
         02:C04E  18         			clc
         02:C04F  D0 01      			bne	!+
         02:C051  38         			sec
         02:C052             	!:
 9094                        		__bfalse	.LL407
         02:C052  90 14      			bcc	.LL407
 9095                        	
 9096                        		.dbg	line,	"include\routines_LEVELS.c", 957; {
 9097                        	
 9098                        		.dbg	line,	"include\routines_LEVELS.c", 958; spr_set(player_id);
 9099                        		__ld.umq	_player_id
         02:C054  AD 17 23   			lda	_player_id
 9100                        		__call		_spr_set.1
         02:C057  20 F1 E7   			call	_spr_set.1
 9101                        	
 9102                        		.dbg	line,	"include\routines_LEVELS.c", 959; spr_pattern(PLAYER_HANG_VRAM_ADR);
 9103                        		__ld.wi		7424
         02:C05A  62         			cla
         02:C05B  A0 1D      			ldy.h	#7424
 9104                        		__call		_spr_pattern.1
         02:C05D  20 3A E8   			call	_spr_pattern.1
 9105                        	
 9106                        		.dbg	line,	"include\routines_LEVELS.c", 960; player_counter_anim = 0;
 9107                        		__st.umiq	0, _player_counter_anim
         02:C060  9C 1B 23   			stz	_player_counter_anim
 9108                        	
 9109                        		.dbg	line,	"include\routines_LEVELS.c", 961; player_state = STATE_HANG;
 9110                        		__st.umiq	10, _player_state
         02:C063  A9 0A      			lda.l	#10
         02:C065  8D 18 23   			sta	_player_state
 9111                        	
 9112                        		.dbg	line,	"include\routines_LEVELS.c", 962; }
 9113                        	
 9114                        		.dbg	line,	"include\routines_LEVELS.c", 963; }
 9115    02:C068             	.LL407:
 9116                        	
 9117                        		.dbg	line,	"include\routines_LEVELS.c", 964; }
 9118    02:C068             	.LL405:
 9119    02:C068             	.LL404:
 9120                        	
 9121                        		.dbg	line,	"include\routines_LEVELS.c", 967; //--------------------------------------------------------------------------------------//
 9122                        	
 9123                        		.dbg	line,	"include\routines_LEVELS.c", 968; //                                     RIGHT BUTTON                                     //
 9124                        	
 9125                        		.dbg	line,	"include\routines_LEVELS.c", 969; //--------------------------------------------------------------------------------------//
 9126                        	
 9127                        		.dbg	line,	"include\routines_LEVELS.c", 971; if(joy(JOYPAD_1) & JOY_RIGHT)
 9128    02:C068             	.LL400:
 9129                        		__ld.uiq	0
         02:C068  62         			cla
 9130                        		 _joy.1
         02:C069  AA         			tax
         02:C06A  BD 28 22   			lda	joynow, x
         02:C06D  BC D3 22   			ldy	joy6now, x
 9131                        		__tand.wi	32
         02:C070  29 20      			and	#32
         02:C072  C9 01      	!:		cmp	#1
 9132                        		__bfalse	.LL408
         02:C074  B0 03 4C 33			bcc	.LL408
         02:C078  C4          
 9133                        	
 9134                        		.dbg	line,	"include\routines_LEVELS.c", 972; {
 9135                        	
 9136                        		.dbg	line,	"include\routines_LEVELS.c", 973; if(player_state == STATE_IDLE || player_state == STATE_WALK)
 9137                        		__not.um	_player_state
         02:C079  AD 18 23   			lda	_player_state
         02:C07C  18         			clc
         02:C07D  D0 01      			bne	!+
         02:C07F  38         			sec
         02:C080             	!:
 9138                        		__btrue		.LL410
         02:C080  B0 08      			bcs	.LL410
 9139                        		__ld.umq	_player_state
         02:C082  AD 18 23   			lda	_player_state
 9140                        		__equ_b.uiq	1
         02:C085  C9 01      			cmp	#1
         02:C087  F0 01      			beq	!+
         02:C089  18         			clc
         02:C08A             	!:
 9141    02:C08A             	.LL410:
 9142                        		__bfalse	.LL409
         02:C08A  B0 03 4C 27			bcc	.LL409
         02:C08E  C1          
 9143                        	
 9144                        		.dbg	line,	"include\routines_LEVELS.c", 974; {
 9145                        	
 9146                        		.dbg	line,	"include\routines_LEVELS.c", 975; player_axis = AXIS_RIGHT;
 9147                        		__st.umiq	0, _player_axis
         02:C08F  9C 19 23   			stz	_player_axis
 9148                        	
 9149                        		.dbg	line,	"include\routines_LEVELS.c", 977; if(player_previous_axis != player_axis)
 9150                        		__ld.umq	_player_previous_axis
         02:C092  AD 1A 23   			lda	_player_previous_axis
 9151                        		__neq_b.umq	_player_axis
         02:C095  38         			sec
         02:C096  4D 19 23   			eor	_player_axis
         02:C099  D0 01      			bne	!+
         02:C09B  18         			clc
         02:C09C             	!:
 9152                        		__bfalse	.LL411
         02:C09C  90 66      			bcc	.LL411
 9153                        	
 9154                        		.dbg	line,	"include\routines_LEVELS.c", 978; {
 9155                        	
 9156                        		.dbg	line,	"include\routines_LEVELS.c", 979; player_previous_axis = player_axis;
 9157                        		__ld.um		_player_axis
         02:C09E  AD 19 23   			lda	_player_axis
         02:C0A1  C2         			cly
 9158                        		__st.umq	_player_previous_axis
         02:C0A2  8D 1A 23   			sta	_player_previous_axis
 9159                        	
 9160                        		.dbg	line,	"include\routines_LEVELS.c", 981; spr_set(player_id);
 9161                        		__ld.umq	_player_id
         02:C0A5  AD 17 23   			lda	_player_id
 9162                        		__call		_spr_set.1
         02:C0A8  20 F1 E7   			call	_spr_set.1
 9163                        	
 9164                        		.dbg	line,	"include\routines_LEVELS.c", 982; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9165                        		__st.umiq	136, _al
         02:C0AB  A9 88      			lda.l	#136
         02:C0AD  85 F8      			sta	_al
 9166                        		__ld.uiq	0
         02:C0AF  62         			cla
 9167                        		__call		_spr_ctrl.2
         02:C0B0  20 50 E8   			call	_spr_ctrl.2
 9168                        	
 9169                        		.dbg	line,	"include\routines_LEVELS.c", 984; spr_set(chain_id);
 9170                        		__ld.umq	_chain_id
         02:C0B3  AD 25 23   			lda	_chain_id
 9171                        		__call		_spr_set.1
         02:C0B6  20 F1 E7   			call	_spr_set.1
 9172                        	
 9173                        		.dbg	line,	"include\routines_LEVELS.c", 985; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9174                        		__st.umiq	136, _al
         02:C0B9  A9 88      			lda.l	#136
         02:C0BB  85 F8      			sta	_al
 9175                        		__ld.uiq	0
         02:C0BD  62         			cla
 9176                        		__call		_spr_ctrl.2
         02:C0BE  20 50 E8   			call	_spr_ctrl.2
 9177                        	
 9178                        		.dbg	line,	"include\routines_LEVELS.c", 987; spr_set(chain_id+1);
 9179                        		__ld.um		_chain_id
         02:C0C1  AD 25 23   			lda	_chain_id
         02:C0C4  C2         			cly
 9180                        		__add.wi	1
         02:C0C5  1A         			inc	a
         02:C0C6  D0 01      			bne	!+
         02:C0C8  C8         			iny
         02:C0C9             	!:
 9181                        		__call		_spr_set.1
         02:C0C9  20 F1 E7   			call	_spr_set.1
 9182                        	
 9183                        		.dbg	line,	"include\routines_LEVELS.c", 988; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9184                        		__st.umiq	136, _al
         02:C0CC  A9 88      			lda.l	#136
         02:C0CE  85 F8      			sta	_al
 9185                        		__ld.uiq	0
         02:C0D0  62         			cla
 9186                        		__call		_spr_ctrl.2
         02:C0D1  20 50 E8   			call	_spr_ctrl.2
 9187                        	
 9188                        		.dbg	line,	"include\routines_LEVELS.c", 990; spr_set(chain_id+2);
 9189                        		__ld.um		_chain_id
         02:C0D4  AD 25 23   			lda	_chain_id
         02:C0D7  C2         			cly
 9190                        		__add.wi	2
         02:C0D8  18         			clc
         02:C0D9  69 02      			adc.l	#2
         02:C0DB  90 01      			bcc	!+
         02:C0DD  C8         			iny
         02:C0DE             	!:
 9191                        		__call		_spr_set.1
         02:C0DE  20 F1 E7   			call	_spr_set.1
 9192                        	
 9193                        		.dbg	line,	"include\routines_LEVELS.c", 991; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9194                        		__st.umiq	136, _al
         02:C0E1  A9 88      			lda.l	#136
         02:C0E3  85 F8      			sta	_al
 9195                        		__ld.uiq	0
         02:C0E5  62         			cla
 9196                        		__call		_spr_ctrl.2
         02:C0E6  20 50 E8   			call	_spr_ctrl.2
 9197                        	
 9198                        		.dbg	line,	"include\routines_LEVELS.c", 993; spr_set(weapon_id);
 9199                        		__ld.umq	_weapon_id
         02:C0E9  AD 26 23   			lda	_weapon_id
 9200                        		__call		_spr_set.1
         02:C0EC  20 F1 E7   			call	_spr_set.1
 9201                        	
 9202                        		.dbg	line,	"include\routines_LEVELS.c", 994; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9203                        		__st.umiq	136, _al
         02:C0EF  A9 88      			lda.l	#136
         02:C0F1  85 F8      			sta	_al
 9204                        		__ld.uiq	0
         02:C0F3  62         			cla
 9205                        		__call		_spr_ctrl.2
         02:C0F4  20 50 E8   			call	_spr_ctrl.2
 9206                        	
 9207                        		.dbg	line,	"include\routines_LEVELS.c", 995; spr_x(player_pos_x+1);
 9208                        		__ld.wm		_player_pos_x
         02:C0F7  AD F5 24   			lda.l	_player_pos_x
         02:C0FA  AC F6 24   			ldy.h	_player_pos_x
 9209                        		__add.wi	1
         02:C0FD  1A         			inc	a
         02:C0FE  D0 01      			bne	!+
         02:C100  C8         			iny
         02:C101             	!:
 9210                        		__call		_spr_x.1
         02:C101  20 1E E8   			call	_spr_x.1
 9211                        	
 9212                        		.dbg	line,	"include\routines_LEVELS.c", 996; }
 9213                        	
 9214                        		.dbg	line,	"include\routines_LEVELS.c", 998; if(joy(JOYPAD_1) & JOY_DOWN)
 9215    02:C104             	.LL411:
 9216                        		__ld.uiq	0
         02:C104  62         			cla
 9217                        		 _joy.1
         02:C105  AA         			tax
         02:C106  BD 28 22   			lda	joynow, x
         02:C109  BC D3 22   			ldy	joy6now, x
 9218                        		__tand.wi	64
         02:C10C  29 40      			and	#64
         02:C10E  C9 01      	!:		cmp	#1
 9219                        		__bfalse	.LL412
         02:C110  90 0D      			bcc	.LL412
 9220                        	
 9221                        		.dbg	line,	"include\routines_LEVELS.c", 999; {
 9222                        	
 9223                        		.dbg	line,	"include\routines_LEVELS.c", 1000; player_counter_anim = 1;
 9224                        		__st.umiq	1, _player_counter_anim
         02:C112  A9 01      			lda.l	#1
         02:C114  8D 1B 23   			sta	_player_counter_anim
 9225                        	
 9226                        		.dbg	line,	"include\routines_LEVELS.c", 1001; player_state = STATE_CROUCH;
 9227                        		__st.umiq	7, _player_state
         02:C117  A9 07      			lda.l	#7
         02:C119  8D 18 23   			sta	_player_state
 9228                        	
 9229                        		.dbg	line,	"include\routines_LEVELS.c", 1002; return;
 9230                        		__bra		.LL399
         02:C11C  4C 5E CA   			bra	.LL399
 9231                        	
 9232                        		.dbg	line,	"include\routines_LEVELS.c", 1003; }
 9233                        	
 9234                        		.dbg	line,	"include\routines_LEVELS.c", 1005; player_state = STATE_WALK;
 9235    02:C11F             	.LL412:
 9236                        		__st.umiq	1, _player_state
         02:C11F  A9 01      			lda.l	#1
         02:C121  8D 18 23   			sta	_player_state
 9237                        	
 9238                        		.dbg	line,	"include\routines_LEVELS.c", 1006; }
 9239                        	
 9240                        		.dbg	line,	"include\routines_LEVELS.c", 1009; else if(player_state == STATE_JUMP)
 9241                        		__bra		.LL413
         02:C124  4C 5E CA   			bra	.LL413
 9242    02:C127             	.LL409:
 9243                        		__ld.umq	_player_state
         02:C127  AD 18 23   			lda	_player_state
 9244                        		__equ_b.uiq	4
         02:C12A  C9 04      			cmp	#4
         02:C12C  F0 01      			beq	!+
         02:C12E  18         			clc
         02:C12F             	!:
 9245                        		__bfalse	.LL414
         02:C12F  B0 03 4C D3			bcc	.LL414
         02:C133  C1          
 9246                        	
 9247                        		.dbg	line,	"include\routines_LEVELS.c", 1010; {
 9248                        	
 9249                        		.dbg	line,	"include\routines_LEVELS.c", 1011; if(player_attack == FALSE)
 9250                        		__not.um	_player_attack
         02:C134  AD 20 23   			lda	_player_attack
         02:C137  18         			clc
         02:C138  D0 01      			bne	!+
         02:C13A  38         			sec
         02:C13B             	!:
 9251                        		__bfalse	.LL415
         02:C13B  B0 03 4C 5E			bcc	.LL415
         02:C13F  CA          
 9252                        	
 9253                        		.dbg	line,	"include\routines_LEVELS.c", 1012; {
 9254                        	
 9255                        		.dbg	line,	"include\routines_LEVELS.c", 1013; if(player_axis == AXIS_LEFT)
 9256                        		__ld.umq	_player_axis
         02:C140  AD 19 23   			lda	_player_axis
 9257                        		__equ_b.uiq	1
         02:C143  C9 01      			cmp	#1
         02:C145  F0 01      			beq	!+
         02:C147  18         			clc
         02:C148             	!:
 9258                        		__bfalse	.LL416
         02:C148  90 6B      			bcc	.LL416
 9259                        	
 9260                        		.dbg	line,	"include\routines_LEVELS.c", 1014; {
 9261                        	
 9262                        		.dbg	line,	"include\routines_LEVELS.c", 1015; player_axis = AXIS_RIGHT;
 9263                        		__st.umiq	0, _player_axis
         02:C14A  9C 19 23   			stz	_player_axis
 9264                        	
 9265                        		.dbg	line,	"include\routines_LEVELS.c", 1016; player_previous_axis = player_axis;
 9266                        		__ld.um		_player_axis
         02:C14D  AD 19 23   			lda	_player_axis
         02:C150  C2         			cly
 9267                        		__st.umq	_player_previous_axis
         02:C151  8D 1A 23   			sta	_player_previous_axis
 9268                        	
 9269                        		.dbg	line,	"include\routines_LEVELS.c", 1018; spr_set(player_id);
 9270                        		__ld.umq	_player_id
         02:C154  AD 17 23   			lda	_player_id
 9271                        		__call		_spr_set.1
         02:C157  20 F1 E7   			call	_spr_set.1
 9272                        	
 9273                        		.dbg	line,	"include\routines_LEVELS.c", 1019; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9274                        		__st.umiq	136, _al
         02:C15A  A9 88      			lda.l	#136
         02:C15C  85 F8      			sta	_al
 9275                        		__ld.uiq	0
         02:C15E  62         			cla
 9276                        		__call		_spr_ctrl.2
         02:C15F  20 50 E8   			call	_spr_ctrl.2
 9277                        	
 9278                        		.dbg	line,	"include\routines_LEVELS.c", 1021; spr_set(chain_id);
 9279                        		__ld.umq	_chain_id
         02:C162  AD 25 23   			lda	_chain_id
 9280                        		__call		_spr_set.1
         02:C165  20 F1 E7   			call	_spr_set.1
 9281                        	
 9282                        		.dbg	line,	"include\routines_LEVELS.c", 1022; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9283                        		__st.umiq	136, _al
         02:C168  A9 88      			lda.l	#136
         02:C16A  85 F8      			sta	_al
 9284                        		__ld.uiq	0
         02:C16C  62         			cla
 9285                        		__call		_spr_ctrl.2
         02:C16D  20 50 E8   			call	_spr_ctrl.2
 9286                        	
 9287                        		.dbg	line,	"include\routines_LEVELS.c", 1024; spr_set(chain_id+1);
 9288                        		__ld.um		_chain_id
         02:C170  AD 25 23   			lda	_chain_id
         02:C173  C2         			cly
 9289                        		__add.wi	1
         02:C174  1A         			inc	a
         02:C175  D0 01      			bne	!+
         02:C177  C8         			iny
         02:C178             	!:
 9290                        		__call		_spr_set.1
         02:C178  20 F1 E7   			call	_spr_set.1
 9291                        	
 9292                        		.dbg	line,	"include\routines_LEVELS.c", 1025; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9293                        		__st.umiq	136, _al
         02:C17B  A9 88      			lda.l	#136
         02:C17D  85 F8      			sta	_al
 9294                        		__ld.uiq	0
         02:C17F  62         			cla
 9295                        		__call		_spr_ctrl.2
         02:C180  20 50 E8   			call	_spr_ctrl.2
 9296                        	
 9297                        		.dbg	line,	"include\routines_LEVELS.c", 1027; spr_set(chain_id+2);
 9298                        		__ld.um		_chain_id
         02:C183  AD 25 23   			lda	_chain_id
         02:C186  C2         			cly
 9299                        		__add.wi	2
         02:C187  18         			clc
         02:C188  69 02      			adc.l	#2
         02:C18A  90 01      			bcc	!+
         02:C18C  C8         			iny
         02:C18D             	!:
 9300                        		__call		_spr_set.1
         02:C18D  20 F1 E7   			call	_spr_set.1
 9301                        	
 9302                        		.dbg	line,	"include\routines_LEVELS.c", 1028; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9303                        		__st.umiq	136, _al
         02:C190  A9 88      			lda.l	#136
         02:C192  85 F8      			sta	_al
 9304                        		__ld.uiq	0
         02:C194  62         			cla
 9305                        		__call		_spr_ctrl.2
         02:C195  20 50 E8   			call	_spr_ctrl.2
 9306                        	
 9307                        		.dbg	line,	"include\routines_LEVELS.c", 1030; spr_set(weapon_id);
 9308                        		__ld.umq	_weapon_id
         02:C198  AD 26 23   			lda	_weapon_id
 9309                        		__call		_spr_set.1
         02:C19B  20 F1 E7   			call	_spr_set.1
 9310                        	
 9311                        		.dbg	line,	"include\routines_LEVELS.c", 1031; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9312                        		__st.umiq	136, _al
         02:C19E  A9 88      			lda.l	#136
         02:C1A0  85 F8      			sta	_al
 9313                        		__ld.uiq	0
         02:C1A2  62         			cla
 9314                        		__call		_spr_ctrl.2
         02:C1A3  20 50 E8   			call	_spr_ctrl.2
 9315                        	
 9316                        		.dbg	line,	"include\routines_LEVELS.c", 1032; spr_x(player_pos_x-5);
 9317                        		__ld.wm		_player_pos_x
         02:C1A6  AD F5 24   			lda.l	_player_pos_x
         02:C1A9  AC F6 24   			ldy.h	_player_pos_x
 9318                        		__sub.wi	5
         02:C1AC  38         			sec
         02:C1AD  E9 05      			sbc.l	#5
         02:C1AF  B0 01      			bcs	!+
         02:C1B1  88         			dey
         02:C1B2             	!:
 9319                        		__call		_spr_x.1
         02:C1B2  20 1E E8   			call	_spr_x.1
 9320                        	
 9321                        		.dbg	line,	"include\routines_LEVELS.c", 1033; }
 9322                        	
 9323                        		.dbg	line,	"include\routines_LEVELS.c", 1035; if(player_index_jump > 11 && player_index_jump < 15)
 9324    02:C1B5             	.LL416:
 9325                        		__ld.umq	_player_index_jump
         02:C1B5  AD 1C 23   			lda	_player_index_jump
 9326                        		__ugt_b.uiq	11
         02:C1B8  18         			clc			; Subtract integer+1 from A.
         02:C1B9  E9 0B      			sbc	#11		; CS if A > integer.
 9327                        		__bfalse	.LL418
         02:C1BB  90 09      			bcc	.LL418
 9328                        		__ld.umq	_player_index_jump
         02:C1BD  AD 1C 23   			lda	_player_index_jump
 9329                        		__ult_b.uiq	15
         02:C1C0  C9 0F      			cmp	#15		; Subtract integer from A.
         02:C1C2  6A         			ror	a		; CC if A < integer.
         02:C1C3  49 80      			eor	#$80
         02:C1C5  2A         			rol	a
 9330    02:C1C6             	.LL418:
 9331                        		__bfalse	.LL417
         02:C1C6  B0 03 4C 5E			bcc	.LL417
         02:C1CA  CA          
 9332                        	
 9333                        		.dbg	line,	"include\routines_LEVELS.c", 1036; {
 9334                        	
 9335                        		.dbg	line,	"include\routines_LEVELS.c", 1037; player_state = STATE_JUMP_RIGHT;                        
 9336                        		__st.umiq	5, _player_state
         02:C1CB  A9 05      			lda.l	#5
         02:C1CD  8D 18 23   			sta	_player_state
 9337                        	
 9338                        		.dbg	line,	"include\routines_LEVELS.c", 1038; }
 9339                        	
 9340                        		.dbg	line,	"include\routines_LEVELS.c", 1039; }
 9341    02:C1D0             	.LL417	.alias		.LL419
 9342                        	
 9343                        		.dbg	line,	"include\routines_LEVELS.c", 1040; }
 9344    02:C1D0             	.LL415	.alias		.LL419
 9345                        	
 9346                        		.dbg	line,	"include\routines_LEVELS.c", 1043; else if(player_state == STATE_JUMP_LEFT)
 9347                        		__bra		.LL419
         02:C1D0  4C 5E CA   			bra	.LL419
 9348    02:C1D3             	.LL414:
 9349                        		__ld.umq	_player_state
         02:C1D3  AD 18 23   			lda	_player_state
 9350                        		__equ_b.uiq	6
         02:C1D6  C9 06      			cmp	#6
         02:C1D8  F0 01      			beq	!+
         02:C1DA  18         			clc
         02:C1DB             	!:
 9351                        		__bfalse	.LL420
         02:C1DB  90 7B      			bcc	.LL420
 9352                        	
 9353                        		.dbg	line,	"include\routines_LEVELS.c", 1044; {
 9354                        	
 9355                        		.dbg	line,	"include\routines_LEVELS.c", 1045; if(player_axis == AXIS_LEFT)
 9356                        		__ld.umq	_player_axis
         02:C1DD  AD 19 23   			lda	_player_axis
 9357                        		__equ_b.uiq	1
         02:C1E0  C9 01      			cmp	#1
         02:C1E2  F0 01      			beq	!+
         02:C1E4  18         			clc
         02:C1E5             	!:
 9358                        		__bfalse	.LL421
         02:C1E5  B0 03 4C 5E			bcc	.LL421
         02:C1E9  CA          
 9359                        	
 9360                        		.dbg	line,	"include\routines_LEVELS.c", 1046; {
 9361                        	
 9362                        		.dbg	line,	"include\routines_LEVELS.c", 1047; player_axis = AXIS_RIGHT;
 9363                        		__st.umiq	0, _player_axis
         02:C1EA  9C 19 23   			stz	_player_axis
 9364                        	
 9365                        		.dbg	line,	"include\routines_LEVELS.c", 1048; player_previous_axis = player_axis;
 9366                        		__ld.um		_player_axis
         02:C1ED  AD 19 23   			lda	_player_axis
         02:C1F0  C2         			cly
 9367                        		__st.umq	_player_previous_axis
         02:C1F1  8D 1A 23   			sta	_player_previous_axis
 9368                        	
 9369                        		.dbg	line,	"include\routines_LEVELS.c", 1050; spr_set(player_id);
 9370                        		__ld.umq	_player_id
         02:C1F4  AD 17 23   			lda	_player_id
 9371                        		__call		_spr_set.1
         02:C1F7  20 F1 E7   			call	_spr_set.1
 9372                        	
 9373                        		.dbg	line,	"include\routines_LEVELS.c", 1051; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9374                        		__st.umiq	136, _al
         02:C1FA  A9 88      			lda.l	#136
         02:C1FC  85 F8      			sta	_al
 9375                        		__ld.uiq	0
         02:C1FE  62         			cla
 9376                        		__call		_spr_ctrl.2
         02:C1FF  20 50 E8   			call	_spr_ctrl.2
 9377                        	
 9378                        		.dbg	line,	"include\routines_LEVELS.c", 1053; spr_set(chain_id);
 9379                        		__ld.umq	_chain_id
         02:C202  AD 25 23   			lda	_chain_id
 9380                        		__call		_spr_set.1
         02:C205  20 F1 E7   			call	_spr_set.1
 9381                        	
 9382                        		.dbg	line,	"include\routines_LEVELS.c", 1054; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9383                        		__st.umiq	136, _al
         02:C208  A9 88      			lda.l	#136
         02:C20A  85 F8      			sta	_al
 9384                        		__ld.uiq	0
         02:C20C  62         			cla
 9385                        		__call		_spr_ctrl.2
         02:C20D  20 50 E8   			call	_spr_ctrl.2
 9386                        	
 9387                        		.dbg	line,	"include\routines_LEVELS.c", 1056; spr_set(chain_id+1);
 9388                        		__ld.um		_chain_id
         02:C210  AD 25 23   			lda	_chain_id
         02:C213  C2         			cly
 9389                        		__add.wi	1
         02:C214  1A         			inc	a
         02:C215  D0 01      			bne	!+
         02:C217  C8         			iny
         02:C218             	!:
 9390                        		__call		_spr_set.1
         02:C218  20 F1 E7   			call	_spr_set.1
 9391                        	
 9392                        		.dbg	line,	"include\routines_LEVELS.c", 1057; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9393                        		__st.umiq	136, _al
         02:C21B  A9 88      			lda.l	#136
         02:C21D  85 F8      			sta	_al
 9394                        		__ld.uiq	0
         02:C21F  62         			cla
 9395                        		__call		_spr_ctrl.2
         02:C220  20 50 E8   			call	_spr_ctrl.2
 9396                        	
 9397                        		.dbg	line,	"include\routines_LEVELS.c", 1059; spr_set(chain_id+2);
 9398                        		__ld.um		_chain_id
         02:C223  AD 25 23   			lda	_chain_id
         02:C226  C2         			cly
 9399                        		__add.wi	2
         02:C227  18         			clc
         02:C228  69 02      			adc.l	#2
         02:C22A  90 01      			bcc	!+
         02:C22C  C8         			iny
         02:C22D             	!:
 9400                        		__call		_spr_set.1
         02:C22D  20 F1 E7   			call	_spr_set.1
 9401                        	
 9402                        		.dbg	line,	"include\routines_LEVELS.c", 1060; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9403                        		__st.umiq	136, _al
         02:C230  A9 88      			lda.l	#136
         02:C232  85 F8      			sta	_al
 9404                        		__ld.uiq	0
         02:C234  62         			cla
 9405                        		__call		_spr_ctrl.2
         02:C235  20 50 E8   			call	_spr_ctrl.2
 9406                        	
 9407                        		.dbg	line,	"include\routines_LEVELS.c", 1062; spr_set(weapon_id);
 9408                        		__ld.umq	_weapon_id
         02:C238  AD 26 23   			lda	_weapon_id
 9409                        		__call		_spr_set.1
         02:C23B  20 F1 E7   			call	_spr_set.1
 9410                        	
 9411                        		.dbg	line,	"include\routines_LEVELS.c", 1063; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9412                        		__st.umiq	136, _al
         02:C23E  A9 88      			lda.l	#136
         02:C240  85 F8      			sta	_al
 9413                        		__ld.uiq	0
         02:C242  62         			cla
 9414                        		__call		_spr_ctrl.2
         02:C243  20 50 E8   			call	_spr_ctrl.2
 9415                        	
 9416                        		.dbg	line,	"include\routines_LEVELS.c", 1064; spr_x(player_pos_x-5);
 9417                        		__ld.wm		_player_pos_x
         02:C246  AD F5 24   			lda.l	_player_pos_x
         02:C249  AC F6 24   			ldy.h	_player_pos_x
 9418                        		__sub.wi	5
         02:C24C  38         			sec
         02:C24D  E9 05      			sbc.l	#5
         02:C24F  B0 01      			bcs	!+
         02:C251  88         			dey
         02:C252             	!:
 9419                        		__call		_spr_x.1
         02:C252  20 1E E8   			call	_spr_x.1
 9420                        	
 9421                        		.dbg	line,	"include\routines_LEVELS.c", 1065; }
 9422                        	
 9423                        		.dbg	line,	"include\routines_LEVELS.c", 1066; }
 9424    02:C255             	.LL421	.alias		.LL422
 9425                        	
 9426                        		.dbg	line,	"include\routines_LEVELS.c", 1069; else if(player_state == STATE_CROUCH)
 9427                        		__bra		.LL422
         02:C255  4C 5E CA   			bra	.LL422
 9428    02:C258             	.LL420:
 9429                        		__ld.umq	_player_state
         02:C258  AD 18 23   			lda	_player_state
 9430                        		__equ_b.uiq	7
         02:C25B  C9 07      			cmp	#7
         02:C25D  F0 01      			beq	!+
         02:C25F  18         			clc
         02:C260             	!:
 9431                        		__bfalse	.LL423
         02:C260  90 7B      			bcc	.LL423
 9432                        	
 9433                        		.dbg	line,	"include\routines_LEVELS.c", 1070; {
 9434                        	
 9435                        		.dbg	line,	"include\routines_LEVELS.c", 1071; if(player_axis == AXIS_LEFT)
 9436                        		__ld.umq	_player_axis
         02:C262  AD 19 23   			lda	_player_axis
 9437                        		__equ_b.uiq	1
         02:C265  C9 01      			cmp	#1
         02:C267  F0 01      			beq	!+
         02:C269  18         			clc
         02:C26A             	!:
 9438                        		__bfalse	.LL424
         02:C26A  B0 03 4C 5E			bcc	.LL424
         02:C26E  CA          
 9439                        	
 9440                        		.dbg	line,	"include\routines_LEVELS.c", 1072; {
 9441                        	
 9442                        		.dbg	line,	"include\routines_LEVELS.c", 1073; player_axis = AXIS_RIGHT;
 9443                        		__st.umiq	0, _player_axis
         02:C26F  9C 19 23   			stz	_player_axis
 9444                        	
 9445                        		.dbg	line,	"include\routines_LEVELS.c", 1074; player_previous_axis = player_axis;
 9446                        		__ld.um		_player_axis
         02:C272  AD 19 23   			lda	_player_axis
         02:C275  C2         			cly
 9447                        		__st.umq	_player_previous_axis
         02:C276  8D 1A 23   			sta	_player_previous_axis
 9448                        	
 9449                        		.dbg	line,	"include\routines_LEVELS.c", 1076; spr_set(player_id);
 9450                        		__ld.umq	_player_id
         02:C279  AD 17 23   			lda	_player_id
 9451                        		__call		_spr_set.1
         02:C27C  20 F1 E7   			call	_spr_set.1
 9452                        	
 9453                        		.dbg	line,	"include\routines_LEVELS.c", 1077; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9454                        		__st.umiq	136, _al
         02:C27F  A9 88      			lda.l	#136
         02:C281  85 F8      			sta	_al
 9455                        		__ld.uiq	0
         02:C283  62         			cla
 9456                        		__call		_spr_ctrl.2
         02:C284  20 50 E8   			call	_spr_ctrl.2
 9457                        	
 9458                        		.dbg	line,	"include\routines_LEVELS.c", 1079; spr_set(chain_id);
 9459                        		__ld.umq	_chain_id
         02:C287  AD 25 23   			lda	_chain_id
 9460                        		__call		_spr_set.1
         02:C28A  20 F1 E7   			call	_spr_set.1
 9461                        	
 9462                        		.dbg	line,	"include\routines_LEVELS.c", 1080; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9463                        		__st.umiq	136, _al
         02:C28D  A9 88      			lda.l	#136
         02:C28F  85 F8      			sta	_al
 9464                        		__ld.uiq	0
         02:C291  62         			cla
 9465                        		__call		_spr_ctrl.2
         02:C292  20 50 E8   			call	_spr_ctrl.2
 9466                        	
 9467                        		.dbg	line,	"include\routines_LEVELS.c", 1082; spr_set(chain_id+1);
 9468                        		__ld.um		_chain_id
         02:C295  AD 25 23   			lda	_chain_id
         02:C298  C2         			cly
 9469                        		__add.wi	1
         02:C299  1A         			inc	a
         02:C29A  D0 01      			bne	!+
         02:C29C  C8         			iny
         02:C29D             	!:
 9470                        		__call		_spr_set.1
         02:C29D  20 F1 E7   			call	_spr_set.1
 9471                        	
 9472                        		.dbg	line,	"include\routines_LEVELS.c", 1083; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9473                        		__st.umiq	136, _al
         02:C2A0  A9 88      			lda.l	#136
         02:C2A2  85 F8      			sta	_al
 9474                        		__ld.uiq	0
         02:C2A4  62         			cla
 9475                        		__call		_spr_ctrl.2
         02:C2A5  20 50 E8   			call	_spr_ctrl.2
 9476                        	
 9477                        		.dbg	line,	"include\routines_LEVELS.c", 1085; spr_set(chain_id+2);
 9478                        		__ld.um		_chain_id
         02:C2A8  AD 25 23   			lda	_chain_id
         02:C2AB  C2         			cly
 9479                        		__add.wi	2
         02:C2AC  18         			clc
         02:C2AD  69 02      			adc.l	#2
         02:C2AF  90 01      			bcc	!+
         02:C2B1  C8         			iny
         02:C2B2             	!:
 9480                        		__call		_spr_set.1
         02:C2B2  20 F1 E7   			call	_spr_set.1
 9481                        	
 9482                        		.dbg	line,	"include\routines_LEVELS.c", 1086; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9483                        		__st.umiq	136, _al
         02:C2B5  A9 88      			lda.l	#136
         02:C2B7  85 F8      			sta	_al
 9484                        		__ld.uiq	0
         02:C2B9  62         			cla
 9485                        		__call		_spr_ctrl.2
         02:C2BA  20 50 E8   			call	_spr_ctrl.2
 9486                        	
 9487                        		.dbg	line,	"include\routines_LEVELS.c", 1088; spr_set(weapon_id);
 9488                        		__ld.umq	_weapon_id
         02:C2BD  AD 26 23   			lda	_weapon_id
 9489                        		__call		_spr_set.1
         02:C2C0  20 F1 E7   			call	_spr_set.1
 9490                        	
 9491                        		.dbg	line,	"include\routines_LEVELS.c", 1089; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9492                        		__st.umiq	136, _al
         02:C2C3  A9 88      			lda.l	#136
         02:C2C5  85 F8      			sta	_al
 9493                        		__ld.uiq	0
         02:C2C7  62         			cla
 9494                        		__call		_spr_ctrl.2
         02:C2C8  20 50 E8   			call	_spr_ctrl.2
 9495                        	
 9496                        		.dbg	line,	"include\routines_LEVELS.c", 1090; spr_x(player_pos_x-1);
 9497                        		__ld.wm		_player_pos_x
         02:C2CB  AD F5 24   			lda.l	_player_pos_x
         02:C2CE  AC F6 24   			ldy.h	_player_pos_x
 9498                        		__sub.wi	1
         02:C2D1  38         			sec
         02:C2D2  E9 01      			sbc.l	#1
         02:C2D4  B0 01      			bcs	!+
         02:C2D6  88         			dey
         02:C2D7             	!:
 9499                        		__call		_spr_x.1
         02:C2D7  20 1E E8   			call	_spr_x.1
 9500                        	
 9501                        		.dbg	line,	"include\routines_LEVELS.c", 1091; }
 9502                        	
 9503                        		.dbg	line,	"include\routines_LEVELS.c", 1092; }
 9504    02:C2DA             	.LL424	.alias		.LL425
 9505                        	
 9506                        		.dbg	line,	"include\routines_LEVELS.c", 1095; else if(player_state == STATE_FALL)
 9507                        		__bra		.LL425
         02:C2DA  4C 5E CA   			bra	.LL425
 9508    02:C2DD             	.LL423:
 9509                        		__ld.umq	_player_state
         02:C2DD  AD 18 23   			lda	_player_state
 9510                        		__equ_b.uiq	9
         02:C2E0  C9 09      			cmp	#9
         02:C2E2  F0 01      			beq	!+
         02:C2E4  18         			clc
         02:C2E5             	!:
 9511                        		__bfalse	.LL426
         02:C2E5  B0 03 4C 71			bcc	.LL426
         02:C2E9  C3          
 9512                        	
 9513                        		.dbg	line,	"include\routines_LEVELS.c", 1096; {
 9514                        	
 9515                        		.dbg	line,	"include\routines_LEVELS.c", 1097; if(player_attack == FALSE)
 9516                        		__not.um	_player_attack
         02:C2EA  AD 20 23   			lda	_player_attack
         02:C2ED  18         			clc
         02:C2EE  D0 01      			bne	!+
         02:C2F0  38         			sec
         02:C2F1             	!:
 9517                        		__bfalse	.LL427
         02:C2F1  B0 03 4C 5E			bcc	.LL427
         02:C2F5  CA          
 9518                        	
 9519                        		.dbg	line,	"include\routines_LEVELS.c", 1098; {
 9520                        	
 9521                        		.dbg	line,	"include\routines_LEVELS.c", 1099; if(player_axis == AXIS_LEFT)
 9522                        		__ld.umq	_player_axis
         02:C2F6  AD 19 23   			lda	_player_axis
 9523                        		__equ_b.uiq	1
         02:C2F9  C9 01      			cmp	#1
         02:C2FB  F0 01      			beq	!+
         02:C2FD  18         			clc
         02:C2FE             	!:
 9524                        		__bfalse	.LL428
         02:C2FE  B0 03 4C 5E			bcc	.LL428
         02:C302  CA          
 9525                        	
 9526                        		.dbg	line,	"include\routines_LEVELS.c", 1100; {
 9527                        	
 9528                        		.dbg	line,	"include\routines_LEVELS.c", 1101; player_axis = AXIS_RIGHT;
 9529                        		__st.umiq	0, _player_axis
         02:C303  9C 19 23   			stz	_player_axis
 9530                        	
 9531                        		.dbg	line,	"include\routines_LEVELS.c", 1102; player_previous_axis = player_axis;
 9532                        		__ld.um		_player_axis
         02:C306  AD 19 23   			lda	_player_axis
         02:C309  C2         			cly
 9533                        		__st.umq	_player_previous_axis
         02:C30A  8D 1A 23   			sta	_player_previous_axis
 9534                        	
 9535                        		.dbg	line,	"include\routines_LEVELS.c", 1104; spr_set(player_id);
 9536                        		__ld.umq	_player_id
         02:C30D  AD 17 23   			lda	_player_id
 9537                        		__call		_spr_set.1
         02:C310  20 F1 E7   			call	_spr_set.1
 9538                        	
 9539                        		.dbg	line,	"include\routines_LEVELS.c", 1105; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9540                        		__st.umiq	136, _al
         02:C313  A9 88      			lda.l	#136
         02:C315  85 F8      			sta	_al
 9541                        		__ld.uiq	0
         02:C317  62         			cla
 9542                        		__call		_spr_ctrl.2
         02:C318  20 50 E8   			call	_spr_ctrl.2
 9543                        	
 9544                        		.dbg	line,	"include\routines_LEVELS.c", 1107; spr_set(chain_id);
 9545                        		__ld.umq	_chain_id
         02:C31B  AD 25 23   			lda	_chain_id
 9546                        		__call		_spr_set.1
         02:C31E  20 F1 E7   			call	_spr_set.1
 9547                        	
 9548                        		.dbg	line,	"include\routines_LEVELS.c", 1108; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9549                        		__st.umiq	136, _al
         02:C321  A9 88      			lda.l	#136
         02:C323  85 F8      			sta	_al
 9550                        		__ld.uiq	0
         02:C325  62         			cla
 9551                        		__call		_spr_ctrl.2
         02:C326  20 50 E8   			call	_spr_ctrl.2
 9552                        	
 9553                        		.dbg	line,	"include\routines_LEVELS.c", 1110; spr_set(chain_id+1);
 9554                        		__ld.um		_chain_id
         02:C329  AD 25 23   			lda	_chain_id
         02:C32C  C2         			cly
 9555                        		__add.wi	1
         02:C32D  1A         			inc	a
         02:C32E  D0 01      			bne	!+
         02:C330  C8         			iny
         02:C331             	!:
 9556                        		__call		_spr_set.1
         02:C331  20 F1 E7   			call	_spr_set.1
 9557                        	
 9558                        		.dbg	line,	"include\routines_LEVELS.c", 1111; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9559                        		__st.umiq	136, _al
         02:C334  A9 88      			lda.l	#136
         02:C336  85 F8      			sta	_al
 9560                        		__ld.uiq	0
         02:C338  62         			cla
 9561                        		__call		_spr_ctrl.2
         02:C339  20 50 E8   			call	_spr_ctrl.2
 9562                        	
 9563                        		.dbg	line,	"include\routines_LEVELS.c", 1113; spr_set(chain_id+2);
 9564                        		__ld.um		_chain_id
         02:C33C  AD 25 23   			lda	_chain_id
         02:C33F  C2         			cly
 9565                        		__add.wi	2
         02:C340  18         			clc
         02:C341  69 02      			adc.l	#2
         02:C343  90 01      			bcc	!+
         02:C345  C8         			iny
         02:C346             	!:
 9566                        		__call		_spr_set.1
         02:C346  20 F1 E7   			call	_spr_set.1
 9567                        	
 9568                        		.dbg	line,	"include\routines_LEVELS.c", 1114; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9569                        		__st.umiq	136, _al
         02:C349  A9 88      			lda.l	#136
         02:C34B  85 F8      			sta	_al
 9570                        		__ld.uiq	0
         02:C34D  62         			cla
 9571                        		__call		_spr_ctrl.2
         02:C34E  20 50 E8   			call	_spr_ctrl.2
 9572                        	
 9573                        		.dbg	line,	"include\routines_LEVELS.c", 1116; spr_set(weapon_id);
 9574                        		__ld.umq	_weapon_id
         02:C351  AD 26 23   			lda	_weapon_id
 9575                        		__call		_spr_set.1
         02:C354  20 F1 E7   			call	_spr_set.1
 9576                        	
 9577                        		.dbg	line,	"include\routines_LEVELS.c", 1117; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9578                        		__st.umiq	136, _al
         02:C357  A9 88      			lda.l	#136
         02:C359  85 F8      			sta	_al
 9579                        		__ld.uiq	0
         02:C35B  62         			cla
 9580                        		__call		_spr_ctrl.2
         02:C35C  20 50 E8   			call	_spr_ctrl.2
 9581                        	
 9582                        		.dbg	line,	"include\routines_LEVELS.c", 1118; spr_x(player_pos_x-4);
 9583                        		__ld.wm		_player_pos_x
         02:C35F  AD F5 24   			lda.l	_player_pos_x
         02:C362  AC F6 24   			ldy.h	_player_pos_x
 9584                        		__sub.wi	4
         02:C365  38         			sec
         02:C366  E9 04      			sbc.l	#4
         02:C368  B0 01      			bcs	!+
         02:C36A  88         			dey
         02:C36B             	!:
 9585                        		__call		_spr_x.1
         02:C36B  20 1E E8   			call	_spr_x.1
 9586                        	
 9587                        		.dbg	line,	"include\routines_LEVELS.c", 1119; }
 9588                        	
 9589                        		.dbg	line,	"include\routines_LEVELS.c", 1120; }
 9590    02:C36E             	.LL428	.alias		.LL429
 9591                        	
 9592                        		.dbg	line,	"include\routines_LEVELS.c", 1121; }
 9593    02:C36E             	.LL427	.alias		.LL429
 9594                        	
 9595                        		.dbg	line,	"include\routines_LEVELS.c", 1124; else if(player_state == STATE_HANG)
 9596                        		__bra		.LL429
         02:C36E  4C 5E CA   			bra	.LL429
 9597    02:C371             	.LL426:
 9598                        		__ld.umq	_player_state
         02:C371  AD 18 23   			lda	_player_state
 9599                        		__equ_b.uiq	10
         02:C374  C9 0A      			cmp	#10
         02:C376  F0 01      			beq	!+
         02:C378  18         			clc
         02:C379             	!:
 9600                        		__bfalse	.LL430
         02:C379  B0 03 4C 05			bcc	.LL430
         02:C37D  C4          
 9601                        	
 9602                        		.dbg	line,	"include\routines_LEVELS.c", 1125; {
 9603                        	
 9604                        		.dbg	line,	"include\routines_LEVELS.c", 1126; if(player_attack == FALSE)
 9605                        		__not.um	_player_attack
         02:C37E  AD 20 23   			lda	_player_attack
         02:C381  18         			clc
         02:C382  D0 01      			bne	!+
         02:C384  38         			sec
         02:C385             	!:
 9606                        		__bfalse	.LL431
         02:C385  B0 03 4C 5E			bcc	.LL431
         02:C389  CA          
 9607                        	
 9608                        		.dbg	line,	"include\routines_LEVELS.c", 1127; {
 9609                        	
 9610                        		.dbg	line,	"include\routines_LEVELS.c", 1128; if(player_axis == AXIS_LEFT)
 9611                        		__ld.umq	_player_axis
         02:C38A  AD 19 23   			lda	_player_axis
 9612                        		__equ_b.uiq	1
         02:C38D  C9 01      			cmp	#1
         02:C38F  F0 01      			beq	!+
         02:C391  18         			clc
         02:C392             	!:
 9613                        		__bfalse	.LL432
         02:C392  B0 03 4C 5E			bcc	.LL432
         02:C396  CA          
 9614                        	
 9615                        		.dbg	line,	"include\routines_LEVELS.c", 1129; {
 9616                        	
 9617                        		.dbg	line,	"include\routines_LEVELS.c", 1130; player_axis = AXIS_RIGHT;
 9618                        		__st.umiq	0, _player_axis
         02:C397  9C 19 23   			stz	_player_axis
 9619                        	
 9620                        		.dbg	line,	"include\routines_LEVELS.c", 1131; player_previous_axis = player_axis;
 9621                        		__ld.um		_player_axis
         02:C39A  AD 19 23   			lda	_player_axis
         02:C39D  C2         			cly
 9622                        		__st.umq	_player_previous_axis
         02:C39E  8D 1A 23   			sta	_player_previous_axis
 9623                        	
 9624                        		.dbg	line,	"include\routines_LEVELS.c", 1133; spr_set(player_id);
 9625                        		__ld.umq	_player_id
         02:C3A1  AD 17 23   			lda	_player_id
 9626                        		__call		_spr_set.1
         02:C3A4  20 F1 E7   			call	_spr_set.1
 9627                        	
 9628                        		.dbg	line,	"include\routines_LEVELS.c", 1134; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9629                        		__st.umiq	136, _al
         02:C3A7  A9 88      			lda.l	#136
         02:C3A9  85 F8      			sta	_al
 9630                        		__ld.uiq	0
         02:C3AB  62         			cla
 9631                        		__call		_spr_ctrl.2
         02:C3AC  20 50 E8   			call	_spr_ctrl.2
 9632                        	
 9633                        		.dbg	line,	"include\routines_LEVELS.c", 1136; spr_set(chain_id);
 9634                        		__ld.umq	_chain_id
         02:C3AF  AD 25 23   			lda	_chain_id
 9635                        		__call		_spr_set.1
         02:C3B2  20 F1 E7   			call	_spr_set.1
 9636                        	
 9637                        		.dbg	line,	"include\routines_LEVELS.c", 1137; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9638                        		__st.umiq	136, _al
         02:C3B5  A9 88      			lda.l	#136
         02:C3B7  85 F8      			sta	_al
 9639                        		__ld.uiq	0
         02:C3B9  62         			cla
 9640                        		__call		_spr_ctrl.2
         02:C3BA  20 50 E8   			call	_spr_ctrl.2
 9641                        	
 9642                        		.dbg	line,	"include\routines_LEVELS.c", 1139; spr_set(chain_id+1);
 9643                        		__ld.um		_chain_id
         02:C3BD  AD 25 23   			lda	_chain_id
         02:C3C0  C2         			cly
 9644                        		__add.wi	1
         02:C3C1  1A         			inc	a
         02:C3C2  D0 01      			bne	!+
         02:C3C4  C8         			iny
         02:C3C5             	!:
 9645                        		__call		_spr_set.1
         02:C3C5  20 F1 E7   			call	_spr_set.1
 9646                        	
 9647                        		.dbg	line,	"include\routines_LEVELS.c", 1140; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9648                        		__st.umiq	136, _al
         02:C3C8  A9 88      			lda.l	#136
         02:C3CA  85 F8      			sta	_al
 9649                        		__ld.uiq	0
         02:C3CC  62         			cla
 9650                        		__call		_spr_ctrl.2
         02:C3CD  20 50 E8   			call	_spr_ctrl.2
 9651                        	
 9652                        		.dbg	line,	"include\routines_LEVELS.c", 1142; spr_set(chain_id+2);
 9653                        		__ld.um		_chain_id
         02:C3D0  AD 25 23   			lda	_chain_id
         02:C3D3  C2         			cly
 9654                        		__add.wi	2
         02:C3D4  18         			clc
         02:C3D5  69 02      			adc.l	#2
         02:C3D7  90 01      			bcc	!+
         02:C3D9  C8         			iny
         02:C3DA             	!:
 9655                        		__call		_spr_set.1
         02:C3DA  20 F1 E7   			call	_spr_set.1
 9656                        	
 9657                        		.dbg	line,	"include\routines_LEVELS.c", 1143; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9658                        		__st.umiq	136, _al
         02:C3DD  A9 88      			lda.l	#136
         02:C3DF  85 F8      			sta	_al
 9659                        		__ld.uiq	0
         02:C3E1  62         			cla
 9660                        		__call		_spr_ctrl.2
         02:C3E2  20 50 E8   			call	_spr_ctrl.2
 9661                        	
 9662                        		.dbg	line,	"include\routines_LEVELS.c", 1145; spr_set(weapon_id);
 9663                        		__ld.umq	_weapon_id
         02:C3E5  AD 26 23   			lda	_weapon_id
 9664                        		__call		_spr_set.1
         02:C3E8  20 F1 E7   			call	_spr_set.1
 9665                        	
 9666                        		.dbg	line,	"include\routines_LEVELS.c", 1146; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9667                        		__st.umiq	136, _al
         02:C3EB  A9 88      			lda.l	#136
         02:C3ED  85 F8      			sta	_al
 9668                        		__ld.uiq	0
         02:C3EF  62         			cla
 9669                        		__call		_spr_ctrl.2
         02:C3F0  20 50 E8   			call	_spr_ctrl.2
 9670                        	
 9671                        		.dbg	line,	"include\routines_LEVELS.c", 1147; spr_x(player_pos_x+17);
 9672                        		__ld.wm		_player_pos_x
         02:C3F3  AD F5 24   			lda.l	_player_pos_x
         02:C3F6  AC F6 24   			ldy.h	_player_pos_x
 9673                        		__add.wi	17
         02:C3F9  18         			clc
         02:C3FA  69 11      			adc.l	#17
         02:C3FC  90 01      			bcc	!+
         02:C3FE  C8         			iny
         02:C3FF             	!:
 9674                        		__call		_spr_x.1
         02:C3FF  20 1E E8   			call	_spr_x.1
 9675                        	
 9676                        		.dbg	line,	"include\routines_LEVELS.c", 1148; }
 9677                        	
 9678                        		.dbg	line,	"include\routines_LEVELS.c", 1149; }
 9679    02:C402             	.LL432	.alias		.LL433
 9680                        	
 9681                        		.dbg	line,	"include\routines_LEVELS.c", 1150; }
 9682    02:C402             	.LL431	.alias		.LL433
 9683                        	
 9684                        		.dbg	line,	"include\routines_LEVELS.c", 1153; else if(player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
 9685                        		__bra		.LL433
         02:C402  4C 5E CA   			bra	.LL433
 9686    02:C405             	.LL430:
 9687                        		__ld.umq	_player_state
         02:C405  AD 18 23   			lda	_player_state
 9688                        		__equ_b.uiq	11
         02:C408  C9 0B      			cmp	#11
         02:C40A  F0 01      			beq	!+
         02:C40C  18         			clc
         02:C40D             	!:
 9689                        		__btrue		.LL435
         02:C40D  B0 08      			bcs	.LL435
 9690                        		__ld.umq	_player_state
         02:C40F  AD 18 23   			lda	_player_state
 9691                        		__equ_b.uiq	12
         02:C412  C9 0C      			cmp	#12
         02:C414  F0 01      			beq	!+
         02:C416  18         			clc
         02:C417             	!:
 9692    02:C417             	.LL435:
 9693                        		__bfalse	.LL434
         02:C417  B0 03 4C 5E			bcc	.LL434
         02:C41B  CA          
 9694                        	
 9695                        		.dbg	line,	"include\routines_LEVELS.c", 1154; {
 9696                        	
 9697                        		.dbg	line,	"include\routines_LEVELS.c", 1155; spr_set(player_id);
 9698                        		__ld.umq	_player_id
         02:C41C  AD 17 23   			lda	_player_id
 9699                        		__call		_spr_set.1
         02:C41F  20 F1 E7   			call	_spr_set.1
 9700                        	
 9701                        		.dbg	line,	"include\routines_LEVELS.c", 1156; spr_pattern(PLAYER_HANG_VRAM_ADR);
 9702                        		__ld.wi		7424
         02:C422  62         			cla
         02:C423  A0 1D      			ldy.h	#7424
 9703                        		__call		_spr_pattern.1
         02:C425  20 3A E8   			call	_spr_pattern.1
 9704                        	
 9705                        		.dbg	line,	"include\routines_LEVELS.c", 1157; player_counter_anim = 0;
 9706                        		__st.umiq	0, _player_counter_anim
         02:C428  9C 1B 23   			stz	_player_counter_anim
 9707                        	
 9708                        		.dbg	line,	"include\routines_LEVELS.c", 1158; player_state = STATE_HANG;
 9709                        		__st.umiq	10, _player_state
         02:C42B  A9 0A      			lda.l	#10
         02:C42D  8D 18 23   			sta	_player_state
 9710                        	
 9711                        		.dbg	line,	"include\routines_LEVELS.c", 1159; }
 9712                        	
 9713                        		.dbg	line,	"include\routines_LEVELS.c", 1160; }
 9714    02:C430             	.LL434	.alias		.LL436
 9715    02:C430             	.LL433	.alias		.LL436
 9716    02:C430             	.LL429	.alias		.LL436
 9717    02:C430             	.LL425	.alias		.LL436
 9718    02:C430             	.LL422	.alias		.LL436
 9719    02:C430             	.LL419	.alias		.LL436
 9720    02:C430             	.LL413	.alias		.LL436
 9721                        	
 9722                        		.dbg	line,	"include\routines_LEVELS.c", 1163; //--------------------------------------------------------------------------------------//
 9723                        	
 9724                        		.dbg	line,	"include\routines_LEVELS.c", 1164; //                                     LEFT BUTTON                                      //
 9725                        	
 9726                        		.dbg	line,	"include\routines_LEVELS.c", 1165; //--------------------------------------------------------------------------------------//
 9727                        	
 9728                        		.dbg	line,	"include\routines_LEVELS.c", 1167; else if(joy(JOYPAD_1) & JOY_LEFT)
 9729                        		__bra		.LL436
         02:C430  4C 5E CA   			bra	.LL436
 9730    02:C433             	.LL408:
 9731                        		__ld.uiq	0
         02:C433  62         			cla
 9732                        		 _joy.1
         02:C434  AA         			tax
         02:C435  BD 28 22   			lda	joynow, x
         02:C438  BC D3 22   			ldy	joy6now, x
 9733                        		__tand.wi	128
         02:C43B  29 80      			and	#128
         02:C43D  C9 01      	!:		cmp	#1
 9734                        		__bfalse	.LL437
         02:C43F  B0 03 4C 07			bcc	.LL437
         02:C443  C8          
 9735                        	
 9736                        		.dbg	line,	"include\routines_LEVELS.c", 1168; {
 9737                        	
 9738                        		.dbg	line,	"include\routines_LEVELS.c", 1169; if(player_state == STATE_IDLE || player_state == STATE_WALK)
 9739                        		__not.um	_player_state
         02:C444  AD 18 23   			lda	_player_state
         02:C447  18         			clc
         02:C448  D0 01      			bne	!+
         02:C44A  38         			sec
         02:C44B             	!:
 9740                        		__btrue		.LL439
         02:C44B  B0 08      			bcs	.LL439
 9741                        		__ld.umq	_player_state
         02:C44D  AD 18 23   			lda	_player_state
 9742                        		__equ_b.uiq	1
         02:C450  C9 01      			cmp	#1
         02:C452  F0 01      			beq	!+
         02:C454  18         			clc
         02:C455             	!:
 9743    02:C455             	.LL439:
 9744                        		__bfalse	.LL438
         02:C455  B0 03 4C FB			bcc	.LL438
         02:C459  C4          
 9745                        	
 9746                        		.dbg	line,	"include\routines_LEVELS.c", 1170; {
 9747                        	
 9748                        		.dbg	line,	"include\routines_LEVELS.c", 1171; player_axis = AXIS_LEFT;
 9749                        		__st.umiq	1, _player_axis
         02:C45A  A9 01      			lda.l	#1
         02:C45C  8D 19 23   			sta	_player_axis
 9750                        	
 9751                        		.dbg	line,	"include\routines_LEVELS.c", 1173; if(player_previous_axis != player_axis)
 9752                        		__ld.umq	_player_previous_axis
         02:C45F  AD 1A 23   			lda	_player_previous_axis
 9753                        		__neq_b.umq	_player_axis
         02:C462  38         			sec
         02:C463  4D 19 23   			eor	_player_axis
         02:C466  D0 01      			bne	!+
         02:C468  18         			clc
         02:C469             	!:
 9754                        		__bfalse	.LL440
         02:C469  90 6D      			bcc	.LL440
 9755                        	
 9756                        		.dbg	line,	"include\routines_LEVELS.c", 1174; {
 9757                        	
 9758                        		.dbg	line,	"include\routines_LEVELS.c", 1175; player_previous_axis = player_axis;
 9759                        		__ld.um		_player_axis
         02:C46B  AD 19 23   			lda	_player_axis
         02:C46E  C2         			cly
 9760                        		__st.umq	_player_previous_axis
         02:C46F  8D 1A 23   			sta	_player_previous_axis
 9761                        	
 9762                        		.dbg	line,	"include\routines_LEVELS.c", 1177; spr_set(player_id);
 9763                        		__ld.umq	_player_id
         02:C472  AD 17 23   			lda	_player_id
 9764                        		__call		_spr_set.1
         02:C475  20 F1 E7   			call	_spr_set.1
 9765                        	
 9766                        		.dbg	line,	"include\routines_LEVELS.c", 1178; spr_ctrl(FLIP_MAS, FLIP_X);
 9767                        		__st.umiq	136, _al
         02:C478  A9 88      			lda.l	#136
         02:C47A  85 F8      			sta	_al
 9768                        		__ld.uiq	8
         02:C47C  A9 08      			lda	#8
 9769                        		__call		_spr_ctrl.2
         02:C47E  20 50 E8   			call	_spr_ctrl.2
 9770                        	
 9771                        		.dbg	line,	"include\routines_LEVELS.c", 1180; spr_set(chain_id);
 9772                        		__ld.umq	_chain_id
         02:C481  AD 25 23   			lda	_chain_id
 9773                        		__call		_spr_set.1
         02:C484  20 F1 E7   			call	_spr_set.1
 9774                        	
 9775                        		.dbg	line,	"include\routines_LEVELS.c", 1181; spr_ctrl(FLIP_MAS, FLIP_X);
 9776                        		__st.umiq	136, _al
         02:C487  A9 88      			lda.l	#136
         02:C489  85 F8      			sta	_al
 9777                        		__ld.uiq	8
         02:C48B  A9 08      			lda	#8
 9778                        		__call		_spr_ctrl.2
         02:C48D  20 50 E8   			call	_spr_ctrl.2
 9779                        	
 9780                        		.dbg	line,	"include\routines_LEVELS.c", 1183; spr_set(chain_id+1);
 9781                        		__ld.um		_chain_id
         02:C490  AD 25 23   			lda	_chain_id
         02:C493  C2         			cly
 9782                        		__add.wi	1
         02:C494  1A         			inc	a
         02:C495  D0 01      			bne	!+
         02:C497  C8         			iny
         02:C498             	!:
 9783                        		__call		_spr_set.1
         02:C498  20 F1 E7   			call	_spr_set.1
 9784                        	
 9785                        		.dbg	line,	"include\routines_LEVELS.c", 1184; spr_ctrl(FLIP_MAS, FLIP_X);
 9786                        		__st.umiq	136, _al
         02:C49B  A9 88      			lda.l	#136
         02:C49D  85 F8      			sta	_al
 9787                        		__ld.uiq	8
         02:C49F  A9 08      			lda	#8
 9788                        		__call		_spr_ctrl.2
         02:C4A1  20 50 E8   			call	_spr_ctrl.2
 9789                        	
 9790                        		.dbg	line,	"include\routines_LEVELS.c", 1186; spr_set(chain_id+2);
 9791                        		__ld.um		_chain_id
         02:C4A4  AD 25 23   			lda	_chain_id
         02:C4A7  C2         			cly
 9792                        		__add.wi	2
         02:C4A8  18         			clc
         02:C4A9  69 02      			adc.l	#2
         02:C4AB  90 01      			bcc	!+
         02:C4AD  C8         			iny
         02:C4AE             	!:
 9793                        		__call		_spr_set.1
         02:C4AE  20 F1 E7   			call	_spr_set.1
 9794                        	
 9795                        		.dbg	line,	"include\routines_LEVELS.c", 1187; spr_ctrl(FLIP_MAS, FLIP_X);
 9796                        		__st.umiq	136, _al
         02:C4B1  A9 88      			lda.l	#136
         02:C4B3  85 F8      			sta	_al
 9797                        		__ld.uiq	8
         02:C4B5  A9 08      			lda	#8
 9798                        		__call		_spr_ctrl.2
         02:C4B7  20 50 E8   			call	_spr_ctrl.2
 9799                        	
 9800                        		.dbg	line,	"include\routines_LEVELS.c", 1189; spr_set(weapon_id);
 9801                        		__ld.umq	_weapon_id
         02:C4BA  AD 26 23   			lda	_weapon_id
 9802                        		__call		_spr_set.1
         02:C4BD  20 F1 E7   			call	_spr_set.1
 9803                        	
 9804                        		.dbg	line,	"include\routines_LEVELS.c", 1190; spr_ctrl(FLIP_MAS, FLIP_X);
 9805                        		__st.umiq	136, _al
         02:C4C0  A9 88      			lda.l	#136
         02:C4C2  85 F8      			sta	_al
 9806                        		__ld.uiq	8
         02:C4C4  A9 08      			lda	#8
 9807                        		__call		_spr_ctrl.2
         02:C4C6  20 50 E8   			call	_spr_ctrl.2
 9808                        	
 9809                        		.dbg	line,	"include\routines_LEVELS.c", 1191; spr_x(player_pos_x+15);
 9810                        		__ld.wm		_player_pos_x
         02:C4C9  AD F5 24   			lda.l	_player_pos_x
         02:C4CC  AC F6 24   			ldy.h	_player_pos_x
 9811                        		__add.wi	15
         02:C4CF  18         			clc
         02:C4D0  69 0F      			adc.l	#15
         02:C4D2  90 01      			bcc	!+
         02:C4D4  C8         			iny
         02:C4D5             	!:
 9812                        		__call		_spr_x.1
         02:C4D5  20 1E E8   			call	_spr_x.1
 9813                        	
 9814                        		.dbg	line,	"include\routines_LEVELS.c", 1192; }
 9815                        	
 9816                        		.dbg	line,	"include\routines_LEVELS.c", 1194; if(joy(JOYPAD_1) & JOY_DOWN)
 9817    02:C4D8             	.LL440:
 9818                        		__ld.uiq	0
         02:C4D8  62         			cla
 9819                        		 _joy.1
         02:C4D9  AA         			tax
         02:C4DA  BD 28 22   			lda	joynow, x
         02:C4DD  BC D3 22   			ldy	joy6now, x
 9820                        		__tand.wi	64
         02:C4E0  29 40      			and	#64
         02:C4E2  C9 01      	!:		cmp	#1
 9821                        		__bfalse	.LL441
         02:C4E4  90 0D      			bcc	.LL441
 9822                        	
 9823                        		.dbg	line,	"include\routines_LEVELS.c", 1195; {
 9824                        	
 9825                        		.dbg	line,	"include\routines_LEVELS.c", 1196; player_counter_anim = 1;
 9826                        		__st.umiq	1, _player_counter_anim
         02:C4E6  A9 01      			lda.l	#1
         02:C4E8  8D 1B 23   			sta	_player_counter_anim
 9827                        	
 9828                        		.dbg	line,	"include\routines_LEVELS.c", 1197; player_state = STATE_CROUCH;
 9829                        		__st.umiq	7, _player_state
         02:C4EB  A9 07      			lda.l	#7
         02:C4ED  8D 18 23   			sta	_player_state
 9830                        	
 9831                        		.dbg	line,	"include\routines_LEVELS.c", 1198; return;
 9832                        		__bra		.LL399
         02:C4F0  4C 5E CA   			bra	.LL399
 9833                        	
 9834                        		.dbg	line,	"include\routines_LEVELS.c", 1199; }
 9835                        	
 9836                        		.dbg	line,	"include\routines_LEVELS.c", 1201; player_state = STATE_WALK;
 9837    02:C4F3             	.LL441:
 9838                        		__st.umiq	1, _player_state
         02:C4F3  A9 01      			lda.l	#1
         02:C4F5  8D 18 23   			sta	_player_state
 9839                        	
 9840                        		.dbg	line,	"include\routines_LEVELS.c", 1202; }
 9841                        	
 9842                        		.dbg	line,	"include\routines_LEVELS.c", 1205; else if(player_state == STATE_JUMP)
 9843                        		__bra		.LL442
         02:C4F8  4C 5E CA   			bra	.LL442
 9844    02:C4FB             	.LL438:
 9845                        		__ld.umq	_player_state
         02:C4FB  AD 18 23   			lda	_player_state
 9846                        		__equ_b.uiq	4
         02:C4FE  C9 04      			cmp	#4
         02:C500  F0 01      			beq	!+
         02:C502  18         			clc
         02:C503             	!:
 9847                        		__bfalse	.LL443
         02:C503  B0 03 4C A1			bcc	.LL443
         02:C507  C5          
 9848                        	
 9849                        		.dbg	line,	"include\routines_LEVELS.c", 1206; {
 9850                        	
 9851                        		.dbg	line,	"include\routines_LEVELS.c", 1207; if(player_axis == AXIS_RIGHT)
 9852                        		__not.um	_player_axis
         02:C508  AD 19 23   			lda	_player_axis
         02:C50B  18         			clc
         02:C50C  D0 01      			bne	!+
         02:C50E  38         			sec
         02:C50F             	!:
 9853                        		__bfalse	.LL444
         02:C50F  90 72      			bcc	.LL444
 9854                        	
 9855                        		.dbg	line,	"include\routines_LEVELS.c", 1208; {
 9856                        	
 9857                        		.dbg	line,	"include\routines_LEVELS.c", 1209; player_axis = AXIS_LEFT;
 9858                        		__st.umiq	1, _player_axis
         02:C511  A9 01      			lda.l	#1
         02:C513  8D 19 23   			sta	_player_axis
 9859                        	
 9860                        		.dbg	line,	"include\routines_LEVELS.c", 1210; player_previous_axis = player_axis;
 9861                        		__ld.um		_player_axis
         02:C516  AD 19 23   			lda	_player_axis
         02:C519  C2         			cly
 9862                        		__st.umq	_player_previous_axis
         02:C51A  8D 1A 23   			sta	_player_previous_axis
 9863                        	
 9864                        		.dbg	line,	"include\routines_LEVELS.c", 1212; spr_set(player_id);
 9865                        		__ld.umq	_player_id
         02:C51D  AD 17 23   			lda	_player_id
 9866                        		__call		_spr_set.1
         02:C520  20 F1 E7   			call	_spr_set.1
 9867                        	
 9868                        		.dbg	line,	"include\routines_LEVELS.c", 1213; spr_ctrl(FLIP_MAS, FLIP_X);
 9869                        		__st.umiq	136, _al
         02:C523  A9 88      			lda.l	#136
         02:C525  85 F8      			sta	_al
 9870                        		__ld.uiq	8
         02:C527  A9 08      			lda	#8
 9871                        		__call		_spr_ctrl.2
         02:C529  20 50 E8   			call	_spr_ctrl.2
 9872                        	
 9873                        		.dbg	line,	"include\routines_LEVELS.c", 1215; spr_set(chain_id);
 9874                        		__ld.umq	_chain_id
         02:C52C  AD 25 23   			lda	_chain_id
 9875                        		__call		_spr_set.1
         02:C52F  20 F1 E7   			call	_spr_set.1
 9876                        	
 9877                        		.dbg	line,	"include\routines_LEVELS.c", 1216; spr_ctrl(FLIP_MAS, FLIP_X);
 9878                        		__st.umiq	136, _al
         02:C532  A9 88      			lda.l	#136
         02:C534  85 F8      			sta	_al
 9879                        		__ld.uiq	8
         02:C536  A9 08      			lda	#8
 9880                        		__call		_spr_ctrl.2
         02:C538  20 50 E8   			call	_spr_ctrl.2
 9881                        	
 9882                        		.dbg	line,	"include\routines_LEVELS.c", 1218; spr_set(chain_id+1);
 9883                        		__ld.um		_chain_id
         02:C53B  AD 25 23   			lda	_chain_id
         02:C53E  C2         			cly
 9884                        		__add.wi	1
         02:C53F  1A         			inc	a
         02:C540  D0 01      			bne	!+
         02:C542  C8         			iny
         02:C543             	!:
 9885                        		__call		_spr_set.1
         02:C543  20 F1 E7   			call	_spr_set.1
 9886                        	
 9887                        		.dbg	line,	"include\routines_LEVELS.c", 1219; spr_ctrl(FLIP_MAS, FLIP_X);
 9888                        		__st.umiq	136, _al
         02:C546  A9 88      			lda.l	#136
         02:C548  85 F8      			sta	_al
 9889                        		__ld.uiq	8
         02:C54A  A9 08      			lda	#8
 9890                        		__call		_spr_ctrl.2
         02:C54C  20 50 E8   			call	_spr_ctrl.2
 9891                        	
 9892                        		.dbg	line,	"include\routines_LEVELS.c", 1221; spr_set(chain_id+2);
 9893                        		__ld.um		_chain_id
         02:C54F  AD 25 23   			lda	_chain_id
         02:C552  C2         			cly
 9894                        		__add.wi	2
         02:C553  18         			clc
         02:C554  69 02      			adc.l	#2
         02:C556  90 01      			bcc	!+
         02:C558  C8         			iny
         02:C559             	!:
 9895                        		__call		_spr_set.1
         02:C559  20 F1 E7   			call	_spr_set.1
 9896                        	
 9897                        		.dbg	line,	"include\routines_LEVELS.c", 1222; spr_ctrl(FLIP_MAS, FLIP_X);
 9898                        		__st.umiq	136, _al
         02:C55C  A9 88      			lda.l	#136
         02:C55E  85 F8      			sta	_al
 9899                        		__ld.uiq	8
         02:C560  A9 08      			lda	#8
 9900                        		__call		_spr_ctrl.2
         02:C562  20 50 E8   			call	_spr_ctrl.2
 9901                        	
 9902                        		.dbg	line,	"include\routines_LEVELS.c", 1224; spr_set(weapon_id);
 9903                        		__ld.umq	_weapon_id
         02:C565  AD 26 23   			lda	_weapon_id
 9904                        		__call		_spr_set.1
         02:C568  20 F1 E7   			call	_spr_set.1
 9905                        	
 9906                        		.dbg	line,	"include\routines_LEVELS.c", 1225; spr_ctrl(FLIP_MAS, FLIP_X);
 9907                        		__st.umiq	136, _al
         02:C56B  A9 88      			lda.l	#136
         02:C56D  85 F8      			sta	_al
 9908                        		__ld.uiq	8
         02:C56F  A9 08      			lda	#8
 9909                        		__call		_spr_ctrl.2
         02:C571  20 50 E8   			call	_spr_ctrl.2
 9910                        	
 9911                        		.dbg	line,	"include\routines_LEVELS.c", 1226; spr_x(player_pos_x+21);
 9912                        		__ld.wm		_player_pos_x
         02:C574  AD F5 24   			lda.l	_player_pos_x
         02:C577  AC F6 24   			ldy.h	_player_pos_x
 9913                        		__add.wi	21
         02:C57A  18         			clc
         02:C57B  69 15      			adc.l	#21
         02:C57D  90 01      			bcc	!+
         02:C57F  C8         			iny
         02:C580             	!:
 9914                        		__call		_spr_x.1
         02:C580  20 1E E8   			call	_spr_x.1
 9915                        	
 9916                        		.dbg	line,	"include\routines_LEVELS.c", 1227; }
 9917                        	
 9918                        		.dbg	line,	"include\routines_LEVELS.c", 1229; if(player_index_jump > 11 && player_index_jump < 15)
 9919    02:C583             	.LL444:
 9920                        		__ld.umq	_player_index_jump
         02:C583  AD 1C 23   			lda	_player_index_jump
 9921                        		__ugt_b.uiq	11
         02:C586  18         			clc			; Subtract integer+1 from A.
         02:C587  E9 0B      			sbc	#11		; CS if A > integer.
 9922                        		__bfalse	.LL446
         02:C589  90 09      			bcc	.LL446
 9923                        		__ld.umq	_player_index_jump
         02:C58B  AD 1C 23   			lda	_player_index_jump
 9924                        		__ult_b.uiq	15
         02:C58E  C9 0F      			cmp	#15		; Subtract integer from A.
         02:C590  6A         			ror	a		; CC if A < integer.
         02:C591  49 80      			eor	#$80
         02:C593  2A         			rol	a
 9925    02:C594             	.LL446:
 9926                        		__bfalse	.LL445
         02:C594  B0 03 4C 5E			bcc	.LL445
         02:C598  CA          
 9927                        	
 9928                        		.dbg	line,	"include\routines_LEVELS.c", 1230; {
 9929                        	
 9930                        		.dbg	line,	"include\routines_LEVELS.c", 1231; player_state = STATE_JUMP_LEFT;                        
 9931                        		__st.umiq	6, _player_state
         02:C599  A9 06      			lda.l	#6
         02:C59B  8D 18 23   			sta	_player_state
 9932                        	
 9933                        		.dbg	line,	"include\routines_LEVELS.c", 1232; }
 9934                        	
 9935                        		.dbg	line,	"include\routines_LEVELS.c", 1233; }
 9936    02:C59E             	.LL445	.alias		.LL447
 9937                        	
 9938                        		.dbg	line,	"include\routines_LEVELS.c", 1236; else if(player_state == STATE_JUMP_RIGHT)
 9939                        		__bra		.LL447
         02:C59E  4C 5E CA   			bra	.LL447
 9940    02:C5A1             	.LL443:
 9941                        		__ld.umq	_player_state
         02:C5A1  AD 18 23   			lda	_player_state
 9942                        		__equ_b.uiq	5
         02:C5A4  C9 05      			cmp	#5
         02:C5A6  F0 01      			beq	!+
         02:C5A8  18         			clc
         02:C5A9             	!:
 9943                        		__bfalse	.LL448
         02:C5A9  B0 03 4C 2F			bcc	.LL448
         02:C5AD  C6          
 9944                        	
 9945                        		.dbg	line,	"include\routines_LEVELS.c", 1237; {
 9946                        	
 9947                        		.dbg	line,	"include\routines_LEVELS.c", 1238; if(player_axis == AXIS_RIGHT)
 9948                        		__not.um	_player_axis
         02:C5AE  AD 19 23   			lda	_player_axis
         02:C5B1  18         			clc
         02:C5B2  D0 01      			bne	!+
         02:C5B4  38         			sec
         02:C5B5             	!:
 9949                        		__bfalse	.LL449
         02:C5B5  B0 03 4C 5E			bcc	.LL449
         02:C5B9  CA          
 9950                        	
 9951                        		.dbg	line,	"include\routines_LEVELS.c", 1239; {
 9952                        	
 9953                        		.dbg	line,	"include\routines_LEVELS.c", 1240; player_axis = AXIS_LEFT;
 9954                        		__st.umiq	1, _player_axis
         02:C5BA  A9 01      			lda.l	#1
         02:C5BC  8D 19 23   			sta	_player_axis
 9955                        	
 9956                        		.dbg	line,	"include\routines_LEVELS.c", 1241; player_previous_axis = player_axis;
 9957                        		__ld.um		_player_axis
         02:C5BF  AD 19 23   			lda	_player_axis
         02:C5C2  C2         			cly
 9958                        		__st.umq	_player_previous_axis
         02:C5C3  8D 1A 23   			sta	_player_previous_axis
 9959                        	
 9960                        		.dbg	line,	"include\routines_LEVELS.c", 1243; spr_set(player_id);
 9961                        		__ld.umq	_player_id
         02:C5C6  AD 17 23   			lda	_player_id
 9962                        		__call		_spr_set.1
         02:C5C9  20 F1 E7   			call	_spr_set.1
 9963                        	
 9964                        		.dbg	line,	"include\routines_LEVELS.c", 1244; spr_ctrl(FLIP_MAS, FLIP_X);
 9965                        		__st.umiq	136, _al
         02:C5CC  A9 88      			lda.l	#136
         02:C5CE  85 F8      			sta	_al
 9966                        		__ld.uiq	8
         02:C5D0  A9 08      			lda	#8
 9967                        		__call		_spr_ctrl.2
         02:C5D2  20 50 E8   			call	_spr_ctrl.2
 9968                        	
 9969                        		.dbg	line,	"include\routines_LEVELS.c", 1246; spr_set(chain_id);
 9970                        		__ld.umq	_chain_id
         02:C5D5  AD 25 23   			lda	_chain_id
 9971                        		__call		_spr_set.1
         02:C5D8  20 F1 E7   			call	_spr_set.1
 9972                        	
 9973                        		.dbg	line,	"include\routines_LEVELS.c", 1247; spr_ctrl(FLIP_MAS, FLIP_X);
 9974                        		__st.umiq	136, _al
         02:C5DB  A9 88      			lda.l	#136
         02:C5DD  85 F8      			sta	_al
 9975                        		__ld.uiq	8
         02:C5DF  A9 08      			lda	#8
 9976                        		__call		_spr_ctrl.2
         02:C5E1  20 50 E8   			call	_spr_ctrl.2
 9977                        	
 9978                        		.dbg	line,	"include\routines_LEVELS.c", 1249; spr_set(chain_id+1);
 9979                        		__ld.um		_chain_id
         02:C5E4  AD 25 23   			lda	_chain_id
         02:C5E7  C2         			cly
 9980                        		__add.wi	1
         02:C5E8  1A         			inc	a
         02:C5E9  D0 01      			bne	!+
         02:C5EB  C8         			iny
         02:C5EC             	!:
 9981                        		__call		_spr_set.1
         02:C5EC  20 F1 E7   			call	_spr_set.1
 9982                        	
 9983                        		.dbg	line,	"include\routines_LEVELS.c", 1250; spr_ctrl(FLIP_MAS, FLIP_X);
 9984                        		__st.umiq	136, _al
         02:C5EF  A9 88      			lda.l	#136
         02:C5F1  85 F8      			sta	_al
 9985                        		__ld.uiq	8
         02:C5F3  A9 08      			lda	#8
 9986                        		__call		_spr_ctrl.2
         02:C5F5  20 50 E8   			call	_spr_ctrl.2
 9987                        	
 9988                        		.dbg	line,	"include\routines_LEVELS.c", 1252; spr_set(chain_id+2);
 9989                        		__ld.um		_chain_id
         02:C5F8  AD 25 23   			lda	_chain_id
         02:C5FB  C2         			cly
 9990                        		__add.wi	2
         02:C5FC  18         			clc
         02:C5FD  69 02      			adc.l	#2
         02:C5FF  90 01      			bcc	!+
         02:C601  C8         			iny
         02:C602             	!:
 9991                        		__call		_spr_set.1
         02:C602  20 F1 E7   			call	_spr_set.1
 9992                        	
 9993                        		.dbg	line,	"include\routines_LEVELS.c", 1253; spr_ctrl(FLIP_MAS, FLIP_X);
 9994                        		__st.umiq	136, _al
         02:C605  A9 88      			lda.l	#136
         02:C607  85 F8      			sta	_al
 9995                        		__ld.uiq	8
         02:C609  A9 08      			lda	#8
 9996                        		__call		_spr_ctrl.2
         02:C60B  20 50 E8   			call	_spr_ctrl.2
 9997                        	
 9998                        		.dbg	line,	"include\routines_LEVELS.c", 1255; spr_set(weapon_id);
 9999                        		__ld.umq	_weapon_id
         02:C60E  AD 26 23   			lda	_weapon_id
10000                        		__call		_spr_set.1
         02:C611  20 F1 E7   			call	_spr_set.1
10001                        	
10002                        		.dbg	line,	"include\routines_LEVELS.c", 1256; spr_ctrl(FLIP_MAS, FLIP_X);
10003                        		__st.umiq	136, _al
         02:C614  A9 88      			lda.l	#136
         02:C616  85 F8      			sta	_al
10004                        		__ld.uiq	8
         02:C618  A9 08      			lda	#8
10005                        		__call		_spr_ctrl.2
         02:C61A  20 50 E8   			call	_spr_ctrl.2
10006                        	
10007                        		.dbg	line,	"include\routines_LEVELS.c", 1257; spr_x(player_pos_x+21);
10008                        		__ld.wm		_player_pos_x
         02:C61D  AD F5 24   			lda.l	_player_pos_x
         02:C620  AC F6 24   			ldy.h	_player_pos_x
10009                        		__add.wi	21
         02:C623  18         			clc
         02:C624  69 15      			adc.l	#21
         02:C626  90 01      			bcc	!+
         02:C628  C8         			iny
         02:C629             	!:
10010                        		__call		_spr_x.1
         02:C629  20 1E E8   			call	_spr_x.1
10011                        	
10012                        		.dbg	line,	"include\routines_LEVELS.c", 1258; }
10013                        	
10014                        		.dbg	line,	"include\routines_LEVELS.c", 1259; }
10015    02:C62C             	.LL449	.alias		.LL450
10016                        	
10017                        		.dbg	line,	"include\routines_LEVELS.c", 1262; else if(player_state == STATE_CROUCH)
10018                        		__bra		.LL450
         02:C62C  4C 5E CA   			bra	.LL450
10019    02:C62F             	.LL448:
10020                        		__ld.umq	_player_state
         02:C62F  AD 18 23   			lda	_player_state
10021                        		__equ_b.uiq	7
         02:C632  C9 07      			cmp	#7
         02:C634  F0 01      			beq	!+
         02:C636  18         			clc
         02:C637             	!:
10022                        		__bfalse	.LL451
         02:C637  B0 03 4C BD			bcc	.LL451
         02:C63B  C6          
10023                        	
10024                        		.dbg	line,	"include\routines_LEVELS.c", 1263; {
10025                        	
10026                        		.dbg	line,	"include\routines_LEVELS.c", 1264; if(player_axis == AXIS_RIGHT)
10027                        		__not.um	_player_axis
         02:C63C  AD 19 23   			lda	_player_axis
         02:C63F  18         			clc
         02:C640  D0 01      			bne	!+
         02:C642  38         			sec
         02:C643             	!:
10028                        		__bfalse	.LL452
         02:C643  B0 03 4C 5E			bcc	.LL452
         02:C647  CA          
10029                        	
10030                        		.dbg	line,	"include\routines_LEVELS.c", 1265; {
10031                        	
10032                        		.dbg	line,	"include\routines_LEVELS.c", 1266; player_axis = AXIS_LEFT;
10033                        		__st.umiq	1, _player_axis
         02:C648  A9 01      			lda.l	#1
         02:C64A  8D 19 23   			sta	_player_axis
10034                        	
10035                        		.dbg	line,	"include\routines_LEVELS.c", 1267; player_previous_axis = player_axis;
10036                        		__ld.um		_player_axis
         02:C64D  AD 19 23   			lda	_player_axis
         02:C650  C2         			cly
10037                        		__st.umq	_player_previous_axis
         02:C651  8D 1A 23   			sta	_player_previous_axis
10038                        	
10039                        		.dbg	line,	"include\routines_LEVELS.c", 1269; spr_set(player_id);
10040                        		__ld.umq	_player_id
         02:C654  AD 17 23   			lda	_player_id
10041                        		__call		_spr_set.1
         02:C657  20 F1 E7   			call	_spr_set.1
10042                        	
10043                        		.dbg	line,	"include\routines_LEVELS.c", 1270; spr_ctrl(FLIP_MAS, FLIP_X);
10044                        		__st.umiq	136, _al
         02:C65A  A9 88      			lda.l	#136
         02:C65C  85 F8      			sta	_al
10045                        		__ld.uiq	8
         02:C65E  A9 08      			lda	#8
10046                        		__call		_spr_ctrl.2
         02:C660  20 50 E8   			call	_spr_ctrl.2
10047                        	
10048                        		.dbg	line,	"include\routines_LEVELS.c", 1272; spr_set(chain_id);
10049                        		__ld.umq	_chain_id
         02:C663  AD 25 23   			lda	_chain_id
10050                        		__call		_spr_set.1
         02:C666  20 F1 E7   			call	_spr_set.1
10051                        	
10052                        		.dbg	line,	"include\routines_LEVELS.c", 1273; spr_ctrl(FLIP_MAS, FLIP_X);
10053                        		__st.umiq	136, _al
         02:C669  A9 88      			lda.l	#136
         02:C66B  85 F8      			sta	_al
10054                        		__ld.uiq	8
         02:C66D  A9 08      			lda	#8
10055                        		__call		_spr_ctrl.2
         02:C66F  20 50 E8   			call	_spr_ctrl.2
10056                        	
10057                        		.dbg	line,	"include\routines_LEVELS.c", 1275; spr_set(chain_id+1);
10058                        		__ld.um		_chain_id
         02:C672  AD 25 23   			lda	_chain_id
         02:C675  C2         			cly
10059                        		__add.wi	1
         02:C676  1A         			inc	a
         02:C677  D0 01      			bne	!+
         02:C679  C8         			iny
         02:C67A             	!:
10060                        		__call		_spr_set.1
         02:C67A  20 F1 E7   			call	_spr_set.1
10061                        	
10062                        		.dbg	line,	"include\routines_LEVELS.c", 1276; spr_ctrl(FLIP_MAS, FLIP_X);
10063                        		__st.umiq	136, _al
         02:C67D  A9 88      			lda.l	#136
         02:C67F  85 F8      			sta	_al
10064                        		__ld.uiq	8
         02:C681  A9 08      			lda	#8
10065                        		__call		_spr_ctrl.2
         02:C683  20 50 E8   			call	_spr_ctrl.2
10066                        	
10067                        		.dbg	line,	"include\routines_LEVELS.c", 1278; spr_set(chain_id+2);
10068                        		__ld.um		_chain_id
         02:C686  AD 25 23   			lda	_chain_id
         02:C689  C2         			cly
10069                        		__add.wi	2
         02:C68A  18         			clc
         02:C68B  69 02      			adc.l	#2
         02:C68D  90 01      			bcc	!+
         02:C68F  C8         			iny
         02:C690             	!:
10070                        		__call		_spr_set.1
         02:C690  20 F1 E7   			call	_spr_set.1
10071                        	
10072                        		.dbg	line,	"include\routines_LEVELS.c", 1279; spr_ctrl(FLIP_MAS, FLIP_X);
10073                        		__st.umiq	136, _al
         02:C693  A9 88      			lda.l	#136
         02:C695  85 F8      			sta	_al
10074                        		__ld.uiq	8
         02:C697  A9 08      			lda	#8
10075                        		__call		_spr_ctrl.2
         02:C699  20 50 E8   			call	_spr_ctrl.2
10076                        	
10077                        		.dbg	line,	"include\routines_LEVELS.c", 1281; spr_set(weapon_id);
10078                        		__ld.umq	_weapon_id
         02:C69C  AD 26 23   			lda	_weapon_id
10079                        		__call		_spr_set.1
         02:C69F  20 F1 E7   			call	_spr_set.1
10080                        	
10081                        		.dbg	line,	"include\routines_LEVELS.c", 1282; spr_ctrl(FLIP_MAS, FLIP_X);
10082                        		__st.umiq	136, _al
         02:C6A2  A9 88      			lda.l	#136
         02:C6A4  85 F8      			sta	_al
10083                        		__ld.uiq	8
         02:C6A6  A9 08      			lda	#8
10084                        		__call		_spr_ctrl.2
         02:C6A8  20 50 E8   			call	_spr_ctrl.2
10085                        	
10086                        		.dbg	line,	"include\routines_LEVELS.c", 1283; spr_x(player_pos_x+17);
10087                        		__ld.wm		_player_pos_x
         02:C6AB  AD F5 24   			lda.l	_player_pos_x
         02:C6AE  AC F6 24   			ldy.h	_player_pos_x
10088                        		__add.wi	17
         02:C6B1  18         			clc
         02:C6B2  69 11      			adc.l	#17
         02:C6B4  90 01      			bcc	!+
         02:C6B6  C8         			iny
         02:C6B7             	!:
10089                        		__call		_spr_x.1
         02:C6B7  20 1E E8   			call	_spr_x.1
10090                        	
10091                        		.dbg	line,	"include\routines_LEVELS.c", 1284; }
10092                        	
10093                        		.dbg	line,	"include\routines_LEVELS.c", 1285; }
10094    02:C6BA             	.LL452	.alias		.LL453
10095                        	
10096                        		.dbg	line,	"include\routines_LEVELS.c", 1288; else if(player_state == STATE_FALL)
10097                        		__bra		.LL453
         02:C6BA  4C 5E CA   			bra	.LL453
10098    02:C6BD             	.LL451:
10099                        		__ld.umq	_player_state
         02:C6BD  AD 18 23   			lda	_player_state
10100                        		__equ_b.uiq	9
         02:C6C0  C9 09      			cmp	#9
         02:C6C2  F0 01      			beq	!+
         02:C6C4  18         			clc
         02:C6C5             	!:
10101                        		__bfalse	.LL454
         02:C6C5  B0 03 4C 4B			bcc	.LL454
         02:C6C9  C7          
10102                        	
10103                        		.dbg	line,	"include\routines_LEVELS.c", 1289; {
10104                        	
10105                        		.dbg	line,	"include\routines_LEVELS.c", 1290; if(player_axis == AXIS_RIGHT)
10106                        		__not.um	_player_axis
         02:C6CA  AD 19 23   			lda	_player_axis
         02:C6CD  18         			clc
         02:C6CE  D0 01      			bne	!+
         02:C6D0  38         			sec
         02:C6D1             	!:
10107                        		__bfalse	.LL455
         02:C6D1  B0 03 4C 5E			bcc	.LL455
         02:C6D5  CA          
10108                        	
10109                        		.dbg	line,	"include\routines_LEVELS.c", 1291; {
10110                        	
10111                        		.dbg	line,	"include\routines_LEVELS.c", 1292; player_axis = AXIS_LEFT;
10112                        		__st.umiq	1, _player_axis
         02:C6D6  A9 01      			lda.l	#1
         02:C6D8  8D 19 23   			sta	_player_axis
10113                        	
10114                        		.dbg	line,	"include\routines_LEVELS.c", 1293; player_previous_axis = player_axis;
10115                        		__ld.um		_player_axis
         02:C6DB  AD 19 23   			lda	_player_axis
         02:C6DE  C2         			cly
10116                        		__st.umq	_player_previous_axis
         02:C6DF  8D 1A 23   			sta	_player_previous_axis
10117                        	
10118                        		.dbg	line,	"include\routines_LEVELS.c", 1295; spr_set(player_id);
10119                        		__ld.umq	_player_id
         02:C6E2  AD 17 23   			lda	_player_id
10120                        		__call		_spr_set.1
         02:C6E5  20 F1 E7   			call	_spr_set.1
10121                        	
10122                        		.dbg	line,	"include\routines_LEVELS.c", 1296; spr_ctrl(FLIP_MAS, FLIP_X);
10123                        		__st.umiq	136, _al
         02:C6E8  A9 88      			lda.l	#136
         02:C6EA  85 F8      			sta	_al
10124                        		__ld.uiq	8
         02:C6EC  A9 08      			lda	#8
10125                        		__call		_spr_ctrl.2
         02:C6EE  20 50 E8   			call	_spr_ctrl.2
10126                        	
10127                        		.dbg	line,	"include\routines_LEVELS.c", 1298; spr_set(chain_id);
10128                        		__ld.umq	_chain_id
         02:C6F1  AD 25 23   			lda	_chain_id
10129                        		__call		_spr_set.1
         02:C6F4  20 F1 E7   			call	_spr_set.1
10130                        	
10131                        		.dbg	line,	"include\routines_LEVELS.c", 1299; spr_ctrl(FLIP_MAS, FLIP_X);
10132                        		__st.umiq	136, _al
         02:C6F7  A9 88      			lda.l	#136
         02:C6F9  85 F8      			sta	_al
10133                        		__ld.uiq	8
         02:C6FB  A9 08      			lda	#8
10134                        		__call		_spr_ctrl.2
         02:C6FD  20 50 E8   			call	_spr_ctrl.2
10135                        	
10136                        		.dbg	line,	"include\routines_LEVELS.c", 1301; spr_set(chain_id+1);
10137                        		__ld.um		_chain_id
         02:C700  AD 25 23   			lda	_chain_id
         02:C703  C2         			cly
10138                        		__add.wi	1
         02:C704  1A         			inc	a
         02:C705  D0 01      			bne	!+
         02:C707  C8         			iny
         02:C708             	!:
10139                        		__call		_spr_set.1
         02:C708  20 F1 E7   			call	_spr_set.1
10140                        	
10141                        		.dbg	line,	"include\routines_LEVELS.c", 1302; spr_ctrl(FLIP_MAS, FLIP_X);
10142                        		__st.umiq	136, _al
         02:C70B  A9 88      			lda.l	#136
         02:C70D  85 F8      			sta	_al
10143                        		__ld.uiq	8
         02:C70F  A9 08      			lda	#8
10144                        		__call		_spr_ctrl.2
         02:C711  20 50 E8   			call	_spr_ctrl.2
10145                        	
10146                        		.dbg	line,	"include\routines_LEVELS.c", 1304; spr_set(chain_id+2);
10147                        		__ld.um		_chain_id
         02:C714  AD 25 23   			lda	_chain_id
         02:C717  C2         			cly
10148                        		__add.wi	2
         02:C718  18         			clc
         02:C719  69 02      			adc.l	#2
         02:C71B  90 01      			bcc	!+
         02:C71D  C8         			iny
         02:C71E             	!:
10149                        		__call		_spr_set.1
         02:C71E  20 F1 E7   			call	_spr_set.1
10150                        	
10151                        		.dbg	line,	"include\routines_LEVELS.c", 1305; spr_ctrl(FLIP_MAS, FLIP_X);
10152                        		__st.umiq	136, _al
         02:C721  A9 88      			lda.l	#136
         02:C723  85 F8      			sta	_al
10153                        		__ld.uiq	8
         02:C725  A9 08      			lda	#8
10154                        		__call		_spr_ctrl.2
         02:C727  20 50 E8   			call	_spr_ctrl.2
10155                        	
10156                        		.dbg	line,	"include\routines_LEVELS.c", 1307; spr_set(weapon_id);
10157                        		__ld.umq	_weapon_id
         02:C72A  AD 26 23   			lda	_weapon_id
10158                        		__call		_spr_set.1
         02:C72D  20 F1 E7   			call	_spr_set.1
10159                        	
10160                        		.dbg	line,	"include\routines_LEVELS.c", 1308; spr_ctrl(FLIP_MAS, FLIP_X);
10161                        		__st.umiq	136, _al
         02:C730  A9 88      			lda.l	#136
         02:C732  85 F8      			sta	_al
10162                        		__ld.uiq	8
         02:C734  A9 08      			lda	#8
10163                        		__call		_spr_ctrl.2
         02:C736  20 50 E8   			call	_spr_ctrl.2
10164                        	
10165                        		.dbg	line,	"include\routines_LEVELS.c", 1309; spr_x(player_pos_x+20);
10166                        		__ld.wm		_player_pos_x
         02:C739  AD F5 24   			lda.l	_player_pos_x
         02:C73C  AC F6 24   			ldy.h	_player_pos_x
10167                        		__add.wi	20
         02:C73F  18         			clc
         02:C740  69 14      			adc.l	#20
         02:C742  90 01      			bcc	!+
         02:C744  C8         			iny
         02:C745             	!:
10168                        		__call		_spr_x.1
         02:C745  20 1E E8   			call	_spr_x.1
10169                        	
10170                        		.dbg	line,	"include\routines_LEVELS.c", 1310; }
10171                        	
10172                        		.dbg	line,	"include\routines_LEVELS.c", 1311; }
10173    02:C748             	.LL455	.alias		.LL456
10174                        	
10175                        		.dbg	line,	"include\routines_LEVELS.c", 1313; 
10176                        	
10177                        		.dbg	line,	"include\routines_LEVELS.c", 1314; else if(player_state == STATE_HANG)
10178                        		__bra		.LL456
         02:C748  4C 5E CA   			bra	.LL456
10179    02:C74B             	.LL454:
10180                        		__ld.umq	_player_state
         02:C74B  AD 18 23   			lda	_player_state
10181                        		__equ_b.uiq	10
         02:C74E  C9 0A      			cmp	#10
         02:C750  F0 01      			beq	!+
         02:C752  18         			clc
         02:C753             	!:
10182                        		__bfalse	.LL457
         02:C753  B0 03 4C D9			bcc	.LL457
         02:C757  C7          
10183                        	
10184                        		.dbg	line,	"include\routines_LEVELS.c", 1315; {
10185                        	
10186                        		.dbg	line,	"include\routines_LEVELS.c", 1316; if(player_axis == AXIS_RIGHT)
10187                        		__not.um	_player_axis
         02:C758  AD 19 23   			lda	_player_axis
         02:C75B  18         			clc
         02:C75C  D0 01      			bne	!+
         02:C75E  38         			sec
         02:C75F             	!:
10188                        		__bfalse	.LL458
         02:C75F  B0 03 4C 5E			bcc	.LL458
         02:C763  CA          
10189                        	
10190                        		.dbg	line,	"include\routines_LEVELS.c", 1317; {
10191                        	
10192                        		.dbg	line,	"include\routines_LEVELS.c", 1318; player_axis = AXIS_LEFT;
10193                        		__st.umiq	1, _player_axis
         02:C764  A9 01      			lda.l	#1
         02:C766  8D 19 23   			sta	_player_axis
10194                        	
10195                        		.dbg	line,	"include\routines_LEVELS.c", 1319; player_previous_axis = player_axis;
10196                        		__ld.um		_player_axis
         02:C769  AD 19 23   			lda	_player_axis
         02:C76C  C2         			cly
10197                        		__st.umq	_player_previous_axis
         02:C76D  8D 1A 23   			sta	_player_previous_axis
10198                        	
10199                        		.dbg	line,	"include\routines_LEVELS.c", 1321; spr_set(player_id);
10200                        		__ld.umq	_player_id
         02:C770  AD 17 23   			lda	_player_id
10201                        		__call		_spr_set.1
         02:C773  20 F1 E7   			call	_spr_set.1
10202                        	
10203                        		.dbg	line,	"include\routines_LEVELS.c", 1322; spr_ctrl(FLIP_MAS, FLIP_X);
10204                        		__st.umiq	136, _al
         02:C776  A9 88      			lda.l	#136
         02:C778  85 F8      			sta	_al
10205                        		__ld.uiq	8
         02:C77A  A9 08      			lda	#8
10206                        		__call		_spr_ctrl.2
         02:C77C  20 50 E8   			call	_spr_ctrl.2
10207                        	
10208                        		.dbg	line,	"include\routines_LEVELS.c", 1324; spr_set(chain_id);
10209                        		__ld.umq	_chain_id
         02:C77F  AD 25 23   			lda	_chain_id
10210                        		__call		_spr_set.1
         02:C782  20 F1 E7   			call	_spr_set.1
10211                        	
10212                        		.dbg	line,	"include\routines_LEVELS.c", 1325; spr_ctrl(FLIP_MAS, FLIP_X);
10213                        		__st.umiq	136, _al
         02:C785  A9 88      			lda.l	#136
         02:C787  85 F8      			sta	_al
10214                        		__ld.uiq	8
         02:C789  A9 08      			lda	#8
10215                        		__call		_spr_ctrl.2
         02:C78B  20 50 E8   			call	_spr_ctrl.2
10216                        	
10217                        		.dbg	line,	"include\routines_LEVELS.c", 1327; spr_set(chain_id+1);
10218                        		__ld.um		_chain_id
         02:C78E  AD 25 23   			lda	_chain_id
         02:C791  C2         			cly
10219                        		__add.wi	1
         02:C792  1A         			inc	a
         02:C793  D0 01      			bne	!+
         02:C795  C8         			iny
         02:C796             	!:
10220                        		__call		_spr_set.1
         02:C796  20 F1 E7   			call	_spr_set.1
10221                        	
10222                        		.dbg	line,	"include\routines_LEVELS.c", 1328; spr_ctrl(FLIP_MAS, FLIP_X);
10223                        		__st.umiq	136, _al
         02:C799  A9 88      			lda.l	#136
         02:C79B  85 F8      			sta	_al
10224                        		__ld.uiq	8
         02:C79D  A9 08      			lda	#8
10225                        		__call		_spr_ctrl.2
         02:C79F  20 50 E8   			call	_spr_ctrl.2
10226                        	
10227                        		.dbg	line,	"include\routines_LEVELS.c", 1330; spr_set(chain_id+2);
10228                        		__ld.um		_chain_id
         02:C7A2  AD 25 23   			lda	_chain_id
         02:C7A5  C2         			cly
10229                        		__add.wi	2
         02:C7A6  18         			clc
         02:C7A7  69 02      			adc.l	#2
         02:C7A9  90 01      			bcc	!+
         02:C7AB  C8         			iny
         02:C7AC             	!:
10230                        		__call		_spr_set.1
         02:C7AC  20 F1 E7   			call	_spr_set.1
10231                        	
10232                        		.dbg	line,	"include\routines_LEVELS.c", 1331; spr_ctrl(FLIP_MAS, FLIP_X);
10233                        		__st.umiq	136, _al
         02:C7AF  A9 88      			lda.l	#136
         02:C7B1  85 F8      			sta	_al
10234                        		__ld.uiq	8
         02:C7B3  A9 08      			lda	#8
10235                        		__call		_spr_ctrl.2
         02:C7B5  20 50 E8   			call	_spr_ctrl.2
10236                        	
10237                        		.dbg	line,	"include\routines_LEVELS.c", 1333; spr_set(weapon_id);
10238                        		__ld.umq	_weapon_id
         02:C7B8  AD 26 23   			lda	_weapon_id
10239                        		__call		_spr_set.1
         02:C7BB  20 F1 E7   			call	_spr_set.1
10240                        	
10241                        		.dbg	line,	"include\routines_LEVELS.c", 1334; spr_ctrl(FLIP_MAS, FLIP_X);
10242                        		__st.umiq	136, _al
         02:C7BE  A9 88      			lda.l	#136
         02:C7C0  85 F8      			sta	_al
10243                        		__ld.uiq	8
         02:C7C2  A9 08      			lda	#8
10244                        		__call		_spr_ctrl.2
         02:C7C4  20 50 E8   			call	_spr_ctrl.2
10245                        	
10246                        		.dbg	line,	"include\routines_LEVELS.c", 1335; spr_x(player_pos_x-2);
10247                        		__ld.wm		_player_pos_x
         02:C7C7  AD F5 24   			lda.l	_player_pos_x
         02:C7CA  AC F6 24   			ldy.h	_player_pos_x
10248                        		__sub.wi	2
         02:C7CD  38         			sec
         02:C7CE  E9 02      			sbc.l	#2
         02:C7D0  B0 01      			bcs	!+
         02:C7D2  88         			dey
         02:C7D3             	!:
10249                        		__call		_spr_x.1
         02:C7D3  20 1E E8   			call	_spr_x.1
10250                        	
10251                        		.dbg	line,	"include\routines_LEVELS.c", 1336; }
10252                        	
10253                        		.dbg	line,	"include\routines_LEVELS.c", 1337; }
10254    02:C7D6             	.LL458	.alias		.LL459
10255                        	
10256                        		.dbg	line,	"include\routines_LEVELS.c", 1340; else if(player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
10257                        		__bra		.LL459
         02:C7D6  4C 5E CA   			bra	.LL459
10258    02:C7D9             	.LL457:
10259                        		__ld.umq	_player_state
         02:C7D9  AD 18 23   			lda	_player_state
10260                        		__equ_b.uiq	11
         02:C7DC  C9 0B      			cmp	#11
         02:C7DE  F0 01      			beq	!+
         02:C7E0  18         			clc
         02:C7E1             	!:
10261                        		__btrue		.LL461
         02:C7E1  B0 08      			bcs	.LL461
10262                        		__ld.umq	_player_state
         02:C7E3  AD 18 23   			lda	_player_state
10263                        		__equ_b.uiq	12
         02:C7E6  C9 0C      			cmp	#12
         02:C7E8  F0 01      			beq	!+
         02:C7EA  18         			clc
         02:C7EB             	!:
10264    02:C7EB             	.LL461:
10265                        		__bfalse	.LL460
         02:C7EB  B0 03 4C 5E			bcc	.LL460
         02:C7EF  CA          
10266                        	
10267                        		.dbg	line,	"include\routines_LEVELS.c", 1341; {
10268                        	
10269                        		.dbg	line,	"include\routines_LEVELS.c", 1342; spr_set(player_id);
10270                        		__ld.umq	_player_id
         02:C7F0  AD 17 23   			lda	_player_id
10271                        		__call		_spr_set.1
         02:C7F3  20 F1 E7   			call	_spr_set.1
10272                        	
10273                        		.dbg	line,	"include\routines_LEVELS.c", 1343; spr_pattern(PLAYER_HANG_VRAM_ADR);
10274                        		__ld.wi		7424
         02:C7F6  62         			cla
         02:C7F7  A0 1D      			ldy.h	#7424
10275                        		__call		_spr_pattern.1
         02:C7F9  20 3A E8   			call	_spr_pattern.1
10276                        	
10277                        		.dbg	line,	"include\routines_LEVELS.c", 1344; player_counter_anim = 0;
10278                        		__st.umiq	0, _player_counter_anim
         02:C7FC  9C 1B 23   			stz	_player_counter_anim
10279                        	
10280                        		.dbg	line,	"include\routines_LEVELS.c", 1345; player_state = STATE_HANG;
10281                        		__st.umiq	10, _player_state
         02:C7FF  A9 0A      			lda.l	#10
         02:C801  8D 18 23   			sta	_player_state
10282                        	
10283                        		.dbg	line,	"include\routines_LEVELS.c", 1346; }
10284                        	
10285                        		.dbg	line,	"include\routines_LEVELS.c", 1347; }
10286    02:C804             	.LL460	.alias		.LL462
10287    02:C804             	.LL459	.alias		.LL462
10288    02:C804             	.LL456	.alias		.LL462
10289    02:C804             	.LL453	.alias		.LL462
10290    02:C804             	.LL450	.alias		.LL462
10291    02:C804             	.LL447	.alias		.LL462
10292    02:C804             	.LL442	.alias		.LL462
10293                        	
10294                        		.dbg	line,	"include\routines_LEVELS.c", 1350; //--------------------------------------------------------------------------------------//
10295                        	
10296                        		.dbg	line,	"include\routines_LEVELS.c", 1351; //                                      UP BUTTON                                       //
10297                        	
10298                        		.dbg	line,	"include\routines_LEVELS.c", 1352; //--------------------------------------------------------------------------------------//
10299                        	
10300                        		.dbg	line,	"include\routines_LEVELS.c", 1354; else if(joy(JOYPAD_1) & JOY_UP)
10301                        		__bra		.LL462
         02:C804  4C 5E CA   			bra	.LL462
10302    02:C807             	.LL437:
10303                        		__ld.uiq	0
         02:C807  62         			cla
10304                        		 _joy.1
         02:C808  AA         			tax
         02:C809  BD 28 22   			lda	joynow, x
         02:C80C  BC D3 22   			ldy	joy6now, x
10305                        		__tand.wi	16
         02:C80F  29 10      			and	#16
         02:C811  C9 01      	!:		cmp	#1
10306                        		__bfalse	.LL463
         02:C813  B0 03 4C F1			bcc	.LL463
         02:C817  C8          
10307                        	
10308                        		.dbg	line,	"include\routines_LEVELS.c", 1355; {
10309                        	
10310                        		.dbg	line,	"include\routines_LEVELS.c", 1356; if(player_state == STATE_HANG || player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
10311                        		__ld.umq	_player_state
         02:C818  AD 18 23   			lda	_player_state
10312                        		__equ_b.uiq	10
         02:C81B  C9 0A      			cmp	#10
         02:C81D  F0 01      			beq	!+
         02:C81F  18         			clc
         02:C820             	!:
10313                        		__btrue		.LL465
         02:C820  B0 08      			bcs	.LL465
10314                        		__ld.umq	_player_state
         02:C822  AD 18 23   			lda	_player_state
10315                        		__equ_b.uiq	11
         02:C825  C9 0B      			cmp	#11
         02:C827  F0 01      			beq	!+
         02:C829  18         			clc
         02:C82A             	!:
10316    02:C82A             	.LL465:
10317                        		__btrue		.LL466
         02:C82A  B0 08      			bcs	.LL466
10318                        		__ld.umq	_player_state
         02:C82C  AD 18 23   			lda	_player_state
10319                        		__equ_b.uiq	12
         02:C82F  C9 0C      			cmp	#12
         02:C831  F0 01      			beq	!+
         02:C833  18         			clc
         02:C834             	!:
10320    02:C834             	.LL466:
10321                        		__bfalse	.LL464
         02:C834  B0 03 4C 5E			bcc	.LL464
         02:C838  CA          
10322                        	
10323                        		.dbg	line,	"include\routines_LEVELS.c", 1357; {
10324                        	
10325                        		.dbg	line,	"include\routines_LEVELS.c", 1358; if(player_attack == FALSE)
10326                        		__not.um	_player_attack
         02:C839  AD 20 23   			lda	_player_attack
         02:C83C  18         			clc
         02:C83D  D0 01      			bne	!+
         02:C83F  38         			sec
         02:C840             	!:
10327                        		__bfalse	.LL467
         02:C840  B0 03 4C 5E			bcc	.LL467
         02:C844  CA          
10328                        	
10329                        		.dbg	line,	"include\routines_LEVELS.c", 1359; {
10330                        	
10331                        		.dbg	line,	"include\routines_LEVELS.c", 1360; unsigned char i;
10332                        	
10333                        		.dbg	line,	"include\routines_LEVELS.c", 1362; collision_PLAYER_BG( 15 , 8 );
10334                        		__ld.wi		15
         02:C845  A9 0F      			lda.l	#15
         02:C847  C2         			cly
10335                        		__pusharg.wr
         02:C848  A6 8D      			ldx	<__sp
         02:C84A  CA         			dex
         02:C84B  CA         			dex
         02:C84C  95 08      			sta.l	<__stack, x
         02:C84E  94 09      			sty.h	<__stack, x
         02:C850  86 8D      			stx	<__sp
10336                        		__ld.wi		8
         02:C852  A9 08      			lda.l	#8
         02:C854  C2         			cly
10337                        		__pusharg.wr
         02:C855  A6 8D      			ldx	<__sp
         02:C857  CA         			dex
         02:C858  CA         			dex
         02:C859  95 08      			sta.l	<__stack, x
         02:C85B  94 09      			sty.h	<__stack, x
         02:C85D  86 8D      			stx	<__sp
10338                        		__call		_collision_PLAYER_BG
         02:C85F  20 27 FF   			call	_collision_PLAYER_BG
10339                        	
10340                        		.dbg	line,	"include\routines_LEVELS.c", 1364; if(map_blk_flag == TILE_EMPTY)
10341                        		__not.um	_map_blk_flag
         02:C862  AD F9 2B   			lda	_map_blk_flag
         02:C865  18         			clc
         02:C866  D0 01      			bne	!+
         02:C868  38         			sec
         02:C869             	!:
10342                        		__bfalse	.LL468
         02:C869  90 67      			bcc	.LL468
10343                        	
10344                        		.dbg	line,	"include\routines_LEVELS.c", 1365; {
10345                        	
10346                        		.dbg	line,	"include\routines_LEVELS.c", 1366; for(i=1 ; i<3 ; i++)
10347                        		__st.umiq	1, __joypad_DIR_end - 1  /* i */
         02:C86B  A9 01      			lda.l	#1
         02:C86D  8D 04 23   			sta	__joypad_DIR_end - 1
10348    02:C870             	.LL469:
10349                        		__ld.umq	__joypad_DIR_end - 1  /* i */
         02:C870  AD 04 23   			lda	__joypad_DIR_end - 1
10350                        		__ult_b.uiq	3
         02:C873  C9 03      			cmp	#3		; Subtract integer from A.
         02:C875  6A         			ror	a		; CC if A < integer.
         02:C876  49 80      			eor	#$80
         02:C878  2A         			rol	a
10351                        		__btrue		.LL471
         02:C879  B0 07      			bcs	.LL471
10352                        		__bra		.LL472
         02:C87B  80 63      			bra	.LL472
10353    02:C87D             	.LL470:
10354                        		__inc.umq	__joypad_DIR_end - 1  /* i */
         02:C87D  EE 04 23   			inc	__joypad_DIR_end - 1
10355                        		__bra		.LL469
         02:C880  80 EE      			bra	.LL469
10356    02:C882             	.LL471:
10357                        	
10358                        		.dbg	line,	"include\routines_LEVELS.c", 1367; {
10359                        	
10360                        		.dbg	line,	"include\routines_LEVELS.c", 1368; collision_PLAYER_BG( 15 , 8 + i );
10361                        		__ld.wi		15
         02:C882  A9 0F      			lda.l	#15
         02:C884  C2         			cly
10362                        		__pusharg.wr
         02:C885  A6 8D      			ldx	<__sp
         02:C887  CA         			dex
         02:C888  CA         			dex
         02:C889  95 08      			sta.l	<__stack, x
         02:C88B  94 09      			sty.h	<__stack, x
         02:C88D  86 8D      			stx	<__sp
10363                        		__ld.wi		8
         02:C88F  A9 08      			lda.l	#8
         02:C891  C2         			cly
10364                        		__add.um	__joypad_DIR_end - 1  /* i */
         02:C892  18         			clc
         02:C893  6D 04 23   			adc	__joypad_DIR_end - 1
         02:C896  90 01      			bcc	!+
         02:C898  C8         			iny
         02:C899             	!:
10365                        		__pusharg.wr
         02:C899  A6 8D      			ldx	<__sp
         02:C89B  CA         			dex
         02:C89C  CA         			dex
         02:C89D  95 08      			sta.l	<__stack, x
         02:C89F  94 09      			sty.h	<__stack, x
         02:C8A1  86 8D      			stx	<__sp
10366                        		__call		_collision_PLAYER_BG
         02:C8A3  20 27 FF   			call	_collision_PLAYER_BG
10367                        	
10368                        		.dbg	line,	"include\routines_LEVELS.c", 1370; if(map_blk_flag == TILE_LADDER)
10369                        		__ld.umq	_map_blk_flag
         02:C8A6  AD F9 2B   			lda	_map_blk_flag
10370                        		__equ_b.uiq	2
         02:C8A9  C9 02      			cmp	#2
         02:C8AB  F0 01      			beq	!+
         02:C8AD  18         			clc
         02:C8AE             	!:
10371                        		__bfalse	.LL473
         02:C8AE  90 CD      			bcc	.LL473
10372                        	
10373                        		.dbg	line,	"include\routines_LEVELS.c", 1371; {
10374                        	
10375                        		.dbg	line,	"include\routines_LEVELS.c", 1372; sgx_map_pxl_y -= (2 - i);
10376                        		__ld.wi		2
         02:C8B0  A9 02      			lda.l	#2
         02:C8B2  C2         			cly
10377                        		__sub.um	__joypad_DIR_end - 1  /* i */
         02:C8B3  38         			sec
         02:C8B4  ED 04 23   			sbc	__joypad_DIR_end - 1
         02:C8B7  B0 01      			bcs	!+
         02:C8B9  88         			dey
         02:C8BA             	!:
10378                        		__isub_st.wmq	_sgx_map_pxl_y
         02:C8BA  38         			sec
         02:C8BB  49 FF      			eor	#$FF
         02:C8BD  6D DA 26   			adc.l	_sgx_map_pxl_y
         02:C8C0  8D DA 26   			sta.l	_sgx_map_pxl_y
         02:C8C3  98         			tya
         02:C8C4  49 FF      			eor	#$FF
         02:C8C6  6D DB 26   			adc.h	_sgx_map_pxl_y
         02:C8C9  8D DB 26   			sta.h	_sgx_map_pxl_y
10379                        	
10380                        		.dbg	line,	"include\routines_LEVELS.c", 1373; break;
10381                        		__bra		.LL472
         02:C8CC  80 12      			bra	.LL472
10382                        	
10383                        		.dbg	line,	"include\routines_LEVELS.c", 1374; }
10384                        	
10385                        		.dbg	line,	"include\routines_LEVELS.c", 1375; }
10386    02:C8CE             	.LL473	.alias		.LL470
10387                        		__bra		.LL470
         02:C8CE  80 AD      			bra	.LL470
10388    02:C8D0             	.LL472	.alias		.LL474
10389                        	
10390                        		.dbg	line,	"include\routines_LEVELS.c", 1376; }
10391                        	
10392                        		.dbg	line,	"include\routines_LEVELS.c", 1378; else
10393                        		__bra		.LL474
         02:C8D0  80 0E      			bra	.LL474
10394    02:C8D2             	.LL468:
10395                        	
10396                        		.dbg	line,	"include\routines_LEVELS.c", 1379; {
10397                        	
10398                        		.dbg	line,	"include\routines_LEVELS.c", 1380; sgx_map_pxl_y -= 2;
10399                        		__sub_st.wmiq	2, _sgx_map_pxl_y
         02:C8D2  38         			sec
         02:C8D3  AD DA 26   			lda.l	_sgx_map_pxl_y
         02:C8D6  E9 02      			sbc.l	#2
         02:C8D8  8D DA 26   			sta.l	_sgx_map_pxl_y
         02:C8DB  B0 03      			bcs	!+
         02:C8DD  CE DB 26   			dec.h	_sgx_map_pxl_y
         02:C8E0             	!:
10400                        	
10401                        		.dbg	line,	"include\routines_LEVELS.c", 1381; }
10402    02:C8E0             	.LL474:
10403                        	
10404                        		.dbg	line,	"include\routines_LEVELS.c", 1383; spr_set(weapon_id);
10405                        		__ld.umq	_weapon_id
         02:C8E0  AD 26 23   			lda	_weapon_id
10406                        		__call		_spr_set.1
         02:C8E3  20 F1 E7   			call	_spr_set.1
10407                        	
10408                        		.dbg	line,	"include\routines_LEVELS.c", 1384; spr_hide();
10409                        		__call		_spr_hide
         02:C8E6  20 0C E8   			call	_spr_hide
10410                        	
10411                        		.dbg	line,	"include\routines_LEVELS.c", 1386; player_state = STATE_CLIMB_UP;
10412                        		__st.umiq	11, _player_state
         02:C8E9  A9 0B      			lda.l	#11
         02:C8EB  8D 18 23   			sta	_player_state
10413                        	
10414                        		.dbg	line,	"include\routines_LEVELS.c", 1387; }
10415                        	
10416                        		.dbg	line,	"include\routines_LEVELS.c", 1388; }
10417    02:C8EE             	.LL467	.alias		.LL475
10418                        	
10419                        		.dbg	line,	"include\routines_LEVELS.c", 1389; }
10420    02:C8EE             	.LL464	.alias		.LL475
10421                        	
10422                        		.dbg	line,	"include\routines_LEVELS.c", 1392; //--------------------------------------------------------------------------------------//
10423                        	
10424                        		.dbg	line,	"include\routines_LEVELS.c", 1393; //                                     DOWN BUTTON                                      //
10425                        	
10426                        		.dbg	line,	"include\routines_LEVELS.c", 1394; //--------------------------------------------------------------------------------------//
10427                        	
10428                        		.dbg	line,	"include\routines_LEVELS.c", 1396; else if(joy(JOYPAD_1) & JOY_DOWN)
10429                        		__bra		.LL475
         02:C8EE  4C 5E CA   			bra	.LL475
10430    02:C8F1             	.LL463:
10431                        		__ld.uiq	0
         02:C8F1  62         			cla
10432                        		 _joy.1
         02:C8F2  AA         			tax
         02:C8F3  BD 28 22   			lda	joynow, x
         02:C8F6  BC D3 22   			ldy	joy6now, x
10433                        		__tand.wi	64
         02:C8F9  29 40      			and	#64
         02:C8FB  C9 01      	!:		cmp	#1
10434                        		__bfalse	.LL476
         02:C8FD  B0 03 4C 5E			bcc	.LL476
         02:C901  CA          
10435                        	
10436                        		.dbg	line,	"include\routines_LEVELS.c", 1397; {
10437                        	
10438                        		.dbg	line,	"include\routines_LEVELS.c", 1398; if(player_state == STATE_IDLE || player_state == STATE_WALK)
10439                        		__not.um	_player_state
         02:C902  AD 18 23   			lda	_player_state
         02:C905  18         			clc
         02:C906  D0 01      			bne	!+
         02:C908  38         			sec
         02:C909             	!:
10440                        		__btrue		.LL478
         02:C909  B0 08      			bcs	.LL478
10441                        		__ld.umq	_player_state
         02:C90B  AD 18 23   			lda	_player_state
10442                        		__equ_b.uiq	1
         02:C90E  C9 01      			cmp	#1
         02:C910  F0 01      			beq	!+
         02:C912  18         			clc
         02:C913             	!:
10443    02:C913             	.LL478:
10444                        		__bfalse	.LL477
         02:C913  90 0D      			bcc	.LL477
10445                        	
10446                        		.dbg	line,	"include\routines_LEVELS.c", 1399; {
10447                        	
10448                        		.dbg	line,	"include\routines_LEVELS.c", 1400; player_counter_anim = 1;
10449                        		__st.umiq	1, _player_counter_anim
         02:C915  A9 01      			lda.l	#1
         02:C917  8D 1B 23   			sta	_player_counter_anim
10450                        	
10451                        		.dbg	line,	"include\routines_LEVELS.c", 1401; player_state = STATE_CROUCH;
10452                        		__st.umiq	7, _player_state
         02:C91A  A9 07      			lda.l	#7
         02:C91C  8D 18 23   			sta	_player_state
10453                        	
10454                        		.dbg	line,	"include\routines_LEVELS.c", 1402; }
10455                        	
10456                        		.dbg	line,	"include\routines_LEVELS.c", 1405; else if(player_state == STATE_HANG || player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
10457                        		__bra		.LL479
         02:C91F  4C 5E CA   			bra	.LL479
10458    02:C922             	.LL477:
10459                        		__ld.umq	_player_state
         02:C922  AD 18 23   			lda	_player_state
10460                        		__equ_b.uiq	10
         02:C925  C9 0A      			cmp	#10
         02:C927  F0 01      			beq	!+
         02:C929  18         			clc
         02:C92A             	!:
10461                        		__btrue		.LL481
         02:C92A  B0 08      			bcs	.LL481
10462                        		__ld.umq	_player_state
         02:C92C  AD 18 23   			lda	_player_state
10463                        		__equ_b.uiq	11
         02:C92F  C9 0B      			cmp	#11
         02:C931  F0 01      			beq	!+
         02:C933  18         			clc
         02:C934             	!:
10464    02:C934             	.LL481:
10465                        		__btrue		.LL482
         02:C934  B0 08      			bcs	.LL482
10466                        		__ld.umq	_player_state
         02:C936  AD 18 23   			lda	_player_state
10467                        		__equ_b.uiq	12
         02:C939  C9 0C      			cmp	#12
         02:C93B  F0 01      			beq	!+
         02:C93D  18         			clc
         02:C93E             	!:
10468    02:C93E             	.LL482:
10469                        		__bfalse	.LL480
         02:C93E  B0 03 4C 5E			bcc	.LL480
         02:C942  CA          
10470                        	
10471                        		.dbg	line,	"include\routines_LEVELS.c", 1406; {
10472                        	
10473                        		.dbg	line,	"include\routines_LEVELS.c", 1407; if(player_attack == FALSE)
10474                        		__not.um	_player_attack
         02:C943  AD 20 23   			lda	_player_attack
         02:C946  18         			clc
         02:C947  D0 01      			bne	!+
         02:C949  38         			sec
         02:C94A             	!:
10475                        		__bfalse	.LL483
         02:C94A  B0 03 4C 5E			bcc	.LL483
         02:C94E  CA          
10476                        	
10477                        		.dbg	line,	"include\routines_LEVELS.c", 1408; {
10478                        	
10479                        		.dbg	line,	"include\routines_LEVELS.c", 1409; unsigned char i;
10480                        	
10481                        		.dbg	line,	"include\routines_LEVELS.c", 1411; collision_PLAYER_BG( 15 , 10 );
10482                        		__ld.wi		15
         02:C94F  A9 0F      			lda.l	#15
         02:C951  C2         			cly
10483                        		__pusharg.wr
         02:C952  A6 8D      			ldx	<__sp
         02:C954  CA         			dex
         02:C955  CA         			dex
         02:C956  95 08      			sta.l	<__stack, x
         02:C958  94 09      			sty.h	<__stack, x
         02:C95A  86 8D      			stx	<__sp
10484                        		__ld.wi		10
         02:C95C  A9 0A      			lda.l	#10
         02:C95E  C2         			cly
10485                        		__pusharg.wr
         02:C95F  A6 8D      			ldx	<__sp
         02:C961  CA         			dex
         02:C962  CA         			dex
         02:C963  95 08      			sta.l	<__stack, x
         02:C965  94 09      			sty.h	<__stack, x
         02:C967  86 8D      			stx	<__sp
10486                        		__call		_collision_PLAYER_BG
         02:C969  20 27 FF   			call	_collision_PLAYER_BG
10487                        	
10488                        		.dbg	line,	"include\routines_LEVELS.c", 1413; if(map_blk_flag == TILE_EMPTY)
10489                        		__not.um	_map_blk_flag
         02:C96C  AD F9 2B   			lda	_map_blk_flag
         02:C96F  18         			clc
         02:C970  D0 01      			bne	!+
         02:C972  38         			sec
         02:C973             	!:
10490                        		__bfalse	.LL484
         02:C973  B0 03 4C 42			bcc	.LL484
         02:C977  CA          
10491                        	
10492                        		.dbg	line,	"include\routines_LEVELS.c", 1414; {
10493                        	
10494                        		.dbg	line,	"include\routines_LEVELS.c", 1415; for(i=1 ; i<3 ; i++)
10495                        		__st.umiq	1, __joypad_DIR_end - 2  /* i */
         02:C978  A9 01      			lda.l	#1
         02:C97A  8D 03 23   			sta	__joypad_DIR_end - 2
10496    02:C97D             	.LL485:
10497                        		__ld.umq	__joypad_DIR_end - 2  /* i */
         02:C97D  AD 03 23   			lda	__joypad_DIR_end - 2
10498                        		__ult_b.uiq	3
         02:C980  C9 03      			cmp	#3		; Subtract integer from A.
         02:C982  6A         			ror	a		; CC if A < integer.
         02:C983  49 80      			eor	#$80
         02:C985  2A         			rol	a
10499                        		__btrue		.LL487
         02:C986  B0 08      			bcs	.LL487
10500                        		__bra		.LL488
         02:C988  4C 5E CA   			bra	.LL488
10501    02:C98B             	.LL486:
10502                        		__inc.umq	__joypad_DIR_end - 2  /* i */
         02:C98B  EE 03 23   			inc	__joypad_DIR_end - 2
10503                        		__bra		.LL485
         02:C98E  80 ED      			bra	.LL485
10504    02:C990             	.LL487:
10505                        	
10506                        		.dbg	line,	"include\routines_LEVELS.c", 1416; {
10507                        	
10508                        		.dbg	line,	"include\routines_LEVELS.c", 1417; collision_PLAYER_BG( 15 , 22 + i );
10509                        		__ld.wi		15
         02:C990  A9 0F      			lda.l	#15
         02:C992  C2         			cly
10510                        		__pusharg.wr
         02:C993  A6 8D      			ldx	<__sp
         02:C995  CA         			dex
         02:C996  CA         			dex
         02:C997  95 08      			sta.l	<__stack, x
         02:C999  94 09      			sty.h	<__stack, x
         02:C99B  86 8D      			stx	<__sp
10511                        		__ld.wi		22
         02:C99D  A9 16      			lda.l	#22
         02:C99F  C2         			cly
10512                        		__add.um	__joypad_DIR_end - 2  /* i */
         02:C9A0  18         			clc
         02:C9A1  6D 03 23   			adc	__joypad_DIR_end - 2
         02:C9A4  90 01      			bcc	!+
         02:C9A6  C8         			iny
         02:C9A7             	!:
10513                        		__pusharg.wr
         02:C9A7  A6 8D      			ldx	<__sp
         02:C9A9  CA         			dex
         02:C9AA  CA         			dex
         02:C9AB  95 08      			sta.l	<__stack, x
         02:C9AD  94 09      			sty.h	<__stack, x
         02:C9AF  86 8D      			stx	<__sp
10514                        		__call		_collision_PLAYER_BG
         02:C9B1  20 27 FF   			call	_collision_PLAYER_BG
10515                        	
10516                        		.dbg	line,	"include\routines_LEVELS.c", 1419; if(map_blk_flag == TILE_LADDER)
10517                        		__ld.umq	_map_blk_flag
         02:C9B4  AD F9 2B   			lda	_map_blk_flag
10518                        		__equ_b.uiq	2
         02:C9B7  C9 02      			cmp	#2
         02:C9B9  F0 01      			beq	!+
         02:C9BB  18         			clc
         02:C9BC             	!:
10519                        		__bfalse	.LL489
         02:C9BC  90 1B      			bcc	.LL489
10520                        	
10521                        		.dbg	line,	"include\routines_LEVELS.c", 1420; {
10522                        	
10523                        		.dbg	line,	"include\routines_LEVELS.c", 1421; sgx_map_pxl_y += (2 - i);
10524                        		__ld.wi		2
         02:C9BE  A9 02      			lda.l	#2
         02:C9C0  C2         			cly
10525                        		__sub.um	__joypad_DIR_end - 2  /* i */
         02:C9C1  38         			sec
         02:C9C2  ED 03 23   			sbc	__joypad_DIR_end - 2
         02:C9C5  B0 01      			bcs	!+
         02:C9C7  88         			dey
         02:C9C8             	!:
10526                        		__add_st.wmq	_sgx_map_pxl_y
         02:C9C8  18         			clc
         02:C9C9  6D DA 26   			adc.l	_sgx_map_pxl_y
         02:C9CC  8D DA 26   			sta.l	_sgx_map_pxl_y
         02:C9CF  98         			tya
         02:C9D0  6D DB 26   			adc.h	_sgx_map_pxl_y
         02:C9D3  8D DB 26   			sta.h	_sgx_map_pxl_y
10527                        	
10528                        		.dbg	line,	"include\routines_LEVELS.c", 1422; break;
10529                        		__bra		.LL488
         02:C9D6  4C 5E CA   			bra	.LL488
10530                        	
10531                        		.dbg	line,	"include\routines_LEVELS.c", 1423; }
10532                        	
10533                        		.dbg	line,	"include\routines_LEVELS.c", 1425; else
10534    02:C9D9             	.LL489:
10535                        	
10536                        		.dbg	line,	"include\routines_LEVELS.c", 1426; {
10537                        	
10538                        		.dbg	line,	"include\routines_LEVELS.c", 1427; spr_set(player_id);
10539                        		__ld.umq	_player_id
         02:C9D9  AD 17 23   			lda	_player_id
10540                        		__call		_spr_set.1
         02:C9DC  20 F1 E7   			call	_spr_set.1
10541                        	
10542                        		.dbg	line,	"include\routines_LEVELS.c", 1428; spr_pattern(PLAYER_FALL_VRAM_ADR);
10543                        		__ld.wi		9216
         02:C9DF  62         			cla
         02:C9E0  A0 24      			ldy.h	#9216
10544                        		__call		_spr_pattern.1
         02:C9E2  20 3A E8   			call	_spr_pattern.1
10545                        	
10546                        		.dbg	line,	"include\routines_LEVELS.c", 1430; spr_set(weapon_id);
10547                        		__ld.umq	_weapon_id
         02:C9E5  AD 26 23   			lda	_weapon_id
10548                        		__call		_spr_set.1
         02:C9E8  20 F1 E7   			call	_spr_set.1
10549                        	
10550                        		.dbg	line,	"include\routines_LEVELS.c", 1431; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
10551                        		__ld.wi		31808
         02:C9EB  A9 40      			lda.l	#31808
         02:C9ED  A0 7C      			ldy.h	#31808
10552                        		__call		_spr_pattern.1
         02:C9EF  20 3A E8   			call	_spr_pattern.1
10553                        	
10554                        		.dbg	line,	"include\routines_LEVELS.c", 1432; spr_y(player_pos_y+4);
10555                        		__ld.wm		_player_pos_y
         02:C9F2  AD F7 24   			lda.l	_player_pos_y
         02:C9F5  AC F8 24   			ldy.h	_player_pos_y
10556                        		__add.wi	4
         02:C9F8  18         			clc
         02:C9F9  69 04      			adc.l	#4
         02:C9FB  90 01      			bcc	!+
         02:C9FD  C8         			iny
         02:C9FE             	!:
10557                        		__call		_spr_y.1
         02:C9FE  20 2D E8   			call	_spr_y.1
10558                        	
10559                        		.dbg	line,	"include\routines_LEVELS.c", 1434; if(player_axis == AXIS_RIGHT)
10560                        		__not.um	_player_axis
         02:CA01  AD 19 23   			lda	_player_axis
         02:CA04  18         			clc
         02:CA05  D0 01      			bne	!+
         02:CA07  38         			sec
         02:CA08             	!:
10561                        		__bfalse	.LL491
         02:CA08  90 11      			bcc	.LL491
10562                        	
10563                        		.dbg	line,	"include\routines_LEVELS.c", 1435; {
10564                        	
10565                        		.dbg	line,	"include\routines_LEVELS.c", 1436; spr_x(player_pos_x-4);
10566                        		__ld.wm		_player_pos_x
         02:CA0A  AD F5 24   			lda.l	_player_pos_x
         02:CA0D  AC F6 24   			ldy.h	_player_pos_x
10567                        		__sub.wi	4
         02:CA10  38         			sec
         02:CA11  E9 04      			sbc.l	#4
         02:CA13  B0 01      			bcs	!+
         02:CA15  88         			dey
         02:CA16             	!:
10568                        		__call		_spr_x.1
         02:CA16  20 1E E8   			call	_spr_x.1
10569                        	
10570                        		.dbg	line,	"include\routines_LEVELS.c", 1437; }
10571                        	
10572                        		.dbg	line,	"include\routines_LEVELS.c", 1438; 
10573                        	
10574                        		.dbg	line,	"include\routines_LEVELS.c", 1439; else
10575                        		__bra		.LL492
         02:CA19  80 0F      			bra	.LL492
10576    02:CA1B             	.LL491:
10577                        	
10578                        		.dbg	line,	"include\routines_LEVELS.c", 1440; {
10579                        	
10580                        		.dbg	line,	"include\routines_LEVELS.c", 1441; spr_x(player_pos_x+20);
10581                        		__ld.wm		_player_pos_x
         02:CA1B  AD F5 24   			lda.l	_player_pos_x
         02:CA1E  AC F6 24   			ldy.h	_player_pos_x
10582                        		__add.wi	20
         02:CA21  18         			clc
         02:CA22  69 14      			adc.l	#20
         02:CA24  90 01      			bcc	!+
         02:CA26  C8         			iny
         02:CA27             	!:
10583                        		__call		_spr_x.1
         02:CA27  20 1E E8   			call	_spr_x.1
10584                        	
10585                        		.dbg	line,	"include\routines_LEVELS.c", 1442; }
10586    02:CA2A             	.LL492:
10587                        	
10588                        		.dbg	line,	"include\routines_LEVELS.c", 1443; 
10589                        	
10590                        		.dbg	line,	"include\routines_LEVELS.c", 1445; jump_ladder = FALSE;
10591                        		__st.umiq	0, _jump_ladder
         02:CA2A  9C 21 23   			stz	_jump_ladder
10592                        	
10593                        		.dbg	line,	"include\routines_LEVELS.c", 1446; player_index_jump = 0;
10594                        		__st.umiq	0, _player_index_jump
         02:CA2D  9C 1C 23   			stz	_player_index_jump
10595                        	
10596                        		.dbg	line,	"include\routines_LEVELS.c", 1447; player_index_fall = 0;
10597                        		__st.umiq	0, _player_index_fall
         02:CA30  9C 1D 23   			stz	_player_index_fall
10598                        	
10599                        		.dbg	line,	"include\routines_LEVELS.c", 1448; fall_ladder = TRUE;
10600                        		__st.umiq	1, _fall_ladder
         02:CA33  A9 01      			lda.l	#1
         02:CA35  8D 23 23   			sta	_fall_ladder
10601                        	
10602                        		.dbg	line,	"include\routines_LEVELS.c", 1449; player_state = STATE_FALL;
10603                        		__st.umiq	9, _player_state
         02:CA38  A9 09      			lda.l	#9
         02:CA3A  8D 18 23   			sta	_player_state
10604                        	
10605                        		.dbg	line,	"include\routines_LEVELS.c", 1450; }
10606    02:CA3D             	.LL490	.alias		.LL486
10607                        	
10608                        		.dbg	line,	"include\routines_LEVELS.c", 1451; }
10609                        		__bra		.LL486
         02:CA3D  4C 8B C9   			bra	.LL486
10610    02:CA40             	.LL488	.alias		.LL493
10611                        	
10612                        		.dbg	line,	"include\routines_LEVELS.c", 1452; }
10613                        	
10614                        		.dbg	line,	"include\routines_LEVELS.c", 1454; else
10615                        		__bra		.LL493
         02:CA40  80 1C      			bra	.LL493
10616    02:CA42             	.LL484:
10617                        	
10618                        		.dbg	line,	"include\routines_LEVELS.c", 1455; {
10619                        	
10620                        		.dbg	line,	"include\routines_LEVELS.c", 1456; spr_set(weapon_id);
10621                        		__ld.umq	_weapon_id
         02:CA42  AD 26 23   			lda	_weapon_id
10622                        		__call		_spr_set.1
         02:CA45  20 F1 E7   			call	_spr_set.1
10623                        	
10624                        		.dbg	line,	"include\routines_LEVELS.c", 1457; spr_hide();
10625                        		__call		_spr_hide
         02:CA48  20 0C E8   			call	_spr_hide
10626                        	
10627                        		.dbg	line,	"include\routines_LEVELS.c", 1458; 
10628                        	
10629                        		.dbg	line,	"include\routines_LEVELS.c", 1459; sgx_map_pxl_y += 2;
10630                        		__add_st.wmiq	2, _sgx_map_pxl_y
         02:CA4B  18         			clc
         02:CA4C  AD DA 26   			lda.l	_sgx_map_pxl_y
         02:CA4F  69 02      			adc.l	#2
         02:CA51  8D DA 26   			sta.l	_sgx_map_pxl_y
         02:CA54  90 03      			bcc	!+
         02:CA56  EE DB 26   			inc.h	_sgx_map_pxl_y
         02:CA59             	!:
10631                        	
10632                        		.dbg	line,	"include\routines_LEVELS.c", 1460; player_state = STATE_CLIMB_DOWN;
10633                        		__st.umiq	12, _player_state
         02:CA59  A9 0C      			lda.l	#12
         02:CA5B  8D 18 23   			sta	_player_state
10634                        	
10635                        		.dbg	line,	"include\routines_LEVELS.c", 1461; }
10636    02:CA5E             	.LL493:
10637                        	
10638                        		.dbg	line,	"include\routines_LEVELS.c", 1462; }
10639                        	
10640                        		.dbg	line,	"include\routines_LEVELS.c", 1463; }
10641    02:CA5E             	.LL483:
10642                        	
10643                        		.dbg	line,	"include\routines_LEVELS.c", 1464; }
10644    02:CA5E             	.LL480:
10645    02:CA5E             	.LL479:
10646                        	
10647                        		.dbg	line,	"include\routines_LEVELS.c", 1465; }
10648    02:CA5E             	.LL476:
10649    02:CA5E             	.LL475:
10650    02:CA5E             	.LL462:
10651    02:CA5E             	.LL436:
10652    02:CA5E             	.LL399:
10653                        		__return	0
         02:CA5E  4C EF FF   			jmp	leave_proc
10654                        		.dbg	clear
10655                        		.endp
10656               2303     		.bss
10657    F8:2303             			ds	2
10658    F8:2305             	__joypad_DIR_end:
10659               E31D     		.code
10660                        		.pceas
10661                        	
10662                        		.dbg	line,	"include\routines_LEVELS.c", 1474; void update_PLAYER()
10663                        		.dbg	line,	"include\routines_LEVELS.c", 1475; {
10664                        	;***********************
10665                        	;***********************
10666                        	
10667                        		.hucc
10668    01:C2ED             		.proc		_update_PLAYER
10669                        		__enter		_update_PLAYER
10670                        	
10671                        		.dbg	line,	"include\routines_LEVELS.c", 1476; if(player_state == STATE_IDLE)
10672                        		__not.um	_player_state
         01:C2ED  AD 18 23   			lda	_player_state
         01:C2F0  18         			clc
         01:C2F1  D0 01      			bne	!+
         01:C2F3  38         			sec
         01:C2F4             	!:
10673                        		__bfalse	.LL495
         01:C2F4  B0 03 4C 9D			bcc	.LL495
         01:C2F8  C3          
10674                        	
10675                        		.dbg	line,	"include\routines_LEVELS.c", 1477; {
10676                        	
10677                        		.dbg	line,	"include\routines_LEVELS.c", 1478; if(player_counter_anim == 1)
10678                        		__ld.umq	_player_counter_anim
         01:C2F9  AD 1B 23   			lda	_player_counter_anim
10679                        		__equ_b.uiq	1
         01:C2FC  C9 01      			cmp	#1
         01:C2FE  F0 01      			beq	!+
         01:C300  18         			clc
         01:C301             	!:
10680                        		__bfalse	.LL496
         01:C301  90 0F      			bcc	.LL496
10681                        	
10682                        		.dbg	line,	"include\routines_LEVELS.c", 1479; {
10683                        	
10684                        		.dbg	line,	"include\routines_LEVELS.c", 1480; spr_set(player_id);
10685                        		__ld.umq	_player_id
         01:C303  AD 17 23   			lda	_player_id
10686                        		__call		_spr_set.1
         01:C306  20 F1 E7   			call	_spr_set.1
10687                        	
10688                        		.dbg	line,	"include\routines_LEVELS.c", 1481; spr_pattern(PLAYER_IDLE_VRAM_ADR);
10689                        		__ld.wi		5120
         01:C309  62         			cla
         01:C30A  A0 14      			ldy.h	#5120
10690                        		__call		_spr_pattern.1
         01:C30C  20 3A E8   			call	_spr_pattern.1
10691                        	
10692                        		.dbg	line,	"include\routines_LEVELS.c", 1483; player_counter_anim = 0;
10693                        		__st.umiq	0, _player_counter_anim
         01:C30F  9C 1B 23   			stz	_player_counter_anim
10694                        	
10695                        		.dbg	line,	"include\routines_LEVELS.c", 1484; }
10696                        	
10697                        		.dbg	line,	"include\routines_LEVELS.c", 1486; recenter_CAMERA();
10698    01:C312             	.LL496:
10699                        		__call		_recenter_CAMERA
         01:C312  20 1D FF   			call	_recenter_CAMERA
10700                        	
10701                        		.dbg	line,	"include\routines_LEVELS.c", 1489; // CHECK COLLISION WITH LEFT FLOOR //
10702                        	
10703                        		.dbg	line,	"include\routines_LEVELS.c", 1490; collision_PLAYER_BG( 10 , 32 );//8
10704                        		__ld.wi		10
         01:C315  A9 0A      			lda.l	#10
         01:C317  C2         			cly
10705                        		__pusharg.wr
         01:C318  A6 8D      			ldx	<__sp
         01:C31A  CA         			dex
         01:C31B  CA         			dex
         01:C31C  95 08      			sta.l	<__stack, x
         01:C31E  94 09      			sty.h	<__stack, x
         01:C320  86 8D      			stx	<__sp
10706                        		__ld.wi		32
         01:C322  A9 20      			lda.l	#32
         01:C324  C2         			cly
10707                        		__pusharg.wr
         01:C325  A6 8D      			ldx	<__sp
         01:C327  CA         			dex
         01:C328  CA         			dex
         01:C329  95 08      			sta.l	<__stack, x
         01:C32B  94 09      			sty.h	<__stack, x
         01:C32D  86 8D      			stx	<__sp
10708                        		__call		_collision_PLAYER_BG
         01:C32F  20 27 FF   			call	_collision_PLAYER_BG
10709                        	
10710                        		.dbg	line,	"include\routines_LEVELS.c", 1492; if(map_blk_flag == TILE_EMPTY)
10711                        		__not.um	_map_blk_flag
         01:C332  AD F9 2B   			lda	_map_blk_flag
         01:C335  18         			clc
         01:C336  D0 01      			bne	!+
         01:C338  38         			sec
         01:C339             	!:
10712                        		__bfalse	.LL497
         01:C339  90 34      			bcc	.LL497
10713                        	
10714                        		.dbg	line,	"include\routines_LEVELS.c", 1493; {
10715                        	
10716                        		.dbg	line,	"include\routines_LEVELS.c", 1494; // CHECK COLLISION WITH RIGHT FLOOR //
10717                        	
10718                        		.dbg	line,	"include\routines_LEVELS.c", 1495; collision_PLAYER_BG( 22 , 32 );//24
10719                        		__ld.wi		22
         01:C33B  A9 16      			lda.l	#22
         01:C33D  C2         			cly
10720                        		__pusharg.wr
         01:C33E  A6 8D      			ldx	<__sp
         01:C340  CA         			dex
         01:C341  CA         			dex
         01:C342  95 08      			sta.l	<__stack, x
         01:C344  94 09      			sty.h	<__stack, x
         01:C346  86 8D      			stx	<__sp
10721                        		__ld.wi		32
         01:C348  A9 20      			lda.l	#32
         01:C34A  C2         			cly
10722                        		__pusharg.wr
         01:C34B  A6 8D      			ldx	<__sp
         01:C34D  CA         			dex
         01:C34E  CA         			dex
         01:C34F  95 08      			sta.l	<__stack, x
         01:C351  94 09      			sty.h	<__stack, x
         01:C353  86 8D      			stx	<__sp
10723                        		__call		_collision_PLAYER_BG
         01:C355  20 27 FF   			call	_collision_PLAYER_BG
10724                        	
10725                        		.dbg	line,	"include\routines_LEVELS.c", 1497; if(map_blk_flag == TILE_EMPTY)
10726                        		__not.um	_map_blk_flag
         01:C358  AD F9 2B   			lda	_map_blk_flag
         01:C35B  18         			clc
         01:C35C  D0 01      			bne	!+
         01:C35E  38         			sec
         01:C35F             	!:
10727                        		__bfalse	.LL498
         01:C35F  90 0E      			bcc	.LL498
10728                        	
10729                        		.dbg	line,	"include\routines_LEVELS.c", 1498; {
10730                        	
10731                        		.dbg	line,	"include\routines_LEVELS.c", 1499; //set_far_base(TABLE_PLAYER_TILES_BANK[player_naked],TABLE_PLAYER_TILES_ADR[player_naked]);
10732                        	
10733                        		.dbg	line,	"include\routines_LEVELS.c", 1500; //far_load_vram(PLAYER_VRAM_ADR,TILES_16);
10734                        	
10735                        		.dbg	line,	"include\routines_LEVELS.c", 1502; jump_ladder = FALSE;
10736                        		__st.umiq	0, _jump_ladder
         01:C361  9C 21 23   			stz	_jump_ladder
10737                        	
10738                        		.dbg	line,	"include\routines_LEVELS.c", 1503; player_index_jump = 0;
10739                        		__st.umiq	0, _player_index_jump
         01:C364  9C 1C 23   			stz	_player_index_jump
10740                        	
10741                        		.dbg	line,	"include\routines_LEVELS.c", 1504; player_index_fall = 0;
10742                        		__st.umiq	0, _player_index_fall
         01:C367  9C 1D 23   			stz	_player_index_fall
10743                        	
10744                        		.dbg	line,	"include\routines_LEVELS.c", 1505; player_state = STATE_FALL;
10745                        		__st.umiq	9, _player_state
         01:C36A  A9 09      			lda.l	#9
         01:C36C  8D 18 23   			sta	_player_state
10746                        	
10747                        		.dbg	line,	"include\routines_LEVELS.c", 1506; }
10748                        	
10749                        		.dbg	line,	"include\routines_LEVELS.c", 1507; }
10750    01:C36F             	.LL498:
10751                        	
10752                        		.dbg	line,	"include\routines_LEVELS.c", 1509; spr_set(weapon_id);
10753    01:C36F             	.LL497:
10754                        		__ld.umq	_weapon_id
         01:C36F  AD 26 23   			lda	_weapon_id
10755                        		__call		_spr_set.1
         01:C372  20 F1 E7   			call	_spr_set.1
10756                        	
10757                        		.dbg	line,	"include\routines_LEVELS.c", 1510; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
10758                        		__ld.wi		31808
         01:C375  A9 40      			lda.l	#31808
         01:C377  A0 7C      			ldy.h	#31808
10759                        		__call		_spr_pattern.1
         01:C379  20 3A E8   			call	_spr_pattern.1
10760                        	
10761                        		.dbg	line,	"include\routines_LEVELS.c", 1511; spr_x(player_pos_x+8);
10762                        		__ld.wm		_player_pos_x
         01:C37C  AD F5 24   			lda.l	_player_pos_x
         01:C37F  AC F6 24   			ldy.h	_player_pos_x
10763                        		__add.wi	8
         01:C382  18         			clc
         01:C383  69 08      			adc.l	#8
         01:C385  90 01      			bcc	!+
         01:C387  C8         			iny
         01:C388             	!:
10764                        		__call		_spr_x.1
         01:C388  20 1E E8   			call	_spr_x.1
10765                        	
10766                        		.dbg	line,	"include\routines_LEVELS.c", 1512; spr_y(player_pos_y+16);
10767                        		__ld.wm		_player_pos_y
         01:C38B  AD F7 24   			lda.l	_player_pos_y
         01:C38E  AC F8 24   			ldy.h	_player_pos_y
10768                        		__add.wi	16
         01:C391  18         			clc
         01:C392  69 10      			adc.l	#16
         01:C394  90 01      			bcc	!+
         01:C396  C8         			iny
         01:C397             	!:
10769                        		__call		_spr_y.1
         01:C397  20 2D E8   			call	_spr_y.1
10770                        	
10771                        		.dbg	line,	"include\routines_LEVELS.c", 1513; }
10772                        	
10773                        		.dbg	line,	"include\routines_LEVELS.c", 1516; else if(player_state == STATE_WALK)
10774                        		__bra		.LL499
         01:C39A  4C 94 DC   			bra	.LL499
10775    01:C39D             	.LL495:
10776                        		__ld.umq	_player_state
         01:C39D  AD 18 23   			lda	_player_state
10777                        		__equ_b.uiq	1
         01:C3A0  C9 01      			cmp	#1
         01:C3A2  F0 01      			beq	!+
         01:C3A4  18         			clc
         01:C3A5             	!:
10778                        		__bfalse	.LL500
         01:C3A5  B0 03 4C 4B			bcc	.LL500
         01:C3A9  C7          
10779                        	
10780                        		.dbg	line,	"include\routines_LEVELS.c", 1517; {
10781                        	
10782                        		.dbg	line,	"include\routines_LEVELS.c", 1518; recenter_CAMERA();
10783                        		__call		_recenter_CAMERA
         01:C3AA  20 1D FF   			call	_recenter_CAMERA
10784                        	
10785                        		.dbg	line,	"include\routines_LEVELS.c", 1521; //--------------------------------------------------------------------------------------//
10786                        	
10787                        		.dbg	line,	"include\routines_LEVELS.c", 1522; //                                   FLOOR COLLISION                                    //
10788                        	
10789                        		.dbg	line,	"include\routines_LEVELS.c", 1523; //--------------------------------------------------------------------------------------//
10790                        	
10791                        		.dbg	line,	"include\routines_LEVELS.c", 1525; // CHECK COLLISION WITH LEFT FLOOR //
10792                        	
10793                        		.dbg	line,	"include\routines_LEVELS.c", 1526; collision_PLAYER_BG( 10 , 32 );//8
10794                        		__ld.wi		10
         01:C3AD  A9 0A      			lda.l	#10
         01:C3AF  C2         			cly
10795                        		__pusharg.wr
         01:C3B0  A6 8D      			ldx	<__sp
         01:C3B2  CA         			dex
         01:C3B3  CA         			dex
         01:C3B4  95 08      			sta.l	<__stack, x
         01:C3B6  94 09      			sty.h	<__stack, x
         01:C3B8  86 8D      			stx	<__sp
10796                        		__ld.wi		32
         01:C3BA  A9 20      			lda.l	#32
         01:C3BC  C2         			cly
10797                        		__pusharg.wr
         01:C3BD  A6 8D      			ldx	<__sp
         01:C3BF  CA         			dex
         01:C3C0  CA         			dex
         01:C3C1  95 08      			sta.l	<__stack, x
         01:C3C3  94 09      			sty.h	<__stack, x
         01:C3C5  86 8D      			stx	<__sp
10798                        		__call		_collision_PLAYER_BG
         01:C3C7  20 27 FF   			call	_collision_PLAYER_BG
10799                        	
10800                        		.dbg	line,	"include\routines_LEVELS.c", 1528; if(map_blk_flag == TILE_EMPTY)
10801                        		__not.um	_map_blk_flag
         01:C3CA  AD F9 2B   			lda	_map_blk_flag
         01:C3CD  18         			clc
         01:C3CE  D0 01      			bne	!+
         01:C3D0  38         			sec
         01:C3D1             	!:
10802                        		__bfalse	.LL501
         01:C3D1  B0 03 4C 89			bcc	.LL501
         01:C3D5  C4          
10803                        	
10804                        		.dbg	line,	"include\routines_LEVELS.c", 1529; {
10805                        	
10806                        		.dbg	line,	"include\routines_LEVELS.c", 1530; // CHECK COLLISION WITH RIGHT FLOOR //
10807                        	
10808                        		.dbg	line,	"include\routines_LEVELS.c", 1531; collision_PLAYER_BG( 22 , 32 );//24
10809                        		__ld.wi		22
         01:C3D6  A9 16      			lda.l	#22
         01:C3D8  C2         			cly
10810                        		__pusharg.wr
         01:C3D9  A6 8D      			ldx	<__sp
         01:C3DB  CA         			dex
         01:C3DC  CA         			dex
         01:C3DD  95 08      			sta.l	<__stack, x
         01:C3DF  94 09      			sty.h	<__stack, x
         01:C3E1  86 8D      			stx	<__sp
10811                        		__ld.wi		32
         01:C3E3  A9 20      			lda.l	#32
         01:C3E5  C2         			cly
10812                        		__pusharg.wr
         01:C3E6  A6 8D      			ldx	<__sp
         01:C3E8  CA         			dex
         01:C3E9  CA         			dex
         01:C3EA  95 08      			sta.l	<__stack, x
         01:C3EC  94 09      			sty.h	<__stack, x
         01:C3EE  86 8D      			stx	<__sp
10813                        		__call		_collision_PLAYER_BG
         01:C3F0  20 27 FF   			call	_collision_PLAYER_BG
10814                        	
10815                        		.dbg	line,	"include\routines_LEVELS.c", 1533; if(map_blk_flag == TILE_EMPTY)
10816                        		__not.um	_map_blk_flag
         01:C3F3  AD F9 2B   			lda	_map_blk_flag
         01:C3F6  18         			clc
         01:C3F7  D0 01      			bne	!+
         01:C3F9  38         			sec
         01:C3FA             	!:
10817                        		__bfalse	.LL502
         01:C3FA  90 11      			bcc	.LL502
10818                        	
10819                        		.dbg	line,	"include\routines_LEVELS.c", 1534; {
10820                        	
10821                        		.dbg	line,	"include\routines_LEVELS.c", 1535; /*spr_set(player_id);
10822                        	
10823                        		.dbg	line,	"include\routines_LEVELS.c", 1536; spr_pattern(PLAYER_IDLE_VRAM_ADR);
10824                        	
10825                        		.dbg	line,	"include\routines_LEVELS.c", 1538; spr_set(weapon_id);
10826                        	
10827                        		.dbg	line,	"include\routines_LEVELS.c", 1539; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
10828                        	
10829                        		.dbg	line,	"include\routines_LEVELS.c", 1540; spr_x(player_pos_x+8);
10830                        	
10831                        		.dbg	line,	"include\routines_LEVELS.c", 1541; spr_y(player_pos_y+16);*/
10832                        	
10833                        		.dbg	line,	"include\routines_LEVELS.c", 1543; jump_ladder = FALSE;
10834                        		__st.umiq	0, _jump_ladder
         01:C3FC  9C 21 23   			stz	_jump_ladder
10835                        	
10836                        		.dbg	line,	"include\routines_LEVELS.c", 1544; player_index_jump = 0;
10837                        		__st.umiq	0, _player_index_jump
         01:C3FF  9C 1C 23   			stz	_player_index_jump
10838                        	
10839                        		.dbg	line,	"include\routines_LEVELS.c", 1545; player_index_fall = 0;
10840                        		__st.umiq	0, _player_index_fall
         01:C402  9C 1D 23   			stz	_player_index_fall
10841                        	
10842                        		.dbg	line,	"include\routines_LEVELS.c", 1546; player_state = STATE_FALL;
10843                        		__st.umiq	9, _player_state
         01:C405  A9 09      			lda.l	#9
         01:C407  8D 18 23   			sta	_player_state
10844                        	
10845                        		.dbg	line,	"include\routines_LEVELS.c", 1547; }
10846                        	
10847                        		.dbg	line,	"include\routines_LEVELS.c", 1550; else
10848                        		__bra		.LL503
         01:C40A  4C FC C4   			bra	.LL503
10849    01:C40D             	.LL502:
10850                        	
10851                        		.dbg	line,	"include\routines_LEVELS.c", 1551; {
10852                        	
10853                        		.dbg	line,	"include\routines_LEVELS.c", 1552; if(player_axis == AXIS_RIGHT)
10854                        		__not.um	_player_axis
         01:C40D  AD 19 23   			lda	_player_axis
         01:C410  18         			clc
         01:C411  D0 01      			bne	!+
         01:C413  38         			sec
         01:C414             	!:
10855                        		__bfalse	.LL504
         01:C414  90 3A      			bcc	.LL504
10856                        	
10857                        		.dbg	line,	"include\routines_LEVELS.c", 1553; {
10858                        	
10859                        		.dbg	line,	"include\routines_LEVELS.c", 1554; // CHECK COLLISION WITH RIGHT WALL //
10860                        	
10861                        		.dbg	line,	"include\routines_LEVELS.c", 1555; collision_PLAYER_BG( 24 , 31 ); // 24+2
10862                        		__ld.wi		24
         01:C416  A9 18      			lda.l	#24
         01:C418  C2         			cly
10863                        		__pusharg.wr
         01:C419  A6 8D      			ldx	<__sp
         01:C41B  CA         			dex
         01:C41C  CA         			dex
         01:C41D  95 08      			sta.l	<__stack, x
         01:C41F  94 09      			sty.h	<__stack, x
         01:C421  86 8D      			stx	<__sp
10864                        		__ld.wi		31
         01:C423  A9 1F      			lda.l	#31
         01:C425  C2         			cly
10865                        		__pusharg.wr
         01:C426  A6 8D      			ldx	<__sp
         01:C428  CA         			dex
         01:C429  CA         			dex
         01:C42A  95 08      			sta.l	<__stack, x
         01:C42C  94 09      			sty.h	<__stack, x
         01:C42E  86 8D      			stx	<__sp
10866                        		__call		_collision_PLAYER_BG
         01:C430  20 27 FF   			call	_collision_PLAYER_BG
10867                        	
10868                        		.dbg	line,	"include\routines_LEVELS.c", 1557; if(map_blk_flag == TILE_EMPTY)
10869                        		__not.um	_map_blk_flag
         01:C433  AD F9 2B   			lda	_map_blk_flag
         01:C436  18         			clc
         01:C437  D0 01      			bne	!+
         01:C439  38         			sec
         01:C43A             	!:
10870                        		__bfalse	.LL505
         01:C43A  B0 03 4C FC			bcc	.LL505
         01:C43E  C4          
10871                        	
10872                        		.dbg	line,	"include\routines_LEVELS.c", 1558; {
10873                        	
10874                        		.dbg	line,	"include\routines_LEVELS.c", 1559; sgx_map_pxl_x += 2;
10875                        		__add_st.wmiq	2, _sgx_map_pxl_x
         01:C43F  18         			clc
         01:C440  AD D8 26   			lda.l	_sgx_map_pxl_x
         01:C443  69 02      			adc.l	#2
         01:C445  8D D8 26   			sta.l	_sgx_map_pxl_x
         01:C448  90 03      			bcc	!+
         01:C44A  EE D9 26   			inc.h	_sgx_map_pxl_x
         01:C44D             	!:
10876                        	
10877                        		.dbg	line,	"include\routines_LEVELS.c", 1560; }
10878                        	
10879                        		.dbg	line,	"include\routines_LEVELS.c", 1561; }
10880    01:C44D             	.LL505	.alias		.LL506
10881                        	
10882                        		.dbg	line,	"include\routines_LEVELS.c", 1563; else
10883                        		__bra		.LL506
         01:C44D  4C FC C4   			bra	.LL506
10884    01:C450             	.LL504:
10885                        	
10886                        		.dbg	line,	"include\routines_LEVELS.c", 1564; {
10887                        	
10888                        		.dbg	line,	"include\routines_LEVELS.c", 1565; // CHECK COLLISION WITH LEFT WALL //
10889                        	
10890                        		.dbg	line,	"include\routines_LEVELS.c", 1566; collision_PLAYER_BG( 8 , 31 ); // 8-2
10891                        		__ld.wi		8
         01:C450  A9 08      			lda.l	#8
         01:C452  C2         			cly
10892                        		__pusharg.wr
         01:C453  A6 8D      			ldx	<__sp
         01:C455  CA         			dex
         01:C456  CA         			dex
         01:C457  95 08      			sta.l	<__stack, x
         01:C459  94 09      			sty.h	<__stack, x
         01:C45B  86 8D      			stx	<__sp
10893                        		__ld.wi		31
         01:C45D  A9 1F      			lda.l	#31
         01:C45F  C2         			cly
10894                        		__pusharg.wr
         01:C460  A6 8D      			ldx	<__sp
         01:C462  CA         			dex
         01:C463  CA         			dex
         01:C464  95 08      			sta.l	<__stack, x
         01:C466  94 09      			sty.h	<__stack, x
         01:C468  86 8D      			stx	<__sp
10895                        		__call		_collision_PLAYER_BG
         01:C46A  20 27 FF   			call	_collision_PLAYER_BG
10896                        	
10897                        		.dbg	line,	"include\routines_LEVELS.c", 1568; if(map_blk_flag == TILE_EMPTY)
10898                        		__not.um	_map_blk_flag
         01:C46D  AD F9 2B   			lda	_map_blk_flag
         01:C470  18         			clc
         01:C471  D0 01      			bne	!+
         01:C473  38         			sec
         01:C474             	!:
10899                        		__bfalse	.LL507
         01:C474  B0 03 4C FC			bcc	.LL507
         01:C478  C4          
10900                        	
10901                        		.dbg	line,	"include\routines_LEVELS.c", 1569; {
10902                        	
10903                        		.dbg	line,	"include\routines_LEVELS.c", 1570; sgx_map_pxl_x -= 2;
10904                        		__sub_st.wmiq	2, _sgx_map_pxl_x
         01:C479  38         			sec
         01:C47A  AD D8 26   			lda.l	_sgx_map_pxl_x
         01:C47D  E9 02      			sbc.l	#2
         01:C47F  8D D8 26   			sta.l	_sgx_map_pxl_x
         01:C482  B0 03      			bcs	!+
         01:C484  CE D9 26   			dec.h	_sgx_map_pxl_x
         01:C487             	!:
10905                        	
10906                        		.dbg	line,	"include\routines_LEVELS.c", 1571; }
10907                        	
10908                        		.dbg	line,	"include\routines_LEVELS.c", 1572; }
10909    01:C487             	.LL507	.alias		.LL508
10910    01:C487             	.LL506	.alias		.LL508
10911                        	
10912                        		.dbg	line,	"include\routines_LEVELS.c", 1573; }
10913    01:C487             	.LL503	.alias		.LL508
10914                        	
10915                        		.dbg	line,	"include\routines_LEVELS.c", 1574; }
10916                        	
10917                        		.dbg	line,	"include\routines_LEVELS.c", 1577; else
10918                        		__bra		.LL508
         01:C487  80 73      			bra	.LL508
10919    01:C489             	.LL501:
10920                        	
10921                        		.dbg	line,	"include\routines_LEVELS.c", 1578; {
10922                        	
10923                        		.dbg	line,	"include\routines_LEVELS.c", 1579; if(player_axis == AXIS_RIGHT)
10924                        		__not.um	_player_axis
         01:C489  AD 19 23   			lda	_player_axis
         01:C48C  18         			clc
         01:C48D  D0 01      			bne	!+
         01:C48F  38         			sec
         01:C490             	!:
10925                        		__bfalse	.LL509
         01:C490  90 36      			bcc	.LL509
10926                        	
10927                        		.dbg	line,	"include\routines_LEVELS.c", 1580; {
10928                        	
10929                        		.dbg	line,	"include\routines_LEVELS.c", 1581; // CHECK COLLISION WITH RIGHT WALL //
10930                        	
10931                        		.dbg	line,	"include\routines_LEVELS.c", 1582; collision_PLAYER_BG( 24 , 31 ); // 24+2
10932                        		__ld.wi		24
         01:C492  A9 18      			lda.l	#24
         01:C494  C2         			cly
10933                        		__pusharg.wr
         01:C495  A6 8D      			ldx	<__sp
         01:C497  CA         			dex
         01:C498  CA         			dex
         01:C499  95 08      			sta.l	<__stack, x
         01:C49B  94 09      			sty.h	<__stack, x
         01:C49D  86 8D      			stx	<__sp
10934                        		__ld.wi		31
         01:C49F  A9 1F      			lda.l	#31
         01:C4A1  C2         			cly
10935                        		__pusharg.wr
         01:C4A2  A6 8D      			ldx	<__sp
         01:C4A4  CA         			dex
         01:C4A5  CA         			dex
         01:C4A6  95 08      			sta.l	<__stack, x
         01:C4A8  94 09      			sty.h	<__stack, x
         01:C4AA  86 8D      			stx	<__sp
10936                        		__call		_collision_PLAYER_BG
         01:C4AC  20 27 FF   			call	_collision_PLAYER_BG
10937                        	
10938                        		.dbg	line,	"include\routines_LEVELS.c", 1584; if(map_blk_flag == TILE_EMPTY)
10939                        		__not.um	_map_blk_flag
         01:C4AF  AD F9 2B   			lda	_map_blk_flag
         01:C4B2  18         			clc
         01:C4B3  D0 01      			bne	!+
         01:C4B5  38         			sec
         01:C4B6             	!:
10940                        		__bfalse	.LL510
         01:C4B6  90 44      			bcc	.LL510
10941                        	
10942                        		.dbg	line,	"include\routines_LEVELS.c", 1585; {
10943                        	
10944                        		.dbg	line,	"include\routines_LEVELS.c", 1586; sgx_map_pxl_x += 2;
10945                        		__add_st.wmiq	2, _sgx_map_pxl_x
         01:C4B8  18         			clc
         01:C4B9  AD D8 26   			lda.l	_sgx_map_pxl_x
         01:C4BC  69 02      			adc.l	#2
         01:C4BE  8D D8 26   			sta.l	_sgx_map_pxl_x
         01:C4C1  90 03      			bcc	!+
         01:C4C3  EE D9 26   			inc.h	_sgx_map_pxl_x
         01:C4C6             	!:
10946                        	
10947                        		.dbg	line,	"include\routines_LEVELS.c", 1587; }
10948                        	
10949                        		.dbg	line,	"include\routines_LEVELS.c", 1588; }
10950    01:C4C6             	.LL510	.alias		.LL511
10951                        	
10952                        		.dbg	line,	"include\routines_LEVELS.c", 1590; else
10953                        		__bra		.LL511
         01:C4C6  80 34      			bra	.LL511
10954    01:C4C8             	.LL509:
10955                        	
10956                        		.dbg	line,	"include\routines_LEVELS.c", 1591; {
10957                        	
10958                        		.dbg	line,	"include\routines_LEVELS.c", 1592; // CHECK COLLISION WITH LEFT WALL //
10959                        	
10960                        		.dbg	line,	"include\routines_LEVELS.c", 1593; collision_PLAYER_BG( 8 , 31 ); // 8-2
10961                        		__ld.wi		8
         01:C4C8  A9 08      			lda.l	#8
         01:C4CA  C2         			cly
10962                        		__pusharg.wr
         01:C4CB  A6 8D      			ldx	<__sp
         01:C4CD  CA         			dex
         01:C4CE  CA         			dex
         01:C4CF  95 08      			sta.l	<__stack, x
         01:C4D1  94 09      			sty.h	<__stack, x
         01:C4D3  86 8D      			stx	<__sp
10963                        		__ld.wi		31
         01:C4D5  A9 1F      			lda.l	#31
         01:C4D7  C2         			cly
10964                        		__pusharg.wr
         01:C4D8  A6 8D      			ldx	<__sp
         01:C4DA  CA         			dex
         01:C4DB  CA         			dex
         01:C4DC  95 08      			sta.l	<__stack, x
         01:C4DE  94 09      			sty.h	<__stack, x
         01:C4E0  86 8D      			stx	<__sp
10965                        		__call		_collision_PLAYER_BG
         01:C4E2  20 27 FF   			call	_collision_PLAYER_BG
10966                        	
10967                        		.dbg	line,	"include\routines_LEVELS.c", 1595; if(map_blk_flag == TILE_EMPTY)
10968                        		__not.um	_map_blk_flag
         01:C4E5  AD F9 2B   			lda	_map_blk_flag
         01:C4E8  18         			clc
         01:C4E9  D0 01      			bne	!+
         01:C4EB  38         			sec
         01:C4EC             	!:
10969                        		__bfalse	.LL512
         01:C4EC  90 0E      			bcc	.LL512
10970                        	
10971                        		.dbg	line,	"include\routines_LEVELS.c", 1596; {
10972                        	
10973                        		.dbg	line,	"include\routines_LEVELS.c", 1597; sgx_map_pxl_x -= 2;
10974                        		__sub_st.wmiq	2, _sgx_map_pxl_x
         01:C4EE  38         			sec
         01:C4EF  AD D8 26   			lda.l	_sgx_map_pxl_x
         01:C4F2  E9 02      			sbc.l	#2
         01:C4F4  8D D8 26   			sta.l	_sgx_map_pxl_x
         01:C4F7  B0 03      			bcs	!+
         01:C4F9  CE D9 26   			dec.h	_sgx_map_pxl_x
         01:C4FC             	!:
10975                        	
10976                        		.dbg	line,	"include\routines_LEVELS.c", 1598; }
10977                        	
10978                        		.dbg	line,	"include\routines_LEVELS.c", 1599; }
10979    01:C4FC             	.LL512:
10980    01:C4FC             	.LL511:
10981                        	
10982                        		.dbg	line,	"include\routines_LEVELS.c", 1600; }
10983    01:C4FC             	.LL508:
10984                        	
10985                        		.dbg	line,	"include\routines_LEVELS.c", 1605; spr_set(player_id);
10986                        		__ld.umq	_player_id
         01:C4FC  AD 17 23   			lda	_player_id
10987                        		__call		_spr_set.1
         01:C4FF  20 F1 E7   			call	_spr_set.1
10988                        	
10989                        		.dbg	line,	"include\routines_LEVELS.c", 1608; player_counter_anim += 1;
10990                        		__add_st.umiq	1, _player_counter_anim
         01:C502  EE 1B 23   			inc	_player_counter_anim
10991                        	
10992                        		.dbg	line,	"include\routines_LEVELS.c", 1611; // UPDATE PLAYER TILES //
10993                        	
10994                        		.dbg	line,	"include\routines_LEVELS.c", 1612; if(player_counter_anim == 1)
10995                        		__ld.umq	_player_counter_anim
         01:C505  AD 1B 23   			lda	_player_counter_anim
10996                        		__equ_b.uiq	1
         01:C508  C9 01      			cmp	#1
         01:C50A  F0 01      			beq	!+
         01:C50C  18         			clc
         01:C50D             	!:
10997                        		__bfalse	.LL513
         01:C50D  90 2A      			bcc	.LL513
10998                        	
10999                        		.dbg	line,	"include\routines_LEVELS.c", 1613; {
11000                        	
11001                        		.dbg	line,	"include\routines_LEVELS.c", 1614; spr_pattern(PLAYER_IDLE_VRAM_ADR);
11002                        		__ld.wi		5120
         01:C50F  62         			cla
         01:C510  A0 14      			ldy.h	#5120
11003                        		__call		_spr_pattern.1
         01:C512  20 3A E8   			call	_spr_pattern.1
11004                        	
11005                        		.dbg	line,	"include\routines_LEVELS.c", 1616; spr_set(weapon_id);
11006                        		__ld.umq	_weapon_id
         01:C515  AD 26 23   			lda	_weapon_id
11007                        		__call		_spr_set.1
         01:C518  20 F1 E7   			call	_spr_set.1
11008                        	
11009                        		.dbg	line,	"include\routines_LEVELS.c", 1617; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
11010                        		__ld.wi		31808
         01:C51B  A9 40      			lda.l	#31808
         01:C51D  A0 7C      			ldy.h	#31808
11011                        		__call		_spr_pattern.1
         01:C51F  20 3A E8   			call	_spr_pattern.1
11012                        	
11013                        		.dbg	line,	"include\routines_LEVELS.c", 1618; spr_x(player_pos_x+8);
11014                        		__ld.wm		_player_pos_x
         01:C522  AD F5 24   			lda.l	_player_pos_x
         01:C525  AC F6 24   			ldy.h	_player_pos_x
11015                        		__add.wi	8
         01:C528  18         			clc
         01:C529  69 08      			adc.l	#8
         01:C52B  90 01      			bcc	!+
         01:C52D  C8         			iny
         01:C52E             	!:
11016                        		__call		_spr_x.1
         01:C52E  20 1E E8   			call	_spr_x.1
11017                        	
11018                        		.dbg	line,	"include\routines_LEVELS.c", 1619; weapon_y_offset = 16;
11019                        		__st.umiq	16, _weapon_y_offset
         01:C531  A9 10      			lda.l	#16
         01:C533  8D 8D 26   			sta	_weapon_y_offset
11020                        	
11021                        		.dbg	line,	"include\routines_LEVELS.c", 1620; //spr_y(player_pos_y+16);
11022                        	
11023                        		.dbg	line,	"include\routines_LEVELS.c", 1621; }
11024                        	
11025                        		.dbg	line,	"include\routines_LEVELS.c", 1624; else if(player_counter_anim == 2)
11026                        		__bra		.LL514
         01:C536  4C 2F C7   			bra	.LL514
11027    01:C539             	.LL513:
11028                        		__ld.umq	_player_counter_anim
         01:C539  AD 1B 23   			lda	_player_counter_anim
11029                        		__equ_b.uiq	2
         01:C53C  C9 02      			cmp	#2
         01:C53E  F0 01      			beq	!+
         01:C540  18         			clc
         01:C541             	!:
11030                        		__bfalse	.LL515
         01:C541  90 45      			bcc	.LL515
11031                        	
11032                        		.dbg	line,	"include\routines_LEVELS.c", 1625; {
11033                        	
11034                        		.dbg	line,	"include\routines_LEVELS.c", 1626; spr_pattern(PLAYER_WALK_1_VRAM_ADR);
11035                        		__ld.wi		5376
         01:C543  62         			cla
         01:C544  A0 15      			ldy.h	#5376
11036                        		__call		_spr_pattern.1
         01:C546  20 3A E8   			call	_spr_pattern.1
11037                        	
11038                        		.dbg	line,	"include\routines_LEVELS.c", 1628; spr_set(weapon_id);
11039                        		__ld.umq	_weapon_id
         01:C549  AD 26 23   			lda	_weapon_id
11040                        		__call		_spr_set.1
         01:C54C  20 F1 E7   			call	_spr_set.1
11041                        	
11042                        		.dbg	line,	"include\routines_LEVELS.c", 1629; spr_pattern(WEAPON_WALK_1_VRAM_ADRESS);
11043                        		__ld.wi		31872
         01:C54F  A9 80      			lda.l	#31872
         01:C551  A0 7C      			ldy.h	#31872
11044                        		__call		_spr_pattern.1
         01:C553  20 3A E8   			call	_spr_pattern.1
11045                        	
11046                        		.dbg	line,	"include\routines_LEVELS.c", 1630; weapon_y_offset = 17;
11047                        		__st.umiq	17, _weapon_y_offset
         01:C556  A9 11      			lda.l	#17
         01:C558  8D 8D 26   			sta	_weapon_y_offset
11048                        	
11049                        		.dbg	line,	"include\routines_LEVELS.c", 1631; //spr_y(player_pos_y+17);
11050                        	
11051                        		.dbg	line,	"include\routines_LEVELS.c", 1633; if(player_axis == AXIS_RIGHT)
11052                        		__not.um	_player_axis
         01:C55B  AD 19 23   			lda	_player_axis
         01:C55E  18         			clc
         01:C55F  D0 01      			bne	!+
         01:C561  38         			sec
         01:C562             	!:
11053                        		__bfalse	.LL516
         01:C562  90 12      			bcc	.LL516
11054                        	
11055                        		.dbg	line,	"include\routines_LEVELS.c", 1634; {
11056                        	
11057                        		.dbg	line,	"include\routines_LEVELS.c", 1635; spr_x(player_pos_x+5);
11058                        		__ld.wm		_player_pos_x
         01:C564  AD F5 24   			lda.l	_player_pos_x
         01:C567  AC F6 24   			ldy.h	_player_pos_x
11059                        		__add.wi	5
         01:C56A  18         			clc
         01:C56B  69 05      			adc.l	#5
         01:C56D  90 01      			bcc	!+
         01:C56F  C8         			iny
         01:C570             	!:
11060                        		__call		_spr_x.1
         01:C570  20 1E E8   			call	_spr_x.1
11061                        	
11062                        		.dbg	line,	"include\routines_LEVELS.c", 1636; }
11063                        	
11064                        		.dbg	line,	"include\routines_LEVELS.c", 1638; else
11065                        		__bra		.LL517
         01:C573  4C 2F C7   			bra	.LL517
11066    01:C576             	.LL516:
11067                        	
11068                        		.dbg	line,	"include\routines_LEVELS.c", 1639; {
11069                        	
11070                        		.dbg	line,	"include\routines_LEVELS.c", 1640; spr_x(player_pos_x+11);
11071                        		__ld.wm		_player_pos_x
         01:C576  AD F5 24   			lda.l	_player_pos_x
         01:C579  AC F6 24   			ldy.h	_player_pos_x
11072                        		__add.wi	11
         01:C57C  18         			clc
         01:C57D  69 0B      			adc.l	#11
         01:C57F  90 01      			bcc	!+
         01:C581  C8         			iny
         01:C582             	!:
11073                        		__call		_spr_x.1
         01:C582  20 1E E8   			call	_spr_x.1
11074                        	
11075                        		.dbg	line,	"include\routines_LEVELS.c", 1641; }
11076    01:C585             	.LL517	.alias		.LL518
11077                        	
11078                        		.dbg	line,	"include\routines_LEVELS.c", 1642; }
11079                        	
11080                        		.dbg	line,	"include\routines_LEVELS.c", 1645; else if(player_counter_anim == 4)
11081                        		__bra		.LL518
         01:C585  4C 2F C7   			bra	.LL518
11082    01:C588             	.LL515:
11083                        		__ld.umq	_player_counter_anim
         01:C588  AD 1B 23   			lda	_player_counter_anim
11084                        		__equ_b.uiq	4
         01:C58B  C9 04      			cmp	#4
         01:C58D  F0 01      			beq	!+
         01:C58F  18         			clc
         01:C590             	!:
11085                        		__bfalse	.LL519
         01:C590  90 40      			bcc	.LL519
11086                        	
11087                        		.dbg	line,	"include\routines_LEVELS.c", 1646; {
11088                        	
11089                        		.dbg	line,	"include\routines_LEVELS.c", 1647; spr_pattern(PLAYER_WALK_2_VRAM_ADR);
11090                        		__ld.wi		5632
         01:C592  62         			cla
         01:C593  A0 16      			ldy.h	#5632
11091                        		__call		_spr_pattern.1
         01:C595  20 3A E8   			call	_spr_pattern.1
11092                        	
11093                        		.dbg	line,	"include\routines_LEVELS.c", 1648; 
11094                        	
11095                        		.dbg	line,	"include\routines_LEVELS.c", 1649; spr_set(weapon_id);
11096                        		__ld.umq	_weapon_id
         01:C598  AD 26 23   			lda	_weapon_id
11097                        		__call		_spr_set.1
         01:C59B  20 F1 E7   			call	_spr_set.1
11098                        	
11099                        		.dbg	line,	"include\routines_LEVELS.c", 1650; spr_pattern(WEAPON_WALK_2_VRAM_ADRESS);
11100                        		__ld.wi		31936
         01:C59E  A9 C0      			lda.l	#31936
         01:C5A0  A0 7C      			ldy.h	#31936
11101                        		__call		_spr_pattern.1
         01:C5A2  20 3A E8   			call	_spr_pattern.1
11102                        	
11103                        		.dbg	line,	"include\routines_LEVELS.c", 1652; if(player_axis == AXIS_RIGHT)
11104                        		__not.um	_player_axis
         01:C5A5  AD 19 23   			lda	_player_axis
         01:C5A8  18         			clc
         01:C5A9  D0 01      			bne	!+
         01:C5AB  38         			sec
         01:C5AC             	!:
11105                        		__bfalse	.LL520
         01:C5AC  90 12      			bcc	.LL520
11106                        	
11107                        		.dbg	line,	"include\routines_LEVELS.c", 1653; {
11108                        	
11109                        		.dbg	line,	"include\routines_LEVELS.c", 1654; spr_x(player_pos_x+3);
11110                        		__ld.wm		_player_pos_x
         01:C5AE  AD F5 24   			lda.l	_player_pos_x
         01:C5B1  AC F6 24   			ldy.h	_player_pos_x
11111                        		__add.wi	3
         01:C5B4  18         			clc
         01:C5B5  69 03      			adc.l	#3
         01:C5B7  90 01      			bcc	!+
         01:C5B9  C8         			iny
         01:C5BA             	!:
11112                        		__call		_spr_x.1
         01:C5BA  20 1E E8   			call	_spr_x.1
11113                        	
11114                        		.dbg	line,	"include\routines_LEVELS.c", 1655; }
11115                        	
11116                        		.dbg	line,	"include\routines_LEVELS.c", 1657; else
11117                        		__bra		.LL521
         01:C5BD  4C 2F C7   			bra	.LL521
11118    01:C5C0             	.LL520:
11119                        	
11120                        		.dbg	line,	"include\routines_LEVELS.c", 1658; {
11121                        	
11122                        		.dbg	line,	"include\routines_LEVELS.c", 1659; spr_x(player_pos_x+13);
11123                        		__ld.wm		_player_pos_x
         01:C5C0  AD F5 24   			lda.l	_player_pos_x
         01:C5C3  AC F6 24   			ldy.h	_player_pos_x
11124                        		__add.wi	13
         01:C5C6  18         			clc
         01:C5C7  69 0D      			adc.l	#13
         01:C5C9  90 01      			bcc	!+
         01:C5CB  C8         			iny
         01:C5CC             	!:
11125                        		__call		_spr_x.1
         01:C5CC  20 1E E8   			call	_spr_x.1
11126                        	
11127                        		.dbg	line,	"include\routines_LEVELS.c", 1660; }
11128    01:C5CF             	.LL521	.alias		.LL522
11129                        	
11130                        		.dbg	line,	"include\routines_LEVELS.c", 1661; }
11131                        	
11132                        		.dbg	line,	"include\routines_LEVELS.c", 1664; else if(player_counter_anim == 7)
11133                        		__bra		.LL522
         01:C5CF  4C 2F C7   			bra	.LL522
11134    01:C5D2             	.LL519:
11135                        		__ld.umq	_player_counter_anim
         01:C5D2  AD 1B 23   			lda	_player_counter_anim
11136                        		__equ_b.uiq	7
         01:C5D5  C9 07      			cmp	#7
         01:C5D7  F0 01      			beq	!+
         01:C5D9  18         			clc
         01:C5DA             	!:
11137                        		__bfalse	.LL523
         01:C5DA  90 40      			bcc	.LL523
11138                        	
11139                        		.dbg	line,	"include\routines_LEVELS.c", 1665; {
11140                        	
11141                        		.dbg	line,	"include\routines_LEVELS.c", 1666; //spr_set(player_id);
11142                        	
11143                        		.dbg	line,	"include\routines_LEVELS.c", 1667; spr_pattern(PLAYER_WALK_3_VRAM_ADR);
11144                        		__ld.wi		5888
         01:C5DC  62         			cla
         01:C5DD  A0 17      			ldy.h	#5888
11145                        		__call		_spr_pattern.1
         01:C5DF  20 3A E8   			call	_spr_pattern.1
11146                        	
11147                        		.dbg	line,	"include\routines_LEVELS.c", 1669; spr_set(weapon_id);
11148                        		__ld.umq	_weapon_id
         01:C5E2  AD 26 23   			lda	_weapon_id
11149                        		__call		_spr_set.1
         01:C5E5  20 F1 E7   			call	_spr_set.1
11150                        	
11151                        		.dbg	line,	"include\routines_LEVELS.c", 1670; spr_pattern(WEAPON_WALK_1_VRAM_ADRESS);
11152                        		__ld.wi		31872
         01:C5E8  A9 80      			lda.l	#31872
         01:C5EA  A0 7C      			ldy.h	#31872
11153                        		__call		_spr_pattern.1
         01:C5EC  20 3A E8   			call	_spr_pattern.1
11154                        	
11155                        		.dbg	line,	"include\routines_LEVELS.c", 1672; if(player_axis == AXIS_RIGHT)
11156                        		__not.um	_player_axis
         01:C5EF  AD 19 23   			lda	_player_axis
         01:C5F2  18         			clc
         01:C5F3  D0 01      			bne	!+
         01:C5F5  38         			sec
         01:C5F6             	!:
11157                        		__bfalse	.LL524
         01:C5F6  90 12      			bcc	.LL524
11158                        	
11159                        		.dbg	line,	"include\routines_LEVELS.c", 1673; {
11160                        	
11161                        		.dbg	line,	"include\routines_LEVELS.c", 1674; spr_x(player_pos_x+5);
11162                        		__ld.wm		_player_pos_x
         01:C5F8  AD F5 24   			lda.l	_player_pos_x
         01:C5FB  AC F6 24   			ldy.h	_player_pos_x
11163                        		__add.wi	5
         01:C5FE  18         			clc
         01:C5FF  69 05      			adc.l	#5
         01:C601  90 01      			bcc	!+
         01:C603  C8         			iny
         01:C604             	!:
11164                        		__call		_spr_x.1
         01:C604  20 1E E8   			call	_spr_x.1
11165                        	
11166                        		.dbg	line,	"include\routines_LEVELS.c", 1675; }
11167                        	
11168                        		.dbg	line,	"include\routines_LEVELS.c", 1677; else
11169                        		__bra		.LL525
         01:C607  4C 2F C7   			bra	.LL525
11170    01:C60A             	.LL524:
11171                        	
11172                        		.dbg	line,	"include\routines_LEVELS.c", 1678; {
11173                        	
11174                        		.dbg	line,	"include\routines_LEVELS.c", 1679; spr_x(player_pos_x+11);
11175                        		__ld.wm		_player_pos_x
         01:C60A  AD F5 24   			lda.l	_player_pos_x
         01:C60D  AC F6 24   			ldy.h	_player_pos_x
11176                        		__add.wi	11
         01:C610  18         			clc
         01:C611  69 0B      			adc.l	#11
         01:C613  90 01      			bcc	!+
         01:C615  C8         			iny
         01:C616             	!:
11177                        		__call		_spr_x.1
         01:C616  20 1E E8   			call	_spr_x.1
11178                        	
11179                        		.dbg	line,	"include\routines_LEVELS.c", 1680; }
11180    01:C619             	.LL525	.alias		.LL526
11181                        	
11182                        		.dbg	line,	"include\routines_LEVELS.c", 1681; }
11183                        	
11184                        		.dbg	line,	"include\routines_LEVELS.c", 1684; else if(player_counter_anim == 9)
11185                        		__bra		.LL526
         01:C619  4C 2F C7   			bra	.LL526
11186    01:C61C             	.LL523:
11187                        		__ld.umq	_player_counter_anim
         01:C61C  AD 1B 23   			lda	_player_counter_anim
11188                        		__equ_b.uiq	9
         01:C61F  C9 09      			cmp	#9
         01:C621  F0 01      			beq	!+
         01:C623  18         			clc
         01:C624             	!:
11189                        		__bfalse	.LL527
         01:C624  90 2A      			bcc	.LL527
11190                        	
11191                        		.dbg	line,	"include\routines_LEVELS.c", 1685; {
11192                        	
11193                        		.dbg	line,	"include\routines_LEVELS.c", 1686; //spr_set(player_id);
11194                        	
11195                        		.dbg	line,	"include\routines_LEVELS.c", 1687; spr_pattern(PLAYER_IDLE_VRAM_ADR);
11196                        		__ld.wi		5120
         01:C626  62         			cla
         01:C627  A0 14      			ldy.h	#5120
11197                        		__call		_spr_pattern.1
         01:C629  20 3A E8   			call	_spr_pattern.1
11198                        	
11199                        		.dbg	line,	"include\routines_LEVELS.c", 1689; spr_set(weapon_id);
11200                        		__ld.umq	_weapon_id
         01:C62C  AD 26 23   			lda	_weapon_id
11201                        		__call		_spr_set.1
         01:C62F  20 F1 E7   			call	_spr_set.1
11202                        	
11203                        		.dbg	line,	"include\routines_LEVELS.c", 1690; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
11204                        		__ld.wi		31808
         01:C632  A9 40      			lda.l	#31808
         01:C634  A0 7C      			ldy.h	#31808
11205                        		__call		_spr_pattern.1
         01:C636  20 3A E8   			call	_spr_pattern.1
11206                        	
11207                        		.dbg	line,	"include\routines_LEVELS.c", 1691; spr_x(player_pos_x+8);
11208                        		__ld.wm		_player_pos_x
         01:C639  AD F5 24   			lda.l	_player_pos_x
         01:C63C  AC F6 24   			ldy.h	_player_pos_x
11209                        		__add.wi	8
         01:C63F  18         			clc
         01:C640  69 08      			adc.l	#8
         01:C642  90 01      			bcc	!+
         01:C644  C8         			iny
         01:C645             	!:
11210                        		__call		_spr_x.1
         01:C645  20 1E E8   			call	_spr_x.1
11211                        	
11212                        		.dbg	line,	"include\routines_LEVELS.c", 1692; weapon_y_offset = 16;
11213                        		__st.umiq	16, _weapon_y_offset
         01:C648  A9 10      			lda.l	#16
         01:C64A  8D 8D 26   			sta	_weapon_y_offset
11214                        	
11215                        		.dbg	line,	"include\routines_LEVELS.c", 1693; //pr_y(player_pos_y+16);
11216                        	
11217                        		.dbg	line,	"include\routines_LEVELS.c", 1694; }
11218                        	
11219                        		.dbg	line,	"include\routines_LEVELS.c", 1697; else if(player_counter_anim == 12)
11220                        		__bra		.LL528
         01:C64D  4C 2F C7   			bra	.LL528
11221    01:C650             	.LL527:
11222                        		__ld.umq	_player_counter_anim
         01:C650  AD 1B 23   			lda	_player_counter_anim
11223                        		__equ_b.uiq	12
         01:C653  C9 0C      			cmp	#12
         01:C655  F0 01      			beq	!+
         01:C657  18         			clc
         01:C658             	!:
11224                        		__bfalse	.LL529
         01:C658  90 3E      			bcc	.LL529
11225                        	
11226                        		.dbg	line,	"include\routines_LEVELS.c", 1698; {
11227                        	
11228                        		.dbg	line,	"include\routines_LEVELS.c", 1699; spr_pattern(PLAYER_WALK_4_VRAM_ADR);
11229                        		__ld.wi		6144
         01:C65A  62         			cla
         01:C65B  A0 18      			ldy.h	#6144
11230                        		__call		_spr_pattern.1
         01:C65D  20 3A E8   			call	_spr_pattern.1
11231                        	
11232                        		.dbg	line,	"include\routines_LEVELS.c", 1701; spr_set(weapon_id);
11233                        		__ld.umq	_weapon_id
         01:C660  AD 26 23   			lda	_weapon_id
11234                        		__call		_spr_set.1
         01:C663  20 F1 E7   			call	_spr_set.1
11235                        	
11236                        		.dbg	line,	"include\routines_LEVELS.c", 1702; weapon_y_offset = 14;
11237                        		__st.umiq	14, _weapon_y_offset
         01:C666  A9 0E      			lda.l	#14
         01:C668  8D 8D 26   			sta	_weapon_y_offset
11238                        	
11239                        		.dbg	line,	"include\routines_LEVELS.c", 1703; //spr_y(player_pos_y+14);
11240                        	
11241                        		.dbg	line,	"include\routines_LEVELS.c", 1705; if(player_axis == AXIS_RIGHT)
11242                        		__not.um	_player_axis
         01:C66B  AD 19 23   			lda	_player_axis
         01:C66E  18         			clc
         01:C66F  D0 01      			bne	!+
         01:C671  38         			sec
         01:C672             	!:
11243                        		__bfalse	.LL530
         01:C672  90 12      			bcc	.LL530
11244                        	
11245                        		.dbg	line,	"include\routines_LEVELS.c", 1706; {
11246                        	
11247                        		.dbg	line,	"include\routines_LEVELS.c", 1707; spr_x(player_pos_x+12);
11248                        		__ld.wm		_player_pos_x
         01:C674  AD F5 24   			lda.l	_player_pos_x
         01:C677  AC F6 24   			ldy.h	_player_pos_x
11249                        		__add.wi	12
         01:C67A  18         			clc
         01:C67B  69 0C      			adc.l	#12
         01:C67D  90 01      			bcc	!+
         01:C67F  C8         			iny
         01:C680             	!:
11250                        		__call		_spr_x.1
         01:C680  20 1E E8   			call	_spr_x.1
11251                        	
11252                        		.dbg	line,	"include\routines_LEVELS.c", 1708; }
11253                        	
11254                        		.dbg	line,	"include\routines_LEVELS.c", 1710; else
11255                        		__bra		.LL531
         01:C683  4C 2F C7   			bra	.LL531
11256    01:C686             	.LL530:
11257                        	
11258                        		.dbg	line,	"include\routines_LEVELS.c", 1711; {
11259                        	
11260                        		.dbg	line,	"include\routines_LEVELS.c", 1712; spr_x(player_pos_x+4);
11261                        		__ld.wm		_player_pos_x
         01:C686  AD F5 24   			lda.l	_player_pos_x
         01:C689  AC F6 24   			ldy.h	_player_pos_x
11262                        		__add.wi	4
         01:C68C  18         			clc
         01:C68D  69 04      			adc.l	#4
         01:C68F  90 01      			bcc	!+
         01:C691  C8         			iny
         01:C692             	!:
11263                        		__call		_spr_x.1
         01:C692  20 1E E8   			call	_spr_x.1
11264                        	
11265                        		.dbg	line,	"include\routines_LEVELS.c", 1713; }
11266    01:C695             	.LL531	.alias		.LL532
11267                        	
11268                        		.dbg	line,	"include\routines_LEVELS.c", 1714; }
11269                        	
11270                        		.dbg	line,	"include\routines_LEVELS.c", 1717; else if(player_counter_anim == 15)
11271                        		__bra		.LL532
         01:C695  4C 2F C7   			bra	.LL532
11272    01:C698             	.LL529:
11273                        		__ld.umq	_player_counter_anim
         01:C698  AD 1B 23   			lda	_player_counter_anim
11274                        		__equ_b.uiq	15
         01:C69B  C9 0F      			cmp	#15
         01:C69D  F0 01      			beq	!+
         01:C69F  18         			clc
         01:C6A0             	!:
11275                        		__bfalse	.LL533
         01:C6A0  90 3A      			bcc	.LL533
11276                        	
11277                        		.dbg	line,	"include\routines_LEVELS.c", 1718; {
11278                        	
11279                        		.dbg	line,	"include\routines_LEVELS.c", 1719; spr_pattern(PLAYER_WALK_5_VRAM_ADR);
11280                        		__ld.wi		6400
         01:C6A2  62         			cla
         01:C6A3  A0 19      			ldy.h	#6400
11281                        		__call		_spr_pattern.1
         01:C6A5  20 3A E8   			call	_spr_pattern.1
11282                        	
11283                        		.dbg	line,	"include\routines_LEVELS.c", 1721; spr_set(weapon_id);
11284                        		__ld.umq	_weapon_id
         01:C6A8  AD 26 23   			lda	_weapon_id
11285                        		__call		_spr_set.1
         01:C6AB  20 F1 E7   			call	_spr_set.1
11286                        	
11287                        		.dbg	line,	"include\routines_LEVELS.c", 1722; weapon_y_offset = 12;
11288                        		__st.umiq	12, _weapon_y_offset
         01:C6AE  A9 0C      			lda.l	#12
         01:C6B0  8D 8D 26   			sta	_weapon_y_offset
11289                        	
11290                        		.dbg	line,	"include\routines_LEVELS.c", 1723; //spr_y(player_pos_y+12);
11291                        	
11292                        		.dbg	line,	"include\routines_LEVELS.c", 1725; if(player_axis == AXIS_RIGHT)
11293                        		__not.um	_player_axis
         01:C6B3  AD 19 23   			lda	_player_axis
         01:C6B6  18         			clc
         01:C6B7  D0 01      			bne	!+
         01:C6B9  38         			sec
         01:C6BA             	!:
11294                        		__bfalse	.LL534
         01:C6BA  90 11      			bcc	.LL534
11295                        	
11296                        		.dbg	line,	"include\routines_LEVELS.c", 1726; {
11297                        	
11298                        		.dbg	line,	"include\routines_LEVELS.c", 1727; spr_x(player_pos_x+15);
11299                        		__ld.wm		_player_pos_x
         01:C6BC  AD F5 24   			lda.l	_player_pos_x
         01:C6BF  AC F6 24   			ldy.h	_player_pos_x
11300                        		__add.wi	15
         01:C6C2  18         			clc
         01:C6C3  69 0F      			adc.l	#15
         01:C6C5  90 01      			bcc	!+
         01:C6C7  C8         			iny
         01:C6C8             	!:
11301                        		__call		_spr_x.1
         01:C6C8  20 1E E8   			call	_spr_x.1
11302                        	
11303                        		.dbg	line,	"include\routines_LEVELS.c", 1728; }
11304                        	
11305                        		.dbg	line,	"include\routines_LEVELS.c", 1730; else
11306                        		__bra		.LL535
         01:C6CB  80 62      			bra	.LL535
11307    01:C6CD             	.LL534:
11308                        	
11309                        		.dbg	line,	"include\routines_LEVELS.c", 1731; {
11310                        	
11311                        		.dbg	line,	"include\routines_LEVELS.c", 1732; spr_x(player_pos_x+1);
11312                        		__ld.wm		_player_pos_x
         01:C6CD  AD F5 24   			lda.l	_player_pos_x
         01:C6D0  AC F6 24   			ldy.h	_player_pos_x
11313                        		__add.wi	1
         01:C6D3  1A         			inc	a
         01:C6D4  D0 01      			bne	!+
         01:C6D6  C8         			iny
         01:C6D7             	!:
11314                        		__call		_spr_x.1
         01:C6D7  20 1E E8   			call	_spr_x.1
11315                        	
11316                        		.dbg	line,	"include\routines_LEVELS.c", 1733; }
11317    01:C6DA             	.LL535	.alias		.LL536
11318                        	
11319                        		.dbg	line,	"include\routines_LEVELS.c", 1734; }
11320                        	
11321                        		.dbg	line,	"include\routines_LEVELS.c", 1737; else if(player_counter_anim == 18)
11322                        		__bra		.LL536
         01:C6DA  80 53      			bra	.LL536
11323    01:C6DC             	.LL533:
11324                        		__ld.umq	_player_counter_anim
         01:C6DC  AD 1B 23   			lda	_player_counter_anim
11325                        		__equ_b.uiq	18
         01:C6DF  C9 12      			cmp	#18
         01:C6E1  F0 01      			beq	!+
         01:C6E3  18         			clc
         01:C6E4             	!:
11326                        		__bfalse	.LL537
         01:C6E4  90 3C      			bcc	.LL537
11327                        	
11328                        		.dbg	line,	"include\routines_LEVELS.c", 1738; {
11329                        	
11330                        		.dbg	line,	"include\routines_LEVELS.c", 1739; spr_pattern(PLAYER_WALK_6_VRAM_ADR);
11331                        		__ld.wi		6656
         01:C6E6  62         			cla
         01:C6E7  A0 1A      			ldy.h	#6656
11332                        		__call		_spr_pattern.1
         01:C6E9  20 3A E8   			call	_spr_pattern.1
11333                        	
11334                        		.dbg	line,	"include\routines_LEVELS.c", 1741; spr_set(weapon_id);
11335                        		__ld.umq	_weapon_id
         01:C6EC  AD 26 23   			lda	_weapon_id
11336                        		__call		_spr_set.1
         01:C6EF  20 F1 E7   			call	_spr_set.1
11337                        	
11338                        		.dbg	line,	"include\routines_LEVELS.c", 1742; weapon_y_offset = 14;
11339                        		__st.umiq	14, _weapon_y_offset
         01:C6F2  A9 0E      			lda.l	#14
         01:C6F4  8D 8D 26   			sta	_weapon_y_offset
11340                        	
11341                        		.dbg	line,	"include\routines_LEVELS.c", 1743; //spr_y(player_pos_y+14);
11342                        	
11343                        		.dbg	line,	"include\routines_LEVELS.c", 1745; if(player_axis == AXIS_RIGHT)
11344                        		__not.um	_player_axis
         01:C6F7  AD 19 23   			lda	_player_axis
         01:C6FA  18         			clc
         01:C6FB  D0 01      			bne	!+
         01:C6FD  38         			sec
         01:C6FE             	!:
11345                        		__bfalse	.LL538
         01:C6FE  90 11      			bcc	.LL538
11346                        	
11347                        		.dbg	line,	"include\routines_LEVELS.c", 1746; {
11348                        	
11349                        		.dbg	line,	"include\routines_LEVELS.c", 1747; spr_x(player_pos_x+12);
11350                        		__ld.wm		_player_pos_x
         01:C700  AD F5 24   			lda.l	_player_pos_x
         01:C703  AC F6 24   			ldy.h	_player_pos_x
11351                        		__add.wi	12
         01:C706  18         			clc
         01:C707  69 0C      			adc.l	#12
         01:C709  90 01      			bcc	!+
         01:C70B  C8         			iny
         01:C70C             	!:
11352                        		__call		_spr_x.1
         01:C70C  20 1E E8   			call	_spr_x.1
11353                        	
11354                        		.dbg	line,	"include\routines_LEVELS.c", 1748; }
11355                        	
11356                        		.dbg	line,	"include\routines_LEVELS.c", 1750; else
11357                        		__bra		.LL539
         01:C70F  80 1E      			bra	.LL539
11358    01:C711             	.LL538:
11359                        	
11360                        		.dbg	line,	"include\routines_LEVELS.c", 1751; {
11361                        	
11362                        		.dbg	line,	"include\routines_LEVELS.c", 1752; spr_x(player_pos_x+4);
11363                        		__ld.wm		_player_pos_x
         01:C711  AD F5 24   			lda.l	_player_pos_x
         01:C714  AC F6 24   			ldy.h	_player_pos_x
11364                        		__add.wi	4
         01:C717  18         			clc
         01:C718  69 04      			adc.l	#4
         01:C71A  90 01      			bcc	!+
         01:C71C  C8         			iny
         01:C71D             	!:
11365                        		__call		_spr_x.1
         01:C71D  20 1E E8   			call	_spr_x.1
11366                        	
11367                        		.dbg	line,	"include\routines_LEVELS.c", 1753; } 
11368    01:C720             	.LL539	.alias		.LL540
11369                        	
11370                        		.dbg	line,	"include\routines_LEVELS.c", 1754; }
11371                        	
11372                        		.dbg	line,	"include\routines_LEVELS.c", 1757; else if(player_counter_anim == 19)
11373                        		__bra		.LL540
         01:C720  80 0D      			bra	.LL540
11374    01:C722             	.LL537:
11375                        		__ld.umq	_player_counter_anim
         01:C722  AD 1B 23   			lda	_player_counter_anim
11376                        		__equ_b.uiq	19
         01:C725  C9 13      			cmp	#19
         01:C727  F0 01      			beq	!+
         01:C729  18         			clc
         01:C72A             	!:
11377                        		__bfalse	.LL541
         01:C72A  90 03      			bcc	.LL541
11378                        	
11379                        		.dbg	line,	"include\routines_LEVELS.c", 1758; {
11380                        	
11381                        		.dbg	line,	"include\routines_LEVELS.c", 1759; player_counter_anim = 0;
11382                        		__st.umiq	0, _player_counter_anim
         01:C72C  9C 1B 23   			stz	_player_counter_anim
11383                        	
11384                        		.dbg	line,	"include\routines_LEVELS.c", 1760; }
11385                        	
11386                        		.dbg	line,	"include\routines_LEVELS.c", 1763; spr_set(weapon_id);
11387    01:C72F             	.LL541:
11388    01:C72F             	.LL540:
11389    01:C72F             	.LL536:
11390    01:C72F             	.LL532:
11391    01:C72F             	.LL528:
11392    01:C72F             	.LL526:
11393    01:C72F             	.LL522:
11394    01:C72F             	.LL518:
11395    01:C72F             	.LL514:
11396                        		__ld.umq	_weapon_id
         01:C72F  AD 26 23   			lda	_weapon_id
11397                        		__call		_spr_set.1
         01:C732  20 F1 E7   			call	_spr_set.1
11398                        	
11399                        		.dbg	line,	"include\routines_LEVELS.c", 1764; spr_y(player_pos_y + weapon_y_offset);
11400                        		__ld.bm		_weapon_y_offset
         01:C735  AD 8D 26   			lda	_weapon_y_offset
         01:C738  C2         			cly
         01:C739  10 01      			bpl	!+
         01:C73B  88         			dey
         01:C73C             	!:
11401                        		__add.wm	_player_pos_y
         01:C73C  18         			clc
         01:C73D  6D F7 24   			adc.l	_player_pos_y
         01:C740  42         			say
         01:C741  6D F8 24   			adc.h	_player_pos_y
         01:C744  42         			say
11402                        		__call		_spr_y.1
         01:C745  20 2D E8   			call	_spr_y.1
11403                        	
11404                        		.dbg	line,	"include\routines_LEVELS.c", 1765; //player_counter_anim += 1;
11405                        	
11406                        		.dbg	line,	"include\routines_LEVELS.c", 1767; }
11407                        	
11408                        		.dbg	line,	"include\routines_LEVELS.c", 1770; else if(player_state == STATE_JUMP)
11409                        		__bra		.LL542
         01:C748  4C 94 DC   			bra	.LL542
11410    01:C74B             	.LL500:
11411                        		__ld.umq	_player_state
         01:C74B  AD 18 23   			lda	_player_state
11412                        		__equ_b.uiq	4
         01:C74E  C9 04      			cmp	#4
         01:C750  F0 01      			beq	!+
         01:C752  18         			clc
         01:C753             	!:
11413                        		__bfalse	.LL543
         01:C753  B0 03 4C 4F			bcc	.LL543
         01:C757  CD          
11414                        	
11415                        		.dbg	line,	"include\routines_LEVELS.c", 1771; {
11416                        	
11417                        		.dbg	line,	"include\routines_LEVELS.c", 1772; unsigned char i;
11418                        	
11419                        		.dbg	line,	"include\routines_LEVELS.c", 1773; i = 1;
11420                        		__st.umiq	1, __update_PLAYER_end - 1  /* i */
         01:C758  A9 01      			lda.l	#1
         01:C75A  8D 0C 23   			sta	__update_PLAYER_end - 1
11421                        	
11422                        		.dbg	line,	"include\routines_LEVELS.c", 1776; if(player_counter_anim == 0)
11423                        		__not.um	_player_counter_anim
         01:C75D  AD 1B 23   			lda	_player_counter_anim
         01:C760  18         			clc
         01:C761  D0 01      			bne	!+
         01:C763  38         			sec
         01:C764             	!:
11424                        		__bfalse	.LL544
         01:C764  90 11      			bcc	.LL544
11425                        	
11426                        		.dbg	line,	"include\routines_LEVELS.c", 1777; {
11427                        	
11428                        		.dbg	line,	"include\routines_LEVELS.c", 1778; spr_set(player_id);
11429                        		__ld.umq	_player_id
         01:C766  AD 17 23   			lda	_player_id
11430                        		__call		_spr_set.1
         01:C769  20 F1 E7   			call	_spr_set.1
11431                        	
11432                        		.dbg	line,	"include\routines_LEVELS.c", 1779; spr_pattern(PLAYER_JUMP_VRAM_ADR);
11433                        		__ld.wi		6912
         01:C76C  62         			cla
         01:C76D  A0 1B      			ldy.h	#6912
11434                        		__call		_spr_pattern.1
         01:C76F  20 3A E8   			call	_spr_pattern.1
11435                        	
11436                        		.dbg	line,	"include\routines_LEVELS.c", 1781; player_counter_anim = 1;
11437                        		__st.umiq	1, _player_counter_anim
         01:C772  A9 01      			lda.l	#1
         01:C774  8D 1B 23   			sta	_player_counter_anim
11438                        	
11439                        		.dbg	line,	"include\routines_LEVELS.c", 1782; }
11440                        	
11441                        		.dbg	line,	"include\routines_LEVELS.c", 1785; player_pos_y += TABLE_PLAYER_JUMP_V[player_index_jump];
11442    01:C777             	.LL544:
11443                        		__ldx.umq	_player_index_jump
         01:C777  AE 1C 23   			ldx	_player_index_jump
11444                        		__ld.bax	_TABLE_PLAYER_JUMP_V
         01:C77A  BD 41 62   			lda	_TABLE_PLAYER_JUMP_V, x
         01:C77D  C2         			cly
         01:C77E  10 01      			bpl	!+
         01:C780  88         			dey
         01:C781             	!:
11445                        		__add_st.wmq	_player_pos_y
         01:C781  18         			clc
         01:C782  6D F7 24   			adc.l	_player_pos_y
         01:C785  8D F7 24   			sta.l	_player_pos_y
         01:C788  98         			tya
         01:C789  6D F8 24   			adc.h	_player_pos_y
         01:C78C  8D F8 24   			sta.h	_player_pos_y
11446                        	
11447                        		.dbg	line,	"include\routines_LEVELS.c", 1787; // CHECK COLLISION WITH CEILING //
11448                        	
11449                        		.dbg	line,	"include\routines_LEVELS.c", 1788; collision_PLAYER_BG( 15 , 8 );
11450                        		__ld.wi		15
         01:C78F  A9 0F      			lda.l	#15
         01:C791  C2         			cly
11451                        		__pusharg.wr
         01:C792  A6 8D      			ldx	<__sp
         01:C794  CA         			dex
         01:C795  CA         			dex
         01:C796  95 08      			sta.l	<__stack, x
         01:C798  94 09      			sty.h	<__stack, x
         01:C79A  86 8D      			stx	<__sp
11452                        		__ld.wi		8
         01:C79C  A9 08      			lda.l	#8
         01:C79E  C2         			cly
11453                        		__pusharg.wr
         01:C79F  A6 8D      			ldx	<__sp
         01:C7A1  CA         			dex
         01:C7A2  CA         			dex
         01:C7A3  95 08      			sta.l	<__stack, x
         01:C7A5  94 09      			sty.h	<__stack, x
         01:C7A7  86 8D      			stx	<__sp
11454                        		__call		_collision_PLAYER_BG
         01:C7A9  20 27 FF   			call	_collision_PLAYER_BG
11455                        	
11456                        		.dbg	line,	"include\routines_LEVELS.c", 1790; if(map_blk_flag == TILE_BG)
11457                        		__ld.umq	_map_blk_flag
         01:C7AC  AD F9 2B   			lda	_map_blk_flag
11458                        		__equ_b.uiq	1
         01:C7AF  C9 01      			cmp	#1
         01:C7B1  F0 01      			beq	!+
         01:C7B3  18         			clc
         01:C7B4             	!:
11459                        		__bfalse	.LL545
         01:C7B4  90 5A      			bcc	.LL545
11460                        	
11461                        		.dbg	line,	"include\routines_LEVELS.c", 1791; {
11462                        	
11463                        		.dbg	line,	"include\routines_LEVELS.c", 1792; for(i=1 ; i<8 ; i++)
11464                        		__st.umiq	1, __update_PLAYER_end - 1  /* i */
         01:C7B6  A9 01      			lda.l	#1
         01:C7B8  8D 0C 23   			sta	__update_PLAYER_end - 1
11465    01:C7BB             	.LL546:
11466                        		__ld.umq	__update_PLAYER_end - 1  /* i */
         01:C7BB  AD 0C 23   			lda	__update_PLAYER_end - 1
11467                        		__ult_b.uiq	8
         01:C7BE  C9 08      			cmp	#8		; Subtract integer from A.
         01:C7C0  6A         			ror	a		; CC if A < integer.
         01:C7C1  49 80      			eor	#$80
         01:C7C3  2A         			rol	a
11468                        		__btrue		.LL548
         01:C7C4  B0 07      			bcs	.LL548
11469                        		__bra		.LL549
         01:C7C6  80 48      			bra	.LL549
11470    01:C7C8             	.LL547:
11471                        		__inc.umq	__update_PLAYER_end - 1  /* i */
         01:C7C8  EE 0C 23   			inc	__update_PLAYER_end - 1
11472                        		__bra		.LL546
         01:C7CB  80 EE      			bra	.LL546
11473    01:C7CD             	.LL548:
11474                        	
11475                        		.dbg	line,	"include\routines_LEVELS.c", 1793; {
11476                        	
11477                        		.dbg	line,	"include\routines_LEVELS.c", 1794; collision_PLAYER_BG( 15 , 8 + i );
11478                        		__ld.wi		15
         01:C7CD  A9 0F      			lda.l	#15
         01:C7CF  C2         			cly
11479                        		__pusharg.wr
         01:C7D0  A6 8D      			ldx	<__sp
         01:C7D2  CA         			dex
         01:C7D3  CA         			dex
         01:C7D4  95 08      			sta.l	<__stack, x
         01:C7D6  94 09      			sty.h	<__stack, x
         01:C7D8  86 8D      			stx	<__sp
11480                        		__ld.wi		8
         01:C7DA  A9 08      			lda.l	#8
         01:C7DC  C2         			cly
11481                        		__add.um	__update_PLAYER_end - 1  /* i */
         01:C7DD  18         			clc
         01:C7DE  6D 0C 23   			adc	__update_PLAYER_end - 1
         01:C7E1  90 01      			bcc	!+
         01:C7E3  C8         			iny
         01:C7E4             	!:
11482                        		__pusharg.wr
         01:C7E4  A6 8D      			ldx	<__sp
         01:C7E6  CA         			dex
         01:C7E7  CA         			dex
         01:C7E8  95 08      			sta.l	<__stack, x
         01:C7EA  94 09      			sty.h	<__stack, x
         01:C7EC  86 8D      			stx	<__sp
11483                        		__call		_collision_PLAYER_BG
         01:C7EE  20 27 FF   			call	_collision_PLAYER_BG
11484                        	
11485                        		.dbg	line,	"include\routines_LEVELS.c", 1795; {
11486                        	
11487                        		.dbg	line,	"include\routines_LEVELS.c", 1796; if(map_blk_flag == TILE_EMPTY)
11488                        		__not.um	_map_blk_flag
         01:C7F1  AD F9 2B   			lda	_map_blk_flag
         01:C7F4  18         			clc
         01:C7F5  D0 01      			bne	!+
         01:C7F7  38         			sec
         01:C7F8             	!:
11489                        		__bfalse	.LL550
         01:C7F8  90 CE      			bcc	.LL550
11490                        	
11491                        		.dbg	line,	"include\routines_LEVELS.c", 1797; {
11492                        	
11493                        		.dbg	line,	"include\routines_LEVELS.c", 1798; player_pos_y += i;
11494                        		__ld.um		__update_PLAYER_end - 1  /* i */
         01:C7FA  AD 0C 23   			lda	__update_PLAYER_end - 1
         01:C7FD  C2         			cly
11495                        		__add_st.wmq	_player_pos_y
         01:C7FE  18         			clc
         01:C7FF  6D F7 24   			adc.l	_player_pos_y
         01:C802  8D F7 24   			sta.l	_player_pos_y
         01:C805  98         			tya
         01:C806  6D F8 24   			adc.h	_player_pos_y
         01:C809  8D F8 24   			sta.h	_player_pos_y
11496                        	
11497                        		.dbg	line,	"include\routines_LEVELS.c", 1799; break;
11498                        		__bra		.LL549
         01:C80C  80 02      			bra	.LL549
11499                        	
11500                        		.dbg	line,	"include\routines_LEVELS.c", 1800; }
11501                        	
11502                        		.dbg	line,	"include\routines_LEVELS.c", 1801; }
11503    01:C80E             	.LL550	.alias		.LL547
11504                        	
11505                        		.dbg	line,	"include\routines_LEVELS.c", 1802; }
11506                        		__bra		.LL547
         01:C80E  80 B8      			bra	.LL547
11507    01:C810             	.LL549:
11508                        	
11509                        		.dbg	line,	"include\routines_LEVELS.c", 1803; }
11510                        	
11511                        		.dbg	line,	"include\routines_LEVELS.c", 1806; if(player_attack == FALSE)
11512    01:C810             	.LL545:
11513                        		__not.um	_player_attack
         01:C810  AD 20 23   			lda	_player_attack
         01:C813  18         			clc
         01:C814  D0 01      			bne	!+
         01:C816  38         			sec
         01:C817             	!:
11514                        		__bfalse	.LL551
         01:C817  90 18      			bcc	.LL551
11515                        	
11516                        		.dbg	line,	"include\routines_LEVELS.c", 1807; {
11517                        	
11518                        		.dbg	line,	"include\routines_LEVELS.c", 1808; spr_set(weapon_id);
11519                        		__ld.umq	_weapon_id
         01:C819  AD 26 23   			lda	_weapon_id
11520                        		__call		_spr_set.1
         01:C81C  20 F1 E7   			call	_spr_set.1
11521                        	
11522                        		.dbg	line,	"include\routines_LEVELS.c", 1809; spr_y(player_pos_y+8);
11523                        		__ld.wm		_player_pos_y
         01:C81F  AD F7 24   			lda.l	_player_pos_y
         01:C822  AC F8 24   			ldy.h	_player_pos_y
11524                        		__add.wi	8
         01:C825  18         			clc
         01:C826  69 08      			adc.l	#8
         01:C828  90 01      			bcc	!+
         01:C82A  C8         			iny
         01:C82B             	!:
11525                        		__call		_spr_y.1
         01:C82B  20 2D E8   			call	_spr_y.1
11526                        	
11527                        		.dbg	line,	"include\routines_LEVELS.c", 1810; }
11528                        	
11529                        		.dbg	line,	"include\routines_LEVELS.c", 1812; 
11530                        	
11531                        		.dbg	line,	"include\routines_LEVELS.c", 1813; else
11532                        		__bra		.LL552
         01:C82E  4C DA CA   			bra	.LL552
11533    01:C831             	.LL551:
11534                        	
11535                        		.dbg	line,	"include\routines_LEVELS.c", 1814; {
11536                        	
11537                        		.dbg	line,	"include\routines_LEVELS.c", 1815; if(player_counter_attack == 0)
11538                        		__not.um	_player_counter_attack
         01:C831  AD 1E 23   			lda	_player_counter_attack
         01:C834  18         			clc
         01:C835  D0 01      			bne	!+
         01:C837  38         			sec
         01:C838             	!:
11539                        		__bfalse	.LL553
         01:C838  90 53      			bcc	.LL553
11540                        	
11541                        		.dbg	line,	"include\routines_LEVELS.c", 1816; {
11542                        	
11543                        		.dbg	line,	"include\routines_LEVELS.c", 1817; spr_set(player_id);
11544                        		__ld.umq	_player_id
         01:C83A  AD 17 23   			lda	_player_id
11545                        		__call		_spr_set.1
         01:C83D  20 F1 E7   			call	_spr_set.1
11546                        	
11547                        		.dbg	line,	"include\routines_LEVELS.c", 1818; spr_pattern(PLAYER_JUMP_ATTACK_1_VRAM_ADR);
11548                        		__ld.wi		10496
         01:C840  62         			cla
         01:C841  A0 29      			ldy.h	#10496
11549                        		__call		_spr_pattern.1
         01:C843  20 3A E8   			call	_spr_pattern.1
11550                        	
11551                        		.dbg	line,	"include\routines_LEVELS.c", 1820; spr_set(weapon_id);
11552                        		__ld.umq	_weapon_id
         01:C846  AD 26 23   			lda	_weapon_id
11553                        		__call		_spr_set.1
         01:C849  20 F1 E7   			call	_spr_set.1
11554                        	
11555                        		.dbg	line,	"include\routines_LEVELS.c", 1821; spr_pattern(WEAPON_ATTACK_1_VRAM_ADRESS);
11556                        		__ld.wi		32000
         01:C84C  62         			cla
         01:C84D  A0 7D      			ldy.h	#32000
11557                        		__call		_spr_pattern.1
         01:C84F  20 3A E8   			call	_spr_pattern.1
11558                        	
11559                        		.dbg	line,	"include\routines_LEVELS.c", 1823; if(player_axis == AXIS_RIGHT)
11560                        		__not.um	_player_axis
         01:C852  AD 19 23   			lda	_player_axis
         01:C855  18         			clc
         01:C856  D0 01      			bne	!+
         01:C858  38         			sec
         01:C859             	!:
11561                        		__bfalse	.LL554
         01:C859  90 11      			bcc	.LL554
11562                        	
11563                        		.dbg	line,	"include\routines_LEVELS.c", 1824; {
11564                        	
11565                        		.dbg	line,	"include\routines_LEVELS.c", 1825; spr_x(player_pos_x-14);
11566                        		__ld.wm		_player_pos_x
         01:C85B  AD F5 24   			lda.l	_player_pos_x
         01:C85E  AC F6 24   			ldy.h	_player_pos_x
11567                        		__sub.wi	14
         01:C861  38         			sec
         01:C862  E9 0E      			sbc.l	#14
         01:C864  B0 01      			bcs	!+
         01:C866  88         			dey
         01:C867             	!:
11568                        		__call		_spr_x.1
         01:C867  20 1E E8   			call	_spr_x.1
11569                        	
11570                        		.dbg	line,	"include\routines_LEVELS.c", 1826; }
11571                        	
11572                        		.dbg	line,	"include\routines_LEVELS.c", 1828; else
11573                        		__bra		.LL555
         01:C86A  80 0F      			bra	.LL555
11574    01:C86C             	.LL554:
11575                        	
11576                        		.dbg	line,	"include\routines_LEVELS.c", 1829; {
11577                        	
11578                        		.dbg	line,	"include\routines_LEVELS.c", 1830; spr_x(player_pos_x+29);
11579                        		__ld.wm		_player_pos_x
         01:C86C  AD F5 24   			lda.l	_player_pos_x
         01:C86F  AC F6 24   			ldy.h	_player_pos_x
11580                        		__add.wi	29
         01:C872  18         			clc
         01:C873  69 1D      			adc.l	#29
         01:C875  90 01      			bcc	!+
         01:C877  C8         			iny
         01:C878             	!:
11581                        		__call		_spr_x.1
         01:C878  20 1E E8   			call	_spr_x.1
11582                        	
11583                        		.dbg	line,	"include\routines_LEVELS.c", 1831; }
11584    01:C87B             	.LL555:
11585                        	
11586                        		.dbg	line,	"include\routines_LEVELS.c", 1833; spr_y(player_pos_y-8);
11587                        		__ld.wm		_player_pos_y
         01:C87B  AD F7 24   			lda.l	_player_pos_y
         01:C87E  AC F8 24   			ldy.h	_player_pos_y
11588                        		__sub.wi	8
         01:C881  38         			sec
         01:C882  E9 08      			sbc.l	#8
         01:C884  B0 01      			bcs	!+
         01:C886  88         			dey
         01:C887             	!:
11589                        		__call		_spr_y.1
         01:C887  20 2D E8   			call	_spr_y.1
11590                        	
11591                        		.dbg	line,	"include\routines_LEVELS.c", 1834; }
11592                        	
11593                        		.dbg	line,	"include\routines_LEVELS.c", 1836; else if(player_counter_attack == 6)
11594                        		__bra		.LL556
         01:C88A  4C D7 CA   			bra	.LL556
11595    01:C88D             	.LL553:
11596                        		__ld.umq	_player_counter_attack
         01:C88D  AD 1E 23   			lda	_player_counter_attack
11597                        		__equ_b.uiq	6
         01:C890  C9 06      			cmp	#6
         01:C892  F0 01      			beq	!+
         01:C894  18         			clc
         01:C895             	!:
11598                        		__bfalse	.LL557
         01:C895  90 54      			bcc	.LL557
11599                        	
11600                        		.dbg	line,	"include\routines_LEVELS.c", 1837; {
11601                        	
11602                        		.dbg	line,	"include\routines_LEVELS.c", 1838; spr_set(player_id);
11603                        		__ld.umq	_player_id
         01:C897  AD 17 23   			lda	_player_id
11604                        		__call		_spr_set.1
         01:C89A  20 F1 E7   			call	_spr_set.1
11605                        	
11606                        		.dbg	line,	"include\routines_LEVELS.c", 1839; spr_pattern(PLAYER_JUMP_ATTACK_2_VRAM_ADR);
11607                        		__ld.wi		10752
         01:C89D  62         			cla
         01:C89E  A0 2A      			ldy.h	#10752
11608                        		__call		_spr_pattern.1
         01:C8A0  20 3A E8   			call	_spr_pattern.1
11609                        	
11610                        		.dbg	line,	"include\routines_LEVELS.c", 1841; spr_set(weapon_id);
11611                        		__ld.umq	_weapon_id
         01:C8A3  AD 26 23   			lda	_weapon_id
11612                        		__call		_spr_set.1
         01:C8A6  20 F1 E7   			call	_spr_set.1
11613                        	
11614                        		.dbg	line,	"include\routines_LEVELS.c", 1842; spr_pattern(WEAPON_ATTACK_2_VRAM_ADRESS);
11615                        		__ld.wi		32064
         01:C8A9  A9 40      			lda.l	#32064
         01:C8AB  A0 7D      			ldy.h	#32064
11616                        		__call		_spr_pattern.1
         01:C8AD  20 3A E8   			call	_spr_pattern.1
11617                        	
11618                        		.dbg	line,	"include\routines_LEVELS.c", 1844; if(player_axis == AXIS_RIGHT)
11619                        		__not.um	_player_axis
         01:C8B0  AD 19 23   			lda	_player_axis
         01:C8B3  18         			clc
         01:C8B4  D0 01      			bne	!+
         01:C8B6  38         			sec
         01:C8B7             	!:
11620                        		__bfalse	.LL558
         01:C8B7  90 11      			bcc	.LL558
11621                        	
11622                        		.dbg	line,	"include\routines_LEVELS.c", 1845; {
11623                        	
11624                        		.dbg	line,	"include\routines_LEVELS.c", 1846; spr_x(player_pos_x+32);
11625                        		__ld.wm		_player_pos_x
         01:C8B9  AD F5 24   			lda.l	_player_pos_x
         01:C8BC  AC F6 24   			ldy.h	_player_pos_x
11626                        		__add.wi	32
         01:C8BF  18         			clc
         01:C8C0  69 20      			adc.l	#32
         01:C8C2  90 01      			bcc	!+
         01:C8C4  C8         			iny
         01:C8C5             	!:
11627                        		__call		_spr_x.1
         01:C8C5  20 1E E8   			call	_spr_x.1
11628                        	
11629                        		.dbg	line,	"include\routines_LEVELS.c", 1847; 
11630                        	
11631                        		.dbg	line,	"include\routines_LEVELS.c", 1848; }
11632                        	
11633                        		.dbg	line,	"include\routines_LEVELS.c", 1849; 
11634                        	
11635                        		.dbg	line,	"include\routines_LEVELS.c", 1850; else
11636                        		__bra		.LL559
         01:C8C8  80 0F      			bra	.LL559
11637    01:C8CA             	.LL558:
11638                        	
11639                        		.dbg	line,	"include\routines_LEVELS.c", 1851; {
11640                        	
11641                        		.dbg	line,	"include\routines_LEVELS.c", 1852; spr_x(player_pos_x-16);
11642                        		__ld.wm		_player_pos_x
         01:C8CA  AD F5 24   			lda.l	_player_pos_x
         01:C8CD  AC F6 24   			ldy.h	_player_pos_x
11643                        		__sub.wi	16
         01:C8D0  38         			sec
         01:C8D1  E9 10      			sbc.l	#16
         01:C8D3  B0 01      			bcs	!+
         01:C8D5  88         			dey
         01:C8D6             	!:
11644                        		__call		_spr_x.1
         01:C8D6  20 1E E8   			call	_spr_x.1
11645                        	
11646                        		.dbg	line,	"include\routines_LEVELS.c", 1853; }
11647    01:C8D9             	.LL559:
11648                        	
11649                        		.dbg	line,	"include\routines_LEVELS.c", 1855; spr_y(player_pos_y+6);
11650                        		__ld.wm		_player_pos_y
         01:C8D9  AD F7 24   			lda.l	_player_pos_y
         01:C8DC  AC F8 24   			ldy.h	_player_pos_y
11651                        		__add.wi	6
         01:C8DF  18         			clc
         01:C8E0  69 06      			adc.l	#6
         01:C8E2  90 01      			bcc	!+
         01:C8E4  C8         			iny
         01:C8E5             	!:
11652                        		__call		_spr_y.1
         01:C8E5  20 2D E8   			call	_spr_y.1
11653                        	
11654                        		.dbg	line,	"include\routines_LEVELS.c", 1856; }
11655                        	
11656                        		.dbg	line,	"include\routines_LEVELS.c", 1858; else if(player_counter_attack == 7)
11657                        		__bra		.LL560
         01:C8E8  4C D7 CA   			bra	.LL560
11658    01:C8EB             	.LL557:
11659                        		__ld.umq	_player_counter_attack
         01:C8EB  AD 1E 23   			lda	_player_counter_attack
11660                        		__equ_b.uiq	7
         01:C8EE  C9 07      			cmp	#7
         01:C8F0  F0 01      			beq	!+
         01:C8F2  18         			clc
         01:C8F3             	!:
11661                        		__bfalse	.LL561
         01:C8F3  90 66      			bcc	.LL561
11662                        	
11663                        		.dbg	line,	"include\routines_LEVELS.c", 1859; {
11664                        	
11665                        		.dbg	line,	"include\routines_LEVELS.c", 1860; spr_set(chain_id);
11666                        		__ld.umq	_chain_id
         01:C8F5  AD 25 23   			lda	_chain_id
11667                        		__call		_spr_set.1
         01:C8F8  20 F1 E7   			call	_spr_set.1
11668                        	
11669                        		.dbg	line,	"include\routines_LEVELS.c", 1861; spr_y(player_pos_y);
11670                        		__ld.wm		_player_pos_y
         01:C8FB  AD F7 24   			lda.l	_player_pos_y
         01:C8FE  AC F8 24   			ldy.h	_player_pos_y
11671                        		__call		_spr_y.1
         01:C901  20 2D E8   			call	_spr_y.1
11672                        	
11673                        		.dbg	line,	"include\routines_LEVELS.c", 1863; if(player_axis == AXIS_RIGHT)
11674                        		__not.um	_player_axis
         01:C904  AD 19 23   			lda	_player_axis
         01:C907  18         			clc
         01:C908  D0 01      			bne	!+
         01:C90A  38         			sec
         01:C90B             	!:
11675                        		__bfalse	.LL562
         01:C90B  90 27      			bcc	.LL562
11676                        	
11677                        		.dbg	line,	"include\routines_LEVELS.c", 1864; {
11678                        	
11679                        		.dbg	line,	"include\routines_LEVELS.c", 1865; spr_x(player_pos_x+32);
11680                        		__ld.wm		_player_pos_x
         01:C90D  AD F5 24   			lda.l	_player_pos_x
         01:C910  AC F6 24   			ldy.h	_player_pos_x
11681                        		__add.wi	32
         01:C913  18         			clc
         01:C914  69 20      			adc.l	#32
         01:C916  90 01      			bcc	!+
         01:C918  C8         			iny
         01:C919             	!:
11682                        		__call		_spr_x.1
         01:C919  20 1E E8   			call	_spr_x.1
11683                        	
11684                        		.dbg	line,	"include\routines_LEVELS.c", 1867; spr_set(weapon_id);
11685                        		__ld.umq	_weapon_id
         01:C91C  AD 26 23   			lda	_weapon_id
11686                        		__call		_spr_set.1
         01:C91F  20 F1 E7   			call	_spr_set.1
11687                        	
11688                        		.dbg	line,	"include\routines_LEVELS.c", 1868; spr_x(player_pos_x+48);
11689                        		__ld.wm		_player_pos_x
         01:C922  AD F5 24   			lda.l	_player_pos_x
         01:C925  AC F6 24   			ldy.h	_player_pos_x
11690                        		__add.wi	48
         01:C928  18         			clc
         01:C929  69 30      			adc.l	#48
         01:C92B  90 01      			bcc	!+
         01:C92D  C8         			iny
         01:C92E             	!:
11691                        		__call		_spr_x.1
         01:C92E  20 1E E8   			call	_spr_x.1
11692                        	
11693                        		.dbg	line,	"include\routines_LEVELS.c", 1869; }
11694                        	
11695                        		.dbg	line,	"include\routines_LEVELS.c", 1870; 
11696                        	
11697                        		.dbg	line,	"include\routines_LEVELS.c", 1871; else
11698                        		__bra		.LL563
         01:C931  4C D7 CA   			bra	.LL563
11699    01:C934             	.LL562:
11700                        	
11701                        		.dbg	line,	"include\routines_LEVELS.c", 1872; {
11702                        	
11703                        		.dbg	line,	"include\routines_LEVELS.c", 1873; spr_x(player_pos_x-16);
11704                        		__ld.wm		_player_pos_x
         01:C934  AD F5 24   			lda.l	_player_pos_x
         01:C937  AC F6 24   			ldy.h	_player_pos_x
11705                        		__sub.wi	16
         01:C93A  38         			sec
         01:C93B  E9 10      			sbc.l	#16
         01:C93D  B0 01      			bcs	!+
         01:C93F  88         			dey
         01:C940             	!:
11706                        		__call		_spr_x.1
         01:C940  20 1E E8   			call	_spr_x.1
11707                        	
11708                        		.dbg	line,	"include\routines_LEVELS.c", 1875; spr_set(weapon_id);
11709                        		__ld.umq	_weapon_id
         01:C943  AD 26 23   			lda	_weapon_id
11710                        		__call		_spr_set.1
         01:C946  20 F1 E7   			call	_spr_set.1
11711                        	
11712                        		.dbg	line,	"include\routines_LEVELS.c", 1876; spr_x(player_pos_x-32);
11713                        		__ld.wm		_player_pos_x
         01:C949  AD F5 24   			lda.l	_player_pos_x
         01:C94C  AC F6 24   			ldy.h	_player_pos_x
11714                        		__sub.wi	32
         01:C94F  38         			sec
         01:C950  E9 20      			sbc.l	#32
         01:C952  B0 01      			bcs	!+
         01:C954  88         			dey
         01:C955             	!:
11715                        		__call		_spr_x.1
         01:C955  20 1E E8   			call	_spr_x.1
11716                        	
11717                        		.dbg	line,	"include\routines_LEVELS.c", 1877; }
11718    01:C958             	.LL563	.alias		.LL564
11719                        	
11720                        		.dbg	line,	"include\routines_LEVELS.c", 1878; }
11721                        	
11722                        		.dbg	line,	"include\routines_LEVELS.c", 1880; else if(player_counter_attack == 8)
11723                        		__bra		.LL564
         01:C958  4C D7 CA   			bra	.LL564
11724    01:C95B             	.LL561:
11725                        		__ld.umq	_player_counter_attack
         01:C95B  AD 1E 23   			lda	_player_counter_attack
11726                        		__equ_b.uiq	8
         01:C95E  C9 08      			cmp	#8
         01:C960  F0 01      			beq	!+
         01:C962  18         			clc
         01:C963             	!:
11727                        		__bfalse	.LL565
         01:C963  90 6B      			bcc	.LL565
11728                        	
11729                        		.dbg	line,	"include\routines_LEVELS.c", 1881; {
11730                        	
11731                        		.dbg	line,	"include\routines_LEVELS.c", 1882; spr_set(chain_id+1);
11732                        		__ld.um		_chain_id
         01:C965  AD 25 23   			lda	_chain_id
         01:C968  C2         			cly
11733                        		__add.wi	1
         01:C969  1A         			inc	a
         01:C96A  D0 01      			bne	!+
         01:C96C  C8         			iny
         01:C96D             	!:
11734                        		__call		_spr_set.1
         01:C96D  20 F1 E7   			call	_spr_set.1
11735                        	
11736                        		.dbg	line,	"include\routines_LEVELS.c", 1883; spr_y(player_pos_y);
11737                        		__ld.wm		_player_pos_y
         01:C970  AD F7 24   			lda.l	_player_pos_y
         01:C973  AC F8 24   			ldy.h	_player_pos_y
11738                        		__call		_spr_y.1
         01:C976  20 2D E8   			call	_spr_y.1
11739                        	
11740                        		.dbg	line,	"include\routines_LEVELS.c", 1885; if(player_axis == AXIS_RIGHT)
11741                        		__not.um	_player_axis
         01:C979  AD 19 23   			lda	_player_axis
         01:C97C  18         			clc
         01:C97D  D0 01      			bne	!+
         01:C97F  38         			sec
         01:C980             	!:
11742                        		__bfalse	.LL566
         01:C980  90 27      			bcc	.LL566
11743                        	
11744                        		.dbg	line,	"include\routines_LEVELS.c", 1886; {
11745                        	
11746                        		.dbg	line,	"include\routines_LEVELS.c", 1887; spr_x(player_pos_x+48);
11747                        		__ld.wm		_player_pos_x
         01:C982  AD F5 24   			lda.l	_player_pos_x
         01:C985  AC F6 24   			ldy.h	_player_pos_x
11748                        		__add.wi	48
         01:C988  18         			clc
         01:C989  69 30      			adc.l	#48
         01:C98B  90 01      			bcc	!+
         01:C98D  C8         			iny
         01:C98E             	!:
11749                        		__call		_spr_x.1
         01:C98E  20 1E E8   			call	_spr_x.1
11750                        	
11751                        		.dbg	line,	"include\routines_LEVELS.c", 1889; spr_set(weapon_id);
11752                        		__ld.umq	_weapon_id
         01:C991  AD 26 23   			lda	_weapon_id
11753                        		__call		_spr_set.1
         01:C994  20 F1 E7   			call	_spr_set.1
11754                        	
11755                        		.dbg	line,	"include\routines_LEVELS.c", 1890; spr_x(player_pos_x+64);
11756                        		__ld.wm		_player_pos_x
         01:C997  AD F5 24   			lda.l	_player_pos_x
         01:C99A  AC F6 24   			ldy.h	_player_pos_x
11757                        		__add.wi	64
         01:C99D  18         			clc
         01:C99E  69 40      			adc.l	#64
         01:C9A0  90 01      			bcc	!+
         01:C9A2  C8         			iny
         01:C9A3             	!:
11758                        		__call		_spr_x.1
         01:C9A3  20 1E E8   			call	_spr_x.1
11759                        	
11760                        		.dbg	line,	"include\routines_LEVELS.c", 1891; }
11761                        	
11762                        		.dbg	line,	"include\routines_LEVELS.c", 1892; 
11763                        	
11764                        		.dbg	line,	"include\routines_LEVELS.c", 1893; else
11765                        		__bra		.LL567
         01:C9A6  4C D7 CA   			bra	.LL567
11766    01:C9A9             	.LL566:
11767                        	
11768                        		.dbg	line,	"include\routines_LEVELS.c", 1894; {
11769                        	
11770                        		.dbg	line,	"include\routines_LEVELS.c", 1895; spr_x(player_pos_x-32);
11771                        		__ld.wm		_player_pos_x
         01:C9A9  AD F5 24   			lda.l	_player_pos_x
         01:C9AC  AC F6 24   			ldy.h	_player_pos_x
11772                        		__sub.wi	32
         01:C9AF  38         			sec
         01:C9B0  E9 20      			sbc.l	#32
         01:C9B2  B0 01      			bcs	!+
         01:C9B4  88         			dey
         01:C9B5             	!:
11773                        		__call		_spr_x.1
         01:C9B5  20 1E E8   			call	_spr_x.1
11774                        	
11775                        		.dbg	line,	"include\routines_LEVELS.c", 1897; spr_set(weapon_id);
11776                        		__ld.umq	_weapon_id
         01:C9B8  AD 26 23   			lda	_weapon_id
11777                        		__call		_spr_set.1
         01:C9BB  20 F1 E7   			call	_spr_set.1
11778                        	
11779                        		.dbg	line,	"include\routines_LEVELS.c", 1898; spr_x(player_pos_x-48);
11780                        		__ld.wm		_player_pos_x
         01:C9BE  AD F5 24   			lda.l	_player_pos_x
         01:C9C1  AC F6 24   			ldy.h	_player_pos_x
11781                        		__sub.wi	48
         01:C9C4  38         			sec
         01:C9C5  E9 30      			sbc.l	#48
         01:C9C7  B0 01      			bcs	!+
         01:C9C9  88         			dey
         01:C9CA             	!:
11782                        		__call		_spr_x.1
         01:C9CA  20 1E E8   			call	_spr_x.1
11783                        	
11784                        		.dbg	line,	"include\routines_LEVELS.c", 1899; }
11785    01:C9CD             	.LL567	.alias		.LL568
11786                        	
11787                        		.dbg	line,	"include\routines_LEVELS.c", 1900; }
11788                        	
11789                        		.dbg	line,	"include\routines_LEVELS.c", 1902; else if(player_counter_attack == 9)
11790                        		__bra		.LL568
         01:C9CD  4C D7 CA   			bra	.LL568
11791    01:C9D0             	.LL565:
11792                        		__ld.umq	_player_counter_attack
         01:C9D0  AD 1E 23   			lda	_player_counter_attack
11793                        		__equ_b.uiq	9
         01:C9D3  C9 09      			cmp	#9
         01:C9D5  F0 01      			beq	!+
         01:C9D7  18         			clc
         01:C9D8             	!:
11794                        		__bfalse	.LL569
         01:C9D8  90 6D      			bcc	.LL569
11795                        	
11796                        		.dbg	line,	"include\routines_LEVELS.c", 1903; {
11797                        	
11798                        		.dbg	line,	"include\routines_LEVELS.c", 1904; spr_set(chain_id+2);
11799                        		__ld.um		_chain_id
         01:C9DA  AD 25 23   			lda	_chain_id
         01:C9DD  C2         			cly
11800                        		__add.wi	2
         01:C9DE  18         			clc
         01:C9DF  69 02      			adc.l	#2
         01:C9E1  90 01      			bcc	!+
         01:C9E3  C8         			iny
         01:C9E4             	!:
11801                        		__call		_spr_set.1
         01:C9E4  20 F1 E7   			call	_spr_set.1
11802                        	
11803                        		.dbg	line,	"include\routines_LEVELS.c", 1905; spr_y(player_pos_y);
11804                        		__ld.wm		_player_pos_y
         01:C9E7  AD F7 24   			lda.l	_player_pos_y
         01:C9EA  AC F8 24   			ldy.h	_player_pos_y
11805                        		__call		_spr_y.1
         01:C9ED  20 2D E8   			call	_spr_y.1
11806                        	
11807                        		.dbg	line,	"include\routines_LEVELS.c", 1907; if(player_axis == AXIS_RIGHT)
11808                        		__not.um	_player_axis
         01:C9F0  AD 19 23   			lda	_player_axis
         01:C9F3  18         			clc
         01:C9F4  D0 01      			bne	!+
         01:C9F6  38         			sec
         01:C9F7             	!:
11809                        		__bfalse	.LL570
         01:C9F7  90 27      			bcc	.LL570
11810                        	
11811                        		.dbg	line,	"include\routines_LEVELS.c", 1908; {
11812                        	
11813                        		.dbg	line,	"include\routines_LEVELS.c", 1909; spr_x(player_pos_x+64);
11814                        		__ld.wm		_player_pos_x
         01:C9F9  AD F5 24   			lda.l	_player_pos_x
         01:C9FC  AC F6 24   			ldy.h	_player_pos_x
11815                        		__add.wi	64
         01:C9FF  18         			clc
         01:CA00  69 40      			adc.l	#64
         01:CA02  90 01      			bcc	!+
         01:CA04  C8         			iny
         01:CA05             	!:
11816                        		__call		_spr_x.1
         01:CA05  20 1E E8   			call	_spr_x.1
11817                        	
11818                        		.dbg	line,	"include\routines_LEVELS.c", 1911; spr_set(weapon_id);
11819                        		__ld.umq	_weapon_id
         01:CA08  AD 26 23   			lda	_weapon_id
11820                        		__call		_spr_set.1
         01:CA0B  20 F1 E7   			call	_spr_set.1
11821                        	
11822                        		.dbg	line,	"include\routines_LEVELS.c", 1912; spr_x(player_pos_x+80);
11823                        		__ld.wm		_player_pos_x
         01:CA0E  AD F5 24   			lda.l	_player_pos_x
         01:CA11  AC F6 24   			ldy.h	_player_pos_x
11824                        		__add.wi	80
         01:CA14  18         			clc
         01:CA15  69 50      			adc.l	#80
         01:CA17  90 01      			bcc	!+
         01:CA19  C8         			iny
         01:CA1A             	!:
11825                        		__call		_spr_x.1
         01:CA1A  20 1E E8   			call	_spr_x.1
11826                        	
11827                        		.dbg	line,	"include\routines_LEVELS.c", 1913; }
11828                        	
11829                        		.dbg	line,	"include\routines_LEVELS.c", 1914; 
11830                        	
11831                        		.dbg	line,	"include\routines_LEVELS.c", 1915; else
11832                        		__bra		.LL571
         01:CA1D  4C D7 CA   			bra	.LL571
11833    01:CA20             	.LL570:
11834                        	
11835                        		.dbg	line,	"include\routines_LEVELS.c", 1916; {
11836                        	
11837                        		.dbg	line,	"include\routines_LEVELS.c", 1917; spr_x(player_pos_x-48);
11838                        		__ld.wm		_player_pos_x
         01:CA20  AD F5 24   			lda.l	_player_pos_x
         01:CA23  AC F6 24   			ldy.h	_player_pos_x
11839                        		__sub.wi	48
         01:CA26  38         			sec
         01:CA27  E9 30      			sbc.l	#48
         01:CA29  B0 01      			bcs	!+
         01:CA2B  88         			dey
         01:CA2C             	!:
11840                        		__call		_spr_x.1
         01:CA2C  20 1E E8   			call	_spr_x.1
11841                        	
11842                        		.dbg	line,	"include\routines_LEVELS.c", 1919; spr_set(weapon_id);
11843                        		__ld.umq	_weapon_id
         01:CA2F  AD 26 23   			lda	_weapon_id
11844                        		__call		_spr_set.1
         01:CA32  20 F1 E7   			call	_spr_set.1
11845                        	
11846                        		.dbg	line,	"include\routines_LEVELS.c", 1920; spr_x(player_pos_x-64);
11847                        		__ld.wm		_player_pos_x
         01:CA35  AD F5 24   			lda.l	_player_pos_x
         01:CA38  AC F6 24   			ldy.h	_player_pos_x
11848                        		__sub.wi	64
         01:CA3B  38         			sec
         01:CA3C  E9 40      			sbc.l	#64
         01:CA3E  B0 01      			bcs	!+
         01:CA40  88         			dey
         01:CA41             	!:
11849                        		__call		_spr_x.1
         01:CA41  20 1E E8   			call	_spr_x.1
11850                        	
11851                        		.dbg	line,	"include\routines_LEVELS.c", 1921; }
11852    01:CA44             	.LL571	.alias		.LL572
11853                        	
11854                        		.dbg	line,	"include\routines_LEVELS.c", 1922; }
11855                        	
11856                        		.dbg	line,	"include\routines_LEVELS.c", 1924; else if(player_counter_attack == 23)
11857                        		__bra		.LL572
         01:CA44  4C D7 CA   			bra	.LL572
11858    01:CA47             	.LL569:
11859                        		__ld.umq	_player_counter_attack
         01:CA47  AD 1E 23   			lda	_player_counter_attack
11860                        		__equ_b.uiq	23
         01:CA4A  C9 17      			cmp	#23
         01:CA4C  F0 01      			beq	!+
         01:CA4E  18         			clc
         01:CA4F             	!:
11861                        		__bfalse	.LL573
         01:CA4F  B0 03 4C D7			bcc	.LL573
         01:CA53  CA          
11862                        	
11863                        		.dbg	line,	"include\routines_LEVELS.c", 1925; {
11864                        	
11865                        		.dbg	line,	"include\routines_LEVELS.c", 1926; spr_set(chain_id);
11866                        		__ld.umq	_chain_id
         01:CA54  AD 25 23   			lda	_chain_id
11867                        		__call		_spr_set.1
         01:CA57  20 F1 E7   			call	_spr_set.1
11868                        	
11869                        		.dbg	line,	"include\routines_LEVELS.c", 1927; spr_hide();
11870                        		__call		_spr_hide
         01:CA5A  20 0C E8   			call	_spr_hide
11871                        	
11872                        		.dbg	line,	"include\routines_LEVELS.c", 1929; spr_set(chain_id+1);
11873                        		__ld.um		_chain_id
         01:CA5D  AD 25 23   			lda	_chain_id
         01:CA60  C2         			cly
11874                        		__add.wi	1
         01:CA61  1A         			inc	a
         01:CA62  D0 01      			bne	!+
         01:CA64  C8         			iny
         01:CA65             	!:
11875                        		__call		_spr_set.1
         01:CA65  20 F1 E7   			call	_spr_set.1
11876                        	
11877                        		.dbg	line,	"include\routines_LEVELS.c", 1930; spr_hide();
11878                        		__call		_spr_hide
         01:CA68  20 0C E8   			call	_spr_hide
11879                        	
11880                        		.dbg	line,	"include\routines_LEVELS.c", 1932; spr_set(chain_id+2);
11881                        		__ld.um		_chain_id
         01:CA6B  AD 25 23   			lda	_chain_id
         01:CA6E  C2         			cly
11882                        		__add.wi	2
         01:CA6F  18         			clc
         01:CA70  69 02      			adc.l	#2
         01:CA72  90 01      			bcc	!+
         01:CA74  C8         			iny
         01:CA75             	!:
11883                        		__call		_spr_set.1
         01:CA75  20 F1 E7   			call	_spr_set.1
11884                        	
11885                        		.dbg	line,	"include\routines_LEVELS.c", 1933; spr_hide();
11886                        		__call		_spr_hide
         01:CA78  20 0C E8   			call	_spr_hide
11887                        	
11888                        		.dbg	line,	"include\routines_LEVELS.c", 1935; spr_set(player_id);
11889                        		__ld.umq	_player_id
         01:CA7B  AD 17 23   			lda	_player_id
11890                        		__call		_spr_set.1
         01:CA7E  20 F1 E7   			call	_spr_set.1
11891                        	
11892                        		.dbg	line,	"include\routines_LEVELS.c", 1936; spr_pattern(PLAYER_HANG_VRAM_ADR);
11893                        		__ld.wi		7424
         01:CA81  62         			cla
         01:CA82  A0 1D      			ldy.h	#7424
11894                        		__call		_spr_pattern.1
         01:CA84  20 3A E8   			call	_spr_pattern.1
11895                        	
11896                        		.dbg	line,	"include\routines_LEVELS.c", 1938; spr_set(weapon_id);
11897                        		__ld.umq	_weapon_id
         01:CA87  AD 26 23   			lda	_weapon_id
11898                        		__call		_spr_set.1
         01:CA8A  20 F1 E7   			call	_spr_set.1
11899                        	
11900                        		.dbg	line,	"include\routines_LEVELS.c", 1939; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
11901                        		__ld.wi		31808
         01:CA8D  A9 40      			lda.l	#31808
         01:CA8F  A0 7C      			ldy.h	#31808
11902                        		__call		_spr_pattern.1
         01:CA91  20 3A E8   			call	_spr_pattern.1
11903                        	
11904                        		.dbg	line,	"include\routines_LEVELS.c", 1940; spr_y(player_pos_y+5);
11905                        		__ld.wm		_player_pos_y
         01:CA94  AD F7 24   			lda.l	_player_pos_y
         01:CA97  AC F8 24   			ldy.h	_player_pos_y
11906                        		__add.wi	5
         01:CA9A  18         			clc
         01:CA9B  69 05      			adc.l	#5
         01:CA9D  90 01      			bcc	!+
         01:CA9F  C8         			iny
         01:CAA0             	!:
11907                        		__call		_spr_y.1
         01:CAA0  20 2D E8   			call	_spr_y.1
11908                        	
11909                        		.dbg	line,	"include\routines_LEVELS.c", 1942; if(player_axis == AXIS_RIGHT)
11910                        		__not.um	_player_axis
         01:CAA3  AD 19 23   			lda	_player_axis
         01:CAA6  18         			clc
         01:CAA7  D0 01      			bne	!+
         01:CAA9  38         			sec
         01:CAAA             	!:
11911                        		__bfalse	.LL574
         01:CAAA  90 11      			bcc	.LL574
11912                        	
11913                        		.dbg	line,	"include\routines_LEVELS.c", 1943; {
11914                        	
11915                        		.dbg	line,	"include\routines_LEVELS.c", 1944; spr_x(player_pos_x+17);
11916                        		__ld.wm		_player_pos_x
         01:CAAC  AD F5 24   			lda.l	_player_pos_x
         01:CAAF  AC F6 24   			ldy.h	_player_pos_x
11917                        		__add.wi	17
         01:CAB2  18         			clc
         01:CAB3  69 11      			adc.l	#17
         01:CAB5  90 01      			bcc	!+
         01:CAB7  C8         			iny
         01:CAB8             	!:
11918                        		__call		_spr_x.1
         01:CAB8  20 1E E8   			call	_spr_x.1
11919                        	
11920                        		.dbg	line,	"include\routines_LEVELS.c", 1945; }
11921                        	
11922                        		.dbg	line,	"include\routines_LEVELS.c", 1947; else
11923                        		__bra		.LL575
         01:CABB  80 0F      			bra	.LL575
11924    01:CABD             	.LL574:
11925                        	
11926                        		.dbg	line,	"include\routines_LEVELS.c", 1948; {
11927                        	
11928                        		.dbg	line,	"include\routines_LEVELS.c", 1949; spr_x(player_pos_x-2);
11929                        		__ld.wm		_player_pos_x
         01:CABD  AD F5 24   			lda.l	_player_pos_x
         01:CAC0  AC F6 24   			ldy.h	_player_pos_x
11930                        		__sub.wi	2
         01:CAC3  38         			sec
         01:CAC4  E9 02      			sbc.l	#2
         01:CAC6  B0 01      			bcs	!+
         01:CAC8  88         			dey
         01:CAC9             	!:
11931                        		__call		_spr_x.1
         01:CAC9  20 1E E8   			call	_spr_x.1
11932                        	
11933                        		.dbg	line,	"include\routines_LEVELS.c", 1950; }
11934    01:CACC             	.LL575:
11935                        	
11936                        		.dbg	line,	"include\routines_LEVELS.c", 1952; player_attack = FALSE;
11937                        		__st.umiq	0, _player_attack
         01:CACC  9C 20 23   			stz	_player_attack
11938                        	
11939                        		.dbg	line,	"include\routines_LEVELS.c", 1953; player_counter_attack = 0;
11940                        		__st.umiq	0, _player_counter_attack
         01:CACF  9C 1E 23   			stz	_player_counter_attack
11941                        	
11942                        		.dbg	line,	"include\routines_LEVELS.c", 1954; player_state = STATE_HANG;
11943                        		__st.umiq	10, _player_state
         01:CAD2  A9 0A      			lda.l	#10
         01:CAD4  8D 18 23   			sta	_player_state
11944                        	
11945                        		.dbg	line,	"include\routines_LEVELS.c", 1955; }
11946                        	
11947                        		.dbg	line,	"include\routines_LEVELS.c", 1958; player_counter_attack += 1;
11948    01:CAD7             	.LL573:
11949    01:CAD7             	.LL572:
11950    01:CAD7             	.LL568:
11951    01:CAD7             	.LL564:
11952    01:CAD7             	.LL560:
11953    01:CAD7             	.LL556:
11954                        		__add_st.umiq	1, _player_counter_attack
         01:CAD7  EE 1E 23   			inc	_player_counter_attack
11955                        	
11956                        		.dbg	line,	"include\routines_LEVELS.c", 1959; }
11957    01:CADA             	.LL552:
11958                        	
11959                        		.dbg	line,	"include\routines_LEVELS.c", 1961; spr_set(player_id);
11960                        		__ld.umq	_player_id
         01:CADA  AD 17 23   			lda	_player_id
11961                        		__call		_spr_set.1
         01:CADD  20 F1 E7   			call	_spr_set.1
11962                        	
11963                        		.dbg	line,	"include\routines_LEVELS.c", 1962; spr_y(player_pos_y);
11964                        		__ld.wm		_player_pos_y
         01:CAE0  AD F7 24   			lda.l	_player_pos_y
         01:CAE3  AC F8 24   			ldy.h	_player_pos_y
11965                        		__call		_spr_y.1
         01:CAE6  20 2D E8   			call	_spr_y.1
11966                        	
11967                        		.dbg	line,	"include\routines_LEVELS.c", 1966; if(player_index_jump < 34)
11968                        		__ld.umq	_player_index_jump
         01:CAE9  AD 1C 23   			lda	_player_index_jump
11969                        		__ult_b.uiq	34
         01:CAEC  C9 22      			cmp	#34		; Subtract integer from A.
         01:CAEE  6A         			ror	a		; CC if A < integer.
         01:CAEF  49 80      			eor	#$80
         01:CAF1  2A         			rol	a
11970                        		__bfalse	.LL576
         01:CAF2  90 03      			bcc	.LL576
11971                        	
11972                        		.dbg	line,	"include\routines_LEVELS.c", 1967; {
11973                        	
11974                        		.dbg	line,	"include\routines_LEVELS.c", 1968; player_index_jump += 1;
11975                        		__add_st.umiq	1, _player_index_jump
         01:CAF4  EE 1C 23   			inc	_player_index_jump
11976                        	
11977                        		.dbg	line,	"include\routines_LEVELS.c", 1969; }
11978                        	
11979                        		.dbg	line,	"include\routines_LEVELS.c", 1974; //--------------------------------------------------------------------------------------//
11980                        	
11981                        		.dbg	line,	"include\routines_LEVELS.c", 1975; //                                   FLOOR COLLISION                                    //
11982                        	
11983                        		.dbg	line,	"include\routines_LEVELS.c", 1976; //--------------------------------------------------------------------------------------//
11984                        	
11985                        		.dbg	line,	"include\routines_LEVELS.c", 1978; if(player_index_jump > 14)
11986    01:CAF7             	.LL576:
11987                        		__ld.umq	_player_index_jump
         01:CAF7  AD 1C 23   			lda	_player_index_jump
11988                        		__ugt_b.uiq	14
         01:CAFA  18         			clc			; Subtract integer+1 from A.
         01:CAFB  E9 0E      			sbc	#14		; CS if A > integer.
11989                        		__bfalse	.LL577
         01:CAFD  B0 03 4C BE			bcc	.LL577
         01:CB01  CC          
11990                        	
11991                        		.dbg	line,	"include\routines_LEVELS.c", 1979; {
11992                        	
11993                        		.dbg	line,	"include\routines_LEVELS.c", 1980; // CHECK COLLISION WITH LEFT FLOOR //
11994                        	
11995                        		.dbg	line,	"include\routines_LEVELS.c", 1981; collision_PLAYER_BG( 10 , 32 );
11996                        		__ld.wi		10
         01:CB02  A9 0A      			lda.l	#10
         01:CB04  C2         			cly
11997                        		__pusharg.wr
         01:CB05  A6 8D      			ldx	<__sp
         01:CB07  CA         			dex
         01:CB08  CA         			dex
         01:CB09  95 08      			sta.l	<__stack, x
         01:CB0B  94 09      			sty.h	<__stack, x
         01:CB0D  86 8D      			stx	<__sp
11998                        		__ld.wi		32
         01:CB0F  A9 20      			lda.l	#32
         01:CB11  C2         			cly
11999                        		__pusharg.wr
         01:CB12  A6 8D      			ldx	<__sp
         01:CB14  CA         			dex
         01:CB15  CA         			dex
         01:CB16  95 08      			sta.l	<__stack, x
         01:CB18  94 09      			sty.h	<__stack, x
         01:CB1A  86 8D      			stx	<__sp
12000                        		__call		_collision_PLAYER_BG
         01:CB1C  20 27 FF   			call	_collision_PLAYER_BG
12001                        	
12002                        		.dbg	line,	"include\routines_LEVELS.c", 1983; // IF PLAYER TOUCHES THE GROUND TO THE LEFT //
12003                        	
12004                        		.dbg	line,	"include\routines_LEVELS.c", 1984; if(map_blk_flag == TILE_BG)
12005                        		__ld.umq	_map_blk_flag
         01:CB1F  AD F9 2B   			lda	_map_blk_flag
12006                        		__equ_b.uiq	1
         01:CB22  C9 01      			cmp	#1
         01:CB24  F0 01      			beq	!+
         01:CB26  18         			clc
         01:CB27             	!:
12007                        		__bfalse	.LL578
         01:CB27  B0 03 4C E0			bcc	.LL578
         01:CB2B  CB          
12008                        	
12009                        		.dbg	line,	"include\routines_LEVELS.c", 1985; {
12010                        	
12011                        		.dbg	line,	"include\routines_LEVELS.c", 1986; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
12012                        	
12013                        		.dbg	line,	"include\routines_LEVELS.c", 1987; for(i=1; i<11 ; i++ )
12014                        		__st.umiq	1, __update_PLAYER_end - 1  /* i */
         01:CB2C  A9 01      			lda.l	#1
         01:CB2E  8D 0C 23   			sta	__update_PLAYER_end - 1
12015    01:CB31             	.LL579:
12016                        		__ld.umq	__update_PLAYER_end - 1  /* i */
         01:CB31  AD 0C 23   			lda	__update_PLAYER_end - 1
12017                        		__ult_b.uiq	11
         01:CB34  C9 0B      			cmp	#11		; Subtract integer from A.
         01:CB36  6A         			ror	a		; CC if A < integer.
         01:CB37  49 80      			eor	#$80
         01:CB39  2A         			rol	a
12018                        		__btrue		.LL581
         01:CB3A  B0 07      			bcs	.LL581
12019                        		__bra		.LL582
         01:CB3C  80 5B      			bra	.LL582
12020    01:CB3E             	.LL580:
12021                        		__inc.umq	__update_PLAYER_end - 1  /* i */
         01:CB3E  EE 0C 23   			inc	__update_PLAYER_end - 1
12022                        		__bra		.LL579
         01:CB41  80 EE      			bra	.LL579
12023    01:CB43             	.LL581:
12024                        	
12025                        		.dbg	line,	"include\routines_LEVELS.c", 1988; {
12026                        	
12027                        		.dbg	line,	"include\routines_LEVELS.c", 1989; check_TILE_DEPTH( 10 , i);
12028                        		__ld.wi		10
         01:CB43  A9 0A      			lda.l	#10
         01:CB45  C2         			cly
12029                        		__pusharg.wr
         01:CB46  A6 8D      			ldx	<__sp
         01:CB48  CA         			dex
         01:CB49  CA         			dex
         01:CB4A  95 08      			sta.l	<__stack, x
         01:CB4C  94 09      			sty.h	<__stack, x
         01:CB4E  86 8D      			stx	<__sp
12030                        		__ld.um		__update_PLAYER_end - 1  /* i */
         01:CB50  AD 0C 23   			lda	__update_PLAYER_end - 1
         01:CB53  C2         			cly
12031                        		__pusharg.wr
         01:CB54  A6 8D      			ldx	<__sp
         01:CB56  CA         			dex
         01:CB57  CA         			dex
         01:CB58  95 08      			sta.l	<__stack, x
         01:CB5A  94 09      			sty.h	<__stack, x
         01:CB5C  86 8D      			stx	<__sp
12032                        		__call		_check_TILE_DEPTH
         01:CB5E  20 13 FF   			call	_check_TILE_DEPTH
12033                        	
12034                        		.dbg	line,	"include\routines_LEVELS.c", 1991; if(map_blk_flag == TILE_EMPTY)
12035                        		__not.um	_map_blk_flag
         01:CB61  AD F9 2B   			lda	_map_blk_flag
         01:CB64  18         			clc
         01:CB65  D0 01      			bne	!+
         01:CB67  38         			sec
         01:CB68             	!:
12036                        		__bfalse	.LL583
         01:CB68  90 D4      			bcc	.LL583
12037                        	
12038                        		.dbg	line,	"include\routines_LEVELS.c", 1992; {
12039                        	
12040                        		.dbg	line,	"include\routines_LEVELS.c", 1993; //spr_set(player_id);
12041                        	
12042                        		.dbg	line,	"include\routines_LEVELS.c", 1994; spr_pattern(PLAYER_IDLE_VRAM_ADR);
12043                        		__ld.wi		5120
         01:CB6A  62         			cla
         01:CB6B  A0 14      			ldy.h	#5120
12044                        		__call		_spr_pattern.1
         01:CB6D  20 3A E8   			call	_spr_pattern.1
12045                        	
12046                        		.dbg	line,	"include\routines_LEVELS.c", 1995; player_pos_y -= (i - 1);
12047                        		__ld.um		__update_PLAYER_end - 1  /* i */
         01:CB70  AD 0C 23   			lda	__update_PLAYER_end - 1
         01:CB73  C2         			cly
12048                        		__sub.wi	1
         01:CB74  38         			sec
         01:CB75  E9 01      			sbc.l	#1
         01:CB77  B0 01      			bcs	!+
         01:CB79  88         			dey
         01:CB7A             	!:
12049                        		__isub_st.wmq	_player_pos_y
         01:CB7A  38         			sec
         01:CB7B  49 FF      			eor	#$FF
         01:CB7D  6D F7 24   			adc.l	_player_pos_y
         01:CB80  8D F7 24   			sta.l	_player_pos_y
         01:CB83  98         			tya
         01:CB84  49 FF      			eor	#$FF
         01:CB86  6D F8 24   			adc.h	_player_pos_y
         01:CB89  8D F8 24   			sta.h	_player_pos_y
12050                        	
12051                        		.dbg	line,	"include\routines_LEVELS.c", 1996; spr_y(player_pos_y);
12052                        		__ld.wm		_player_pos_y
         01:CB8C  AD F7 24   			lda.l	_player_pos_y
         01:CB8F  AC F8 24   			ldy.h	_player_pos_y
12053                        		__call		_spr_y.1
         01:CB92  20 2D E8   			call	_spr_y.1
12054                        	
12055                        		.dbg	line,	"include\routines_LEVELS.c", 1997; break;
12056                        		__bra		.LL582
         01:CB95  80 02      			bra	.LL582
12057                        	
12058                        		.dbg	line,	"include\routines_LEVELS.c", 1998; }
12059                        	
12060                        		.dbg	line,	"include\routines_LEVELS.c", 2000; }
12061    01:CB97             	.LL583	.alias		.LL580
12062                        		__bra		.LL580
         01:CB97  80 A5      			bra	.LL580
12063    01:CB99             	.LL582:
12064                        	
12065                        		.dbg	line,	"include\routines_LEVELS.c", 2002; if(player_attack == FALSE)
12066                        		__not.um	_player_attack
         01:CB99  AD 20 23   			lda	_player_attack
         01:CB9C  18         			clc
         01:CB9D  D0 01      			bne	!+
         01:CB9F  38         			sec
         01:CBA0             	!:
12067                        		__bfalse	.LL584
         01:CBA0  90 24      			bcc	.LL584
12068                        	
12069                        		.dbg	line,	"include\routines_LEVELS.c", 2003; {
12070                        	
12071                        		.dbg	line,	"include\routines_LEVELS.c", 2004; spr_set(weapon_id);
12072                        		__ld.umq	_weapon_id
         01:CBA2  AD 26 23   			lda	_weapon_id
12073                        		__call		_spr_set.1
         01:CBA5  20 F1 E7   			call	_spr_set.1
12074                        	
12075                        		.dbg	line,	"include\routines_LEVELS.c", 2005; spr_x(player_pos_x+8);
12076                        		__ld.wm		_player_pos_x
         01:CBA8  AD F5 24   			lda.l	_player_pos_x
         01:CBAB  AC F6 24   			ldy.h	_player_pos_x
12077                        		__add.wi	8
         01:CBAE  18         			clc
         01:CBAF  69 08      			adc.l	#8
         01:CBB1  90 01      			bcc	!+
         01:CBB3  C8         			iny
         01:CBB4             	!:
12078                        		__call		_spr_x.1
         01:CBB4  20 1E E8   			call	_spr_x.1
12079                        	
12080                        		.dbg	line,	"include\routines_LEVELS.c", 2006; spr_y(player_pos_y+16);
12081                        		__ld.wm		_player_pos_y
         01:CBB7  AD F7 24   			lda.l	_player_pos_y
         01:CBBA  AC F8 24   			ldy.h	_player_pos_y
12082                        		__add.wi	16
         01:CBBD  18         			clc
         01:CBBE  69 10      			adc.l	#16
         01:CBC0  90 01      			bcc	!+
         01:CBC2  C8         			iny
         01:CBC3             	!:
12083                        		__call		_spr_y.1
         01:CBC3  20 2D E8   			call	_spr_y.1
12084                        	
12085                        		.dbg	line,	"include\routines_LEVELS.c", 2007; }
12086                        	
12087                        		.dbg	line,	"include\routines_LEVELS.c", 2009; player_counter_anim = 1;
12088    01:CBC6             	.LL584:
12089                        		__st.umiq	1, _player_counter_anim
         01:CBC6  A9 01      			lda.l	#1
         01:CBC8  8D 1B 23   			sta	_player_counter_anim
12090                        	
12091                        		.dbg	line,	"include\routines_LEVELS.c", 2010; player_index_jump = 0;
12092                        		__st.umiq	0, _player_index_jump
         01:CBCB  9C 1C 23   			stz	_player_index_jump
12093                        	
12094                        		.dbg	line,	"include\routines_LEVELS.c", 2011; //hit_wall = FALSE;
12095                        	
12096                        		.dbg	line,	"include\routines_LEVELS.c", 2013; if(player_attack == FALSE)
12097                        		__not.um	_player_attack
         01:CBCE  AD 20 23   			lda	_player_attack
         01:CBD1  18         			clc
         01:CBD2  D0 01      			bne	!+
         01:CBD4  38         			sec
         01:CBD5             	!:
12098                        		__bfalse	.LL585
         01:CBD5  B0 03 4C 94			bcc	.LL585
         01:CBD9  DC          
12099                        	
12100                        		.dbg	line,	"include\routines_LEVELS.c", 2014; {
12101                        	
12102                        		.dbg	line,	"include\routines_LEVELS.c", 2015; player_state = STATE_IDLE;
12103                        		__st.umiq	0, _player_state
         01:CBDA  9C 18 23   			stz	_player_state
12104                        	
12105                        		.dbg	line,	"include\routines_LEVELS.c", 2016; }
12106                        	
12107                        		.dbg	line,	"include\routines_LEVELS.c", 2017; 
12108                        	
12109                        		.dbg	line,	"include\routines_LEVELS.c", 2018; return;
12110    01:CBDD             	.LL585	.alias		.LL494
12111                        		__bra		.LL494
         01:CBDD  4C 94 DC   			bra	.LL494
12112                        	
12113                        		.dbg	line,	"include\routines_LEVELS.c", 2019; }
12114                        	
12115                        		.dbg	line,	"include\routines_LEVELS.c", 2021; // IF PLAYER TOUCHES THE GROUND TO THE RIGHT //
12116                        	
12117                        		.dbg	line,	"include\routines_LEVELS.c", 2022; else
12118    01:CBE0             	.LL578:
12119                        	
12120                        		.dbg	line,	"include\routines_LEVELS.c", 2023; {
12121                        	
12122                        		.dbg	line,	"include\routines_LEVELS.c", 2024; // CHECK COLLISION WITH RIGHT FLOOR //
12123                        	
12124                        		.dbg	line,	"include\routines_LEVELS.c", 2025; collision_PLAYER_BG( 22 , 32 );
12125                        		__ld.wi		22
         01:CBE0  A9 16      			lda.l	#22
         01:CBE2  C2         			cly
12126                        		__pusharg.wr
         01:CBE3  A6 8D      			ldx	<__sp
         01:CBE5  CA         			dex
         01:CBE6  CA         			dex
         01:CBE7  95 08      			sta.l	<__stack, x
         01:CBE9  94 09      			sty.h	<__stack, x
         01:CBEB  86 8D      			stx	<__sp
12127                        		__ld.wi		32
         01:CBED  A9 20      			lda.l	#32
         01:CBEF  C2         			cly
12128                        		__pusharg.wr
         01:CBF0  A6 8D      			ldx	<__sp
         01:CBF2  CA         			dex
         01:CBF3  CA         			dex
         01:CBF4  95 08      			sta.l	<__stack, x
         01:CBF6  94 09      			sty.h	<__stack, x
         01:CBF8  86 8D      			stx	<__sp
12129                        		__call		_collision_PLAYER_BG
         01:CBFA  20 27 FF   			call	_collision_PLAYER_BG
12130                        	
12131                        		.dbg	line,	"include\routines_LEVELS.c", 2027; if(map_blk_flag == TILE_BG)
12132                        		__ld.umq	_map_blk_flag
         01:CBFD  AD F9 2B   			lda	_map_blk_flag
12133                        		__equ_b.uiq	1
         01:CC00  C9 01      			cmp	#1
         01:CC02  F0 01      			beq	!+
         01:CC04  18         			clc
         01:CC05             	!:
12134                        		__bfalse	.LL587
         01:CC05  B0 03 4C BE			bcc	.LL587
         01:CC09  CC          
12135                        	
12136                        		.dbg	line,	"include\routines_LEVELS.c", 2028; {
12137                        	
12138                        		.dbg	line,	"include\routines_LEVELS.c", 2029; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
12139                        	
12140                        		.dbg	line,	"include\routines_LEVELS.c", 2030; for(i=1; i<11 ; i++ )
12141                        		__st.umiq	1, __update_PLAYER_end - 1  /* i */
         01:CC0A  A9 01      			lda.l	#1
         01:CC0C  8D 0C 23   			sta	__update_PLAYER_end - 1
12142    01:CC0F             	.LL588:
12143                        		__ld.umq	__update_PLAYER_end - 1  /* i */
         01:CC0F  AD 0C 23   			lda	__update_PLAYER_end - 1
12144                        		__ult_b.uiq	11
         01:CC12  C9 0B      			cmp	#11		; Subtract integer from A.
         01:CC14  6A         			ror	a		; CC if A < integer.
         01:CC15  49 80      			eor	#$80
         01:CC17  2A         			rol	a
12145                        		__btrue		.LL590
         01:CC18  B0 07      			bcs	.LL590
12146                        		__bra		.LL591
         01:CC1A  80 5B      			bra	.LL591
12147    01:CC1C             	.LL589:
12148                        		__inc.umq	__update_PLAYER_end - 1  /* i */
         01:CC1C  EE 0C 23   			inc	__update_PLAYER_end - 1
12149                        		__bra		.LL588
         01:CC1F  80 EE      			bra	.LL588
12150    01:CC21             	.LL590:
12151                        	
12152                        		.dbg	line,	"include\routines_LEVELS.c", 2031; {
12153                        	
12154                        		.dbg	line,	"include\routines_LEVELS.c", 2032; check_TILE_DEPTH( 22 , i);
12155                        		__ld.wi		22
         01:CC21  A9 16      			lda.l	#22
         01:CC23  C2         			cly
12156                        		__pusharg.wr
         01:CC24  A6 8D      			ldx	<__sp
         01:CC26  CA         			dex
         01:CC27  CA         			dex
         01:CC28  95 08      			sta.l	<__stack, x
         01:CC2A  94 09      			sty.h	<__stack, x
         01:CC2C  86 8D      			stx	<__sp
12157                        		__ld.um		__update_PLAYER_end - 1  /* i */
         01:CC2E  AD 0C 23   			lda	__update_PLAYER_end - 1
         01:CC31  C2         			cly
12158                        		__pusharg.wr
         01:CC32  A6 8D      			ldx	<__sp
         01:CC34  CA         			dex
         01:CC35  CA         			dex
         01:CC36  95 08      			sta.l	<__stack, x
         01:CC38  94 09      			sty.h	<__stack, x
         01:CC3A  86 8D      			stx	<__sp
12159                        		__call		_check_TILE_DEPTH
         01:CC3C  20 13 FF   			call	_check_TILE_DEPTH
12160                        	
12161                        		.dbg	line,	"include\routines_LEVELS.c", 2034; if(map_blk_flag == TILE_EMPTY)
12162                        		__not.um	_map_blk_flag
         01:CC3F  AD F9 2B   			lda	_map_blk_flag
         01:CC42  18         			clc
         01:CC43  D0 01      			bne	!+
         01:CC45  38         			sec
         01:CC46             	!:
12163                        		__bfalse	.LL592
         01:CC46  90 D4      			bcc	.LL592
12164                        	
12165                        		.dbg	line,	"include\routines_LEVELS.c", 2035; {
12166                        	
12167                        		.dbg	line,	"include\routines_LEVELS.c", 2036; //spr_set(player_id);
12168                        	
12169                        		.dbg	line,	"include\routines_LEVELS.c", 2037; spr_pattern(PLAYER_IDLE_VRAM_ADR);
12170                        		__ld.wi		5120
         01:CC48  62         			cla
         01:CC49  A0 14      			ldy.h	#5120
12171                        		__call		_spr_pattern.1
         01:CC4B  20 3A E8   			call	_spr_pattern.1
12172                        	
12173                        		.dbg	line,	"include\routines_LEVELS.c", 2038; player_pos_y -= (i - 1);
12174                        		__ld.um		__update_PLAYER_end - 1  /* i */
         01:CC4E  AD 0C 23   			lda	__update_PLAYER_end - 1
         01:CC51  C2         			cly
12175                        		__sub.wi	1
         01:CC52  38         			sec
         01:CC53  E9 01      			sbc.l	#1
         01:CC55  B0 01      			bcs	!+
         01:CC57  88         			dey
         01:CC58             	!:
12176                        		__isub_st.wmq	_player_pos_y
         01:CC58  38         			sec
         01:CC59  49 FF      			eor	#$FF
         01:CC5B  6D F7 24   			adc.l	_player_pos_y
         01:CC5E  8D F7 24   			sta.l	_player_pos_y
         01:CC61  98         			tya
         01:CC62  49 FF      			eor	#$FF
         01:CC64  6D F8 24   			adc.h	_player_pos_y
         01:CC67  8D F8 24   			sta.h	_player_pos_y
12177                        	
12178                        		.dbg	line,	"include\routines_LEVELS.c", 2039; spr_y(player_pos_y);
12179                        		__ld.wm		_player_pos_y
         01:CC6A  AD F7 24   			lda.l	_player_pos_y
         01:CC6D  AC F8 24   			ldy.h	_player_pos_y
12180                        		__call		_spr_y.1
         01:CC70  20 2D E8   			call	_spr_y.1
12181                        	
12182                        		.dbg	line,	"include\routines_LEVELS.c", 2040; break;
12183                        		__bra		.LL591
         01:CC73  80 02      			bra	.LL591
12184                        	
12185                        		.dbg	line,	"include\routines_LEVELS.c", 2041; }
12186                        	
12187                        		.dbg	line,	"include\routines_LEVELS.c", 2043; }
12188    01:CC75             	.LL592	.alias		.LL589
12189                        		__bra		.LL589
         01:CC75  80 A5      			bra	.LL589
12190    01:CC77             	.LL591:
12191                        	
12192                        		.dbg	line,	"include\routines_LEVELS.c", 2045; if(player_attack == FALSE)
12193                        		__not.um	_player_attack
         01:CC77  AD 20 23   			lda	_player_attack
         01:CC7A  18         			clc
         01:CC7B  D0 01      			bne	!+
         01:CC7D  38         			sec
         01:CC7E             	!:
12194                        		__bfalse	.LL593
         01:CC7E  90 24      			bcc	.LL593
12195                        	
12196                        		.dbg	line,	"include\routines_LEVELS.c", 2046; {
12197                        	
12198                        		.dbg	line,	"include\routines_LEVELS.c", 2047; spr_set(weapon_id);
12199                        		__ld.umq	_weapon_id
         01:CC80  AD 26 23   			lda	_weapon_id
12200                        		__call		_spr_set.1
         01:CC83  20 F1 E7   			call	_spr_set.1
12201                        	
12202                        		.dbg	line,	"include\routines_LEVELS.c", 2048; spr_x(player_pos_x+8);
12203                        		__ld.wm		_player_pos_x
         01:CC86  AD F5 24   			lda.l	_player_pos_x
         01:CC89  AC F6 24   			ldy.h	_player_pos_x
12204                        		__add.wi	8
         01:CC8C  18         			clc
         01:CC8D  69 08      			adc.l	#8
         01:CC8F  90 01      			bcc	!+
         01:CC91  C8         			iny
         01:CC92             	!:
12205                        		__call		_spr_x.1
         01:CC92  20 1E E8   			call	_spr_x.1
12206                        	
12207                        		.dbg	line,	"include\routines_LEVELS.c", 2049; spr_y(player_pos_y+16);
12208                        		__ld.wm		_player_pos_y
         01:CC95  AD F7 24   			lda.l	_player_pos_y
         01:CC98  AC F8 24   			ldy.h	_player_pos_y
12209                        		__add.wi	16
         01:CC9B  18         			clc
         01:CC9C  69 10      			adc.l	#16
         01:CC9E  90 01      			bcc	!+
         01:CCA0  C8         			iny
         01:CCA1             	!:
12210                        		__call		_spr_y.1
         01:CCA1  20 2D E8   			call	_spr_y.1
12211                        	
12212                        		.dbg	line,	"include\routines_LEVELS.c", 2050; }
12213                        	
12214                        		.dbg	line,	"include\routines_LEVELS.c", 2052; player_counter_anim = 1;
12215    01:CCA4             	.LL593:
12216                        		__st.umiq	1, _player_counter_anim
         01:CCA4  A9 01      			lda.l	#1
         01:CCA6  8D 1B 23   			sta	_player_counter_anim
12217                        	
12218                        		.dbg	line,	"include\routines_LEVELS.c", 2053; player_index_jump = 0;
12219                        		__st.umiq	0, _player_index_jump
         01:CCA9  9C 1C 23   			stz	_player_index_jump
12220                        	
12221                        		.dbg	line,	"include\routines_LEVELS.c", 2054; //hit_wall = FALSE;
12222                        	
12223                        		.dbg	line,	"include\routines_LEVELS.c", 2056; if(player_attack == FALSE)
12224                        		__not.um	_player_attack
         01:CCAC  AD 20 23   			lda	_player_attack
         01:CCAF  18         			clc
         01:CCB0  D0 01      			bne	!+
         01:CCB2  38         			sec
         01:CCB3             	!:
12225                        		__bfalse	.LL594
         01:CCB3  B0 03 4C 94			bcc	.LL594
         01:CCB7  DC          
12226                        	
12227                        		.dbg	line,	"include\routines_LEVELS.c", 2057; {
12228                        	
12229                        		.dbg	line,	"include\routines_LEVELS.c", 2058; player_state = STATE_IDLE;
12230                        		__st.umiq	0, _player_state
         01:CCB8  9C 18 23   			stz	_player_state
12231                        	
12232                        		.dbg	line,	"include\routines_LEVELS.c", 2059; }
12233                        	
12234                        		.dbg	line,	"include\routines_LEVELS.c", 2061; return;
12235    01:CCBB             	.LL594	.alias		.LL494
12236                        		__bra		.LL494
         01:CCBB  4C 94 DC   			bra	.LL494
12237                        	
12238                        		.dbg	line,	"include\routines_LEVELS.c", 2062; }
12239                        	
12240                        		.dbg	line,	"include\routines_LEVELS.c", 2063; }
12241    01:CCBE             	.LL587:
12242    01:CCBE             	.LL586:
12243                        	
12244                        		.dbg	line,	"include\routines_LEVELS.c", 2064; }
12245                        	
12246                        		.dbg	line,	"include\routines_LEVELS.c", 2068; // CHECK COLLISION WITH LADDERS //
12247                        	
12248                        		.dbg	line,	"include\routines_LEVELS.c", 2069; collision_PLAYER_BG( 16 , 16 );
12249    01:CCBE             	.LL577:
12250                        		__ld.wi		16
         01:CCBE  A9 10      			lda.l	#16
         01:CCC0  C2         			cly
12251                        		__pusharg.wr
         01:CCC1  A6 8D      			ldx	<__sp
         01:CCC3  CA         			dex
         01:CCC4  CA         			dex
         01:CCC5  95 08      			sta.l	<__stack, x
         01:CCC7  94 09      			sty.h	<__stack, x
         01:CCC9  86 8D      			stx	<__sp
12252                        		__ld.wi		16
         01:CCCB  A9 10      			lda.l	#16
         01:CCCD  C2         			cly
12253                        		__pusharg.wr
         01:CCCE  A6 8D      			ldx	<__sp
         01:CCD0  CA         			dex
         01:CCD1  CA         			dex
         01:CCD2  95 08      			sta.l	<__stack, x
         01:CCD4  94 09      			sty.h	<__stack, x
         01:CCD6  86 8D      			stx	<__sp
12254                        		__call		_collision_PLAYER_BG
         01:CCD8  20 27 FF   			call	_collision_PLAYER_BG
12255                        	
12256                        		.dbg	line,	"include\routines_LEVELS.c", 2071; // IF PLAYER HITS THE LADDER //
12257                        	
12258                        		.dbg	line,	"include\routines_LEVELS.c", 2072; if(map_blk_flag == TILE_LADDER)
12259                        		__ld.umq	_map_blk_flag
         01:CCDB  AD F9 2B   			lda	_map_blk_flag
12260                        		__equ_b.uiq	2
         01:CCDE  C9 02      			cmp	#2
         01:CCE0  F0 01      			beq	!+
         01:CCE2  18         			clc
         01:CCE3             	!:
12261                        		__bfalse	.LL595
         01:CCE3  B0 03 4C 94			bcc	.LL595
         01:CCE7  DC          
12262                        	
12263                        		.dbg	line,	"include\routines_LEVELS.c", 2073; {
12264                        	
12265                        		.dbg	line,	"include\routines_LEVELS.c", 2074; // CAMERA GOES 8 PX BACKWARD //
12266                        	
12267                        		.dbg	line,	"include\routines_LEVELS.c", 2075; sgx_map_pxl_x = ( (sgx_map_pxl_x >> 3) << 3 );
12268                        		__ld.wm		_sgx_map_pxl_x
         01:CCE8  AD D8 26   			lda.l	_sgx_map_pxl_x
         01:CCEB  AC D9 26   			ldy.h	_sgx_map_pxl_x
12269                        		__lsr.wi	3
         01:CCEE  84 00      			sty	__temp
         01:CCF0  20 3A E2   			jsr	lsrw3
12270                        		__asl.wi	3
         01:CCF3  84 00      			sty	__temp
         01:CCF5  20 D7 E1   			jsr	aslw3
12271                        		__st.wmq	_sgx_map_pxl_x
         01:CCF8  8D D8 26   			sta.l	_sgx_map_pxl_x
         01:CCFB  8C D9 26   			sty.h	_sgx_map_pxl_x
12272                        	
12273                        		.dbg	line,	"include\routines_LEVELS.c", 2077; // SO WE UPDATE THE MAP //
12274                        	
12275                        		.dbg	line,	"include\routines_LEVELS.c", 2078; sgx_scroll_map();
12276                        		__call		_sgx_scroll_map
         01:CCFE  20 63 FF   			call	_sgx_scroll_map
12277                        	
12278                        		.dbg	line,	"include\routines_LEVELS.c", 2080; // CHECK IF THE PLAYER STANDS RIGHT TO THE LADDER //
12279                        	
12280                        		.dbg	line,	"include\routines_LEVELS.c", 2081; collision_PLAYER_BG( 31 , 16 );
12281                        		__ld.wi		31
         01:CD01  A9 1F      			lda.l	#31
         01:CD03  C2         			cly
12282                        		__pusharg.wr
         01:CD04  A6 8D      			ldx	<__sp
         01:CD06  CA         			dex
         01:CD07  CA         			dex
         01:CD08  95 08      			sta.l	<__stack, x
         01:CD0A  94 09      			sty.h	<__stack, x
         01:CD0C  86 8D      			stx	<__sp
12283                        		__ld.wi		16
         01:CD0E  A9 10      			lda.l	#16
         01:CD10  C2         			cly
12284                        		__pusharg.wr
         01:CD11  A6 8D      			ldx	<__sp
         01:CD13  CA         			dex
         01:CD14  CA         			dex
         01:CD15  95 08      			sta.l	<__stack, x
         01:CD17  94 09      			sty.h	<__stack, x
         01:CD19  86 8D      			stx	<__sp
12285                        		__call		_collision_PLAYER_BG
         01:CD1B  20 27 FF   			call	_collision_PLAYER_BG
12286                        	
12287                        		.dbg	line,	"include\routines_LEVELS.c", 2083; if(map_blk_flag == TILE_LADDER)
12288                        		__ld.umq	_map_blk_flag
         01:CD1E  AD F9 2B   			lda	_map_blk_flag
12289                        		__equ_b.uiq	2
         01:CD21  C9 02      			cmp	#2
         01:CD23  F0 01      			beq	!+
         01:CD25  18         			clc
         01:CD26             	!:
12290                        		__bfalse	.LL596
         01:CD26  90 0E      			bcc	.LL596
12291                        	
12292                        		.dbg	line,	"include\routines_LEVELS.c", 2084; {
12293                        	
12294                        		.dbg	line,	"include\routines_LEVELS.c", 2085; sgx_map_pxl_x += 8;
12295                        		__add_st.wmiq	8, _sgx_map_pxl_x
         01:CD28  18         			clc
         01:CD29  AD D8 26   			lda.l	_sgx_map_pxl_x
         01:CD2C  69 08      			adc.l	#8
         01:CD2E  8D D8 26   			sta.l	_sgx_map_pxl_x
         01:CD31  90 03      			bcc	!+
         01:CD33  EE D9 26   			inc.h	_sgx_map_pxl_x
         01:CD36             	!:
12296                        	
12297                        		.dbg	line,	"include\routines_LEVELS.c", 2086; }
12298                        	
12299                        		.dbg	line,	"include\routines_LEVELS.c", 2088; spr_pattern(PLAYER_HANG_VRAM_ADR);
12300    01:CD36             	.LL596:
12301                        		__ld.wi		7424
         01:CD36  62         			cla
         01:CD37  A0 1D      			ldy.h	#7424
12302                        		__call		_spr_pattern.1
         01:CD39  20 3A E8   			call	_spr_pattern.1
12303                        	
12304                        		.dbg	line,	"include\routines_LEVELS.c", 2089; player_counter_anim = 0;
12305                        		__st.umiq	0, _player_counter_anim
         01:CD3C  9C 1B 23   			stz	_player_counter_anim
12306                        	
12307                        		.dbg	line,	"include\routines_LEVELS.c", 2090; player_index_jump = 0;
12308                        		__st.umiq	0, _player_index_jump
         01:CD3F  9C 1C 23   			stz	_player_index_jump
12309                        	
12310                        		.dbg	line,	"include\routines_LEVELS.c", 2091; jump_ladder = TRUE;
12311                        		__st.umiq	1, _jump_ladder
         01:CD42  A9 01      			lda.l	#1
         01:CD44  8D 21 23   			sta	_jump_ladder
12312                        	
12313                        		.dbg	line,	"include\routines_LEVELS.c", 2092; player_state = STATE_HANG;
12314                        		__st.umiq	10, _player_state
         01:CD47  A9 0A      			lda.l	#10
         01:CD49  8D 18 23   			sta	_player_state
12315                        	
12316                        		.dbg	line,	"include\routines_LEVELS.c", 2093; }
12317                        	
12318                        		.dbg	line,	"include\routines_LEVELS.c", 2094; }
12319    01:CD4C             	.LL595	.alias		.LL597
12320                        	
12321                        		.dbg	line,	"include\routines_LEVELS.c", 2097; else if(player_state == STATE_JUMP_RIGHT)
12322                        		__bra		.LL597
         01:CD4C  4C 94 DC   			bra	.LL597
12323    01:CD4F             	.LL543:
12324                        		__ld.umq	_player_state
         01:CD4F  AD 18 23   			lda	_player_state
12325                        		__equ_b.uiq	5
         01:CD52  C9 05      			cmp	#5
         01:CD54  F0 01      			beq	!+
         01:CD56  18         			clc
         01:CD57             	!:
12326                        		__bfalse	.LL598
         01:CD57  B0 03 4C B8			bcc	.LL598
         01:CD5B  D1          
12327                        	
12328                        		.dbg	line,	"include\routines_LEVELS.c", 2098; {
12329                        	
12330                        		.dbg	line,	"include\routines_LEVELS.c", 2099; unsigned char i, camera_y_move;
12331                        	
12332                        		.dbg	line,	"include\routines_LEVELS.c", 2100; i = 1;
12333                        		__st.umiq	1, __update_PLAYER_end - 2  /* i */
         01:CD5C  A9 01      			lda.l	#1
         01:CD5E  8D 0B 23   			sta	__update_PLAYER_end - 2
12334                        	
12335                        		.dbg	line,	"include\routines_LEVELS.c", 2102; // UPDATE PLAYER TILES //
12336                        	
12337                        		.dbg	line,	"include\routines_LEVELS.c", 2103; if(player_counter_anim == 0)
12338                        		__not.um	_player_counter_anim
         01:CD61  AD 1B 23   			lda	_player_counter_anim
         01:CD64  18         			clc
         01:CD65  D0 01      			bne	!+
         01:CD67  38         			sec
         01:CD68             	!:
12339                        		__bfalse	.LL599
         01:CD68  90 11      			bcc	.LL599
12340                        	
12341                        		.dbg	line,	"include\routines_LEVELS.c", 2104; {
12342                        	
12343                        		.dbg	line,	"include\routines_LEVELS.c", 2105; spr_set(player_id);
12344                        		__ld.umq	_player_id
         01:CD6A  AD 17 23   			lda	_player_id
12345                        		__call		_spr_set.1
         01:CD6D  20 F1 E7   			call	_spr_set.1
12346                        	
12347                        		.dbg	line,	"include\routines_LEVELS.c", 2106; spr_pattern(PLAYER_JUMP_VRAM_ADR);
12348                        		__ld.wi		6912
         01:CD70  62         			cla
         01:CD71  A0 1B      			ldy.h	#6912
12349                        		__call		_spr_pattern.1
         01:CD73  20 3A E8   			call	_spr_pattern.1
12350                        	
12351                        		.dbg	line,	"include\routines_LEVELS.c", 2108; player_counter_anim = 1;
12352                        		__st.umiq	1, _player_counter_anim
         01:CD76  A9 01      			lda.l	#1
         01:CD78  8D 1B 23   			sta	_player_counter_anim
12353                        	
12354                        		.dbg	line,	"include\routines_LEVELS.c", 2109; }
12355                        	
12356                        		.dbg	line,	"include\routines_LEVELS.c", 2112; // SELECT PLAYER SPRITE //
12357                        	
12358                        		.dbg	line,	"include\routines_LEVELS.c", 2113; spr_set(player_id);
12359    01:CD7B             	.LL599:
12360                        		__ld.umq	_player_id
         01:CD7B  AD 17 23   			lda	_player_id
12361                        		__call		_spr_set.1
         01:CD7E  20 F1 E7   			call	_spr_set.1
12362                        	
12363                        		.dbg	line,	"include\routines_LEVELS.c", 2116; //**************************************************************************************//
12364                        	
12365                        		.dbg	line,	"include\routines_LEVELS.c", 2117; //                                        H MOVE                                        //
12366                        	
12367                        		.dbg	line,	"include\routines_LEVELS.c", 2118; //**************************************************************************************//
12368                        	
12369                        		.dbg	line,	"include\routines_LEVELS.c", 2120; //--------------------------------------------------------------------------------------//
12370                        	
12371                        		.dbg	line,	"include\routines_LEVELS.c", 2121; //                                    WALL COLLISION                                    //
12372                        	
12373                        		.dbg	line,	"include\routines_LEVELS.c", 2122; //--------------------------------------------------------------------------------------//
12374                        	
12375                        		.dbg	line,	"include\routines_LEVELS.c", 2124; // CHECK COLLISION WITH BOTTOM RIGHT WALL //
12376                        	
12377                        		.dbg	line,	"include\routines_LEVELS.c", 2125; collision_PLAYER_BG( 24 , 31 );
12378                        		__ld.wi		24
         01:CD81  A9 18      			lda.l	#24
         01:CD83  C2         			cly
12379                        		__pusharg.wr
         01:CD84  A6 8D      			ldx	<__sp
         01:CD86  CA         			dex
         01:CD87  CA         			dex
         01:CD88  95 08      			sta.l	<__stack, x
         01:CD8A  94 09      			sty.h	<__stack, x
         01:CD8C  86 8D      			stx	<__sp
12380                        		__ld.wi		31
         01:CD8E  A9 1F      			lda.l	#31
         01:CD90  C2         			cly
12381                        		__pusharg.wr
         01:CD91  A6 8D      			ldx	<__sp
         01:CD93  CA         			dex
         01:CD94  CA         			dex
         01:CD95  95 08      			sta.l	<__stack, x
         01:CD97  94 09      			sty.h	<__stack, x
         01:CD99  86 8D      			stx	<__sp
12382                        		__call		_collision_PLAYER_BG
         01:CD9B  20 27 FF   			call	_collision_PLAYER_BG
12383                        	
12384                        		.dbg	line,	"include\routines_LEVELS.c", 2127; if(map_blk_flag != TILE_BG)
12385                        		__ld.umq	_map_blk_flag
         01:CD9E  AD F9 2B   			lda	_map_blk_flag
12386                        		__neq_b.uiq	1
         01:CDA1  38         			sec
         01:CDA2  49 01      			eor	#1
         01:CDA4  D0 01      			bne	!+
         01:CDA6  18         			clc
         01:CDA7             	!:
12387                        		__bfalse	.LL600
         01:CDA7  90 78      			bcc	.LL600
12388                        	
12389                        		.dbg	line,	"include\routines_LEVELS.c", 2128; {
12390                        	
12391                        		.dbg	line,	"include\routines_LEVELS.c", 2129; // CHECK COLLISION WITH TOP RIGHT WALL //
12392                        	
12393                        		.dbg	line,	"include\routines_LEVELS.c", 2130; collision_PLAYER_BG( 24 , 15 );
12394                        		__ld.wi		24
         01:CDA9  A9 18      			lda.l	#24
         01:CDAB  C2         			cly
12395                        		__pusharg.wr
         01:CDAC  A6 8D      			ldx	<__sp
         01:CDAE  CA         			dex
         01:CDAF  CA         			dex
         01:CDB0  95 08      			sta.l	<__stack, x
         01:CDB2  94 09      			sty.h	<__stack, x
         01:CDB4  86 8D      			stx	<__sp
12396                        		__ld.wi		15
         01:CDB6  A9 0F      			lda.l	#15
         01:CDB8  C2         			cly
12397                        		__pusharg.wr
         01:CDB9  A6 8D      			ldx	<__sp
         01:CDBB  CA         			dex
         01:CDBC  CA         			dex
         01:CDBD  95 08      			sta.l	<__stack, x
         01:CDBF  94 09      			sty.h	<__stack, x
         01:CDC1  86 8D      			stx	<__sp
12398                        		__call		_collision_PLAYER_BG
         01:CDC3  20 27 FF   			call	_collision_PLAYER_BG
12399                        	
12400                        		.dbg	line,	"include\routines_LEVELS.c", 2132; if(map_blk_flag == TILE_BG)
12401                        		__ld.umq	_map_blk_flag
         01:CDC6  AD F9 2B   			lda	_map_blk_flag
12402                        		__equ_b.uiq	1
         01:CDC9  C9 01      			cmp	#1
         01:CDCB  F0 01      			beq	!+
         01:CDCD  18         			clc
         01:CDCE             	!:
12403                        		__bfalse	.LL601
         01:CDCE  90 41      			bcc	.LL601
12404                        	
12405                        		.dbg	line,	"include\routines_LEVELS.c", 2133; {
12406                        	
12407                        		.dbg	line,	"include\routines_LEVELS.c", 2134; check_TILE_DEPTH( 15 , -16 );
12408                        		__ld.wi		15
         01:CDD0  A9 0F      			lda.l	#15
         01:CDD2  C2         			cly
12409                        		__pusharg.wr
         01:CDD3  A6 8D      			ldx	<__sp
         01:CDD5  CA         			dex
         01:CDD6  CA         			dex
         01:CDD7  95 08      			sta.l	<__stack, x
         01:CDD9  94 09      			sty.h	<__stack, x
         01:CDDB  86 8D      			stx	<__sp
12410                        		__ld.wi		-16
         01:CDDD  A9 F0      			lda.l	#-16
         01:CDDF  A0 FF      			ldy.h	#-16
12411                        		__pusharg.wr
         01:CDE1  A6 8D      			ldx	<__sp
         01:CDE3  CA         			dex
         01:CDE4  CA         			dex
         01:CDE5  95 08      			sta.l	<__stack, x
         01:CDE7  94 09      			sty.h	<__stack, x
         01:CDE9  86 8D      			stx	<__sp
12412                        		__call		_check_TILE_DEPTH
         01:CDEB  20 13 FF   			call	_check_TILE_DEPTH
12413                        	
12414                        		.dbg	line,	"include\routines_LEVELS.c", 2136; if(map_blk_flag == TILE_EMPTY && jump_ladder == TRUE)
12415                        		__not.um	_map_blk_flag
         01:CDEE  AD F9 2B   			lda	_map_blk_flag
         01:CDF1  18         			clc
         01:CDF2  D0 01      			bne	!+
         01:CDF4  38         			sec
         01:CDF5             	!:
12416                        		__bfalse	.LL603
         01:CDF5  90 08      			bcc	.LL603
12417                        		__ld.umq	_jump_ladder
         01:CDF7  AD 21 23   			lda	_jump_ladder
12418                        		__equ_b.uiq	1
         01:CDFA  C9 01      			cmp	#1
         01:CDFC  F0 01      			beq	!+
         01:CDFE  18         			clc
         01:CDFF             	!:
12419    01:CDFF             	.LL603:
12420                        		__bfalse	.LL602
         01:CDFF  90 64      			bcc	.LL602
12421                        	
12422                        		.dbg	line,	"include\routines_LEVELS.c", 2137; {
12423                        	
12424                        		.dbg	line,	"include\routines_LEVELS.c", 2138; jump_ladder = FALSE;
12425                        		__st.umiq	0, _jump_ladder
         01:CE01  9C 21 23   			stz	_jump_ladder
12426                        	
12427                        		.dbg	line,	"include\routines_LEVELS.c", 2139; player_index_fall = 0;
12428                        		__st.umiq	0, _player_index_fall
         01:CE04  9C 1D 23   			stz	_player_index_fall
12429                        	
12430                        		.dbg	line,	"include\routines_LEVELS.c", 2140; player_state = STATE_FALL;
12431                        		__st.umiq	9, _player_state
         01:CE07  A9 09      			lda.l	#9
         01:CE09  8D 18 23   			sta	_player_state
12432                        	
12433                        		.dbg	line,	"include\routines_LEVELS.c", 2141; return;
12434                        		__bra		.LL494
         01:CE0C  4C 94 DC   			bra	.LL494
12435                        	
12436                        		.dbg	line,	"include\routines_LEVELS.c", 2142; }
12437                        	
12438                        		.dbg	line,	"include\routines_LEVELS.c", 2143; }
12439    01:CE0F             	.LL602	.alias		.LL604
12440                        	
12441                        		.dbg	line,	"include\routines_LEVELS.c", 2145; else
12442                        		__bra		.LL604
         01:CE0F  80 54      			bra	.LL604
12443    01:CE11             	.LL601:
12444                        	
12445                        		.dbg	line,	"include\routines_LEVELS.c", 2146; {
12446                        	
12447                        		.dbg	line,	"include\routines_LEVELS.c", 2147; sgx_map_pxl_x += 2;
12448                        		__add_st.wmiq	2, _sgx_map_pxl_x
         01:CE11  18         			clc
         01:CE12  AD D8 26   			lda.l	_sgx_map_pxl_x
         01:CE15  69 02      			adc.l	#2
         01:CE17  8D D8 26   			sta.l	_sgx_map_pxl_x
         01:CE1A  90 03      			bcc	!+
         01:CE1C  EE D9 26   			inc.h	_sgx_map_pxl_x
         01:CE1F             	!:
12449                        	
12450                        		.dbg	line,	"include\routines_LEVELS.c", 2148; }
12451    01:CE1F             	.LL604	.alias		.LL605
12452                        	
12453                        		.dbg	line,	"include\routines_LEVELS.c", 2149; }
12454                        	
12455                        		.dbg	line,	"include\routines_LEVELS.c", 2151; else
12456                        		__bra		.LL605
         01:CE1F  80 44      			bra	.LL605
12457    01:CE21             	.LL600:
12458                        	
12459                        		.dbg	line,	"include\routines_LEVELS.c", 2152; {
12460                        	
12461                        		.dbg	line,	"include\routines_LEVELS.c", 2153; check_TILE_DEPTH( 15 , -16 );
12462                        		__ld.wi		15
         01:CE21  A9 0F      			lda.l	#15
         01:CE23  C2         			cly
12463                        		__pusharg.wr
         01:CE24  A6 8D      			ldx	<__sp
         01:CE26  CA         			dex
         01:CE27  CA         			dex
         01:CE28  95 08      			sta.l	<__stack, x
         01:CE2A  94 09      			sty.h	<__stack, x
         01:CE2C  86 8D      			stx	<__sp
12464                        		__ld.wi		-16
         01:CE2E  A9 F0      			lda.l	#-16
         01:CE30  A0 FF      			ldy.h	#-16
12465                        		__pusharg.wr
         01:CE32  A6 8D      			ldx	<__sp
         01:CE34  CA         			dex
         01:CE35  CA         			dex
         01:CE36  95 08      			sta.l	<__stack, x
         01:CE38  94 09      			sty.h	<__stack, x
         01:CE3A  86 8D      			stx	<__sp
12466                        		__call		_check_TILE_DEPTH
         01:CE3C  20 13 FF   			call	_check_TILE_DEPTH
12467                        	
12468                        		.dbg	line,	"include\routines_LEVELS.c", 2155; if(map_blk_flag == TILE_EMPTY && jump_ladder == TRUE)
12469                        		__not.um	_map_blk_flag
         01:CE3F  AD F9 2B   			lda	_map_blk_flag
         01:CE42  18         			clc
         01:CE43  D0 01      			bne	!+
         01:CE45  38         			sec
         01:CE46             	!:
12470                        		__bfalse	.LL607
         01:CE46  90 08      			bcc	.LL607
12471                        		__ld.umq	_jump_ladder
         01:CE48  AD 21 23   			lda	_jump_ladder
12472                        		__equ_b.uiq	1
         01:CE4B  C9 01      			cmp	#1
         01:CE4D  F0 01      			beq	!+
         01:CE4F  18         			clc
         01:CE50             	!:
12473    01:CE50             	.LL607:
12474                        		__bfalse	.LL606
         01:CE50  90 13      			bcc	.LL606
12475                        	
12476                        		.dbg	line,	"include\routines_LEVELS.c", 2156; {
12477                        	
12478                        		.dbg	line,	"include\routines_LEVELS.c", 2157; jump_ladder = FALSE;
12479                        		__st.umiq	0, _jump_ladder
         01:CE52  9C 21 23   			stz	_jump_ladder
12480                        	
12481                        		.dbg	line,	"include\routines_LEVELS.c", 2158; hit_wall = TRUE;
12482                        		__st.umiq	1, _hit_wall
         01:CE55  A9 01      			lda.l	#1
         01:CE57  8D 24 23   			sta	_hit_wall
12483                        	
12484                        		.dbg	line,	"include\routines_LEVELS.c", 2159; player_index_fall = 0;
12485                        		__st.umiq	0, _player_index_fall
         01:CE5A  9C 1D 23   			stz	_player_index_fall
12486                        	
12487                        		.dbg	line,	"include\routines_LEVELS.c", 2160; player_state = STATE_FALL;
12488                        		__st.umiq	9, _player_state
         01:CE5D  A9 09      			lda.l	#9
         01:CE5F  8D 18 23   			sta	_player_state
12489                        	
12490                        		.dbg	line,	"include\routines_LEVELS.c", 2161; return;
12491                        		__bra		.LL494
         01:CE62  4C 94 DC   			bra	.LL494
12492                        	
12493                        		.dbg	line,	"include\routines_LEVELS.c", 2162; }
12494                        	
12495                        		.dbg	line,	"include\routines_LEVELS.c", 2163; }
12496    01:CE65             	.LL606:
12497    01:CE65             	.LL605:
12498                        	
12499                        		.dbg	line,	"include\routines_LEVELS.c", 2168; //**************************************************************************************//
12500                        	
12501                        		.dbg	line,	"include\routines_LEVELS.c", 2169; //                                        V MOVE                                        //
12502                        	
12503                        		.dbg	line,	"include\routines_LEVELS.c", 2170; //**************************************************************************************//
12504                        	
12505                        		.dbg	line,	"include\routines_LEVELS.c", 2172; // UPDATE PLAYER Y POSITION //
12506                        	
12507                        		.dbg	line,	"include\routines_LEVELS.c", 2173; if(jump_ladder == FALSE)
12508                        		__not.um	_jump_ladder
         01:CE65  AD 21 23   			lda	_jump_ladder
         01:CE68  18         			clc
         01:CE69  D0 01      			bne	!+
         01:CE6B  38         			sec
         01:CE6C             	!:
12509                        		__bfalse	.LL608
         01:CE6C  90 1A      			bcc	.LL608
12510                        	
12511                        		.dbg	line,	"include\routines_LEVELS.c", 2174; {
12512                        	
12513                        		.dbg	line,	"include\routines_LEVELS.c", 2175; player_pos_y += TABLE_PLAYER_JUMP_V[player_index_jump];
12514                        		__ldx.umq	_player_index_jump
         01:CE6E  AE 1C 23   			ldx	_player_index_jump
12515                        		__ld.bax	_TABLE_PLAYER_JUMP_V
         01:CE71  BD 41 62   			lda	_TABLE_PLAYER_JUMP_V, x
         01:CE74  C2         			cly
         01:CE75  10 01      			bpl	!+
         01:CE77  88         			dey
         01:CE78             	!:
12516                        		__add_st.wmq	_player_pos_y
         01:CE78  18         			clc
         01:CE79  6D F7 24   			adc.l	_player_pos_y
         01:CE7C  8D F7 24   			sta.l	_player_pos_y
         01:CE7F  98         			tya
         01:CE80  6D F8 24   			adc.h	_player_pos_y
         01:CE83  8D F8 24   			sta.h	_player_pos_y
12517                        	
12518                        		.dbg	line,	"include\routines_LEVELS.c", 2176; }
12519                        	
12520                        		.dbg	line,	"include\routines_LEVELS.c", 2178; else
12521                        		__bra		.LL609
         01:CE86  80 18      			bra	.LL609
12522    01:CE88             	.LL608:
12523                        	
12524                        		.dbg	line,	"include\routines_LEVELS.c", 2179; {
12525                        	
12526                        		.dbg	line,	"include\routines_LEVELS.c", 2180; player_pos_y += TABLE_PLAYER_JUMP_LADDER[player_index_jump];
12527                        		__ldx.umq	_player_index_jump
         01:CE88  AE 1C 23   			ldx	_player_index_jump
12528                        		__ld.bax	_TABLE_PLAYER_JUMP_LADDER
         01:CE8B  BD 79 62   			lda	_TABLE_PLAYER_JUMP_LADDER, x
         01:CE8E  C2         			cly
         01:CE8F  10 01      			bpl	!+
         01:CE91  88         			dey
         01:CE92             	!:
12529                        		__add_st.wmq	_player_pos_y
         01:CE92  18         			clc
         01:CE93  6D F7 24   			adc.l	_player_pos_y
         01:CE96  8D F7 24   			sta.l	_player_pos_y
         01:CE99  98         			tya
         01:CE9A  6D F8 24   			adc.h	_player_pos_y
         01:CE9D  8D F8 24   			sta.h	_player_pos_y
12530                        	
12531                        		.dbg	line,	"include\routines_LEVELS.c", 2181; }
12532    01:CEA0             	.LL609:
12533                        	
12534                        		.dbg	line,	"include\routines_LEVELS.c", 2185; // IF PLAYER GOES BELOW ITS BASE Y POSITION //
12535                        	
12536                        		.dbg	line,	"include\routines_LEVELS.c", 2186; if(player_pos_y >= PLAYER_BASE_Y_POS)
12537                        		__ld.wm		_player_pos_y
         01:CEA0  AD F7 24   			lda.l	_player_pos_y
         01:CEA3  AC F8 24   			ldy.h	_player_pos_y
12538                        		__sge_w.wi	128
         01:CEA6  C9 80      			cmp.l	#128		; Subtract integer from Y:A.
         01:CEA8  98         			tya
         01:CEA9  E9 00      			sbc.h	#128
         01:CEAB  50 02      			bvc	!+
         01:CEAD  49 80      			eor	#$80		; +ve if Y:A >= integer (signed).
         01:CEAF  49 80      	!:		eor	#$80
         01:CEB1  0A         			asl	a
12539                        		__bfalse	.LL610
         01:CEB2  90 4E      			bcc	.LL610
12540                        	
12541                        		.dbg	line,	"include\routines_LEVELS.c", 2187; {
12542                        	
12543                        		.dbg	line,	"include\routines_LEVELS.c", 2188; // THE CAMERA MOVES //
12544                        	
12545                        		.dbg	line,	"include\routines_LEVELS.c", 2189; // CALCULATE HOW MANY PIXELS THE CAMERA HAS TO MOVE DOWN //
12546                        	
12547                        		.dbg	line,	"include\routines_LEVELS.c", 2190; camera_y_move = player_pos_y - PLAYER_BASE_Y_POS;
12548                        		__ld.wm		_player_pos_y
         01:CEB4  AD F7 24   			lda.l	_player_pos_y
         01:CEB7  AC F8 24   			ldy.h	_player_pos_y
12549                        		__sub.wi	128
         01:CEBA  38         			sec
         01:CEBB  E9 80      			sbc.l	#128
         01:CEBD  B0 01      			bcs	!+
         01:CEBF  88         			dey
         01:CEC0             	!:
12550                        		__st.umq	__update_PLAYER_end - 3  /* camera_y_move */
         01:CEC0  8D 0A 23   			sta	__update_PLAYER_end - 3
12551                        	
12552                        		.dbg	line,	"include\routines_LEVELS.c", 2191; sgx_map_pxl_y += camera_y_move;
12553                        		__ld.um		__update_PLAYER_end - 3  /* camera_y_move */
         01:CEC3  AD 0A 23   			lda	__update_PLAYER_end - 3
         01:CEC6  C2         			cly
12554                        		__add_st.wmq	_sgx_map_pxl_y
         01:CEC7  18         			clc
         01:CEC8  6D DA 26   			adc.l	_sgx_map_pxl_y
         01:CECB  8D DA 26   			sta.l	_sgx_map_pxl_y
         01:CECE  98         			tya
         01:CECF  6D DB 26   			adc.h	_sgx_map_pxl_y
         01:CED2  8D DB 26   			sta.h	_sgx_map_pxl_y
12555                        	
12556                        		.dbg	line,	"include\routines_LEVELS.c", 2193; // IF THE CAMERA HAS REACHED ITS MAX (LOWEST) POSITION //
12557                        	
12558                        		.dbg	line,	"include\routines_LEVELS.c", 2194; if(sgx_map_pxl_y > camera_max_y_position)
12559                        		__ld.wm		_sgx_map_pxl_y
         01:CED5  AD DA 26   			lda.l	_sgx_map_pxl_y
         01:CED8  AC DB 26   			ldy.h	_sgx_map_pxl_y
12560                        		__ugt_w.wm	_camera_max_y_position
         01:CEDB  18         			clc			; Subtract memory+1 from Y:A.
         01:CEDC  ED F9 24   			sbc.l	_camera_max_y_position
         01:CEDF  98         			tya
         01:CEE0  ED FA 24   			sbc.h	_camera_max_y_position		; CS if Y:A > memory.
12561                        		__bfalse	.LL611
         01:CEE3  90 0C      			bcc	.LL611
12562                        	
12563                        		.dbg	line,	"include\routines_LEVELS.c", 2195; {
12564                        	
12565                        		.dbg	line,	"include\routines_LEVELS.c", 2196; // THE CAMERA CAN NOT MOVE LOWER //
12566                        	
12567                        		.dbg	line,	"include\routines_LEVELS.c", 2197; sgx_map_pxl_y = camera_max_y_position;
12568                        		__ld.wm		_camera_max_y_position
         01:CEE5  AD F9 24   			lda.l	_camera_max_y_position
         01:CEE8  AC FA 24   			ldy.h	_camera_max_y_position
12569                        		__st.wmq	_sgx_map_pxl_y
         01:CEEB  8D DA 26   			sta.l	_sgx_map_pxl_y
         01:CEEE  8C DB 26   			sty.h	_sgx_map_pxl_y
12570                        	
12571                        		.dbg	line,	"include\routines_LEVELS.c", 2198; }
12572                        	
12573                        		.dbg	line,	"include\routines_LEVELS.c", 2200; // THE PLAYER STAYS AT ITS BASE Y POSITION //
12574                        	
12575                        		.dbg	line,	"include\routines_LEVELS.c", 2201; player_pos_y = PLAYER_BASE_Y_POS;
12576    01:CEF1             	.LL611:
12577                        		__st.wmiq	128, _player_pos_y
         01:CEF1  A9 80      			lda.l	#128
         01:CEF3  8D F7 24   			sta.l	_player_pos_y
         01:CEF6  9C F8 24   			stz.h	_player_pos_y
12578                        	
12579                        		.dbg	line,	"include\routines_LEVELS.c", 2203; spr_y(player_pos_y);
12580                        		__ld.wm		_player_pos_y
         01:CEF9  AD F7 24   			lda.l	_player_pos_y
         01:CEFC  AC F8 24   			ldy.h	_player_pos_y
12581                        		__call		_spr_y.1
         01:CEFF  20 2D E8   			call	_spr_y.1
12582                        	
12583                        		.dbg	line,	"include\routines_LEVELS.c", 2204; }
12584                        	
12585                        		.dbg	line,	"include\routines_LEVELS.c", 2207; // UPDATE JUMP INDEX IN THE ARRAY //
12586                        	
12587                        		.dbg	line,	"include\routines_LEVELS.c", 2208; if(player_index_jump < jump_max_index)
12588    01:CF02             	.LL610:
12589                        		__ld.umq	_player_index_jump
         01:CF02  AD 1C 23   			lda	_player_index_jump
12590                        		__ult_b.umq	_jump_max_index
         01:CF05  CD 22 23   			cmp	_jump_max_index		; Subtract memory from A.
         01:CF08  6A         			ror	a		; CC if A < memory.
         01:CF09  49 80      			eor	#$80
         01:CF0B  2A         			rol	a
12591                        		__bfalse	.LL612
         01:CF0C  90 03      			bcc	.LL612
12592                        	
12593                        		.dbg	line,	"include\routines_LEVELS.c", 2209; {
12594                        	
12595                        		.dbg	line,	"include\routines_LEVELS.c", 2210; player_index_jump += 1;
12596                        		__add_st.umiq	1, _player_index_jump
         01:CF0E  EE 1C 23   			inc	_player_index_jump
12597                        	
12598                        		.dbg	line,	"include\routines_LEVELS.c", 2211; }
12599                        	
12600                        		.dbg	line,	"include\routines_LEVELS.c", 2216; //--------------------------------------------------------------------------------------//
12601                        	
12602                        		.dbg	line,	"include\routines_LEVELS.c", 2217; //                                   FLOOR COLLISION                                    //
12603                        	
12604                        		.dbg	line,	"include\routines_LEVELS.c", 2218; //--------------------------------------------------------------------------------------//
12605                        	
12606                        		.dbg	line,	"include\routines_LEVELS.c", 2220; if(player_index_jump > 14)
12607    01:CF11             	.LL612:
12608                        		__ld.umq	_player_index_jump
         01:CF11  AD 1C 23   			lda	_player_index_jump
12609                        		__ugt_b.uiq	14
         01:CF14  18         			clc			; Subtract integer+1 from A.
         01:CF15  E9 0E      			sbc	#14		; CS if A > integer.
12610                        		__bfalse	.LL613
         01:CF17  B0 03 4C FC			bcc	.LL613
         01:CF1B  D0          
12611                        	
12612                        		.dbg	line,	"include\routines_LEVELS.c", 2221; {
12613                        	
12614                        		.dbg	line,	"include\routines_LEVELS.c", 2222; // CHECK COLLISION WITH LEFT FLOOR //
12615                        	
12616                        		.dbg	line,	"include\routines_LEVELS.c", 2223; collision_PLAYER_BG( 10 , 32 );
12617                        		__ld.wi		10
         01:CF1C  A9 0A      			lda.l	#10
         01:CF1E  C2         			cly
12618                        		__pusharg.wr
         01:CF1F  A6 8D      			ldx	<__sp
         01:CF21  CA         			dex
         01:CF22  CA         			dex
         01:CF23  95 08      			sta.l	<__stack, x
         01:CF25  94 09      			sty.h	<__stack, x
         01:CF27  86 8D      			stx	<__sp
12619                        		__ld.wi		32
         01:CF29  A9 20      			lda.l	#32
         01:CF2B  C2         			cly
12620                        		__pusharg.wr
         01:CF2C  A6 8D      			ldx	<__sp
         01:CF2E  CA         			dex
         01:CF2F  CA         			dex
         01:CF30  95 08      			sta.l	<__stack, x
         01:CF32  94 09      			sty.h	<__stack, x
         01:CF34  86 8D      			stx	<__sp
12621                        		__call		_collision_PLAYER_BG
         01:CF36  20 27 FF   			call	_collision_PLAYER_BG
12622                        	
12623                        		.dbg	line,	"include\routines_LEVELS.c", 2225; // IF PLAYER TOUCHES THE GROUND TO THE LEFT //
12624                        	
12625                        		.dbg	line,	"include\routines_LEVELS.c", 2226; if(map_blk_flag == TILE_BG)
12626                        		__ld.umq	_map_blk_flag
         01:CF39  AD F9 2B   			lda	_map_blk_flag
12627                        		__equ_b.uiq	1
         01:CF3C  C9 01      			cmp	#1
         01:CF3E  F0 01      			beq	!+
         01:CF40  18         			clc
         01:CF41             	!:
12628                        		__bfalse	.LL614
         01:CF41  B0 03 4C 0C			bcc	.LL614
         01:CF45  D0          
12629                        	
12630                        		.dbg	line,	"include\routines_LEVELS.c", 2227; {
12631                        	
12632                        		.dbg	line,	"include\routines_LEVELS.c", 2228; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
12633                        	
12634                        		.dbg	line,	"include\routines_LEVELS.c", 2229; for(i=1; i<11 ; i++)
12635                        		__st.umiq	1, __update_PLAYER_end - 2  /* i */
         01:CF46  A9 01      			lda.l	#1
         01:CF48  8D 0B 23   			sta	__update_PLAYER_end - 2
12636    01:CF4B             	.LL615:
12637                        		__ld.umq	__update_PLAYER_end - 2  /* i */
         01:CF4B  AD 0B 23   			lda	__update_PLAYER_end - 2
12638                        		__ult_b.uiq	11
         01:CF4E  C9 0B      			cmp	#11		; Subtract integer from A.
         01:CF50  6A         			ror	a		; CC if A < integer.
         01:CF51  49 80      			eor	#$80
         01:CF53  2A         			rol	a
12639                        		__btrue		.LL617
         01:CF54  B0 07      			bcs	.LL617
12640                        		__bra		.LL618
         01:CF56  80 7D      			bra	.LL618
12641    01:CF58             	.LL616:
12642                        		__inc.umq	__update_PLAYER_end - 2  /* i */
         01:CF58  EE 0B 23   			inc	__update_PLAYER_end - 2
12643                        		__bra		.LL615
         01:CF5B  80 EE      			bra	.LL615
12644    01:CF5D             	.LL617:
12645                        	
12646                        		.dbg	line,	"include\routines_LEVELS.c", 2230; {
12647                        	
12648                        		.dbg	line,	"include\routines_LEVELS.c", 2231; check_TILE_DEPTH( 10 , i);
12649                        		__ld.wi		10
         01:CF5D  A9 0A      			lda.l	#10
         01:CF5F  C2         			cly
12650                        		__pusharg.wr
         01:CF60  A6 8D      			ldx	<__sp
         01:CF62  CA         			dex
         01:CF63  CA         			dex
         01:CF64  95 08      			sta.l	<__stack, x
         01:CF66  94 09      			sty.h	<__stack, x
         01:CF68  86 8D      			stx	<__sp
12651                        		__ld.um		__update_PLAYER_end - 2  /* i */
         01:CF6A  AD 0B 23   			lda	__update_PLAYER_end - 2
         01:CF6D  C2         			cly
12652                        		__pusharg.wr
         01:CF6E  A6 8D      			ldx	<__sp
         01:CF70  CA         			dex
         01:CF71  CA         			dex
         01:CF72  95 08      			sta.l	<__stack, x
         01:CF74  94 09      			sty.h	<__stack, x
         01:CF76  86 8D      			stx	<__sp
12653                        		__call		_check_TILE_DEPTH
         01:CF78  20 13 FF   			call	_check_TILE_DEPTH
12654                        	
12655                        		.dbg	line,	"include\routines_LEVELS.c", 2233; if(map_blk_flag == TILE_EMPTY)
12656                        		__not.um	_map_blk_flag
         01:CF7B  AD F9 2B   			lda	_map_blk_flag
         01:CF7E  18         			clc
         01:CF7F  D0 01      			bne	!+
         01:CF81  38         			sec
         01:CF82             	!:
12657                        		__bfalse	.LL619
         01:CF82  90 D4      			bcc	.LL619
12658                        	
12659                        		.dbg	line,	"include\routines_LEVELS.c", 2234; {
12660                        	
12661                        		.dbg	line,	"include\routines_LEVELS.c", 2235; if(player_pos_y != PLAYER_BASE_Y_POS)
12662                        		__ld.wm		_player_pos_y
         01:CF84  AD F7 24   			lda.l	_player_pos_y
         01:CF87  AC F8 24   			ldy.h	_player_pos_y
12663                        		__neq_w.wi	128
         01:CF8A  38         			sec
         01:CF8B  49 80      			eor.l	#128
         01:CF8D  D0 06      			bne	!+
         01:CF8F  98         			tya
         01:CF90  49 00      			eor.h	#128
         01:CF92  D0 01      			bne	!+
         01:CF94  18         			clc
         01:CF95             	!:
12664                        		__bfalse	.LL620
         01:CF95  90 1E      			bcc	.LL620
12665                        	
12666                        		.dbg	line,	"include\routines_LEVELS.c", 2236; {
12667                        	
12668                        		.dbg	line,	"include\routines_LEVELS.c", 2237; player_pos_y -= (i - 1);
12669                        		__ld.um		__update_PLAYER_end - 2  /* i */
         01:CF97  AD 0B 23   			lda	__update_PLAYER_end - 2
         01:CF9A  C2         			cly
12670                        		__sub.wi	1
         01:CF9B  38         			sec
         01:CF9C  E9 01      			sbc.l	#1
         01:CF9E  B0 01      			bcs	!+
         01:CFA0  88         			dey
         01:CFA1             	!:
12671                        		__isub_st.wmq	_player_pos_y
         01:CFA1  38         			sec
         01:CFA2  49 FF      			eor	#$FF
         01:CFA4  6D F7 24   			adc.l	_player_pos_y
         01:CFA7  8D F7 24   			sta.l	_player_pos_y
         01:CFAA  98         			tya
         01:CFAB  49 FF      			eor	#$FF
         01:CFAD  6D F8 24   			adc.h	_player_pos_y
         01:CFB0  8D F8 24   			sta.h	_player_pos_y
12672                        	
12673                        		.dbg	line,	"include\routines_LEVELS.c", 2238; }
12674                        	
12675                        		.dbg	line,	"include\routines_LEVELS.c", 2240; else
12676                        		__bra		.LL621
         01:CFB3  80 20      			bra	.LL621
12677    01:CFB5             	.LL620:
12678                        	
12679                        		.dbg	line,	"include\routines_LEVELS.c", 2241; {
12680                        	
12681                        		.dbg	line,	"include\routines_LEVELS.c", 2242; sgx_map_pxl_y -= (i - 1);
12682                        		__ld.um		__update_PLAYER_end - 2  /* i */
         01:CFB5  AD 0B 23   			lda	__update_PLAYER_end - 2
         01:CFB8  C2         			cly
12683                        		__sub.wi	1
         01:CFB9  38         			sec
         01:CFBA  E9 01      			sbc.l	#1
         01:CFBC  B0 01      			bcs	!+
         01:CFBE  88         			dey
         01:CFBF             	!:
12684                        		__isub_st.wmq	_sgx_map_pxl_y
         01:CFBF  38         			sec
         01:CFC0  49 FF      			eor	#$FF
         01:CFC2  6D DA 26   			adc.l	_sgx_map_pxl_y
         01:CFC5  8D DA 26   			sta.l	_sgx_map_pxl_y
         01:CFC8  98         			tya
         01:CFC9  49 FF      			eor	#$FF
         01:CFCB  6D DB 26   			adc.h	_sgx_map_pxl_y
         01:CFCE  8D DB 26   			sta.h	_sgx_map_pxl_y
12685                        	
12686                        		.dbg	line,	"include\routines_LEVELS.c", 2243; }
12687    01:CFD1             	.LL621	.alias		.LL618
12688                        	
12689                        		.dbg	line,	"include\routines_LEVELS.c", 2245; break;
12690                        		__bra		.LL618
         01:CFD1  80 02      			bra	.LL618
12691                        	
12692                        		.dbg	line,	"include\routines_LEVELS.c", 2246; }
12693                        	
12694                        		.dbg	line,	"include\routines_LEVELS.c", 2247; }
12695    01:CFD3             	.LL619	.alias		.LL616
12696                        		__bra		.LL616
         01:CFD3  80 83      			bra	.LL616
12697    01:CFD5             	.LL618:
12698                        	
12699                        		.dbg	line,	"include\routines_LEVELS.c", 2249; // SET PLAYER SPRITE NEW POSITION //
12700                        	
12701                        		.dbg	line,	"include\routines_LEVELS.c", 2250; spr_y(player_pos_y);
12702                        		__ld.wm		_player_pos_y
         01:CFD5  AD F7 24   			lda.l	_player_pos_y
         01:CFD8  AC F8 24   			ldy.h	_player_pos_y
12703                        		__call		_spr_y.1
         01:CFDB  20 2D E8   			call	_spr_y.1
12704                        	
12705                        		.dbg	line,	"include\routines_LEVELS.c", 2252; spr_set(weapon_id);
12706                        		__ld.umq	_weapon_id
         01:CFDE  AD 26 23   			lda	_weapon_id
12707                        		__call		_spr_set.1
         01:CFE1  20 F1 E7   			call	_spr_set.1
12708                        	
12709                        		.dbg	line,	"include\routines_LEVELS.c", 2253; spr_y(player_pos_y+8);
12710                        		__ld.wm		_player_pos_y
         01:CFE4  AD F7 24   			lda.l	_player_pos_y
         01:CFE7  AC F8 24   			ldy.h	_player_pos_y
12711                        		__add.wi	8
         01:CFEA  18         			clc
         01:CFEB  69 08      			adc.l	#8
         01:CFED  90 01      			bcc	!+
         01:CFEF  C8         			iny
         01:CFF0             	!:
12712                        		__call		_spr_y.1
         01:CFF0  20 2D E8   			call	_spr_y.1
12713                        	
12714                        		.dbg	line,	"include\routines_LEVELS.c", 2255; player_counter_anim = 1;
12715                        		__st.umiq	1, _player_counter_anim
         01:CFF3  A9 01      			lda.l	#1
         01:CFF5  8D 1B 23   			sta	_player_counter_anim
12716                        	
12717                        		.dbg	line,	"include\routines_LEVELS.c", 2256; player_index_jump = 0;
12718                        		__st.umiq	0, _player_index_jump
         01:CFF8  9C 1C 23   			stz	_player_index_jump
12719                        	
12720                        		.dbg	line,	"include\routines_LEVELS.c", 2257; jump_ladder = FALSE;
12721                        		__st.umiq	0, _jump_ladder
         01:CFFB  9C 21 23   			stz	_jump_ladder
12722                        	
12723                        		.dbg	line,	"include\routines_LEVELS.c", 2258; hit_wall = FALSE;
12724                        		__st.umiq	0, _hit_wall
         01:CFFE  9C 24 23   			stz	_hit_wall
12725                        	
12726                        		.dbg	line,	"include\routines_LEVELS.c", 2259; jump_max_index = 34;
12727                        		__st.umiq	34, _jump_max_index
         01:D001  A9 22      			lda.l	#34
         01:D003  8D 22 23   			sta	_jump_max_index
12728                        	
12729                        		.dbg	line,	"include\routines_LEVELS.c", 2260; player_state = STATE_IDLE;
12730                        		__st.umiq	0, _player_state
         01:D006  9C 18 23   			stz	_player_state
12731                        	
12732                        		.dbg	line,	"include\routines_LEVELS.c", 2261; return;
12733                        		__bra		.LL494
         01:D009  4C 94 DC   			bra	.LL494
12734                        	
12735                        		.dbg	line,	"include\routines_LEVELS.c", 2262; }
12736                        	
12737                        		.dbg	line,	"include\routines_LEVELS.c", 2264; // IF PLAYER TOUCHES THE GROUND TO THE RIGHT //
12738                        	
12739                        		.dbg	line,	"include\routines_LEVELS.c", 2265; else
12740    01:D00C             	.LL614:
12741                        	
12742                        		.dbg	line,	"include\routines_LEVELS.c", 2266; {
12743                        	
12744                        		.dbg	line,	"include\routines_LEVELS.c", 2267; // CHECK COLLISION WITH RIGHT FLOOR //
12745                        	
12746                        		.dbg	line,	"include\routines_LEVELS.c", 2268; collision_PLAYER_BG( 22 , 32 );
12747                        		__ld.wi		22
         01:D00C  A9 16      			lda.l	#22
         01:D00E  C2         			cly
12748                        		__pusharg.wr
         01:D00F  A6 8D      			ldx	<__sp
         01:D011  CA         			dex
         01:D012  CA         			dex
         01:D013  95 08      			sta.l	<__stack, x
         01:D015  94 09      			sty.h	<__stack, x
         01:D017  86 8D      			stx	<__sp
12749                        		__ld.wi		32
         01:D019  A9 20      			lda.l	#32
         01:D01B  C2         			cly
12750                        		__pusharg.wr
         01:D01C  A6 8D      			ldx	<__sp
         01:D01E  CA         			dex
         01:D01F  CA         			dex
         01:D020  95 08      			sta.l	<__stack, x
         01:D022  94 09      			sty.h	<__stack, x
         01:D024  86 8D      			stx	<__sp
12751                        		__call		_collision_PLAYER_BG
         01:D026  20 27 FF   			call	_collision_PLAYER_BG
12752                        	
12753                        		.dbg	line,	"include\routines_LEVELS.c", 2270; if(map_blk_flag == TILE_BG)
12754                        		__ld.umq	_map_blk_flag
         01:D029  AD F9 2B   			lda	_map_blk_flag
12755                        		__equ_b.uiq	1
         01:D02C  C9 01      			cmp	#1
         01:D02E  F0 01      			beq	!+
         01:D030  18         			clc
         01:D031             	!:
12756                        		__bfalse	.LL623
         01:D031  B0 03 4C FC			bcc	.LL623
         01:D035  D0          
12757                        	
12758                        		.dbg	line,	"include\routines_LEVELS.c", 2271; {
12759                        	
12760                        		.dbg	line,	"include\routines_LEVELS.c", 2272; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
12761                        	
12762                        		.dbg	line,	"include\routines_LEVELS.c", 2273; for(i=1; i<11 ; i++)
12763                        		__st.umiq	1, __update_PLAYER_end - 2  /* i */
         01:D036  A9 01      			lda.l	#1
         01:D038  8D 0B 23   			sta	__update_PLAYER_end - 2
12764    01:D03B             	.LL624:
12765                        		__ld.umq	__update_PLAYER_end - 2  /* i */
         01:D03B  AD 0B 23   			lda	__update_PLAYER_end - 2
12766                        		__ult_b.uiq	11
         01:D03E  C9 0B      			cmp	#11		; Subtract integer from A.
         01:D040  6A         			ror	a		; CC if A < integer.
         01:D041  49 80      			eor	#$80
         01:D043  2A         			rol	a
12767                        		__btrue		.LL626
         01:D044  B0 07      			bcs	.LL626
12768                        		__bra		.LL627
         01:D046  80 7D      			bra	.LL627
12769    01:D048             	.LL625:
12770                        		__inc.umq	__update_PLAYER_end - 2  /* i */
         01:D048  EE 0B 23   			inc	__update_PLAYER_end - 2
12771                        		__bra		.LL624
         01:D04B  80 EE      			bra	.LL624
12772    01:D04D             	.LL626:
12773                        	
12774                        		.dbg	line,	"include\routines_LEVELS.c", 2274; {
12775                        	
12776                        		.dbg	line,	"include\routines_LEVELS.c", 2275; check_TILE_DEPTH( 22 , i);
12777                        		__ld.wi		22
         01:D04D  A9 16      			lda.l	#22
         01:D04F  C2         			cly
12778                        		__pusharg.wr
         01:D050  A6 8D      			ldx	<__sp
         01:D052  CA         			dex
         01:D053  CA         			dex
         01:D054  95 08      			sta.l	<__stack, x
         01:D056  94 09      			sty.h	<__stack, x
         01:D058  86 8D      			stx	<__sp
12779                        		__ld.um		__update_PLAYER_end - 2  /* i */
         01:D05A  AD 0B 23   			lda	__update_PLAYER_end - 2
         01:D05D  C2         			cly
12780                        		__pusharg.wr
         01:D05E  A6 8D      			ldx	<__sp
         01:D060  CA         			dex
         01:D061  CA         			dex
         01:D062  95 08      			sta.l	<__stack, x
         01:D064  94 09      			sty.h	<__stack, x
         01:D066  86 8D      			stx	<__sp
12781                        		__call		_check_TILE_DEPTH
         01:D068  20 13 FF   			call	_check_TILE_DEPTH
12782                        	
12783                        		.dbg	line,	"include\routines_LEVELS.c", 2277; if(map_blk_flag == TILE_EMPTY)
12784                        		__not.um	_map_blk_flag
         01:D06B  AD F9 2B   			lda	_map_blk_flag
         01:D06E  18         			clc
         01:D06F  D0 01      			bne	!+
         01:D071  38         			sec
         01:D072             	!:
12785                        		__bfalse	.LL628
         01:D072  90 D4      			bcc	.LL628
12786                        	
12787                        		.dbg	line,	"include\routines_LEVELS.c", 2278; {
12788                        	
12789                        		.dbg	line,	"include\routines_LEVELS.c", 2279; if(player_pos_y != PLAYER_BASE_Y_POS)
12790                        		__ld.wm		_player_pos_y
         01:D074  AD F7 24   			lda.l	_player_pos_y
         01:D077  AC F8 24   			ldy.h	_player_pos_y
12791                        		__neq_w.wi	128
         01:D07A  38         			sec
         01:D07B  49 80      			eor.l	#128
         01:D07D  D0 06      			bne	!+
         01:D07F  98         			tya
         01:D080  49 00      			eor.h	#128
         01:D082  D0 01      			bne	!+
         01:D084  18         			clc
         01:D085             	!:
12792                        		__bfalse	.LL629
         01:D085  90 1E      			bcc	.LL629
12793                        	
12794                        		.dbg	line,	"include\routines_LEVELS.c", 2280; {
12795                        	
12796                        		.dbg	line,	"include\routines_LEVELS.c", 2281; player_pos_y -= (i - 1);
12797                        		__ld.um		__update_PLAYER_end - 2  /* i */
         01:D087  AD 0B 23   			lda	__update_PLAYER_end - 2
         01:D08A  C2         			cly
12798                        		__sub.wi	1
         01:D08B  38         			sec
         01:D08C  E9 01      			sbc.l	#1
         01:D08E  B0 01      			bcs	!+
         01:D090  88         			dey
         01:D091             	!:
12799                        		__isub_st.wmq	_player_pos_y
         01:D091  38         			sec
         01:D092  49 FF      			eor	#$FF
         01:D094  6D F7 24   			adc.l	_player_pos_y
         01:D097  8D F7 24   			sta.l	_player_pos_y
         01:D09A  98         			tya
         01:D09B  49 FF      			eor	#$FF
         01:D09D  6D F8 24   			adc.h	_player_pos_y
         01:D0A0  8D F8 24   			sta.h	_player_pos_y
12800                        	
12801                        		.dbg	line,	"include\routines_LEVELS.c", 2282; }
12802                        	
12803                        		.dbg	line,	"include\routines_LEVELS.c", 2284; else
12804                        		__bra		.LL630
         01:D0A3  80 20      			bra	.LL630
12805    01:D0A5             	.LL629:
12806                        	
12807                        		.dbg	line,	"include\routines_LEVELS.c", 2285; {
12808                        	
12809                        		.dbg	line,	"include\routines_LEVELS.c", 2286; sgx_map_pxl_y -= (i - 1);
12810                        		__ld.um		__update_PLAYER_end - 2  /* i */
         01:D0A5  AD 0B 23   			lda	__update_PLAYER_end - 2
         01:D0A8  C2         			cly
12811                        		__sub.wi	1
         01:D0A9  38         			sec
         01:D0AA  E9 01      			sbc.l	#1
         01:D0AC  B0 01      			bcs	!+
         01:D0AE  88         			dey
         01:D0AF             	!:
12812                        		__isub_st.wmq	_sgx_map_pxl_y
         01:D0AF  38         			sec
         01:D0B0  49 FF      			eor	#$FF
         01:D0B2  6D DA 26   			adc.l	_sgx_map_pxl_y
         01:D0B5  8D DA 26   			sta.l	_sgx_map_pxl_y
         01:D0B8  98         			tya
         01:D0B9  49 FF      			eor	#$FF
         01:D0BB  6D DB 26   			adc.h	_sgx_map_pxl_y
         01:D0BE  8D DB 26   			sta.h	_sgx_map_pxl_y
12813                        	
12814                        		.dbg	line,	"include\routines_LEVELS.c", 2287; }
12815    01:D0C1             	.LL630	.alias		.LL627
12816                        	
12817                        		.dbg	line,	"include\routines_LEVELS.c", 2289; break;
12818                        		__bra		.LL627
         01:D0C1  80 02      			bra	.LL627
12819                        	
12820                        		.dbg	line,	"include\routines_LEVELS.c", 2290; }
12821                        	
12822                        		.dbg	line,	"include\routines_LEVELS.c", 2291; }
12823    01:D0C3             	.LL628	.alias		.LL625
12824                        		__bra		.LL625
         01:D0C3  80 83      			bra	.LL625
12825    01:D0C5             	.LL627:
12826                        	
12827                        		.dbg	line,	"include\routines_LEVELS.c", 2293; // SET PLAYER SPRITE NEW POSITION //
12828                        	
12829                        		.dbg	line,	"include\routines_LEVELS.c", 2294; spr_y(player_pos_y);
12830                        		__ld.wm		_player_pos_y
         01:D0C5  AD F7 24   			lda.l	_player_pos_y
         01:D0C8  AC F8 24   			ldy.h	_player_pos_y
12831                        		__call		_spr_y.1
         01:D0CB  20 2D E8   			call	_spr_y.1
12832                        	
12833                        		.dbg	line,	"include\routines_LEVELS.c", 2296; spr_set(weapon_id);
12834                        		__ld.umq	_weapon_id
         01:D0CE  AD 26 23   			lda	_weapon_id
12835                        		__call		_spr_set.1
         01:D0D1  20 F1 E7   			call	_spr_set.1
12836                        	
12837                        		.dbg	line,	"include\routines_LEVELS.c", 2297; spr_y(player_pos_y+8);
12838                        		__ld.wm		_player_pos_y
         01:D0D4  AD F7 24   			lda.l	_player_pos_y
         01:D0D7  AC F8 24   			ldy.h	_player_pos_y
12839                        		__add.wi	8
         01:D0DA  18         			clc
         01:D0DB  69 08      			adc.l	#8
         01:D0DD  90 01      			bcc	!+
         01:D0DF  C8         			iny
         01:D0E0             	!:
12840                        		__call		_spr_y.1
         01:D0E0  20 2D E8   			call	_spr_y.1
12841                        	
12842                        		.dbg	line,	"include\routines_LEVELS.c", 2299; player_counter_anim = 1;
12843                        		__st.umiq	1, _player_counter_anim
         01:D0E3  A9 01      			lda.l	#1
         01:D0E5  8D 1B 23   			sta	_player_counter_anim
12844                        	
12845                        		.dbg	line,	"include\routines_LEVELS.c", 2300; player_index_jump = 0;
12846                        		__st.umiq	0, _player_index_jump
         01:D0E8  9C 1C 23   			stz	_player_index_jump
12847                        	
12848                        		.dbg	line,	"include\routines_LEVELS.c", 2301; jump_ladder = FALSE;
12849                        		__st.umiq	0, _jump_ladder
         01:D0EB  9C 21 23   			stz	_jump_ladder
12850                        	
12851                        		.dbg	line,	"include\routines_LEVELS.c", 2302; hit_wall = FALSE;
12852                        		__st.umiq	0, _hit_wall
         01:D0EE  9C 24 23   			stz	_hit_wall
12853                        	
12854                        		.dbg	line,	"include\routines_LEVELS.c", 2303; jump_max_index = 34;
12855                        		__st.umiq	34, _jump_max_index
         01:D0F1  A9 22      			lda.l	#34
         01:D0F3  8D 22 23   			sta	_jump_max_index
12856                        	
12857                        		.dbg	line,	"include\routines_LEVELS.c", 2304; player_state = STATE_IDLE;
12858                        		__st.umiq	0, _player_state
         01:D0F6  9C 18 23   			stz	_player_state
12859                        	
12860                        		.dbg	line,	"include\routines_LEVELS.c", 2305; return;
12861                        		__bra		.LL494
         01:D0F9  4C 94 DC   			bra	.LL494
12862                        	
12863                        		.dbg	line,	"include\routines_LEVELS.c", 2306; }
12864                        	
12865                        		.dbg	line,	"include\routines_LEVELS.c", 2307; }
12866    01:D0FC             	.LL623:
12867    01:D0FC             	.LL622:
12868                        	
12869                        		.dbg	line,	"include\routines_LEVELS.c", 2308; }
12870                        	
12871                        		.dbg	line,	"include\routines_LEVELS.c", 2313; //--------------------------------------------------------------------------------------//
12872                        	
12873                        		.dbg	line,	"include\routines_LEVELS.c", 2314; //                                   LADDER COLLISION                                   //
12874                        	
12875                        		.dbg	line,	"include\routines_LEVELS.c", 2315; //--------------------------------------------------------------------------------------//
12876                        	
12877                        		.dbg	line,	"include\routines_LEVELS.c", 2317; if(player_index_jump > 4)
12878    01:D0FC             	.LL613:
12879                        		__ld.umq	_player_index_jump
         01:D0FC  AD 1C 23   			lda	_player_index_jump
12880                        		__ugt_b.uiq	4
         01:D0FF  18         			clc			; Subtract integer+1 from A.
         01:D100  E9 04      			sbc	#4		; CS if A > integer.
12881                        		__bfalse	.LL631
         01:D102  B0 03 4C 97			bcc	.LL631
         01:D106  D1          
12882                        	
12883                        		.dbg	line,	"include\routines_LEVELS.c", 2318; {
12884                        	
12885                        		.dbg	line,	"include\routines_LEVELS.c", 2319; collision_PLAYER_BG( 16 , 16 );
12886                        		__ld.wi		16
         01:D107  A9 10      			lda.l	#16
         01:D109  C2         			cly
12887                        		__pusharg.wr
         01:D10A  A6 8D      			ldx	<__sp
         01:D10C  CA         			dex
         01:D10D  CA         			dex
         01:D10E  95 08      			sta.l	<__stack, x
         01:D110  94 09      			sty.h	<__stack, x
         01:D112  86 8D      			stx	<__sp
12888                        		__ld.wi		16
         01:D114  A9 10      			lda.l	#16
         01:D116  C2         			cly
12889                        		__pusharg.wr
         01:D117  A6 8D      			ldx	<__sp
         01:D119  CA         			dex
         01:D11A  CA         			dex
         01:D11B  95 08      			sta.l	<__stack, x
         01:D11D  94 09      			sty.h	<__stack, x
         01:D11F  86 8D      			stx	<__sp
12890                        		__call		_collision_PLAYER_BG
         01:D121  20 27 FF   			call	_collision_PLAYER_BG
12891                        	
12892                        		.dbg	line,	"include\routines_LEVELS.c", 2321; // IF PLAYER HITS THE LADDER //
12893                        	
12894                        		.dbg	line,	"include\routines_LEVELS.c", 2322; if(map_blk_flag == TILE_LADDER)
12895                        		__ld.umq	_map_blk_flag
         01:D124  AD F9 2B   			lda	_map_blk_flag
12896                        		__equ_b.uiq	2
         01:D127  C9 02      			cmp	#2
         01:D129  F0 01      			beq	!+
         01:D12B  18         			clc
         01:D12C             	!:
12897                        		__bfalse	.LL632
         01:D12C  90 69      			bcc	.LL632
12898                        	
12899                        		.dbg	line,	"include\routines_LEVELS.c", 2323; {
12900                        	
12901                        		.dbg	line,	"include\routines_LEVELS.c", 2324; // CAMERA GOES 8 PX BACKWARD //
12902                        	
12903                        		.dbg	line,	"include\routines_LEVELS.c", 2325; sgx_map_pxl_x = ( (sgx_map_pxl_x >> 3) << 3 );
12904                        		__ld.wm		_sgx_map_pxl_x
         01:D12E  AD D8 26   			lda.l	_sgx_map_pxl_x
         01:D131  AC D9 26   			ldy.h	_sgx_map_pxl_x
12905                        		__lsr.wi	3
         01:D134  84 00      			sty	__temp
         01:D136  20 3A E2   			jsr	lsrw3
12906                        		__asl.wi	3
         01:D139  84 00      			sty	__temp
         01:D13B  20 D7 E1   			jsr	aslw3
12907                        		__st.wmq	_sgx_map_pxl_x
         01:D13E  8D D8 26   			sta.l	_sgx_map_pxl_x
         01:D141  8C D9 26   			sty.h	_sgx_map_pxl_x
12908                        	
12909                        		.dbg	line,	"include\routines_LEVELS.c", 2327; // SO WE UPDATE THE MAP //
12910                        	
12911                        		.dbg	line,	"include\routines_LEVELS.c", 2328; sgx_scroll_map();
12912                        		__call		_sgx_scroll_map
         01:D144  20 63 FF   			call	_sgx_scroll_map
12913                        	
12914                        		.dbg	line,	"include\routines_LEVELS.c", 2330; // CHECK IF THE PLAYER STANDS RIGHT TO THE LADDER //
12915                        	
12916                        		.dbg	line,	"include\routines_LEVELS.c", 2331; collision_PLAYER_BG( 31 , 16 );
12917                        		__ld.wi		31
         01:D147  A9 1F      			lda.l	#31
         01:D149  C2         			cly
12918                        		__pusharg.wr
         01:D14A  A6 8D      			ldx	<__sp
         01:D14C  CA         			dex
         01:D14D  CA         			dex
         01:D14E  95 08      			sta.l	<__stack, x
         01:D150  94 09      			sty.h	<__stack, x
         01:D152  86 8D      			stx	<__sp
12919                        		__ld.wi		16
         01:D154  A9 10      			lda.l	#16
         01:D156  C2         			cly
12920                        		__pusharg.wr
         01:D157  A6 8D      			ldx	<__sp
         01:D159  CA         			dex
         01:D15A  CA         			dex
         01:D15B  95 08      			sta.l	<__stack, x
         01:D15D  94 09      			sty.h	<__stack, x
         01:D15F  86 8D      			stx	<__sp
12921                        		__call		_collision_PLAYER_BG
         01:D161  20 27 FF   			call	_collision_PLAYER_BG
12922                        	
12923                        		.dbg	line,	"include\routines_LEVELS.c", 2333; if(map_blk_flag == TILE_LADDER)
12924                        		__ld.umq	_map_blk_flag
         01:D164  AD F9 2B   			lda	_map_blk_flag
12925                        		__equ_b.uiq	2
         01:D167  C9 02      			cmp	#2
         01:D169  F0 01      			beq	!+
         01:D16B  18         			clc
         01:D16C             	!:
12926                        		__bfalse	.LL633
         01:D16C  90 0E      			bcc	.LL633
12927                        	
12928                        		.dbg	line,	"include\routines_LEVELS.c", 2334; {
12929                        	
12930                        		.dbg	line,	"include\routines_LEVELS.c", 2335; sgx_map_pxl_x += 8;
12931                        		__add_st.wmiq	8, _sgx_map_pxl_x
         01:D16E  18         			clc
         01:D16F  AD D8 26   			lda.l	_sgx_map_pxl_x
         01:D172  69 08      			adc.l	#8
         01:D174  8D D8 26   			sta.l	_sgx_map_pxl_x
         01:D177  90 03      			bcc	!+
         01:D179  EE D9 26   			inc.h	_sgx_map_pxl_x
         01:D17C             	!:
12932                        	
12933                        		.dbg	line,	"include\routines_LEVELS.c", 2336; }
12934                        	
12935                        		.dbg	line,	"include\routines_LEVELS.c", 2338; spr_pattern(PLAYER_HANG_VRAM_ADR);
12936    01:D17C             	.LL633:
12937                        		__ld.wi		7424
         01:D17C  62         			cla
         01:D17D  A0 1D      			ldy.h	#7424
12938                        		__call		_spr_pattern.1
         01:D17F  20 3A E8   			call	_spr_pattern.1
12939                        	
12940                        		.dbg	line,	"include\routines_LEVELS.c", 2339; player_counter_anim = 0;
12941                        		__st.umiq	0, _player_counter_anim
         01:D182  9C 1B 23   			stz	_player_counter_anim
12942                        	
12943                        		.dbg	line,	"include\routines_LEVELS.c", 2340; player_index_jump = 0;
12944                        		__st.umiq	0, _player_index_jump
         01:D185  9C 1C 23   			stz	_player_index_jump
12945                        	
12946                        		.dbg	line,	"include\routines_LEVELS.c", 2341; jump_ladder = TRUE;
12947                        		__st.umiq	1, _jump_ladder
         01:D188  A9 01      			lda.l	#1
         01:D18A  8D 21 23   			sta	_jump_ladder
12948                        	
12949                        		.dbg	line,	"include\routines_LEVELS.c", 2342; jump_max_index = 29;
12950                        		__st.umiq	29, _jump_max_index
         01:D18D  A9 1D      			lda.l	#29
         01:D18F  8D 22 23   			sta	_jump_max_index
12951                        	
12952                        		.dbg	line,	"include\routines_LEVELS.c", 2343; player_state = STATE_HANG;
12953                        		__st.umiq	10, _player_state
         01:D192  A9 0A      			lda.l	#10
         01:D194  8D 18 23   			sta	_player_state
12954                        	
12955                        		.dbg	line,	"include\routines_LEVELS.c", 2344; }
12956                        	
12957                        		.dbg	line,	"include\routines_LEVELS.c", 2345; }
12958    01:D197             	.LL632:
12959                        	
12960                        		.dbg	line,	"include\routines_LEVELS.c", 2348; // SET PLAYER SPRITE NEW POSITION //
12961                        	
12962                        		.dbg	line,	"include\routines_LEVELS.c", 2349; spr_y(player_pos_y);
12963    01:D197             	.LL631:
12964                        		__ld.wm		_player_pos_y
         01:D197  AD F7 24   			lda.l	_player_pos_y
         01:D19A  AC F8 24   			ldy.h	_player_pos_y
12965                        		__call		_spr_y.1
         01:D19D  20 2D E8   			call	_spr_y.1
12966                        	
12967                        		.dbg	line,	"include\routines_LEVELS.c", 2350; spr_set(weapon_id);
12968                        		__ld.umq	_weapon_id
         01:D1A0  AD 26 23   			lda	_weapon_id
12969                        		__call		_spr_set.1
         01:D1A3  20 F1 E7   			call	_spr_set.1
12970                        	
12971                        		.dbg	line,	"include\routines_LEVELS.c", 2351; spr_y(player_pos_y+8);
12972                        		__ld.wm		_player_pos_y
         01:D1A6  AD F7 24   			lda.l	_player_pos_y
         01:D1A9  AC F8 24   			ldy.h	_player_pos_y
12973                        		__add.wi	8
         01:D1AC  18         			clc
         01:D1AD  69 08      			adc.l	#8
         01:D1AF  90 01      			bcc	!+
         01:D1B1  C8         			iny
         01:D1B2             	!:
12974                        		__call		_spr_y.1
         01:D1B2  20 2D E8   			call	_spr_y.1
12975                        	
12976                        		.dbg	line,	"include\routines_LEVELS.c", 2352; }
12977                        	
12978                        		.dbg	line,	"include\routines_LEVELS.c", 2355; else if(player_state == STATE_JUMP_LEFT)
12979                        		__bra		.LL634
         01:D1B5  4C 94 DC   			bra	.LL634
12980    01:D1B8             	.LL598:
12981                        		__ld.umq	_player_state
         01:D1B8  AD 18 23   			lda	_player_state
12982                        		__equ_b.uiq	6
         01:D1BB  C9 06      			cmp	#6
         01:D1BD  F0 01      			beq	!+
         01:D1BF  18         			clc
         01:D1C0             	!:
12983                        		__bfalse	.LL635
         01:D1C0  B0 03 4C 21			bcc	.LL635
         01:D1C4  D6          
12984                        	
12985                        		.dbg	line,	"include\routines_LEVELS.c", 2356; {
12986                        	
12987                        		.dbg	line,	"include\routines_LEVELS.c", 2357; unsigned char i, camera_y_move;
12988                        	
12989                        		.dbg	line,	"include\routines_LEVELS.c", 2358; i = 1;
12990                        		__st.umiq	1, __update_PLAYER_end - 4  /* i */
         01:D1C5  A9 01      			lda.l	#1
         01:D1C7  8D 09 23   			sta	__update_PLAYER_end - 4
12991                        	
12992                        		.dbg	line,	"include\routines_LEVELS.c", 2361; // UPDATE PLAYER TILES //
12993                        	
12994                        		.dbg	line,	"include\routines_LEVELS.c", 2362; if(player_counter_anim == 0)
12995                        		__not.um	_player_counter_anim
         01:D1CA  AD 1B 23   			lda	_player_counter_anim
         01:D1CD  18         			clc
         01:D1CE  D0 01      			bne	!+
         01:D1D0  38         			sec
         01:D1D1             	!:
12996                        		__bfalse	.LL636
         01:D1D1  90 11      			bcc	.LL636
12997                        	
12998                        		.dbg	line,	"include\routines_LEVELS.c", 2363; {
12999                        	
13000                        		.dbg	line,	"include\routines_LEVELS.c", 2364; spr_set(player_id);
13001                        		__ld.umq	_player_id
         01:D1D3  AD 17 23   			lda	_player_id
13002                        		__call		_spr_set.1
         01:D1D6  20 F1 E7   			call	_spr_set.1
13003                        	
13004                        		.dbg	line,	"include\routines_LEVELS.c", 2365; spr_pattern(PLAYER_JUMP_VRAM_ADR);
13005                        		__ld.wi		6912
         01:D1D9  62         			cla
         01:D1DA  A0 1B      			ldy.h	#6912
13006                        		__call		_spr_pattern.1
         01:D1DC  20 3A E8   			call	_spr_pattern.1
13007                        	
13008                        		.dbg	line,	"include\routines_LEVELS.c", 2367; player_counter_anim = 1;
13009                        		__st.umiq	1, _player_counter_anim
         01:D1DF  A9 01      			lda.l	#1
         01:D1E1  8D 1B 23   			sta	_player_counter_anim
13010                        	
13011                        		.dbg	line,	"include\routines_LEVELS.c", 2368; }
13012                        	
13013                        		.dbg	line,	"include\routines_LEVELS.c", 2371; // SELECT PLAYER SPRITE //
13014                        	
13015                        		.dbg	line,	"include\routines_LEVELS.c", 2372; spr_set(player_id);
13016    01:D1E4             	.LL636:
13017                        		__ld.umq	_player_id
         01:D1E4  AD 17 23   			lda	_player_id
13018                        		__call		_spr_set.1
         01:D1E7  20 F1 E7   			call	_spr_set.1
13019                        	
13020                        		.dbg	line,	"include\routines_LEVELS.c", 2375; //**************************************************************************************//
13021                        	
13022                        		.dbg	line,	"include\routines_LEVELS.c", 2376; //                                        H MOVE                                        //
13023                        	
13024                        		.dbg	line,	"include\routines_LEVELS.c", 2377; //**************************************************************************************//
13025                        	
13026                        		.dbg	line,	"include\routines_LEVELS.c", 2379; //--------------------------------------------------------------------------------------//
13027                        	
13028                        		.dbg	line,	"include\routines_LEVELS.c", 2380; //                                    WALL COLLISION                                    //
13029                        	
13030                        		.dbg	line,	"include\routines_LEVELS.c", 2381; //--------------------------------------------------------------------------------------//
13031                        	
13032                        		.dbg	line,	"include\routines_LEVELS.c", 2383; // CHECK COLLISION WITH BOTTOM LEFT WALL //
13033                        	
13034                        		.dbg	line,	"include\routines_LEVELS.c", 2384; collision_PLAYER_BG( 8 , 31 );
13035                        		__ld.wi		8
         01:D1EA  A9 08      			lda.l	#8
         01:D1EC  C2         			cly
13036                        		__pusharg.wr
         01:D1ED  A6 8D      			ldx	<__sp
         01:D1EF  CA         			dex
         01:D1F0  CA         			dex
         01:D1F1  95 08      			sta.l	<__stack, x
         01:D1F3  94 09      			sty.h	<__stack, x
         01:D1F5  86 8D      			stx	<__sp
13037                        		__ld.wi		31
         01:D1F7  A9 1F      			lda.l	#31
         01:D1F9  C2         			cly
13038                        		__pusharg.wr
         01:D1FA  A6 8D      			ldx	<__sp
         01:D1FC  CA         			dex
         01:D1FD  CA         			dex
         01:D1FE  95 08      			sta.l	<__stack, x
         01:D200  94 09      			sty.h	<__stack, x
         01:D202  86 8D      			stx	<__sp
13039                        		__call		_collision_PLAYER_BG
         01:D204  20 27 FF   			call	_collision_PLAYER_BG
13040                        	
13041                        		.dbg	line,	"include\routines_LEVELS.c", 2386; if(map_blk_flag != TILE_BG)
13042                        		__ld.umq	_map_blk_flag
         01:D207  AD F9 2B   			lda	_map_blk_flag
13043                        		__neq_b.uiq	1
         01:D20A  38         			sec
         01:D20B  49 01      			eor	#1
         01:D20D  D0 01      			bne	!+
         01:D20F  18         			clc
         01:D210             	!:
13044                        		__bfalse	.LL637
         01:D210  90 78      			bcc	.LL637
13045                        	
13046                        		.dbg	line,	"include\routines_LEVELS.c", 2387; {
13047                        	
13048                        		.dbg	line,	"include\routines_LEVELS.c", 2388; // CHECK COLLISION WITH TOP RIGHT WALL //
13049                        	
13050                        		.dbg	line,	"include\routines_LEVELS.c", 2389; collision_PLAYER_BG( 8 , 15 );
13051                        		__ld.wi		8
         01:D212  A9 08      			lda.l	#8
         01:D214  C2         			cly
13052                        		__pusharg.wr
         01:D215  A6 8D      			ldx	<__sp
         01:D217  CA         			dex
         01:D218  CA         			dex
         01:D219  95 08      			sta.l	<__stack, x
         01:D21B  94 09      			sty.h	<__stack, x
         01:D21D  86 8D      			stx	<__sp
13053                        		__ld.wi		15
         01:D21F  A9 0F      			lda.l	#15
         01:D221  C2         			cly
13054                        		__pusharg.wr
         01:D222  A6 8D      			ldx	<__sp
         01:D224  CA         			dex
         01:D225  CA         			dex
         01:D226  95 08      			sta.l	<__stack, x
         01:D228  94 09      			sty.h	<__stack, x
         01:D22A  86 8D      			stx	<__sp
13055                        		__call		_collision_PLAYER_BG
         01:D22C  20 27 FF   			call	_collision_PLAYER_BG
13056                        	
13057                        		.dbg	line,	"include\routines_LEVELS.c", 2391; if(map_blk_flag == TILE_BG)
13058                        		__ld.umq	_map_blk_flag
         01:D22F  AD F9 2B   			lda	_map_blk_flag
13059                        		__equ_b.uiq	1
         01:D232  C9 01      			cmp	#1
         01:D234  F0 01      			beq	!+
         01:D236  18         			clc
         01:D237             	!:
13060                        		__bfalse	.LL638
         01:D237  90 41      			bcc	.LL638
13061                        	
13062                        		.dbg	line,	"include\routines_LEVELS.c", 2392; {
13063                        	
13064                        		.dbg	line,	"include\routines_LEVELS.c", 2393; check_TILE_DEPTH( 15 , -16 );
13065                        		__ld.wi		15
         01:D239  A9 0F      			lda.l	#15
         01:D23B  C2         			cly
13066                        		__pusharg.wr
         01:D23C  A6 8D      			ldx	<__sp
         01:D23E  CA         			dex
         01:D23F  CA         			dex
         01:D240  95 08      			sta.l	<__stack, x
         01:D242  94 09      			sty.h	<__stack, x
         01:D244  86 8D      			stx	<__sp
13067                        		__ld.wi		-16
         01:D246  A9 F0      			lda.l	#-16
         01:D248  A0 FF      			ldy.h	#-16
13068                        		__pusharg.wr
         01:D24A  A6 8D      			ldx	<__sp
         01:D24C  CA         			dex
         01:D24D  CA         			dex
         01:D24E  95 08      			sta.l	<__stack, x
         01:D250  94 09      			sty.h	<__stack, x
         01:D252  86 8D      			stx	<__sp
13069                        		__call		_check_TILE_DEPTH
         01:D254  20 13 FF   			call	_check_TILE_DEPTH
13070                        	
13071                        		.dbg	line,	"include\routines_LEVELS.c", 2395; if(map_blk_flag == TILE_EMPTY && jump_ladder == TRUE)
13072                        		__not.um	_map_blk_flag
         01:D257  AD F9 2B   			lda	_map_blk_flag
         01:D25A  18         			clc
         01:D25B  D0 01      			bne	!+
         01:D25D  38         			sec
         01:D25E             	!:
13073                        		__bfalse	.LL640
         01:D25E  90 08      			bcc	.LL640
13074                        		__ld.umq	_jump_ladder
         01:D260  AD 21 23   			lda	_jump_ladder
13075                        		__equ_b.uiq	1
         01:D263  C9 01      			cmp	#1
         01:D265  F0 01      			beq	!+
         01:D267  18         			clc
         01:D268             	!:
13076    01:D268             	.LL640:
13077                        		__bfalse	.LL639
         01:D268  90 64      			bcc	.LL639
13078                        	
13079                        		.dbg	line,	"include\routines_LEVELS.c", 2396; {
13080                        	
13081                        		.dbg	line,	"include\routines_LEVELS.c", 2397; jump_ladder = FALSE;
13082                        		__st.umiq	0, _jump_ladder
         01:D26A  9C 21 23   			stz	_jump_ladder
13083                        	
13084                        		.dbg	line,	"include\routines_LEVELS.c", 2398; player_index_fall = 0;
13085                        		__st.umiq	0, _player_index_fall
         01:D26D  9C 1D 23   			stz	_player_index_fall
13086                        	
13087                        		.dbg	line,	"include\routines_LEVELS.c", 2399; player_state = STATE_FALL;
13088                        		__st.umiq	9, _player_state
         01:D270  A9 09      			lda.l	#9
         01:D272  8D 18 23   			sta	_player_state
13089                        	
13090                        		.dbg	line,	"include\routines_LEVELS.c", 2400; return;
13091                        		__bra		.LL494
         01:D275  4C 94 DC   			bra	.LL494
13092                        	
13093                        		.dbg	line,	"include\routines_LEVELS.c", 2401; }
13094                        	
13095                        		.dbg	line,	"include\routines_LEVELS.c", 2402; }
13096    01:D278             	.LL639	.alias		.LL641
13097                        	
13098                        		.dbg	line,	"include\routines_LEVELS.c", 2404; else
13099                        		__bra		.LL641
         01:D278  80 54      			bra	.LL641
13100    01:D27A             	.LL638:
13101                        	
13102                        		.dbg	line,	"include\routines_LEVELS.c", 2405; {
13103                        	
13104                        		.dbg	line,	"include\routines_LEVELS.c", 2406; sgx_map_pxl_x -= 2;
13105                        		__sub_st.wmiq	2, _sgx_map_pxl_x
         01:D27A  38         			sec
         01:D27B  AD D8 26   			lda.l	_sgx_map_pxl_x
         01:D27E  E9 02      			sbc.l	#2
         01:D280  8D D8 26   			sta.l	_sgx_map_pxl_x
         01:D283  B0 03      			bcs	!+
         01:D285  CE D9 26   			dec.h	_sgx_map_pxl_x
         01:D288             	!:
13106                        	
13107                        		.dbg	line,	"include\routines_LEVELS.c", 2407; }
13108    01:D288             	.LL641	.alias		.LL642
13109                        	
13110                        		.dbg	line,	"include\routines_LEVELS.c", 2408; }
13111                        	
13112                        		.dbg	line,	"include\routines_LEVELS.c", 2410; else
13113                        		__bra		.LL642
         01:D288  80 44      			bra	.LL642
13114    01:D28A             	.LL637:
13115                        	
13116                        		.dbg	line,	"include\routines_LEVELS.c", 2411; {
13117                        	
13118                        		.dbg	line,	"include\routines_LEVELS.c", 2412; check_TILE_DEPTH( 15 , -16 );
13119                        		__ld.wi		15
         01:D28A  A9 0F      			lda.l	#15
         01:D28C  C2         			cly
13120                        		__pusharg.wr
         01:D28D  A6 8D      			ldx	<__sp
         01:D28F  CA         			dex
         01:D290  CA         			dex
         01:D291  95 08      			sta.l	<__stack, x
         01:D293  94 09      			sty.h	<__stack, x
         01:D295  86 8D      			stx	<__sp
13121                        		__ld.wi		-16
         01:D297  A9 F0      			lda.l	#-16
         01:D299  A0 FF      			ldy.h	#-16
13122                        		__pusharg.wr
         01:D29B  A6 8D      			ldx	<__sp
         01:D29D  CA         			dex
         01:D29E  CA         			dex
         01:D29F  95 08      			sta.l	<__stack, x
         01:D2A1  94 09      			sty.h	<__stack, x
         01:D2A3  86 8D      			stx	<__sp
13123                        		__call		_check_TILE_DEPTH
         01:D2A5  20 13 FF   			call	_check_TILE_DEPTH
13124                        	
13125                        		.dbg	line,	"include\routines_LEVELS.c", 2414; if(map_blk_flag == TILE_EMPTY && jump_ladder == TRUE)
13126                        		__not.um	_map_blk_flag
         01:D2A8  AD F9 2B   			lda	_map_blk_flag
         01:D2AB  18         			clc
         01:D2AC  D0 01      			bne	!+
         01:D2AE  38         			sec
         01:D2AF             	!:
13127                        		__bfalse	.LL644
         01:D2AF  90 08      			bcc	.LL644
13128                        		__ld.umq	_jump_ladder
         01:D2B1  AD 21 23   			lda	_jump_ladder
13129                        		__equ_b.uiq	1
         01:D2B4  C9 01      			cmp	#1
         01:D2B6  F0 01      			beq	!+
         01:D2B8  18         			clc
         01:D2B9             	!:
13130    01:D2B9             	.LL644:
13131                        		__bfalse	.LL643
         01:D2B9  90 13      			bcc	.LL643
13132                        	
13133                        		.dbg	line,	"include\routines_LEVELS.c", 2415; {
13134                        	
13135                        		.dbg	line,	"include\routines_LEVELS.c", 2416; jump_ladder = FALSE;
13136                        		__st.umiq	0, _jump_ladder
         01:D2BB  9C 21 23   			stz	_jump_ladder
13137                        	
13138                        		.dbg	line,	"include\routines_LEVELS.c", 2417; hit_wall = TRUE;
13139                        		__st.umiq	1, _hit_wall
         01:D2BE  A9 01      			lda.l	#1
         01:D2C0  8D 24 23   			sta	_hit_wall
13140                        	
13141                        		.dbg	line,	"include\routines_LEVELS.c", 2418; player_index_fall = 0;
13142                        		__st.umiq	0, _player_index_fall
         01:D2C3  9C 1D 23   			stz	_player_index_fall
13143                        	
13144                        		.dbg	line,	"include\routines_LEVELS.c", 2419; player_state = STATE_FALL;
13145                        		__st.umiq	9, _player_state
         01:D2C6  A9 09      			lda.l	#9
         01:D2C8  8D 18 23   			sta	_player_state
13146                        	
13147                        		.dbg	line,	"include\routines_LEVELS.c", 2420; return;
13148                        		__bra		.LL494
         01:D2CB  4C 94 DC   			bra	.LL494
13149                        	
13150                        		.dbg	line,	"include\routines_LEVELS.c", 2421; }
13151                        	
13152                        		.dbg	line,	"include\routines_LEVELS.c", 2422; }
13153    01:D2CE             	.LL643:
13154    01:D2CE             	.LL642:
13155                        	
13156                        		.dbg	line,	"include\routines_LEVELS.c", 2427; //**************************************************************************************//
13157                        	
13158                        		.dbg	line,	"include\routines_LEVELS.c", 2428; //                                        V MOVE                                        //
13159                        	
13160                        		.dbg	line,	"include\routines_LEVELS.c", 2429; //**************************************************************************************//
13161                        	
13162                        		.dbg	line,	"include\routines_LEVELS.c", 2431; // UPDATE PLAYER Y POSITION //
13163                        	
13164                        		.dbg	line,	"include\routines_LEVELS.c", 2432; if(jump_ladder == FALSE)
13165                        		__not.um	_jump_ladder
         01:D2CE  AD 21 23   			lda	_jump_ladder
         01:D2D1  18         			clc
         01:D2D2  D0 01      			bne	!+
         01:D2D4  38         			sec
         01:D2D5             	!:
13166                        		__bfalse	.LL645
         01:D2D5  90 1A      			bcc	.LL645
13167                        	
13168                        		.dbg	line,	"include\routines_LEVELS.c", 2433; {
13169                        	
13170                        		.dbg	line,	"include\routines_LEVELS.c", 2434; player_pos_y += TABLE_PLAYER_JUMP_V[player_index_jump];
13171                        		__ldx.umq	_player_index_jump
         01:D2D7  AE 1C 23   			ldx	_player_index_jump
13172                        		__ld.bax	_TABLE_PLAYER_JUMP_V
         01:D2DA  BD 41 62   			lda	_TABLE_PLAYER_JUMP_V, x
         01:D2DD  C2         			cly
         01:D2DE  10 01      			bpl	!+
         01:D2E0  88         			dey
         01:D2E1             	!:
13173                        		__add_st.wmq	_player_pos_y
         01:D2E1  18         			clc
         01:D2E2  6D F7 24   			adc.l	_player_pos_y
         01:D2E5  8D F7 24   			sta.l	_player_pos_y
         01:D2E8  98         			tya
         01:D2E9  6D F8 24   			adc.h	_player_pos_y
         01:D2EC  8D F8 24   			sta.h	_player_pos_y
13174                        	
13175                        		.dbg	line,	"include\routines_LEVELS.c", 2435; }
13176                        	
13177                        		.dbg	line,	"include\routines_LEVELS.c", 2437; else
13178                        		__bra		.LL646
         01:D2EF  80 18      			bra	.LL646
13179    01:D2F1             	.LL645:
13180                        	
13181                        		.dbg	line,	"include\routines_LEVELS.c", 2438; {
13182                        	
13183                        		.dbg	line,	"include\routines_LEVELS.c", 2439; player_pos_y += TABLE_PLAYER_JUMP_LADDER[player_index_jump];
13184                        		__ldx.umq	_player_index_jump
         01:D2F1  AE 1C 23   			ldx	_player_index_jump
13185                        		__ld.bax	_TABLE_PLAYER_JUMP_LADDER
         01:D2F4  BD 79 62   			lda	_TABLE_PLAYER_JUMP_LADDER, x
         01:D2F7  C2         			cly
         01:D2F8  10 01      			bpl	!+
         01:D2FA  88         			dey
         01:D2FB             	!:
13186                        		__add_st.wmq	_player_pos_y
         01:D2FB  18         			clc
         01:D2FC  6D F7 24   			adc.l	_player_pos_y
         01:D2FF  8D F7 24   			sta.l	_player_pos_y
         01:D302  98         			tya
         01:D303  6D F8 24   			adc.h	_player_pos_y
         01:D306  8D F8 24   			sta.h	_player_pos_y
13187                        	
13188                        		.dbg	line,	"include\routines_LEVELS.c", 2440; }
13189    01:D309             	.LL646:
13190                        	
13191                        		.dbg	line,	"include\routines_LEVELS.c", 2443; // IF PLAYER GOES BELOW ITS BASE Y POSITION //
13192                        	
13193                        		.dbg	line,	"include\routines_LEVELS.c", 2444; if(player_pos_y >= PLAYER_BASE_Y_POS)
13194                        		__ld.wm		_player_pos_y
         01:D309  AD F7 24   			lda.l	_player_pos_y
         01:D30C  AC F8 24   			ldy.h	_player_pos_y
13195                        		__sge_w.wi	128
         01:D30F  C9 80      			cmp.l	#128		; Subtract integer from Y:A.
         01:D311  98         			tya
         01:D312  E9 00      			sbc.h	#128
         01:D314  50 02      			bvc	!+
         01:D316  49 80      			eor	#$80		; +ve if Y:A >= integer (signed).
         01:D318  49 80      	!:		eor	#$80
         01:D31A  0A         			asl	a
13196                        		__bfalse	.LL647
         01:D31B  90 4E      			bcc	.LL647
13197                        	
13198                        		.dbg	line,	"include\routines_LEVELS.c", 2445; {
13199                        	
13200                        		.dbg	line,	"include\routines_LEVELS.c", 2446; // THE CAMERA MOVES //
13201                        	
13202                        		.dbg	line,	"include\routines_LEVELS.c", 2447; // CALCULATE HOW MANY PIXELS THE CAMERA HAS TO MOVE DOWN //
13203                        	
13204                        		.dbg	line,	"include\routines_LEVELS.c", 2448; camera_y_move = player_pos_y - PLAYER_BASE_Y_POS;
13205                        		__ld.wm		_player_pos_y
         01:D31D  AD F7 24   			lda.l	_player_pos_y
         01:D320  AC F8 24   			ldy.h	_player_pos_y
13206                        		__sub.wi	128
         01:D323  38         			sec
         01:D324  E9 80      			sbc.l	#128
         01:D326  B0 01      			bcs	!+
         01:D328  88         			dey
         01:D329             	!:
13207                        		__st.umq	__update_PLAYER_end - 5  /* camera_y_move */
         01:D329  8D 08 23   			sta	__update_PLAYER_end - 5
13208                        	
13209                        		.dbg	line,	"include\routines_LEVELS.c", 2449; sgx_map_pxl_y += camera_y_move;
13210                        		__ld.um		__update_PLAYER_end - 5  /* camera_y_move */
         01:D32C  AD 08 23   			lda	__update_PLAYER_end - 5
         01:D32F  C2         			cly
13211                        		__add_st.wmq	_sgx_map_pxl_y
         01:D330  18         			clc
         01:D331  6D DA 26   			adc.l	_sgx_map_pxl_y
         01:D334  8D DA 26   			sta.l	_sgx_map_pxl_y
         01:D337  98         			tya
         01:D338  6D DB 26   			adc.h	_sgx_map_pxl_y
         01:D33B  8D DB 26   			sta.h	_sgx_map_pxl_y
13212                        	
13213                        		.dbg	line,	"include\routines_LEVELS.c", 2451; // IF THE CAMERA HAS REACHED ITS MAX (LOWEST) POSITION //
13214                        	
13215                        		.dbg	line,	"include\routines_LEVELS.c", 2452; if(sgx_map_pxl_y > camera_max_y_position)
13216                        		__ld.wm		_sgx_map_pxl_y
         01:D33E  AD DA 26   			lda.l	_sgx_map_pxl_y
         01:D341  AC DB 26   			ldy.h	_sgx_map_pxl_y
13217                        		__ugt_w.wm	_camera_max_y_position
         01:D344  18         			clc			; Subtract memory+1 from Y:A.
         01:D345  ED F9 24   			sbc.l	_camera_max_y_position
         01:D348  98         			tya
         01:D349  ED FA 24   			sbc.h	_camera_max_y_position		; CS if Y:A > memory.
13218                        		__bfalse	.LL648
         01:D34C  90 0C      			bcc	.LL648
13219                        	
13220                        		.dbg	line,	"include\routines_LEVELS.c", 2453; {
13221                        	
13222                        		.dbg	line,	"include\routines_LEVELS.c", 2454; // THE CAMERA CAN NOT MOVE LOWER //
13223                        	
13224                        		.dbg	line,	"include\routines_LEVELS.c", 2455; sgx_map_pxl_y = camera_max_y_position;
13225                        		__ld.wm		_camera_max_y_position
         01:D34E  AD F9 24   			lda.l	_camera_max_y_position
         01:D351  AC FA 24   			ldy.h	_camera_max_y_position
13226                        		__st.wmq	_sgx_map_pxl_y
         01:D354  8D DA 26   			sta.l	_sgx_map_pxl_y
         01:D357  8C DB 26   			sty.h	_sgx_map_pxl_y
13227                        	
13228                        		.dbg	line,	"include\routines_LEVELS.c", 2456; }
13229                        	
13230                        		.dbg	line,	"include\routines_LEVELS.c", 2458; // THE PLAYER STAYS AT ITS BASE Y POSITION //
13231                        	
13232                        		.dbg	line,	"include\routines_LEVELS.c", 2459; player_pos_y = PLAYER_BASE_Y_POS;
13233    01:D35A             	.LL648:
13234                        		__st.wmiq	128, _player_pos_y
         01:D35A  A9 80      			lda.l	#128
         01:D35C  8D F7 24   			sta.l	_player_pos_y
         01:D35F  9C F8 24   			stz.h	_player_pos_y
13235                        	
13236                        		.dbg	line,	"include\routines_LEVELS.c", 2461; spr_y(player_pos_y);
13237                        		__ld.wm		_player_pos_y
         01:D362  AD F7 24   			lda.l	_player_pos_y
         01:D365  AC F8 24   			ldy.h	_player_pos_y
13238                        		__call		_spr_y.1
         01:D368  20 2D E8   			call	_spr_y.1
13239                        	
13240                        		.dbg	line,	"include\routines_LEVELS.c", 2462; }
13241                        	
13242                        		.dbg	line,	"include\routines_LEVELS.c", 2465; // UPDATE JUMP INDEX IN THE ARRAY //
13243                        	
13244                        		.dbg	line,	"include\routines_LEVELS.c", 2466; if(player_index_jump < jump_max_index)
13245    01:D36B             	.LL647:
13246                        		__ld.umq	_player_index_jump
         01:D36B  AD 1C 23   			lda	_player_index_jump
13247                        		__ult_b.umq	_jump_max_index
         01:D36E  CD 22 23   			cmp	_jump_max_index		; Subtract memory from A.
         01:D371  6A         			ror	a		; CC if A < memory.
         01:D372  49 80      			eor	#$80
         01:D374  2A         			rol	a
13248                        		__bfalse	.LL649
         01:D375  90 03      			bcc	.LL649
13249                        	
13250                        		.dbg	line,	"include\routines_LEVELS.c", 2467; {
13251                        	
13252                        		.dbg	line,	"include\routines_LEVELS.c", 2468; player_index_jump += 1;
13253                        		__add_st.umiq	1, _player_index_jump
         01:D377  EE 1C 23   			inc	_player_index_jump
13254                        	
13255                        		.dbg	line,	"include\routines_LEVELS.c", 2469; }
13256                        	
13257                        		.dbg	line,	"include\routines_LEVELS.c", 2474; //--------------------------------------------------------------------------------------//
13258                        	
13259                        		.dbg	line,	"include\routines_LEVELS.c", 2475; //                                   FLOOR COLLISION                                    //
13260                        	
13261                        		.dbg	line,	"include\routines_LEVELS.c", 2476; //--------------------------------------------------------------------------------------//
13262                        	
13263                        		.dbg	line,	"include\routines_LEVELS.c", 2478; if(player_index_jump > 14)
13264    01:D37A             	.LL649:
13265                        		__ld.umq	_player_index_jump
         01:D37A  AD 1C 23   			lda	_player_index_jump
13266                        		__ugt_b.uiq	14
         01:D37D  18         			clc			; Subtract integer+1 from A.
         01:D37E  E9 0E      			sbc	#14		; CS if A > integer.
13267                        		__bfalse	.LL650
         01:D380  B0 03 4C 65			bcc	.LL650
         01:D384  D5          
13268                        	
13269                        		.dbg	line,	"include\routines_LEVELS.c", 2479; {
13270                        	
13271                        		.dbg	line,	"include\routines_LEVELS.c", 2480; // CHECK COLLISION WITH LEFT FLOOR //
13272                        	
13273                        		.dbg	line,	"include\routines_LEVELS.c", 2481; collision_PLAYER_BG( 10 , 32 );
13274                        		__ld.wi		10
         01:D385  A9 0A      			lda.l	#10
         01:D387  C2         			cly
13275                        		__pusharg.wr
         01:D388  A6 8D      			ldx	<__sp
         01:D38A  CA         			dex
         01:D38B  CA         			dex
         01:D38C  95 08      			sta.l	<__stack, x
         01:D38E  94 09      			sty.h	<__stack, x
         01:D390  86 8D      			stx	<__sp
13276                        		__ld.wi		32
         01:D392  A9 20      			lda.l	#32
         01:D394  C2         			cly
13277                        		__pusharg.wr
         01:D395  A6 8D      			ldx	<__sp
         01:D397  CA         			dex
         01:D398  CA         			dex
         01:D399  95 08      			sta.l	<__stack, x
         01:D39B  94 09      			sty.h	<__stack, x
         01:D39D  86 8D      			stx	<__sp
13278                        		__call		_collision_PLAYER_BG
         01:D39F  20 27 FF   			call	_collision_PLAYER_BG
13279                        	
13280                        		.dbg	line,	"include\routines_LEVELS.c", 2483; if(map_blk_flag == TILE_BG)
13281                        		__ld.umq	_map_blk_flag
         01:D3A2  AD F9 2B   			lda	_map_blk_flag
13282                        		__equ_b.uiq	1
         01:D3A5  C9 01      			cmp	#1
         01:D3A7  F0 01      			beq	!+
         01:D3A9  18         			clc
         01:D3AA             	!:
13283                        		__bfalse	.LL651
         01:D3AA  B0 03 4C 75			bcc	.LL651
         01:D3AE  D4          
13284                        	
13285                        		.dbg	line,	"include\routines_LEVELS.c", 2484; {
13286                        	
13287                        		.dbg	line,	"include\routines_LEVELS.c", 2485; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
13288                        	
13289                        		.dbg	line,	"include\routines_LEVELS.c", 2486; for(i=1; i<11 ; i++)
13290                        		__st.umiq	1, __update_PLAYER_end - 4  /* i */
         01:D3AF  A9 01      			lda.l	#1
         01:D3B1  8D 09 23   			sta	__update_PLAYER_end - 4
13291    01:D3B4             	.LL652:
13292                        		__ld.umq	__update_PLAYER_end - 4  /* i */
         01:D3B4  AD 09 23   			lda	__update_PLAYER_end - 4
13293                        		__ult_b.uiq	11
         01:D3B7  C9 0B      			cmp	#11		; Subtract integer from A.
         01:D3B9  6A         			ror	a		; CC if A < integer.
         01:D3BA  49 80      			eor	#$80
         01:D3BC  2A         			rol	a
13294                        		__btrue		.LL654
         01:D3BD  B0 07      			bcs	.LL654
13295                        		__bra		.LL655
         01:D3BF  80 7D      			bra	.LL655
13296    01:D3C1             	.LL653:
13297                        		__inc.umq	__update_PLAYER_end - 4  /* i */
         01:D3C1  EE 09 23   			inc	__update_PLAYER_end - 4
13298                        		__bra		.LL652
         01:D3C4  80 EE      			bra	.LL652
13299    01:D3C6             	.LL654:
13300                        	
13301                        		.dbg	line,	"include\routines_LEVELS.c", 2487; {
13302                        	
13303                        		.dbg	line,	"include\routines_LEVELS.c", 2488; check_TILE_DEPTH( 10 , i);
13304                        		__ld.wi		10
         01:D3C6  A9 0A      			lda.l	#10
         01:D3C8  C2         			cly
13305                        		__pusharg.wr
         01:D3C9  A6 8D      			ldx	<__sp
         01:D3CB  CA         			dex
         01:D3CC  CA         			dex
         01:D3CD  95 08      			sta.l	<__stack, x
         01:D3CF  94 09      			sty.h	<__stack, x
         01:D3D1  86 8D      			stx	<__sp
13306                        		__ld.um		__update_PLAYER_end - 4  /* i */
         01:D3D3  AD 09 23   			lda	__update_PLAYER_end - 4
         01:D3D6  C2         			cly
13307                        		__pusharg.wr
         01:D3D7  A6 8D      			ldx	<__sp
         01:D3D9  CA         			dex
         01:D3DA  CA         			dex
         01:D3DB  95 08      			sta.l	<__stack, x
         01:D3DD  94 09      			sty.h	<__stack, x
         01:D3DF  86 8D      			stx	<__sp
13308                        		__call		_check_TILE_DEPTH
         01:D3E1  20 13 FF   			call	_check_TILE_DEPTH
13309                        	
13310                        		.dbg	line,	"include\routines_LEVELS.c", 2490; if(map_blk_flag == TILE_EMPTY)
13311                        		__not.um	_map_blk_flag
         01:D3E4  AD F9 2B   			lda	_map_blk_flag
         01:D3E7  18         			clc
         01:D3E8  D0 01      			bne	!+
         01:D3EA  38         			sec
         01:D3EB             	!:
13312                        		__bfalse	.LL656
         01:D3EB  90 D4      			bcc	.LL656
13313                        	
13314                        		.dbg	line,	"include\routines_LEVELS.c", 2491; {
13315                        	
13316                        		.dbg	line,	"include\routines_LEVELS.c", 2492; if(player_pos_y != PLAYER_BASE_Y_POS)
13317                        		__ld.wm		_player_pos_y
         01:D3ED  AD F7 24   			lda.l	_player_pos_y
         01:D3F0  AC F8 24   			ldy.h	_player_pos_y
13318                        		__neq_w.wi	128
         01:D3F3  38         			sec
         01:D3F4  49 80      			eor.l	#128
         01:D3F6  D0 06      			bne	!+
         01:D3F8  98         			tya
         01:D3F9  49 00      			eor.h	#128
         01:D3FB  D0 01      			bne	!+
         01:D3FD  18         			clc
         01:D3FE             	!:
13319                        		__bfalse	.LL657
         01:D3FE  90 1E      			bcc	.LL657
13320                        	
13321                        		.dbg	line,	"include\routines_LEVELS.c", 2493; {
13322                        	
13323                        		.dbg	line,	"include\routines_LEVELS.c", 2494; player_pos_y -= (i - 1);
13324                        		__ld.um		__update_PLAYER_end - 4  /* i */
         01:D400  AD 09 23   			lda	__update_PLAYER_end - 4
         01:D403  C2         			cly
13325                        		__sub.wi	1
         01:D404  38         			sec
         01:D405  E9 01      			sbc.l	#1
         01:D407  B0 01      			bcs	!+
         01:D409  88         			dey
         01:D40A             	!:
13326                        		__isub_st.wmq	_player_pos_y
         01:D40A  38         			sec
         01:D40B  49 FF      			eor	#$FF
         01:D40D  6D F7 24   			adc.l	_player_pos_y
         01:D410  8D F7 24   			sta.l	_player_pos_y
         01:D413  98         			tya
         01:D414  49 FF      			eor	#$FF
         01:D416  6D F8 24   			adc.h	_player_pos_y
         01:D419  8D F8 24   			sta.h	_player_pos_y
13327                        	
13328                        		.dbg	line,	"include\routines_LEVELS.c", 2495; }
13329                        	
13330                        		.dbg	line,	"include\routines_LEVELS.c", 2497; else
13331                        		__bra		.LL658
         01:D41C  80 20      			bra	.LL658
13332    01:D41E             	.LL657:
13333                        	
13334                        		.dbg	line,	"include\routines_LEVELS.c", 2498; {
13335                        	
13336                        		.dbg	line,	"include\routines_LEVELS.c", 2499; sgx_map_pxl_y -= (i - 1);
13337                        		__ld.um		__update_PLAYER_end - 4  /* i */
         01:D41E  AD 09 23   			lda	__update_PLAYER_end - 4
         01:D421  C2         			cly
13338                        		__sub.wi	1
         01:D422  38         			sec
         01:D423  E9 01      			sbc.l	#1
         01:D425  B0 01      			bcs	!+
         01:D427  88         			dey
         01:D428             	!:
13339                        		__isub_st.wmq	_sgx_map_pxl_y
         01:D428  38         			sec
         01:D429  49 FF      			eor	#$FF
         01:D42B  6D DA 26   			adc.l	_sgx_map_pxl_y
         01:D42E  8D DA 26   			sta.l	_sgx_map_pxl_y
         01:D431  98         			tya
         01:D432  49 FF      			eor	#$FF
         01:D434  6D DB 26   			adc.h	_sgx_map_pxl_y
         01:D437  8D DB 26   			sta.h	_sgx_map_pxl_y
13340                        	
13341                        		.dbg	line,	"include\routines_LEVELS.c", 2500; }
13342    01:D43A             	.LL658	.alias		.LL655
13343                        	
13344                        		.dbg	line,	"include\routines_LEVELS.c", 2502; break;
13345                        		__bra		.LL655
         01:D43A  80 02      			bra	.LL655
13346                        	
13347                        		.dbg	line,	"include\routines_LEVELS.c", 2503; }
13348                        	
13349                        		.dbg	line,	"include\routines_LEVELS.c", 2504; }
13350    01:D43C             	.LL656	.alias		.LL653
13351                        		__bra		.LL653
         01:D43C  80 83      			bra	.LL653
13352    01:D43E             	.LL655:
13353                        	
13354                        		.dbg	line,	"include\routines_LEVELS.c", 2506; // SET PLAYER SPRITE NEW POSITION //
13355                        	
13356                        		.dbg	line,	"include\routines_LEVELS.c", 2507; spr_y(player_pos_y);
13357                        		__ld.wm		_player_pos_y
         01:D43E  AD F7 24   			lda.l	_player_pos_y
         01:D441  AC F8 24   			ldy.h	_player_pos_y
13358                        		__call		_spr_y.1
         01:D444  20 2D E8   			call	_spr_y.1
13359                        	
13360                        		.dbg	line,	"include\routines_LEVELS.c", 2509; spr_set(weapon_id);
13361                        		__ld.umq	_weapon_id
         01:D447  AD 26 23   			lda	_weapon_id
13362                        		__call		_spr_set.1
         01:D44A  20 F1 E7   			call	_spr_set.1
13363                        	
13364                        		.dbg	line,	"include\routines_LEVELS.c", 2510; spr_y(player_pos_y+8);
13365                        		__ld.wm		_player_pos_y
         01:D44D  AD F7 24   			lda.l	_player_pos_y
         01:D450  AC F8 24   			ldy.h	_player_pos_y
13366                        		__add.wi	8
         01:D453  18         			clc
         01:D454  69 08      			adc.l	#8
         01:D456  90 01      			bcc	!+
         01:D458  C8         			iny
         01:D459             	!:
13367                        		__call		_spr_y.1
         01:D459  20 2D E8   			call	_spr_y.1
13368                        	
13369                        		.dbg	line,	"include\routines_LEVELS.c", 2512; player_counter_anim = 1;
13370                        		__st.umiq	1, _player_counter_anim
         01:D45C  A9 01      			lda.l	#1
         01:D45E  8D 1B 23   			sta	_player_counter_anim
13371                        	
13372                        		.dbg	line,	"include\routines_LEVELS.c", 2513; player_index_jump = 0;
13373                        		__st.umiq	0, _player_index_jump
         01:D461  9C 1C 23   			stz	_player_index_jump
13374                        	
13375                        		.dbg	line,	"include\routines_LEVELS.c", 2514; jump_ladder = FALSE;
13376                        		__st.umiq	0, _jump_ladder
         01:D464  9C 21 23   			stz	_jump_ladder
13377                        	
13378                        		.dbg	line,	"include\routines_LEVELS.c", 2515; hit_wall = FALSE;
13379                        		__st.umiq	0, _hit_wall
         01:D467  9C 24 23   			stz	_hit_wall
13380                        	
13381                        		.dbg	line,	"include\routines_LEVELS.c", 2516; jump_max_index = 34;
13382                        		__st.umiq	34, _jump_max_index
         01:D46A  A9 22      			lda.l	#34
         01:D46C  8D 22 23   			sta	_jump_max_index
13383                        	
13384                        		.dbg	line,	"include\routines_LEVELS.c", 2517; player_state = STATE_IDLE;
13385                        		__st.umiq	0, _player_state
         01:D46F  9C 18 23   			stz	_player_state
13386                        	
13387                        		.dbg	line,	"include\routines_LEVELS.c", 2518; return;
13388                        		__bra		.LL494
         01:D472  4C 94 DC   			bra	.LL494
13389                        	
13390                        		.dbg	line,	"include\routines_LEVELS.c", 2519; }
13391                        	
13392                        		.dbg	line,	"include\routines_LEVELS.c", 2521; else
13393    01:D475             	.LL651:
13394                        	
13395                        		.dbg	line,	"include\routines_LEVELS.c", 2522; {
13396                        	
13397                        		.dbg	line,	"include\routines_LEVELS.c", 2523; // CHECK COLLISION WITH RIGHT FLOOR //
13398                        	
13399                        		.dbg	line,	"include\routines_LEVELS.c", 2524; collision_PLAYER_BG( 22 , 32 );
13400                        		__ld.wi		22
         01:D475  A9 16      			lda.l	#22
         01:D477  C2         			cly
13401                        		__pusharg.wr
         01:D478  A6 8D      			ldx	<__sp
         01:D47A  CA         			dex
         01:D47B  CA         			dex
         01:D47C  95 08      			sta.l	<__stack, x
         01:D47E  94 09      			sty.h	<__stack, x
         01:D480  86 8D      			stx	<__sp
13402                        		__ld.wi		32
         01:D482  A9 20      			lda.l	#32
         01:D484  C2         			cly
13403                        		__pusharg.wr
         01:D485  A6 8D      			ldx	<__sp
         01:D487  CA         			dex
         01:D488  CA         			dex
         01:D489  95 08      			sta.l	<__stack, x
         01:D48B  94 09      			sty.h	<__stack, x
         01:D48D  86 8D      			stx	<__sp
13404                        		__call		_collision_PLAYER_BG
         01:D48F  20 27 FF   			call	_collision_PLAYER_BG
13405                        	
13406                        		.dbg	line,	"include\routines_LEVELS.c", 2526; if(map_blk_flag == TILE_BG)
13407                        		__ld.umq	_map_blk_flag
         01:D492  AD F9 2B   			lda	_map_blk_flag
13408                        		__equ_b.uiq	1
         01:D495  C9 01      			cmp	#1
         01:D497  F0 01      			beq	!+
         01:D499  18         			clc
         01:D49A             	!:
13409                        		__bfalse	.LL660
         01:D49A  B0 03 4C 65			bcc	.LL660
         01:D49E  D5          
13410                        	
13411                        		.dbg	line,	"include\routines_LEVELS.c", 2527; {
13412                        	
13413                        		.dbg	line,	"include\routines_LEVELS.c", 2528; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
13414                        	
13415                        		.dbg	line,	"include\routines_LEVELS.c", 2529; for(i=1; i<11 ; i++)
13416                        		__st.umiq	1, __update_PLAYER_end - 4  /* i */
         01:D49F  A9 01      			lda.l	#1
         01:D4A1  8D 09 23   			sta	__update_PLAYER_end - 4
13417    01:D4A4             	.LL661:
13418                        		__ld.umq	__update_PLAYER_end - 4  /* i */
         01:D4A4  AD 09 23   			lda	__update_PLAYER_end - 4
13419                        		__ult_b.uiq	11
         01:D4A7  C9 0B      			cmp	#11		; Subtract integer from A.
         01:D4A9  6A         			ror	a		; CC if A < integer.
         01:D4AA  49 80      			eor	#$80
         01:D4AC  2A         			rol	a
13420                        		__btrue		.LL663
         01:D4AD  B0 07      			bcs	.LL663
13421                        		__bra		.LL664
         01:D4AF  80 7D      			bra	.LL664
13422    01:D4B1             	.LL662:
13423                        		__inc.umq	__update_PLAYER_end - 4  /* i */
         01:D4B1  EE 09 23   			inc	__update_PLAYER_end - 4
13424                        		__bra		.LL661
         01:D4B4  80 EE      			bra	.LL661
13425    01:D4B6             	.LL663:
13426                        	
13427                        		.dbg	line,	"include\routines_LEVELS.c", 2530; {
13428                        	
13429                        		.dbg	line,	"include\routines_LEVELS.c", 2531; check_TILE_DEPTH( 22 , i);
13430                        		__ld.wi		22
         01:D4B6  A9 16      			lda.l	#22
         01:D4B8  C2         			cly
13431                        		__pusharg.wr
         01:D4B9  A6 8D      			ldx	<__sp
         01:D4BB  CA         			dex
         01:D4BC  CA         			dex
         01:D4BD  95 08      			sta.l	<__stack, x
         01:D4BF  94 09      			sty.h	<__stack, x
         01:D4C1  86 8D      			stx	<__sp
13432                        		__ld.um		__update_PLAYER_end - 4  /* i */
         01:D4C3  AD 09 23   			lda	__update_PLAYER_end - 4
         01:D4C6  C2         			cly
13433                        		__pusharg.wr
         01:D4C7  A6 8D      			ldx	<__sp
         01:D4C9  CA         			dex
         01:D4CA  CA         			dex
         01:D4CB  95 08      			sta.l	<__stack, x
         01:D4CD  94 09      			sty.h	<__stack, x
         01:D4CF  86 8D      			stx	<__sp
13434                        		__call		_check_TILE_DEPTH
         01:D4D1  20 13 FF   			call	_check_TILE_DEPTH
13435                        	
13436                        		.dbg	line,	"include\routines_LEVELS.c", 2533; if(map_blk_flag == TILE_EMPTY)
13437                        		__not.um	_map_blk_flag
         01:D4D4  AD F9 2B   			lda	_map_blk_flag
         01:D4D7  18         			clc
         01:D4D8  D0 01      			bne	!+
         01:D4DA  38         			sec
         01:D4DB             	!:
13438                        		__bfalse	.LL665
         01:D4DB  90 D4      			bcc	.LL665
13439                        	
13440                        		.dbg	line,	"include\routines_LEVELS.c", 2534; {
13441                        	
13442                        		.dbg	line,	"include\routines_LEVELS.c", 2535; if(player_pos_y != PLAYER_BASE_Y_POS)
13443                        		__ld.wm		_player_pos_y
         01:D4DD  AD F7 24   			lda.l	_player_pos_y
         01:D4E0  AC F8 24   			ldy.h	_player_pos_y
13444                        		__neq_w.wi	128
         01:D4E3  38         			sec
         01:D4E4  49 80      			eor.l	#128
         01:D4E6  D0 06      			bne	!+
         01:D4E8  98         			tya
         01:D4E9  49 00      			eor.h	#128
         01:D4EB  D0 01      			bne	!+
         01:D4ED  18         			clc
         01:D4EE             	!:
13445                        		__bfalse	.LL666
         01:D4EE  90 1E      			bcc	.LL666
13446                        	
13447                        		.dbg	line,	"include\routines_LEVELS.c", 2536; {
13448                        	
13449                        		.dbg	line,	"include\routines_LEVELS.c", 2537; player_pos_y -= (i - 1);
13450                        		__ld.um		__update_PLAYER_end - 4  /* i */
         01:D4F0  AD 09 23   			lda	__update_PLAYER_end - 4
         01:D4F3  C2         			cly
13451                        		__sub.wi	1
         01:D4F4  38         			sec
         01:D4F5  E9 01      			sbc.l	#1
         01:D4F7  B0 01      			bcs	!+
         01:D4F9  88         			dey
         01:D4FA             	!:
13452                        		__isub_st.wmq	_player_pos_y
         01:D4FA  38         			sec
         01:D4FB  49 FF      			eor	#$FF
         01:D4FD  6D F7 24   			adc.l	_player_pos_y
         01:D500  8D F7 24   			sta.l	_player_pos_y
         01:D503  98         			tya
         01:D504  49 FF      			eor	#$FF
         01:D506  6D F8 24   			adc.h	_player_pos_y
         01:D509  8D F8 24   			sta.h	_player_pos_y
13453                        	
13454                        		.dbg	line,	"include\routines_LEVELS.c", 2538; }
13455                        	
13456                        		.dbg	line,	"include\routines_LEVELS.c", 2540; else
13457                        		__bra		.LL667
         01:D50C  80 20      			bra	.LL667
13458    01:D50E             	.LL666:
13459                        	
13460                        		.dbg	line,	"include\routines_LEVELS.c", 2541; {
13461                        	
13462                        		.dbg	line,	"include\routines_LEVELS.c", 2542; sgx_map_pxl_y -= (i - 1);
13463                        		__ld.um		__update_PLAYER_end - 4  /* i */
         01:D50E  AD 09 23   			lda	__update_PLAYER_end - 4
         01:D511  C2         			cly
13464                        		__sub.wi	1
         01:D512  38         			sec
         01:D513  E9 01      			sbc.l	#1
         01:D515  B0 01      			bcs	!+
         01:D517  88         			dey
         01:D518             	!:
13465                        		__isub_st.wmq	_sgx_map_pxl_y
         01:D518  38         			sec
         01:D519  49 FF      			eor	#$FF
         01:D51B  6D DA 26   			adc.l	_sgx_map_pxl_y
         01:D51E  8D DA 26   			sta.l	_sgx_map_pxl_y
         01:D521  98         			tya
         01:D522  49 FF      			eor	#$FF
         01:D524  6D DB 26   			adc.h	_sgx_map_pxl_y
         01:D527  8D DB 26   			sta.h	_sgx_map_pxl_y
13466                        	
13467                        		.dbg	line,	"include\routines_LEVELS.c", 2543; }
13468    01:D52A             	.LL667	.alias		.LL664
13469                        	
13470                        		.dbg	line,	"include\routines_LEVELS.c", 2545; break;
13471                        		__bra		.LL664
         01:D52A  80 02      			bra	.LL664
13472                        	
13473                        		.dbg	line,	"include\routines_LEVELS.c", 2546; }
13474                        	
13475                        		.dbg	line,	"include\routines_LEVELS.c", 2547; }
13476    01:D52C             	.LL665	.alias		.LL662
13477                        		__bra		.LL662
         01:D52C  80 83      			bra	.LL662
13478    01:D52E             	.LL664:
13479                        	
13480                        		.dbg	line,	"include\routines_LEVELS.c", 2549; // SET PLAYER SPRITE NEW POSITION //
13481                        	
13482                        		.dbg	line,	"include\routines_LEVELS.c", 2550; spr_y(player_pos_y);
13483                        		__ld.wm		_player_pos_y
         01:D52E  AD F7 24   			lda.l	_player_pos_y
         01:D531  AC F8 24   			ldy.h	_player_pos_y
13484                        		__call		_spr_y.1
         01:D534  20 2D E8   			call	_spr_y.1
13485                        	
13486                        		.dbg	line,	"include\routines_LEVELS.c", 2552; spr_set(weapon_id);
13487                        		__ld.umq	_weapon_id
         01:D537  AD 26 23   			lda	_weapon_id
13488                        		__call		_spr_set.1
         01:D53A  20 F1 E7   			call	_spr_set.1
13489                        	
13490                        		.dbg	line,	"include\routines_LEVELS.c", 2553; spr_y(player_pos_y+8);
13491                        		__ld.wm		_player_pos_y
         01:D53D  AD F7 24   			lda.l	_player_pos_y
         01:D540  AC F8 24   			ldy.h	_player_pos_y
13492                        		__add.wi	8
         01:D543  18         			clc
         01:D544  69 08      			adc.l	#8
         01:D546  90 01      			bcc	!+
         01:D548  C8         			iny
         01:D549             	!:
13493                        		__call		_spr_y.1
         01:D549  20 2D E8   			call	_spr_y.1
13494                        	
13495                        		.dbg	line,	"include\routines_LEVELS.c", 2555; player_counter_anim = 1;
13496                        		__st.umiq	1, _player_counter_anim
         01:D54C  A9 01      			lda.l	#1
         01:D54E  8D 1B 23   			sta	_player_counter_anim
13497                        	
13498                        		.dbg	line,	"include\routines_LEVELS.c", 2556; player_index_jump = 0;
13499                        		__st.umiq	0, _player_index_jump
         01:D551  9C 1C 23   			stz	_player_index_jump
13500                        	
13501                        		.dbg	line,	"include\routines_LEVELS.c", 2557; jump_ladder = FALSE;
13502                        		__st.umiq	0, _jump_ladder
         01:D554  9C 21 23   			stz	_jump_ladder
13503                        	
13504                        		.dbg	line,	"include\routines_LEVELS.c", 2558; hit_wall = FALSE;
13505                        		__st.umiq	0, _hit_wall
         01:D557  9C 24 23   			stz	_hit_wall
13506                        	
13507                        		.dbg	line,	"include\routines_LEVELS.c", 2559; jump_max_index = 34;
13508                        		__st.umiq	34, _jump_max_index
         01:D55A  A9 22      			lda.l	#34
         01:D55C  8D 22 23   			sta	_jump_max_index
13509                        	
13510                        		.dbg	line,	"include\routines_LEVELS.c", 2560; player_state = STATE_IDLE;
13511                        		__st.umiq	0, _player_state
         01:D55F  9C 18 23   			stz	_player_state
13512                        	
13513                        		.dbg	line,	"include\routines_LEVELS.c", 2561; return;
13514                        		__bra		.LL494
         01:D562  4C 94 DC   			bra	.LL494
13515                        	
13516                        		.dbg	line,	"include\routines_LEVELS.c", 2562; }
13517                        	
13518                        		.dbg	line,	"include\routines_LEVELS.c", 2563; }
13519    01:D565             	.LL660:
13520    01:D565             	.LL659:
13521                        	
13522                        		.dbg	line,	"include\routines_LEVELS.c", 2564; }
13523                        	
13524                        		.dbg	line,	"include\routines_LEVELS.c", 2569; //--------------------------------------------------------------------------------------//
13525                        	
13526                        		.dbg	line,	"include\routines_LEVELS.c", 2570; //                                   LADDER COLLISION                                   //
13527                        	
13528                        		.dbg	line,	"include\routines_LEVELS.c", 2571; //--------------------------------------------------------------------------------------//
13529                        	
13530                        		.dbg	line,	"include\routines_LEVELS.c", 2573; if(player_index_jump > 4)
13531    01:D565             	.LL650:
13532                        		__ld.umq	_player_index_jump
         01:D565  AD 1C 23   			lda	_player_index_jump
13533                        		__ugt_b.uiq	4
         01:D568  18         			clc			; Subtract integer+1 from A.
         01:D569  E9 04      			sbc	#4		; CS if A > integer.
13534                        		__bfalse	.LL668
         01:D56B  B0 03 4C 00			bcc	.LL668
         01:D56F  D6          
13535                        	
13536                        		.dbg	line,	"include\routines_LEVELS.c", 2574; {
13537                        	
13538                        		.dbg	line,	"include\routines_LEVELS.c", 2575; collision_PLAYER_BG( 16 , 16 );
13539                        		__ld.wi		16
         01:D570  A9 10      			lda.l	#16
         01:D572  C2         			cly
13540                        		__pusharg.wr
         01:D573  A6 8D      			ldx	<__sp
         01:D575  CA         			dex
         01:D576  CA         			dex
         01:D577  95 08      			sta.l	<__stack, x
         01:D579  94 09      			sty.h	<__stack, x
         01:D57B  86 8D      			stx	<__sp
13541                        		__ld.wi		16
         01:D57D  A9 10      			lda.l	#16
         01:D57F  C2         			cly
13542                        		__pusharg.wr
         01:D580  A6 8D      			ldx	<__sp
         01:D582  CA         			dex
         01:D583  CA         			dex
         01:D584  95 08      			sta.l	<__stack, x
         01:D586  94 09      			sty.h	<__stack, x
         01:D588  86 8D      			stx	<__sp
13543                        		__call		_collision_PLAYER_BG
         01:D58A  20 27 FF   			call	_collision_PLAYER_BG
13544                        	
13545                        		.dbg	line,	"include\routines_LEVELS.c", 2577; if(map_blk_flag == TILE_LADDER)
13546                        		__ld.umq	_map_blk_flag
         01:D58D  AD F9 2B   			lda	_map_blk_flag
13547                        		__equ_b.uiq	2
         01:D590  C9 02      			cmp	#2
         01:D592  F0 01      			beq	!+
         01:D594  18         			clc
         01:D595             	!:
13548                        		__bfalse	.LL669
         01:D595  90 69      			bcc	.LL669
13549                        	
13550                        		.dbg	line,	"include\routines_LEVELS.c", 2578; {
13551                        	
13552                        		.dbg	line,	"include\routines_LEVELS.c", 2579; // CAMERA GOES 8 PX BACKWARD //
13553                        	
13554                        		.dbg	line,	"include\routines_LEVELS.c", 2580; sgx_map_pxl_x = ( (sgx_map_pxl_x >> 3) << 3 );
13555                        		__ld.wm		_sgx_map_pxl_x
         01:D597  AD D8 26   			lda.l	_sgx_map_pxl_x
         01:D59A  AC D9 26   			ldy.h	_sgx_map_pxl_x
13556                        		__lsr.wi	3
         01:D59D  84 00      			sty	__temp
         01:D59F  20 3A E2   			jsr	lsrw3
13557                        		__asl.wi	3
         01:D5A2  84 00      			sty	__temp
         01:D5A4  20 D7 E1   			jsr	aslw3
13558                        		__st.wmq	_sgx_map_pxl_x
         01:D5A7  8D D8 26   			sta.l	_sgx_map_pxl_x
         01:D5AA  8C D9 26   			sty.h	_sgx_map_pxl_x
13559                        	
13560                        		.dbg	line,	"include\routines_LEVELS.c", 2582; // SO WE UPDATE THE MAP //
13561                        	
13562                        		.dbg	line,	"include\routines_LEVELS.c", 2583; sgx_scroll_map();
13563                        		__call		_sgx_scroll_map
         01:D5AD  20 63 FF   			call	_sgx_scroll_map
13564                        	
13565                        		.dbg	line,	"include\routines_LEVELS.c", 2585; // CHECK IF THE PLAYER STANDS RIGHT TO THE LADDER //
13566                        	
13567                        		.dbg	line,	"include\routines_LEVELS.c", 2586; collision_PLAYER_BG( 31 , 16 );
13568                        		__ld.wi		31
         01:D5B0  A9 1F      			lda.l	#31
         01:D5B2  C2         			cly
13569                        		__pusharg.wr
         01:D5B3  A6 8D      			ldx	<__sp
         01:D5B5  CA         			dex
         01:D5B6  CA         			dex
         01:D5B7  95 08      			sta.l	<__stack, x
         01:D5B9  94 09      			sty.h	<__stack, x
         01:D5BB  86 8D      			stx	<__sp
13570                        		__ld.wi		16
         01:D5BD  A9 10      			lda.l	#16
         01:D5BF  C2         			cly
13571                        		__pusharg.wr
         01:D5C0  A6 8D      			ldx	<__sp
         01:D5C2  CA         			dex
         01:D5C3  CA         			dex
         01:D5C4  95 08      			sta.l	<__stack, x
         01:D5C6  94 09      			sty.h	<__stack, x
         01:D5C8  86 8D      			stx	<__sp
13572                        		__call		_collision_PLAYER_BG
         01:D5CA  20 27 FF   			call	_collision_PLAYER_BG
13573                        	
13574                        		.dbg	line,	"include\routines_LEVELS.c", 2588; if(map_blk_flag == TILE_LADDER)
13575                        		__ld.umq	_map_blk_flag
         01:D5CD  AD F9 2B   			lda	_map_blk_flag
13576                        		__equ_b.uiq	2
         01:D5D0  C9 02      			cmp	#2
         01:D5D2  F0 01      			beq	!+
         01:D5D4  18         			clc
         01:D5D5             	!:
13577                        		__bfalse	.LL670
         01:D5D5  90 0E      			bcc	.LL670
13578                        	
13579                        		.dbg	line,	"include\routines_LEVELS.c", 2589; {
13580                        	
13581                        		.dbg	line,	"include\routines_LEVELS.c", 2590; sgx_map_pxl_x += 8;
13582                        		__add_st.wmiq	8, _sgx_map_pxl_x
         01:D5D7  18         			clc
         01:D5D8  AD D8 26   			lda.l	_sgx_map_pxl_x
         01:D5DB  69 08      			adc.l	#8
         01:D5DD  8D D8 26   			sta.l	_sgx_map_pxl_x
         01:D5E0  90 03      			bcc	!+
         01:D5E2  EE D9 26   			inc.h	_sgx_map_pxl_x
         01:D5E5             	!:
13583                        	
13584                        		.dbg	line,	"include\routines_LEVELS.c", 2591; }
13585                        	
13586                        		.dbg	line,	"include\routines_LEVELS.c", 2593; spr_pattern(PLAYER_HANG_VRAM_ADR);
13587    01:D5E5             	.LL670:
13588                        		__ld.wi		7424
         01:D5E5  62         			cla
         01:D5E6  A0 1D      			ldy.h	#7424
13589                        		__call		_spr_pattern.1
         01:D5E8  20 3A E8   			call	_spr_pattern.1
13590                        	
13591                        		.dbg	line,	"include\routines_LEVELS.c", 2594; player_counter_anim = 0;
13592                        		__st.umiq	0, _player_counter_anim
         01:D5EB  9C 1B 23   			stz	_player_counter_anim
13593                        	
13594                        		.dbg	line,	"include\routines_LEVELS.c", 2595; player_index_jump = 0;
13595                        		__st.umiq	0, _player_index_jump
         01:D5EE  9C 1C 23   			stz	_player_index_jump
13596                        	
13597                        		.dbg	line,	"include\routines_LEVELS.c", 2596; jump_ladder = TRUE;
13598                        		__st.umiq	1, _jump_ladder
         01:D5F1  A9 01      			lda.l	#1
         01:D5F3  8D 21 23   			sta	_jump_ladder
13599                        	
13600                        		.dbg	line,	"include\routines_LEVELS.c", 2597; jump_max_index = 29;
13601                        		__st.umiq	29, _jump_max_index
         01:D5F6  A9 1D      			lda.l	#29
         01:D5F8  8D 22 23   			sta	_jump_max_index
13602                        	
13603                        		.dbg	line,	"include\routines_LEVELS.c", 2598; player_state = STATE_HANG;
13604                        		__st.umiq	10, _player_state
         01:D5FB  A9 0A      			lda.l	#10
         01:D5FD  8D 18 23   			sta	_player_state
13605                        	
13606                        		.dbg	line,	"include\routines_LEVELS.c", 2599; }
13607                        	
13608                        		.dbg	line,	"include\routines_LEVELS.c", 2600; }
13609    01:D600             	.LL669:
13610                        	
13611                        		.dbg	line,	"include\routines_LEVELS.c", 2603; // SET PLAYER SPRITE NEW POSITION //
13612                        	
13613                        		.dbg	line,	"include\routines_LEVELS.c", 2604; spr_y(player_pos_y);
13614    01:D600             	.LL668:
13615                        		__ld.wm		_player_pos_y
         01:D600  AD F7 24   			lda.l	_player_pos_y
         01:D603  AC F8 24   			ldy.h	_player_pos_y
13616                        		__call		_spr_y.1
         01:D606  20 2D E8   			call	_spr_y.1
13617                        	
13618                        		.dbg	line,	"include\routines_LEVELS.c", 2606; spr_set(weapon_id);
13619                        		__ld.umq	_weapon_id
         01:D609  AD 26 23   			lda	_weapon_id
13620                        		__call		_spr_set.1
         01:D60C  20 F1 E7   			call	_spr_set.1
13621                        	
13622                        		.dbg	line,	"include\routines_LEVELS.c", 2607; spr_y(player_pos_y+8);
13623                        		__ld.wm		_player_pos_y
         01:D60F  AD F7 24   			lda.l	_player_pos_y
         01:D612  AC F8 24   			ldy.h	_player_pos_y
13624                        		__add.wi	8
         01:D615  18         			clc
         01:D616  69 08      			adc.l	#8
         01:D618  90 01      			bcc	!+
         01:D61A  C8         			iny
         01:D61B             	!:
13625                        		__call		_spr_y.1
         01:D61B  20 2D E8   			call	_spr_y.1
13626                        	
13627                        		.dbg	line,	"include\routines_LEVELS.c", 2608; }
13628                        	
13629                        		.dbg	line,	"include\routines_LEVELS.c", 2611; else if(player_state == STATE_CROUCH)
13630                        		__bra		.LL671
         01:D61E  4C 94 DC   			bra	.LL671
13631    01:D621             	.LL635:
13632                        		__ld.umq	_player_state
         01:D621  AD 18 23   			lda	_player_state
13633                        		__equ_b.uiq	7
         01:D624  C9 07      			cmp	#7
         01:D626  F0 01      			beq	!+
         01:D628  18         			clc
         01:D629             	!:
13634                        		__bfalse	.LL672
         01:D629  90 6A      			bcc	.LL672
13635                        	
13636                        		.dbg	line,	"include\routines_LEVELS.c", 2612; {
13637                        	
13638                        		.dbg	line,	"include\routines_LEVELS.c", 2613; recenter_CAMERA();
13639                        		__call		_recenter_CAMERA
         01:D62B  20 1D FF   			call	_recenter_CAMERA
13640                        	
13641                        		.dbg	line,	"include\routines_LEVELS.c", 2614; 
13642                        	
13643                        		.dbg	line,	"include\routines_LEVELS.c", 2615; if(player_counter_anim == 1)
13644                        		__ld.umq	_player_counter_anim
         01:D62E  AD 1B 23   			lda	_player_counter_anim
13645                        		__equ_b.uiq	1
         01:D631  C9 01      			cmp	#1
         01:D633  F0 01      			beq	!+
         01:D635  18         			clc
         01:D636             	!:
13646                        		__bfalse	.LL673
         01:D636  90 45      			bcc	.LL673
13647                        	
13648                        		.dbg	line,	"include\routines_LEVELS.c", 2616; {
13649                        	
13650                        		.dbg	line,	"include\routines_LEVELS.c", 2617; spr_set(player_id);
13651                        		__ld.umq	_player_id
         01:D638  AD 17 23   			lda	_player_id
13652                        		__call		_spr_set.1
         01:D63B  20 F1 E7   			call	_spr_set.1
13653                        	
13654                        		.dbg	line,	"include\routines_LEVELS.c", 2618; spr_pattern(PLAYER_CROUCH_VRAM_ADR);
13655                        		__ld.wi		7168
         01:D63E  62         			cla
         01:D63F  A0 1C      			ldy.h	#7168
13656                        		__call		_spr_pattern.1
         01:D641  20 3A E8   			call	_spr_pattern.1
13657                        	
13658                        		.dbg	line,	"include\routines_LEVELS.c", 2620; spr_set(weapon_id);
13659                        		__ld.umq	_weapon_id
         01:D644  AD 26 23   			lda	_weapon_id
13660                        		__call		_spr_set.1
         01:D647  20 F1 E7   			call	_spr_set.1
13661                        	
13662                        		.dbg	line,	"include\routines_LEVELS.c", 2621; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
13663                        		__ld.wi		31808
         01:D64A  A9 40      			lda.l	#31808
         01:D64C  A0 7C      			ldy.h	#31808
13664                        		__call		_spr_pattern.1
         01:D64E  20 3A E8   			call	_spr_pattern.1
13665                        	
13666                        		.dbg	line,	"include\routines_LEVELS.c", 2622; 
13667                        	
13668                        		.dbg	line,	"include\routines_LEVELS.c", 2623; if(player_axis == AXIS_RIGHT)
13669                        		__not.um	_player_axis
         01:D651  AD 19 23   			lda	_player_axis
         01:D654  18         			clc
         01:D655  D0 01      			bne	!+
         01:D657  38         			sec
         01:D658             	!:
13670                        		__bfalse	.LL674
         01:D658  90 11      			bcc	.LL674
13671                        	
13672                        		.dbg	line,	"include\routines_LEVELS.c", 2624; {
13673                        	
13674                        		.dbg	line,	"include\routines_LEVELS.c", 2625; spr_x(player_pos_x-1);
13675                        		__ld.wm		_player_pos_x
         01:D65A  AD F5 24   			lda.l	_player_pos_x
         01:D65D  AC F6 24   			ldy.h	_player_pos_x
13676                        		__sub.wi	1
         01:D660  38         			sec
         01:D661  E9 01      			sbc.l	#1
         01:D663  B0 01      			bcs	!+
         01:D665  88         			dey
         01:D666             	!:
13677                        		__call		_spr_x.1
         01:D666  20 1E E8   			call	_spr_x.1
13678                        	
13679                        		.dbg	line,	"include\routines_LEVELS.c", 2626; }
13680                        	
13681                        		.dbg	line,	"include\routines_LEVELS.c", 2628; else
13682                        		__bra		.LL675
         01:D669  80 0F      			bra	.LL675
13683    01:D66B             	.LL674:
13684                        	
13685                        		.dbg	line,	"include\routines_LEVELS.c", 2629; {
13686                        	
13687                        		.dbg	line,	"include\routines_LEVELS.c", 2630; spr_x(player_pos_x+17);
13688                        		__ld.wm		_player_pos_x
         01:D66B  AD F5 24   			lda.l	_player_pos_x
         01:D66E  AC F6 24   			ldy.h	_player_pos_x
13689                        		__add.wi	17
         01:D671  18         			clc
         01:D672  69 11      			adc.l	#17
         01:D674  90 01      			bcc	!+
         01:D676  C8         			iny
         01:D677             	!:
13690                        		__call		_spr_x.1
         01:D677  20 1E E8   			call	_spr_x.1
13691                        	
13692                        		.dbg	line,	"include\routines_LEVELS.c", 2631; }
13693    01:D67A             	.LL675:
13694                        	
13695                        		.dbg	line,	"include\routines_LEVELS.c", 2633; //spr_y(player_pos_y+18);
13696                        	
13697                        		.dbg	line,	"include\routines_LEVELS.c", 2634; 
13698                        	
13699                        		.dbg	line,	"include\routines_LEVELS.c", 2635; player_counter_anim = 0;
13700                        		__st.umiq	0, _player_counter_anim
         01:D67A  9C 1B 23   			stz	_player_counter_anim
13701                        	
13702                        		.dbg	line,	"include\routines_LEVELS.c", 2636; }
13703                        	
13704                        		.dbg	line,	"include\routines_LEVELS.c", 2638; spr_set(weapon_id);
13705    01:D67D             	.LL673:
13706                        		__ld.umq	_weapon_id
         01:D67D  AD 26 23   			lda	_weapon_id
13707                        		__call		_spr_set.1
         01:D680  20 F1 E7   			call	_spr_set.1
13708                        	
13709                        		.dbg	line,	"include\routines_LEVELS.c", 2639; spr_y(player_pos_y+18);
13710                        		__ld.wm		_player_pos_y
         01:D683  AD F7 24   			lda.l	_player_pos_y
         01:D686  AC F8 24   			ldy.h	_player_pos_y
13711                        		__add.wi	18
         01:D689  18         			clc
         01:D68A  69 12      			adc.l	#18
         01:D68C  90 01      			bcc	!+
         01:D68E  C8         			iny
         01:D68F             	!:
13712                        		__call		_spr_y.1
         01:D68F  20 2D E8   			call	_spr_y.1
13713                        	
13714                        		.dbg	line,	"include\routines_LEVELS.c", 2640; //recenter_CAMERA();
13715                        	
13716                        		.dbg	line,	"include\routines_LEVELS.c", 2641; }
13717                        	
13718                        		.dbg	line,	"include\routines_LEVELS.c", 2644; else if(player_state == STATE_FALL)
13719                        		__bra		.LL676
         01:D692  4C 94 DC   			bra	.LL676
13720    01:D695             	.LL672:
13721                        		__ld.umq	_player_state
         01:D695  AD 18 23   			lda	_player_state
13722                        		__equ_b.uiq	9
         01:D698  C9 09      			cmp	#9
         01:D69A  F0 01      			beq	!+
         01:D69C  18         			clc
         01:D69D             	!:
13723                        		__bfalse	.LL677
         01:D69D  B0 03 4C DA			bcc	.LL677
         01:D6A1  D8          
13724                        	
13725                        		.dbg	line,	"include\routines_LEVELS.c", 2645; {
13726                        	
13727                        		.dbg	line,	"include\routines_LEVELS.c", 2646; unsigned char i, camera_y_move;
13728                        	
13729                        		.dbg	line,	"include\routines_LEVELS.c", 2647; i = 1;
13730                        		__st.umiq	1, __update_PLAYER_end - 6  /* i */
         01:D6A2  A9 01      			lda.l	#1
         01:D6A4  8D 07 23   			sta	__update_PLAYER_end - 6
13731                        	
13732                        		.dbg	line,	"include\routines_LEVELS.c", 2650; spr_set(player_id);
13733                        		__ld.umq	_player_id
         01:D6A7  AD 17 23   			lda	_player_id
13734                        		__call		_spr_set.1
         01:D6AA  20 F1 E7   			call	_spr_set.1
13735                        	
13736                        		.dbg	line,	"include\routines_LEVELS.c", 2653; //--------------------------------------------------------------------------------------//
13737                        	
13738                        		.dbg	line,	"include\routines_LEVELS.c", 2654; //                                        V MOVE                                        //
13739                        	
13740                        		.dbg	line,	"include\routines_LEVELS.c", 2655; //--------------------------------------------------------------------------------------//
13741                        	
13742                        		.dbg	line,	"include\routines_LEVELS.c", 2657; // UPDATE PLAYER Y POSITION //
13743                        	
13744                        		.dbg	line,	"include\routines_LEVELS.c", 2658; player_pos_y += TABLE_PLAYER_FALL[player_index_fall];
13745                        		__ldx.umq	_player_index_fall
         01:D6AD  AE 1D 23   			ldx	_player_index_fall
13746                        		__ld.bax	_TABLE_PLAYER_FALL
         01:D6B0  BD 64 62   			lda	_TABLE_PLAYER_FALL, x
         01:D6B3  C2         			cly
         01:D6B4  10 01      			bpl	!+
         01:D6B6  88         			dey
         01:D6B7             	!:
13747                        		__add_st.wmq	_player_pos_y
         01:D6B7  18         			clc
         01:D6B8  6D F7 24   			adc.l	_player_pos_y
         01:D6BB  8D F7 24   			sta.l	_player_pos_y
         01:D6BE  98         			tya
         01:D6BF  6D F8 24   			adc.h	_player_pos_y
         01:D6C2  8D F8 24   			sta.h	_player_pos_y
13748                        	
13749                        		.dbg	line,	"include\routines_LEVELS.c", 2661; // IF PLAYER GOES BELOW ITS BASE Y POSITION //
13750                        	
13751                        		.dbg	line,	"include\routines_LEVELS.c", 2662; if(player_pos_y >= PLAYER_BASE_Y_POS)
13752                        		__ld.wm		_player_pos_y
         01:D6C5  AD F7 24   			lda.l	_player_pos_y
         01:D6C8  AC F8 24   			ldy.h	_player_pos_y
13753                        		__sge_w.wi	128
         01:D6CB  C9 80      			cmp.l	#128		; Subtract integer from Y:A.
         01:D6CD  98         			tya
         01:D6CE  E9 00      			sbc.h	#128
         01:D6D0  50 02      			bvc	!+
         01:D6D2  49 80      			eor	#$80		; +ve if Y:A >= integer (signed).
         01:D6D4  49 80      	!:		eor	#$80
         01:D6D6  0A         			asl	a
13754                        		__bfalse	.LL678
         01:D6D7  90 45      			bcc	.LL678
13755                        	
13756                        		.dbg	line,	"include\routines_LEVELS.c", 2663; {
13757                        	
13758                        		.dbg	line,	"include\routines_LEVELS.c", 2664; // THE CAMERA MOVES //
13759                        	
13760                        		.dbg	line,	"include\routines_LEVELS.c", 2665; // CALCULATE HOW MANY PIXELS THE CAMERA HAS TO MOVE DOWN //
13761                        	
13762                        		.dbg	line,	"include\routines_LEVELS.c", 2666; camera_y_move = player_pos_y - PLAYER_BASE_Y_POS;
13763                        		__ld.wm		_player_pos_y
         01:D6D9  AD F7 24   			lda.l	_player_pos_y
         01:D6DC  AC F8 24   			ldy.h	_player_pos_y
13764                        		__sub.wi	128
         01:D6DF  38         			sec
         01:D6E0  E9 80      			sbc.l	#128
         01:D6E2  B0 01      			bcs	!+
         01:D6E4  88         			dey
         01:D6E5             	!:
13765                        		__st.umq	__update_PLAYER_end - 7  /* camera_y_move */
         01:D6E5  8D 06 23   			sta	__update_PLAYER_end - 7
13766                        	
13767                        		.dbg	line,	"include\routines_LEVELS.c", 2667; sgx_map_pxl_y += camera_y_move;
13768                        		__ld.um		__update_PLAYER_end - 7  /* camera_y_move */
         01:D6E8  AD 06 23   			lda	__update_PLAYER_end - 7
         01:D6EB  C2         			cly
13769                        		__add_st.wmq	_sgx_map_pxl_y
         01:D6EC  18         			clc
         01:D6ED  6D DA 26   			adc.l	_sgx_map_pxl_y
         01:D6F0  8D DA 26   			sta.l	_sgx_map_pxl_y
         01:D6F3  98         			tya
         01:D6F4  6D DB 26   			adc.h	_sgx_map_pxl_y
         01:D6F7  8D DB 26   			sta.h	_sgx_map_pxl_y
13770                        	
13771                        		.dbg	line,	"include\routines_LEVELS.c", 2669; // IF THE CAMERA HAS REACHED ITS MAX (LOWEST) POSITION //
13772                        	
13773                        		.dbg	line,	"include\routines_LEVELS.c", 2670; if(sgx_map_pxl_y > camera_max_y_position)
13774                        		__ld.wm		_sgx_map_pxl_y
         01:D6FA  AD DA 26   			lda.l	_sgx_map_pxl_y
         01:D6FD  AC DB 26   			ldy.h	_sgx_map_pxl_y
13775                        		__ugt_w.wm	_camera_max_y_position
         01:D700  18         			clc			; Subtract memory+1 from Y:A.
         01:D701  ED F9 24   			sbc.l	_camera_max_y_position
         01:D704  98         			tya
         01:D705  ED FA 24   			sbc.h	_camera_max_y_position		; CS if Y:A > memory.
13776                        		__bfalse	.LL679
         01:D708  90 0C      			bcc	.LL679
13777                        	
13778                        		.dbg	line,	"include\routines_LEVELS.c", 2671; {
13779                        	
13780                        		.dbg	line,	"include\routines_LEVELS.c", 2672; // THE CAMERA CAN NOT MOVE LOWER //
13781                        	
13782                        		.dbg	line,	"include\routines_LEVELS.c", 2673; sgx_map_pxl_y = camera_max_y_position;
13783                        		__ld.wm		_camera_max_y_position
         01:D70A  AD F9 24   			lda.l	_camera_max_y_position
         01:D70D  AC FA 24   			ldy.h	_camera_max_y_position
13784                        		__st.wmq	_sgx_map_pxl_y
         01:D710  8D DA 26   			sta.l	_sgx_map_pxl_y
         01:D713  8C DB 26   			sty.h	_sgx_map_pxl_y
13785                        	
13786                        		.dbg	line,	"include\routines_LEVELS.c", 2674; }
13787                        	
13788                        		.dbg	line,	"include\routines_LEVELS.c", 2676; // THE PLAYER STAYS AT ITS BASE Y POSITION //
13789                        	
13790                        		.dbg	line,	"include\routines_LEVELS.c", 2677; player_pos_y = PLAYER_BASE_Y_POS;
13791    01:D716             	.LL679:
13792                        		__st.wmiq	128, _player_pos_y
         01:D716  A9 80      			lda.l	#128
         01:D718  8D F7 24   			sta.l	_player_pos_y
         01:D71B  9C F8 24   			stz.h	_player_pos_y
13793                        	
13794                        		.dbg	line,	"include\routines_LEVELS.c", 2678; }
13795                        	
13796                        		.dbg	line,	"include\routines_LEVELS.c", 2681; // UPDATE JUMP INDEX IN THE ARRAY //
13797                        	
13798                        		.dbg	line,	"include\routines_LEVELS.c", 2682; // ARRAY MAX ENTRY : 20//
13799                        	
13800                        		.dbg	line,	"include\routines_LEVELS.c", 2683; if(player_index_fall < 20)
13801    01:D71E             	.LL678:
13802                        		__ld.umq	_player_index_fall
         01:D71E  AD 1D 23   			lda	_player_index_fall
13803                        		__ult_b.uiq	20
         01:D721  C9 14      			cmp	#20		; Subtract integer from A.
         01:D723  6A         			ror	a		; CC if A < integer.
         01:D724  49 80      			eor	#$80
         01:D726  2A         			rol	a
13804                        		__bfalse	.LL680
         01:D727  90 03      			bcc	.LL680
13805                        	
13806                        		.dbg	line,	"include\routines_LEVELS.c", 2684; {
13807                        	
13808                        		.dbg	line,	"include\routines_LEVELS.c", 2685; player_index_fall += 1;
13809                        		__add_st.umiq	1, _player_index_fall
         01:D729  EE 1D 23   			inc	_player_index_fall
13810                        	
13811                        		.dbg	line,	"include\routines_LEVELS.c", 2686; }
13812                        	
13813                        		.dbg	line,	"include\routines_LEVELS.c", 2689; check_TILE_DEPTH( 15 , 0);
13814    01:D72C             	.LL680:
13815                        		__ld.wi		15
         01:D72C  A9 0F      			lda.l	#15
         01:D72E  C2         			cly
13816                        		__pusharg.wr
         01:D72F  A6 8D      			ldx	<__sp
         01:D731  CA         			dex
         01:D732  CA         			dex
         01:D733  95 08      			sta.l	<__stack, x
         01:D735  94 09      			sty.h	<__stack, x
         01:D737  86 8D      			stx	<__sp
13817                        		__ld.wi		0
         01:D739  62         			cla
         01:D73A  C2         			cly
13818                        		__pusharg.wr
         01:D73B  A6 8D      			ldx	<__sp
         01:D73D  CA         			dex
         01:D73E  CA         			dex
         01:D73F  95 08      			sta.l	<__stack, x
         01:D741  94 09      			sty.h	<__stack, x
         01:D743  86 8D      			stx	<__sp
13819                        		__call		_check_TILE_DEPTH
         01:D745  20 13 FF   			call	_check_TILE_DEPTH
13820                        	
13821                        		.dbg	line,	"include\routines_LEVELS.c", 2692; if(map_blk_flag == TILE_BG)
13822                        		__ld.umq	_map_blk_flag
         01:D748  AD F9 2B   			lda	_map_blk_flag
13823                        		__equ_b.uiq	1
         01:D74B  C9 01      			cmp	#1
         01:D74D  F0 01      			beq	!+
         01:D74F  18         			clc
         01:D750             	!:
13824                        		__bfalse	.LL681
         01:D750  B0 03 4C 0C			bcc	.LL681
         01:D754  D8          
13825                        	
13826                        		.dbg	line,	"include\routines_LEVELS.c", 2693; {
13827                        	
13828                        		.dbg	line,	"include\routines_LEVELS.c", 2694; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
13829                        	
13830                        		.dbg	line,	"include\routines_LEVELS.c", 2695; for(i=1; i<11 ; i++ )
13831                        		__st.umiq	1, __update_PLAYER_end - 6  /* i */
         01:D755  A9 01      			lda.l	#1
         01:D757  8D 07 23   			sta	__update_PLAYER_end - 6
13832    01:D75A             	.LL682:
13833                        		__ld.umq	__update_PLAYER_end - 6  /* i */
         01:D75A  AD 07 23   			lda	__update_PLAYER_end - 6
13834                        		__ult_b.uiq	11
         01:D75D  C9 0B      			cmp	#11		; Subtract integer from A.
         01:D75F  6A         			ror	a		; CC if A < integer.
         01:D760  49 80      			eor	#$80
         01:D762  2A         			rol	a
13835                        		__btrue		.LL684
         01:D763  B0 07      			bcs	.LL684
13836                        		__bra		.LL685
         01:D765  80 7D      			bra	.LL685
13837    01:D767             	.LL683:
13838                        		__inc.umq	__update_PLAYER_end - 6  /* i */
         01:D767  EE 07 23   			inc	__update_PLAYER_end - 6
13839                        		__bra		.LL682
         01:D76A  80 EE      			bra	.LL682
13840    01:D76C             	.LL684:
13841                        	
13842                        		.dbg	line,	"include\routines_LEVELS.c", 2696; {
13843                        	
13844                        		.dbg	line,	"include\routines_LEVELS.c", 2697; check_TILE_DEPTH( 15 , i);//20
13845                        		__ld.wi		15
         01:D76C  A9 0F      			lda.l	#15
         01:D76E  C2         			cly
13846                        		__pusharg.wr
         01:D76F  A6 8D      			ldx	<__sp
         01:D771  CA         			dex
         01:D772  CA         			dex
         01:D773  95 08      			sta.l	<__stack, x
         01:D775  94 09      			sty.h	<__stack, x
         01:D777  86 8D      			stx	<__sp
13847                        		__ld.um		__update_PLAYER_end - 6  /* i */
         01:D779  AD 07 23   			lda	__update_PLAYER_end - 6
         01:D77C  C2         			cly
13848                        		__pusharg.wr
         01:D77D  A6 8D      			ldx	<__sp
         01:D77F  CA         			dex
         01:D780  CA         			dex
         01:D781  95 08      			sta.l	<__stack, x
         01:D783  94 09      			sty.h	<__stack, x
         01:D785  86 8D      			stx	<__sp
13849                        		__call		_check_TILE_DEPTH
         01:D787  20 13 FF   			call	_check_TILE_DEPTH
13850                        	
13851                        		.dbg	line,	"include\routines_LEVELS.c", 2700; if(map_blk_flag == TILE_EMPTY)
13852                        		__not.um	_map_blk_flag
         01:D78A  AD F9 2B   			lda	_map_blk_flag
         01:D78D  18         			clc
         01:D78E  D0 01      			bne	!+
         01:D790  38         			sec
         01:D791             	!:
13853                        		__bfalse	.LL686
         01:D791  90 D4      			bcc	.LL686
13854                        	
13855                        		.dbg	line,	"include\routines_LEVELS.c", 2701; {
13856                        	
13857                        		.dbg	line,	"include\routines_LEVELS.c", 2702; if(player_pos_y != PLAYER_BASE_Y_POS)
13858                        		__ld.wm		_player_pos_y
         01:D793  AD F7 24   			lda.l	_player_pos_y
         01:D796  AC F8 24   			ldy.h	_player_pos_y
13859                        		__neq_w.wi	128
         01:D799  38         			sec
         01:D79A  49 80      			eor.l	#128
         01:D79C  D0 06      			bne	!+
         01:D79E  98         			tya
         01:D79F  49 00      			eor.h	#128
         01:D7A1  D0 01      			bne	!+
         01:D7A3  18         			clc
         01:D7A4             	!:
13860                        		__bfalse	.LL687
         01:D7A4  90 1E      			bcc	.LL687
13861                        	
13862                        		.dbg	line,	"include\routines_LEVELS.c", 2703; {
13863                        	
13864                        		.dbg	line,	"include\routines_LEVELS.c", 2704; player_pos_y -= (i - 1);
13865                        		__ld.um		__update_PLAYER_end - 6  /* i */
         01:D7A6  AD 07 23   			lda	__update_PLAYER_end - 6
         01:D7A9  C2         			cly
13866                        		__sub.wi	1
         01:D7AA  38         			sec
         01:D7AB  E9 01      			sbc.l	#1
         01:D7AD  B0 01      			bcs	!+
         01:D7AF  88         			dey
         01:D7B0             	!:
13867                        		__isub_st.wmq	_player_pos_y
         01:D7B0  38         			sec
         01:D7B1  49 FF      			eor	#$FF
         01:D7B3  6D F7 24   			adc.l	_player_pos_y
         01:D7B6  8D F7 24   			sta.l	_player_pos_y
         01:D7B9  98         			tya
         01:D7BA  49 FF      			eor	#$FF
         01:D7BC  6D F8 24   			adc.h	_player_pos_y
         01:D7BF  8D F8 24   			sta.h	_player_pos_y
13868                        	
13869                        		.dbg	line,	"include\routines_LEVELS.c", 2705; }
13870                        	
13871                        		.dbg	line,	"include\routines_LEVELS.c", 2707; else
13872                        		__bra		.LL688
         01:D7C2  80 20      			bra	.LL688
13873    01:D7C4             	.LL687:
13874                        	
13875                        		.dbg	line,	"include\routines_LEVELS.c", 2708; {
13876                        	
13877                        		.dbg	line,	"include\routines_LEVELS.c", 2709; sgx_map_pxl_y -= (i - 1);
13878                        		__ld.um		__update_PLAYER_end - 6  /* i */
         01:D7C4  AD 07 23   			lda	__update_PLAYER_end - 6
         01:D7C7  C2         			cly
13879                        		__sub.wi	1
         01:D7C8  38         			sec
         01:D7C9  E9 01      			sbc.l	#1
         01:D7CB  B0 01      			bcs	!+
         01:D7CD  88         			dey
         01:D7CE             	!:
13880                        		__isub_st.wmq	_sgx_map_pxl_y
         01:D7CE  38         			sec
         01:D7CF  49 FF      			eor	#$FF
         01:D7D1  6D DA 26   			adc.l	_sgx_map_pxl_y
         01:D7D4  8D DA 26   			sta.l	_sgx_map_pxl_y
         01:D7D7  98         			tya
         01:D7D8  49 FF      			eor	#$FF
         01:D7DA  6D DB 26   			adc.h	_sgx_map_pxl_y
         01:D7DD  8D DB 26   			sta.h	_sgx_map_pxl_y
13881                        	
13882                        		.dbg	line,	"include\routines_LEVELS.c", 2710; }
13883    01:D7E0             	.LL688	.alias		.LL685
13884                        	
13885                        		.dbg	line,	"include\routines_LEVELS.c", 2713; break;
13886                        		__bra		.LL685
         01:D7E0  80 02      			bra	.LL685
13887                        	
13888                        		.dbg	line,	"include\routines_LEVELS.c", 2714; }
13889                        	
13890                        		.dbg	line,	"include\routines_LEVELS.c", 2716; }
13891    01:D7E2             	.LL686	.alias		.LL683
13892                        		__bra		.LL683
         01:D7E2  80 83      			bra	.LL683
13893    01:D7E4             	.LL685:
13894                        	
13895                        		.dbg	line,	"include\routines_LEVELS.c", 2718; spr_y(player_pos_y);
13896                        		__ld.wm		_player_pos_y
         01:D7E4  AD F7 24   			lda.l	_player_pos_y
         01:D7E7  AC F8 24   			ldy.h	_player_pos_y
13897                        		__call		_spr_y.1
         01:D7EA  20 2D E8   			call	_spr_y.1
13898                        	
13899                        		.dbg	line,	"include\routines_LEVELS.c", 2720; player_counter_anim = 1;
13900                        		__st.umiq	1, _player_counter_anim
         01:D7ED  A9 01      			lda.l	#1
         01:D7EF  8D 1B 23   			sta	_player_counter_anim
13901                        	
13902                        		.dbg	line,	"include\routines_LEVELS.c", 2721; player_index_jump = 0;
13903                        		__st.umiq	0, _player_index_jump
         01:D7F2  9C 1C 23   			stz	_player_index_jump
13904                        	
13905                        		.dbg	line,	"include\routines_LEVELS.c", 2722; player_index_fall = 0;
13906                        		__st.umiq	0, _player_index_fall
         01:D7F5  9C 1D 23   			stz	_player_index_fall
13907                        	
13908                        		.dbg	line,	"include\routines_LEVELS.c", 2723; jump_ladder = FALSE;
13909                        		__st.umiq	0, _jump_ladder
         01:D7F8  9C 21 23   			stz	_jump_ladder
13910                        	
13911                        		.dbg	line,	"include\routines_LEVELS.c", 2724; fall_ladder = FALSE;
13912                        		__st.umiq	0, _fall_ladder
         01:D7FB  9C 23 23   			stz	_fall_ladder
13913                        	
13914                        		.dbg	line,	"include\routines_LEVELS.c", 2725; hit_wall = FALSE;
13915                        		__st.umiq	0, _hit_wall
         01:D7FE  9C 24 23   			stz	_hit_wall
13916                        	
13917                        		.dbg	line,	"include\routines_LEVELS.c", 2726; jump_max_index = 34;
13918                        		__st.umiq	34, _jump_max_index
         01:D801  A9 22      			lda.l	#34
         01:D803  8D 22 23   			sta	_jump_max_index
13919                        	
13920                        		.dbg	line,	"include\routines_LEVELS.c", 2727; player_state = STATE_IDLE;
13921                        		__st.umiq	0, _player_state
         01:D806  9C 18 23   			stz	_player_state
13922                        	
13923                        		.dbg	line,	"include\routines_LEVELS.c", 2728; return;
13924                        		__bra		.LL494
         01:D809  4C 94 DC   			bra	.LL494
13925                        	
13926                        		.dbg	line,	"include\routines_LEVELS.c", 2729; }
13927                        	
13928                        		.dbg	line,	"include\routines_LEVELS.c", 2732; collision_PLAYER_BG( 16 , 16 );
13929    01:D80C             	.LL681:
13930                        		__ld.wi		16
         01:D80C  A9 10      			lda.l	#16
         01:D80E  C2         			cly
13931                        		__pusharg.wr
         01:D80F  A6 8D      			ldx	<__sp
         01:D811  CA         			dex
         01:D812  CA         			dex
         01:D813  95 08      			sta.l	<__stack, x
         01:D815  94 09      			sty.h	<__stack, x
         01:D817  86 8D      			stx	<__sp
13932                        		__ld.wi		16
         01:D819  A9 10      			lda.l	#16
         01:D81B  C2         			cly
13933                        		__pusharg.wr
         01:D81C  A6 8D      			ldx	<__sp
         01:D81E  CA         			dex
         01:D81F  CA         			dex
         01:D820  95 08      			sta.l	<__stack, x
         01:D822  94 09      			sty.h	<__stack, x
         01:D824  86 8D      			stx	<__sp
13934                        		__call		_collision_PLAYER_BG
         01:D826  20 27 FF   			call	_collision_PLAYER_BG
13935                        	
13936                        		.dbg	line,	"include\routines_LEVELS.c", 2734; // IF PLAYER HITS THE LADDER //
13937                        	
13938                        		.dbg	line,	"include\routines_LEVELS.c", 2735; if(map_blk_flag == TILE_LADDER)
13939                        		__ld.umq	_map_blk_flag
         01:D829  AD F9 2B   			lda	_map_blk_flag
13940                        		__equ_b.uiq	2
         01:D82C  C9 02      			cmp	#2
         01:D82E  F0 01      			beq	!+
         01:D830  18         			clc
         01:D831             	!:
13941                        		__bfalse	.LL689
         01:D831  90 6F      			bcc	.LL689
13942                        	
13943                        		.dbg	line,	"include\routines_LEVELS.c", 2736; {
13944                        	
13945                        		.dbg	line,	"include\routines_LEVELS.c", 2737; // CAMERA GOES 8 PX BACKWARD //
13946                        	
13947                        		.dbg	line,	"include\routines_LEVELS.c", 2738; sgx_map_pxl_x = ( (sgx_map_pxl_x >> 3) << 3 );
13948                        		__ld.wm		_sgx_map_pxl_x
         01:D833  AD D8 26   			lda.l	_sgx_map_pxl_x
         01:D836  AC D9 26   			ldy.h	_sgx_map_pxl_x
13949                        		__lsr.wi	3
         01:D839  84 00      			sty	__temp
         01:D83B  20 3A E2   			jsr	lsrw3
13950                        		__asl.wi	3
         01:D83E  84 00      			sty	__temp
         01:D840  20 D7 E1   			jsr	aslw3
13951                        		__st.wmq	_sgx_map_pxl_x
         01:D843  8D D8 26   			sta.l	_sgx_map_pxl_x
         01:D846  8C D9 26   			sty.h	_sgx_map_pxl_x
13952                        	
13953                        		.dbg	line,	"include\routines_LEVELS.c", 2740; // SO WE UPDATE THE MAP //
13954                        	
13955                        		.dbg	line,	"include\routines_LEVELS.c", 2741; sgx_scroll_map();
13956                        		__call		_sgx_scroll_map
         01:D849  20 63 FF   			call	_sgx_scroll_map
13957                        	
13958                        		.dbg	line,	"include\routines_LEVELS.c", 2743; // CHECK IF THE PLAYER STANDS RIGHT TO THE LADDER //
13959                        	
13960                        		.dbg	line,	"include\routines_LEVELS.c", 2744; collision_PLAYER_BG( 31 , 16 );
13961                        		__ld.wi		31
         01:D84C  A9 1F      			lda.l	#31
         01:D84E  C2         			cly
13962                        		__pusharg.wr
         01:D84F  A6 8D      			ldx	<__sp
         01:D851  CA         			dex
         01:D852  CA         			dex
         01:D853  95 08      			sta.l	<__stack, x
         01:D855  94 09      			sty.h	<__stack, x
         01:D857  86 8D      			stx	<__sp
13963                        		__ld.wi		16
         01:D859  A9 10      			lda.l	#16
         01:D85B  C2         			cly
13964                        		__pusharg.wr
         01:D85C  A6 8D      			ldx	<__sp
         01:D85E  CA         			dex
         01:D85F  CA         			dex
         01:D860  95 08      			sta.l	<__stack, x
         01:D862  94 09      			sty.h	<__stack, x
         01:D864  86 8D      			stx	<__sp
13965                        		__call		_collision_PLAYER_BG
         01:D866  20 27 FF   			call	_collision_PLAYER_BG
13966                        	
13967                        		.dbg	line,	"include\routines_LEVELS.c", 2746; if(map_blk_flag == TILE_LADDER)
13968                        		__ld.umq	_map_blk_flag
         01:D869  AD F9 2B   			lda	_map_blk_flag
13969                        		__equ_b.uiq	2
         01:D86C  C9 02      			cmp	#2
         01:D86E  F0 01      			beq	!+
         01:D870  18         			clc
         01:D871             	!:
13970                        		__bfalse	.LL690
         01:D871  90 0E      			bcc	.LL690
13971                        	
13972                        		.dbg	line,	"include\routines_LEVELS.c", 2747; {
13973                        	
13974                        		.dbg	line,	"include\routines_LEVELS.c", 2748; sgx_map_pxl_x += 8;
13975                        		__add_st.wmiq	8, _sgx_map_pxl_x
         01:D873  18         			clc
         01:D874  AD D8 26   			lda.l	_sgx_map_pxl_x
         01:D877  69 08      			adc.l	#8
         01:D879  8D D8 26   			sta.l	_sgx_map_pxl_x
         01:D87C  90 03      			bcc	!+
         01:D87E  EE D9 26   			inc.h	_sgx_map_pxl_x
         01:D881             	!:
13976                        	
13977                        		.dbg	line,	"include\routines_LEVELS.c", 2749; }
13978                        	
13979                        		.dbg	line,	"include\routines_LEVELS.c", 2751; spr_pattern(PLAYER_HANG_VRAM_ADR);
13980    01:D881             	.LL690:
13981                        		__ld.wi		7424
         01:D881  62         			cla
         01:D882  A0 1D      			ldy.h	#7424
13982                        		__call		_spr_pattern.1
         01:D884  20 3A E8   			call	_spr_pattern.1
13983                        	
13984                        		.dbg	line,	"include\routines_LEVELS.c", 2752; player_counter_anim = 0;//1
13985                        		__st.umiq	0, _player_counter_anim
         01:D887  9C 1B 23   			stz	_player_counter_anim
13986                        	
13987                        		.dbg	line,	"include\routines_LEVELS.c", 2753; player_index_jump = 0;
13988                        		__st.umiq	0, _player_index_jump
         01:D88A  9C 1C 23   			stz	_player_index_jump
13989                        	
13990                        		.dbg	line,	"include\routines_LEVELS.c", 2754; player_index_fall = 0;
13991                        		__st.umiq	0, _player_index_fall
         01:D88D  9C 1D 23   			stz	_player_index_fall
13992                        	
13993                        		.dbg	line,	"include\routines_LEVELS.c", 2755; jump_ladder = TRUE;
13994                        		__st.umiq	1, _jump_ladder
         01:D890  A9 01      			lda.l	#1
         01:D892  8D 21 23   			sta	_jump_ladder
13995                        	
13996                        		.dbg	line,	"include\routines_LEVELS.c", 2756; jump_max_index = 29;
13997                        		__st.umiq	29, _jump_max_index
         01:D895  A9 1D      			lda.l	#29
         01:D897  8D 22 23   			sta	_jump_max_index
13998                        	
13999                        		.dbg	line,	"include\routines_LEVELS.c", 2757; player_state = STATE_HANG;
14000                        		__st.umiq	10, _player_state
         01:D89A  A9 0A      			lda.l	#10
         01:D89C  8D 18 23   			sta	_player_state
14001                        	
14002                        		.dbg	line,	"include\routines_LEVELS.c", 2758; return;
14003                        		__bra		.LL494
         01:D89F  4C 94 DC   			bra	.LL494
14004                        	
14005                        		.dbg	line,	"include\routines_LEVELS.c", 2759; }
14006                        	
14007                        		.dbg	line,	"include\routines_LEVELS.c", 2761; spr_y(player_pos_y);
14008    01:D8A2             	.LL689:
14009                        		__ld.wm		_player_pos_y
         01:D8A2  AD F7 24   			lda.l	_player_pos_y
         01:D8A5  AC F8 24   			ldy.h	_player_pos_y
14010                        		__call		_spr_y.1
         01:D8A8  20 2D E8   			call	_spr_y.1
14011                        	
14012                        		.dbg	line,	"include\routines_LEVELS.c", 2763; spr_set(weapon_id);
14013                        		__ld.umq	_weapon_id
         01:D8AB  AD 26 23   			lda	_weapon_id
14014                        		__call		_spr_set.1
         01:D8AE  20 F1 E7   			call	_spr_set.1
14015                        	
14016                        		.dbg	line,	"include\routines_LEVELS.c", 2765; if(fall_ladder == TRUE || hit_wall == TRUE)
14017                        		__ld.umq	_fall_ladder
         01:D8B1  AD 23 23   			lda	_fall_ladder
14018                        		__equ_b.uiq	1
         01:D8B4  C9 01      			cmp	#1
         01:D8B6  F0 01      			beq	!+
         01:D8B8  18         			clc
         01:D8B9             	!:
14019                        		__btrue		.LL692
         01:D8B9  B0 08      			bcs	.LL692
14020                        		__ld.umq	_hit_wall
         01:D8BB  AD 24 23   			lda	_hit_wall
14021                        		__equ_b.uiq	1
         01:D8BE  C9 01      			cmp	#1
         01:D8C0  F0 01      			beq	!+
         01:D8C2  18         			clc
         01:D8C3             	!:
14022    01:D8C3             	.LL692:
14023                        		__bfalse	.LL691
         01:D8C3  B0 03 4C 94			bcc	.LL691
         01:D8C7  DC          
14024                        	
14025                        		.dbg	line,	"include\routines_LEVELS.c", 2766; {
14026                        	
14027                        		.dbg	line,	"include\routines_LEVELS.c", 2767; spr_y(player_pos_y+8);
14028                        		__ld.wm		_player_pos_y
         01:D8C8  AD F7 24   			lda.l	_player_pos_y
         01:D8CB  AC F8 24   			ldy.h	_player_pos_y
14029                        		__add.wi	8
         01:D8CE  18         			clc
         01:D8CF  69 08      			adc.l	#8
         01:D8D1  90 01      			bcc	!+
         01:D8D3  C8         			iny
         01:D8D4             	!:
14030                        		__call		_spr_y.1
         01:D8D4  20 2D E8   			call	_spr_y.1
14031                        	
14032                        		.dbg	line,	"include\routines_LEVELS.c", 2768; }
14033                        	
14034                        		.dbg	line,	"include\routines_LEVELS.c", 2769; }
14035    01:D8D7             	.LL691	.alias		.LL693
14036                        	
14037                        		.dbg	line,	"include\routines_LEVELS.c", 2772; else if(player_state == STATE_HANG)
14038                        		__bra		.LL693
         01:D8D7  4C 94 DC   			bra	.LL693
14039    01:D8DA             	.LL677:
14040                        		__ld.umq	_player_state
         01:D8DA  AD 18 23   			lda	_player_state
14041                        		__equ_b.uiq	10
         01:D8DD  C9 0A      			cmp	#10
         01:D8DF  F0 01      			beq	!+
         01:D8E1  18         			clc
         01:D8E2             	!:
14042                        		__bfalse	.LL694
         01:D8E2  90 5A      			bcc	.LL694
14043                        	
14044                        		.dbg	line,	"include\routines_LEVELS.c", 2773; {
14045                        	
14046                        		.dbg	line,	"include\routines_LEVELS.c", 2774; recenter_CAMERA();
14047                        		__call		_recenter_CAMERA
         01:D8E4  20 1D FF   			call	_recenter_CAMERA
14048                        	
14049                        		.dbg	line,	"include\routines_LEVELS.c", 2776; if(player_attack == FALSE)
14050                        		__not.um	_player_attack
         01:D8E7  AD 20 23   			lda	_player_attack
         01:D8EA  18         			clc
         01:D8EB  D0 01      			bne	!+
         01:D8ED  38         			sec
         01:D8EE             	!:
14051                        		__bfalse	.LL695
         01:D8EE  B0 03 4C 94			bcc	.LL695
         01:D8F2  DC          
14052                        	
14053                        		.dbg	line,	"include\routines_LEVELS.c", 2777; {
14054                        	
14055                        		.dbg	line,	"include\routines_LEVELS.c", 2778; spr_set(weapon_id);
14056                        		__ld.umq	_weapon_id
         01:D8F3  AD 26 23   			lda	_weapon_id
14057                        		__call		_spr_set.1
         01:D8F6  20 F1 E7   			call	_spr_set.1
14058                        	
14059                        		.dbg	line,	"include\routines_LEVELS.c", 2779; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
14060                        		__ld.wi		31808
         01:D8F9  A9 40      			lda.l	#31808
         01:D8FB  A0 7C      			ldy.h	#31808
14061                        		__call		_spr_pattern.1
         01:D8FD  20 3A E8   			call	_spr_pattern.1
14062                        	
14063                        		.dbg	line,	"include\routines_LEVELS.c", 2780; spr_y(player_pos_y+5);
14064                        		__ld.wm		_player_pos_y
         01:D900  AD F7 24   			lda.l	_player_pos_y
         01:D903  AC F8 24   			ldy.h	_player_pos_y
14065                        		__add.wi	5
         01:D906  18         			clc
         01:D907  69 05      			adc.l	#5
         01:D909  90 01      			bcc	!+
         01:D90B  C8         			iny
         01:D90C             	!:
14066                        		__call		_spr_y.1
         01:D90C  20 2D E8   			call	_spr_y.1
14067                        	
14068                        		.dbg	line,	"include\routines_LEVELS.c", 2782; if(player_axis == AXIS_RIGHT)
14069                        		__not.um	_player_axis
         01:D90F  AD 19 23   			lda	_player_axis
         01:D912  18         			clc
         01:D913  D0 01      			bne	!+
         01:D915  38         			sec
         01:D916             	!:
14070                        		__bfalse	.LL696
         01:D916  90 11      			bcc	.LL696
14071                        	
14072                        		.dbg	line,	"include\routines_LEVELS.c", 2783; {
14073                        	
14074                        		.dbg	line,	"include\routines_LEVELS.c", 2784; spr_x(player_pos_x+17);
14075                        		__ld.wm		_player_pos_x
         01:D918  AD F5 24   			lda.l	_player_pos_x
         01:D91B  AC F6 24   			ldy.h	_player_pos_x
14076                        		__add.wi	17
         01:D91E  18         			clc
         01:D91F  69 11      			adc.l	#17
         01:D921  90 01      			bcc	!+
         01:D923  C8         			iny
         01:D924             	!:
14077                        		__call		_spr_x.1
         01:D924  20 1E E8   			call	_spr_x.1
14078                        	
14079                        		.dbg	line,	"include\routines_LEVELS.c", 2785; }
14080                        	
14081                        		.dbg	line,	"include\routines_LEVELS.c", 2787; else
14082                        		__bra		.LL697
         01:D927  80 0F      			bra	.LL697
14083    01:D929             	.LL696:
14084                        	
14085                        		.dbg	line,	"include\routines_LEVELS.c", 2788; {
14086                        	
14087                        		.dbg	line,	"include\routines_LEVELS.c", 2789; spr_x(player_pos_x-2);
14088                        		__ld.wm		_player_pos_x
         01:D929  AD F5 24   			lda.l	_player_pos_x
         01:D92C  AC F6 24   			ldy.h	_player_pos_x
14089                        		__sub.wi	2
         01:D92F  38         			sec
         01:D930  E9 02      			sbc.l	#2
         01:D932  B0 01      			bcs	!+
         01:D934  88         			dey
         01:D935             	!:
14090                        		__call		_spr_x.1
         01:D935  20 1E E8   			call	_spr_x.1
14091                        	
14092                        		.dbg	line,	"include\routines_LEVELS.c", 2790; }
14093    01:D938             	.LL697:
14094                        	
14095                        		.dbg	line,	"include\routines_LEVELS.c", 2791; 
14096                        	
14097                        		.dbg	line,	"include\routines_LEVELS.c", 2792; player_counter_anim = 0;
14098                        		__st.umiq	0, _player_counter_anim
         01:D938  9C 1B 23   			stz	_player_counter_anim
14099                        	
14100                        		.dbg	line,	"include\routines_LEVELS.c", 2793; }
14101                        	
14102                        		.dbg	line,	"include\routines_LEVELS.c", 2794; }
14103    01:D93B             	.LL695	.alias		.LL698
14104                        	
14105                        		.dbg	line,	"include\routines_LEVELS.c", 2797; else if(player_state == STATE_CLIMB_UP)
14106                        		__bra		.LL698
         01:D93B  4C 94 DC   			bra	.LL698
14107    01:D93E             	.LL694:
14108                        		__ld.umq	_player_state
         01:D93E  AD 18 23   			lda	_player_state
14109                        		__equ_b.uiq	11
         01:D941  C9 0B      			cmp	#11
         01:D943  F0 01      			beq	!+
         01:D945  18         			clc
         01:D946             	!:
14110                        		__bfalse	.LL699
         01:D946  B0 03 4C 20			bcc	.LL699
         01:D94A  DA          
14111                        	
14112                        		.dbg	line,	"include\routines_LEVELS.c", 2798; {
14113                        	
14114                        		.dbg	line,	"include\routines_LEVELS.c", 2799; if(player_counter_anim == 0)
14115                        		__not.um	_player_counter_anim
         01:D94B  AD 1B 23   			lda	_player_counter_anim
         01:D94E  18         			clc
         01:D94F  D0 01      			bne	!+
         01:D951  38         			sec
         01:D952             	!:
14116                        		__bfalse	.LL700
         01:D952  90 0F      			bcc	.LL700
14117                        	
14118                        		.dbg	line,	"include\routines_LEVELS.c", 2800; {
14119                        	
14120                        		.dbg	line,	"include\routines_LEVELS.c", 2801; spr_set(player_id);
14121                        		__ld.umq	_player_id
         01:D954  AD 17 23   			lda	_player_id
14122                        		__call		_spr_set.1
         01:D957  20 F1 E7   			call	_spr_set.1
14123                        	
14124                        		.dbg	line,	"include\routines_LEVELS.c", 2802; spr_pattern(PLAYER_CLIMB_1_VRAM_ADR); 
14125                        		__ld.wi		7680
         01:D95A  62         			cla
         01:D95B  A0 1E      			ldy.h	#7680
14126                        		__call		_spr_pattern.1
         01:D95D  20 3A E8   			call	_spr_pattern.1
14127                        	
14128                        		.dbg	line,	"include\routines_LEVELS.c", 2803; }
14129                        	
14130                        		.dbg	line,	"include\routines_LEVELS.c", 2805; else if(player_counter_anim == 2)
14131                        		__bra		.LL701
         01:D960  4C 0A DA   			bra	.LL701
14132    01:D963             	.LL700:
14133                        		__ld.umq	_player_counter_anim
         01:D963  AD 1B 23   			lda	_player_counter_anim
14134                        		__equ_b.uiq	2
         01:D966  C9 02      			cmp	#2
         01:D968  F0 01      			beq	!+
         01:D96A  18         			clc
         01:D96B             	!:
14135                        		__bfalse	.LL702
         01:D96B  90 0F      			bcc	.LL702
14136                        	
14137                        		.dbg	line,	"include\routines_LEVELS.c", 2806; {
14138                        	
14139                        		.dbg	line,	"include\routines_LEVELS.c", 2807; spr_set(player_id);
14140                        		__ld.umq	_player_id
         01:D96D  AD 17 23   			lda	_player_id
14141                        		__call		_spr_set.1
         01:D970  20 F1 E7   			call	_spr_set.1
14142                        	
14143                        		.dbg	line,	"include\routines_LEVELS.c", 2808; spr_pattern(PLAYER_CLIMB_2_VRAM_ADR); 
14144                        		__ld.wi		7936
         01:D973  62         			cla
         01:D974  A0 1F      			ldy.h	#7936
14145                        		__call		_spr_pattern.1
         01:D976  20 3A E8   			call	_spr_pattern.1
14146                        	
14147                        		.dbg	line,	"include\routines_LEVELS.c", 2809; }
14148                        	
14149                        		.dbg	line,	"include\routines_LEVELS.c", 2811; else if(player_counter_anim == 5)
14150                        		__bra		.LL703
         01:D979  4C 0A DA   			bra	.LL703
14151    01:D97C             	.LL702:
14152                        		__ld.umq	_player_counter_anim
         01:D97C  AD 1B 23   			lda	_player_counter_anim
14153                        		__equ_b.uiq	5
         01:D97F  C9 05      			cmp	#5
         01:D981  F0 01      			beq	!+
         01:D983  18         			clc
         01:D984             	!:
14154                        		__bfalse	.LL704
         01:D984  90 0E      			bcc	.LL704
14155                        	
14156                        		.dbg	line,	"include\routines_LEVELS.c", 2812; {
14157                        	
14158                        		.dbg	line,	"include\routines_LEVELS.c", 2813; spr_set(player_id);
14159                        		__ld.umq	_player_id
         01:D986  AD 17 23   			lda	_player_id
14160                        		__call		_spr_set.1
         01:D989  20 F1 E7   			call	_spr_set.1
14161                        	
14162                        		.dbg	line,	"include\routines_LEVELS.c", 2814; spr_pattern(PLAYER_CLIMB_3_VRAM_ADR); 
14163                        		__ld.wi		8192
         01:D98C  62         			cla
         01:D98D  A0 20      			ldy.h	#8192
14164                        		__call		_spr_pattern.1
         01:D98F  20 3A E8   			call	_spr_pattern.1
14165                        	
14166                        		.dbg	line,	"include\routines_LEVELS.c", 2815; }
14167                        	
14168                        		.dbg	line,	"include\routines_LEVELS.c", 2817; else if(player_counter_anim == 8)
14169                        		__bra		.LL705
         01:D992  80 76      			bra	.LL705
14170    01:D994             	.LL704:
14171                        		__ld.umq	_player_counter_anim
         01:D994  AD 1B 23   			lda	_player_counter_anim
14172                        		__equ_b.uiq	8
         01:D997  C9 08      			cmp	#8
         01:D999  F0 01      			beq	!+
         01:D99B  18         			clc
         01:D99C             	!:
14173                        		__bfalse	.LL706
         01:D99C  90 0E      			bcc	.LL706
14174                        	
14175                        		.dbg	line,	"include\routines_LEVELS.c", 2818; {
14176                        	
14177                        		.dbg	line,	"include\routines_LEVELS.c", 2819; spr_set(player_id);
14178                        		__ld.umq	_player_id
         01:D99E  AD 17 23   			lda	_player_id
14179                        		__call		_spr_set.1
         01:D9A1  20 F1 E7   			call	_spr_set.1
14180                        	
14181                        		.dbg	line,	"include\routines_LEVELS.c", 2820; spr_pattern(PLAYER_CLIMB_4_VRAM_ADR); 
14182                        		__ld.wi		8448
         01:D9A4  62         			cla
         01:D9A5  A0 21      			ldy.h	#8448
14183                        		__call		_spr_pattern.1
         01:D9A7  20 3A E8   			call	_spr_pattern.1
14184                        	
14185                        		.dbg	line,	"include\routines_LEVELS.c", 2821; }
14186                        	
14187                        		.dbg	line,	"include\routines_LEVELS.c", 2823; else if(player_counter_anim == 11)
14188                        		__bra		.LL707
         01:D9AA  80 5E      			bra	.LL707
14189    01:D9AC             	.LL706:
14190                        		__ld.umq	_player_counter_anim
         01:D9AC  AD 1B 23   			lda	_player_counter_anim
14191                        		__equ_b.uiq	11
         01:D9AF  C9 0B      			cmp	#11
         01:D9B1  F0 01      			beq	!+
         01:D9B3  18         			clc
         01:D9B4             	!:
14192                        		__bfalse	.LL708
         01:D9B4  90 0E      			bcc	.LL708
14193                        	
14194                        		.dbg	line,	"include\routines_LEVELS.c", 2824; {
14195                        	
14196                        		.dbg	line,	"include\routines_LEVELS.c", 2825; spr_set(player_id);
14197                        		__ld.umq	_player_id
         01:D9B6  AD 17 23   			lda	_player_id
14198                        		__call		_spr_set.1
         01:D9B9  20 F1 E7   			call	_spr_set.1
14199                        	
14200                        		.dbg	line,	"include\routines_LEVELS.c", 2826; spr_pattern(PLAYER_CLIMB_5_VRAM_ADR); 
14201                        		__ld.wi		8704
         01:D9BC  62         			cla
         01:D9BD  A0 22      			ldy.h	#8704
14202                        		__call		_spr_pattern.1
         01:D9BF  20 3A E8   			call	_spr_pattern.1
14203                        	
14204                        		.dbg	line,	"include\routines_LEVELS.c", 2827; }
14205                        	
14206                        		.dbg	line,	"include\routines_LEVELS.c", 2829; else if(player_counter_anim == 14)
14207                        		__bra		.LL709
         01:D9C2  80 46      			bra	.LL709
14208    01:D9C4             	.LL708:
14209                        		__ld.umq	_player_counter_anim
         01:D9C4  AD 1B 23   			lda	_player_counter_anim
14210                        		__equ_b.uiq	14
         01:D9C7  C9 0E      			cmp	#14
         01:D9C9  F0 01      			beq	!+
         01:D9CB  18         			clc
         01:D9CC             	!:
14211                        		__bfalse	.LL710
         01:D9CC  90 0E      			bcc	.LL710
14212                        	
14213                        		.dbg	line,	"include\routines_LEVELS.c", 2830; {
14214                        	
14215                        		.dbg	line,	"include\routines_LEVELS.c", 2831; spr_set(player_id);
14216                        		__ld.umq	_player_id
         01:D9CE  AD 17 23   			lda	_player_id
14217                        		__call		_spr_set.1
         01:D9D1  20 F1 E7   			call	_spr_set.1
14218                        	
14219                        		.dbg	line,	"include\routines_LEVELS.c", 2832; spr_pattern(PLAYER_CLIMB_6_VRAM_ADR); 
14220                        		__ld.wi		8960
         01:D9D4  62         			cla
         01:D9D5  A0 23      			ldy.h	#8960
14221                        		__call		_spr_pattern.1
         01:D9D7  20 3A E8   			call	_spr_pattern.1
14222                        	
14223                        		.dbg	line,	"include\routines_LEVELS.c", 2833; }
14224                        	
14225                        		.dbg	line,	"include\routines_LEVELS.c", 2835; else if(player_counter_anim == 17)
14226                        		__bra		.LL711
         01:D9DA  80 2E      			bra	.LL711
14227    01:D9DC             	.LL710:
14228                        		__ld.umq	_player_counter_anim
         01:D9DC  AD 1B 23   			lda	_player_counter_anim
14229                        		__equ_b.uiq	17
         01:D9DF  C9 11      			cmp	#17
         01:D9E1  F0 01      			beq	!+
         01:D9E3  18         			clc
         01:D9E4             	!:
14230                        		__bfalse	.LL712
         01:D9E4  90 0E      			bcc	.LL712
14231                        	
14232                        		.dbg	line,	"include\routines_LEVELS.c", 2836; {
14233                        	
14234                        		.dbg	line,	"include\routines_LEVELS.c", 2837; spr_set(player_id);
14235                        		__ld.umq	_player_id
         01:D9E6  AD 17 23   			lda	_player_id
14236                        		__call		_spr_set.1
         01:D9E9  20 F1 E7   			call	_spr_set.1
14237                        	
14238                        		.dbg	line,	"include\routines_LEVELS.c", 2838; spr_pattern(PLAYER_CLIMB_3_VRAM_ADR); 
14239                        		__ld.wi		8192
         01:D9EC  62         			cla
         01:D9ED  A0 20      			ldy.h	#8192
14240                        		__call		_spr_pattern.1
         01:D9EF  20 3A E8   			call	_spr_pattern.1
14241                        	
14242                        		.dbg	line,	"include\routines_LEVELS.c", 2839; }
14243                        	
14244                        		.dbg	line,	"include\routines_LEVELS.c", 2841; else if(player_counter_anim == 20)
14245                        		__bra		.LL713
         01:D9F2  80 16      			bra	.LL713
14246    01:D9F4             	.LL712:
14247                        		__ld.umq	_player_counter_anim
         01:D9F4  AD 1B 23   			lda	_player_counter_anim
14248                        		__equ_b.uiq	20
         01:D9F7  C9 14      			cmp	#20
         01:D9F9  F0 01      			beq	!+
         01:D9FB  18         			clc
         01:D9FC             	!:
14249                        		__bfalse	.LL714
         01:D9FC  90 0C      			bcc	.LL714
14250                        	
14251                        		.dbg	line,	"include\routines_LEVELS.c", 2842; {
14252                        	
14253                        		.dbg	line,	"include\routines_LEVELS.c", 2843; spr_set(player_id);
14254                        		__ld.umq	_player_id
         01:D9FE  AD 17 23   			lda	_player_id
14255                        		__call		_spr_set.1
         01:DA01  20 F1 E7   			call	_spr_set.1
14256                        	
14257                        		.dbg	line,	"include\routines_LEVELS.c", 2844; spr_pattern(PLAYER_CLIMB_2_VRAM_ADR); 
14258                        		__ld.wi		7936
         01:DA04  62         			cla
         01:DA05  A0 1F      			ldy.h	#7936
14259                        		__call		_spr_pattern.1
         01:DA07  20 3A E8   			call	_spr_pattern.1
14260                        	
14261                        		.dbg	line,	"include\routines_LEVELS.c", 2845; }
14262                        	
14263                        		.dbg	line,	"include\routines_LEVELS.c", 2848; player_counter_anim += 1;
14264    01:DA0A             	.LL714:
14265    01:DA0A             	.LL713:
14266    01:DA0A             	.LL711:
14267    01:DA0A             	.LL709:
14268    01:DA0A             	.LL707:
14269    01:DA0A             	.LL705:
14270    01:DA0A             	.LL703:
14271    01:DA0A             	.LL701:
14272                        		__add_st.umiq	1, _player_counter_anim
         01:DA0A  EE 1B 23   			inc	_player_counter_anim
14273                        	
14274                        		.dbg	line,	"include\routines_LEVELS.c", 2850; if(player_counter_anim == 22)
14275                        		__ld.umq	_player_counter_anim
         01:DA0D  AD 1B 23   			lda	_player_counter_anim
14276                        		__equ_b.uiq	22
         01:DA10  C9 16      			cmp	#22
         01:DA12  F0 01      			beq	!+
         01:DA14  18         			clc
         01:DA15             	!:
14277                        		__bfalse	.LL715
         01:DA15  90 03      			bcc	.LL715
14278                        	
14279                        		.dbg	line,	"include\routines_LEVELS.c", 2851; {
14280                        	
14281                        		.dbg	line,	"include\routines_LEVELS.c", 2852; player_counter_anim = 0;
14282                        		__st.umiq	0, _player_counter_anim
         01:DA17  9C 1B 23   			stz	_player_counter_anim
14283                        	
14284                        		.dbg	line,	"include\routines_LEVELS.c", 2853; }
14285                        	
14286                        		.dbg	line,	"include\routines_LEVELS.c", 2855; recenter_CAMERA();
14287    01:DA1A             	.LL715:
14288                        		__call		_recenter_CAMERA
         01:DA1A  20 1D FF   			call	_recenter_CAMERA
14289                        	
14290                        		.dbg	line,	"include\routines_LEVELS.c", 2856; }
14291                        	
14292                        		.dbg	line,	"include\routines_LEVELS.c", 2859; else if(player_state == STATE_CLIMB_DOWN)
14293                        		__bra		.LL716
         01:DA1D  4C 94 DC   			bra	.LL716
14294    01:DA20             	.LL699:
14295                        		__ld.umq	_player_state
         01:DA20  AD 18 23   			lda	_player_state
14296                        		__equ_b.uiq	12
         01:DA23  C9 0C      			cmp	#12
         01:DA25  F0 01      			beq	!+
         01:DA27  18         			clc
         01:DA28             	!:
14297                        		__bfalse	.LL717
         01:DA28  B0 03 4C 02			bcc	.LL717
         01:DA2C  DB          
14298                        	
14299                        		.dbg	line,	"include\routines_LEVELS.c", 2860; {
14300                        	
14301                        		.dbg	line,	"include\routines_LEVELS.c", 2861; if(player_counter_anim == 0)
14302                        		__not.um	_player_counter_anim
         01:DA2D  AD 1B 23   			lda	_player_counter_anim
         01:DA30  18         			clc
         01:DA31  D0 01      			bne	!+
         01:DA33  38         			sec
         01:DA34             	!:
14303                        		__bfalse	.LL718
         01:DA34  90 0F      			bcc	.LL718
14304                        	
14305                        		.dbg	line,	"include\routines_LEVELS.c", 2862; {
14306                        	
14307                        		.dbg	line,	"include\routines_LEVELS.c", 2863; spr_set(player_id);
14308                        		__ld.umq	_player_id
         01:DA36  AD 17 23   			lda	_player_id
14309                        		__call		_spr_set.1
         01:DA39  20 F1 E7   			call	_spr_set.1
14310                        	
14311                        		.dbg	line,	"include\routines_LEVELS.c", 2864; spr_pattern(PLAYER_CLIMB_1_VRAM_ADR); 
14312                        		__ld.wi		7680
         01:DA3C  62         			cla
         01:DA3D  A0 1E      			ldy.h	#7680
14313                        		__call		_spr_pattern.1
         01:DA3F  20 3A E8   			call	_spr_pattern.1
14314                        	
14315                        		.dbg	line,	"include\routines_LEVELS.c", 2865; }
14316                        	
14317                        		.dbg	line,	"include\routines_LEVELS.c", 2867; else if(player_counter_anim == 2)
14318                        		__bra		.LL719
         01:DA42  4C EC DA   			bra	.LL719
14319    01:DA45             	.LL718:
14320                        		__ld.umq	_player_counter_anim
         01:DA45  AD 1B 23   			lda	_player_counter_anim
14321                        		__equ_b.uiq	2
         01:DA48  C9 02      			cmp	#2
         01:DA4A  F0 01      			beq	!+
         01:DA4C  18         			clc
         01:DA4D             	!:
14322                        		__bfalse	.LL720
         01:DA4D  90 0F      			bcc	.LL720
14323                        	
14324                        		.dbg	line,	"include\routines_LEVELS.c", 2868; {
14325                        	
14326                        		.dbg	line,	"include\routines_LEVELS.c", 2869; spr_set(player_id);
14327                        		__ld.umq	_player_id
         01:DA4F  AD 17 23   			lda	_player_id
14328                        		__call		_spr_set.1
         01:DA52  20 F1 E7   			call	_spr_set.1
14329                        	
14330                        		.dbg	line,	"include\routines_LEVELS.c", 2870; spr_pattern(PLAYER_CLIMB_2_VRAM_ADR); 
14331                        		__ld.wi		7936
         01:DA55  62         			cla
         01:DA56  A0 1F      			ldy.h	#7936
14332                        		__call		_spr_pattern.1
         01:DA58  20 3A E8   			call	_spr_pattern.1
14333                        	
14334                        		.dbg	line,	"include\routines_LEVELS.c", 2871; }
14335                        	
14336                        		.dbg	line,	"include\routines_LEVELS.c", 2873; else if(player_counter_anim == 5)
14337                        		__bra		.LL721
         01:DA5B  4C EC DA   			bra	.LL721
14338    01:DA5E             	.LL720:
14339                        		__ld.umq	_player_counter_anim
         01:DA5E  AD 1B 23   			lda	_player_counter_anim
14340                        		__equ_b.uiq	5
         01:DA61  C9 05      			cmp	#5
         01:DA63  F0 01      			beq	!+
         01:DA65  18         			clc
         01:DA66             	!:
14341                        		__bfalse	.LL722
         01:DA66  90 0E      			bcc	.LL722
14342                        	
14343                        		.dbg	line,	"include\routines_LEVELS.c", 2874; {
14344                        	
14345                        		.dbg	line,	"include\routines_LEVELS.c", 2875; spr_set(player_id);
14346                        		__ld.umq	_player_id
         01:DA68  AD 17 23   			lda	_player_id
14347                        		__call		_spr_set.1
         01:DA6B  20 F1 E7   			call	_spr_set.1
14348                        	
14349                        		.dbg	line,	"include\routines_LEVELS.c", 2876; spr_pattern(PLAYER_CLIMB_3_VRAM_ADR); 
14350                        		__ld.wi		8192
         01:DA6E  62         			cla
         01:DA6F  A0 20      			ldy.h	#8192
14351                        		__call		_spr_pattern.1
         01:DA71  20 3A E8   			call	_spr_pattern.1
14352                        	
14353                        		.dbg	line,	"include\routines_LEVELS.c", 2877; }
14354                        	
14355                        		.dbg	line,	"include\routines_LEVELS.c", 2879; else if(player_counter_anim == 8)
14356                        		__bra		.LL723
         01:DA74  80 76      			bra	.LL723
14357    01:DA76             	.LL722:
14358                        		__ld.umq	_player_counter_anim
         01:DA76  AD 1B 23   			lda	_player_counter_anim
14359                        		__equ_b.uiq	8
         01:DA79  C9 08      			cmp	#8
         01:DA7B  F0 01      			beq	!+
         01:DA7D  18         			clc
         01:DA7E             	!:
14360                        		__bfalse	.LL724
         01:DA7E  90 0E      			bcc	.LL724
14361                        	
14362                        		.dbg	line,	"include\routines_LEVELS.c", 2880; {
14363                        	
14364                        		.dbg	line,	"include\routines_LEVELS.c", 2881; spr_set(player_id);
14365                        		__ld.umq	_player_id
         01:DA80  AD 17 23   			lda	_player_id
14366                        		__call		_spr_set.1
         01:DA83  20 F1 E7   			call	_spr_set.1
14367                        	
14368                        		.dbg	line,	"include\routines_LEVELS.c", 2882; spr_pattern(PLAYER_CLIMB_4_VRAM_ADR); 
14369                        		__ld.wi		8448
         01:DA86  62         			cla
         01:DA87  A0 21      			ldy.h	#8448
14370                        		__call		_spr_pattern.1
         01:DA89  20 3A E8   			call	_spr_pattern.1
14371                        	
14372                        		.dbg	line,	"include\routines_LEVELS.c", 2883; }
14373                        	
14374                        		.dbg	line,	"include\routines_LEVELS.c", 2885; else if(player_counter_anim == 11)
14375                        		__bra		.LL725
         01:DA8C  80 5E      			bra	.LL725
14376    01:DA8E             	.LL724:
14377                        		__ld.umq	_player_counter_anim
         01:DA8E  AD 1B 23   			lda	_player_counter_anim
14378                        		__equ_b.uiq	11
         01:DA91  C9 0B      			cmp	#11
         01:DA93  F0 01      			beq	!+
         01:DA95  18         			clc
         01:DA96             	!:
14379                        		__bfalse	.LL726
         01:DA96  90 0E      			bcc	.LL726
14380                        	
14381                        		.dbg	line,	"include\routines_LEVELS.c", 2886; {
14382                        	
14383                        		.dbg	line,	"include\routines_LEVELS.c", 2887; spr_set(player_id);
14384                        		__ld.umq	_player_id
         01:DA98  AD 17 23   			lda	_player_id
14385                        		__call		_spr_set.1
         01:DA9B  20 F1 E7   			call	_spr_set.1
14386                        	
14387                        		.dbg	line,	"include\routines_LEVELS.c", 2888; spr_pattern(PLAYER_CLIMB_5_VRAM_ADR); 
14388                        		__ld.wi		8704
         01:DA9E  62         			cla
         01:DA9F  A0 22      			ldy.h	#8704
14389                        		__call		_spr_pattern.1
         01:DAA1  20 3A E8   			call	_spr_pattern.1
14390                        	
14391                        		.dbg	line,	"include\routines_LEVELS.c", 2889; }
14392                        	
14393                        		.dbg	line,	"include\routines_LEVELS.c", 2891; else if(player_counter_anim == 14)
14394                        		__bra		.LL727
         01:DAA4  80 46      			bra	.LL727
14395    01:DAA6             	.LL726:
14396                        		__ld.umq	_player_counter_anim
         01:DAA6  AD 1B 23   			lda	_player_counter_anim
14397                        		__equ_b.uiq	14
         01:DAA9  C9 0E      			cmp	#14
         01:DAAB  F0 01      			beq	!+
         01:DAAD  18         			clc
         01:DAAE             	!:
14398                        		__bfalse	.LL728
         01:DAAE  90 0E      			bcc	.LL728
14399                        	
14400                        		.dbg	line,	"include\routines_LEVELS.c", 2892; {
14401                        	
14402                        		.dbg	line,	"include\routines_LEVELS.c", 2893; spr_set(player_id);
14403                        		__ld.umq	_player_id
         01:DAB0  AD 17 23   			lda	_player_id
14404                        		__call		_spr_set.1
         01:DAB3  20 F1 E7   			call	_spr_set.1
14405                        	
14406                        		.dbg	line,	"include\routines_LEVELS.c", 2894; spr_pattern(PLAYER_CLIMB_4_VRAM_ADR); 
14407                        		__ld.wi		8448
         01:DAB6  62         			cla
         01:DAB7  A0 21      			ldy.h	#8448
14408                        		__call		_spr_pattern.1
         01:DAB9  20 3A E8   			call	_spr_pattern.1
14409                        	
14410                        		.dbg	line,	"include\routines_LEVELS.c", 2895; }
14411                        	
14412                        		.dbg	line,	"include\routines_LEVELS.c", 2897; else if(player_counter_anim == 17)
14413                        		__bra		.LL729
         01:DABC  80 2E      			bra	.LL729
14414    01:DABE             	.LL728:
14415                        		__ld.umq	_player_counter_anim
         01:DABE  AD 1B 23   			lda	_player_counter_anim
14416                        		__equ_b.uiq	17
         01:DAC1  C9 11      			cmp	#17
         01:DAC3  F0 01      			beq	!+
         01:DAC5  18         			clc
         01:DAC6             	!:
14417                        		__bfalse	.LL730
         01:DAC6  90 0E      			bcc	.LL730
14418                        	
14419                        		.dbg	line,	"include\routines_LEVELS.c", 2898; {
14420                        	
14421                        		.dbg	line,	"include\routines_LEVELS.c", 2899; spr_set(player_id);
14422                        		__ld.umq	_player_id
         01:DAC8  AD 17 23   			lda	_player_id
14423                        		__call		_spr_set.1
         01:DACB  20 F1 E7   			call	_spr_set.1
14424                        	
14425                        		.dbg	line,	"include\routines_LEVELS.c", 2900; spr_pattern(PLAYER_CLIMB_3_VRAM_ADR); 
14426                        		__ld.wi		8192
         01:DACE  62         			cla
         01:DACF  A0 20      			ldy.h	#8192
14427                        		__call		_spr_pattern.1
         01:DAD1  20 3A E8   			call	_spr_pattern.1
14428                        	
14429                        		.dbg	line,	"include\routines_LEVELS.c", 2901; }
14430                        	
14431                        		.dbg	line,	"include\routines_LEVELS.c", 2903; else if(player_counter_anim == 20)
14432                        		__bra		.LL731
         01:DAD4  80 16      			bra	.LL731
14433    01:DAD6             	.LL730:
14434                        		__ld.umq	_player_counter_anim
         01:DAD6  AD 1B 23   			lda	_player_counter_anim
14435                        		__equ_b.uiq	20
         01:DAD9  C9 14      			cmp	#20
         01:DADB  F0 01      			beq	!+
         01:DADD  18         			clc
         01:DADE             	!:
14436                        		__bfalse	.LL732
         01:DADE  90 0C      			bcc	.LL732
14437                        	
14438                        		.dbg	line,	"include\routines_LEVELS.c", 2904; {
14439                        	
14440                        		.dbg	line,	"include\routines_LEVELS.c", 2905; spr_set(player_id);
14441                        		__ld.umq	_player_id
         01:DAE0  AD 17 23   			lda	_player_id
14442                        		__call		_spr_set.1
         01:DAE3  20 F1 E7   			call	_spr_set.1
14443                        	
14444                        		.dbg	line,	"include\routines_LEVELS.c", 2906; spr_pattern(PLAYER_CLIMB_2_VRAM_ADR); 
14445                        		__ld.wi		7936
         01:DAE6  62         			cla
         01:DAE7  A0 1F      			ldy.h	#7936
14446                        		__call		_spr_pattern.1
         01:DAE9  20 3A E8   			call	_spr_pattern.1
14447                        	
14448                        		.dbg	line,	"include\routines_LEVELS.c", 2907; }
14449                        	
14450                        		.dbg	line,	"include\routines_LEVELS.c", 2910; player_counter_anim += 1;
14451    01:DAEC             	.LL732:
14452    01:DAEC             	.LL731:
14453    01:DAEC             	.LL729:
14454    01:DAEC             	.LL727:
14455    01:DAEC             	.LL725:
14456    01:DAEC             	.LL723:
14457    01:DAEC             	.LL721:
14458    01:DAEC             	.LL719:
14459                        		__add_st.umiq	1, _player_counter_anim
         01:DAEC  EE 1B 23   			inc	_player_counter_anim
14460                        	
14461                        		.dbg	line,	"include\routines_LEVELS.c", 2912; if(player_counter_anim == 22)
14462                        		__ld.umq	_player_counter_anim
         01:DAEF  AD 1B 23   			lda	_player_counter_anim
14463                        		__equ_b.uiq	22
         01:DAF2  C9 16      			cmp	#22
         01:DAF4  F0 01      			beq	!+
         01:DAF6  18         			clc
         01:DAF7             	!:
14464                        		__bfalse	.LL733
         01:DAF7  90 03      			bcc	.LL733
14465                        	
14466                        		.dbg	line,	"include\routines_LEVELS.c", 2913; {
14467                        	
14468                        		.dbg	line,	"include\routines_LEVELS.c", 2914; player_counter_anim = 0;
14469                        		__st.umiq	0, _player_counter_anim
         01:DAF9  9C 1B 23   			stz	_player_counter_anim
14470                        	
14471                        		.dbg	line,	"include\routines_LEVELS.c", 2915; }
14472                        	
14473                        		.dbg	line,	"include\routines_LEVELS.c", 2917; recenter_CAMERA();
14474    01:DAFC             	.LL733:
14475                        		__call		_recenter_CAMERA
         01:DAFC  20 1D FF   			call	_recenter_CAMERA
14476                        	
14477                        		.dbg	line,	"include\routines_LEVELS.c", 2918; }
14478                        	
14479                        		.dbg	line,	"include\routines_LEVELS.c", 2921; else if(player_state == STATE_JUMP_LADDER)
14480                        		__bra		.LL734
         01:DAFF  4C 94 DC   			bra	.LL734
14481    01:DB02             	.LL717:
14482                        		__ld.umq	_player_state
         01:DB02  AD 18 23   			lda	_player_state
14483                        		__equ_b.uiq	13
         01:DB05  C9 0D      			cmp	#13
         01:DB07  F0 01      			beq	!+
         01:DB09  18         			clc
         01:DB0A             	!:
14484                        		__bfalse	.LL735
         01:DB0A  B0 03 4C 94			bcc	.LL735
         01:DB0E  DC          
14485                        	
14486                        		.dbg	line,	"include\routines_LEVELS.c", 2922; {
14487                        	
14488                        		.dbg	line,	"include\routines_LEVELS.c", 2923; unsigned char i;
14489                        	
14490                        		.dbg	line,	"include\routines_LEVELS.c", 2924; i = 1;
14491                        		__st.umiq	1, __update_PLAYER_end - 8  /* i */
         01:DB0F  A9 01      			lda.l	#1
         01:DB11  8D 05 23   			sta	__update_PLAYER_end - 8
14492                        	
14493                        		.dbg	line,	"include\routines_LEVELS.c", 2927; if(player_counter_anim == 0)
14494                        		__not.um	_player_counter_anim
         01:DB14  AD 1B 23   			lda	_player_counter_anim
         01:DB17  18         			clc
         01:DB18  D0 01      			bne	!+
         01:DB1A  38         			sec
         01:DB1B             	!:
14495                        		__bfalse	.LL736
         01:DB1B  90 11      			bcc	.LL736
14496                        	
14497                        		.dbg	line,	"include\routines_LEVELS.c", 2928; {
14498                        	
14499                        		.dbg	line,	"include\routines_LEVELS.c", 2929; spr_set(player_id);
14500                        		__ld.umq	_player_id
         01:DB1D  AD 17 23   			lda	_player_id
14501                        		__call		_spr_set.1
         01:DB20  20 F1 E7   			call	_spr_set.1
14502                        	
14503                        		.dbg	line,	"include\routines_LEVELS.c", 2930; spr_pattern(PLAYER_JUMP_VRAM_ADR); 
14504                        		__ld.wi		6912
         01:DB23  62         			cla
         01:DB24  A0 1B      			ldy.h	#6912
14505                        		__call		_spr_pattern.1
         01:DB26  20 3A E8   			call	_spr_pattern.1
14506                        	
14507                        		.dbg	line,	"include\routines_LEVELS.c", 2932; player_counter_anim = 1;
14508                        		__st.umiq	1, _player_counter_anim
         01:DB29  A9 01      			lda.l	#1
         01:DB2B  8D 1B 23   			sta	_player_counter_anim
14509                        	
14510                        		.dbg	line,	"include\routines_LEVELS.c", 2933; }
14511                        	
14512                        		.dbg	line,	"include\routines_LEVELS.c", 2936; player_pos_y += TABLE_PLAYER_JUMP_V[player_index_jump];
14513    01:DB2E             	.LL736:
14514                        		__ldx.umq	_player_index_jump
         01:DB2E  AE 1C 23   			ldx	_player_index_jump
14515                        		__ld.bax	_TABLE_PLAYER_JUMP_V
         01:DB31  BD 41 62   			lda	_TABLE_PLAYER_JUMP_V, x
         01:DB34  C2         			cly
         01:DB35  10 01      			bpl	!+
         01:DB37  88         			dey
         01:DB38             	!:
14516                        		__add_st.wmq	_player_pos_y
         01:DB38  18         			clc
         01:DB39  6D F7 24   			adc.l	_player_pos_y
         01:DB3C  8D F7 24   			sta.l	_player_pos_y
         01:DB3F  98         			tya
         01:DB40  6D F8 24   			adc.h	_player_pos_y
         01:DB43  8D F8 24   			sta.h	_player_pos_y
14517                        	
14518                        		.dbg	line,	"include\routines_LEVELS.c", 2938; // CHECK COLLISION WITH CEILING //
14519                        	
14520                        		.dbg	line,	"include\routines_LEVELS.c", 2939; collision_PLAYER_BG( 15 , 8 );
14521                        		__ld.wi		15
         01:DB46  A9 0F      			lda.l	#15
         01:DB48  C2         			cly
14522                        		__pusharg.wr
         01:DB49  A6 8D      			ldx	<__sp
         01:DB4B  CA         			dex
         01:DB4C  CA         			dex
         01:DB4D  95 08      			sta.l	<__stack, x
         01:DB4F  94 09      			sty.h	<__stack, x
         01:DB51  86 8D      			stx	<__sp
14523                        		__ld.wi		8
         01:DB53  A9 08      			lda.l	#8
         01:DB55  C2         			cly
14524                        		__pusharg.wr
         01:DB56  A6 8D      			ldx	<__sp
         01:DB58  CA         			dex
         01:DB59  CA         			dex
         01:DB5A  95 08      			sta.l	<__stack, x
         01:DB5C  94 09      			sty.h	<__stack, x
         01:DB5E  86 8D      			stx	<__sp
14525                        		__call		_collision_PLAYER_BG
         01:DB60  20 27 FF   			call	_collision_PLAYER_BG
14526                        	
14527                        		.dbg	line,	"include\routines_LEVELS.c", 2941; if(map_blk_flag == TILE_BG)
14528                        		__ld.umq	_map_blk_flag
         01:DB63  AD F9 2B   			lda	_map_blk_flag
14529                        		__equ_b.uiq	1
         01:DB66  C9 01      			cmp	#1
         01:DB68  F0 01      			beq	!+
         01:DB6A  18         			clc
         01:DB6B             	!:
14530                        		__bfalse	.LL737
         01:DB6B  90 5A      			bcc	.LL737
14531                        	
14532                        		.dbg	line,	"include\routines_LEVELS.c", 2942; {
14533                        	
14534                        		.dbg	line,	"include\routines_LEVELS.c", 2943; for(i=1 ; i<8 ; i++)
14535                        		__st.umiq	1, __update_PLAYER_end - 8  /* i */
         01:DB6D  A9 01      			lda.l	#1
         01:DB6F  8D 05 23   			sta	__update_PLAYER_end - 8
14536    01:DB72             	.LL738:
14537                        		__ld.umq	__update_PLAYER_end - 8  /* i */
         01:DB72  AD 05 23   			lda	__update_PLAYER_end - 8
14538                        		__ult_b.uiq	8
         01:DB75  C9 08      			cmp	#8		; Subtract integer from A.
         01:DB77  6A         			ror	a		; CC if A < integer.
         01:DB78  49 80      			eor	#$80
         01:DB7A  2A         			rol	a
14539                        		__btrue		.LL740
         01:DB7B  B0 07      			bcs	.LL740
14540                        		__bra		.LL741
         01:DB7D  80 48      			bra	.LL741
14541    01:DB7F             	.LL739:
14542                        		__inc.umq	__update_PLAYER_end - 8  /* i */
         01:DB7F  EE 05 23   			inc	__update_PLAYER_end - 8
14543                        		__bra		.LL738
         01:DB82  80 EE      			bra	.LL738
14544    01:DB84             	.LL740:
14545                        	
14546                        		.dbg	line,	"include\routines_LEVELS.c", 2944; {
14547                        	
14548                        		.dbg	line,	"include\routines_LEVELS.c", 2945; collision_PLAYER_BG( 15 , 8 + i );
14549                        		__ld.wi		15
         01:DB84  A9 0F      			lda.l	#15
         01:DB86  C2         			cly
14550                        		__pusharg.wr
         01:DB87  A6 8D      			ldx	<__sp
         01:DB89  CA         			dex
         01:DB8A  CA         			dex
         01:DB8B  95 08      			sta.l	<__stack, x
         01:DB8D  94 09      			sty.h	<__stack, x
         01:DB8F  86 8D      			stx	<__sp
14551                        		__ld.wi		8
         01:DB91  A9 08      			lda.l	#8
         01:DB93  C2         			cly
14552                        		__add.um	__update_PLAYER_end - 8  /* i */
         01:DB94  18         			clc
         01:DB95  6D 05 23   			adc	__update_PLAYER_end - 8
         01:DB98  90 01      			bcc	!+
         01:DB9A  C8         			iny
         01:DB9B             	!:
14553                        		__pusharg.wr
         01:DB9B  A6 8D      			ldx	<__sp
         01:DB9D  CA         			dex
         01:DB9E  CA         			dex
         01:DB9F  95 08      			sta.l	<__stack, x
         01:DBA1  94 09      			sty.h	<__stack, x
         01:DBA3  86 8D      			stx	<__sp
14554                        		__call		_collision_PLAYER_BG
         01:DBA5  20 27 FF   			call	_collision_PLAYER_BG
14555                        	
14556                        		.dbg	line,	"include\routines_LEVELS.c", 2946; {
14557                        	
14558                        		.dbg	line,	"include\routines_LEVELS.c", 2947; if(map_blk_flag == TILE_EMPTY)
14559                        		__not.um	_map_blk_flag
         01:DBA8  AD F9 2B   			lda	_map_blk_flag
         01:DBAB  18         			clc
         01:DBAC  D0 01      			bne	!+
         01:DBAE  38         			sec
         01:DBAF             	!:
14560                        		__bfalse	.LL742
         01:DBAF  90 CE      			bcc	.LL742
14561                        	
14562                        		.dbg	line,	"include\routines_LEVELS.c", 2948; {
14563                        	
14564                        		.dbg	line,	"include\routines_LEVELS.c", 2949; player_pos_y += i;
14565                        		__ld.um		__update_PLAYER_end - 8  /* i */
         01:DBB1  AD 05 23   			lda	__update_PLAYER_end - 8
         01:DBB4  C2         			cly
14566                        		__add_st.wmq	_player_pos_y
         01:DBB5  18         			clc
         01:DBB6  6D F7 24   			adc.l	_player_pos_y
         01:DBB9  8D F7 24   			sta.l	_player_pos_y
         01:DBBC  98         			tya
         01:DBBD  6D F8 24   			adc.h	_player_pos_y
         01:DBC0  8D F8 24   			sta.h	_player_pos_y
14567                        	
14568                        		.dbg	line,	"include\routines_LEVELS.c", 2950; break;
14569                        		__bra		.LL741
         01:DBC3  80 02      			bra	.LL741
14570                        	
14571                        		.dbg	line,	"include\routines_LEVELS.c", 2951; }
14572                        	
14573                        		.dbg	line,	"include\routines_LEVELS.c", 2952; }
14574    01:DBC5             	.LL742	.alias		.LL739
14575                        	
14576                        		.dbg	line,	"include\routines_LEVELS.c", 2953; }
14577                        		__bra		.LL739
         01:DBC5  80 B8      			bra	.LL739
14578    01:DBC7             	.LL741:
14579                        	
14580                        		.dbg	line,	"include\routines_LEVELS.c", 2954; }
14581                        	
14582                        		.dbg	line,	"include\routines_LEVELS.c", 2956; spr_set(player_id);
14583    01:DBC7             	.LL737:
14584                        		__ld.umq	_player_id
         01:DBC7  AD 17 23   			lda	_player_id
14585                        		__call		_spr_set.1
         01:DBCA  20 F1 E7   			call	_spr_set.1
14586                        	
14587                        		.dbg	line,	"include\routines_LEVELS.c", 2957; spr_y(player_pos_y);
14588                        		__ld.wm		_player_pos_y
         01:DBCD  AD F7 24   			lda.l	_player_pos_y
         01:DBD0  AC F8 24   			ldy.h	_player_pos_y
14589                        		__call		_spr_y.1
         01:DBD3  20 2D E8   			call	_spr_y.1
14590                        	
14591                        		.dbg	line,	"include\routines_LEVELS.c", 2961; if(player_index_jump < 34)
14592                        		__ld.umq	_player_index_jump
         01:DBD6  AD 1C 23   			lda	_player_index_jump
14593                        		__ult_b.uiq	34
         01:DBD9  C9 22      			cmp	#34		; Subtract integer from A.
         01:DBDB  6A         			ror	a		; CC if A < integer.
         01:DBDC  49 80      			eor	#$80
         01:DBDE  2A         			rol	a
14594                        		__bfalse	.LL743
         01:DBDF  90 03      			bcc	.LL743
14595                        	
14596                        		.dbg	line,	"include\routines_LEVELS.c", 2962; {
14597                        	
14598                        		.dbg	line,	"include\routines_LEVELS.c", 2963; player_index_jump += 1;
14599                        		__add_st.umiq	1, _player_index_jump
         01:DBE1  EE 1C 23   			inc	_player_index_jump
14600                        	
14601                        		.dbg	line,	"include\routines_LEVELS.c", 2964; }
14602                        	
14603                        		.dbg	line,	"include\routines_LEVELS.c", 2969; //--------------------------------------------------------------------------------------//
14604                        	
14605                        		.dbg	line,	"include\routines_LEVELS.c", 2970; //                                   LADDER COLLISION                                   //
14606                        	
14607                        		.dbg	line,	"include\routines_LEVELS.c", 2971; //--------------------------------------------------------------------------------------//
14608                        	
14609                        		.dbg	line,	"include\routines_LEVELS.c", 2973; if(player_index_jump > 18)
14610    01:DBE4             	.LL743:
14611                        		__ld.umq	_player_index_jump
         01:DBE4  AD 1C 23   			lda	_player_index_jump
14612                        		__ugt_b.uiq	18
         01:DBE7  18         			clc			; Subtract integer+1 from A.
         01:DBE8  E9 12      			sbc	#18		; CS if A > integer.
14613                        		__bfalse	.LL744
         01:DBEA  B0 03 4C 7F			bcc	.LL744
         01:DBEE  DC          
14614                        	
14615                        		.dbg	line,	"include\routines_LEVELS.c", 2974; {
14616                        	
14617                        		.dbg	line,	"include\routines_LEVELS.c", 2975; // CHECK COLLISION WITH LADDERS //
14618                        	
14619                        		.dbg	line,	"include\routines_LEVELS.c", 2976; collision_PLAYER_BG( 16 , 8 );
14620                        		__ld.wi		16
         01:DBEF  A9 10      			lda.l	#16
         01:DBF1  C2         			cly
14621                        		__pusharg.wr
         01:DBF2  A6 8D      			ldx	<__sp
         01:DBF4  CA         			dex
         01:DBF5  CA         			dex
         01:DBF6  95 08      			sta.l	<__stack, x
         01:DBF8  94 09      			sty.h	<__stack, x
         01:DBFA  86 8D      			stx	<__sp
14622                        		__ld.wi		8
         01:DBFC  A9 08      			lda.l	#8
         01:DBFE  C2         			cly
14623                        		__pusharg.wr
         01:DBFF  A6 8D      			ldx	<__sp
         01:DC01  CA         			dex
         01:DC02  CA         			dex
         01:DC03  95 08      			sta.l	<__stack, x
         01:DC05  94 09      			sty.h	<__stack, x
         01:DC07  86 8D      			stx	<__sp
14624                        		__call		_collision_PLAYER_BG
         01:DC09  20 27 FF   			call	_collision_PLAYER_BG
14625                        	
14626                        		.dbg	line,	"include\routines_LEVELS.c", 2978; // IF PLAYER HITS THE LADDER //
14627                        	
14628                        		.dbg	line,	"include\routines_LEVELS.c", 2979; if(map_blk_flag == TILE_LADDER)
14629                        		__ld.umq	_map_blk_flag
         01:DC0C  AD F9 2B   			lda	_map_blk_flag
14630                        		__equ_b.uiq	2
         01:DC0F  C9 02      			cmp	#2
         01:DC11  F0 01      			beq	!+
         01:DC13  18         			clc
         01:DC14             	!:
14631                        		__bfalse	.LL745
         01:DC14  90 69      			bcc	.LL745
14632                        	
14633                        		.dbg	line,	"include\routines_LEVELS.c", 2980; {
14634                        	
14635                        		.dbg	line,	"include\routines_LEVELS.c", 2981; // CAMERA GOES 8 PX BACKWARD //
14636                        	
14637                        		.dbg	line,	"include\routines_LEVELS.c", 2982; sgx_map_pxl_x = ( (sgx_map_pxl_x >> 3) << 3 );
14638                        		__ld.wm		_sgx_map_pxl_x
         01:DC16  AD D8 26   			lda.l	_sgx_map_pxl_x
         01:DC19  AC D9 26   			ldy.h	_sgx_map_pxl_x
14639                        		__lsr.wi	3
         01:DC1C  84 00      			sty	__temp
         01:DC1E  20 3A E2   			jsr	lsrw3
14640                        		__asl.wi	3
         01:DC21  84 00      			sty	__temp
         01:DC23  20 D7 E1   			jsr	aslw3
14641                        		__st.wmq	_sgx_map_pxl_x
         01:DC26  8D D8 26   			sta.l	_sgx_map_pxl_x
         01:DC29  8C D9 26   			sty.h	_sgx_map_pxl_x
14642                        	
14643                        		.dbg	line,	"include\routines_LEVELS.c", 2984; // SO WE UPDATE THE MAP //
14644                        	
14645                        		.dbg	line,	"include\routines_LEVELS.c", 2985; sgx_scroll_map();
14646                        		__call		_sgx_scroll_map
         01:DC2C  20 63 FF   			call	_sgx_scroll_map
14647                        	
14648                        		.dbg	line,	"include\routines_LEVELS.c", 2987; // CHECK IF THE PLAYER STANDS RIGHT TO THE LADDER //
14649                        	
14650                        		.dbg	line,	"include\routines_LEVELS.c", 2988; collision_PLAYER_BG( 31 , 8 );
14651                        		__ld.wi		31
         01:DC2F  A9 1F      			lda.l	#31
         01:DC31  C2         			cly
14652                        		__pusharg.wr
         01:DC32  A6 8D      			ldx	<__sp
         01:DC34  CA         			dex
         01:DC35  CA         			dex
         01:DC36  95 08      			sta.l	<__stack, x
         01:DC38  94 09      			sty.h	<__stack, x
         01:DC3A  86 8D      			stx	<__sp
14653                        		__ld.wi		8
         01:DC3C  A9 08      			lda.l	#8
         01:DC3E  C2         			cly
14654                        		__pusharg.wr
         01:DC3F  A6 8D      			ldx	<__sp
         01:DC41  CA         			dex
         01:DC42  CA         			dex
         01:DC43  95 08      			sta.l	<__stack, x
         01:DC45  94 09      			sty.h	<__stack, x
         01:DC47  86 8D      			stx	<__sp
14655                        		__call		_collision_PLAYER_BG
         01:DC49  20 27 FF   			call	_collision_PLAYER_BG
14656                        	
14657                        		.dbg	line,	"include\routines_LEVELS.c", 2990; if(map_blk_flag == TILE_LADDER)
14658                        		__ld.umq	_map_blk_flag
         01:DC4C  AD F9 2B   			lda	_map_blk_flag
14659                        		__equ_b.uiq	2
         01:DC4F  C9 02      			cmp	#2
         01:DC51  F0 01      			beq	!+
         01:DC53  18         			clc
         01:DC54             	!:
14660                        		__bfalse	.LL746
         01:DC54  90 0E      			bcc	.LL746
14661                        	
14662                        		.dbg	line,	"include\routines_LEVELS.c", 2991; {
14663                        	
14664                        		.dbg	line,	"include\routines_LEVELS.c", 2992; sgx_map_pxl_x += 8;
14665                        		__add_st.wmiq	8, _sgx_map_pxl_x
         01:DC56  18         			clc
         01:DC57  AD D8 26   			lda.l	_sgx_map_pxl_x
         01:DC5A  69 08      			adc.l	#8
         01:DC5C  8D D8 26   			sta.l	_sgx_map_pxl_x
         01:DC5F  90 03      			bcc	!+
         01:DC61  EE D9 26   			inc.h	_sgx_map_pxl_x
         01:DC64             	!:
14666                        	
14667                        		.dbg	line,	"include\routines_LEVELS.c", 2993; }
14668                        	
14669                        		.dbg	line,	"include\routines_LEVELS.c", 2995; //spr_set(player_id);
14670                        	
14671                        		.dbg	line,	"include\routines_LEVELS.c", 2996; spr_pattern(PLAYER_HANG_VRAM_ADR);
14672    01:DC64             	.LL746:
14673                        		__ld.wi		7424
         01:DC64  62         			cla
         01:DC65  A0 1D      			ldy.h	#7424
14674                        		__call		_spr_pattern.1
         01:DC67  20 3A E8   			call	_spr_pattern.1
14675                        	
14676                        		.dbg	line,	"include\routines_LEVELS.c", 2998; player_counter_anim = 0;//
14677                        		__st.umiq	0, _player_counter_anim
         01:DC6A  9C 1B 23   			stz	_player_counter_anim
14678                        	
14679                        		.dbg	line,	"include\routines_LEVELS.c", 2999; player_index_jump = 0;
14680                        		__st.umiq	0, _player_index_jump
         01:DC6D  9C 1C 23   			stz	_player_index_jump
14681                        	
14682                        		.dbg	line,	"include\routines_LEVELS.c", 3000; jump_ladder = TRUE;
14683                        		__st.umiq	1, _jump_ladder
         01:DC70  A9 01      			lda.l	#1
         01:DC72  8D 21 23   			sta	_jump_ladder
14684                        	
14685                        		.dbg	line,	"include\routines_LEVELS.c", 3001; jump_max_index = 29;
14686                        		__st.umiq	29, _jump_max_index
         01:DC75  A9 1D      			lda.l	#29
         01:DC77  8D 22 23   			sta	_jump_max_index
14687                        	
14688                        		.dbg	line,	"include\routines_LEVELS.c", 3002; player_state = STATE_HANG;
14689                        		__st.umiq	10, _player_state
         01:DC7A  A9 0A      			lda.l	#10
         01:DC7C  8D 18 23   			sta	_player_state
14690                        	
14691                        		.dbg	line,	"include\routines_LEVELS.c", 3003; }
14692                        	
14693                        		.dbg	line,	"include\routines_LEVELS.c", 3004; }
14694    01:DC7F             	.LL745:
14695                        	
14696                        		.dbg	line,	"include\routines_LEVELS.c", 3006; spr_set(weapon_id);
14697    01:DC7F             	.LL744:
14698                        		__ld.umq	_weapon_id
         01:DC7F  AD 26 23   			lda	_weapon_id
14699                        		__call		_spr_set.1
         01:DC82  20 F1 E7   			call	_spr_set.1
14700                        	
14701                        		.dbg	line,	"include\routines_LEVELS.c", 3007; spr_y(player_pos_y+8);
14702                        		__ld.wm		_player_pos_y
         01:DC85  AD F7 24   			lda.l	_player_pos_y
         01:DC88  AC F8 24   			ldy.h	_player_pos_y
14703                        		__add.wi	8
         01:DC8B  18         			clc
         01:DC8C  69 08      			adc.l	#8
         01:DC8E  90 01      			bcc	!+
         01:DC90  C8         			iny
         01:DC91             	!:
14704                        		__call		_spr_y.1
         01:DC91  20 2D E8   			call	_spr_y.1
14705                        	
14706                        		.dbg	line,	"include\routines_LEVELS.c", 3008; }
14707                        	
14708                        		.dbg	line,	"include\routines_LEVELS.c", 3010; }
14709    01:DC94             	.LL735:
14710    01:DC94             	.LL734:
14711    01:DC94             	.LL716:
14712    01:DC94             	.LL698:
14713    01:DC94             	.LL693:
14714    01:DC94             	.LL676:
14715    01:DC94             	.LL671:
14716    01:DC94             	.LL634:
14717    01:DC94             	.LL597:
14718    01:DC94             	.LL542:
14719    01:DC94             	.LL499:
14720    01:DC94             	.LL494:
14721                        		__return	0
         01:DC94  4C EF FF   			jmp	leave_proc
14722                        		.dbg	clear
14723                        		.endp
14724               2305     		.bss
14725    F8:2305             			ds	8
14726    F8:230D             	__update_PLAYER_end:
14727               E31D     		.code
14728                        		.pceas
14729                        	
14730                        		.dbg	line,	"include\routines_LEVELS.c", 3013; void update_WEAPON()
14731                        		.dbg	line,	"include\routines_LEVELS.c", 3014; {
14732                        	;***********************
14733                        	;***********************
14734                        	
14735                        		.hucc
14736    02:CA61             		.proc		_update_WEAPON
14737                        		__enter		_update_WEAPON
14738                        	
14739                        		.dbg	line,	"include\routines_LEVELS.c", 3015; if(player_state == STATE_ATTACK)
14740                        		__ld.umq	_player_state
         02:CA61  AD 18 23   			lda	_player_state
14741                        		__equ_b.uiq	2
         02:CA64  C9 02      			cmp	#2
         02:CA66  F0 01      			beq	!+
         02:CA68  18         			clc
         02:CA69             	!:
14742                        		__bfalse	.LL748
         02:CA69  B0 03 4C 5A			bcc	.LL748
         02:CA6D  CD          
14743                        	
14744                        		.dbg	line,	"include\routines_LEVELS.c", 3016; {
14745                        	
14746                        		.dbg	line,	"include\routines_LEVELS.c", 3017; char i;
14747                        	
14748                        		.dbg	line,	"include\routines_LEVELS.c", 3018; 
14749                        	
14750                        		.dbg	line,	"include\routines_LEVELS.c", 3019; recenter_CAMERA();
14751                        		__call		_recenter_CAMERA
         02:CA6E  20 1D FF   			call	_recenter_CAMERA
14752                        	
14753                        		.dbg	line,	"include\routines_LEVELS.c", 3021; if(player_counter_attack == 0)
14754                        		__not.um	_player_counter_attack
         02:CA71  AD 1E 23   			lda	_player_counter_attack
         02:CA74  18         			clc
         02:CA75  D0 01      			bne	!+
         02:CA77  38         			sec
         02:CA78             	!:
14755                        		__bfalse	.LL749
         02:CA78  90 48      			bcc	.LL749
14756                        	
14757                        		.dbg	line,	"include\routines_LEVELS.c", 3022; {
14758                        	
14759                        		.dbg	line,	"include\routines_LEVELS.c", 3023; spr_set(player_id);
14760                        		__ld.umq	_player_id
         02:CA7A  AD 17 23   			lda	_player_id
14761                        		__call		_spr_set.1
         02:CA7D  20 F1 E7   			call	_spr_set.1
14762                        	
14763                        		.dbg	line,	"include\routines_LEVELS.c", 3024; spr_pattern(PLAYER_ATTACK_1_VRAM_ADR);
14764                        		__ld.wi		9472
         02:CA80  62         			cla
         02:CA81  A0 25      			ldy.h	#9472
14765                        		__call		_spr_pattern.1
         02:CA83  20 3A E8   			call	_spr_pattern.1
14766                        	
14767                        		.dbg	line,	"include\routines_LEVELS.c", 3026; spr_set(weapon_id);
14768                        		__ld.umq	_weapon_id
         02:CA86  AD 26 23   			lda	_weapon_id
14769                        		__call		_spr_set.1
         02:CA89  20 F1 E7   			call	_spr_set.1
14770                        	
14771                        		.dbg	line,	"include\routines_LEVELS.c", 3027; spr_pattern(WEAPON_ATTACK_1_VRAM_ADRESS);
14772                        		__ld.wi		32000
         02:CA8C  62         			cla
         02:CA8D  A0 7D      			ldy.h	#32000
14773                        		__call		_spr_pattern.1
         02:CA8F  20 3A E8   			call	_spr_pattern.1
14774                        	
14775                        		.dbg	line,	"include\routines_LEVELS.c", 3029; if(player_axis == AXIS_RIGHT)
14776                        		__not.um	_player_axis
         02:CA92  AD 19 23   			lda	_player_axis
         02:CA95  18         			clc
         02:CA96  D0 01      			bne	!+
         02:CA98  38         			sec
         02:CA99             	!:
14777                        		__bfalse	.LL750
         02:CA99  90 11      			bcc	.LL750
14778                        	
14779                        		.dbg	line,	"include\routines_LEVELS.c", 3030; {
14780                        	
14781                        		.dbg	line,	"include\routines_LEVELS.c", 3031; spr_x(player_pos_x-13);
14782                        		__ld.wm		_player_pos_x
         02:CA9B  AD F5 24   			lda.l	_player_pos_x
         02:CA9E  AC F6 24   			ldy.h	_player_pos_x
14783                        		__sub.wi	13
         02:CAA1  38         			sec
         02:CAA2  E9 0D      			sbc.l	#13
         02:CAA4  B0 01      			bcs	!+
         02:CAA6  88         			dey
         02:CAA7             	!:
14784                        		__call		_spr_x.1
         02:CAA7  20 1E E8   			call	_spr_x.1
14785                        	
14786                        		.dbg	line,	"include\routines_LEVELS.c", 3032; }
14787                        	
14788                        		.dbg	line,	"include\routines_LEVELS.c", 3034; else
14789                        		__bra		.LL751
         02:CAAA  80 0F      			bra	.LL751
14790    02:CAAC             	.LL750:
14791                        	
14792                        		.dbg	line,	"include\routines_LEVELS.c", 3035; {
14793                        	
14794                        		.dbg	line,	"include\routines_LEVELS.c", 3036; spr_x(player_pos_x+29);
14795                        		__ld.wm		_player_pos_x
         02:CAAC  AD F5 24   			lda.l	_player_pos_x
         02:CAAF  AC F6 24   			ldy.h	_player_pos_x
14796                        		__add.wi	29
         02:CAB2  18         			clc
         02:CAB3  69 1D      			adc.l	#29
         02:CAB5  90 01      			bcc	!+
         02:CAB7  C8         			iny
         02:CAB8             	!:
14797                        		__call		_spr_x.1
         02:CAB8  20 1E E8   			call	_spr_x.1
14798                        	
14799                        		.dbg	line,	"include\routines_LEVELS.c", 3037; }
14800    02:CABB             	.LL751:
14801                        	
14802                        		.dbg	line,	"include\routines_LEVELS.c", 3039; weapon_y_offset = -8;
14803                        		__st.umiq	-8, _weapon_y_offset
         02:CABB  A9 F8      			lda.l	#-8
         02:CABD  8D 8D 26   			sta	_weapon_y_offset
14804                        	
14805                        		.dbg	line,	"include\routines_LEVELS.c", 3040; }
14806                        	
14807                        		.dbg	line,	"include\routines_LEVELS.c", 3042; else if(player_counter_attack == 23)
14808                        		__bra		.LL752
         02:CAC0  80 76      			bra	.LL752
14809    02:CAC2             	.LL749:
14810                        		__ld.umq	_player_counter_attack
         02:CAC2  AD 1E 23   			lda	_player_counter_attack
14811                        		__equ_b.uiq	23
         02:CAC5  C9 17      			cmp	#23
         02:CAC7  F0 01      			beq	!+
         02:CAC9  18         			clc
         02:CACA             	!:
14812                        		__bfalse	.LL753
         02:CACA  90 6C      			bcc	.LL753
14813                        	
14814                        		.dbg	line,	"include\routines_LEVELS.c", 3043; {
14815                        	
14816                        		.dbg	line,	"include\routines_LEVELS.c", 3044; spr_set(chain_id);
14817                        		__ld.umq	_chain_id
         02:CACC  AD 25 23   			lda	_chain_id
14818                        		__call		_spr_set.1
         02:CACF  20 F1 E7   			call	_spr_set.1
14819                        	
14820                        		.dbg	line,	"include\routines_LEVELS.c", 3045; spr_hide();
14821                        		__call		_spr_hide
         02:CAD2  20 0C E8   			call	_spr_hide
14822                        	
14823                        		.dbg	line,	"include\routines_LEVELS.c", 3047; spr_set(chain_id+1);
14824                        		__ld.um		_chain_id
         02:CAD5  AD 25 23   			lda	_chain_id
         02:CAD8  C2         			cly
14825                        		__add.wi	1
         02:CAD9  1A         			inc	a
         02:CADA  D0 01      			bne	!+
         02:CADC  C8         			iny
         02:CADD             	!:
14826                        		__call		_spr_set.1
         02:CADD  20 F1 E7   			call	_spr_set.1
14827                        	
14828                        		.dbg	line,	"include\routines_LEVELS.c", 3048; spr_hide();
14829                        		__call		_spr_hide
         02:CAE0  20 0C E8   			call	_spr_hide
14830                        	
14831                        		.dbg	line,	"include\routines_LEVELS.c", 3050; spr_set(chain_id+2);
14832                        		__ld.um		_chain_id
         02:CAE3  AD 25 23   			lda	_chain_id
         02:CAE6  C2         			cly
14833                        		__add.wi	2
         02:CAE7  18         			clc
         02:CAE8  69 02      			adc.l	#2
         02:CAEA  90 01      			bcc	!+
         02:CAEC  C8         			iny
         02:CAED             	!:
14834                        		__call		_spr_set.1
         02:CAED  20 F1 E7   			call	_spr_set.1
14835                        	
14836                        		.dbg	line,	"include\routines_LEVELS.c", 3051; spr_hide();
14837                        		__call		_spr_hide
         02:CAF0  20 0C E8   			call	_spr_hide
14838                        	
14839                        		.dbg	line,	"include\routines_LEVELS.c", 3053; spr_set(player_id);
14840                        		__ld.umq	_player_id
         02:CAF3  AD 17 23   			lda	_player_id
14841                        		__call		_spr_set.1
         02:CAF6  20 F1 E7   			call	_spr_set.1
14842                        	
14843                        		.dbg	line,	"include\routines_LEVELS.c", 3054; spr_pattern(PLAYER_IDLE_VRAM_ADR);
14844                        		__ld.wi		5120
         02:CAF9  62         			cla
         02:CAFA  A0 14      			ldy.h	#5120
14845                        		__call		_spr_pattern.1
         02:CAFC  20 3A E8   			call	_spr_pattern.1
14846                        	
14847                        		.dbg	line,	"include\routines_LEVELS.c", 3056; spr_set(weapon_id);
14848                        		__ld.umq	_weapon_id
         02:CAFF  AD 26 23   			lda	_weapon_id
14849                        		__call		_spr_set.1
         02:CB02  20 F1 E7   			call	_spr_set.1
14850                        	
14851                        		.dbg	line,	"include\routines_LEVELS.c", 3057; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
14852                        		__ld.wi		31808
         02:CB05  A9 40      			lda.l	#31808
         02:CB07  A0 7C      			ldy.h	#31808
14853                        		__call		_spr_pattern.1
         02:CB09  20 3A E8   			call	_spr_pattern.1
14854                        	
14855                        		.dbg	line,	"include\routines_LEVELS.c", 3058; spr_x(player_pos_x+8);
14856                        		__ld.wm		_player_pos_x
         02:CB0C  AD F5 24   			lda.l	_player_pos_x
         02:CB0F  AC F6 24   			ldy.h	_player_pos_x
14857                        		__add.wi	8
         02:CB12  18         			clc
         02:CB13  69 08      			adc.l	#8
         02:CB15  90 01      			bcc	!+
         02:CB17  C8         			iny
         02:CB18             	!:
14858                        		__call		_spr_x.1
         02:CB18  20 1E E8   			call	_spr_x.1
14859                        	
14860                        		.dbg	line,	"include\routines_LEVELS.c", 3059; spr_y(player_pos_y+16);
14861                        		__ld.wm		_player_pos_y
         02:CB1B  AD F7 24   			lda.l	_player_pos_y
         02:CB1E  AC F8 24   			ldy.h	_player_pos_y
14862                        		__add.wi	16
         02:CB21  18         			clc
         02:CB22  69 10      			adc.l	#16
         02:CB24  90 01      			bcc	!+
         02:CB26  C8         			iny
         02:CB27             	!:
14863                        		__call		_spr_y.1
         02:CB27  20 2D E8   			call	_spr_y.1
14864                        	
14865                        		.dbg	line,	"include\routines_LEVELS.c", 3061; player_attack = FALSE;
14866                        		__st.umiq	0, _player_attack
         02:CB2A  9C 20 23   			stz	_player_attack
14867                        	
14868                        		.dbg	line,	"include\routines_LEVELS.c", 3062; player_counter_anim = 1;
14869                        		__st.umiq	1, _player_counter_anim
         02:CB2D  A9 01      			lda.l	#1
         02:CB2F  8D 1B 23   			sta	_player_counter_anim
14870                        	
14871                        		.dbg	line,	"include\routines_LEVELS.c", 3063; player_state = STATE_IDLE;
14872                        		__st.umiq	0, _player_state
         02:CB32  9C 18 23   			stz	_player_state
14873                        	
14874                        		.dbg	line,	"include\routines_LEVELS.c", 3064; return;
14875                        		__bra		.LL747
         02:CB35  4C 34 D3   			bra	.LL747
14876                        	
14877                        		.dbg	line,	"include\routines_LEVELS.c", 3065; }
14878                        	
14879                        		.dbg	line,	"include\routines_LEVELS.c", 3067; // CHAIN ANIMATION //
14880                        	
14881                        		.dbg	line,	"include\routines_LEVELS.c", 3068; if(chain_unfold == TRUE)
14882    02:CB38             	.LL753:
14883    02:CB38             	.LL752:
14884                        		__ld.umq	_chain_unfold
         02:CB38  AD 29 23   			lda	_chain_unfold
14885                        		__equ_b.uiq	1
         02:CB3B  C9 01      			cmp	#1
         02:CB3D  F0 01      			beq	!+
         02:CB3F  18         			clc
         02:CB40             	!:
14886                        		__bfalse	.LL754
         02:CB40  B0 03 4C EE			bcc	.LL754
         02:CB44  CC          
14887                        	
14888                        		.dbg	line,	"include\routines_LEVELS.c", 3069; {
14889                        	
14890                        		.dbg	line,	"include\routines_LEVELS.c", 3070; if(player_counter_attack == 6)
14891                        		__ld.umq	_player_counter_attack
         02:CB45  AD 1E 23   			lda	_player_counter_attack
14892                        		__equ_b.uiq	6
         02:CB48  C9 06      			cmp	#6
         02:CB4A  F0 01      			beq	!+
         02:CB4C  18         			clc
         02:CB4D             	!:
14893                        		__bfalse	.LL755
         02:CB4D  90 4D      			bcc	.LL755
14894                        	
14895                        		.dbg	line,	"include\routines_LEVELS.c", 3071; {
14896                        	
14897                        		.dbg	line,	"include\routines_LEVELS.c", 3072; spr_set(player_id);
14898                        		__ld.umq	_player_id
         02:CB4F  AD 17 23   			lda	_player_id
14899                        		__call		_spr_set.1
         02:CB52  20 F1 E7   			call	_spr_set.1
14900                        	
14901                        		.dbg	line,	"include\routines_LEVELS.c", 3073; spr_pattern(PLAYER_ATTACK_2_VRAM_ADR);
14902                        		__ld.wi		9728
         02:CB55  62         			cla
         02:CB56  A0 26      			ldy.h	#9728
14903                        		__call		_spr_pattern.1
         02:CB58  20 3A E8   			call	_spr_pattern.1
14904                        	
14905                        		.dbg	line,	"include\routines_LEVELS.c", 3075; spr_set(weapon_id);
14906                        		__ld.umq	_weapon_id
         02:CB5B  AD 26 23   			lda	_weapon_id
14907                        		__call		_spr_set.1
         02:CB5E  20 F1 E7   			call	_spr_set.1
14908                        	
14909                        		.dbg	line,	"include\routines_LEVELS.c", 3076; spr_pattern(WEAPON_ATTACK_2_VRAM_ADRESS);
14910                        		__ld.wi		32064
         02:CB61  A9 40      			lda.l	#32064
         02:CB63  A0 7D      			ldy.h	#32064
14911                        		__call		_spr_pattern.1
         02:CB65  20 3A E8   			call	_spr_pattern.1
14912                        	
14913                        		.dbg	line,	"include\routines_LEVELS.c", 3078; if(player_axis == AXIS_RIGHT)
14914                        		__not.um	_player_axis
         02:CB68  AD 19 23   			lda	_player_axis
         02:CB6B  18         			clc
         02:CB6C  D0 01      			bne	!+
         02:CB6E  38         			sec
         02:CB6F             	!:
14915                        		__bfalse	.LL756
         02:CB6F  90 11      			bcc	.LL756
14916                        	
14917                        		.dbg	line,	"include\routines_LEVELS.c", 3079; {
14918                        	
14919                        		.dbg	line,	"include\routines_LEVELS.c", 3080; spr_x(player_pos_x+32);
14920                        		__ld.wm		_player_pos_x
         02:CB71  AD F5 24   			lda.l	_player_pos_x
         02:CB74  AC F6 24   			ldy.h	_player_pos_x
14921                        		__add.wi	32
         02:CB77  18         			clc
         02:CB78  69 20      			adc.l	#32
         02:CB7A  90 01      			bcc	!+
         02:CB7C  C8         			iny
         02:CB7D             	!:
14922                        		__call		_spr_x.1
         02:CB7D  20 1E E8   			call	_spr_x.1
14923                        	
14924                        		.dbg	line,	"include\routines_LEVELS.c", 3081; 
14925                        	
14926                        		.dbg	line,	"include\routines_LEVELS.c", 3082; }
14927                        	
14928                        		.dbg	line,	"include\routines_LEVELS.c", 3083; 
14929                        	
14930                        		.dbg	line,	"include\routines_LEVELS.c", 3084; else
14931                        		__bra		.LL757
         02:CB80  80 0F      			bra	.LL757
14932    02:CB82             	.LL756:
14933                        	
14934                        		.dbg	line,	"include\routines_LEVELS.c", 3085; {
14935                        	
14936                        		.dbg	line,	"include\routines_LEVELS.c", 3086; spr_x(player_pos_x-16);
14937                        		__ld.wm		_player_pos_x
         02:CB82  AD F5 24   			lda.l	_player_pos_x
         02:CB85  AC F6 24   			ldy.h	_player_pos_x
14938                        		__sub.wi	16
         02:CB88  38         			sec
         02:CB89  E9 10      			sbc.l	#16
         02:CB8B  B0 01      			bcs	!+
         02:CB8D  88         			dey
         02:CB8E             	!:
14939                        		__call		_spr_x.1
         02:CB8E  20 1E E8   			call	_spr_x.1
14940                        	
14941                        		.dbg	line,	"include\routines_LEVELS.c", 3087; }
14942    02:CB91             	.LL757:
14943                        	
14944                        		.dbg	line,	"include\routines_LEVELS.c", 3089; weapon_y_offset = 6;
14945                        		__st.umiq	6, _weapon_y_offset
         02:CB91  A9 06      			lda.l	#6
         02:CB93  8D 8D 26   			sta	_weapon_y_offset
14946                        	
14947                        		.dbg	line,	"include\routines_LEVELS.c", 3091; collision_WEAPON_OBJECTS();
14948                        		__call		_collision_WEAPON_OBJECTS
         02:CB96  20 09 FF   			call	_collision_WEAPON_OBJECTS
14949                        	
14950                        		.dbg	line,	"include\routines_LEVELS.c", 3092; }
14951                        	
14952                        		.dbg	line,	"include\routines_LEVELS.c", 3094; else if(player_counter_attack == 7)
14953                        		__bra		.LL758
         02:CB99  4C EE CC   			bra	.LL758
14954    02:CB9C             	.LL755:
14955                        		__ld.umq	_player_counter_attack
         02:CB9C  AD 1E 23   			lda	_player_counter_attack
14956                        		__equ_b.uiq	7
         02:CB9F  C9 07      			cmp	#7
         02:CBA1  F0 01      			beq	!+
         02:CBA3  18         			clc
         02:CBA4             	!:
14957                        		__bfalse	.LL759
         02:CBA4  90 64      			bcc	.LL759
14958                        	
14959                        		.dbg	line,	"include\routines_LEVELS.c", 3095; {
14960                        	
14961                        		.dbg	line,	"include\routines_LEVELS.c", 3096; list_chain_active[0] = TRUE;
14962                        		__st.umiq	1, _list_chain_active
         02:CBA6  A9 01      			lda.l	#1
         02:CBA8  8D 2A 23   			sta	_list_chain_active
14963                        	
14964                        		.dbg	line,	"include\routines_LEVELS.c", 3097; spr_set(chain_id);
14965                        		__ld.umq	_chain_id
         02:CBAB  AD 25 23   			lda	_chain_id
14966                        		__call		_spr_set.1
         02:CBAE  20 F1 E7   			call	_spr_set.1
14967                        	
14968                        		.dbg	line,	"include\routines_LEVELS.c", 3099; if(player_axis == AXIS_RIGHT)
14969                        		__not.um	_player_axis
         02:CBB1  AD 19 23   			lda	_player_axis
         02:CBB4  18         			clc
         02:CBB5  D0 01      			bne	!+
         02:CBB7  38         			sec
         02:CBB8             	!:
14970                        		__bfalse	.LL760
         02:CBB8  90 26      			bcc	.LL760
14971                        	
14972                        		.dbg	line,	"include\routines_LEVELS.c", 3100; {
14973                        	
14974                        		.dbg	line,	"include\routines_LEVELS.c", 3101; spr_x(player_pos_x+32);
14975                        		__ld.wm		_player_pos_x
         02:CBBA  AD F5 24   			lda.l	_player_pos_x
         02:CBBD  AC F6 24   			ldy.h	_player_pos_x
14976                        		__add.wi	32
         02:CBC0  18         			clc
         02:CBC1  69 20      			adc.l	#32
         02:CBC3  90 01      			bcc	!+
         02:CBC5  C8         			iny
         02:CBC6             	!:
14977                        		__call		_spr_x.1
         02:CBC6  20 1E E8   			call	_spr_x.1
14978                        	
14979                        		.dbg	line,	"include\routines_LEVELS.c", 3103; spr_set(weapon_id);
14980                        		__ld.umq	_weapon_id
         02:CBC9  AD 26 23   			lda	_weapon_id
14981                        		__call		_spr_set.1
         02:CBCC  20 F1 E7   			call	_spr_set.1
14982                        	
14983                        		.dbg	line,	"include\routines_LEVELS.c", 3104; spr_x(player_pos_x+48);
14984                        		__ld.wm		_player_pos_x
         02:CBCF  AD F5 24   			lda.l	_player_pos_x
         02:CBD2  AC F6 24   			ldy.h	_player_pos_x
14985                        		__add.wi	48
         02:CBD5  18         			clc
         02:CBD6  69 30      			adc.l	#48
         02:CBD8  90 01      			bcc	!+
         02:CBDA  C8         			iny
         02:CBDB             	!:
14986                        		__call		_spr_x.1
         02:CBDB  20 1E E8   			call	_spr_x.1
14987                        	
14988                        		.dbg	line,	"include\routines_LEVELS.c", 3105; }
14989                        	
14990                        		.dbg	line,	"include\routines_LEVELS.c", 3106; 
14991                        	
14992                        		.dbg	line,	"include\routines_LEVELS.c", 3107; else
14993                        		__bra		.LL761
         02:CBDE  80 24      			bra	.LL761
14994    02:CBE0             	.LL760:
14995                        	
14996                        		.dbg	line,	"include\routines_LEVELS.c", 3108; {
14997                        	
14998                        		.dbg	line,	"include\routines_LEVELS.c", 3109; spr_x(player_pos_x-16);
14999                        		__ld.wm		_player_pos_x
         02:CBE0  AD F5 24   			lda.l	_player_pos_x
         02:CBE3  AC F6 24   			ldy.h	_player_pos_x
15000                        		__sub.wi	16
         02:CBE6  38         			sec
         02:CBE7  E9 10      			sbc.l	#16
         02:CBE9  B0 01      			bcs	!+
         02:CBEB  88         			dey
         02:CBEC             	!:
15001                        		__call		_spr_x.1
         02:CBEC  20 1E E8   			call	_spr_x.1
15002                        	
15003                        		.dbg	line,	"include\routines_LEVELS.c", 3111; spr_set(weapon_id);
15004                        		__ld.umq	_weapon_id
         02:CBEF  AD 26 23   			lda	_weapon_id
15005                        		__call		_spr_set.1
         02:CBF2  20 F1 E7   			call	_spr_set.1
15006                        	
15007                        		.dbg	line,	"include\routines_LEVELS.c", 3112; spr_x(player_pos_x-32);
15008                        		__ld.wm		_player_pos_x
         02:CBF5  AD F5 24   			lda.l	_player_pos_x
         02:CBF8  AC F6 24   			ldy.h	_player_pos_x
15009                        		__sub.wi	32
         02:CBFB  38         			sec
         02:CBFC  E9 20      			sbc.l	#32
         02:CBFE  B0 01      			bcs	!+
         02:CC00  88         			dey
         02:CC01             	!:
15010                        		__call		_spr_x.1
         02:CC01  20 1E E8   			call	_spr_x.1
15011                        	
15012                        		.dbg	line,	"include\routines_LEVELS.c", 3113; }
15013    02:CC04             	.LL761:
15014                        	
15015                        		.dbg	line,	"include\routines_LEVELS.c", 3115; collision_WEAPON_OBJECTS();
15016                        		__call		_collision_WEAPON_OBJECTS
         02:CC04  20 09 FF   			call	_collision_WEAPON_OBJECTS
15017                        	
15018                        		.dbg	line,	"include\routines_LEVELS.c", 3116; }
15019                        	
15020                        		.dbg	line,	"include\routines_LEVELS.c", 3118; else if(player_counter_attack == 8)
15021                        		__bra		.LL762
         02:CC07  4C EE CC   			bra	.LL762
15022    02:CC0A             	.LL759:
15023                        		__ld.umq	_player_counter_attack
         02:CC0A  AD 1E 23   			lda	_player_counter_attack
15024                        		__equ_b.uiq	8
         02:CC0D  C9 08      			cmp	#8
         02:CC0F  F0 01      			beq	!+
         02:CC11  18         			clc
         02:CC12             	!:
15025                        		__bfalse	.LL763
         02:CC12  90 68      			bcc	.LL763
15026                        	
15027                        		.dbg	line,	"include\routines_LEVELS.c", 3119; {
15028                        	
15029                        		.dbg	line,	"include\routines_LEVELS.c", 3120; list_chain_active[1] = TRUE;
15030                        		__st.umiq	1, _list_chain_active + 1
         02:CC14  A9 01      			lda.l	#1
         02:CC16  8D 2B 23   			sta	_list_chain_active + 1
15031                        	
15032                        		.dbg	line,	"include\routines_LEVELS.c", 3121; spr_set(chain_id+1);
15033                        		__ld.um		_chain_id
         02:CC19  AD 25 23   			lda	_chain_id
         02:CC1C  C2         			cly
15034                        		__add.wi	1
         02:CC1D  1A         			inc	a
         02:CC1E  D0 01      			bne	!+
         02:CC20  C8         			iny
         02:CC21             	!:
15035                        		__call		_spr_set.1
         02:CC21  20 F1 E7   			call	_spr_set.1
15036                        	
15037                        		.dbg	line,	"include\routines_LEVELS.c", 3123; if(player_axis == AXIS_RIGHT)
15038                        		__not.um	_player_axis
         02:CC24  AD 19 23   			lda	_player_axis
         02:CC27  18         			clc
         02:CC28  D0 01      			bne	!+
         02:CC2A  38         			sec
         02:CC2B             	!:
15039                        		__bfalse	.LL764
         02:CC2B  90 26      			bcc	.LL764
15040                        	
15041                        		.dbg	line,	"include\routines_LEVELS.c", 3124; {
15042                        	
15043                        		.dbg	line,	"include\routines_LEVELS.c", 3125; spr_x(player_pos_x+48);
15044                        		__ld.wm		_player_pos_x
         02:CC2D  AD F5 24   			lda.l	_player_pos_x
         02:CC30  AC F6 24   			ldy.h	_player_pos_x
15045                        		__add.wi	48
         02:CC33  18         			clc
         02:CC34  69 30      			adc.l	#48
         02:CC36  90 01      			bcc	!+
         02:CC38  C8         			iny
         02:CC39             	!:
15046                        		__call		_spr_x.1
         02:CC39  20 1E E8   			call	_spr_x.1
15047                        	
15048                        		.dbg	line,	"include\routines_LEVELS.c", 3127; spr_set(weapon_id);
15049                        		__ld.umq	_weapon_id
         02:CC3C  AD 26 23   			lda	_weapon_id
15050                        		__call		_spr_set.1
         02:CC3F  20 F1 E7   			call	_spr_set.1
15051                        	
15052                        		.dbg	line,	"include\routines_LEVELS.c", 3128; spr_x(player_pos_x+64);
15053                        		__ld.wm		_player_pos_x
         02:CC42  AD F5 24   			lda.l	_player_pos_x
         02:CC45  AC F6 24   			ldy.h	_player_pos_x
15054                        		__add.wi	64
         02:CC48  18         			clc
         02:CC49  69 40      			adc.l	#64
         02:CC4B  90 01      			bcc	!+
         02:CC4D  C8         			iny
         02:CC4E             	!:
15055                        		__call		_spr_x.1
         02:CC4E  20 1E E8   			call	_spr_x.1
15056                        	
15057                        		.dbg	line,	"include\routines_LEVELS.c", 3129; }
15058                        	
15059                        		.dbg	line,	"include\routines_LEVELS.c", 3130; 
15060                        	
15061                        		.dbg	line,	"include\routines_LEVELS.c", 3131; else
15062                        		__bra		.LL765
         02:CC51  80 24      			bra	.LL765
15063    02:CC53             	.LL764:
15064                        	
15065                        		.dbg	line,	"include\routines_LEVELS.c", 3132; {
15066                        	
15067                        		.dbg	line,	"include\routines_LEVELS.c", 3133; spr_x(player_pos_x-32);
15068                        		__ld.wm		_player_pos_x
         02:CC53  AD F5 24   			lda.l	_player_pos_x
         02:CC56  AC F6 24   			ldy.h	_player_pos_x
15069                        		__sub.wi	32
         02:CC59  38         			sec
         02:CC5A  E9 20      			sbc.l	#32
         02:CC5C  B0 01      			bcs	!+
         02:CC5E  88         			dey
         02:CC5F             	!:
15070                        		__call		_spr_x.1
         02:CC5F  20 1E E8   			call	_spr_x.1
15071                        	
15072                        		.dbg	line,	"include\routines_LEVELS.c", 3135; spr_set(weapon_id);
15073                        		__ld.umq	_weapon_id
         02:CC62  AD 26 23   			lda	_weapon_id
15074                        		__call		_spr_set.1
         02:CC65  20 F1 E7   			call	_spr_set.1
15075                        	
15076                        		.dbg	line,	"include\routines_LEVELS.c", 3136; spr_x(player_pos_x-48);
15077                        		__ld.wm		_player_pos_x
         02:CC68  AD F5 24   			lda.l	_player_pos_x
         02:CC6B  AC F6 24   			ldy.h	_player_pos_x
15078                        		__sub.wi	48
         02:CC6E  38         			sec
         02:CC6F  E9 30      			sbc.l	#48
         02:CC71  B0 01      			bcs	!+
         02:CC73  88         			dey
         02:CC74             	!:
15079                        		__call		_spr_x.1
         02:CC74  20 1E E8   			call	_spr_x.1
15080                        	
15081                        		.dbg	line,	"include\routines_LEVELS.c", 3137; }
15082    02:CC77             	.LL765:
15083                        	
15084                        		.dbg	line,	"include\routines_LEVELS.c", 3139; collision_WEAPON_OBJECTS();
15085                        		__call		_collision_WEAPON_OBJECTS
         02:CC77  20 09 FF   			call	_collision_WEAPON_OBJECTS
15086                        	
15087                        		.dbg	line,	"include\routines_LEVELS.c", 3140; }
15088                        	
15089                        		.dbg	line,	"include\routines_LEVELS.c", 3142; else if(player_counter_attack == 9)
15090                        		__bra		.LL766
         02:CC7A  80 72      			bra	.LL766
15091    02:CC7C             	.LL763:
15092                        		__ld.umq	_player_counter_attack
         02:CC7C  AD 1E 23   			lda	_player_counter_attack
15093                        		__equ_b.uiq	9
         02:CC7F  C9 09      			cmp	#9
         02:CC81  F0 01      			beq	!+
         02:CC83  18         			clc
         02:CC84             	!:
15094                        		__bfalse	.LL767
         02:CC84  90 68      			bcc	.LL767
15095                        	
15096                        		.dbg	line,	"include\routines_LEVELS.c", 3143; {
15097                        	
15098                        		.dbg	line,	"include\routines_LEVELS.c", 3144; list_chain_active[2] = TRUE;
15099                        		__st.umiq	1, _list_chain_active + 2
         02:CC86  A9 01      			lda.l	#1
         02:CC88  8D 2C 23   			sta	_list_chain_active + 2
15100                        	
15101                        		.dbg	line,	"include\routines_LEVELS.c", 3145; spr_set(chain_id+2);
15102                        		__ld.um		_chain_id
         02:CC8B  AD 25 23   			lda	_chain_id
         02:CC8E  C2         			cly
15103                        		__add.wi	2
         02:CC8F  18         			clc
         02:CC90  69 02      			adc.l	#2
         02:CC92  90 01      			bcc	!+
         02:CC94  C8         			iny
         02:CC95             	!:
15104                        		__call		_spr_set.1
         02:CC95  20 F1 E7   			call	_spr_set.1
15105                        	
15106                        		.dbg	line,	"include\routines_LEVELS.c", 3147; if(player_axis == AXIS_RIGHT)
15107                        		__not.um	_player_axis
         02:CC98  AD 19 23   			lda	_player_axis
         02:CC9B  18         			clc
         02:CC9C  D0 01      			bne	!+
         02:CC9E  38         			sec
         02:CC9F             	!:
15108                        		__bfalse	.LL768
         02:CC9F  90 26      			bcc	.LL768
15109                        	
15110                        		.dbg	line,	"include\routines_LEVELS.c", 3148; {
15111                        	
15112                        		.dbg	line,	"include\routines_LEVELS.c", 3149; spr_x(player_pos_x+64);
15113                        		__ld.wm		_player_pos_x
         02:CCA1  AD F5 24   			lda.l	_player_pos_x
         02:CCA4  AC F6 24   			ldy.h	_player_pos_x
15114                        		__add.wi	64
         02:CCA7  18         			clc
         02:CCA8  69 40      			adc.l	#64
         02:CCAA  90 01      			bcc	!+
         02:CCAC  C8         			iny
         02:CCAD             	!:
15115                        		__call		_spr_x.1
         02:CCAD  20 1E E8   			call	_spr_x.1
15116                        	
15117                        		.dbg	line,	"include\routines_LEVELS.c", 3151; spr_set(weapon_id);
15118                        		__ld.umq	_weapon_id
         02:CCB0  AD 26 23   			lda	_weapon_id
15119                        		__call		_spr_set.1
         02:CCB3  20 F1 E7   			call	_spr_set.1
15120                        	
15121                        		.dbg	line,	"include\routines_LEVELS.c", 3152; spr_x(player_pos_x+80);
15122                        		__ld.wm		_player_pos_x
         02:CCB6  AD F5 24   			lda.l	_player_pos_x
         02:CCB9  AC F6 24   			ldy.h	_player_pos_x
15123                        		__add.wi	80
         02:CCBC  18         			clc
         02:CCBD  69 50      			adc.l	#80
         02:CCBF  90 01      			bcc	!+
         02:CCC1  C8         			iny
         02:CCC2             	!:
15124                        		__call		_spr_x.1
         02:CCC2  20 1E E8   			call	_spr_x.1
15125                        	
15126                        		.dbg	line,	"include\routines_LEVELS.c", 3153; }
15127                        	
15128                        		.dbg	line,	"include\routines_LEVELS.c", 3154; 
15129                        	
15130                        		.dbg	line,	"include\routines_LEVELS.c", 3155; else
15131                        		__bra		.LL769
         02:CCC5  80 24      			bra	.LL769
15132    02:CCC7             	.LL768:
15133                        	
15134                        		.dbg	line,	"include\routines_LEVELS.c", 3156; {
15135                        	
15136                        		.dbg	line,	"include\routines_LEVELS.c", 3157; spr_x(player_pos_x-48);
15137                        		__ld.wm		_player_pos_x
         02:CCC7  AD F5 24   			lda.l	_player_pos_x
         02:CCCA  AC F6 24   			ldy.h	_player_pos_x
15138                        		__sub.wi	48
         02:CCCD  38         			sec
         02:CCCE  E9 30      			sbc.l	#48
         02:CCD0  B0 01      			bcs	!+
         02:CCD2  88         			dey
         02:CCD3             	!:
15139                        		__call		_spr_x.1
         02:CCD3  20 1E E8   			call	_spr_x.1
15140                        	
15141                        		.dbg	line,	"include\routines_LEVELS.c", 3159; spr_set(weapon_id);
15142                        		__ld.umq	_weapon_id
         02:CCD6  AD 26 23   			lda	_weapon_id
15143                        		__call		_spr_set.1
         02:CCD9  20 F1 E7   			call	_spr_set.1
15144                        	
15145                        		.dbg	line,	"include\routines_LEVELS.c", 3160; spr_x(player_pos_x-64);
15146                        		__ld.wm		_player_pos_x
         02:CCDC  AD F5 24   			lda.l	_player_pos_x
         02:CCDF  AC F6 24   			ldy.h	_player_pos_x
15147                        		__sub.wi	64
         02:CCE2  38         			sec
         02:CCE3  E9 40      			sbc.l	#64
         02:CCE5  B0 01      			bcs	!+
         02:CCE7  88         			dey
         02:CCE8             	!:
15148                        		__call		_spr_x.1
         02:CCE8  20 1E E8   			call	_spr_x.1
15149                        	
15150                        		.dbg	line,	"include\routines_LEVELS.c", 3161; }
15151    02:CCEB             	.LL769:
15152                        	
15153                        		.dbg	line,	"include\routines_LEVELS.c", 3163; collision_WEAPON_OBJECTS();
15154                        		__call		_collision_WEAPON_OBJECTS
         02:CCEB  20 09 FF   			call	_collision_WEAPON_OBJECTS
15155                        	
15156                        		.dbg	line,	"include\routines_LEVELS.c", 3164; }
15157                        	
15158                        		.dbg	line,	"include\routines_LEVELS.c", 3165; 
15159                        	
15160                        		.dbg	line,	"include\routines_LEVELS.c", 3166; //collision_WEAPON_OBJECTS();
15161                        	
15162                        		.dbg	line,	"include\routines_LEVELS.c", 3167; }
15163    02:CCEE             	.LL767:
15164    02:CCEE             	.LL766:
15165    02:CCEE             	.LL762:
15166    02:CCEE             	.LL758:
15167                        	
15168                        		.dbg	line,	"include\routines_LEVELS.c", 3170; player_counter_attack += 1;
15169    02:CCEE             	.LL754:
15170                        		__add_st.umiq	1, _player_counter_attack
         02:CCEE  EE 1E 23   			inc	_player_counter_attack
15171                        	
15172                        		.dbg	line,	"include\routines_LEVELS.c", 3173; // SET WEAPON Y POSITION //
15173                        	
15174                        		.dbg	line,	"include\routines_LEVELS.c", 3174; spr_set(weapon_id);
15175                        		__ld.umq	_weapon_id
         02:CCF1  AD 26 23   			lda	_weapon_id
15176                        		__call		_spr_set.1
         02:CCF4  20 F1 E7   			call	_spr_set.1
15177                        	
15178                        		.dbg	line,	"include\routines_LEVELS.c", 3175; spr_y(player_pos_y + weapon_y_offset);
15179                        		__ld.bm		_weapon_y_offset
         02:CCF7  AD 8D 26   			lda	_weapon_y_offset
         02:CCFA  C2         			cly
         02:CCFB  10 01      			bpl	!+
         02:CCFD  88         			dey
         02:CCFE             	!:
15180                        		__add.wm	_player_pos_y
         02:CCFE  18         			clc
         02:CCFF  6D F7 24   			adc.l	_player_pos_y
         02:CD02  42         			say
         02:CD03  6D F8 24   			adc.h	_player_pos_y
         02:CD06  42         			say
15181                        		__call		_spr_y.1
         02:CD07  20 2D E8   			call	_spr_y.1
15182                        	
15183                        		.dbg	line,	"include\routines_LEVELS.c", 3178; // SET CHAIN Y POSITION //
15184                        	
15185                        		.dbg	line,	"include\routines_LEVELS.c", 3179; for(i=0 ; i<3 ; i++)
15186                        		__st.umiq	0, __update_WEAPON_end - 1  /* i */
         02:CD0A  9C 0E 23   			stz	__update_WEAPON_end - 1
15187    02:CD0D             	.LL770:
15188                        		__ld.umq	__update_WEAPON_end - 1  /* i */
         02:CD0D  AD 0E 23   			lda	__update_WEAPON_end - 1
15189                        		__ult_b.uiq	3
         02:CD10  C9 03      			cmp	#3		; Subtract integer from A.
         02:CD12  6A         			ror	a		; CC if A < integer.
         02:CD13  49 80      			eor	#$80
         02:CD15  2A         			rol	a
15190                        		__btrue		.LL772
         02:CD16  B0 08      			bcs	.LL772
15191                        		__bra		.LL773
         02:CD18  4C 34 D3   			bra	.LL773
15192    02:CD1B             	.LL771:
15193                        		__inc.umq	__update_WEAPON_end - 1  /* i */
         02:CD1B  EE 0E 23   			inc	__update_WEAPON_end - 1
15194                        		__bra		.LL770
         02:CD1E  80 ED      			bra	.LL770
15195    02:CD20             	.LL772:
15196                        	
15197                        		.dbg	line,	"include\routines_LEVELS.c", 3180; {
15198                        	
15199                        		.dbg	line,	"include\routines_LEVELS.c", 3181; spr_set(chain_id+i);
15200                        		__ld.um		_chain_id
         02:CD20  AD 25 23   			lda	_chain_id
         02:CD23  C2         			cly
15201                        		__add.um	__update_WEAPON_end - 1  /* i */
         02:CD24  18         			clc
         02:CD25  6D 0E 23   			adc	__update_WEAPON_end - 1
         02:CD28  90 01      			bcc	!+
         02:CD2A  C8         			iny
         02:CD2B             	!:
15202                        		__call		_spr_set.1
         02:CD2B  20 F1 E7   			call	_spr_set.1
15203                        	
15204                        		.dbg	line,	"include\routines_LEVELS.c", 3183; spr_y( ((player_pos_y + 16) * list_chain_active[i]) - 16); //list_chain_active[0] = TRUE;
15205                        		__ld.wm		_player_pos_y
         02:CD2E  AD F7 24   			lda.l	_player_pos_y
         02:CD31  AC F8 24   			ldy.h	_player_pos_y
15206                        		__add.wi	16
         02:CD34  18         			clc
         02:CD35  69 10      			adc.l	#16
         02:CD37  90 01      			bcc	!+
         02:CD39  C8         			iny
         02:CD3A             	!:
15207                        		__push.wr
         02:CD3A  5A         			phy
         02:CD3B  48         			pha
15208                        		__ldx.umq	__update_WEAPON_end - 1  /* i */
         02:CD3C  AE 0E 23   			ldx	__update_WEAPON_end - 1
15209                        		__ld.uax	_list_chain_active
         02:CD3F  BD 2A 23   			lda	_list_chain_active, x
         02:CD42  C2         			cly
15210                        		__mul.wt
         02:CD43  85 00      			sta.l	<multiplier
         02:CD45  84 01      			sty.h	<multiplier
         02:CD47  68         			pla
         02:CD48  7A         			ply
         02:CD49  20 60 E4   			jsr	__mulint
15211                        		__sub.wi	16
         02:CD4C  38         			sec
         02:CD4D  E9 10      			sbc.l	#16
         02:CD4F  B0 01      			bcs	!+
         02:CD51  88         			dey
         02:CD52             	!:
15212                        		__call		_spr_y.1
         02:CD52  20 2D E8   			call	_spr_y.1
15213                        	
15214                        		.dbg	line,	"include\routines_LEVELS.c", 3184; }
15215                        		__bra		.LL771
         02:CD55  80 C4      			bra	.LL771
15216    02:CD57             	.LL773	.alias		.LL774
15217                        	
15218                        		.dbg	line,	"include\routines_LEVELS.c", 3185; }
15219                        	
15220                        		.dbg	line,	"include\routines_LEVELS.c", 3188; else if(player_state == STATE_CROUCH_ATTACK)
15221                        		__bra		.LL774
         02:CD57  4C 34 D3   			bra	.LL774
15222    02:CD5A             	.LL748:
15223                        		__ld.umq	_player_state
         02:CD5A  AD 18 23   			lda	_player_state
15224                        		__equ_b.uiq	8
         02:CD5D  C9 08      			cmp	#8
         02:CD5F  F0 01      			beq	!+
         02:CD61  18         			clc
         02:CD62             	!:
15225                        		__bfalse	.LL775
         02:CD62  B0 03 4C 71			bcc	.LL775
         02:CD66  D0          
15226                        	
15227                        		.dbg	line,	"include\routines_LEVELS.c", 3189; {
15228                        	
15229                        		.dbg	line,	"include\routines_LEVELS.c", 3190; char i;
15230                        	
15231                        		.dbg	line,	"include\routines_LEVELS.c", 3191; 
15232                        	
15233                        		.dbg	line,	"include\routines_LEVELS.c", 3192; recenter_CAMERA();
15234                        		__call		_recenter_CAMERA
         02:CD67  20 1D FF   			call	_recenter_CAMERA
15235                        	
15236                        		.dbg	line,	"include\routines_LEVELS.c", 3194; if(player_counter_attack == 0)
15237                        		__not.um	_player_counter_attack
         02:CD6A  AD 1E 23   			lda	_player_counter_attack
         02:CD6D  18         			clc
         02:CD6E  D0 01      			bne	!+
         02:CD70  38         			sec
         02:CD71             	!:
15238                        		__bfalse	.LL776
         02:CD71  90 47      			bcc	.LL776
15239                        	
15240                        		.dbg	line,	"include\routines_LEVELS.c", 3195; {
15241                        	
15242                        		.dbg	line,	"include\routines_LEVELS.c", 3196; spr_set(player_id);
15243                        		__ld.umq	_player_id
         02:CD73  AD 17 23   			lda	_player_id
15244                        		__call		_spr_set.1
         02:CD76  20 F1 E7   			call	_spr_set.1
15245                        	
15246                        		.dbg	line,	"include\routines_LEVELS.c", 3197; spr_pattern(PLAYER_CROUCH_ATTACK_1_VRAM_ADR);
15247                        		__ld.wi		9984
         02:CD79  62         			cla
         02:CD7A  A0 27      			ldy.h	#9984
15248                        		__call		_spr_pattern.1
         02:CD7C  20 3A E8   			call	_spr_pattern.1
15249                        	
15250                        		.dbg	line,	"include\routines_LEVELS.c", 3199; spr_set(weapon_id);
15251                        		__ld.umq	_weapon_id
         02:CD7F  AD 26 23   			lda	_weapon_id
15252                        		__call		_spr_set.1
         02:CD82  20 F1 E7   			call	_spr_set.1
15253                        	
15254                        		.dbg	line,	"include\routines_LEVELS.c", 3200; spr_pattern(WEAPON_ATTACK_1_VRAM_ADRESS);
15255                        		__ld.wi		32000
         02:CD85  62         			cla
         02:CD86  A0 7D      			ldy.h	#32000
15256                        		__call		_spr_pattern.1
         02:CD88  20 3A E8   			call	_spr_pattern.1
15257                        	
15258                        		.dbg	line,	"include\routines_LEVELS.c", 3202; if(player_axis == AXIS_RIGHT)
15259                        		__not.um	_player_axis
         02:CD8B  AD 19 23   			lda	_player_axis
         02:CD8E  18         			clc
         02:CD8F  D0 01      			bne	!+
         02:CD91  38         			sec
         02:CD92             	!:
15260                        		__bfalse	.LL777
         02:CD92  90 11      			bcc	.LL777
15261                        	
15262                        		.dbg	line,	"include\routines_LEVELS.c", 3203; {
15263                        	
15264                        		.dbg	line,	"include\routines_LEVELS.c", 3204; spr_x(player_pos_x-16);
15265                        		__ld.wm		_player_pos_x
         02:CD94  AD F5 24   			lda.l	_player_pos_x
         02:CD97  AC F6 24   			ldy.h	_player_pos_x
15266                        		__sub.wi	16
         02:CD9A  38         			sec
         02:CD9B  E9 10      			sbc.l	#16
         02:CD9D  B0 01      			bcs	!+
         02:CD9F  88         			dey
         02:CDA0             	!:
15267                        		__call		_spr_x.1
         02:CDA0  20 1E E8   			call	_spr_x.1
15268                        	
15269                        		.dbg	line,	"include\routines_LEVELS.c", 3205; }
15270                        	
15271                        		.dbg	line,	"include\routines_LEVELS.c", 3207; else
15272                        		__bra		.LL778
         02:CDA3  80 0F      			bra	.LL778
15273    02:CDA5             	.LL777:
15274                        	
15275                        		.dbg	line,	"include\routines_LEVELS.c", 3208; {
15276                        	
15277                        		.dbg	line,	"include\routines_LEVELS.c", 3209; spr_x(player_pos_x+32);
15278                        		__ld.wm		_player_pos_x
         02:CDA5  AD F5 24   			lda.l	_player_pos_x
         02:CDA8  AC F6 24   			ldy.h	_player_pos_x
15279                        		__add.wi	32
         02:CDAB  18         			clc
         02:CDAC  69 20      			adc.l	#32
         02:CDAE  90 01      			bcc	!+
         02:CDB0  C8         			iny
         02:CDB1             	!:
15280                        		__call		_spr_x.1
         02:CDB1  20 1E E8   			call	_spr_x.1
15281                        	
15282                        		.dbg	line,	"include\routines_LEVELS.c", 3210; }
15283    02:CDB4             	.LL778:
15284                        	
15285                        		.dbg	line,	"include\routines_LEVELS.c", 3212; weapon_y_offset = 0;
15286                        		__st.umiq	0, _weapon_y_offset
         02:CDB4  9C 8D 26   			stz	_weapon_y_offset
15287                        	
15288                        		.dbg	line,	"include\routines_LEVELS.c", 3213; }
15289                        	
15290                        		.dbg	line,	"include\routines_LEVELS.c", 3215; else if(player_counter_attack == 23)
15291                        		__bra		.LL779
         02:CDB7  4C 4F CE   			bra	.LL779
15292    02:CDBA             	.LL776:
15293                        		__ld.umq	_player_counter_attack
         02:CDBA  AD 1E 23   			lda	_player_counter_attack
15294                        		__equ_b.uiq	23
         02:CDBD  C9 17      			cmp	#23
         02:CDBF  F0 01      			beq	!+
         02:CDC1  18         			clc
         02:CDC2             	!:
15295                        		__bfalse	.LL780
         02:CDC2  B0 03 4C 4F			bcc	.LL780
         02:CDC6  CE          
15296                        	
15297                        		.dbg	line,	"include\routines_LEVELS.c", 3216; {
15298                        	
15299                        		.dbg	line,	"include\routines_LEVELS.c", 3217; spr_set(chain_id);
15300                        		__ld.umq	_chain_id
         02:CDC7  AD 25 23   			lda	_chain_id
15301                        		__call		_spr_set.1
         02:CDCA  20 F1 E7   			call	_spr_set.1
15302                        	
15303                        		.dbg	line,	"include\routines_LEVELS.c", 3218; spr_hide();
15304                        		__call		_spr_hide
         02:CDCD  20 0C E8   			call	_spr_hide
15305                        	
15306                        		.dbg	line,	"include\routines_LEVELS.c", 3220; spr_set(chain_id+1);
15307                        		__ld.um		_chain_id
         02:CDD0  AD 25 23   			lda	_chain_id
         02:CDD3  C2         			cly
15308                        		__add.wi	1
         02:CDD4  1A         			inc	a
         02:CDD5  D0 01      			bne	!+
         02:CDD7  C8         			iny
         02:CDD8             	!:
15309                        		__call		_spr_set.1
         02:CDD8  20 F1 E7   			call	_spr_set.1
15310                        	
15311                        		.dbg	line,	"include\routines_LEVELS.c", 3221; spr_hide();
15312                        		__call		_spr_hide
         02:CDDB  20 0C E8   			call	_spr_hide
15313                        	
15314                        		.dbg	line,	"include\routines_LEVELS.c", 3223; spr_set(chain_id+2);
15315                        		__ld.um		_chain_id
         02:CDDE  AD 25 23   			lda	_chain_id
         02:CDE1  C2         			cly
15316                        		__add.wi	2
         02:CDE2  18         			clc
         02:CDE3  69 02      			adc.l	#2
         02:CDE5  90 01      			bcc	!+
         02:CDE7  C8         			iny
         02:CDE8             	!:
15317                        		__call		_spr_set.1
         02:CDE8  20 F1 E7   			call	_spr_set.1
15318                        	
15319                        		.dbg	line,	"include\routines_LEVELS.c", 3224; spr_hide();
15320                        		__call		_spr_hide
         02:CDEB  20 0C E8   			call	_spr_hide
15321                        	
15322                        		.dbg	line,	"include\routines_LEVELS.c", 3226; spr_set(player_id);
15323                        		__ld.umq	_player_id
         02:CDEE  AD 17 23   			lda	_player_id
15324                        		__call		_spr_set.1
         02:CDF1  20 F1 E7   			call	_spr_set.1
15325                        	
15326                        		.dbg	line,	"include\routines_LEVELS.c", 3227; spr_pattern(PLAYER_CROUCH_VRAM_ADR);
15327                        		__ld.wi		7168
         02:CDF4  62         			cla
         02:CDF5  A0 1C      			ldy.h	#7168
15328                        		__call		_spr_pattern.1
         02:CDF7  20 3A E8   			call	_spr_pattern.1
15329                        	
15330                        		.dbg	line,	"include\routines_LEVELS.c", 3229; spr_set(weapon_id);
15331                        		__ld.umq	_weapon_id
         02:CDFA  AD 26 23   			lda	_weapon_id
15332                        		__call		_spr_set.1
         02:CDFD  20 F1 E7   			call	_spr_set.1
15333                        	
15334                        		.dbg	line,	"include\routines_LEVELS.c", 3230; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
15335                        		__ld.wi		31808
         02:CE00  A9 40      			lda.l	#31808
         02:CE02  A0 7C      			ldy.h	#31808
15336                        		__call		_spr_pattern.1
         02:CE04  20 3A E8   			call	_spr_pattern.1
15337                        	
15338                        		.dbg	line,	"include\routines_LEVELS.c", 3231; 
15339                        	
15340                        		.dbg	line,	"include\routines_LEVELS.c", 3232; if(player_axis == AXIS_RIGHT)
15341                        		__not.um	_player_axis
         02:CE07  AD 19 23   			lda	_player_axis
         02:CE0A  18         			clc
         02:CE0B  D0 01      			bne	!+
         02:CE0D  38         			sec
         02:CE0E             	!:
15342                        		__bfalse	.LL781
         02:CE0E  90 11      			bcc	.LL781
15343                        	
15344                        		.dbg	line,	"include\routines_LEVELS.c", 3233; {
15345                        	
15346                        		.dbg	line,	"include\routines_LEVELS.c", 3234; spr_x(player_pos_x-1);
15347                        		__ld.wm		_player_pos_x
         02:CE10  AD F5 24   			lda.l	_player_pos_x
         02:CE13  AC F6 24   			ldy.h	_player_pos_x
15348                        		__sub.wi	1
         02:CE16  38         			sec
         02:CE17  E9 01      			sbc.l	#1
         02:CE19  B0 01      			bcs	!+
         02:CE1B  88         			dey
         02:CE1C             	!:
15349                        		__call		_spr_x.1
         02:CE1C  20 1E E8   			call	_spr_x.1
15350                        	
15351                        		.dbg	line,	"include\routines_LEVELS.c", 3235; }
15352                        	
15353                        		.dbg	line,	"include\routines_LEVELS.c", 3237; else
15354                        		__bra		.LL782
         02:CE1F  80 0F      			bra	.LL782
15355    02:CE21             	.LL781:
15356                        	
15357                        		.dbg	line,	"include\routines_LEVELS.c", 3238; {
15358                        	
15359                        		.dbg	line,	"include\routines_LEVELS.c", 3239; spr_x(player_pos_x+17);
15360                        		__ld.wm		_player_pos_x
         02:CE21  AD F5 24   			lda.l	_player_pos_x
         02:CE24  AC F6 24   			ldy.h	_player_pos_x
15361                        		__add.wi	17
         02:CE27  18         			clc
         02:CE28  69 11      			adc.l	#17
         02:CE2A  90 01      			bcc	!+
         02:CE2C  C8         			iny
         02:CE2D             	!:
15362                        		__call		_spr_x.1
         02:CE2D  20 1E E8   			call	_spr_x.1
15363                        	
15364                        		.dbg	line,	"include\routines_LEVELS.c", 3240; }
15365    02:CE30             	.LL782:
15366                        	
15367                        		.dbg	line,	"include\routines_LEVELS.c", 3242; spr_y(player_pos_y+18);
15368                        		__ld.wm		_player_pos_y
         02:CE30  AD F7 24   			lda.l	_player_pos_y
         02:CE33  AC F8 24   			ldy.h	_player_pos_y
15369                        		__add.wi	18
         02:CE36  18         			clc
         02:CE37  69 12      			adc.l	#18
         02:CE39  90 01      			bcc	!+
         02:CE3B  C8         			iny
         02:CE3C             	!:
15370                        		__call		_spr_y.1
         02:CE3C  20 2D E8   			call	_spr_y.1
15371                        	
15372                        		.dbg	line,	"include\routines_LEVELS.c", 3244; player_attack = FALSE;
15373                        		__st.umiq	0, _player_attack
         02:CE3F  9C 20 23   			stz	_player_attack
15374                        	
15375                        		.dbg	line,	"include\routines_LEVELS.c", 3245; player_counter_attack = 1;
15376                        		__st.umiq	1, _player_counter_attack
         02:CE42  A9 01      			lda.l	#1
         02:CE44  8D 1E 23   			sta	_player_counter_attack
15377                        	
15378                        		.dbg	line,	"include\routines_LEVELS.c", 3246; player_state = STATE_CROUCH;
15379                        		__st.umiq	7, _player_state
         02:CE47  A9 07      			lda.l	#7
         02:CE49  8D 18 23   			sta	_player_state
15380                        	
15381                        		.dbg	line,	"include\routines_LEVELS.c", 3247; return;
15382                        		__bra		.LL747
         02:CE4C  4C 34 D3   			bra	.LL747
15383                        	
15384                        		.dbg	line,	"include\routines_LEVELS.c", 3248; }
15385                        	
15386                        		.dbg	line,	"include\routines_LEVELS.c", 3250; // CHAIN ANIMATION //
15387                        	
15388                        		.dbg	line,	"include\routines_LEVELS.c", 3251; if(chain_unfold == TRUE)
15389    02:CE4F             	.LL780:
15390    02:CE4F             	.LL779:
15391                        		__ld.umq	_chain_unfold
         02:CE4F  AD 29 23   			lda	_chain_unfold
15392                        		__equ_b.uiq	1
         02:CE52  C9 01      			cmp	#1
         02:CE54  F0 01      			beq	!+
         02:CE56  18         			clc
         02:CE57             	!:
15393                        		__bfalse	.LL783
         02:CE57  B0 03 4C 05			bcc	.LL783
         02:CE5B  D0          
15394                        	
15395                        		.dbg	line,	"include\routines_LEVELS.c", 3252; {
15396                        	
15397                        		.dbg	line,	"include\routines_LEVELS.c", 3253; if(player_counter_attack == 6)
15398                        		__ld.umq	_player_counter_attack
         02:CE5C  AD 1E 23   			lda	_player_counter_attack
15399                        		__equ_b.uiq	6
         02:CE5F  C9 06      			cmp	#6
         02:CE61  F0 01      			beq	!+
         02:CE63  18         			clc
         02:CE64             	!:
15400                        		__bfalse	.LL784
         02:CE64  90 4D      			bcc	.LL784
15401                        	
15402                        		.dbg	line,	"include\routines_LEVELS.c", 3254; {
15403                        	
15404                        		.dbg	line,	"include\routines_LEVELS.c", 3255; spr_set(player_id);
15405                        		__ld.umq	_player_id
         02:CE66  AD 17 23   			lda	_player_id
15406                        		__call		_spr_set.1
         02:CE69  20 F1 E7   			call	_spr_set.1
15407                        	
15408                        		.dbg	line,	"include\routines_LEVELS.c", 3256; spr_pattern(PLAYER_CROUCH_ATTACK_2_VRAM_ADR);
15409                        		__ld.wi		10240
         02:CE6C  62         			cla
         02:CE6D  A0 28      			ldy.h	#10240
15410                        		__call		_spr_pattern.1
         02:CE6F  20 3A E8   			call	_spr_pattern.1
15411                        	
15412                        		.dbg	line,	"include\routines_LEVELS.c", 3258; spr_set(weapon_id);
15413                        		__ld.umq	_weapon_id
         02:CE72  AD 26 23   			lda	_weapon_id
15414                        		__call		_spr_set.1
         02:CE75  20 F1 E7   			call	_spr_set.1
15415                        	
15416                        		.dbg	line,	"include\routines_LEVELS.c", 3259; spr_pattern(WEAPON_ATTACK_2_VRAM_ADRESS);
15417                        		__ld.wi		32064
         02:CE78  A9 40      			lda.l	#32064
         02:CE7A  A0 7D      			ldy.h	#32064
15418                        		__call		_spr_pattern.1
         02:CE7C  20 3A E8   			call	_spr_pattern.1
15419                        	
15420                        		.dbg	line,	"include\routines_LEVELS.c", 3261; if(player_axis == AXIS_RIGHT)
15421                        		__not.um	_player_axis
         02:CE7F  AD 19 23   			lda	_player_axis
         02:CE82  18         			clc
         02:CE83  D0 01      			bne	!+
         02:CE85  38         			sec
         02:CE86             	!:
15422                        		__bfalse	.LL785
         02:CE86  90 11      			bcc	.LL785
15423                        	
15424                        		.dbg	line,	"include\routines_LEVELS.c", 3262; {
15425                        	
15426                        		.dbg	line,	"include\routines_LEVELS.c", 3263; spr_x(player_pos_x+32);
15427                        		__ld.wm		_player_pos_x
         02:CE88  AD F5 24   			lda.l	_player_pos_x
         02:CE8B  AC F6 24   			ldy.h	_player_pos_x
15428                        		__add.wi	32
         02:CE8E  18         			clc
         02:CE8F  69 20      			adc.l	#32
         02:CE91  90 01      			bcc	!+
         02:CE93  C8         			iny
         02:CE94             	!:
15429                        		__call		_spr_x.1
         02:CE94  20 1E E8   			call	_spr_x.1
15430                        	
15431                        		.dbg	line,	"include\routines_LEVELS.c", 3264; 
15432                        	
15433                        		.dbg	line,	"include\routines_LEVELS.c", 3265; }
15434                        	
15435                        		.dbg	line,	"include\routines_LEVELS.c", 3266; 
15436                        	
15437                        		.dbg	line,	"include\routines_LEVELS.c", 3267; else
15438                        		__bra		.LL786
         02:CE97  80 0F      			bra	.LL786
15439    02:CE99             	.LL785:
15440                        	
15441                        		.dbg	line,	"include\routines_LEVELS.c", 3268; {
15442                        	
15443                        		.dbg	line,	"include\routines_LEVELS.c", 3269; spr_x(player_pos_x-16);
15444                        		__ld.wm		_player_pos_x
         02:CE99  AD F5 24   			lda.l	_player_pos_x
         02:CE9C  AC F6 24   			ldy.h	_player_pos_x
15445                        		__sub.wi	16
         02:CE9F  38         			sec
         02:CEA0  E9 10      			sbc.l	#16
         02:CEA2  B0 01      			bcs	!+
         02:CEA4  88         			dey
         02:CEA5             	!:
15446                        		__call		_spr_x.1
         02:CEA5  20 1E E8   			call	_spr_x.1
15447                        	
15448                        		.dbg	line,	"include\routines_LEVELS.c", 3270; }
15449    02:CEA8             	.LL786:
15450                        	
15451                        		.dbg	line,	"include\routines_LEVELS.c", 3272; weapon_y_offset = 14;
15452                        		__st.umiq	14, _weapon_y_offset
         02:CEA8  A9 0E      			lda.l	#14
         02:CEAA  8D 8D 26   			sta	_weapon_y_offset
15453                        	
15454                        		.dbg	line,	"include\routines_LEVELS.c", 3274; collision_WEAPON_OBJECTS();
15455                        		__call		_collision_WEAPON_OBJECTS
         02:CEAD  20 09 FF   			call	_collision_WEAPON_OBJECTS
15456                        	
15457                        		.dbg	line,	"include\routines_LEVELS.c", 3275; }
15458                        	
15459                        		.dbg	line,	"include\routines_LEVELS.c", 3277; else if(player_counter_attack == 7)
15460                        		__bra		.LL787
         02:CEB0  4C 05 D0   			bra	.LL787
15461    02:CEB3             	.LL784:
15462                        		__ld.umq	_player_counter_attack
         02:CEB3  AD 1E 23   			lda	_player_counter_attack
15463                        		__equ_b.uiq	7
         02:CEB6  C9 07      			cmp	#7
         02:CEB8  F0 01      			beq	!+
         02:CEBA  18         			clc
         02:CEBB             	!:
15464                        		__bfalse	.LL788
         02:CEBB  90 64      			bcc	.LL788
15465                        	
15466                        		.dbg	line,	"include\routines_LEVELS.c", 3278; {
15467                        	
15468                        		.dbg	line,	"include\routines_LEVELS.c", 3279; list_chain_active[0] = TRUE;
15469                        		__st.umiq	1, _list_chain_active
         02:CEBD  A9 01      			lda.l	#1
         02:CEBF  8D 2A 23   			sta	_list_chain_active
15470                        	
15471                        		.dbg	line,	"include\routines_LEVELS.c", 3280; spr_set(chain_id);
15472                        		__ld.umq	_chain_id
         02:CEC2  AD 25 23   			lda	_chain_id
15473                        		__call		_spr_set.1
         02:CEC5  20 F1 E7   			call	_spr_set.1
15474                        	
15475                        		.dbg	line,	"include\routines_LEVELS.c", 3282; if(player_axis == AXIS_RIGHT)
15476                        		__not.um	_player_axis
         02:CEC8  AD 19 23   			lda	_player_axis
         02:CECB  18         			clc
         02:CECC  D0 01      			bne	!+
         02:CECE  38         			sec
         02:CECF             	!:
15477                        		__bfalse	.LL789
         02:CECF  90 26      			bcc	.LL789
15478                        	
15479                        		.dbg	line,	"include\routines_LEVELS.c", 3283; {
15480                        	
15481                        		.dbg	line,	"include\routines_LEVELS.c", 3284; spr_x(player_pos_x+32);
15482                        		__ld.wm		_player_pos_x
         02:CED1  AD F5 24   			lda.l	_player_pos_x
         02:CED4  AC F6 24   			ldy.h	_player_pos_x
15483                        		__add.wi	32
         02:CED7  18         			clc
         02:CED8  69 20      			adc.l	#32
         02:CEDA  90 01      			bcc	!+
         02:CEDC  C8         			iny
         02:CEDD             	!:
15484                        		__call		_spr_x.1
         02:CEDD  20 1E E8   			call	_spr_x.1
15485                        	
15486                        		.dbg	line,	"include\routines_LEVELS.c", 3286; spr_set(weapon_id);
15487                        		__ld.umq	_weapon_id
         02:CEE0  AD 26 23   			lda	_weapon_id
15488                        		__call		_spr_set.1
         02:CEE3  20 F1 E7   			call	_spr_set.1
15489                        	
15490                        		.dbg	line,	"include\routines_LEVELS.c", 3287; spr_x(player_pos_x+48);
15491                        		__ld.wm		_player_pos_x
         02:CEE6  AD F5 24   			lda.l	_player_pos_x
         02:CEE9  AC F6 24   			ldy.h	_player_pos_x
15492                        		__add.wi	48
         02:CEEC  18         			clc
         02:CEED  69 30      			adc.l	#48
         02:CEEF  90 01      			bcc	!+
         02:CEF1  C8         			iny
         02:CEF2             	!:
15493                        		__call		_spr_x.1
         02:CEF2  20 1E E8   			call	_spr_x.1
15494                        	
15495                        		.dbg	line,	"include\routines_LEVELS.c", 3288; }
15496                        	
15497                        		.dbg	line,	"include\routines_LEVELS.c", 3289; 
15498                        	
15499                        		.dbg	line,	"include\routines_LEVELS.c", 3290; else
15500                        		__bra		.LL790
         02:CEF5  80 24      			bra	.LL790
15501    02:CEF7             	.LL789:
15502                        	
15503                        		.dbg	line,	"include\routines_LEVELS.c", 3291; {
15504                        	
15505                        		.dbg	line,	"include\routines_LEVELS.c", 3292; spr_x(player_pos_x-16);
15506                        		__ld.wm		_player_pos_x
         02:CEF7  AD F5 24   			lda.l	_player_pos_x
         02:CEFA  AC F6 24   			ldy.h	_player_pos_x
15507                        		__sub.wi	16
         02:CEFD  38         			sec
         02:CEFE  E9 10      			sbc.l	#16
         02:CF00  B0 01      			bcs	!+
         02:CF02  88         			dey
         02:CF03             	!:
15508                        		__call		_spr_x.1
         02:CF03  20 1E E8   			call	_spr_x.1
15509                        	
15510                        		.dbg	line,	"include\routines_LEVELS.c", 3294; spr_set(weapon_id);
15511                        		__ld.umq	_weapon_id
         02:CF06  AD 26 23   			lda	_weapon_id
15512                        		__call		_spr_set.1
         02:CF09  20 F1 E7   			call	_spr_set.1
15513                        	
15514                        		.dbg	line,	"include\routines_LEVELS.c", 3295; spr_x(player_pos_x-32);
15515                        		__ld.wm		_player_pos_x
         02:CF0C  AD F5 24   			lda.l	_player_pos_x
         02:CF0F  AC F6 24   			ldy.h	_player_pos_x
15516                        		__sub.wi	32
         02:CF12  38         			sec
         02:CF13  E9 20      			sbc.l	#32
         02:CF15  B0 01      			bcs	!+
         02:CF17  88         			dey
         02:CF18             	!:
15517                        		__call		_spr_x.1
         02:CF18  20 1E E8   			call	_spr_x.1
15518                        	
15519                        		.dbg	line,	"include\routines_LEVELS.c", 3296; }
15520    02:CF1B             	.LL790:
15521                        	
15522                        		.dbg	line,	"include\routines_LEVELS.c", 3298; collision_WEAPON_OBJECTS();
15523                        		__call		_collision_WEAPON_OBJECTS
         02:CF1B  20 09 FF   			call	_collision_WEAPON_OBJECTS
15524                        	
15525                        		.dbg	line,	"include\routines_LEVELS.c", 3299; }
15526                        	
15527                        		.dbg	line,	"include\routines_LEVELS.c", 3301; else if(player_counter_attack == 8)
15528                        		__bra		.LL791
         02:CF1E  4C 05 D0   			bra	.LL791
15529    02:CF21             	.LL788:
15530                        		__ld.umq	_player_counter_attack
         02:CF21  AD 1E 23   			lda	_player_counter_attack
15531                        		__equ_b.uiq	8
         02:CF24  C9 08      			cmp	#8
         02:CF26  F0 01      			beq	!+
         02:CF28  18         			clc
         02:CF29             	!:
15532                        		__bfalse	.LL792
         02:CF29  90 68      			bcc	.LL792
15533                        	
15534                        		.dbg	line,	"include\routines_LEVELS.c", 3302; {
15535                        	
15536                        		.dbg	line,	"include\routines_LEVELS.c", 3303; list_chain_active[1] = TRUE;
15537                        		__st.umiq	1, _list_chain_active + 1
         02:CF2B  A9 01      			lda.l	#1
         02:CF2D  8D 2B 23   			sta	_list_chain_active + 1
15538                        	
15539                        		.dbg	line,	"include\routines_LEVELS.c", 3304; spr_set(chain_id+1);
15540                        		__ld.um		_chain_id
         02:CF30  AD 25 23   			lda	_chain_id
         02:CF33  C2         			cly
15541                        		__add.wi	1
         02:CF34  1A         			inc	a
         02:CF35  D0 01      			bne	!+
         02:CF37  C8         			iny
         02:CF38             	!:
15542                        		__call		_spr_set.1
         02:CF38  20 F1 E7   			call	_spr_set.1
15543                        	
15544                        		.dbg	line,	"include\routines_LEVELS.c", 3306; if(player_axis == AXIS_RIGHT)
15545                        		__not.um	_player_axis
         02:CF3B  AD 19 23   			lda	_player_axis
         02:CF3E  18         			clc
         02:CF3F  D0 01      			bne	!+
         02:CF41  38         			sec
         02:CF42             	!:
15546                        		__bfalse	.LL793
         02:CF42  90 26      			bcc	.LL793
15547                        	
15548                        		.dbg	line,	"include\routines_LEVELS.c", 3307; {
15549                        	
15550                        		.dbg	line,	"include\routines_LEVELS.c", 3308; spr_x(player_pos_x+48);
15551                        		__ld.wm		_player_pos_x
         02:CF44  AD F5 24   			lda.l	_player_pos_x
         02:CF47  AC F6 24   			ldy.h	_player_pos_x
15552                        		__add.wi	48
         02:CF4A  18         			clc
         02:CF4B  69 30      			adc.l	#48
         02:CF4D  90 01      			bcc	!+
         02:CF4F  C8         			iny
         02:CF50             	!:
15553                        		__call		_spr_x.1
         02:CF50  20 1E E8   			call	_spr_x.1
15554                        	
15555                        		.dbg	line,	"include\routines_LEVELS.c", 3310; spr_set(weapon_id);
15556                        		__ld.umq	_weapon_id
         02:CF53  AD 26 23   			lda	_weapon_id
15557                        		__call		_spr_set.1
         02:CF56  20 F1 E7   			call	_spr_set.1
15558                        	
15559                        		.dbg	line,	"include\routines_LEVELS.c", 3311; spr_x(player_pos_x+64);
15560                        		__ld.wm		_player_pos_x
         02:CF59  AD F5 24   			lda.l	_player_pos_x
         02:CF5C  AC F6 24   			ldy.h	_player_pos_x
15561                        		__add.wi	64
         02:CF5F  18         			clc
         02:CF60  69 40      			adc.l	#64
         02:CF62  90 01      			bcc	!+
         02:CF64  C8         			iny
         02:CF65             	!:
15562                        		__call		_spr_x.1
         02:CF65  20 1E E8   			call	_spr_x.1
15563                        	
15564                        		.dbg	line,	"include\routines_LEVELS.c", 3312; }
15565                        	
15566                        		.dbg	line,	"include\routines_LEVELS.c", 3313; 
15567                        	
15568                        		.dbg	line,	"include\routines_LEVELS.c", 3314; else
15569                        		__bra		.LL794
         02:CF68  80 24      			bra	.LL794
15570    02:CF6A             	.LL793:
15571                        	
15572                        		.dbg	line,	"include\routines_LEVELS.c", 3315; {
15573                        	
15574                        		.dbg	line,	"include\routines_LEVELS.c", 3316; spr_x(player_pos_x-32);
15575                        		__ld.wm		_player_pos_x
         02:CF6A  AD F5 24   			lda.l	_player_pos_x
         02:CF6D  AC F6 24   			ldy.h	_player_pos_x
15576                        		__sub.wi	32
         02:CF70  38         			sec
         02:CF71  E9 20      			sbc.l	#32
         02:CF73  B0 01      			bcs	!+
         02:CF75  88         			dey
         02:CF76             	!:
15577                        		__call		_spr_x.1
         02:CF76  20 1E E8   			call	_spr_x.1
15578                        	
15579                        		.dbg	line,	"include\routines_LEVELS.c", 3318; spr_set(weapon_id);
15580                        		__ld.umq	_weapon_id
         02:CF79  AD 26 23   			lda	_weapon_id
15581                        		__call		_spr_set.1
         02:CF7C  20 F1 E7   			call	_spr_set.1
15582                        	
15583                        		.dbg	line,	"include\routines_LEVELS.c", 3319; spr_x(player_pos_x-48);
15584                        		__ld.wm		_player_pos_x
         02:CF7F  AD F5 24   			lda.l	_player_pos_x
         02:CF82  AC F6 24   			ldy.h	_player_pos_x
15585                        		__sub.wi	48
         02:CF85  38         			sec
         02:CF86  E9 30      			sbc.l	#48
         02:CF88  B0 01      			bcs	!+
         02:CF8A  88         			dey
         02:CF8B             	!:
15586                        		__call		_spr_x.1
         02:CF8B  20 1E E8   			call	_spr_x.1
15587                        	
15588                        		.dbg	line,	"include\routines_LEVELS.c", 3320; }
15589    02:CF8E             	.LL794:
15590                        	
15591                        		.dbg	line,	"include\routines_LEVELS.c", 3322; collision_WEAPON_OBJECTS();
15592                        		__call		_collision_WEAPON_OBJECTS
         02:CF8E  20 09 FF   			call	_collision_WEAPON_OBJECTS
15593                        	
15594                        		.dbg	line,	"include\routines_LEVELS.c", 3323; }
15595                        	
15596                        		.dbg	line,	"include\routines_LEVELS.c", 3325; else if(player_counter_attack == 9)
15597                        		__bra		.LL795
         02:CF91  80 72      			bra	.LL795
15598    02:CF93             	.LL792:
15599                        		__ld.umq	_player_counter_attack
         02:CF93  AD 1E 23   			lda	_player_counter_attack
15600                        		__equ_b.uiq	9
         02:CF96  C9 09      			cmp	#9
         02:CF98  F0 01      			beq	!+
         02:CF9A  18         			clc
         02:CF9B             	!:
15601                        		__bfalse	.LL796
         02:CF9B  90 68      			bcc	.LL796
15602                        	
15603                        		.dbg	line,	"include\routines_LEVELS.c", 3326; {
15604                        	
15605                        		.dbg	line,	"include\routines_LEVELS.c", 3327; list_chain_active[2] = TRUE;
15606                        		__st.umiq	1, _list_chain_active + 2
         02:CF9D  A9 01      			lda.l	#1
         02:CF9F  8D 2C 23   			sta	_list_chain_active + 2
15607                        	
15608                        		.dbg	line,	"include\routines_LEVELS.c", 3328; spr_set(chain_id+2);
15609                        		__ld.um		_chain_id
         02:CFA2  AD 25 23   			lda	_chain_id
         02:CFA5  C2         			cly
15610                        		__add.wi	2
         02:CFA6  18         			clc
         02:CFA7  69 02      			adc.l	#2
         02:CFA9  90 01      			bcc	!+
         02:CFAB  C8         			iny
         02:CFAC             	!:
15611                        		__call		_spr_set.1
         02:CFAC  20 F1 E7   			call	_spr_set.1
15612                        	
15613                        		.dbg	line,	"include\routines_LEVELS.c", 3330; if(player_axis == AXIS_RIGHT)
15614                        		__not.um	_player_axis
         02:CFAF  AD 19 23   			lda	_player_axis
         02:CFB2  18         			clc
         02:CFB3  D0 01      			bne	!+
         02:CFB5  38         			sec
         02:CFB6             	!:
15615                        		__bfalse	.LL797
         02:CFB6  90 26      			bcc	.LL797
15616                        	
15617                        		.dbg	line,	"include\routines_LEVELS.c", 3331; {
15618                        	
15619                        		.dbg	line,	"include\routines_LEVELS.c", 3332; spr_x(player_pos_x+64);
15620                        		__ld.wm		_player_pos_x
         02:CFB8  AD F5 24   			lda.l	_player_pos_x
         02:CFBB  AC F6 24   			ldy.h	_player_pos_x
15621                        		__add.wi	64
         02:CFBE  18         			clc
         02:CFBF  69 40      			adc.l	#64
         02:CFC1  90 01      			bcc	!+
         02:CFC3  C8         			iny
         02:CFC4             	!:
15622                        		__call		_spr_x.1
         02:CFC4  20 1E E8   			call	_spr_x.1
15623                        	
15624                        		.dbg	line,	"include\routines_LEVELS.c", 3334; spr_set(weapon_id);
15625                        		__ld.umq	_weapon_id
         02:CFC7  AD 26 23   			lda	_weapon_id
15626                        		__call		_spr_set.1
         02:CFCA  20 F1 E7   			call	_spr_set.1
15627                        	
15628                        		.dbg	line,	"include\routines_LEVELS.c", 3335; spr_x(player_pos_x+80);
15629                        		__ld.wm		_player_pos_x
         02:CFCD  AD F5 24   			lda.l	_player_pos_x
         02:CFD0  AC F6 24   			ldy.h	_player_pos_x
15630                        		__add.wi	80
         02:CFD3  18         			clc
         02:CFD4  69 50      			adc.l	#80
         02:CFD6  90 01      			bcc	!+
         02:CFD8  C8         			iny
         02:CFD9             	!:
15631                        		__call		_spr_x.1
         02:CFD9  20 1E E8   			call	_spr_x.1
15632                        	
15633                        		.dbg	line,	"include\routines_LEVELS.c", 3336; }
15634                        	
15635                        		.dbg	line,	"include\routines_LEVELS.c", 3337; 
15636                        	
15637                        		.dbg	line,	"include\routines_LEVELS.c", 3338; else
15638                        		__bra		.LL798
         02:CFDC  80 24      			bra	.LL798
15639    02:CFDE             	.LL797:
15640                        	
15641                        		.dbg	line,	"include\routines_LEVELS.c", 3339; {
15642                        	
15643                        		.dbg	line,	"include\routines_LEVELS.c", 3340; spr_x(player_pos_x-48);
15644                        		__ld.wm		_player_pos_x
         02:CFDE  AD F5 24   			lda.l	_player_pos_x
         02:CFE1  AC F6 24   			ldy.h	_player_pos_x
15645                        		__sub.wi	48
         02:CFE4  38         			sec
         02:CFE5  E9 30      			sbc.l	#48
         02:CFE7  B0 01      			bcs	!+
         02:CFE9  88         			dey
         02:CFEA             	!:
15646                        		__call		_spr_x.1
         02:CFEA  20 1E E8   			call	_spr_x.1
15647                        	
15648                        		.dbg	line,	"include\routines_LEVELS.c", 3342; spr_set(weapon_id);
15649                        		__ld.umq	_weapon_id
         02:CFED  AD 26 23   			lda	_weapon_id
15650                        		__call		_spr_set.1
         02:CFF0  20 F1 E7   			call	_spr_set.1
15651                        	
15652                        		.dbg	line,	"include\routines_LEVELS.c", 3343; spr_x(player_pos_x-64);
15653                        		__ld.wm		_player_pos_x
         02:CFF3  AD F5 24   			lda.l	_player_pos_x
         02:CFF6  AC F6 24   			ldy.h	_player_pos_x
15654                        		__sub.wi	64
         02:CFF9  38         			sec
         02:CFFA  E9 40      			sbc.l	#64
         02:CFFC  B0 01      			bcs	!+
         02:CFFE  88         			dey
         02:CFFF             	!:
15655                        		__call		_spr_x.1
         02:CFFF  20 1E E8   			call	_spr_x.1
15656                        	
15657                        		.dbg	line,	"include\routines_LEVELS.c", 3344; }
15658    02:D002             	.LL798:
15659                        	
15660                        		.dbg	line,	"include\routines_LEVELS.c", 3346; collision_WEAPON_OBJECTS();
15661                        		__call		_collision_WEAPON_OBJECTS
         02:D002  20 09 FF   			call	_collision_WEAPON_OBJECTS
15662                        	
15663                        		.dbg	line,	"include\routines_LEVELS.c", 3347; }
15664                        	
15665                        		.dbg	line,	"include\routines_LEVELS.c", 3349; //collision_WEAPON_OBJECTS();
15666                        	
15667                        		.dbg	line,	"include\routines_LEVELS.c", 3350; }
15668    02:D005             	.LL796:
15669    02:D005             	.LL795:
15670    02:D005             	.LL791:
15671    02:D005             	.LL787:
15672                        	
15673                        		.dbg	line,	"include\routines_LEVELS.c", 3353; player_counter_attack += 1;
15674    02:D005             	.LL783:
15675                        		__add_st.umiq	1, _player_counter_attack
         02:D005  EE 1E 23   			inc	_player_counter_attack
15676                        	
15677                        		.dbg	line,	"include\routines_LEVELS.c", 3356; // SET WEAPON Y POSITION //
15678                        	
15679                        		.dbg	line,	"include\routines_LEVELS.c", 3357; spr_set(weapon_id);
15680                        		__ld.umq	_weapon_id
         02:D008  AD 26 23   			lda	_weapon_id
15681                        		__call		_spr_set.1
         02:D00B  20 F1 E7   			call	_spr_set.1
15682                        	
15683                        		.dbg	line,	"include\routines_LEVELS.c", 3358; spr_y(player_pos_y + weapon_y_offset);
15684                        		__ld.bm		_weapon_y_offset
         02:D00E  AD 8D 26   			lda	_weapon_y_offset
         02:D011  C2         			cly
         02:D012  10 01      			bpl	!+
         02:D014  88         			dey
         02:D015             	!:
15685                        		__add.wm	_player_pos_y
         02:D015  18         			clc
         02:D016  6D F7 24   			adc.l	_player_pos_y
         02:D019  42         			say
         02:D01A  6D F8 24   			adc.h	_player_pos_y
         02:D01D  42         			say
15686                        		__call		_spr_y.1
         02:D01E  20 2D E8   			call	_spr_y.1
15687                        	
15688                        		.dbg	line,	"include\routines_LEVELS.c", 3361; // SET CHAIN Y POSITION //
15689                        	
15690                        		.dbg	line,	"include\routines_LEVELS.c", 3362; for(i=0 ; i<3 ; i++)
15691                        		__st.umiq	0, __update_WEAPON_end - 2  /* i */
         02:D021  9C 0D 23   			stz	__update_WEAPON_end - 2
15692    02:D024             	.LL799:
15693                        		__ld.umq	__update_WEAPON_end - 2  /* i */
         02:D024  AD 0D 23   			lda	__update_WEAPON_end - 2
15694                        		__ult_b.uiq	3
         02:D027  C9 03      			cmp	#3		; Subtract integer from A.
         02:D029  6A         			ror	a		; CC if A < integer.
         02:D02A  49 80      			eor	#$80
         02:D02C  2A         			rol	a
15695                        		__btrue		.LL801
         02:D02D  B0 08      			bcs	.LL801
15696                        		__bra		.LL802
         02:D02F  4C 34 D3   			bra	.LL802
15697    02:D032             	.LL800:
15698                        		__inc.umq	__update_WEAPON_end - 2  /* i */
         02:D032  EE 0D 23   			inc	__update_WEAPON_end - 2
15699                        		__bra		.LL799
         02:D035  80 ED      			bra	.LL799
15700    02:D037             	.LL801:
15701                        	
15702                        		.dbg	line,	"include\routines_LEVELS.c", 3363; {
15703                        	
15704                        		.dbg	line,	"include\routines_LEVELS.c", 3364; spr_set(chain_id+i);
15705                        		__ld.um		_chain_id
         02:D037  AD 25 23   			lda	_chain_id
         02:D03A  C2         			cly
15706                        		__add.um	__update_WEAPON_end - 2  /* i */
         02:D03B  18         			clc
         02:D03C  6D 0D 23   			adc	__update_WEAPON_end - 2
         02:D03F  90 01      			bcc	!+
         02:D041  C8         			iny
         02:D042             	!:
15707                        		__call		_spr_set.1
         02:D042  20 F1 E7   			call	_spr_set.1
15708                        	
15709                        		.dbg	line,	"include\routines_LEVELS.c", 3366; spr_y( ((player_pos_y + 24) * list_chain_active[i]) - 16); //list_chain_active[0] = TRUE;
15710                        		__ld.wm		_player_pos_y
         02:D045  AD F7 24   			lda.l	_player_pos_y
         02:D048  AC F8 24   			ldy.h	_player_pos_y
15711                        		__add.wi	24
         02:D04B  18         			clc
         02:D04C  69 18      			adc.l	#24
         02:D04E  90 01      			bcc	!+
         02:D050  C8         			iny
         02:D051             	!:
15712                        		__push.wr
         02:D051  5A         			phy
         02:D052  48         			pha
15713                        		__ldx.umq	__update_WEAPON_end - 2  /* i */
         02:D053  AE 0D 23   			ldx	__update_WEAPON_end - 2
15714                        		__ld.uax	_list_chain_active
         02:D056  BD 2A 23   			lda	_list_chain_active, x
         02:D059  C2         			cly
15715                        		__mul.wt
         02:D05A  85 00      			sta.l	<multiplier
         02:D05C  84 01      			sty.h	<multiplier
         02:D05E  68         			pla
         02:D05F  7A         			ply
         02:D060  20 60 E4   			jsr	__mulint
15716                        		__sub.wi	16
         02:D063  38         			sec
         02:D064  E9 10      			sbc.l	#16
         02:D066  B0 01      			bcs	!+
         02:D068  88         			dey
         02:D069             	!:
15717                        		__call		_spr_y.1
         02:D069  20 2D E8   			call	_spr_y.1
15718                        	
15719                        		.dbg	line,	"include\routines_LEVELS.c", 3367; }
15720                        		__bra		.LL800
         02:D06C  80 C4      			bra	.LL800
15721    02:D06E             	.LL802	.alias		.LL803
15722                        	
15723                        		.dbg	line,	"include\routines_LEVELS.c", 3368; }
15724                        	
15725                        		.dbg	line,	"include\routines_LEVELS.c", 3371; else if(player_state == STATE_HANG)
15726                        		__bra		.LL803
         02:D06E  4C 34 D3   			bra	.LL803
15727    02:D071             	.LL775:
15728                        		__ld.umq	_player_state
         02:D071  AD 18 23   			lda	_player_state
15729                        		__equ_b.uiq	10
         02:D074  C9 0A      			cmp	#10
         02:D076  F0 01      			beq	!+
         02:D078  18         			clc
         02:D079             	!:
15730                        		__bfalse	.LL804
         02:D079  B0 03 4C 34			bcc	.LL804
         02:D07D  D3          
15731                        	
15732                        		.dbg	line,	"include\routines_LEVELS.c", 3372; {
15733                        	
15734                        		.dbg	line,	"include\routines_LEVELS.c", 3373; if(player_attack == TRUE)
15735                        		__ld.umq	_player_attack
         02:D07E  AD 20 23   			lda	_player_attack
15736                        		__equ_b.uiq	1
         02:D081  C9 01      			cmp	#1
         02:D083  F0 01      			beq	!+
         02:D085  18         			clc
         02:D086             	!:
15737                        		__bfalse	.LL805
         02:D086  B0 03 4C 34			bcc	.LL805
         02:D08A  D3          
15738                        	
15739                        		.dbg	line,	"include\routines_LEVELS.c", 3374; {
15740                        	
15741                        		.dbg	line,	"include\routines_LEVELS.c", 3375; if(player_counter_attack == 0)
15742                        		__not.um	_player_counter_attack
         02:D08B  AD 1E 23   			lda	_player_counter_attack
         02:D08E  18         			clc
         02:D08F  D0 01      			bne	!+
         02:D091  38         			sec
         02:D092             	!:
15743                        		__bfalse	.LL806
         02:D092  90 53      			bcc	.LL806
15744                        	
15745                        		.dbg	line,	"include\routines_LEVELS.c", 3376; {
15746                        	
15747                        		.dbg	line,	"include\routines_LEVELS.c", 3377; spr_set(player_id);
15748                        		__ld.umq	_player_id
         02:D094  AD 17 23   			lda	_player_id
15749                        		__call		_spr_set.1
         02:D097  20 F1 E7   			call	_spr_set.1
15750                        	
15751                        		.dbg	line,	"include\routines_LEVELS.c", 3378; spr_pattern(PLAYER_HANG_ATTACK_1_VRAM_ADR);
15752                        		__ld.wi		11008
         02:D09A  62         			cla
         02:D09B  A0 2B      			ldy.h	#11008
15753                        		__call		_spr_pattern.1
         02:D09D  20 3A E8   			call	_spr_pattern.1
15754                        	
15755                        		.dbg	line,	"include\routines_LEVELS.c", 3380; spr_set(weapon_id);
15756                        		__ld.umq	_weapon_id
         02:D0A0  AD 26 23   			lda	_weapon_id
15757                        		__call		_spr_set.1
         02:D0A3  20 F1 E7   			call	_spr_set.1
15758                        	
15759                        		.dbg	line,	"include\routines_LEVELS.c", 3381; spr_pattern(WEAPON_ATTACK_1_VRAM_ADRESS);
15760                        		__ld.wi		32000
         02:D0A6  62         			cla
         02:D0A7  A0 7D      			ldy.h	#32000
15761                        		__call		_spr_pattern.1
         02:D0A9  20 3A E8   			call	_spr_pattern.1
15762                        	
15763                        		.dbg	line,	"include\routines_LEVELS.c", 3383; if(player_axis == AXIS_RIGHT)
15764                        		__not.um	_player_axis
         02:D0AC  AD 19 23   			lda	_player_axis
         02:D0AF  18         			clc
         02:D0B0  D0 01      			bne	!+
         02:D0B2  38         			sec
         02:D0B3             	!:
15765                        		__bfalse	.LL807
         02:D0B3  90 11      			bcc	.LL807
15766                        	
15767                        		.dbg	line,	"include\routines_LEVELS.c", 3384; {
15768                        	
15769                        		.dbg	line,	"include\routines_LEVELS.c", 3385; spr_x(player_pos_x-14);
15770                        		__ld.wm		_player_pos_x
         02:D0B5  AD F5 24   			lda.l	_player_pos_x
         02:D0B8  AC F6 24   			ldy.h	_player_pos_x
15771                        		__sub.wi	14
         02:D0BB  38         			sec
         02:D0BC  E9 0E      			sbc.l	#14
         02:D0BE  B0 01      			bcs	!+
         02:D0C0  88         			dey
         02:D0C1             	!:
15772                        		__call		_spr_x.1
         02:D0C1  20 1E E8   			call	_spr_x.1
15773                        	
15774                        		.dbg	line,	"include\routines_LEVELS.c", 3386; }
15775                        	
15776                        		.dbg	line,	"include\routines_LEVELS.c", 3388; else
15777                        		__bra		.LL808
         02:D0C4  80 0F      			bra	.LL808
15778    02:D0C6             	.LL807:
15779                        	
15780                        		.dbg	line,	"include\routines_LEVELS.c", 3389; {
15781                        	
15782                        		.dbg	line,	"include\routines_LEVELS.c", 3390; spr_x(player_pos_x+29);
15783                        		__ld.wm		_player_pos_x
         02:D0C6  AD F5 24   			lda.l	_player_pos_x
         02:D0C9  AC F6 24   			ldy.h	_player_pos_x
15784                        		__add.wi	29
         02:D0CC  18         			clc
         02:D0CD  69 1D      			adc.l	#29
         02:D0CF  90 01      			bcc	!+
         02:D0D1  C8         			iny
         02:D0D2             	!:
15785                        		__call		_spr_x.1
         02:D0D2  20 1E E8   			call	_spr_x.1
15786                        	
15787                        		.dbg	line,	"include\routines_LEVELS.c", 3391; }
15788    02:D0D5             	.LL808:
15789                        	
15790                        		.dbg	line,	"include\routines_LEVELS.c", 3393; spr_y(player_pos_y-8);
15791                        		__ld.wm		_player_pos_y
         02:D0D5  AD F7 24   			lda.l	_player_pos_y
         02:D0D8  AC F8 24   			ldy.h	_player_pos_y
15792                        		__sub.wi	8
         02:D0DB  38         			sec
         02:D0DC  E9 08      			sbc.l	#8
         02:D0DE  B0 01      			bcs	!+
         02:D0E0  88         			dey
         02:D0E1             	!:
15793                        		__call		_spr_y.1
         02:D0E1  20 2D E8   			call	_spr_y.1
15794                        	
15795                        		.dbg	line,	"include\routines_LEVELS.c", 3394; }
15796                        	
15797                        		.dbg	line,	"include\routines_LEVELS.c", 3396; else if(player_counter_attack == 6)
15798                        		__bra		.LL809
         02:D0E4  4C 31 D3   			bra	.LL809
15799    02:D0E7             	.LL806:
15800                        		__ld.umq	_player_counter_attack
         02:D0E7  AD 1E 23   			lda	_player_counter_attack
15801                        		__equ_b.uiq	6
         02:D0EA  C9 06      			cmp	#6
         02:D0EC  F0 01      			beq	!+
         02:D0EE  18         			clc
         02:D0EF             	!:
15802                        		__bfalse	.LL810
         02:D0EF  90 54      			bcc	.LL810
15803                        	
15804                        		.dbg	line,	"include\routines_LEVELS.c", 3397; {
15805                        	
15806                        		.dbg	line,	"include\routines_LEVELS.c", 3398; spr_set(player_id);
15807                        		__ld.umq	_player_id
         02:D0F1  AD 17 23   			lda	_player_id
15808                        		__call		_spr_set.1
         02:D0F4  20 F1 E7   			call	_spr_set.1
15809                        	
15810                        		.dbg	line,	"include\routines_LEVELS.c", 3399; spr_pattern(PLAYER_HANG_ATTACK_2_VRAM_ADR);
15811                        		__ld.wi		11264
         02:D0F7  62         			cla
         02:D0F8  A0 2C      			ldy.h	#11264
15812                        		__call		_spr_pattern.1
         02:D0FA  20 3A E8   			call	_spr_pattern.1
15813                        	
15814                        		.dbg	line,	"include\routines_LEVELS.c", 3401; spr_set(weapon_id);
15815                        		__ld.umq	_weapon_id
         02:D0FD  AD 26 23   			lda	_weapon_id
15816                        		__call		_spr_set.1
         02:D100  20 F1 E7   			call	_spr_set.1
15817                        	
15818                        		.dbg	line,	"include\routines_LEVELS.c", 3402; spr_pattern(WEAPON_ATTACK_2_VRAM_ADRESS);
15819                        		__ld.wi		32064
         02:D103  A9 40      			lda.l	#32064
         02:D105  A0 7D      			ldy.h	#32064
15820                        		__call		_spr_pattern.1
         02:D107  20 3A E8   			call	_spr_pattern.1
15821                        	
15822                        		.dbg	line,	"include\routines_LEVELS.c", 3404; if(player_axis == AXIS_RIGHT)
15823                        		__not.um	_player_axis
         02:D10A  AD 19 23   			lda	_player_axis
         02:D10D  18         			clc
         02:D10E  D0 01      			bne	!+
         02:D110  38         			sec
         02:D111             	!:
15824                        		__bfalse	.LL811
         02:D111  90 11      			bcc	.LL811
15825                        	
15826                        		.dbg	line,	"include\routines_LEVELS.c", 3405; {
15827                        	
15828                        		.dbg	line,	"include\routines_LEVELS.c", 3406; spr_x(player_pos_x+32);
15829                        		__ld.wm		_player_pos_x
         02:D113  AD F5 24   			lda.l	_player_pos_x
         02:D116  AC F6 24   			ldy.h	_player_pos_x
15830                        		__add.wi	32
         02:D119  18         			clc
         02:D11A  69 20      			adc.l	#32
         02:D11C  90 01      			bcc	!+
         02:D11E  C8         			iny
         02:D11F             	!:
15831                        		__call		_spr_x.1
         02:D11F  20 1E E8   			call	_spr_x.1
15832                        	
15833                        		.dbg	line,	"include\routines_LEVELS.c", 3407; 
15834                        	
15835                        		.dbg	line,	"include\routines_LEVELS.c", 3408; }
15836                        	
15837                        		.dbg	line,	"include\routines_LEVELS.c", 3409; 
15838                        	
15839                        		.dbg	line,	"include\routines_LEVELS.c", 3410; else
15840                        		__bra		.LL812
         02:D122  80 0F      			bra	.LL812
15841    02:D124             	.LL811:
15842                        	
15843                        		.dbg	line,	"include\routines_LEVELS.c", 3411; {
15844                        	
15845                        		.dbg	line,	"include\routines_LEVELS.c", 3412; spr_x(player_pos_x-16);
15846                        		__ld.wm		_player_pos_x
         02:D124  AD F5 24   			lda.l	_player_pos_x
         02:D127  AC F6 24   			ldy.h	_player_pos_x
15847                        		__sub.wi	16
         02:D12A  38         			sec
         02:D12B  E9 10      			sbc.l	#16
         02:D12D  B0 01      			bcs	!+
         02:D12F  88         			dey
         02:D130             	!:
15848                        		__call		_spr_x.1
         02:D130  20 1E E8   			call	_spr_x.1
15849                        	
15850                        		.dbg	line,	"include\routines_LEVELS.c", 3413; }
15851    02:D133             	.LL812:
15852                        	
15853                        		.dbg	line,	"include\routines_LEVELS.c", 3415; spr_y(player_pos_y+6);
15854                        		__ld.wm		_player_pos_y
         02:D133  AD F7 24   			lda.l	_player_pos_y
         02:D136  AC F8 24   			ldy.h	_player_pos_y
15855                        		__add.wi	6
         02:D139  18         			clc
         02:D13A  69 06      			adc.l	#6
         02:D13C  90 01      			bcc	!+
         02:D13E  C8         			iny
         02:D13F             	!:
15856                        		__call		_spr_y.1
         02:D13F  20 2D E8   			call	_spr_y.1
15857                        	
15858                        		.dbg	line,	"include\routines_LEVELS.c", 3416; }
15859                        	
15860                        		.dbg	line,	"include\routines_LEVELS.c", 3418; else if(player_counter_attack == 7)
15861                        		__bra		.LL813
         02:D142  4C 31 D3   			bra	.LL813
15862    02:D145             	.LL810:
15863                        		__ld.umq	_player_counter_attack
         02:D145  AD 1E 23   			lda	_player_counter_attack
15864                        		__equ_b.uiq	7
         02:D148  C9 07      			cmp	#7
         02:D14A  F0 01      			beq	!+
         02:D14C  18         			clc
         02:D14D             	!:
15865                        		__bfalse	.LL814
         02:D14D  90 66      			bcc	.LL814
15866                        	
15867                        		.dbg	line,	"include\routines_LEVELS.c", 3419; {
15868                        	
15869                        		.dbg	line,	"include\routines_LEVELS.c", 3420; spr_set(chain_id);
15870                        		__ld.umq	_chain_id
         02:D14F  AD 25 23   			lda	_chain_id
15871                        		__call		_spr_set.1
         02:D152  20 F1 E7   			call	_spr_set.1
15872                        	
15873                        		.dbg	line,	"include\routines_LEVELS.c", 3421; spr_y(player_pos_y);
15874                        		__ld.wm		_player_pos_y
         02:D155  AD F7 24   			lda.l	_player_pos_y
         02:D158  AC F8 24   			ldy.h	_player_pos_y
15875                        		__call		_spr_y.1
         02:D15B  20 2D E8   			call	_spr_y.1
15876                        	
15877                        		.dbg	line,	"include\routines_LEVELS.c", 3423; if(player_axis == AXIS_RIGHT)
15878                        		__not.um	_player_axis
         02:D15E  AD 19 23   			lda	_player_axis
         02:D161  18         			clc
         02:D162  D0 01      			bne	!+
         02:D164  38         			sec
         02:D165             	!:
15879                        		__bfalse	.LL815
         02:D165  90 27      			bcc	.LL815
15880                        	
15881                        		.dbg	line,	"include\routines_LEVELS.c", 3424; {
15882                        	
15883                        		.dbg	line,	"include\routines_LEVELS.c", 3425; spr_x(player_pos_x+32);
15884                        		__ld.wm		_player_pos_x
         02:D167  AD F5 24   			lda.l	_player_pos_x
         02:D16A  AC F6 24   			ldy.h	_player_pos_x
15885                        		__add.wi	32
         02:D16D  18         			clc
         02:D16E  69 20      			adc.l	#32
         02:D170  90 01      			bcc	!+
         02:D172  C8         			iny
         02:D173             	!:
15886                        		__call		_spr_x.1
         02:D173  20 1E E8   			call	_spr_x.1
15887                        	
15888                        		.dbg	line,	"include\routines_LEVELS.c", 3427; spr_set(weapon_id);
15889                        		__ld.umq	_weapon_id
         02:D176  AD 26 23   			lda	_weapon_id
15890                        		__call		_spr_set.1
         02:D179  20 F1 E7   			call	_spr_set.1
15891                        	
15892                        		.dbg	line,	"include\routines_LEVELS.c", 3428; spr_x(player_pos_x+48);
15893                        		__ld.wm		_player_pos_x
         02:D17C  AD F5 24   			lda.l	_player_pos_x
         02:D17F  AC F6 24   			ldy.h	_player_pos_x
15894                        		__add.wi	48
         02:D182  18         			clc
         02:D183  69 30      			adc.l	#48
         02:D185  90 01      			bcc	!+
         02:D187  C8         			iny
         02:D188             	!:
15895                        		__call		_spr_x.1
         02:D188  20 1E E8   			call	_spr_x.1
15896                        	
15897                        		.dbg	line,	"include\routines_LEVELS.c", 3429; }
15898                        	
15899                        		.dbg	line,	"include\routines_LEVELS.c", 3430; 
15900                        	
15901                        		.dbg	line,	"include\routines_LEVELS.c", 3431; else
15902                        		__bra		.LL816
         02:D18B  4C 31 D3   			bra	.LL816
15903    02:D18E             	.LL815:
15904                        	
15905                        		.dbg	line,	"include\routines_LEVELS.c", 3432; {
15906                        	
15907                        		.dbg	line,	"include\routines_LEVELS.c", 3433; spr_x(player_pos_x-16);
15908                        		__ld.wm		_player_pos_x
         02:D18E  AD F5 24   			lda.l	_player_pos_x
         02:D191  AC F6 24   			ldy.h	_player_pos_x
15909                        		__sub.wi	16
         02:D194  38         			sec
         02:D195  E9 10      			sbc.l	#16
         02:D197  B0 01      			bcs	!+
         02:D199  88         			dey
         02:D19A             	!:
15910                        		__call		_spr_x.1
         02:D19A  20 1E E8   			call	_spr_x.1
15911                        	
15912                        		.dbg	line,	"include\routines_LEVELS.c", 3435; spr_set(weapon_id);
15913                        		__ld.umq	_weapon_id
         02:D19D  AD 26 23   			lda	_weapon_id
15914                        		__call		_spr_set.1
         02:D1A0  20 F1 E7   			call	_spr_set.1
15915                        	
15916                        		.dbg	line,	"include\routines_LEVELS.c", 3436; spr_x(player_pos_x-32);
15917                        		__ld.wm		_player_pos_x
         02:D1A3  AD F5 24   			lda.l	_player_pos_x
         02:D1A6  AC F6 24   			ldy.h	_player_pos_x
15918                        		__sub.wi	32
         02:D1A9  38         			sec
         02:D1AA  E9 20      			sbc.l	#32
         02:D1AC  B0 01      			bcs	!+
         02:D1AE  88         			dey
         02:D1AF             	!:
15919                        		__call		_spr_x.1
         02:D1AF  20 1E E8   			call	_spr_x.1
15920                        	
15921                        		.dbg	line,	"include\routines_LEVELS.c", 3437; }
15922    02:D1B2             	.LL816	.alias		.LL817
15923                        	
15924                        		.dbg	line,	"include\routines_LEVELS.c", 3438; }
15925                        	
15926                        		.dbg	line,	"include\routines_LEVELS.c", 3440; else if(player_counter_attack == 8)
15927                        		__bra		.LL817
         02:D1B2  4C 31 D3   			bra	.LL817
15928    02:D1B5             	.LL814:
15929                        		__ld.umq	_player_counter_attack
         02:D1B5  AD 1E 23   			lda	_player_counter_attack
15930                        		__equ_b.uiq	8
         02:D1B8  C9 08      			cmp	#8
         02:D1BA  F0 01      			beq	!+
         02:D1BC  18         			clc
         02:D1BD             	!:
15931                        		__bfalse	.LL818
         02:D1BD  90 6B      			bcc	.LL818
15932                        	
15933                        		.dbg	line,	"include\routines_LEVELS.c", 3441; {
15934                        	
15935                        		.dbg	line,	"include\routines_LEVELS.c", 3442; spr_set(chain_id+1);
15936                        		__ld.um		_chain_id
         02:D1BF  AD 25 23   			lda	_chain_id
         02:D1C2  C2         			cly
15937                        		__add.wi	1
         02:D1C3  1A         			inc	a
         02:D1C4  D0 01      			bne	!+
         02:D1C6  C8         			iny
         02:D1C7             	!:
15938                        		__call		_spr_set.1
         02:D1C7  20 F1 E7   			call	_spr_set.1
15939                        	
15940                        		.dbg	line,	"include\routines_LEVELS.c", 3443; spr_y(player_pos_y);
15941                        		__ld.wm		_player_pos_y
         02:D1CA  AD F7 24   			lda.l	_player_pos_y
         02:D1CD  AC F8 24   			ldy.h	_player_pos_y
15942                        		__call		_spr_y.1
         02:D1D0  20 2D E8   			call	_spr_y.1
15943                        	
15944                        		.dbg	line,	"include\routines_LEVELS.c", 3445; if(player_axis == AXIS_RIGHT)
15945                        		__not.um	_player_axis
         02:D1D3  AD 19 23   			lda	_player_axis
         02:D1D6  18         			clc
         02:D1D7  D0 01      			bne	!+
         02:D1D9  38         			sec
         02:D1DA             	!:
15946                        		__bfalse	.LL819
         02:D1DA  90 27      			bcc	.LL819
15947                        	
15948                        		.dbg	line,	"include\routines_LEVELS.c", 3446; {
15949                        	
15950                        		.dbg	line,	"include\routines_LEVELS.c", 3447; spr_x(player_pos_x+48);
15951                        		__ld.wm		_player_pos_x
         02:D1DC  AD F5 24   			lda.l	_player_pos_x
         02:D1DF  AC F6 24   			ldy.h	_player_pos_x
15952                        		__add.wi	48
         02:D1E2  18         			clc
         02:D1E3  69 30      			adc.l	#48
         02:D1E5  90 01      			bcc	!+
         02:D1E7  C8         			iny
         02:D1E8             	!:
15953                        		__call		_spr_x.1
         02:D1E8  20 1E E8   			call	_spr_x.1
15954                        	
15955                        		.dbg	line,	"include\routines_LEVELS.c", 3449; spr_set(weapon_id);
15956                        		__ld.umq	_weapon_id
         02:D1EB  AD 26 23   			lda	_weapon_id
15957                        		__call		_spr_set.1
         02:D1EE  20 F1 E7   			call	_spr_set.1
15958                        	
15959                        		.dbg	line,	"include\routines_LEVELS.c", 3450; spr_x(player_pos_x+64);
15960                        		__ld.wm		_player_pos_x
         02:D1F1  AD F5 24   			lda.l	_player_pos_x
         02:D1F4  AC F6 24   			ldy.h	_player_pos_x
15961                        		__add.wi	64
         02:D1F7  18         			clc
         02:D1F8  69 40      			adc.l	#64
         02:D1FA  90 01      			bcc	!+
         02:D1FC  C8         			iny
         02:D1FD             	!:
15962                        		__call		_spr_x.1
         02:D1FD  20 1E E8   			call	_spr_x.1
15963                        	
15964                        		.dbg	line,	"include\routines_LEVELS.c", 3451; }
15965                        	
15966                        		.dbg	line,	"include\routines_LEVELS.c", 3452; 
15967                        	
15968                        		.dbg	line,	"include\routines_LEVELS.c", 3453; else
15969                        		__bra		.LL820
         02:D200  4C 31 D3   			bra	.LL820
15970    02:D203             	.LL819:
15971                        	
15972                        		.dbg	line,	"include\routines_LEVELS.c", 3454; {
15973                        	
15974                        		.dbg	line,	"include\routines_LEVELS.c", 3455; spr_x(player_pos_x-32);
15975                        		__ld.wm		_player_pos_x
         02:D203  AD F5 24   			lda.l	_player_pos_x
         02:D206  AC F6 24   			ldy.h	_player_pos_x
15976                        		__sub.wi	32
         02:D209  38         			sec
         02:D20A  E9 20      			sbc.l	#32
         02:D20C  B0 01      			bcs	!+
         02:D20E  88         			dey
         02:D20F             	!:
15977                        		__call		_spr_x.1
         02:D20F  20 1E E8   			call	_spr_x.1
15978                        	
15979                        		.dbg	line,	"include\routines_LEVELS.c", 3457; spr_set(weapon_id);
15980                        		__ld.umq	_weapon_id
         02:D212  AD 26 23   			lda	_weapon_id
15981                        		__call		_spr_set.1
         02:D215  20 F1 E7   			call	_spr_set.1
15982                        	
15983                        		.dbg	line,	"include\routines_LEVELS.c", 3458; spr_x(player_pos_x-48);
15984                        		__ld.wm		_player_pos_x
         02:D218  AD F5 24   			lda.l	_player_pos_x
         02:D21B  AC F6 24   			ldy.h	_player_pos_x
15985                        		__sub.wi	48
         02:D21E  38         			sec
         02:D21F  E9 30      			sbc.l	#48
         02:D221  B0 01      			bcs	!+
         02:D223  88         			dey
         02:D224             	!:
15986                        		__call		_spr_x.1
         02:D224  20 1E E8   			call	_spr_x.1
15987                        	
15988                        		.dbg	line,	"include\routines_LEVELS.c", 3459; }
15989    02:D227             	.LL820	.alias		.LL821
15990                        	
15991                        		.dbg	line,	"include\routines_LEVELS.c", 3460; }
15992                        	
15993                        		.dbg	line,	"include\routines_LEVELS.c", 3462; else if(player_counter_attack == 9)
15994                        		__bra		.LL821
         02:D227  4C 31 D3   			bra	.LL821
15995    02:D22A             	.LL818:
15996                        		__ld.umq	_player_counter_attack
         02:D22A  AD 1E 23   			lda	_player_counter_attack
15997                        		__equ_b.uiq	9
         02:D22D  C9 09      			cmp	#9
         02:D22F  F0 01      			beq	!+
         02:D231  18         			clc
         02:D232             	!:
15998                        		__bfalse	.LL822
         02:D232  90 6D      			bcc	.LL822
15999                        	
16000                        		.dbg	line,	"include\routines_LEVELS.c", 3463; {
16001                        	
16002                        		.dbg	line,	"include\routines_LEVELS.c", 3464; spr_set(chain_id+2);
16003                        		__ld.um		_chain_id
         02:D234  AD 25 23   			lda	_chain_id
         02:D237  C2         			cly
16004                        		__add.wi	2
         02:D238  18         			clc
         02:D239  69 02      			adc.l	#2
         02:D23B  90 01      			bcc	!+
         02:D23D  C8         			iny
         02:D23E             	!:
16005                        		__call		_spr_set.1
         02:D23E  20 F1 E7   			call	_spr_set.1
16006                        	
16007                        		.dbg	line,	"include\routines_LEVELS.c", 3465; spr_y(player_pos_y);
16008                        		__ld.wm		_player_pos_y
         02:D241  AD F7 24   			lda.l	_player_pos_y
         02:D244  AC F8 24   			ldy.h	_player_pos_y
16009                        		__call		_spr_y.1
         02:D247  20 2D E8   			call	_spr_y.1
16010                        	
16011                        		.dbg	line,	"include\routines_LEVELS.c", 3467; if(player_axis == AXIS_RIGHT)
16012                        		__not.um	_player_axis
         02:D24A  AD 19 23   			lda	_player_axis
         02:D24D  18         			clc
         02:D24E  D0 01      			bne	!+
         02:D250  38         			sec
         02:D251             	!:
16013                        		__bfalse	.LL823
         02:D251  90 27      			bcc	.LL823
16014                        	
16015                        		.dbg	line,	"include\routines_LEVELS.c", 3468; {
16016                        	
16017                        		.dbg	line,	"include\routines_LEVELS.c", 3469; spr_x(player_pos_x+64);
16018                        		__ld.wm		_player_pos_x
         02:D253  AD F5 24   			lda.l	_player_pos_x
         02:D256  AC F6 24   			ldy.h	_player_pos_x
16019                        		__add.wi	64
         02:D259  18         			clc
         02:D25A  69 40      			adc.l	#64
         02:D25C  90 01      			bcc	!+
         02:D25E  C8         			iny
         02:D25F             	!:
16020                        		__call		_spr_x.1
         02:D25F  20 1E E8   			call	_spr_x.1
16021                        	
16022                        		.dbg	line,	"include\routines_LEVELS.c", 3471; spr_set(weapon_id);
16023                        		__ld.umq	_weapon_id
         02:D262  AD 26 23   			lda	_weapon_id
16024                        		__call		_spr_set.1
         02:D265  20 F1 E7   			call	_spr_set.1
16025                        	
16026                        		.dbg	line,	"include\routines_LEVELS.c", 3472; spr_x(player_pos_x+80);
16027                        		__ld.wm		_player_pos_x
         02:D268  AD F5 24   			lda.l	_player_pos_x
         02:D26B  AC F6 24   			ldy.h	_player_pos_x
16028                        		__add.wi	80
         02:D26E  18         			clc
         02:D26F  69 50      			adc.l	#80
         02:D271  90 01      			bcc	!+
         02:D273  C8         			iny
         02:D274             	!:
16029                        		__call		_spr_x.1
         02:D274  20 1E E8   			call	_spr_x.1
16030                        	
16031                        		.dbg	line,	"include\routines_LEVELS.c", 3473; }
16032                        	
16033                        		.dbg	line,	"include\routines_LEVELS.c", 3474; 
16034                        	
16035                        		.dbg	line,	"include\routines_LEVELS.c", 3475; else
16036                        		__bra		.LL824
         02:D277  4C 31 D3   			bra	.LL824
16037    02:D27A             	.LL823:
16038                        	
16039                        		.dbg	line,	"include\routines_LEVELS.c", 3476; {
16040                        	
16041                        		.dbg	line,	"include\routines_LEVELS.c", 3477; spr_x(player_pos_x-48);
16042                        		__ld.wm		_player_pos_x
         02:D27A  AD F5 24   			lda.l	_player_pos_x
         02:D27D  AC F6 24   			ldy.h	_player_pos_x
16043                        		__sub.wi	48
         02:D280  38         			sec
         02:D281  E9 30      			sbc.l	#48
         02:D283  B0 01      			bcs	!+
         02:D285  88         			dey
         02:D286             	!:
16044                        		__call		_spr_x.1
         02:D286  20 1E E8   			call	_spr_x.1
16045                        	
16046                        		.dbg	line,	"include\routines_LEVELS.c", 3479; spr_set(weapon_id);
16047                        		__ld.umq	_weapon_id
         02:D289  AD 26 23   			lda	_weapon_id
16048                        		__call		_spr_set.1
         02:D28C  20 F1 E7   			call	_spr_set.1
16049                        	
16050                        		.dbg	line,	"include\routines_LEVELS.c", 3480; spr_x(player_pos_x-64);
16051                        		__ld.wm		_player_pos_x
         02:D28F  AD F5 24   			lda.l	_player_pos_x
         02:D292  AC F6 24   			ldy.h	_player_pos_x
16052                        		__sub.wi	64
         02:D295  38         			sec
         02:D296  E9 40      			sbc.l	#64
         02:D298  B0 01      			bcs	!+
         02:D29A  88         			dey
         02:D29B             	!:
16053                        		__call		_spr_x.1
         02:D29B  20 1E E8   			call	_spr_x.1
16054                        	
16055                        		.dbg	line,	"include\routines_LEVELS.c", 3481; }
16056    02:D29E             	.LL824	.alias		.LL825
16057                        	
16058                        		.dbg	line,	"include\routines_LEVELS.c", 3482; }
16059                        	
16060                        		.dbg	line,	"include\routines_LEVELS.c", 3484; else if(player_counter_attack == 23)
16061                        		__bra		.LL825
         02:D29E  4C 31 D3   			bra	.LL825
16062    02:D2A1             	.LL822:
16063                        		__ld.umq	_player_counter_attack
         02:D2A1  AD 1E 23   			lda	_player_counter_attack
16064                        		__equ_b.uiq	23
         02:D2A4  C9 17      			cmp	#23
         02:D2A6  F0 01      			beq	!+
         02:D2A8  18         			clc
         02:D2A9             	!:
16065                        		__bfalse	.LL826
         02:D2A9  B0 03 4C 31			bcc	.LL826
         02:D2AD  D3          
16066                        	
16067                        		.dbg	line,	"include\routines_LEVELS.c", 3485; {
16068                        	
16069                        		.dbg	line,	"include\routines_LEVELS.c", 3486; spr_set(chain_id);
16070                        		__ld.umq	_chain_id
         02:D2AE  AD 25 23   			lda	_chain_id
16071                        		__call		_spr_set.1
         02:D2B1  20 F1 E7   			call	_spr_set.1
16072                        	
16073                        		.dbg	line,	"include\routines_LEVELS.c", 3487; spr_hide();
16074                        		__call		_spr_hide
         02:D2B4  20 0C E8   			call	_spr_hide
16075                        	
16076                        		.dbg	line,	"include\routines_LEVELS.c", 3489; spr_set(chain_id+1);
16077                        		__ld.um		_chain_id
         02:D2B7  AD 25 23   			lda	_chain_id
         02:D2BA  C2         			cly
16078                        		__add.wi	1
         02:D2BB  1A         			inc	a
         02:D2BC  D0 01      			bne	!+
         02:D2BE  C8         			iny
         02:D2BF             	!:
16079                        		__call		_spr_set.1
         02:D2BF  20 F1 E7   			call	_spr_set.1
16080                        	
16081                        		.dbg	line,	"include\routines_LEVELS.c", 3490; spr_hide();
16082                        		__call		_spr_hide
         02:D2C2  20 0C E8   			call	_spr_hide
16083                        	
16084                        		.dbg	line,	"include\routines_LEVELS.c", 3492; spr_set(chain_id+2);
16085                        		__ld.um		_chain_id
         02:D2C5  AD 25 23   			lda	_chain_id
         02:D2C8  C2         			cly
16086                        		__add.wi	2
         02:D2C9  18         			clc
         02:D2CA  69 02      			adc.l	#2
         02:D2CC  90 01      			bcc	!+
         02:D2CE  C8         			iny
         02:D2CF             	!:
16087                        		__call		_spr_set.1
         02:D2CF  20 F1 E7   			call	_spr_set.1
16088                        	
16089                        		.dbg	line,	"include\routines_LEVELS.c", 3493; spr_hide();
16090                        		__call		_spr_hide
         02:D2D2  20 0C E8   			call	_spr_hide
16091                        	
16092                        		.dbg	line,	"include\routines_LEVELS.c", 3495; spr_set(player_id);
16093                        		__ld.umq	_player_id
         02:D2D5  AD 17 23   			lda	_player_id
16094                        		__call		_spr_set.1
         02:D2D8  20 F1 E7   			call	_spr_set.1
16095                        	
16096                        		.dbg	line,	"include\routines_LEVELS.c", 3496; spr_pattern(PLAYER_HANG_VRAM_ADR);
16097                        		__ld.wi		7424
         02:D2DB  62         			cla
         02:D2DC  A0 1D      			ldy.h	#7424
16098                        		__call		_spr_pattern.1
         02:D2DE  20 3A E8   			call	_spr_pattern.1
16099                        	
16100                        		.dbg	line,	"include\routines_LEVELS.c", 3498; spr_set(weapon_id);
16101                        		__ld.umq	_weapon_id
         02:D2E1  AD 26 23   			lda	_weapon_id
16102                        		__call		_spr_set.1
         02:D2E4  20 F1 E7   			call	_spr_set.1
16103                        	
16104                        		.dbg	line,	"include\routines_LEVELS.c", 3499; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
16105                        		__ld.wi		31808
         02:D2E7  A9 40      			lda.l	#31808
         02:D2E9  A0 7C      			ldy.h	#31808
16106                        		__call		_spr_pattern.1
         02:D2EB  20 3A E8   			call	_spr_pattern.1
16107                        	
16108                        		.dbg	line,	"include\routines_LEVELS.c", 3500; spr_y(player_pos_y+5);
16109                        		__ld.wm		_player_pos_y
         02:D2EE  AD F7 24   			lda.l	_player_pos_y
         02:D2F1  AC F8 24   			ldy.h	_player_pos_y
16110                        		__add.wi	5
         02:D2F4  18         			clc
         02:D2F5  69 05      			adc.l	#5
         02:D2F7  90 01      			bcc	!+
         02:D2F9  C8         			iny
         02:D2FA             	!:
16111                        		__call		_spr_y.1
         02:D2FA  20 2D E8   			call	_spr_y.1
16112                        	
16113                        		.dbg	line,	"include\routines_LEVELS.c", 3502; if(player_axis == AXIS_RIGHT)
16114                        		__not.um	_player_axis
         02:D2FD  AD 19 23   			lda	_player_axis
         02:D300  18         			clc
         02:D301  D0 01      			bne	!+
         02:D303  38         			sec
         02:D304             	!:
16115                        		__bfalse	.LL827
         02:D304  90 11      			bcc	.LL827
16116                        	
16117                        		.dbg	line,	"include\routines_LEVELS.c", 3503; {
16118                        	
16119                        		.dbg	line,	"include\routines_LEVELS.c", 3504; spr_x(player_pos_x+17);
16120                        		__ld.wm		_player_pos_x
         02:D306  AD F5 24   			lda.l	_player_pos_x
         02:D309  AC F6 24   			ldy.h	_player_pos_x
16121                        		__add.wi	17
         02:D30C  18         			clc
         02:D30D  69 11      			adc.l	#17
         02:D30F  90 01      			bcc	!+
         02:D311  C8         			iny
         02:D312             	!:
16122                        		__call		_spr_x.1
         02:D312  20 1E E8   			call	_spr_x.1
16123                        	
16124                        		.dbg	line,	"include\routines_LEVELS.c", 3505; }
16125                        	
16126                        		.dbg	line,	"include\routines_LEVELS.c", 3507; else
16127                        		__bra		.LL828
         02:D315  80 0F      			bra	.LL828
16128    02:D317             	.LL827:
16129                        	
16130                        		.dbg	line,	"include\routines_LEVELS.c", 3508; {
16131                        	
16132                        		.dbg	line,	"include\routines_LEVELS.c", 3509; spr_x(player_pos_x-2);
16133                        		__ld.wm		_player_pos_x
         02:D317  AD F5 24   			lda.l	_player_pos_x
         02:D31A  AC F6 24   			ldy.h	_player_pos_x
16134                        		__sub.wi	2
         02:D31D  38         			sec
         02:D31E  E9 02      			sbc.l	#2
         02:D320  B0 01      			bcs	!+
         02:D322  88         			dey
         02:D323             	!:
16135                        		__call		_spr_x.1
         02:D323  20 1E E8   			call	_spr_x.1
16136                        	
16137                        		.dbg	line,	"include\routines_LEVELS.c", 3510; }
16138    02:D326             	.LL828:
16139                        	
16140                        		.dbg	line,	"include\routines_LEVELS.c", 3512; player_attack = FALSE;
16141                        		__st.umiq	0, _player_attack
         02:D326  9C 20 23   			stz	_player_attack
16142                        	
16143                        		.dbg	line,	"include\routines_LEVELS.c", 3513; player_counter_attack = 0;
16144                        		__st.umiq	0, _player_counter_attack
         02:D329  9C 1E 23   			stz	_player_counter_attack
16145                        	
16146                        		.dbg	line,	"include\routines_LEVELS.c", 3514; player_state = STATE_HANG;
16147                        		__st.umiq	10, _player_state
         02:D32C  A9 0A      			lda.l	#10
         02:D32E  8D 18 23   			sta	_player_state
16148                        	
16149                        		.dbg	line,	"include\routines_LEVELS.c", 3515; }
16150                        	
16151                        		.dbg	line,	"include\routines_LEVELS.c", 3518; player_counter_attack += 1;
16152    02:D331             	.LL826:
16153    02:D331             	.LL825:
16154    02:D331             	.LL821:
16155    02:D331             	.LL817:
16156    02:D331             	.LL813:
16157    02:D331             	.LL809:
16158                        		__add_st.umiq	1, _player_counter_attack
         02:D331  EE 1E 23   			inc	_player_counter_attack
16159                        	
16160                        		.dbg	line,	"include\routines_LEVELS.c", 3519; } 
16161                        	
16162                        		.dbg	line,	"include\routines_LEVELS.c", 3520; }
16163    02:D334             	.LL805:
16164                        	
16165                        		.dbg	line,	"include\routines_LEVELS.c", 3521; }
16166    02:D334             	.LL804:
16167    02:D334             	.LL803:
16168    02:D334             	.LL774:
16169    02:D334             	.LL747:
16170                        		__return	0
         02:D334  4C EF FF   			jmp	leave_proc
16171                        		.dbg	clear
16172                        		.endp
16173               230D     		.bss
16174    F8:230D             			ds	2
16175    F8:230F             	__update_WEAPON_end:
16176               E31D     		.code
16177                        		.pceas
16178                        	
16179                        		.dbg	line,	"main.c", 27; #include "include/routines_SHOP.c"
16180                        		.dbg	line,	"include\routines_SHOP.c", 1; #include "huc.h"
16181                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
16182                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
16183                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
16184                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
16185                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
16186                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
16187                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
16188                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
16189                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
16190                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
16191                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
16192                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
16193                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
16194                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
16195                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
16196                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
16197                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
16198                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
16199                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
16200                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
16201                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
16202                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
16203                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
16204                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
16205                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
16206                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
16207                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
16208                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
16209                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
16210                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
16211                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
16212                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
16213                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
16214                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
16215                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
16216                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
16217                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
16218                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
16219                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
16220                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
16221                        		.dbg	line,	"include\routines_SHOP.c", 2; #include "hucc-scroll.h"
16222                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
16223                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
16224                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
16225                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
16226                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
16227                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
16228                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
16229                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
16230                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
16231                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
16232                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
16233                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
16234                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
16235                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
16236                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
16237                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
16238                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
16239                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
16240                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
16241                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
16242                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
16243                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
16244                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
16245                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
16246                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
16247                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
16248                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
16249                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
16250                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
16251                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
16252                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
16253                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
16254                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
16255                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
16256                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
16257                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
16258                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
16259                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
16260                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
16261                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
16262                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
16263                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
16264                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
16265                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
16266                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
16267                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
16268                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
16269                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
16270                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
16271                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
16272                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
16273                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
16274                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
16275                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
16276                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
16277                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
16278                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
16279                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
16280                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
16281                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
16282                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
16283                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
16284                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
16285                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
16286                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
16287                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
16288                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
16289                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
16290                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
16291                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
16292                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
16293                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
16294                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
16295                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
16296                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
16297                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
16298                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
16299                        		.dbg	line,	"include\routines_SHOP.c", 3; #include "hucc-chrmap.h"
16300                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
16301                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
16302                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
16303                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
16304                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
16305                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
16306                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
16307                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
16308                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
16309                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
16310                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
16311                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
16312                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
16313                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
16314                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
16315                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
16316                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
16317                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
16318                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
16319                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
16320                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
16321                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
16322                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
16323                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
16324                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
16325                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
16326                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
16327                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
16328                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
16329                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
16330                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
16331                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
16332                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
16333                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
16334                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
16335                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
16336                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
16337                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
16338                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
16339                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
16340                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
16341                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
16342                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
16343                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
16344                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
16345                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
16346                        		.dbg	line,	"include\routines_SHOP.c", 4; #include "hucc-blkmap.h"
16347                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
16348                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
16349                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
16350                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
16351                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
16352                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
16353                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
16354                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
16355                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
16356                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
16357                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
16358                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
16359                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
16360                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
16361                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
16362                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
16363                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
16364                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
16365                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
16366                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
16367                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
16368                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
16369                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
16370                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
16371                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
16372                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
16373                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
16374                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
16375                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
16376                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
16377                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
16378                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
16379                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
16380                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
16381                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
16382                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
16383                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
16384                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
16385                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
16386                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
16387                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
16388                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
16389                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
16390                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
16391                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
16392                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
16393                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
16394                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
16395                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
16396                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
16397                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
16398                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
16399                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
16400                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
16401                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
16402                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
16403                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
16404                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
16405                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
16406                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
16407                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
16408                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
16409                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
16410                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
16411                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
16412                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
16413                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
16414                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
16415                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
16416                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
16417                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
16418                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
16419                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
16420                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
16421                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
16422                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
16423                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
16424                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
16425                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
16426                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
16427                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
16428                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
16429                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
16430                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
16431                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
16432                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
16433                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
16434                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
16435                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
16436                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
16437                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
16438                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
16439                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
16440                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
16441                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
16442                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
16443                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
16444                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
16445                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
16446                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
16447                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
16448                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
16449                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
16450                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
16451                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
16452                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
16453                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
16454                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
16455                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
16456                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
16457                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
16458                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
16459                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
16460                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
16461                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
16462                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
16463                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
16464                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
16465                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
16466                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
16467                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
16468                        		.dbg	line,	"include\routines_SHOP.c", 12; void display_TIME_SHOP()
16469                        		.dbg	line,	"include\routines_SHOP.c", 13; {
16470                        	;***********************
16471                        	;***********************
16472                        	
16473                        		.hucc
16474    1F:CC38             		.proc		_display_TIME_SHOP
16475                        		__enter		_display_TIME_SHOP
16476                        	
16477                        		.dbg	line,	"include\routines_SHOP.c", 14; put_number(minutes,1,1,3);
16478                        		__ld.um		_minutes
         1F:CC38  AD 31 23   			lda	_minutes
         1F:CC3B  C2         			cly
16479                        		__st.wmq	_bx
         1F:CC3C  85 FA      			sta.l	_bx
         1F:CC3E  84 FB      			sty.h	_bx
16480                        		__st.umiq	1, _cl
         1F:CC40  A9 01      			lda.l	#1
         1F:CC42  85 FC      			sta	_cl
16481                        		__st.umiq	1, _dil
         1F:CC44  A9 01      			lda.l	#1
         1F:CC46  85 F0      			sta	_dil
16482                        		__st.umiq	3, _dih
         1F:CC48  A9 03      			lda.l	#3
         1F:CC4A  85 F1      			sta	_dih
16483                        		__call		_put_number.4
         1F:CC4C  20 6D FF   			call	_put_number.4
16484                        	
16485                        		.dbg	line,	"include\routines_SHOP.c", 16; if(seconds < 10)
16486                        		__ld.umq	_seconds
         1F:CC4F  AD 32 23   			lda	_seconds
16487                        		__ult_b.uiq	10
         1F:CC52  C9 0A      			cmp	#10		; Subtract integer from A.
         1F:CC54  6A         			ror	a		; CC if A < integer.
         1F:CC55  49 80      			eor	#$80
         1F:CC57  2A         			rol	a
16488                        		__bfalse	.LL830
         1F:CC58  90 2C      			bcc	.LL830
16489                        	
16490                        		.dbg	line,	"include\routines_SHOP.c", 17; {
16491                        	
16492                        		.dbg	line,	"include\routines_SHOP.c", 18; put_number(0,1,3,3);
16493                        		__st.wmiq	0, _bx
         1F:CC5A  64 FA      			stz.l	_bx
         1F:CC5C  64 FB      			stz.h	_bx
16494                        		__st.umiq	1, _cl
         1F:CC5E  A9 01      			lda.l	#1
         1F:CC60  85 FC      			sta	_cl
16495                        		__st.umiq	3, _dil
         1F:CC62  A9 03      			lda.l	#3
         1F:CC64  85 F0      			sta	_dil
16496                        		__st.umiq	3, _dih
         1F:CC66  A9 03      			lda.l	#3
         1F:CC68  85 F1      			sta	_dih
16497                        		__call		_put_number.4
         1F:CC6A  20 6D FF   			call	_put_number.4
16498                        	
16499                        		.dbg	line,	"include\routines_SHOP.c", 19; put_number(seconds,1,4,3);
16500                        		__ld.um		_seconds
         1F:CC6D  AD 32 23   			lda	_seconds
         1F:CC70  C2         			cly
16501                        		__st.wmq	_bx
         1F:CC71  85 FA      			sta.l	_bx
         1F:CC73  84 FB      			sty.h	_bx
16502                        		__st.umiq	1, _cl
         1F:CC75  A9 01      			lda.l	#1
         1F:CC77  85 FC      			sta	_cl
16503                        		__st.umiq	4, _dil
         1F:CC79  A9 04      			lda.l	#4
         1F:CC7B  85 F0      			sta	_dil
16504                        		__st.umiq	3, _dih
         1F:CC7D  A9 03      			lda.l	#3
         1F:CC7F  85 F1      			sta	_dih
16505                        		__call		_put_number.4
         1F:CC81  20 6D FF   			call	_put_number.4
16506                        	
16507                        		.dbg	line,	"include\routines_SHOP.c", 20; }
16508                        	
16509                        		.dbg	line,	"include\routines_SHOP.c", 22; else
16510                        		__bra		.LL831
         1F:CC84  80 17      			bra	.LL831
16511    1F:CC86             	.LL830:
16512                        	
16513                        		.dbg	line,	"include\routines_SHOP.c", 23; {
16514                        	
16515                        		.dbg	line,	"include\routines_SHOP.c", 24; put_number(seconds,2,3,3);
16516                        		__ld.um		_seconds
         1F:CC86  AD 32 23   			lda	_seconds
         1F:CC89  C2         			cly
16517                        		__st.wmq	_bx
         1F:CC8A  85 FA      			sta.l	_bx
         1F:CC8C  84 FB      			sty.h	_bx
16518                        		__st.umiq	2, _cl
         1F:CC8E  A9 02      			lda.l	#2
         1F:CC90  85 FC      			sta	_cl
16519                        		__st.umiq	3, _dil
         1F:CC92  A9 03      			lda.l	#3
         1F:CC94  85 F0      			sta	_dil
16520                        		__st.umiq	3, _dih
         1F:CC96  A9 03      			lda.l	#3
         1F:CC98  85 F1      			sta	_dih
16521                        		__call		_put_number.4
         1F:CC9A  20 6D FF   			call	_put_number.4
16522                        	
16523                        		.dbg	line,	"include\routines_SHOP.c", 25; }
16524    1F:CC9D             	.LL831:
16525                        	
16526                        		.dbg	line,	"include\routines_SHOP.c", 27; time_counter += 1;
16527                        		__add_st.umiq	1, _time_counter
         1F:CC9D  EE 33 23   			inc	_time_counter
16528                        	
16529                        		.dbg	line,	"include\routines_SHOP.c", 29; if(time_counter == 60)
16530                        		__ld.umq	_time_counter
         1F:CCA0  AD 33 23   			lda	_time_counter
16531                        		__equ_b.uiq	60
         1F:CCA3  C9 3C      			cmp	#60
         1F:CCA5  F0 01      			beq	!+
         1F:CCA7  18         			clc
         1F:CCA8             	!:
16532                        		__bfalse	.LL832
         1F:CCA8  90 30      			bcc	.LL832
16533                        	
16534                        		.dbg	line,	"include\routines_SHOP.c", 30; {
16535                        	
16536                        		.dbg	line,	"include\routines_SHOP.c", 31; time_counter = 0;
16537                        		__st.umiq	0, _time_counter
         1F:CCAA  9C 33 23   			stz	_time_counter
16538                        	
16539                        		.dbg	line,	"include\routines_SHOP.c", 33; if(seconds > 0)
16540                        		__ld.umq	_seconds
         1F:CCAD  AD 32 23   			lda	_seconds
16541                        		__ugt_b.uiq	0
         1F:CCB0  18         			clc			; Subtract integer+1 from A.
         1F:CCB1  E9 00      			sbc	#0		; CS if A > integer.
16542                        		__bfalse	.LL833
         1F:CCB3  90 05      			bcc	.LL833
16543                        	
16544                        		.dbg	line,	"include\routines_SHOP.c", 34; {
16545                        	
16546                        		.dbg	line,	"include\routines_SHOP.c", 35; seconds -= 1;
16547                        		__sub_st.umiq	1, _seconds
         1F:CCB5  CE 32 23   			dec	_seconds
16548                        	
16549                        		.dbg	line,	"include\routines_SHOP.c", 36; }
16550                        	
16551                        		.dbg	line,	"include\routines_SHOP.c", 38; else
16552                        		__bra		.LL834
         1F:CCB8  80 20      			bra	.LL834
16553    1F:CCBA             	.LL833:
16554                        	
16555                        		.dbg	line,	"include\routines_SHOP.c", 39; {
16556                        	
16557                        		.dbg	line,	"include\routines_SHOP.c", 40; if(minutes > 0)
16558                        		__ld.umq	_minutes
         1F:CCBA  AD 31 23   			lda	_minutes
16559                        		__ugt_b.uiq	0
         1F:CCBD  18         			clc			; Subtract integer+1 from A.
         1F:CCBE  E9 00      			sbc	#0		; CS if A > integer.
16560                        		__bfalse	.LL835
         1F:CCC0  90 0A      			bcc	.LL835
16561                        	
16562                        		.dbg	line,	"include\routines_SHOP.c", 41; {
16563                        	
16564                        		.dbg	line,	"include\routines_SHOP.c", 42; seconds = 59;
16565                        		__st.umiq	59, _seconds
         1F:CCC2  A9 3B      			lda.l	#59
         1F:CCC4  8D 32 23   			sta	_seconds
16566                        	
16567                        		.dbg	line,	"include\routines_SHOP.c", 43; minutes -= 1;
16568                        		__sub_st.umiq	1, _minutes
         1F:CCC7  CE 31 23   			dec	_minutes
16569                        	
16570                        		.dbg	line,	"include\routines_SHOP.c", 44; }
16571                        	
16572                        		.dbg	line,	"include\routines_SHOP.c", 46; else
16573                        		__bra		.LL836
         1F:CCCA  80 0E      			bra	.LL836
16574    1F:CCCC             	.LL835:
16575                        	
16576                        		.dbg	line,	"include\routines_SHOP.c", 47; {
16577                        	
16578                        		.dbg	line,	"include\routines_SHOP.c", 48; seconds = 0;
16579                        		__st.umiq	0, _seconds
         1F:CCCC  9C 32 23   			stz	_seconds
16580                        	
16581                        		.dbg	line,	"include\routines_SHOP.c", 49; minutes = 0;
16582                        		__st.umiq	0, _minutes
         1F:CCCF  9C 31 23   			stz	_minutes
16583                        	
16584                        		.dbg	line,	"include\routines_SHOP.c", 50; shop_counter = 0;    
16585                        		__st.umiq	0, _shop_counter
         1F:CCD2  9C F3 23   			stz	_shop_counter
16586                        	
16587                        		.dbg	line,	"include\routines_SHOP.c", 51; shop_phase = SHOP_PHASE_EXIT;
16588                        		__st.umiq	2, _shop_phase
         1F:CCD5  A9 02      			lda.l	#2
         1F:CCD7  8D F2 23   			sta	_shop_phase
16589                        	
16590                        		.dbg	line,	"include\routines_SHOP.c", 52; }
16591    1F:CCDA             	.LL836:
16592                        	
16593                        		.dbg	line,	"include\routines_SHOP.c", 53; }
16594    1F:CCDA             	.LL834:
16595                        	
16596                        		.dbg	line,	"include\routines_SHOP.c", 54; } 
16597                        	
16598                        		.dbg	line,	"include\routines_SHOP.c", 55; }
16599    1F:CCDA             	.LL832:
16600    1F:CCDA             	.LL829:
16601                        		__return	0
         1F:CCDA  4C EF FF   			jmp	leave_proc
16602                        		.dbg	clear
16603                        		.endp
16604                        		.pceas
16605                        	
16606                        		.dbg	line,	"include\routines_SHOP.c", 59; void joypad_BUTTONS_SHOP()
16607                        		.dbg	line,	"include\routines_SHOP.c", 60; {
16608                        	;***********************
16609                        	;***********************
16610                        	
16611                        		.hucc
16612    1E:C000             		.proc		_joypad_BUTTONS_SHOP
16613                        		__enter		_joypad_BUTTONS_SHOP
16614                        	
16615                        		.dbg	line,	"include\routines_SHOP.c", 61; if(joytrg(JOYPAD_1) & JOY_RIGHT)
16616                        		__ld.uiq	0
         1E:C000  62         			cla
16617                        		 _joytrg.1
         1E:C001  AA         			tax
         1E:C002  BD 2D 22   			lda	joytrg, x
         1E:C005  BC DD 22   			ldy	joy6trg, x
16618                        		__tand.wi	32
         1E:C008  29 20      			and	#32
         1E:C00A  C9 01      	!:		cmp	#1
16619                        		__bfalse	.LL838
         1E:C00C  90 59      			bcc	.LL838
16620                        	
16621                        		.dbg	line,	"include\routines_SHOP.c", 62; {   
16622                        	
16623                        		.dbg	line,	"include\routines_SHOP.c", 63; char max_index;
16624                        	
16625                        		.dbg	line,	"include\routines_SHOP.c", 64; 
16626                        	
16627                        		.dbg	line,	"include\routines_SHOP.c", 65; if(index_y == 0)
16628                        		__not.um	_index_y
         1E:C00E  AD F0 23   			lda	_index_y
         1E:C011  18         			clc
         1E:C012  D0 01      			bne	!+
         1E:C014  38         			sec
         1E:C015             	!:
16629                        		__bfalse	.LL839
         1E:C015  90 07      			bcc	.LL839
16630                        	
16631                        		.dbg	line,	"include\routines_SHOP.c", 66; {
16632                        	
16633                        		.dbg	line,	"include\routines_SHOP.c", 67; max_index = 4;
16634                        		__st.umiq	4, __joypad_BUTTONS_SHOP_end - 1  /* max_index */
         1E:C017  A9 04      			lda.l	#4
         1E:C019  8D 0F 23   			sta	__joypad_BUTTONS_SHOP_end - 1
16635                        	
16636                        		.dbg	line,	"include\routines_SHOP.c", 68; }
16637                        	
16638                        		.dbg	line,	"include\routines_SHOP.c", 70; else
16639                        		__bra		.LL840
         1E:C01C  80 05      			bra	.LL840
16640    1E:C01E             	.LL839:
16641                        	
16642                        		.dbg	line,	"include\routines_SHOP.c", 71; {
16643                        	
16644                        		.dbg	line,	"include\routines_SHOP.c", 72; max_index = 5;
16645                        		__st.umiq	5, __joypad_BUTTONS_SHOP_end - 1  /* max_index */
         1E:C01E  A9 05      			lda.l	#5
         1E:C020  8D 0F 23   			sta	__joypad_BUTTONS_SHOP_end - 1
16646                        	
16647                        		.dbg	line,	"include\routines_SHOP.c", 73; }
16648    1E:C023             	.LL840:
16649                        	
16650                        		.dbg	line,	"include\routines_SHOP.c", 75; if(index_x < max_index)
16651                        		__ld.umq	_index_x
         1E:C023  AD EF 23   			lda	_index_x
16652                        		__ult_b.umq	__joypad_BUTTONS_SHOP_end - 1  /* max_index */
         1E:C026  CD 0F 23   			cmp	__joypad_BUTTONS_SHOP_end - 1		; Subtract memory from A.
         1E:C029  6A         			ror	a		; CC if A < memory.
         1E:C02A  49 80      			eor	#$80
         1E:C02C  2A         			rol	a
16653                        		__bfalse	.LL841
         1E:C02D  B0 03 4C 7D			bcc	.LL841
         1E:C031  C5          
16654                        	
16655                        		.dbg	line,	"include\routines_SHOP.c", 76; {
16656                        	
16657                        		.dbg	line,	"include\routines_SHOP.c", 77; index_x += 1;
16658                        		__add_st.umiq	1, _index_x
         1E:C032  EE EF 23   			inc	_index_x
16659                        	
16660                        		.dbg	line,	"include\routines_SHOP.c", 78; item_index = (index_x + (index_y * 5));
16661                        		__ld.um		_index_y
         1E:C035  AD F0 23   			lda	_index_y
         1E:C038  C2         			cly
16662                        		__mul.wi	5
         1E:C039  85 00      			sta.l	__temp
         1E:C03B  84 01      			sty.h	__temp
                             		__asl.wr
         1E:C03D  0A         			asl	a
         1E:C03E  42         			say
         1E:C03F  2A         			rol	a
         1E:C040  42         			say
                             		__asl.wr
         1E:C041  0A         			asl	a
         1E:C042  42         			say
         1E:C043  2A         			rol	a
         1E:C044  42         			say
                             		__add.wm	__temp
         1E:C045  18         			clc
         1E:C046  65 00      			adc.l	__temp
         1E:C048  42         			say
         1E:C049  65 01      			adc.h	__temp
         1E:C04B  42         			say
16663                        		__add.um	_index_x
         1E:C04C  18         			clc
         1E:C04D  6D EF 23   			adc	_index_x
         1E:C050  90 01      			bcc	!+
         1E:C052  C8         			iny
         1E:C053             	!:
16664                        		__st.umq	_item_index
         1E:C053  8D F1 23   			sta	_item_index
16665                        	
16666                        		.dbg	line,	"include\routines_SHOP.c", 80; spr_set(0);
16667                        		__ld.uiq	0
         1E:C056  62         			cla
16668                        		__call		_spr_set.1
         1E:C057  20 F1 E7   			call	_spr_set.1
16669                        	
16670                        		.dbg	line,	"include\routines_SHOP.c", 81; spr_x(TABLE_CURSOR_POS_X[item_index]);
16671                        		__ldx.umq	_item_index
         1E:C05A  AE F1 23   			ldx	_item_index
16672                        		__ld.uax	_TABLE_CURSOR_POS_X
         1E:C05D  BD E2 62   			lda	_TABLE_CURSOR_POS_X, x
         1E:C060  C2         			cly
16673                        		__call		_spr_x.1
         1E:C061  20 1E E8   			call	_spr_x.1
16674                        	
16675                        		.dbg	line,	"include\routines_SHOP.c", 82; }
16676                        	
16677                        		.dbg	line,	"include\routines_SHOP.c", 83; }
16678    1E:C064             	.LL841	.alias		.LL842
16679                        	
16680                        		.dbg	line,	"include\routines_SHOP.c", 85; 
16681                        	
16682                        		.dbg	line,	"include\routines_SHOP.c", 86; else if(joytrg(JOYPAD_1) & JOY_LEFT)
16683                        		__bra		.LL842
         1E:C064  4C 7D C5   			bra	.LL842
16684    1E:C067             	.LL838:
16685                        		__ld.uiq	0
         1E:C067  62         			cla
16686                        		 _joytrg.1
         1E:C068  AA         			tax
         1E:C069  BD 2D 22   			lda	joytrg, x
         1E:C06C  BC DD 22   			ldy	joy6trg, x
16687                        		__tand.wi	128
         1E:C06F  29 80      			and	#128
         1E:C071  C9 01      	!:		cmp	#1
16688                        		__bfalse	.LL843
         1E:C073  90 40      			bcc	.LL843
16689                        	
16690                        		.dbg	line,	"include\routines_SHOP.c", 87; {
16691                        	
16692                        		.dbg	line,	"include\routines_SHOP.c", 88; if(index_x > 0)
16693                        		__ld.umq	_index_x
         1E:C075  AD EF 23   			lda	_index_x
16694                        		__ugt_b.uiq	0
         1E:C078  18         			clc			; Subtract integer+1 from A.
         1E:C079  E9 00      			sbc	#0		; CS if A > integer.
16695                        		__bfalse	.LL844
         1E:C07B  B0 03 4C 7D			bcc	.LL844
         1E:C07F  C5          
16696                        	
16697                        		.dbg	line,	"include\routines_SHOP.c", 89; {
16698                        	
16699                        		.dbg	line,	"include\routines_SHOP.c", 90; index_x -= 1;
16700                        		__sub_st.umiq	1, _index_x
         1E:C080  CE EF 23   			dec	_index_x
16701                        	
16702                        		.dbg	line,	"include\routines_SHOP.c", 91; item_index = (index_x + (index_y * 5));
16703                        		__ld.um		_index_y
         1E:C083  AD F0 23   			lda	_index_y
         1E:C086  C2         			cly
16704                        		__mul.wi	5
         1E:C087  85 00      			sta.l	__temp
         1E:C089  84 01      			sty.h	__temp
                             		__asl.wr
         1E:C08B  0A         			asl	a
         1E:C08C  42         			say
         1E:C08D  2A         			rol	a
         1E:C08E  42         			say
                             		__asl.wr
         1E:C08F  0A         			asl	a
         1E:C090  42         			say
         1E:C091  2A         			rol	a
         1E:C092  42         			say
                             		__add.wm	__temp
         1E:C093  18         			clc
         1E:C094  65 00      			adc.l	__temp
         1E:C096  42         			say
         1E:C097  65 01      			adc.h	__temp
         1E:C099  42         			say
16705                        		__add.um	_index_x
         1E:C09A  18         			clc
         1E:C09B  6D EF 23   			adc	_index_x
         1E:C09E  90 01      			bcc	!+
         1E:C0A0  C8         			iny
         1E:C0A1             	!:
16706                        		__st.umq	_item_index
         1E:C0A1  8D F1 23   			sta	_item_index
16707                        	
16708                        		.dbg	line,	"include\routines_SHOP.c", 93; spr_set(0);
16709                        		__ld.uiq	0
         1E:C0A4  62         			cla
16710                        		__call		_spr_set.1
         1E:C0A5  20 F1 E7   			call	_spr_set.1
16711                        	
16712                        		.dbg	line,	"include\routines_SHOP.c", 94; spr_x(TABLE_CURSOR_POS_X[item_index]);
16713                        		__ldx.umq	_item_index
         1E:C0A8  AE F1 23   			ldx	_item_index
16714                        		__ld.uax	_TABLE_CURSOR_POS_X
         1E:C0AB  BD E2 62   			lda	_TABLE_CURSOR_POS_X, x
         1E:C0AE  C2         			cly
16715                        		__call		_spr_x.1
         1E:C0AF  20 1E E8   			call	_spr_x.1
16716                        	
16717                        		.dbg	line,	"include\routines_SHOP.c", 95; }
16718                        	
16719                        		.dbg	line,	"include\routines_SHOP.c", 96; }
16720    1E:C0B2             	.LL844	.alias		.LL845
16721                        	
16722                        		.dbg	line,	"include\routines_SHOP.c", 99; else if(joytrg(JOYPAD_1) & JOY_UP)
16723                        		__bra		.LL845
         1E:C0B2  4C 7D C5   			bra	.LL845
16724    1E:C0B5             	.LL843:
16725                        		__ld.uiq	0
         1E:C0B5  62         			cla
16726                        		 _joytrg.1
         1E:C0B6  AA         			tax
         1E:C0B7  BD 2D 22   			lda	joytrg, x
         1E:C0BA  BC DD 22   			ldy	joy6trg, x
16727                        		__tand.wi	16
         1E:C0BD  29 10      			and	#16
         1E:C0BF  C9 01      	!:		cmp	#1
16728                        		__bfalse	.LL846
         1E:C0C1  90 4A      			bcc	.LL846
16729                        	
16730                        		.dbg	line,	"include\routines_SHOP.c", 100; {
16731                        	
16732                        		.dbg	line,	"include\routines_SHOP.c", 101; if(index_y > 0)
16733                        		__ld.umq	_index_y
         1E:C0C3  AD F0 23   			lda	_index_y
16734                        		__ugt_b.uiq	0
         1E:C0C6  18         			clc			; Subtract integer+1 from A.
         1E:C0C7  E9 00      			sbc	#0		; CS if A > integer.
16735                        		__bfalse	.LL847
         1E:C0C9  B0 03 4C 7D			bcc	.LL847
         1E:C0CD  C5          
16736                        	
16737                        		.dbg	line,	"include\routines_SHOP.c", 102; {
16738                        	
16739                        		.dbg	line,	"include\routines_SHOP.c", 103; if(item_index != 10)
16740                        		__ld.umq	_item_index
         1E:C0CE  AD F1 23   			lda	_item_index
16741                        		__neq_b.uiq	10
         1E:C0D1  38         			sec
         1E:C0D2  49 0A      			eor	#10
         1E:C0D4  D0 01      			bne	!+
         1E:C0D6  18         			clc
         1E:C0D7             	!:
16742                        		__bfalse	.LL848
         1E:C0D7  B0 03 4C 7D			bcc	.LL848
         1E:C0DB  C5          
16743                        	
16744                        		.dbg	line,	"include\routines_SHOP.c", 104; {
16745                        	
16746                        		.dbg	line,	"include\routines_SHOP.c", 105; index_y -= 1;
16747                        		__sub_st.umiq	1, _index_y
         1E:C0DC  CE F0 23   			dec	_index_y
16748                        	
16749                        		.dbg	line,	"include\routines_SHOP.c", 106; item_index = (index_x + (index_y * 5));
16750                        		__ld.um		_index_y
         1E:C0DF  AD F0 23   			lda	_index_y
         1E:C0E2  C2         			cly
16751                        		__mul.wi	5
         1E:C0E3  85 00      			sta.l	__temp
         1E:C0E5  84 01      			sty.h	__temp
                             		__asl.wr
         1E:C0E7  0A         			asl	a
         1E:C0E8  42         			say
         1E:C0E9  2A         			rol	a
         1E:C0EA  42         			say
                             		__asl.wr
         1E:C0EB  0A         			asl	a
         1E:C0EC  42         			say
         1E:C0ED  2A         			rol	a
         1E:C0EE  42         			say
                             		__add.wm	__temp
         1E:C0EF  18         			clc
         1E:C0F0  65 00      			adc.l	__temp
         1E:C0F2  42         			say
         1E:C0F3  65 01      			adc.h	__temp
         1E:C0F5  42         			say
16752                        		__add.um	_index_x
         1E:C0F6  18         			clc
         1E:C0F7  6D EF 23   			adc	_index_x
         1E:C0FA  90 01      			bcc	!+
         1E:C0FC  C8         			iny
         1E:C0FD             	!:
16753                        		__st.umq	_item_index
         1E:C0FD  8D F1 23   			sta	_item_index
16754                        	
16755                        		.dbg	line,	"include\routines_SHOP.c", 108; spr_set(0);
16756                        		__ld.uiq	0
         1E:C100  62         			cla
16757                        		__call		_spr_set.1
         1E:C101  20 F1 E7   			call	_spr_set.1
16758                        	
16759                        		.dbg	line,	"include\routines_SHOP.c", 109; spr_y(144);
16760                        		__ld.wi		144
         1E:C104  A9 90      			lda.l	#144
         1E:C106  C2         			cly
16761                        		__call		_spr_y.1
         1E:C107  20 2D E8   			call	_spr_y.1
16762                        	
16763                        		.dbg	line,	"include\routines_SHOP.c", 110; }
16764                        	
16765                        		.dbg	line,	"include\routines_SHOP.c", 111; }
16766    1E:C10A             	.LL848	.alias		.LL849
16767                        	
16768                        		.dbg	line,	"include\routines_SHOP.c", 112; }
16769    1E:C10A             	.LL847	.alias		.LL849
16770                        	
16771                        		.dbg	line,	"include\routines_SHOP.c", 115; else if(joytrg(JOYPAD_1) & JOY_DOWN)
16772                        		__bra		.LL849
         1E:C10A  4C 7D C5   			bra	.LL849
16773    1E:C10D             	.LL846:
16774                        		__ld.uiq	0
         1E:C10D  62         			cla
16775                        		 _joytrg.1
         1E:C10E  AA         			tax
         1E:C10F  BD 2D 22   			lda	joytrg, x
         1E:C112  BC DD 22   			ldy	joy6trg, x
16776                        		__tand.wi	64
         1E:C115  29 40      			and	#64
         1E:C117  C9 01      	!:		cmp	#1
16777                        		__bfalse	.LL850
         1E:C119  90 3F      			bcc	.LL850
16778                        	
16779                        		.dbg	line,	"include\routines_SHOP.c", 116; {
16780                        	
16781                        		.dbg	line,	"include\routines_SHOP.c", 117; if(index_y < 1)
16782                        		__ld.umq	_index_y
         1E:C11B  AD F0 23   			lda	_index_y
16783                        		__ult_b.uiq	1
         1E:C11E  C9 01      			cmp	#1		; Subtract integer from A.
         1E:C120  6A         			ror	a		; CC if A < integer.
         1E:C121  49 80      			eor	#$80
         1E:C123  2A         			rol	a
16784                        		__bfalse	.LL851
         1E:C124  B0 03 4C 7D			bcc	.LL851
         1E:C128  C5          
16785                        	
16786                        		.dbg	line,	"include\routines_SHOP.c", 118; {
16787                        	
16788                        		.dbg	line,	"include\routines_SHOP.c", 119; index_y += 1;
16789                        		__add_st.umiq	1, _index_y
         1E:C129  EE F0 23   			inc	_index_y
16790                        	
16791                        		.dbg	line,	"include\routines_SHOP.c", 120; item_index = (index_x + (index_y * 5));
16792                        		__ld.um		_index_y
         1E:C12C  AD F0 23   			lda	_index_y
         1E:C12F  C2         			cly
16793                        		__mul.wi	5
         1E:C130  85 00      			sta.l	__temp
         1E:C132  84 01      			sty.h	__temp
                             		__asl.wr
         1E:C134  0A         			asl	a
         1E:C135  42         			say
         1E:C136  2A         			rol	a
         1E:C137  42         			say
                             		__asl.wr
         1E:C138  0A         			asl	a
         1E:C139  42         			say
         1E:C13A  2A         			rol	a
         1E:C13B  42         			say
                             		__add.wm	__temp
         1E:C13C  18         			clc
         1E:C13D  65 00      			adc.l	__temp
         1E:C13F  42         			say
         1E:C140  65 01      			adc.h	__temp
         1E:C142  42         			say
16794                        		__add.um	_index_x
         1E:C143  18         			clc
         1E:C144  6D EF 23   			adc	_index_x
         1E:C147  90 01      			bcc	!+
         1E:C149  C8         			iny
         1E:C14A             	!:
16795                        		__st.umq	_item_index
         1E:C14A  8D F1 23   			sta	_item_index
16796                        	
16797                        		.dbg	line,	"include\routines_SHOP.c", 122; spr_set(0);
16798                        		__ld.uiq	0
         1E:C14D  62         			cla
16799                        		__call		_spr_set.1
         1E:C14E  20 F1 E7   			call	_spr_set.1
16800                        	
16801                        		.dbg	line,	"include\routines_SHOP.c", 123; spr_y(168);
16802                        		__ld.wi		168
         1E:C151  A9 A8      			lda.l	#168
         1E:C153  C2         			cly
16803                        		__call		_spr_y.1
         1E:C154  20 2D E8   			call	_spr_y.1
16804                        	
16805                        		.dbg	line,	"include\routines_SHOP.c", 124; }
16806                        	
16807                        		.dbg	line,	"include\routines_SHOP.c", 125; }
16808    1E:C157             	.LL851	.alias		.LL852
16809                        	
16810                        		.dbg	line,	"include\routines_SHOP.c", 128; else if(joytrg(JOYPAD_1) & JOY_I)
16811                        		__bra		.LL852
         1E:C157  4C 7D C5   			bra	.LL852
16812    1E:C15A             	.LL850:
16813                        		__ld.uiq	0
         1E:C15A  62         			cla
16814                        		 _joytrg.1
         1E:C15B  AA         			tax
         1E:C15C  BD 2D 22   			lda	joytrg, x
         1E:C15F  BC DD 22   			ldy	joy6trg, x
16815                        		__tand.wi	1
         1E:C162  29 01      			and	#1
         1E:C164  C9 01      	!:		cmp	#1
16816                        		__bfalse	.LL853
         1E:C166  B0 03 4C 7D			bcc	.LL853
         1E:C16A  C5          
16817                        	
16818                        		.dbg	line,	"include\routines_SHOP.c", 129; {
16819                        	
16820                        		.dbg	line,	"include\routines_SHOP.c", 130; switch(item_index)
16821                        		__ld.umq	_item_index
         1E:C16B  AD F1 23   			lda	_item_index
16822                        		__bra		.LL854
         1E:C16E  4C 5A C5   			bra	.LL854
16823                        	
16824                        		.dbg	line,	"include\routines_SHOP.c", 131; {
16825                        	
16826                        		.dbg	line,	"include\routines_SHOP.c", 132; // WEAPON 2 //
16827                        	
16828                        		.dbg	line,	"include\routines_SHOP.c", 133; case 0:
16829    1E:C171             	.LL856:
16830                        		__case		0
16831                        	
16832                        		.dbg	line,	"include\routines_SHOP.c", 134; if(zenny_amount >= shop_prices[0])
16833                        		__ld.wm		_zenny_amount
         1E:C171  AD 55 26   			lda.l	_zenny_amount
         1E:C174  AC 56 26   			ldy.h	_zenny_amount
16834                        		__sge_w.wm	_shop_prices
         1E:C177  CD 59 26   			cmp.l	_shop_prices		; Subtract memory from Y:A.
         1E:C17A  98         			tya
         1E:C17B  ED 5A 26   			sbc.h	_shop_prices
         1E:C17E  50 02      			bvc	!+
         1E:C180  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:C182  49 80      	!:		eor	#$80
         1E:C184  0A         			asl	a
16835                        		__bfalse	.LL857
         1E:C185  B0 03 4C 7D			bcc	.LL857
         1E:C189  C5          
16836                        	
16837                        		.dbg	line,	"include\routines_SHOP.c", 135; {
16838                        	
16839                        		.dbg	line,	"include\routines_SHOP.c", 136; if(weapon_level < 1)
16840                        		__ld.umq	_weapon_level
         1E:C18A  AD 28 23   			lda	_weapon_level
16841                        		__ult_b.uiq	1
         1E:C18D  C9 01      			cmp	#1		; Subtract integer from A.
         1E:C18F  6A         			ror	a		; CC if A < integer.
         1E:C190  49 80      			eor	#$80
         1E:C192  2A         			rol	a
16842                        		__bfalse	.LL858
         1E:C193  B0 03 4C 7D			bcc	.LL858
         1E:C197  C5          
16843                        	
16844                        		.dbg	line,	"include\routines_SHOP.c", 137; {
16845                        	
16846                        		.dbg	line,	"include\routines_SHOP.c", 138; weapon_level = 1;
16847                        		__st.umiq	1, _weapon_level
         1E:C198  A9 01      			lda.l	#1
         1E:C19A  8D 28 23   			sta	_weapon_level
16848                        	
16849                        		.dbg	line,	"include\routines_SHOP.c", 139; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_2, SIZEOF(tileset_WEAPON_2) >> 1 );
16850                        		__st.wmiq	4256, _di
         1E:C19D  A9 A0      			lda.l	#4256
         1E:C19F  85 F0      			sta.l	_di
         1E:C1A1  A9 10      			lda.h	#4256
         1E:C1A3  85 F1      			sta.h	_di
16851                        		__farptr	_tileset_WEAPON_2, _bp_bank, _bp
         1E:C1A5  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_2))
         1E:C1A7  85 EC      			sta.l	_bp
         1E:C1A9  A9 74      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_2))
         1E:C1AB  85 ED      			sta.h	_bp
         1E:C1AD  A9 07      			lda	#bank(_tileset_WEAPON_2)
         1E:C1AF  85 02      			sta	_bp_bank
16852                        		__ld.wi		___sizeof__tileset_WEAPON_2
         1E:C1B1  A9 80      			lda.l	#___sizeof__tileset_WEAPON_2
         1E:C1B3  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_2
16853                        		__lsr.wi	1
         1E:C1B5  42         			say
         1E:C1B6  4A         			lsr	a
         1E:C1B7  42         			say
         1E:C1B8  6A         			ror	a
16854                        		__st.wmq	_ax
         1E:C1B9  85 F8      			sta.l	_ax
         1E:C1BB  84 F9      			sty.h	_ax
16855                        		 _load_vram.3
         1E:C1BD  82         			clx				; Offset to PCE VDC.
         1E:C1BE  20 FF FE   			call	load_vram_x
16856                        	
16857                        		.dbg	line,	"include\routines_SHOP.c", 141; zenny_amount -= shop_prices[0];
16858                        		__ld.wm		_shop_prices
         1E:C1C1  AD 59 26   			lda.l	_shop_prices
         1E:C1C4  AC 5A 26   			ldy.h	_shop_prices
16859                        		__isub_st.wmq	_zenny_amount
         1E:C1C7  38         			sec
         1E:C1C8  49 FF      			eor	#$FF
         1E:C1CA  6D 55 26   			adc.l	_zenny_amount
         1E:C1CD  8D 55 26   			sta.l	_zenny_amount
         1E:C1D0  98         			tya
         1E:C1D1  49 FF      			eor	#$FF
         1E:C1D3  6D 56 26   			adc.h	_zenny_amount
         1E:C1D6  8D 56 26   			sta.h	_zenny_amount
16860                        	
16861                        		.dbg	line,	"include\routines_SHOP.c", 142; display_ZENNY();
16862                        		__call		_display_ZENNY
         1E:C1D9  20 31 FF   			call	_display_ZENNY
16863                        	
16864                        		.dbg	line,	"include\routines_SHOP.c", 143; }
16865                        	
16866                        		.dbg	line,	"include\routines_SHOP.c", 144; }
16867    1E:C1DC             	.LL858	.alias		.LL855
16868                        	
16869                        		.dbg	line,	"include\routines_SHOP.c", 146; break;   
16870    1E:C1DC             	.LL857	.alias		.LL855
16871                        		__bra		.LL855
         1E:C1DC  4C 7D C5   			bra	.LL855
16872                        	
16873                        		.dbg	line,	"include\routines_SHOP.c", 149; // WEAPON 4 //
16874                        	
16875                        		.dbg	line,	"include\routines_SHOP.c", 150; case 1:
16876    1E:C1DF             	.LL859:
16877                        		__case		1
16878                        	
16879                        		.dbg	line,	"include\routines_SHOP.c", 151; if(zenny_amount >= shop_prices[1])
16880                        		__ld.wm		_zenny_amount
         1E:C1DF  AD 55 26   			lda.l	_zenny_amount
         1E:C1E2  AC 56 26   			ldy.h	_zenny_amount
16881                        		__sge_w.wm	_shop_prices + 2
         1E:C1E5  CD 5B 26   			cmp.l	_shop_prices + 2		; Subtract memory from Y:A.
         1E:C1E8  98         			tya
         1E:C1E9  ED 5C 26   			sbc.h	_shop_prices + 2
         1E:C1EC  50 02      			bvc	!+
         1E:C1EE  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:C1F0  49 80      	!:		eor	#$80
         1E:C1F2  0A         			asl	a
16882                        		__bfalse	.LL860
         1E:C1F3  B0 03 4C 7D			bcc	.LL860
         1E:C1F7  C5          
16883                        	
16884                        		.dbg	line,	"include\routines_SHOP.c", 152; {
16885                        	
16886                        		.dbg	line,	"include\routines_SHOP.c", 153; if(weapon_level < 2)
16887                        		__ld.umq	_weapon_level
         1E:C1F8  AD 28 23   			lda	_weapon_level
16888                        		__ult_b.uiq	2
         1E:C1FB  C9 02      			cmp	#2		; Subtract integer from A.
         1E:C1FD  6A         			ror	a		; CC if A < integer.
         1E:C1FE  49 80      			eor	#$80
         1E:C200  2A         			rol	a
16889                        		__bfalse	.LL861
         1E:C201  B0 03 4C 7D			bcc	.LL861
         1E:C205  C5          
16890                        	
16891                        		.dbg	line,	"include\routines_SHOP.c", 154; {
16892                        	
16893                        		.dbg	line,	"include\routines_SHOP.c", 155; weapon_level = 2;
16894                        		__st.umiq	2, _weapon_level
         1E:C206  A9 02      			lda.l	#2
         1E:C208  8D 28 23   			sta	_weapon_level
16895                        	
16896                        		.dbg	line,	"include\routines_SHOP.c", 156; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_4, SIZEOF(tileset_WEAPON_4) >> 1 );
16897                        		__st.wmiq	4256, _di
         1E:C20B  A9 A0      			lda.l	#4256
         1E:C20D  85 F0      			sta.l	_di
         1E:C20F  A9 10      			lda.h	#4256
         1E:C211  85 F1      			sta.h	_di
16898                        		__farptr	_tileset_WEAPON_4, _bp_bank, _bp
         1E:C213  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_4))
         1E:C215  85 EC      			sta.l	_bp
         1E:C217  A9 74      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_4))
         1E:C219  85 ED      			sta.h	_bp
         1E:C21B  A9 07      			lda	#bank(_tileset_WEAPON_4)
         1E:C21D  85 02      			sta	_bp_bank
16899                        		__ld.wi		___sizeof__tileset_WEAPON_4
         1E:C21F  A9 80      			lda.l	#___sizeof__tileset_WEAPON_4
         1E:C221  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_4
16900                        		__lsr.wi	1
         1E:C223  42         			say
         1E:C224  4A         			lsr	a
         1E:C225  42         			say
         1E:C226  6A         			ror	a
16901                        		__st.wmq	_ax
         1E:C227  85 F8      			sta.l	_ax
         1E:C229  84 F9      			sty.h	_ax
16902                        		 _load_vram.3
         1E:C22B  82         			clx				; Offset to PCE VDC.
         1E:C22C  20 FF FE   			call	load_vram_x
16903                        	
16904                        		.dbg	line,	"include\routines_SHOP.c", 158; zenny_amount -= shop_prices[1];
16905                        		__ld.wm		_shop_prices + 2
         1E:C22F  AD 5B 26   			lda.l	_shop_prices + 2
         1E:C232  AC 5C 26   			ldy.h	_shop_prices + 2
16906                        		__isub_st.wmq	_zenny_amount
         1E:C235  38         			sec
         1E:C236  49 FF      			eor	#$FF
         1E:C238  6D 55 26   			adc.l	_zenny_amount
         1E:C23B  8D 55 26   			sta.l	_zenny_amount
         1E:C23E  98         			tya
         1E:C23F  49 FF      			eor	#$FF
         1E:C241  6D 56 26   			adc.h	_zenny_amount
         1E:C244  8D 56 26   			sta.h	_zenny_amount
16907                        	
16908                        		.dbg	line,	"include\routines_SHOP.c", 159; display_ZENNY();
16909                        		__call		_display_ZENNY
         1E:C247  20 31 FF   			call	_display_ZENNY
16910                        	
16911                        		.dbg	line,	"include\routines_SHOP.c", 160; }
16912                        	
16913                        		.dbg	line,	"include\routines_SHOP.c", 161; }
16914    1E:C24A             	.LL861	.alias		.LL855
16915                        	
16916                        		.dbg	line,	"include\routines_SHOP.c", 163; break; 
16917    1E:C24A             	.LL860	.alias		.LL855
16918                        		__bra		.LL855
         1E:C24A  4C 7D C5   			bra	.LL855
16919                        	
16920                        		.dbg	line,	"include\routines_SHOP.c", 166; // WEAPON 5 //
16921                        	
16922                        		.dbg	line,	"include\routines_SHOP.c", 167; case 2:
16923    1E:C24D             	.LL862:
16924                        		__case		2
16925                        	
16926                        		.dbg	line,	"include\routines_SHOP.c", 168; if(zenny_amount >= shop_prices[2])
16927                        		__ld.wm		_zenny_amount
         1E:C24D  AD 55 26   			lda.l	_zenny_amount
         1E:C250  AC 56 26   			ldy.h	_zenny_amount
16928                        		__sge_w.wm	_shop_prices + 4
         1E:C253  CD 5D 26   			cmp.l	_shop_prices + 4		; Subtract memory from Y:A.
         1E:C256  98         			tya
         1E:C257  ED 5E 26   			sbc.h	_shop_prices + 4
         1E:C25A  50 02      			bvc	!+
         1E:C25C  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:C25E  49 80      	!:		eor	#$80
         1E:C260  0A         			asl	a
16929                        		__bfalse	.LL863
         1E:C261  B0 03 4C 7D			bcc	.LL863
         1E:C265  C5          
16930                        	
16931                        		.dbg	line,	"include\routines_SHOP.c", 169; {
16932                        	
16933                        		.dbg	line,	"include\routines_SHOP.c", 170; if(weapon_level < 3)
16934                        		__ld.umq	_weapon_level
         1E:C266  AD 28 23   			lda	_weapon_level
16935                        		__ult_b.uiq	3
         1E:C269  C9 03      			cmp	#3		; Subtract integer from A.
         1E:C26B  6A         			ror	a		; CC if A < integer.
         1E:C26C  49 80      			eor	#$80
         1E:C26E  2A         			rol	a
16936                        		__bfalse	.LL864
         1E:C26F  B0 03 4C 7D			bcc	.LL864
         1E:C273  C5          
16937                        	
16938                        		.dbg	line,	"include\routines_SHOP.c", 171; {
16939                        	
16940                        		.dbg	line,	"include\routines_SHOP.c", 172; weapon_level = 3;
16941                        		__st.umiq	3, _weapon_level
         1E:C274  A9 03      			lda.l	#3
         1E:C276  8D 28 23   			sta	_weapon_level
16942                        	
16943                        		.dbg	line,	"include\routines_SHOP.c", 173; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_5, SIZEOF(tileset_WEAPON_5) >> 1 );
16944                        		__st.wmiq	4256, _di
         1E:C279  A9 A0      			lda.l	#4256
         1E:C27B  85 F0      			sta.l	_di
         1E:C27D  A9 10      			lda.h	#4256
         1E:C27F  85 F1      			sta.h	_di
16945                        		__farptr	_tileset_WEAPON_5, _bp_bank, _bp
         1E:C281  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_5))
         1E:C283  85 EC      			sta.l	_bp
         1E:C285  A9 75      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_5))
         1E:C287  85 ED      			sta.h	_bp
         1E:C289  A9 07      			lda	#bank(_tileset_WEAPON_5)
         1E:C28B  85 02      			sta	_bp_bank
16946                        		__ld.wi		___sizeof__tileset_WEAPON_5
         1E:C28D  A9 80      			lda.l	#___sizeof__tileset_WEAPON_5
         1E:C28F  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_5
16947                        		__lsr.wi	1
         1E:C291  42         			say
         1E:C292  4A         			lsr	a
         1E:C293  42         			say
         1E:C294  6A         			ror	a
16948                        		__st.wmq	_ax
         1E:C295  85 F8      			sta.l	_ax
         1E:C297  84 F9      			sty.h	_ax
16949                        		 _load_vram.3
         1E:C299  82         			clx				; Offset to PCE VDC.
         1E:C29A  20 FF FE   			call	load_vram_x
16950                        	
16951                        		.dbg	line,	"include\routines_SHOP.c", 175; zenny_amount -= shop_prices[2];
16952                        		__ld.wm		_shop_prices + 4
         1E:C29D  AD 5D 26   			lda.l	_shop_prices + 4
         1E:C2A0  AC 5E 26   			ldy.h	_shop_prices + 4
16953                        		__isub_st.wmq	_zenny_amount
         1E:C2A3  38         			sec
         1E:C2A4  49 FF      			eor	#$FF
         1E:C2A6  6D 55 26   			adc.l	_zenny_amount
         1E:C2A9  8D 55 26   			sta.l	_zenny_amount
         1E:C2AC  98         			tya
         1E:C2AD  49 FF      			eor	#$FF
         1E:C2AF  6D 56 26   			adc.h	_zenny_amount
         1E:C2B2  8D 56 26   			sta.h	_zenny_amount
16954                        	
16955                        		.dbg	line,	"include\routines_SHOP.c", 176; display_ZENNY();
16956                        		__call		_display_ZENNY
         1E:C2B5  20 31 FF   			call	_display_ZENNY
16957                        	
16958                        		.dbg	line,	"include\routines_SHOP.c", 177; }
16959                        	
16960                        		.dbg	line,	"include\routines_SHOP.c", 178; }
16961    1E:C2B8             	.LL864	.alias		.LL855
16962                        	
16963                        		.dbg	line,	"include\routines_SHOP.c", 180; break;   
16964    1E:C2B8             	.LL863	.alias		.LL855
16965                        		__bra		.LL855
         1E:C2B8  4C 7D C5   			bra	.LL855
16966                        	
16967                        		.dbg	line,	"include\routines_SHOP.c", 183; // WEAPON 8 //
16968                        	
16969                        		.dbg	line,	"include\routines_SHOP.c", 184; case 3:
16970    1E:C2BB             	.LL865:
16971                        		__case		3
16972                        	
16973                        		.dbg	line,	"include\routines_SHOP.c", 185; if(zenny_amount >= shop_prices[3])
16974                        		__ld.wm		_zenny_amount
         1E:C2BB  AD 55 26   			lda.l	_zenny_amount
         1E:C2BE  AC 56 26   			ldy.h	_zenny_amount
16975                        		__sge_w.wm	_shop_prices + 6
         1E:C2C1  CD 5F 26   			cmp.l	_shop_prices + 6		; Subtract memory from Y:A.
         1E:C2C4  98         			tya
         1E:C2C5  ED 60 26   			sbc.h	_shop_prices + 6
         1E:C2C8  50 02      			bvc	!+
         1E:C2CA  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:C2CC  49 80      	!:		eor	#$80
         1E:C2CE  0A         			asl	a
16976                        		__bfalse	.LL866
         1E:C2CF  B0 03 4C 7D			bcc	.LL866
         1E:C2D3  C5          
16977                        	
16978                        		.dbg	line,	"include\routines_SHOP.c", 186; {
16979                        	
16980                        		.dbg	line,	"include\routines_SHOP.c", 187; if(weapon_level < 4)
16981                        		__ld.umq	_weapon_level
         1E:C2D4  AD 28 23   			lda	_weapon_level
16982                        		__ult_b.uiq	4
         1E:C2D7  C9 04      			cmp	#4		; Subtract integer from A.
         1E:C2D9  6A         			ror	a		; CC if A < integer.
         1E:C2DA  49 80      			eor	#$80
         1E:C2DC  2A         			rol	a
16983                        		__bfalse	.LL867
         1E:C2DD  B0 03 4C 7D			bcc	.LL867
         1E:C2E1  C5          
16984                        	
16985                        		.dbg	line,	"include\routines_SHOP.c", 188; {
16986                        	
16987                        		.dbg	line,	"include\routines_SHOP.c", 189; weapon_level = 4;
16988                        		__st.umiq	4, _weapon_level
         1E:C2E2  A9 04      			lda.l	#4
         1E:C2E4  8D 28 23   			sta	_weapon_level
16989                        	
16990                        		.dbg	line,	"include\routines_SHOP.c", 190; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_8, SIZEOF(tileset_WEAPON_8) >> 1 );
16991                        		__st.wmiq	4256, _di
         1E:C2E7  A9 A0      			lda.l	#4256
         1E:C2E9  85 F0      			sta.l	_di
         1E:C2EB  A9 10      			lda.h	#4256
         1E:C2ED  85 F1      			sta.h	_di
16992                        		__farptr	_tileset_WEAPON_8, _bp_bank, _bp
         1E:C2EF  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_8))
         1E:C2F1  85 EC      			sta.l	_bp
         1E:C2F3  A9 75      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_8))
         1E:C2F5  85 ED      			sta.h	_bp
         1E:C2F7  A9 07      			lda	#bank(_tileset_WEAPON_8)
         1E:C2F9  85 02      			sta	_bp_bank
16993                        		__ld.wi		___sizeof__tileset_WEAPON_8
         1E:C2FB  A9 80      			lda.l	#___sizeof__tileset_WEAPON_8
         1E:C2FD  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_8
16994                        		__lsr.wi	1
         1E:C2FF  42         			say
         1E:C300  4A         			lsr	a
         1E:C301  42         			say
         1E:C302  6A         			ror	a
16995                        		__st.wmq	_ax
         1E:C303  85 F8      			sta.l	_ax
         1E:C305  84 F9      			sty.h	_ax
16996                        		 _load_vram.3
         1E:C307  82         			clx				; Offset to PCE VDC.
         1E:C308  20 FF FE   			call	load_vram_x
16997                        	
16998                        		.dbg	line,	"include\routines_SHOP.c", 192; zenny_amount -= shop_prices[3];
16999                        		__ld.wm		_shop_prices + 6
         1E:C30B  AD 5F 26   			lda.l	_shop_prices + 6
         1E:C30E  AC 60 26   			ldy.h	_shop_prices + 6
17000                        		__isub_st.wmq	_zenny_amount
         1E:C311  38         			sec
         1E:C312  49 FF      			eor	#$FF
         1E:C314  6D 55 26   			adc.l	_zenny_amount
         1E:C317  8D 55 26   			sta.l	_zenny_amount
         1E:C31A  98         			tya
         1E:C31B  49 FF      			eor	#$FF
         1E:C31D  6D 56 26   			adc.h	_zenny_amount
         1E:C320  8D 56 26   			sta.h	_zenny_amount
17001                        	
17002                        		.dbg	line,	"include\routines_SHOP.c", 193; display_ZENNY();
17003                        		__call		_display_ZENNY
         1E:C323  20 31 FF   			call	_display_ZENNY
17004                        	
17005                        		.dbg	line,	"include\routines_SHOP.c", 194; }
17006                        	
17007                        		.dbg	line,	"include\routines_SHOP.c", 195; }
17008    1E:C326             	.LL867	.alias		.LL855
17009                        	
17010                        		.dbg	line,	"include\routines_SHOP.c", 197; break;  
17011    1E:C326             	.LL866	.alias		.LL855
17012                        		__bra		.LL855
         1E:C326  4C 7D C5   			bra	.LL855
17013                        	
17014                        		.dbg	line,	"include\routines_SHOP.c", 200; // KEY //
17015                        	
17016                        		.dbg	line,	"include\routines_SHOP.c", 201; case 4:
17017    1E:C329             	.LL868:
17018                        		__case		4
17019                        	
17020                        		.dbg	line,	"include\routines_SHOP.c", 202; if(zenny_amount >= shop_prices[4])
17021                        		__ld.wm		_zenny_amount
         1E:C329  AD 55 26   			lda.l	_zenny_amount
         1E:C32C  AC 56 26   			ldy.h	_zenny_amount
17022                        		__sge_w.wm	_shop_prices + 8
         1E:C32F  CD 61 26   			cmp.l	_shop_prices + 8		; Subtract memory from Y:A.
         1E:C332  98         			tya
         1E:C333  ED 62 26   			sbc.h	_shop_prices + 8
         1E:C336  50 02      			bvc	!+
         1E:C338  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:C33A  49 80      	!:		eor	#$80
         1E:C33C  0A         			asl	a
17023                        		__bfalse	.LL869
         1E:C33D  B0 03 4C 7D			bcc	.LL869
         1E:C341  C5          
17024                        	
17025                        		.dbg	line,	"include\routines_SHOP.c", 203; {
17026                        	
17027                        		.dbg	line,	"include\routines_SHOP.c", 204; key_amount += 1;
17028                        		__add_st.umiq	1, _key_amount
         1E:C342  EE 2F 23   			inc	_key_amount
17029                        	
17030                        		.dbg	line,	"include\routines_SHOP.c", 206; zenny_amount -= shop_prices[4];
17031                        		__ld.wm		_shop_prices + 8
         1E:C345  AD 61 26   			lda.l	_shop_prices + 8
         1E:C348  AC 62 26   			ldy.h	_shop_prices + 8
17032                        		__isub_st.wmq	_zenny_amount
         1E:C34B  38         			sec
         1E:C34C  49 FF      			eor	#$FF
         1E:C34E  6D 55 26   			adc.l	_zenny_amount
         1E:C351  8D 55 26   			sta.l	_zenny_amount
         1E:C354  98         			tya
         1E:C355  49 FF      			eor	#$FF
         1E:C357  6D 56 26   			adc.h	_zenny_amount
         1E:C35A  8D 56 26   			sta.h	_zenny_amount
17033                        	
17034                        		.dbg	line,	"include\routines_SHOP.c", 207; display_KEY();
17035                        		__call		_display_KEY
         1E:C35D  20 45 FF   			call	_display_KEY
17036                        	
17037                        		.dbg	line,	"include\routines_SHOP.c", 208; }
17038                        	
17039                        		.dbg	line,	"include\routines_SHOP.c", 210; break;   
17040    1E:C360             	.LL869	.alias		.LL855
17041                        		__bra		.LL855
         1E:C360  4C 7D C5   			bra	.LL855
17042                        	
17043                        		.dbg	line,	"include\routines_SHOP.c", 213; // ARMOR 1 //
17044                        	
17045                        		.dbg	line,	"include\routines_SHOP.c", 214; case 5:
17046    1E:C363             	.LL870:
17047                        		__case		5
17048                        	
17049                        		.dbg	line,	"include\routines_SHOP.c", 215; if(zenny_amount >= shop_prices[5])
17050                        		__ld.wm		_zenny_amount
         1E:C363  AD 55 26   			lda.l	_zenny_amount
         1E:C366  AC 56 26   			ldy.h	_zenny_amount
17051                        		__sge_w.wm	_shop_prices + 10
         1E:C369  CD 63 26   			cmp.l	_shop_prices + 10		; Subtract memory from Y:A.
         1E:C36C  98         			tya
         1E:C36D  ED 64 26   			sbc.h	_shop_prices + 10
         1E:C370  50 02      			bvc	!+
         1E:C372  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:C374  49 80      	!:		eor	#$80
         1E:C376  0A         			asl	a
17052                        		__bfalse	.LL871
         1E:C377  B0 03 4C 7D			bcc	.LL871
         1E:C37B  C5          
17053                        	
17054                        		.dbg	line,	"include\routines_SHOP.c", 216; {
17055                        	
17056                        		.dbg	line,	"include\routines_SHOP.c", 217; if(armor_level < 1)
17057                        		__ld.umq	_armor_level
         1E:C37C  AD 27 23   			lda	_armor_level
17058                        		__ult_b.uiq	1
         1E:C37F  C9 01      			cmp	#1		; Subtract integer from A.
         1E:C381  6A         			ror	a		; CC if A < integer.
         1E:C382  49 80      			eor	#$80
         1E:C384  2A         			rol	a
17059                        		__bfalse	.LL872
         1E:C385  B0 03 4C 7D			bcc	.LL872
         1E:C389  C5          
17060                        	
17061                        		.dbg	line,	"include\routines_SHOP.c", 218; {
17062                        	
17063                        		.dbg	line,	"include\routines_SHOP.c", 219; armor_level = 1;
17064                        		__st.umiq	1, _armor_level
         1E:C38A  A9 01      			lda.l	#1
         1E:C38C  8D 27 23   			sta	_armor_level
17065                        	
17066                        		.dbg	line,	"include\routines_SHOP.c", 220; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_1, SIZEOF(tileset_ARMOR_1) >> 1 );
17067                        		__st.wmiq	4320, _di
         1E:C38F  A9 E0      			lda.l	#4320
         1E:C391  85 F0      			sta.l	_di
         1E:C393  A9 10      			lda.h	#4320
         1E:C395  85 F1      			sta.h	_di
17068                        		__farptr	_tileset_ARMOR_1, _bp_bank, _bp
         1E:C397  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_1))
         1E:C399  85 EC      			sta.l	_bp
         1E:C39B  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_1))
         1E:C39D  85 ED      			sta.h	_bp
         1E:C39F  A9 07      			lda	#bank(_tileset_ARMOR_1)
         1E:C3A1  85 02      			sta	_bp_bank
17069                        		__ld.wi		___sizeof__tileset_ARMOR_1
         1E:C3A3  A9 80      			lda.l	#___sizeof__tileset_ARMOR_1
         1E:C3A5  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_1
17070                        		__lsr.wi	1
         1E:C3A7  42         			say
         1E:C3A8  4A         			lsr	a
         1E:C3A9  42         			say
         1E:C3AA  6A         			ror	a
17071                        		__st.wmq	_ax
         1E:C3AB  85 F8      			sta.l	_ax
         1E:C3AD  84 F9      			sty.h	_ax
17072                        		 _load_vram.3
         1E:C3AF  82         			clx				; Offset to PCE VDC.
         1E:C3B0  20 FF FE   			call	load_vram_x
17073                        	
17074                        		.dbg	line,	"include\routines_SHOP.c", 222; zenny_amount -= shop_prices[5];
17075                        		__ld.wm		_shop_prices + 10
         1E:C3B3  AD 63 26   			lda.l	_shop_prices + 10
         1E:C3B6  AC 64 26   			ldy.h	_shop_prices + 10
17076                        		__isub_st.wmq	_zenny_amount
         1E:C3B9  38         			sec
         1E:C3BA  49 FF      			eor	#$FF
         1E:C3BC  6D 55 26   			adc.l	_zenny_amount
         1E:C3BF  8D 55 26   			sta.l	_zenny_amount
         1E:C3C2  98         			tya
         1E:C3C3  49 FF      			eor	#$FF
         1E:C3C5  6D 56 26   			adc.h	_zenny_amount
         1E:C3C8  8D 56 26   			sta.h	_zenny_amount
17077                        	
17078                        		.dbg	line,	"include\routines_SHOP.c", 223; display_ZENNY();
17079                        		__call		_display_ZENNY
         1E:C3CB  20 31 FF   			call	_display_ZENNY
17080                        	
17081                        		.dbg	line,	"include\routines_SHOP.c", 224; }
17082                        	
17083                        		.dbg	line,	"include\routines_SHOP.c", 225; }
17084    1E:C3CE             	.LL872	.alias		.LL855
17085                        	
17086                        		.dbg	line,	"include\routines_SHOP.c", 227; break;   
17087    1E:C3CE             	.LL871	.alias		.LL855
17088                        		__bra		.LL855
         1E:C3CE  4C 7D C5   			bra	.LL855
17089                        	
17090                        		.dbg	line,	"include\routines_SHOP.c", 230; // ARMOR 2 //
17091                        	
17092                        		.dbg	line,	"include\routines_SHOP.c", 231; case 6:
17093    1E:C3D1             	.LL873:
17094                        		__case		6
17095                        	
17096                        		.dbg	line,	"include\routines_SHOP.c", 232; if(zenny_amount >= shop_prices[6])
17097                        		__ld.wm		_zenny_amount
         1E:C3D1  AD 55 26   			lda.l	_zenny_amount
         1E:C3D4  AC 56 26   			ldy.h	_zenny_amount
17098                        		__sge_w.wm	_shop_prices + 12
         1E:C3D7  CD 65 26   			cmp.l	_shop_prices + 12		; Subtract memory from Y:A.
         1E:C3DA  98         			tya
         1E:C3DB  ED 66 26   			sbc.h	_shop_prices + 12
         1E:C3DE  50 02      			bvc	!+
         1E:C3E0  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:C3E2  49 80      	!:		eor	#$80
         1E:C3E4  0A         			asl	a
17099                        		__bfalse	.LL874
         1E:C3E5  B0 03 4C 7D			bcc	.LL874
         1E:C3E9  C5          
17100                        	
17101                        		.dbg	line,	"include\routines_SHOP.c", 233; {
17102                        	
17103                        		.dbg	line,	"include\routines_SHOP.c", 234; if(armor_level < 4)
17104                        		__ld.umq	_armor_level
         1E:C3EA  AD 27 23   			lda	_armor_level
17105                        		__ult_b.uiq	4
         1E:C3ED  C9 04      			cmp	#4		; Subtract integer from A.
         1E:C3EF  6A         			ror	a		; CC if A < integer.
         1E:C3F0  49 80      			eor	#$80
         1E:C3F2  2A         			rol	a
17106                        		__bfalse	.LL875
         1E:C3F3  B0 03 4C 7D			bcc	.LL875
         1E:C3F7  C5          
17107                        	
17108                        		.dbg	line,	"include\routines_SHOP.c", 235; {
17109                        	
17110                        		.dbg	line,	"include\routines_SHOP.c", 236; armor_level = 4;
17111                        		__st.umiq	4, _armor_level
         1E:C3F8  A9 04      			lda.l	#4
         1E:C3FA  8D 27 23   			sta	_armor_level
17112                        	
17113                        		.dbg	line,	"include\routines_SHOP.c", 237; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_2, SIZEOF(tileset_ARMOR_2) >> 1 );
17114                        		__st.wmiq	4320, _di
         1E:C3FD  A9 E0      			lda.l	#4320
         1E:C3FF  85 F0      			sta.l	_di
         1E:C401  A9 10      			lda.h	#4320
         1E:C403  85 F1      			sta.h	_di
17115                        		__farptr	_tileset_ARMOR_2, _bp_bank, _bp
         1E:C405  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_2))
         1E:C407  85 EC      			sta.l	_bp
         1E:C409  A9 72      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_2))
         1E:C40B  85 ED      			sta.h	_bp
         1E:C40D  A9 07      			lda	#bank(_tileset_ARMOR_2)
         1E:C40F  85 02      			sta	_bp_bank
17116                        		__ld.wi		___sizeof__tileset_ARMOR_2
         1E:C411  A9 80      			lda.l	#___sizeof__tileset_ARMOR_2
         1E:C413  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_2
17117                        		__lsr.wi	1
         1E:C415  42         			say
         1E:C416  4A         			lsr	a
         1E:C417  42         			say
         1E:C418  6A         			ror	a
17118                        		__st.wmq	_ax
         1E:C419  85 F8      			sta.l	_ax
         1E:C41B  84 F9      			sty.h	_ax
17119                        		 _load_vram.3
         1E:C41D  82         			clx				; Offset to PCE VDC.
         1E:C41E  20 FF FE   			call	load_vram_x
17120                        	
17121                        		.dbg	line,	"include\routines_SHOP.c", 239; zenny_amount -= shop_prices[6];
17122                        		__ld.wm		_shop_prices + 12
         1E:C421  AD 65 26   			lda.l	_shop_prices + 12
         1E:C424  AC 66 26   			ldy.h	_shop_prices + 12
17123                        		__isub_st.wmq	_zenny_amount
         1E:C427  38         			sec
         1E:C428  49 FF      			eor	#$FF
         1E:C42A  6D 55 26   			adc.l	_zenny_amount
         1E:C42D  8D 55 26   			sta.l	_zenny_amount
         1E:C430  98         			tya
         1E:C431  49 FF      			eor	#$FF
         1E:C433  6D 56 26   			adc.h	_zenny_amount
         1E:C436  8D 56 26   			sta.h	_zenny_amount
17124                        	
17125                        		.dbg	line,	"include\routines_SHOP.c", 240; display_ZENNY();
17126                        		__call		_display_ZENNY
         1E:C439  20 31 FF   			call	_display_ZENNY
17127                        	
17128                        		.dbg	line,	"include\routines_SHOP.c", 241; }
17129                        	
17130                        		.dbg	line,	"include\routines_SHOP.c", 242; }
17131    1E:C43C             	.LL875	.alias		.LL855
17132                        	
17133                        		.dbg	line,	"include\routines_SHOP.c", 244; break;    
17134    1E:C43C             	.LL874	.alias		.LL855
17135                        		__bra		.LL855
         1E:C43C  4C 7D C5   			bra	.LL855
17136                        	
17137                        		.dbg	line,	"include\routines_SHOP.c", 247; // ARMOR 4 //
17138                        	
17139                        		.dbg	line,	"include\routines_SHOP.c", 248; case 7:
17140    1E:C43F             	.LL876:
17141                        		__case		7
17142                        	
17143                        		.dbg	line,	"include\routines_SHOP.c", 249; if(zenny_amount >= shop_prices[7])
17144                        		__ld.wm		_zenny_amount
         1E:C43F  AD 55 26   			lda.l	_zenny_amount
         1E:C442  AC 56 26   			ldy.h	_zenny_amount
17145                        		__sge_w.wm	_shop_prices + 14
         1E:C445  CD 67 26   			cmp.l	_shop_prices + 14		; Subtract memory from Y:A.
         1E:C448  98         			tya
         1E:C449  ED 68 26   			sbc.h	_shop_prices + 14
         1E:C44C  50 02      			bvc	!+
         1E:C44E  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:C450  49 80      	!:		eor	#$80
         1E:C452  0A         			asl	a
17146                        		__bfalse	.LL877
         1E:C453  B0 03 4C 7D			bcc	.LL877
         1E:C457  C5          
17147                        	
17148                        		.dbg	line,	"include\routines_SHOP.c", 250; {
17149                        	
17150                        		.dbg	line,	"include\routines_SHOP.c", 251; if(armor_level < 5)
17151                        		__ld.umq	_armor_level
         1E:C458  AD 27 23   			lda	_armor_level
17152                        		__ult_b.uiq	5
         1E:C45B  C9 05      			cmp	#5		; Subtract integer from A.
         1E:C45D  6A         			ror	a		; CC if A < integer.
         1E:C45E  49 80      			eor	#$80
         1E:C460  2A         			rol	a
17153                        		__bfalse	.LL878
         1E:C461  B0 03 4C 7D			bcc	.LL878
         1E:C465  C5          
17154                        	
17155                        		.dbg	line,	"include\routines_SHOP.c", 252; {
17156                        	
17157                        		.dbg	line,	"include\routines_SHOP.c", 253; armor_level = 5;
17158                        		__st.umiq	5, _armor_level
         1E:C466  A9 05      			lda.l	#5
         1E:C468  8D 27 23   			sta	_armor_level
17159                        	
17160                        		.dbg	line,	"include\routines_SHOP.c", 254; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_4, SIZEOF(tileset_ARMOR_4) >> 1 );
17161                        		__st.wmiq	4320, _di
         1E:C46B  A9 E0      			lda.l	#4320
         1E:C46D  85 F0      			sta.l	_di
         1E:C46F  A9 10      			lda.h	#4320
         1E:C471  85 F1      			sta.h	_di
17162                        		__farptr	_tileset_ARMOR_4, _bp_bank, _bp
         1E:C473  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_4))
         1E:C475  85 EC      			sta.l	_bp
         1E:C477  A9 72      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_4))
         1E:C479  85 ED      			sta.h	_bp
         1E:C47B  A9 07      			lda	#bank(_tileset_ARMOR_4)
         1E:C47D  85 02      			sta	_bp_bank
17163                        		__ld.wi		___sizeof__tileset_ARMOR_4
         1E:C47F  A9 80      			lda.l	#___sizeof__tileset_ARMOR_4
         1E:C481  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_4
17164                        		__lsr.wi	1
         1E:C483  42         			say
         1E:C484  4A         			lsr	a
         1E:C485  42         			say
         1E:C486  6A         			ror	a
17165                        		__st.wmq	_ax
         1E:C487  85 F8      			sta.l	_ax
         1E:C489  84 F9      			sty.h	_ax
17166                        		 _load_vram.3
         1E:C48B  82         			clx				; Offset to PCE VDC.
         1E:C48C  20 FF FE   			call	load_vram_x
17167                        	
17168                        		.dbg	line,	"include\routines_SHOP.c", 256; zenny_amount -= shop_prices[7];
17169                        		__ld.wm		_shop_prices + 14
         1E:C48F  AD 67 26   			lda.l	_shop_prices + 14
         1E:C492  AC 68 26   			ldy.h	_shop_prices + 14
17170                        		__isub_st.wmq	_zenny_amount
         1E:C495  38         			sec
         1E:C496  49 FF      			eor	#$FF
         1E:C498  6D 55 26   			adc.l	_zenny_amount
         1E:C49B  8D 55 26   			sta.l	_zenny_amount
         1E:C49E  98         			tya
         1E:C49F  49 FF      			eor	#$FF
         1E:C4A1  6D 56 26   			adc.h	_zenny_amount
         1E:C4A4  8D 56 26   			sta.h	_zenny_amount
17171                        	
17172                        		.dbg	line,	"include\routines_SHOP.c", 257; display_ZENNY();
17173                        		__call		_display_ZENNY
         1E:C4A7  20 31 FF   			call	_display_ZENNY
17174                        	
17175                        		.dbg	line,	"include\routines_SHOP.c", 258; }
17176                        	
17177                        		.dbg	line,	"include\routines_SHOP.c", 259; }
17178    1E:C4AA             	.LL878	.alias		.LL855
17179                        	
17180                        		.dbg	line,	"include\routines_SHOP.c", 261; break;   
17181    1E:C4AA             	.LL877	.alias		.LL855
17182                        		__bra		.LL855
         1E:C4AA  4C 7D C5   			bra	.LL855
17183                        	
17184                        		.dbg	line,	"include\routines_SHOP.c", 264; // ARMOR 8 //
17185                        	
17186                        		.dbg	line,	"include\routines_SHOP.c", 265; case 8:
17187    1E:C4AD             	.LL879:
17188                        		__case		8
17189                        	
17190                        		.dbg	line,	"include\routines_SHOP.c", 266; if(zenny_amount >= shop_prices[8])
17191                        		__ld.wm		_zenny_amount
         1E:C4AD  AD 55 26   			lda.l	_zenny_amount
         1E:C4B0  AC 56 26   			ldy.h	_zenny_amount
17192                        		__sge_w.wm	_shop_prices + 16
         1E:C4B3  CD 69 26   			cmp.l	_shop_prices + 16		; Subtract memory from Y:A.
         1E:C4B6  98         			tya
         1E:C4B7  ED 6A 26   			sbc.h	_shop_prices + 16
         1E:C4BA  50 02      			bvc	!+
         1E:C4BC  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:C4BE  49 80      	!:		eor	#$80
         1E:C4C0  0A         			asl	a
17193                        		__bfalse	.LL880
         1E:C4C1  B0 03 4C 7D			bcc	.LL880
         1E:C4C5  C5          
17194                        	
17195                        		.dbg	line,	"include\routines_SHOP.c", 267; {
17196                        	
17197                        		.dbg	line,	"include\routines_SHOP.c", 268; if(armor_level < 8)
17198                        		__ld.umq	_armor_level
         1E:C4C6  AD 27 23   			lda	_armor_level
17199                        		__ult_b.uiq	8
         1E:C4C9  C9 08      			cmp	#8		; Subtract integer from A.
         1E:C4CB  6A         			ror	a		; CC if A < integer.
         1E:C4CC  49 80      			eor	#$80
         1E:C4CE  2A         			rol	a
17200                        		__bfalse	.LL881
         1E:C4CF  B0 03 4C 7D			bcc	.LL881
         1E:C4D3  C5          
17201                        	
17202                        		.dbg	line,	"include\routines_SHOP.c", 269; {
17203                        	
17204                        		.dbg	line,	"include\routines_SHOP.c", 270; armor_level = 8;
17205                        		__st.umiq	8, _armor_level
         1E:C4D4  A9 08      			lda.l	#8
         1E:C4D6  8D 27 23   			sta	_armor_level
17206                        	
17207                        		.dbg	line,	"include\routines_SHOP.c", 271; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_8, SIZEOF(tileset_ARMOR_8) >> 1 );
17208                        		__st.wmiq	4320, _di
         1E:C4D9  A9 E0      			lda.l	#4320
         1E:C4DB  85 F0      			sta.l	_di
         1E:C4DD  A9 10      			lda.h	#4320
         1E:C4DF  85 F1      			sta.h	_di
17209                        		__farptr	_tileset_ARMOR_8, _bp_bank, _bp
         1E:C4E1  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_8))
         1E:C4E3  85 EC      			sta.l	_bp
         1E:C4E5  A9 73      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_8))
         1E:C4E7  85 ED      			sta.h	_bp
         1E:C4E9  A9 07      			lda	#bank(_tileset_ARMOR_8)
         1E:C4EB  85 02      			sta	_bp_bank
17210                        		__ld.wi		___sizeof__tileset_ARMOR_8
         1E:C4ED  A9 80      			lda.l	#___sizeof__tileset_ARMOR_8
         1E:C4EF  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_8
17211                        		__lsr.wi	1
         1E:C4F1  42         			say
         1E:C4F2  4A         			lsr	a
         1E:C4F3  42         			say
         1E:C4F4  6A         			ror	a
17212                        		__st.wmq	_ax
         1E:C4F5  85 F8      			sta.l	_ax
         1E:C4F7  84 F9      			sty.h	_ax
17213                        		 _load_vram.3
         1E:C4F9  82         			clx				; Offset to PCE VDC.
         1E:C4FA  20 FF FE   			call	load_vram_x
17214                        	
17215                        		.dbg	line,	"include\routines_SHOP.c", 273; zenny_amount -= shop_prices[8];
17216                        		__ld.wm		_shop_prices + 16
         1E:C4FD  AD 69 26   			lda.l	_shop_prices + 16
         1E:C500  AC 6A 26   			ldy.h	_shop_prices + 16
17217                        		__isub_st.wmq	_zenny_amount
         1E:C503  38         			sec
         1E:C504  49 FF      			eor	#$FF
         1E:C506  6D 55 26   			adc.l	_zenny_amount
         1E:C509  8D 55 26   			sta.l	_zenny_amount
         1E:C50C  98         			tya
         1E:C50D  49 FF      			eor	#$FF
         1E:C50F  6D 56 26   			adc.h	_zenny_amount
         1E:C512  8D 56 26   			sta.h	_zenny_amount
17218                        	
17219                        		.dbg	line,	"include\routines_SHOP.c", 274; display_ZENNY();
17220                        		__call		_display_ZENNY
         1E:C515  20 31 FF   			call	_display_ZENNY
17221                        	
17222                        		.dbg	line,	"include\routines_SHOP.c", 275; }
17223                        	
17224                        		.dbg	line,	"include\routines_SHOP.c", 276; }
17225    1E:C518             	.LL881	.alias		.LL855
17226                        	
17227                        		.dbg	line,	"include\routines_SHOP.c", 278; break;   
17228    1E:C518             	.LL880	.alias		.LL855
17229                        		__bra		.LL855
         1E:C518  80 63      			bra	.LL855
17230                        	
17231                        		.dbg	line,	"include\routines_SHOP.c", 281; // POTION //
17232                        	
17233                        		.dbg	line,	"include\routines_SHOP.c", 282; case 9:
17234    1E:C51A             	.LL882:
17235                        		__case		9
17236                        	
17237                        		.dbg	line,	"include\routines_SHOP.c", 283; if(zenny_amount >= shop_prices[9])
17238                        		__ld.wm		_zenny_amount
         1E:C51A  AD 55 26   			lda.l	_zenny_amount
         1E:C51D  AC 56 26   			ldy.h	_zenny_amount
17239                        		__sge_w.wm	_shop_prices + 18
         1E:C520  CD 6B 26   			cmp.l	_shop_prices + 18		; Subtract memory from Y:A.
         1E:C523  98         			tya
         1E:C524  ED 6C 26   			sbc.h	_shop_prices + 18
         1E:C527  50 02      			bvc	!+
         1E:C529  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:C52B  49 80      	!:		eor	#$80
         1E:C52D  0A         			asl	a
17240                        		__bfalse	.LL883
         1E:C52E  90 4D      			bcc	.LL883
17241                        	
17242                        		.dbg	line,	"include\routines_SHOP.c", 284; {
17243                        	
17244                        		.dbg	line,	"include\routines_SHOP.c", 285; potion_amount += 1;
17245                        		__add_st.umiq	1, _potion_amount
         1E:C530  EE 30 23   			inc	_potion_amount
17246                        	
17247                        		.dbg	line,	"include\routines_SHOP.c", 287; zenny_amount -= shop_prices[9];
17248                        		__ld.wm		_shop_prices + 18
         1E:C533  AD 6B 26   			lda.l	_shop_prices + 18
         1E:C536  AC 6C 26   			ldy.h	_shop_prices + 18
17249                        		__isub_st.wmq	_zenny_amount
         1E:C539  38         			sec
         1E:C53A  49 FF      			eor	#$FF
         1E:C53C  6D 55 26   			adc.l	_zenny_amount
         1E:C53F  8D 55 26   			sta.l	_zenny_amount
         1E:C542  98         			tya
         1E:C543  49 FF      			eor	#$FF
         1E:C545  6D 56 26   			adc.h	_zenny_amount
         1E:C548  8D 56 26   			sta.h	_zenny_amount
17250                        	
17251                        		.dbg	line,	"include\routines_SHOP.c", 288; display_POTION();
17252                        		__call		_display_POTION
         1E:C54B  20 F5 FE   			call	_display_POTION
17253                        	
17254                        		.dbg	line,	"include\routines_SHOP.c", 289; }
17255                        	
17256                        		.dbg	line,	"include\routines_SHOP.c", 291; break;   
17257    1E:C54E             	.LL883	.alias		.LL855
17258                        		__bra		.LL855
         1E:C54E  80 2D      			bra	.LL855
17259                        	
17260                        		.dbg	line,	"include\routines_SHOP.c", 294; // EXIT //
17261                        	
17262                        		.dbg	line,	"include\routines_SHOP.c", 295; case 10:
17263    1E:C550             	.LL884:
17264                        		__case		10
17265                        	
17266                        		.dbg	line,	"include\routines_SHOP.c", 296; shop_counter = 0;    
17267                        		__st.umiq	0, _shop_counter
         1E:C550  9C F3 23   			stz	_shop_counter
17268                        	
17269                        		.dbg	line,	"include\routines_SHOP.c", 297; shop_phase = SHOP_PHASE_EXIT;
17270                        		__st.umiq	2, _shop_phase
         1E:C553  A9 02      			lda.l	#2
         1E:C555  8D F2 23   			sta	_shop_phase
17271                        	
17272                        		.dbg	line,	"include\routines_SHOP.c", 299; break;                  
17273                        		__bra		.LL855
         1E:C558  80 23      			bra	.LL855
17274                        	
17275                        		.dbg	line,	"include\routines_SHOP.c", 300; }
17276    1E:C55A             	.LL854:
17277                        		__switch_r.ur	0, 10
         1E:C55A  C9 0B      			cmp	#(10 - 0) + 1
         1E:C55C  90 02      			bcc	!found+
         1E:C55E  A9 0B      	!default:	lda	#(10 - 0) + 1
         1E:C560  0A         	!found:		asl	a
         1E:C561  AA         			tax
         1E:C562  7C 65 C5   			jmp	[!table+, x]
17278                        	
17279    1E:C565  71 C1      	!table:		dw	.LL856, .LL859, .LL862, .LL865, .LL868, .LL870, .LL873, .LL876
         1E:C567  DF C1       
         1E:C569  4D C2       
         1E:C56B  BB C2       
         1E:C56D  29 C3       
         1E:C56F  63 C3       
         1E:C571  D1 C3       
         1E:C573  3F C4       
17280    1E:C575  AD C4      			dw	.LL879, .LL882, .LL884
         1E:C577  1A C5       
         1E:C579  50 C5       
17281    1E:C57B  7D C5      			dw	.LL855
17282    1E:C57D             	.LL855:
17283                        	
17284                        		.dbg	line,	"include\routines_SHOP.c", 301; }
17285                        	
17286                        		.dbg	line,	"include\routines_SHOP.c", 302; }
17287    1E:C57D             	.LL853:
17288    1E:C57D             	.LL852:
17289    1E:C57D             	.LL849:
17290    1E:C57D             	.LL845:
17291    1E:C57D             	.LL842:
17292    1E:C57D             	.LL837:
17293                        		__return	0
         1E:C57D  4C EF FF   			jmp	leave_proc
17294                        		.dbg	clear
17295                        		.endp
17296               230F     		.bss
17297    F8:230F             			ds	1
17298    F8:2310             	__joypad_BUTTONS_SHOP_end:
17299               E31D     		.code
17300                        		.pceas
17301                        	
17302                        		.dbg	line,	"main.c", 28; #include "include/routines_TITLE.c"
17303                        		.dbg	line,	"include\routines_TITLE.c", 1; #include "huc.h"
17304                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
17305                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
17306                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
17307                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
17308                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
17309                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
17310                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
17311                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
17312                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
17313                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
17314                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
17315                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
17316                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
17317                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
17318                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
17319                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
17320                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
17321                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
17322                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
17323                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
17324                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
17325                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
17326                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
17327                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
17328                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
17329                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
17330                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
17331                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
17332                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
17333                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
17334                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
17335                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
17336                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
17337                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
17338                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
17339                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
17340                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
17341                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
17342                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
17343                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
17344                        		.dbg	line,	"include\routines_TITLE.c", 2; #include "hucc-scroll.h"
17345                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
17346                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
17347                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
17348                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
17349                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
17350                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
17351                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
17352                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
17353                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
17354                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
17355                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
17356                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
17357                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
17358                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
17359                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
17360                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
17361                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
17362                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
17363                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
17364                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
17365                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
17366                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
17367                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
17368                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
17369                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
17370                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
17371                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
17372                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
17373                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
17374                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
17375                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
17376                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
17377                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
17378                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
17379                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
17380                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
17381                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
17382                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
17383                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
17384                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
17385                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
17386                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
17387                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
17388                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
17389                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
17390                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
17391                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
17392                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
17393                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
17394                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
17395                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
17396                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
17397                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
17398                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
17399                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
17400                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
17401                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
17402                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
17403                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
17404                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
17405                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
17406                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
17407                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
17408                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
17409                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
17410                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
17411                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
17412                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
17413                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
17414                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
17415                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
17416                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
17417                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
17418                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
17419                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
17420                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
17421                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
17422                        		.dbg	line,	"include\routines_TITLE.c", 3; #include "hucc-chrmap.h"
17423                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
17424                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
17425                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
17426                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
17427                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
17428                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
17429                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
17430                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
17431                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
17432                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
17433                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
17434                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
17435                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
17436                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
17437                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
17438                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
17439                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
17440                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
17441                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
17442                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
17443                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
17444                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
17445                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
17446                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
17447                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
17448                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
17449                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
17450                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
17451                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
17452                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
17453                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
17454                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
17455                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
17456                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
17457                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
17458                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
17459                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
17460                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
17461                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
17462                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
17463                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
17464                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
17465                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
17466                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
17467                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
17468                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
17469                        		.dbg	line,	"include\routines_TITLE.c", 4; #include "hucc-blkmap.h"
17470                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
17471                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
17472                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
17473                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
17474                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
17475                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
17476                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
17477                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
17478                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
17479                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
17480                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
17481                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
17482                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
17483                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
17484                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
17485                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
17486                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
17487                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
17488                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
17489                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
17490                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
17491                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
17492                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
17493                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
17494                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
17495                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
17496                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
17497                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
17498                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
17499                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
17500                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
17501                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
17502                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
17503                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
17504                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
17505                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
17506                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
17507                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
17508                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
17509                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
17510                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
17511                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
17512                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
17513                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
17514                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
17515                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
17516                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
17517                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
17518                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
17519                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
17520                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
17521                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
17522                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
17523                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
17524                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
17525                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
17526                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
17527                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
17528                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
17529                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
17530                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
17531                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
17532                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
17533                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
17534                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
17535                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
17536                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
17537                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
17538                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
17539                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
17540                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
17541                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
17542                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
17543                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
17544                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
17545                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
17546                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
17547                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
17548                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
17549                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
17550                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
17551                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
17552                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
17553                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
17554                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
17555                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
17556                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
17557                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
17558                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
17559                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
17560                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
17561                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
17562                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
17563                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
17564                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
17565                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
17566                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
17567                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
17568                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
17569                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
17570                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
17571                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
17572                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
17573                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
17574                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
17575                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
17576                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
17577                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
17578                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
17579                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
17580                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
17581                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
17582                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
17583                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
17584                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
17585                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
17586                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
17587                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
17588                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
17589                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
17590                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
17591                        		.dbg	line,	"include\routines_TITLE.c", 12; void joypad_BUTTONS_TITLE()
17592                        		.dbg	line,	"include\routines_TITLE.c", 13; {
17593                        	;***********************
17594                        	;***********************
17595                        	
17596                        		.hucc
17597    1E:D5CD             		.proc		_joypad_BUTTONS_TITLE
17598                        		__enter		_joypad_BUTTONS_TITLE
17599                        	
17600                        		.dbg	line,	"include\routines_TITLE.c", 14; int selector_pos;
17601                        	
17602                        		.dbg	line,	"include\routines_TITLE.c", 15; 
17603                        	
17604                        		.dbg	line,	"include\routines_TITLE.c", 16; if(joytrg(JOYPAD_1) & JOY_RIGHT)
17605                        		__ld.uiq	0
         1E:D5CD  62         			cla
17606                        		 _joytrg.1
         1E:D5CE  AA         			tax
         1E:D5CF  BD 2D 22   			lda	joytrg, x
         1E:D5D2  BC DD 22   			ldy	joy6trg, x
17607                        		__tand.wi	32
         1E:D5D5  29 20      			and	#32
         1E:D5D7  C9 01      	!:		cmp	#1
17608                        		__bfalse	.LL886
         1E:D5D9  B0 03 4C 66			bcc	.LL886
         1E:D5DD  D6          
17609                        	
17610                        		.dbg	line,	"include\routines_TITLE.c", 17; {   
17611                        	
17612                        		.dbg	line,	"include\routines_TITLE.c", 18; spr_set(0);
17613                        		__ld.uiq	0
         1E:D5DE  62         			cla
17614                        		__call		_spr_set.1
         1E:D5DF  20 F1 E7   			call	_spr_set.1
17615                        	
17616                        		.dbg	line,	"include\routines_TITLE.c", 19; selector_pos = spr_get_y();
17617                        		__call		_spr_get_y
         1E:D5E2  20 8F E8   			call	_spr_get_y
17618                        		__st.wmq	__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D5E5  8D 20 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D5E8  8C 21 2C   			sty.h	__joypad_BUTTONS_TITLE_end - 2
17619                        	
17620                        		.dbg	line,	"include\routines_TITLE.c", 21; if(selector_pos == 160)
17621                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D5EB  AD 20 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D5EE  AC 21 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
17622                        		__equ_w.wi	160
         1E:D5F1  C9 A0      			cmp.l	#160
         1E:D5F3  D0 04      			bne	!false+
         1E:D5F5  C0 00      			cpy.h	#160
         1E:D5F7  F0 01      			beq	!+
         1E:D5F9  18         	!false:		clc
         1E:D5FA             	!:
17623                        		__bfalse	.LL887
         1E:D5FA  90 2B      			bcc	.LL887
17624                        	
17625                        		.dbg	line,	"include\routines_TITLE.c", 22; {
17626                        	
17627                        		.dbg	line,	"include\routines_TITLE.c", 23; if(life_amount < 9)
17628                        		__ld.umq	_life_amount
         1E:D5FC  AD 2D 23   			lda	_life_amount
17629                        		__ult_b.uiq	9
         1E:D5FF  C9 09      			cmp	#9		; Subtract integer from A.
         1E:D601  6A         			ror	a		; CC if A < integer.
         1E:D602  49 80      			eor	#$80
         1E:D604  2A         			rol	a
17630                        		__bfalse	.LL888
         1E:D605  B0 03 4C 17			bcc	.LL888
         1E:D609  D8          
17631                        	
17632                        		.dbg	line,	"include\routines_TITLE.c", 24; {
17633                        	
17634                        		.dbg	line,	"include\routines_TITLE.c", 25; life_amount += 1;
17635                        		__add_st.umiq	1, _life_amount
         1E:D60A  EE 2D 23   			inc	_life_amount
17636                        	
17637                        		.dbg	line,	"include\routines_TITLE.c", 26; put_number(life_amount   	,  1 , 20 , 20);
17638                        		__ld.um		_life_amount
         1E:D60D  AD 2D 23   			lda	_life_amount
         1E:D610  C2         			cly
17639                        		__st.wmq	_bx
         1E:D611  85 FA      			sta.l	_bx
         1E:D613  84 FB      			sty.h	_bx
17640                        		__st.umiq	1, _cl
         1E:D615  A9 01      			lda.l	#1
         1E:D617  85 FC      			sta	_cl
17641                        		__st.umiq	20, _dil
         1E:D619  A9 14      			lda.l	#20
         1E:D61B  85 F0      			sta	_dil
17642                        		__st.umiq	20, _dih
         1E:D61D  A9 14      			lda.l	#20
         1E:D61F  85 F1      			sta	_dih
17643                        		__call		_put_number.4
         1E:D621  20 6D FF   			call	_put_number.4
17644                        	
17645                        		.dbg	line,	"include\routines_TITLE.c", 27; }
17646                        	
17647                        		.dbg	line,	"include\routines_TITLE.c", 28; }
17648    1E:D624             	.LL888	.alias		.LL889
17649                        	
17650                        		.dbg	line,	"include\routines_TITLE.c", 30; else if(selector_pos == 168)
17651                        		__bra		.LL889
         1E:D624  4C 17 D8   			bra	.LL889
17652    1E:D627             	.LL887:
17653                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D627  AD 20 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D62A  AC 21 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
17654                        		__equ_w.wi	168
         1E:D62D  C9 A8      			cmp.l	#168
         1E:D62F  D0 04      			bne	!false+
         1E:D631  C0 00      			cpy.h	#168
         1E:D633  F0 01      			beq	!+
         1E:D635  18         	!false:		clc
         1E:D636             	!:
17655                        		__bfalse	.LL890
         1E:D636  B0 03 4C 17			bcc	.LL890
         1E:D63A  D8          
17656                        	
17657                        		.dbg	line,	"include\routines_TITLE.c", 31; {
17658                        	
17659                        		.dbg	line,	"include\routines_TITLE.c", 32; if(credits_amount < 5)
17660                        		__ld.umq	_credits_amount
         1E:D63B  AD 2E 23   			lda	_credits_amount
17661                        		__ult_b.uiq	5
         1E:D63E  C9 05      			cmp	#5		; Subtract integer from A.
         1E:D640  6A         			ror	a		; CC if A < integer.
         1E:D641  49 80      			eor	#$80
         1E:D643  2A         			rol	a
17662                        		__bfalse	.LL891
         1E:D644  B0 03 4C 17			bcc	.LL891
         1E:D648  D8          
17663                        	
17664                        		.dbg	line,	"include\routines_TITLE.c", 33; {
17665                        	
17666                        		.dbg	line,	"include\routines_TITLE.c", 34; credits_amount += 1;
17667                        		__add_st.umiq	1, _credits_amount
         1E:D649  EE 2E 23   			inc	_credits_amount
17668                        	
17669                        		.dbg	line,	"include\routines_TITLE.c", 35; put_number(credits_amount   ,  1 , 20 , 21);
17670                        		__ld.um		_credits_amount
         1E:D64C  AD 2E 23   			lda	_credits_amount
         1E:D64F  C2         			cly
17671                        		__st.wmq	_bx
         1E:D650  85 FA      			sta.l	_bx
         1E:D652  84 FB      			sty.h	_bx
17672                        		__st.umiq	1, _cl
         1E:D654  A9 01      			lda.l	#1
         1E:D656  85 FC      			sta	_cl
17673                        		__st.umiq	20, _dil
         1E:D658  A9 14      			lda.l	#20
         1E:D65A  85 F0      			sta	_dil
17674                        		__st.umiq	21, _dih
         1E:D65C  A9 15      			lda.l	#21
         1E:D65E  85 F1      			sta	_dih
17675                        		__call		_put_number.4
         1E:D660  20 6D FF   			call	_put_number.4
17676                        	
17677                        		.dbg	line,	"include\routines_TITLE.c", 36; }
17678                        	
17679                        		.dbg	line,	"include\routines_TITLE.c", 37; }
17680    1E:D663             	.LL891	.alias		.LL892
17681                        	
17682                        		.dbg	line,	"include\routines_TITLE.c", 38; }
17683    1E:D663             	.LL890	.alias		.LL892
17684    1E:D663             	.LL889	.alias		.LL892
17685                        	
17686                        		.dbg	line,	"include\routines_TITLE.c", 40; 
17687                        	
17688                        		.dbg	line,	"include\routines_TITLE.c", 41; else if(joytrg(JOYPAD_1) & JOY_LEFT)
17689                        		__bra		.LL892
         1E:D663  4C 17 D8   			bra	.LL892
17690    1E:D666             	.LL886:
17691                        		__ld.uiq	0
         1E:D666  62         			cla
17692                        		 _joytrg.1
         1E:D667  AA         			tax
         1E:D668  BD 2D 22   			lda	joytrg, x
         1E:D66B  BC DD 22   			ldy	joy6trg, x
17693                        		__tand.wi	128
         1E:D66E  29 80      			and	#128
         1E:D670  C9 01      	!:		cmp	#1
17694                        		__bfalse	.LL893
         1E:D672  B0 03 4C F9			bcc	.LL893
         1E:D676  D6          
17695                        	
17696                        		.dbg	line,	"include\routines_TITLE.c", 42; {
17697                        	
17698                        		.dbg	line,	"include\routines_TITLE.c", 43; spr_set(0);
17699                        		__ld.uiq	0
         1E:D677  62         			cla
17700                        		__call		_spr_set.1
         1E:D678  20 F1 E7   			call	_spr_set.1
17701                        	
17702                        		.dbg	line,	"include\routines_TITLE.c", 44; selector_pos = spr_get_y();
17703                        		__call		_spr_get_y
         1E:D67B  20 8F E8   			call	_spr_get_y
17704                        		__st.wmq	__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D67E  8D 20 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D681  8C 21 2C   			sty.h	__joypad_BUTTONS_TITLE_end - 2
17705                        	
17706                        		.dbg	line,	"include\routines_TITLE.c", 46; if(selector_pos == 160)
17707                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D684  AD 20 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D687  AC 21 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
17708                        		__equ_w.wi	160
         1E:D68A  C9 A0      			cmp.l	#160
         1E:D68C  D0 04      			bne	!false+
         1E:D68E  C0 00      			cpy.h	#160
         1E:D690  F0 01      			beq	!+
         1E:D692  18         	!false:		clc
         1E:D693             	!:
17709                        		__bfalse	.LL894
         1E:D693  90 28      			bcc	.LL894
17710                        	
17711                        		.dbg	line,	"include\routines_TITLE.c", 47; {
17712                        	
17713                        		.dbg	line,	"include\routines_TITLE.c", 48; if(life_amount > 3)
17714                        		__ld.umq	_life_amount
         1E:D695  AD 2D 23   			lda	_life_amount
17715                        		__ugt_b.uiq	3
         1E:D698  18         			clc			; Subtract integer+1 from A.
         1E:D699  E9 03      			sbc	#3		; CS if A > integer.
17716                        		__bfalse	.LL895
         1E:D69B  B0 03 4C 17			bcc	.LL895
         1E:D69F  D8          
17717                        	
17718                        		.dbg	line,	"include\routines_TITLE.c", 49; {
17719                        	
17720                        		.dbg	line,	"include\routines_TITLE.c", 50; life_amount -= 1;
17721                        		__sub_st.umiq	1, _life_amount
         1E:D6A0  CE 2D 23   			dec	_life_amount
17722                        	
17723                        		.dbg	line,	"include\routines_TITLE.c", 51; put_number(life_amount   	,  1 , 20 , 20);
17724                        		__ld.um		_life_amount
         1E:D6A3  AD 2D 23   			lda	_life_amount
         1E:D6A6  C2         			cly
17725                        		__st.wmq	_bx
         1E:D6A7  85 FA      			sta.l	_bx
         1E:D6A9  84 FB      			sty.h	_bx
17726                        		__st.umiq	1, _cl
         1E:D6AB  A9 01      			lda.l	#1
         1E:D6AD  85 FC      			sta	_cl
17727                        		__st.umiq	20, _dil
         1E:D6AF  A9 14      			lda.l	#20
         1E:D6B1  85 F0      			sta	_dil
17728                        		__st.umiq	20, _dih
         1E:D6B3  A9 14      			lda.l	#20
         1E:D6B5  85 F1      			sta	_dih
17729                        		__call		_put_number.4
         1E:D6B7  20 6D FF   			call	_put_number.4
17730                        	
17731                        		.dbg	line,	"include\routines_TITLE.c", 52; }
17732                        	
17733                        		.dbg	line,	"include\routines_TITLE.c", 53; }
17734    1E:D6BA             	.LL895	.alias		.LL896
17735                        	
17736                        		.dbg	line,	"include\routines_TITLE.c", 55; else if(selector_pos == 168)
17737                        		__bra		.LL896
         1E:D6BA  4C 17 D8   			bra	.LL896
17738    1E:D6BD             	.LL894:
17739                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D6BD  AD 20 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D6C0  AC 21 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
17740                        		__equ_w.wi	168
         1E:D6C3  C9 A8      			cmp.l	#168
         1E:D6C5  D0 04      			bne	!false+
         1E:D6C7  C0 00      			cpy.h	#168
         1E:D6C9  F0 01      			beq	!+
         1E:D6CB  18         	!false:		clc
         1E:D6CC             	!:
17741                        		__bfalse	.LL897
         1E:D6CC  B0 03 4C 17			bcc	.LL897
         1E:D6D0  D8          
17742                        	
17743                        		.dbg	line,	"include\routines_TITLE.c", 56; {
17744                        	
17745                        		.dbg	line,	"include\routines_TITLE.c", 57; if(credits_amount > 2)
17746                        		__ld.umq	_credits_amount
         1E:D6D1  AD 2E 23   			lda	_credits_amount
17747                        		__ugt_b.uiq	2
         1E:D6D4  18         			clc			; Subtract integer+1 from A.
         1E:D6D5  E9 02      			sbc	#2		; CS if A > integer.
17748                        		__bfalse	.LL898
         1E:D6D7  B0 03 4C 17			bcc	.LL898
         1E:D6DB  D8          
17749                        	
17750                        		.dbg	line,	"include\routines_TITLE.c", 58; {
17751                        	
17752                        		.dbg	line,	"include\routines_TITLE.c", 59; credits_amount -= 1;
17753                        		__sub_st.umiq	1, _credits_amount
         1E:D6DC  CE 2E 23   			dec	_credits_amount
17754                        	
17755                        		.dbg	line,	"include\routines_TITLE.c", 60; put_number(credits_amount   ,  1 , 20 , 21);
17756                        		__ld.um		_credits_amount
         1E:D6DF  AD 2E 23   			lda	_credits_amount
         1E:D6E2  C2         			cly
17757                        		__st.wmq	_bx
         1E:D6E3  85 FA      			sta.l	_bx
         1E:D6E5  84 FB      			sty.h	_bx
17758                        		__st.umiq	1, _cl
         1E:D6E7  A9 01      			lda.l	#1
         1E:D6E9  85 FC      			sta	_cl
17759                        		__st.umiq	20, _dil
         1E:D6EB  A9 14      			lda.l	#20
         1E:D6ED  85 F0      			sta	_dil
17760                        		__st.umiq	21, _dih
         1E:D6EF  A9 15      			lda.l	#21
         1E:D6F1  85 F1      			sta	_dih
17761                        		__call		_put_number.4
         1E:D6F3  20 6D FF   			call	_put_number.4
17762                        	
17763                        		.dbg	line,	"include\routines_TITLE.c", 61; }
17764                        	
17765                        		.dbg	line,	"include\routines_TITLE.c", 62; }
17766    1E:D6F6             	.LL898	.alias		.LL899
17767                        	
17768                        		.dbg	line,	"include\routines_TITLE.c", 63; }
17769    1E:D6F6             	.LL897	.alias		.LL899
17770    1E:D6F6             	.LL896	.alias		.LL899
17771                        	
17772                        		.dbg	line,	"include\routines_TITLE.c", 66; else if(joytrg(JOYPAD_1) & JOY_UP)
17773                        		__bra		.LL899
         1E:D6F6  4C 17 D8   			bra	.LL899
17774    1E:D6F9             	.LL893:
17775                        		__ld.uiq	0
         1E:D6F9  62         			cla
17776                        		 _joytrg.1
         1E:D6FA  AA         			tax
         1E:D6FB  BD 2D 22   			lda	joytrg, x
         1E:D6FE  BC DD 22   			ldy	joy6trg, x
17777                        		__tand.wi	16
         1E:D701  29 10      			and	#16
         1E:D703  C9 01      	!:		cmp	#1
17778                        		__bfalse	.LL900
         1E:D705  90 5A      			bcc	.LL900
17779                        	
17780                        		.dbg	line,	"include\routines_TITLE.c", 67; {
17781                        	
17782                        		.dbg	line,	"include\routines_TITLE.c", 68; spr_set(0);
17783                        		__ld.uiq	0
         1E:D707  62         			cla
17784                        		__call		_spr_set.1
         1E:D708  20 F1 E7   			call	_spr_set.1
17785                        	
17786                        		.dbg	line,	"include\routines_TITLE.c", 69; selector_pos = spr_get_y();
17787                        		__call		_spr_get_y
         1E:D70B  20 8F E8   			call	_spr_get_y
17788                        		__st.wmq	__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D70E  8D 20 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D711  8C 21 2C   			sty.h	__joypad_BUTTONS_TITLE_end - 2
17789                        	
17790                        		.dbg	line,	"include\routines_TITLE.c", 71; if(selector_pos == 160)
17791                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D714  AD 20 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D717  AC 21 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
17792                        		__equ_w.wi	160
         1E:D71A  C9 A0      			cmp.l	#160
         1E:D71C  D0 04      			bne	!false+
         1E:D71E  C0 00      			cpy.h	#160
         1E:D720  F0 01      			beq	!+
         1E:D722  18         	!false:		clc
         1E:D723             	!:
17793                        		__bfalse	.LL901
         1E:D723  90 14      			bcc	.LL901
17794                        	
17795                        		.dbg	line,	"include\routines_TITLE.c", 72; {
17796                        	
17797                        		.dbg	line,	"include\routines_TITLE.c", 73; selector_pos = 144;
17798                        		__st.wmiq	144, __joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D725  A9 90      			lda.l	#144
         1E:D727  8D 20 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D72A  9C 21 2C   			stz.h	__joypad_BUTTONS_TITLE_end - 2
17799                        	
17800                        		.dbg	line,	"include\routines_TITLE.c", 74; spr_y(selector_pos);
17801                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D72D  AD 20 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D730  AC 21 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
17802                        		__call		_spr_y.1
         1E:D733  20 2D E8   			call	_spr_y.1
17803                        	
17804                        		.dbg	line,	"include\routines_TITLE.c", 75; }
17805                        	
17806                        		.dbg	line,	"include\routines_TITLE.c", 77; else if(selector_pos == 168)
17807                        		__bra		.LL902
         1E:D736  4C 17 D8   			bra	.LL902
17808    1E:D739             	.LL901:
17809                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D739  AD 20 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D73C  AC 21 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
17810                        		__equ_w.wi	168
         1E:D73F  C9 A8      			cmp.l	#168
         1E:D741  D0 04      			bne	!false+
         1E:D743  C0 00      			cpy.h	#168
         1E:D745  F0 01      			beq	!+
         1E:D747  18         	!false:		clc
         1E:D748             	!:
17811                        		__bfalse	.LL903
         1E:D748  B0 03 4C 17			bcc	.LL903
         1E:D74C  D8          
17812                        	
17813                        		.dbg	line,	"include\routines_TITLE.c", 78; {
17814                        	
17815                        		.dbg	line,	"include\routines_TITLE.c", 79; selector_pos = 160;
17816                        		__st.wmiq	160, __joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D74D  A9 A0      			lda.l	#160
         1E:D74F  8D 20 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D752  9C 21 2C   			stz.h	__joypad_BUTTONS_TITLE_end - 2
17817                        	
17818                        		.dbg	line,	"include\routines_TITLE.c", 80; spr_y(selector_pos);
17819                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D755  AD 20 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D758  AC 21 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
17820                        		__call		_spr_y.1
         1E:D75B  20 2D E8   			call	_spr_y.1
17821                        	
17822                        		.dbg	line,	"include\routines_TITLE.c", 81; }
17823                        	
17824                        		.dbg	line,	"include\routines_TITLE.c", 82; }
17825    1E:D75E             	.LL903	.alias		.LL904
17826    1E:D75E             	.LL902	.alias		.LL904
17827                        	
17828                        		.dbg	line,	"include\routines_TITLE.c", 85; else if(joytrg(JOYPAD_1) & JOY_DOWN)
17829                        		__bra		.LL904
         1E:D75E  4C 17 D8   			bra	.LL904
17830    1E:D761             	.LL900:
17831                        		__ld.uiq	0
         1E:D761  62         			cla
17832                        		 _joytrg.1
         1E:D762  AA         			tax
         1E:D763  BD 2D 22   			lda	joytrg, x
         1E:D766  BC DD 22   			ldy	joy6trg, x
17833                        		__tand.wi	64
         1E:D769  29 40      			and	#64
         1E:D76B  C9 01      	!:		cmp	#1
17834                        		__bfalse	.LL905
         1E:D76D  90 55      			bcc	.LL905
17835                        	
17836                        		.dbg	line,	"include\routines_TITLE.c", 86; {
17837                        	
17838                        		.dbg	line,	"include\routines_TITLE.c", 87; spr_set(0);
17839                        		__ld.uiq	0
         1E:D76F  62         			cla
17840                        		__call		_spr_set.1
         1E:D770  20 F1 E7   			call	_spr_set.1
17841                        	
17842                        		.dbg	line,	"include\routines_TITLE.c", 88; selector_pos = spr_get_y();
17843                        		__call		_spr_get_y
         1E:D773  20 8F E8   			call	_spr_get_y
17844                        		__st.wmq	__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D776  8D 20 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D779  8C 21 2C   			sty.h	__joypad_BUTTONS_TITLE_end - 2
17845                        	
17846                        		.dbg	line,	"include\routines_TITLE.c", 90; if(selector_pos == 144)
17847                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D77C  AD 20 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D77F  AC 21 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
17848                        		__equ_w.wi	144
         1E:D782  C9 90      			cmp.l	#144
         1E:D784  D0 04      			bne	!false+
         1E:D786  C0 00      			cpy.h	#144
         1E:D788  F0 01      			beq	!+
         1E:D78A  18         	!false:		clc
         1E:D78B             	!:
17849                        		__bfalse	.LL906
         1E:D78B  90 13      			bcc	.LL906
17850                        	
17851                        		.dbg	line,	"include\routines_TITLE.c", 91; {
17852                        	
17853                        		.dbg	line,	"include\routines_TITLE.c", 92; selector_pos = 160;
17854                        		__st.wmiq	160, __joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D78D  A9 A0      			lda.l	#160
         1E:D78F  8D 20 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D792  9C 21 2C   			stz.h	__joypad_BUTTONS_TITLE_end - 2
17855                        	
17856                        		.dbg	line,	"include\routines_TITLE.c", 93; spr_y(selector_pos);
17857                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D795  AD 20 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D798  AC 21 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
17858                        		__call		_spr_y.1
         1E:D79B  20 2D E8   			call	_spr_y.1
17859                        	
17860                        		.dbg	line,	"include\routines_TITLE.c", 94; }
17861                        	
17862                        		.dbg	line,	"include\routines_TITLE.c", 96; else if(selector_pos == 160)
17863                        		__bra		.LL907
         1E:D79E  80 77      			bra	.LL907
17864    1E:D7A0             	.LL906:
17865                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D7A0  AD 20 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D7A3  AC 21 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
17866                        		__equ_w.wi	160
         1E:D7A6  C9 A0      			cmp.l	#160
         1E:D7A8  D0 04      			bne	!false+
         1E:D7AA  C0 00      			cpy.h	#160
         1E:D7AC  F0 01      			beq	!+
         1E:D7AE  18         	!false:		clc
         1E:D7AF             	!:
17867                        		__bfalse	.LL908
         1E:D7AF  90 66      			bcc	.LL908
17868                        	
17869                        		.dbg	line,	"include\routines_TITLE.c", 97; {
17870                        	
17871                        		.dbg	line,	"include\routines_TITLE.c", 98; selector_pos = 168;
17872                        		__st.wmiq	168, __joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D7B1  A9 A8      			lda.l	#168
         1E:D7B3  8D 20 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D7B6  9C 21 2C   			stz.h	__joypad_BUTTONS_TITLE_end - 2
17873                        	
17874                        		.dbg	line,	"include\routines_TITLE.c", 99; spr_y(selector_pos);
17875                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D7B9  AD 20 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D7BC  AC 21 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
17876                        		__call		_spr_y.1
         1E:D7BF  20 2D E8   			call	_spr_y.1
17877                        	
17878                        		.dbg	line,	"include\routines_TITLE.c", 100; }        
17879                        	
17880                        		.dbg	line,	"include\routines_TITLE.c", 101; }
17881    1E:D7C2             	.LL908	.alias		.LL909
17882    1E:D7C2             	.LL907	.alias		.LL909
17883                        	
17884                        		.dbg	line,	"include\routines_TITLE.c", 104; else if(joytrg(JOYPAD_1) & JOY_I || joytrg(JOYPAD_1) & JOY_II || joytrg(JOYPAD_1) & JOY_RUN)
17885                        		__bra		.LL909
         1E:D7C2  80 53      			bra	.LL909
17886    1E:D7C4             	.LL905:
17887                        		__ld.uiq	0
         1E:D7C4  62         			cla
17888                        		 _joytrg.1
         1E:D7C5  AA         			tax
         1E:D7C6  BD 2D 22   			lda	joytrg, x
         1E:D7C9  BC DD 22   			ldy	joy6trg, x
17889                        		__tand.wi	1
         1E:D7CC  29 01      			and	#1
         1E:D7CE  C9 01      	!:		cmp	#1
17890                        		__btrue		.LL911
         1E:D7D0  B0 0C      			bcs	.LL911
17891                        		__ld.uiq	0
         1E:D7D2  62         			cla
17892                        		 _joytrg.1
         1E:D7D3  AA         			tax
         1E:D7D4  BD 2D 22   			lda	joytrg, x
         1E:D7D7  BC DD 22   			ldy	joy6trg, x
17893                        		__tand.wi	2
         1E:D7DA  29 02      			and	#2
         1E:D7DC  C9 01      	!:		cmp	#1
17894    1E:D7DE             	.LL911:
17895                        		__btrue		.LL912
         1E:D7DE  B0 0C      			bcs	.LL912
17896                        		__ld.uiq	0
         1E:D7E0  62         			cla
17897                        		 _joytrg.1
         1E:D7E1  AA         			tax
         1E:D7E2  BD 2D 22   			lda	joytrg, x
         1E:D7E5  BC DD 22   			ldy	joy6trg, x
17898                        		__tand.wi	8
         1E:D7E8  29 08      			and	#8
         1E:D7EA  C9 01      	!:		cmp	#1
17899    1E:D7EC             	.LL912:
17900                        		__bfalse	.LL910
         1E:D7EC  90 29      			bcc	.LL910
17901                        	
17902                        		.dbg	line,	"include\routines_TITLE.c", 105; {
17903                        	
17904                        		.dbg	line,	"include\routines_TITLE.c", 106; spr_set(0);
17905                        		__ld.uiq	0
         1E:D7EE  62         			cla
17906                        		__call		_spr_set.1
         1E:D7EF  20 F1 E7   			call	_spr_set.1
17907                        	
17908                        		.dbg	line,	"include\routines_TITLE.c", 107; selector_pos = spr_get_y();
17909                        		__call		_spr_get_y
         1E:D7F2  20 8F E8   			call	_spr_get_y
17910                        		__st.wmq	__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D7F5  8D 20 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D7F8  8C 21 2C   			sty.h	__joypad_BUTTONS_TITLE_end - 2
17911                        	
17912                        		.dbg	line,	"include\routines_TITLE.c", 109; // IF CURSOR IS ON START GAME //
17913                        	
17914                        		.dbg	line,	"include\routines_TITLE.c", 110; if(selector_pos == 144)
17915                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1E:D7FB  AD 20 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1E:D7FE  AC 21 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
17916                        		__equ_w.wi	144
         1E:D801  C9 90      			cmp.l	#144
         1E:D803  D0 04      			bne	!false+
         1E:D805  C0 00      			cpy.h	#144
         1E:D807  F0 01      			beq	!+
         1E:D809  18         	!false:		clc
         1E:D80A             	!:
17917                        		__bfalse	.LL913
         1E:D80A  90 0B      			bcc	.LL913
17918                        	
17919                        		.dbg	line,	"include\routines_TITLE.c", 111; {
17920                        	
17921                        		.dbg	line,	"include\routines_TITLE.c", 112; // DISABLE DISPLAY //
17922                        	
17923                        		.dbg	line,	"include\routines_TITLE.c", 113; disp_off();
17924                        		__call		_disp_off
         1E:D80C  20 3D E4   			call	_disp_off
17925                        	
17926                        		.dbg	line,	"include\routines_TITLE.c", 115; sequence_loaded = FALSE;
17927                        		__st.umiq	0, _sequence_loaded
         1E:D80F  9C 14 23   			stz	_sequence_loaded
17928                        	
17929                        		.dbg	line,	"include\routines_TITLE.c", 117; sequence_id = SEQUENCE_INTRO;
17930                        		__st.umiq	1, _sequence_id
         1E:D812  A9 01      			lda.l	#1
         1E:D814  8D 13 23   			sta	_sequence_id
17931                        	
17932                        		.dbg	line,	"include\routines_TITLE.c", 118; }
17933                        	
17934                        		.dbg	line,	"include\routines_TITLE.c", 119; }
17935    1E:D817             	.LL913:
17936                        	
17937                        		.dbg	line,	"include\routines_TITLE.c", 120; }
17938    1E:D817             	.LL910:
17939    1E:D817             	.LL909:
17940    1E:D817             	.LL904:
17941    1E:D817             	.LL899:
17942    1E:D817             	.LL892:
17943    1E:D817             	.LL885:
17944                        		__return	0
         1E:D817  4C EF FF   			jmp	leave_proc
17945                        		.dbg	clear
17946                        		.endp
17947               2310     		.bss
17948    F8:2310             	__joypad_BUTTONS_TITLE_end	.alias	leaf_stack
17949               E31D     		.code
17950                        		.pceas
17951                        	
17952                        		.dbg	line,	"main.c", 29; #include "include/init.c"
17953                        		.dbg	line,	"include\init.c", 1; #include "huc.h"
17954                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
17955                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
17956                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
17957                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
17958                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
17959                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
17960                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
17961                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
17962                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
17963                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
17964                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
17965                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
17966                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
17967                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
17968                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
17969                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
17970                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
17971                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
17972                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
17973                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
17974                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
17975                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
17976                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
17977                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
17978                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
17979                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
17980                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
17981                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
17982                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
17983                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
17984                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
17985                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
17986                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
17987                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
17988                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
17989                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
17990                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
17991                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
17992                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
17993                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
17994                        		.dbg	line,	"include\init.c", 2; #include "hucc-scroll.h"
17995                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
17996                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
17997                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
17998                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
17999                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
18000                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
18001                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
18002                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
18003                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
18004                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
18005                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
18006                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
18007                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
18008                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
18009                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
18010                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
18011                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
18012                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
18013                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
18014                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
18015                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
18016                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
18017                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
18018                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
18019                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
18020                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
18021                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
18022                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
18023                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
18024                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
18025                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
18026                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
18027                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
18028                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
18029                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
18030                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
18031                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
18032                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
18033                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
18034                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
18035                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
18036                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
18037                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
18038                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
18039                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
18040                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
18041                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
18042                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
18043                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
18044                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
18045                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
18046                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
18047                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
18048                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
18049                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
18050                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
18051                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
18052                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
18053                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
18054                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
18055                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
18056                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
18057                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
18058                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
18059                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
18060                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
18061                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
18062                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
18063                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
18064                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
18065                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
18066                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
18067                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
18068                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
18069                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
18070                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
18071                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
18072                        		.dbg	line,	"include\init.c", 3; #include "hucc-chrmap.h"
18073                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
18074                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
18075                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
18076                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
18077                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
18078                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
18079                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
18080                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
18081                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
18082                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
18083                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
18084                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
18085                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
18086                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
18087                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
18088                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
18089                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
18090                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
18091                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
18092                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
18093                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
18094                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
18095                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
18096                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
18097                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
18098                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
18099                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
18100                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
18101                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
18102                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
18103                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
18104                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
18105                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
18106                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
18107                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
18108                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
18109                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
18110                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
18111                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
18112                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
18113                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
18114                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
18115                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
18116                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
18117                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
18118                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
18119                        		.dbg	line,	"include\init.c", 4; #include "hucc-blkmap.h"
18120                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
18121                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
18122                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
18123                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
18124                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
18125                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
18126                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
18127                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
18128                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
18129                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
18130                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
18131                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
18132                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
18133                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
18134                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
18135                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
18136                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
18137                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
18138                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
18139                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
18140                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
18141                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
18142                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
18143                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
18144                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
18145                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
18146                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
18147                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
18148                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
18149                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
18150                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
18151                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
18152                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
18153                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
18154                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
18155                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
18156                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
18157                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
18158                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
18159                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
18160                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
18161                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
18162                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
18163                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
18164                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
18165                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
18166                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
18167                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
18168                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
18169                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
18170                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
18171                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
18172                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
18173                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
18174                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
18175                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
18176                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
18177                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
18178                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
18179                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
18180                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
18181                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
18182                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
18183                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
18184                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
18185                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
18186                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
18187                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
18188                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
18189                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
18190                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
18191                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
18192                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
18193                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
18194                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
18195                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
18196                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
18197                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
18198                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
18199                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
18200                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
18201                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
18202                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
18203                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
18204                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
18205                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
18206                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
18207                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
18208                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
18209                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
18210                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
18211                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
18212                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
18213                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
18214                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
18215                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
18216                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
18217                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
18218                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
18219                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
18220                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
18221                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
18222                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
18223                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
18224                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
18225                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
18226                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
18227                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
18228                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
18229                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
18230                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
18231                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
18232                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
18233                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
18234                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
18235                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
18236                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
18237                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
18238                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
18239                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
18240                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
18241                        		.dbg	line,	"include\init.c", 13; void init_SYSTEM()
18242                        		.dbg	line,	"include\init.c", 14; {
18243                        	;***********************
18244                        	;***********************
18245                        	
18246                        		.hucc
18247    0D:DFE0             		.proc		_init_SYSTEM
18248                        		__enter		_init_SYSTEM
18249                        	
18250                        		.dbg	line,	"include\init.c", 15; // DISABLE DISPLAY //
18251                        	
18252                        		.dbg	line,	"include\init.c", 16; disp_off();
18253                        		__call		_disp_off
         0D:DFE0  20 3D E4   			call	_disp_off
18254                        	
18255                        		.dbg	line,	"include\init.c", 18; // VSYNC //
18256                        	
18257                        		.dbg	line,	"include\init.c", 19; vsync();
18258                        		__call		_vsync
         0D:DFE3  20 1D E3   			call	_vsync
18259                        	
18260                        		.dbg	line,	"include\init.c", 21; // LOAD DEFAULT FONT //
18261                        	
18262                        		.dbg	line,	"include\init.c", 22; load_default_font();
18263                        		 _load_default_font
         0D:DFE6  82         			clx				; Offset to PCE VDC.
         0D:DFE7  20 C7 FF   			call	huc_monofont_x
18264                        	
18265                        		.dbg	line,	"include\init.c", 25; // SET VDC 1 SCREEN SIZE (IN TILES) - 32x32 = 256 PIXELS
18266                        	
18267                        		.dbg	line,	"include\init.c", 26; set_screen_size(SCR_SIZE_32x32);
18268                        		__st.umiq	0, _al
         0D:DFEA  64 F8      			stz	_al
18269                        		__call		_set_screen_size.1
         0D:DFEC  20 EB FE   			call	_set_screen_size.1
18270                        	
18271                        		.dbg	line,	"include\init.c", 29; // SET VDC 2 SCREEN SIZE (IN TILES) - 32x32 = 256 PIXELS
18272                        	
18273                        		.dbg	line,	"include\init.c", 30; sgx_set_screen_size(SCR_SIZE_32x32);
18274                        		__st.umiq	0, _al
         0D:DFEF  64 F8      			stz	_al
18275                        		__call		_sgx_set_screen_size.1
         0D:DFF1  20 E1 FE   			call	_sgx_set_screen_size.1
18276                        	
18277                        		.dbg	line,	"include\init.c", 33; // INIT SPRITE ATTRIBUTE TABLE //
18278                        	
18279                        		.dbg	line,	"include\init.c", 34; init_satb();
18280                        		__call		_init_satb
         0D:DFF4  20 CB E7   			call	_init_satb
18281                        	
18282                        		.dbg	line,	"include\init.c", 35; sgx_init_satb();
18283                        		__call		_sgx_init_satb
         0D:DFF7  20 DE E7   			call	_sgx_init_satb
18284                        	
18285                        		.dbg	line,	"include\init.c", 38; // ENABLE DISPLAY //
18286                        	
18287                        		.dbg	line,	"include\init.c", 39; //disp_on();
18288                        	
18289                        		.dbg	line,	"include\init.c", 40; }
18290    0D:DFFA             	.LL914:
18291                        		__return	0
         0D:DFFA  4C EF FF   			jmp	leave_proc
18292                        		.dbg	clear
18293                        		.endp
18294                        		.pceas
18295                        	
18296                        		.dbg	line,	"include\init.c", 43; void init_VARIABLES()
18297                        		.dbg	line,	"include\init.c", 44; {
18298                        	;***********************
18299                        	;***********************
18300                        	
18301                        		.hucc
18302    02:DFB8             		.proc		_init_VARIABLES
18303                        		__enter		_init_VARIABLES
18304                        	
18305                        		.dbg	line,	"include\init.c", 45; sequence_id = SEQUENCE_TITLE; // SEQUENCE_TITLE | SEQUENCE_INTRO | SEQUENCE_GAME | SEQUENCE_SHOP
18306                        		__st.umiq	0, _sequence_id
         02:DFB8  9C 13 23   			stz	_sequence_id
18307                        	
18308                        		.dbg	line,	"include\init.c", 47; letter_index = 0;
18309                        		__st.wmiq	0, _letter_index
         02:DFBB  9C 51 26   			stz.l	_letter_index
         02:DFBE  9C 52 26   			stz.h	_letter_index
18310                        	
18311                        		.dbg	line,	"include\init.c", 49; level_id = 1;
18312                        		__st.umiq	1, _level_id
         02:DFC1  A9 01      			lda.l	#1
         02:DFC3  8D 15 23   			sta	_level_id
18313                        	
18314                        		.dbg	line,	"include\init.c", 51; life_amount = 3;
18315                        		__st.umiq	3, _life_amount
         02:DFC6  A9 03      			lda.l	#3
         02:DFC8  8D 2D 23   			sta	_life_amount
18316                        	
18317                        		.dbg	line,	"include\init.c", 52; credits_amount = 2;
18318                        		__st.umiq	2, _credits_amount
         02:DFCB  A9 02      			lda.l	#2
         02:DFCD  8D 2E 23   			sta	_credits_amount
18319                        	
18320                        		.dbg	line,	"include\init.c", 53; key_amount = 0;
18321                        		__st.umiq	0, _key_amount
         02:DFD0  9C 2F 23   			stz	_key_amount
18322                        	
18323                        		.dbg	line,	"include\init.c", 54; potion_amount = 0;
18324                        		__st.umiq	0, _potion_amount
         02:DFD3  9C 30 23   			stz	_potion_amount
18325                        	
18326                        		.dbg	line,	"include\init.c", 55; zenny_amount = 0;
18327                        		__st.wmiq	0, _zenny_amount
         02:DFD6  9C 55 26   			stz.l	_zenny_amount
         02:DFD9  9C 56 26   			stz.h	_zenny_amount
18328                        	
18329                        		.dbg	line,	"include\init.c", 57; weapon_level = 0;
18330                        		__st.umiq	0, _weapon_level
         02:DFDC  9C 28 23   			stz	_weapon_level
18331                        	
18332                        		.dbg	line,	"include\init.c", 58; armor_level = 2;
18333                        		__st.umiq	2, _armor_level
         02:DFDF  A9 02      			lda.l	#2
         02:DFE1  8D 27 23   			sta	_armor_level
18334                        	
18335                        		.dbg	line,	"include\init.c", 59; 
18336                        	
18337                        		.dbg	line,	"include\init.c", 60; player_naked = FALSE;
18338                        		__st.umiq	0, _player_naked
         02:DFE4  9C 1F 23   			stz	_player_naked
18339                        	
18340                        		.dbg	line,	"include\init.c", 62; index_x = 0;
18341                        		__st.umiq	0, _index_x
         02:DFE7  9C EF 23   			stz	_index_x
18342                        	
18343                        		.dbg	line,	"include\init.c", 63; index_y = 0;
18344                        		__st.umiq	0, _index_y
         02:DFEA  9C F0 23   			stz	_index_y
18345                        	
18346                        		.dbg	line,	"include\init.c", 64; item_index = 0;
18347                        		__st.umiq	0, _item_index
         02:DFED  9C F1 23   			stz	_item_index
18348                        	
18349                        		.dbg	line,	"include\init.c", 65; shop_counter = 0;
18350                        		__st.umiq	0, _shop_counter
         02:DFF0  9C F3 23   			stz	_shop_counter
18351                        	
18352                        		.dbg	line,	"include\init.c", 66; shop_phase = SHOP_PHASE_ENTER;
18353                        		__st.umiq	0, _shop_phase
         02:DFF3  9C F2 23   			stz	_shop_phase
18354                        	
18355                        		.dbg	line,	"include\init.c", 68; respawn = FALSE;
18356                        		__st.umiq	0, _respawn
         02:DFF6  9C 16 23   			stz	_respawn
18357                        	
18358                        		.dbg	line,	"include\init.c", 70; sequence_loaded = FALSE;
18359                        		__st.umiq	0, _sequence_loaded
         02:DFF9  9C 14 23   			stz	_sequence_loaded
18360                        	
18361                        		.dbg	line,	"include\init.c", 71; }
18362    02:DFFC             	.LL915:
18363                        		__return	0
         02:DFFC  4C EF FF   			jmp	leave_proc
18364                        		.dbg	clear
18365                        		.endp
18366                        		.pceas
18367                        	
18368                        		.dbg	line,	"include\init.c", 74; void init_PLAYER()
18369                        		.dbg	line,	"include\init.c", 75; {
18370                        	;***********************
18371                        	;***********************
18372                        	
18373                        		.hucc
18374    1F:D2BE             		.proc		_init_PLAYER
18375                        		__enter		_init_PLAYER
18376                        	
18377                        		.dbg	line,	"include\init.c", 76; if(player_naked != RESPAWN_SHOP)
18378                        		__ld.umq	_player_naked
         1F:D2BE  AD 1F 23   			lda	_player_naked
18379                        		__neq_b.uiq	2
         1F:D2C1  38         			sec
         1F:D2C2  49 02      			eor	#2
         1F:D2C4  D0 01      			bne	!+
         1F:D2C6  18         			clc
         1F:D2C7             	!:
18380                        		__bfalse	.LL917
         1F:D2C7  90 03      			bcc	.LL917
18381                        	
18382                        		.dbg	line,	"include\init.c", 77; {
18383                        	
18384                        		.dbg	line,	"include\init.c", 78; player_naked = FALSE;
18385                        		__st.umiq	0, _player_naked
         1F:D2C9  9C 1F 23   			stz	_player_naked
18386                        	
18387                        		.dbg	line,	"include\init.c", 79; }
18388                        	
18389                        		.dbg	line,	"include\init.c", 80; 
18390                        	
18391                        		.dbg	line,	"include\init.c", 81; player_id = PLAYER_START_INDEX;
18392    1F:D2CC             	.LL917:
18393                        		__st.umiq	14, _player_id
         1F:D2CC  A9 0E      			lda.l	#14
         1F:D2CE  8D 17 23   			sta	_player_id
18394                        	
18395                        		.dbg	line,	"include\init.c", 82; player_axis = AXIS_RIGHT;
18396                        		__st.umiq	0, _player_axis
         1F:D2D1  9C 19 23   			stz	_player_axis
18397                        	
18398                        		.dbg	line,	"include\init.c", 83; player_previous_axis = player_axis;
18399                        		__ld.um		_player_axis
         1F:D2D4  AD 19 23   			lda	_player_axis
         1F:D2D7  C2         			cly
18400                        		__st.umq	_player_previous_axis
         1F:D2D8  8D 1A 23   			sta	_player_previous_axis
18401                        	
18402                        		.dbg	line,	"include\init.c", 84; player_counter_anim = 0;
18403                        		__st.umiq	0, _player_counter_anim
         1F:D2DB  9C 1B 23   			stz	_player_counter_anim
18404                        	
18405                        		.dbg	line,	"include\init.c", 85; player_index_jump = 0;
18406                        		__st.umiq	0, _player_index_jump
         1F:D2DE  9C 1C 23   			stz	_player_index_jump
18407                        	
18408                        		.dbg	line,	"include\init.c", 86; player_index_fall = 0;
18409                        		__st.umiq	0, _player_index_fall
         1F:D2E1  9C 1D 23   			stz	_player_index_fall
18410                        	
18411                        		.dbg	line,	"include\init.c", 87; fall_ladder = FALSE;
18412                        		__st.umiq	0, _fall_ladder
         1F:D2E4  9C 23 23   			stz	_fall_ladder
18413                        	
18414                        		.dbg	line,	"include\init.c", 88; player_counter_attack = 0;
18415                        		__st.umiq	0, _player_counter_attack
         1F:D2E7  9C 1E 23   			stz	_player_counter_attack
18416                        	
18417                        		.dbg	line,	"include\init.c", 89; player_attack = FALSE;
18418                        		__st.umiq	0, _player_attack
         1F:D2EA  9C 20 23   			stz	_player_attack
18419                        	
18420                        		.dbg	line,	"include\init.c", 90; player_state = STATE_IDLE;
18421                        		__st.umiq	0, _player_state
         1F:D2ED  9C 18 23   			stz	_player_state
18422                        	
18423                        		.dbg	line,	"include\init.c", 92; chain_id = player_id - 3;
18424                        		__ld.um		_player_id
         1F:D2F0  AD 17 23   			lda	_player_id
         1F:D2F3  C2         			cly
18425                        		__sub.wi	3
         1F:D2F4  38         			sec
         1F:D2F5  E9 03      			sbc.l	#3
         1F:D2F7  B0 01      			bcs	!+
         1F:D2F9  88         			dey
         1F:D2FA             	!:
18426                        		__st.umq	_chain_id
         1F:D2FA  8D 25 23   			sta	_chain_id
18427                        	
18428                        		.dbg	line,	"include\init.c", 93; }
18429    1F:D2FD             	.LL916:
18430                        		__return	0
         1F:D2FD  4C EF FF   			jmp	leave_proc
18431                        		.dbg	clear
18432                        		.endp
18433                        		.pceas
18434                        	
18435                        		.dbg	line,	"include\init.c", 102; void init_TITLE()
18436                        		.dbg	line,	"include\init.c", 103; {
18437                        	;***********************
18438                        	;***********************
18439                        	
18440                        		.hucc
18441    1E:DE83             		.proc		_init_TITLE
18442                        		__enter		_init_TITLE
18443                        	
18444                        		.dbg	line,	"include\init.c", 104; // DISABLE DISPLAY //
18445                        	
18446                        		.dbg	line,	"include\init.c", 105; disp_off();
18447                        		__call		_disp_off
         1E:DE83  20 3D E4   			call	_disp_off
18448                        	
18449                        		.dbg	line,	"include\init.c", 106; 
18450                        	
18451                        		.dbg	line,	"include\init.c", 108; // VSYNC //
18452                        	
18453                        		.dbg	line,	"include\init.c", 109; vsync();
18454                        		__call		_vsync
         1E:DE86  20 1D E3   			call	_vsync
18455                        	
18456                        		.dbg	line,	"include\init.c", 112; // SET VDC 1 SCREEN SIZE (IN TILES) - 64x64 = 256 PIXELS
18457                        	
18458                        		.dbg	line,	"include\init.c", 113; set_screen_size(SCR_SIZE_32x32);
18459                        		__st.umiq	0, _al
         1E:DE89  64 F8      			stz	_al
18460                        		__call		_set_screen_size.1
         1E:DE8B  20 EB FE   			call	_set_screen_size.1
18461                        	
18462                        		.dbg	line,	"include\init.c", 115; // SET VDC 2 SCREEN SIZE (IN TILES) - 32x32 = 512 PIXELS
18463                        	
18464                        		.dbg	line,	"include\init.c", 116; //sgx_set_screen_size(SCR_SIZE_32x32);
18465                        	
18466                        		.dbg	line,	"include\init.c", 121; //**************************************************************************************//
18467                        	
18468                        		.dbg	line,	"include\init.c", 122; //                                                                                      //
18469                        	
18470                        		.dbg	line,	"include\init.c", 123; //                                        VDC 1                                         //
18471                        	
18472                        		.dbg	line,	"include\init.c", 124; //                                                                                      //
18473                        	
18474                        		.dbg	line,	"include\init.c", 125; //**************************************************************************************//
18475                        	
18476                        		.dbg	line,	"include\init.c", 127; //--------------------------------------------------------------------------------------//
18477                        	
18478                        		.dbg	line,	"include\init.c", 128; //                                      LOAD FONT                                       //
18479                        	
18480                        		.dbg	line,	"include\init.c", 129; //--------------------------------------------------------------------------------------//
18481                        	
18482                        		.dbg	line,	"include\init.c", 131; load_vram( 0x0800, tileset_FONT_TITLE, SIZEOF(tileset_FONT_TITLE) >> 1 );
18483                        		__st.wmiq	2048, _di
         1E:DE8E  64 F0      			stz.l	_di
         1E:DE90  A9 08      			lda.h	#2048
         1E:DE92  85 F1      			sta.h	_di
18484                        		__farptr	_tileset_FONT_TITLE, _bp_bank, _bp
         1E:DE94  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_FONT_TITLE))
         1E:DE96  85 EC      			sta.l	_bp
         1E:DE98  A9 69      			lda.h	#$6000 + ($1FFF & (_tileset_FONT_TITLE))
         1E:DE9A  85 ED      			sta.h	_bp
         1E:DE9C  A9 12      			lda	#bank(_tileset_FONT_TITLE)
         1E:DE9E  85 02      			sta	_bp_bank
18485                        		__ld.wi		___sizeof__tileset_FONT_TITLE
         1E:DEA0  A9 00      			lda.l	#___sizeof__tileset_FONT_TITLE
         1E:DEA2  A0 0C      			ldy.h	#___sizeof__tileset_FONT_TITLE
18486                        		__lsr.wi	1
         1E:DEA4  42         			say
         1E:DEA5  4A         			lsr	a
         1E:DEA6  42         			say
         1E:DEA7  6A         			ror	a
18487                        		__st.wmq	_ax
         1E:DEA8  85 F8      			sta.l	_ax
         1E:DEAA  84 F9      			sty.h	_ax
18488                        		 _load_vram.3
         1E:DEAC  82         			clx				; Offset to PCE VDC.
         1E:DEAD  20 FF FE   			call	load_vram_x
18489                        	
18490                        		.dbg	line,	"include\init.c", 133; set_font_pal(15);
18491                        		__ld.uiq	15
         1E:DEB0  A9 0F      			lda	#15
18492                        		__call		_set_font_pal.1
         1E:DEB2  20 00 E6   			call	_set_font_pal.1
18493                        	
18494                        		.dbg	line,	"include\init.c", 137; //--------------------------------------------------------------------------------------//
18495                        	
18496                        		.dbg	line,	"include\init.c", 138; //                                    LOAD TILEMAP                                      //
18497                        	
18498                        		.dbg	line,	"include\init.c", 139; //--------------------------------------------------------------------------------------//
18499                        	
18500                        		.dbg	line,	"include\init.c", 141; load_vram( 0x0000, tilemap_TITLE_BG_B, SIZEOF(tilemap_TITLE_BG_B) >> 1 );
18501                        		__st.wmiq	0, _di
         1E:DEB5  64 F0      			stz.l	_di
         1E:DEB7  64 F1      			stz.h	_di
18502                        		__farptr	_tilemap_TITLE_BG_B, _bp_bank, _bp
         1E:DEB9  A9 40      			lda.l	#$6000 + ($1FFF & (_tilemap_TITLE_BG_B))
         1E:DEBB  85 EC      			sta.l	_bp
         1E:DEBD  A9 72      			lda.h	#$6000 + ($1FFF & (_tilemap_TITLE_BG_B))
         1E:DEBF  85 ED      			sta.h	_bp
         1E:DEC1  A9 13      			lda	#bank(_tilemap_TITLE_BG_B)
         1E:DEC3  85 02      			sta	_bp_bank
18503                        		__ld.wi		___sizeof__tilemap_TITLE_BG_B
         1E:DEC5  A9 00      			lda.l	#___sizeof__tilemap_TITLE_BG_B
         1E:DEC7  A0 07      			ldy.h	#___sizeof__tilemap_TITLE_BG_B
18504                        		__lsr.wi	1
         1E:DEC9  42         			say
         1E:DECA  4A         			lsr	a
         1E:DECB  42         			say
         1E:DECC  6A         			ror	a
18505                        		__st.wmq	_ax
         1E:DECD  85 F8      			sta.l	_ax
         1E:DECF  84 F9      			sty.h	_ax
18506                        		 _load_vram.3
         1E:DED1  82         			clx				; Offset to PCE VDC.
         1E:DED2  20 FF FE   			call	load_vram_x
18507                        	
18508                        		.dbg	line,	"include\init.c", 143; //--------------------------------------------------------------------------------------//
18509                        	
18510                        		.dbg	line,	"include\init.c", 144; //                                    LOAD TILESET                                      //
18511                        	
18512                        		.dbg	line,	"include\init.c", 145; //--------------------------------------------------------------------------------------//
18513                        	
18514                        		.dbg	line,	"include\init.c", 147; load_vram( 0x1000, tileset_TITLE_BG_B, SIZEOF(tileset_TITLE_BG_B) >> 1 );
18515                        		__st.wmiq	4096, _di
         1E:DED5  64 F0      			stz.l	_di
         1E:DED7  A9 10      			lda.h	#4096
         1E:DED9  85 F1      			sta.h	_di
18516                        		__farptr	_tileset_TITLE_BG_B, _bp_bank, _bp
         1E:DEDB  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_TITLE_BG_B))
         1E:DEDD  85 EC      			sta.l	_bp
         1E:DEDF  A9 75      			lda.h	#$6000 + ($1FFF & (_tileset_TITLE_BG_B))
         1E:DEE1  85 ED      			sta.h	_bp
         1E:DEE3  A9 12      			lda	#bank(_tileset_TITLE_BG_B)
         1E:DEE5  85 02      			sta	_bp_bank
18517                        		__ld.wi		___sizeof__tileset_TITLE_BG_B
         1E:DEE7  A9 60      			lda.l	#___sizeof__tileset_TITLE_BG_B
         1E:DEE9  A0 1C      			ldy.h	#___sizeof__tileset_TITLE_BG_B
18518                        		__lsr.wi	1
         1E:DEEB  42         			say
         1E:DEEC  4A         			lsr	a
         1E:DEED  42         			say
         1E:DEEE  6A         			ror	a
18519                        		__st.wmq	_ax
         1E:DEEF  85 F8      			sta.l	_ax
         1E:DEF1  84 F9      			sty.h	_ax
18520                        		 _load_vram.3
         1E:DEF3  82         			clx				; Offset to PCE VDC.
         1E:DEF4  20 FF FE   			call	load_vram_x
18521                        	
18522                        		.dbg	line,	"include\init.c", 152; //put_string("PRESS RUN"   , 11 , 18);
18523                        	
18524                        		.dbg	line,	"include\init.c", 153; put_string("START GAME"  	, 11 , 18);
18525                        		__ld.wi		__const1+0
         1E:DEF7  A9 00      			lda.l	#__const1+0
         1E:DEF9  A0 60      			ldy.h	#__const1+0
18526                        		__st.wmq	_bp
         1E:DEFB  85 EC      			sta.l	_bp
         1E:DEFD  84 ED      			sty.h	_bp
18527                        		__st.umiq	11, _dil
         1E:DEFF  A9 0B      			lda.l	#11
         1E:DF01  85 F0      			sta	_dil
18528                        		__st.umiq	18, _dih
         1E:DF03  A9 12      			lda.l	#18
         1E:DF05  85 F1      			sta	_dih
18529                        		__call		_put_string.3
         1E:DF07  20 5F E6   			call	_put_string.3
18530                        	
18531                        		.dbg	line,	"include\init.c", 155; put_string("LIFE"        	, 11 , 20);
18532                        		__ld.wi		__const1+11
         1E:DF0A  A9 0B      			lda.l	#__const1+11
         1E:DF0C  A0 60      			ldy.h	#__const1+11
18533                        		__st.wmq	_bp
         1E:DF0E  85 EC      			sta.l	_bp
         1E:DF10  84 ED      			sty.h	_bp
18534                        		__st.umiq	11, _dil
         1E:DF12  A9 0B      			lda.l	#11
         1E:DF14  85 F0      			sta	_dil
18535                        		__st.umiq	20, _dih
         1E:DF16  A9 14      			lda.l	#20
         1E:DF18  85 F1      			sta	_dih
18536                        		__call		_put_string.3
         1E:DF1A  20 5F E6   			call	_put_string.3
18537                        	
18538                        		.dbg	line,	"include\init.c", 156; put_number(life_amount   	,  1 , 20 , 20);
18539                        		__ld.um		_life_amount
         1E:DF1D  AD 2D 23   			lda	_life_amount
         1E:DF20  C2         			cly
18540                        		__st.wmq	_bx
         1E:DF21  85 FA      			sta.l	_bx
         1E:DF23  84 FB      			sty.h	_bx
18541                        		__st.umiq	1, _cl
         1E:DF25  A9 01      			lda.l	#1
         1E:DF27  85 FC      			sta	_cl
18542                        		__st.umiq	20, _dil
         1E:DF29  A9 14      			lda.l	#20
         1E:DF2B  85 F0      			sta	_dil
18543                        		__st.umiq	20, _dih
         1E:DF2D  A9 14      			lda.l	#20
         1E:DF2F  85 F1      			sta	_dih
18544                        		__call		_put_number.4
         1E:DF31  20 6D FF   			call	_put_number.4
18545                        	
18546                        		.dbg	line,	"include\init.c", 158; put_string("CREDITS"		, 11 , 21);
18547                        		__ld.wi		__const1+16
         1E:DF34  A9 10      			lda.l	#__const1+16
         1E:DF36  A0 60      			ldy.h	#__const1+16
18548                        		__st.wmq	_bp
         1E:DF38  85 EC      			sta.l	_bp
         1E:DF3A  84 ED      			sty.h	_bp
18549                        		__st.umiq	11, _dil
         1E:DF3C  A9 0B      			lda.l	#11
         1E:DF3E  85 F0      			sta	_dil
18550                        		__st.umiq	21, _dih
         1E:DF40  A9 15      			lda.l	#21
         1E:DF42  85 F1      			sta	_dih
18551                        		__call		_put_string.3
         1E:DF44  20 5F E6   			call	_put_string.3
18552                        	
18553                        		.dbg	line,	"include\init.c", 159; put_number(credits_amount   ,  1 , 20 , 21);
18554                        		__ld.um		_credits_amount
         1E:DF47  AD 2E 23   			lda	_credits_amount
         1E:DF4A  C2         			cly
18555                        		__st.wmq	_bx
         1E:DF4B  85 FA      			sta.l	_bx
         1E:DF4D  84 FB      			sty.h	_bx
18556                        		__st.umiq	1, _cl
         1E:DF4F  A9 01      			lda.l	#1
         1E:DF51  85 FC      			sta	_cl
18557                        		__st.umiq	20, _dil
         1E:DF53  A9 14      			lda.l	#20
         1E:DF55  85 F0      			sta	_dil
18558                        		__st.umiq	21, _dih
         1E:DF57  A9 15      			lda.l	#21
         1E:DF59  85 F1      			sta	_dih
18559                        		__call		_put_number.4
         1E:DF5B  20 6D FF   			call	_put_number.4
18560                        	
18561                        		.dbg	line,	"include\init.c", 161; put_string("CAPCOM 1987" 	, 11 , 26);
18562                        		__ld.wi		__const1+24
         1E:DF5E  A9 18      			lda.l	#__const1+24
         1E:DF60  A0 60      			ldy.h	#__const1+24
18563                        		__st.wmq	_bp
         1E:DF62  85 EC      			sta.l	_bp
         1E:DF64  84 ED      			sty.h	_bp
18564                        		__st.umiq	11, _dil
         1E:DF66  A9 0B      			lda.l	#11
         1E:DF68  85 F0      			sta	_dil
18565                        		__st.umiq	26, _dih
         1E:DF6A  A9 1A      			lda.l	#26
         1E:DF6C  85 F1      			sta	_dih
18566                        		__call		_put_string.3
         1E:DF6E  20 5F E6   			call	_put_string.3
18567                        	
18568                        		.dbg	line,	"include\init.c", 166; //--------------------------------------------------------------------------------------//
18569                        	
18570                        		.dbg	line,	"include\init.c", 167; //                                   LOAD BG PALETTES                                   //
18571                        	
18572                        		.dbg	line,	"include\init.c", 168; //--------------------------------------------------------------------------------------//
18573                        	
18574                        		.dbg	line,	"include\init.c", 170; load_palette( 0, palette_TITLE, 16 );
18575                        		__st.umiq	0, _al
         1E:DF71  64 F8      			stz	_al
18576                        		__farptr	_palette_TITLE, _bp_bank, _bp
         1E:DF73  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_TITLE))
         1E:DF75  85 EC      			sta.l	_bp
         1E:DF77  A9 79      			lda.h	#$6000 + ($1FFF & (_palette_TITLE))
         1E:DF79  85 ED      			sta.h	_bp
         1E:DF7B  A9 13      			lda	#bank(_palette_TITLE)
         1E:DF7D  85 02      			sta	_bp_bank
18577                        		__st.umiq	16, _ah
         1E:DF7F  A9 10      			lda.l	#16
         1E:DF81  85 F9      			sta	_ah
18578                        		__call		_load_palette.3
         1E:DF83  20 8B FF   			call	_load_palette.3
18579                        	
18580                        		.dbg	line,	"include\init.c", 175; //**************************************************************************************//
18581                        	
18582                        		.dbg	line,	"include\init.c", 176; //                                                                                      //
18583                        	
18584                        		.dbg	line,	"include\init.c", 177; //                                       SPRITES                                        //
18585                        	
18586                        		.dbg	line,	"include\init.c", 178; //                                                                                      //
18587                        	
18588                        		.dbg	line,	"include\init.c", 179; //**************************************************************************************//
18589                        	
18590                        		.dbg	line,	"include\init.c", 181; //--------------------------------------------------------------------------------------//
18591                        	
18592                        		.dbg	line,	"include\init.c", 182; //                                        CURSOR                                        //
18593                        	
18594                        		.dbg	line,	"include\init.c", 183; //--------------------------------------------------------------------------------------//
18595                        	
18596                        		.dbg	line,	"include\init.c", 185; // LOAD CURSOR TILES //
18597                        	
18598                        		.dbg	line,	"include\init.c", 186; load_vram(0x2000, tiles_SPR_SELECTOR , SIZEOF(tiles_SPR_SELECTOR) >> 1 );
18599                        		__st.wmiq	8192, _di
         1E:DF86  64 F0      			stz.l	_di
         1E:DF88  A9 20      			lda.h	#8192
         1E:DF8A  85 F1      			sta.h	_di
18600                        		__farptr	_tiles_SPR_SELECTOR, _bp_bank, _bp
         1E:DF8C  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_SELECTOR))
         1E:DF8E  85 EC      			sta.l	_bp
         1E:DF90  A9 7D      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_SELECTOR))
         1E:DF92  85 ED      			sta.h	_bp
         1E:DF94  A9 15      			lda	#bank(_tiles_SPR_SELECTOR)
         1E:DF96  85 02      			sta	_bp_bank
18601                        		__ld.wi		___sizeof__tiles_SPR_SELECTOR
         1E:DF98  A9 80      			lda.l	#___sizeof__tiles_SPR_SELECTOR
         1E:DF9A  A0 00      			ldy.h	#___sizeof__tiles_SPR_SELECTOR
18602                        		__lsr.wi	1
         1E:DF9C  42         			say
         1E:DF9D  4A         			lsr	a
         1E:DF9E  42         			say
         1E:DF9F  6A         			ror	a
18603                        		__st.wmq	_ax
         1E:DFA0  85 F8      			sta.l	_ax
         1E:DFA2  84 F9      			sty.h	_ax
18604                        		 _load_vram.3
         1E:DFA4  82         			clx				; Offset to PCE VDC.
         1E:DFA5  20 FF FE   			call	load_vram_x
18605                        	
18606                        		.dbg	line,	"include\init.c", 189; // SELECT CURSOR SPRITE //
18607                        	
18608                        		.dbg	line,	"include\init.c", 190; spr_set(0);
18609                        		__ld.uiq	0
         1E:DFA8  62         			cla
18610                        		__call		_spr_set.1
         1E:DFA9  20 F1 E7   			call	_spr_set.1
18611                        	
18612                        		.dbg	line,	"include\init.c", 193; spr_x(72);
18613                        		__ld.wi		72
         1E:DFAC  A9 48      			lda.l	#72
         1E:DFAE  C2         			cly
18614                        		__call		_spr_x.1
         1E:DFAF  20 1E E8   			call	_spr_x.1
18615                        	
18616                        		.dbg	line,	"include\init.c", 194; spr_y(144);
18617                        		__ld.wi		144
         1E:DFB2  A9 90      			lda.l	#144
         1E:DFB4  C2         			cly
18618                        		__call		_spr_y.1
         1E:DFB5  20 2D E8   			call	_spr_y.1
18619                        	
18620                        		.dbg	line,	"include\init.c", 196; // SET TILES DATA FOR THE CURSOR //
18621                        	
18622                        		.dbg	line,	"include\init.c", 197; spr_pattern(0x2000);
18623                        		__ld.wi		8192
         1E:DFB8  62         			cla
         1E:DFB9  A0 20      			ldy.h	#8192
18624                        		__call		_spr_pattern.1
         1E:DFBB  20 3A E8   			call	_spr_pattern.1
18625                        	
18626                        		.dbg	line,	"include\init.c", 200; spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_16x16);
18627                        		__st.umiq	185, _al
         1E:DFBE  A9 B9      			lda.l	#185
         1E:DFC0  85 F8      			sta	_al
18628                        		__ld.uiq	0
         1E:DFC2  62         			cla
18629                        		__call		_spr_ctrl.2
         1E:DFC3  20 50 E8   			call	_spr_ctrl.2
18630                        	
18631                        		.dbg	line,	"include\init.c", 203; spr_pal(16);
18632                        		__ld.uiq	16
         1E:DFC6  A9 10      			lda	#16
18633                        		__call		_spr_pal.1
         1E:DFC8  20 61 E8   			call	_spr_pal.1
18634                        	
18635                        		.dbg	line,	"include\init.c", 204; spr_pri(TRUE);
18636                        		__ld.uiq	1
         1E:DFCB  A9 01      			lda	#1
18637                        		__call		_spr_pri.1
         1E:DFCD  20 70 E8   			call	_spr_pri.1
18638                        	
18639                        		.dbg	line,	"include\init.c", 207; //--------------------------------------------------------------------------------------//
18640                        	
18641                        		.dbg	line,	"include\init.c", 208; //                                LOAD SPRITES PALETTES                                 //
18642                        	
18643                        		.dbg	line,	"include\init.c", 209; //--------------------------------------------------------------------------------------//
18644                        	
18645                        		.dbg	line,	"include\init.c", 211; load_palette( 16, palette_objects_2, 1 );
18646                        		__st.umiq	16, _al
         1E:DFD0  A9 10      			lda.l	#16
         1E:DFD2  85 F8      			sta	_al
18647                        		__farptr	_palette_objects_2, _bp_bank, _bp
         1E:DFD4  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_objects_2))
         1E:DFD6  85 EC      			sta.l	_bp
         1E:DFD8  A9 74      			lda.h	#$6000 + ($1FFF & (_palette_objects_2))
         1E:DFDA  85 ED      			sta.h	_bp
         1E:DFDC  A9 1A      			lda	#bank(_palette_objects_2)
         1E:DFDE  85 02      			sta	_bp_bank
18648                        		__st.umiq	1, _ah
         1E:DFE0  A9 01      			lda.l	#1
         1E:DFE2  85 F9      			sta	_ah
18649                        		__call		_load_palette.3
         1E:DFE4  20 8B FF   			call	_load_palette.3
18650                        	
18651                        		.dbg	line,	"include\init.c", 216; // UPDATE PCE SAT //
18652                        	
18653                        		.dbg	line,	"include\init.c", 217; satb_update();
18654                        		__call		_satb_update
         1E:DFE7  20 D7 FE   			call	_satb_update
18655                        	
18656                        		.dbg	line,	"include\init.c", 222; // VSYNC //
18657                        	
18658                        		.dbg	line,	"include\init.c", 223; vsync();
18659                        		__call		_vsync
         1E:DFEA  20 1D E3   			call	_vsync
18660                        	
18661                        		.dbg	line,	"include\init.c", 225; // ENABLE DISPLAY //
18662                        	
18663                        		.dbg	line,	"include\init.c", 226; disp_on();
18664                        		__call		_disp_on
         1E:DFED  20 2A E4   			call	_disp_on
18665                        	
18666                        		.dbg	line,	"include\init.c", 227; }
18667    1E:DFF0             	.LL918:
18668                        		__return	0
         1E:DFF0  4C EF FF   			jmp	leave_proc
18669                        		.dbg	clear
18670                        		.endp
18671                        		.pceas
18672                        	
18673                        		.dbg	line,	"include\init.c", 233; void init_INTRO()
18674                        		.dbg	line,	"include\init.c", 234; {
18675                        	;***********************
18676                        	;***********************
18677                        	
18678                        		.hucc
18679    1E:D81A             		.proc		_init_INTRO
18680                        		__enter		_init_INTRO
18681                        	
18682                        		.dbg	line,	"include\init.c", 235; char i;
18683                        	
18684                        		.dbg	line,	"include\init.c", 236; 
18685                        	
18686                        		.dbg	line,	"include\init.c", 237; // DISABLE DISPLAY //
18687                        	
18688                        		.dbg	line,	"include\init.c", 238; disp_off();
18689                        		__call		_disp_off
         1E:D81A  20 3D E4   			call	_disp_off
18690                        	
18691                        		.dbg	line,	"include\init.c", 239; 
18692                        	
18693                        		.dbg	line,	"include\init.c", 241; // VSYNC //
18694                        	
18695                        		.dbg	line,	"include\init.c", 242; vsync();
18696                        		__call		_vsync
         1E:D81D  20 1D E3   			call	_vsync
18697                        	
18698                        		.dbg	line,	"include\init.c", 245; // SET VDC 1 SCREEN SIZE (IN TILES) - 64x64 = 256 PIXELS
18699                        	
18700                        		.dbg	line,	"include\init.c", 246; set_screen_size(SCR_SIZE_64x64);
18701                        		__st.umiq	5, _al
         1E:D820  A9 05      			lda.l	#5
         1E:D822  85 F8      			sta	_al
18702                        		__call		_set_screen_size.1
         1E:D824  20 EB FE   			call	_set_screen_size.1
18703                        	
18704                        		.dbg	line,	"include\init.c", 248; // SET VDC 2 SCREEN SIZE (IN TILES) - 32x32 = 256 PIXELS
18705                        	
18706                        		.dbg	line,	"include\init.c", 249; sgx_set_screen_size(SCR_SIZE_32x32);
18707                        		__st.umiq	0, _al
         1E:D827  64 F8      			stz	_al
18708                        		__call		_sgx_set_screen_size.1
         1E:D829  20 E1 FE   			call	_sgx_set_screen_size.1
18709                        	
18710                        		.dbg	line,	"include\init.c", 254; //**************************************************************************************//
18711                        	
18712                        		.dbg	line,	"include\init.c", 255; //                                                                                      //
18713                        	
18714                        		.dbg	line,	"include\init.c", 256; //                                      VARIABLES                                       //
18715                        	
18716                        		.dbg	line,	"include\init.c", 257; //                                                                                      //
18717                        	
18718                        		.dbg	line,	"include\init.c", 258; //**************************************************************************************//
18719                        	
18720                        		.dbg	line,	"include\init.c", 260; global_counter = 1;
18721                        		__st.wmiq	1, _global_counter
         1E:D82C  A9 01      			lda.l	#1
         1E:D82E  8D 4F 26   			sta.l	_global_counter
         1E:D831  9C 50 26   			stz.h	_global_counter
18722                        	
18723                        		.dbg	line,	"include\init.c", 262; vdc_map_pxl_x = 0;
18724                        		__st.wmiq	0, _vdc_map_pxl_x
         1E:D834  9C C8 26   			stz.l	_vdc_map_pxl_x
         1E:D837  9C C9 26   			stz.h	_vdc_map_pxl_x
18725                        	
18726                        		.dbg	line,	"include\init.c", 263; vdc_map_pxl_y = 0;
18727                        		__st.wmiq	0, _vdc_map_pxl_y
         1E:D83A  9C CA 26   			stz.l	_vdc_map_pxl_y
         1E:D83D  9C CB 26   			stz.h	_vdc_map_pxl_y
18728                        	
18729                        		.dbg	line,	"include\init.c", 268; //**************************************************************************************//
18730                        	
18731                        		.dbg	line,	"include\init.c", 269; //                                                                                      //
18732                        	
18733                        		.dbg	line,	"include\init.c", 270; //                                        VDC 1                                         //
18734                        	
18735                        		.dbg	line,	"include\init.c", 271; //                                                                                      //
18736                        	
18737                        		.dbg	line,	"include\init.c", 272; //**************************************************************************************//
18738                        	
18739                        		.dbg	line,	"include\init.c", 274; //--------------------------------------------------------------------------------------//
18740                        	
18741                        		.dbg	line,	"include\init.c", 275; //                                    LOAD TILEMAP                                      //
18742                        	
18743                        		.dbg	line,	"include\init.c", 276; //--------------------------------------------------------------------------------------//
18744                        	
18745                        		.dbg	line,	"include\init.c", 278; load_vram( 0x0000, tilemap_INTRO_BG_A, SIZEOF(tilemap_INTRO_BG_A) >> 1 );
18746                        		__st.wmiq	0, _di
         1E:D840  64 F0      			stz.l	_di
         1E:D842  64 F1      			stz.h	_di
18747                        		__farptr	_tilemap_INTRO_BG_A, _bp_bank, _bp
         1E:D844  A9 E0      			lda.l	#$6000 + ($1FFF & (_tilemap_INTRO_BG_A))
         1E:D846  85 EC      			sta.l	_bp
         1E:D848  A9 76      			lda.h	#$6000 + ($1FFF & (_tilemap_INTRO_BG_A))
         1E:D84A  85 ED      			sta.h	_bp
         1E:D84C  A9 05      			lda	#bank(_tilemap_INTRO_BG_A)
         1E:D84E  85 02      			sta	_bp_bank
18748                        		__ld.wi		___sizeof__tilemap_INTRO_BG_A
         1E:D850  A9 00      			lda.l	#___sizeof__tilemap_INTRO_BG_A
         1E:D852  A0 20      			ldy.h	#___sizeof__tilemap_INTRO_BG_A
18749                        		__lsr.wi	1
         1E:D854  42         			say
         1E:D855  4A         			lsr	a
         1E:D856  42         			say
         1E:D857  6A         			ror	a
18750                        		__st.wmq	_ax
         1E:D858  85 F8      			sta.l	_ax
         1E:D85A  84 F9      			sty.h	_ax
18751                        		 _load_vram.3
         1E:D85C  82         			clx				; Offset to PCE VDC.
         1E:D85D  20 FF FE   			call	load_vram_x
18752                        	
18753                        		.dbg	line,	"include\init.c", 280; //--------------------------------------------------------------------------------------//
18754                        	
18755                        		.dbg	line,	"include\init.c", 281; //                                    LOAD TILESET                                      //
18756                        	
18757                        		.dbg	line,	"include\init.c", 282; //--------------------------------------------------------------------------------------//
18758                        	
18759                        		.dbg	line,	"include\init.c", 284; load_vram( 0x1000, tileset_INTRO_BG_A, SIZEOF(tileset_INTRO_BG_A) >> 1 );
18760                        		__st.wmiq	4096, _di
         1E:D860  64 F0      			stz.l	_di
         1E:D862  A9 10      			lda.h	#4096
         1E:D864  85 F1      			sta.h	_di
18761                        		__farptr	_tileset_INTRO_BG_A, _bp_bank, _bp
         1E:D866  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_INTRO_BG_A))
         1E:D868  85 EC      			sta.l	_bp
         1E:D86A  A9 6B      			lda.h	#$6000 + ($1FFF & (_tileset_INTRO_BG_A))
         1E:D86C  85 ED      			sta.h	_bp
         1E:D86E  A9 05      			lda	#bank(_tileset_INTRO_BG_A)
         1E:D870  85 02      			sta	_bp_bank
18762                        		__ld.wi		___sizeof__tileset_INTRO_BG_A
         1E:D872  A9 80      			lda.l	#___sizeof__tileset_INTRO_BG_A
         1E:D874  A0 0B      			ldy.h	#___sizeof__tileset_INTRO_BG_A
18763                        		__lsr.wi	1
         1E:D876  42         			say
         1E:D877  4A         			lsr	a
         1E:D878  42         			say
         1E:D879  6A         			ror	a
18764                        		__st.wmq	_ax
         1E:D87A  85 F8      			sta.l	_ax
         1E:D87C  84 F9      			sty.h	_ax
18765                        		 _load_vram.3
         1E:D87E  82         			clx				; Offset to PCE VDC.
         1E:D87F  20 FF FE   			call	load_vram_x
18766                        	
18767                        		.dbg	line,	"include\init.c", 287; //--------------------------------------------------------------------------------------//
18768                        	
18769                        		.dbg	line,	"include\init.c", 288; //                                    SCROLL SPLIT                                      //
18770                        	
18771                        		.dbg	line,	"include\init.c", 289; //--------------------------------------------------------------------------------------//
18772                        	
18773                        		.dbg	line,	"include\init.c", 291; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
18774                        		__st.umiq	0, _al
         1E:D882  64 F8      			stz	_al
18775                        		__st.umiq	0, _ah
         1E:D884  64 F9      			stz	_ah
18776                        		__ld.wm		_vdc_map_pxl_x
         1E:D886  AD C8 26   			lda.l	_vdc_map_pxl_x
         1E:D889  AC C9 26   			ldy.h	_vdc_map_pxl_x
18777                        		__and.wi	511
         1E:D88C  29 FF      			and.l	#511
         1E:D88E  42         			say
         1E:D88F  29 01      			and.h	#511
         1E:D891  42         			say
18778                        		__st.wmq	_bx
         1E:D892  85 FA      			sta.l	_bx
         1E:D894  84 FB      			sty.h	_bx
18779                        		__ld.wm		_vdc_map_pxl_y
         1E:D896  AD CA 26   			lda.l	_vdc_map_pxl_y
         1E:D899  AC CB 26   			ldy.h	_vdc_map_pxl_y
18780                        		__and.wi	511
         1E:D89C  29 FF      			and.l	#511
         1E:D89E  42         			say
         1E:D89F  29 01      			and.h	#511
         1E:D8A1  42         			say
18781                        		__st.wmq	_cx
         1E:D8A2  85 FC      			sta.l	_cx
         1E:D8A4  84 FD      			sty.h	_cx
18782                        		__st.umiq	192, _dl
         1E:D8A6  A9 C0      			lda.l	#192
         1E:D8A8  85 FE      			sta	_dl
18783                        		__call		_scroll_split.5
         1E:D8AA  20 81 FF   			call	_scroll_split.5
18784                        	
18785                        		.dbg	line,	"include\init.c", 296; //--------------------------------------------------------------------------------------//
18786                        	
18787                        		.dbg	line,	"include\init.c", 297; //                                      LOAD FONT                                       //
18788                        	
18789                        		.dbg	line,	"include\init.c", 298; //--------------------------------------------------------------------------------------//
18790                        	
18791                        		.dbg	line,	"include\init.c", 300; set_font_addr(0x3000);
18792                        		__ld.wi		12288
         1E:D8AD  62         			cla
         1E:D8AE  A0 30      			ldy.h	#12288
18793                        		__call		_set_font_addr.1
         1E:D8B0  20 D9 E5   			call	_set_font_addr.1
18794                        	
18795                        		.dbg	line,	"include\init.c", 301; load_vram( 0x3000, tileset_FONT_INTRO, SIZEOF(tileset_FONT_INTRO) >> 1 );
18796                        		__st.wmiq	12288, _di
         1E:D8B3  64 F0      			stz.l	_di
         1E:D8B5  A9 30      			lda.h	#12288
         1E:D8B7  85 F1      			sta.h	_di
18797                        		__farptr	_tileset_FONT_INTRO, _bp_bank, _bp
         1E:D8B9  A9 00      			lda.l	#$6000 + ($1FFF & (_tileset_FONT_INTRO))
         1E:D8BB  85 EC      			sta.l	_bp
         1E:D8BD  A9 60      			lda.h	#$6000 + ($1FFF & (_tileset_FONT_INTRO))
         1E:D8BF  85 ED      			sta.h	_bp
         1E:D8C1  A9 03      			lda	#bank(_tileset_FONT_INTRO)
         1E:D8C3  85 02      			sta	_bp_bank
18798                        		__ld.wi		___sizeof__tileset_FONT_INTRO
         1E:D8C5  A9 00      			lda.l	#___sizeof__tileset_FONT_INTRO
         1E:D8C7  A0 0C      			ldy.h	#___sizeof__tileset_FONT_INTRO
18799                        		__lsr.wi	1
         1E:D8C9  42         			say
         1E:D8CA  4A         			lsr	a
         1E:D8CB  42         			say
         1E:D8CC  6A         			ror	a
18800                        		__st.wmq	_ax
         1E:D8CD  85 F8      			sta.l	_ax
         1E:D8CF  84 F9      			sty.h	_ax
18801                        		 _load_vram.3
         1E:D8D1  82         			clx				; Offset to PCE VDC.
         1E:D8D2  20 FF FE   			call	load_vram_x
18802                        	
18803                        		.dbg	line,	"include\init.c", 303; set_font_pal(15);
18804                        		__ld.uiq	15
         1E:D8D5  A9 0F      			lda	#15
18805                        		__call		_set_font_pal.1
         1E:D8D7  20 00 E6   			call	_set_font_pal.1
18806                        	
18807                        		.dbg	line,	"include\init.c", 307; //**************************************************************************************//
18808                        	
18809                        		.dbg	line,	"include\init.c", 308; //                                                                                      //
18810                        	
18811                        		.dbg	line,	"include\init.c", 309; //                                        VDC 2                                         //
18812                        	
18813                        		.dbg	line,	"include\init.c", 310; //                                                                                      //
18814                        	
18815                        		.dbg	line,	"include\init.c", 311; //**************************************************************************************//
18816                        	
18817                        		.dbg	line,	"include\init.c", 313; //--------------------------------------------------------------------------------------//
18818                        	
18819                        		.dbg	line,	"include\init.c", 314; //                                    LOAD TILEMAP                                      //
18820                        	
18821                        		.dbg	line,	"include\init.c", 315; //--------------------------------------------------------------------------------------//
18822                        	
18823                        		.dbg	line,	"include\init.c", 317; sgx_load_vram( 0x0000, tilemap_INTRO_BG_B, SIZEOF(tilemap_INTRO_BG_B) >> 1 );
18824                        		__st.wmiq	0, _di
         1E:D8DA  64 F0      			stz.l	_di
         1E:D8DC  64 F1      			stz.h	_di
18825                        		__farptr	_tilemap_INTRO_BG_B, _bp_bank, _bp
         1E:D8DE  A9 60      			lda.l	#$6000 + ($1FFF & (_tilemap_INTRO_BG_B))
         1E:D8E0  85 EC      			sta.l	_bp
         1E:D8E2  A9 64      			lda.h	#$6000 + ($1FFF & (_tilemap_INTRO_BG_B))
         1E:D8E4  85 ED      			sta.h	_bp
         1E:D8E6  A9 05      			lda	#bank(_tilemap_INTRO_BG_B)
         1E:D8E8  85 02      			sta	_bp_bank
18826                        		__ld.wi		___sizeof__tilemap_INTRO_BG_B
         1E:D8EA  A9 00      			lda.l	#___sizeof__tilemap_INTRO_BG_B
         1E:D8EC  A0 07      			ldy.h	#___sizeof__tilemap_INTRO_BG_B
18827                        		__lsr.wi	1
         1E:D8EE  42         			say
         1E:D8EF  4A         			lsr	a
         1E:D8F0  42         			say
         1E:D8F1  6A         			ror	a
18828                        		__st.wmq	_ax
         1E:D8F2  85 F8      			sta.l	_ax
         1E:D8F4  84 F9      			sty.h	_ax
18829                        		 _sgx_load_vram.3
         1E:D8F6  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D8F8  20 FF FE   			call	load_vram_x
18830                        	
18831                        		.dbg	line,	"include\init.c", 319; //--------------------------------------------------------------------------------------//
18832                        	
18833                        		.dbg	line,	"include\init.c", 320; //                                    LOAD TILESET                                      //
18834                        	
18835                        		.dbg	line,	"include\init.c", 321; //--------------------------------------------------------------------------------------//
18836                        	
18837                        		.dbg	line,	"include\init.c", 323; sgx_load_vram( 0x1000, tileset_INTRO_BG_B, SIZEOF(tileset_INTRO_BG_B) >> 1 );
18838                        		__st.wmiq	4096, _di
         1E:D8FB  64 F0      			stz.l	_di
         1E:D8FD  A9 10      			lda.h	#4096
         1E:D8FF  85 F1      			sta.h	_di
18839                        		__farptr	_tileset_INTRO_BG_B, _bp_bank, _bp
         1E:D901  A9 00      			lda.l	#$6000 + ($1FFF & (_tileset_INTRO_BG_B))
         1E:D903  85 EC      			sta.l	_bp
         1E:D905  A9 70      			lda.h	#$6000 + ($1FFF & (_tileset_INTRO_BG_B))
         1E:D907  85 ED      			sta.h	_bp
         1E:D909  A9 03      			lda	#bank(_tileset_INTRO_BG_B)
         1E:D90B  85 02      			sta	_bp_bank
18840                        		__ld.wi		___sizeof__tileset_INTRO_BG_B
         1E:D90D  A9 60      			lda.l	#___sizeof__tileset_INTRO_BG_B
         1E:D90F  A0 34      			ldy.h	#___sizeof__tileset_INTRO_BG_B
18841                        		__lsr.wi	1
         1E:D911  42         			say
         1E:D912  4A         			lsr	a
         1E:D913  42         			say
         1E:D914  6A         			ror	a
18842                        		__st.wmq	_ax
         1E:D915  85 F8      			sta.l	_ax
         1E:D917  84 F9      			sty.h	_ax
18843                        		 _sgx_load_vram.3
         1E:D919  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D91B  20 FF FE   			call	load_vram_x
18844                        	
18845                        		.dbg	line,	"include\init.c", 328; //--------------------------------------------------------------------------------------//
18846                        	
18847                        		.dbg	line,	"include\init.c", 329; //                                   LOAD BG PALETTES                                   //
18848                        	
18849                        		.dbg	line,	"include\init.c", 330; //--------------------------------------------------------------------------------------//
18850                        	
18851                        		.dbg	line,	"include\init.c", 332; // STORES DESTINATION PALETTE FOR FADE //
18852                        	
18853                        		.dbg	line,	"include\init.c", 333; load_palette( 0, palette_INTRO_1, 1 );
18854                        		__st.umiq	0, _al
         1E:D91E  64 F8      			stz	_al
18855                        		__farptr	_palette_INTRO_1, _bp_bank, _bp
         1E:D920  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_1))
         1E:D922  85 EC      			sta.l	_bp
         1E:D924  A9 76      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_1))
         1E:D926  85 ED      			sta.h	_bp
         1E:D928  A9 06      			lda	#bank(_palette_INTRO_1)
         1E:D92A  85 02      			sta	_bp_bank
18856                        		__st.umiq	1, _ah
         1E:D92C  A9 01      			lda.l	#1
         1E:D92E  85 F9      			sta	_ah
18857                        		__call		_load_palette.3
         1E:D930  20 8B FF   			call	_load_palette.3
18858                        	
18859                        		.dbg	line,	"include\init.c", 334; load_palette( 15, palette_FONT_INTRO, 1 );
18860                        		__st.umiq	15, _al
         1E:D933  A9 0F      			lda.l	#15
         1E:D935  85 F8      			sta	_al
18861                        		__farptr	_palette_FONT_INTRO, _bp_bank, _bp
         1E:D937  A9 00      			lda.l	#$6000 + ($1FFF & (_palette_FONT_INTRO))
         1E:D939  85 EC      			sta.l	_bp
         1E:D93B  A9 6C      			lda.h	#$6000 + ($1FFF & (_palette_FONT_INTRO))
         1E:D93D  85 ED      			sta.h	_bp
         1E:D93F  A9 03      			lda	#bank(_palette_FONT_INTRO)
         1E:D941  85 02      			sta	_bp_bank
18862                        		__st.umiq	1, _ah
         1E:D943  A9 01      			lda.l	#1
         1E:D945  85 F9      			sta	_ah
18863                        		__call		_load_palette.3
         1E:D947  20 8B FF   			call	_load_palette.3
18864                        	
18865                        		.dbg	line,	"include\init.c", 339; //**************************************************************************************//
18866                        	
18867                        		.dbg	line,	"include\init.c", 340; //                                                                                      //
18868                        	
18869                        		.dbg	line,	"include\init.c", 341; //                                       SPRITES                                        //
18870                        	
18871                        		.dbg	line,	"include\init.c", 342; //                                                                                      //
18872                        	
18873                        		.dbg	line,	"include\init.c", 343; //**************************************************************************************//
18874                        	
18875                        		.dbg	line,	"include\init.c", 345; // HIDE CURSOR SPRITE FROM TITLE SCREEN //
18876                        	
18877                        		.dbg	line,	"include\init.c", 346; spr_set(0);
18878                        		__ld.uiq	0
         1E:D94A  62         			cla
18879                        		__call		_spr_set.1
         1E:D94B  20 F1 E7   			call	_spr_set.1
18880                        	
18881                        		.dbg	line,	"include\init.c", 347; spr_hide();
18882                        		__call		_spr_hide
         1E:D94E  20 0C E8   			call	_spr_hide
18883                        	
18884                        		.dbg	line,	"include\init.c", 349; //--------------------------------------------------------------------------------------//
18885                        	
18886                        		.dbg	line,	"include\init.c", 350; //                                        DRAGON                                        //
18887                        	
18888                        		.dbg	line,	"include\init.c", 351; //--------------------------------------------------------------------------------------//
18889                        	
18890                        		.dbg	line,	"include\init.c", 353; player_pos_x = 113;
18891                        		__st.wmiq	113, _player_pos_x
         1E:D951  A9 71      			lda.l	#113
         1E:D953  8D F5 24   			sta.l	_player_pos_x
         1E:D956  9C F6 24   			stz.h	_player_pos_x
18892                        	
18893                        		.dbg	line,	"include\init.c", 354; player_pos_y = 81;
18894                        		__st.wmiq	81, _player_pos_y
         1E:D959  A9 51      			lda.l	#81
         1E:D95B  8D F7 24   			sta.l	_player_pos_y
         1E:D95E  9C F8 24   			stz.h	_player_pos_y
18895                        	
18896                        		.dbg	line,	"include\init.c", 356; // LOAD DRAGON TILES //
18897                        	
18898                        		.dbg	line,	"include\init.c", 357; sgx_load_vram(DRAGON_INTRO_VRAM_ADR, tiles_SPR_DRAGON_INTRO , SIZEOF(tiles_SPR_DRAGON_INTRO) >> 1);
18899                        		__st.wmiq	11264, _di
         1E:D961  64 F0      			stz.l	_di
         1E:D963  A9 2C      			lda.h	#11264
         1E:D965  85 F1      			sta.h	_di
18900                        		__farptr	_tiles_SPR_DRAGON_INTRO, _bp_bank, _bp
         1E:D967  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_DRAGON_INTRO))
         1E:D969  85 EC      			sta.l	_bp
         1E:D96B  A9 7B      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_DRAGON_INTRO))
         1E:D96D  85 ED      			sta.h	_bp
         1E:D96F  A9 13      			lda	#bank(_tiles_SPR_DRAGON_INTRO)
         1E:D971  85 02      			sta	_bp_bank
18901                        		__ld.wi		___sizeof__tiles_SPR_DRAGON_INTRO
         1E:D973  A9 00      			lda.l	#___sizeof__tiles_SPR_DRAGON_INTRO
         1E:D975  A0 40      			ldy.h	#___sizeof__tiles_SPR_DRAGON_INTRO
18902                        		__lsr.wi	1
         1E:D977  42         			say
         1E:D978  4A         			lsr	a
         1E:D979  42         			say
         1E:D97A  6A         			ror	a
18903                        		__st.wmq	_ax
         1E:D97B  85 F8      			sta.l	_ax
         1E:D97D  84 F9      			sty.h	_ax
18904                        		 _sgx_load_vram.3
         1E:D97F  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D981  20 FF FE   			call	load_vram_x
18905                        	
18906                        		.dbg	line,	"include\init.c", 360; for(i=0 ; i<8 ; i++)
18907                        		__st.umiq	0, __init_INTRO_end - 1  /* i */
         1E:D984  9C 21 2C   			stz	__init_INTRO_end - 1
18908    1E:D987             	.LL920:
18909                        		__ld.umq	__init_INTRO_end - 1  /* i */
         1E:D987  AD 21 2C   			lda	__init_INTRO_end - 1
18910                        		__ult_b.uiq	8
         1E:D98A  C9 08      			cmp	#8		; Subtract integer from A.
         1E:D98C  6A         			ror	a		; CC if A < integer.
         1E:D98D  49 80      			eor	#$80
         1E:D98F  2A         			rol	a
18911                        		__btrue		.LL922
         1E:D990  B0 08      			bcs	.LL922
18912                        		__bra		.LL923
         1E:D992  4C 1A DA   			bra	.LL923
18913    1E:D995             	.LL921:
18914                        		__inc.umq	__init_INTRO_end - 1  /* i */
         1E:D995  EE 21 2C   			inc	__init_INTRO_end - 1
18915                        		__bra		.LL920
         1E:D998  80 ED      			bra	.LL920
18916    1E:D99A             	.LL922:
18917                        	
18918                        		.dbg	line,	"include\init.c", 361; {
18919                        	
18920                        		.dbg	line,	"include\init.c", 362; sgx_spr_set(i);
18921                        		__ld.umq	__init_INTRO_end - 1  /* i */
         1E:D99A  AD 21 2C   			lda	__init_INTRO_end - 1
18922                        		__call		_sgx_spr_set.1
         1E:D99D  20 9E E8   			call	_sgx_spr_set.1
18923                        	
18924                        		.dbg	line,	"include\init.c", 363; sgx_spr_x(player_pos_x + (i*32) - ((i>>2)*128));
18925                        		__ld.um		__init_INTRO_end - 1  /* i */
         1E:D9A0  AD 21 2C   			lda	__init_INTRO_end - 1
         1E:D9A3  C2         			cly
18926                        		__asl.wi	5
         1E:D9A4  85 00      			sta	__temp
         1E:D9A6  98         			tya
         1E:D9A7  4A         			lsr	a
         1E:D9A8  20 C8 E1   			jsr	aslw5
         1E:D9AB  29 E0      			and.l	#$FF << 5
18927                        		__add.wm	_player_pos_x
         1E:D9AD  18         			clc
         1E:D9AE  6D F5 24   			adc.l	_player_pos_x
         1E:D9B1  42         			say
         1E:D9B2  6D F6 24   			adc.h	_player_pos_x
         1E:D9B5  42         			say
18928                        		__push.wr
         1E:D9B6  5A         			phy
         1E:D9B7  48         			pha
18929                        		__ld.um		__init_INTRO_end - 1  /* i */
         1E:D9B8  AD 21 2C   			lda	__init_INTRO_end - 1
         1E:D9BB  C2         			cly
18930                        		__lsr.uiq	2
         1E:D9BC  4A         			lsr	a
         1E:D9BD  4A         			lsr	a
18931                        		__asl.wi	7
         1E:D9BE  42         			say
         1E:D9BF  4A         			lsr	a
         1E:D9C0  42         			say
         1E:D9C1  6A         			ror	a
         1E:D9C2  42         			say
         1E:D9C3  6A         			ror	a
         1E:D9C4  29 80      			and	#$80
18932                        		__sub.wt
         1E:D9C6  BA         			tsx
         1E:D9C7  38         			sec
         1E:D9C8  49 FF      			eor	#$FF
         1E:D9CA  7D 01 21   			adc.l	__tos, x
         1E:D9CD  42         			say
         1E:D9CE  49 FF      			eor	#$FF
         1E:D9D0  7D 02 21   			adc.h	__tos, x
         1E:D9D3  42         			say
         1E:D9D4  E8         			inx
         1E:D9D5  E8         			inx
         1E:D9D6  9A         			txs
18933                        		__call		_sgx_spr_x.1
         1E:D9D7  20 CB E8   			call	_sgx_spr_x.1
18934                        	
18935                        		.dbg	line,	"include\init.c", 364; sgx_spr_y(player_pos_y + ((i>>2)*32));
18936                        		__ld.um		__init_INTRO_end - 1  /* i */
         1E:D9DA  AD 21 2C   			lda	__init_INTRO_end - 1
         1E:D9DD  C2         			cly
18937                        		__lsr.uiq	2
         1E:D9DE  4A         			lsr	a
         1E:D9DF  4A         			lsr	a
18938                        		__asl.wi	5
         1E:D9E0  85 00      			sta	__temp
         1E:D9E2  98         			tya
         1E:D9E3  4A         			lsr	a
         1E:D9E4  20 C8 E1   			jsr	aslw5
         1E:D9E7  29 E0      			and.l	#$FF << 5
18939                        		__add.wm	_player_pos_y
         1E:D9E9  18         			clc
         1E:D9EA  6D F7 24   			adc.l	_player_pos_y
         1E:D9ED  42         			say
         1E:D9EE  6D F8 24   			adc.h	_player_pos_y
         1E:D9F1  42         			say
18940                        		__call		_sgx_spr_y.1
         1E:D9F2  20 DA E8   			call	_sgx_spr_y.1
18941                        	
18942                        		.dbg	line,	"include\init.c", 365; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16));
18943                        		__ld.um		__init_INTRO_end - 1  /* i */
         1E:D9F5  AD 21 2C   			lda	__init_INTRO_end - 1
         1E:D9F8  C2         			cly
18944                        		__asl.wi	8
         1E:D9F9  A8         			tay
         1E:D9FA  62         			cla
18945                        		__add.wi	11264
         1E:D9FB  18         			clc
         1E:D9FC  69 00      			adc.l	#11264
         1E:D9FE  42         			say
         1E:D9FF  69 2C      			adc.h	#11264
         1E:DA01  42         			say
18946                        		__call		_sgx_spr_pattern.1
         1E:DA02  20 E7 E8   			call	_sgx_spr_pattern.1
18947                        	
18948                        		.dbg	line,	"include\init.c", 366; sgx_spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_32x32);
18949                        		__st.umiq	185, _al
         1E:DA05  A9 B9      			lda.l	#185
         1E:DA07  85 F8      			sta	_al
18950                        		__ld.uiq	17
         1E:DA09  A9 11      			lda	#17
18951                        		__call		_sgx_spr_ctrl.2
         1E:DA0B  20 FD E8   			call	_sgx_spr_ctrl.2
18952                        	
18953                        		.dbg	line,	"include\init.c", 367; sgx_spr_pal(16);
18954                        		__ld.uiq	16
         1E:DA0E  A9 10      			lda	#16
18955                        		__call		_sgx_spr_pal.1
         1E:DA10  20 0E E9   			call	_sgx_spr_pal.1
18956                        	
18957                        		.dbg	line,	"include\init.c", 368; sgx_spr_pri(FALSE);
18958                        		__ld.uiq	0
         1E:DA13  62         			cla
18959                        		__call		_sgx_spr_pri.1
         1E:DA14  20 1D E9   			call	_sgx_spr_pri.1
18960                        	
18961                        		.dbg	line,	"include\init.c", 369; }
18962                        		__bra		.LL921
         1E:DA17  4C 95 D9   			bra	.LL921
18963    1E:DA1A             	.LL923:
18964                        	
18965                        		.dbg	line,	"include\init.c", 370; 
18966                        	
18967                        		.dbg	line,	"include\init.c", 372; //--------------------------------------------------------------------------------------//
18968                        	
18969                        		.dbg	line,	"include\init.c", 373; //                                LOAD SPRITES PALETTES                                 //
18970                        	
18971                        		.dbg	line,	"include\init.c", 374; //--------------------------------------------------------------------------------------//
18972                        	
18973                        		.dbg	line,	"include\init.c", 376; load_palette( 16, palette_SPR_DRAGON_INTRO, 1 );
18974                        		__st.umiq	16, _al
         1E:DA1A  A9 10      			lda.l	#16
         1E:DA1C  85 F8      			sta	_al
18975                        		__farptr	_palette_SPR_DRAGON_INTRO, _bp_bank, _bp
         1E:DA1E  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_SPR_DRAGON_INTRO))
         1E:DA20  85 EC      			sta.l	_bp
         1E:DA22  A9 7B      			lda.h	#$6000 + ($1FFF & (_palette_SPR_DRAGON_INTRO))
         1E:DA24  85 ED      			sta.h	_bp
         1E:DA26  A9 15      			lda	#bank(_palette_SPR_DRAGON_INTRO)
         1E:DA28  85 02      			sta	_bp_bank
18976                        		__st.umiq	1, _ah
         1E:DA2A  A9 01      			lda.l	#1
         1E:DA2C  85 F9      			sta	_ah
18977                        		__call		_load_palette.3
         1E:DA2E  20 8B FF   			call	_load_palette.3
18978                        	
18979                        		.dbg	line,	"include\init.c", 380; // UPDATE SGX SAT //
18980                        	
18981                        		.dbg	line,	"include\init.c", 381; sgx_satb_update();
18982                        		__call		_sgx_satb_update
         1E:DA31  20 CD FE   			call	_sgx_satb_update
18983                        	
18984                        		.dbg	line,	"include\init.c", 383; // UPDATE PCE SAT //
18985                        	
18986                        		.dbg	line,	"include\init.c", 384; satb_update();
18987                        		__call		_satb_update
         1E:DA34  20 D7 FE   			call	_satb_update
18988                        	
18989                        		.dbg	line,	"include\init.c", 387; // VSYNC //
18990                        	
18991                        		.dbg	line,	"include\init.c", 388; vsync();
18992                        		__call		_vsync
         1E:DA37  20 1D E3   			call	_vsync
18993                        	
18994                        		.dbg	line,	"include\init.c", 390; // ENABLE DISPLAY //
18995                        	
18996                        		.dbg	line,	"include\init.c", 391; disp_on();
18997                        		__call		_disp_on
         1E:DA3A  20 2A E4   			call	_disp_on
18998                        	
18999                        		.dbg	line,	"include\init.c", 392; }
19000    1E:DA3D             	.LL919:
19001                        		__return	0
         1E:DA3D  4C EF FF   			jmp	leave_proc
19002                        		.dbg	clear
19003                        		.endp
19004               2310     		.bss
19005    F8:2310             	__init_INTRO_end	.alias	leaf_stack
19006               E31D     		.code
19007                        		.pceas
19008                        	
19009                        		.dbg	line,	"include\init.c", 400; void load_OBJECT_TILES()
19010                        		.dbg	line,	"include\init.c", 401; {
19011                        	;***********************
19012                        	;***********************
19013                        	
19014                        		.hucc
19015    1E:D0CE             		.proc		_load_OBJECT_TILES
19016                        		__enter		_load_OBJECT_TILES
19017                        	
19018                        		.dbg	line,	"include\init.c", 402; sgx_load_vram(POT1_VRAM_ADR, tiles_SPR_POT , SIZEOF(tiles_SPR_POT) >> 1);
19019                        		__st.wmiq	26624, _di
         1E:D0CE  64 F0      			stz.l	_di
         1E:D0D0  A9 68      			lda.h	#26624
         1E:D0D2  85 F1      			sta.h	_di
19020                        		__farptr	_tiles_SPR_POT, _bp_bank, _bp
         1E:D0D4  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_POT))
         1E:D0D6  85 EC      			sta.l	_bp
         1E:D0D8  A9 6A      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_POT))
         1E:D0DA  85 ED      			sta.h	_bp
         1E:D0DC  A9 1A      			lda	#bank(_tiles_SPR_POT)
         1E:D0DE  85 02      			sta	_bp_bank
19021                        		__ld.wi		___sizeof__tiles_SPR_POT
         1E:D0E0  A9 00      			lda.l	#___sizeof__tiles_SPR_POT
         1E:D0E2  A0 04      			ldy.h	#___sizeof__tiles_SPR_POT
19022                        		__lsr.wi	1
         1E:D0E4  42         			say
         1E:D0E5  4A         			lsr	a
         1E:D0E6  42         			say
         1E:D0E7  6A         			ror	a
19023                        		__st.wmq	_ax
         1E:D0E8  85 F8      			sta.l	_ax
         1E:D0EA  84 F9      			sty.h	_ax
19024                        		 _sgx_load_vram.3
         1E:D0EC  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D0EE  20 FF FE   			call	load_vram_x
19025                        	
19026                        		.dbg	line,	"include\init.c", 403; sgx_load_vram(POW_VRAM_ADR, tiles_SPR_POW , TILES_4);
19027                        		__st.wmiq	27136, _di
         1E:D0F1  64 F0      			stz.l	_di
         1E:D0F3  A9 6A      			lda.h	#27136
         1E:D0F5  85 F1      			sta.h	_di
19028                        		__farptr	_tiles_SPR_POW, _bp_bank, _bp
         1E:D0F7  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_POW))
         1E:D0F9  85 EC      			sta.l	_bp
         1E:D0FB  A9 6E      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_POW))
         1E:D0FD  85 ED      			sta.h	_bp
         1E:D0FF  A9 1A      			lda	#bank(_tiles_SPR_POW)
         1E:D101  85 02      			sta	_bp_bank
19029                        		__st.wmiq	64, _ax
         1E:D103  A9 40      			lda.l	#64
         1E:D105  85 F8      			sta.l	_ax
         1E:D107  64 F9      			stz.h	_ax
19030                        		 _sgx_load_vram.3
         1E:D109  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D10B  20 FF FE   			call	load_vram_x
19031                        	
19032                        		.dbg	line,	"include\init.c", 404; sgx_load_vram(GRAY_KEY_VRAM_ADR, tiles_SPR_GRAY_KEY , TILES_4);
19033                        		__st.wmiq	27200, _di
         1E:D10E  A9 40      			lda.l	#27200
         1E:D110  85 F0      			sta.l	_di
         1E:D112  A9 6A      			lda.h	#27200
         1E:D114  85 F1      			sta.h	_di
19034                        		__farptr	_tiles_SPR_GRAY_KEY, _bp_bank, _bp
         1E:D116  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_GRAY_KEY))
         1E:D118  85 EC      			sta.l	_bp
         1E:D11A  A9 67      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_GRAY_KEY))
         1E:D11C  85 ED      			sta.h	_bp
         1E:D11E  A9 1A      			lda	#bank(_tiles_SPR_GRAY_KEY)
         1E:D120  85 02      			sta	_bp_bank
19035                        		__st.wmiq	64, _ax
         1E:D122  A9 40      			lda.l	#64
         1E:D124  85 F8      			sta.l	_ax
         1E:D126  64 F9      			stz.h	_ax
19036                        		 _sgx_load_vram.3
         1E:D128  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D12A  20 FF FE   			call	load_vram_x
19037                        	
19038                        		.dbg	line,	"include\init.c", 405; //sgx_load_vram(GOLD_KEY_VRAM_ADR, tiles_SPR_GOLD_KEY , TILES_4);
19039                        	
19040                        		.dbg	line,	"include\init.c", 406; //sgx_load_vram(LIFE_VRAM_ADR, tiles_SPR_LIFE , TILES_4);
19041                        	
19042                        		.dbg	line,	"include\init.c", 407; sgx_load_vram(COIN_1_VRAM_ADR, tiles_SPR_COIN_1 , TILES_4);
19043                        		__st.wmiq	27264, _di
         1E:D12D  A9 80      			lda.l	#27264
         1E:D12F  85 F0      			sta.l	_di
         1E:D131  A9 6A      			lda.h	#27264
         1E:D133  85 F1      			sta.h	_di
19044                        		__farptr	_tiles_SPR_COIN_1, _bp_bank, _bp
         1E:D135  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_1))
         1E:D137  85 EC      			sta.l	_bp
         1E:D139  A9 63      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_1))
         1E:D13B  85 ED      			sta.h	_bp
         1E:D13D  A9 1A      			lda	#bank(_tiles_SPR_COIN_1)
         1E:D13F  85 02      			sta	_bp_bank
19045                        		__st.wmiq	64, _ax
         1E:D141  A9 40      			lda.l	#64
         1E:D143  85 F8      			sta.l	_ax
         1E:D145  64 F9      			stz.h	_ax
19046                        		 _sgx_load_vram.3
         1E:D147  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D149  20 FF FE   			call	load_vram_x
19047                        	
19048                        		.dbg	line,	"include\init.c", 408; sgx_load_vram(COIN_5_VRAM_ADR, tiles_SPR_COIN_5 , TILES_4);
19049                        		__st.wmiq	27328, _di
         1E:D14C  A9 C0      			lda.l	#27328
         1E:D14E  85 F0      			sta.l	_di
         1E:D150  A9 6A      			lda.h	#27328
         1E:D152  85 F1      			sta.h	_di
19050                        		__farptr	_tiles_SPR_COIN_5, _bp_bank, _bp
         1E:D154  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_5))
         1E:D156  85 EC      			sta.l	_bp
         1E:D158  A9 64      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_5))
         1E:D15A  85 ED      			sta.h	_bp
         1E:D15C  A9 1A      			lda	#bank(_tiles_SPR_COIN_5)
         1E:D15E  85 02      			sta	_bp_bank
19051                        		__st.wmiq	64, _ax
         1E:D160  A9 40      			lda.l	#64
         1E:D162  85 F8      			sta.l	_ax
         1E:D164  64 F9      			stz.h	_ax
19052                        		 _sgx_load_vram.3
         1E:D166  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D168  20 FF FE   			call	load_vram_x
19053                        	
19054                        		.dbg	line,	"include\init.c", 409; sgx_load_vram(COIN_10_VRAM_ADR, tiles_SPR_COIN_10 , TILES_4);
19055                        		__st.wmiq	27392, _di
         1E:D16B  64 F0      			stz.l	_di
         1E:D16D  A9 6B      			lda.h	#27392
         1E:D16F  85 F1      			sta.h	_di
19056                        		__farptr	_tiles_SPR_COIN_10, _bp_bank, _bp
         1E:D171  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_10))
         1E:D173  85 EC      			sta.l	_bp
         1E:D175  A9 64      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_10))
         1E:D177  85 ED      			sta.h	_bp
         1E:D179  A9 1A      			lda	#bank(_tiles_SPR_COIN_10)
         1E:D17B  85 02      			sta	_bp_bank
19057                        		__st.wmiq	64, _ax
         1E:D17D  A9 40      			lda.l	#64
         1E:D17F  85 F8      			sta.l	_ax
         1E:D181  64 F9      			stz.h	_ax
19058                        		 _sgx_load_vram.3
         1E:D183  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D185  20 FF FE   			call	load_vram_x
19059                        	
19060                        		.dbg	line,	"include\init.c", 410; sgx_load_vram(COIN_50_VRAM_ADR, tiles_SPR_COIN_50 , TILES_4);
19061                        		__st.wmiq	27456, _di
         1E:D188  A9 40      			lda.l	#27456
         1E:D18A  85 F0      			sta.l	_di
         1E:D18C  A9 6B      			lda.h	#27456
         1E:D18E  85 F1      			sta.h	_di
19062                        		__farptr	_tiles_SPR_COIN_50, _bp_bank, _bp
         1E:D190  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_50))
         1E:D192  85 EC      			sta.l	_bp
         1E:D194  A9 65      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_50))
         1E:D196  85 ED      			sta.h	_bp
         1E:D198  A9 1A      			lda	#bank(_tiles_SPR_COIN_50)
         1E:D19A  85 02      			sta	_bp_bank
19063                        		__st.wmiq	64, _ax
         1E:D19C  A9 40      			lda.l	#64
         1E:D19E  85 F8      			sta.l	_ax
         1E:D1A0  64 F9      			stz.h	_ax
19064                        		 _sgx_load_vram.3
         1E:D1A2  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D1A4  20 FF FE   			call	load_vram_x
19065                        	
19066                        		.dbg	line,	"include\init.c", 411; sgx_load_vram(COIN_100_VRAM_ADR, tiles_SPR_COIN_100 , TILES_4);
19067                        		__st.wmiq	27520, _di
         1E:D1A7  A9 80      			lda.l	#27520
         1E:D1A9  85 F0      			sta.l	_di
         1E:D1AB  A9 6B      			lda.h	#27520
         1E:D1AD  85 F1      			sta.h	_di
19068                        		__farptr	_tiles_SPR_COIN_100, _bp_bank, _bp
         1E:D1AF  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_100))
         1E:D1B1  85 EC      			sta.l	_bp
         1E:D1B3  A9 65      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_100))
         1E:D1B5  85 ED      			sta.h	_bp
         1E:D1B7  A9 1A      			lda	#bank(_tiles_SPR_COIN_100)
         1E:D1B9  85 02      			sta	_bp_bank
19069                        		__st.wmiq	64, _ax
         1E:D1BB  A9 40      			lda.l	#64
         1E:D1BD  85 F8      			sta.l	_ax
         1E:D1BF  64 F9      			stz.h	_ax
19070                        		 _sgx_load_vram.3
         1E:D1C1  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D1C3  20 FF FE   			call	load_vram_x
19071                        	
19072                        		.dbg	line,	"include\init.c", 412; sgx_load_vram(COIN_500_VRAM_ADR, tiles_SPR_COIN_500 , TILES_4);
19073                        		__st.wmiq	27584, _di
         1E:D1C6  A9 C0      			lda.l	#27584
         1E:D1C8  85 F0      			sta.l	_di
         1E:D1CA  A9 6B      			lda.h	#27584
         1E:D1CC  85 F1      			sta.h	_di
19074                        		__farptr	_tiles_SPR_COIN_500, _bp_bank, _bp
         1E:D1CE  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_500))
         1E:D1D0  85 EC      			sta.l	_bp
         1E:D1D2  A9 66      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_500))
         1E:D1D4  85 ED      			sta.h	_bp
         1E:D1D6  A9 1A      			lda	#bank(_tiles_SPR_COIN_500)
         1E:D1D8  85 02      			sta	_bp_bank
19075                        		__st.wmiq	64, _ax
         1E:D1DA  A9 40      			lda.l	#64
         1E:D1DC  85 F8      			sta.l	_ax
         1E:D1DE  64 F9      			stz.h	_ax
19076                        		 _sgx_load_vram.3
         1E:D1E0  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D1E2  20 FF FE   			call	load_vram_x
19077                        	
19078                        		.dbg	line,	"include\init.c", 413; sgx_load_vram(COIN_1000_VRAM_ADR, tiles_SPR_COIN_1000 , TILES_4);
19079                        		__st.wmiq	27648, _di
         1E:D1E5  64 F0      			stz.l	_di
         1E:D1E7  A9 6C      			lda.h	#27648
         1E:D1E9  85 F1      			sta.h	_di
19080                        		__farptr	_tiles_SPR_COIN_1000, _bp_bank, _bp
         1E:D1EB  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_1000))
         1E:D1ED  85 EC      			sta.l	_bp
         1E:D1EF  A9 66      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_1000))
         1E:D1F1  85 ED      			sta.h	_bp
         1E:D1F3  A9 1A      			lda	#bank(_tiles_SPR_COIN_1000)
         1E:D1F5  85 02      			sta	_bp_bank
19081                        		__st.wmiq	64, _ax
         1E:D1F7  A9 40      			lda.l	#64
         1E:D1F9  85 F8      			sta.l	_ax
         1E:D1FB  64 F9      			stz.h	_ax
19082                        		 _sgx_load_vram.3
         1E:D1FD  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D1FF  20 FF FE   			call	load_vram_x
19083                        	
19084                        		.dbg	line,	"include\init.c", 414; sgx_load_vram(STAR_VRAM_ADR, tiles_SPR_STAR , TILES_4);
19085                        		__st.wmiq	27712, _di
         1E:D202  A9 40      			lda.l	#27712
         1E:D204  85 F0      			sta.l	_di
         1E:D206  A9 6C      			lda.h	#27712
         1E:D208  85 F1      			sta.h	_di
19086                        		__farptr	_tiles_SPR_STAR, _bp_bank, _bp
         1E:D20A  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_STAR))
         1E:D20C  85 EC      			sta.l	_bp
         1E:D20E  A9 6E      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_STAR))
         1E:D210  85 ED      			sta.h	_bp
         1E:D212  A9 1A      			lda	#bank(_tiles_SPR_STAR)
         1E:D214  85 02      			sta	_bp_bank
19087                        		__st.wmiq	64, _ax
         1E:D216  A9 40      			lda.l	#64
         1E:D218  85 F8      			sta.l	_ax
         1E:D21A  64 F9      			stz.h	_ax
19088                        		 _sgx_load_vram.3
         1E:D21C  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D21E  20 FF FE   			call	load_vram_x
19089                        	
19090                        		.dbg	line,	"include\init.c", 415; sgx_load_vram(OCTOPUS_VRAM_ADR, tiles_SPR_OCTOPUS , TILES_4);
19091                        		__st.wmiq	27776, _di
         1E:D221  A9 80      			lda.l	#27776
         1E:D223  85 F0      			sta.l	_di
         1E:D225  A9 6C      			lda.h	#27776
         1E:D227  85 F1      			sta.h	_di
19092                        		__farptr	_tiles_SPR_OCTOPUS, _bp_bank, _bp
         1E:D229  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_OCTOPUS))
         1E:D22B  85 EC      			sta.l	_bp
         1E:D22D  A9 69      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_OCTOPUS))
         1E:D22F  85 ED      			sta.h	_bp
         1E:D231  A9 1A      			lda	#bank(_tiles_SPR_OCTOPUS)
         1E:D233  85 02      			sta	_bp_bank
19093                        		__st.wmiq	64, _ax
         1E:D235  A9 40      			lda.l	#64
         1E:D237  85 F8      			sta.l	_ax
         1E:D239  64 F9      			stz.h	_ax
19094                        		 _sgx_load_vram.3
         1E:D23B  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D23D  20 FF FE   			call	load_vram_x
19095                        	
19096                        		.dbg	line,	"include\init.c", 416; sgx_load_vram(FRUIT_VRAM_ADR, tiles_SPR_FRUIT , TILES_4);
19097                        		__st.wmiq	27840, _di
         1E:D240  A9 C0      			lda.l	#27840
         1E:D242  85 F0      			sta.l	_di
         1E:D244  A9 6C      			lda.h	#27840
         1E:D246  85 F1      			sta.h	_di
19098                        		__farptr	_tiles_SPR_FRUIT, _bp_bank, _bp
         1E:D248  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_FRUIT))
         1E:D24A  85 EC      			sta.l	_bp
         1E:D24C  A9 67      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_FRUIT))
         1E:D24E  85 ED      			sta.h	_bp
         1E:D250  A9 1A      			lda	#bank(_tiles_SPR_FRUIT)
         1E:D252  85 02      			sta	_bp_bank
19099                        		__st.wmiq	64, _ax
         1E:D254  A9 40      			lda.l	#64
         1E:D256  85 F8      			sta.l	_ax
         1E:D258  64 F9      			stz.h	_ax
19100                        		 _sgx_load_vram.3
         1E:D25A  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D25C  20 FF FE   			call	load_vram_x
19101                        	
19102                        		.dbg	line,	"include\init.c", 417; sgx_load_vram(BARREL_VRAM_ADR, tiles_SPR_BARREL , TILES_4);
19103                        		__st.wmiq	27904, _di
         1E:D25F  64 F0      			stz.l	_di
         1E:D261  A9 6D      			lda.h	#27904
         1E:D263  85 F1      			sta.h	_di
19104                        		__farptr	_tiles_SPR_BARREL, _bp_bank, _bp
         1E:D265  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_BARREL))
         1E:D267  85 EC      			sta.l	_bp
         1E:D269  A9 77      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_BARREL))
         1E:D26B  85 ED      			sta.h	_bp
         1E:D26D  A9 19      			lda	#bank(_tiles_SPR_BARREL)
         1E:D26F  85 02      			sta	_bp_bank
19105                        		__st.wmiq	64, _ax
         1E:D271  A9 40      			lda.l	#64
         1E:D273  85 F8      			sta.l	_ax
         1E:D275  64 F9      			stz.h	_ax
19106                        		 _sgx_load_vram.3
         1E:D277  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D279  20 FF FE   			call	load_vram_x
19107                        	
19108                        		.dbg	line,	"include\init.c", 418; sgx_load_vram(HOURGLASS_VRAM_ADR, tiles_SPR_HOURGLASS , TILES_4);
19109                        		__st.wmiq	27968, _di
         1E:D27C  A9 40      			lda.l	#27968
         1E:D27E  85 F0      			sta.l	_di
         1E:D280  A9 6D      			lda.h	#27968
         1E:D282  85 F1      			sta.h	_di
19110                        		__farptr	_tiles_SPR_HOURGLASS, _bp_bank, _bp
         1E:D284  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_HOURGLASS))
         1E:D286  85 EC      			sta.l	_bp
         1E:D288  A9 68      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_HOURGLASS))
         1E:D28A  85 ED      			sta.h	_bp
         1E:D28C  A9 1A      			lda	#bank(_tiles_SPR_HOURGLASS)
         1E:D28E  85 02      			sta	_bp_bank
19111                        		__st.wmiq	64, _ax
         1E:D290  A9 40      			lda.l	#64
         1E:D292  85 F8      			sta.l	_ax
         1E:D294  64 F9      			stz.h	_ax
19112                        		 _sgx_load_vram.3
         1E:D296  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D298  20 FF FE   			call	load_vram_x
19113                        	
19114                        		.dbg	line,	"include\init.c", 419; sgx_load_vram(BAMBOO_VRAM_ADR, tiles_SPR_BAMBOO , TILES_4);
19115                        		__st.wmiq	28032, _di
         1E:D29B  A9 80      			lda.l	#28032
         1E:D29D  85 F0      			sta.l	_di
         1E:D29F  A9 6D      			lda.h	#28032
         1E:D2A1  85 F1      			sta.h	_di
19116                        		__farptr	_tiles_SPR_BAMBOO, _bp_bank, _bp
         1E:D2A3  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_BAMBOO))
         1E:D2A5  85 EC      			sta.l	_bp
         1E:D2A7  A9 6F      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_BAMBOO))
         1E:D2A9  85 ED      			sta.h	_bp
         1E:D2AB  A9 1A      			lda	#bank(_tiles_SPR_BAMBOO)
         1E:D2AD  85 02      			sta	_bp_bank
19117                        		__st.wmiq	64, _ax
         1E:D2AF  A9 40      			lda.l	#64
         1E:D2B1  85 F8      			sta.l	_ax
         1E:D2B3  64 F9      			stz.h	_ax
19118                        		 _sgx_load_vram.3
         1E:D2B5  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D2B7  20 FF FE   			call	load_vram_x
19119                        	
19120                        		.dbg	line,	"include\init.c", 420; sgx_load_vram(YASHICHI_VRAM_ADR, tiles_SPR_YASHICHI , TILES_4);
19121                        		__st.wmiq	28096, _di
         1E:D2BA  A9 C0      			lda.l	#28096
         1E:D2BC  85 F0      			sta.l	_di
         1E:D2BE  A9 6D      			lda.h	#28096
         1E:D2C0  85 F1      			sta.h	_di
19122                        		__farptr	_tiles_SPR_YASHICHI, _bp_bank, _bp
         1E:D2C2  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_YASHICHI))
         1E:D2C4  85 EC      			sta.l	_bp
         1E:D2C6  A9 6F      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_YASHICHI))
         1E:D2C8  85 ED      			sta.h	_bp
         1E:D2CA  A9 1A      			lda	#bank(_tiles_SPR_YASHICHI)
         1E:D2CC  85 02      			sta	_bp_bank
19123                        		__st.wmiq	64, _ax
         1E:D2CE  A9 40      			lda.l	#64
         1E:D2D0  85 F8      			sta.l	_ax
         1E:D2D2  64 F9      			stz.h	_ax
19124                        		 _sgx_load_vram.3
         1E:D2D4  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D2D6  20 FF FE   			call	load_vram_x
19125                        	
19126                        		.dbg	line,	"include\init.c", 421; sgx_load_vram(ELEPHANT_VRAM_ADR, tiles_SPR_ELEPHANT , TILES_4);
19127                        		__st.wmiq	28160, _di
         1E:D2D9  64 F0      			stz.l	_di
         1E:D2DB  A9 6E      			lda.h	#28160
         1E:D2DD  85 F1      			sta.h	_di
19128                        		__farptr	_tiles_SPR_ELEPHANT, _bp_bank, _bp
         1E:D2DF  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_ELEPHANT))
         1E:D2E1  85 EC      			sta.l	_bp
         1E:D2E3  A9 70      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_ELEPHANT))
         1E:D2E5  85 ED      			sta.h	_bp
         1E:D2E7  A9 1A      			lda	#bank(_tiles_SPR_ELEPHANT)
         1E:D2E9  85 02      			sta	_bp_bank
19129                        		__st.wmiq	64, _ax
         1E:D2EB  A9 40      			lda.l	#64
         1E:D2ED  85 F8      			sta.l	_ax
         1E:D2EF  64 F9      			stz.h	_ax
19130                        		 _sgx_load_vram.3
         1E:D2F1  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D2F3  20 FF FE   			call	load_vram_x
19131                        	
19132                        		.dbg	line,	"include\init.c", 422; sgx_load_vram(DRAGONFLY_VRAM_ADR, tiles_SPR_DRAGONFLY , TILES_4);
19133                        		__st.wmiq	28224, _di
         1E:D2F6  A9 40      			lda.l	#28224
         1E:D2F8  85 F0      			sta.l	_di
         1E:D2FA  A9 6E      			lda.h	#28224
         1E:D2FC  85 F1      			sta.h	_di
19134                        		__farptr	_tiles_SPR_DRAGONFLY, _bp_bank, _bp
         1E:D2FE  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_DRAGONFLY))
         1E:D300  85 EC      			sta.l	_bp
         1E:D302  A9 70      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_DRAGONFLY))
         1E:D304  85 ED      			sta.h	_bp
         1E:D306  A9 1A      			lda	#bank(_tiles_SPR_DRAGONFLY)
         1E:D308  85 02      			sta	_bp_bank
19135                        		__st.wmiq	64, _ax
         1E:D30A  A9 40      			lda.l	#64
         1E:D30C  85 F8      			sta.l	_ax
         1E:D30E  64 F9      			stz.h	_ax
19136                        		 _sgx_load_vram.3
         1E:D310  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D312  20 FF FE   			call	load_vram_x
19137                        	
19138                        		.dbg	line,	"include\init.c", 423; sgx_load_vram(COW_VRAM_ADR, tiles_SPR_COW , TILES_4);
19139                        		__st.wmiq	28288, _di
         1E:D315  A9 80      			lda.l	#28288
         1E:D317  85 F0      			sta.l	_di
         1E:D319  A9 6E      			lda.h	#28288
         1E:D31B  85 F1      			sta.h	_di
19140                        		__farptr	_tiles_SPR_COW, _bp_bank, _bp
         1E:D31D  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COW))
         1E:D31F  85 EC      			sta.l	_bp
         1E:D321  A9 71      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COW))
         1E:D323  85 ED      			sta.h	_bp
         1E:D325  A9 1A      			lda	#bank(_tiles_SPR_COW)
         1E:D327  85 02      			sta	_bp_bank
19141                        		__st.wmiq	64, _ax
         1E:D329  A9 40      			lda.l	#64
         1E:D32B  85 F8      			sta.l	_ax
         1E:D32D  64 F9      			stz.h	_ax
19142                        		 _sgx_load_vram.3
         1E:D32F  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D331  20 FF FE   			call	load_vram_x
19143                        	
19144                        		.dbg	line,	"include\init.c", 424; sgx_load_vram(MOBICHAN_VRAM_ADR, tiles_SPR_MOBICHAN , TILES_4);
19145                        		__st.wmiq	28352, _di
         1E:D334  A9 C0      			lda.l	#28352
         1E:D336  85 F0      			sta.l	_di
         1E:D338  A9 6E      			lda.h	#28352
         1E:D33A  85 F1      			sta.h	_di
19146                        		__farptr	_tiles_SPR_MOBICHAN, _bp_bank, _bp
         1E:D33C  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_MOBICHAN))
         1E:D33E  85 EC      			sta.l	_bp
         1E:D340  A9 71      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_MOBICHAN))
         1E:D342  85 ED      			sta.h	_bp
         1E:D344  A9 1A      			lda	#bank(_tiles_SPR_MOBICHAN)
         1E:D346  85 02      			sta	_bp_bank
19147                        		__st.wmiq	64, _ax
         1E:D348  A9 40      			lda.l	#64
         1E:D34A  85 F8      			sta.l	_ax
         1E:D34C  64 F9      			stz.h	_ax
19148                        		 _sgx_load_vram.3
         1E:D34E  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:D350  20 FF FE   			call	load_vram_x
19149                        	
19150                        		.dbg	line,	"include\init.c", 425; }
19151    1E:D353             	.LL924:
19152                        		__return	0
         1E:D353  4C EF FF   			jmp	leave_proc
19153                        		.dbg	clear
19154                        		.endp
19155                        		.pceas
19156                        	
19157                        		.dbg	line,	"include\init.c", 428; void load_CHEST_TILES()
19158                        		.dbg	line,	"include\init.c", 429; {
19159                        	;***********************
19160                        	;***********************
19161                        	
19162                        		.hucc
19163    1F:D449             		.proc		_load_CHEST_TILES
19164                        		__enter		_load_CHEST_TILES
19165                        	
19166                        		.dbg	line,	"include\init.c", 430; sgx_load_vram(CHEST_VRAM_ADR, tiles_SPR_CHEST , SIZEOF(tiles_SPR_CHEST) >> 1);
19167                        		__st.wmiq	28416, _di
         1F:D449  64 F0      			stz.l	_di
         1F:D44B  A9 6F      			lda.h	#28416
         1F:D44D  85 F1      			sta.h	_di
19168                        		__farptr	_tiles_SPR_CHEST, _bp_bank, _bp
         1F:D44F  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_CHEST))
         1F:D451  85 EC      			sta.l	_bp
         1F:D453  A9 77      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_CHEST))
         1F:D455  85 ED      			sta.h	_bp
         1F:D457  A9 19      			lda	#bank(_tiles_SPR_CHEST)
         1F:D459  85 02      			sta	_bp_bank
19169                        		__ld.wi		___sizeof__tiles_SPR_CHEST
         1F:D45B  A9 00      			lda.l	#___sizeof__tiles_SPR_CHEST
         1F:D45D  A0 0C      			ldy.h	#___sizeof__tiles_SPR_CHEST
19170                        		__lsr.wi	1
         1F:D45F  42         			say
         1F:D460  4A         			lsr	a
         1F:D461  42         			say
         1F:D462  6A         			ror	a
19171                        		__st.wmq	_ax
         1F:D463  85 F8      			sta.l	_ax
         1F:D465  84 F9      			sty.h	_ax
19172                        		 _sgx_load_vram.3
         1F:D467  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:D469  20 FF FE   			call	load_vram_x
19173                        	
19174                        		.dbg	line,	"include\init.c", 431; }
19175    1F:D46C             	.LL925:
19176                        		__return	0
         1F:D46C  4C EF FF   			jmp	leave_proc
19177                        		.dbg	clear
19178                        		.endp
19179                        		.pceas
19180                        	
19181                        		.dbg	line,	"include\init.c", 434; void load_NPC_TILES()
19182                        		.dbg	line,	"include\init.c", 435; {
19183                        	;***********************
19184                        	;***********************
19185                        	
19186                        		.hucc
19187    1F:D46F             		.proc		_load_NPC_TILES
19188                        		__enter		_load_NPC_TILES
19189                        	
19190                        		.dbg	line,	"include\init.c", 436; sgx_load_vram(NPC_VRAM_ADR, tiles_SPR_NPC , SIZEOF(tiles_SPR_NPC) >> 1);
19191                        		__st.wmiq	29952, _di
         1F:D46F  64 F0      			stz.l	_di
         1F:D471  A9 75      			lda.h	#29952
         1F:D473  85 F1      			sta.h	_di
19192                        		__farptr	_tiles_SPR_NPC, _bp_bank, _bp
         1F:D475  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_NPC))
         1F:D477  85 EC      			sta.l	_bp
         1F:D479  A9 76      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_NPC))
         1F:D47B  85 ED      			sta.h	_bp
         1F:D47D  A9 1A      			lda	#bank(_tiles_SPR_NPC)
         1F:D47F  85 02      			sta	_bp_bank
19193                        		__ld.wi		___sizeof__tiles_SPR_NPC
         1F:D481  A9 00      			lda.l	#___sizeof__tiles_SPR_NPC
         1F:D483  A0 0C      			ldy.h	#___sizeof__tiles_SPR_NPC
19194                        		__lsr.wi	1
         1F:D485  42         			say
         1F:D486  4A         			lsr	a
         1F:D487  42         			say
         1F:D488  6A         			ror	a
19195                        		__st.wmq	_ax
         1F:D489  85 F8      			sta.l	_ax
         1F:D48B  84 F9      			sty.h	_ax
19196                        		 _sgx_load_vram.3
         1F:D48D  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:D48F  20 FF FE   			call	load_vram_x
19197                        	
19198                        		.dbg	line,	"include\init.c", 437; }
19199    1F:D492             	.LL926:
19200                        		__return	0
         1F:D492  4C EF FF   			jmp	leave_proc
19201                        		.dbg	clear
19202                        		.endp
19203                        		.pceas
19204                        	
19205                        		.dbg	line,	"include\init.c", 440; void init_OBJECT_LV1()
19206                        		.dbg	line,	"include\init.c", 441; {
19207                        	;***********************
19208                        	;***********************
19209                        	
19210                        		.hucc
19211    1F:C429             		.proc		_init_OBJECT_LV1
19212                        		__enter		_init_OBJECT_LV1
19213                        	
19214                        		.dbg	line,	"include\init.c", 442; signed char i;
19215                        	
19216                        		.dbg	line,	"include\init.c", 444; for(i=0 ; i<level_object_number ; i++)
19217                        		__st.umiq	0, __init_OBJECT_LV1_end - 1  /* i */
         1F:C429  9C 21 2C   			stz	__init_OBJECT_LV1_end - 1
19218    1F:C42C             	.LL928:
19219                        		__ld.bm		__init_OBJECT_LV1_end - 1  /* i */
         1F:C42C  AD 21 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:C42F  C2         			cly
         1F:C430  10 01      			bpl	!+
         1F:C432  88         			dey
         1F:C433             	!:
19220                        		__slt_w.um	_level_object_number
         1F:C433  CD 37 23   			cmp	_level_object_number		; Subtract memory from Y:A.
         1F:C436  98         			tya
         1F:C437  E9 00      			sbc	#0
         1F:C439  50 02      			bvc	!+
         1F:C43B  49 80      			eor	#$80		; -ve if Y:A < memory (signed).
         1F:C43D  0A         	!:		asl	a
19221                        		__btrue		.LL930
         1F:C43E  B0 08      			bcs	.LL930
19222                        		__bra		.LL931
         1F:C440  4C 66 C5   			bra	.LL931
19223    1F:C443             	.LL929:
19224                        		__inc.umq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C443  EE 21 2C   			inc	__init_OBJECT_LV1_end - 1
19225                        		__bra		.LL928
         1F:C446  80 E4      			bra	.LL928
19226    1F:C448             	.LL930:
19227                        	
19228                        		.dbg	line,	"include\init.c", 445; {
19229                        	
19230                        		.dbg	line,	"include\init.c", 446; // SET OBJECT PROPERTIES //
19231                        	
19232                        		.dbg	line,	"include\init.c", 447; list_object_type[i] = TABLE_OBJECT_TYPE_LV1[i];
19233                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C448  AE 21 2C   			ldx	__init_OBJECT_LV1_end - 1
19234                        		__ld.uax	_TABLE_OBJECT_TYPE_LV1
         1F:C44B  BD 7B 61   			lda	_TABLE_OBJECT_TYPE_LV1, x
         1F:C44E  C2         			cly
19235                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C44F  AE 21 2C   			ldx	__init_OBJECT_LV1_end - 1
19236                        		__st.uaxq	_list_object_type
         1F:C452  9D 39 23   			sta	_list_object_type, x
19237                        	
19238                        		.dbg	line,	"include\init.c", 448; list_object_x_pos_ref[i] = TABLE_OBJECT_X_POS_REF_LV1[i];
19239                        		__ld2x.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C455  AD 21 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:C458  0A         			asl	a
         1F:C459  AA         			tax
19240                        		__ld.wax	_TABLE_OBJECT_X_POS_REF_LV1
         1F:C45A  BD 92 61   			lda.l	_TABLE_OBJECT_X_POS_REF_LV1, x
         1F:C45D  BC 93 61   			ldy.h	_TABLE_OBJECT_X_POS_REF_LV1, x
19241                        		__ld2x.bm	__init_OBJECT_LV1_end - 1  /* i */
         1F:C460  AA         			tax
         1F:C461  AD 21 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:C464  0A         			asl	a
         1F:C465  22         			sax
19242                        		__st.waxq	_list_object_x_pos_ref
         1F:C466  9D 63 25   			sta.l	_list_object_x_pos_ref, x
         1F:C469  98         			tya
         1F:C46A  9D 64 25   			sta.h	_list_object_x_pos_ref, x
19243                        	
19244                        		.dbg	line,	"include\init.c", 449; list_object_y_pos_ref[i] = TABLE_OBJECT_Y_POS_REF_LV1[i];
19245                        		__ld2x.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C46D  AD 21 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:C470  0A         			asl	a
         1F:C471  AA         			tax
19246                        		__ld.wax	_TABLE_OBJECT_Y_POS_REF_LV1
         1F:C472  BD C0 61   			lda.l	_TABLE_OBJECT_Y_POS_REF_LV1, x
         1F:C475  BC C1 61   			ldy.h	_TABLE_OBJECT_Y_POS_REF_LV1, x
19247                        		__ld2x.bm	__init_OBJECT_LV1_end - 1  /* i */
         1F:C478  AA         			tax
         1F:C479  AD 21 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:C47C  0A         			asl	a
         1F:C47D  22         			sax
19248                        		__st.waxq	_list_object_y_pos_ref
         1F:C47E  9D 95 25   			sta.l	_list_object_y_pos_ref, x
         1F:C481  98         			tya
         1F:C482  9D 96 25   			sta.h	_list_object_y_pos_ref, x
19249                        	
19250                        		.dbg	line,	"include\init.c", 450; list_object_x_pos[i] = -16;
19251                        		__ld2x.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C485  AD 21 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:C488  0A         			asl	a
         1F:C489  AA         			tax
19252                        		__st.waxiq	-16, _list_object_x_pos
         1F:C48A  A9 F0      			lda.l	#-16
         1F:C48C  9D FF 24   			sta.l	_list_object_x_pos, x
         1F:C48F  A9 FF      			lda.h	#-16
         1F:C491  9D 00 25   			sta.h	_list_object_x_pos, x
19253                        	
19254                        		.dbg	line,	"include\init.c", 451; list_object_y_pos[i] = -16;
19255                        		__ld2x.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C494  AD 21 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:C497  0A         			asl	a
         1F:C498  AA         			tax
19256                        		__st.waxiq	-16, _list_object_y_pos
         1F:C499  A9 F0      			lda.l	#-16
         1F:C49B  9D 31 25   			sta.l	_list_object_y_pos, x
         1F:C49E  A9 FF      			lda.h	#-16
         1F:C4A0  9D 32 25   			sta.h	_list_object_y_pos, x
19257                        	
19258                        		.dbg	line,	"include\init.c", 452; 
19259                        	
19260                        		.dbg	line,	"include\init.c", 453; // IF THE PLAYERS ENTERS THE LEVEL FOR THE 1RST TIME //
19261                        	
19262                        		.dbg	line,	"include\init.c", 454; // ALL OBJECTS ARE ACTIVE //
19263                        	
19264                        		.dbg	line,	"include\init.c", 455; if(respawn == FALSE)
19265                        		__not.um	_respawn
         1F:C4A3  AD 16 23   			lda	_respawn
         1F:C4A6  18         			clc
         1F:C4A7  D0 01      			bne	!+
         1F:C4A9  38         			sec
         1F:C4AA             	!:
19266                        		__bfalse	.LL932
         1F:C4AA  90 08      			bcc	.LL932
19267                        	
19268                        		.dbg	line,	"include\init.c", 456; {
19269                        	
19270                        		.dbg	line,	"include\init.c", 457; list_object_state[i] = STATE_ACTIVE;
19271                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C4AC  AE 21 2C   			ldx	__init_OBJECT_LV1_end - 1
19272                        		__st.uaxiq	1, _list_object_state
         1F:C4AF  A9 01      			lda.l	#1
         1F:C4B1  9D 52 23   			sta	_list_object_state, x
19273                        	
19274                        		.dbg	line,	"include\init.c", 458; }
19275                        	
19276                        		.dbg	line,	"include\init.c", 461; // SET OBJECT SPRITE //
19277                        	
19278                        		.dbg	line,	"include\init.c", 462; sgx_spr_set(i + object_start_index);
19279    1F:C4B4             	.LL932:
19280                        		__ld.bm		__init_OBJECT_LV1_end - 1  /* i */
         1F:C4B4  AD 21 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:C4B7  C2         			cly
         1F:C4B8  10 01      			bpl	!+
         1F:C4BA  88         			dey
         1F:C4BB             	!:
19281                        		__add.um	_object_start_index
         1F:C4BB  18         			clc
         1F:C4BC  6D 36 23   			adc	_object_start_index
         1F:C4BF  90 01      			bcc	!+
         1F:C4C1  C8         			iny
         1F:C4C2             	!:
19282                        		__call		_sgx_spr_set.1
         1F:C4C2  20 9E E8   			call	_sgx_spr_set.1
19283                        	
19284                        		.dbg	line,	"include\init.c", 463; sgx_spr_x(list_object_x_pos[i]);
19285                        		__ld2x.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C4C5  AD 21 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:C4C8  0A         			asl	a
         1F:C4C9  AA         			tax
19286                        		__ld.wax	_list_object_x_pos
         1F:C4CA  BD FF 24   			lda.l	_list_object_x_pos, x
         1F:C4CD  BC 00 25   			ldy.h	_list_object_x_pos, x
19287                        		__call		_sgx_spr_x.1
         1F:C4D0  20 CB E8   			call	_sgx_spr_x.1
19288                        	
19289                        		.dbg	line,	"include\init.c", 464; sgx_spr_y(list_object_y_pos[i]);
19290                        		__ld2x.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C4D3  AD 21 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:C4D6  0A         			asl	a
         1F:C4D7  AA         			tax
19291                        		__ld.wax	_list_object_y_pos
         1F:C4D8  BD 31 25   			lda.l	_list_object_y_pos, x
         1F:C4DB  BC 32 25   			ldy.h	_list_object_y_pos, x
19292                        		__call		_sgx_spr_y.1
         1F:C4DE  20 DA E8   			call	_sgx_spr_y.1
19293                        	
19294                        		.dbg	line,	"include\init.c", 465; sgx_spr_pri(TRUE);
19295                        		__ld.uiq	1
         1F:C4E1  A9 01      			lda	#1
19296                        		__call		_sgx_spr_pri.1
         1F:C4E3  20 1D E9   			call	_sgx_spr_pri.1
19297                        	
19298                        		.dbg	line,	"include\init.c", 468; if(list_object_type[i] == TYPE_HOURGLASS)
19299                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C4E6  AE 21 2C   			ldx	__init_OBJECT_LV1_end - 1
19300                        		__not.uax	_list_object_type
         1F:C4E9  BD 39 23   			lda	_list_object_type, x
         1F:C4EC  18         			clc
         1F:C4ED  D0 01      			bne	!+
         1F:C4EF  38         			sec
         1F:C4F0             	!:
19301                        		__bfalse	.LL933
         1F:C4F0  90 1D      			bcc	.LL933
19302                        	
19303                        		.dbg	line,	"include\init.c", 469; {
19304                        	
19305                        		.dbg	line,	"include\init.c", 470; list_object_energy[i] = 0;
19306                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C4F2  AE 21 2C   			ldx	__init_OBJECT_LV1_end - 1
19307                        		__st.uaxiq	0, _list_object_energy
         1F:C4F5  9E 6B 23   			stz	_list_object_energy, x
19308                        	
19309                        		.dbg	line,	"include\init.c", 471; sgx_spr_pal(18);
19310                        		__ld.uiq	18
         1F:C4F8  A9 12      			lda	#18
19311                        		__call		_sgx_spr_pal.1
         1F:C4FA  20 0E E9   			call	_sgx_spr_pal.1
19312                        	
19313                        		.dbg	line,	"include\init.c", 472; sgx_spr_pattern(HOURGLASS_VRAM_ADR);
19314                        		__ld.wi		27968
         1F:C4FD  A9 40      			lda.l	#27968
         1F:C4FF  A0 6D      			ldy.h	#27968
19315                        		__call		_sgx_spr_pattern.1
         1F:C501  20 E7 E8   			call	_sgx_spr_pattern.1
19316                        	
19317                        		.dbg	line,	"include\init.c", 473; sgx_spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_16x16);
19318                        		__st.umiq	185, _al
         1F:C504  A9 B9      			lda.l	#185
         1F:C506  85 F8      			sta	_al
19319                        		__ld.uiq	0
         1F:C508  62         			cla
19320                        		__call		_sgx_spr_ctrl.2
         1F:C509  20 FD E8   			call	_sgx_spr_ctrl.2
19321                        	
19322                        		.dbg	line,	"include\init.c", 474; }
19323                        	
19324                        		.dbg	line,	"include\init.c", 476; else if(list_object_type[i] == TYPE_POT)
19325                        		__bra		.LL934
         1F:C50C  4C 43 C4   			bra	.LL934
19326    1F:C50F             	.LL933:
19327                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C50F  AE 21 2C   			ldx	__init_OBJECT_LV1_end - 1
19328                        		__ld.uaxq	_list_object_type
         1F:C512  BD 39 23   			lda	_list_object_type, x
19329                        		__equ_b.uiq	1
         1F:C515  C9 01      			cmp	#1
         1F:C517  F0 01      			beq	!+
         1F:C519  18         			clc
         1F:C51A             	!:
19330                        		__bfalse	.LL935
         1F:C51A  90 1E      			bcc	.LL935
19331                        	
19332                        		.dbg	line,	"include\init.c", 477; {
19333                        	
19334                        		.dbg	line,	"include\init.c", 478; list_object_energy[i] = 2;
19335                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C51C  AE 21 2C   			ldx	__init_OBJECT_LV1_end - 1
19336                        		__st.uaxiq	2, _list_object_energy
         1F:C51F  A9 02      			lda.l	#2
         1F:C521  9D 6B 23   			sta	_list_object_energy, x
19337                        	
19338                        		.dbg	line,	"include\init.c", 479; sgx_spr_pal(17);
19339                        		__ld.uiq	17
         1F:C524  A9 11      			lda	#17
19340                        		__call		_sgx_spr_pal.1
         1F:C526  20 0E E9   			call	_sgx_spr_pal.1
19341                        	
19342                        		.dbg	line,	"include\init.c", 480; sgx_spr_pattern(POT1_VRAM_ADR);
19343                        		__ld.wi		26624
         1F:C529  62         			cla
         1F:C52A  A0 68      			ldy.h	#26624
19344                        		__call		_sgx_spr_pattern.1
         1F:C52C  20 E7 E8   			call	_sgx_spr_pattern.1
19345                        	
19346                        		.dbg	line,	"include\init.c", 481; sgx_spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_16x16);
19347                        		__st.umiq	185, _al
         1F:C52F  A9 B9      			lda.l	#185
         1F:C531  85 F8      			sta	_al
19348                        		__ld.uiq	0
         1F:C533  62         			cla
19349                        		__call		_sgx_spr_ctrl.2
         1F:C534  20 FD E8   			call	_sgx_spr_ctrl.2
19350                        	
19351                        		.dbg	line,	"include\init.c", 482; }
19352                        	
19353                        		.dbg	line,	"include\init.c", 484; else if(list_object_type[i] == TYPE_POW)
19354                        		__bra		.LL936
         1F:C537  4C 43 C4   			bra	.LL936
19355    1F:C53A             	.LL935:
19356                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C53A  AE 21 2C   			ldx	__init_OBJECT_LV1_end - 1
19357                        		__ld.uaxq	_list_object_type
         1F:C53D  BD 39 23   			lda	_list_object_type, x
19358                        		__equ_b.uiq	2
         1F:C540  C9 02      			cmp	#2
         1F:C542  F0 01      			beq	!+
         1F:C544  18         			clc
         1F:C545             	!:
19359                        		__bfalse	.LL937
         1F:C545  B0 03 4C 43			bcc	.LL937
         1F:C549  C4          
19360                        	
19361                        		.dbg	line,	"include\init.c", 485; {
19362                        	
19363                        		.dbg	line,	"include\init.c", 486; list_object_energy[i] = 0;
19364                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:C54A  AE 21 2C   			ldx	__init_OBJECT_LV1_end - 1
19365                        		__st.uaxiq	0, _list_object_energy
         1F:C54D  9E 6B 23   			stz	_list_object_energy, x
19366                        	
19367                        		.dbg	line,	"include\init.c", 487; sgx_spr_pal(18);
19368                        		__ld.uiq	18
         1F:C550  A9 12      			lda	#18
19369                        		__call		_sgx_spr_pal.1
         1F:C552  20 0E E9   			call	_sgx_spr_pal.1
19370                        	
19371                        		.dbg	line,	"include\init.c", 488; sgx_spr_pattern(POW_VRAM_ADR);
19372                        		__ld.wi		27136
         1F:C555  62         			cla
         1F:C556  A0 6A      			ldy.h	#27136
19373                        		__call		_sgx_spr_pattern.1
         1F:C558  20 E7 E8   			call	_sgx_spr_pattern.1
19374                        	
19375                        		.dbg	line,	"include\init.c", 489; sgx_spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_16x16);
19376                        		__st.umiq	185, _al
         1F:C55B  A9 B9      			lda.l	#185
         1F:C55D  85 F8      			sta	_al
19377                        		__ld.uiq	0
         1F:C55F  62         			cla
19378                        		__call		_sgx_spr_ctrl.2
         1F:C560  20 FD E8   			call	_sgx_spr_ctrl.2
19379                        	
19380                        		.dbg	line,	"include\init.c", 490; }
19381                        	
19382                        		.dbg	line,	"include\init.c", 491; }
19383    1F:C563             	.LL937	.alias		.LL929
19384    1F:C563             	.LL936	.alias		.LL929
19385    1F:C563             	.LL934	.alias		.LL929
19386                        		__bra		.LL929
         1F:C563  4C 43 C4   			bra	.LL929
19387    1F:C566             	.LL931:
19388                        	
19389                        		.dbg	line,	"include\init.c", 492; }
19390    1F:C566             	.LL927:
19391                        		__return	0
         1F:C566  4C EF FF   			jmp	leave_proc
19392                        		.dbg	clear
19393                        		.endp
19394               2310     		.bss
19395    F8:2310             	__init_OBJECT_LV1_end	.alias	leaf_stack
19396               E31D     		.code
19397                        		.pceas
19398                        	
19399                        		.dbg	line,	"include\init.c", 495; void init_CHEST_LV1()
19400                        		.dbg	line,	"include\init.c", 496; {
19401                        	;***********************
19402                        	;***********************
19403                        	
19404                        		.hucc
19405    1F:CB6E             		.proc		_init_CHEST_LV1
19406                        		__enter		_init_CHEST_LV1
19407                        	
19408                        		.dbg	line,	"include\init.c", 497; signed char i;
19409                        	
19410                        		.dbg	line,	"include\init.c", 499; for(i=0 ; i<level_chest_number ; i++)
19411                        		__st.umiq	0, __init_CHEST_LV1_end - 1  /* i */
         1F:CB6E  9C 21 2C   			stz	__init_CHEST_LV1_end - 1
19412    1F:CB71             	.LL939:
19413                        		__ld.bm		__init_CHEST_LV1_end - 1  /* i */
         1F:CB71  AD 21 2C   			lda	__init_CHEST_LV1_end - 1
         1F:CB74  C2         			cly
         1F:CB75  10 01      			bpl	!+
         1F:CB77  88         			dey
         1F:CB78             	!:
19414                        		__slt_w.um	_level_chest_number
         1F:CB78  CD BF 23   			cmp	_level_chest_number		; Subtract memory from Y:A.
         1F:CB7B  98         			tya
         1F:CB7C  E9 00      			sbc	#0
         1F:CB7E  50 02      			bvc	!+
         1F:CB80  49 80      			eor	#$80		; -ve if Y:A < memory (signed).
         1F:CB82  0A         	!:		asl	a
19415                        		__btrue		.LL941
         1F:CB83  B0 08      			bcs	.LL941
19416                        		__bra		.LL942
         1F:CB85  4C 35 CC   			bra	.LL942
19417    1F:CB88             	.LL940:
19418                        		__inc.umq	__init_CHEST_LV1_end - 1  /* i */
         1F:CB88  EE 21 2C   			inc	__init_CHEST_LV1_end - 1
19419                        		__bra		.LL939
         1F:CB8B  80 E4      			bra	.LL939
19420    1F:CB8D             	.LL941:
19421                        	
19422                        		.dbg	line,	"include\init.c", 500; {
19423                        	
19424                        		.dbg	line,	"include\init.c", 501; // SET CHEST PROPERTIES //
19425                        	
19426                        		.dbg	line,	"include\init.c", 502; list_chest_x_pos_ref[i] = TABLE_CHEST_X_POS_REF_LV1[i];
19427                        		__ld2x.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:CB8D  AD 21 2C   			lda	__init_CHEST_LV1_end - 1
         1F:CB90  0A         			asl	a
         1F:CB91  AA         			tax
19428                        		__ld.wax	_TABLE_CHEST_X_POS_REF_LV1
         1F:CB92  BD 33 62   			lda.l	_TABLE_CHEST_X_POS_REF_LV1, x
         1F:CB95  BC 34 62   			ldy.h	_TABLE_CHEST_X_POS_REF_LV1, x
19429                        		__ld2x.bm	__init_CHEST_LV1_end - 1  /* i */
         1F:CB98  AA         			tax
         1F:CB99  AD 21 2C   			lda	__init_CHEST_LV1_end - 1
         1F:CB9C  0A         			asl	a
         1F:CB9D  22         			sax
19430                        		__st.waxq	_list_chest_x_pos_ref
         1F:CB9E  9D E7 25   			sta.l	_list_chest_x_pos_ref, x
         1F:CBA1  98         			tya
         1F:CBA2  9D E8 25   			sta.h	_list_chest_x_pos_ref, x
19431                        	
19432                        		.dbg	line,	"include\init.c", 503; list_chest_y_pos_ref[i] = TABLE_CHEST_Y_POS_REF_LV1[i];
19433                        		__ld2x.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:CBA5  AD 21 2C   			lda	__init_CHEST_LV1_end - 1
         1F:CBA8  0A         			asl	a
         1F:CBA9  AA         			tax
19434                        		__ld.wax	_TABLE_CHEST_Y_POS_REF_LV1
         1F:CBAA  BD 37 62   			lda.l	_TABLE_CHEST_Y_POS_REF_LV1, x
         1F:CBAD  BC 38 62   			ldy.h	_TABLE_CHEST_Y_POS_REF_LV1, x
19435                        		__ld2x.bm	__init_CHEST_LV1_end - 1  /* i */
         1F:CBB0  AA         			tax
         1F:CBB1  AD 21 2C   			lda	__init_CHEST_LV1_end - 1
         1F:CBB4  0A         			asl	a
         1F:CBB5  22         			sax
19436                        		__st.waxq	_list_chest_y_pos_ref
         1F:CBB6  9D F7 25   			sta.l	_list_chest_y_pos_ref, x
         1F:CBB9  98         			tya
         1F:CBBA  9D F8 25   			sta.h	_list_chest_y_pos_ref, x
19437                        	
19438                        		.dbg	line,	"include\init.c", 504; list_chest_x_pos[i] = -32;
19439                        		__ld2x.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:CBBD  AD 21 2C   			lda	__init_CHEST_LV1_end - 1
         1F:CBC0  0A         			asl	a
         1F:CBC1  AA         			tax
19440                        		__st.waxiq	-32, _list_chest_x_pos
         1F:CBC2  A9 E0      			lda.l	#-32
         1F:CBC4  9D C7 25   			sta.l	_list_chest_x_pos, x
         1F:CBC7  A9 FF      			lda.h	#-32
         1F:CBC9  9D C8 25   			sta.h	_list_chest_x_pos, x
19441                        	
19442                        		.dbg	line,	"include\init.c", 505; list_chest_y_pos[i] = -32;
19443                        		__ld2x.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:CBCC  AD 21 2C   			lda	__init_CHEST_LV1_end - 1
         1F:CBCF  0A         			asl	a
         1F:CBD0  AA         			tax
19444                        		__st.waxiq	-32, _list_chest_y_pos
         1F:CBD1  A9 E0      			lda.l	#-32
         1F:CBD3  9D D7 25   			sta.l	_list_chest_y_pos, x
         1F:CBD6  A9 FF      			lda.h	#-32
         1F:CBD8  9D D8 25   			sta.h	_list_chest_y_pos, x
19445                        	
19446                        		.dbg	line,	"include\init.c", 507; if(respawn == FALSE)
19447                        		__not.um	_respawn
         1F:CBDB  AD 16 23   			lda	_respawn
         1F:CBDE  18         			clc
         1F:CBDF  D0 01      			bne	!+
         1F:CBE1  38         			sec
         1F:CBE2             	!:
19448                        		__bfalse	.LL943
         1F:CBE2  90 08      			bcc	.LL943
19449                        	
19450                        		.dbg	line,	"include\init.c", 508; {
19451                        	
19452                        		.dbg	line,	"include\init.c", 509; list_chest_state[i] = STATE_ACTIVE;
19453                        		__ldx.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:CBE4  AE 21 2C   			ldx	__init_CHEST_LV1_end - 1
19454                        		__st.uaxiq	1, _list_chest_state
         1F:CBE7  A9 01      			lda.l	#1
         1F:CBE9  9D C1 23   			sta	_list_chest_state, x
19455                        	
19456                        		.dbg	line,	"include\init.c", 510; }
19457                        	
19458                        		.dbg	line,	"include\init.c", 513; // SET CHEST SPRITE //
19459                        	
19460                        		.dbg	line,	"include\init.c", 514; sgx_spr_set(i + chest_start_index);
19461    1F:CBEC             	.LL943:
19462                        		__ld.bm		__init_CHEST_LV1_end - 1  /* i */
         1F:CBEC  AD 21 2C   			lda	__init_CHEST_LV1_end - 1
         1F:CBEF  C2         			cly
         1F:CBF0  10 01      			bpl	!+
         1F:CBF2  88         			dey
         1F:CBF3             	!:
19463                        		__add.um	_chest_start_index
         1F:CBF3  18         			clc
         1F:CBF4  6D BE 23   			adc	_chest_start_index
         1F:CBF7  90 01      			bcc	!+
         1F:CBF9  C8         			iny
         1F:CBFA             	!:
19464                        		__call		_sgx_spr_set.1
         1F:CBFA  20 9E E8   			call	_sgx_spr_set.1
19465                        	
19466                        		.dbg	line,	"include\init.c", 515; sgx_spr_x(list_chest_x_pos[i]);
19467                        		__ld2x.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:CBFD  AD 21 2C   			lda	__init_CHEST_LV1_end - 1
         1F:CC00  0A         			asl	a
         1F:CC01  AA         			tax
19468                        		__ld.wax	_list_chest_x_pos
         1F:CC02  BD C7 25   			lda.l	_list_chest_x_pos, x
         1F:CC05  BC C8 25   			ldy.h	_list_chest_x_pos, x
19469                        		__call		_sgx_spr_x.1
         1F:CC08  20 CB E8   			call	_sgx_spr_x.1
19470                        	
19471                        		.dbg	line,	"include\init.c", 516; sgx_spr_y(list_chest_y_pos[i]);
19472                        		__ld2x.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:CC0B  AD 21 2C   			lda	__init_CHEST_LV1_end - 1
         1F:CC0E  0A         			asl	a
         1F:CC0F  AA         			tax
19473                        		__ld.wax	_list_chest_y_pos
         1F:CC10  BD D7 25   			lda.l	_list_chest_y_pos, x
         1F:CC13  BC D8 25   			ldy.h	_list_chest_y_pos, x
19474                        		__call		_sgx_spr_y.1
         1F:CC16  20 DA E8   			call	_sgx_spr_y.1
19475                        	
19476                        		.dbg	line,	"include\init.c", 517; sgx_spr_pri(TRUE);
19477                        		__ld.uiq	1
         1F:CC19  A9 01      			lda	#1
19478                        		__call		_sgx_spr_pri.1
         1F:CC1B  20 1D E9   			call	_sgx_spr_pri.1
19479                        	
19480                        		.dbg	line,	"include\init.c", 520; sgx_spr_pal(18);
19481                        		__ld.uiq	18
         1F:CC1E  A9 12      			lda	#18
19482                        		__call		_sgx_spr_pal.1
         1F:CC20  20 0E E9   			call	_sgx_spr_pal.1
19483                        	
19484                        		.dbg	line,	"include\init.c", 521; sgx_spr_pattern(CHEST_VRAM_ADR);
19485                        		__ld.wi		28416
         1F:CC23  62         			cla
         1F:CC24  A0 6F      			ldy.h	#28416
19486                        		__call		_sgx_spr_pattern.1
         1F:CC26  20 E7 E8   			call	_sgx_spr_pattern.1
19487                        	
19488                        		.dbg	line,	"include\init.c", 522; sgx_spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_32x32);
19489                        		__st.umiq	185, _al
         1F:CC29  A9 B9      			lda.l	#185
         1F:CC2B  85 F8      			sta	_al
19490                        		__ld.uiq	17
         1F:CC2D  A9 11      			lda	#17
19491                        		__call		_sgx_spr_ctrl.2
         1F:CC2F  20 FD E8   			call	_sgx_spr_ctrl.2
19492                        	
19493                        		.dbg	line,	"include\init.c", 523; }
19494                        		__bra		.LL940
         1F:CC32  4C 88 CB   			bra	.LL940
19495    1F:CC35             	.LL942:
19496                        	
19497                        		.dbg	line,	"include\init.c", 524; }
19498    1F:CC35             	.LL938:
19499                        		__return	0
         1F:CC35  4C EF FF   			jmp	leave_proc
19500                        		.dbg	clear
19501                        		.endp
19502               2310     		.bss
19503    F8:2310             	__init_CHEST_LV1_end	.alias	leaf_stack
19504               E31D     		.code
19505                        		.pceas
19506                        	
19507                        		.dbg	line,	"include\init.c", 527; void init_NPC_LV1()
19508                        		.dbg	line,	"include\init.c", 528; {
19509                        	;***********************
19510                        	;***********************
19511                        	
19512                        		.hucc
19513    1F:C9C7             		.proc		_init_NPC_LV1
19514                        		__enter		_init_NPC_LV1
19515                        	
19516                        		.dbg	line,	"include\init.c", 529; signed char i;
19517                        	
19518                        		.dbg	line,	"include\init.c", 531; for(i=0 ; i<level_npc_number ; i++)
19519                        		__st.umiq	0, __init_NPC_LV1_end - 1  /* i */
         1F:C9C7  9C 21 2C   			stz	__init_NPC_LV1_end - 1
19520    1F:C9CA             	.LL945:
19521                        		__ld.bm		__init_NPC_LV1_end - 1  /* i */
         1F:C9CA  AD 21 2C   			lda	__init_NPC_LV1_end - 1
         1F:C9CD  C2         			cly
         1F:C9CE  10 01      			bpl	!+
         1F:C9D0  88         			dey
         1F:C9D1             	!:
19522                        		__slt_w.um	_level_npc_number
         1F:C9D1  CD D2 23   			cmp	_level_npc_number		; Subtract memory from Y:A.
         1F:C9D4  98         			tya
         1F:C9D5  E9 00      			sbc	#0
         1F:C9D7  50 02      			bvc	!+
         1F:C9D9  49 80      			eor	#$80		; -ve if Y:A < memory (signed).
         1F:C9DB  0A         	!:		asl	a
19523                        		__btrue		.LL947
         1F:C9DC  B0 08      			bcs	.LL947
19524                        		__bra		.LL948
         1F:C9DE  4C 9B CA   			bra	.LL948
19525    1F:C9E1             	.LL946:
19526                        		__inc.umq	__init_NPC_LV1_end - 1  /* i */
         1F:C9E1  EE 21 2C   			inc	__init_NPC_LV1_end - 1
19527                        		__bra		.LL945
         1F:C9E4  80 E4      			bra	.LL945
19528    1F:C9E6             	.LL947:
19529                        	
19530                        		.dbg	line,	"include\init.c", 532; {
19531                        	
19532                        		.dbg	line,	"include\init.c", 533; // SET NPC PROPERTIES //
19533                        	
19534                        		.dbg	line,	"include\init.c", 534; list_npc_type[i] = TABLE_NPC_TYPE_LV1[i];
19535                        		__ldx.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:C9E6  AE 21 2C   			ldx	__init_NPC_LV1_end - 1
19536                        		__ld.uax	_TABLE_NPC_TYPE_LV1
         1F:C9E9  BD 71 61   			lda	_TABLE_NPC_TYPE_LV1, x
         1F:C9EC  C2         			cly
19537                        		__ldx.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:C9ED  AE 21 2C   			ldx	__init_NPC_LV1_end - 1
19538                        		__st.uaxq	_list_npc_type
         1F:C9F0  9D D4 23   			sta	_list_npc_type, x
19539                        	
19540                        		.dbg	line,	"include\init.c", 535; list_npc_x_pos_ref[i] = TABLE_NPC_X_POS_REF_LV1[i];
19541                        		__ld2x.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:C9F3  AD 21 2C   			lda	__init_NPC_LV1_end - 1
         1F:C9F6  0A         			asl	a
         1F:C9F7  AA         			tax
19542                        		__ld.wax	_TABLE_NPC_X_POS_REF_LV1
         1F:C9F8  BD 73 61   			lda.l	_TABLE_NPC_X_POS_REF_LV1, x
         1F:C9FB  BC 74 61   			ldy.h	_TABLE_NPC_X_POS_REF_LV1, x
19543                        		__ld2x.bm	__init_NPC_LV1_end - 1  /* i */
         1F:C9FE  AA         			tax
         1F:C9FF  AD 21 2C   			lda	__init_NPC_LV1_end - 1
         1F:CA02  0A         			asl	a
         1F:CA03  22         			sax
19544                        		__st.waxq	_list_npc_x_pos_ref
         1F:CA04  9D 2B 26   			sta.l	_list_npc_x_pos_ref, x
         1F:CA07  98         			tya
         1F:CA08  9D 2C 26   			sta.h	_list_npc_x_pos_ref, x
19545                        	
19546                        		.dbg	line,	"include\init.c", 536; list_npc_y_pos_ref[i] = TABLE_NPC_Y_POS_REF_LV1[i];
19547                        		__ld2x.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:CA0B  AD 21 2C   			lda	__init_NPC_LV1_end - 1
         1F:CA0E  0A         			asl	a
         1F:CA0F  AA         			tax
19548                        		__ld.wax	_TABLE_NPC_Y_POS_REF_LV1
         1F:CA10  BD 77 61   			lda.l	_TABLE_NPC_Y_POS_REF_LV1, x
         1F:CA13  BC 78 61   			ldy.h	_TABLE_NPC_Y_POS_REF_LV1, x
19549                        		__ld2x.bm	__init_NPC_LV1_end - 1  /* i */
         1F:CA16  AA         			tax
         1F:CA17  AD 21 2C   			lda	__init_NPC_LV1_end - 1
         1F:CA1A  0A         			asl	a
         1F:CA1B  22         			sax
19550                        		__st.waxq	_list_npc_y_pos_ref
         1F:CA1C  9D 3D 26   			sta.l	_list_npc_y_pos_ref, x
         1F:CA1F  98         			tya
         1F:CA20  9D 3E 26   			sta.h	_list_npc_y_pos_ref, x
19551                        	
19552                        		.dbg	line,	"include\init.c", 537; list_npc_x_pos[i] = -32;
19553                        		__ld2x.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:CA23  AD 21 2C   			lda	__init_NPC_LV1_end - 1
         1F:CA26  0A         			asl	a
         1F:CA27  AA         			tax
19554                        		__st.waxiq	-32, _list_npc_x_pos
         1F:CA28  A9 E0      			lda.l	#-32
         1F:CA2A  9D 07 26   			sta.l	_list_npc_x_pos, x
         1F:CA2D  A9 FF      			lda.h	#-32
         1F:CA2F  9D 08 26   			sta.h	_list_npc_x_pos, x
19555                        	
19556                        		.dbg	line,	"include\init.c", 538; list_npc_y_pos[i] = -32;
19557                        		__ld2x.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:CA32  AD 21 2C   			lda	__init_NPC_LV1_end - 1
         1F:CA35  0A         			asl	a
         1F:CA36  AA         			tax
19558                        		__st.waxiq	-32, _list_npc_y_pos
         1F:CA37  A9 E0      			lda.l	#-32
         1F:CA39  9D 19 26   			sta.l	_list_npc_y_pos, x
         1F:CA3C  A9 FF      			lda.h	#-32
         1F:CA3E  9D 1A 26   			sta.h	_list_npc_y_pos, x
19559                        	
19560                        		.dbg	line,	"include\init.c", 540; if(respawn == FALSE)
19561                        		__not.um	_respawn
         1F:CA41  AD 16 23   			lda	_respawn
         1F:CA44  18         			clc
         1F:CA45  D0 01      			bne	!+
         1F:CA47  38         			sec
         1F:CA48             	!:
19562                        		__bfalse	.LL949
         1F:CA48  90 08      			bcc	.LL949
19563                        	
19564                        		.dbg	line,	"include\init.c", 541; {
19565                        	
19566                        		.dbg	line,	"include\init.c", 542; list_npc_state[i] = STATE_ACTIVE;
19567                        		__ldx.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:CA4A  AE 21 2C   			ldx	__init_NPC_LV1_end - 1
19568                        		__st.uaxiq	1, _list_npc_state
         1F:CA4D  A9 01      			lda.l	#1
         1F:CA4F  9D DD 23   			sta	_list_npc_state, x
19569                        	
19570                        		.dbg	line,	"include\init.c", 543; }
19571                        	
19572                        		.dbg	line,	"include\init.c", 546; // SET NPC SPRITE //
19573                        	
19574                        		.dbg	line,	"include\init.c", 547; sgx_spr_set(i + npc_start_index);
19575    1F:CA52             	.LL949:
19576                        		__ld.bm		__init_NPC_LV1_end - 1  /* i */
         1F:CA52  AD 21 2C   			lda	__init_NPC_LV1_end - 1
         1F:CA55  C2         			cly
         1F:CA56  10 01      			bpl	!+
         1F:CA58  88         			dey
         1F:CA59             	!:
19577                        		__add.um	_npc_start_index
         1F:CA59  18         			clc
         1F:CA5A  6D D1 23   			adc	_npc_start_index
         1F:CA5D  90 01      			bcc	!+
         1F:CA5F  C8         			iny
         1F:CA60             	!:
19578                        		__call		_sgx_spr_set.1
         1F:CA60  20 9E E8   			call	_sgx_spr_set.1
19579                        	
19580                        		.dbg	line,	"include\init.c", 548; sgx_spr_x(list_npc_x_pos[i]);
19581                        		__ld2x.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:CA63  AD 21 2C   			lda	__init_NPC_LV1_end - 1
         1F:CA66  0A         			asl	a
         1F:CA67  AA         			tax
19582                        		__ld.wax	_list_npc_x_pos
         1F:CA68  BD 07 26   			lda.l	_list_npc_x_pos, x
         1F:CA6B  BC 08 26   			ldy.h	_list_npc_x_pos, x
19583                        		__call		_sgx_spr_x.1
         1F:CA6E  20 CB E8   			call	_sgx_spr_x.1
19584                        	
19585                        		.dbg	line,	"include\init.c", 549; sgx_spr_y(list_npc_y_pos[i]);
19586                        		__ld2x.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:CA71  AD 21 2C   			lda	__init_NPC_LV1_end - 1
         1F:CA74  0A         			asl	a
         1F:CA75  AA         			tax
19587                        		__ld.wax	_list_npc_y_pos
         1F:CA76  BD 19 26   			lda.l	_list_npc_y_pos, x
         1F:CA79  BC 1A 26   			ldy.h	_list_npc_y_pos, x
19588                        		__call		_sgx_spr_y.1
         1F:CA7C  20 DA E8   			call	_sgx_spr_y.1
19589                        	
19590                        		.dbg	line,	"include\init.c", 550; sgx_spr_pri(TRUE);
19591                        		__ld.uiq	1
         1F:CA7F  A9 01      			lda	#1
19592                        		__call		_sgx_spr_pri.1
         1F:CA81  20 1D E9   			call	_sgx_spr_pri.1
19593                        	
19594                        		.dbg	line,	"include\init.c", 553; sgx_spr_pal(17);
19595                        		__ld.uiq	17
         1F:CA84  A9 11      			lda	#17
19596                        		__call		_sgx_spr_pal.1
         1F:CA86  20 0E E9   			call	_sgx_spr_pal.1
19597                        	
19598                        		.dbg	line,	"include\init.c", 554; sgx_spr_pattern(NPC_VRAM_ADR);
19599                        		__ld.wi		29952
         1F:CA89  62         			cla
         1F:CA8A  A0 75      			ldy.h	#29952
19600                        		__call		_sgx_spr_pattern.1
         1F:CA8C  20 E7 E8   			call	_sgx_spr_pattern.1
19601                        	
19602                        		.dbg	line,	"include\init.c", 555; sgx_spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_32x32);
19603                        		__st.umiq	185, _al
         1F:CA8F  A9 B9      			lda.l	#185
         1F:CA91  85 F8      			sta	_al
19604                        		__ld.uiq	17
         1F:CA93  A9 11      			lda	#17
19605                        		__call		_sgx_spr_ctrl.2
         1F:CA95  20 FD E8   			call	_sgx_spr_ctrl.2
19606                        	
19607                        		.dbg	line,	"include\init.c", 556; }
19608                        		__bra		.LL946
         1F:CA98  4C E1 C9   			bra	.LL946
19609    1F:CA9B             	.LL948:
19610                        	
19611                        		.dbg	line,	"include\init.c", 557; }
19612    1F:CA9B             	.LL944:
19613                        		__return	0
         1F:CA9B  4C EF FF   			jmp	leave_proc
19614                        		.dbg	clear
19615                        		.endp
19616               2310     		.bss
19617    F8:2310             	__init_NPC_LV1_end	.alias	leaf_stack
19618               E31D     		.code
19619                        		.pceas
19620                        	
19621                        		.dbg	line,	"include\init.c", 564; void init_HUD()
19622                        		.dbg	line,	"include\init.c", 565; {
19623                        	;***********************
19624                        	;***********************
19625                        	
19626                        		.hucc
19627    01:DC97             		.proc		_init_HUD
19628                        		__enter		_init_HUD
19629                        	
19630                        		.dbg	line,	"include\init.c", 566; //**************************************************************************************//
19631                        	
19632                        		.dbg	line,	"include\init.c", 567; //                                                                                      //
19633                        	
19634                        		.dbg	line,	"include\init.c", 568; //                                        VDC 1                                         //
19635                        	
19636                        		.dbg	line,	"include\init.c", 569; //                                                                                      //
19637                        	
19638                        		.dbg	line,	"include\init.c", 570; //**************************************************************************************//
19639                        	
19640                        		.dbg	line,	"include\init.c", 572; //--------------------------------------------------------------------------------------//
19641                        	
19642                        		.dbg	line,	"include\init.c", 573; //                                      LOAD FONT                                       //
19643                        	
19644                        		.dbg	line,	"include\init.c", 574; //--------------------------------------------------------------------------------------//
19645                        	
19646                        		.dbg	line,	"include\init.c", 576; set_font_addr(0x0800);
19647                        		__ld.wi		2048
         01:DC97  62         			cla
         01:DC98  A0 08      			ldy.h	#2048
19648                        		__call		_set_font_addr.1
         01:DC9A  20 D9 E5   			call	_set_font_addr.1
19649                        	
19650                        		.dbg	line,	"include\init.c", 578; load_vram( 0x0800, tileset_FONT_TITLE, SIZEOF(tileset_FONT_TITLE) >> 1 );
19651                        		__st.wmiq	2048, _di
         01:DC9D  64 F0      			stz.l	_di
         01:DC9F  A9 08      			lda.h	#2048
         01:DCA1  85 F1      			sta.h	_di
19652                        		__farptr	_tileset_FONT_TITLE, _bp_bank, _bp
         01:DCA3  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_FONT_TITLE))
         01:DCA5  85 EC      			sta.l	_bp
         01:DCA7  A9 69      			lda.h	#$6000 + ($1FFF & (_tileset_FONT_TITLE))
         01:DCA9  85 ED      			sta.h	_bp
         01:DCAB  A9 12      			lda	#bank(_tileset_FONT_TITLE)
         01:DCAD  85 02      			sta	_bp_bank
19653                        		__ld.wi		___sizeof__tileset_FONT_TITLE
         01:DCAF  A9 00      			lda.l	#___sizeof__tileset_FONT_TITLE
         01:DCB1  A0 0C      			ldy.h	#___sizeof__tileset_FONT_TITLE
19654                        		__lsr.wi	1
         01:DCB3  42         			say
         01:DCB4  4A         			lsr	a
         01:DCB5  42         			say
         01:DCB6  6A         			ror	a
19655                        		__st.wmq	_ax
         01:DCB7  85 F8      			sta.l	_ax
         01:DCB9  84 F9      			sty.h	_ax
19656                        		 _load_vram.3
         01:DCBB  82         			clx				; Offset to PCE VDC.
         01:DCBC  20 FF FE   			call	load_vram_x
19657                        	
19658                        		.dbg	line,	"include\init.c", 580; set_font_pal(15);
19659                        		__ld.uiq	15
         01:DCBF  A9 0F      			lda	#15
19660                        		__call		_set_font_pal.1
         01:DCC1  20 00 E6   			call	_set_font_pal.1
19661                        	
19662                        		.dbg	line,	"include\init.c", 583; //--------------------------------------------------------------------------------------//
19663                        	
19664                        		.dbg	line,	"include\init.c", 584; //                                    LOAD TILESET                                      //
19665                        	
19666                        		.dbg	line,	"include\init.c", 585; //--------------------------------------------------------------------------------------//
19667                        	
19668                        		.dbg	line,	"include\init.c", 587; load_vram( 0x1000, tileset_HUD, SIZEOF(tileset_HUD) >> 1 );
19669                        		__st.wmiq	4096, _di
         01:DCC4  64 F0      			stz.l	_di
         01:DCC6  A9 10      			lda.h	#4096
         01:DCC8  85 F1      			sta.h	_di
19670                        		__farptr	_tileset_HUD, _bp_bank, _bp
         01:DCCA  A9 A0      			lda.l	#$6000 + ($1FFF & (_tileset_HUD))
         01:DCCC  85 EC      			sta.l	_bp
         01:DCCE  A9 79      			lda.h	#$6000 + ($1FFF & (_tileset_HUD))
         01:DCD0  85 ED      			sta.h	_bp
         01:DCD2  A9 0D      			lda	#bank(_tileset_HUD)
         01:DCD4  85 02      			sta	_bp_bank
19671                        		__ld.wi		___sizeof__tileset_HUD
         01:DCD6  A9 40      			lda.l	#___sizeof__tileset_HUD
         01:DCD8  A0 06      			ldy.h	#___sizeof__tileset_HUD
19672                        		__lsr.wi	1
         01:DCDA  42         			say
         01:DCDB  4A         			lsr	a
         01:DCDC  42         			say
         01:DCDD  6A         			ror	a
19673                        		__st.wmq	_ax
         01:DCDE  85 F8      			sta.l	_ax
         01:DCE0  84 F9      			sty.h	_ax
19674                        		 _load_vram.3
         01:DCE2  82         			clx				; Offset to PCE VDC.
         01:DCE3  20 FF FE   			call	load_vram_x
19675                        	
19676                        		.dbg	line,	"include\init.c", 590; //--------------------------------------------------------------------------------------//
19677                        	
19678                        		.dbg	line,	"include\init.c", 591; //                                 LOAD LIFEBAR TILES                                   //
19679                        	
19680                        		.dbg	line,	"include\init.c", 592; //--------------------------------------------------------------------------------------//
19681                        	
19682                        		.dbg	line,	"include\init.c", 594; load_vram( LIFEBAR_1_VRAM_ADR, tileset_LIFE_RED, SIZEOF(tileset_LIFE_RED) >> 1 );
19683                        		__st.wmiq	4096, _di
         01:DCE6  64 F0      			stz.l	_di
         01:DCE8  A9 10      			lda.h	#4096
         01:DCEA  85 F1      			sta.h	_di
19684                        		__farptr	_tileset_LIFE_RED, _bp_bank, _bp
         01:DCEC  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_LIFE_RED))
         01:DCEE  85 EC      			sta.l	_bp
         01:DCF0  A9 70      			lda.h	#$6000 + ($1FFF & (_tileset_LIFE_RED))
         01:DCF2  85 ED      			sta.h	_bp
         01:DCF4  A9 07      			lda	#bank(_tileset_LIFE_RED)
         01:DCF6  85 02      			sta	_bp_bank
19685                        		__ld.wi		___sizeof__tileset_LIFE_RED
         01:DCF8  A9 40      			lda.l	#___sizeof__tileset_LIFE_RED
         01:DCFA  A0 00      			ldy.h	#___sizeof__tileset_LIFE_RED
19686                        		__lsr.wi	1
         01:DCFC  42         			say
         01:DCFD  4A         			lsr	a
         01:DCFE  42         			say
         01:DCFF  6A         			ror	a
19687                        		__st.wmq	_ax
         01:DD00  85 F8      			sta.l	_ax
         01:DD02  84 F9      			sty.h	_ax
19688                        		 _load_vram.3
         01:DD04  82         			clx				; Offset to PCE VDC.
         01:DD05  20 FF FE   			call	load_vram_x
19689                        	
19690                        		.dbg	line,	"include\init.c", 595; load_vram( LIFEBAR_2_VRAM_ADR, tileset_LIFE_ORANGE, SIZEOF(tileset_LIFE_ORANGE) >> 1 );
19691                        		__st.wmiq	4128, _di
         01:DD08  A9 20      			lda.l	#4128
         01:DD0A  85 F0      			sta.l	_di
         01:DD0C  A9 10      			lda.h	#4128
         01:DD0E  85 F1      			sta.h	_di
19692                        		__farptr	_tileset_LIFE_ORANGE, _bp_bank, _bp
         01:DD10  A9 20      			lda.l	#$6000 + ($1FFF & (_tileset_LIFE_ORANGE))
         01:DD12  85 EC      			sta.l	_bp
         01:DD14  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_LIFE_ORANGE))
         01:DD16  85 ED      			sta.h	_bp
         01:DD18  A9 07      			lda	#bank(_tileset_LIFE_ORANGE)
         01:DD1A  85 02      			sta	_bp_bank
19693                        		__ld.wi		___sizeof__tileset_LIFE_ORANGE
         01:DD1C  A9 40      			lda.l	#___sizeof__tileset_LIFE_ORANGE
         01:DD1E  A0 00      			ldy.h	#___sizeof__tileset_LIFE_ORANGE
19694                        		__lsr.wi	1
         01:DD20  42         			say
         01:DD21  4A         			lsr	a
         01:DD22  42         			say
         01:DD23  6A         			ror	a
19695                        		__st.wmq	_ax
         01:DD24  85 F8      			sta.l	_ax
         01:DD26  84 F9      			sty.h	_ax
19696                        		 _load_vram.3
         01:DD28  82         			clx				; Offset to PCE VDC.
         01:DD29  20 FF FE   			call	load_vram_x
19697                        	
19698                        		.dbg	line,	"include\init.c", 596; load_vram( LIFEBAR_3_VRAM_ADR, tileset_LIFE_YELLOW, SIZEOF(tileset_LIFE_YELLOW) >> 1 );
19699                        		__st.wmiq	4160, _di
         01:DD2C  A9 40      			lda.l	#4160
         01:DD2E  85 F0      			sta.l	_di
         01:DD30  A9 10      			lda.h	#4160
         01:DD32  85 F1      			sta.h	_di
19700                        		__farptr	_tileset_LIFE_YELLOW, _bp_bank, _bp
         01:DD34  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_LIFE_YELLOW))
         01:DD36  85 EC      			sta.l	_bp
         01:DD38  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_LIFE_YELLOW))
         01:DD3A  85 ED      			sta.h	_bp
         01:DD3C  A9 07      			lda	#bank(_tileset_LIFE_YELLOW)
         01:DD3E  85 02      			sta	_bp_bank
19701                        		__ld.wi		___sizeof__tileset_LIFE_YELLOW
         01:DD40  A9 40      			lda.l	#___sizeof__tileset_LIFE_YELLOW
         01:DD42  A0 00      			ldy.h	#___sizeof__tileset_LIFE_YELLOW
19702                        		__lsr.wi	1
         01:DD44  42         			say
         01:DD45  4A         			lsr	a
         01:DD46  42         			say
         01:DD47  6A         			ror	a
19703                        		__st.wmq	_ax
         01:DD48  85 F8      			sta.l	_ax
         01:DD4A  84 F9      			sty.h	_ax
19704                        		 _load_vram.3
         01:DD4C  82         			clx				; Offset to PCE VDC.
         01:DD4D  20 FF FE   			call	load_vram_x
19705                        	
19706                        		.dbg	line,	"include\init.c", 597; load_vram( LIFEBAR_4_VRAM_ADR, tileset_LIFE_YELLOW, SIZEOF(tileset_LIFE_YELLOW) >> 1 );
19707                        		__st.wmiq	4192, _di
         01:DD50  A9 60      			lda.l	#4192
         01:DD52  85 F0      			sta.l	_di
         01:DD54  A9 10      			lda.h	#4192
         01:DD56  85 F1      			sta.h	_di
19708                        		__farptr	_tileset_LIFE_YELLOW, _bp_bank, _bp
         01:DD58  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_LIFE_YELLOW))
         01:DD5A  85 EC      			sta.l	_bp
         01:DD5C  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_LIFE_YELLOW))
         01:DD5E  85 ED      			sta.h	_bp
         01:DD60  A9 07      			lda	#bank(_tileset_LIFE_YELLOW)
         01:DD62  85 02      			sta	_bp_bank
19709                        		__ld.wi		___sizeof__tileset_LIFE_YELLOW
         01:DD64  A9 40      			lda.l	#___sizeof__tileset_LIFE_YELLOW
         01:DD66  A0 00      			ldy.h	#___sizeof__tileset_LIFE_YELLOW
19710                        		__lsr.wi	1
         01:DD68  42         			say
         01:DD69  4A         			lsr	a
         01:DD6A  42         			say
         01:DD6B  6A         			ror	a
19711                        		__st.wmq	_ax
         01:DD6C  85 F8      			sta.l	_ax
         01:DD6E  84 F9      			sty.h	_ax
19712                        		 _load_vram.3
         01:DD70  82         			clx				; Offset to PCE VDC.
         01:DD71  20 FF FE   			call	load_vram_x
19713                        	
19714                        		.dbg	line,	"include\init.c", 598; load_vram( LIFEBAR_5_VRAM_ADR, tileset_LIFE_EMPTY, SIZEOF(tileset_LIFE_EMPTY) >> 1 );
19715                        		__st.wmiq	4224, _di
         01:DD74  A9 80      			lda.l	#4224
         01:DD76  85 F0      			sta.l	_di
         01:DD78  A9 10      			lda.h	#4224
         01:DD7A  85 F1      			sta.h	_di
19716                        		__farptr	_tileset_LIFE_EMPTY, _bp_bank, _bp
         01:DD7C  A9 A0      			lda.l	#$6000 + ($1FFF & (_tileset_LIFE_EMPTY))
         01:DD7E  85 EC      			sta.l	_bp
         01:DD80  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_LIFE_EMPTY))
         01:DD82  85 ED      			sta.h	_bp
         01:DD84  A9 07      			lda	#bank(_tileset_LIFE_EMPTY)
         01:DD86  85 02      			sta	_bp_bank
19717                        		__ld.wi		___sizeof__tileset_LIFE_EMPTY
         01:DD88  A9 40      			lda.l	#___sizeof__tileset_LIFE_EMPTY
         01:DD8A  A0 00      			ldy.h	#___sizeof__tileset_LIFE_EMPTY
19718                        		__lsr.wi	1
         01:DD8C  42         			say
         01:DD8D  4A         			lsr	a
         01:DD8E  42         			say
         01:DD8F  6A         			ror	a
19719                        		__st.wmq	_ax
         01:DD90  85 F8      			sta.l	_ax
         01:DD92  84 F9      			sty.h	_ax
19720                        		 _load_vram.3
         01:DD94  82         			clx				; Offset to PCE VDC.
         01:DD95  20 FF FE   			call	load_vram_x
19721                        	
19722                        		.dbg	line,	"include\init.c", 601; //--------------------------------------------------------------------------------------//
19723                        	
19724                        		.dbg	line,	"include\init.c", 602; //                               LOAD WEAPON + ARMOR TILES                              //
19725                        	
19726                        		.dbg	line,	"include\init.c", 603; //--------------------------------------------------------------------------------------//
19727                        	
19728                        		.dbg	line,	"include\init.c", 605; if(weapon_level == 1)
19729                        		__ld.umq	_weapon_level
         01:DD98  AD 28 23   			lda	_weapon_level
19730                        		__equ_b.uiq	1
         01:DD9B  C9 01      			cmp	#1
         01:DD9D  F0 01      			beq	!+
         01:DD9F  18         			clc
         01:DDA0             	!:
19731                        		__bfalse	.LL951
         01:DDA0  90 27      			bcc	.LL951
19732                        	
19733                        		.dbg	line,	"include\init.c", 606; {
19734                        	
19735                        		.dbg	line,	"include\init.c", 607; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_1, SIZEOF(tileset_WEAPON_1) >> 1 );
19736                        		__st.wmiq	4256, _di
         01:DDA2  A9 A0      			lda.l	#4256
         01:DDA4  85 F0      			sta.l	_di
         01:DDA6  A9 10      			lda.h	#4256
         01:DDA8  85 F1      			sta.h	_di
19737                        		__farptr	_tileset_WEAPON_1, _bp_bank, _bp
         01:DDAA  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_1))
         01:DDAC  85 EC      			sta.l	_bp
         01:DDAE  A9 73      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_1))
         01:DDB0  85 ED      			sta.h	_bp
         01:DDB2  A9 07      			lda	#bank(_tileset_WEAPON_1)
         01:DDB4  85 02      			sta	_bp_bank
19738                        		__ld.wi		___sizeof__tileset_WEAPON_1
         01:DDB6  A9 80      			lda.l	#___sizeof__tileset_WEAPON_1
         01:DDB8  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_1
19739                        		__lsr.wi	1
         01:DDBA  42         			say
         01:DDBB  4A         			lsr	a
         01:DDBC  42         			say
         01:DDBD  6A         			ror	a
19740                        		__st.wmq	_ax
         01:DDBE  85 F8      			sta.l	_ax
         01:DDC0  84 F9      			sty.h	_ax
19741                        		 _load_vram.3
         01:DDC2  82         			clx				; Offset to PCE VDC.
         01:DDC3  20 FF FE   			call	load_vram_x
19742                        	
19743                        		.dbg	line,	"include\init.c", 608; }
19744                        	
19745                        		.dbg	line,	"include\init.c", 610; else if(weapon_level == 2)
19746                        		__bra		.LL952
         01:DDC6  4C 88 DE   			bra	.LL952
19747    01:DDC9             	.LL951:
19748                        		__ld.umq	_weapon_level
         01:DDC9  AD 28 23   			lda	_weapon_level
19749                        		__equ_b.uiq	2
         01:DDCC  C9 02      			cmp	#2
         01:DDCE  F0 01      			beq	!+
         01:DDD0  18         			clc
         01:DDD1             	!:
19750                        		__bfalse	.LL953
         01:DDD1  90 27      			bcc	.LL953
19751                        	
19752                        		.dbg	line,	"include\init.c", 611; {
19753                        	
19754                        		.dbg	line,	"include\init.c", 612; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_2, SIZEOF(tileset_WEAPON_2) >> 1 );
19755                        		__st.wmiq	4256, _di
         01:DDD3  A9 A0      			lda.l	#4256
         01:DDD5  85 F0      			sta.l	_di
         01:DDD7  A9 10      			lda.h	#4256
         01:DDD9  85 F1      			sta.h	_di
19756                        		__farptr	_tileset_WEAPON_2, _bp_bank, _bp
         01:DDDB  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_2))
         01:DDDD  85 EC      			sta.l	_bp
         01:DDDF  A9 74      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_2))
         01:DDE1  85 ED      			sta.h	_bp
         01:DDE3  A9 07      			lda	#bank(_tileset_WEAPON_2)
         01:DDE5  85 02      			sta	_bp_bank
19757                        		__ld.wi		___sizeof__tileset_WEAPON_2
         01:DDE7  A9 80      			lda.l	#___sizeof__tileset_WEAPON_2
         01:DDE9  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_2
19758                        		__lsr.wi	1
         01:DDEB  42         			say
         01:DDEC  4A         			lsr	a
         01:DDED  42         			say
         01:DDEE  6A         			ror	a
19759                        		__st.wmq	_ax
         01:DDEF  85 F8      			sta.l	_ax
         01:DDF1  84 F9      			sty.h	_ax
19760                        		 _load_vram.3
         01:DDF3  82         			clx				; Offset to PCE VDC.
         01:DDF4  20 FF FE   			call	load_vram_x
19761                        	
19762                        		.dbg	line,	"include\init.c", 613; }
19763                        	
19764                        		.dbg	line,	"include\init.c", 615; else if(weapon_level == 3)
19765                        		__bra		.LL954
         01:DDF7  4C 88 DE   			bra	.LL954
19766    01:DDFA             	.LL953:
19767                        		__ld.umq	_weapon_level
         01:DDFA  AD 28 23   			lda	_weapon_level
19768                        		__equ_b.uiq	3
         01:DDFD  C9 03      			cmp	#3
         01:DDFF  F0 01      			beq	!+
         01:DE01  18         			clc
         01:DE02             	!:
19769                        		__bfalse	.LL955
         01:DE02  90 26      			bcc	.LL955
19770                        	
19771                        		.dbg	line,	"include\init.c", 616; {
19772                        	
19773                        		.dbg	line,	"include\init.c", 617; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_4, SIZEOF(tileset_WEAPON_4) >> 1 );
19774                        		__st.wmiq	4256, _di
         01:DE04  A9 A0      			lda.l	#4256
         01:DE06  85 F0      			sta.l	_di
         01:DE08  A9 10      			lda.h	#4256
         01:DE0A  85 F1      			sta.h	_di
19775                        		__farptr	_tileset_WEAPON_4, _bp_bank, _bp
         01:DE0C  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_4))
         01:DE0E  85 EC      			sta.l	_bp
         01:DE10  A9 74      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_4))
         01:DE12  85 ED      			sta.h	_bp
         01:DE14  A9 07      			lda	#bank(_tileset_WEAPON_4)
         01:DE16  85 02      			sta	_bp_bank
19776                        		__ld.wi		___sizeof__tileset_WEAPON_4
         01:DE18  A9 80      			lda.l	#___sizeof__tileset_WEAPON_4
         01:DE1A  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_4
19777                        		__lsr.wi	1
         01:DE1C  42         			say
         01:DE1D  4A         			lsr	a
         01:DE1E  42         			say
         01:DE1F  6A         			ror	a
19778                        		__st.wmq	_ax
         01:DE20  85 F8      			sta.l	_ax
         01:DE22  84 F9      			sty.h	_ax
19779                        		 _load_vram.3
         01:DE24  82         			clx				; Offset to PCE VDC.
         01:DE25  20 FF FE   			call	load_vram_x
19780                        	
19781                        		.dbg	line,	"include\init.c", 618; }
19782                        	
19783                        		.dbg	line,	"include\init.c", 620; else if(weapon_level == 4)
19784                        		__bra		.LL956
         01:DE28  80 5E      			bra	.LL956
19785    01:DE2A             	.LL955:
19786                        		__ld.umq	_weapon_level
         01:DE2A  AD 28 23   			lda	_weapon_level
19787                        		__equ_b.uiq	4
         01:DE2D  C9 04      			cmp	#4
         01:DE2F  F0 01      			beq	!+
         01:DE31  18         			clc
         01:DE32             	!:
19788                        		__bfalse	.LL957
         01:DE32  90 26      			bcc	.LL957
19789                        	
19790                        		.dbg	line,	"include\init.c", 621; {
19791                        	
19792                        		.dbg	line,	"include\init.c", 622; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_5, SIZEOF(tileset_WEAPON_5) >> 1 );
19793                        		__st.wmiq	4256, _di
         01:DE34  A9 A0      			lda.l	#4256
         01:DE36  85 F0      			sta.l	_di
         01:DE38  A9 10      			lda.h	#4256
         01:DE3A  85 F1      			sta.h	_di
19794                        		__farptr	_tileset_WEAPON_5, _bp_bank, _bp
         01:DE3C  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_5))
         01:DE3E  85 EC      			sta.l	_bp
         01:DE40  A9 75      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_5))
         01:DE42  85 ED      			sta.h	_bp
         01:DE44  A9 07      			lda	#bank(_tileset_WEAPON_5)
         01:DE46  85 02      			sta	_bp_bank
19795                        		__ld.wi		___sizeof__tileset_WEAPON_5
         01:DE48  A9 80      			lda.l	#___sizeof__tileset_WEAPON_5
         01:DE4A  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_5
19796                        		__lsr.wi	1
         01:DE4C  42         			say
         01:DE4D  4A         			lsr	a
         01:DE4E  42         			say
         01:DE4F  6A         			ror	a
19797                        		__st.wmq	_ax
         01:DE50  85 F8      			sta.l	_ax
         01:DE52  84 F9      			sty.h	_ax
19798                        		 _load_vram.3
         01:DE54  82         			clx				; Offset to PCE VDC.
         01:DE55  20 FF FE   			call	load_vram_x
19799                        	
19800                        		.dbg	line,	"include\init.c", 623; }
19801                        	
19802                        		.dbg	line,	"include\init.c", 625; else if(weapon_level == 5)
19803                        		__bra		.LL958
         01:DE58  80 2E      			bra	.LL958
19804    01:DE5A             	.LL957:
19805                        		__ld.umq	_weapon_level
         01:DE5A  AD 28 23   			lda	_weapon_level
19806                        		__equ_b.uiq	5
         01:DE5D  C9 05      			cmp	#5
         01:DE5F  F0 01      			beq	!+
         01:DE61  18         			clc
         01:DE62             	!:
19807                        		__bfalse	.LL959
         01:DE62  90 24      			bcc	.LL959
19808                        	
19809                        		.dbg	line,	"include\init.c", 626; {
19810                        	
19811                        		.dbg	line,	"include\init.c", 627; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_8, SIZEOF(tileset_WEAPON_8) >> 1 );
19812                        		__st.wmiq	4256, _di
         01:DE64  A9 A0      			lda.l	#4256
         01:DE66  85 F0      			sta.l	_di
         01:DE68  A9 10      			lda.h	#4256
         01:DE6A  85 F1      			sta.h	_di
19813                        		__farptr	_tileset_WEAPON_8, _bp_bank, _bp
         01:DE6C  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_8))
         01:DE6E  85 EC      			sta.l	_bp
         01:DE70  A9 75      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_8))
         01:DE72  85 ED      			sta.h	_bp
         01:DE74  A9 07      			lda	#bank(_tileset_WEAPON_8)
         01:DE76  85 02      			sta	_bp_bank
19814                        		__ld.wi		___sizeof__tileset_WEAPON_8
         01:DE78  A9 80      			lda.l	#___sizeof__tileset_WEAPON_8
         01:DE7A  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_8
19815                        		__lsr.wi	1
         01:DE7C  42         			say
         01:DE7D  4A         			lsr	a
         01:DE7E  42         			say
         01:DE7F  6A         			ror	a
19816                        		__st.wmq	_ax
         01:DE80  85 F8      			sta.l	_ax
         01:DE82  84 F9      			sty.h	_ax
19817                        		 _load_vram.3
         01:DE84  82         			clx				; Offset to PCE VDC.
         01:DE85  20 FF FE   			call	load_vram_x
19818                        	
19819                        		.dbg	line,	"include\init.c", 628; }
19820                        	
19821                        		.dbg	line,	"include\init.c", 633; if(armor_level == 1)
19822    01:DE88             	.LL959:
19823    01:DE88             	.LL958:
19824    01:DE88             	.LL956:
19825    01:DE88             	.LL954:
19826    01:DE88             	.LL952:
19827                        		__ld.umq	_armor_level
         01:DE88  AD 27 23   			lda	_armor_level
19828                        		__equ_b.uiq	1
         01:DE8B  C9 01      			cmp	#1
         01:DE8D  F0 01      			beq	!+
         01:DE8F  18         			clc
         01:DE90             	!:
19829                        		__bfalse	.LL960
         01:DE90  90 27      			bcc	.LL960
19830                        	
19831                        		.dbg	line,	"include\init.c", 634; {
19832                        	
19833                        		.dbg	line,	"include\init.c", 635; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_1, SIZEOF(tileset_ARMOR_1) >> 1 );
19834                        		__st.wmiq	4320, _di
         01:DE92  A9 E0      			lda.l	#4320
         01:DE94  85 F0      			sta.l	_di
         01:DE96  A9 10      			lda.h	#4320
         01:DE98  85 F1      			sta.h	_di
19835                        		__farptr	_tileset_ARMOR_1, _bp_bank, _bp
         01:DE9A  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_1))
         01:DE9C  85 EC      			sta.l	_bp
         01:DE9E  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_1))
         01:DEA0  85 ED      			sta.h	_bp
         01:DEA2  A9 07      			lda	#bank(_tileset_ARMOR_1)
         01:DEA4  85 02      			sta	_bp_bank
19836                        		__ld.wi		___sizeof__tileset_ARMOR_1
         01:DEA6  A9 80      			lda.l	#___sizeof__tileset_ARMOR_1
         01:DEA8  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_1
19837                        		__lsr.wi	1
         01:DEAA  42         			say
         01:DEAB  4A         			lsr	a
         01:DEAC  42         			say
         01:DEAD  6A         			ror	a
19838                        		__st.wmq	_ax
         01:DEAE  85 F8      			sta.l	_ax
         01:DEB0  84 F9      			sty.h	_ax
19839                        		 _load_vram.3
         01:DEB2  82         			clx				; Offset to PCE VDC.
         01:DEB3  20 FF FE   			call	load_vram_x
19840                        	
19841                        		.dbg	line,	"include\init.c", 636; }
19842                        	
19843                        		.dbg	line,	"include\init.c", 638; else if(armor_level == 2)
19844                        		__bra		.LL961
         01:DEB6  4C 47 DF   			bra	.LL961
19845    01:DEB9             	.LL960:
19846                        		__ld.umq	_armor_level
         01:DEB9  AD 27 23   			lda	_armor_level
19847                        		__equ_b.uiq	2
         01:DEBC  C9 02      			cmp	#2
         01:DEBE  F0 01      			beq	!+
         01:DEC0  18         			clc
         01:DEC1             	!:
19848                        		__bfalse	.LL962
         01:DEC1  90 26      			bcc	.LL962
19849                        	
19850                        		.dbg	line,	"include\init.c", 639; {
19851                        	
19852                        		.dbg	line,	"include\init.c", 640; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_2, SIZEOF(tileset_ARMOR_2) >> 1 );
19853                        		__st.wmiq	4320, _di
         01:DEC3  A9 E0      			lda.l	#4320
         01:DEC5  85 F0      			sta.l	_di
         01:DEC7  A9 10      			lda.h	#4320
         01:DEC9  85 F1      			sta.h	_di
19854                        		__farptr	_tileset_ARMOR_2, _bp_bank, _bp
         01:DECB  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_2))
         01:DECD  85 EC      			sta.l	_bp
         01:DECF  A9 72      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_2))
         01:DED1  85 ED      			sta.h	_bp
         01:DED3  A9 07      			lda	#bank(_tileset_ARMOR_2)
         01:DED5  85 02      			sta	_bp_bank
19855                        		__ld.wi		___sizeof__tileset_ARMOR_2
         01:DED7  A9 80      			lda.l	#___sizeof__tileset_ARMOR_2
         01:DED9  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_2
19856                        		__lsr.wi	1
         01:DEDB  42         			say
         01:DEDC  4A         			lsr	a
         01:DEDD  42         			say
         01:DEDE  6A         			ror	a
19857                        		__st.wmq	_ax
         01:DEDF  85 F8      			sta.l	_ax
         01:DEE1  84 F9      			sty.h	_ax
19858                        		 _load_vram.3
         01:DEE3  82         			clx				; Offset to PCE VDC.
         01:DEE4  20 FF FE   			call	load_vram_x
19859                        	
19860                        		.dbg	line,	"include\init.c", 641; }
19861                        	
19862                        		.dbg	line,	"include\init.c", 643; else if(armor_level == 3)
19863                        		__bra		.LL963
         01:DEE7  80 5E      			bra	.LL963
19864    01:DEE9             	.LL962:
19865                        		__ld.umq	_armor_level
         01:DEE9  AD 27 23   			lda	_armor_level
19866                        		__equ_b.uiq	3
         01:DEEC  C9 03      			cmp	#3
         01:DEEE  F0 01      			beq	!+
         01:DEF0  18         			clc
         01:DEF1             	!:
19867                        		__bfalse	.LL964
         01:DEF1  90 26      			bcc	.LL964
19868                        	
19869                        		.dbg	line,	"include\init.c", 644; {
19870                        	
19871                        		.dbg	line,	"include\init.c", 645; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_4, SIZEOF(tileset_ARMOR_4) >> 1 );
19872                        		__st.wmiq	4320, _di
         01:DEF3  A9 E0      			lda.l	#4320
         01:DEF5  85 F0      			sta.l	_di
         01:DEF7  A9 10      			lda.h	#4320
         01:DEF9  85 F1      			sta.h	_di
19873                        		__farptr	_tileset_ARMOR_4, _bp_bank, _bp
         01:DEFB  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_4))
         01:DEFD  85 EC      			sta.l	_bp
         01:DEFF  A9 72      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_4))
         01:DF01  85 ED      			sta.h	_bp
         01:DF03  A9 07      			lda	#bank(_tileset_ARMOR_4)
         01:DF05  85 02      			sta	_bp_bank
19874                        		__ld.wi		___sizeof__tileset_ARMOR_4
         01:DF07  A9 80      			lda.l	#___sizeof__tileset_ARMOR_4
         01:DF09  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_4
19875                        		__lsr.wi	1
         01:DF0B  42         			say
         01:DF0C  4A         			lsr	a
         01:DF0D  42         			say
         01:DF0E  6A         			ror	a
19876                        		__st.wmq	_ax
         01:DF0F  85 F8      			sta.l	_ax
         01:DF11  84 F9      			sty.h	_ax
19877                        		 _load_vram.3
         01:DF13  82         			clx				; Offset to PCE VDC.
         01:DF14  20 FF FE   			call	load_vram_x
19878                        	
19879                        		.dbg	line,	"include\init.c", 646; }
19880                        	
19881                        		.dbg	line,	"include\init.c", 648; else if(armor_level == 4)
19882                        		__bra		.LL965
         01:DF17  80 2E      			bra	.LL965
19883    01:DF19             	.LL964:
19884                        		__ld.umq	_armor_level
         01:DF19  AD 27 23   			lda	_armor_level
19885                        		__equ_b.uiq	4
         01:DF1C  C9 04      			cmp	#4
         01:DF1E  F0 01      			beq	!+
         01:DF20  18         			clc
         01:DF21             	!:
19886                        		__bfalse	.LL966
         01:DF21  90 24      			bcc	.LL966
19887                        	
19888                        		.dbg	line,	"include\init.c", 649; {
19889                        	
19890                        		.dbg	line,	"include\init.c", 650; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_8, SIZEOF(tileset_ARMOR_8) >> 1 );
19891                        		__st.wmiq	4320, _di
         01:DF23  A9 E0      			lda.l	#4320
         01:DF25  85 F0      			sta.l	_di
         01:DF27  A9 10      			lda.h	#4320
         01:DF29  85 F1      			sta.h	_di
19892                        		__farptr	_tileset_ARMOR_8, _bp_bank, _bp
         01:DF2B  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_8))
         01:DF2D  85 EC      			sta.l	_bp
         01:DF2F  A9 73      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_8))
         01:DF31  85 ED      			sta.h	_bp
         01:DF33  A9 07      			lda	#bank(_tileset_ARMOR_8)
         01:DF35  85 02      			sta	_bp_bank
19893                        		__ld.wi		___sizeof__tileset_ARMOR_8
         01:DF37  A9 80      			lda.l	#___sizeof__tileset_ARMOR_8
         01:DF39  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_8
19894                        		__lsr.wi	1
         01:DF3B  42         			say
         01:DF3C  4A         			lsr	a
         01:DF3D  42         			say
         01:DF3E  6A         			ror	a
19895                        		__st.wmq	_ax
         01:DF3F  85 F8      			sta.l	_ax
         01:DF41  84 F9      			sty.h	_ax
19896                        		 _load_vram.3
         01:DF43  82         			clx				; Offset to PCE VDC.
         01:DF44  20 FF FE   			call	load_vram_x
19897                        	
19898                        		.dbg	line,	"include\init.c", 651; }
19899                        	
19900                        		.dbg	line,	"include\init.c", 656; //--------------------------------------------------------------------------------------//
19901                        	
19902                        		.dbg	line,	"include\init.c", 657; //                                     SET MULTIMAP                                     //
19903                        	
19904                        		.dbg	line,	"include\init.c", 658; //--------------------------------------------------------------------------------------//
19905                        	
19906                        		.dbg	line,	"include\init.c", 660; // multimap is 2 screens wide //
19907                        	
19908                        		.dbg	line,	"include\init.c", 661; set_multimap( multimap_LV1_BG_A , 5 );
19909    01:DF47             	.LL966:
19910    01:DF47             	.LL965:
19911    01:DF47             	.LL963:
19912    01:DF47             	.LL961:
19913                        		__farptr	_multimap_LV1_BG_A, vdc_scr_bank, vdc_scr_addr
         01:DF47  A9 00      			lda.l	#$6000 + ($1FFF & (_multimap_LV1_BG_A))
         01:DF49  8D 06 2C   			sta.l	vdc_scr_addr
         01:DF4C  A9 78      			lda.h	#$6000 + ($1FFF & (_multimap_LV1_BG_A))
         01:DF4E  8D 07 2C   			sta.h	vdc_scr_addr
         01:DF51  A9 0F      			lda	#bank(_multimap_LV1_BG_A)
         01:DF53  8D 08 2C   			sta	vdc_scr_bank
19914                        		__st.umiq	5, vdc_map_scrn_w
         01:DF56  A9 05      			lda.l	#5
         01:DF58  8D C7 26   			sta	vdc_map_scrn_w
19915                        		 _set_multimap.2
         01:DF5B  AD BF 26   			lda	vdc_bat_width
         01:DF5E  4A         			lsr	a
         01:DF5F  8D C6 26   			sta	vdc_map_line_w
19916                        	
19917                        		.dbg	line,	"include\init.c", 664; //--------------------------------------------------------------------------------------//
19918                        	
19919                        		.dbg	line,	"include\init.c", 665; //                                    DRAW TILEMAP                                      //
19920                        	
19921                        		.dbg	line,	"include\init.c", 666; //--------------------------------------------------------------------------------------//
19922                        	
19923                        		.dbg	line,	"include\init.c", 668; // The blkmap is drawn using global variables for the top-left coordinate
19924                        	
19925                        		.dbg	line,	"include\init.c", 669; // in pixels, and the draw width and height in terms of 8x8 characters.
19926                        	
19927                        		.dbg	line,	"include\init.c", 671; vdc_map_pxl_x = 0;
19928                        		__st.wmiq	0, _vdc_map_pxl_x
         01:DF62  9C C8 26   			stz.l	_vdc_map_pxl_x
         01:DF65  9C C9 26   			stz.h	_vdc_map_pxl_x
19929                        	
19930                        		.dbg	line,	"include\init.c", 672; vdc_map_pxl_y = 0;
19931                        		__st.wmiq	0, _vdc_map_pxl_y
         01:DF68  9C CA 26   			stz.l	_vdc_map_pxl_y
         01:DF6B  9C CB 26   			stz.h	_vdc_map_pxl_y
19932                        	
19933                        		.dbg	line,	"include\init.c", 674; vdc_map_draw_w = 64;//32
19934                        		__st.umiq	64, _vdc_map_draw_w
         01:DF6E  A9 40      			lda.l	#64
         01:DF70  8D C4 26   			sta	_vdc_map_draw_w
19935                        	
19936                        		.dbg	line,	"include\init.c", 675; vdc_map_draw_h = 32;//28
19937                        		__st.umiq	32, _vdc_map_draw_h
         01:DF73  A9 20      			lda.l	#32
         01:DF75  8D C5 26   			sta	_vdc_map_draw_h
19938                        	
19939                        		.dbg	line,	"include\init.c", 677; draw_map();
19940                        		__call		_draw_map
         01:DF78  20 C3 FE   			call	_draw_map
19941                        	
19942                        		.dbg	line,	"include\init.c", 679; display_LIFE();
19943                        		__call		_display_LIFE
         01:DF7B  20 3B FF   			call	_display_LIFE
19944                        	
19945                        		.dbg	line,	"include\init.c", 680; display_SCORE();
19946                        		__call		_display_SCORE
         01:DF7E  20 B9 FE   			call	_display_SCORE
19947                        	
19948                        		.dbg	line,	"include\init.c", 681; display_TIME_LEVEL();
19949                        		__call		_display_TIME_LEVEL
         01:DF81  20 AF FE   			call	_display_TIME_LEVEL
19950                        	
19951                        		.dbg	line,	"include\init.c", 682; display_KEY();
19952                        		__call		_display_KEY
         01:DF84  20 45 FF   			call	_display_KEY
19953                        	
19954                        		.dbg	line,	"include\init.c", 683; display_POTION();
19955                        		__call		_display_POTION
         01:DF87  20 F5 FE   			call	_display_POTION
19956                        	
19957                        		.dbg	line,	"include\init.c", 684; display_ZENNY();
19958                        		__call		_display_ZENNY
         01:DF8A  20 31 FF   			call	_display_ZENNY
19959                        	
19960                        		.dbg	line,	"include\init.c", 685; }
19961    01:DF8D             	.LL950:
19962                        		__return	0
         01:DF8D  4C EF FF   			jmp	leave_proc
19963                        		.dbg	clear
19964                        		.endp
19965                        		.pceas
19966                        	
19967                        		.dbg	line,	"include\init.c", 688; void init_LEVEL()
19968                        		.dbg	line,	"include\init.c", 689; {
19969                        	;***********************
19970                        	;***********************
19971                        	
19972                        		.hucc
19973    1E:C580             		.proc		_init_LEVEL
19974                        		__enter		_init_LEVEL
19975                        	
19976                        		.dbg	line,	"include\init.c", 690; if(level_id == 1)
19977                        		__ld.umq	_level_id
         1E:C580  AD 15 23   			lda	_level_id
19978                        		__equ_b.uiq	1
         1E:C583  C9 01      			cmp	#1
         1E:C585  F0 01      			beq	!+
         1E:C587  18         			clc
         1E:C588             	!:
19979                        		__bfalse	.LL968
         1E:C588  B0 03 4C A9			bcc	.LL968
         1E:C58C  CA          
19980                        	
19981                        		.dbg	line,	"include\init.c", 691; {
19982                        	
19983                        		.dbg	line,	"include\init.c", 692; char i;
19984                        	
19985                        		.dbg	line,	"include\init.c", 693; 
19986                        	
19987                        		.dbg	line,	"include\init.c", 694; // VSYNC //
19988                        	
19989                        		.dbg	line,	"include\init.c", 695; vsync();
19990                        		__call		_vsync
         1E:C58D  20 1D E3   			call	_vsync
19991                        	
19992                        		.dbg	line,	"include\init.c", 698; // DISABLE DISPLAY //
19993                        	
19994                        		.dbg	line,	"include\init.c", 699; disp_off();
19995                        		__call		_disp_off
         1E:C590  20 3D E4   			call	_disp_off
19996                        	
19997                        		.dbg	line,	"include\init.c", 702; // SET VDC 1 SCREEN SIZE (IN TILES) - 64x32 = 512x256 PIXELS
19998                        	
19999                        		.dbg	line,	"include\init.c", 703; set_screen_size(SCR_SIZE_64x32);
20000                        		__st.umiq	1, _al
         1E:C593  A9 01      			lda.l	#1
         1E:C595  85 F8      			sta	_al
20001                        		__call		_set_screen_size.1
         1E:C597  20 EB FE   			call	_set_screen_size.1
20002                        	
20003                        		.dbg	line,	"include\init.c", 706; // SET VDC 2 SCREEN SIZE (IN TILES) - 64x32 = 512x256 PIXELS
20004                        	
20005                        		.dbg	line,	"include\init.c", 707; sgx_set_screen_size(SCR_SIZE_64x32);
20006                        		__st.umiq	1, _al
         1E:C59A  A9 01      			lda.l	#1
         1E:C59C  85 F8      			sta	_al
20007                        		__call		_sgx_set_screen_size.1
         1E:C59E  20 E1 FE   			call	_sgx_set_screen_size.1
20008                        	
20009                        		.dbg	line,	"include\init.c", 710; // INIT SPRITE ATTRIBUTE TABLE //
20010                        	
20011                        		.dbg	line,	"include\init.c", 711; //init_satb();
20012                        	
20013                        		.dbg	line,	"include\init.c", 716; //**************************************************************************************//
20014                        	
20015                        		.dbg	line,	"include\init.c", 717; //                                                                                      //
20016                        	
20017                        		.dbg	line,	"include\init.c", 718; //                                      VARIABLES                                       //
20018                        	
20019                        		.dbg	line,	"include\init.c", 719; //                                                                                      //
20020                        	
20021                        		.dbg	line,	"include\init.c", 720; //**************************************************************************************//
20022                        	
20023                        		.dbg	line,	"include\init.c", 722; time_counter = 0;
20024                        		__st.umiq	0, _time_counter
         1E:C5A1  9C 33 23   			stz	_time_counter
20025                        	
20026                        		.dbg	line,	"include\init.c", 723; 
20027                        	
20028                        		.dbg	line,	"include\init.c", 724; if(respawn == RESPAWN_SHOP)
20029                        		__ld.umq	_respawn
         1E:C5A4  AD 16 23   			lda	_respawn
20030                        		__equ_b.uiq	2
         1E:C5A7  C9 02      			cmp	#2
         1E:C5A9  F0 01      			beq	!+
         1E:C5AB  18         			clc
         1E:C5AC             	!:
20031                        		__bfalse	.LL969
         1E:C5AC  90 10      			bcc	.LL969
20032                        	
20033                        		.dbg	line,	"include\init.c", 725; {
20034                        	
20035                        		.dbg	line,	"include\init.c", 726; minutes = minutes_backup;
20036                        		__ld.um		_minutes_backup
         1E:C5AE  AD 34 23   			lda	_minutes_backup
         1E:C5B1  C2         			cly
20037                        		__st.umq	_minutes
         1E:C5B2  8D 31 23   			sta	_minutes
20038                        	
20039                        		.dbg	line,	"include\init.c", 727; seconds = seconds_backup;
20040                        		__ld.um		_seconds_backup
         1E:C5B5  AD 35 23   			lda	_seconds_backup
         1E:C5B8  C2         			cly
20041                        		__st.umq	_seconds
         1E:C5B9  8D 32 23   			sta	_seconds
20042                        	
20043                        		.dbg	line,	"include\init.c", 728; }
20044                        	
20045                        		.dbg	line,	"include\init.c", 730; else
20046                        		__bra		.LL970
         1E:C5BC  80 0A      			bra	.LL970
20047    1E:C5BE             	.LL969:
20048                        	
20049                        		.dbg	line,	"include\init.c", 731; {
20050                        	
20051                        		.dbg	line,	"include\init.c", 732; minutes = 1;
20052                        		__st.umiq	1, _minutes
         1E:C5BE  A9 01      			lda.l	#1
         1E:C5C0  8D 31 23   			sta	_minutes
20053                        	
20054                        		.dbg	line,	"include\init.c", 733; seconds = 59;
20055                        		__st.umiq	59, _seconds
         1E:C5C3  A9 3B      			lda.l	#59
         1E:C5C5  8D 32 23   			sta	_seconds
20056                        	
20057                        		.dbg	line,	"include\init.c", 734; }
20058    1E:C5C8             	.LL970:
20059                        	
20060                        		.dbg	line,	"include\init.c", 736; camera_max_y_position	= 768;
20061                        		__st.wmiq	768, _camera_max_y_position
         1E:C5C8  9C F9 24   			stz.l	_camera_max_y_position
         1E:C5CB  A9 03      			lda.h	#768
         1E:C5CD  8D FA 24   			sta.h	_camera_max_y_position
20062                        	
20063                        		.dbg	line,	"include\init.c", 737; jump_max_index			= 34;
20064                        		__st.umiq	34, _jump_max_index
         1E:C5D0  A9 22      			lda.l	#34
         1E:C5D2  8D 22 23   			sta	_jump_max_index
20065                        	
20066                        		.dbg	line,	"include\init.c", 738; score					= 0;
20067                        		__st.wmiq	0, _score
         1E:C5D5  9C 57 26   			stz.l	_score
         1E:C5D8  9C 58 26   			stz.h	_score
20068                        	
20069                        		.dbg	line,	"include\init.c", 739; level_object_number		= OBJECT_NUMBER_LV1;
20070                        		__st.umiq	23, _level_object_number
         1E:C5DB  A9 17      			lda.l	#23
         1E:C5DD  8D 37 23   			sta	_level_object_number
20071                        	
20072                        		.dbg	line,	"include\init.c", 740; level_chest_number		= CHEST_NUMBER_LV1;
20073                        		__st.umiq	2, _level_chest_number
         1E:C5E0  A9 02      			lda.l	#2
         1E:C5E2  8D BF 23   			sta	_level_chest_number
20074                        	
20075                        		.dbg	line,	"include\init.c", 741; level_npc_number		= NPC_NUMBER_LV1;
20076                        		__st.umiq	2, _level_npc_number
         1E:C5E5  A9 02      			lda.l	#2
         1E:C5E7  8D D2 23   			sta	_level_npc_number
20077                        	
20078                        		.dbg	line,	"include\init.c", 742; object_start_index		= OBJECT_START_INDEX_LV1;
20079                        		__st.umiq	0, _object_start_index
         1E:C5EA  9C 36 23   			stz	_object_start_index
20080                        	
20081                        		.dbg	line,	"include\init.c", 743; chest_start_index		= CHEST_START_INDEX_LV1;
20082                        		__st.umiq	23, _chest_start_index
         1E:C5ED  A9 17      			lda.l	#23
         1E:C5EF  8D BE 23   			sta	_chest_start_index
20083                        	
20084                        		.dbg	line,	"include\init.c", 744; npc_start_index			= NPC_START_INDEX_LV1;
20085                        		__st.umiq	25, _npc_start_index
         1E:C5F2  A9 19      			lda.l	#25
         1E:C5F4  8D D1 23   			sta	_npc_start_index
20086                        	
20087                        		.dbg	line,	"include\init.c", 745; jump_ladder				= FALSE;
20088                        		__st.umiq	0, _jump_ladder
         1E:C5F7  9C 21 23   			stz	_jump_ladder
20089                        	
20090                        		.dbg	line,	"include\init.c", 747; //
20091                        	
20092                        		.dbg	line,	"include\init.c", 748; ptr_REWARD_TYPE     	= TABLE_REWARD_TYPE_LV1;
20093                        		__ld.wi		_TABLE_REWARD_TYPE_LV1
         1E:C5FA  A9 EE      			lda.l	#_TABLE_REWARD_TYPE_LV1
         1E:C5FC  A0 61      			ldy.h	#_TABLE_REWARD_TYPE_LV1
20094                        		__st.wmq	_ptr_REWARD_TYPE
         1E:C5FE  8D 8E 26   			sta.l	_ptr_REWARD_TYPE
         1E:C601  8C 8F 26   			sty.h	_ptr_REWARD_TYPE
20095                        	
20096                        		.dbg	line,	"include\init.c", 749; ptr_REWARD_VRAM_ADR 	= TABLE_REWARD_VRAM_ADR_LV1;
20097                        		__ld.wi		_TABLE_REWARD_VRAM_ADR_LV1
         1E:C604  A9 05      			lda.l	#_TABLE_REWARD_VRAM_ADR_LV1
         1E:C606  A0 62      			ldy.h	#_TABLE_REWARD_VRAM_ADR_LV1
20098                        		__st.wmq	_ptr_REWARD_VRAM_ADR
         1E:C608  8D 90 26   			sta.l	_ptr_REWARD_VRAM_ADR
         1E:C60B  8C 91 26   			sty.h	_ptr_REWARD_VRAM_ADR
20099                        	
20100                        		.dbg	line,	"include\init.c", 753; //**************************************************************************************//
20101                        	
20102                        		.dbg	line,	"include\init.c", 754; //                                                                                      //
20103                        	
20104                        		.dbg	line,	"include\init.c", 755; //                                        VDC 2                                         //
20105                        	
20106                        		.dbg	line,	"include\init.c", 756; //                                                                                      //
20107                        	
20108                        		.dbg	line,	"include\init.c", 757; //**************************************************************************************//
20109                        	
20110                        		.dbg	line,	"include\init.c", 759; //--------------------------------------------------------------------------------------//
20111                        	
20112                        		.dbg	line,	"include\init.c", 760; //                                    LOAD TILESET                                      //
20113                        	
20114                        		.dbg	line,	"include\init.c", 761; //--------------------------------------------------------------------------------------//
20115                        	
20116                        		.dbg	line,	"include\init.c", 763; sgx_load_vram( 0x1000, tileset_LV1_BG_B, SIZEOF(tileset_LV1_BG_B) >> 1 );
20117                        		__st.wmiq	4096, _di
         1E:C60E  64 F0      			stz.l	_di
         1E:C610  A9 10      			lda.h	#4096
         1E:C612  85 F1      			sta.h	_di
20118                        		__farptr	_tileset_LV1_BG_B, _bp_bank, _bp
         1E:C614  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_LV1_BG_B))
         1E:C616  85 EC      			sta.l	_bp
         1E:C618  A9 76      			lda.h	#$6000 + ($1FFF & (_tileset_LV1_BG_B))
         1E:C61A  85 ED      			sta.h	_bp
         1E:C61C  A9 07      			lda	#bank(_tileset_LV1_BG_B)
         1E:C61E  85 02      			sta	_bp_bank
20119                        		__ld.wi		___sizeof__tileset_LV1_BG_B
         1E:C620  A9 E0      			lda.l	#___sizeof__tileset_LV1_BG_B
         1E:C622  A0 72      			ldy.h	#___sizeof__tileset_LV1_BG_B
20120                        		__lsr.wi	1
         1E:C624  42         			say
         1E:C625  4A         			lsr	a
         1E:C626  42         			say
         1E:C627  6A         			ror	a
20121                        		__st.wmq	_ax
         1E:C628  85 F8      			sta.l	_ax
         1E:C62A  84 F9      			sty.h	_ax
20122                        		 _sgx_load_vram.3
         1E:C62C  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:C62E  20 FF FE   			call	load_vram_x
20123                        	
20124                        		.dbg	line,	"include\init.c", 766; //--------------------------------------------------------------------------------------//
20125                        	
20126                        		.dbg	line,	"include\init.c", 767; //                               LOAD WALL & DOOR TILES                                 //
20127                        	
20128                        		.dbg	line,	"include\init.c", 768; //--------------------------------------------------------------------------------------//
20129                        	
20130                        		.dbg	line,	"include\init.c", 770; sgx_load_vram( LV1_WALL_VRAM_ADR, tileset_LV1_WALL, SIZEOF(tileset_LV1_WALL) >> 1 );
20131                        		__st.wmiq	4096, _di
         1E:C631  64 F0      			stz.l	_di
         1E:C633  A9 10      			lda.h	#4096
         1E:C635  85 F1      			sta.h	_di
20132                        		__farptr	_tileset_LV1_WALL, _bp_bank, _bp
         1E:C637  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_LV1_WALL))
         1E:C639  85 EC      			sta.l	_bp
         1E:C63B  A9 68      			lda.h	#$6000 + ($1FFF & (_tileset_LV1_WALL))
         1E:C63D  85 ED      			sta.h	_bp
         1E:C63F  A9 07      			lda	#bank(_tileset_LV1_WALL)
         1E:C641  85 02      			sta	_bp_bank
20133                        		__ld.wi		___sizeof__tileset_LV1_WALL
         1E:C643  A9 00      			lda.l	#___sizeof__tileset_LV1_WALL
         1E:C645  A0 02      			ldy.h	#___sizeof__tileset_LV1_WALL
20134                        		__lsr.wi	1
         1E:C647  42         			say
         1E:C648  4A         			lsr	a
         1E:C649  42         			say
         1E:C64A  6A         			ror	a
20135                        		__st.wmq	_ax
         1E:C64B  85 F8      			sta.l	_ax
         1E:C64D  84 F9      			sty.h	_ax
20136                        		 _sgx_load_vram.3
         1E:C64F  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:C651  20 FF FE   			call	load_vram_x
20137                        	
20138                        		.dbg	line,	"include\init.c", 771; sgx_load_vram( LV1_DOOR_VRAM_ADR, tileset_LV1_DOOR_OPEN, SIZEOF(tileset_LV1_DOOR_OPEN) >> 1 );
20139                        		__st.wmiq	4352, _di
         1E:C654  64 F0      			stz.l	_di
         1E:C656  A9 11      			lda.h	#4352
         1E:C658  85 F1      			sta.h	_di
20140                        		__farptr	_tileset_LV1_DOOR_OPEN, _bp_bank, _bp
         1E:C65A  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_LV1_DOOR_OPEN))
         1E:C65C  85 EC      			sta.l	_bp
         1E:C65E  A9 6A      			lda.h	#$6000 + ($1FFF & (_tileset_LV1_DOOR_OPEN))
         1E:C660  85 ED      			sta.h	_bp
         1E:C662  A9 07      			lda	#bank(_tileset_LV1_DOOR_OPEN)
         1E:C664  85 02      			sta	_bp_bank
20141                        		__ld.wi		___sizeof__tileset_LV1_DOOR_OPEN
         1E:C666  A9 00      			lda.l	#___sizeof__tileset_LV1_DOOR_OPEN
         1E:C668  A0 03      			ldy.h	#___sizeof__tileset_LV1_DOOR_OPEN
20142                        		__lsr.wi	1
         1E:C66A  42         			say
         1E:C66B  4A         			lsr	a
         1E:C66C  42         			say
         1E:C66D  6A         			ror	a
20143                        		__st.wmq	_ax
         1E:C66E  85 F8      			sta.l	_ax
         1E:C670  84 F9      			sty.h	_ax
20144                        		 _sgx_load_vram.3
         1E:C672  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:C674  20 FF FE   			call	load_vram_x
20145                        	
20146                        		.dbg	line,	"include\init.c", 774; //--------------------------------------------------------------------------------------//
20147                        	
20148                        		.dbg	line,	"include\init.c", 775; //                                     SET MULTIMAP                                     //
20149                        	
20150                        		.dbg	line,	"include\init.c", 776; //--------------------------------------------------------------------------------------//
20151                        	
20152                        		.dbg	line,	"include\init.c", 778; // multimap is 5 screens wide //
20153                        	
20154                        		.dbg	line,	"include\init.c", 779; sgx_set_multimap( multimap_LV1_BG_B , 5 );
20155                        		__farptr	_multimap_LV1_BG_B, sgx_scr_bank, sgx_scr_addr
         1E:C677  A9 00      			lda.l	#$6000 + ($1FFF & (_multimap_LV1_BG_B))
         1E:C679  8D 16 2C   			sta.l	sgx_scr_addr
         1E:C67C  A9 79      			lda.h	#$6000 + ($1FFF & (_multimap_LV1_BG_B))
         1E:C67E  8D 17 2C   			sta.h	sgx_scr_addr
         1E:C681  A9 0D      			lda	#bank(_multimap_LV1_BG_B)
         1E:C683  8D 18 2C   			sta	sgx_scr_bank
20156                        		__st.umiq	5, sgx_map_scrn_w
         1E:C686  A9 05      			lda.l	#5
         1E:C688  8D D7 26   			sta	sgx_map_scrn_w
20157                        		 _sgx_set_multimap.2
         1E:C68B  AD CF 26   			lda	sgx_bat_width
         1E:C68E  4A         			lsr	a
         1E:C68F  8D D6 26   			sta	sgx_map_line_w
20158                        	
20159                        		.dbg	line,	"include\init.c", 782; //--------------------------------------------------------------------------------------//
20160                        	
20161                        		.dbg	line,	"include\init.c", 783; //                                    DRAW TILEMAP                                      //
20162                        	
20163                        		.dbg	line,	"include\init.c", 784; //--------------------------------------------------------------------------------------//
20164                        	
20165                        		.dbg	line,	"include\init.c", 786; // The blkmap is drawn using global variables for the top-left coordinate
20166                        	
20167                        		.dbg	line,	"include\init.c", 787; // in pixels, and the draw width and height in terms of 8x8 characters.
20168                        	
20169                        		.dbg	line,	"include\init.c", 789; if(respawn == FALSE)
20170                        		__not.um	_respawn
         1E:C692  AD 16 23   			lda	_respawn
         1E:C695  18         			clc
         1E:C696  D0 01      			bne	!+
         1E:C698  38         			sec
         1E:C699             	!:
20171                        		__bfalse	.LL971
         1E:C699  90 12      			bcc	.LL971
20172                        	
20173                        		.dbg	line,	"include\init.c", 790; {
20174                        	
20175                        		.dbg	line,	"include\init.c", 791; sgx_map_pxl_x = 96;
20176                        		__st.wmiq	96, _sgx_map_pxl_x
         1E:C69B  A9 60      			lda.l	#96
         1E:C69D  8D D8 26   			sta.l	_sgx_map_pxl_x
         1E:C6A0  9C D9 26   			stz.h	_sgx_map_pxl_x
20177                        	
20178                        		.dbg	line,	"include\init.c", 792; sgx_map_pxl_y = 768;
20179                        		__st.wmiq	768, _sgx_map_pxl_y
         1E:C6A3  9C DA 26   			stz.l	_sgx_map_pxl_y
         1E:C6A6  A9 03      			lda.h	#768
         1E:C6A8  8D DB 26   			sta.h	_sgx_map_pxl_y
20180                        	
20181                        		.dbg	line,	"include\init.c", 793; }
20182                        	
20183                        		.dbg	line,	"include\init.c", 795; else if(respawn == RESPAWN_SHOP)
20184                        		__bra		.LL972
         1E:C6AB  80 22      			bra	.LL972
20185    1E:C6AD             	.LL971:
20186                        		__ld.umq	_respawn
         1E:C6AD  AD 16 23   			lda	_respawn
20187                        		__equ_b.uiq	2
         1E:C6B0  C9 02      			cmp	#2
         1E:C6B2  F0 01      			beq	!+
         1E:C6B4  18         			clc
         1E:C6B5             	!:
20188                        		__bfalse	.LL973
         1E:C6B5  90 18      			bcc	.LL973
20189                        	
20190                        		.dbg	line,	"include\init.c", 796; {
20191                        	
20192                        		.dbg	line,	"include\init.c", 797; sgx_map_pxl_x = camera_pos_x_backup;
20193                        		__ld.wm		_camera_pos_x_backup
         1E:C6B7  AD FB 24   			lda.l	_camera_pos_x_backup
         1E:C6BA  AC FC 24   			ldy.h	_camera_pos_x_backup
20194                        		__st.wmq	_sgx_map_pxl_x
         1E:C6BD  8D D8 26   			sta.l	_sgx_map_pxl_x
         1E:C6C0  8C D9 26   			sty.h	_sgx_map_pxl_x
20195                        	
20196                        		.dbg	line,	"include\init.c", 798; sgx_map_pxl_y = camera_pos_y_backup;
20197                        		__ld.wm		_camera_pos_y_backup
         1E:C6C3  AD FD 24   			lda.l	_camera_pos_y_backup
         1E:C6C6  AC FE 24   			ldy.h	_camera_pos_y_backup
20198                        		__st.wmq	_sgx_map_pxl_y
         1E:C6C9  8D DA 26   			sta.l	_sgx_map_pxl_y
         1E:C6CC  8C DB 26   			sty.h	_sgx_map_pxl_y
20199                        	
20200                        		.dbg	line,	"include\init.c", 799; }
20201                        	
20202                        		.dbg	line,	"include\init.c", 802; sgx_map_draw_w = 63;
20203    1E:C6CF             	.LL973:
20204    1E:C6CF             	.LL972:
20205                        		__st.umiq	63, _sgx_map_draw_w
         1E:C6CF  A9 3F      			lda.l	#63
         1E:C6D1  8D D4 26   			sta	_sgx_map_draw_w
20206                        	
20207                        		.dbg	line,	"include\init.c", 803; sgx_map_draw_h = 29;
20208                        		__st.umiq	29, _sgx_map_draw_h
         1E:C6D4  A9 1D      			lda.l	#29
         1E:C6D6  8D D5 26   			sta	_sgx_map_draw_h
20209                        	
20210                        		.dbg	line,	"include\init.c", 805; sgx_draw_map();
20211                        		__call		_sgx_draw_map
         1E:C6D9  20 A5 FE   			call	_sgx_draw_map
20212                        	
20213                        		.dbg	line,	"include\init.c", 810; //**************************************************************************************//
20214                        	
20215                        		.dbg	line,	"include\init.c", 811; //                                                                                      //
20216                        	
20217                        		.dbg	line,	"include\init.c", 812; //                                         HUD                                          //
20218                        	
20219                        		.dbg	line,	"include\init.c", 813; //                                                                                      //
20220                        	
20221                        		.dbg	line,	"include\init.c", 814; //**************************************************************************************//
20222                        	
20223                        		.dbg	line,	"include\init.c", 816; init_HUD();
20224                        		__call		_init_HUD
         1E:C6DC  20 9B FE   			call	_init_HUD
20225                        	
20226                        		.dbg	line,	"include\init.c", 818; 
20227                        	
20228                        		.dbg	line,	"include\init.c", 821; //**************************************************************************************//
20229                        	
20230                        		.dbg	line,	"include\init.c", 822; //                                                                                      //
20231                        	
20232                        		.dbg	line,	"include\init.c", 823; //                                  SETUP SCROLL_SPLIT                                  //
20233                        	
20234                        		.dbg	line,	"include\init.c", 824; //                                                                                      //
20235                        	
20236                        		.dbg	line,	"include\init.c", 825; //**************************************************************************************//
20237                        	
20238                        		.dbg	line,	"include\init.c", 827; //--------------------------------------------------------------------------------------//
20239                        	
20240                        		.dbg	line,	"include\init.c", 828; //                                        VDC 2                                         //
20241                        	
20242                        		.dbg	line,	"include\init.c", 829; //--------------------------------------------------------------------------------------//
20243                        	
20244                        		.dbg	line,	"include\init.c", 831; sgx_scroll_map();
20245                        		__call		_sgx_scroll_map
         1E:C6DF  20 63 FF   			call	_sgx_scroll_map
20246                        	
20247                        		.dbg	line,	"include\init.c", 833; sgx_scroll_split(0,   0, sgx_map_pxl_x & (BAT_SIZE_W - 1), sgx_map_pxl_y & (BAT_SIZE_H - 1), BKG_ON | SPR_ON);
20248                        		__st.umiq	0, _al
         1E:C6E2  64 F8      			stz	_al
20249                        		__st.umiq	0, _ah
         1E:C6E4  64 F9      			stz	_ah
20250                        		__ld.wm		_sgx_map_pxl_x
         1E:C6E6  AD D8 26   			lda.l	_sgx_map_pxl_x
         1E:C6E9  AC D9 26   			ldy.h	_sgx_map_pxl_x
20251                        		__and.wi	2047
         1E:C6EC  29 FF      			and.l	#2047
         1E:C6EE  42         			say
         1E:C6EF  29 07      			and.h	#2047
         1E:C6F1  42         			say
20252                        		__st.wmq	_bx
         1E:C6F2  85 FA      			sta.l	_bx
         1E:C6F4  84 FB      			sty.h	_bx
20253                        		__ld.wm		_sgx_map_pxl_y
         1E:C6F6  AD DA 26   			lda.l	_sgx_map_pxl_y
         1E:C6F9  AC DB 26   			ldy.h	_sgx_map_pxl_y
20254                        		__and.wi	255
         1E:C6FC  29 FF      			and	#255
         1E:C6FE  C2         			cly
20255                        		__st.wmq	_cx
         1E:C6FF  85 FC      			sta.l	_cx
         1E:C701  84 FD      			sty.h	_cx
20256                        		__st.umiq	192, _dl
         1E:C703  A9 C0      			lda.l	#192
         1E:C705  85 FE      			sta	_dl
20257                        		__call		_sgx_scroll_split.5
         1E:C707  20 59 FF   			call	_sgx_scroll_split.5
20258                        	
20259                        		.dbg	line,	"include\init.c", 838; //--------------------------------------------------------------------------------------//
20260                        	
20261                        		.dbg	line,	"include\init.c", 839; //                                   LOAD BG PALETTES                                   //
20262                        	
20263                        		.dbg	line,	"include\init.c", 840; //--------------------------------------------------------------------------------------//
20264                        	
20265                        		.dbg	line,	"include\init.c", 842; // LOAD ALL PALETTES AT BG PALETTE 0 //
20266                        	
20267                        		.dbg	line,	"include\init.c", 843; load_palette( 0, palette_LV1, 16 );
20268                        		__st.umiq	0, _al
         1E:C70A  64 F8      			stz	_al
20269                        		__farptr	_palette_LV1, _bp_bank, _bp
         1E:C70C  A9 A0      			lda.l	#$6000 + ($1FFF & (_palette_LV1))
         1E:C70E  85 EC      			sta.l	_bp
         1E:C710  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_LV1))
         1E:C712  85 ED      			sta.h	_bp
         1E:C714  A9 0F      			lda	#bank(_palette_LV1)
         1E:C716  85 02      			sta	_bp_bank
20270                        		__st.umiq	16, _ah
         1E:C718  A9 10      			lda.l	#16
         1E:C71A  85 F9      			sta	_ah
20271                        		__call		_load_palette.3
         1E:C71C  20 8B FF   			call	_load_palette.3
20272                        	
20273                        		.dbg	line,	"include\init.c", 848; //**************************************************************************************//
20274                        	
20275                        		.dbg	line,	"include\init.c", 849; //                                                                                      //
20276                        	
20277                        		.dbg	line,	"include\init.c", 850; //                                       SPRITES                                        //
20278                        	
20279                        		.dbg	line,	"include\init.c", 851; //                                                                                      //
20280                        	
20281                        		.dbg	line,	"include\init.c", 852; //**************************************************************************************//
20282                        	
20283                        		.dbg	line,	"include\init.c", 854; // HIDE DRAGON SPRITES FROM INTRO //
20284                        	
20285                        		.dbg	line,	"include\init.c", 855; for(i=0 ; i<8 ; i++)
20286                        		__st.umiq	0, __init_LEVEL_end - 1  /* i */
         1E:C71F  9C 10 23   			stz	__init_LEVEL_end - 1
20287    1E:C722             	.LL974:
20288                        		__ld.umq	__init_LEVEL_end - 1  /* i */
         1E:C722  AD 10 23   			lda	__init_LEVEL_end - 1
20289                        		__ult_b.uiq	8
         1E:C725  C9 08      			cmp	#8		; Subtract integer from A.
         1E:C727  6A         			ror	a		; CC if A < integer.
         1E:C728  49 80      			eor	#$80
         1E:C72A  2A         			rol	a
20290                        		__btrue		.LL976
         1E:C72B  B0 07      			bcs	.LL976
20291                        		__bra		.LL977
         1E:C72D  80 10      			bra	.LL977
20292    1E:C72F             	.LL975:
20293                        		__inc.umq	__init_LEVEL_end - 1  /* i */
         1E:C72F  EE 10 23   			inc	__init_LEVEL_end - 1
20294                        		__bra		.LL974
         1E:C732  80 EE      			bra	.LL974
20295    1E:C734             	.LL976:
20296                        	
20297                        		.dbg	line,	"include\init.c", 856; {
20298                        	
20299                        		.dbg	line,	"include\init.c", 857; sgx_spr_set(i);
20300                        		__ld.umq	__init_LEVEL_end - 1  /* i */
         1E:C734  AD 10 23   			lda	__init_LEVEL_end - 1
20301                        		__call		_sgx_spr_set.1
         1E:C737  20 9E E8   			call	_sgx_spr_set.1
20302                        	
20303                        		.dbg	line,	"include\init.c", 858; sgx_spr_hide();
20304                        		__call		_sgx_spr_hide
         1E:C73A  20 B9 E8   			call	_sgx_spr_hide
20305                        	
20306                        		.dbg	line,	"include\init.c", 859; }
20307                        		__bra		.LL975
         1E:C73D  80 F0      			bra	.LL975
20308    1E:C73F             	.LL977:
20309                        	
20310                        		.dbg	line,	"include\init.c", 861; //--------------------------------------------------------------------------------------//
20311                        	
20312                        		.dbg	line,	"include\init.c", 862; //                                        PLAYER                                        //
20313                        	
20314                        		.dbg	line,	"include\init.c", 863; //--------------------------------------------------------------------------------------//
20315                        	
20316                        		.dbg	line,	"include\init.c", 865; // LOAD ALL PLAYER TILES //
20317                        	
20318                        		.dbg	line,	"include\init.c", 866; set_far_base(TABLE_PLAYER_TILES_BANK[player_naked],TABLE_PLAYER_TILES_ADR[player_naked]);
20319                        		__ldx.umq	_player_naked
         1E:C73F  AE 1F 23   			ldx	_player_naked
20320                        		__ld.uax	_TABLE_PLAYER_TILES_BANK
         1E:C742  BD 3F 62   			lda	_TABLE_PLAYER_TILES_BANK, x
         1E:C745  C2         			cly
20321                        		__st.umq	_bp_bank
         1E:C746  85 02      			sta	_bp_bank
20322                        		__ld2x.umq	_player_naked
         1E:C748  AD 1F 23   			lda	_player_naked
         1E:C74B  0A         			asl	a
         1E:C74C  AA         			tax
20323                        		__ld.wax	_TABLE_PLAYER_TILES_ADR
         1E:C74D  BD 3B 62   			lda.l	_TABLE_PLAYER_TILES_ADR, x
         1E:C750  BC 3C 62   			ldy.h	_TABLE_PLAYER_TILES_ADR, x
20324                        		__st.wmq	_bp
         1E:C753  85 EC      			sta.l	_bp
         1E:C755  84 ED      			sty.h	_bp
20325                        	
20326                        		.dbg	line,	"include\init.c", 867; far_load_vram(PLAYER_VRAM_ADR,TILES_400);
20327                        		__st.wmiq	5120, _di
         1E:C757  64 F0      			stz.l	_di
         1E:C759  A9 14      			lda.h	#5120
         1E:C75B  85 F1      			sta.h	_di
20328                        		__st.wmiq	6400, _ax
         1E:C75D  64 F8      			stz.l	_ax
         1E:C75F  A9 19      			lda.h	#6400
         1E:C761  85 F9      			sta.h	_ax
20329                        		 _far_load_vram.2
         1E:C763  82         			clx				; Offset to PCE VDC.
         1E:C764  20 FF FE   			call	load_vram_x
20330                        	
20331                        		.dbg	line,	"include\init.c", 870; // SELECT PLAYER CORE SPRITE //
20332                        	
20333                        		.dbg	line,	"include\init.c", 871; spr_set(player_id); // PLAYER_START_INDEX
20334                        		__ld.umq	_player_id
         1E:C767  AD 17 23   			lda	_player_id
20335                        		__call		_spr_set.1
         1E:C76A  20 F1 E7   			call	_spr_set.1
20336                        	
20337                        		.dbg	line,	"include\init.c", 874; player_pos_x = 112;
20338                        		__st.wmiq	112, _player_pos_x
         1E:C76D  A9 70      			lda.l	#112
         1E:C76F  8D F5 24   			sta.l	_player_pos_x
         1E:C772  9C F6 24   			stz.h	_player_pos_x
20339                        	
20340                        		.dbg	line,	"include\init.c", 875; player_pos_y = PLAYER_BASE_Y_POS;
20341                        		__st.wmiq	128, _player_pos_y
         1E:C775  A9 80      			lda.l	#128
         1E:C777  8D F7 24   			sta.l	_player_pos_y
         1E:C77A  9C F8 24   			stz.h	_player_pos_y
20342                        	
20343                        		.dbg	line,	"include\init.c", 878; spr_x(player_pos_x);
20344                        		__ld.wm		_player_pos_x
         1E:C77D  AD F5 24   			lda.l	_player_pos_x
         1E:C780  AC F6 24   			ldy.h	_player_pos_x
20345                        		__call		_spr_x.1
         1E:C783  20 1E E8   			call	_spr_x.1
20346                        	
20347                        		.dbg	line,	"include\init.c", 879; spr_y(player_pos_y);
20348                        		__ld.wm		_player_pos_y
         1E:C786  AD F7 24   			lda.l	_player_pos_y
         1E:C789  AC F8 24   			ldy.h	_player_pos_y
20349                        		__call		_spr_y.1
         1E:C78C  20 2D E8   			call	_spr_y.1
20350                        	
20351                        		.dbg	line,	"include\init.c", 881; // SET TILES DATA FOR THE PLAYER //
20352                        	
20353                        		.dbg	line,	"include\init.c", 882; spr_pattern(PLAYER_VRAM_ADR);
20354                        		__ld.wi		5120
         1E:C78F  62         			cla
         1E:C790  A0 14      			ldy.h	#5120
20355                        		__call		_spr_pattern.1
         1E:C792  20 3A E8   			call	_spr_pattern.1
20356                        	
20357                        		.dbg	line,	"include\init.c", 884; // SET SPRITE FLIP //
20358                        	
20359                        		.dbg	line,	"include\init.c", 885; spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_32x32);
20360                        		__st.umiq	185, _al
         1E:C795  A9 B9      			lda.l	#185
         1E:C797  85 F8      			sta	_al
20361                        		__ld.uiq	17
         1E:C799  A9 11      			lda	#17
20362                        		__call		_spr_ctrl.2
         1E:C79B  20 50 E8   			call	_spr_ctrl.2
20363                        	
20364                        		.dbg	line,	"include\init.c", 887; 
20365                        	
20366                        		.dbg	line,	"include\init.c", 890; spr_pal(0);
20367                        		__ld.uiq	0
         1E:C79E  62         			cla
20368                        		__call		_spr_pal.1
         1E:C79F  20 61 E8   			call	_spr_pal.1
20369                        	
20370                        		.dbg	line,	"include\init.c", 891; spr_pri(TRUE);
20371                        		__ld.uiq	1
         1E:C7A2  A9 01      			lda	#1
20372                        		__call		_spr_pri.1
         1E:C7A4  20 70 E8   			call	_spr_pri.1
20373                        	
20374                        		.dbg	line,	"include\init.c", 894; //--------------------------------------------------------------------------------------//
20375                        	
20376                        		.dbg	line,	"include\init.c", 895; //                                        CHAIN                                         //
20377                        	
20378                        		.dbg	line,	"include\init.c", 896; //--------------------------------------------------------------------------------------//
20379                        	
20380                        		.dbg	line,	"include\init.c", 898; load_vram(CHAIN_VRAM_ADR, tiles_SPR_CHAIN , TILES_4);
20381                        		__st.wmiq	31744, _di
         1E:C7A7  64 F0      			stz.l	_di
         1E:C7A9  A9 7C      			lda.h	#31744
         1E:C7AB  85 F1      			sta.h	_di
20382                        		__farptr	_tiles_SPR_CHAIN, _bp_bank, _bp
         1E:C7AD  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_CHAIN))
         1E:C7AF  85 EC      			sta.l	_bp
         1E:C7B1  A9 69      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_CHAIN))
         1E:C7B3  85 ED      			sta.h	_bp
         1E:C7B5  A9 19      			lda	#bank(_tiles_SPR_CHAIN)
         1E:C7B7  85 02      			sta	_bp_bank
20383                        		__st.wmiq	64, _ax
         1E:C7B9  A9 40      			lda.l	#64
         1E:C7BB  85 F8      			sta.l	_ax
         1E:C7BD  64 F9      			stz.h	_ax
20384                        		 _load_vram.3
         1E:C7BF  82         			clx				; Offset to PCE VDC.
         1E:C7C0  20 FF FE   			call	load_vram_x
20385                        	
20386                        		.dbg	line,	"include\init.c", 900; for(i=0 ; i<3 ; i++)
20387                        		__st.umiq	0, __init_LEVEL_end - 1  /* i */
         1E:C7C3  9C 10 23   			stz	__init_LEVEL_end - 1
20388    1E:C7C6             	.LL978:
20389                        		__ld.umq	__init_LEVEL_end - 1  /* i */
         1E:C7C6  AD 10 23   			lda	__init_LEVEL_end - 1
20390                        		__ult_b.uiq	3
         1E:C7C9  C9 03      			cmp	#3		; Subtract integer from A.
         1E:C7CB  6A         			ror	a		; CC if A < integer.
         1E:C7CC  49 80      			eor	#$80
         1E:C7CE  2A         			rol	a
20391                        		__btrue		.LL980
         1E:C7CF  B0 07      			bcs	.LL980
20392                        		__bra		.LL981
         1E:C7D1  80 2F      			bra	.LL981
20393    1E:C7D3             	.LL979:
20394                        		__inc.umq	__init_LEVEL_end - 1  /* i */
         1E:C7D3  EE 10 23   			inc	__init_LEVEL_end - 1
20395                        		__bra		.LL978
         1E:C7D6  80 EE      			bra	.LL978
20396    1E:C7D8             	.LL980:
20397                        	
20398                        		.dbg	line,	"include\init.c", 901; {
20399                        	
20400                        		.dbg	line,	"include\init.c", 902; spr_set(chain_id+i);
20401                        		__ld.um		_chain_id
         1E:C7D8  AD 25 23   			lda	_chain_id
         1E:C7DB  C2         			cly
20402                        		__add.um	__init_LEVEL_end - 1  /* i */
         1E:C7DC  18         			clc
         1E:C7DD  6D 10 23   			adc	__init_LEVEL_end - 1
         1E:C7E0  90 01      			bcc	!+
         1E:C7E2  C8         			iny
         1E:C7E3             	!:
20403                        		__call		_spr_set.1
         1E:C7E3  20 F1 E7   			call	_spr_set.1
20404                        	
20405                        		.dbg	line,	"include\init.c", 903; spr_pattern(CHAIN_VRAM_ADR);
20406                        		__ld.wi		31744
         1E:C7E6  62         			cla
         1E:C7E7  A0 7C      			ldy.h	#31744
20407                        		__call		_spr_pattern.1
         1E:C7E9  20 3A E8   			call	_spr_pattern.1
20408                        	
20409                        		.dbg	line,	"include\init.c", 904; spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_16x16);
20410                        		__st.umiq	185, _al
         1E:C7EC  A9 B9      			lda.l	#185
         1E:C7EE  85 F8      			sta	_al
20411                        		__ld.uiq	0
         1E:C7F0  62         			cla
20412                        		__call		_spr_ctrl.2
         1E:C7F1  20 50 E8   			call	_spr_ctrl.2
20413                        	
20414                        		.dbg	line,	"include\init.c", 905; spr_hide();
20415                        		__call		_spr_hide
         1E:C7F4  20 0C E8   			call	_spr_hide
20416                        	
20417                        		.dbg	line,	"include\init.c", 907; spr_pal(0);
20418                        		__ld.uiq	0
         1E:C7F7  62         			cla
20419                        		__call		_spr_pal.1
         1E:C7F8  20 61 E8   			call	_spr_pal.1
20420                        	
20421                        		.dbg	line,	"include\init.c", 908; spr_pri(TRUE);
20422                        		__ld.uiq	1
         1E:C7FB  A9 01      			lda	#1
20423                        		__call		_spr_pri.1
         1E:C7FD  20 70 E8   			call	_spr_pri.1
20424                        	
20425                        		.dbg	line,	"include\init.c", 909; }
20426                        		__bra		.LL979
         1E:C800  80 D1      			bra	.LL979
20427    1E:C802             	.LL981:
20428                        	
20429                        		.dbg	line,	"include\init.c", 910; 
20430                        	
20431                        		.dbg	line,	"include\init.c", 912; //--------------------------------------------------------------------------------------//
20432                        	
20433                        		.dbg	line,	"include\init.c", 913; //                                        WEAPON                                        //
20434                        	
20435                        		.dbg	line,	"include\init.c", 914; //--------------------------------------------------------------------------------------//
20436                        	
20437                        		.dbg	line,	"include\init.c", 916; if(weapon_level == 0)
20438                        		__not.um	_weapon_level
         1E:C802  AD 28 23   			lda	_weapon_level
         1E:C805  18         			clc
         1E:C806  D0 01      			bne	!+
         1E:C808  38         			sec
         1E:C809             	!:
20439                        		__bfalse	.LL982
         1E:C809  90 27      			bcc	.LL982
20440                        	
20441                        		.dbg	line,	"include\init.c", 917; {
20442                        	
20443                        		.dbg	line,	"include\init.c", 918; load_vram(WEAPON_VRAM_ADR, tiles_SPR_WEAPON_0 , SIZEOF(tiles_SPR_WEAPON_0) >> 1);
20444                        		__st.wmiq	31808, _di
         1E:C80B  A9 40      			lda.l	#31808
         1E:C80D  85 F0      			sta.l	_di
         1E:C80F  A9 7C      			lda.h	#31808
         1E:C811  85 F1      			sta.h	_di
20445                        		__farptr	_tiles_SPR_WEAPON_0, _bp_bank, _bp
         1E:C813  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_0))
         1E:C815  85 EC      			sta.l	_bp
         1E:C817  A9 6A      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_0))
         1E:C819  85 ED      			sta.h	_bp
         1E:C81B  A9 19      			lda	#bank(_tiles_SPR_WEAPON_0)
         1E:C81D  85 02      			sta	_bp_bank
20446                        		__ld.wi		___sizeof__tiles_SPR_WEAPON_0
         1E:C81F  A9 80      			lda.l	#___sizeof__tiles_SPR_WEAPON_0
         1E:C821  A0 02      			ldy.h	#___sizeof__tiles_SPR_WEAPON_0
20447                        		__lsr.wi	1
         1E:C823  42         			say
         1E:C824  4A         			lsr	a
         1E:C825  42         			say
         1E:C826  6A         			ror	a
20448                        		__st.wmq	_ax
         1E:C827  85 F8      			sta.l	_ax
         1E:C829  84 F9      			sty.h	_ax
20449                        		 _load_vram.3
         1E:C82B  82         			clx				; Offset to PCE VDC.
         1E:C82C  20 FF FE   			call	load_vram_x
20450                        	
20451                        		.dbg	line,	"include\init.c", 919; }
20452                        	
20453                        		.dbg	line,	"include\init.c", 921; else if(weapon_level == 1)
20454                        		__bra		.LL983
         1E:C82F  4C F1 C8   			bra	.LL983
20455    1E:C832             	.LL982:
20456                        		__ld.umq	_weapon_level
         1E:C832  AD 28 23   			lda	_weapon_level
20457                        		__equ_b.uiq	1
         1E:C835  C9 01      			cmp	#1
         1E:C837  F0 01      			beq	!+
         1E:C839  18         			clc
         1E:C83A             	!:
20458                        		__bfalse	.LL984
         1E:C83A  90 27      			bcc	.LL984
20459                        	
20460                        		.dbg	line,	"include\init.c", 922; {
20461                        	
20462                        		.dbg	line,	"include\init.c", 923; load_vram(WEAPON_VRAM_ADR, tiles_SPR_WEAPON_1 , SIZEOF(tiles_SPR_WEAPON_1) >> 1);
20463                        		__st.wmiq	31808, _di
         1E:C83C  A9 40      			lda.l	#31808
         1E:C83E  85 F0      			sta.l	_di
         1E:C840  A9 7C      			lda.h	#31808
         1E:C842  85 F1      			sta.h	_di
20464                        		__farptr	_tiles_SPR_WEAPON_1, _bp_bank, _bp
         1E:C844  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_1))
         1E:C846  85 EC      			sta.l	_bp
         1E:C848  A9 6C      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_1))
         1E:C84A  85 ED      			sta.h	_bp
         1E:C84C  A9 19      			lda	#bank(_tiles_SPR_WEAPON_1)
         1E:C84E  85 02      			sta	_bp_bank
20465                        		__ld.wi		___sizeof__tiles_SPR_WEAPON_1
         1E:C850  A9 80      			lda.l	#___sizeof__tiles_SPR_WEAPON_1
         1E:C852  A0 02      			ldy.h	#___sizeof__tiles_SPR_WEAPON_1
20466                        		__lsr.wi	1
         1E:C854  42         			say
         1E:C855  4A         			lsr	a
         1E:C856  42         			say
         1E:C857  6A         			ror	a
20467                        		__st.wmq	_ax
         1E:C858  85 F8      			sta.l	_ax
         1E:C85A  84 F9      			sty.h	_ax
20468                        		 _load_vram.3
         1E:C85C  82         			clx				; Offset to PCE VDC.
         1E:C85D  20 FF FE   			call	load_vram_x
20469                        	
20470                        		.dbg	line,	"include\init.c", 924; }
20471                        	
20472                        		.dbg	line,	"include\init.c", 926; else if(weapon_level == 2)
20473                        		__bra		.LL985
         1E:C860  4C F1 C8   			bra	.LL985
20474    1E:C863             	.LL984:
20475                        		__ld.umq	_weapon_level
         1E:C863  AD 28 23   			lda	_weapon_level
20476                        		__equ_b.uiq	2
         1E:C866  C9 02      			cmp	#2
         1E:C868  F0 01      			beq	!+
         1E:C86A  18         			clc
         1E:C86B             	!:
20477                        		__bfalse	.LL986
         1E:C86B  90 26      			bcc	.LL986
20478                        	
20479                        		.dbg	line,	"include\init.c", 927; {
20480                        	
20481                        		.dbg	line,	"include\init.c", 928; load_vram(WEAPON_VRAM_ADR, tiles_SPR_WEAPON_2 , SIZEOF(tiles_SPR_WEAPON_2) >> 1);
20482                        		__st.wmiq	31808, _di
         1E:C86D  A9 40      			lda.l	#31808
         1E:C86F  85 F0      			sta.l	_di
         1E:C871  A9 7C      			lda.h	#31808
         1E:C873  85 F1      			sta.h	_di
20483                        		__farptr	_tiles_SPR_WEAPON_2, _bp_bank, _bp
         1E:C875  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_2))
         1E:C877  85 EC      			sta.l	_bp
         1E:C879  A9 6F      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_2))
         1E:C87B  85 ED      			sta.h	_bp
         1E:C87D  A9 19      			lda	#bank(_tiles_SPR_WEAPON_2)
         1E:C87F  85 02      			sta	_bp_bank
20484                        		__ld.wi		___sizeof__tiles_SPR_WEAPON_2
         1E:C881  A9 80      			lda.l	#___sizeof__tiles_SPR_WEAPON_2
         1E:C883  A0 02      			ldy.h	#___sizeof__tiles_SPR_WEAPON_2
20485                        		__lsr.wi	1
         1E:C885  42         			say
         1E:C886  4A         			lsr	a
         1E:C887  42         			say
         1E:C888  6A         			ror	a
20486                        		__st.wmq	_ax
         1E:C889  85 F8      			sta.l	_ax
         1E:C88B  84 F9      			sty.h	_ax
20487                        		 _load_vram.3
         1E:C88D  82         			clx				; Offset to PCE VDC.
         1E:C88E  20 FF FE   			call	load_vram_x
20488                        	
20489                        		.dbg	line,	"include\init.c", 929; }
20490                        	
20491                        		.dbg	line,	"include\init.c", 931; else if(weapon_level == 3)
20492                        		__bra		.LL987
         1E:C891  80 5E      			bra	.LL987
20493    1E:C893             	.LL986:
20494                        		__ld.umq	_weapon_level
         1E:C893  AD 28 23   			lda	_weapon_level
20495                        		__equ_b.uiq	3
         1E:C896  C9 03      			cmp	#3
         1E:C898  F0 01      			beq	!+
         1E:C89A  18         			clc
         1E:C89B             	!:
20496                        		__bfalse	.LL988
         1E:C89B  90 26      			bcc	.LL988
20497                        	
20498                        		.dbg	line,	"include\init.c", 932; {
20499                        	
20500                        		.dbg	line,	"include\init.c", 933; load_vram(WEAPON_VRAM_ADR, tiles_SPR_WEAPON_3 , SIZEOF(tiles_SPR_WEAPON_3) >> 1);
20501                        		__st.wmiq	31808, _di
         1E:C89D  A9 40      			lda.l	#31808
         1E:C89F  85 F0      			sta.l	_di
         1E:C8A1  A9 7C      			lda.h	#31808
         1E:C8A3  85 F1      			sta.h	_di
20502                        		__farptr	_tiles_SPR_WEAPON_3, _bp_bank, _bp
         1E:C8A5  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_3))
         1E:C8A7  85 EC      			sta.l	_bp
         1E:C8A9  A9 71      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_3))
         1E:C8AB  85 ED      			sta.h	_bp
         1E:C8AD  A9 19      			lda	#bank(_tiles_SPR_WEAPON_3)
         1E:C8AF  85 02      			sta	_bp_bank
20503                        		__ld.wi		___sizeof__tiles_SPR_WEAPON_3
         1E:C8B1  A9 80      			lda.l	#___sizeof__tiles_SPR_WEAPON_3
         1E:C8B3  A0 02      			ldy.h	#___sizeof__tiles_SPR_WEAPON_3
20504                        		__lsr.wi	1
         1E:C8B5  42         			say
         1E:C8B6  4A         			lsr	a
         1E:C8B7  42         			say
         1E:C8B8  6A         			ror	a
20505                        		__st.wmq	_ax
         1E:C8B9  85 F8      			sta.l	_ax
         1E:C8BB  84 F9      			sty.h	_ax
20506                        		 _load_vram.3
         1E:C8BD  82         			clx				; Offset to PCE VDC.
         1E:C8BE  20 FF FE   			call	load_vram_x
20507                        	
20508                        		.dbg	line,	"include\init.c", 934; }
20509                        	
20510                        		.dbg	line,	"include\init.c", 936; else if(weapon_level == 4)
20511                        		__bra		.LL989
         1E:C8C1  80 2E      			bra	.LL989
20512    1E:C8C3             	.LL988:
20513                        		__ld.umq	_weapon_level
         1E:C8C3  AD 28 23   			lda	_weapon_level
20514                        		__equ_b.uiq	4
         1E:C8C6  C9 04      			cmp	#4
         1E:C8C8  F0 01      			beq	!+
         1E:C8CA  18         			clc
         1E:C8CB             	!:
20515                        		__bfalse	.LL990
         1E:C8CB  90 24      			bcc	.LL990
20516                        	
20517                        		.dbg	line,	"include\init.c", 937; {
20518                        	
20519                        		.dbg	line,	"include\init.c", 938; load_vram(WEAPON_VRAM_ADR, tiles_SPR_WEAPON_4 , SIZEOF(tiles_SPR_WEAPON_4) >> 1);
20520                        		__st.wmiq	31808, _di
         1E:C8CD  A9 40      			lda.l	#31808
         1E:C8CF  85 F0      			sta.l	_di
         1E:C8D1  A9 7C      			lda.h	#31808
         1E:C8D3  85 F1      			sta.h	_di
20521                        		__farptr	_tiles_SPR_WEAPON_4, _bp_bank, _bp
         1E:C8D5  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_4))
         1E:C8D7  85 EC      			sta.l	_bp
         1E:C8D9  A9 74      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_4))
         1E:C8DB  85 ED      			sta.h	_bp
         1E:C8DD  A9 19      			lda	#bank(_tiles_SPR_WEAPON_4)
         1E:C8DF  85 02      			sta	_bp_bank
20522                        		__ld.wi		___sizeof__tiles_SPR_WEAPON_4
         1E:C8E1  A9 80      			lda.l	#___sizeof__tiles_SPR_WEAPON_4
         1E:C8E3  A0 02      			ldy.h	#___sizeof__tiles_SPR_WEAPON_4
20523                        		__lsr.wi	1
         1E:C8E5  42         			say
         1E:C8E6  4A         			lsr	a
         1E:C8E7  42         			say
         1E:C8E8  6A         			ror	a
20524                        		__st.wmq	_ax
         1E:C8E9  85 F8      			sta.l	_ax
         1E:C8EB  84 F9      			sty.h	_ax
20525                        		 _load_vram.3
         1E:C8ED  82         			clx				; Offset to PCE VDC.
         1E:C8EE  20 FF FE   			call	load_vram_x
20526                        	
20527                        		.dbg	line,	"include\init.c", 939; }		
20528                        	
20529                        		.dbg	line,	"include\init.c", 941; 
20530                        	
20531                        		.dbg	line,	"include\init.c", 942; weapon_id = chain_id-1;
20532    1E:C8F1             	.LL990:
20533    1E:C8F1             	.LL989:
20534    1E:C8F1             	.LL987:
20535    1E:C8F1             	.LL985:
20536    1E:C8F1             	.LL983:
20537                        		__ld.um		_chain_id
         1E:C8F1  AD 25 23   			lda	_chain_id
         1E:C8F4  C2         			cly
20538                        		__sub.wi	1
         1E:C8F5  38         			sec
         1E:C8F6  E9 01      			sbc.l	#1
         1E:C8F8  B0 01      			bcs	!+
         1E:C8FA  88         			dey
         1E:C8FB             	!:
20539                        		__st.umq	_weapon_id
         1E:C8FB  8D 26 23   			sta	_weapon_id
20540                        	
20541                        		.dbg	line,	"include\init.c", 943; spr_set(weapon_id);
20542                        		__ld.umq	_weapon_id
         1E:C8FE  AD 26 23   			lda	_weapon_id
20543                        		__call		_spr_set.1
         1E:C901  20 F1 E7   			call	_spr_set.1
20544                        	
20545                        		.dbg	line,	"include\init.c", 944; spr_pattern(WEAPON_VRAM_ADR);
20546                        		__ld.wi		31808
         1E:C904  A9 40      			lda.l	#31808
         1E:C906  A0 7C      			ldy.h	#31808
20547                        		__call		_spr_pattern.1
         1E:C908  20 3A E8   			call	_spr_pattern.1
20548                        	
20549                        		.dbg	line,	"include\init.c", 945; spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_16x16);
20550                        		__st.umiq	185, _al
         1E:C90B  A9 B9      			lda.l	#185
         1E:C90D  85 F8      			sta	_al
20551                        		__ld.uiq	0
         1E:C90F  62         			cla
20552                        		__call		_spr_ctrl.2
         1E:C910  20 50 E8   			call	_spr_ctrl.2
20553                        	
20554                        		.dbg	line,	"include\init.c", 947; spr_x(player_pos_x+8);
20555                        		__ld.wm		_player_pos_x
         1E:C913  AD F5 24   			lda.l	_player_pos_x
         1E:C916  AC F6 24   			ldy.h	_player_pos_x
20556                        		__add.wi	8
         1E:C919  18         			clc
         1E:C91A  69 08      			adc.l	#8
         1E:C91C  90 01      			bcc	!+
         1E:C91E  C8         			iny
         1E:C91F             	!:
20557                        		__call		_spr_x.1
         1E:C91F  20 1E E8   			call	_spr_x.1
20558                        	
20559                        		.dbg	line,	"include\init.c", 948; spr_y(player_pos_y+16);
20560                        		__ld.wm		_player_pos_y
         1E:C922  AD F7 24   			lda.l	_player_pos_y
         1E:C925  AC F8 24   			ldy.h	_player_pos_y
20561                        		__add.wi	16
         1E:C928  18         			clc
         1E:C929  69 10      			adc.l	#16
         1E:C92B  90 01      			bcc	!+
         1E:C92D  C8         			iny
         1E:C92E             	!:
20562                        		__call		_spr_y.1
         1E:C92E  20 2D E8   			call	_spr_y.1
20563                        	
20564                        		.dbg	line,	"include\init.c", 949; spr_pri(TRUE);
20565                        		__ld.uiq	1
         1E:C931  A9 01      			lda	#1
20566                        		__call		_spr_pri.1
         1E:C933  20 70 E8   			call	_spr_pri.1
20567                        	
20568                        		.dbg	line,	"include\init.c", 951; // WEAPON 4 USES PAL2
20569                        	
20570                        		.dbg	line,	"include\init.c", 952; if(weapon_level == 4)
20571                        		__ld.umq	_weapon_level
         1E:C936  AD 28 23   			lda	_weapon_level
20572                        		__equ_b.uiq	4
         1E:C939  C9 04      			cmp	#4
         1E:C93B  F0 01      			beq	!+
         1E:C93D  18         			clc
         1E:C93E             	!:
20573                        		__bfalse	.LL991
         1E:C93E  90 07      			bcc	.LL991
20574                        	
20575                        		.dbg	line,	"include\init.c", 953; {
20576                        	
20577                        		.dbg	line,	"include\init.c", 954; spr_pal(2);
20578                        		__ld.uiq	2
         1E:C940  A9 02      			lda	#2
20579                        		__call		_spr_pal.1
         1E:C942  20 61 E8   			call	_spr_pal.1
20580                        	
20581                        		.dbg	line,	"include\init.c", 955; }
20582                        	
20583                        		.dbg	line,	"include\init.c", 956; // ALL OTHERS USE PAL0
20584                        	
20585                        		.dbg	line,	"include\init.c", 957; else
20586                        		__bra		.LL992
         1E:C945  80 04      			bra	.LL992
20587    1E:C947             	.LL991:
20588                        	
20589                        		.dbg	line,	"include\init.c", 958; {
20590                        	
20591                        		.dbg	line,	"include\init.c", 959; spr_pal(0);
20592                        		__ld.uiq	0
         1E:C947  62         			cla
20593                        		__call		_spr_pal.1
         1E:C948  20 61 E8   			call	_spr_pal.1
20594                        	
20595                        		.dbg	line,	"include\init.c", 960; }
20596    1E:C94B             	.LL992:
20597                        	
20598                        		.dbg	line,	"include\init.c", 961; 
20599                        	
20600                        		.dbg	line,	"include\init.c", 962; 
20601                        	
20602                        		.dbg	line,	"include\init.c", 965; //--------------------------------------------------------------------------------------//
20603                        	
20604                        		.dbg	line,	"include\init.c", 966; //                                       OBJECTS                                        //
20605                        	
20606                        		.dbg	line,	"include\init.c", 967; //--------------------------------------------------------------------------------------//
20607                        	
20608                        		.dbg	line,	"include\init.c", 969; load_OBJECT_TILES();
20609                        		__call		_load_OBJECT_TILES
         1E:C94B  20 91 FE   			call	_load_OBJECT_TILES
20610                        	
20611                        		.dbg	line,	"include\init.c", 970; init_OBJECT_LV1();
20612                        		__call		_init_OBJECT_LV1
         1E:C94E  20 87 FE   			call	_init_OBJECT_LV1
20613                        	
20614                        		.dbg	line,	"include\init.c", 971; scroll_object();
20615                        		__call		_scroll_object
         1E:C951  20 7D FE   			call	_scroll_object
20616                        	
20617                        		.dbg	line,	"include\init.c", 974; //--------------------------------------------------------------------------------------//
20618                        	
20619                        		.dbg	line,	"include\init.c", 975; //                                        CHESTS                                        //
20620                        	
20621                        		.dbg	line,	"include\init.c", 976; //--------------------------------------------------------------------------------------//
20622                        	
20623                        		.dbg	line,	"include\init.c", 978; load_CHEST_TILES();
20624                        		__call		_load_CHEST_TILES
         1E:C954  20 73 FE   			call	_load_CHEST_TILES
20625                        	
20626                        		.dbg	line,	"include\init.c", 979; init_CHEST_LV1();
20627                        		__call		_init_CHEST_LV1
         1E:C957  20 69 FE   			call	_init_CHEST_LV1
20628                        	
20629                        		.dbg	line,	"include\init.c", 980; scroll_chest();
20630                        		__call		_scroll_chest
         1E:C95A  20 5F FE   			call	_scroll_chest
20631                        	
20632                        		.dbg	line,	"include\init.c", 983; //--------------------------------------------------------------------------------------//
20633                        	
20634                        		.dbg	line,	"include\init.c", 984; //                                         NPCS                                         //
20635                        	
20636                        		.dbg	line,	"include\init.c", 985; //--------------------------------------------------------------------------------------//
20637                        	
20638                        		.dbg	line,	"include\init.c", 987; load_NPC_TILES();
20639                        		__call		_load_NPC_TILES
         1E:C95D  20 55 FE   			call	_load_NPC_TILES
20640                        	
20641                        		.dbg	line,	"include\init.c", 988; init_NPC_LV1();
20642                        		__call		_init_NPC_LV1
         1E:C960  20 4B FE   			call	_init_NPC_LV1
20643                        	
20644                        		.dbg	line,	"include\init.c", 993; //--------------------------------------------------------------------------------------//
20645                        	
20646                        		.dbg	line,	"include\init.c", 994; //                                       ENEMIES                                        //
20647                        	
20648                        		.dbg	line,	"include\init.c", 995; //--------------------------------------------------------------------------------------//
20649                        	
20650                        		.dbg	line,	"include\init.c", 997; load_vram(ORC_VRAM_ADR, tiles_SPR_ORC , SIZEOF(tiles_SPR_ORC) >> 1);
20651                        		__st.wmiq	11520, _di
         1E:C963  64 F0      			stz.l	_di
         1E:C965  A9 2D      			lda.h	#11520
         1E:C967  85 F1      			sta.h	_di
20652                        		__farptr	_tiles_SPR_ORC, _bp_bank, _bp
         1E:C969  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_ORC))
         1E:C96B  85 EC      			sta.l	_bp
         1E:C96D  A9 64      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_ORC))
         1E:C96F  85 ED      			sta.h	_bp
         1E:C971  A9 1B      			lda	#bank(_tiles_SPR_ORC)
         1E:C973  85 02      			sta	_bp_bank
20653                        		__ld.wi		___sizeof__tiles_SPR_ORC
         1E:C975  A9 00      			lda.l	#___sizeof__tiles_SPR_ORC
         1E:C977  A0 1D      			ldy.h	#___sizeof__tiles_SPR_ORC
20654                        		__lsr.wi	1
         1E:C979  42         			say
         1E:C97A  4A         			lsr	a
         1E:C97B  42         			say
         1E:C97C  6A         			ror	a
20655                        		__st.wmq	_ax
         1E:C97D  85 F8      			sta.l	_ax
         1E:C97F  84 F9      			sty.h	_ax
20656                        		 _load_vram.3
         1E:C981  82         			clx				; Offset to PCE VDC.
         1E:C982  20 FF FE   			call	load_vram_x
20657                        	
20658                        		.dbg	line,	"include\init.c", 998; load_vram(SERPENT_VRAM_ADR, tiles_SPR_SERPENT , TILES_96);
20659                        		__st.wmiq	15232, _di
         1E:C985  A9 80      			lda.l	#15232
         1E:C987  85 F0      			sta.l	_di
         1E:C989  A9 3B      			lda.h	#15232
         1E:C98B  85 F1      			sta.h	_di
20660                        		__farptr	_tiles_SPR_SERPENT, _bp_bank, _bp
         1E:C98D  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_SERPENT))
         1E:C98F  85 EC      			sta.l	_bp
         1E:C991  A9 61      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_SERPENT))
         1E:C993  85 ED      			sta.h	_bp
         1E:C995  A9 1C      			lda	#bank(_tiles_SPR_SERPENT)
         1E:C997  85 02      			sta	_bp_bank
20661                        		__st.wmiq	1536, _ax
         1E:C999  64 F8      			stz.l	_ax
         1E:C99B  A9 06      			lda.h	#1536
         1E:C99D  85 F9      			sta.h	_ax
20662                        		 _load_vram.3
         1E:C99F  82         			clx				; Offset to PCE VDC.
         1E:C9A0  20 FF FE   			call	load_vram_x
20663                        	
20664                        		.dbg	line,	"include\init.c", 999; load_vram(PLANT_VRAM_ADR, tiles_SPR_PLANT , TILES_160);
20665                        		__st.wmiq	16768, _di
         1E:C9A3  A9 80      			lda.l	#16768
         1E:C9A5  85 F0      			sta.l	_di
         1E:C9A7  A9 41      			lda.h	#16768
         1E:C9A9  85 F1      			sta.h	_di
20666                        		__farptr	_tiles_SPR_PLANT, _bp_bank, _bp
         1E:C9AB  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_PLANT))
         1E:C9AD  85 EC      			sta.l	_bp
         1E:C9AF  A9 6D      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_PLANT))
         1E:C9B1  85 ED      			sta.h	_bp
         1E:C9B3  A9 1C      			lda	#bank(_tiles_SPR_PLANT)
         1E:C9B5  85 02      			sta	_bp_bank
20667                        		__st.wmiq	2560, _ax
         1E:C9B7  64 F8      			stz.l	_ax
         1E:C9B9  A9 0A      			lda.h	#2560
         1E:C9BB  85 F9      			sta.h	_ax
20668                        		 _load_vram.3
         1E:C9BD  82         			clx				; Offset to PCE VDC.
         1E:C9BE  20 FF FE   			call	load_vram_x
20669                        	
20670                        		.dbg	line,	"include\init.c", 1004; // UPDATE PCE SAT //
20671                        	
20672                        		.dbg	line,	"include\init.c", 1005; satb_update();
20673                        		__call		_satb_update
         1E:C9C1  20 D7 FE   			call	_satb_update
20674                        	
20675                        		.dbg	line,	"include\init.c", 1007; // UPDATE SGX SAT //
20676                        	
20677                        		.dbg	line,	"include\init.c", 1008; sgx_satb_update();
20678                        		__call		_sgx_satb_update
         1E:C9C4  20 CD FE   			call	_sgx_satb_update
20679                        	
20680                        		.dbg	line,	"include\init.c", 1011; //--------------------------------------------------------------------------------------//
20681                        	
20682                        		.dbg	line,	"include\init.c", 1012; //                                LOAD SPRITES PALETTES                                 //
20683                        	
20684                        		.dbg	line,	"include\init.c", 1013; //--------------------------------------------------------------------------------------//
20685                        	
20686                        		.dbg	line,	"include\init.c", 1015; if(armor_level == 8)
20687                        		__ld.umq	_armor_level
         1E:C9C7  AD 27 23   			lda	_armor_level
20688                        		__equ_b.uiq	8
         1E:C9CA  C9 08      			cmp	#8
         1E:C9CC  F0 01      			beq	!+
         1E:C9CE  18         			clc
         1E:C9CF             	!:
20689                        		__bfalse	.LL993
         1E:C9CF  90 19      			bcc	.LL993
20690                        	
20691                        		.dbg	line,	"include\init.c", 1016; {
20692                        	
20693                        		.dbg	line,	"include\init.c", 1017; load_palette( 16, palette_PLAYER_8, 1 );
20694                        		__st.umiq	16, _al
         1E:C9D1  A9 10      			lda.l	#16
         1E:C9D3  85 F8      			sta	_al
20695                        		__farptr	_palette_PLAYER_8, _bp_bank, _bp
         1E:C9D5  A9 C0      			lda.l	#$6000 + ($1FFF & (_palette_PLAYER_8))
         1E:C9D7  85 EC      			sta.l	_bp
         1E:C9D9  A9 67      			lda.h	#$6000 + ($1FFF & (_palette_PLAYER_8))
         1E:C9DB  85 ED      			sta.h	_bp
         1E:C9DD  A9 19      			lda	#bank(_palette_PLAYER_8)
         1E:C9DF  85 02      			sta	_bp_bank
20696                        		__st.umiq	1, _ah
         1E:C9E1  A9 01      			lda.l	#1
         1E:C9E3  85 F9      			sta	_ah
20697                        		__call		_load_palette.3
         1E:C9E5  20 8B FF   			call	_load_palette.3
20698                        	
20699                        		.dbg	line,	"include\init.c", 1018; }
20700                        	
20701                        		.dbg	line,	"include\init.c", 1020; else if(armor_level == 5)
20702                        		__bra		.LL994
         1E:C9E8  80 5D      			bra	.LL994
20703    1E:C9EA             	.LL993:
20704                        		__ld.umq	_armor_level
         1E:C9EA  AD 27 23   			lda	_armor_level
20705                        		__equ_b.uiq	5
         1E:C9ED  C9 05      			cmp	#5
         1E:C9EF  F0 01      			beq	!+
         1E:C9F1  18         			clc
         1E:C9F2             	!:
20706                        		__bfalse	.LL995
         1E:C9F2  90 19      			bcc	.LL995
20707                        	
20708                        		.dbg	line,	"include\init.c", 1021; {
20709                        	
20710                        		.dbg	line,	"include\init.c", 1022; load_palette( 16, palette_PLAYER_5, 1 );
20711                        		__st.umiq	16, _al
         1E:C9F4  A9 10      			lda.l	#16
         1E:C9F6  85 F8      			sta	_al
20712                        		__farptr	_palette_PLAYER_5, _bp_bank, _bp
         1E:C9F8  A9 C0      			lda.l	#$6000 + ($1FFF & (_palette_PLAYER_5))
         1E:C9FA  85 EC      			sta.l	_bp
         1E:C9FC  A9 65      			lda.h	#$6000 + ($1FFF & (_palette_PLAYER_5))
         1E:C9FE  85 ED      			sta.h	_bp
         1E:CA00  A9 19      			lda	#bank(_palette_PLAYER_5)
         1E:CA02  85 02      			sta	_bp_bank
20713                        		__st.umiq	1, _ah
         1E:CA04  A9 01      			lda.l	#1
         1E:CA06  85 F9      			sta	_ah
20714                        		__call		_load_palette.3
         1E:CA08  20 8B FF   			call	_load_palette.3
20715                        	
20716                        		.dbg	line,	"include\init.c", 1023; }
20717                        	
20718                        		.dbg	line,	"include\init.c", 1025; else if(armor_level == 4)
20719                        		__bra		.LL996
         1E:CA0B  80 3A      			bra	.LL996
20720    1E:CA0D             	.LL995:
20721                        		__ld.umq	_armor_level
         1E:CA0D  AD 27 23   			lda	_armor_level
20722                        		__equ_b.uiq	4
         1E:CA10  C9 04      			cmp	#4
         1E:CA12  F0 01      			beq	!+
         1E:CA14  18         			clc
         1E:CA15             	!:
20723                        		__bfalse	.LL997
         1E:CA15  90 19      			bcc	.LL997
20724                        	
20725                        		.dbg	line,	"include\init.c", 1026; {
20726                        	
20727                        		.dbg	line,	"include\init.c", 1027; load_palette( 16, palette_PLAYER_4, 1 );
20728                        		__st.umiq	16, _al
         1E:CA17  A9 10      			lda.l	#16
         1E:CA19  85 F8      			sta	_al
20729                        		__farptr	_palette_PLAYER_4, _bp_bank, _bp
         1E:CA1B  A9 C0      			lda.l	#$6000 + ($1FFF & (_palette_PLAYER_4))
         1E:CA1D  85 EC      			sta.l	_bp
         1E:CA1F  A9 63      			lda.h	#$6000 + ($1FFF & (_palette_PLAYER_4))
         1E:CA21  85 ED      			sta.h	_bp
         1E:CA23  A9 19      			lda	#bank(_palette_PLAYER_4)
         1E:CA25  85 02      			sta	_bp_bank
20730                        		__st.umiq	1, _ah
         1E:CA27  A9 01      			lda.l	#1
         1E:CA29  85 F9      			sta	_ah
20731                        		__call		_load_palette.3
         1E:CA2B  20 8B FF   			call	_load_palette.3
20732                        	
20733                        		.dbg	line,	"include\init.c", 1028; }
20734                        	
20735                        		.dbg	line,	"include\init.c", 1030; else
20736                        		__bra		.LL998
         1E:CA2E  80 17      			bra	.LL998
20737    1E:CA30             	.LL997:
20738                        	
20739                        		.dbg	line,	"include\init.c", 1031; {
20740                        	
20741                        		.dbg	line,	"include\init.c", 1032; load_palette( 16, palette_PLAYER_1, 1 );
20742                        		__st.umiq	16, _al
         1E:CA30  A9 10      			lda.l	#16
         1E:CA32  85 F8      			sta	_al
20743                        		__farptr	_palette_PLAYER_1, _bp_bank, _bp
         1E:CA34  A9 C0      			lda.l	#$6000 + ($1FFF & (_palette_PLAYER_1))
         1E:CA36  85 EC      			sta.l	_bp
         1E:CA38  A9 61      			lda.h	#$6000 + ($1FFF & (_palette_PLAYER_1))
         1E:CA3A  85 ED      			sta.h	_bp
         1E:CA3C  A9 19      			lda	#bank(_palette_PLAYER_1)
         1E:CA3E  85 02      			sta	_bp_bank
20744                        		__st.umiq	1, _ah
         1E:CA40  A9 01      			lda.l	#1
         1E:CA42  85 F9      			sta	_ah
20745                        		__call		_load_palette.3
         1E:CA44  20 8B FF   			call	_load_palette.3
20746                        	
20747                        		.dbg	line,	"include\init.c", 1033; }
20748    1E:CA47             	.LL998:
20749    1E:CA47             	.LL996:
20750    1E:CA47             	.LL994:
20751                        	
20752                        		.dbg	line,	"include\init.c", 1036; load_palette( 17, palette_objects_1,   1 );
20753                        		__st.umiq	17, _al
         1E:CA47  A9 11      			lda.l	#17
         1E:CA49  85 F8      			sta	_al
20754                        		__farptr	_palette_objects_1, _bp_bank, _bp
         1E:CA4B  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_objects_1))
         1E:CA4D  85 EC      			sta.l	_bp
         1E:CA4F  A9 72      			lda.h	#$6000 + ($1FFF & (_palette_objects_1))
         1E:CA51  85 ED      			sta.h	_bp
         1E:CA53  A9 1A      			lda	#bank(_palette_objects_1)
         1E:CA55  85 02      			sta	_bp_bank
20755                        		__st.umiq	1, _ah
         1E:CA57  A9 01      			lda.l	#1
         1E:CA59  85 F9      			sta	_ah
20756                        		__call		_load_palette.3
         1E:CA5B  20 8B FF   			call	_load_palette.3
20757                        	
20758                        		.dbg	line,	"include\init.c", 1037; load_palette( 18, palette_objects_2,   1 );
20759                        		__st.umiq	18, _al
         1E:CA5E  A9 12      			lda.l	#18
         1E:CA60  85 F8      			sta	_al
20760                        		__farptr	_palette_objects_2, _bp_bank, _bp
         1E:CA62  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_objects_2))
         1E:CA64  85 EC      			sta.l	_bp
         1E:CA66  A9 74      			lda.h	#$6000 + ($1FFF & (_palette_objects_2))
         1E:CA68  85 ED      			sta.h	_bp
         1E:CA6A  A9 1A      			lda	#bank(_palette_objects_2)
         1E:CA6C  85 02      			sta	_bp_bank
20761                        		__st.umiq	1, _ah
         1E:CA6E  A9 01      			lda.l	#1
         1E:CA70  85 F9      			sta	_ah
20762                        		__call		_load_palette.3
         1E:CA72  20 8B FF   			call	_load_palette.3
20763                        	
20764                        		.dbg	line,	"include\init.c", 1038; load_palette( 19, palette_SPR_ORC,  1 );
20765                        		__st.umiq	19, _al
         1E:CA75  A9 13      			lda.l	#19
         1E:CA77  85 F8      			sta	_al
20766                        		__farptr	_palette_SPR_ORC, _bp_bank, _bp
         1E:CA79  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_SPR_ORC))
         1E:CA7B  85 EC      			sta.l	_bp
         1E:CA7D  A9 67      			lda.h	#$6000 + ($1FFF & (_palette_SPR_ORC))
         1E:CA7F  85 ED      			sta.h	_bp
         1E:CA81  A9 1D      			lda	#bank(_palette_SPR_ORC)
         1E:CA83  85 02      			sta	_bp_bank
20767                        		__st.umiq	1, _ah
         1E:CA85  A9 01      			lda.l	#1
         1E:CA87  85 F9      			sta	_ah
20768                        		__call		_load_palette.3
         1E:CA89  20 8B FF   			call	_load_palette.3
20769                        	
20770                        		.dbg	line,	"include\init.c", 1039; load_palette( 20, palette_SPR_PLANT,   1 );
20771                        		__st.umiq	20, _al
         1E:CA8C  A9 14      			lda.l	#20
         1E:CA8E  85 F8      			sta	_al
20772                        		__farptr	_palette_SPR_PLANT, _bp_bank, _bp
         1E:CA90  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_SPR_PLANT))
         1E:CA92  85 EC      			sta.l	_bp
         1E:CA94  A9 69      			lda.h	#$6000 + ($1FFF & (_palette_SPR_PLANT))
         1E:CA96  85 ED      			sta.h	_bp
         1E:CA98  A9 1D      			lda	#bank(_palette_SPR_PLANT)
         1E:CA9A  85 02      			sta	_bp_bank
20773                        		__st.umiq	1, _ah
         1E:CA9C  A9 01      			lda.l	#1
         1E:CA9E  85 F9      			sta	_ah
20774                        		__call		_load_palette.3
         1E:CAA0  20 8B FF   			call	_load_palette.3
20775                        	
20776                        		.dbg	line,	"include\init.c", 1044; // VSYNC //
20777                        	
20778                        		.dbg	line,	"include\init.c", 1045; vsync();
20779                        		__call		_vsync
         1E:CAA3  20 1D E3   			call	_vsync
20780                        	
20781                        		.dbg	line,	"include\init.c", 1047; // ENABLE DISPLAY //
20782                        	
20783                        		.dbg	line,	"include\init.c", 1048; disp_on();
20784                        		__call		_disp_on
         1E:CAA6  20 2A E4   			call	_disp_on
20785                        	
20786                        		.dbg	line,	"include\init.c", 1049; }
20787                        	
20788                        		.dbg	line,	"include\init.c", 1050; }
20789    1E:CAA9             	.LL968:
20790    1E:CAA9             	.LL967:
20791                        		__return	0
         1E:CAA9  4C EF FF   			jmp	leave_proc
20792                        		.dbg	clear
20793                        		.endp
20794               2310     		.bss
20795    F8:2310             			ds	1
20796    F8:2311             	__init_LEVEL_end:
20797               E31D     		.code
20798                        		.pceas
20799                        	
20800                        		.dbg	line,	"include\init.c", 1053; void init_SHOP()
20801                        		.dbg	line,	"include\init.c", 1054; {
20802                        	;***********************
20803                        	;***********************
20804                        	
20805                        		.hucc
20806    02:DBA4             		.proc		_init_SHOP
20807                        		__enter		_init_SHOP
20808                        	
20809                        		.dbg	line,	"include\init.c", 1055; char i;
20810                        	
20811                        		.dbg	line,	"include\init.c", 1056; char item_id;
20812                        	
20813                        		.dbg	line,	"include\init.c", 1059; // DISABLE DISPLAY //
20814                        	
20815                        		.dbg	line,	"include\init.c", 1060; disp_off();
20816                        		__call		_disp_off
         02:DBA4  20 3D E4   			call	_disp_off
20817                        	
20818                        		.dbg	line,	"include\init.c", 1061; 
20819                        	
20820                        		.dbg	line,	"include\init.c", 1063; // VSYNC //
20821                        	
20822                        		.dbg	line,	"include\init.c", 1064; vsync();
20823                        		__call		_vsync
         02:DBA7  20 1D E3   			call	_vsync
20824                        	
20825                        		.dbg	line,	"include\init.c", 1067; // HIDE ALL LEVEL SPRITES //
20826                        	
20827                        		.dbg	line,	"include\init.c", 1068; hide_LEVEL_SPRITES();
20828                        		__call		_hide_LEVEL_SPRITES
         02:DBAA  20 41 FE   			call	_hide_LEVEL_SPRITES
20829                        	
20830                        		.dbg	line,	"include\init.c", 1071; // SET VDC 1 SCREEN SIZE (IN TILES) - 32x32 = 256 PIXELS
20831                        	
20832                        		.dbg	line,	"include\init.c", 1072; set_screen_size(SCR_SIZE_64x32);
20833                        		__st.umiq	1, _al
         02:DBAD  A9 01      			lda.l	#1
         02:DBAF  85 F8      			sta	_al
20834                        		__call		_set_screen_size.1
         02:DBB1  20 EB FE   			call	_set_screen_size.1
20835                        	
20836                        		.dbg	line,	"include\init.c", 1075; // SET VDC 2 SCREEN SIZE (IN TILES) - 32x32 = 256 PIXELS
20837                        	
20838                        		.dbg	line,	"include\init.c", 1076; sgx_set_screen_size(SCR_SIZE_32x32);
20839                        		__st.umiq	0, _al
         02:DBB4  64 F8      			stz	_al
20840                        		__call		_sgx_set_screen_size.1
         02:DBB6  20 E1 FE   			call	_sgx_set_screen_size.1
20841                        	
20842                        		.dbg	line,	"include\init.c", 1081; //**************************************************************************************//
20843                        	
20844                        		.dbg	line,	"include\init.c", 1082; //                                                                                      //
20845                        	
20846                        		.dbg	line,	"include\init.c", 1083; //                                      VARIABLES                                       //
20847                        	
20848                        		.dbg	line,	"include\init.c", 1084; //                                                                                      //
20849                        	
20850                        		.dbg	line,	"include\init.c", 1085; //**************************************************************************************//
20851                        	
20852                        		.dbg	line,	"include\init.c", 1087; index_x = 0;
20853                        		__st.umiq	0, _index_x
         02:DBB9  9C EF 23   			stz	_index_x
20854                        	
20855                        		.dbg	line,	"include\init.c", 1088; index_y = 0;
20856                        		__st.umiq	0, _index_y
         02:DBBC  9C F0 23   			stz	_index_y
20857                        	
20858                        		.dbg	line,	"include\init.c", 1089; item_index = 0;
20859                        		__st.umiq	0, _item_index
         02:DBBF  9C F1 23   			stz	_item_index
20860                        	
20861                        		.dbg	line,	"include\init.c", 1091; minutes = 0;
20862                        		__st.umiq	0, _minutes
         02:DBC2  9C 31 23   			stz	_minutes
20863                        	
20864                        		.dbg	line,	"include\init.c", 1092; seconds = 30;
20865                        		__st.umiq	30, _seconds
         02:DBC5  A9 1E      			lda.l	#30
         02:DBC7  8D 32 23   			sta	_seconds
20866                        	
20867                        		.dbg	line,	"include\init.c", 1094; shop_counter = 0;
20868                        		__st.umiq	0, _shop_counter
         02:DBCA  9C F3 23   			stz	_shop_counter
20869                        	
20870                        		.dbg	line,	"include\init.c", 1095; shop_phase = SHOP_PHASE_ENTER;
20871                        		__st.umiq	0, _shop_phase
         02:DBCD  9C F2 23   			stz	_shop_phase
20872                        	
20873                        		.dbg	line,	"include\init.c", 1097; if(level_id == 1)
20874                        		__ld.umq	_level_id
         02:DBD0  AD 15 23   			lda	_level_id
20875                        		__equ_b.uiq	1
         02:DBD3  C9 01      			cmp	#1
         02:DBD5  F0 01      			beq	!+
         02:DBD7  18         			clc
         02:DBD8             	!:
20876                        		__bfalse	.LL1000
         02:DBD8  90 0A      			bcc	.LL1000
20877                        	
20878                        		.dbg	line,	"include\init.c", 1098; {
20879                        	
20880                        		.dbg	line,	"include\init.c", 1099; ptr_SHOP_ITEM_PRICES = &TABLE_SHOP_PRICES_LV1[0];
20881                        		__ld.wi		_TABLE_SHOP_PRICES_LV1
         02:DBDA  A9 B0      			lda.l	#_TABLE_SHOP_PRICES_LV1
         02:DBDC  A0 62      			ldy.h	#_TABLE_SHOP_PRICES_LV1
20882                        		__st.wmq	_ptr_SHOP_ITEM_PRICES
         02:DBDE  8D 92 26   			sta.l	_ptr_SHOP_ITEM_PRICES
         02:DBE1  8C 93 26   			sty.h	_ptr_SHOP_ITEM_PRICES
20883                        	
20884                        		.dbg	line,	"include\init.c", 1100; }
20885                        	
20886                        		.dbg	line,	"include\init.c", 1101; 
20887                        	
20888                        		.dbg	line,	"include\init.c", 1106; //**************************************************************************************//
20889                        	
20890                        		.dbg	line,	"include\init.c", 1107; //                                                                                      //
20891                        	
20892                        		.dbg	line,	"include\init.c", 1108; //                                        VDC 2                                         //
20893                        	
20894                        		.dbg	line,	"include\init.c", 1109; //                                                                                      //
20895                        	
20896                        		.dbg	line,	"include\init.c", 1110; //**************************************************************************************//
20897                        	
20898                        		.dbg	line,	"include\init.c", 1112; //--------------------------------------------------------------------------------------//
20899                        	
20900                        		.dbg	line,	"include\init.c", 1113; //                                      LOAD FONT                                       //
20901                        	
20902                        		.dbg	line,	"include\init.c", 1114; //--------------------------------------------------------------------------------------//
20903                        	
20904                        		.dbg	line,	"include\init.c", 1116; load_vram( 0x0800, tileset_FONT, SIZEOF(tileset_FONT) >> 1 );
20905    02:DBE4             	.LL1000:
20906                        		__st.wmiq	2048, _di
         02:DBE4  64 F0      			stz.l	_di
         02:DBE6  A9 08      			lda.h	#2048
         02:DBE8  85 F1      			sta.h	_di
20907                        		__farptr	_tileset_FONT, _bp_bank, _bp
         02:DBEA  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_FONT))
         02:DBEC  85 EC      			sta.l	_bp
         02:DBEE  A9 7C      			lda.h	#$6000 + ($1FFF & (_tileset_FONT))
         02:DBF0  85 ED      			sta.h	_bp
         02:DBF2  A9 06      			lda	#bank(_tileset_FONT)
         02:DBF4  85 02      			sta	_bp_bank
20908                        		__ld.wi		___sizeof__tileset_FONT
         02:DBF6  A9 00      			lda.l	#___sizeof__tileset_FONT
         02:DBF8  A0 0C      			ldy.h	#___sizeof__tileset_FONT
20909                        		__lsr.wi	1
         02:DBFA  42         			say
         02:DBFB  4A         			lsr	a
         02:DBFC  42         			say
         02:DBFD  6A         			ror	a
20910                        		__st.wmq	_ax
         02:DBFE  85 F8      			sta.l	_ax
         02:DC00  84 F9      			sty.h	_ax
20911                        		 _load_vram.3
         02:DC02  82         			clx				; Offset to PCE VDC.
         02:DC03  20 FF FE   			call	load_vram_x
20912                        	
20913                        		.dbg	line,	"include\init.c", 1118; set_font_pal(15);
20914                        		__ld.uiq	15
         02:DC06  A9 0F      			lda	#15
20915                        		__call		_set_font_pal.1
         02:DC08  20 00 E6   			call	_set_font_pal.1
20916                        	
20917                        		.dbg	line,	"include\init.c", 1121; //--------------------------------------------------------------------------------------//
20918                        	
20919                        		.dbg	line,	"include\init.c", 1122; //                                    LOAD TILESET                                      //
20920                        	
20921                        		.dbg	line,	"include\init.c", 1123; //--------------------------------------------------------------------------------------//
20922                        	
20923                        		.dbg	line,	"include\init.c", 1125; sgx_load_vram( 0x1000, tileset_SHOP_BG_B, SIZEOF(tileset_SHOP_BG_B) >> 1 );
20924                        		__st.wmiq	4096, _di
         02:DC0B  64 F0      			stz.l	_di
         02:DC0D  A9 10      			lda.h	#4096
         02:DC0F  85 F1      			sta.h	_di
20925                        		__farptr	_tileset_SHOP_BG_B, _bp_bank, _bp
         02:DC11  A9 A0      			lda.l	#$6000 + ($1FFF & (_tileset_SHOP_BG_B))
         02:DC13  85 EC      			sta.l	_bp
         02:DC15  A9 7A      			lda.h	#$6000 + ($1FFF & (_tileset_SHOP_BG_B))
         02:DC17  85 ED      			sta.h	_bp
         02:DC19  A9 0F      			lda	#bank(_tileset_SHOP_BG_B)
         02:DC1B  85 02      			sta	_bp_bank
20926                        		__ld.wi		___sizeof__tileset_SHOP_BG_B
         02:DC1D  A9 60      			lda.l	#___sizeof__tileset_SHOP_BG_B
         02:DC1F  A0 39      			ldy.h	#___sizeof__tileset_SHOP_BG_B
20927                        		__lsr.wi	1
         02:DC21  42         			say
         02:DC22  4A         			lsr	a
         02:DC23  42         			say
         02:DC24  6A         			ror	a
20928                        		__st.wmq	_ax
         02:DC25  85 F8      			sta.l	_ax
         02:DC27  84 F9      			sty.h	_ax
20929                        		 _sgx_load_vram.3
         02:DC29  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         02:DC2B  20 FF FE   			call	load_vram_x
20930                        	
20931                        		.dbg	line,	"include\init.c", 1128; //--------------------------------------------------------------------------------------//
20932                        	
20933                        		.dbg	line,	"include\init.c", 1129; //                                      LOAD ITEMS                                      //
20934                        	
20935                        		.dbg	line,	"include\init.c", 1130; //--------------------------------------------------------------------------------------//
20936                        	
20937                        		.dbg	line,	"include\init.c", 1132; for(i=0 ; i<10 ; i++)
20938                        		__st.umiq	0, __init_SHOP_end - 1  /* i */
         02:DC2E  9C 12 23   			stz	__init_SHOP_end - 1
20939    02:DC31             	.LL1001:
20940                        		__ld.umq	__init_SHOP_end - 1  /* i */
         02:DC31  AD 12 23   			lda	__init_SHOP_end - 1
20941                        		__ult_b.uiq	10
         02:DC34  C9 0A      			cmp	#10		; Subtract integer from A.
         02:DC36  6A         			ror	a		; CC if A < integer.
         02:DC37  49 80      			eor	#$80
         02:DC39  2A         			rol	a
20942                        		__btrue		.LL1003
         02:DC3A  B0 07      			bcs	.LL1003
20943                        		__bra		.LL1004
         02:DC3C  80 42      			bra	.LL1004
20944    02:DC3E             	.LL1002:
20945                        		__inc.umq	__init_SHOP_end - 1  /* i */
         02:DC3E  EE 12 23   			inc	__init_SHOP_end - 1
20946                        		__bra		.LL1001
         02:DC41  80 EE      			bra	.LL1001
20947    02:DC43             	.LL1003:
20948                        	
20949                        		.dbg	line,	"include\init.c", 1133; {
20950                        	
20951                        		.dbg	line,	"include\init.c", 1134; set_far_base(TABLE_SHOP_ITEMS_TILES_BANK[i],TABLE_SHOP_ITEMS_TILES_ADR[i]);
20952                        		__ldx.umq	__init_SHOP_end - 1  /* i */
         02:DC43  AE 12 23   			ldx	__init_SHOP_end - 1
20953                        		__ld.uax	_TABLE_SHOP_ITEMS_TILES_BANK
         02:DC46  BD D8 62   			lda	_TABLE_SHOP_ITEMS_TILES_BANK, x
         02:DC49  C2         			cly
20954                        		__st.umq	_bp_bank
         02:DC4A  85 02      			sta	_bp_bank
20955                        		__ld2x.umq	__init_SHOP_end - 1  /* i */
         02:DC4C  AD 12 23   			lda	__init_SHOP_end - 1
         02:DC4F  0A         			asl	a
         02:DC50  AA         			tax
20956                        		__ld.wax	_TABLE_SHOP_ITEMS_TILES_ADR
         02:DC51  BD C4 62   			lda.l	_TABLE_SHOP_ITEMS_TILES_ADR, x
         02:DC54  BC C5 62   			ldy.h	_TABLE_SHOP_ITEMS_TILES_ADR, x
20957                        		__st.wmq	_bp
         02:DC57  85 EC      			sta.l	_bp
         02:DC59  84 ED      			sty.h	_bp
20958                        	
20959                        		.dbg	line,	"include\init.c", 1135; sgx_far_load_vram( 0x1000 + (i * TILES_4), TILES_4 );
20960                        		__ld.um		__init_SHOP_end - 1  /* i */
         02:DC5B  AD 12 23   			lda	__init_SHOP_end - 1
         02:DC5E  C2         			cly
20961                        		__asl.wi	6
         02:DC5F  85 00      			sta	__temp
         02:DC61  98         			tya
         02:DC62  4A         			lsr	a
         02:DC63  20 CB E1   			jsr	aslw6
         02:DC66  29 C0      			and.l	#$FF << 6
20962                        		__add.wi	4096
         02:DC68  18         			clc
         02:DC69  69 00      			adc.l	#4096
         02:DC6B  42         			say
         02:DC6C  69 10      			adc.h	#4096
         02:DC6E  42         			say
20963                        		__st.wmq	_di
         02:DC6F  85 F0      			sta.l	_di
         02:DC71  84 F1      			sty.h	_di
20964                        		__st.wmiq	64, _ax
         02:DC73  A9 40      			lda.l	#64
         02:DC75  85 F8      			sta.l	_ax
         02:DC77  64 F9      			stz.h	_ax
20965                        		 _sgx_far_load_vram.2
         02:DC79  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         02:DC7B  20 FF FE   			call	load_vram_x
20966                        	
20967                        		.dbg	line,	"include\init.c", 1136; }
20968                        		__bra		.LL1002
         02:DC7E  80 BE      			bra	.LL1002
20969    02:DC80             	.LL1004:
20970                        	
20971                        		.dbg	line,	"include\init.c", 1139; //--------------------------------------------------------------------------------------//
20972                        	
20973                        		.dbg	line,	"include\init.c", 1140; //                                      SET BLOCKS                                      //
20974                        	
20975                        		.dbg	line,	"include\init.c", 1141; //--------------------------------------------------------------------------------------//
20976                        	
20977                        		.dbg	line,	"include\init.c", 1143; sgx_set_blocks( blocks_SHOP_BG_B , tilemap_mask , 256 );
20978                        		__farptr	_blocks_SHOP_BG_B, sgx_blk_bank, sgx_blk_addr
         02:DC80  A9 00      			lda.l	#$6000 + ($1FFF & (_blocks_SHOP_BG_B))
         02:DC82  8D 10 2C   			sta.l	sgx_blk_addr
         02:DC85  A9 78      			lda.h	#$6000 + ($1FFF & (_blocks_SHOP_BG_B))
         02:DC87  8D 11 2C   			sta.h	sgx_blk_addr
         02:DC8A  A9 11      			lda	#bank(_blocks_SHOP_BG_B)
         02:DC8C  8D 12 2C   			sta	sgx_blk_bank
20979                        		__farptr	_tilemap_mask, sgx_tbl_bank, sgx_tbl_addr
         02:DC8F  A9 F5      			lda.l	#$6000 + ($1FFF & (_tilemap_mask))
         02:DC91  8D 0D 2C   			sta.l	sgx_tbl_addr
         02:DC94  A9 63      			lda.h	#$6000 + ($1FFF & (_tilemap_mask))
         02:DC96  8D 0E 2C   			sta.h	sgx_tbl_addr
         02:DC99  A9 F8      			lda	#bank(_tilemap_mask)
         02:DC9B  8D 0F 2C   			sta	sgx_tbl_bank
20980                        		__st.umiq	256, _al
         02:DC9E  A9 00      			lda.l	#256
         02:DCA0  85 F8      			sta	_al
20981                        		__call		_sgx_set_blocks.3
         02:DCA2  20 37 FE   			call	_sgx_set_blocks.3
20982                        	
20983                        		.dbg	line,	"include\init.c", 1147; //--------------------------------------------------------------------------------------//
20984                        	
20985                        		.dbg	line,	"include\init.c", 1148; //                                       SET MAP                                        //
20986                        	
20987                        		.dbg	line,	"include\init.c", 1149; //--------------------------------------------------------------------------------------//
20988                        	
20989                        		.dbg	line,	"include\init.c", 1151; sgx_set_blkmap( map_SHOP_BG_B, COUNTOF(map_SHOP_BG_B) );
20990                        		__farptr	_map_SHOP_BG_B, sgx_map_bank, sgx_map_addr
         02:DCA5  A9 00      			lda.l	#$6000 + ($1FFF & (_map_SHOP_BG_B))
         02:DCA7  8D 13 2C   			sta.l	sgx_map_addr
         02:DCAA  A9 60      			lda.h	#$6000 + ($1FFF & (_map_SHOP_BG_B))
         02:DCAC  8D 14 2C   			sta.h	sgx_map_addr
         02:DCAF  A9 12      			lda	#bank(_map_SHOP_BG_B)
         02:DCB1  8D 15 2C   			sta	sgx_map_bank
20991                        		__ld.wi		___countof__map_SHOP_BG_B
         02:DCB4  A9 10      			lda.l	#___countof__map_SHOP_BG_B
         02:DCB6  A0 00      			ldy.h	#___countof__map_SHOP_BG_B
20992                        		__st.umq	sgx_map_line_w
         02:DCB8  8D D6 26   			sta	sgx_map_line_w
20993                        		 _sgx_set_blkmap.2
         02:DCBB  9C 18 2C   			stz	sgx_scr_bank
20994                        	
20995                        		.dbg	line,	"include\init.c", 1154; //--------------------------------------------------------------------------------------//
20996                        	
20997                        		.dbg	line,	"include\init.c", 1155; //                                    DRAW TILEMAP                                      //
20998                        	
20999                        		.dbg	line,	"include\init.c", 1156; //--------------------------------------------------------------------------------------//
21000                        	
21001                        		.dbg	line,	"include\init.c", 1158; // The blkmap is drawn using global variables for the top-left coordinate
21002                        	
21003                        		.dbg	line,	"include\init.c", 1159; // in pixels, and the draw width and height in terms of 8x8 characters.
21004                        	
21005                        		.dbg	line,	"include\init.c", 1161; sgx_map_pxl_x = 0;
21006                        		__st.wmiq	0, _sgx_map_pxl_x
         02:DCBE  9C D8 26   			stz.l	_sgx_map_pxl_x
         02:DCC1  9C D9 26   			stz.h	_sgx_map_pxl_x
21007                        	
21008                        		.dbg	line,	"include\init.c", 1162; sgx_map_pxl_y = 0;
21009                        		__st.wmiq	0, _sgx_map_pxl_y
         02:DCC4  9C DA 26   			stz.l	_sgx_map_pxl_y
         02:DCC7  9C DB 26   			stz.h	_sgx_map_pxl_y
21010                        	
21011                        		.dbg	line,	"include\init.c", 1164; sgx_map_draw_w = 32;
21012                        		__st.umiq	32, _sgx_map_draw_w
         02:DCCA  A9 20      			lda.l	#32
         02:DCCC  8D D4 26   			sta	_sgx_map_draw_w
21013                        	
21014                        		.dbg	line,	"include\init.c", 1165; sgx_map_draw_h = 28;
21015                        		__st.umiq	28, _sgx_map_draw_h
         02:DCCF  A9 1C      			lda.l	#28
         02:DCD1  8D D5 26   			sta	_sgx_map_draw_h
21016                        	
21017                        		.dbg	line,	"include\init.c", 1168; //**************************************************************************************//
21018                        	
21019                        		.dbg	line,	"include\init.c", 1169; //                                                                                      //
21020                        	
21021                        		.dbg	line,	"include\init.c", 1170; //                                  SETUP SCROLL_SPLIT                                  //
21022                        	
21023                        		.dbg	line,	"include\init.c", 1171; //                                                                                      //
21024                        	
21025                        		.dbg	line,	"include\init.c", 1172; //**************************************************************************************//
21026                        	
21027                        		.dbg	line,	"include\init.c", 1174; sgx_draw_map();
21028                        		__call		_sgx_draw_map
         02:DCD4  20 A5 FE   			call	_sgx_draw_map
21029                        	
21030                        		.dbg	line,	"include\init.c", 1176; sgx_scroll_split(0,   0, sgx_map_pxl_x & (BAT_SIZE_W - 1), sgx_map_pxl_y & (BAT_SIZE_H - 1), BKG_ON | SPR_ON);
21031                        		__st.umiq	0, _al
         02:DCD7  64 F8      			stz	_al
21032                        		__st.umiq	0, _ah
         02:DCD9  64 F9      			stz	_ah
21033                        		__ld.wm		_sgx_map_pxl_x
         02:DCDB  AD D8 26   			lda.l	_sgx_map_pxl_x
         02:DCDE  AC D9 26   			ldy.h	_sgx_map_pxl_x
21034                        		__and.wi	2047
         02:DCE1  29 FF      			and.l	#2047
         02:DCE3  42         			say
         02:DCE4  29 07      			and.h	#2047
         02:DCE6  42         			say
21035                        		__st.wmq	_bx
         02:DCE7  85 FA      			sta.l	_bx
         02:DCE9  84 FB      			sty.h	_bx
21036                        		__ld.wm		_sgx_map_pxl_y
         02:DCEB  AD DA 26   			lda.l	_sgx_map_pxl_y
         02:DCEE  AC DB 26   			ldy.h	_sgx_map_pxl_y
21037                        		__and.wi	255
         02:DCF1  29 FF      			and	#255
         02:DCF3  C2         			cly
21038                        		__st.wmq	_cx
         02:DCF4  85 FC      			sta.l	_cx
         02:DCF6  84 FD      			sty.h	_cx
21039                        		__st.umiq	192, _dl
         02:DCF8  A9 C0      			lda.l	#192
         02:DCFA  85 FE      			sta	_dl
21040                        		__call		_sgx_scroll_split.5
         02:DCFC  20 59 FF   			call	_sgx_scroll_split.5
21041                        	
21042                        		.dbg	line,	"include\init.c", 1181; //**************************************************************************************//
21043                        	
21044                        		.dbg	line,	"include\init.c", 1182; //                                                                                      //
21045                        	
21046                        		.dbg	line,	"include\init.c", 1183; //                                         HUD                                          //
21047                        	
21048                        		.dbg	line,	"include\init.c", 1184; //                                                                                      //
21049                        	
21050                        		.dbg	line,	"include\init.c", 1185; //**************************************************************************************//
21051                        	
21052                        		.dbg	line,	"include\init.c", 1187; init_HUD();
21053                        		__call		_init_HUD
         02:DCFF  20 9B FE   			call	_init_HUD
21054                        	
21055                        		.dbg	line,	"include\init.c", 1190; //--------------------------------------------------------------------------------------//
21056                        	
21057                        		.dbg	line,	"include\init.c", 1191; //                                     DRAW PRICES                                      //
21058                        	
21059                        		.dbg	line,	"include\init.c", 1192; //--------------------------------------------------------------------------------------//
21060                        	
21061                        		.dbg	line,	"include\init.c", 1194; shop_prices[0] = *(ptr_SHOP_ITEM_PRICES);
21062                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         02:DD02  AD 92 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         02:DD05  AC 93 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
21063                        		__st.wm		__ptr
         02:DD08  85 88      			sta.l	__ptr
         02:DD0A  84 89      			sty.h	__ptr
21064                        		__ld.wp		__ptr
         02:DD0C  A0 01      			ldy	#1
         02:DD0E  B1 88      			lda	[__ptr], y
         02:DD10  A8         			tay
         02:DD11  B2 88      			lda	[__ptr]
21065                        		__st.wmq	_shop_prices
         02:DD13  8D 59 26   			sta.l	_shop_prices
         02:DD16  8C 5A 26   			sty.h	_shop_prices
21066                        	
21067                        		.dbg	line,	"include\init.c", 1195; shop_prices[1] = *(ptr_SHOP_ITEM_PRICES+1);
21068                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         02:DD19  AD 92 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         02:DD1C  AC 93 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
21069                        		__add.wi	2
         02:DD1F  18         			clc
         02:DD20  69 02      			adc.l	#2
         02:DD22  90 01      			bcc	!+
         02:DD24  C8         			iny
         02:DD25             	!:
21070                        		__st.wm		__ptr
         02:DD25  85 88      			sta.l	__ptr
         02:DD27  84 89      			sty.h	__ptr
21071                        		__ld.wp		__ptr
         02:DD29  A0 01      			ldy	#1
         02:DD2B  B1 88      			lda	[__ptr], y
         02:DD2D  A8         			tay
         02:DD2E  B2 88      			lda	[__ptr]
21072                        		__st.wmq	_shop_prices + 2
         02:DD30  8D 5B 26   			sta.l	_shop_prices + 2
         02:DD33  8C 5C 26   			sty.h	_shop_prices + 2
21073                        	
21074                        		.dbg	line,	"include\init.c", 1196; shop_prices[2] = *(ptr_SHOP_ITEM_PRICES+2);
21075                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         02:DD36  AD 92 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         02:DD39  AC 93 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
21076                        		__add.wi	4
         02:DD3C  18         			clc
         02:DD3D  69 04      			adc.l	#4
         02:DD3F  90 01      			bcc	!+
         02:DD41  C8         			iny
         02:DD42             	!:
21077                        		__st.wm		__ptr
         02:DD42  85 88      			sta.l	__ptr
         02:DD44  84 89      			sty.h	__ptr
21078                        		__ld.wp		__ptr
         02:DD46  A0 01      			ldy	#1
         02:DD48  B1 88      			lda	[__ptr], y
         02:DD4A  A8         			tay
         02:DD4B  B2 88      			lda	[__ptr]
21079                        		__st.wmq	_shop_prices + 4
         02:DD4D  8D 5D 26   			sta.l	_shop_prices + 4
         02:DD50  8C 5E 26   			sty.h	_shop_prices + 4
21080                        	
21081                        		.dbg	line,	"include\init.c", 1197; shop_prices[3] = *(ptr_SHOP_ITEM_PRICES+3);
21082                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         02:DD53  AD 92 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         02:DD56  AC 93 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
21083                        		__add.wi	6
         02:DD59  18         			clc
         02:DD5A  69 06      			adc.l	#6
         02:DD5C  90 01      			bcc	!+
         02:DD5E  C8         			iny
         02:DD5F             	!:
21084                        		__st.wm		__ptr
         02:DD5F  85 88      			sta.l	__ptr
         02:DD61  84 89      			sty.h	__ptr
21085                        		__ld.wp		__ptr
         02:DD63  A0 01      			ldy	#1
         02:DD65  B1 88      			lda	[__ptr], y
         02:DD67  A8         			tay
         02:DD68  B2 88      			lda	[__ptr]
21086                        		__st.wmq	_shop_prices + 6
         02:DD6A  8D 5F 26   			sta.l	_shop_prices + 6
         02:DD6D  8C 60 26   			sty.h	_shop_prices + 6
21087                        	
21088                        		.dbg	line,	"include\init.c", 1198; shop_prices[4] = *(ptr_SHOP_ITEM_PRICES+4);
21089                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         02:DD70  AD 92 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         02:DD73  AC 93 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
21090                        		__add.wi	8
         02:DD76  18         			clc
         02:DD77  69 08      			adc.l	#8
         02:DD79  90 01      			bcc	!+
         02:DD7B  C8         			iny
         02:DD7C             	!:
21091                        		__st.wm		__ptr
         02:DD7C  85 88      			sta.l	__ptr
         02:DD7E  84 89      			sty.h	__ptr
21092                        		__ld.wp		__ptr
         02:DD80  A0 01      			ldy	#1
         02:DD82  B1 88      			lda	[__ptr], y
         02:DD84  A8         			tay
         02:DD85  B2 88      			lda	[__ptr]
21093                        		__st.wmq	_shop_prices + 8
         02:DD87  8D 61 26   			sta.l	_shop_prices + 8
         02:DD8A  8C 62 26   			sty.h	_shop_prices + 8
21094                        	
21095                        		.dbg	line,	"include\init.c", 1199; 
21096                        	
21097                        		.dbg	line,	"include\init.c", 1200; shop_prices[5] = *(ptr_SHOP_ITEM_PRICES+5);
21098                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         02:DD8D  AD 92 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         02:DD90  AC 93 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
21099                        		__add.wi	10
         02:DD93  18         			clc
         02:DD94  69 0A      			adc.l	#10
         02:DD96  90 01      			bcc	!+
         02:DD98  C8         			iny
         02:DD99             	!:
21100                        		__st.wm		__ptr
         02:DD99  85 88      			sta.l	__ptr
         02:DD9B  84 89      			sty.h	__ptr
21101                        		__ld.wp		__ptr
         02:DD9D  A0 01      			ldy	#1
         02:DD9F  B1 88      			lda	[__ptr], y
         02:DDA1  A8         			tay
         02:DDA2  B2 88      			lda	[__ptr]
21102                        		__st.wmq	_shop_prices + 10
         02:DDA4  8D 63 26   			sta.l	_shop_prices + 10
         02:DDA7  8C 64 26   			sty.h	_shop_prices + 10
21103                        	
21104                        		.dbg	line,	"include\init.c", 1201; shop_prices[6] = *(ptr_SHOP_ITEM_PRICES+6);
21105                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         02:DDAA  AD 92 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         02:DDAD  AC 93 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
21106                        		__add.wi	12
         02:DDB0  18         			clc
         02:DDB1  69 0C      			adc.l	#12
         02:DDB3  90 01      			bcc	!+
         02:DDB5  C8         			iny
         02:DDB6             	!:
21107                        		__st.wm		__ptr
         02:DDB6  85 88      			sta.l	__ptr
         02:DDB8  84 89      			sty.h	__ptr
21108                        		__ld.wp		__ptr
         02:DDBA  A0 01      			ldy	#1
         02:DDBC  B1 88      			lda	[__ptr], y
         02:DDBE  A8         			tay
         02:DDBF  B2 88      			lda	[__ptr]
21109                        		__st.wmq	_shop_prices + 12
         02:DDC1  8D 65 26   			sta.l	_shop_prices + 12
         02:DDC4  8C 66 26   			sty.h	_shop_prices + 12
21110                        	
21111                        		.dbg	line,	"include\init.c", 1202; shop_prices[7] = *(ptr_SHOP_ITEM_PRICES+7);
21112                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         02:DDC7  AD 92 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         02:DDCA  AC 93 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
21113                        		__add.wi	14
         02:DDCD  18         			clc
         02:DDCE  69 0E      			adc.l	#14
         02:DDD0  90 01      			bcc	!+
         02:DDD2  C8         			iny
         02:DDD3             	!:
21114                        		__st.wm		__ptr
         02:DDD3  85 88      			sta.l	__ptr
         02:DDD5  84 89      			sty.h	__ptr
21115                        		__ld.wp		__ptr
         02:DDD7  A0 01      			ldy	#1
         02:DDD9  B1 88      			lda	[__ptr], y
         02:DDDB  A8         			tay
         02:DDDC  B2 88      			lda	[__ptr]
21116                        		__st.wmq	_shop_prices + 14
         02:DDDE  8D 67 26   			sta.l	_shop_prices + 14
         02:DDE1  8C 68 26   			sty.h	_shop_prices + 14
21117                        	
21118                        		.dbg	line,	"include\init.c", 1203; shop_prices[8] = *(ptr_SHOP_ITEM_PRICES+8);
21119                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         02:DDE4  AD 92 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         02:DDE7  AC 93 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
21120                        		__add.wi	16
         02:DDEA  18         			clc
         02:DDEB  69 10      			adc.l	#16
         02:DDED  90 01      			bcc	!+
         02:DDEF  C8         			iny
         02:DDF0             	!:
21121                        		__st.wm		__ptr
         02:DDF0  85 88      			sta.l	__ptr
         02:DDF2  84 89      			sty.h	__ptr
21122                        		__ld.wp		__ptr
         02:DDF4  A0 01      			ldy	#1
         02:DDF6  B1 88      			lda	[__ptr], y
         02:DDF8  A8         			tay
         02:DDF9  B2 88      			lda	[__ptr]
21123                        		__st.wmq	_shop_prices + 16
         02:DDFB  8D 69 26   			sta.l	_shop_prices + 16
         02:DDFE  8C 6A 26   			sty.h	_shop_prices + 16
21124                        	
21125                        		.dbg	line,	"include\init.c", 1204; shop_prices[9] = *(ptr_SHOP_ITEM_PRICES+9);
21126                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         02:DE01  AD 92 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         02:DE04  AC 93 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
21127                        		__add.wi	18
         02:DE07  18         			clc
         02:DE08  69 12      			adc.l	#18
         02:DE0A  90 01      			bcc	!+
         02:DE0C  C8         			iny
         02:DE0D             	!:
21128                        		__st.wm		__ptr
         02:DE0D  85 88      			sta.l	__ptr
         02:DE0F  84 89      			sty.h	__ptr
21129                        		__ld.wp		__ptr
         02:DE11  A0 01      			ldy	#1
         02:DE13  B1 88      			lda	[__ptr], y
         02:DE15  A8         			tay
         02:DE16  B2 88      			lda	[__ptr]
21130                        		__st.wmq	_shop_prices + 18
         02:DE18  8D 6B 26   			sta.l	_shop_prices + 18
         02:DE1B  8C 6C 26   			sty.h	_shop_prices + 18
21131                        	
21132                        		.dbg	line,	"include\init.c", 1207; put_number(shop_prices[0],4,2,20);
21133                        		__ld.wm		_shop_prices
         02:DE1E  AD 59 26   			lda.l	_shop_prices
         02:DE21  AC 5A 26   			ldy.h	_shop_prices
21134                        		__st.wmq	_bx
         02:DE24  85 FA      			sta.l	_bx
         02:DE26  84 FB      			sty.h	_bx
21135                        		__st.umiq	4, _cl
         02:DE28  A9 04      			lda.l	#4
         02:DE2A  85 FC      			sta	_cl
21136                        		__st.umiq	2, _dil
         02:DE2C  A9 02      			lda.l	#2
         02:DE2E  85 F0      			sta	_dil
21137                        		__st.umiq	20, _dih
         02:DE30  A9 14      			lda.l	#20
         02:DE32  85 F1      			sta	_dih
21138                        		__call		_put_number.4
         02:DE34  20 6D FF   			call	_put_number.4
21139                        	
21140                        		.dbg	line,	"include\init.c", 1208; put_number(shop_prices[1],4,7,20);
21141                        		__ld.wm		_shop_prices + 2
         02:DE37  AD 5B 26   			lda.l	_shop_prices + 2
         02:DE3A  AC 5C 26   			ldy.h	_shop_prices + 2
21142                        		__st.wmq	_bx
         02:DE3D  85 FA      			sta.l	_bx
         02:DE3F  84 FB      			sty.h	_bx
21143                        		__st.umiq	4, _cl
         02:DE41  A9 04      			lda.l	#4
         02:DE43  85 FC      			sta	_cl
21144                        		__st.umiq	7, _dil
         02:DE45  A9 07      			lda.l	#7
         02:DE47  85 F0      			sta	_dil
21145                        		__st.umiq	20, _dih
         02:DE49  A9 14      			lda.l	#20
         02:DE4B  85 F1      			sta	_dih
21146                        		__call		_put_number.4
         02:DE4D  20 6D FF   			call	_put_number.4
21147                        	
21148                        		.dbg	line,	"include\init.c", 1209; put_number(shop_prices[2],4,12,20);
21149                        		__ld.wm		_shop_prices + 4
         02:DE50  AD 5D 26   			lda.l	_shop_prices + 4
         02:DE53  AC 5E 26   			ldy.h	_shop_prices + 4
21150                        		__st.wmq	_bx
         02:DE56  85 FA      			sta.l	_bx
         02:DE58  84 FB      			sty.h	_bx
21151                        		__st.umiq	4, _cl
         02:DE5A  A9 04      			lda.l	#4
         02:DE5C  85 FC      			sta	_cl
21152                        		__st.umiq	12, _dil
         02:DE5E  A9 0C      			lda.l	#12
         02:DE60  85 F0      			sta	_dil
21153                        		__st.umiq	20, _dih
         02:DE62  A9 14      			lda.l	#20
         02:DE64  85 F1      			sta	_dih
21154                        		__call		_put_number.4
         02:DE66  20 6D FF   			call	_put_number.4
21155                        	
21156                        		.dbg	line,	"include\init.c", 1210; put_number(shop_prices[3],4,17,20);
21157                        		__ld.wm		_shop_prices + 6
         02:DE69  AD 5F 26   			lda.l	_shop_prices + 6
         02:DE6C  AC 60 26   			ldy.h	_shop_prices + 6
21158                        		__st.wmq	_bx
         02:DE6F  85 FA      			sta.l	_bx
         02:DE71  84 FB      			sty.h	_bx
21159                        		__st.umiq	4, _cl
         02:DE73  A9 04      			lda.l	#4
         02:DE75  85 FC      			sta	_cl
21160                        		__st.umiq	17, _dil
         02:DE77  A9 11      			lda.l	#17
         02:DE79  85 F0      			sta	_dil
21161                        		__st.umiq	20, _dih
         02:DE7B  A9 14      			lda.l	#20
         02:DE7D  85 F1      			sta	_dih
21162                        		__call		_put_number.4
         02:DE7F  20 6D FF   			call	_put_number.4
21163                        	
21164                        		.dbg	line,	"include\init.c", 1211; put_number(shop_prices[4],4,22,20);
21165                        		__ld.wm		_shop_prices + 8
         02:DE82  AD 61 26   			lda.l	_shop_prices + 8
         02:DE85  AC 62 26   			ldy.h	_shop_prices + 8
21166                        		__st.wmq	_bx
         02:DE88  85 FA      			sta.l	_bx
         02:DE8A  84 FB      			sty.h	_bx
21167                        		__st.umiq	4, _cl
         02:DE8C  A9 04      			lda.l	#4
         02:DE8E  85 FC      			sta	_cl
21168                        		__st.umiq	22, _dil
         02:DE90  A9 16      			lda.l	#22
         02:DE92  85 F0      			sta	_dil
21169                        		__st.umiq	20, _dih
         02:DE94  A9 14      			lda.l	#20
         02:DE96  85 F1      			sta	_dih
21170                        		__call		_put_number.4
         02:DE98  20 6D FF   			call	_put_number.4
21171                        	
21172                        		.dbg	line,	"include\init.c", 1213; put_number(shop_prices[5],4,2,23);
21173                        		__ld.wm		_shop_prices + 10
         02:DE9B  AD 63 26   			lda.l	_shop_prices + 10
         02:DE9E  AC 64 26   			ldy.h	_shop_prices + 10
21174                        		__st.wmq	_bx
         02:DEA1  85 FA      			sta.l	_bx
         02:DEA3  84 FB      			sty.h	_bx
21175                        		__st.umiq	4, _cl
         02:DEA5  A9 04      			lda.l	#4
         02:DEA7  85 FC      			sta	_cl
21176                        		__st.umiq	2, _dil
         02:DEA9  A9 02      			lda.l	#2
         02:DEAB  85 F0      			sta	_dil
21177                        		__st.umiq	23, _dih
         02:DEAD  A9 17      			lda.l	#23
         02:DEAF  85 F1      			sta	_dih
21178                        		__call		_put_number.4
         02:DEB1  20 6D FF   			call	_put_number.4
21179                        	
21180                        		.dbg	line,	"include\init.c", 1214; put_number(shop_prices[6],4,7,23);
21181                        		__ld.wm		_shop_prices + 12
         02:DEB4  AD 65 26   			lda.l	_shop_prices + 12
         02:DEB7  AC 66 26   			ldy.h	_shop_prices + 12
21182                        		__st.wmq	_bx
         02:DEBA  85 FA      			sta.l	_bx
         02:DEBC  84 FB      			sty.h	_bx
21183                        		__st.umiq	4, _cl
         02:DEBE  A9 04      			lda.l	#4
         02:DEC0  85 FC      			sta	_cl
21184                        		__st.umiq	7, _dil
         02:DEC2  A9 07      			lda.l	#7
         02:DEC4  85 F0      			sta	_dil
21185                        		__st.umiq	23, _dih
         02:DEC6  A9 17      			lda.l	#23
         02:DEC8  85 F1      			sta	_dih
21186                        		__call		_put_number.4
         02:DECA  20 6D FF   			call	_put_number.4
21187                        	
21188                        		.dbg	line,	"include\init.c", 1215; put_number(shop_prices[7],4,12,23);
21189                        		__ld.wm		_shop_prices + 14
         02:DECD  AD 67 26   			lda.l	_shop_prices + 14
         02:DED0  AC 68 26   			ldy.h	_shop_prices + 14
21190                        		__st.wmq	_bx
         02:DED3  85 FA      			sta.l	_bx
         02:DED5  84 FB      			sty.h	_bx
21191                        		__st.umiq	4, _cl
         02:DED7  A9 04      			lda.l	#4
         02:DED9  85 FC      			sta	_cl
21192                        		__st.umiq	12, _dil
         02:DEDB  A9 0C      			lda.l	#12
         02:DEDD  85 F0      			sta	_dil
21193                        		__st.umiq	23, _dih
         02:DEDF  A9 17      			lda.l	#23
         02:DEE1  85 F1      			sta	_dih
21194                        		__call		_put_number.4
         02:DEE3  20 6D FF   			call	_put_number.4
21195                        	
21196                        		.dbg	line,	"include\init.c", 1216; put_number(shop_prices[8],4,17,23);
21197                        		__ld.wm		_shop_prices + 16
         02:DEE6  AD 69 26   			lda.l	_shop_prices + 16
         02:DEE9  AC 6A 26   			ldy.h	_shop_prices + 16
21198                        		__st.wmq	_bx
         02:DEEC  85 FA      			sta.l	_bx
         02:DEEE  84 FB      			sty.h	_bx
21199                        		__st.umiq	4, _cl
         02:DEF0  A9 04      			lda.l	#4
         02:DEF2  85 FC      			sta	_cl
21200                        		__st.umiq	17, _dil
         02:DEF4  A9 11      			lda.l	#17
         02:DEF6  85 F0      			sta	_dil
21201                        		__st.umiq	23, _dih
         02:DEF8  A9 17      			lda.l	#23
         02:DEFA  85 F1      			sta	_dih
21202                        		__call		_put_number.4
         02:DEFC  20 6D FF   			call	_put_number.4
21203                        	
21204                        		.dbg	line,	"include\init.c", 1217; put_number(shop_prices[9],4,22,23);
21205                        		__ld.wm		_shop_prices + 18
         02:DEFF  AD 6B 26   			lda.l	_shop_prices + 18
         02:DF02  AC 6C 26   			ldy.h	_shop_prices + 18
21206                        		__st.wmq	_bx
         02:DF05  85 FA      			sta.l	_bx
         02:DF07  84 FB      			sty.h	_bx
21207                        		__st.umiq	4, _cl
         02:DF09  A9 04      			lda.l	#4
         02:DF0B  85 FC      			sta	_cl
21208                        		__st.umiq	22, _dil
         02:DF0D  A9 16      			lda.l	#22
         02:DF0F  85 F0      			sta	_dil
21209                        		__st.umiq	23, _dih
         02:DF11  A9 17      			lda.l	#23
         02:DF13  85 F1      			sta	_dih
21210                        		__call		_put_number.4
         02:DF15  20 6D FF   			call	_put_number.4
21211                        	
21212                        		.dbg	line,	"include\init.c", 1222; //--------------------------------------------------------------------------------------//
21213                        	
21214                        		.dbg	line,	"include\init.c", 1223; //                                   LOAD BG PALETTES                                   //
21215                        	
21216                        		.dbg	line,	"include\init.c", 1224; //--------------------------------------------------------------------------------------//
21217                        	
21218                        		.dbg	line,	"include\init.c", 1226; load_palette( 0, palette_SHOP, 16 );
21219                        		__st.umiq	0, _al
         02:DF18  64 F8      			stz	_al
21220                        		__farptr	_palette_SHOP, _bp_bank, _bp
         02:DF1A  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_SHOP))
         02:DF1C  85 EC      			sta.l	_bp
         02:DF1E  A9 65      			lda.h	#$6000 + ($1FFF & (_palette_SHOP))
         02:DF20  85 ED      			sta.h	_bp
         02:DF22  A9 12      			lda	#bank(_palette_SHOP)
         02:DF24  85 02      			sta	_bp_bank
21221                        		__st.umiq	16, _ah
         02:DF26  A9 10      			lda.l	#16
         02:DF28  85 F9      			sta	_ah
21222                        		__call		_load_palette.3
         02:DF2A  20 8B FF   			call	_load_palette.3
21223                        	
21224                        		.dbg	line,	"include\init.c", 1231; //**************************************************************************************//
21225                        	
21226                        		.dbg	line,	"include\init.c", 1232; //                                                                                      //
21227                        	
21228                        		.dbg	line,	"include\init.c", 1233; //                                       SPRITES                                        //
21229                        	
21230                        		.dbg	line,	"include\init.c", 1234; //                                                                                      //
21231                        	
21232                        		.dbg	line,	"include\init.c", 1235; //**************************************************************************************//
21233                        	
21234                        		.dbg	line,	"include\init.c", 1237; //--------------------------------------------------------------------------------------//
21235                        	
21236                        		.dbg	line,	"include\init.c", 1238; //                                   HIDE ALL SPRITES                                   //
21237                        	
21238                        		.dbg	line,	"include\init.c", 1239; //--------------------------------------------------------------------------------------//
21239                        	
21240                        		.dbg	line,	"include\init.c", 1241; for(i=0 ; i<63 ; i++)
21241                        		__st.umiq	0, __init_SHOP_end - 1  /* i */
         02:DF2D  9C 12 23   			stz	__init_SHOP_end - 1
21242    02:DF30             	.LL1005:
21243                        		__ld.umq	__init_SHOP_end - 1  /* i */
         02:DF30  AD 12 23   			lda	__init_SHOP_end - 1
21244                        		__ult_b.uiq	63
         02:DF33  C9 3F      			cmp	#63		; Subtract integer from A.
         02:DF35  6A         			ror	a		; CC if A < integer.
         02:DF36  49 80      			eor	#$80
         02:DF38  2A         			rol	a
21245                        		__btrue		.LL1007
         02:DF39  B0 07      			bcs	.LL1007
21246                        		__bra		.LL1008
         02:DF3B  80 19      			bra	.LL1008
21247    02:DF3D             	.LL1006:
21248                        		__inc.umq	__init_SHOP_end - 1  /* i */
         02:DF3D  EE 12 23   			inc	__init_SHOP_end - 1
21249                        		__bra		.LL1005
         02:DF40  80 EE      			bra	.LL1005
21250    02:DF42             	.LL1007:
21251                        	
21252                        		.dbg	line,	"include\init.c", 1242; {
21253                        	
21254                        		.dbg	line,	"include\init.c", 1243; spr_set(i);
21255                        		__ld.umq	__init_SHOP_end - 1  /* i */
         02:DF42  AD 12 23   			lda	__init_SHOP_end - 1
21256                        		__call		_spr_set.1
         02:DF45  20 F1 E7   			call	_spr_set.1
21257                        	
21258                        		.dbg	line,	"include\init.c", 1244; spr_hide();
21259                        		__call		_spr_hide
         02:DF48  20 0C E8   			call	_spr_hide
21260                        	
21261                        		.dbg	line,	"include\init.c", 1246; sgx_spr_set(i);
21262                        		__ld.umq	__init_SHOP_end - 1  /* i */
         02:DF4B  AD 12 23   			lda	__init_SHOP_end - 1
21263                        		__call		_sgx_spr_set.1
         02:DF4E  20 9E E8   			call	_sgx_spr_set.1
21264                        	
21265                        		.dbg	line,	"include\init.c", 1247; sgx_spr_hide();
21266                        		__call		_sgx_spr_hide
         02:DF51  20 B9 E8   			call	_sgx_spr_hide
21267                        	
21268                        		.dbg	line,	"include\init.c", 1248; }
21269                        		__bra		.LL1006
         02:DF54  80 E7      			bra	.LL1006
21270    02:DF56             	.LL1008:
21271                        	
21272                        		.dbg	line,	"include\init.c", 1250; //--------------------------------------------------------------------------------------//
21273                        	
21274                        		.dbg	line,	"include\init.c", 1251; //                                        CURSOR                                        //
21275                        	
21276                        		.dbg	line,	"include\init.c", 1252; //--------------------------------------------------------------------------------------//
21277                        	
21278                        		.dbg	line,	"include\init.c", 1254; // LOAD CURSOR TILES //
21279                        	
21280                        		.dbg	line,	"include\init.c", 1255; load_vram(0x2000, tiles_SPR_CURSOR , TILES_16);
21281                        		__st.wmiq	8192, _di
         02:DF56  64 F0      			stz.l	_di
         02:DF58  A9 20      			lda.h	#8192
         02:DF5A  85 F1      			sta.h	_di
21282                        		__farptr	_tiles_SPR_CURSOR, _bp_bank, _bp
         02:DF5C  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_CURSOR))
         02:DF5E  85 EC      			sta.l	_bp
         02:DF60  A9 62      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_CURSOR))
         02:DF62  85 ED      			sta.h	_bp
         02:DF64  A9 1B      			lda	#bank(_tiles_SPR_CURSOR)
         02:DF66  85 02      			sta	_bp_bank
21283                        		__st.wmiq	256, _ax
         02:DF68  64 F8      			stz.l	_ax
         02:DF6A  A9 01      			lda.h	#256
         02:DF6C  85 F9      			sta.h	_ax
21284                        		 _load_vram.3
         02:DF6E  82         			clx				; Offset to PCE VDC.
         02:DF6F  20 FF FE   			call	load_vram_x
21285                        	
21286                        		.dbg	line,	"include\init.c", 1258; // SELECT CURSOR SPRITE //
21287                        	
21288                        		.dbg	line,	"include\init.c", 1259; spr_set(0);
21289                        		__ld.uiq	0
         02:DF72  62         			cla
21290                        		__call		_spr_set.1
         02:DF73  20 F1 E7   			call	_spr_set.1
21291                        	
21292                        		.dbg	line,	"include\init.c", 1260; spr_hide();
21293                        		__call		_spr_hide
         02:DF76  20 0C E8   			call	_spr_hide
21294                        	
21295                        		.dbg	line,	"include\init.c", 1263; //spr_x(24);
21296                        	
21297                        		.dbg	line,	"include\init.c", 1264; //spr_y(144);
21298                        	
21299                        		.dbg	line,	"include\init.c", 1266; // SET TILES DATA FOR THE CURSOR //
21300                        	
21301                        		.dbg	line,	"include\init.c", 1267; spr_pattern(0x2000);
21302                        		__ld.wi		8192
         02:DF79  62         			cla
         02:DF7A  A0 20      			ldy.h	#8192
21303                        		__call		_spr_pattern.1
         02:DF7C  20 3A E8   			call	_spr_pattern.1
21304                        	
21305                        		.dbg	line,	"include\init.c", 1270; spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_32x32);
21306                        		__st.umiq	185, _al
         02:DF7F  A9 B9      			lda.l	#185
         02:DF81  85 F8      			sta	_al
21307                        		__ld.uiq	17
         02:DF83  A9 11      			lda	#17
21308                        		__call		_spr_ctrl.2
         02:DF85  20 50 E8   			call	_spr_ctrl.2
21309                        	
21310                        		.dbg	line,	"include\init.c", 1273; spr_pal(16);
21311                        		__ld.uiq	16
         02:DF88  A9 10      			lda	#16
21312                        		__call		_spr_pal.1
         02:DF8A  20 61 E8   			call	_spr_pal.1
21313                        	
21314                        		.dbg	line,	"include\init.c", 1274; spr_pri(TRUE);
21315                        		__ld.uiq	1
         02:DF8D  A9 01      			lda	#1
21316                        		__call		_spr_pri.1
         02:DF8F  20 70 E8   			call	_spr_pri.1
21317                        	
21318                        		.dbg	line,	"include\init.c", 1277; // UPDATE PCE SAT //
21319                        	
21320                        		.dbg	line,	"include\init.c", 1278; satb_update();
21321                        		__call		_satb_update
         02:DF92  20 D7 FE   			call	_satb_update
21322                        	
21323                        		.dbg	line,	"include\init.c", 1279; sgx_satb_update();
21324                        		__call		_sgx_satb_update
         02:DF95  20 CD FE   			call	_sgx_satb_update
21325                        	
21326                        		.dbg	line,	"include\init.c", 1283; //--------------------------------------------------------------------------------------//
21327                        	
21328                        		.dbg	line,	"include\init.c", 1284; //                                LOAD SPRITES PALETTES                                 //
21329                        	
21330                        		.dbg	line,	"include\init.c", 1285; //--------------------------------------------------------------------------------------//
21331                        	
21332                        		.dbg	line,	"include\init.c", 1287; load_palette( 16, palette_objects_2, 1 );
21333                        		__st.umiq	16, _al
         02:DF98  A9 10      			lda.l	#16
         02:DF9A  85 F8      			sta	_al
21334                        		__farptr	_palette_objects_2, _bp_bank, _bp
         02:DF9C  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_objects_2))
         02:DF9E  85 EC      			sta.l	_bp
         02:DFA0  A9 74      			lda.h	#$6000 + ($1FFF & (_palette_objects_2))
         02:DFA2  85 ED      			sta.h	_bp
         02:DFA4  A9 1A      			lda	#bank(_palette_objects_2)
         02:DFA6  85 02      			sta	_bp_bank
21335                        		__st.umiq	1, _ah
         02:DFA8  A9 01      			lda.l	#1
         02:DFAA  85 F9      			sta	_ah
21336                        		__call		_load_palette.3
         02:DFAC  20 8B FF   			call	_load_palette.3
21337                        	
21338                        		.dbg	line,	"include\init.c", 1291; // VSYNC //
21339                        	
21340                        		.dbg	line,	"include\init.c", 1292; vsync();
21341                        		__call		_vsync
         02:DFAF  20 1D E3   			call	_vsync
21342                        	
21343                        		.dbg	line,	"include\init.c", 1294; // ENABLE DISPLAY //
21344                        	
21345                        		.dbg	line,	"include\init.c", 1295; disp_on();
21346                        		__call		_disp_on
         02:DFB2  20 2A E4   			call	_disp_on
21347                        	
21348                        		.dbg	line,	"include\init.c", 1296; }
21349    02:DFB5             	.LL999:
21350                        		__return	0
         02:DFB5  4C EF FF   			jmp	leave_proc
21351                        		.dbg	clear
21352                        		.endp
21353               2311     		.bss
21354    F8:2311             			ds	2
21355    F8:2313             	__init_SHOP_end:
21356               E31D     		.code
21357                        		.pceas
21358                        	
21359                        		.dbg	line,	"main.c", 36; main()
21360                        		.dbg	line,	"main.c", 37; {
21361                        	;***********************
21362                        	;***********************
21363                        	
21364                        		.hucc
21365    1E:DC65             		.proc		_main
21366                        		__enter		_main
21367                        	
21368                        		.dbg	line,	"main.c", 38; if(!sgx_detect())
21369                        		 _sgx_detect
         1E:DC65  AD E8 22   			lda	sgx_detected
         1E:DC68  C2         			cly
21370                        		__not.wr
         1E:DC69  84 00      			sty	__temp
         1E:DC6B  05 00      			ora	__temp
         1E:DC6D  18         			clc
         1E:DC6E  D0 01      			bne	!+
         1E:DC70  38         			sec
         1E:DC71             	!:
21371                        		__bfalse	.LL1010
         1E:DC71  90 15      			bcc	.LL1010
21372                        	
21373                        		.dbg	line,	"main.c", 39; {
21374                        	
21375                        		.dbg	line,	"main.c", 40; put_string("Halt: SGX hardware not found", 2, 13);
21376                        		__ld.wi		__const1+36
         1E:DC73  A9 24      			lda.l	#__const1+36
         1E:DC75  A0 60      			ldy.h	#__const1+36
21377                        		__st.wmq	_bp
         1E:DC77  85 EC      			sta.l	_bp
         1E:DC79  84 ED      			sty.h	_bp
21378                        		__st.umiq	2, _dil
         1E:DC7B  A9 02      			lda.l	#2
         1E:DC7D  85 F0      			sta	_dil
21379                        		__st.umiq	13, _dih
         1E:DC7F  A9 0D      			lda.l	#13
         1E:DC81  85 F1      			sta	_dih
21380                        		__call		_put_string.3
         1E:DC83  20 5F E6   			call	_put_string.3
21381                        	
21382                        		.dbg	line,	"main.c", 42; for(;;)
21383    1E:DC86             	.LL1011	.alias		.LL1013
21384    1E:DC86             	.LL1012	.alias		.LL1013
21385    1E:DC86             	.LL1013:
21386                        	
21387                        		.dbg	line,	"main.c", 43; {
21388                        	
21389                        		.dbg	line,	"main.c", 44; // INFINITE LOOP //
21390                        	
21391                        		.dbg	line,	"main.c", 45; }
21392                        		__bra		.LL1013
         1E:DC86  80 FE      			bra	.LL1013
21393    1E:DC88             	.LL1014:
21394                        	
21395                        		.dbg	line,	"main.c", 46; }
21396                        	
21397                        		.dbg	line,	"main.c", 51; init_SYSTEM();
21398    1E:DC88             	.LL1010:
21399                        		__call		_init_SYSTEM
         1E:DC88  20 2D FE   			call	_init_SYSTEM
21400                        	
21401                        		.dbg	line,	"main.c", 52; 
21402                        	
21403                        		.dbg	line,	"main.c", 53; 
21404                        	
21405                        		.dbg	line,	"main.c", 54; init_VARIABLES();
21406                        		__call		_init_VARIABLES
         1E:DC8B  20 23 FE   			call	_init_VARIABLES
21407                        	
21408                        		.dbg	line,	"main.c", 57; init_PLAYER();
21409                        		__call		_init_PLAYER
         1E:DC8E  20 19 FE   			call	_init_PLAYER
21410                        	
21411                        		.dbg	line,	"main.c", 62; //**************************************************************************************//
21412                        	
21413                        		.dbg	line,	"main.c", 63; //                                                                                      //
21414                        	
21415                        		.dbg	line,	"main.c", 64; //                                         MAIN                                         //
21416                        	
21417                        		.dbg	line,	"main.c", 65; //                                                                                      //
21418                        	
21419                        		.dbg	line,	"main.c", 66; //**************************************************************************************//
21420                        	
21421                        		.dbg	line,	"main.c", 67; for(;;)
21422    1E:DC91             	.LL1015:
21423    1E:DC91             	.LL1016:
21424    1E:DC91             	.LL1017:
21425                        	
21426                        		.dbg	line,	"main.c", 68; {
21427                        	
21428                        		.dbg	line,	"main.c", 69; switch(sequence_id)
21429                        		__ld.umq	_sequence_id
         1E:DC91  AD 13 23   			lda	_sequence_id
21430                        		__bra		.LL1019
         1E:DC94  4C 65 DE   			bra	.LL1019
21431                        	
21432                        		.dbg	line,	"main.c", 70; {
21433                        	
21434                        		.dbg	line,	"main.c", 71; //-----------------------------------------------------------------------------//
21435                        	
21436                        		.dbg	line,	"main.c", 72; //                                    TITLE                                    //
21437                        	
21438                        		.dbg	line,	"main.c", 73; //-----------------------------------------------------------------------------//
21439                        	
21440                        		.dbg	line,	"main.c", 74; case SEQUENCE_TITLE:
21441    1E:DC97             	.LL1021:
21442                        		__case		0
21443                        	
21444                        		.dbg	line,	"main.c", 75; if(sequence_loaded == FALSE)
21445                        		__not.um	_sequence_loaded
         1E:DC97  AD 14 23   			lda	_sequence_loaded
         1E:DC9A  18         			clc
         1E:DC9B  D0 01      			bne	!+
         1E:DC9D  38         			sec
         1E:DC9E             	!:
21446                        		__bfalse	.LL1022
         1E:DC9E  90 0A      			bcc	.LL1022
21447                        	
21448                        		.dbg	line,	"main.c", 76; {
21449                        	
21450                        		.dbg	line,	"main.c", 77; init_TITLE();
21451                        		__call		_init_TITLE
         1E:DCA0  20 0F FE   			call	_init_TITLE
21452                        	
21453                        		.dbg	line,	"main.c", 79; sequence_loaded = TRUE;
21454                        		__st.umiq	1, _sequence_loaded
         1E:DCA3  A9 01      			lda.l	#1
         1E:DCA5  8D 14 23   			sta	_sequence_loaded
21455                        	
21456                        		.dbg	line,	"main.c", 80; }
21457                        	
21458                        		.dbg	line,	"main.c", 82; else
21459                        		__bra		.LL1023
         1E:DCA8  80 E7      			bra	.LL1023
21460    1E:DCAA             	.LL1022:
21461                        	
21462                        		.dbg	line,	"main.c", 83; {
21463                        	
21464                        		.dbg	line,	"main.c", 84; vsync();
21465                        		__call		_vsync
         1E:DCAA  20 1D E3   			call	_vsync
21466                        	
21467                        		.dbg	line,	"main.c", 86; joypad_BUTTONS_TITLE();
21468                        		__call		_joypad_BUTTONS_TITLE
         1E:DCAD  20 05 FE   			call	_joypad_BUTTONS_TITLE
21469                        	
21470                        		.dbg	line,	"main.c", 87; 
21471                        	
21472                        		.dbg	line,	"main.c", 88; satb_update();
21473                        		__call		_satb_update
         1E:DCB0  20 D7 FE   			call	_satb_update
21474                        	
21475                        		.dbg	line,	"main.c", 89; }
21476    1E:DCB3             	.LL1023	.alias		.LL1020
21477                        	
21478                        		.dbg	line,	"main.c", 91; break;
21479                        		__bra		.LL1020
         1E:DCB3  80 DC      			bra	.LL1020
21480                        	
21481                        		.dbg	line,	"main.c", 94; //-----------------------------------------------------------------------------//
21482                        	
21483                        		.dbg	line,	"main.c", 95; //                                    INTRO                                    //
21484                        	
21485                        		.dbg	line,	"main.c", 96; //-----------------------------------------------------------------------------//
21486                        	
21487                        		.dbg	line,	"main.c", 97; case SEQUENCE_INTRO:
21488    1E:DCB5             	.LL1024:
21489                        		__case		1
21490                        	
21491                        		.dbg	line,	"main.c", 98; if(sequence_loaded == FALSE)
21492                        		__not.um	_sequence_loaded
         1E:DCB5  AD 14 23   			lda	_sequence_loaded
         1E:DCB8  18         			clc
         1E:DCB9  D0 01      			bne	!+
         1E:DCBB  38         			sec
         1E:DCBC             	!:
21493                        		__bfalse	.LL1025
         1E:DCBC  90 0A      			bcc	.LL1025
21494                        	
21495                        		.dbg	line,	"main.c", 99; {
21496                        	
21497                        		.dbg	line,	"main.c", 100; init_INTRO();
21498                        		__call		_init_INTRO
         1E:DCBE  20 FB FD   			call	_init_INTRO
21499                        	
21500                        		.dbg	line,	"main.c", 102; sequence_loaded = TRUE;
21501                        		__st.umiq	1, _sequence_loaded
         1E:DCC1  A9 01      			lda.l	#1
         1E:DCC3  8D 14 23   			sta	_sequence_loaded
21502                        	
21503                        		.dbg	line,	"main.c", 103; }
21504                        	
21505                        		.dbg	line,	"main.c", 105; else
21506                        		__bra		.LL1026
         1E:DCC6  80 C9      			bra	.LL1026
21507    1E:DCC8             	.LL1025:
21508                        	
21509                        		.dbg	line,	"main.c", 106; {
21510                        	
21511                        		.dbg	line,	"main.c", 107; vsync();
21512                        		__call		_vsync
         1E:DCC8  20 1D E3   			call	_vsync
21513                        	
21514                        		.dbg	line,	"main.c", 109; //put_number(vdc_map_pxl_x,3,0,0);
21515                        	
21516                        		.dbg	line,	"main.c", 110; sequence_INTRO();
21517                        		__call		_sequence_INTRO
         1E:DCCB  20 F1 FD   			call	_sequence_INTRO
21518                        	
21519                        		.dbg	line,	"main.c", 111; 
21520                        	
21521                        		.dbg	line,	"main.c", 112; joypad_BUTTONS_INTRO();
21522                        		__call		_joypad_BUTTONS_INTRO
         1E:DCCE  20 E7 FD   			call	_joypad_BUTTONS_INTRO
21523                        	
21524                        		.dbg	line,	"main.c", 114; sgx_satb_update();
21525                        		__call		_sgx_satb_update
         1E:DCD1  20 CD FE   			call	_sgx_satb_update
21526                        	
21527                        		.dbg	line,	"main.c", 115; }
21528    1E:DCD4             	.LL1026	.alias		.LL1020
21529                        	
21530                        		.dbg	line,	"main.c", 117; break;
21531                        		__bra		.LL1020
         1E:DCD4  80 BB      			bra	.LL1020
21532                        	
21533                        		.dbg	line,	"main.c", 120; //-----------------------------------------------------------------------------//
21534                        	
21535                        		.dbg	line,	"main.c", 121; //                                    GAME                                     //
21536                        	
21537                        		.dbg	line,	"main.c", 122; //-----------------------------------------------------------------------------//
21538                        	
21539                        		.dbg	line,	"main.c", 123; case SEQUENCE_GAME:
21540    1E:DCD6             	.LL1027:
21541                        		__case		2
21542                        	
21543                        		.dbg	line,	"main.c", 124; if(sequence_loaded == FALSE)
21544                        		__not.um	_sequence_loaded
         1E:DCD6  AD 14 23   			lda	_sequence_loaded
         1E:DCD9  18         			clc
         1E:DCDA  D0 01      			bne	!+
         1E:DCDC  38         			sec
         1E:DCDD             	!:
21545                        		__bfalse	.LL1028
         1E:DCDD  90 0A      			bcc	.LL1028
21546                        	
21547                        		.dbg	line,	"main.c", 125; {
21548                        	
21549                        		.dbg	line,	"main.c", 126; init_LEVEL();
21550                        		__call		_init_LEVEL
         1E:DCDF  20 DD FD   			call	_init_LEVEL
21551                        	
21552                        		.dbg	line,	"main.c", 128; sequence_loaded = TRUE;
21553                        		__st.umiq	1, _sequence_loaded
         1E:DCE2  A9 01      			lda.l	#1
         1E:DCE4  8D 14 23   			sta	_sequence_loaded
21554                        	
21555                        		.dbg	line,	"main.c", 129; }
21556                        	
21557                        		.dbg	line,	"main.c", 131; else
21558                        		__bra		.LL1029
         1E:DCE7  80 A8      			bra	.LL1029
21559    1E:DCE9             	.LL1028:
21560                        	
21561                        		.dbg	line,	"main.c", 132; {
21562                        	
21563                        		.dbg	line,	"main.c", 133; switch(level_id)
21564                        		__ld.umq	_level_id
         1E:DCE9  AD 15 23   			lda	_level_id
21565                        		__bra		.LL1030
         1E:DCEC  80 48      			bra	.LL1030
21566                        	
21567                        		.dbg	line,	"main.c", 134; {
21568                        	
21569                        		.dbg	line,	"main.c", 135; case 1:
21570    1E:DCEE             	.LL1032:
21571                        		__case		1
21572                        	
21573                        		.dbg	line,	"main.c", 136; vsync();
21574                        		__call		_vsync
         1E:DCEE  20 1D E3   			call	_vsync
21575                        	
21576                        		.dbg	line,	"main.c", 138; update_PLAYER();
21577                        		__call		_update_PLAYER
         1E:DCF1  20 D3 FD   			call	_update_PLAYER
21578                        	
21579                        		.dbg	line,	"main.c", 139; update_WEAPON();
21580                        		__call		_update_WEAPON
         1E:DCF4  20 C9 FD   			call	_update_WEAPON
21581                        	
21582                        		.dbg	line,	"main.c", 140; //put_number(hit_wall,1,0,1);
21583                        	
21584                        		.dbg	line,	"main.c", 142; 
21585                        	
21586                        		.dbg	line,	"main.c", 144; scroll_object();
21587                        		__call		_scroll_object
         1E:DCF7  20 7D FE   			call	_scroll_object
21588                        	
21589                        		.dbg	line,	"main.c", 145; scroll_chest();
21590                        		__call		_scroll_chest
         1E:DCFA  20 5F FE   			call	_scroll_chest
21591                        	
21592                        		.dbg	line,	"main.c", 146; scroll_npc();
21593                        		__call		_scroll_npc
         1E:DCFD  20 BF FD   			call	_scroll_npc
21594                        	
21595                        		.dbg	line,	"main.c", 148; collision_PLAYER_OBJECT();
21596                        		__call		_collision_PLAYER_OBJECT
         1E:DD00  20 B5 FD   			call	_collision_PLAYER_OBJECT
21597                        	
21598                        		.dbg	line,	"main.c", 149; collision_PLAYER_NPC();
21599                        		__call		_collision_PLAYER_NPC
         1E:DD03  20 AB FD   			call	_collision_PLAYER_NPC
21600                        	
21601                        		.dbg	line,	"main.c", 151; anim_OBJECTS();
21602                        		__call		_anim_OBJECTS
         1E:DD06  20 A1 FD   			call	_anim_OBJECTS
21603                        	
21604                        		.dbg	line,	"main.c", 153; display_TIME_LEVEL();
21605                        		__call		_display_TIME_LEVEL
         1E:DD09  20 AF FE   			call	_display_TIME_LEVEL
21606                        	
21607                        		.dbg	line,	"main.c", 155; satb_update();
21608                        		__call		_satb_update
         1E:DD0C  20 D7 FE   			call	_satb_update
21609                        	
21610                        		.dbg	line,	"main.c", 156; sgx_satb_update();
21611                        		__call		_sgx_satb_update
         1E:DD0F  20 CD FE   			call	_sgx_satb_update
21612                        	
21613                        		.dbg	line,	"main.c", 158; scroll_BG();
21614                        		__call		_scroll_BG
         1E:DD12  20 97 FD   			call	_scroll_BG
21615                        	
21616                        		.dbg	line,	"main.c", 160; joypad_DIR();
21617                        		__call		_joypad_DIR
         1E:DD15  20 8D FD   			call	_joypad_DIR
21618                        	
21619                        		.dbg	line,	"main.c", 161; joypad_BUTTONS();
21620                        		__call		_joypad_BUTTONS
         1E:DD18  20 83 FD   			call	_joypad_BUTTONS
21621                        	
21622                        		.dbg	line,	"main.c", 163; break;
21623                        		__bra		.LL1031
         1E:DD1B  4C 91 DC   			bra	.LL1031
21624                        	
21625                        		.dbg	line,	"main.c", 166; case 2:
21626    1E:DD1E             	.LL1033:
21627                        		__case		2
21628                        	
21629                        		.dbg	line,	"main.c", 167; vsync();
21630                        		__call		_vsync
         1E:DD1E  20 1D E3   			call	_vsync
21631                        	
21632                        		.dbg	line,	"main.c", 168; break;
21633                        		__bra		.LL1031
         1E:DD21  4C 91 DC   			bra	.LL1031
21634                        	
21635                        		.dbg	line,	"main.c", 171; case 3:
21636    1E:DD24             	.LL1034:
21637                        		__case		3
21638                        	
21639                        		.dbg	line,	"main.c", 172; vsync();
21640                        		__call		_vsync
         1E:DD24  20 1D E3   			call	_vsync
21641                        	
21642                        		.dbg	line,	"main.c", 173; break;
21643                        		__bra		.LL1031
         1E:DD27  4C 91 DC   			bra	.LL1031
21644                        	
21645                        		.dbg	line,	"main.c", 176; case 4:
21646    1E:DD2A             	.LL1035:
21647                        		__case		4
21648                        	
21649                        		.dbg	line,	"main.c", 177; vsync();
21650                        		__call		_vsync
         1E:DD2A  20 1D E3   			call	_vsync
21651                        	
21652                        		.dbg	line,	"main.c", 178; break;
21653                        		__bra		.LL1031
         1E:DD2D  4C 91 DC   			bra	.LL1031
21654                        	
21655                        		.dbg	line,	"main.c", 181; case 5:
21656    1E:DD30             	.LL1036:
21657                        		__case		5
21658                        	
21659                        		.dbg	line,	"main.c", 182; vsync();
21660                        		__call		_vsync
         1E:DD30  20 1D E3   			call	_vsync
21661                        	
21662                        		.dbg	line,	"main.c", 183; break;
21663                        		__bra		.LL1031
         1E:DD33  4C 91 DC   			bra	.LL1031
21664                        	
21665                        		.dbg	line,	"main.c", 185; }
21666    1E:DD36             	.LL1030:
21667                        		__switch_r.ur	0, 5
         1E:DD36  C9 06      			cmp	#(5 - 0) + 1
         1E:DD38  90 02      			bcc	!found+
         1E:DD3A  A9 06      	!default:	lda	#(5 - 0) + 1
         1E:DD3C  0A         	!found:		asl	a
         1E:DD3D  AA         			tax
         1E:DD3E  7C 41 DD   			jmp	[!table+, x]
21668                        	
21669    1E:DD41  91 DC      	!table:		dw	.LL1031, .LL1032, .LL1033, .LL1034, .LL1035, .LL1036
         1E:DD43  EE DC       
         1E:DD45  1E DD       
         1E:DD47  24 DD       
         1E:DD49  2A DD       
         1E:DD4B  30 DD       
21670    1E:DD4D  91 DC      			dw	.LL1031
21671    1E:DD4F             	.LL1031	.alias		.LL1020
21672                        	
21673                        		.dbg	line,	"main.c", 186; }
21674    1E:DD4F             	.LL1029	.alias		.LL1020
21675                        	
21676                        		.dbg	line,	"main.c", 188; break;
21677                        		__bra		.LL1020
         1E:DD4F  4C 91 DC   			bra	.LL1020
21678                        	
21679                        		.dbg	line,	"main.c", 191; //-----------------------------------------------------------------------------//
21680                        	
21681                        		.dbg	line,	"main.c", 192; //                                     NPC                                     //
21682                        	
21683                        		.dbg	line,	"main.c", 193; //-----------------------------------------------------------------------------//
21684                        	
21685                        		.dbg	line,	"main.c", 194; case SEQUENCE_NPC:
21686    1E:DD52             	.LL1037:
21687                        		__case		3
21688                        	
21689                        		.dbg	line,	"main.c", 195; break;
21690                        		__bra		.LL1020
         1E:DD52  4C 91 DC   			bra	.LL1020
21691                        	
21692                        		.dbg	line,	"main.c", 198; //-----------------------------------------------------------------------------//
21693                        	
21694                        		.dbg	line,	"main.c", 199; //                                    SHOP                                     //
21695                        	
21696                        		.dbg	line,	"main.c", 200; //-----------------------------------------------------------------------------//
21697                        	
21698                        		.dbg	line,	"main.c", 201; case SEQUENCE_SHOP:
21699    1E:DD55             	.LL1038:
21700                        		__case		4
21701                        	
21702                        		.dbg	line,	"main.c", 202; if(sequence_loaded == FALSE)
21703                        		__not.um	_sequence_loaded
         1E:DD55  AD 14 23   			lda	_sequence_loaded
         1E:DD58  18         			clc
         1E:DD59  D0 01      			bne	!+
         1E:DD5B  38         			sec
         1E:DD5C             	!:
21704                        		__bfalse	.LL1039
         1E:DD5C  90 0B      			bcc	.LL1039
21705                        	
21706                        		.dbg	line,	"main.c", 203; {
21707                        	
21708                        		.dbg	line,	"main.c", 204; init_SHOP();
21709                        		__call		_init_SHOP
         1E:DD5E  20 79 FD   			call	_init_SHOP
21710                        	
21711                        		.dbg	line,	"main.c", 206; sequence_loaded = TRUE;
21712                        		__st.umiq	1, _sequence_loaded
         1E:DD61  A9 01      			lda.l	#1
         1E:DD63  8D 14 23   			sta	_sequence_loaded
21713                        	
21714                        		.dbg	line,	"main.c", 207; }
21715                        	
21716                        		.dbg	line,	"main.c", 208; 
21717                        	
21718                        		.dbg	line,	"main.c", 209; else
21719                        		__bra		.LL1040
         1E:DD66  4C 91 DC   			bra	.LL1040
21720    1E:DD69             	.LL1039:
21721                        	
21722                        		.dbg	line,	"main.c", 210; {
21723                        	
21724                        		.dbg	line,	"main.c", 211; switch(shop_phase)
21725                        		__ld.umq	_shop_phase
         1E:DD69  AD F2 23   			lda	_shop_phase
21726                        		__bra		.LL1041
         1E:DD6C  4C 4F DE   			bra	.LL1041
21727                        	
21728                        		.dbg	line,	"main.c", 212; {
21729                        	
21730                        		.dbg	line,	"main.c", 213; case SHOP_PHASE_ENTER:
21731    1E:DD6F             	.LL1043:
21732                        		__case		0
21733                        	
21734                        		.dbg	line,	"main.c", 214; vsync();
21735                        		__call		_vsync
         1E:DD6F  20 1D E3   			call	_vsync
21736                        	
21737                        		.dbg	line,	"main.c", 216; if(shop_counter == 0)
21738                        		__not.um	_shop_counter
         1E:DD72  AD F3 23   			lda	_shop_counter
         1E:DD75  18         			clc
         1E:DD76  D0 01      			bne	!+
         1E:DD78  38         			sec
         1E:DD79             	!:
21739                        		__bfalse	.LL1044
         1E:DD79  90 28      			bcc	.LL1044
21740                        	
21741                        		.dbg	line,	"main.c", 217; {
21742                        	
21743                        		.dbg	line,	"main.c", 218; put_string("Maybe, i can sell you" ,  2 , 15);
21744                        		__ld.wi		__const1+65
         1E:DD7B  A9 41      			lda.l	#__const1+65
         1E:DD7D  A0 60      			ldy.h	#__const1+65
21745                        		__st.wmq	_bp
         1E:DD7F  85 EC      			sta.l	_bp
         1E:DD81  84 ED      			sty.h	_bp
21746                        		__st.umiq	2, _dil
         1E:DD83  A9 02      			lda.l	#2
         1E:DD85  85 F0      			sta	_dil
21747                        		__st.umiq	15, _dih
         1E:DD87  A9 0F      			lda.l	#15
         1E:DD89  85 F1      			sta	_dih
21748                        		__call		_put_string.3
         1E:DD8B  20 5F E6   			call	_put_string.3
21749                        	
21750                        		.dbg	line,	"main.c", 219; put_string("something..." , 18 , 16);
21751                        		__ld.wi		__const1+87
         1E:DD8E  A9 57      			lda.l	#__const1+87
         1E:DD90  A0 60      			ldy.h	#__const1+87
21752                        		__st.wmq	_bp
         1E:DD92  85 EC      			sta.l	_bp
         1E:DD94  84 ED      			sty.h	_bp
21753                        		__st.umiq	18, _dil
         1E:DD96  A9 12      			lda.l	#18
         1E:DD98  85 F0      			sta	_dil
21754                        		__st.umiq	16, _dih
         1E:DD9A  A9 10      			lda.l	#16
         1E:DD9C  85 F1      			sta	_dih
21755                        		__call		_put_string.3
         1E:DD9E  20 5F E6   			call	_put_string.3
21756                        	
21757                        		.dbg	line,	"main.c", 220; }
21758                        	
21759                        		.dbg	line,	"main.c", 222; else if(shop_counter == 120)
21760                        		__bra		.LL1045
         1E:DDA1  80 44      			bra	.LL1045
21761    1E:DDA3             	.LL1044:
21762                        		__ld.umq	_shop_counter
         1E:DDA3  AD F3 23   			lda	_shop_counter
21763                        		__equ_b.uiq	120
         1E:DDA6  C9 78      			cmp	#120
         1E:DDA8  F0 01      			beq	!+
         1E:DDAA  18         			clc
         1E:DDAB             	!:
21764                        		__bfalse	.LL1046
         1E:DDAB  90 3A      			bcc	.LL1046
21765                        	
21766                        		.dbg	line,	"main.c", 223; {
21767                        	
21768                        		.dbg	line,	"main.c", 224; put_string("                     " ,  2 , 15);
21769                        		__ld.wi		__const1+100
         1E:DDAD  A9 64      			lda.l	#__const1+100
         1E:DDAF  A0 60      			ldy.h	#__const1+100
21770                        		__st.wmq	_bp
         1E:DDB1  85 EC      			sta.l	_bp
         1E:DDB3  84 ED      			sty.h	_bp
21771                        		__st.umiq	2, _dil
         1E:DDB5  A9 02      			lda.l	#2
         1E:DDB7  85 F0      			sta	_dil
21772                        		__st.umiq	15, _dih
         1E:DDB9  A9 0F      			lda.l	#15
         1E:DDBB  85 F1      			sta	_dih
21773                        		__call		_put_string.3
         1E:DDBD  20 5F E6   			call	_put_string.3
21774                        	
21775                        		.dbg	line,	"main.c", 225; put_string("            " , 18 , 16);
21776                        		__ld.wi		__const1+122
         1E:DDC0  A9 7A      			lda.l	#__const1+122
         1E:DDC2  A0 60      			ldy.h	#__const1+122
21777                        		__st.wmq	_bp
         1E:DDC4  85 EC      			sta.l	_bp
         1E:DDC6  84 ED      			sty.h	_bp
21778                        		__st.umiq	18, _dil
         1E:DDC8  A9 12      			lda.l	#18
         1E:DDCA  85 F0      			sta	_dil
21779                        		__st.umiq	16, _dih
         1E:DDCC  A9 10      			lda.l	#16
         1E:DDCE  85 F1      			sta	_dih
21780                        		__call		_put_string.3
         1E:DDD0  20 5F E6   			call	_put_string.3
21781                        	
21782                        		.dbg	line,	"main.c", 227; spr_x(24);
21783                        		__ld.wi		24
         1E:DDD3  A9 18      			lda.l	#24
         1E:DDD5  C2         			cly
21784                        		__call		_spr_x.1
         1E:DDD6  20 1E E8   			call	_spr_x.1
21785                        	
21786                        		.dbg	line,	"main.c", 228; spr_y(144);
21787                        		__ld.wi		144
         1E:DDD9  A9 90      			lda.l	#144
         1E:DDDB  C2         			cly
21788                        		__call		_spr_y.1
         1E:DDDC  20 2D E8   			call	_spr_y.1
21789                        	
21790                        		.dbg	line,	"main.c", 229; satb_update();
21791                        		__call		_satb_update
         1E:DDDF  20 D7 FE   			call	_satb_update
21792                        	
21793                        		.dbg	line,	"main.c", 231; shop_phase = SHOP_PHASE_BUY;
21794                        		__st.umiq	1, _shop_phase
         1E:DDE2  A9 01      			lda.l	#1
         1E:DDE4  8D F2 23   			sta	_shop_phase
21795                        	
21796                        		.dbg	line,	"main.c", 232; }
21797                        	
21798                        		.dbg	line,	"main.c", 234; shop_counter++;
21799    1E:DDE7             	.LL1046:
21800    1E:DDE7             	.LL1045:
21801                        		__inc.umq	_shop_counter
         1E:DDE7  EE F3 23   			inc	_shop_counter
21802                        	
21803                        		.dbg	line,	"main.c", 236; break;
21804                        		__bra		.LL1042
         1E:DDEA  4C 91 DC   			bra	.LL1042
21805                        	
21806                        		.dbg	line,	"main.c", 237; 
21807                        	
21808                        		.dbg	line,	"main.c", 239; case SHOP_PHASE_BUY:
21809    1E:DDED             	.LL1047:
21810                        		__case		1
21811                        	
21812                        		.dbg	line,	"main.c", 240; vsync();
21813                        		__call		_vsync
         1E:DDED  20 1D E3   			call	_vsync
21814                        	
21815                        		.dbg	line,	"main.c", 242; joypad_BUTTONS_SHOP();
21816                        		__call		_joypad_BUTTONS_SHOP
         1E:DDF0  20 6F FD   			call	_joypad_BUTTONS_SHOP
21817                        	
21818                        		.dbg	line,	"main.c", 243; display_TIME_SHOP();
21819                        		__call		_display_TIME_SHOP
         1E:DDF3  20 65 FD   			call	_display_TIME_SHOP
21820                        	
21821                        		.dbg	line,	"main.c", 244; satb_update();
21822                        		__call		_satb_update
         1E:DDF6  20 D7 FE   			call	_satb_update
21823                        	
21824                        		.dbg	line,	"main.c", 246; break;
21825                        		__bra		.LL1042
         1E:DDF9  4C 91 DC   			bra	.LL1042
21826                        	
21827                        		.dbg	line,	"main.c", 249; case SHOP_PHASE_EXIT:
21828    1E:DDFC             	.LL1048:
21829                        		__case		2
21830                        	
21831                        		.dbg	line,	"main.c", 250; vsync();
21832                        		__call		_vsync
         1E:DDFC  20 1D E3   			call	_vsync
21833                        	
21834                        		.dbg	line,	"main.c", 252; if(shop_counter == 0)
21835                        		__not.um	_shop_counter
         1E:DDFF  AD F3 23   			lda	_shop_counter
         1E:DE02  18         			clc
         1E:DE03  D0 01      			bne	!+
         1E:DE05  38         			sec
         1E:DE06             	!:
21836                        		__bfalse	.LL1049
         1E:DE06  90 1F      			bcc	.LL1049
21837                        	
21838                        		.dbg	line,	"main.c", 253; {
21839                        	
21840                        		.dbg	line,	"main.c", 254; put_string("GOOD LUCK!" , 11 , 16);
21841                        		__ld.wi		__const1+135
         1E:DE08  A9 87      			lda.l	#__const1+135
         1E:DE0A  A0 60      			ldy.h	#__const1+135
21842                        		__st.wmq	_bp
         1E:DE0C  85 EC      			sta.l	_bp
         1E:DE0E  84 ED      			sty.h	_bp
21843                        		__st.umiq	11, _dil
         1E:DE10  A9 0B      			lda.l	#11
         1E:DE12  85 F0      			sta	_dil
21844                        		__st.umiq	16, _dih
         1E:DE14  A9 10      			lda.l	#16
         1E:DE16  85 F1      			sta	_dih
21845                        		__call		_put_string.3
         1E:DE18  20 5F E6   			call	_put_string.3
21846                        	
21847                        		.dbg	line,	"main.c", 256; // HIDE CURSOR //
21848                        	
21849                        		.dbg	line,	"main.c", 257; spr_set(0);
21850                        		__ld.uiq	0
         1E:DE1B  62         			cla
21851                        		__call		_spr_set.1
         1E:DE1C  20 F1 E7   			call	_spr_set.1
21852                        	
21853                        		.dbg	line,	"main.c", 258; spr_hide();
21854                        		__call		_spr_hide
         1E:DE1F  20 0C E8   			call	_spr_hide
21855                        	
21856                        		.dbg	line,	"main.c", 259; satb_update();
21857                        		__call		_satb_update
         1E:DE22  20 D7 FE   			call	_satb_update
21858                        	
21859                        		.dbg	line,	"main.c", 260; }
21860                        	
21861                        		.dbg	line,	"main.c", 262; else if(shop_counter == 120)
21862                        		__bra		.LL1050
         1E:DE25  80 22      			bra	.LL1050
21863    1E:DE27             	.LL1049:
21864                        		__ld.umq	_shop_counter
         1E:DE27  AD F3 23   			lda	_shop_counter
21865                        		__equ_b.uiq	120
         1E:DE2A  C9 78      			cmp	#120
         1E:DE2C  F0 01      			beq	!+
         1E:DE2E  18         			clc
         1E:DE2F             	!:
21866                        		__bfalse	.LL1051
         1E:DE2F  90 18      			bcc	.LL1051
21867                        	
21868                        		.dbg	line,	"main.c", 263; {
21869                        	
21870                        		.dbg	line,	"main.c", 264; disp_off();
21871                        		__call		_disp_off
         1E:DE31  20 3D E4   			call	_disp_off
21872                        	
21873                        		.dbg	line,	"main.c", 266; // REINIT PLAYER //
21874                        	
21875                        		.dbg	line,	"main.c", 267; init_PLAYER();
21876                        		__call		_init_PLAYER
         1E:DE34  20 19 FE   			call	_init_PLAYER
21877                        	
21878                        		.dbg	line,	"main.c", 269; shop_phase = SHOP_PHASE_EXIT;
21879                        		__st.umiq	2, _shop_phase
         1E:DE37  A9 02      			lda.l	#2
         1E:DE39  8D F2 23   			sta	_shop_phase
21880                        	
21881                        		.dbg	line,	"main.c", 270; respawn = RESPAWN_SHOP;
21882                        		__st.umiq	2, _respawn
         1E:DE3C  A9 02      			lda.l	#2
         1E:DE3E  8D 16 23   			sta	_respawn
21883                        	
21884                        		.dbg	line,	"main.c", 271; sequence_loaded = FALSE;
21885                        		__st.umiq	0, _sequence_loaded
         1E:DE41  9C 14 23   			stz	_sequence_loaded
21886                        	
21887                        		.dbg	line,	"main.c", 272; sequence_id = SEQUENCE_GAME;
21888                        		__st.umiq	2, _sequence_id
         1E:DE44  A9 02      			lda.l	#2
         1E:DE46  8D 13 23   			sta	_sequence_id
21889                        	
21890                        		.dbg	line,	"main.c", 273; }
21891                        	
21892                        		.dbg	line,	"main.c", 275; shop_counter++;
21893    1E:DE49             	.LL1051:
21894    1E:DE49             	.LL1050:
21895                        		__inc.umq	_shop_counter
         1E:DE49  EE F3 23   			inc	_shop_counter
21896                        	
21897                        		.dbg	line,	"main.c", 277; break;
21898                        		__bra		.LL1042
         1E:DE4C  4C 91 DC   			bra	.LL1042
21899                        	
21900                        		.dbg	line,	"main.c", 278; }
21901    1E:DE4F             	.LL1041:
21902                        		__switch_r.ur	0, 2
         1E:DE4F  C9 03      			cmp	#(2 - 0) + 1
         1E:DE51  90 02      			bcc	!found+
         1E:DE53  A9 03      	!default:	lda	#(2 - 0) + 1
         1E:DE55  0A         	!found:		asl	a
         1E:DE56  AA         			tax
         1E:DE57  7C 5A DE   			jmp	[!table+, x]
21903                        	
21904    1E:DE5A  6F DD      	!table:		dw	.LL1043, .LL1047, .LL1048
         1E:DE5C  ED DD       
         1E:DE5E  FC DD       
21905    1E:DE60  91 DC      			dw	.LL1042
21906    1E:DE62             	.LL1042	.alias		.LL1020
21907                        	
21908                        		.dbg	line,	"main.c", 279; }
21909    1E:DE62             	.LL1040	.alias		.LL1020
21910                        	
21911                        		.dbg	line,	"main.c", 281; break;
21912                        		__bra		.LL1020
         1E:DE62  4C 91 DC   			bra	.LL1020
21913                        	
21914                        		.dbg	line,	"main.c", 282; }
21915    1E:DE65             	.LL1019:
21916                        		__switch_r.ur	0, 4
         1E:DE65  C9 05      			cmp	#(4 - 0) + 1
         1E:DE67  90 02      			bcc	!found+
         1E:DE69  A9 05      	!default:	lda	#(4 - 0) + 1
         1E:DE6B  0A         	!found:		asl	a
         1E:DE6C  AA         			tax
         1E:DE6D  7C 70 DE   			jmp	[!table+, x]
21917                        	
21918    1E:DE70  97 DC      	!table:		dw	.LL1021, .LL1024, .LL1027, .LL1037, .LL1038
         1E:DE72  B5 DC       
         1E:DE74  D6 DC       
         1E:DE76  52 DD       
         1E:DE78  55 DD       
21919    1E:DE7A  91 DC      			dw	.LL1020
21920    1E:DE7C             	.LL1020	.alias		.LL1017
21921                        	
21922                        		.dbg	line,	"main.c", 283; }
21923                        		__bra		.LL1017
         1E:DE7C  4C 91 DC   			bra	.LL1017
21924    1E:DE7F             	.LL1018:
21925                        	
21926                        		.dbg	line,	"main.c", 284; }
21927    1E:DE7F             	.LL1009:
21928                        		__return	1
         1E:DE7F  AA         			tax
         1E:DE80  4C EF FF   			jmp	leave_proc
21929                        		.dbg	clear
21930                        		.endp
21931                        		.pceas
21932                        	
21933                        		.dbg	clear
21934               6000     		.rodata
21935    01:6000             	__const1:
21936    01:6000  53 54 41 52			db	'S','T','A','R','T',' ','G','A'
         01:6004  54 20 47 41 
21937    01:6008  4D 45 00 4C			db	'M','E',$00,'L','I','F','E',$00
         01:600C  49 46 45 00 
21938    01:6010  43 52 45 44			db	'C','R','E','D','I','T','S',$00
         01:6014  49 54 53 00 
21939    01:6018  43 41 50 43			db	'C','A','P','C','O','M',' ','1'
         01:601C  4F 4D 20 31 
21940    01:6020  39 38 37 00			db	'9','8','7',$00,'H','a','l','t'
         01:6024  48 61 6C 74 
21941    01:6028  3A 20 53 47			db	':',' ','S','G','X',' ','h','a'
         01:602C  58 20 68 61 
21942    01:6030  72 64 77 61			db	'r','d','w','a','r','e',' ','n'
         01:6034  72 65 20 6E 
21943    01:6038  6F 74 20 66			db	'o','t',' ','f','o','u','n','d'
         01:603C  6F 75 6E 64 
21944    01:6040  00 4D 61 79			db	$00,'M','a','y','b','e',',',' '
         01:6044  62 65 2C 20 
21945    01:6048  69 20 63 61			db	'i',' ','c','a','n',' ','s','e'
         01:604C  6E 20 73 65 
21946    01:6050  6C 6C 20 79			db	'l','l',' ','y','o','u',$00,'s'
         01:6054  6F 75 00 73 
21947    01:6058  6F 6D 65 74			db	'o','m','e','t','h','i','n','g'
         01:605C  68 69 6E 67 
21948    01:6060  2E 2E 2E 00			db	'.','.','.',$00,' ',' ',' ',' '
         01:6064  20 20 20 20 
21949    01:6068  20 20 20 20			db	' ',' ',' ',' ',' ',' ',' ',' '
         01:606C  20 20 20 20 
21950    01:6070  20 20 20 20			db	' ',' ',' ',' ',' ',' ',' ',' '
         01:6074  20 20 20 20 
21951    01:6078  20 00 20 20			db	' ',$00,' ',' ',' ',' ',' ',' '
         01:607C  20 20 20 20 
21952    01:6080  20 20 20 20			db	' ',' ',' ',' ',' ',' ',$00,'G'
         01:6084  20 20 00 47 
21953    01:6088  4F 4F 44 20			db	'O','O','D',' ','L','U','C','K'
         01:608C  4C 55 43 4B 
21954    01:6090  21 00      			db	'!',$00
21955    01:6092             	_TABLE_INTRO_TEXT:
21956    01:6092  4C 6F 6E 67			db	"Long Long ago, three dragonsdescended from skies above  with a rolling thunder and  destroyed a kingdom into    darkness.                   From lengthy suffering and  darkness of the kingdom     came one brave fighter.    "
         01:6096  20 4C 6F 6E 
         01:609A  67 20 61 67 
         01:609E  6F 2C 20 74 
         01:60A2  68 72 65 65 
         01:60A6  20 64 72 61 
         01:60AA  67 6F 6E 73 
         01:60AE  64 65 73 63 
         01:60B2  65 6E 64 65 
         01:60B6  64 20 66 72 
         01:60BA  6F 6D 20 73 
         01:60BE  6B 69 65 73 
         01:60C2  20 61 62 6F 
         01:60C6  76 65 20 20 
         01:60CA  77 69 74 68 
         01:60CE  20 61 20 72 
         01:60D2  6F 6C 6C 69 
         01:60D6  6E 67 20 74 
         01:60DA  68 75 6E 64 
         01:60DE  65 72 20 61 
         01:60E2  6E 64 20 20 
         01:60E6  64 65 73 74 
         01:60EA  72 6F 79 65 
         01:60EE  64 20 61 20 
         01:60F2  6B 69 6E 67 
         01:60F6  64 6F 6D 20 
         01:60FA  69 6E 74 6F 
         01:60FE  20 20 20 20 
         01:6102  64 61 72 6B 
         01:6106  6E 65 73 73 
         01:610A  2E 20 20 20 
         01:610E  20 20 20 20 
         01:6112  20 20 20 20 
         01:6116  20 20 20 20 
         01:611A  20 20 20 20 
         01:611E  46 72 6F 6D 
         01:6122  20 6C 65 6E 
         01:6126  67 74 68 79 
         01:612A  20 73 75 66 
         01:612E  66 65 72 69 
         01:6132  6E 67 20 61 
         01:6136  6E 64 20 20 
         01:613A  64 61 72 6B 
         01:613E  6E 65 73 73 
         01:6142  20 6F 66 20 
         01:6146  74 68 65 20 
         01:614A  6B 69 6E 67 
         01:614E  64 6F 6D 20 
         01:6152  20 20 20 20 
         01:6156  63 61 6D 65 
         01:615A  20 6F 6E 65 
         01:615E  20 62 72 61 
         01:6162  76 65 20 66 
         01:6166  69 67 68 74 
         01:616A  65 72 2E 20 
         01:616E  20 20 20    
21957    01:6171             	_TABLE_NPC_TYPE_LV1:
21958    01:6171  01         			db	1
21959    01:6172  00         			db	0
21960    01:6173             	_TABLE_NPC_X_POS_REF_LV1:
21961    01:6173  90 03      			dw	912
21962    01:6175  D0 04      			dw	1232
21963    01:6177             	_TABLE_NPC_Y_POS_REF_LV1:
21964    01:6177  40 02      			dw	576
21965    01:6179  90 01      			dw	400
21966    01:617B             	_TABLE_OBJECT_TYPE_LV1:
21967    01:617B  00         			db	0
21968    01:617C  01         			db	1
21969    01:617D  01         			db	1
21970    01:617E  01         			db	1
21971    01:617F  01         			db	1
21972    01:6180  01         			db	1
21973    01:6181  01         			db	1
21974    01:6182  02         			db	2
21975    01:6183  01         			db	1
21976    01:6184  01         			db	1
21977    01:6185  01         			db	1
21978    01:6186  01         			db	1
21979    01:6187  01         			db	1
21980    01:6188  01         			db	1
21981    01:6189  01         			db	1
21982    01:618A  01         			db	1
21983    01:618B  01         			db	1
21984    01:618C  01         			db	1
21985    01:618D  01         			db	1
21986    01:618E  01         			db	1
21987    01:618F  01         			db	1
21988    01:6190  01         			db	1
21989    01:6191  01         			db	1
21990    01:6192             	_TABLE_OBJECT_X_POS_REF_LV1:
21991    01:6192  90 06      			dw	1680
21992    01:6194  00 05      			dw	1280
21993    01:6196  C0 05      			dw	1472
21994    01:6198  A0 05      			dw	1440
21995    01:619A  90 04      			dw	1168
21996    01:619C  B0 04      			dw	1200
21997    01:619E  C0 03      			dw	960
21998    01:61A0  D8 03      			dw	984
21999    01:61A2  50 05      			dw	1360
22000    01:61A4  70 05      			dw	1392
22001    01:61A6  10 06      			dw	1552
22002    01:61A8  90 06      			dw	1680
22003    01:61AA  B0 06      			dw	1712
22004    01:61AC  D0 06      			dw	1744
22005    01:61AE  E0 04      			dw	1248
22006    01:61B0  00 05      			dw	1280
22007    01:61B2  90 04      			dw	1168
22008    01:61B4  10 04      			dw	1040
22009    01:61B6  80 02      			dw	640
22010    01:61B8  A0 02      			dw	672
22011    01:61BA  50 01      			dw	336
22012    01:61BC  70 01      			dw	368
22013    01:61BE  A0 01      			dw	416
22014    01:61C0             	_TABLE_OBJECT_Y_POS_REF_LV1:
22015    01:61C0  80 01      			dw	384
22016    01:61C2  A0 01      			dw	416
22017    01:61C4  E0 01      			dw	480
22018    01:61C6  F0 01      			dw	496
22019    01:61C8  30 02      			dw	560
22020    01:61CA  30 02      			dw	560
22021    01:61CC  50 02      			dw	592
22022    01:61CE  50 02      			dw	592
22023    01:61D0  50 02      			dw	592
22024    01:61D2  50 02      			dw	592
22025    01:61D4  C0 02      			dw	704
22026    01:61D6  D0 02      			dw	720
22027    01:61D8  D0 02      			dw	720
22028    01:61DA  D0 02      			dw	720
22029    01:61DC  E0 02      			dw	736
22030    01:61DE  E0 02      			dw	736
22031    01:61E0  F0 02      			dw	752
22032    01:61E2  50 03      			dw	848
22033    01:61E4  70 03      			dw	880
22034    01:61E6  70 03      			dw	880
22035    01:61E8  80 03      			dw	896
22036    01:61EA  80 03      			dw	896
22037    01:61EC  80 03      			dw	896
22038    01:61EE             	_TABLE_REWARD_TYPE_LV1:
22039    01:61EE  04         			db	4
22040    01:61EF  04         			db	4
22041    01:61F0  04         			db	4
22042    01:61F1  04         			db	4
22043    01:61F2  04         			db	4
22044    01:61F3  04         			db	4
22045    01:61F4  04         			db	4
22046    01:61F5  63         			db	99
22047    01:61F6  04         			db	4
22048    01:61F7  04         			db	4
22049    01:61F8  04         			db	4
22050    01:61F9  04         			db	4
22051    01:61FA  04         			db	4
22052    01:61FB  04         			db	4
22053    01:61FC  04         			db	4
22054    01:61FD  04         			db	4
22055    01:61FE  04         			db	4
22056    01:61FF  04         			db	4
22057    01:6200  04         			db	4
22058    01:6201  04         			db	4
22059    01:6202  04         			db	4
22060    01:6203  08         			db	8
22061    01:6204  04         			db	4
22062    01:6205             	_TABLE_REWARD_VRAM_ADR_LV1:
22063    01:6205  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22064    01:6207  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22065    01:6209  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22066    01:620B  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22067    01:620D  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22068    01:620F  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22069    01:6211  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22070    01:6213  63 00      			dw	99
22071    01:6215  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22072    01:6217  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22073    01:6219  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22074    01:621B  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22075    01:621D  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22076    01:621F  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22077    01:6221  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22078    01:6223  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22079    01:6225  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22080    01:6227  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22081    01:6229  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22082    01:622B  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22083    01:622D  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22084    01:622F  C0 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64
22085    01:6231  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22086    01:6233             	_TABLE_CHEST_X_POS_REF_LV1:
22087    01:6233  30 04      			dw	1072
22088    01:6235  30 03      			dw	816
22089    01:6237             	_TABLE_CHEST_Y_POS_REF_LV1:
22090    01:6237  40 03      			dw	832
22091    01:6239  50 03      			dw	848
22092    01:623B             	_TABLE_PLAYER_TILES_ADR:
22093    01:623B  C0 7D      			dw	_tiles_SPR_PLAYER_ARMOR
22094    01:623D  C0 6F      			dw	_tiles_SPR_PLAYER_NAKED
22095    01:623F             	_TABLE_PLAYER_TILES_BANK:
22096    01:623F  15         			db	^_tiles_SPR_PLAYER_ARMOR
22097    01:6240  17         			db	^_tiles_SPR_PLAYER_NAKED
22098    01:6241             	_TABLE_PLAYER_JUMP_V:
22099    01:6241  FC         			db	-4
22100    01:6242  FB         			db	-5
22101    01:6243  F6         			db	-10
22102    01:6244  FC         			db	-4
22103    01:6245  FC         			db	-4
22104    01:6246  F9         			db	-7
22105    01:6247  FA         			db	-6
22106    01:6248  FD         			db	-3
22107    01:6249  FB         			db	-5
22108    01:624A  FE         			db	-2
22109    01:624B  FC         			db	-4
22110    01:624C  FF         			db	-1
22111    01:624D  FF         			db	-1
22112    01:624E  FF         			db	-1
22113    01:624F  FF         			db	-1
22114    01:6250  00         			db	0
22115    01:6251  00         			db	0
22116    01:6252  00         			db	0
22117    01:6253  00         			db	0
22118    01:6254  01         			db	1
22119    01:6255  01         			db	1
22120    01:6256  01         			db	1
22121    01:6257  01         			db	1
22122    01:6258  04         			db	4
22123    01:6259  02         			db	2
22124    01:625A  05         			db	5
22125    01:625B  03         			db	3
22126    01:625C  06         			db	6
22127    01:625D  07         			db	7
22128    01:625E  04         			db	4
22129    01:625F  04         			db	4
22130    01:6260  0A         			db	10
22131    01:6261  04         			db	4
22132    01:6262  04         			db	4
22133    01:6263  05         			db	5
22134    01:6264             	_TABLE_PLAYER_FALL:
22135    01:6264  00         			db	0
22136    01:6265  00         			db	0
22137    01:6266  00         			db	0
22138    01:6267  00         			db	0
22139    01:6268  01         			db	1
22140    01:6269  01         			db	1
22141    01:626A  01         			db	1
22142    01:626B  01         			db	1
22143    01:626C  02         			db	2
22144    01:626D  02         			db	2
22145    01:626E  02         			db	2
22146    01:626F  02         			db	2
22147    01:6270  03         			db	3
22148    01:6271  03         			db	3
22149    01:6272  03         			db	3
22150    01:6273  04         			db	4
22151    01:6274  04         			db	4
22152    01:6275  04         			db	4
22153    01:6276  04         			db	4
22154    01:6277  04         			db	4
22155    01:6278  05         			db	5
22156    01:6279             	_TABLE_PLAYER_JUMP_LADDER:
22157    01:6279  FC         			db	-4
22158    01:627A  FC         			db	-4
22159    01:627B  FD         			db	-3
22160    01:627C  FD         			db	-3
22161    01:627D  FD         			db	-3
22162    01:627E  FE         			db	-2
22163    01:627F  FE         			db	-2
22164    01:6280  FE         			db	-2
22165    01:6281  FF         			db	-1
22166    01:6282  FF         			db	-1
22167    01:6283  FF         			db	-1
22168    01:6284  FF         			db	-1
22169    01:6285  FF         			db	-1
22170    01:6286  00         			db	0
22171    01:6287  00         			db	0
22172    01:6288  00         			db	0
22173    01:6289  00         			db	0
22174    01:628A  01         			db	1
22175    01:628B  01         			db	1
22176    01:628C  01         			db	1
22177    01:628D  01         			db	1
22178    01:628E  01         			db	1
22179    01:628F  02         			db	2
22180    01:6290  02         			db	2
22181    01:6291  02         			db	2
22182    01:6292  03         			db	3
22183    01:6293  03         			db	3
22184    01:6294  03         			db	3
22185    01:6295  04         			db	4
22186    01:6296  04         			db	4
22187    01:6297             	_TABLE_WEAPON_TILES_ADR:
22188    01:6297  40 6A      			dw	_tiles_SPR_WEAPON_0
22189    01:6299  C0 6C      			dw	_tiles_SPR_WEAPON_1
22190    01:629B  40 6F      			dw	_tiles_SPR_WEAPON_2
22191    01:629D  C0 71      			dw	_tiles_SPR_WEAPON_3
22192    01:629F  40 74      			dw	_tiles_SPR_WEAPON_4
22193    01:62A1             	_TABLE_WEAPON_TILES_BANK:
22194    01:62A1  19         			db	^_tiles_SPR_WEAPON_0
22195    01:62A2  19         			db	^_tiles_SPR_WEAPON_1
22196    01:62A3  19         			db	^_tiles_SPR_WEAPON_2
22197    01:62A4  19         			db	^_tiles_SPR_WEAPON_3
22198    01:62A5  19         			db	^_tiles_SPR_WEAPON_4
22199    01:62A6             	_TABLE_SHOP_ITEMS_LV1:
22200    01:62A6  00         			db	0
22201    01:62A7  01         			db	1
22202    01:62A8  02         			db	2
22203    01:62A9  03         			db	3
22204    01:62AA  04         			db	4
22205    01:62AB  05         			db	5
22206    01:62AC  06         			db	6
22207    01:62AD  07         			db	7
22208    01:62AE  08         			db	8
22209    01:62AF  09         			db	9
22210    01:62B0             	_TABLE_SHOP_PRICES_LV1:
22211    01:62B0  64 00      			dw	100
22212    01:62B2  E8 03      			dw	1000
22213    01:62B4  60 09      			dw	2400
22214    01:62B6  80 25      			dw	9600
22215    01:62B8  1E 00      			dw	30
22216    01:62BA  50 00      			dw	80
22217    01:62BC  2C 01      			dw	300
22218    01:62BE  20 03      			dw	800
22219    01:62C0  40 06      			dw	1600
22220    01:62C2  96 00      			dw	150
22221    01:62C4             	_TABLE_SHOP_ITEMS_TILES_ADR:
22222    01:62C4  E0 60      			dw	_tiles_ITEM_WEAPON_2
22223    01:62C6  60 61      			dw	_tiles_ITEM_WEAPON_3
22224    01:62C8  E0 61      			dw	_tiles_ITEM_WEAPON_4
22225    01:62CA  60 62      			dw	_tiles_ITEM_WEAPON_5
22226    01:62CC  E0 62      			dw	_tiles_ITEM_KEY
22227    01:62CE  60 63      			dw	_tiles_ITEM_ARMOR_2
22228    01:62D0  E0 63      			dw	_tiles_ITEM_ARMOR_3
22229    01:62D2  60 64      			dw	_tiles_ITEM_ARMOR_4
22230    01:62D4  E0 64      			dw	_tiles_ITEM_ARMOR_5
22231    01:62D6  60 65      			dw	_tiles_ITEM_POTION
22232    01:62D8             	_TABLE_SHOP_ITEMS_TILES_BANK:
22233    01:62D8  12         			db	^_tiles_ITEM_WEAPON_2
22234    01:62D9  12         			db	^_tiles_ITEM_WEAPON_3
22235    01:62DA  12         			db	^_tiles_ITEM_WEAPON_4
22236    01:62DB  12         			db	^_tiles_ITEM_WEAPON_5
22237    01:62DC  12         			db	^_tiles_ITEM_KEY
22238    01:62DD  12         			db	^_tiles_ITEM_ARMOR_2
22239    01:62DE  12         			db	^_tiles_ITEM_ARMOR_3
22240    01:62DF  12         			db	^_tiles_ITEM_ARMOR_4
22241    01:62E0  12         			db	^_tiles_ITEM_ARMOR_5
22242    01:62E1  12         			db	^_tiles_ITEM_POTION
22243    01:62E2             	_TABLE_CURSOR_POS_X:
22244    01:62E2  18         			db	24
22245    01:62E3  38         			db	56
22246    01:62E4  60         			db	96
22247    01:62E5  88         			db	136
22248    01:62E6  B0         			db	176
22249    01:62E7  18         			db	24
22250    01:62E8  38         			db	56
22251    01:62E9  60         			db	96
22252    01:62EA  88         			db	136
22253    01:62EB  B0         			db	176
22254    01:62EC  D4         			db	212
22255                        	
22256               2313     		.bss
22257    F8:2313             	_sequence_id:
22258    F8:2313             			ds	1
22259    F8:2314             	_sequence_loaded:
22260    F8:2314             			ds	1
22261    F8:2315             	_level_id:
22262    F8:2315             			ds	1
22263    F8:2316             	_respawn:
22264    F8:2316             			ds	1
22265    F8:2317             	_player_id:
22266    F8:2317             			ds	1
22267    F8:2318             	_player_state:
22268    F8:2318             			ds	1
22269    F8:2319             	_player_axis:
22270    F8:2319             			ds	1
22271    F8:231A             	_player_previous_axis:
22272    F8:231A             			ds	1
22273    F8:231B             	_player_counter_anim:
22274    F8:231B             			ds	1
22275    F8:231C             	_player_index_jump:
22276    F8:231C             			ds	1
22277    F8:231D             	_player_index_fall:
22278    F8:231D             			ds	1
22279    F8:231E             	_player_counter_attack:
22280    F8:231E             			ds	1
22281    F8:231F             	_player_naked:
22282    F8:231F             			ds	1
22283    F8:2320             	_player_attack:
22284    F8:2320             			ds	1
22285    F8:2321             	_jump_ladder:
22286    F8:2321             			ds	1
22287    F8:2322             	_jump_max_index:
22288    F8:2322             			ds	1
22289    F8:2323             	_fall_ladder:
22290    F8:2323             			ds	1
22291    F8:2324             	_hit_wall:
22292    F8:2324             			ds	1
22293    F8:2325             	_chain_id:
22294    F8:2325             			ds	1
22295    F8:2326             	_weapon_id:
22296    F8:2326             			ds	1
22297    F8:2327             	_armor_level:
22298    F8:2327             			ds	1
22299    F8:2328             	_weapon_level:
22300    F8:2328             			ds	1
22301    F8:2329             	_chain_unfold:
22302    F8:2329             			ds	1
22303    F8:232A             	_list_chain_active:
22304    F8:232A             			ds	3
22305    F8:232D             	_life_amount:
22306    F8:232D             			ds	1
22307    F8:232E             	_credits_amount:
22308    F8:232E             			ds	1
22309    F8:232F             	_key_amount:
22310    F8:232F             			ds	1
22311    F8:2330             	_potion_amount:
22312    F8:2330             			ds	1
22313    F8:2331             	_minutes:
22314    F8:2331             			ds	1
22315    F8:2332             	_seconds:
22316    F8:2332             			ds	1
22317    F8:2333             	_time_counter:
22318    F8:2333             			ds	1
22319    F8:2334             	_minutes_backup:
22320    F8:2334             			ds	1
22321    F8:2335             	_seconds_backup:
22322    F8:2335             			ds	1
22323    F8:2336             	_object_start_index:
22324    F8:2336             			ds	1
22325    F8:2337             	_level_object_number:
22326    F8:2337             			ds	1
22327    F8:2338             	_onscreen_object_number:
22328    F8:2338             			ds	1
22329    F8:2339             	_list_object_type:
22330    F8:2339             			ds	25
22331    F8:2352             	_list_object_state:
22332    F8:2352             			ds	25
22333    F8:236B             	_list_object_energy:
22334    F8:236B             			ds	25
22335    F8:2384             	_list_reward_type:
22336    F8:2384             			ds	25
22337    F8:239D             	_list_object_counter:
22338    F8:239D             			ds	25
22339    F8:23B6             	_list_onscreen_object:
22340    F8:23B6             			ds	8
22341    F8:23BE             	_chest_start_index:
22342    F8:23BE             			ds	1
22343    F8:23BF             	_level_chest_number:
22344    F8:23BF             			ds	1
22345    F8:23C0             	_onscreen_chest_number:
22346    F8:23C0             			ds	1
22347    F8:23C1             	_list_chest_state:
22348    F8:23C1             			ds	8
22349    F8:23C9             	_list_onscreen_chest:
22350    F8:23C9             			ds	8
22351    F8:23D1             	_npc_start_index:
22352    F8:23D1             			ds	1
22353    F8:23D2             	_level_npc_number:
22354    F8:23D2             			ds	1
22355    F8:23D3             	_onscreen_npc_number:
22356    F8:23D3             			ds	1
22357    F8:23D4             	_list_npc_type:
22358    F8:23D4             			ds	9
22359    F8:23DD             	_list_npc_state:
22360    F8:23DD             			ds	9
22361    F8:23E6             	_list_onscreen_npc:
22362    F8:23E6             			ds	9
22363    F8:23EF             	_index_x:
22364    F8:23EF             			ds	1
22365    F8:23F0             	_index_y:
22366    F8:23F0             			ds	1
22367    F8:23F1             	_item_index:
22368    F8:23F1             			ds	1
22369    F8:23F2             	_shop_phase:
22370    F8:23F2             			ds	1
22371    F8:23F3             	_shop_counter:
22372    F8:23F3             			ds	1
22373    F8:23F4             	_palette_step:
22374    F8:23F4             			ds	1
22375    F8:23F5             	_tilemap_mask:
22376    F8:23F5             			ds	256
22377    F8:24F5             	_player_pos_x:
22378    F8:24F5             			ds	2
22379    F8:24F7             	_player_pos_y:
22380    F8:24F7             			ds	2
22381    F8:24F9             	_camera_max_y_position:
22382    F8:24F9             			ds	2
22383    F8:24FB             	_camera_pos_x_backup:
22384    F8:24FB             			ds	2
22385    F8:24FD             	_camera_pos_y_backup:
22386    F8:24FD             			ds	2
22387    F8:24FF             	_list_object_x_pos:
22388    F8:24FF             			ds	50
22389    F8:2531             	_list_object_y_pos:
22390    F8:2531             			ds	50
22391    F8:2563             	_list_object_x_pos_ref:
22392    F8:2563             			ds	50
22393    F8:2595             	_list_object_y_pos_ref:
22394    F8:2595             			ds	50
22395    F8:25C7             	_list_chest_x_pos:
22396    F8:25C7             			ds	16
22397    F8:25D7             	_list_chest_y_pos:
22398    F8:25D7             			ds	16
22399    F8:25E7             	_list_chest_x_pos_ref:
22400    F8:25E7             			ds	16
22401    F8:25F7             	_list_chest_y_pos_ref:
22402    F8:25F7             			ds	16
22403    F8:2607             	_list_npc_x_pos:
22404    F8:2607             			ds	18
22405    F8:2619             	_list_npc_y_pos:
22406    F8:2619             			ds	18
22407    F8:262B             	_list_npc_x_pos_ref:
22408    F8:262B             			ds	18
22409    F8:263D             	_list_npc_y_pos_ref:
22410    F8:263D             			ds	18
22411    F8:264F             	_global_counter:
22412    F8:264F             			ds	2
22413    F8:2651             	_letter_index:
22414    F8:2651             			ds	2
22415    F8:2653             	_letter_counter:
22416    F8:2653             			ds	2
22417    F8:2655             	_zenny_amount:
22418    F8:2655             			ds	2
22419    F8:2657             	_score:
22420    F8:2657             			ds	2
22421    F8:2659             	_shop_prices:
22422    F8:2659             			ds	20
22423    F8:266D             	_palette_buffer:
22424    F8:266D             			ds	32
22425    F8:268D             	_weapon_y_offset:
22426    F8:268D             			ds	1
22427    F8:268E             	_ptr_REWARD_TYPE:
22428    F8:268E             			ds	2
22429    F8:2690             	_ptr_REWARD_VRAM_ADR:
22430    F8:2690             			ds	2
22431    F8:2692             	_ptr_SHOP_ITEM_PRICES:
22432    F8:2692             			ds	2
22433                        	
22434               E31D     		.code
22435               0001     		.if		leaf_needs < 7
22436               0007     	leaf_needs	.set	7
22437                        		.endif
22438                        	
22439                        	;0 error(s) in compilation
22440                        	;	literal pool:146
22441                        	;	constant pool:381
22442                        	;	global pool:582
22443                        	;	Macro pool:326
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-final.asm
    5                        	;
    6                        	; PCEAS auto-includes this file at the end of every pass in HuCC or SDCC.
    7                        	;
    8                        	; Copyright John Brandwood 2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; This is used to select which assembly-language library files to include in
   18                        	; a HuCC project, using labels defined in the compiler's header files.
   19                        	;
   20                        	; ***************************************************************************
   21                        	; ***************************************************************************
   22                        	
   23                        			; Allow projects to customize what is included at the end
   24                        			; of a pass without replacing the entire "hucc-final.asm".
   25                        	
   26               E31D     			.code
   27               0000     			.bank	CORE_BANK
   28               E31D     			.page	CORE_PAGE
   29                        	
                             #[3]   "..\..\..\include\hucc\hucc-final-extra.asm"
   30                        			include	"hucc-final-extra.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-final-extra.asm
    5                        	;
    6                        	; hucc-final.asm includes this file at the end of every pass in HuCC or SDCC.
    7                        	;
    8                        	; Copyright John Brandwood 2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; This is used to select which assembly-language library files to include in
   18                        	; a HuCC project, using labels defined in the compiler's header files.
   19                        	;
   20                        	; ***************************************************************************
   21                        	; ***************************************************************************
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   31                        	
   32                        			; Libraries required for basic functionality.
   33                        	
   34               E31D     			.code
   35               0000     			.bank	CORE_BANK
   36               E31D     			.page	CORE_PAGE
   37                        	
                             #[3]   "..\..\..\include\hucc\common.asm"
   38                        			include	"common.asm"		; Common helpers.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; common.asm
    5                        	;
    6                        	; Small, generic, PCE subroutines that are commonly useful when developing.
    7                        	;
    8                        	; These should be located in permanently-accessible memory!
    9                        	;
   10                        	; Copyright John Brandwood 2021-2024.
   11                        	;
   12                        	; Distributed under the Boost Software License, Version 1.0.
   13                        	; (See accompanying file LICENSE_1_0.txt or copy at
   14                        	;  http://www.boost.org/LICENSE_1_0.txt)
   15                        	;
   16                        	; ***************************************************************************
   17                        	; ***************************************************************************
   18                        	
   19                        	
   20                        	
   21                        	; ***************************************************************************
   22                        	; ***************************************************************************
   23                        	;
   24                        	; Wait for the next VBLANK IRQ.
   25                        	;
   26                        	
   27    00:E31D  AD 41 22   	wait_vsync:	lda	irq_cnt			; System Card variable, changed
   28    00:E320  CD 41 22   	.loop:		cmp	irq_cnt			; every VBLANK interrupt.
   29    00:E323  F0 FB      			beq	.loop
   30               0001     		.ifdef	HUCC
   31    00:E325  8D EB 22   			sta	old_cnt			; Remember the frame count.
   32                        		.endif
   33    00:E328  60         			rts
   34                        	
   35                        	
   36                        	
   37                        	; ***************************************************************************
   38                        	; ***************************************************************************
   39                        	;
   40                        	; Delay for the next Y VBLANK IRQs.
   41                        	;
   42                        	
   43               0001     		.ifdef	HUCC
   44    00:E329             	_vsync		.alias	wait_vsync
   45                        	
   46    00:E329  AD 41 22   	_vsync.1:	lda	irq_cnt			; HuCC's vsync(n) was defined
   47    00:E32C  38         			sec				; as frames from the previous
   48    00:E32D  ED EB 22   			sbc	old_cnt			; vsync() call, 1 to 255.
   49    00:E330  38         			sec
   50    00:E331  E5 F8      			sbc	<_al
   51    00:E333  90 02      			bcc	!+
   52    00:E335  A9 FF      			lda	#$FF
   53    00:E337  49 FF      	!:		eor	#$FF
   54    00:E339  1A         			inc	a
   55    00:E33A  A8         			tay
   56                        		.endif
   57                        	
   58    00:E33B  44 E0      	wait_nvsync:	bsr	wait_vsync		; # of VBLANK IRQs to wait in
   59    00:E33D  88         			dey				; the Y register.
   60    00:E33E  D0 FB      			bne	wait_nvsync
   61    00:E340  60         			rts
   62                        	
   63                        	
   64                        	
   65               0000     		.ifndef	HUCC
  101                        		.endif
  102                        	
  103                        	
  104                        	
  105                        	; ***************************************************************************
  106                        	; ***************************************************************************
  107                        	;
  108                        	; Map the _bp data far-pointer into MPR3 (& MPR4).
  109                        	;
  110                        	; Because the 16KB RAM region at $2000-$5FFF is composed of two separate
  111                        	; banks, with the 2nd bank having no specific relation to the 1st, there
  112                        	; is no way to deal with a bank-increment, so do not map that region.
  113                        	;
  114                        	; N.B. Library code relies on this preserving X and V!
  115                        	;
  116                        	
  117    00:E341  98         	map_bp_to_mpr3:	tya				; Put bank into MPR3.
  118    00:E342  F0 0A      			beq	!+
  119    00:E344  53 08      			tam3
  120    00:E346  A5 ED      			lda.h	<_bp			; Do not remap a ptr to RAM,
  121    00:E348  29 1F      			and	#$1F			; Remap ptr to MPR3.
  122    00:E34A  09 60      			ora	#$60
  123    00:E34C  85 ED      			sta.h	<_bp
  124    00:E34E  60         	!:		rts
  125                        	
  126    00:E34F  98         	map_bp_to_mpr34:tya				; Put bank into MPR3.
  127    00:E350  F0 0D      			beq	!+
  128    00:E352  53 08      			tam3
  129    00:E354  1A         			inc	a			; Put next into MPR4.
  130    00:E355  53 10      			tam4
  131    00:E357  A5 ED      			lda.h	<_bp			; Do not remap a ptr to RAM,
  132    00:E359  29 1F      			and	#$1F			; Remap ptr to MPR3.
  133    00:E35B  09 60      			ora	#$60
  134    00:E35D  85 ED      			sta.h	<_bp
  135    00:E35F  60         	!:		rts
  136                        	
  137                        	
  138                        	
  139                        	; ***************************************************************************
  140                        	; ***************************************************************************
  141                        	;
  142                        	; Increment the hi-byte of _bp and change TMA3 if necessary.
  143                        	;
  144                        	; N.B. Library code relies on this preserving A,X,Y and V!
  145                        	;
  146                        	
  147    00:E360  E6 ED      	inc.h_bp_mpr3:	inc.h	<_bp			; Increment hi-byte of _bp.
  148    00:E362  10 0B      			bpl	!+			; OK if within MPR0-MPR3.
  149    00:E364  48         			pha				; Increment the bank in MPR3,
  150    00:E365  43 08      			tma3				; usually when pointer moves
  151    00:E367  1A         			inc	a			; from $7FFF -> $8000.
  152    00:E368  53 08      			tam3
  153    00:E36A  A9 60      			lda	#$60
  154    00:E36C  85 ED      			sta.h	<_bp
  155    00:E36E  68         			pla
  156    00:E36F  60         	!:		rts
  157                        	
  158                        	
  159                        	
  160                        	; ***************************************************************************
  161                        	; ***************************************************************************
  162                        	;
  163                        	; Increment the hi-byte of _bp and change TMA3 and TMA4 if necessary.
  164                        	;
  165                        	; N.B. Library code relies on this preserving A,X,Y and V!
  166                        	;
  167                        	
  168    00:E370  E6 ED      	inc.h_bp_mpr34:	inc.h	<_bp			; Increment hi-byte of _bp.
  169    00:E372  10 0D      			bpl	!+			; OK if within MPR0-MPR3.
  170    00:E374  48         			pha				; Increment the bank in MPR3,
  171    00:E375  43 10      			tma4				; usually when pointer moves
  172    00:E377  53 08      			tam3				; from $7FFF -> $8000.
  173    00:E379  1A         			inc	a
  174    00:E37A  53 10      			tam4
  175    00:E37C  A9 60      			lda	#$60
  176    00:E37E  85 ED      			sta.h	<_bp
  177    00:E380  68         			pla
  178    00:E381  60         	!:		rts
  179                        	
  180                        	
  181                        	
  182                        	; ***************************************************************************
  183                        	; ***************************************************************************
  184                        	;
  185                        	; Put the _di data pointer into the VDC's MARR or MAWR register.
  186                        	;
  187                        	; N.B. Library code relies on this preserving Y!
  188                        	;
  189                        	
  190               0001     		.if	SUPPORT_SGX
  191    00:E382  A2 10      	sgx_di_to_marr:	ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  192    00:E384  F0         			db	$F0			; Turn "clx" into a "beq".
  193                        		.endif
  194                        	
  195    00:E385  82         	vdc_di_to_marr:	clx				; Offset to PCE VDC.
  196                        	
  197    00:E386  A9 01      	set_di_to_marr	lda	#VDC_MARR		; Set VDC or SGX destination
  198    00:E388  95 F7      			sta	<vdc_reg, x		; address.
  199    00:E38A  9D 00 02   			sta	VDC_AR, x
  200    00:E38D  80 09      			bra	!+
  201                        	
  202               0001     		.if	SUPPORT_SGX
  203    00:E38F  A2 10      	sgx_di_to_mawr:	ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  204    00:E391  F0         			db	$F0			; Turn "clx" into a "beq".
  205                        		.endif
  206                        	
  207    00:E392  82         	vdc_di_to_mawr:	clx				; Offset to PCE VDC.
  208                        	
  209    00:E393             	set_di_to_mawr;	lda	#VDC_MAWR		; Set VDC or SGX destination
  210    00:E393  74 F7      			stz	<vdc_reg, x		; address.
  211    00:E395  9E 00 02   			stz	VDC_AR, x
  212                        	
  213    00:E398  A5 F0      	!:		lda	<_di + 0
  214    00:E39A  9D 02 02   			sta	VDC_DL, x
  215    00:E39D  A5 F1      			lda	<_di + 1
  216    00:E39F  9D 03 02   			sta	VDC_DH, x
  217                        	
  218    00:E3A2  A9 02      			lda	#VDC_VWR		; Select the VRR/VWR data
  219    00:E3A4  95 F7      			sta	<vdc_reg, x		; register.
  220    00:E3A6  9D 00 02   			sta	VDC_AR, x
  221    00:E3A9  60         			rts
  222                        	
  223                        	
  224                        	
  225                        	; ***************************************************************************
  226                        	; ***************************************************************************
  227                        	;
  228                        	; Increment the hi-byte of _di and change TMA4 if necessary.
  229                        	;
  230                        	
  231               0000     		.if	0				; Save memory, for now.
  250                        		.endif
  251                        	
  252                        	
  253                        	
  254                        	; ***************************************************************************
  255                        	; ***************************************************************************
  256                        	;
  257                        	; Far-call a function in another bank.
  258                        	;
  259                        	; This is a potential alternative procedure call trampoline that uses only 10
  260                        	; bytes of common memory per bank of procedures, instead of 10 bytes for each
  261                        	; individual procedure call, BUT it uses the X register as a procedure-index,
  262                        	; and it needs a table of addresses at the end of every procedure bank.
  263                        	;
  264                        	; To use this ...
  265                        	;
  266                        	;  ldx #procedure-index
  267                        	;  jsr far_call_nn
  268                        	;
  269                        	; The called .PROC routine must exit with "jmp leave_proc" and not "rts".
  270                        	;
  271                        	; leave_proc:	pla
  272                        	;		tam6
  273                        	;		tya
  274                        	;		rts
  275                        	;
  276                        	; N.B. This costs 21 cycles vs 18 for the .newproc trampoline code (when you
  277                        	;      exclude preserving YA in zero-page).
  278                        	;
  279                        	; N.B. This was written as an excerise, and definitely not for HuC!
  280                        	;
  281                        	
  282               0000     		.if	0
  295                        		.endif					; 21
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
                             #[3]   "..\..\..\include\hucc\vce.asm"
   39                        			include	"vce.asm"		; Useful VCE routines.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; vce.asm
    5                        	;
    6                        	; Useful routines for operating the HuC6260 Video Color Encoder
    7                        	;
    8                        	; These should be located in permanently-accessible memory!
    9                        	;
   10                        	; Copyright John Brandwood 2021-2025.
   11                        	;
   12                        	; Distributed under the Boost Software License, Version 1.0.
   13                        	; (See accompanying file LICENSE_1_0.txt or copy at
   14                        	;  http://www.boost.org/LICENSE_1_0.txt)
   15                        	;
   16                        	; ***************************************************************************
   17                        	; ***************************************************************************
   18                        	
   19                        	;
   20                        	; Configure Library ...
   21                        	;
   22                        	
   23               0000     		.ifndef VCE_SPLIT_CROSS
   25                        		.endif
   26                        	
   27                        	
   28                        	
   29                        	; ***************************************************************************
   30                        	; ***************************************************************************
   31                        	;
   32                        	; xfer_palettes - Update the VCE with the queued palettes changes.
   33                        	;
   34                        	; This is normally called in a developer's vsync_hook handler, but it can
   35                        	; be called manually as long as it will not also be called in an interrupt.
   36                        	;
   37                        	; The queued transfers are split into 32-byte chunks so that an HSYNC and/or
   38                        	; TIMER IRQ is not delayed for too long during the VBLANK.
   39                        	;
   40                        	
   41    00:E3AA  A9 80      	xfer_palettes:	lda	#$80			; Acquire color mutex to avoid
   42    00:E3AC  0C 94 26   			tsb	color_mutex		; conflict with a delayed VBL.
   43    00:E3AF  30 5F      			bmi	.busy
   44                        	
   45    00:E3B1  AC 95 26   			ldy	color_queue_r		; Are there any palette xfers
   46    00:E3B4  CC 96 26   			cpy	color_queue_w		; queued up?
   47    00:E3B7  F0 54      			beq	.exit
   48                        	
   49    00:E3B9  08         			php				; Enable interrupts so that an
   50    00:E3BA  58         			cli				; HSYNC or TIMER IRQ can occur.
   51                        	
   52    00:E3BB  43 08      			tma3				; Preserve MPR3 & MPR4 because
   53    00:E3BD  48         			pha				; this normally runs in the
   54    00:E3BE  43 10      			tma4				; VBLANK IRQ.
   55    00:E3C0  48         			pha
   56                        	
   57               0001     		.if	!CDROM
   58    00:E3C1  73 16 E4 86			tii	.tia_func, color_tia, 8 ; Copy TIA to RAM.
         00:E3C5  22 08 00    
   59                        		.endif
   60                        	
   61    00:E3C8  B9 97 26   	.next_item:	lda	color_index, y		; Get the next set of palettes
   62    00:E3CB  0A         			asl	a			; from the queue.
   63    00:E3CC  0A         			asl	a
   64    00:E3CD  0A         			asl	a
   65    00:E3CE  0A         			asl	a
   66    00:E3CF  8D 02 04   			sta	VCE_CTA + 0
   67    00:E3D2  62         			cla
   68    00:E3D3  2A         			rol	a
   69    00:E3D4  8D 03 04   			sta	VCE_CTA + 1
   70                        	
   71    00:E3D7  BE 9F 26   			ldx	color_count,y		; How many palettes to xfer?
   72                        	
   73    00:E3DA  B9 B7 26   			lda	color_bank, y		; Map data into MPR3 & MPR4.
   74    00:E3DD  53 08      			tam3
   75    00:E3DF  1A         			inc	a
   76    00:E3E0  53 10      			tam4
   77    00:E3E2  B9 AF 26   			lda	color_addr_h, y
   78    00:E3E5  8D 88 22   			sta	.ram_tia + 2
   79    00:E3E8  B9 A7 26   			lda	color_addr_l, y
   80    00:E3EB  8D 87 22   	.palette_loop:	sta	.ram_tia + 1
   81                        	
   82               0000     		.if	CDROM
   84                        		.else
   85    00:E3EE  20 86 22   			jsr	.ram_tia		; Copy 32-bytes to the VCE.
   86                        		.endif
   87                        	
   88    00:E3F1  18         			clc				; Increment the data ptr to
   89    00:E3F2  69 20      			adc	#32			; the next 32-byte palette.
   90    00:E3F4  B0 1B      			bcs	.next_page
   91                        	
   92    00:E3F6  CA         	.next_palette:	dex				; Any palettes left to xfer?
   93    00:E3F7  D0 F2      			bne	.palette_loop
   94                        	
   95    00:E3F9  C8         			iny				; Increment the queue index.
   96    00:E3FA  98         			tya
   97    00:E3FB  29 07      			and	#7
   98    00:E3FD  A8         			tay
   99                        	
  100    00:E3FE  CC 96 26   			cpy	color_queue_w		; Any more items in the queue?
  101    00:E401  D0 C5      			bne	.next_item
  102    00:E403  8C 95 26   			sty	color_queue_r		; Signal the queue is empty.
  103                        	
  104    00:E406  68         			pla				; Restore MPR3 & MPR4.
  105    00:E407  53 10      			tam4
  106    00:E409  68         			pla
  107    00:E40A  53 08      			tam3
  108                        	
  109    00:E40C  28         			plp				; Restore interrupt state.
  110                        	
  111    00:E40D  9C 94 26   	.exit:		stz	color_mutex		; Release color mutex.
  112                        	
  113    00:E410  60         	.busy:		rts
  114                        	
  115    00:E411  EE 88 22   	.next_page:	inc	.ram_tia + 2
  116    00:E414  80 E0      			bra	.next_palette
  117                        	
  118               0001     		.if	!CDROM
  119               2286     	.ram_tia	=	color_tia		; Use a TIA in RAM.
  120                        	
  121    00:E416  E3 00 00 04	.tia_func:	tia	0, VCE_CTW, 32
         00:E41A  04 20 00    
  122    00:E41D  60         			rts
  123                        		.endif	!CDROM
  124                        	
  125               2694     			.bss
  126                        	
  127    F8:2694             	color_mutex:	ds	1			; Mutex for VCE changes.
  128    F8:2695             	color_queue_r:	ds	1			; Ring buffer read index.
  129    F8:2696             	color_queue_w:	ds	1			; Ring buffer write index.
  130    F8:2697             	color_index:	ds	8			; Ring buffer - Palette index.
  131    F8:269F             	color_count:	ds	8			; Ring buffer - Palette count.
  132    F8:26A7             	color_addr_l:	ds	8			; Ring buffer - Data Ptr (lo).
  133    F8:26AF             	color_addr_h:	ds	8			; Ring buffer - Data Ptr (hi).
  134    F8:26B7             	color_bank:	ds	8			; Ring buffer - Data Ptr (bank).
  135                        	
  136               E41E     			.code
  137                        	
  138                        	
  139                        	
  140                        	; ***************************************************************************
  141                        	; ***************************************************************************
  142                        	;
  143                        	; load_palettes - Queue a set of palettes to upload to the VCE next VBLANK.
  144                        	;
  145                        	; Args: _al = Palette index (0..15 for BG, 16..31 for SPR).
  146                        	; Args: _ah = Palette count (1..32).
  147                        	; Args: _bp = Pointer to palette data.
  148                        	; Args:   Y = Bank to map into MPR3 & MPR4, or zero to leave unchanged.
  149                        	;
  150                        	; N.B. Y==0 is only useful if the palette data is permanently mapped!
  151                        	;
  152                        	
  153                        	load_palettes	.proc
  179                        			.endp
  180                        	
  181                        	
  182                        	
  183                        	; ***************************************************************************
  184                        	; ***************************************************************************
  185                        	;
  186                        	; clear_vce - Clear all 512 of the VCE's palette entries.
  187                        	;
  188                        	
  189    1F:D4D4             	clear_vce	.proc
  190                        	
  191    1F:D4D4  08         			php				; Disable interrupts to avoid
  192    1F:D4D5  78         			sei				; VBLANK palette upload.
  193    1F:D4D6  C2         			cly
  194    1F:D4D7  9C 02 04   			stz	VCE_CTA+0		; Set VCE write address.
  195    1F:D4DA  9C 03 04   			stz	VCE_CTA+1
  196    1F:D4DD  9C 04 04   	.loop:		stz	VCE_CTW+0		; Set lo-byte of color.
  197    1F:D4E0  9C 05 04   			stz	VCE_CTW+1		; Write 1 color value.
  198    1F:D4E3  9C 04 04   			stz	VCE_CTW+0		; Set lo-byte of color.
  199    1F:D4E6  9C 05 04   			stz	VCE_CTW+1		; Write 1 color value.
  200    1F:D4E9  88         			dey
  201    1F:D4EA  D0 F1      			bne	.loop
  202    1F:D4EC  28         			plp
  203                        	
  204                        			leave				; All done, phew!
         1F:D4ED  4C EF FF   			jmp	leave_proc
  205                        	
  206                        			.endp
  207                        	
  208               0001     		.ifdef	HUCC
  209    00:E41E             			.alias	_clear_palette		= clear_vce
  210                        		.endif
  211                        	
  212                        	
  213                        	
  214                        	; ***************************************************************************
  215                        	; ***************************************************************************
  216                        	;
  217                        	; read_palettes - Read palettes from the VCE into a buffer in RAM.
  218                        	;
  219                        	; Args: _al = Palette index (0..15 for BG, 16..31 for SPR).
  220                        	; Args: _ah = Palette count (1..32).
  221                        	; Args: _di = Pointer to palette data destination in RAM.
  222                        	;
  223                        	; The transfer is split into 32-byte chunks so that an HSYNC and/or TIMER
  224                        	; IRQ is not delayed for too long while executing.
  225                        	;
  226                        	
  227    1F:D1F2             	read_palettes	.proc
  228                        	
  229    1F:D1F2  A9 80      	.wait:		lda	#$80			; Acquire color mutex to avoid
  230    1F:D1F4  0C 94 26   			tsb	color_mutex		; conflict with xfer_palettes.
  231    1F:D1F7  30 F9      			bmi	.wait
  232                        	
  233               0001     		.if	!CDROM
  234    1F:D1F9  73 30 D2 86			tii	.tai_func, color_tia, 8 ; Copy TAI to RAM.
         1F:D1FD  22 08 00    
  235                        		.endif
  236                        	
  237    1F:D200  A5 F8      	.next_item:	lda	<_al			; Get the palette number.
  238    1F:D202  0A         			asl	a
  239    1F:D203  0A         			asl	a
  240    1F:D204  0A         			asl	a
  241    1F:D205  0A         			asl	a
  242    1F:D206  8D 02 04   			sta	VCE_CTA + 0
  243    1F:D209  62         			cla
  244    1F:D20A  2A         			rol	a
  245    1F:D20B  8D 03 04   			sta	VCE_CTA + 1
  246                        	
  247    1F:D20E  A6 F9      			ldx	<_ah			; How many palettes to xfer?
  248                        	
  249    1F:D210  A5 F1      			lda.h	<_di
  250    1F:D212  8D 8A 22   			sta	.ram_tai + 4
  251    1F:D215  A5 F0      			lda.l	<_di
  252    1F:D217  8D 89 22   	.palette_loop:	sta	.ram_tai + 3
  253                        	
  254               0000     		.if	CDROM
  256                        		.else
  257    1F:D21A  20 86 22   			jsr	.ram_tai		; Copy 32-bytes from the VCE.
  258                        		.endif
  259                        	
  260    1F:D21D  18         			clc				; Increment the data ptr to
  261    1F:D21E  69 20      			adc	#32			; the next 32-byte palette.
  262    1F:D220  B0 09      			bcs	.next_page
  263                        	
  264    1F:D222  CA         	.next_palette:	dex				; Any palettes left to xfer?
  265    1F:D223  D0 F2      			bne	.palette_loop
  266                        	
  267    1F:D225  9C 94 26   			stz	color_mutex		; Release color mutex.
  268                        	
  269                        			leave
         1F:D228  4C EF FF   			jmp	leave_proc
  270                        	
  271    1F:D22B  EE 8A 22   	.next_page:	inc	.ram_tai + 4
  272    1F:D22E  80 F2      			bra	.next_palette
  273                        	
  274               0001     		.if	!CDROM
  275               2286     	.ram_tai	=	color_tia		; Use a TIA in RAM.
  276                        	
  277    1F:D230  F3 04 04 00	.tai_func:	tai	VCE_CTR, 0, 32
         1F:D234  00 20 00    
  278    1F:D237  60         			rts
  279                        		.endif	!CDROM
  280                        	
  281                        			.endp
  282                        	
  283               0001     		.ifdef	HUCC
  284    00:E41E             			.alias	_read_palette.3		= read_palettes
  285                        		.endif
  286                        	
  287                        	
  288                        	
  289                        	vce_fade_funcs	.procgroup
  516                        			.endprocgroup
  517                        	
  518                        	
  519                        	
  520                        	; ***************************************************************************
  521                        	; ***************************************************************************
  522                        	;
  523                        	; cross_fade_to - Cross fade a palette in RAM towards a reference palette.
  524                        	;
  525                        	; Args: _al = Number of colors (1..256).
  526                        	; Args: _di = Pointer to faded palette destination in RAM.
  527                        	; Args: _bp = Pointer to reference palette data.
  528                        	; Args:   Y = Bank to map into MPR3 & MPR4, or zero to leave unchanged.
  529                        	;
  530                        	; N.B. Y==0 is only useful if the reference palette data is already mapped!
  531                        	;
  532                        	; N.B. This only updates the palette in RAM by 1 RGB step, so it will need
  533                        	;      to be called 7 times to guarantee that you've reached the target.
  534                        	;
  535                        	
  536    1F:CD7A             	cross_fade_to	.proc
  537                        	
  538    1F:CD7A  43 08      			tma3				; Preserve MPR3.
  539    1F:CD7C  48         			pha
  540    1F:CD7D  43 10      			tma4				; Preserve MPR4.
  541    1F:CD7F  48         			pha
  542                        	
  543    1F:CD80  98         			tya				; Is there a bank to map?
  544    1F:CD81  F0 03      			beq	!+
  545                        	
  546    1F:CD83  20 4F E3   			jsr	map_bp_to_mpr34		; Map data to MPR3 & MPR4.
  547                        	
  548    1F:CD86  A5 F8      	!:		lda	<_al			; # of colors (1..256).
  549    1F:CD88  F0 05      			beq	.next_page		; Exactly 256 colors?
  550    1F:CD8A  0A         	!:		asl	a
  551    1F:CD8B  90 07      			bcc	.page_loop
  552    1F:CD8D  F0 FB      			beq	!-			; Exactly 128 colors?
  553                        	
  554    1F:CD8F  38         	.next_page:	sec				; More than 128 colors.
  555    1F:CD90  E6 ED      			inc.h	<_bp
  556    1F:CD92  E6 F1      			inc.h	<_di
  557                        	
  558    1F:CD94  08         	.page_loop:	php				; C is set if more than 128
  559    1F:CD95  A8         			tay				; colors left to fade.
  560                        	
  561    1F:CD96  88         	.green:		dey				; Is target green > fade green?
  562               0001     		.if	VCE_SPLIT_CROSS
  563    1F:CD97  8F F9 31   			bbs0	<_ah, .red
  564                        		.endif
  565    1F:CD9A  B1 EC      			lda	[_bp], y
  566    1F:CD9C  4A         			lsr	a
  567    1F:CD9D  88         			dey
  568    1F:CD9E  B1 EC      			lda	[_bp], y
  569    1F:CDA0  6A         			ror	a
  570    1F:CDA1  29 E0      			and	#%11100000
  571    1F:CDA3  85 00      			sta	<__temp
  572    1F:CDA5  C8         			iny
  573    1F:CDA6  B1 F0      			lda	[_di], y
  574    1F:CDA8  4A         			lsr	a
  575    1F:CDA9  88         			dey
  576    1F:CDAA  B1 F0      			lda	[_di], y
  577    1F:CDAC  6A         			ror	a
  578    1F:CDAD  08         			php
  579    1F:CDAE  AA         			tax
  580    1F:CDAF  29 E0      			and	#%11100000
  581    1F:CDB1  38         			sec
  582    1F:CDB2  E5 00      			sbc	<__temp
  583    1F:CDB4  22         			sax				; Move X to A but keep Z.
  584    1F:CDB5  F0 08      			beq	.set_green		; Don't update if equal green.
  585    1F:CDB7  B0 04      			bcs	.dec_green
  586    1F:CDB9  69 20      	.inc_green:	adc	#%00100000
  587    1F:CDBB  80 02      			bra	.set_green
  588    1F:CDBD  E9 20      	.dec_green:	sbc	#%00100000
  589    1F:CDBF  28         	.set_green:	plp
  590    1F:CDC0  2A         			rol	a
  591               0001     		.if	VCE_SPLIT_CROSS
  592    1F:CDC1  91 F0      			sta	[_di], y		; Save lo-byte of updated color.
  593                        		.else
  595                        		.endif
  596    1F:CDC3  62         			cla
  597    1F:CDC4  2A         			rol	a
  598    1F:CDC5  C8         			iny
  599    1F:CDC6  91 F0      			sta	[_di], y		; Save hi-byte of updated color.
  600               0001     		.if	VCE_SPLIT_CROSS
  601    1F:CDC8  88         			dey
  602    1F:CDC9  80 34      			bra	.next_color
  603                        		.endif
  604                        	
  605    1F:CDCB  88         	.red:		dey
  606    1F:CDCC  B1 EC      			lda	[_bp], y		; Is target red > fade red?
  607    1F:CDCE  29 38      			and	#%00111000
  608    1F:CDD0  85 00      			sta	<__temp
  609               0001     		.if	VCE_SPLIT_CROSS
  610    1F:CDD2  B1 F0      			lda	[_di], y
  611    1F:CDD4  AA         			tax
  612                        		.else
  614                        		.endif
  615    1F:CDD5  29 38      			and	#%00111000
  616    1F:CDD7  38         			sec
  617    1F:CDD8  E5 00      			sbc	<__temp
  618    1F:CDDA  22         			sax				; Move X to A but keep Z.
  619    1F:CDDB  F0 08      			beq	.set_red		; Don't update if equal red.
  620    1F:CDDD  B0 04      			bcs	.dec_red
  621    1F:CDDF  69 08      	.inc_red:	adc	#%00001000
  622    1F:CDE1  80 02      			bra	.set_red
  623    1F:CDE3  E9 08      	.dec_red:	sbc	#%00001000
  624    1F:CDE5  AA         	.set_red:	tax
  625                        	
  626    1F:CDE6  B1 EC      	.blue:		lda	[_bp], y		; Is target blue > fade blue?
  627    1F:CDE8  29 07      			and	#%00000111
  628    1F:CDEA  85 00      			sta	<__temp
  629    1F:CDEC  8A         			txa
  630    1F:CDED  29 07      			and	#%00000111
  631    1F:CDEF  38         			sec
  632    1F:CDF0  E5 00      			sbc	<__temp
  633    1F:CDF2  22         			sax				; Move X to A but keep Z.
  634    1F:CDF3  F0 08      			beq	.set_blue		; Don't update if equal blue.
  635    1F:CDF5  B0 04      			bcs	.dec_blue
  636    1F:CDF7  69 01      	.inc_blue:	adc	#%00000001
  637    1F:CDF9  80 02      			bra	.set_blue
  638    1F:CDFB  E9 01      	.dec_blue:	sbc	#%00000001
  639    1F:CDFD  91 F0      	.set_blue:	sta	[_di], y		; Save lo-byte of updated color.
  640                        	
  641    1F:CDFF  98         	.next_color:	tya				; Last color in the page?
  642    1F:CE00  D0 94      			bne	.green
  643    1F:CE02  28         			plp				; Are there another 128 colors?
  644    1F:CE03  90 07      			bcc	.finished
  645                        	
  646    1F:CE05  C6 ED      			dec.h	<_bp			; Fade the 1st 128 colors if
  647    1F:CE07  C6 F1      			dec.h	<_di			; there were more than 128.
  648    1F:CE09  18         			clc
  649    1F:CE0A  80 88      			bra	.page_loop
  650                        	
  651    1F:CE0C  68         	.finished:	pla				; Restore MPR4.
  652    1F:CE0D  53 10      			tam4
  653    1F:CE0F  68         			pla				; Restore MPR3.
  654    1F:CE10  53 08      			tam3
  655                        	
  656                        			leave				; All done, phew!
         1F:CE12  4C EF FF   			jmp	leave_proc
  657                        	
  658                        			.endp
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
                             #[3]   "..\..\..\include\hucc\vdc.asm"
   40                        			include	"vdc.asm"		; Useful VDC routines.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; vdc.asm
    5                        	;
    6                        	; Useful routines for operating the HuC6270 Video Display Controller.
    7                        	;
    8                        	; These should be located in permanently-accessible memory!
    9                        	;
   10                        	; Copyright John Brandwood 2021-2025.
   11                        	;
   12                        	; Distributed under the Boost Software License, Version 1.0.
   13                        	; (See accompanying file LICENSE_1_0.txt or copy at
   14                        	;  http://www.boost.org/LICENSE_1_0.txt)
   15                        	;
   16                        	; ***************************************************************************
   17                        	; ***************************************************************************
   18                        	
   19                        	;
   20                        	; Include dependancies ...
   21                        	;
   22                        	
   23                        			include "common.asm"		; Common helpers.
   24                        			include "vce.asm"		; Useful VCE routines.
   25                        	
   26                        	;
   27                        	; Choose how much to transfer to VRAM in a single chunk, normally 16-bytes.
   28                        	;
   29                        	; The cycle timings for a TIA-to-VRAM depend upon how the VDC's MWR CPU slots
   30                        	; line up to the CPU's writes, and how long the VDC has to halt the CPU while
   31                        	; it fetches the next scanline's sprite data.
   32                        	;
   33                        	; These cycle timings are for 0 sprites (best) and 16 sprites (worst) ...
   34                        	;
   35                        	; 32-byte TIA takes 270..364 cycles in 5MHz, 242..312 cycles in 7MHz. (8.44 cycles-per-byte best-case at 5MHz.)
   36                        	; 24-byte TIA takes 210..298 cycles in 5MHz, 186..256 cycles in 7MHz. (8.75 cycles-per-byte best-case at 5MHz.)
   37                        	; 16-byte TIA takes 142..234 cycles in 5MHz, 128..200 cycles in 7MHz. (8.88 cycles-per-byte best-case at 5MHz.)
   38                        	;
   39                        	; If a user wishes to be able to put RCR interrupts one-line-after-another,
   40                        	; then it is only safe to use 32-byte chunks if there are no TIMER or IRQ2
   41                        	; interrupts ... which is almost-impossible to rely on in library code!
   42                        	;
   43                        	
   44               0000     		.ifndef	VRAM_XFER_SIZE
   46                        		.endif
   47                        	
   48                        	;
   49                        	; Enable BG & SPR layers, and RCR interrupt.
   50                        	;
   51                        	
   52    00:E41E  A9 04      	set_rcron:	lda	#$04			; Enable RCR interrupt.
   53    00:E420  80 0A      			bra	!+
   54                        	
   55    00:E422  A9 80      	set_bgon:	lda	#$80			; Enable BG layer.
   56    00:E424  80 06      			bra	!+
   57                        	
   58    00:E426  A9 40      	set_spron:	lda	#$40			; Enable SPR layer.
   59    00:E428  80 02      			bra	!+
   60                        	
   61    00:E42A  A9 C0      	set_dspon:	lda	#$C0			; Enable BG & SPR layers.
   62                        	
   63    00:E42C  04 F3      	!:		tsb	<vdc_crl		; These take effect when
   64               0001     		.if	SUPPORT_SGX			; the next VBLANK occurs.
   65    00:E42E  04 03      			tsb	<sgx_crl
   66                        		.endif
   67    00:E430  60         			rts
   68                        	
   69                        	;
   70                        	; Disable BG & SPR layers, and RCR interrupt.
   71                        	;
   72                        	
   73    00:E431  A9 04      	set_rcroff:	lda	#$04			; Disable RCR interrupt.
   74    00:E433  80 0A      			bra	!+
   75                        	
   76    00:E435  A9 80      	set_bgoff:	lda	#$80			; Disable BG layer.
   77    00:E437  80 06      			bra	!+
   78                        	
   79    00:E439  A9 40      	set_sproff:	lda	#$40			; Disable SPR layer.
   80    00:E43B  80 02      			bra	!+
   81                        	
   82    00:E43D  A9 C0      	set_dspoff:	lda	#$C0			; Disable BG & SPR layers.
   83                        	
   84    00:E43F  14 F3      	!:		trb	<vdc_crl		; These take effect when
   85               0001     		.if	SUPPORT_SGX			; the next VBLANK occurs.
   86    00:E441  14 03      			trb	<sgx_crl
   87                        		.endif
   88    00:E443  60         			rts
   89                        	
   90                        	
   91                        	
   92                        	; ***************************************************************************
   93                        	; ***************************************************************************
   94                        	;
   95                        	; Put the _di data pointer into the VDC's MARR or MAWR register.
   96                        	;
   97                        	; N.B. Library code relies on this preserving Y!
   98                        	;
   99                        	; Args: _di + 0 = BAT X coordinate.
  100                        	; Args: _di + 1 = BAT Y coordinate.
  101                        	;
  102                        	; Here because it relies on the "vdc_bat_width" that is defined in this file.
  103                        	;
  104                        	
  105               0001     		.if	SUPPORT_SGX
  106    00:E444  A2 10      	sgx_di_xy_marr:	ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  107    00:E446  F0         			db	$F0			; Turn "clx" into a "beq".
  108                        		.endif
  109                        	
  110    00:E447  82         	vdc_di_xy_marr:	clx				; Offset to PCE VDC.
  111                        	
  112    00:E448  62         	set_di_xy_mawr:	cla
  113    00:E449  3C BF 26   			bit	vdc_bat_width, x	; Set by set_bat_size().
  114    00:E44C  30 08      			bmi	.w128
  115    00:E44E  70 03      			bvs	.w64
  116    00:E450  46 F1      	.w32:		lsr.h	<_di
  117    00:E452  6A         			ror	a
  118    00:E453  46 F1      	.w64:		lsr.h	<_di
  119    00:E455  6A         			ror	a
  120    00:E456  46 F1      	.w128:		lsr.h	<_di
  121    00:E458  6A         			ror	a
  122    00:E459  05 F0      			ora.l	<_di
  123    00:E45B  85 F0      			sta.l	<_di
  124    00:E45D  4C 93 E3   			jmp	set_di_to_mawr		; In "common.asm".
  125                        	
  126                        	
  127                        	
  128    1F:D238             	vdc_clear_vram	.procgroup			; These routines share code!
  129                        	
  130                        	; ***************************************************************************
  131                        	; ***************************************************************************
  132                        	;
  133                        	; clear_vram_sgx - Clear all of VRAM in the SGX VDC.
  134                        	; clear_vram_vdc - Clear all of VRAM in the PCE VDC.
  135                        	;
  136                        	; Args: _ax = word value to write to the BAT.
  137                        	; Args: _bl = hi-byte of size of BAT (# of words).
  138                        	;
  139                        	
  140               0001     		.if	SUPPORT_SGX
  141    1F:D238             	clear_vram_sgx	.proc
  142                        	
  143    1F:D238  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  144    1F:D23A  F0         			db	$F0			; Turn "clx" into a "beq".
  145                        	
  146    1F:D23B             			.ref	clear_vram_vdc		; Need clear_vram_vdc
  147                        			.endp
  148                        		.endif
  149                        	
  150    1F:D23B             	clear_vram_vdc	.proc
  151                        	
  152    1F:D23B  82         			clx				; Offset to PCE VDC.
  153                        	
  154    1F:D23C  20 51 FD   	clear_vram_x:	call	clear_bat_x		; Clear the BAT.
  155                        	
  156    1F:D23F  A9 80      			lda	#$80			; Xvert hi-byte of # words
  157    1F:D241  38         			sec				; in screen to loop count.
  158    1F:D242  E5 FA      			sbc	<_bl
  159    1F:D244  4A         			lsr	a
  160                        	
  161                        	;		cly				; Clear the rest of VRAM.
  162    1F:D245  9E 02 02   			stz	VDC_DL, x
  163    1F:D248  9E 03 02   	.clr_loop:	stz	VDC_DH, x		; Seperate writes to minimize
  164    1F:D24B  88         			dey				; VDC MWR penalty.
  165    1F:D24C  9E 03 02   			stz	VDC_DH, x
  166    1F:D24F  D0 F7      			bne	.clr_loop
  167    1F:D251  3A         			dec	a
  168    1F:D252  D0 F4      			bne	.clr_loop
  169                        	
  170                        			leave				; All done, phew!
         1F:D254  4C EF FF   			jmp	leave_proc
  171                        	
  172                        			.endp
  173                        	
  174                        	
  175                        	
  176                        	; ***************************************************************************
  177                        	; ***************************************************************************
  178                        	;
  179                        	; clear_bat_sgx - Clear the BAT in the SGX VDC.
  180                        	; clear_bat_vdc - Clear the BAT in the PCE VDC.
  181                        	;
  182                        	; Args: _ax = word value to write to the BAT.
  183                        	; Args: _bl = hi-byte of size of BAT (# of words).
  184                        	;
  185                        	
  186               0001     		.if	SUPPORT_SGX
  187                        	clear_bat_sgx	.proc
  193                        			.endp
  194                        		.endif
  195                        	
  196    1F:D257             	clear_bat_vdc	.proc
  197                        	
  198    1F:D257  82         			clx				; Offset to PCE VDC.
  199                        	
  200    1F:D258             			.ref	clear_bat_x		; Need clear_bat_x
  201                        			.endp
  202                        	
  203    1F:D258             	clear_bat_x	.proc				; HuCC uses this entry point.
  204                        	
  205    1F:D258  64 F0      			stz	<_di + 0		; Set VDC or SGX destination
  206    1F:D25A  64 F1      			stz	<_di + 1		; address.
  207    1F:D25C  20 93 E3   			jsr	set_di_to_mawr
  208                        	
  209    1F:D25F  A5 FA      			lda	<_bl			; Xvert hi-byte of # words
  210    1F:D261  4A         			lsr	a			; in screen to loop count.
  211                        	
  212    1F:D262  C2         			cly
  213    1F:D263  48         	.bat_loop:	pha
  214    1F:D264  A5 F8      			lda	<_ax + 0
  215    1F:D266  9D 02 02   			sta	VDC_DL, x
  216    1F:D269  A5 F9      			lda	<_ax + 1
  217    1F:D26B  9D 03 02   	.bat_pair:	sta	VDC_DH, x		; Seperate writes to minimize
  218    1F:D26E  88         			dey				; VDC MWR penalty.
  219    1F:D26F  9D 03 02   			sta	VDC_DH, x
  220    1F:D272  D0 F7      			bne	.bat_pair
  221                        	
  222    1F:D274  68         			pla
  223    1F:D275  3A         			dec	a
  224    1F:D276  D0 EB      			bne	.bat_loop
  225                        	
  226                        			leave
         1F:D278  4C EF FF   			jmp	leave_proc
  227                        	
  228                        			.endp
  229                        	
  230                        			.endprocgroup
  231                        	
  232                        	;
  233                        	;
  234                        	;
  235                        	
  236    1F:C8E8             	vdc_set_mode	.procgroup			; These routines share code!
  237                        	
  238                        	; ***************************************************************************
  239                        	; ***************************************************************************
  240                        	;
  241                        	; set_mode_sgx - Set video hardware registers from a data table.
  242                        	; set_mode_vdc - Set video hardware registers from a data table.
  243                        	;
  244                        	; Args: _bp, Y = _farptr to data table mapped into MPR3 & MPR4.
  245                        	;
  246                        	
  247               0001     		.if	SUPPORT_SGX
  248    1F:C8E8             	set_mode_sgx	.proc
  249                        	
  250    1F:C8E8  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  251    1F:C8EA  F0         			db	$F0			; Turn "clx" into a "beq".
  252                        	
  253                        			.endp
  254                        		.endif
  255                        	
  256    1F:C8EB             	set_mode_vdc	.proc
  257                        	
  258    1F:C8EB  82         			clx				; Offset to PCE VDC.
  259                        	
  260    1F:C8EC  F7 F8      			smb7	<_al			; Signal no set_bat_size() yet.
  261                        	
  262    1F:C8EE  43 08      			tma3				; Preserve MPR3.
  263    1F:C8F0  48         			pha
  264    1F:C8F1  43 10      			tma4				; Preserve MPR4.
  265    1F:C8F3  48         			pha
  266                        	
  267    1F:C8F4  20 4F E3   			jsr	map_bp_to_mpr34		; Map data to MPR3 & MPR4.
  268                        	
  269    1F:C8F7  08         			php				; Disable interrupts.
  270    1F:C8F8  78         			sei
  271                        	
  272    1F:C8F9  C2         			cly				; Table size is < 256 bytes.
  273                        	
  274    1F:C8FA  B1 EC      	.loop:		lda	[_bp], y		; Get the register #, +ve for
  275    1F:C8FC  F0 46      			beq	.done			; VDC, -128 for VCE_CR.
  276    1F:C8FE  10 0C      			bpl	.set_vdc_reg
  277                        	
  278                        			; Set the VCE_CR register.
  279                        	
  280    1F:C900  C8         	.set_vce_cr:	iny
  281                        	
  282    1F:C901  B1 EC      			lda	[_bp], y		; Get lo-byte of register.
  283    1F:C903  C8         			iny
  284    1F:C904  8D 44 22   			sta	vce_cr			; No SGX shadow for this!
  285    1F:C907  8D 00 04   			sta	VCE_CR			; Set the VCE clock speed.
  286    1F:C90A  80 EE      			bra	.loop			; Do not set VDC_MWR reg bits!
  287                        	
  288                        			; Set a VDC register.
  289                        	
  290    1F:C90C  C8         	.set_vdc_reg:	iny
  291    1F:C90D  9D 00 02   			sta	VDC_AR, x		; Set which VDC register.
  292                        	
  293    1F:C910  C9 05      			cmp	#VDC_CR			; CS if VDC_CR or higher.
  294    1F:C912  F0 14      			beq	.skip_cc
  295    1F:C914  18         			clc				; CC if not VDC_CR.
  296                        	
  297    1F:C915  49 09      			eor	#VDC_MWR		; Check if this the VDC_MWR
  298    1F:C917  D0 0F      			bne	.skip_cc		; without changing CC.
  299                        	
  300    1F:C919  B1 EC      			lda	[_bp], y		; Remember the BAT size so that
  301    1F:C91B  8D 42 22   			sta	vdc_mwr			; set_bat_size() can be called.
  302    1F:C91E  4A         			lsr	a
  303    1F:C91F  4A         			lsr	a
  304    1F:C920  4A         			lsr	a
  305    1F:C921  4A         			lsr	a
  306    1F:C922  85 F8      			sta	<_al
  307    1F:C924  C8         			iny
  308    1F:C925  C8         			iny
  309    1F:C926  80 D2      			bra	.loop
  310                        	
  311    1F:C928  B1 EC      	.skip_cc:	lda	[_bp], y		; Get lo-byte of register.
  312    1F:C92A  C8         			iny
  313    1F:C92B  90 08      			bcc	.not_vdc_cr
  314                        	
  315               0001     		.if	SUPPORT_SGX
  316    1F:C92D  E0 00      			cpx	#0			; Writing to the VDC or SGX?
  317    1F:C92F  F0 02      			beq	.save_crl
  318    1F:C931  29 F7      			and	#$F7			; We only need 1 vblank IRQ!
  319                        		.endif
  320                        	
  321    1F:C933  95 F3      	.save_crl:	sta	<vdc_crl, x		; Save VDC_CR shadow register.
  322                        	
  323    1F:C935  9D 02 02   	.not_vdc_cr:	sta	VDC_DL, x		; Write to VDC.
  324                        	
  325    1F:C938  B1 EC      			lda	[_bp], y		; Get hi-byte of register.
  326    1F:C93A  C8         			iny
  327    1F:C93B  9D 03 02   			sta	VDC_DH, x
  328    1F:C93E  90 BA      			bcc	.loop			; Next register, please!
  329                        	
  330    1F:C940  95 F4      			sta	<vdc_crh, x		; Save VDC_CR shadow register.
  331                        	
  332    1F:C942  80 B6      			bra	.loop			; Next register, please!
  333                        	
  334                        			; All registers set!
  335                        	
  336    1F:C944  A9 02      	.done:		lda	#VDC_VWR		; Leave with VDC_VWR set.
  337    1F:C946  95 F7      			sta	<vdc_reg, x
  338                        	;		lda	<vdc_reg, x		; Restore previous VDC_AR from
  339    1F:C948  9D 00 02   			sta	VDC_AR, x		; the shadow variable.
  340                        	
  341    1F:C94B  28         			plp				; Restore interrupts.
  342                        	
  343    1F:C94C  68         			pla				; Restore MPR4.
  344    1F:C94D  53 10      			tam4
  345    1F:C94F  68         			pla				; Restore MPR3.
  346    1F:C950  53 08      			tam3
  347                        	
  348    1F:C952  7F F8 07   			bbr7	<_al, set_bat_size	; Update if BAT size changed.
  349                        	
  350                        			leave				; All done, phew!
         1F:C955  4C EF FF   			jmp	leave_proc
  351                        	
  352    1F:C958             			.ref	set_bat_vdc
  353                        			.endp
  354                        	
  355                        	
  356                        	
  357                        	; ***************************************************************************
  358                        	; ***************************************************************************
  359                        	;
  360                        	; set_bat_sgx - Change the SGX BAT size and initialize variables based on it.
  361                        	; set_bat_vdc - Change the PCE BAT size and initialize variables based on it.
  362                        	;
  363                        	; Args: _al = new size (0-7).
  364                        	;
  365                        	; (VDC_MWR_32x32  >> 4) or in HuCC, SCR_SIZE_32x32.
  366                        	; (VDC_MWR_32x64  >> 4) or in HuCC, SCR_SIZE_32x64.
  367                        	; (VDC_MWR_64x32  >> 4) or in HuCC, SCR_SIZE_64x32.
  368                        	; (VDC_MWR_64x64  >> 4) or in HuCC, SCR_SIZE_64x64.
  369                        	; (VDC_MWR_128x32 >> 4) or in HuCC, SCR_SIZE_128x32.
  370                        	; (VDC_MWR_128x64 >> 4) or in HuCC, SCR_SIZE_128x64.
  371                        	;
  372                        	
  373               0001     		.if	SUPPORT_SGX
  374    1F:C958             	set_bat_sgx	.proc
  375                        	
  376    1F:C958  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  377    1F:C95A  F0         			db	$F0			; Turn "clx" into a "beq".
  378                        	
  379    1F:C95B             			.ref	set_bat_vdc
  380                        			.endp
  381                        		.endif
  382                        	
  383    1F:C95B             	set_bat_vdc	.proc
  384                        	
  385    1F:C95B  82         			clx				; Offset to PCE VDC.
  386                        	
  387    1F:C95C  A5 F8      	set_bat_size:	lda	<_al			; Get BAT size value.
  388    1F:C95E  29 07      			and	#7			; Sanitize screen size value.
  389    1F:C960  A8         			tay
  390    1F:C961  0A         			asl	a			; Put it in bits 4..6.
  391    1F:C962  0A         			asl	a
  392    1F:C963  0A         			asl	a
  393    1F:C964  0A         			asl	a
  394    1F:C965  85 00      			sta	<__temp
  395                        	
  396    1F:C967  B9 A7 C9   			lda	.width, y
  397    1F:C96A  9D BF 26   			sta	vdc_bat_width, x
  398    1F:C96D  3A         			dec	a
  399    1F:C96E  9D C1 26   			sta	vdc_bat_x_mask, x
  400                        	
  401    1F:C971  B9 AF C9   			lda	.height, y
  402    1F:C974  9D C0 26   			sta	vdc_bat_height, x
  403    1F:C977  3A         			dec	a
  404    1F:C978  9D C2 26   			sta	vdc_bat_y_mask, x
  405                        	
  406    1F:C97B  B9 B7 C9   			lda	.limit, y
  407    1F:C97E  9D C3 26   			sta	vdc_bat_limit, x
  408                        	
  409    1F:C981  B9 BF C9   			lda	.increment, y		; Put the VRAM increment for a
  410    1F:C984  95 F4      			sta	<vdc_crh, x		; line into vdc_crh for later.
  411                        	
  412    1F:C986  08         			php
  413    1F:C987  78         			sei
  414                        	
  415    1F:C988  A9 09      			lda	#VDC_MWR
  416    1F:C98A  9D 00 02   			sta	VDC_AR, x
  417                        	
  418    1F:C98D  AD 42 22   			lda	vdc_mwr			; Get the MWR access width bits.
  419    1F:C990  29 8F      			and	#%10001111
  420    1F:C992  05 00      			ora	<__temp
  421               0001     		.if	SUPPORT_SGX
  422    1F:C994  E0 00      			cpx	#PCE_VDC_OFFSET		; This has no SGX shadow!
  423    1F:C996  D0 03      			bne	!+
  424                        		.endif
  425    1F:C998  8D 42 22   			sta	vdc_mwr
  426    1F:C99B  9D 02 02   	!:		sta	VDC_DL, x
  427                        	
  428    1F:C99E  B5 F7      			lda	<vdc_reg, x		; Restore previous VDC_AR from
  429    1F:C9A0  9D 00 02   			sta	VDC_AR, x		; the shadow variable.
  430                        	
  431    1F:C9A3  28         			plp
  432                        	
  433                        			leave
         1F:C9A4  4C EF FF   			jmp	leave_proc
  434                        	
  435    1F:C9A7  20 40 80 80	.width:		db	$20,$40,$80,$80,$20,$40,$80,$80
         1F:C9AB  20 40 80 80 
  436    1F:C9AF  20 20 20 20	.height:	db	$20,$20,$20,$20,$40,$40,$40,$40
         1F:C9B3  40 40 40 40 
  437    1F:C9B7  03 07 0F 0F	.limit:		db	$03,$07,$0F,$0F,$07,$0F,$1F,$1F
         1F:C9BB  07 0F 1F 1F 
  438    1F:C9BF  08 10 18 18	.increment	db	$08,$10,$18,$18,$08,$10,$18,$18
         1F:C9C3  08 10 18 18 
  439                        	
  440               26BF     			.bss
  441                        	
  442                        	; **************
  443                        	; 16-bytes of VDC BAT information.
  444                        	;
  445                        	; N.B. MUST be 16-bytes before the SGX versions to use PCE_VDC_OFFSET.
  446                        	;
  447                        	; N.B. Declared inside this .proc so that they can be stripped if unused.
  448                        	
  449                        	; Initialized by set_bat_vdc.
  450    F8:26BF             	vdc_bat_width:	ds	1	; $20, $40, $80
  451    F8:26C0             	vdc_bat_height:	ds	1	; $20, $40
  452    F8:26C1             	vdc_bat_x_mask:	ds	1	; $1F, $3F, $7F
  453    F8:26C2             	vdc_bat_y_mask:	ds	1	; $1F, $3F
  454    F8:26C3             	vdc_bat_limit:	ds	1	; (>$03FF), (>$07FF), (>$0FFF), (>$1FFF)
  455                        	
  456                        	; From blkmap.asm just to avoid wasting .bss space with padding.
  457    F8:26C4             	vdc_map_draw_w:	ds	1	; (SCR_WIDTH / 8) + 1
  458    F8:26C5             	vdc_map_draw_h:	ds	1	; (SCR_HEIGHT / 8) + 1
  459    F8:26C6             	vdc_map_line_w:	ds	1	; Line width of map data in tiles.
  460    F8:26C7             	vdc_map_scrn_w:	ds	1	; Line width of map data in screens.
  461    F8:26C8             	vdc_map_pxl_x:	ds	2	; Current top-left X in pixels.
  462    F8:26CA             	vdc_map_pxl_y:	ds	2	; Current top-left Y in pixels.
  463    F8:26CC             	vdc_map_option:	ds	1	; Flags to disable BAT alignment.
  464                        	
  465                        	; From hucc-old-spr.asm just to avoid wasting .bss space with padding.
  466    F8:26CD             	spr_max:	ds	1
  467    F8:26CE             	spr_clr:	ds	1
  468                        	
  469               0001     		.if	SUPPORT_SGX
  470                        	
  471                        	; **************
  472                        	; 16-bytes of SGX BAT information.
  473                        	;
  474                        	; N.B. MUST be 16-bytes after the VDC versions to use SGX_VDC_OFFSET.
  475                        	;
  476                        	; N.B. Declared inside this .proc so that they can be stripped if unused.
  477                        	
  478                        	; Initialized by set_bat_sgx.
  479    F8:26CF             	sgx_bat_width:	ds	1	; $20, $40, $80
  480    F8:26D0             	sgx_bat_height:	ds	1	; $20, $40
  481    F8:26D1             	sgx_bat_x_mask:	ds	1	; $1F, $3F, $7F
  482    F8:26D2             	sgx_bat_y_mask:	ds	1	; $1F, $3F
  483    F8:26D3             	sgx_bat_limit:	ds	1	; (>$03FF), (>$07FF), (>$0FFF), (>$1FFF)
  484                        	
  485                        	; From blkmap.asm just to avoid wasting .bss space with padding.
  486    F8:26D4             	sgx_map_draw_w:	ds	1	; (SCR_WIDTH / 8) + 1
  487    F8:26D5             	sgx_map_draw_h:	ds	1	; (SCR_HEIGHT / 8) + 1
  488    F8:26D6             	sgx_map_line_w:	ds	1	; Line width of map data in tiles.
  489    F8:26D7             	sgx_map_scrn_w:	ds	1	; Line width of map data in screens.
  490    F8:26D8             	sgx_map_pxl_x:	ds	2	; Current top-left X in pixels.
  491    F8:26DA             	sgx_map_pxl_y:	ds	2	; Current top-left Y in pixels.
  492    F8:26DC             	sgx_map_option:	ds	1	; Flags to disable BAT alignment.
  493                        	
  494                        	; From hucc-old-spr.asm just to avoid wasting .bss space with padding.
  495    F8:26DD             	sgx_spr_max:	ds	1
  496    F8:26DE             	sgx_spr_clr:	ds	1
  497                        	
  498                        		.endif
  499                        	
  500               C9C7     			.code
  501                        	
  502                        			.endp
  503                        	
  504                        			.endprocgroup
  505                        	
  506                        	
  507                        	
  508                        	; ***************************************************************************
  509                        	; ***************************************************************************
  510                        	;
  511                        	; sgx_detect - Detect whether we're running on a SuperGrafx (and init VPC).
  512                        	;
  513                        	; Returns: X,C-flag, and "sgx_detected" = NZ, CS if detected.
  514                        	;
  515                        	; ***************************************************************************
  516                        	;
  517                        	; https://web.archive.org/web/20161129055659/http://cgfm2.emuviews.com/txt/sgxtech.txt
  518                        	;
  519                        	; ***************************************************************************
  520                        	;
  521                        	; HuC6202 VIDEO PRIORITY CONTROLLER (huge thanks to Charles MacDonald!)
  522                        	;
  523                        	; The VPC has no access to sprite priority data, it can only sort pixels
  524                        	; based upon which VDC and whether they are "sprite" or "background".
  525                        	;
  526                        	; This can sometimes lead to unexpected results with low-priority sprites.
  527                        	;
  528                        	; VPC registers $0008 and $0009 make up four 4-bit values that define the
  529                        	; enabled layers and priority setting for the four possible window areas.
  530                        	;
  531                        	; Bits 3-0 of $0008 are for the region where Window 1 and 2 overlap
  532                        	; Bits 7-4 of $0008 are for the region occupied by only Window 2
  533                        	; Bits 3-0 of $0009 are for the region occupied by only Window 1
  534                        	; Bits 7-4 of $0009 are for the region where no Window is present
  535                        	;
  536                        	;  Each 4-bit value has the same format:
  537                        	;
  538                        	;  Bit 0: VDC #1 graphics are 0=disabled, 1=enabled
  539                        	;  Bit 1: VDC #2 graphics are 0=disabled, 1=enabled
  540                        	;  Bit 2: Bit 0 of priority setting
  541                        	;  Bit 3: Bit 1 of priority setting
  542                        	;
  543                        	;   Priority Setting 0b00xx: (useful when VDC #1 is a fullscreen HUD)
  544                        	;
  545                        	;    FRONT
  546                        	;     SP1 = VDC #1 (pce) sprite pixels
  547                        	;     BG1 = VDC #1 (pce) background pixels
  548                        	;     SP2 = VDC #2 (sgx) sprite pixels
  549                        	;     BG2 = VDC #2 (sgx) background pixels
  550                        	;    BACK
  551                        	;
  552                        	;   Priority Setting 0b01xx: (useful for parallax backgrounds)
  553                        	;
  554                        	;    FRONT
  555                        	;     SP1 = VDC #1 (pce) sprite pixels
  556                        	;     SP2 = VDC #2 (sgx) sprite pixels
  557                        	;     BG1 = VDC #1 (pce) background pixels
  558                        	;     BG2 = VDC #2 (sgx) background pixels
  559                        	;    BACK
  560                        	;
  561                        	;   Priority Setting 0b10xx: (only useful for special effects)
  562                        	;
  563                        	;    FRONT
  564                        	;     BG1 = VDC #1 (pce) background pixels (transparent where sprites)
  565                        	;     BG2 = VDC #2 (sgx) background pixels
  566                        	;     SP1 = VDC #1 (pce) sprite pixels
  567                        	;     SP2 = VDC #2 (sgx) sprite pixels
  568                        	;    BACK
  569                        	
  570               0001     		.if	SUPPORT_SGX
  571               0001     		.if	1
  572    1F:D27B             	sgx_detect	.proc
  573                        	
  574    1F:D27B  A0 7F      			ldy	#$7F			; Use VRAM address $7F7F
  575    1F:D27D  84 F0      			sty.l	<_di			; because it won't cause
  576    1F:D27F  84 F1      			sty.h	<_di			; a screen glitch.
  577                        	
  578    1F:D281  20 8F E3   			jsr	sgx_di_to_mawr		; Write $0001 to SGX VRAM.
  579    1F:D284  A0 01      			ldy	#$01
  580    1F:D286  8C 12 02   			sty	SGX_DL
  581    1F:D289  9C 13 02   			stz	SGX_DH
  582                        	
  583    1F:D28C  20 92 E3   			jsr	vdc_di_to_mawr		; Write $0000 to VDC VRAM.
  584    1F:D28F  9C 02 02   			stz	VDC_DL
  585    1F:D292  9C 03 02   			stz	VDC_DH
  586                        	
  587    1F:D295  20 82 E3   			jsr	sgx_di_to_marr		; Check value in SGX VRAM.
  588    1F:D298  AC 12 02   			ldy	SGX_DL			; $01 if found, $00 if not.
  589    1F:D29B  8C E8 22   			sty	sgx_detected
  590    1F:D29E  F0 10      			beq	!+			; Skip the rest if not SGX.
  591                        	
  592    1F:D2A0  20 8F E3   			jsr	sgx_di_to_mawr		; Write $0000 to SGX VRAM
  593    1F:D2A3  9C 12 02   			stz	SGX_DL			; to clean VRAM contents.
  594    1F:D2A6  9C 13 02   			stz	SGX_DH
  595                        	
  596    1F:D2A9  73 B6 D2 08			tii	.vpc_mode, VPC_CR, 8	; Initialize the HuC6202 VPC.
         1F:D2AD  02 08 00    
  597                        	
  598    1F:D2B0  98         	!:		tya
  599    1F:D2B1  AA         			tax				; "leave" copies X back to A.
  600    1F:D2B2  4A         			lsr	a			; Also CC if PCE, CS if SGX.
  601                        	
  602                        			leave				; All done, phew!
         1F:D2B3  4C EF FF   			jmp	leave_proc
  603                        		.else
  618                        		.endif
  619                        	
  620               0000     		.ifndef	SGX_PARALLAX
  622                        		.endif
  623                        	
  624               0000     		.if	SGX_PARALLAX
  629                        		.else
  630    1F:D2B6  00 30      	.vpc_mode:	dw	$3000			; Use SGX as the background
  631    1F:D2B8  00 00      			dw	$0000			; behind a fullscreen HUD.
  632    1F:D2BA  00 00      			dw	$0000
  633    1F:D2BC  00 00      			dw	$0000
  634                        		.endif	SGX_PARALLAX
  635                        	
  636                        			.endp
  637                        	
  638               0000     		.ifndef	CORE_VERSION			; CORE has this in the kernel.
  642                        		.endif	CORE_VERSION
  643                        	
  644                        		.endif	SUPPORT_SGX
  645                        	
  646                        	
  647                        	
  648                        	
  649                        	vdc_copy_to	.procgroup			; These routines share code!
  799                        			.endprocgroup
  800                        	
  801                        	
  802                        	
  803                        	; ***************************************************************************
  804                        	; ***************************************************************************
  805                        	;
  806                        	; init_240x208 - An example of initializing screen and VRAM.
  807                        	;
  808                        	; This can be used as-is, or copied to your own program and modified.
  809                        	;
  810                        	
  811                        	init_240x208	.proc
  892                        			.endp
  893                        	
  894                        	
  895                        	
  896                        	; ***************************************************************************
  897                        	; ***************************************************************************
  898                        	;
  899                        	; init_256x224 - An example of initializing screen and VRAM.
  900                        	;
  901                        	; This can be used as-is, or copied to your own program and modified.
  902                        	;
  903                        	
  904                        	init_256x224	.proc
  985                        			.endp
  986                        	
  987                        	
  988                        	
  989                        	; ***************************************************************************
  990                        	; ***************************************************************************
  991                        	;
  992                        	; init_352x224 - An example of initializing screen and VRAM.
  993                        	;
  994                        	; This can be used as-is, or copied to your own program and modified.
  995                        	;
  996                        	
  997                        	init_352x224	.proc
 1078                        			.endp
 1079                        	
 1080                        	
 1081                        	
 1082                        	; ***************************************************************************
 1083                        	; ***************************************************************************
 1084                        	;
 1085                        	; init_512x224 - An example of initializing screen and VRAM.
 1086                        	;
 1087                        	; This can be used as-is, or copied to your own program and modified.
 1088                        	;
 1089                        	
 1090                        	init_512x224	.proc
 1171                        			.endp
 1172                        	
 1173                        	
 1174                        	
 1175                        	; ***************************************************************************
 1176                        	; ***************************************************************************
 1177                        	;
 1178                        	; init_320x208 - An example of initializing screen and VRAM.
 1179                        	;
 1180                        	; This can be used as-is, or copied to your own program and modified.
 1181                        	;
 1182                        	; This resolution is rarely-seen, but it has no overscan, so it has a use.
 1183                        	;
 1184                        	
 1185                        	init_320x208	.proc
 1266                        			.endp
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   41                        	
                             #[3]   "..\..\..\include\hucc\hucc-math.asm"
   42                        			include	"hucc-math.asm"		; HuCC multiply and divide.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-math.asm
    5                        	;
    6                        	; Basic (i.e. very slow) 8-bit and 16-bit multiply and divide routines.
    7                        	;
    8                        	; Copyright John Brandwood 2021-2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; This is basically a set of SDCC-compatible routines, but using Y:A for the
   18                        	; primary register instead of X:A.
   19                        	;
   20                        	; Using Y:A makes the routines instantly usable with HuCC, and it also makes
   21                        	; them usable with SDCC with just an "sxy" before and after the call.
   22                        	;
   23                        	; ***************************************************************************
   24                        	; ***************************************************************************
   25                        	
   26               E460     			.code
   27                        	
   28               2000     	multiplier	=	__temp
   29               2094     	multiplicand	=	___SDCC_m6502_ret0
   30               2094     	product		=	multiplicand
   31                        	
   32               2000     	__mulint_PARM_2	=	multiplier
   33                        	
   34               2000     	divisor		=	__temp
   35               2094     	dividend	=	___SDCC_m6502_ret0
   36               2094     	quotient	=	dividend
   37               2096     	remainder	=	___SDCC_m6502_ret2
   38                        	
   39               2000     	__moduint_PARM_2 =	divisor
   40               2000     	__modsint_PARM_2 =	divisor
   41               2000     	__divuint_PARM_2 =	divisor
   42               2000     	__divsint_PARM_2 =	divisor
   43                        	
   44                        	
   45                        	
   46                        	; ***************************************************************************
   47                        	; int
   48                        	; _mulint (int a, int b)
   49                        	;
   50                        	; 1st parameter in Y:A (multiplicand)
   51                        	; 2nd parameter in __mulint_PARM_2 (multiplier)
   52                        	; result in Y:A
   53                        	;
   54                        	; N.B. signed and unsigned multiply only differ in the top 16 of the 32bits!
   55                        	
   56    00:E460  85 94      	__mulint:	sta	<multiplicand + 0
   57    00:E462  84 95      			sty	<multiplicand + 1
   58                        	
   59    00:E464  A2 10      			ldx	#16			; Loop 16 times.
   60                        	
   61    00:E466  46 95      			lsr	<multiplicand + 1	; Divide multiplicand by 2
   62    00:E468  66 94      			ror	<multiplicand + 0	; and clear the 16th bit.
   63                        	
   64    00:E46A  62         			cla				; Clear top word of product.
   65    00:E46B  85 96      			sta.l	<multiplicand + 2
   66    00:E46D  90 0B      			bcc	.rotate
   67                        	
   68    00:E46F  A8         	.add:		tay				; Add the 16-bit multiplier to
   69    00:E470  18         			clc				; top 16-bits of the product.
   70    00:E471  A5 96      			lda	<multiplicand + 2
   71    00:E473  65 00      			adc.l	<multiplier
   72    00:E475  85 96      			sta	<multiplicand + 2
   73    00:E477  98         			tya
   74    00:E478  65 01      			adc.h	<multiplier
   75                        	
   76    00:E47A  6A         	.rotate:	ror	a			; Rotate product into the top
   77    00:E47B  66 96      			ror	<multiplicand + 2	; bits of the multiplicand ...
   78    00:E47D  66 95      			ror	<multiplicand + 1	; and divide multiplicand by 2.
   79    00:E47F  66 94      			ror	<multiplicand + 0
   80                        	
   81    00:E481  CA         			dex
   82    00:E482  B0 EB      			bcs	.add			; Add multiplier to top word?
   83    00:E484  D0 F4      			bne	.rotate			; Completed 16 bits?
   84                        	
   85    00:E486  85 97      			sta	<multiplicand + 3	; Save top byte of product.
   86                        	
   87    00:E488  A5 94      			lda.l	<multiplicand		; Return the bottom 16-bits of
   88    00:E48A  A4 95      			ldy.h	<multiplicand		; the 32-bit product.
   89                        	
   90    00:E48C  60         			rts
   91                        	
   92                        	
   93                        	
   94                        	; ***************************************************************************
   95                        	; unsigned int
   96                        	; _divuint (unsigned int x, unsigned int y)
   97                        	;
   98                        	; 1st parameter in Y:A (unsigned dividend)
   99                        	; 2nd parameter in __divuint_PARM_2 (unsigned divisor)
  100                        	; result in Y:A
  101                        	
  102    00:E48D  20 95 E4   	__divuint:	jsr	__moduint		; Call the basic uint division.
  103                        	
  104    00:E490  A5 94      			lda.l	<quotient		; Then get the result from where
  105    00:E492  A4 95      			ldy.h	<quotient		; it was calculated.
  106    00:E494  60         			rts
  107                        	
  108                        	
  109                        	
  110                        	; ***************************************************************************
  111                        	; unsigned int
  112                        	; _moduint (unsigned int x, unsigned int y)
  113                        	;
  114                        	; 1st parameter in Y:A (unsigned dividend)
  115                        	; 2nd parameter in __moduint_PARM_2 (unsigned divisor)
  116                        	; result in Y:A
  117                        	;
  118                        	; If the dividend has more bits than the divisor, then we need to check the
  119                        	; 17th bit of the remainder!
  120                        	
  121               0000     		.if	0
  176                        		.else
  177                        	
  178    00:E495  85 94      	__moduint:	sta.l	<dividend		; 1st SDCC parameter in Y:A.
  179    00:E497  84 95      			sty.h	<dividend
  180                        	
  181    00:E499  A5 00      	divmoduint:	lda.l	<divisor		; Check for a divide-by-zero.
  182    00:E49B  05 01      			ora.h	<divisor
  183    00:E49D  F0 FE      	.zero:		beq	.zero
  184                        	
  185    00:E49F  A2 11      			ldx	#16 + 1
  186                        	
  187    00:E4A1  C2         			cly				; Clear remainder.
  188    00:E4A2  84 97      			sty.h	<remainder
  189                        	
  190    00:E4A4  98         	.skip:		tya				; Restore remainder lo-byte.
  191                        	
  192    00:E4A5  26 94      	.loop:		rol.l	<dividend		; Quotient bit -> dividend LSB.
  193    00:E4A7  26 95      			rol.h	<dividend		; Rotate dividend, MSB -> C.
  194                        	
  195    00:E4A9  CA         			dex
  196    00:E4AA  F0 14      			beq	.finished
  197                        	
  198    00:E4AC  2A         			rol	a			; Rotate C into remainder.
  199    00:E4AD  26 97      			rol.h	<remainder
  200                        	;		php				; Preserve remainder 17th bit.
  201                        	
  202    00:E4AF  A8         			tay				; Preserve remainder lo-byte.
  203                        	
  204    00:E4B0  C5 00      			cmp.l	<divisor		; Test divisor.
  205    00:E4B2  A5 97      			lda.h	<remainder
  206    00:E4B4  E5 01      			sbc.h	<divisor
  207    00:E4B6  90 EC      			bcc	.skip			; CC if divisor > remainder.
  208                        	
  209                        	;		cmp.l	<divisor		; If the dividend has more bits
  210                        	;		lda.h	<remainder		; than the divisor then we need
  211                        	;		sbc.h	<divisor		; to check the remainder hi-bit.
  212                        	;		bcs	.subtract		; CS if divisor <= remainder.
  213                        	;		plp				; Restore remainder 17th bit.
  214                        	;		bcc	.skip			; CC if divisor > remainder.
  215                        	;		db	$90			; Turn "plp" into "bcc" to skip.
  216                        	;.subtract:	plp				; Discard remainder 17th bit.
  217                        	;		sec
  218                        	
  219    00:E4B8  85 97      			sta.h	<remainder		; Subtract divisor.
  220    00:E4BA  98         			tya
  221    00:E4BB  E5 00      			sbc.l	<divisor
  222    00:E4BD  38         			sec				
  223    00:E4BE  80 E5      			bra	.loop
  224                        	
  225    00:E4C0  A4 97      	.finished:	ldy.h	<remainder		; Get the remainder hi-byte.
  226                        	
  227    00:E4C2  60         			rts
  228                        	
  229                        		.endif
  230                        	
  231                        	
  232                        	
  233                        	; ***************************************************************************
  234                        	; int
  235                        	; _divsint (int x, int y)
  236                        	;
  237                        	; 1st parameter in Y:A (signed dividend)
  238                        	; 2nd parameter in __divsint_PARM_2 (signed divisor)
  239                        	; result in Y:A
  240                        	
  241    00:E4C3  20 CB E4   	__divsint:	jsr	__modsint		; Call the basic sint division.
  242                        	
  243    00:E4C6  A5 94      			lda.l	<quotient		; Then get the result from where
  244    00:E4C8  A4 95      			ldy.h	<quotient		; it was calculated.
  245    00:E4CA  60         			rts
  246                        	
  247                        	
  248                        	
  249                        	; ***************************************************************************
  250                        	; int
  251                        	; _modsint (int x, int y)
  252                        	;
  253                        	; 1st parameter in Y:A (signed dividend)
  254                        	; 2nd parameter in __modsint_PARM_2 (signed divisor)
  255                        	; result in Y:A
  256                        	
  257    00:E4CB  84 95      	__modsint:	sty.h	<dividend
  258                        	
  259    00:E4CD  C0 80      			cpy	#$80			; Remainder -ve if dividend
  260    00:E4CF  08         			php				; was -ve.
  261    00:E4D0  90 03      			bcc	!+
  262    00:E4D2  20 22 E5   			jsr	neg_yacs		; Negate the dividend.
  263                        	
  264    00:E4D5  85 94      	!:		sta.l	<dividend		; Store the dividend.
  265    00:E4D7  A5 95      			lda.h	<dividend
  266    00:E4D9  84 95      			sty.h	<dividend
  267                        	
  268    00:E4DB  45 01      			eor.h	<divisor		; Quotient is -ve if divisor
  269    00:E4DD  08         			php				; and dividend signs differ.
  270                        	
  271    00:E4DE  A5 01      			lda.h	<divisor		; Is the divisor -ve?
  272    00:E4E0  10 0B      			bpl	!+
  273                        	
  274    00:E4E2  38         			sec				; Negate the divisor.
  275    00:E4E3  62         			cla
  276    00:E4E4  E5 00      			sbc.l	<divisor
  277    00:E4E6  85 00      			sta.l	<divisor
  278    00:E4E8  62         			cla
  279    00:E4E9  E5 01      			sbc.h	<divisor
  280    00:E4EB  85 01      			sta.h	<divisor
  281                        	
  282    00:E4ED  20 99 E4   	!:		jsr	divmoduint		; Do the unsigned division.
  283                        	
  284    00:E4F0  28         	.result:	plp				; Should the quotient be -ve?
  285    00:E4F1  10 0D      			bpl	.remainder
  286                        	
  287    00:E4F3  AA         			tax				; Preserve remainder lo-byte.
  288                        	
  289    00:E4F4  38         			sec				; Then negate the quotient.
  290    00:E4F5  62         			cla
  291    00:E4F6  E5 94      			sbc.l	<dividend
  292    00:E4F8  85 94      			sta.l	<dividend
  293    00:E4FA  62         			cla
  294    00:E4FB  E5 95      			sbc.h	<dividend
  295    00:E4FD  85 95      			sta.h	<dividend
  296                        	
  297    00:E4FF  8A         			txa				; Restore remainder lo-byte.
  298                        	
  299    00:E500  28         	.remainder:	plp				; Was the dividend -ve?
  300    00:E501  B0 1F      			bcs	neg_yacs		; Then negate the remainder.
  301    00:E503  60         			rts
  302                        	
  303                        	
  304                        	
  305                        	; ***************************************************************************
  306                        	; unsigned int
  307                        	; _muluchar (unsigned char x, unsigned char y)
  308                        	;
  309                        	; 1st parameter in A (unsigned multiplicand)
  310                        	; 2nd parameter in Y (unsigned multiplier)
  311                        	; result in Y:A
  312                        	
  313    00:E504  84 00      	__muluchar:	sty	<multiplier
  314                        	
  315    00:E506  A0 08      	muluchar_a:	ldy	#8			; Loop 8 times.
  316                        	
  317    00:E508  4A         			lsr	a			; Divide multiplicand by 2
  318    00:E509  85 94      			sta	<multiplicand		; and clear the 8th bit.
  319                        	
  320    00:E50B  62         			cla				; Clear top byte of product.
  321    00:E50C  90 03      			bcc	.rotate
  322                        	
  323    00:E50E  18         	.add:		clc				; Add the 8-bit multiplier to
  324    00:E50F  65 00      			adc	<multiplier		; top 8-bits of the product.
  325                        	
  326    00:E511  6A         	.rotate:	ror	a			; Rotate product into the top
  327    00:E512  66 94      			ror	<multiplicand		; bits of the multiplicand.
  328                        	
  329    00:E514  88         			dey
  330    00:E515  B0 F7      			bcs	.add			; Add multiplier to top byte?
  331    00:E517  D0 F8      			bne	.rotate			; Completed 8 bits?
  332                        	
  333    00:E519  A8         			tay				; Return the 16-bit product.
  334    00:E51A  A5 94      			lda	<multiplicand
  335                        	
  336    00:E51C  60         			rts
  337                        	
  338                        	
  339                        	
  340                        	; ***************************************************************************
  341                        	; signed int
  342                        	; abs (signed int x)
  343                        	;
  344                        	; 1st parameter in Y:A (signed)
  345                        	; result in Y:A
  346                        	
  347    00:E51D  C0 80      	_abs:		cpy	#$80			; Is the hi-byte -ve?
  348    00:E51F  90 0B      			bcc	!+
  349                        	
  350    00:E521  38         	neg_ya:		sec
  351    00:E522  49 FF      	neg_yacs:	eor	#$FF
  352    00:E524  69 00      			adc	#0
  353    00:E526  42         			say
  354    00:E527  49 FF      			eor	#$FF
  355    00:E529  69 00      			adc	#0
  356    00:E52B  42         			say
  357    00:E52C  60         	!:		rts
  358                        	
  359    00:E52D             	_abs.1		.alias	_abs
  360                        	
  361                        	
  362                        	
  363                        	; ***************************************************************************
  364                        	; signed int
  365                        	; _mulschar (signed char x, signed char y)
  366                        	;
  367                        	; 1st parameter in A (signed multiplicand)
  368                        	; 2nd parameter in Y (signed multiplier)
  369                        	; result in Y:A
  370                        	;
  371                        	; N.B. Y and A get swapped to make the code shorter.
  372                        	
  373    00:E52D  85 94      	__mulschar:	sta	<multiplicand		; Remember multiplicand sign.
  374                        	
  375    00:E52F  C9 80      			cmp	#$80			; Is the multiplicand -ve?
  376    00:E531  90 03      			bcc	!+
  377    00:E533  49 FF      			eor	#$FF			; Negate the multiplicand.
  378    00:E535  1A         			inc	a
  379    00:E536  85 00      	!:		sta	<multiplier		; Then save it as multiplier.
  380                        	
  381    00:E538  98         			tya				; Product -ve if multiplicand
  382    00:E539  45 94      			eor	<multiplicand		; and multiplier signs differ.
  383    00:E53B  08         			php				; Remember product sign.
  384                        	
  385    00:E53C  98         			tya				; Is the multiplicand -ve?
  386    00:E53D  10 03      			bpl	!+
  387    00:E53F  49 FF      			eor	#$FF			; Negate the multiplicand.
  388    00:E541  1A         			inc	a
  389                        	
  390    00:E542  20 06 E5   	!:		jsr	muluchar_a		; Multiplier already saved.
  391                        	
  392    00:E545  28         			plp				; Is the product -ve?
  393    00:E546  30 D9      			bmi	neg_ya
  394    00:E548  60         			rts
  395                        	
  396                        	
  397                        	
  398                        	; ***************************************************************************
  399                        	; unsigned int
  400                        	; _mulsuchar (signed char x, signed char y)
  401                        	;
  402                        	; 1st parameter in A (unsigned multiplicand)
  403                        	; 2nd parameter in Y (signed multiplier)
  404                        	; result in Y:A
  405                        	;
  406                        	; N.B. Y and A get swapped to make the code shorter.
  407                        	
  408    00:E549  42         	__mulsuchar:	say				; Put the signed param in A.
  409                        			; drop through to __muluschar
  410                        	
  411                        	
  412                        	
  413                        	; ***************************************************************************
  414                        	; signed int
  415                        	; _muluschar (unsigned char x, unsigned char y)
  416                        	;
  417                        	; 1st parameter in A (signed multiplicand)
  418                        	; 2nd parameter in Y (unsigned multiplier)
  419                        	; result in Y:A
  420                        	
  421    00:E54A  C9 80      	__muluschar:	cmp	#$80			; Is multiplicand -ve?
  422    00:E54C  08         			php				; Remember the sign.
  423    00:E54D  90 03      			bcc	!+
  424    00:E54F  49 FF      			eor	#$FF			; Negate multiplicand.
  425    00:E551  1A         			inc	a
  426                        	
  427    00:E552  20 04 E5   	!:		jsr	__muluchar		; Do the unsigned multiply.
  428                        	
  429    00:E555  28         			plp				; Was multiplicand -ve?
  430    00:E556  B0 CA      			bcs	neg_yacs		; Then negate the product.
  431    00:E558  60         			rts
  432                        	
  433                        	
  434                        	
  435                        	; ***************************************************************************
  436                        	; unsigned int
  437                        	; _moduchar (unsigned char x, unsigned char y)
  438                        	;
  439                        	; 1st parameter in A (unsigned dividend)
  440                        	; 2nd parameter in Y (unsigned divisor)
  441                        	; result in Y:A
  442                        	
  443    00:E559  84 00      	__moduchar:	sty.l	<divisor
  444                        	
  445    00:E55B  0A         	divmodu8_a:	asl	a			; Rotate dividend, MSB -> C.
  446    00:E55C  85 94      			sta.l	<dividend
  447    00:E55E  64 95      			stz.h	<dividend		; Clear quotient hi-byte.
  448                        	
  449    00:E560  A0 08      			ldy	#8
  450    00:E562  62         			cla				; Clear remainder.
  451    00:E563  2A         	.loop:		rol	a			; Rotate C into remainder.
  452    00:E564  C5 00      			cmp	<divisor		; Test divisor.
  453    00:E566  90 02      			bcc	.skip			; CC if divisor > remainder.
  454    00:E568  E5 00      			sbc	<divisor		; Subtract divisor.
  455    00:E56A  26 94      	.skip:		rol	<dividend		; Quotient bit -> dividend LSB.
  456    00:E56C  88         			dey
  457    00:E56D  D0 F4      			bne	.loop
  458                        	
  459    00:E56F  C2         			cly				; Clear hi-byte of return.
  460    00:E570  60         			rts				; Return the 16-bit remainder.
  461                        	
  462                        	
  463                        	
  464                        	; ***************************************************************************
  465                        	; unsigned int
  466                        	; _divuchar (unsigned char x, unsigned char y)
  467                        	;
  468                        	; 1st parameter in A (unsigned dividend)
  469                        	; 2nd parameter in Y (unsigned divisor)
  470                        	; result in Y:A
  471                        	
  472    00:E571  20 59 E5   	__divuchar:	jsr	__moduchar
  473                        	
  474    00:E574  A5 94      			lda	<dividend		; Get the dividend lo-byte.
  475    00:E576  60         			rts				; Return the 16-bit dividend.
  476                        	
  477                        	
  478                        	
  479                        	; ***************************************************************************
  480                        	; signed int
  481                        	; _modschar (signed char x, signed char y)
  482                        	;
  483                        	; 1st parameter in A (signed dividend)
  484                        	; 2nd parameter in Y (signed divisor)
  485                        	; result in Y:A
  486                        	
  487    00:E577  AA         	__modschar:	tax				; Preserve the dividend.
  488    00:E578  08         			php				; Remember remainder sign.
  489                        	
  490    00:E579  84 00      			sty	<divisor		; Quotient negative if divisor
  491    00:E57B  45 00      			eor	<divisor		; and dividend signs differ.
  492    00:E57D  08         			php				; Remember the quotient sign.
  493                        	
  494    00:E57E  98         			tya				; Is the divisor -ve?
  495    00:E57F  10 05      			bpl	!+
  496    00:E581  49 FF      			eor	#$FF			; Negate the divisor.
  497    00:E583  1A         			inc	a
  498    00:E584  85 00      			sta	<divisor
  499                        	
  500    00:E586  8A         	!:		txa				; Is the dividend -ve?
  501    00:E587  10 03      			bpl	divmods8_a
  502                        	
  503    00:E589  49 FF      	divmods8_neg:	eor	#$FF			; Negate the dividend.
  504    00:E58B  1A         			inc	a
  505                        	
  506    00:E58C  20 5B E5   	divmods8_a:	jsr	divmodu8_a		; Do the unsigned division.
  507                        	
  508    00:E58F  28         			plp				; Should the quotient be -ve?
  509    00:E590  10 0C      			bpl	!+
  510                        	
  511    00:E592  AA         			tax				; Preserve remainder lo-byte.
  512                        	
  513    00:E593  38         			sec				; Negate the quotient.
  514    00:E594  62         			cla
  515    00:E595  E5 94      			sbc.l	<dividend
  516    00:E597  85 94      			sta.l	<dividend
  517    00:E599  A9 FF      			lda	#$FF
  518    00:E59B  85 95      			sta.h	<dividend
  519                        	
  520    00:E59D  8A         			txa				; Restore remainder lo-byte.
  521                        	
  522    00:E59E  28         	!:		plp				; Was the dividend -ve?
  523    00:E59F  10 05      			bpl	!+
  524                        	
  525    00:E5A1  49 FF      			eor	#$FF			; Then negate the remainder.
  526    00:E5A3  1A         			inc	a
  527    00:E5A4  A0 FF      			ldy	#$FF
  528                        	
  529    00:E5A6  60         	!:		rts
  530                        	
  531                        	
  532                        	
  533                        	; ***************************************************************************
  534                        	; signed int
  535                        	; _moduschar (unsigned char x, unsigned char y)
  536                        	;
  537                        	; 1st parameter in A (signed dividend)
  538                        	; 2nd parameter in Y (unsigned divisor)
  539                        	; result in Y:A
  540                        	
  541    00:E5A7  84 00      	__moduschar:	sty.l	<divisor
  542                        	
  543    00:E5A9  A8         			tay				; Is the dividend -ve?
  544    00:E5AA  08         			php				; Remember remainder sign.
  545    00:E5AB  08         			php				; Remember quotient sign.
  546    00:E5AC  30 DB      			bmi	divmods8_neg
  547    00:E5AE  80 DC      			bra	divmods8_a
  548                        	
  549                        	
  550                        	
  551                        	; ***************************************************************************
  552                        	; unsigned int
  553                        	; _modsuchar (signed char x, signed char y)
  554                        	;
  555                        	; 1st parameter in A (unsigned dividend)
  556                        	; 2nd parameter in Y (signed divisor)
  557                        	; result in Y:A
  558                        	
  559    00:E5B0  AA         	__modsuchar:	tax				; Preserve the dividend.
  560    00:E5B1  08         			php				; Remember remainder sign.
  561                        	
  562    00:E5B2  98         			tya				; Check the divisor sign.
  563    00:E5B3  08         			php				; Remember quotient sign.
  564    00:E5B4  10 03      			bpl	!+
  565    00:E5B6  49 FF      			eor	#$FF			; Negate the divisor.
  566    00:E5B8  1A         			inc	a
  567    00:E5B9  85 00      	!:		sta.l	<divisor
  568                        	
  569    00:E5BB  8A         			txa				; Restore the dividend.
  570    00:E5BC  80 CE      			bra	divmods8_a
  571                        	
  572                        	
  573                        	
  574                        	; ***************************************************************************
  575                        	; signed int
  576                        	; _divschar (signed char x, signed char y)
  577                        	;
  578                        	; 1st parameter in A (signed dividend)
  579                        	; 2nd parameter in Y (signed divisor)
  580                        	; result in Y:A
  581                        	
  582    00:E5BE  20 77 E5   	__divschar:	jsr	__modschar
  583                        	
  584    00:E5C1  A5 94      			lda.l	<dividend
  585    00:E5C3  A4 95      			ldy.h	<dividend
  586    00:E5C5  60         			rts
  587                        	
  588                        	
  589                        	
  590                        	; ***************************************************************************
  591                        	; signed int
  592                        	; _divuschar (unsigned char x, unsigned char y)
  593                        	;
  594                        	; 1st parameter in A (signed dividend)
  595                        	; 2nd parameter in Y (unsigned divisor)
  596                        	; result in Y:A
  597                        	
  598    00:E5C6  20 A7 E5   	__divuschar:	jsr	__moduschar
  599                        	
  600    00:E5C9  A5 94      			lda.l	<dividend
  601    00:E5CB  A4 95      			ldy.h	<dividend
  602    00:E5CD  60         			rts
  603                        	
  604                        	
  605                        	
  606                        	; ***************************************************************************
  607                        	; unsigned int
  608                        	; _divsuchar (signed char x, signed char y)
  609                        	;
  610                        	; 1st parameter in A (unsigned dividend)
  611                        	; 2nd parameter in Y (signed divisor)
  612                        	; result in Y:A
  613                        	
  614    00:E5CE  20 B0 E5   	__divsuchar:	jsr	__modsuchar
  615                        	
  616    00:E5D1  A5 94      			lda.l	<dividend
  617    00:E5D3  A4 95      			ldy.h	<dividend
  618    00:E5D5  60         			rts
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
                             #[3]   "..\..\..\include\hucc\hucc-gfx.asm"
   43                        			include	"hucc-gfx.asm"		; Used by HuCC's core_main.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; huc-gfx.asm
    5                        	;
    6                        	; Based on the original HuC and MagicKit functions by David Michel and the
    7                        	; other original HuC developers.
    8                        	;
    9                        	; Modifications copyright John Brandwood 2024-2025.
   10                        	;
   11                        	; Distributed under the Boost Software License, Version 1.0.
   12                        	; (See accompanying file LICENSE_1_0.txt or copy at
   13                        	;  http://www.boost.org/LICENSE_1_0.txt)
   14                        	;
   15                        	; ***************************************************************************
   16                        	; ***************************************************************************
   17                        	
   18                        	;
   19                        	; Include dependancies ...
   20                        	;
   21                        	
   22                        			include "common.asm"		; Common helpers.
   23                        			include "vce.asm"		; Useful VCE routines.
   24                        			include "vdc.asm"		; Useful VCE routines.
   25                        	
   26                        	
   27                        	
   28                        	; ***************************************************************************
   29                        	; ***************************************************************************
   30                        	;
   31                        	; void __fastcall disp_on( void );
   32                        	; void __fastcall disp_off( void );
   33                        	
   34    00:E5D6             			.alias	_disp_on		= set_dspon
   35    00:E5D6             			.alias	_disp_off		= set_dspoff
   36                        	
   37                        	
   38                        	
   39                        	; ***************************************************************************
   40                        	; ***************************************************************************
   41                        	;
   42                        	; void __fastcall set_screen_size( unsigned char value<_al> );
   43                        	; void __fastcall sgx_set_screen_size( unsigned char value<_al> );
   44                        	;
   45                        	
   46    00:E5D6             			.alias	_set_screen_size.1	= set_bat_vdc
   47    00:E5D6             			.alias	_sgx_set_screen_size.1	= set_bat_sgx
   48                        	
   49                        	
   50                        	
   51                        	; ***************************************************************************
   52                        	; ***************************************************************************
   53                        	;
   54                        	; void __fastcall init_256x224( void );
   55                        	
   56    1F:D0F7             	_init_256x224	.proc
   57                        	
   58               0800     	.BAT_SIZE	=	64 * 32
   59               0080     	.CHR_0x20	=	.BAT_SIZE / 16		; 1st tile # after the BAT.
   60               7F00     	.SAT_ADDR	=	$7F00			; SAT takes 16 tiles of VRAM.
   61                        	
   62    1F:D0F7  08         			php				; Disable interrupts.
   63    1F:D0F8  78         			sei
   64                        	
   65    1F:D0F9  20 47 FD   			call	clear_vce		; Clear all palettes.
   66                        	
   67    1F:D0FC  A9 80      			lda.l	#.CHR_0x20		; CHR # of ASCII ' '.
   68    1F:D0FE  85 F8      			sta.l	<_ax
   69    1F:D100  A9 00      			lda.h	#.CHR_0x20
   70    1F:D102  85 F9      			sta.h	<_ax
   71                        	
   72    1F:D104  A9 08      			lda	#>.BAT_SIZE		; Size of BAT in words.
   73    1F:D106  85 FA      			sta	<_bl
   74                        	
   75    1F:D108  20 5B FD   			call	clear_vram_vdc		; Clear VRAM.
   76               0001     		.if	SUPPORT_SGX
   77    1F:D10B  20 3D FD   			call	clear_vram_sgx
   78                        		.endif
   79                        	
   80    1F:D10E  A9 32      			lda	#<.mode_256x224		; Disable BKG & SPR layers but
   81    1F:D110  85 EC      			sta.l	<_bp			; enable RCR & VBLANK IRQ.
   82    1F:D112  A9 D1      			lda	#>.mode_256x224
   83    1F:D114  85 ED      			sta.h	<_bp
   84                        	
   85               0001     		.if	SUPPORT_SGX
   86    1F:D116  20 33 FD   			call	sgx_detect		; Are we really on an SGX?
   87    1F:D119  90 05      			bcc	!+
   88    1F:D11B  A0 1F      			ldy	#^.mode_256x224		; Set SGX 1st, with no VBL.
   89    1F:D11D  20 29 FD   			call	set_mode_sgx
   90                        		.endif
   91    1F:D120  A0 1F      	!:		ldy	#^.mode_256x224		; Set VDC 2nd, VBL allowed.
   92    1F:D122  20 1F FD   			call	set_mode_vdc
   93                        	
   94               0001     		.if	SUPPORT_SGX
   95    1F:D125  2C 10 02   			bit	SGX_SR			; Purge any overdue RCR.
   96                        		.endif
   97    1F:D128  2C 00 02   			bit	VDC_SR			; Purge any overdue VBL.
   98    1F:D12B  28         			plp				; Restore interrupts.
   99                        	
  100    1F:D12C  20 1D E3   			call	wait_vsync		; Wait for the next VBLANK.
  101                        	
  102                        			leave				; All done, phew!
         1F:D12F  4C EF FF   			jmp	leave_proc
  103                        	
  104                        			; A standard 256x224 screen with overscan.
  105                        	
  106    1F:D132  80         	.mode_256x224:	db	$80			; VCE Control Register.
  107    1F:D133  04         			db	VCE_CR_5MHz + XRES_SOFT	;   Video Clock + Artifact Reduction
  108                        	
  109    1F:D134  09         			db	VDC_MWR			; Memory-access Width Register
  110    1F:D135  10 00      			dw	VDC_MWR_64x32 + VDC_MWR_1CYCLE
  111    1F:D137  0A         			db	VDC_HSR			; Horizontal Sync Register
  112    1F:D138  02 02      			dw	VDC_HSR_256
  113    1F:D13A  0B         			db	VDC_HDR			; Horizontal Display Register
  114    1F:D13B  1F 04      			dw	VDC_HDR_256
  115    1F:D13D  0C         			db	VDC_VPR			; Vertical Sync Register
  116    1F:D13E  02 17      			dw	VDC_VPR_224
  117    1F:D140  0D         			db	VDC_VDW			; Vertical Display Register
  118    1F:D141  DF 00      			dw	VDC_VDW_224
  119    1F:D143  0E         			db	VDC_VCR			; Vertical Display END position Register
  120    1F:D144  FF 00      			dw	VDC_VCR_224
  121    1F:D146  0F         			db	VDC_DCR			; DMA Control Register
  122    1F:D147  10 00      			dw	$0010			;   Enable automatic VRAM->SATB
  123    1F:D149  13         			db	VDC_DVSSR		; VRAM->SATB address $7F00
  124    1F:D14A  00 7F      			dw	.SAT_ADDR
  125    1F:D14C  07         			db	VDC_BXR			; Background X-Scroll Register
  126    1F:D14D  00 00      			dw	$0000
  127    1F:D14F  08         			db	VDC_BYR			; Background Y-Scroll Register
  128    1F:D150  00 00      			dw	$0000
  129    1F:D152  06         			db	VDC_RCR			; Raster Counter Register
  130    1F:D153  00 00      			dw	$0000			;   Never occurs!
  131    1F:D155  05         			db	VDC_CR			; Control Register
  132    1F:D156  0C 00      			dw	$000C			;   Enable VSYNC & RCR IRQ
  133    1F:D158  00         			db	0
  134                        	
  135                        			.endp
  136                        	
  137                        	
  138                        	
  139                        	; ***************************************************************************
  140                        	; ***************************************************************************
  141                        	;
  142                        	; void __fastcall init_240x208( void );
  143                        	
  144                        	_init_240x208	.proc
  223                        			.endp
  224                        	
  225                        	
  226                        	
  227                        	; ***************************************************************************
  228                        	; ***************************************************************************
  229                        	;
  230                        	; void __fastcall _macro set_xres( unsigned int x_pixels<_ax> );
  231                        	; void __fastcall _macro sgx_set_xres( unsigned int x_pixels<_ax> );
  232                        	;
  233                        	; void __fastcall set_xres( unsigned int x_pixels<_ax>, unsigned char blur_flag<_bl> );
  234                        	; void __fastcall sgx_set_xres( unsigned int x_pixels<_ax>, unsigned char blur_flag<_bl> );
  235                        	;
  236                        	; blur_flag = XRES_SOFT (default if not specified), XRES_SHARP or XRES_KEEP
  237                        	
  238                        	set_xres_group	.procgroup			; These routines share code!
  337                        			.endprocgroup	; set_xres_group
  338                        	
  339                        	
  340                        	
  341                        	; ***************************************************************************
  342                        	; ***************************************************************************
  343                        	;
  344                        	; HuC VRAM Functions
  345                        	;
  346                        	; ***************************************************************************
  347                        	; ***************************************************************************
  348                        	
  349                        	
  350    01:DF90             	load_vram_group	.procgroup			; These routines share code!
  351                        	
  352                        	; ***************************************************************************
  353                        	; ***************************************************************************
  354                        	;
  355                        	; void __fastcall load_vram( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_words<_ax> );
  356                        	; void __fastcall sgx_load_vram( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_words<_ax> );
  357                        	;
  358                        	; void __fastcall far_load_vram( unsigned int vram<_di>, unsigned int num_words<_ax> );
  359                        	; void __fastcall sgx_far_load_vram( unsigned int vram<_di>, unsigned int num_words<_ax> );
  360                        	;
  361                        	; load_vram_sgx -  copy a block of memory to VRAM
  362                        	; load_vram_vdc -  copy a block of memory to VRAM
  363                        	;
  364                        	; _bp		= BAT memory location
  365                        	; _bp_bank	= BAT bank
  366                        	; _di		= VRAM base address
  367                        	; _ax		= nb of words to copy
  368                        	; ----
  369                        	; N.B. BAT data *must* be word-aligned!
  370                        	
  371               0000     		.ifndef	VRAM_XFER_SIZE
  373                        		.endif
  374                        	
  375    01:DF90             	load_vram_x	.proc
  376                        	
  377    01:DF90  43 08      			tma3
  378    01:DF92  48         			pha
  379    01:DF93  43 10      			tma4
  380    01:DF95  48         			pha
  381                        	
  382    01:DF96  A4 02      			ldy	<_bp_bank
  383    01:DF98  20 4F E3   			jsr	map_bp_to_mpr34		; Map data to MPR3 & MPR4.
  384                        	
  385    01:DF9B  20 93 E3   			jsr	set_di_to_mawr
  386                        	
  387                        	;		tii	.vdc_tai, ram_tia, 8
  388                        	
  389               0001     		.if	SUPPORT_SGX
  390    01:DF9E  8A         			txa				; Select which VDC to write
  391    01:DF9F  1A         			inc	a			; to.
  392    01:DFA0  1A         			inc	a
  393    01:DFA1  8D F3 22   			sta.l	ram_tia_dst
  394                        		.endif
  395                        	
  396    01:DFA4  A9 10      			lda	#VRAM_XFER_SIZE		; Split into 16-byte chunks
  397    01:DFA6  8D F5 22   			sta.l	ram_tia_len		; for stable IRQ response.
  398                        	
  399    01:DFA9  A6 EC      			ldx.l	<_bp
  400    01:DFAB  8E F1 22   			stx.l	ram_tia_src
  401    01:DFAE  A4 ED      			ldy.h	<_bp
  402    01:DFB0  8C F2 22   			sty.h	ram_tia_src
  403                        	
  404    01:DFB3  A5 F8      			lda.l	<_ax			; Length in words.
  405    01:DFB5  48         			pha				; Preserve length.l
  406                        	
  407    01:DFB6  46 F9      			lsr.h	<_ax
  408    01:DFB8  6A         			ror	a
  409    01:DFB9  46 F9      			lsr.h	<_ax
  410    01:DFBB  6A         			ror	a
  411    01:DFBC  46 F9      			lsr.h	<_ax
  412    01:DFBE  6A         			ror	a
  413               0000     		.if	VRAM_XFER_SIZE == 32
  416                        		.endif
  417                        	
  418    01:DFBF  22         			sax				; x=chunks-lo
  419    01:DFC0  F0 1F      			beq	.next_block		; a=source-lo, y=source-hi
  420                        	
  421    01:DFC2  20 F0 22   	.chunk_loop:	jsr	ram_tia			; transfer 16-bytes
  422                        	
  423    01:DFC5  18         			clc				; increment source
  424    01:DFC6  69 10      			adc	#VRAM_XFER_SIZE
  425    01:DFC8  8D F1 22   			sta.l	ram_tia_src
  426    01:DFCB  90 11      			bcc	.same_page
  427    01:DFCD  C8         			iny
  428    01:DFCE  10 0B      			bpl	.same_bank		; remap_data
  429                        	
  430    01:DFD0  42         			say
  431    01:DFD1  43 10      			tma4
  432    01:DFD3  53 08      			tam3
  433    01:DFD5  1A         			inc	a
  434    01:DFD6  53 10      			tam4
  435    01:DFD8  A9 60      			lda	#$60
  436    01:DFDA  42         			say
  437                        	
  438    01:DFDB  8C F2 22   	.same_bank:	sty.h	ram_tia_src
  439                        	
  440    01:DFDE  CA         	.same_page:	dex
  441    01:DFDF  D0 E1      			bne	.chunk_loop
  442                        	
  443    01:DFE1  C6 F9      	.next_block:	dec.h	<_ax
  444    01:DFE3  10 DD      			bpl	.chunk_loop
  445                        	
  446    01:DFE5  68         			pla				; Restore length.l
  447    01:DFE6  29 07      			and	#VRAM_XFER_SIZE / 2 - 1
  448    01:DFE8  F0 07      			beq	.done
  449                        	
  450    01:DFEA  0A         			asl	a			; Convert words to bytes.
  451    01:DFEB  8D F5 22   			sta.l	ram_tia_len
  452                        	
  453    01:DFEE  20 F0 22   			jsr	ram_tia			; transfer remainder
  454                        	
  455    01:DFF1  68         	.done:		pla
  456    01:DFF2  53 10      			tam4
  457    01:DFF4  68         			pla
  458    01:DFF5  53 08      			tam3
  459                        	
  460                        			leave
         01:DFF7  4C EF FF   			jmp	leave_proc
  461                        	
  462                        			.endp
  463                        	
  464                        			.endprocgroup	; load_vram_group
  465                        	
  466                        	
  467                        	
  468                        	; ***************************************************************************
  469                        	; ***************************************************************************
  470                        	;
  471                        	; void __fastcall load_bat( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  472                        	; void __fastcall sgx_load_bat( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  473                        	;
  474                        	; void __fastcall far_load_bat( unsigned int vram<_di>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  475                        	; void __fastcall sgx_far_load_bat( unsigned int vram<_di>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  476                        	;
  477                        	; load_bat_sgx - transfer a BAT to VRAM
  478                        	; load_bat_vdc - transfer a BAT to VRAM
  479                        	;
  480                        	; transfer a BAT to VRAM
  481                        	; ----
  482                        	; _bp		= BAT memory location
  483                        	; _bp_bank	= BAT bank
  484                        	; _di		= VRAM base address
  485                        	; _al		= nb of column to copy
  486                        	; _ah		= nb of row
  487                        	; ----
  488                        	; N.B. BAT data *must* be word-aligned!
  489                        	
  490               20EC     	_gfx_load_bat_PARM_2	=	_bp
  491               20F0     	_gfx_load_bat_PARM_3	=	_di
  492               20F8     	_gfx_load_bat_PARM_4	=	_al
  493               20F9     	_gfx_load_bat_PARM_5	=	_ah
  494                        	
  495    1F:D300             	load_bat_group	.procgroup			; These routines share code!
  496                        	
  497               0001     		.if	SUPPORT_SGX
  498                        			.proc	_sgx_load_bat.4
  505                        			.endp
  506                        		.endif
  507                        	
  508    1F:D300             			.proc	_load_bat.4
  509    1F:D300             			.alias	_far_load_bat.3		= _load_bat.4
  510                        	
  511    1F:D300  82         			clx				; Offset to PCE VDC.
  512                        	
  513    1F:D301  43 08      			tma3
  514    1F:D303  48         			pha
  515                        	
  516    1F:D304  A4 02      			ldy	<_bp_bank
  517    1F:D306  20 41 E3   			jsr	map_bp_to_mpr3		; Map data to MPR3.
  518                        	
  519    1F:D309  A4 EC      			ldy.l	<_bp
  520    1F:D30B  64 EC      			stz.l	<_bp
  521                        	
  522    1F:D30D  20 93 E3   	.line_loop:	jsr	set_di_to_mawr
  523                        	
  524    1F:D310  A5 F8      			lda	<_al
  525    1F:D312  85 00      			sta	<__temp
  526    1F:D314  B1 EC      	.tile_loop:	lda	[_bp], y
  527    1F:D316  9D 02 02   			sta	VDC_DL, x
  528    1F:D319  C8         			iny
  529    1F:D31A  B1 EC      			lda	[_bp], y
  530    1F:D31C  9D 03 02   			sta	VDC_DH, x
  531    1F:D31F  C8         			iny
  532    1F:D320  D0 03      			bne	!+
  533    1F:D322  20 60 E3   			jsr	inc.h_bp_mpr3
  534    1F:D325  C6 00      	!:		dec	<__temp
  535    1F:D327  D0 EB      			bne	.tile_loop
  536                        	
  537    1F:D329  BD BF 26   			lda	vdc_bat_width, x
  538    1F:D32C  18         			clc
  539    1F:D32D  65 F0      			adc.l	<_di
  540    1F:D32F  85 F0      			sta.l	<_di
  541    1F:D331  90 02      			bcc	!+
  542    1F:D333  E6 F1      			inc.h	<_di
  543                        	
  544    1F:D335  C6 F9      	!:		dec	<_ah
  545    1F:D337  D0 D4      			bne	.line_loop
  546                        	
  547    1F:D339  68         			pla
  548    1F:D33A  53 08      			tam3
  549                        	
  550                        			leave
         1F:D33C  4C EF FF   			jmp	leave_proc
  551                        	
  552                        			.endp
  553                        	
  554                        			.endprocgroup	; load_bat_group
  555                        	
  556                        	
  557                        	
  558                        	; ***************************************************************************
  559                        	; ***************************************************************************
  560                        	;
  561                        	; void __fastcall load_palette( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp>, unsigned char num_palettes<_ah> );
  562                        	;
  563                        	; void __fastcall far_load_palette( unsigned char palette<_al>, unsigned char num_palettes<_ah> );
  564                        	
  565    1F:D41E             			.proc	_load_palette.3
  566    1F:D41E             			.alias	_far_load_palette.2	= _load_palette.3
  567                        	
  568    1F:D41E  AC 96 26   			ldy	color_queue_w		; Get the queue's write index.
  569                        	
  570    1F:D421  A5 EC      			lda.l	<_bp			; Add this set of palettes to
  571    1F:D423  99 A7 26   			sta	color_addr_l, y		; the queue.
  572    1F:D426  A5 ED      			lda.h	<_bp
  573    1F:D428  99 AF 26   			sta	color_addr_h, y
  574    1F:D42B  A5 02      			lda	<_bp_bank
  575    1F:D42D  99 B7 26   			sta	color_bank, y
  576    1F:D430  A5 F8      			lda	<_al
  577    1F:D432  99 97 26   			sta	color_index, y
  578    1F:D435  A5 F9      			lda	<_ah
  579    1F:D437  99 9F 26   			sta	color_count, y
  580                        	
  581    1F:D43A  C8         			iny				; Increment the queue index.
  582    1F:D43B  98         			tya
  583    1F:D43C  29 07      			and	#7
  584                        	
  585    1F:D43E  CD 95 26   	.wait:		cmp	color_queue_r		; If the queue is full, wait
  586    1F:D441  F0 FB      			beq	.wait			; for the next VBLANK.
  587                        	
  588    1F:D443  8D 96 26   			sta	color_queue_w		; Signal item is in the queue.
  589                        	
  590                        			leave				; All done, phew!
         1F:D446  4C EF FF   			jmp	leave_proc
  591                        	
  592                        			.endp
  593                        	
  594                        	
  595                        	
  596               0000     		.if	0
  620                        		.endif
  621                        	
  622                        	
  623                        	
  624                        	; ***************************************************************************
  625                        	; ***************************************************************************
  626                        	;
  627                        	; void __fastcall load_background( unsigned char __far *tiles<_bp_bank:_bp>, unsigned char __far *palettes<__fbank:__fptr>, unsigned char __far *bat<_cl:_bx>, unsigned char w<_dl>, unsigned char w<_dh> );
  628                        	
  629                        			.proc	_load_background.5
  667                        			.endp
  668                        	
  669                        	
  670                        	
  671                        	; ***************************************************************************
  672                        	; ***************************************************************************
  673                        	;
  674                        	; void __fastcall vram2vram( unsigned int vram_dst<_ax>, unsigned int vram_src<_bx>, unsigned int word_len<_cx> );
  675                        	; void __fastcall sgx_vram2vram( unsigned int vram_dst<_ax>, unsigned int vram_src<_bx>, unsigned int word_len<_cx> );
  676                        	;
  677                        	
  678               0001     		.if	SUPPORT_SGX
  679                        			.proc	_sgx_vram2vram.3
  685                        			.endp
  686                        		.endif
  687                        	
  688    1F:D33F             			.proc	_vram2vram.3
  689                        	
  690    1F:D33F  82         			clx				; Offset to PCE VDC.
  691                        	
  692    1F:D340  08         			php
  693    1F:D341  78         			sei
  694    1F:D342  A9 11      			lda	#VDC_DESR
  695    1F:D344  9D 00 02   			sta	VDC_AR, x
  696    1F:D347  A5 F8      			lda.l	<_ax
  697    1F:D349  9D 02 02   			sta	VDC_DL, x
  698    1F:D34C  A5 F9      			lda.h	<_ax
  699    1F:D34E  9D 03 02   			sta	VDC_DH, x
  700                        	
  701    1F:D351  A9 10      			lda	#VDC_SOUR
  702    1F:D353  9D 00 02   			sta	VDC_AR, x
  703    1F:D356  A5 FA      			lda.l	<_bx
  704    1F:D358  9D 02 02   			sta	VDC_DL, x
  705    1F:D35B  A5 FB      			lda.h	<_bx
  706    1F:D35D  9D 03 02   			sta	VDC_DH, x
  707                        	
  708    1F:D360  A9 12      			lda	#VDC_LENR
  709    1F:D362  9D 00 02   			sta	VDC_AR, x
  710    1F:D365  18         			clc
  711    1F:D366  A5 FC      			lda.l	<_cx
  712    1F:D368  69 FF      			adc	#$FF
  713    1F:D36A  9D 02 02   			sta	VDC_DL, x
  714    1F:D36D  A5 FD      			lda.h	<_cx
  715    1F:D36F  69 FF      			adc	#$FF
  716    1F:D371  9D 03 02   			sta	VDC_DH, x
  717                        	
  718    1F:D374  B5 F7      			lda	<vdc_reg, x
  719    1F:D376  8D 00 02   			sta	VDC_AR
  720    1F:D379  28         			plp
  721                        	
  722                        			leave
         1F:D37A  4C EF FF   			jmp	leave_proc
  723                        	
  724                        			.endp
  725                        	
  726                        	
  727                        	
  728                        	; ***************************************************************************
  729                        	; ***************************************************************************
  730                        	;
  731                        	; HuC Font Functions
  732                        	;
  733                        	; ***************************************************************************
  734                        	; ***************************************************************************
  735                        	
  736                        	
  737                        	
  738               26DF     			.bss
  739                        	
  740                        	; **************
  741                        	; 16-bytes of VDC BAT information.
  742                        	;
  743                        	; N.B. MUST be 16-bytes before the SGX versions to use PCE_VDC_OFFSET.
  744                        	
  745    F8:26DF             	_vdc_font_base:	ds	2	; Tile number of ASCII '\0'.
  746                        	
  747                        	; From hucc-printf.asm just to avoid wasting .bss space with padding.
  748    F8:26E1             	_vdc_tty_x_lhs:	ds	1	; TTY minimum X position.
  749    F8:26E2             	_vdc_tty_y_top:	ds	1	; TTY minimum Y position.
  750    F8:26E3             	_vdc_tty_x:	ds	1	; TTY current X position.
  751    F8:26E4             	_vdc_tty_y:	ds	1	; TTY current Y position.
  752                        	
  753               0001     		.if	SUPPORT_SGX
  754                        	
  755                        	; **************
  756                        	; 16-bytes of SGX BAT information.
  757                        	;
  758                        	; N.B. MUST be 16-bytes after the VDC versions to use SGX_VDC_OFFSET.
  759                        	
  760    F8:26E5             			ds	10	; Padding to ensure the 16-byte delta.
  761                        	
  762    F8:26EF             	_sgx_font_base:	ds	2	; Tile number of ASCII '\0'.
  763                        	
  764                        	; From hucc-printf.asm just to avoid wasting .bss space with padding.
  765    F8:26F1             	_sgx_tty_x_lhs:	ds	1	; TTY minimum X position.
  766    F8:26F2             	_sgx_tty_y_top:	ds	1	; TTY minimum Y position.
  767    F8:26F3             	_sgx_tty_x:	ds	1	; TTY current X position.
  768    F8:26F4             	_sgx_tty_y:	ds	1	; TTY current Y position.
  769                        	
  770                        		.endif
  771                        	
  772                        	;_font_base	.alias	vdc_font_base
  773                        	
  774               E5D6     			.code
  775                        	
  776                        	
  777                        	
  778                        	; ***************************************************************************
  779                        	; ***************************************************************************
  780                        	;
  781                        	; void __fastcall set_font_addr( unsigned int vram<acc> );
  782                        	; void __fastcall sgx_set_font_addr( unsigned int vram<acc> );
  783                        	
  784               0001     		.if	SUPPORT_SGX
  785    00:E5D6             	_sgx_set_font_addr.1:
  786    00:E5D6  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  787    00:E5D8  F0         			db	$F0			; Turn "clx" into a "beq".
  788                        		.endif
  789                        	
  790    00:E5D9             	_set_font_addr.1:
  791    00:E5D9  82         			clx				; Offset to PCE VDC.
  792                        	
  793    00:E5DA  84 00      	set_font_addr:	sty	<__temp
  794    00:E5DC  46 00      			lsr	<__temp
  795    00:E5DE  6A         			ror	a
  796    00:E5DF  46 00      			lsr	<__temp
  797    00:E5E1  6A         			ror	a
  798    00:E5E2  46 00      			lsr	<__temp
  799    00:E5E4  6A         			ror	a
  800    00:E5E5  46 00      			lsr	<__temp
  801    00:E5E7  6A         			ror	a
  802    00:E5E8  38         			sec
  803    00:E5E9  E9 20      			sbc	#$20
  804    00:E5EB  9D DF 26   			sta.l	_vdc_font_base,x
  805    00:E5EE  B0 02      			bcs	!+
  806    00:E5F0  C6 00      			dec	<__temp
  807                        	
  808    00:E5F2  BD E0 26   	!:		lda.h	_vdc_font_base, x
  809    00:E5F5  29 F0      			and	#$F0
  810    00:E5F7  05 00      			ora	<__temp
  811    00:E5F9  9D E0 26   			sta.h	_vdc_font_base, x
  812    00:E5FC  60         			rts
  813                        	
  814                        	
  815                        	
  816                        	; ***************************************************************************
  817                        	; ***************************************************************************
  818                        	;
  819                        	; void __fastcall set_font_pal( unsigned char palette<acc> );
  820                        	; void __fastcall sgx_set_font_pal( unsigned char palette<acc> );
  821                        	
  822               0001     		.if	SUPPORT_SGX
  823    00:E5FD             	_sgx_set_font_pal.1:
  824    00:E5FD  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  825    00:E5FF  F0         			db	$F0			; Turn "clx" into a "beq".
  826                        		.endif
  827                        	
  828    00:E600             	_set_font_pal:					; For compatibility with HuC.
  829    00:E600             	_set_font_pal.1:
  830    00:E600  82         			clx				; Offset to PCE VDC.
  831    00:E601  0A         			asl	a
  832    00:E602  0A         			asl	a
  833    00:E603  0A         			asl	a
  834    00:E604  0A         			asl	a
  835    00:E605  85 00      			sta	<__temp
  836                        	
  837    00:E607  BD E0 26   			lda.h	_vdc_font_base, x
  838    00:E60A  29 0F      			and	#$0F
  839    00:E60C  05 00      			ora	<__temp
  840    00:E60E  9D E0 26   			sta.h	_vdc_font_base, x
  841    00:E611  60         			rts
  842                        	
  843                        	
  844                        	
  845                        	; ***************************************************************************
  846                        	; ***************************************************************************
  847                        	;
  848                        	; void __fastcall load_font( char far *font<_bp_bank:_bp>, unsigned char count<_al> );
  849                        	;
  850                        	; void __fastcall load_font( char far *font<_bp_bank:_bp>, unsigned char count<_al>, unsigned int vram<acc> );
  851                        	; void __fastcall sgx_load_font( char far *font<_bp_bank:_bp>, unsigned char count<_al>, unsigned int vram<acc> );
  852                        	;
  853                        	; void __fastcall far_load_font( unsigned char count<_al>, unsigned int vram<acc> );
  854                        	; void __fastcall sgx_far_load_font( unsigned char count<_al>, unsigned int vram<acc> );
  855                        	
  856    00:E612  AC C3 26   	_load_font.2:	ldy	vdc_bat_limit		; Load the font directly
  857    00:E615  C8         			iny				; after the BAT (stupid!).
  858    00:E616  62         			cla
  859    00:E617  80 03      			bra	_load_font.3
  860                        	
  861               0001     		.if	SUPPORT_SGX
  862    00:E619             	_sgx_load_font.3:
  863    00:E619  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  864    00:E61B  F0         			db	$F0			; Turn "clx" into a "beq".
  865                        		.endif
  866                        	
  867    00:E61C  82         	_load_font.3:	clx				; Offset to PCE VDC.
  868                        	
  869    00:E61D  85 F0      			sta.l	<_di			; Load the font directly
  870    00:E61F  84 F1      			sty.h	<_di			; after the BAT (stupid!).
  871                        	
  872    00:E621  20 DA E5   			jsr	set_font_addr		; Set xxx_font_base from addr.
  873                        	
  874    00:E624  A5 F8      			lda	<__al			; Convert #tiles into #words.
  875    00:E626  64 F9      			stz	<__ah
  876    00:E628  0A         			asl	a
  877    00:E629  26 F9      			rol	<__ah
  878    00:E62B  0A         			asl	a
  879    00:E62C  26 F9      			rol	<__ah
  880    00:E62E  0A         			asl	a
  881    00:E62F  26 F9      			rol	<__ah
  882    00:E631  0A         			asl	a
  883    00:E632  26 F9      			rol	<__ah
  884    00:E634  85 F8      			sta	<__al
  885    00:E636  4C FF FE   			jmp	load_vram_x
  886                        	
  887    00:E639             			.alias	_far_load_font.2	= _load_font.3
  888    00:E639             			.alias	_sgx_far_load_font.2	= _sgx_load_font.3
  889                        	
  890                        	
  891                        	
  892                        	; ***************************************************************************
  893                        	; ***************************************************************************
  894                        	;
  895                        	; void __fastcall cls();
  896                        	; void __fastcall sgx_cls();
  897                        	;
  898                        	; void __fastcall cls( int tile<acc> );
  899                        	; void __fastcall sgx_cls( int tile<acc> );
  900                        	
  901               0001     		.if	SUPPORT_SGX
  902    00:E639  A2 10      	_sgx_cls:	ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  903    00:E63B  F0         			db	$F0			; Turn "clx" into a "beq".
  904                        		.endif
  905                        	
  906    00:E63C  82         	_cls:		clx				; Offset to PCE VDC.
  907                        	
  908    00:E63D  BD DF 26   	clear_tty_x:	lda.l	_vdc_font_base, x
  909    00:E640  BC E0 26   			ldy.h	_vdc_font_base, x
  910    00:E643  18         			clc
  911    00:E644  69 20      			adc	#' '
  912    00:E646  90 07      			bcc	!+
  913    00:E648  C8         			iny
  914    00:E649  80 04      			bra	!+
  915                        	
  916               0001     		.if	SUPPORT_SGX
  917    00:E64B  A2 10      	_sgx_cls.1:	ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  918    00:E64D  F0         			db	$F0			; Turn "clx" into a "beq".
  919                        		.endif
  920                        	
  921    00:E64E  82         	_cls.1:		clx
  922                        	
  923    00:E64F  85 F8      	!:		sta.l	<_ax			; VRAM word to write.
  924    00:E651  84 F9      			sty.h	<_ax
  925    00:E653  BD C3 26   			lda	vdc_bat_limit, x	; BAT size hi-byte.
  926    00:E656  1A         			inc	a
  927    00:E657  85 FA      			sta	<_bl
  928    00:E659  4C 51 FD   			jmp	clear_bat_x
  929                        	
  930                        	
  931                        	
  932                        	; ***************************************************************************
  933                        	; ***************************************************************************
  934                        	;
  935                        	; void __fastcall __macro load_default_font( void );
  936                        	; void __fastcall __macro sgx_load_default_font( void );
  937                        	;
  938                        	; Args: _bp, _bp_bank = _farptr to font data mapped into MPR3 & MPR4.
  939                        	; Args: _di = VRAM destination address.
  940                        	; Args: monofont_fg = font color (0..15)
  941                        	; Args: monofont_bg = background color (0..15)
  942                        	; Args: _al = number of tiles (aka characters) 0==256
  943                        	
  944    1E:CAAC             	huc_monofont_x	.proc
  945                        	
  946               26F5     			.bss
  947    F8:26F5             	monofont_fg:	.ds	1
  948    F8:26F6             	monofont_bg:	.ds	1
  949               CAAC     			.code
  950                        	
  951    1E:CAAC  BC C3 26   			ldy	vdc_bat_limit, x	; BAT limit mask hi-byte.
  952    1E:CAAF  C8         			iny
  953    1E:CAB0  62         			cla
  954    1E:CAB1  85 F0      			sta.l	<_di			; Load the font directly
  955    1E:CAB3  84 F1      			sty.h	<_di			; after the BAT (stupid!).
  956                        	
  957    1E:CAB5  20 DA E5   			jsr	set_font_addr		; Set xxx_font_base from addr.
  958                        	
  959    1E:CAB8  A9 3C      			lda.l	#.font
  960    1E:CABA  85 EC      			sta.l	<_bp
  961    1E:CABC  A9 CB      			lda.h	#.font
  962    1E:CABE  85 ED      			sta.h	<_bp
  963                        	
  964    1E:CAC0  A9 60      			lda	#$60			; #characters.
  965    1E:CAC2  85 F8      			sta	<_al
  966                        	
  967    1E:CAC4  20 93 E3   			jsr	set_di_to_mawr
  968                        	
  969    1E:CAC7  AD F5 26   			lda	monofont_fg		; Foreground pixel color.
  970    1E:CACA  85 00      			sta	<__temp
  971    1E:CACC  AD F6 26   			lda	monofont_bg		; Background pixel color.
  972    1E:CACF  DA         			phx
  973    1E:CAD0  A2 FC      			ldx.l	#_cx			; Create a bit mask for each
  974    1E:CAD2  9E 00 20   	.bg_loop:	stz	$2000, x		; plane of the background.
  975    1E:CAD5  4A         			lsr	a
  976    1E:CAD6  90 03      			bcc	.bg_plane
  977    1E:CAD8  DE 00 20   			dec	$2000, x
  978    1E:CADB  E8         	.bg_plane:	inx
  979    1E:CADC  D0 F4      			bne	.bg_loop
  980    1E:CADE  FA         			plx
  981                        	
  982    1E:CADF  C2         	.tile_loop:	cly
  983                        	
  984    1E:CAE0  B1 EC      	.plane01:	lda	[_bp], y		; Get font byte.
  985    1E:CAE2  8F 00 06   			bbs0	<__temp, .set_plane0
  986    1E:CAE5  49 FF      	.clr_plane0:	eor	#$FF			; Clr font bits in background.
  987    1E:CAE7  25 FC      			and	<_cx + 0
  988    1E:CAE9  80 02      			bra	.put_plane0
  989    1E:CAEB  05 FC      	.set_plane0:	ora	<_cx + 0		; Set font bits in background.
  990    1E:CAED  9D 02 02   	.put_plane0:	sta	VDC_DL, x
  991                        	
  992    1E:CAF0  B1 EC      			lda	[_bp], y		; Get font byte.
  993    1E:CAF2  9F 00 06   			bbs1	<__temp, .set_plane1
  994    1E:CAF5  49 FF      	.clr_plane1:	eor	#$FF			; Clr font bits in background.
  995    1E:CAF7  25 FD      			and	<_cx + 1
  996    1E:CAF9  80 02      			bra	.put_plane1
  997    1E:CAFB  05 FD      	.set_plane1:	ora	<_cx + 1		; Set font bits in background.
  998    1E:CAFD  9D 03 02   	.put_plane1:	sta	VDC_DH, x
  999                        	
 1000    1E:CB00  C8         			iny
 1001    1E:CB01  C0 08      			cpy	#8
 1002    1E:CB03  90 DB      			bcc	.plane01
 1003                        	
 1004    1E:CB05  C2         			cly
 1005                        	
 1006    1E:CB06  B1 EC      	.plane23:	lda	[_bp], y		; Get font byte.
 1007    1E:CB08  AF 00 06   			bbs2	<__temp, .set_plane2
 1008    1E:CB0B  49 FF      	.clr_plane2:	eor	#$FF			; Clr font bits in background.
 1009    1E:CB0D  25 FE      			and	<_cx + 2
 1010    1E:CB0F  80 02      			bra	.put_plane2
 1011    1E:CB11  05 FE      	.set_plane2:	ora	<_cx + 2		; Set font bits in background.
 1012    1E:CB13  9D 02 02   	.put_plane2:	sta	VDC_DL, x
 1013                        	
 1014    1E:CB16  B1 EC      			lda	[_bp], y		; Get font byte.
 1015    1E:CB18  BF 00 06   			bbs3	<__temp, .set_plane3
 1016    1E:CB1B  49 FF      	.clr_plane3:	eor	#$FF			; Clr font bits in background.
 1017    1E:CB1D  25 FF      			and	<_cx + 3
 1018    1E:CB1F  80 02      			bra	.put_plane3
 1019    1E:CB21  05 FF      	.set_plane3:	ora	<_cx + 3		; Set font bits in background.
 1020    1E:CB23  9D 03 02   	.put_plane3:	sta	VDC_DH, x
 1021                        	
 1022    1E:CB26  C8         			iny
 1023    1E:CB27  C0 08      			cpy	#8
 1024    1E:CB29  90 DB      			bcc	.plane23
 1025                        	
 1026    1E:CB2B  A5 EC      			lda.l	<_bp
 1027    1E:CB2D  69 07      			adc	#8-1
 1028    1E:CB2F  85 EC      			sta.l	<_bp
 1029    1E:CB31  90 02      			bcc	!+
 1030    1E:CB33  E6 ED      			inc.h	<_bp
 1031                        	
 1032    1E:CB35  C6 F8      	!:		dec	<_al
 1033    1E:CB37  D0 A6      			bne	.tile_loop
 1034                        	
 1035                        			leave				; All done, phew!
         1E:CB39  4C EF FF   			jmp	leave_proc
 1036                        	
 1037    1E:CB3C             	.font:		incbin	"data/font8x8-bold-short-iso646-fr.dat", 128
 1038                        	
 1039                        			.endp
 1040                        	
 1041                        	
 1042                        	
 1043                        	; ***************************************************************************
 1044                        	; ***************************************************************************
 1045                        	;
 1046                        	; HuC Text Output
 1047                        	;
 1048                        	; ***************************************************************************
 1049                        	; ***************************************************************************
 1050                        	
 1051                        	
 1052                        	
 1053    1F:CA9E             	vdc_tty_out	.procgroup			; These routines share code!
 1054                        	
 1055                        	; ***************************************************************************
 1056                        	; ***************************************************************************
 1057                        	;
 1058                        	; void __fastcall put_char( unsigned char digit<_bl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
 1059                        	
 1060               0001     		.if	SUPPORT_SGX
 1061                        	put_char_sgx	.proc
 1067                        			.endp
 1068                        		.endif
 1069                        	
 1070    1F:CA9E             	put_char_vdc	.proc
 1071                        	
 1072    1F:CA9E  82         			clx				; Offset to PCE VDC.
 1073                        	
 1074    1F:CA9F  20 5D CB   			jsr	put_di_xy_wrap		; Comply with HuC's wrapping.
 1075                        	
 1076    1F:CAA2  62         			cla				; Push EOL marker.
 1077    1F:CAA3  48         			pha
 1078                        	
 1079    1F:CAA4  A5 FA      			lda	<_bl
 1080    1F:CAA6  48         			pha				; Push character to output.
 1081    1F:CAA7  80 58      			bra	!output+
 1082                        	
 1083    1F:CAA9             			.ref	put_hex_vdc		; Need put_number_vdc
 1084                        			.endp
 1085                        	
 1086    1F:CAA9             			.alias	_put_char.3		= put_char_vdc
 1087                        	
 1088                        	
 1089                        	
 1090                        	; ***************************************************************************
 1091                        	; ***************************************************************************
 1092                        	;
 1093                        	; void __fastcall put_digit( unsigned char digit<_bl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
 1094                        	
 1095               0001     		.if	SUPPORT_SGX
 1096                        	put_digit_sgx	.proc
 1102                        			.endp
 1103                        		.endif
 1104                        	
 1105    1F:CAA9             	put_digit_vdc	.proc
 1106                        	
 1107    1F:CAA9  82         			clx				; Offset to PCE VDC.
 1108                        	
 1109    1F:CAAA  20 5D CB   			jsr	put_di_xy_wrap		; Comply with HuC's wrapping.
 1110                        	
 1111    1F:CAAD  62         			cla				; Push EOL marker.
 1112    1F:CAAE  48         			pha
 1113                        	
 1114    1F:CAAF  A5 FA      			lda	<_bl			; Convert hex digit to ASCII.
 1115    1F:CAB1  29 0F      			and	#$0F
 1116    1F:CAB3  C9 0A      			cmp	#10
 1117    1F:CAB5  90 02      			bcc	!+
 1118    1F:CAB7  69 06      			adc	#6
 1119    1F:CAB9  69 30      	!:		adc	#'0'
 1120    1F:CABB  48         			pha				; Push character to output.
 1121    1F:CABC  80 43      			bra	!output+
 1122                        	
 1123    1F:CABE             			.ref	put_hex_vdc		; Need put_number_vdc
 1124                        			.endp
 1125                        	
 1126    1F:CABE             			.alias	_put_digit.3		= put_digit_vdc
 1127                        	
 1128                        	
 1129                        	
 1130                        	; ***************************************************************************
 1131                        	; ***************************************************************************
 1132                        	;
 1133                        	; void __fastcall put_hex( unsigned int number<_bx>, unsigned char length<_cl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
 1134                        	
 1135               0001     		.if	SUPPORT_SGX
 1136                        	put_hex_sgx	.proc
 1141                        			.endp
 1142                        		.endif
 1143                        	
 1144    1F:CABE             	put_hex_vdc	.proc
 1145                        	
 1146    1F:CABE  82         			clx				; Offset to PCE VDC.
 1147                        	
 1148    1F:CABF  20 5D CB   			jsr	put_di_xy_wrap		; Comply with HuC's wrapping.
 1149                        	
 1150    1F:CAC2  A4 FC      			ldy	<_cl			; Total #characters to print,
 1151    1F:CAC4  F0 3E      			beq	!exit+			; NOT minimum #characters!
 1152                        	
 1153    1F:CAC6  86 00      			stx	<__temp			; Preserve which VDC.
 1154                        	
 1155    1F:CAC8  82         			clx				; Push EOL marker.
 1156    1F:CAC9  DA         			phx
 1157                        	
 1158    1F:CACA  B5 FA      	.hex_byte:	lda.l	<_bx, x			; Convert hex digit to ASCII.
 1159    1F:CACC  29 0F      			and	#$0F
 1160    1F:CACE  C9 0A      			cmp	#10
 1161    1F:CAD0  90 02      			bcc	!+
 1162    1F:CAD2  69 06      			adc	#6
 1163    1F:CAD4  69 30      	!:		adc	#'0'
 1164    1F:CAD6  48         			pha				; Push character to output.
 1165    1F:CAD7  88         			dey
 1166    1F:CAD8  F0 15      			beq	.hex_done
 1167                        	
 1168    1F:CADA  B5 FA      			lda.l	<_bx, x			; Convert hex digit to ASCII.
 1169    1F:CADC  4A         			lsr	a
 1170    1F:CADD  4A         			lsr	a
 1171    1F:CADE  4A         			lsr	a
 1172    1F:CADF  4A         			lsr	a
 1173    1F:CAE0  C9 0A      			cmp	#10
 1174    1F:CAE2  90 02      			bcc	!+
 1175    1F:CAE4  69 06      			adc	#6
 1176    1F:CAE6  69 30      	!:		adc	#'0'
 1177    1F:CAE8  48         			pha				; Push character to output.
 1178    1F:CAE9  88         			dey
 1179    1F:CAEA  F0 03      			beq	.hex_done
 1180                        	
 1181    1F:CAEC  E8         			inx
 1182    1F:CAED  80 DB      			bra	.hex_byte
 1183                        	
 1184    1F:CAEF  A6 00      	.hex_done:	ldx	<__temp			; Restore which VDC.
 1185    1F:CAF1  80 0E      			bra	!output+
 1186                        	
 1187    1F:CAF3  18         	.write:		clc
 1188    1F:CAF4  7D DF 26   			adc.l	_vdc_font_base, x
 1189    1F:CAF7  9D 02 02   			sta	VDC_DL, x
 1190    1F:CAFA  62         			cla
 1191    1F:CAFB  7D E0 26   			adc.h	_vdc_font_base, x
 1192    1F:CAFE  9D 03 02   			sta	VDC_DH, x
 1193                        	
 1194    1F:CB01  68         	!output:	pla				; Pop the digits and output.
 1195    1F:CB02  D0 EF      			bne	.write
 1196                        	
 1197                        	!exit:		leave				; All done!
         1F:CB04  4C EF FF   			jmp	leave_proc
 1198                        	
 1199                        			.endp
 1200                        	
 1201    1F:CB07             			.alias	_put_hex.4 = put_hex_vdc
 1202                        	
 1203                        	
 1204                        	
 1205                        	; ***************************************************************************
 1206                        	; ***************************************************************************
 1207                        	;
 1208                        	; void __fastcall put_number( unsigned int number<_bx>, unsigned char length<_cl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
 1209                        	
 1210               0001     		.if	SUPPORT_SGX
 1211                        	put_number_sgx	.proc
 1216                        			.endp
 1217                        		.endif
 1218                        	
 1219    1F:CB07             	put_number_vdc	.proc
 1220                        	
 1221    1F:CB07  82         			clx				; Offset to PCE VDC.
 1222                        	
 1223    1F:CB08  20 5D CB   			jsr	put_di_xy_wrap		; Comply with HuC's wrapping.
 1224                        	
 1225    1F:CB0B  A4 FC      			ldy	<_cl			; Total #characters to print,
 1226    1F:CB0D  F0 F5      			beq	!exit-			; NOT minimum #characters!
 1227                        	
 1228    1F:CB0F  86 00      			stx	<__temp			; Preserve which VDC.
 1229                        	
 1230    1F:CB11  82         			clx				; Push EOL marker.
 1231    1F:CB12  DA         			phx
 1232                        	
 1233    1F:CB13  A6 FB      			ldx.h	<_bx			; Is the number -ve?
 1234    1F:CB15  86 FC      			stx	<_cl			; Remember this.
 1235    1F:CB17  10 10      			bpl	.divide_by_ten
 1236                        	
 1237    1F:CB19  38         			sec				; Make the number +ve.
 1238    1F:CB1A  A5 FA      			lda.l	<_bx
 1239    1F:CB1C  49 FF      			eor	#$FF
 1240    1F:CB1E  69 00      			adc	#0
 1241    1F:CB20  85 FA      			sta.l	<_bx
 1242    1F:CB22  8A         			txa
 1243    1F:CB23  49 FF      			eor	#$FF
 1244    1F:CB25  69 00      			adc	#0
 1245    1F:CB27  85 FB      			sta.h	<_bx
 1246                        	
 1247    1F:CB29  A2 10      	.divide_by_ten:	ldx	#16
 1248    1F:CB2B  62         			cla				; Clear Remainder.
 1249    1F:CB2C  06 FA      			asl.l	<_bx			; Rotate Dividend, MSB -> C.
 1250    1F:CB2E  26 FB      			rol.h	<_bx
 1251    1F:CB30  2A         	.divide_loop:	rol	a			; Rotate C into Remainder.
 1252    1F:CB31  C9 0A      			cmp	#10			; Test Divisor.
 1253    1F:CB33  90 02      			bcc	.divide_less		; CC if Divisor > Remainder.
 1254    1F:CB35  E9 0A      			sbc	#10			; Subtract Divisor.
 1255    1F:CB37  26 FA      	.divide_less:	rol.l	<_bx			; Quotient bit -> Dividend LSB.
 1256    1F:CB39  26 FB      			rol.h	<_bx			; Rotate Dividend, MSB -> C.
 1257    1F:CB3B  CA         			dex
 1258    1F:CB3C  D0 F2      			bne	.divide_loop
 1259                        	
 1260    1F:CB3E  18         			clc
 1261    1F:CB3F  69 30      			adc	#'0'			; Always leaves C clr.
 1262    1F:CB41  48         			pha				; Push character to output.
 1263    1F:CB42  88         			dey
 1264    1F:CB43  F0 10      			beq	!pad+
 1265    1F:CB45  A5 FA      			lda.l	<_bx			; Repeat while non-zero.
 1266    1F:CB47  05 FB      			ora.h	<_bx
 1267    1F:CB49  D0 DE      			bne	.divide_by_ten
 1268                        	
 1269    1F:CB4B  A6 00      			ldx	<__temp			; Restore which VDC.
 1270                        	
 1271    1F:CB4D  A5 FC      			lda	<_cl			; Was the number -ve?
 1272    1F:CB4F  10 04      			bpl	!pad+
 1273    1F:CB51  A9 2D      			lda	#'-'			; Output a leading '-'.
 1274    1F:CB53  48         			pha
 1275    1F:CB54  88         			dey
 1276                        	
 1277    1F:CB55  A9 20      	!pad:		lda	#' '			; Add padding characters.
 1278    1F:CB57  88         	.loop:		dey
 1279    1F:CB58  30 A7      			bmi	!output-
 1280    1F:CB5A  48         			pha
 1281    1F:CB5B  80 FA      			bra	.loop
 1282                        	
 1283    1F:CB5D             			.ref	put_hex_vdc		; Need put_number_vdc
 1284                        	
 1285                        			.endp
 1286                        	
 1287    1F:CB5D             			.alias	_put_number.4 = put_number_vdc
 1288                        	
 1289                        	
 1290                        	
 1291                        	; ***************************************************************************
 1292                        	; ***************************************************************************
 1293                        	;
 1294                        	; void __fastcall put_raw( unsigned int data<_bx>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
 1295                        	
 1296               0001     		.if	SUPPORT_SGX
 1297                        	put_raw_sgx	.proc
 1302                        			.endp
 1303                        		.endif
 1304                        	
 1305                        	put_raw_vdc	.proc
 1318                        			.endp
 1319                        	
 1320    1F:CB5D             			.alias	_put_raw.3		= put_raw_vdc
 1321                        	
 1322                        			;
 1323                        			; Ugly hack to wrap the X & Y coordinates like HuC.
 1324                        			;
 1325                        	
 1326    1F:CB5D  A5 F0      	put_di_xy_wrap:	lda.l	<_di			; Sanitize X coordinate.
 1327    1F:CB5F  3D C1 26   			and	vdc_bat_x_mask, x
 1328    1F:CB62  85 F0      			sta.l	<_di
 1329                        	
 1330    1F:CB64  A5 F1      			lda.h	<_di			; Sanitize Y coordinate.
 1331    1F:CB66  3D C2 26   			and	vdc_bat_y_mask, x
 1332    1F:CB69  85 F1      			sta.h	<_di
 1333                        	
 1334    1F:CB6B  4C 48 E4   			jmp	set_di_xy_mawr		; In "common.asm".
 1335                        	
 1336                        			.endprocgroup			; vdc_tty_out
 1337                        	
 1338                        	
 1339                        	
 1340                        	; ***************************************************************************
 1341                        	; ***************************************************************************
 1342                        	;
 1343                        	; void __fastcall put_string( unsigned char *string<_bp>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
 1344                        	;
 1345                        	; N.B. This is not a .proc right now because it is called from procedures
 1346                        	; that contain embedded strings, and the string aren't banked in before
 1347                        	; printing (yet).
 1348                        	
 1349               0001     		.if	SUPPORT_SGX
 1350    00:E65C             	_sgx_put_string.3:
 1351    00:E65C  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
 1352    00:E65E  F0         			db	$F0			; Turn "clx" into a "beq".
 1353                        		.endif
 1354                        	
 1355    00:E65F  82         	_put_string.3:	clx				; Offset to PCE VDC.
 1356                        	
 1357    00:E660  20 48 E4   			jsr	set_di_xy_mawr
 1358                        	
 1359    00:E663  C2         			cly
 1360    00:E664  B1 EC      	.chr_loop:	lda	[_bp], y
 1361    00:E666  F0 15      			beq	.done
 1362                        	
 1363    00:E668  18         			clc
 1364    00:E669  7D DF 26   			adc.l	_vdc_font_base, x
 1365    00:E66C  9D 02 02   			sta	VDC_DL, x
 1366    00:E66F  62         			cla
 1367    00:E670  7D E0 26   			adc.h	_vdc_font_base, x
 1368    00:E673  9D 03 02   			sta	VDC_DH, x
 1369                        	
 1370    00:E676  C8         			iny
 1371    00:E677  D0 EB      			bne	.chr_loop
 1372    00:E679  E6 ED      			inc.h	<_bp
 1373    00:E67B  80 E7      			bra	.chr_loop
 1374                        	
 1375    00:E67D  60         	.done:		rts
 1376                        	
 1377                        	
 1378                        	
 1379                        	; ***************************************************************************
 1380                        	; ***************************************************************************
 1381                        	;
 1382                        	; void __fastcall set_color_rgb( unsigned int index<VCE_CTA>, unsigned char r<_al>, unsigned char g<_ah>, unsigned char b<acc> );
 1383                        	;
 1384                        	; r:	red	RED:	bit 3-5
 1385                        	; g:	green	GREEN:	bit 6-8
 1386                        	; b:	blue	BLUE:	bit 0-2
 1387                        	
 1388    00:E67E             	_set_color_rgb.4:
 1389                        	;		and	#7
 1390    00:E67E  85 00      			sta	<__temp
 1391    00:E680  A5 F8      			lda	<_al
 1392                        	;		and	#7
 1393    00:E682  0A         			asl	a
 1394    00:E683  0A         			asl	a
 1395    00:E684  0A         			asl	a
 1396    00:E685  05 00      			ora	<__temp
 1397    00:E687  0A         			asl	a
 1398    00:E688  0A         			asl	a
 1399    00:E689  85 00      			sta	<__temp
 1400    00:E68B  A5 F9      			lda	<_ah
 1401                        	;		and	#7
 1402    00:E68D  4A         			lsr	a
 1403    00:E68E  66 00      			ror	<__temp
 1404    00:E690  4A         			lsr	a
 1405    00:E691  66 00      			ror	<__temp
 1406    00:E693  A8         			tay
 1407    00:E694  A5 00      			lda	<__temp
 1408    00:E696  8D 04 04   			sta.l	VCE_CTW
 1409    00:E699  8C 05 04   			sty.h	VCE_CTW
 1410    00:E69C  60         			rts
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   44                        	
   45                        			; Define in hucc-config.inc to remove this.
   46                        	
   47               0001     		.ifndef	HUCC_NO_DEFAULT_RANDOM
                             #[3]   "..\..\..\include\hucc\random.asm"
   48                        			include	"random.asm"		; Random number generator.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; random.asm
    5                        	;
    6                        	; Pseudo-random number generator (https://github.com/bbbradsmith/prng_6502)
    7                        	;
    8                        	; Copyright Brad Smith 2019.
    9                        	;
   10                        	; License:
   11                        	;
   12                        	; This code and may be used, reused, and modified for any purpose, commercial
   13                        	; or non-commercial.
   14                        	;
   15                        	; Attribution in released binaries or documentation is appreciated but not
   16                        	; required.
   17                        	;
   18                        	; ***************************************************************************
   19                        	; ***************************************************************************
   20                        	;
   21                        	; This is a linear feedback shift register (LFSR) in Galois form, which is
   22                        	; iterated 8 times to produce an 8-bit pseudo-random number.
   23                        	;
   24                        	; Two widths of LFSR are provided:
   25                        	;
   26                        	;  24-bit requires 3 bytes, and repeats after 16777215 calls.
   27                        	;  32-bit requires 4 bytes, and repeats after 4294967295 calls.
   28                        	;
   29                        	; Usage:
   30                        	;
   31                        	;  Initialize the zero-page "random" variable to any value other than 0.
   32                        	;  The size of "random" is 3 or 4 bytes, depending on the width of LFSR
   33                        	;  chosen.
   34                        	;
   35                        	;  Call one of the RNG functions and an 8-bit result will be returned in the
   36                        	;  A-register (with flags), and the Y-register will be clobbered.
   37                        	;
   38                        	;  Do not mix RNGs of different width in the same program, unless you can
   39                        	;  give them each separate "random" state storage.
   40                        	;
   41                        	; ***************************************************************************
   42                        	; ***************************************************************************
   43                        	
   44                        	
   45               0001     		.ifndef	_KICKC				; Variables defined in C?
   46               2098     			.zp
   47    F8:2098             	random:		.ds	4			; Seed is 3 or 4 bytes.
   48               E69D     			.code
   49                        		.endif	_KICKC
   50                        	
   51                        	
   52                        	
   53                        	; ***************************************************************************
   54                        	; ***************************************************************************
   55                        	;
   56                        	; init_random - Initialize a 32-bit LFSR using an 8-bit seed value in Y.
   57                        	;
   58                        	; The LFSR is initialized to n'th entry of a standard CRC-32 lookup-table,
   59                        	; which gives it a decent distribution of bits.
   60                        	;
   61                        	; Since seed is an 8-bit value, there are 255 (256-1) possible starting
   62                        	; states for the LFSR, because 0 would generate a 0 state.
   63                        	;
   64                        	; CRC-32 code by Paul Guertin. See http://6502.org/source/integers/crc.htm
   65                        	;
   66                        	
   67    1F:D37D             	init_random	.proc
   68                        	
   69    1F:D37D  A9 01      			lda	#1			; Init CRC-32 table value.
   70    1F:D37F  85 98      			sta	<random + 0
   71    1F:D381  98         			tya				; Get and check the seed value.
   72    1F:D382  D0 01      			bne	.reverse_seed
   73    1F:D384  3A         			dec	a			; Which must be non-zero!
   74    1F:D385  4A         	.reverse_seed:	lsr	a			; Reverse the bits so that small changes
   75    1F:D386  26 98      			rol	<random + 0		; in the seed make larger differences in
   76    1F:D388  90 FB      			bcc	.reverse_seed		; the initial state.
   77                        	
   78    1F:D38A  64 99      			stz	<random + 1		; A contains the high byte of the CRC-32.
   79    1F:D38C  64 9A      			stz	<random + 2		; The other three bytes are in memory.
   80    1F:D38E  62         			cla
   81                        	
   82    1F:D38F  A0 08      			ldy	#8			; Y counts bits in a byte.
   83    1F:D391  4A         	.bit_loop:	lsr	a			; The CRC-32 algorithm is similar to CRC-16
   84    1F:D392  66 9A      			ror	<random + 2		; except that it is reversed (originally for
   85    1F:D394  66 99      			ror	<random + 1		; hardware reasons). This is why we shift
   86    1F:D396  66 98      			ror	<random + 0		; right instead of left here.
   87    1F:D398  90 16      			bcc	.no_add			; Do nothing if no overflow,
   88    1F:D39A  49 ED      			eor	#$ED			; else add CRC-32 polynomial $EDB88320.
   89                        	
   90    1F:D39C  48         			pha				; Save high byte while we do others.
   91    1F:D39D  A5 9A      			lda	<random + 2
   92    1F:D39F  49 B8      			eor	#$B8			; Most reference books give the CRC-32 poly
   93    1F:D3A1  85 9A      			sta	<random + 2		; as $04C11DB7. This is actually the same if
   94    1F:D3A3  A5 99      			lda	<random + 1		; you write it in binary and read it right-
   95    1F:D3A5  49 83      			eor	#$83			; to-left instead of left-to-right. Doing it
   96    1F:D3A7  85 99      			sta	<random + 1		; this way means we won't have to explicitly
   97    1F:D3A9  A5 98      			lda	<random + 0		; reverse things afterwards.
   98    1F:D3AB  49 20      			eor	#$20
   99    1F:D3AD  85 98      			sta	<random + 0
  100    1F:D3AF  68         			pla				; Restore high byte.
  101                        	
  102    1F:D3B0  88         	.no_add:	dey				; Do next bit.
  103    1F:D3B1  D0 DE      			bne	.bit_loop
  104                        	
  105    1F:D3B3  85 9B      			sta	<random + 3		; Save CRC-32 high-byte.
  106                        	
  107                        			leave				; All done!
         1F:D3B5  4C EF FF   			jmp	leave_proc
  108                        	
  109                        			.endp
  110                        	
  111                        	
  112                        	
  113                        	; ***************************************************************************
  114                        	; ***************************************************************************
  115                        	;
  116                        	; get_random - 8-bit LFSR pseudo-random number with a 24-bit cycle.
  117                        	;
  118                        	; The pseudo-random sequence repeats after (2^24)-1 calls.
  119                        	;
  120                        	; Written by Wim Couwenberg, see ...
  121                        	;
  122                        	; "https://wimcouwenberg.wordpress.com/2020/11/15/ ...
  123                        	;  a-fast-24-bit-prng-algorithm-for-the-6502-processor/"
  124                        	;
  125                        	; Takes 68 cycles on the HuC6280, incl JSR & RTS.
  126                        	;
  127                        	; N.B. HuCC library code relies on this preserving X and Y!
  128                        	;
  129                        	
  130    00:E69D  C2         	_rand8:		cly				; Entry point for HuCC.
  131                        	
  132    00:E69E  A5 98      	get_random:	lda	<random + 0		; Operation 7 (with carry clear).
  133    00:E6A0  0A         			asl	a
  134    00:E6A1  45 99      			eor	<random + 1
  135    00:E6A3  85 99      			sta	<random + 1
  136    00:E6A5  2A         			rol	a             		; Operation 9.
  137    00:E6A6  45 9A      			eor	<random + 2
  138    00:E6A8  85 9A      			sta	<random + 2
  139    00:E6AA  45 98      			eor	<random + 0		; Operation 5.
  140    00:E6AC  85 98      			sta	<random + 0
  141    00:E6AE  A5 99      			lda	<random + 1		; Operation 15.
  142    00:E6B0  6A         			ror	a
  143    00:E6B1  45 9A      			eor	<random + 2
  144    00:E6B3  85 9A      			sta	<random + 2
  145    00:E6B5  45 99      			eor	<random + 1		; Operation 6.
  146    00:E6B7  85 99      			sta	<random + 1
  147    00:E6B9  60         			rts
  148                        	
  149                        	
  150                        	
  151               0000     		.if	0
  316                        		.endif
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   49                        		.endif
   50                        	
   51                        			; Optional libraries that get used when their header files
   52                        			; are included in a HuCC project.
   53                        			;
   54                        			; When the HuCC compiler is invoked with the "--legacy"
   55                        			; option to compile old projects, then the "huc.h" file
   56                        			; is automatically included, which then includes a list
   57                        			; of specific headers corresponding to HuC's library.
   58                        	
   59               0001     		.ifdef	HUCC_USES_STRING		; Set in hucc_string.h
                             #[3]   "..\..\..\include\hucc\hucc-string.asm"
   60                        			include	"hucc-string.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-string.asm
    5                        	;
    6                        	; Not-quite-standard, but fast, replacements for <string.h>.
    7                        	;
    8                        	; Copyright John Brandwood 2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; !!! WARNING : non-standard return values !!!
   18                        	;
   19                        	; Strings are limited to a maximum of 255 characters (+ the terminator)!
   20                        	;
   21                        	; The memcpy(), strcpy() and strcat() functions do NOT return the destination
   22                        	; address, and they are declared "void" to check that the value is not used.
   23                        	;
   24                        	; mempcpy() is provided which returns the end address instead of the starting
   25                        	; address, because this is typically more useful.
   26                        	;
   27                        	; Please note that both memcpy() and memset() are implemented using a TII for
   28                        	; speed, and so the length should be < 16 bytes if used in time-critical bits
   29                        	; of code (such as when using a split screen) because they delay interrupts.
   30                        	;
   31                        	; strncpy() and strncat() are not provided, because strncpy() was not created
   32                        	; for the purpose of avoiding string overruns, and strncat() is just a poorly
   33                        	; designed function.
   34                        	;
   35                        	; POSIX strlcpy() and strlcat() are provided instead, but once again they are
   36                        	; slightly non-standard in that the return value when there is an overflow is
   37                        	; the buffer size (so that the overflow can be detected), instead of the full
   38                        	; size of the destination string that was too big to fit in the buffer.
   39                        	;
   40                        	; ***************************************************************************
   41                        	; ***************************************************************************
   42                        	
   43                        	
   44                        	
   45                        	; ***************************************************************************
   46                        	; ***************************************************************************
   47                        	;
   48                        	; void __fastcall strcpy( char *destination<_di>, char *source<_bp> );
   49                        	; void __fastcall strcat( char *destination<_di>, char *source<_bp> );
   50                        	;
   51                        	; unsigned int __fastcall strlcpy( char *destination<_di>, char *source<_bp>, unsigned char size<acc> );
   52                        	; unsigned int __fastcall strlcat( char *destination<_di>, char *source<_bp>, unsigned char size<acc> );
   53                        	; unsigned int __fastcall strlen( char *source<_bp> );
   54                        	;
   55                        	; NOT WORKING YET (needs compiler changes) ...
   56                        	;
   57                        	; void __fastcall strcpy( char *destination<_di>, char __far *source<_bp_bank:_bp> );
   58                        	; void __fastcall strcat( char *destination<_di>, char __far *source<_bp_bank:_bp> );
   59                        	;
   60                        	; unsigned int __fastcall strlcpy( char *destination<_di>, char __far *source<_bp_bank:_bp>, unsigned char size<acc> );
   61                        	; unsigned int __fastcall strlcat( char *destination<_di>, char __far *source<_bp_bank:_bp>, unsigned char size<acc> );
   62                        	; unsigned int __fastcall strlen( char __far *source<_bp_bank:_bp> );
   63                        	
   64    00:E6BA  62         	_strcat:	cla				; Max string length == 256!
   65    00:E6BB  A0 01      			ldy.h	#256
   66                        	
   67    00:E6BD  AA         	_strlcat:	tax				; X = buffer length (1..256).
   68                        	
   69               0000     		.ifdef	_DEBUG
   74                        		.endif
   75                        	
   76    00:E6BE  43 08      			tma3				; Preserve MPR3 and MPR4.
   77    00:E6C0  48         			pha
   78    00:E6C1  43 10      			tma4
   79    00:E6C3  48         			pha
   80                        	
   81                        	;		ldy	<_bp_bank		; Map the source string.
   82                        	;		beq	.no_bank
   83                        	;		jsr	map_bp_to_mpr34
   84                        	
   85    00:E6C4  C2         	.no_bank:	cly
   86                        	
   87    00:E6C5  B1 F0      	.find:		lda	[_di], y		; Find the end of the string.
   88    00:E6C7  F0 08      			beq	.adjust
   89    00:E6C9  C8         			iny
   90    00:E6CA  CA         			dex
   91    00:E6CB  D0 F8      			bne	.find
   92    00:E6CD  98         			tya				; A:Y = buffer length.
   93    00:E6CE  62         			cla
   94    00:E6CF  80 28      			bra	str_overflow
   95                        	
   96    00:E6D1  98         	.adjust:	tya				; Subtract Y from _bp so that
   97    00:E6D2  49 FF      			eor	#$FF			; _bp and _di use the same Y.
   98    00:E6D4  38         			sec
   99    00:E6D5  65 EC      			adc.l	<_bp
  100    00:E6D7  85 EC      			sta.l	<_bp
  101    00:E6D9  B0 0F      			bcs	str_copy
  102    00:E6DB  C6 ED      			dec.h	<_bp
  103    00:E6DD  80 0B      			bra	str_copy
  104                        	
  105                        			;
  106                        	
  107    00:E6DF  62         	_strcpy:	cla				; Max string length == 256!
  108    00:E6E0  A0 01      			ldy.h	#256
  109                        	
  110    00:E6E2  AA         	_strlcpy:	tax				; X = buffer length (1..256).
  111                        	
  112               0000     		.ifdef	_DEBUG
  117                        		.endif
  118                        	
  119    00:E6E3  43 08      			tma3				; Preserve MPR3 and MPR4.
  120    00:E6E5  48         			pha
  121    00:E6E6  43 10      			tma4
  122    00:E6E8  48         			pha
  123                        	
  124                        	;		ldy	<_bp_bank		; Map the source string.
  125                        	;		beq	.no_bank
  126                        	;		jsr	map_bp_to_mpr34
  127                        	
  128    00:E6E9  C2         	.no_bank:	cly
  129                        	
  130    00:E6EA  B1 EC      	str_copy:	lda	[_bp], y
  131    00:E6EC  91 F0      			sta	[_di], y
  132    00:E6EE  F0 1E      			beq	str_exit		; A:Y = string length.
  133    00:E6F0  C8         			iny
  134    00:E6F1  CA         			dex
  135    00:E6F2  D0 F6      			bne	str_copy
  136                        	
  137    00:E6F4  88         			dey
  138    00:E6F5  62         			cla
  139    00:E6F6  91 F0      			sta	[_di], y
  140    00:E6F8  C8         			iny				; A:Y = buffer length.
  141    00:E6F9  D0 13      	str_overflow:	bne	str_exit
  142    00:E6FB  1A         			inc	a			; A:Y = buffer length = 256.
  143    00:E6FC  80 10      			bra	str_exit
  144                        	
  145                        			;
  146                        	
  147    00:E6FE  43 08      	_strlen:	tma3
  148    00:E700  48         			pha
  149    00:E701  43 10      			tma4
  150    00:E703  48         			pha
  151                        	
  152                        	;		ldy	<_bp_bank
  153                        	;		beq	.no_bank
  154                        	;		jsr	map_bp_to_mpr34
  155                        	
  156    00:E704  C2         	.no_bank:	cly
  157                        	
  158    00:E705  B1 EC      	.find:		lda	[_bp], y
  159    00:E707  F0 05      			beq	str_exit
  160    00:E709  C8         			iny
  161    00:E70A  D0 F9      			bne	.find
  162    00:E70C  A9 01      			lda.h	#256			; A:Y = overflow length = 256.
  163                        	
  164    00:E70E  AA         	str_exit:	tax				; X:Y = string or buffer length.
  165                        	
  166    00:E70F  68         			pla				; Restore MPR3 and MPR4.
  167    00:E710  53 10      			tam4
  168    00:E712  68         			pla
  169    00:E713  53 08      			tam3
  170                        	
  171    00:E715  8A         			txa				; A:Y = string or buffer length.
  172    00:E716  42         			say				; Y:A = string or buffer length.
  173                        	
  174    00:E717  60         			rts
  175                        	
  176    00:E718             			.alias	_strlen.1		= _strlen
  177    00:E718             			.alias	_strcpy.2		= _strcpy
  178    00:E718             			.alias	_strcat.2		= _strcat
  179    00:E718             			.alias	_strlcpy.3		= _strlcpy
  180    00:E718             			.alias	_strlcat.3		= _strlcat
  181                        	
  182                        	
  183                        	
  184                        	; ***************************************************************************
  185                        	; ***************************************************************************
  186                        	;
  187                        	; void __fastcall memcpy( unsigned char *destination<ram_tii_dst>, unsigned char  *source<ram_tii_src>, unsigned int count<acc> );
  188                        	; unsigned char * __fastcall mempcpy( unsigned char *destination<ram_tii_dst>, unsigned char  *source<ram_tii_src>, unsigned int count<acc> );
  189                        	;
  190                        	; void __fastcall farmemcpy( unsigned char *destination<ram_tii_dst>, unsigned char __far *source<_bp_bank:ram_tii_src>, unsigned int count<acc> );
  191                        	; unsigned char * __fastcall farmempcpy( unsigned char *destination<ram_tii_dst>, unsigned char __far *source<_bp_bank:ram_tii_src>, unsigned int count<acc> );
  192                        	;
  193                        	; void __fastcall far_memcpy( unsigned char *destination<ram_tii_dst>, unsigned int count<acc> );
  194                        	; unsigned char * __fastcall far_mempcpy( unsigned char *destination<ram_tii_dst>, unsigned int count<acc> );
  195                        	;
  196                        	
  197    00:E718             	_memcpy.3:
  198    00:E718  64 02      	_mempcpy.3:	stz	<_bp_bank		; Map the source memory.
  199                        	
  200    00:E71A             	_farmemcpy.3:
  201    00:E71A  8C FE 22   	_farmempcpy.3:	sty.h	ram_tii_len		; Check for zero length.
  202    00:E71D  8D FD 22   			sta.l	ram_tii_len
  203    00:E720  0D FE 22   			ora.h	ram_tii_len
  204    00:E723  F0 18      			beq	.zero_length
  205                        	
  206    00:E725  43 08      			tma3				; Preserve MPR3 and MPR4.
  207    00:E727  48         			pha
  208    00:E728  43 10      			tma4
  209    00:E72A  48         			pha
  210                        	
  211    00:E72B  A5 02      			lda	<_bp_bank		; Map the source memory.
  212    00:E72D  F0 05      			beq	.no_bank
  213                        	
  214    00:E72F  53 08      			tam3				; Put bank into MPR3.
  215    00:E731  1A         			inc	a
  216    00:E732  53 10      			tam4				; Put next into MPR4.
  217                        	
  218                        	;		lda.h	ram_tii_src		; Remap ptr to MPR3.
  219                        	;		and	#$1F
  220                        	;		ora	#$60
  221                        	;		sta.h	ram_tii_src
  222                        	
  223    00:E734  20 F8 22   	.no_bank:	jsr	ram_tii			; Copy the memory.
  224                        	
  225    00:E737  68         			pla				; Restore MPR3 and MPR4.
  226    00:E738  53 10      			tam4
  227    00:E73A  68         			pla
  228    00:E73B  53 08      			tam3
  229                        	
  230    00:E73D  18         	.zero_length:	clc				; Return the end address
  231    00:E73E  AD FB 22   			lda.l	ram_tii_dst		; like mempcpy().
  232    00:E741  6D FD 22   			adc.l	ram_tii_len
  233    00:E744  A8         			tay
  234    00:E745  AD FC 22   			lda.h	ram_tii_dst
  235    00:E748  6D FE 22   			adc.h	ram_tii_len
  236    00:E74B  42         			say
  237                        	
  238    00:E74C  60         			rts
  239                        	
  240    00:E74D             			.alias	_far_memcpy.2		= _farmemcpy.3
  241    00:E74D             			.alias	_far_mempcpy.2		= _farmempcpy.3
  242                        	
  243                        	
  244                        	
  245                        	; ***************************************************************************
  246                        	; ***************************************************************************
  247                        	;
  248                        	; void __fastcall memset( unsigned char *destination<ram_tii_src>, unsigned char value<_al>, unsigned int count<acc> );
  249                        	
  250    00:E74D  C9 00      	_memset:	cmp	#0			; Decrement the length, check
  251    00:E74F  D0 05      			bne	!+			; for zero and set C. 
  252    00:E751  C0 00      			cpy	#0
  253    00:E753  F0 23      			beq	.zero_length
  254    00:E755  88         			dey
  255    00:E756  3A         	!:		dec	a
  256    00:E757  8D FD 22   			sta.l	ram_tii_len
  257    00:E75A  8C FE 22   			sty.h	ram_tii_len
  258                        	
  259    00:E75D  AD F9 22   			lda.l	ram_tii_src		; ram_tii_dst = ram_tii_src + 1
  260    00:E760  85 88      			sta.l	<__ptr
  261    00:E762  69 00      			adc	#0
  262    00:E764  8D FB 22   			sta.l	ram_tii_dst
  263    00:E767  AD FA 22   			lda.h	ram_tii_src
  264    00:E76A  85 89      			sta.h	<__ptr
  265    00:E76C  69 00      			adc	#0
  266    00:E76E  8D FC 22   			sta.h	ram_tii_dst
  267                        	
  268    00:E771  A5 F8      			lda	<_al			; Set the fill value.
  269    00:E773  92 88      			sta	[__ptr]
  270                        	
  271    00:E775  4C F8 22   			jmp	ram_tii			; Copy the memory.
  272                        	
  273    00:E778  60         	.zero_length:	rts
  274                        	
  275    00:E779             			.alias	_memset.3		= _memset
  276                        	
  277                        	
  278                        	
  279                        	; ***************************************************************************
  280                        	; ***************************************************************************
  281                        	;
  282                        	; int __fastcall strcmp( char *string1<_di>, char *string2<_bp> );
  283                        	; int __fastcall strncmp( char *string1<_di>, char *string2<_bp>, unsigned int count<_ax> );
  284                        	;
  285                        	; int __fastcall __macro memcmp( unsigned char *string1<_di>, unsigned char *string2<_bp>, unsigned int count<_ax> );
  286                        	; int __fastcall farmemcmp( unsigned char *string1<_di>, unsigned char __far *string2<_bp_bank:_bp>, unsigned int count<_ax> );
  287                        	; int __fastcall far_memcmp( unsigned char *string1<_di>, unsigned int count<_ax> );
  288                        	;
  289                        	;  0 	if strings are equal
  290                        	;  1 	if the first non-matching character in string1 > string2 (in ASCII).
  291                        	; -1 	if the first non-matching character in string1 < string2 (in ASCII).
  292                        	
  293    1F:D1A7             	hucc_memcmp	.procgroup
  294                        	
  295                        	_strcmp.2	.proc
  300                        			.endp				; Fall through.
  301                        	
  302    1F:D1A7             	_strncmp.3	.proc
  303    1F:D1A7  64 02      			stz	<_bp_bank		; Assume strings are mapped.
  304    1F:D1A9  89 40      			bit	#$40			; Set the V bit for strcmp.
  305    1F:D1AB  50         			db	$50			; Turn "clv" into "bvc".
  306    1F:D1AC             			.ref	_farmemcmp.3		; Don't strip _farmemcmp.3!
  307                        			.endp				; Fall through.
  308                        	
  309    1F:D1AC             	_farmemcmp.3	.proc
  310    1F:D1AC  B8         			clv				; Clr the V bit for memcmp.
  311                        	
  312    1F:D1AD  43 08      			tma3				; Preserve MPR3 and MPR4.
  313    1F:D1AF  48         			pha
  314    1F:D1B0  43 10      			tma4
  315    1F:D1B2  48         			pha
  316                        	
  317    1F:D1B3  A4 02      			ldy	<_bp_bank		; Map string2.
  318    1F:D1B5  F0 03      			beq	.no_bank
  319                        	
  320    1F:D1B7  20 4F E3   			jsr	map_bp_to_mpr34
  321                        	
  322    1F:D1BA  C2         	.no_bank:	cly
  323                        	
  324    1F:D1BB  A6 F8      			ldx.l	<_ax			; Increment length.l
  325    1F:D1BD  E8         			inx
  326    1F:D1BE  CA         	.loop:		dex				; Decrement length.l
  327    1F:D1BF  F0 17      			beq	.page
  328    1F:D1C1  B1 F0      	.test:		lda	[_di], y		; string1 - string2
  329    1F:D1C3  D1 EC      			cmp	[_bp], y
  330    1F:D1C5  90 1E      			bcc	.return_neg		; string1 < string2 
  331    1F:D1C7  D0 17      			bne	.return_pos		; string1 > string2
  332    1F:D1C9  50 04      			bvc	!+			; Only check for end-of-string
  333    1F:D1CB  C9 00      			cmp	#0			; if the V flag is set.
  334    1F:D1CD  F0 0D      			beq	.return_same
  335    1F:D1CF  C8         	!:		iny
  336    1F:D1D0  D0 EC      			bne	.loop
  337    1F:D1D2  E6 F1      			inc.h	<_di
  338    1F:D1D4  E6 ED      			inc.h	<_bp			; Limited to 8KB maximum!
  339                        	;		jsr	inc.h_bp_mpr34
  340    1F:D1D6  80 E6      			bra	.loop
  341                        	
  342    1F:D1D8  C6 F9      	.page:		dec.h	<_ax			; Decrement length.h 
  343    1F:D1DA  10 E5      			bpl	.test			; Limit comparison to 32KB.
  344                        	;		bra	cmp_same
  345                        	
  346    1F:D1DC  82         	.return_same:	clx				; Return code in Y:X, X -> A.
  347    1F:D1DD  C2         			cly
  348    1F:D1DE  80 09      			bra	!+
  349                        	
  350    1F:D1E0  A2 01      	.return_pos:	ldx	#$01			; Return code in Y:X, X -> A.
  351    1F:D1E2  C2         			cly
  352    1F:D1E3  80 04      			bra	!+
  353                        	
  354    1F:D1E5  A2 FF      	.return_neg:	ldx	#$FF			; Return code in Y:X, X -> A.
  355    1F:D1E7  A0 FF      			ldy	#$FF
  356                        	
  357    1F:D1E9  68         	!:		pla				; Restore MPR3 and MPR4.
  358    1F:D1EA  53 10      			tam4
  359    1F:D1EC  68         			pla
  360    1F:D1ED  53 08      			tam3
  361                        	
  362                        			leave				; Return and copy X -> A.
         1F:D1EF  4C EF FF   			jmp	leave_proc
  363                        	
  364                        			.endp
  365                        	
  366                        			.endprocgroup			; hucc_memcmp
  367                        	
  368    00:E779             			.alias	_far_memcmp.2		= _farmemcmp.3
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   61                        		.endif
   62                        	
   63               0001     		.ifdef	HUCC_USES_NEW_SCROLL		; Set in hucc_scroll.h
                             #[3]   "..\..\..\include\hucc\hucc-scroll.asm"
   64                        			include	"hucc-scroll.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-scroll.asm
    5                        	;
    6                        	; Routines for a fast split-screen scrolling system.
    7                        	;
    8                        	; Copyright John Brandwood 2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; The maximum number of splits for each screen layer is set in your project's
   18                        	; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
   19                        	;
   20                        	; Your first active split must be defined to start at screen line 0, and then
   21                        	; the rest of the active splits must be in increasing line order to match the
   22                        	; way that the PC Engine displays the output image.
   23                        	;
   24                        	; You can have disabled splits interleaved with your active splits.
   25                        	;
   26                        	; Splits that are normally disabled can be used to create full screen effects
   27                        	; such as bouncing the screen up and down by adding blank areas at the top or
   28                        	; bottom of the screen, and then rapidly changing the height of those areas.
   29                        	;
   30                        	; ***************************************************************************
   31                        	; ***************************************************************************
   32                        	
   33                        	
   34                        	
   35               0000     		.ifndef	HUCC_PCE_SPLITS
   37                        		.endif
   38                        	
   39               0000     		.ifndef	HUCC_SGX_SPLITS
   41                        		.endif
   42                        	
   43               0000     		.if	(HUCC_PCE_SPLITS < 2) || (HUCC_PCE_SPLITS > 128)
   45                        		.endif
   46                        	
   47               0000     		.if	(HUCC_SGX_SPLITS < 2) || (HUCC_SGX_SPLITS > 128)
   49                        		.endif
   50                        	
   51               0144     	HUCC_1ST_RCR	=	$144
   52               00E0     	HUCC_SCR_HEIGHT	=	224
   53                        	
   54               E779     			.code
   55                        	
   56                        	
   57                        	
   58                        	; ***************************************************************************
   59                        	; ***************************************************************************
   60                        	;
   61                        	; void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
   62                        	; void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
   63                        	;
   64                        	; set screen scrolling
   65                        	
   66    1F:CE15             			.proc	_scroll_split.5
   67                        	
   68    1F:CE15  08         			php				; Disable interrupts while
   69    1F:CE16  78         			sei				; updating this structure.
   70                        	
   71    1F:CE17  A6 F8      			ldx	<_al			; Region number.
   72    1F:CE19  E0 08      			cpx	#HUCC_PCE_SPLITS
   73    1F:CE1B  B0 FE      	.hang:		bcs	.hang			; Better a hang than a crash!
   74                        	
   75    1F:CE1D  BD F7 26   			lda	vdc_region_sel, x	; Update the parameter copy
   76    1F:CE20  5D FF 26   			eor	vdc_region_new, x	; that is not displayed now.
   77    1F:CE23  D0 3B      			bne	.regionA
   78                        	
   79    1F:CE25  A5 F9      	.regionB:	lda	<_ah			; Scanline (i.e. top).
   80    1F:CE27  C9 E0      			cmp	#HUCC_SCR_HEIGHT	; Skip if offscreen.
   81    1F:CE29  B0 31      			bcs	!done+
   82    1F:CE2B  9D 1F 27   			sta	vdc_regionB_rcr, x
   83                        	
   84    1F:CE2E  C9 00      			cmp	#0			; Either Y at top of the frame
   85    1F:CE30  F0 01      			beq	!+			; or Y-1 because the RCR code
   86    1F:CE32  18         			clc				; sets it on the line before.
   87    1F:CE33  A5 FC      	!:		lda.l	<_cx
   88    1F:CE35  E9 00      			sbc	#0
   89    1F:CE37  9D 4F 27   			sta	vdc_regionB_yl, x
   90    1F:CE3A  A5 FD      			lda.h	<_cx
   91    1F:CE3C  E9 00      			sbc	#0
   92    1F:CE3E  9D 5F 27   			sta	vdc_regionB_yh, x
   93                        	
   94    1F:CE41  A5 FA      			lda.l	<_bx
   95    1F:CE43  9D 2F 27   			sta	vdc_regionB_xl, x
   96    1F:CE46  A5 FB      			lda.h	<_bx
   97    1F:CE48  9D 3F 27   			sta	vdc_regionB_xh, x
   98                        	
   99    1F:CE4B  A5 FE      			lda	<_dl			; Flags (mark it as enabled).
  100    1F:CE4D  29 C0      			and	#$C0
  101    1F:CE4F  09 0C      			ora	#$0C
  102    1F:CE51  9D 0F 27   			sta	vdc_regionB_crl, x
  103                        	
  104    1F:CE54  A9 01      			lda	#1			; Mark that we've changed the
  105    1F:CE56  9D FF 26   			sta	vdc_region_new, x	; selected region.
  106    1F:CE59  9D F7 26   			sta	vdc_region_sel, x
  107                        	
  108    1F:CE5C  28         	!done:		plp				; Restore interrupts.
  109                        			leave				; All done!
         1F:CE5D  4C EF FF   			jmp	leave_proc
  110                        	
  111    1F:CE60  A5 F9      	.regionA:	lda	<_ah			; Scanline (i.e. top).
  112    1F:CE62  C9 E0      			cmp	#HUCC_SCR_HEIGHT	; Skip if offscreen.
  113    1F:CE64  B0 31      			bcs	!done+
  114    1F:CE66  9D 17 27   			sta	vdc_regionA_rcr, x
  115                        	
  116    1F:CE69  C9 00      			cmp	#0			; Either Y at top of the frame
  117    1F:CE6B  F0 01      			beq	!+			; or Y-1 because the RCR code
  118    1F:CE6D  18         			clc				; sets it on the line before.
  119    1F:CE6E  A5 FC      	!:		lda.l	<_cx
  120    1F:CE70  E9 00      			sbc	#0
  121    1F:CE72  9D 47 27   			sta	vdc_regionA_yl, x
  122    1F:CE75  A5 FD      			lda.h	<_cx
  123    1F:CE77  E9 00      			sbc	#0
  124    1F:CE79  9D 57 27   			sta	vdc_regionA_yh, x
  125                        	
  126    1F:CE7C  A5 FA      			lda.l	<_bx
  127    1F:CE7E  9D 27 27   			sta	vdc_regionA_xl, x
  128    1F:CE81  A5 FB      			lda.h	<_bx
  129    1F:CE83  9D 37 27   			sta	vdc_regionA_xh, x
  130                        	
  131    1F:CE86  A5 FE      			lda	<_dl			; Flags (mark it as enabled).
  132    1F:CE88  29 C0      			and	#$C0
  133    1F:CE8A  09 0C      			ora	#$0C
  134    1F:CE8C  9D 07 27   			sta	vdc_regionA_crl, x
  135                        	
  136    1F:CE8F  A9 01      			lda	#1			; Mark that we've changed the
  137    1F:CE91  9D FF 26   			sta	vdc_region_new, x	; selected region.
  138    1F:CE94  9E F7 26   			stz	vdc_region_sel, x
  139                        	
  140    1F:CE97  28         	!done:		plp				; Restore interrupts.
  141                        			leave				; All done!
         1F:CE98  4C EF FF   			jmp	leave_proc
  142                        	
  143                        			.endp
  144                        	
  145               0001     		.if	SUPPORT_SGX
  146                        	
  147    1F:CE9B             			.proc	_sgx_scroll_split.5
  148                        	
  149    1F:CE9B  08         			php				; Disable interrupts while
  150    1F:CE9C  78         			sei				; updating this structure.
  151                        	
  152    1F:CE9D  A6 F8      			ldx	<_al			; Region number.
  153    1F:CE9F  E0 08      			cpx	#HUCC_SGX_SPLITS
  154    1F:CEA1  B0 FE      	.hang:		bcs	.hang			; Better a hang than a crash!
  155                        	
  156    1F:CEA3  BD 78 27   			lda	sgx_region_sel, x	; Update the parameter copy
  157    1F:CEA6  5D 80 27   			eor	sgx_region_new, x	; that is not displayed now.
  158    1F:CEA9  D0 3B      			bne	.regionA
  159                        	
  160    1F:CEAB  A5 F9      	.regionB:	lda	<_ah			; Scanline (i.e. top).
  161    1F:CEAD  C9 E0      			cmp	#HUCC_SCR_HEIGHT	; Skip if offscreen.
  162    1F:CEAF  B0 31      			bcs	!done+
  163    1F:CEB1  9D A0 27   			sta	sgx_regionB_rcr, x
  164                        	
  165    1F:CEB4  C9 00      			cmp	#0			; Either Y at top of the frame
  166    1F:CEB6  F0 01      			beq	!+			; or Y-1 because the RCR code
  167    1F:CEB8  18         			clc				; sets it on the line before.
  168    1F:CEB9  A5 FC      	!:		lda.l	<_cx
  169    1F:CEBB  E9 00      			sbc	#0
  170    1F:CEBD  9D D0 27   			sta	sgx_regionB_yl, x
  171    1F:CEC0  A5 FD      			lda.h	<_cx
  172    1F:CEC2  E9 00      			sbc	#0
  173    1F:CEC4  9D E0 27   			sta	sgx_regionB_yh, x
  174                        	
  175    1F:CEC7  A5 FA      			lda.l	<_bx
  176    1F:CEC9  9D B0 27   			sta	sgx_regionB_xl, x
  177    1F:CECC  A5 FB      			lda.h	<_bx
  178    1F:CECE  9D C0 27   			sta	sgx_regionB_xh, x
  179                        	
  180    1F:CED1  A5 FE      			lda	<_dl
  181    1F:CED3  29 C0      			and	#$C0			; Flags (mark it as enabled).
  182    1F:CED5  09 0C      			ora	#$0C
  183    1F:CED7  9D 90 27   			sta	sgx_regionB_crl, x
  184                        	
  185    1F:CEDA  A9 01      			lda	#1			; Mark that we've changed the
  186    1F:CEDC  9D 80 27   			sta	sgx_region_new, x	; selected region.
  187    1F:CEDF  9D 78 27   			sta	sgx_region_sel, x
  188                        	
  189    1F:CEE2  28         	!done:		plp				; Restore interrupts.
  190                        			leave				; All done!
         1F:CEE3  4C EF FF   			jmp	leave_proc
  191                        	
  192    1F:CEE6  A5 F9      	.regionA:	lda	<_ah			; Scanline (i.e. top).
  193    1F:CEE8  C9 E0      			cmp	#HUCC_SCR_HEIGHT	; Skip if offscreen.
  194    1F:CEEA  B0 31      			bcs	!done+
  195    1F:CEEC  9D 98 27   			sta	sgx_regionA_rcr, x
  196                        	
  197    1F:CEEF  C9 00      			cmp	#0			; Either Y at top of the frame
  198    1F:CEF1  F0 01      			beq	!+			; or Y-1 because the RCR code
  199    1F:CEF3  18         			clc				; sets it on the line before.
  200    1F:CEF4  A5 FC      	!:		lda.l	<_cx
  201    1F:CEF6  E9 00      			sbc	#0
  202    1F:CEF8  9D C8 27   			sta	sgx_regionA_yl, x
  203    1F:CEFB  A5 FD      			lda.h	<_cx
  204    1F:CEFD  E9 00      			sbc	#0
  205    1F:CEFF  9D D8 27   			sta	sgx_regionA_yh, x
  206                        	
  207    1F:CF02  A5 FA      			lda.l	<_bx
  208    1F:CF04  9D A8 27   			sta	sgx_regionA_xl, x
  209    1F:CF07  A5 FB      			lda.h	<_bx
  210    1F:CF09  9D B8 27   			sta	sgx_regionA_xh, x
  211                        	
  212    1F:CF0C  A5 FE      			lda	<_dl
  213    1F:CF0E  29 C0      			and	#$C0			; Flags (mark it as enabled).
  214    1F:CF10  09 0C      			ora	#$0C
  215    1F:CF12  9D 88 27   			sta	sgx_regionA_crl, x
  216                        	
  217    1F:CF15  A9 01      			lda	#1			; Mark that we've changed the
  218    1F:CF17  9D 80 27   			sta	sgx_region_new, x	; selected region.
  219    1F:CF1A  9E 78 27   			stz	sgx_region_sel, x
  220                        	
  221    1F:CF1D  28         	!done:		plp				; Restore interrupts.
  222                        			leave				; All done!
         1F:CF1E  4C EF FF   			jmp	leave_proc
  223                        	
  224                        			.endp
  225                        	
  226                        		.endif	SUPPORT_SGX
  227                        	
  228                        	
  229                        	
  230                        	; ***************************************************************************
  231                        	; ***************************************************************************
  232                        	;
  233                        	; void __fastcall disable_split( unsigned char index<acc> );
  234                        	; void __fastcall sgx_disable_split( unsigned char index<acc> );
  235                        	;
  236                        	; disable screen scrolling for a scroll region
  237                        	
  238    00:E779             	_disable_split.1:
  239    00:E779  08         			php				; Disable interrupts while
  240    00:E77A  78         			sei				; updating this structure.
  241                        	
  242    00:E77B  C9 08      			cmp	#HUCC_PCE_SPLITS	; Better a hang than a crash!
  243    00:E77D  B0 FE      	.hang:		bcs	.hang
  244    00:E77F  AA         			tax
  245                        	
  246    00:E780  BD F7 26   			lda	vdc_region_sel, x	; Update the parameter copy
  247    00:E783  5D FF 26   			eor	vdc_region_new, x	; that is not displayed now.
  248    00:E786  D0 0D      			bne	.regionA
  249                        	
  250    00:E788  9E 0F 27   	.regionB:	stz	vdc_regionB_crl, x	; Region disabled if $00.
  251                        	
  252    00:E78B  A9 01      			lda	#1			; Mark that we've changed the
  253    00:E78D  9D FF 26   			sta	vdc_region_new, x	; selected region.
  254    00:E790  9D F7 26   			sta	vdc_region_sel, x
  255                        	
  256    00:E793  28         			plp				; Restore interrupts.
  257    00:E794  60         			rts
  258                        	
  259    00:E795  9E 07 27   	.regionA:	stz	vdc_regionA_crl, x	; Region disabled if $00.
  260                        	
  261    00:E798  A9 01      			lda	#1			; Mark that we've changed the
  262    00:E79A  9D FF 26   			sta	vdc_region_new, x	; selected region.
  263    00:E79D  9E F7 26   			stz	vdc_region_sel, x
  264                        	
  265    00:E7A0  28         			plp				; Restore interrupts.
  266    00:E7A1  60         			rts
  267                        	
  268               0001     		.if	SUPPORT_SGX
  269                        	
  270    00:E7A2             	_sgx_disable_split.1:
  271    00:E7A2  08         			php				; Disable interrupts while
  272    00:E7A3  78         			sei				; updating this structure.
  273                        	
  274    00:E7A4  C9 08      			cmp	#HUCC_SGX_SPLITS	; Better a hang than a crash!
  275    00:E7A6  B0 FE      	.hang:		bcs	.hang
  276    00:E7A8  AA         			tax
  277                        	
  278    00:E7A9  BD 78 27   			lda	sgx_region_sel, x	; Update the parameter copy
  279    00:E7AC  5D 80 27   			eor	sgx_region_new, x	; that is not displayed now.
  280    00:E7AF  D0 0D      			bne	.regionA
  281                        	
  282    00:E7B1  9E 90 27   	.regionB:	stz	sgx_regionB_crl, x	; Region disabled if $00.
  283                        	
  284    00:E7B4  A9 01      			lda	#1			; Mark that we've changed the
  285    00:E7B6  9D 80 27   			sta	sgx_region_new, x	; selected region.
  286    00:E7B9  9D 78 27   			sta	sgx_region_sel, x
  287                        	
  288    00:E7BC  28         			plp				; Restore interrupts.
  289    00:E7BD  60         			rts
  290                        	
  291    00:E7BE  9E 88 27   	.regionA:	stz	sgx_regionA_crl, x	; Region disabled if $00.
  292                        	
  293    00:E7C1  A9 01      			lda	#1			; Mark that we've changed the
  294    00:E7C3  9D 80 27   			sta	sgx_region_new, x	; selected region.
  295    00:E7C6  9E 78 27   			stz	sgx_region_sel, x
  296                        	
  297    00:E7C9  28         			plp				; Restore interrupts.
  298    00:E7CA  60         			rts
  299                        	
  300                        		.endif	SUPPORT_SGX
  301                        	
  302                        	
  303                        	
  304                        	; ***************************************************************************
  305                        	; ***************************************************************************
  306                        	;
  307                        	; vbl_init_scroll
  308                        	;
  309                        	; From Charles MacDonald's pcetech.txt ...
  310                        	;
  311                        	;  Raster Compare Register (RCR):
  312                        	;
  313                        	;  The range of the RCR is 263 lines, relative to the start of the active
  314                        	;  display period. (defined by VSW, VDS, and VCR) The VDC treats the first
  315                        	;  scanline of the active display period as $0040, so the valid ranges for
  316                        	;  the RCR register are $0040 to $0146.
  317                        	;
  318                        	;  For example, assume VSW=$02, VDS=$17. This positions the first line of
  319                        	;  the active display period at line 25 of the frame. An RCR value of $0040
  320                        	;  (zero) causes an interrupt at line 25, and a value of $0146 (262) causes an
  321                        	;  interrupt at line 24 of the next frame.
  322                        	;
  323                        	;  Any other RCR values that are out of range ($00-$3F, $147-$3FF) will never
  324                        	;  result in a successful line compare.
  325                        	;
  326                        	; Processing time:
  327                        	;
  328                        	; Old HuC rcr_init: 2148 cycles if all 8 regions pre-sorted
  329                        	; Old HuC rcr_init: 4346 cycles if all 8 regions need sorting
  330                        	;
  331                        	; New HuCC vbl_init_scroll:   8 disabled splits:  290 cycles
  332                        	; New HuCC vbl_init_scroll:   8  enabled splits:  384 cycles
  333                        	;
  334                        	; New HuCC vbl_init_scroll:  16 disabled splits:  506 cycles
  335                        	; New HuCC vbl_init_scroll:  16  enabled splits:  672 cycles
  336                        	;
  337                        	; New HuCC vbl_init_scroll:  32 disabled splits:  953 cycles
  338                        	; New HuCC vbl_init_scroll:  32  enabled splits: 1263 cycles
  339                        	;
  340                        	; New HuCC vbl_init_scroll:  64 disabled splits: 1802 cycles
  341                        	; New HuCC vbl_init_scroll:  64  enabled splits: 2400 cycles
  342                        	;
  343                        	; New HuCC vbl_init_scroll: 128 disabled splits: 3530 cycles
  344                        	; New HuCC vbl_init_scroll: 128  enabled splits: 4704 cycles
  345                        	;
  346                        	; Memory used is 16 bytes per scroll per VDC!
  347                        	
  348               26F7     			.bss
  349                        	
  350    F8:26F7             	vdc_region_sel:	.ds	HUCC_PCE_SPLITS		; Use A or B region next frame?
  351    F8:26FF             	vdc_region_new:	.ds	HUCC_PCE_SPLITS		; 1 if vdc_region_sel modified.
  352                        	
  353    F8:2707             	vdc_regionA_crl:.ds	HUCC_PCE_SPLITS		; Two copies of each setting
  354    F8:270F             	vdc_regionB_crl:.ds	HUCC_PCE_SPLITS		; HUCC_PCE_SPLITS bytes apart,
  355    F8:2717             	vdc_regionA_rcr:.ds	HUCC_PCE_SPLITS		; one setting for the current
  356    F8:271F             	vdc_regionB_rcr:.ds	HUCC_PCE_SPLITS		; frame, and one setting that
  357    F8:2727             	vdc_regionA_xl:	.ds	HUCC_PCE_SPLITS		; gets modified and then used
  358    F8:272F             	vdc_regionB_xl:	.ds	HUCC_PCE_SPLITS		; on the next frame after the
  359    F8:2737             	vdc_regionA_xh:	.ds	HUCC_PCE_SPLITS		; change is made.
  360    F8:273F             	vdc_regionB_xh:	.ds	HUCC_PCE_SPLITS		; Regions will have different
  361    F8:2747             	vdc_regionA_yl:	.ds	HUCC_PCE_SPLITS		; A or B currently active!
  362    F8:274F             	vdc_regionB_yl:	.ds	HUCC_PCE_SPLITS
  363    F8:2757             	vdc_regionA_yh:	.ds	HUCC_PCE_SPLITS
  364    F8:275F             	vdc_regionB_yh:	.ds	HUCC_PCE_SPLITS
  365                        	
  366    F8:2767             	vdc_next_region:.ds	1			; Linked list of region indexes
  367    F8:2768             	vdc_regionA_nxt:.ds	HUCC_PCE_SPLITS		; for the current frame.
  368    F8:2770             	vdc_regionB_nxt:.ds	HUCC_PCE_SPLITS
  369                        	
  370               0001     		.if	SUPPORT_SGX
  371                        	
  372    F8:2778             	sgx_region_sel:	.ds	HUCC_SGX_SPLITS		; Use A or B region next frame?
  373    F8:2780             	sgx_region_new:	.ds	HUCC_SGX_SPLITS		; 1 if sgx_region_sel modified.
  374                        	
  375    F8:2788             	sgx_regionA_crl:.ds	HUCC_SGX_SPLITS		; Two copies of each setting
  376    F8:2790             	sgx_regionB_crl:.ds	HUCC_SGX_SPLITS		; HUCC_SGX_SPLITS bytes apart,
  377    F8:2798             	sgx_regionA_rcr:.ds	HUCC_SGX_SPLITS		; one setting for the current
  378    F8:27A0             	sgx_regionB_rcr:.ds	HUCC_SGX_SPLITS		; frame, and one setting that
  379    F8:27A8             	sgx_regionA_xl:	.ds	HUCC_SGX_SPLITS		; gets modified and then used
  380    F8:27B0             	sgx_regionB_xl:	.ds	HUCC_SGX_SPLITS		; on the next frame after the
  381    F8:27B8             	sgx_regionA_xh:	.ds	HUCC_SGX_SPLITS		; change is made.
  382    F8:27C0             	sgx_regionB_xh:	.ds	HUCC_SGX_SPLITS		; Regions will have different
  383    F8:27C8             	sgx_regionA_yl:	.ds	HUCC_SGX_SPLITS		; A or B currently active!
  384    F8:27D0             	sgx_regionB_yl:	.ds	HUCC_SGX_SPLITS
  385    F8:27D8             	sgx_regionA_yh:	.ds	HUCC_SGX_SPLITS
  386    F8:27E0             	sgx_regionB_yh:	.ds	HUCC_SGX_SPLITS
  387                        	
  388    F8:27E8             	sgx_next_region:.ds	1			; Linked list of region indexes
  389    F8:27E9             	sgx_regionA_nxt:.ds	HUCC_SGX_SPLITS		; for the current frame.
  390    F8:27F1             	sgx_regionB_nxt:.ds	HUCC_SGX_SPLITS
  391                        	
  392                        		.endif
  393                        	
  394               E7CB     			.code
  395                        	
  396    1F:CF21             	vbl_init_scroll	.proc
  397                        	
  398    1F:CF21  62         			cla				; A = previous active index
  399    1F:CF22  A2 08      			ldx	#HUCC_PCE_SPLITS	; so $00 for end-of-screen.
  400                        	
  401    1F:CF24  18         			clc				; For regionB indexes.
  402                        	
  403    1F:CF25  CA         	!next_region:	dex				; All regions updated?
  404    1F:CF26  30 20      			bmi	!save_first+
  405                        	
  406    1F:CF28  9E FF 26   			stz	vdc_region_new, x	; Clear region modified flag.
  407                        	
  408    1F:CF2B  BC F7 26   			ldy	vdc_region_sel, x	; 0=regionA or 1=regionB.
  409    1F:CF2E  F0 0D      			beq	!use_regionA+
  410                        	
  411    1F:CF30  BC 0F 27   	!use_regionB:	ldy	vdc_regionB_crl, x	; Region disabled if $00.
  412    1F:CF33  F0 F0      			beq	!next_region-
  413    1F:CF35  9D 70 27   			sta	vdc_regionB_nxt, x	; Save index of next region.
  414    1F:CF38  8A         			txa				; A = current region index.
  415    1F:CF39  69 08      			adc	#HUCC_PCE_SPLITS	; Always leaves CC!
  416    1F:CF3B  80 E8      			bra	!next_region-
  417                        	
  418    1F:CF3D  BC 07 27   	!use_regionA:	ldy	vdc_regionA_crl, x	; Region disabled if $00.
  419    1F:CF40  F0 E3      			beq	!next_region-
  420    1F:CF42  9D 68 27   			sta	vdc_regionA_nxt, x	; Save index of next region.
  421    1F:CF45  8A         			txa				; A = current region index.
  422    1F:CF46  80 DD      			bra	!next_region-
  423                        	
  424    1F:CF48  8D 67 27   	!save_first:	sta	vdc_next_region		; Save index of 1st region.
  425                        	
  426    1F:CF4B  AA         			tax				; NZ if first active region
  427    1F:CF4C  D0 03      			bne	!init_first+		; is not region 0.
  428    1F:CF4E  98         			tya				; NZ if region 0 is active.
  429    1F:CF4F  F0 0F      			beq	!+			; If no active leave RCR=0.
  430                        	
  431    1F:CF51  A9 06      	!init_first:	lda	#VDC_RCR		; 1st RCR always happens just
  432    1F:CF53  8D 00 02   			sta	VDC_AR			; before the display starts.
  433    1F:CF56  A9 44      			lda.l	#HUCC_1ST_RCR
  434    1F:CF58  8D 02 02   			sta	VDC_DL
  435    1F:CF5B  A9 01      			lda.h	#HUCC_1ST_RCR
  436    1F:CF5D  8D 03 02   			sta	VDC_DH
  437                        	
  438               0001     		.if	SUPPORT_SGX
  439                        	
  440    1F:CF60  62         	!:		cla				; A = previous active index
  441    1F:CF61  A2 08      			ldx	#HUCC_SGX_SPLITS	; so $00 for end-of-screen.
  442                        	
  443    1F:CF63  18         			clc				; For regionB indexes.
  444                        	
  445    1F:CF64  CA         	!next_region:	dex				; All regions updated?
  446    1F:CF65  30 20      			bmi	!save_first+
  447                        	
  448    1F:CF67  9E 80 27   			stz	sgx_region_new, x	; Clear region modified flag.
  449                        	
  450    1F:CF6A  BC 78 27   			ldy	sgx_region_sel, x	; 0=regionA or 1=regionB.
  451    1F:CF6D  F0 0D      			beq	!use_regionA+
  452                        	
  453    1F:CF6F  BC 90 27   	!use_regionB:	ldy	sgx_regionB_crl, x	; Region disabled if $00.
  454    1F:CF72  F0 F0      			beq	!next_region-
  455    1F:CF74  9D F1 27   			sta	sgx_regionB_nxt, x	; Save index of next region.
  456    1F:CF77  8A         			txa				; A = current region index.
  457    1F:CF78  69 08      			adc	#HUCC_SGX_SPLITS	; Always leaves CC!
  458    1F:CF7A  80 E8      			bra	!next_region-
  459                        	
  460    1F:CF7C  BC 88 27   	!use_regionA:	ldy	sgx_regionA_crl, x	; Region disabled if $00.
  461    1F:CF7F  F0 E3      			beq	!next_region-
  462    1F:CF81  9D E9 27   			sta	sgx_regionA_nxt, x	; Save index of next region.
  463    1F:CF84  8A         			txa				; A = current region index.
  464    1F:CF85  80 DD      			bra	!next_region-
  465                        	
  466    1F:CF87  8D E8 27   	!save_first:	sta	sgx_next_region		; Save index of 1st region.
  467                        	
  468    1F:CF8A  AA         			tax				; NZ if first active region
  469    1F:CF8B  D0 03      			bne	!init_first+		; is not region 0.
  470    1F:CF8D  98         			tya				; NZ if region 0 is active.
  471    1F:CF8E  F0 0F      			beq	!+			; If no active leave RCR=0.
  472                        	
  473    1F:CF90  A9 06      	!init_first:	lda	#VDC_RCR		; 1st RCR always happens just
  474    1F:CF92  8D 10 02   			sta	SGX_AR			; before the display starts.
  475    1F:CF95  A9 44      			lda.l	#HUCC_1ST_RCR
  476    1F:CF97  8D 12 02   			sta	SGX_DL
  477    1F:CF9A  A9 01      			lda.h	#HUCC_1ST_RCR
  478    1F:CF9C  8D 13 02   			sta	SGX_DH
  479                        	
  480                        		.endif	SUPPORT_SGX
  481                        	
  482                        	!:		leave				; All done!
         1F:CF9F  4C EF FF   			jmp	leave_proc
  483                        	
  484                        			.endp
  485                        	
  486                        	
  487                        	
  488               0001     		.if	SUPPORT_SGX
  489                        	
  490                        	; ***************************************************************************
  491                        	; ***************************************************************************
  492                        	;
  493                        	; VDC_RCR_MACRO and SGX_RCR_MACRO
  494                        	;
  495                        	; A 16-byte TIA takes 142..234 cycles in 5MHz, 128..200 cycles in 7MHz.
  496                        	; A 32-byte TIA takes 270..364 cycles in 5MHz, 242..312 cycles in 7MHz. (527 DUO)
  497                        	;
  498                        	; You need to write the last RCR setting within 540 cycles in order to catch
  499                        	; the next line (at 256/336/512 resolution).
  500                        	;
  501                        	; That gives 305 cycles from the RCR to write the last setting, or there
  502                        	; will be a visible glitch on the screen.
  503                        	
  504               0000     		.ifndef	USING_RCR_MACROS
  506                        		.endif
  507                        	
  508                        	;		;;;				; 8 (cycles for the INT)
  509                        	;		bbs1	<irq_vec, .hook		; 8
  510                        	;		jmp	[irq1_hook]		; 7
  511                        	
  512                        	;		;;;				; 8 (cycles for the INT)
  513                        	;		jmp	irq1_handler		; 4
  514                        	
  515                        	;irq1_handler:	pha				; 3 Save all registers.
  516                        	;		phx				; 3
  517                        	;		phy				; 3
  518                        	;
  519                        	;		lda	VDC_SR			; 6 Acknowledge the VDC's IRQ.
  520                        	;		sta	<vdc_sr			; 4 Remember what caused it.
  521                        	;
  522                        	;		ldx	SGX_SR			; 6 Read SGX_SR after VDC_SR in
  523                        	;		stx	<sgx_sr			; 4 case this is not an SGX!
  524                        	;
  525                        	;!:		and	#$04			; 2 Is this an HSYNC interrupt?
  526                        	;		beq	!+			; 2
  527                        	
  528                        			.macro	VDC_RCR_MACRO
  529                        	
  530                        			st0	#VDC_RCR		; 5
  531                        	
  532                        			ldx	vdc_next_region		; 5 X and Y can be greater than
  533                        			ldy	vdc_regionA_nxt, x	; 5 HUCC_PCE_SPLITS if regionB!
  534                        			clc				; 2
  535                        			bne	!set_next_rcr+		; 4 Stop RCR if next line is 0.
  536                        	
  537                        			and	const_0000		; 5 A=$00 with the same #cycles
  538                        			bra	!clr_next_rcr+		; 4 as if the branch were taken.
  539                        	
  540                        	!set_next_rcr:	lda	vdc_regionA_rcr, y	; 5 Set next RCR 1 line before
  541                        			adc	#64-1			; 2 the region begins, or 0 to
  542                        	!clr_next_rcr:	sta	VDC_DL			; 6 disable.
  543                        			cla				; 2
  544                        			rol	a			; 2
  545                        			sta	VDC_DH			; 6
  546                        	
  547                        			st0	#VDC_BYR		; 5 Do BYR first to mitigate the
  548                        			lda	vdc_regionA_yl, x	; 5 glitch if the IRQ is delayed.
  549                        			sta	VDC_DL			; 6 = 105 cycles from RCR on SGX
  550                        			lda	vdc_regionA_yh, x	; 5
  551                        			sta	VDC_DH			; 6
  552                        	
  553                        			st0	#VDC_CR			; 5
  554                        			lda	vdc_regionA_crl, x	; 5
  555                        	;		asl	a
  556                        			sta	VDC_DL			; 6
  557                        	
  558                        			st0	#VDC_BXR		; 2
  559                        			lda	vdc_regionA_xl, x	; 5
  560                        			sta	VDC_DL			; 6
  561                        			lda	vdc_regionA_xh, x	; 5
  562                        			sta	VDC_DH			; 6 = 156 cycles from RCR if DUO
  563                        	
  564                        	;		bcc	!+
  565                        	;		lda	vdc_regionA_yh, x	; 5
  566                        	;		sta.l	VCE_CTW			; 6
  567                        	
  568                        			sty	vdc_next_region		; 5
  569                        	
  570                        			.endm
  571                        	
  572                        	;!:		bbr2	<sgx_sr, !+		; 6 Is this an HSYNC interrupt?
  573                        	
  574                        			.macro	SGX_RCR_MACRO
  575                        	
  576                        			lda	#VDC_RCR		; 2
  577                        			sta	SGX_AR			; 6
  578                        	
  579                        			ldx	sgx_next_region		; 5 X and Y can be greater than
  580                        			ldy	sgx_regionA_nxt, x	; 5 HUCC_SGX_SPLITS if regionB!
  581                        			clc				; 2
  582                        			bne	!set_next_rcr+		; 4 Stop RCR if next line is 0.
  583                        	
  584                        			and	const_0000		; 5 A=$00 with the same #cycles
  585                        			bra	!clr_next_rcr+		; 4 as if the branch were taken.
  586                        	
  587                        	!set_next_rcr:	lda	sgx_regionA_rcr, y	; 5 Set next RCR 1 line before
  588                        			adc	#64-1			; 2 the region begins, or 0 to
  589                        	!clr_next_rcr:	sta	SGX_DL			; 6 disable.
  590                        			cla				; 2
  591                        			rol	a			; 2
  592                        			sta	SGX_DH			; 6
  593                        	
  594                        			lda	#VDC_BYR		; 2 Do BYR first to mitigate the
  595                        			sta	SGX_AR			; 6 glitch if the IRQ is delayed.
  596                        			lda	sgx_regionA_yl, x	; 5
  597                        			sta	SGX_DL			; 6
  598                        			lda	sgx_regionA_yh, x	; 5
  599                        			sta	SGX_DH			; 6
  600                        	
  601                        			lda	#VDC_CR			; 2
  602                        			sta	SGX_AR			; 6
  603                        			lda	sgx_regionA_crl, x	; 5
  604                        			sta	SGX_DL			; 6
  605                        	
  606                        			lda	#VDC_BXR		; 2
  607                        			sta	SGX_AR			; 6
  608                        			lda	sgx_regionA_xl, x	; 5
  609                        			sta	SGX_DL			; 6
  610                        			lda	sgx_regionA_xh, x	; 5
  611                        			sta	SGX_DH			; 6 = 293 cycles (282 if no YH)
  612                        	
  613                        			sty	sgx_next_region		; 5
  614                        	
  615                        			.endm
  616                        	
  617                        		.else	SUPPORT_SGX
  697                        		.endif	SUPPORT_SGX
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   65                        		.else
   69                        		.endif	HUCC_USES_NEW_SCROLL
   70                        	
   71               0001     		.ifdef	HUCC_USES_OLD_SPR		; Set in hucc_old_spr.h
                             #[3]   "..\..\..\include\hucc\hucc-old-spr.asm"
   72                        			include	"hucc-old-spr.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-old-spr.asm
    5                        	;
    6                        	; Based on the original HuC and MagicKit functions by David Michel and the
    7                        	; other original HuC developers.
    8                        	;
    9                        	; Modifications copyright John Brandwood 2024.
   10                        	;
   11                        	; Distributed under the Boost Software License, Version 1.0.
   12                        	; (See accompanying file LICENSE_1_0.txt or copy at
   13                        	;  http://www.boost.org/LICENSE_1_0.txt)
   14                        	;
   15                        	; ***************************************************************************
   16                        	; ***************************************************************************
   17                        	
   18                        	;
   19                        	; Include dependancies ...
   20                        	;
   21                        	
   22                        			include "common.asm"		; Common helpers.
   23                        			include "vce.asm"		; Useful VCE routines.
   24                        			include "vdc.asm"		; Useful VCE routines.
   25                        	
   26                        	
   27                        	
   28                        	; ***************************************************************************
   29                        	; ***************************************************************************
   30                        	;
   31                        	; HuC Sprite Functions
   32                        	;
   33                        	; ***************************************************************************
   34                        	; ***************************************************************************
   35                        	
   36               209C     			.zp
   37    F8:209C             	spr_ptr:	ds	2
   38               27F9     			.bss
   39    F8:27F9             	spr_sat:	ds	512
   40               E7CB     			.code
   41                        	
   42               0001     		.if	SUPPORT_SGX
   43               209E     			.zp
   44    F8:209E             	sgx_spr_ptr:	ds	2
   45               29F9     			.bss
   46    F8:29F9             	sgx_spr_sat:	ds	512	; N.B. Directly after spr_sat!
   47               E7CB     			.code
   48                        		.endif
   49                        	
   50                        	; Moved to hucc-old-map.asm just to save space. This NEEDS to be changed!
   51                        	;
   52                        	;		.bss
   53                        	;spr_max:	ds	1
   54                        	;spr_clr:	ds	1
   55                        	;	.if	SUPPORT_SGX
   56                        	;sgx_spr_max:	ds	1
   57                        	;sgx_spr_clr:	ds	1
   58                        	;	.endif
   59                        	;		.code
   60                        	
   61                        	
   62                        	
   63                        	; ***************************************************************************
   64                        	; ***************************************************************************
   65                        	;
   66                        	; void __fastcall init_satb( void );
   67                        	; void __fastcall reset_satb( void );
   68                        	;
   69                        	; void __fastcall sgx_init_satb( void );
   70                        	; void __fastcall sgx_reset_satb( void );
   71                        	
   72    00:E7CB             	_reset_satb:
   73    00:E7CB  C2         	_init_satb:	cly
   74    00:E7CC  62         			cla
   75    00:E7CD  99 F9 27   	!:		sta	spr_sat + $0000, y
   76    00:E7D0  99 F9 28   			sta	spr_sat + $0100, y
   77    00:E7D3  C8         			iny
   78    00:E7D4  D0 F7      			bne	!-
   79    00:E7D6  8C CD 26   			sty	spr_max
   80    00:E7D9  C8         			iny
   81    00:E7DA  8C CE 26   			sty	spr_clr
   82    00:E7DD  60         			rts
   83                        	
   84               0001     		.if	SUPPORT_SGX
   85    00:E7DE             	_sgx_reset_satb:
   86    00:E7DE  C2         	_sgx_init_satb:	cly
   87    00:E7DF  62         			cla
   88    00:E7E0  99 F9 29   	!:		sta	sgx_spr_sat + $0000, y
   89    00:E7E3  99 F9 2A   			sta	sgx_spr_sat + $0100, y
   90    00:E7E6  C8         			iny
   91    00:E7E7  D0 F7      			bne	!-
   92    00:E7E9  8C DD 26   			sty	sgx_spr_max
   93    00:E7EC  C8         			iny
   94    00:E7ED  8C DE 26   			sty	sgx_spr_clr
   95    00:E7F0  60         			rts
   96                        		.endif
   97                        	
   98                        	
   99                        	
  100                        	; ***************************************************************************
  101                        	; ***************************************************************************
  102                        	;
  103                        	; void __fastcall satb_update( void );
  104                        	; void __fastcall sgx_satb_update( void );
  105                        	
  106    1F:D159             	old_satb_group	.procgroup
  107                        	
  108               0001     		.if	SUPPORT_SGX
  109    1F:D159             			.proc	_sgx_satb_update
  110                        	
  111    1F:D159  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  112    1F:D15B  F0         			db	$F0			; Turn "clx" into a "beq".
  113                        	
  114    1F:D15C             			.ref	_satb_update
  115                        			.endp
  116                        		.endif
  117                        	
  118    1F:D15C             			.proc	_satb_update
  119                        	
  120    1F:D15C  82         			clx				; Offset to PCE VDC.
  121                        	
  122    1F:D15D  A9 7F      			lda.h	#$7F00			; HuC puts the SAT here in VRAM
  123                        	;		lda.h	#$0800			; but we put it here instead
  124    1F:D15F  64 F0      			stz.l	<_di
  125    1F:D161  85 F1      			sta.h	<_di
  126    1F:D163  20 93 E3   			jsr	set_di_to_mawr
  127                        	
  128               0001     		.if	SUPPORT_SGX
  129    1F:D166  8A         			txa				; Select which VDC to write
  130    1F:D167  1A         			inc	a			; to.
  131    1F:D168  1A         			inc	a
  132    1F:D169  8D F3 22   			sta.l	ram_tia_dst
  133                        		.endif
  134                        	
  135    1F:D16C  A9 10      			lda	#VRAM_XFER_SIZE		; Split into 16-byte chunks
  136    1F:D16E  8D F5 22   			sta.l	ram_tia_len		; for stable IRQ response.
  137                        	
  138    1F:D171  BC CD 26   			ldy	spr_max, x		; Highest sprite that was set.
  139    1F:D174  C8         			iny
  140                        	
  141    1F:D175  BD CE 26   			lda	spr_clr, x
  142    1F:D178  F0 05      			beq	!+
  143    1F:D17A  9E CE 26   			stz	spr_clr, x
  144    1F:D17D  A0 40      			ldy	#64
  145                        	
  146    1F:D17F  98         	!:		tya
  147    1F:D180  F0 22      			beq	.exit
  148                        	
  149    1F:D182  3A         			dec	a			; round up to the next group of 2 sprites
  150    1F:D183  4A         			lsr	a
  151               0000     		.if	VRAM_XFER_SIZE == 32
  153                        		.endif
  154    1F:D184  1A         			inc	a
  155    1F:D185  A8         			tay
  156                        	
  157    1F:D186  A9 27      			lda.h	#spr_sat
  158                        	
  159               0001     		.if	SUPPORT_SGX
  160    1F:D188  E0 00      			cpx	#0
  161    1F:D18A  F0 02      			beq	!+
  162                        	
  163    1F:D18C  A9 29      			lda.h	#sgx_spr_sat
  164                        		.endif
  165                        	
  166    1F:D18E  8D F2 22   	!:		sta.h	ram_tia_src
  167                        	
  168    1F:D191  A9 F9      			lda.l	#spr_sat		; Same for SGX and PCE!
  169    1F:D193  8D F1 22   	.chunk_loop:	sta.l	ram_tia_src
  170                        	
  171    1F:D196  20 F0 22   			jsr	ram_tia			; transfer 16-bytes
  172                        	
  173    1F:D199  18         			clc				; increment source
  174    1F:D19A  69 10      			adc	#VRAM_XFER_SIZE
  175    1F:D19C  90 03      			bcc	.same_page
  176    1F:D19E  EE F2 22   			inc.h	ram_tia_src
  177                        	
  178    1F:D1A1  88         	.same_page:	dey
  179    1F:D1A2  D0 EF      			bne	.chunk_loop
  180                        	
  181                        	.exit:		leave
         1F:D1A4  4C EF FF   			jmp	leave_proc
  182                        	
  183                        			.endp
  184                        	
  185                        			.endprocgroup	; old_satb_group
  186                        	
  187                        	
  188                        	
  189                        	; ***************************************************************************
  190                        	; ***************************************************************************
  191                        	;
  192                        	; void __fastcall spr_set( unsigned char num<acc> );
  193                        	
  194    00:E7F1  CD CD 26   	_spr_set.1:	cmp	spr_max
  195    00:E7F4  90 03      			bcc	!+
  196    00:E7F6  8D CD 26   			sta	spr_max
  197    00:E7F9  A0 27      	!:		ldy.h	#spr_sat
  198    00:E7FB  0A         			asl	a
  199    00:E7FC  0A         			asl	a
  200    00:E7FD  0A         			asl	a
  201    00:E7FE  90 02      			bcc	!+
  202    00:E800  C8         			iny
  203    00:E801  18         			clc
  204    00:E802  69 F9      	!:		adc.l	#spr_sat
  205    00:E804  85 9C      			sta.l	<spr_ptr
  206    00:E806  90 01      			bcc	!+
  207    00:E808  C8         			iny
  208    00:E809  84 9D      	!:		sty.h	<spr_ptr
  209    00:E80B  60         			rts
  210                        	
  211                        	
  212                        	
  213                        	; ***************************************************************************
  214                        	; ***************************************************************************
  215                        	;
  216                        	; void __fastcall spr_hide( void );
  217                        	
  218    00:E80C  A0 01      	_spr_hide:	ldy	#1
  219    00:E80E  B1 9C      			lda	[spr_ptr], y
  220    00:E810  09 02      			ora	#2
  221    00:E812  91 9C      			sta	[spr_ptr], y
  222    00:E814  60         			rts
  223                        	
  224                        	
  225                        	
  226                        	; ***************************************************************************
  227                        	; ***************************************************************************
  228                        	;
  229                        	; void __fastcall spr_show( void );
  230                        	
  231    00:E815  A0 01      	_spr_show:	ldy	#1
  232    00:E817  B1 9C      			lda	[spr_ptr], y
  233    00:E819  29 01      			and	#1
  234    00:E81B  91 9C      			sta	[spr_ptr], y
  235    00:E81D  60         			rts
  236                        	
  237                        	
  238                        	
  239                        	; ***************************************************************************
  240                        	; ***************************************************************************
  241                        	;
  242                        	; void __fastcall spr_x( unsigned int value<acc> );
  243                        	
  244    00:E81E  02         	_spr_x.1:	sxy
  245    00:E81F  18         			clc
  246    00:E820  69 20      			adc	#32
  247    00:E822  A0 02      			ldy	#2
  248    00:E824  91 9C      			sta	[spr_ptr], y
  249    00:E826  8A         			txa
  250    00:E827  69 00      			adc	#0
  251    00:E829  C8         			iny
  252    00:E82A  91 9C      			sta	[spr_ptr], y
  253    00:E82C  60         			rts
  254                        	
  255                        	
  256                        	
  257                        	; ***************************************************************************
  258                        	; ***************************************************************************
  259                        	;
  260                        	; void __fastcall spr_y( unsigned int value<acc> );
  261                        	
  262    00:E82D  18         	_spr_y.1:	clc
  263    00:E82E  69 40      			adc	#64
  264    00:E830  92 9C      			sta	[spr_ptr]
  265    00:E832  98         			tya
  266    00:E833  69 00      			adc	#0
  267    00:E835  A0 01      			ldy	#1
  268    00:E837  91 9C      			sta	[spr_ptr], y
  269    00:E839  60         			rts
  270                        			
  271                        	
  272                        	
  273                        	; ***************************************************************************
  274                        	; ***************************************************************************
  275                        	;
  276                        	; void __fastcall spr_pattern( unsigned int vaddr<acc> );
  277                        	
  278    00:E83A  84 00      	_spr_pattern.1:	sty	<__temp		;     zp=fedcba98 a=76543210
  279    00:E83C  0A         			asl	a		; c=f zp=edcba987 a=6543210_
  280    00:E83D  26 00      			rol	<__temp
  281    00:E83F  2A         			rol	a		; c=e zp=dcba9876 a=543210_f
  282    00:E840  26 00      			rol	<__temp
  283    00:E842  2A         			rol	a		; c=d zp=cba98765 a=43210_fe
  284    00:E843  26 00      			rol	<__temp
  285    00:E845  2A         			rol	a		; c=4 zp=cba98765 a=3210_fed
  286    00:E846  A0 05      			ldy	#5
  287    00:E848  91 9C      			sta	[spr_ptr], y
  288    00:E84A  A5 00      			lda	<__temp
  289    00:E84C  88         			dey
  290    00:E84D  91 9C      			sta	[spr_ptr], y
  291    00:E84F  60         			rts
  292                        	
  293                        	
  294                        	
  295                        	; ***************************************************************************
  296                        	; ***************************************************************************
  297                        	;
  298                        	; void __fastcall spr_ctrl( unsigned char mask<_al>, unsigned char value<acc> );
  299                        	
  300    00:E850  25 F8      	_spr_ctrl.2:	and	<_al
  301    00:E852  85 00      			sta	<__temp
  302    00:E854  A5 F8      			lda	<_al
  303    00:E856  49 FF      			eor	#$FF
  304    00:E858  A0 07      			ldy	#7
  305    00:E85A  31 9C      			and	[spr_ptr], y
  306    00:E85C  05 00      			ora	<__temp
  307    00:E85E  91 9C      			sta	[spr_ptr], y
  308    00:E860  60         			rts
  309                        	
  310                        	
  311                        	
  312                        	; ***************************************************************************
  313                        	; ***************************************************************************
  314                        	;
  315                        	; void __fastcall spr_pal( unsigned char palette<acc> )
  316                        	
  317    00:E861  29 0F      	_spr_pal.1:	and	#$0F
  318    00:E863  85 00      			sta	<__temp
  319    00:E865  A0 06      			ldy	#6
  320    00:E867  B1 9C      			lda	[spr_ptr], y
  321    00:E869  29 F0      			and	#$F0
  322    00:E86B  05 00      			ora	<__temp
  323    00:E86D  91 9C      			sta	[spr_ptr], y
  324    00:E86F  60         			rts
  325                        	
  326                        	
  327                        	
  328                        	; ***************************************************************************
  329                        	; ***************************************************************************
  330                        	;
  331                        	; void __fastcall spr_pri( unsigned char priority<acc> )
  332                        	
  333    00:E870  C9 01      	_spr_pri.1:	cmp	#1
  334    00:E872  A0 06      			ldy	#6
  335    00:E874  B1 9C      			lda	[spr_ptr], y
  336    00:E876  29 7F      			and	#$7F
  337    00:E878  90 02      			bcc	!+
  338    00:E87A  09 80      			ora	#$80
  339    00:E87C  91 9C      	!:		sta	[spr_ptr], y
  340    00:E87E  60         			rts
  341                        	
  342                        	
  343                        	
  344                        	; ***************************************************************************
  345                        	; ***************************************************************************
  346                        	;
  347                        	; unsigned int __fastcall spr_get_x( void );
  348                        	
  349    00:E87F  38         	_spr_get_x:	sec
  350    00:E880  A0 02      			ldy	#2
  351    00:E882  B1 9C      			lda	[spr_ptr], y
  352    00:E884  E9 20      			sbc	#32
  353    00:E886  AA         			tax
  354    00:E887  C8         			iny
  355    00:E888  B1 9C      			lda	[spr_ptr], y
  356    00:E88A  E9 00      			sbc	#0
  357    00:E88C  A8         			tay
  358    00:E88D  8A         			txa
  359    00:E88E  60         			rts
  360                        	
  361                        	
  362                        	
  363                        	; ***************************************************************************
  364                        	; ***************************************************************************
  365                        	;
  366                        	; unsigned int __fastcall spr_get_y( void );
  367                        	
  368    00:E88F  38         	_spr_get_y:	sec
  369    00:E890  B2 9C      			lda	[spr_ptr]
  370    00:E892  E9 40      			sbc	#64
  371    00:E894  AA         			tax
  372    00:E895  A0 01      			ldy	#1
  373    00:E897  B1 9C      			lda	[spr_ptr], y
  374    00:E899  E9 00      			sbc	#0
  375    00:E89B  A8         			tay
  376    00:E89C  8A         			txa
  377    00:E89D  60         			rts
  378                        	
  379                        	
  380                        	
  381               0001     		.if	SUPPORT_SGX
  382                        	
  383                        	; ***************************************************************************
  384                        	; ***************************************************************************
  385                        	;
  386                        	; void __fastcall sgx_spr_set( unsigned char num<acc> );
  387                        	
  388    00:E89E  CD DD 26   	_sgx_spr_set.1:	cmp	sgx_spr_max
  389    00:E8A1  90 03      			bcc	!+
  390    00:E8A3  8D DD 26   			sta	sgx_spr_max
  391    00:E8A6  A0 29      	!:		ldy.h	#sgx_spr_sat
  392    00:E8A8  0A         			asl	a
  393    00:E8A9  0A         			asl	a
  394    00:E8AA  0A         			asl	a
  395    00:E8AB  90 02      			bcc	!+
  396    00:E8AD  C8         			iny
  397    00:E8AE  18         			clc
  398    00:E8AF  69 F9      	!:		adc.l	#sgx_spr_sat
  399    00:E8B1  85 9E      			sta.l	<sgx_spr_ptr
  400    00:E8B3  90 01      			bcc	!+
  401    00:E8B5  C8         			iny
  402    00:E8B6  84 9F      	!:		sty.h	<sgx_spr_ptr
  403    00:E8B8  60         			rts
  404                        	
  405                        	
  406                        	
  407                        	; ***************************************************************************
  408                        	; ***************************************************************************
  409                        	;
  410                        	; void __fastcall sgx_spr_hide( void );
  411                        	
  412    00:E8B9  A0 01      	_sgx_spr_hide:	ldy	#1
  413    00:E8BB  B1 9E      			lda	[sgx_spr_ptr], y
  414    00:E8BD  09 02      			ora	#2
  415    00:E8BF  91 9E      			sta	[sgx_spr_ptr], y
  416    00:E8C1  60         			rts
  417                        	
  418                        	
  419                        	
  420                        	; ***************************************************************************
  421                        	; ***************************************************************************
  422                        	;
  423                        	; void __fastcall sgx_spr_show( void );
  424                        	
  425    00:E8C2  A0 01      	_sgx_spr_show:	ldy	#1
  426    00:E8C4  B1 9E      			lda	[sgx_spr_ptr], y
  427    00:E8C6  29 01      			and	#1
  428    00:E8C8  91 9E      			sta	[sgx_spr_ptr], y
  429    00:E8CA  60         			rts
  430                        	
  431                        	
  432                        	
  433                        	; ***************************************************************************
  434                        	; ***************************************************************************
  435                        	;
  436                        	; void __fastcall sgx_spr_x( unsigned int value<acc> );
  437                        	
  438    00:E8CB  02         	_sgx_spr_x.1:	sxy
  439    00:E8CC  18         			clc
  440    00:E8CD  69 20      			adc	#32
  441    00:E8CF  A0 02      			ldy	#2
  442    00:E8D1  91 9E      			sta	[sgx_spr_ptr], y
  443    00:E8D3  8A         			txa
  444    00:E8D4  69 00      			adc	#0
  445    00:E8D6  C8         			iny
  446    00:E8D7  91 9E      			sta	[sgx_spr_ptr], y
  447    00:E8D9  60         			rts
  448                        	
  449                        	
  450                        	
  451                        	; ***************************************************************************
  452                        	; ***************************************************************************
  453                        	;
  454                        	; void __fastcall sgx_spr_y( unsigned int value<acc> );
  455                        	
  456    00:E8DA  18         	_sgx_spr_y.1:	clc
  457    00:E8DB  69 40      			adc	#64
  458    00:E8DD  92 9E      			sta	[sgx_spr_ptr]
  459    00:E8DF  98         			tya
  460    00:E8E0  69 00      			adc	#0
  461    00:E8E2  A0 01      			ldy	#1
  462    00:E8E4  91 9E      			sta	[sgx_spr_ptr], y
  463    00:E8E6  60         			rts
  464                        			
  465                        	
  466                        	
  467                        	; ***************************************************************************
  468                        	; ***************************************************************************
  469                        	;
  470                        	; void __fastcall sgx_spr_pattern( unsigned int vaddr<acc> );
  471                        	
  472    00:E8E7             	_sgx_spr_pattern.1:
  473    00:E8E7  84 00      			sty	<__temp		;     zp=fedcba98 a=76543210
  474    00:E8E9  0A         			asl	a		; c=f zp=edcba987 a=6543210_
  475    00:E8EA  26 00      			rol	<__temp
  476    00:E8EC  2A         			rol	a		; c=e zp=dcba9876 a=543210_f
  477    00:E8ED  26 00      			rol	<__temp
  478    00:E8EF  2A         			rol	a		; c=d zp=cba98765 a=43210_fe
  479    00:E8F0  26 00      			rol	<__temp
  480    00:E8F2  2A         			rol	a		; c=4 zp=cba98765 a=3210_fed
  481    00:E8F3  A0 05      			ldy	#5
  482    00:E8F5  91 9E      			sta	[sgx_spr_ptr], y
  483    00:E8F7  A5 00      			lda	<__temp
  484    00:E8F9  88         			dey
  485    00:E8FA  91 9E      			sta	[sgx_spr_ptr], y
  486    00:E8FC  60         			rts
  487                        	
  488                        	
  489                        	
  490                        	; ***************************************************************************
  491                        	; ***************************************************************************
  492                        	;
  493                        	; void __fastcall sgx_spr_ctrl( unsigned char mask<_al>, unsigned char value<acc> );
  494                        	
  495    00:E8FD  25 F8      	_sgx_spr_ctrl.2:and	<_al
  496    00:E8FF  85 00      			sta	<__temp
  497    00:E901  A5 F8      			lda	<_al
  498    00:E903  49 FF      			eor	#$FF
  499    00:E905  A0 07      			ldy	#7
  500    00:E907  31 9E      			and	[sgx_spr_ptr], y
  501    00:E909  05 00      			ora	<__temp
  502    00:E90B  91 9E      			sta	[sgx_spr_ptr], y
  503    00:E90D  60         			rts
  504                        	
  505                        	
  506                        	
  507                        	; ***************************************************************************
  508                        	; ***************************************************************************
  509                        	;
  510                        	; void __fastcall sgx_spr_pal( unsigned char palette<acc> )
  511                        	
  512    00:E90E  29 0F      	_sgx_spr_pal.1:	and	#$0F
  513    00:E910  85 00      			sta	<__temp
  514    00:E912  A0 06      			ldy	#6
  515    00:E914  B1 9E      			lda	[sgx_spr_ptr], y
  516    00:E916  29 F0      			and	#$F0
  517    00:E918  05 00      			ora	<__temp
  518    00:E91A  91 9E      			sta	[sgx_spr_ptr], y
  519    00:E91C  60         			rts
  520                        	
  521                        	
  522                        	
  523                        	; ***************************************************************************
  524                        	; ***************************************************************************
  525                        	;
  526                        	; void __fastcall sgx_spr_pri( unsigned char priority<acc> )
  527                        	
  528    00:E91D  C9 01      	_sgx_spr_pri.1:	cmp	#1
  529    00:E91F  A0 06      			ldy	#6
  530    00:E921  B1 9E      			lda	[sgx_spr_ptr], y
  531    00:E923  29 7F      			and	#$7F
  532    00:E925  90 02      			bcc	!+
  533    00:E927  09 80      			ora	#$80
  534    00:E929  91 9E      	!:		sta	[sgx_spr_ptr], y
  535    00:E92B  60         			rts
  536                        	
  537                        	
  538                        	
  539                        	; ***************************************************************************
  540                        	; ***************************************************************************
  541                        	;
  542                        	; unsigned int __fastcall sgx_spr_get_x( void );
  543                        	
  544    00:E92C  38         	_sgx_spr_get_x:	sec
  545    00:E92D  A0 02      			ldy	#2
  546    00:E92F  B1 9E      			lda	[sgx_spr_ptr], y
  547    00:E931  E9 20      			sbc	#32
  548    00:E933  AA         			tax
  549    00:E934  C8         			iny
  550    00:E935  B1 9E      			lda	[sgx_spr_ptr], y
  551    00:E937  E9 00      			sbc	#0
  552    00:E939  A8         			tay
  553    00:E93A  8A         			txa
  554    00:E93B  60         			rts
  555                        	
  556                        	
  557                        	
  558                        	; ***************************************************************************
  559                        	; ***************************************************************************
  560                        	;
  561                        	; unsigned int __fastcall sgx_spr_get_y( void );
  562                        	
  563    00:E93C  38         	_sgx_spr_get_y:	sec
  564    00:E93D  B2 9E      			lda	[sgx_spr_ptr]
  565    00:E93F  E9 40      			sbc	#64
  566    00:E941  AA         			tax
  567    00:E942  A0 01      			ldy	#1
  568    00:E944  B1 9E      			lda	[sgx_spr_ptr], y
  569    00:E946  E9 00      			sbc	#0
  570    00:E948  A8         			tay
  571    00:E949  8A         			txa
  572    00:E94A  60         			rts
  573                        	
  574                        		.endif	SUPPORT_SGX
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   73                        		.endif
   74                        	
   75               0001     		.ifdef	HUCC_USES_BLKMAP		; Set in hucc_blkmap.h
                             #[3]   "..\..\..\include\hucc\blkmap.asm"
   76                        			include	"blkmap.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; blkmap.asm
    5                        	;
    6                        	; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
    7                        	;
    8                        	; Copyright John Brandwood 2025.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
   18                        	;
   19                        	; The maximum total size for a blkmap is 16KBytes, which allows for maps up
   20                        	; to 128x128 blocks (2048x2048 pixels).
   21                        	;
   22                        	; Huge multi-screen blkmaps are also supported (optionally).
   23                        	;
   24                        	; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
   25                        	;
   26                        	; The maximum total size for a multi-screen map is 8KBytes, which allows for
   27                        	; a total of 1024 screens.
   28                        	;
   29                        	; ***************************************************************************
   30                        	; ***************************************************************************
   31                        	
   32                        	;
   33                        	; Include dependancies ...
   34                        	;
   35                        	
   36                        			include "common.asm"		; Common helpers.
   37                        			include "vce.asm"		; Useful VCE routines.
   38                        			include "vdc.asm"		; Useful VCE routines.
   39                        	
   40                        	;
   41                        	; Support large blkmaps up to 16KBytes instead of the regular 8KBytes?
   42                        	;
   43                        	; The maximum X and Y size for regular blkmaps is 128 tiles (2048 pixels).
   44                        	;
   45                        	; This allows for individual maps up to 128x128 tiles (2048x2048 pixels) vs
   46                        	; default limit of 128x64 or 64x128.
   47                        	;
   48                        	
   49               0000     		.ifndef	BLKMAP_LARGEMAP
   51                        		.endif
   52                        	
   53                        	;
   54                        	; Support huge multi-screen maps, up to 32768 pixels wide/high?
   55                        	;
   56                        	; These are sectorized maps split into individual BAT-sized "screens", with
   57                        	; a maximum of 1024 screens per map.
   58                        	;
   59                        	; The BAT size that is used when drawing *must* be the same as the BAT size
   60                        	; that was chosen when creating the multi-screen map.
   61                        	;
   62                        	; Each screen can use a unique set of block definitions, or it might choose
   63                        	; to share the same block definitions that are used on another screen.
   64                        	;
   65                        	; Each screen may choose which 8KByte banks of character data to select for
   66                        	; the 4 banks (32KBytes) of VRAM that its block definitions use, with a max
   67                        	; of 16 banks of characters per multi-screen map.
   68                        	;
   69                        	; Loading those character banks dynamically is an exercise for the user!
   70                        	;
   71                        	; Enabling support adds extra library code, and slightly slows down the use
   72                        	; of regular blkmaps.
   73                        	;
   74                        	
   75               0000     		.ifndef	BLKMAP_MULTISCR
   77                        		.endif
   78                        	
   79                        	;
   80                        	; Block definitions can either use character data from VRAM $1000..$7FFF or
   81                        	; they can be limited to use the 32KByte of characters in VRAM $1000..$4FFF
   82                        	; which then frees up 2-bits for flag information for each character in the
   83                        	; block.
   84                        	;
   85                        	; These 2-bits are perfect for using as collision information in game maps,
   86                        	; allowing storage of states like transparent, solid, up-slope, down-slope.
   87                        	;
   88                        	; Typically this flag information is set by the map conversion tools from a
   89                        	; seperate "collision" map layer.
   90                        	;
   91                        	
   92               0000     		.ifndef	BLKDEF_CHR_FLAG
   94                        		.endif
   95                        	
   96                        	;
   97                        	; Block definitions are accessed in MPR2 ($4000..$5FFF), and must not cross
   98                        	; the bank boundary.
   99                        	;
  100                        	; When working this way, 8 pointers in ZP are used to access the individual
  101                        	; bytes in the block definition. This is fine when using a regular map on a
  102                        	; PC Engine, but it is awfully slow when using multi-screen maps or drawing
  103                        	; maps on both VDC chips in a SuperGRAFX because the pointer values must be
  104                        	; constantly changed.
  105                        	;
  106                        	; When using multi-screen maps, or when developing a SuperGRAFX game, or if
  107                        	; developing a CDROM game, then it is usually preferable to store the block
  108                        	; definitions with 2KByte alignment, especially if they are normally stored
  109                        	; compressed and then decompressed into a 2KByte buffer in RAM when needed.
  110                        	;
  111                        	; This option controls whether the definitions are stored 2KByte aligned or
  112                        	; if pointers should be used instead.
  113                        	;
  114                        	
  115               0000     		.ifndef	BLKDEF_POINTERS
  117                        		.endif
  118                        	
  119                        	;
  120                        	; Add a timing bar to the scroll_map() to see how long the drawing takes?
  121                        	;
  122                        	
  123               0000     		.ifndef	BLKMAP_TIMETEST
  125                        		.endif
  126                        	
  127                        	;
  128                        	;
  129                        	;
  130                        	
  131               0000     		.if	BLKDEF_POINTERS
  144                        		.else
  145                        	
  146                        		; If the block definititions are 2KByte aligned.
  147                        	
  148               4000     	BLK_4000_TL_L	=	$4000
  149               4100     	BLK_4000_TR_L	=	$4100
  150               4200     	BLK_4000_BL_L	=	$4200
  151               4300     	BLK_4000_BR_L	=	$4300
  152               4400     	BLK_4000_TL_H	=	$4400
  153               4500     	BLK_4000_TR_H	=	$4500
  154               4600     	BLK_4000_BL_H	=	$4600
  155               4700     	BLK_4000_BR_H	=	$4700
  156                        	
  157               4800     	BLK_4800_TL_L	=	$4800
  158               4900     	BLK_4800_TR_L	=	$4900
  159               4A00     	BLK_4800_BL_L	=	$4A00
  160               4B00     	BLK_4800_BR_L	=	$4B00
  161               4C00     	BLK_4800_TL_H	=	$4C00
  162               4D00     	BLK_4800_TR_H	=	$4D00
  163               4E00     	BLK_4800_BL_H	=	$4E00
  164               4F00     	BLK_4800_BR_H	=	$4F00
  165                        	
  166               5000     	BLK_5000_TL_L	=	$5000
  167               5100     	BLK_5000_TR_L	=	$5100
  168               5200     	BLK_5000_BL_L	=	$5200
  169               5300     	BLK_5000_BR_L	=	$5300
  170               5400     	BLK_5000_TL_H	=	$5400
  171               5500     	BLK_5000_TR_H	=	$5500
  172               5600     	BLK_5000_BL_H	=	$5600
  173               5700     	BLK_5000_BR_H	=	$5700
  174                        	
  175               5800     	BLK_5800_TL_L	=	$5800
  176               5900     	BLK_5800_TR_L	=	$5900
  177               5A00     	BLK_5800_BL_L	=	$5A00
  178               5B00     	BLK_5800_BR_L	=	$5B00
  179               5C00     	BLK_5800_TL_H	=	$5C00
  180               5D00     	BLK_5800_TR_H	=	$5D00
  181               5E00     	BLK_5800_BL_H	=	$5E00
  182               5F00     	BLK_5800_BR_H	=	$5F00
  183                        	
  184                        		.endif
  185                        	
  186               0080     	MAP_UNALIGNED_X	=	$80
  187               0040     	MAP_UNALIGNED_Y	=	$40
  188                        	
  189                        	;
  190                        	;
  191                        	;
  192                        	
  193               2BF9     			.bss
  194                        	
  195                        	; **************
  196                        	; 8-byte (or 2-byte) entry for each SCREEN in the MULTI_MAP.
  197                        	
  198               0000     			.rsset	0
  199               0000     		.if	BLKDEF_POINTERS
  202                        		.else
  203               0000     	SCR_MAP_PAGE	.rs	1	; 256-byte aligned.
  204               0001     	SCR_MAP_BANK	.rs	1
  205               0002     	SCR_BLK_PAGE	.rs	1	; >$4000, >$4800, >$5000, or >$5800.
  206               0003     	SCR_BLK_BANK	.rs	1
  207               0004     	SCR_TBL_PAGE	.rs	1	; 256-byte aligned.
  208               0005     	SCR_TBL_BANK	.rs	1
  209               0006     	SCR_CHR_12	.rs	1	; Which CHR banks are used by the BLK, with
  210               0007     	SCR_CHR_34	.rs	1	; a max of 16 CHR banks per MULTI_MAP.
  211                        		.endif
  212                        	
  213                        			; A simple macro to help build a multi-screen map.
  214                        	
  215               0000     		.ifndef	SCREEN
  224                        		.endif
  225                        	
  226    F8:2BF9             	map_blk_flag:	ds	1	; Returned from _get_map_block().
  227    F8:2BFA             	map_blk_mask:	ds	1	; Returned from _get_map_block().
  228                        	
  229                        	; **************
  230                        	; 16-bytes of VDC blkmap info.
  231                        	;
  232                        	; N.B. MUST be 16-bytes before the SGX versions to use PCE_VDC_OFFSET.
  233                        	
  234    F8:2BFB             	vdc_old_chr_x:	ds	1	; Previous top-left X in CHR (lo-byte only).
  235    F8:2BFC             	vdc_old_chr_y:	ds	1	; Previous top-left Y in CHR (lo-byte only).
  236                        	
  237    F8:2BFD             	vdc_tbl_addr:	ds	2	; 256-byte aligned.
  238    F8:2BFF             	vdc_tbl_bank:	ds	1
  239                        	
  240    F8:2C00             	vdc_blk_addr:	ds	2	; 2KBytes of data, 256-byte aligned.
  241    F8:2C02             	vdc_blk_bank:	ds	1
  242                        	
  243    F8:2C03             	vdc_map_addr:	ds	2	; Mapped into MPR3..MPR5, max 16KBytes.
  244    F8:2C05             	vdc_map_bank:	ds	1
  245                        	
  246    F8:2C06             	vdc_scr_addr:	ds	2	; 8KByte maximum size.
  247    F8:2C08             	vdc_scr_bank:	ds	1
  248    F8:2C09             	vdc_scr_chr12:	ds	1	; Which CHR banks are used by the BLK, with
  249    F8:2C0A             	vdc_scr_chr34:	ds	1	; a max of 16 banks per multi-screen map.
  250                        	
  251               0001     		.if	SUPPORT_SGX
  252                        	
  253                        	; **************
  254                        	; 16-bytes of SGX blkmap info.
  255                        	;
  256                        	; N.B. MUST be 16-bytes after the VDC versions to use SGX_VDC_OFFSET.
  257                        	
  258    F8:2C0B             	sgx_old_chr_x:	ds	1	; Previous top-left X in CHR (lo-byte only).
  259    F8:2C0C             	sgx_old_chr_y:	ds	1	; Previous top-left Y in CHR (lo-byte only).
  260                        	
  261    F8:2C0D             	sgx_tbl_addr:	ds	2	; 256-byte aligned.
  262    F8:2C0F             	sgx_tbl_bank:	ds	1
  263                        	
  264    F8:2C10             	sgx_blk_addr:	ds	2	; 2KBytes of data, 256-byte aligned.
  265    F8:2C12             	sgx_blk_bank:	ds	1
  266                        	
  267    F8:2C13             	sgx_map_addr:	ds	2	; Mapped into MPR3..MPR4, max 8KBytes.
  268    F8:2C15             	sgx_map_bank:	ds	1
  269                        	
  270    F8:2C16             	sgx_scr_addr:	ds	2	; 8KByte maximum size.
  271    F8:2C18             	sgx_scr_bank:	ds	1
  272    F8:2C19             	sgx_scr_chr12:	ds	1	; Which CHR banks are used by the BLK, with
  273    F8:2C1A             	sgx_scr_chr34:	ds	1	; a max of 16 banks per multi-screen map.
  274                        	
  275                        		.endif	SUPPORT_SGX
  276                        	
  277               0000     		.if	0
  310                        		.endif	0
  311                        	
  312                        	; **************
  313                        	; Aliases for the asm variable names in HuCC.
  314                        	;
  315                        	
  316               0001     		.ifdef	HUCC
  317                        	
  318    F8:2C1B             	_map_blk_flag	.alias	map_blk_flag
  319    F8:2C1B             	_map_blk_mask	.alias	map_blk_mask
  320                        	
  321    F8:2C1B             	_vdc_map_draw_w	.alias	vdc_map_draw_w
  322    F8:2C1B             	_vdc_map_draw_h	.alias	vdc_map_draw_h
  323    F8:2C1B             	_vdc_map_pxl_x	.alias	vdc_map_pxl_x
  324    F8:2C1B             	_vdc_map_pxl_y	.alias	vdc_map_pxl_y
  325    F8:2C1B             	_vdc_old_chr_x	.alias	vdc_old_chr_x
  326    F8:2C1B             	_vdc_old_chr_y	.alias	vdc_old_chr_y
  327    F8:2C1B             	_vdc_tbl_addr	.alias	vdc_tbl_addr
  328    F8:2C1B             	_vdc_tbl_bank	.alias	vdc_tbl_bank
  329    F8:2C1B             	_vdc_blk_addr	.alias	vdc_blk_addr
  330    F8:2C1B             	_vdc_blk_bank	.alias	vdc_blk_bank
  331    F8:2C1B             	_vdc_map_line_w	.alias	vdc_map_line_w
  332    F8:2C1B             	_vdc_map_scrn_w	.alias	vdc_map_scrn_w
  333    F8:2C1B             	_vdc_map_addr	.alias	vdc_map_addr
  334    F8:2C1B             	_vdc_map_bank	.alias	vdc_map_bank
  335    F8:2C1B             	_vdc_scr_addr	.alias	vdc_scr_addr
  336    F8:2C1B             	_vdc_scr_bank	.alias	vdc_scr_bank
  337    F8:2C1B             	_vdc_scr_chr12	.alias	vdc_scr_chr12
  338    F8:2C1B             	_vdc_scr_chr34	.alias	vdc_scr_chr34
  339                        	
  340               0001     		.if	SUPPORT_SGX
  341    F8:2C1B             	_sgx_map_draw_w	.alias	sgx_map_draw_w
  342    F8:2C1B             	_sgx_map_draw_h	.alias	sgx_map_draw_h
  343    F8:2C1B             	_sgx_map_pxl_x	.alias	sgx_map_pxl_x
  344    F8:2C1B             	_sgx_map_pxl_y	.alias	sgx_map_pxl_y
  345    F8:2C1B             	_sgx_old_chr_x	.alias	sgx_old_chr_x
  346    F8:2C1B             	_sgx_old_chr_y	.alias	sgx_old_chr_y
  347    F8:2C1B             	_sgx_tbl_addr	.alias	sgx_tbl_addr
  348    F8:2C1B             	_sgx_tbl_bank	.alias	sgx_tbl_bank
  349    F8:2C1B             	_sgx_blk_addr	.alias	sgx_blk_addr
  350    F8:2C1B             	_sgx_blk_bank	.alias	sgx_blk_bank
  351    F8:2C1B             	_sgx_map_line_w	.alias	sgx_map_line_w
  352    F8:2C1B             	_sgx_map_scrn_w	.alias	sgx_map_scrn_w
  353    F8:2C1B             	_sgx_map_addr	.alias	sgx_map_addr
  354    F8:2C1B             	_sgx_map_bank	.alias	sgx_map_bank
  355    F8:2C1B             	_sgx_scr_addr	.alias	sgx_scr_addr
  356    F8:2C1B             	_sgx_scr_bank	.alias	sgx_scr_bank
  357    F8:2C1B             	_sgx_scr_chr12	.alias	sgx_scr_chr12
  358    F8:2C1B             	_sgx_scr_chr34	.alias	sgx_scr_chr34
  359                        		.endif	SUPPORT_SGX
  360                        	
  361                        		.endif	HUCC
  362                        	
  363                        	; **************
  364                        	; Temporary variables for drawing, using common zero-page locations.
  365                        	;
  366                        	
  367               20F8     	map_bat_x	=	_al	; Set by draw_map(), scroll_map() if drawing
  368               20F9     	map_bat_y	=	_ah	; aligned, or as parameters to blit_map().
  369                        	
  370               20FA     	map_draw_w	=	_bl	; Set by draw_map(), scroll_map(), but given
  371               20FB     	map_draw_h	=	_bh	; as parameters to blit_map().
  372                        	
  373               20FC     	map_pxl_x	=	_cx	; Set by draw_map(), scroll_map() and also by
  374               20FC     	map_chr_x	=	_cl	; blit__map(), from current vdc_map_pxl_x.
  375               20FD     	map_scrn_x	=	_ch
  376                        	
  377               20FE     	map_pxl_y	=	_dx	; Set by draw_map(), scroll_map() and also by
  378               20FE     	map_chr_y	=	_dl	; blit__map(), from current vdc_map_pxl_y.
  379               20FF     	map_scrn_y	=	_dh
  380                        	
  381               20EE     	map_line	=	_si	; Start of map data line being drawn.
  382                        	
  383               2000     	map_count	=	__temp + 0
  384               2001     	map_drawn	=	__temp + 1
  385                        	
  386               E94B     			.code
  387                        	
  388                        	
  389                        	
  390    02:D337             	blkmap_group	.procgroup
  391                        	
  392                        	; ***************************************************************************
  393                        	; ***************************************************************************
  394                        	;
  395                        	; _set_blocks - Initialize the block definition pointers.
  396                        	; _sgx_set_blocks - Initialize the block definition pointers.
  397                        	;
  398                        	; void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blk<_al> );
  399                        	; void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blk<_al> );
  400                        	;
  401                        	
  402               0001     		.if	SUPPORT_SGX
  403                        	
  404    02:D337             			.proc	_sgx_set_blocks.3
  405                        	
  406    02:D337  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  407    02:D339  F0         			db	$F0			; Turn "clx" into a "beq".
  408                        	
  409    02:D33A             			.ref	_set_blocks.3
  410                        			.endp
  411                        		.endif
  412                        	
  413    02:D33A             			.proc	_set_blocks.3
  414                        	
  415    02:D33A  82         			clx				; Offset to PCE VDC.
  416                        	
  417    02:D33B  BD FE 2B   			lda.h	vdc_tbl_addr, x		; Remap the address to MPR2.
  418    02:D33E  29 1F      			and	#$1F
  419    02:D340  09 40      			ora	#$40
  420    02:D342  9D FE 2B   			sta.h	vdc_tbl_addr, x
  421                        	
  422    02:D345  BD 01 2C   			lda.h	vdc_blk_addr, x		; Remap the address to MPR2.
  423    02:D348  29 1F      			and	#$1F
  424    02:D34A  09 40      			ora	#$40
  425    02:D34C  9D 01 2C   			sta.h	vdc_blk_addr, x
  426                        	
  427               0000     		.if	BLKDEF_POINTERS
  479                        		.endif	BLKDEF_POINTERS
  480                        	
  481                        			leave
         02:D34F  4C EF FF   			jmp	leave_proc
  482                        	
  483                        			.endp
  484                        	
  485                        	
  486                        	
  487                        	; ***************************************************************************
  488                        	; ***************************************************************************
  489                        	;
  490                        	; _draw_map - Draw the entire screen at the current coordinates.
  491                        	; _sgx_draw_map - Draw the entire screen at the current coordinates.
  492                        	;
  493                        	; void __fastcall draw_map( void );
  494                        	; void __fastcall sgx_draw_map( void );
  495                        	;
  496                        	
  497               0001     		.if	SUPPORT_SGX
  498                        	
  499    02:D352             	_sgx_draw_map	.proc
  500                        	
  501    02:D352  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  502    02:D354  F0         			db	$F0			; Turn "clx" into a "beq".
  503                        	
  504    02:D355             			.ref	_draw_map
  505                        			.endp
  506                        		.endif
  507                        	
  508    02:D355             	_draw_map	.proc
  509                        	
  510    02:D355  82         			clx				; Offset to PCE VDC.
  511                        	
  512    02:D356  43 04      			tma2				; Preserve MPR2..MPR4.
  513    02:D358  48         			pha
  514    02:D359  43 08      			tma3
  515    02:D35B  48         			pha
  516    02:D35C  43 10      			tma4
  517    02:D35E  48         			pha
  518               0000     		.if	BLKMAP_LARGEMAP
  521                        		.endif
  522                        	
  523    02:D35F  20 61 D4   			jsr	map_pxl_2_chr		; Set up the draw coordinates.
  524                        	
  525    02:D362  A5 FC      			lda	<map_chr_x		; Reset previous X position.
  526    02:D364  9D FB 2B   			sta	vdc_old_chr_x, x
  527                        	
  528    02:D367  A5 FE      			lda	<map_chr_y		; Reset previous Y position,
  529    02:D369  1A         			inc	a			; ready to draw multiple rows.
  530    02:D36A  9D FC 2B   			sta	vdc_old_chr_y, x
  531                        	
  532    02:D36D  BD C4 26   			lda	vdc_map_draw_w, x	; Draw the whole screen.
  533    02:D370  85 FA      			sta	<map_draw_w
  534    02:D372  BD C5 26   			lda	vdc_map_draw_h, x
  535    02:D375  85 FB      			sta	<map_draw_h
  536                        	
  537    02:D377  20 B7 D6   			jsr	map_scroll_y		; Draw N row of CHR to the BAT.
  538                        	
  539               0000     		.if	BLKMAP_LARGEMAP
  542                        		.endif
  543    02:D37A  68         			pla				; Restore MPR2..MPR4.
  544    02:D37B  53 10      			tam4
  545    02:D37D  68         			pla
  546    02:D37E  53 08      			tam3
  547    02:D380  68         			pla
  548    02:D381  53 04      			tam2
  549                        	
  550                        			leave
         02:D383  4C EF FF   			jmp	leave_proc
  551                        	
  552                        			.endp
  553                        	
  554                        	
  555                        	
  556                        	; ***************************************************************************
  557                        	; ***************************************************************************
  558                        	;
  559                        	; _scroll_map - Draw a single row of CHR into the BAT to update the edge.
  560                        	; _sgx_scroll_map - Draw a single row of CHR into the BAT to update the edge.
  561                        	;
  562                        	; void __fastcall scroll_map( void );
  563                        	; void __fastcall sgx_scroll_map( void );
  564                        	;
  565                        	
  566               0001     		.if	SUPPORT_SGX
  567                        	
  568    02:D386             	_sgx_scroll_map	.proc
  569                        	
  570    02:D386  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  571    02:D388  F0         			db	$F0			; Turn "clx" into a "beq".
  572                        	
  573    02:D389             			.ref	_scroll_map
  574                        			.endp
  575                        		.endif
  576                        	
  577    02:D389             	_scroll_map	.proc
  578                        	
  579    02:D389  82         			clx				; Offset to PCE VDC.
  580                        	
  581               0000     		.if	BLKMAP_TIMETEST
  587                        		.endif
  588                        	
  589    02:D38A  43 04      			tma2				; Preserve MPR2..MPR4.
  590    02:D38C  48         			pha
  591    02:D38D  43 08      			tma3
  592    02:D38F  48         			pha
  593    02:D390  43 10      			tma4
  594    02:D392  48         			pha
  595               0000     		.if	BLKMAP_LARGEMAP
  598                        		.endif
  599                        	
  600    02:D393  20 61 D4   			jsr	map_pxl_2_chr		; Set up the draw coordinates.
  601                        	
  602               0001     		.if	BLKMAP_MULTISCR
  603    02:D396  A5 FD      			lda	<map_scrn_x		; map_scroll_x can change this!
  604    02:D398  48         			pha
  605                        		.endif
  606                        	
  607    02:D399  BD C5 26   			lda	vdc_map_draw_h, x	; Draw new LHS or RHS if needed.
  608    02:D39C  85 FB      			sta	<map_draw_h
  609                        	;		lda	#1			; map_scroll_x only ever draws a
  610                        	;		sta	<map_draw_w		; single column.
  611    02:D39E  20 98 D5   			jsr	map_scroll_x
  612                        	
  613    02:D3A1  BD FB 2B   			lda	vdc_old_chr_x, x	; Restore map_chr_x which could
  614    02:D3A4  85 FC      			sta	<map_chr_x		; be changed by map_scroll_x.
  615                        	
  616               0001     		.if	BLKMAP_MULTISCR
  617    02:D3A6  68         			pla				; Restore before map_scroll_y.
  618    02:D3A7  85 FD      			sta	<map_scrn_x
  619                        		.endif
  620                        	
  621    02:D3A9  BD C4 26   			lda	vdc_map_draw_w, x	; Draw new TOP or BTM if needed.
  622    02:D3AC  85 FA      			sta	<map_draw_w
  623    02:D3AE  A9 01      			lda	#1
  624    02:D3B0  85 FB      			sta	<map_draw_h
  625    02:D3B2  20 B7 D6   			jsr	map_scroll_y
  626                        	
  627               0000     		.if	BLKMAP_LARGEMAP
  630                        		.endif
  631    02:D3B5  68         			pla				; Restore MPR2..MPR4.
  632    02:D3B6  53 10      			tam4
  633    02:D3B8  68         			pla
  634    02:D3B9  53 08      			tam3
  635    02:D3BB  68         			pla
  636    02:D3BC  53 04      			tam2
  637                        	
  638               0000     		.if	BLKMAP_TIMETEST
  640                        		.endif
  641                        	
  642                        			leave
         02:D3BE  4C EF FF   			jmp	leave_proc
  643                        	
  644                        			.endp
  645                        	
  646                        	
  647                        	
  648                        	; ***************************************************************************
  649                        	; ***************************************************************************
  650                        	;
  651                        	; _blit_map - Draw a map rectangle to specific BAT coordinates.
  652                        	; _sgx_blit_map - Draw a map rectangle to specific BAT coordinates.
  653                        	;
  654                        	; void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
  655                        	; void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
  656                        	;
  657                        	; Normally you'd just use _draw_map() and _scroll_map(), but for those folks
  658                        	; who really wish to take manual control, you can use this.
  659                        	;
  660                        	
  661               0001     		.if	SUPPORT_SGX
  662                        	
  663                        	_sgx_blit_map	.proc
  669                        			.endp
  670                        		.endif
  671                        	
  672    02:D3C1             	_blit_map	.proc
  673                        	
  674    02:D3C1  82         			clx				; Offset to PCE VDC.
  675                        	
  676    02:D3C2  BD 08 2C   			lda	vdc_scr_bank, x		; Skip this if a multi-screen
  677    02:D3C5  D0 36      			bne	.exit			; blkmap.
  678                        	
  679    02:D3C7  43 04      			tma2				; Preserve MPR2..MPR4.
  680    02:D3C9  48         			pha
  681    02:D3CA  43 08      			tma3
  682    02:D3CC  48         			pha
  683    02:D3CD  43 10      			tma4
  684    02:D3CF  48         			pha
  685               0000     		.if	BLKMAP_LARGEMAP
  688                        		.endif
  689                        	
  690    02:D3D0  BD CC 26   			lda	vdc_map_option, x	; Preserve current map options.
  691    02:D3D3  48         			pha
  692    02:D3D4  09 C0      			ora	#MAP_UNALIGNED_X | MAP_UNALIGNED_Y
  693    02:D3D6  9D CC 26   			sta	vdc_map_option, x
  694                        	
  695    02:D3D9  20 61 D4   			jsr	map_pxl_2_chr		; Set up the draw coordinates.
  696                        	
  697    02:D3DC  A5 FA      			lda	<map_draw_w		; Are we drawing just 1 column?
  698    02:D3DE  C9 01      			cmp	#1
  699    02:D3E0  F0 1E      			beq	.draw_column
  700                        	
  701                        			; Draw N rows.
  702                        	
  703    02:D3E2  A5 FC      	.draw_rows:	lda	<map_chr_x		; Reset previous X position.
  704    02:D3E4  9D FB 2B   			sta	vdc_old_chr_x, x
  705                        	
  706    02:D3E7  A5 FE      			lda	<map_chr_y		; Reset previous Y position,
  707    02:D3E9  1A         			inc	a			; ready to draw rows upwards.
  708    02:D3EA  9D FC 2B   			sta	vdc_old_chr_y, x
  709                        	
  710    02:D3ED  20 B7 D6   			jsr	map_scroll_y		; Draw a row of CHR to the BAT.
  711                        	
  712                        			; Drawing completed.
  713                        	
  714    02:D3F0  68         	.finished:	pla				; Restore previous map options.
  715    02:D3F1  9D CC 26   			sta	vdc_map_option, x
  716                        	
  717               0000     		.if	BLKMAP_LARGEMAP
  720                        		.endif
  721    02:D3F4  68         			pla				; Restore MPR2..MPR4.
  722    02:D3F5  53 10      			tam4
  723    02:D3F7  68         			pla
  724    02:D3F8  53 08      			tam3
  725    02:D3FA  68         			pla
  726    02:D3FB  53 04      			tam2
  727                        	
  728                        	.exit:		leave
         02:D3FD  4C EF FF   			jmp	leave_proc
  729                        	
  730                        			; Draw 1 column.
  731                        	
  732    02:D400  A5 FC      	.draw_column:	lda	<map_chr_x		; Reset previous X position.
  733    02:D402  1A         			inc	a			; ready to draw 1 column.
  734    02:D403  9D FB 2B   			sta	vdc_old_chr_x, x
  735                        	
  736    02:D406  A5 FE      			lda	<map_chr_y		; Reset previous Y position.
  737    02:D408  9D FC 2B   			sta	vdc_old_chr_y, x
  738                        	
  739    02:D40B  20 98 D5   			jsr	map_scroll_x		; Draw a single column of CHR.
  740                        	
  741    02:D40E  80 E0      			bra	.finished
  742                        	
  743                        			.endp
  744                        	
  745                        	
  746                        	
  747                        	; ***************************************************************************
  748                        	; ***************************************************************************
  749                        	;
  750                        	; _get_map_block - Get the block number used at a map pixel coordinate.
  751                        	; _sgx_get_map_block - Get the block number used at a map pixel coordinate.
  752                        	;
  753                        	; unsigned char __fastcall _get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
  754                        	; unsigned char __fastcall _sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
  755                        	;
  756                        	
  757               0001     		.if	SUPPORT_SGX
  758                        	
  759                        			.proc	_sgx_get_map_block.2
  765                        			.endp
  766                        		.endif
  767                        	
  768    02:D410             			.proc	_get_map_block.2
  769                        	
  770    02:D410  82         			clx				; Offset to PCE VDC.
  771                        	
  772    02:D411  43 04      			tma2				; Preserve MPR2..MPR4.
  773    02:D413  48         			pha
  774    02:D414  43 08      			tma3
  775    02:D416  48         			pha
  776    02:D417  43 10      			tma4
  777    02:D419  48         			pha
  778               0000     		.if	BLKMAP_LARGEMAP
  781                        		.endif
  782                        	
  783    02:D41A  20 75 D4   			jsr	xvt_pxl_2_chr		; Set up the query coordinates.
  784                        	
  785    02:D41D  20 A3 D4   			jsr	map_chr_2_data		; Page in the map address.
  786                        	
  787    02:D420  B2 EC      			lda	[_bp]			; Read the BLK from the map.
  788    02:D422  A8         			tay
  789                        	
  790    02:D423  A5 FC      			lda	<map_chr_x		; Calc the BLK address offset
  791    02:D425  4A         			lsr	a			; use depending upon even/odd
  792    02:D426  A5 FE      			lda	<map_chr_y		; CHR coordinates (not BAT to
  793    02:D428  29 01      			and	#1			; support unaligned drawing).
  794    02:D42A  2A         			rol	a
  795    02:D42B  09 04      			ora	#4			; Offset to BLK table top byte.
  796    02:D42D  7D 01 2C   			adc.h	vdc_blk_addr, x		; What is the BLK data address?
  797    02:D430  85 ED      			sta.h	<_bp			; $4000, $4800, $5000 or $5800.
  798    02:D432  64 EC      			stz.l	<_bp
  799    02:D434  B1 EC      			lda	[_bp], y		; Read the collision flags from
  800    02:D436  29 0C      			and	#%00001100		; the top byte of the CHR.
  801    02:D438  4A         			lsr	a
  802    02:D439  4A         			lsr	a
  803    02:D43A  4A         			lsr	a			; Swizzle the bottom bit to get
  804    02:D43B  90 02      			bcc	!+			; the same bit order as used in
  805    02:D43D  09 02      			ora	#2			; .HALTMAP layer.
  806    02:D43F  8D F9 2B   	!:		sta	map_blk_flag
  807                        	
  808    02:D442  BD FF 2B   			lda	vdc_tbl_bank, x		; Is there a table of flags?
  809    02:D445  F0 09      			beq	!+
  810    02:D447  53 08      			tam3
  811                        	;		inc	a
  812                        	;		tam4
  813                        	;		lda.l	vdc_tbl_addr, x
  814                        	;		sta.l	<_bp
  815    02:D449  BD FE 2B   			lda.h	vdc_tbl_addr, x		; If so, it must be aligned!
  816    02:D44C  85 ED      			sta.h	<_bp
  817    02:D44E  B1 EC      			lda	[_bp], y		; Read the .MASKMAP/.OVERMAP
  818    02:D450  8D FA 2B   	!:		sta	map_blk_mask		; flag value for this BLK.
  819                        	
  820               0000     		.if	BLKMAP_LARGEMAP
  823                        		.endif
  824    02:D453  68         			pla				; Restore MPR2..MPR4.
  825    02:D454  53 10      			tam4
  826    02:D456  68         			pla
  827    02:D457  53 08      			tam3
  828    02:D459  68         			pla
  829    02:D45A  53 04      			tam2
  830                        	
  831    02:D45C  02         			sxy				; Put the BLK number in X.
  832    02:D45D  C2         			cly
  833                        	
  834                        			leave				; All done!
         02:D45E  4C EF FF   			jmp	leave_proc
  835                        	
  836                        			.endp
  837                        	
  838                        	
  839                        	
  840                        	; ***************************************************************************
  841                        	; ***************************************************************************
  842                        	;
  843                        	; map_pxl_2_chr - Convert PXL to CHR, BLK and SCR coordinates.
  844                        	;
  845                        	
  846    02:D461  BD CA 26   	map_pxl_2_chr:	lda.l	vdc_map_pxl_y, x	; Get current map Y coordinate.
  847    02:D464  85 FE      			sta.l	<map_pxl_y
  848    02:D466  BD CB 26   			lda.h	vdc_map_pxl_y, x
  849    02:D469  85 FF      			sta.h	<map_pxl_y
  850                        	
  851    02:D46B  BD C8 26   			lda.l	vdc_map_pxl_x, x	; Get current map X coordinate.
  852    02:D46E  85 FC      			sta.l	<map_pxl_x
  853    02:D470  BD C9 26   			lda.h	vdc_map_pxl_x, x
  854    02:D473  85 FD      			sta.h	<map_pxl_x
  855                        	
  856    02:D475  A5 FD      	xvt_pxl_2_chr:	lda.h	<map_pxl_x		; Xvert map_pxl_x to map_chr_x.
  857               0001     		.if	BLKMAP_MULTISCR
  858    02:D477  A8         			tay				; Xvert map_pxl_x to map_scrn_x.
  859    02:D478  3C BF 26   			bit	vdc_bat_width, x
  860    02:D47B  70 03      			bvs	.w64
  861    02:D47D  10 02      			bpl	.w32
  862    02:D47F  4A         	.w128:		lsr	a
  863    02:D480  4A         	.w64:		lsr	a
  864    02:D481  85 FD      	.w32:		sta	<map_scrn_x
  865    02:D483  98         			tya
  866                        		.endif
  867    02:D484  4A         			lsr	a
  868    02:D485  66 FC      			ror.l	<map_pxl_x
  869    02:D487  4A         			lsr	a
  870    02:D488  66 FC      			ror.l	<map_pxl_x
  871    02:D48A  4A         			lsr	a
  872    02:D48B  66 FC      			ror.l	<map_pxl_x		; Max map width is 256 CHR.
  873                        	
  874    02:D48D  A5 FF      			lda.h	<map_pxl_y		; Xvert map_pxl_y to map_chr_y.
  875               0001     		.if	BLKMAP_MULTISCR
  876    02:D48F  A8         			tay				; Xvert map_pxl_y to map_scrn_y.
  877    02:D490  3C C0 26   			bit	vdc_bat_height, x
  878    02:D493  50 01      			bvc	.h32
  879    02:D495  4A         	.h64:		lsr	a
  880    02:D496  85 FF      	.h32:		sta	<map_scrn_y
  881    02:D498  98         			tya
  882                        		.endif
  883    02:D499  4A         			lsr	a
  884    02:D49A  66 FE      			ror.l	<map_pxl_y
  885    02:D49C  4A         			lsr	a
  886    02:D49D  66 FE      			ror.l	<map_pxl_y
  887    02:D49F  4A         			lsr	a
  888    02:D4A0  66 FE      			ror.l	<map_pxl_y		; Max map width is 256 CHR.
  889                        	
  890    02:D4A2  60         			rts
  891                        	
  892                        	
  893                        	
  894                        	; ***************************************************************************
  895                        	; ***************************************************************************
  896                        	;
  897                        	; map_chr_2_data - Page in the MAP address for the CHR coordinates.
  898                        	;
  899                        	
  900    02:D4A3             	map_chr_2_data:
  901                        	
  902               0001     		.if	BLKMAP_MULTISCR
  903                        	
  904                        			; Initialization for a multi-screen map.
  905                        	
  906    02:D4A3  BD 08 2C   			lda	vdc_scr_bank, x		; Skip this if regular blkmap.
  907    02:D4A6  F0 3A      			beq	.regular
  908                        	
  909    02:D4A8  A5 FC      	.multiscreen:	lda	<map_chr_x		; Compare old_x with cur_x.
  910    02:D4AA  3D C1 26   			and	vdc_bat_x_mask, x
  911    02:D4AD  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
  912                        	
  913    02:D4AF  A5 FE      			lda	<map_chr_y		; Save BAT Y chr coordinate.
  914    02:D4B1  3D C2 26   			and	vdc_bat_y_mask, x
  915    02:D4B4  85 F9      			sta	<map_bat_y
  916    02:D4B6  4A         			lsr	a			; Map BLK Y coordinate.
  917    02:D4B7  85 EF      			sta.h	<map_line
  918    02:D4B9  62         			cla
  919    02:D4BA  3C BF 26   			bit	vdc_bat_width, x
  920    02:D4BD  30 08      			bmi	.w128
  921    02:D4BF  70 03      			bvs	.w64
  922    02:D4C1  46 EF      	.w32:		lsr.h	<map_line
  923    02:D4C3  6A         			ror	a
  924    02:D4C4  46 EF      	.w64:		lsr.h	<map_line
  925    02:D4C6  6A         			ror	a
  926    02:D4C7  46 EF      	.w128:		lsr.h	<map_line
  927    02:D4C9  6A         			ror	a
  928    02:D4CA  46 EF      			lsr.h	<map_line		; Hi-byte of (BLK Y * width).
  929    02:D4CC  6A         			ror	a
  930    02:D4CD  85 EE      			sta.l	<map_line		; Lo-byte of (BLK Y * width).
  931                        	
  932    02:D4CF  20 23 D5   			jsr	map_set_screen		; Put BLK & MAP in MPR2-MPR5.
  933                        	
  934    02:D4D2  A5 F8      			lda	<map_bat_x		; Calc map data pointer.
  935    02:D4D4  4A         			lsr	a			; Map BLK X coordinate.
  936    02:D4D5  05 EE      			ora.l	<map_line
  937    02:D4D7  85 EC      			sta.l	<_bp
  938    02:D4D9  A5 EF      			lda.h	<map_line
  939    02:D4DB  18         			clc
  940    02:D4DC  7D 04 2C   			adc.h	vdc_map_addr, x		; N.B. 256-byte aligned!
  941    02:D4DF  85 ED      			sta.h	<_bp
  942                        	
  943    02:D4E1  60         			rts
  944                        	
  945                        		.endif	BLKMAP_MULTISCR
  946                        	
  947                        			; Initialization for a regular map.
  948                        	
  949    02:D4E2  A5 FC      	.regular:	lda	<map_chr_x		; Compare old_x with cur_x.
  950                        	;		bit	vdc_map_option, x	; Set bit7 to disable aligning
  951                        	;		bmi	!+			; BAT X with the map X.
  952    02:D4E4  3D C1 26   			and	vdc_bat_x_mask, x
  953    02:D4E7  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
  954                        	
  955    02:D4E9  A5 FE      	!:		lda	<map_chr_y		; A = map CHR Y coordinate.
  956    02:D4EB  A8         			tay
  957    02:D4EC  4A         			lsr	a
  958    02:D4ED  42         			say				; Y = map BLK Y coordinate.
  959                        	
  960                        	;		bit	vdc_map_option, x	; Set bit6 to disable aligning
  961                        	;		bvs	!+			; BAT Y with the map Y.
  962    02:D4EE  3D C2 26   			and	vdc_bat_y_mask, x
  963    02:D4F1  85 F9      			sta	<map_bat_y		; Save BAT Y chr coordinate.
  964                        	
  965               0000     		.if	BLKMAP_LARGEMAP
  970                        		.endif
  971                        	
  972    02:D4F3  BD C6 26   	!:		lda	vdc_map_line_w, x	; Map width in BLK.
  973               0000     		.if	FAST_MULTIPLY
  986                        		.else
  987    02:D4F6  84 EF      			sty.h	<map_line		; Takes 144..176 cycles.
  988    02:D4F8  A0 08      			ldy	#8
  989    02:D4FA  4A         			lsr	a
  990    02:D4FB  85 EE      			sta.l	<map_line
  991    02:D4FD  62         			cla
  992    02:D4FE  90 03      			bcc	.rotate
  993    02:D500  18         	.add:		clc
  994    02:D501  65 EF      			adc.h	<map_line
  995    02:D503  6A         	.rotate:	ror	a
  996    02:D504  66 EE      			ror.l	<map_line		; Lo-byte of (BLK Y * width).
  997    02:D506  88         			dey
  998    02:D507  B0 F7      			bcs	.add
  999    02:D509  D0 F8      			bne	.rotate
 1000    02:D50B  A8         			tay				; Hi-byte of (BLK Y * width).
 1001                        		.endif
 1002                        	
 1003    02:D50C  A5 FC      	!:		lda	<map_chr_x		; Map CHR X coordinate.
 1004    02:D50E  4A         			lsr	a			; Map BLK X coordinate.
 1005    02:D50F  18         			clc
 1006    02:D510  65 EE      			adc.l	<map_line		; Lo-byte of (BLK Y * width).
 1007    02:D512  90 01      			bcc	!+
 1008    02:D514  C8         			iny				; Hi-byte of (BLK Y * width).
 1009                        	
 1010    02:D515  18         	!:		clc				; Calc map data pointer.
 1011    02:D516  7D 03 2C   			adc.l	vdc_map_addr, x
 1012    02:D519  85 EC      			sta.l	<_bp			; Maximum map size is 16KBytes
 1013    02:D51B  98         			tya				; so we don't need to consider
 1014    02:D51C  7D 04 2C   			adc.h	vdc_map_addr, x		; bank overflow.
 1015    02:D51F  85 ED      			sta.h	<_bp
 1016                        	
 1017    02:D521  80 66      			bra	map_set_banks		; Put BLK & MAP in MPR2-MPR5.
 1018                        	
 1019                        	
 1020                        	
 1021               0001     		.if	BLKMAP_MULTISCR
 1022                        	
 1023                        	; ***************************************************************************
 1024                        	; ***************************************************************************
 1025                        	;
 1026                        	; map_set_screen -
 1027                        	;
 1028                        	; Maximum X and Y dimension of 128 screens (32768 pixels).
 1029                        	; Maximum 8KByte total size of screen data (1024 screens).
 1030                        	;
 1031                        	
 1032    02:D523  A4 FF      	map_set_screen:	ldy	<map_scrn_y		; Map SCR Y coordinate.
 1033    02:D525  BD C7 26   			lda	vdc_map_scrn_w, x	; Map width in SCREENS.
 1034                        	
 1035               0000     		.if	FAST_MULTIPLY
 1048                        		.else
 1049    02:D528  84 ED      			sty.h	<_bp			; Takes 144..176 cycles.
 1050    02:D52A  A0 08      			ldy	#8
 1051    02:D52C  4A         			lsr	a
 1052    02:D52D  85 EC      			sta.l	<_bp
 1053    02:D52F  62         			cla
 1054    02:D530  90 03      			bcc	.rotate
 1055    02:D532  18         	.add:		clc
 1056    02:D533  65 ED      			adc.h	<_bp
 1057    02:D535  6A         	.rotate:	ror	a
 1058    02:D536  66 EC      			ror.l	<_bp			; Lo-byte of (SCR Y * width).
 1059    02:D538  88         			dey
 1060    02:D539  B0 F7      			bcs	.add
 1061    02:D53B  D0 F8      			bne	.rotate
 1062    02:D53D  A8         			tay				; Hi-byte of (SCR Y * width).
 1063                        		.endif
 1064                        	
 1065    02:D53E  A5 FD      			lda	<map_scrn_x		; Map SCR X coordinate.
 1066    02:D540  18         			clc
 1067    02:D541  65 EC      			adc.l	<_bp
 1068    02:D543  90 01      			bcc	!+
 1069    02:D545  C8         			iny
 1070                        	
 1071    02:D546  84 ED      	!:		sty.h	<_bp			; 2 bytes per screen entry, max
 1072    02:D548  0A         			asl	a			; 8KByte screen table.
 1073    02:D549  26 ED      			rol.h	<_bp
 1074               0001     		.if	BLKDEF_POINTERS == 0
 1075    02:D54B  0A         			asl	a			; 8 bytes per screen entry when
 1076    02:D54C  26 ED      			rol.h	<_bp			; not using BLK pointers.
 1077    02:D54E  0A         			asl	a
 1078    02:D54F  26 ED      			rol.h	<_bp
 1079                        		.endif
 1080                        	
 1081    02:D551  7D 06 2C   			adc.l	vdc_scr_addr, x		; Calc screen data pointer.
 1082    02:D554  85 EC      			sta.l	<_bp			; Maximum data size is 8KBytes
 1083    02:D556  A5 ED      			lda.h	<_bp			; so we don't need to consider
 1084    02:D558  7D 07 2C   			adc.h	vdc_scr_addr, x		; bank overflow.
 1085    02:D55B  85 ED      			sta.h	<_bp
 1086                        	
 1087    02:D55D  BD 08 2C   			lda	vdc_scr_bank, x		; Map the SCR data in MPR3..MPR4.
 1088    02:D560  53 08      			tam3
 1089    02:D562  1A         			inc	a
 1090    02:D563  53 10      			tam4
 1091                        	
 1092    02:D565  C2         			cly
 1093    02:D566  B1 EC      			lda	[_bp], y		; Get SCR_MAP_PAGE.
 1094    02:D568  9D 04 2C   			sta.h	vdc_map_addr, x
 1095    02:D56B  C8         			iny
 1096    02:D56C  B1 EC      			lda	[_bp], y		; Get SCR_MAP_BANK.
 1097    02:D56E  9D 05 2C   			sta	vdc_map_bank, x
 1098                        	
 1099               0001     		.if	BLKDEF_POINTERS == 0
 1100    02:D571  C8         			iny
 1101    02:D572  B1 EC      			lda	[_bp], y		; Get SCR_BLK_PAGE.
 1102    02:D574  9D 01 2C   			sta.h	vdc_blk_addr, x
 1103    02:D577  C8         			iny
 1104    02:D578  B1 EC      			lda	[_bp], y		; Get SCR_BLK_BANK.
 1105    02:D57A  9D 02 2C   			sta	vdc_blk_bank, x
 1106    02:D57D  C8         			iny
 1107    02:D57E  B1 EC      			lda	[_bp], y		; Get SCR_TBL_PAGE.
 1108    02:D580  9D FE 2B   			sta.h	vdc_tbl_addr, x
 1109    02:D583  C8         			iny
 1110    02:D584  B1 EC      			lda	[_bp], y		; Get SCR_TBL_BANK.
 1111    02:D586  9D FF 2B   			sta	vdc_tbl_bank, x
 1112               0000     		.if	0				; These are not currently used.
 1119                        		.endif
 1120                        		.endif
 1121                        	
 1122                        	;		lda	vdc_bat_width, x	; Set up the map width.
 1123                        	;		lsr	a			; This should have been set
 1124                        	;		sta	vdc_map_line_w, x	; with the multi-screen map.
 1125                        	
 1126                        	;		jmp	map_set_banks		; Put BLK & MAP in MPR2-MPR5.
 1127                        	
 1128                        			; Fall through to map_set_banks.
 1129                        	
 1130                        		.endif	BLKMAP_MULTISCR
 1131                        	
 1132                        	
 1133                        	
 1134                        	; ***************************************************************************
 1135                        	; ***************************************************************************
 1136                        	;
 1137                        	; map_set_banks - Put BLK & MAP in MPR2-MPR5.
 1138                        	;
 1139                        	
 1140    02:D589  BD 02 2C   	map_set_banks:	lda	vdc_blk_bank, x		; Put the BLK into MPR2.
 1141    02:D58C  53 04      			tam2
 1142                        	
 1143    02:D58E  BD 05 2C   			lda	vdc_map_bank, x		; Put the MAP into MPR3-MPR5.
 1144    02:D591  53 08      			tam3
 1145    02:D593  1A         			inc	a
 1146    02:D594  53 10      			tam4
 1147               0000     		.if	BLKMAP_LARGEMAP
 1156                        		.endif
 1157                        	
 1158    02:D596  60         	!:		rts
 1159                        	
 1160                        	
 1161                        	
 1162                        	; ***************************************************************************
 1163                        	; ***************************************************************************
 1164                        	;
 1165                        	; map_scroll_x - Update the BAT when X coordinate changes.
 1166                        	;
 1167                        	; N.B. This will alter map_chr_x and map_scrn_x if moved in +ve direction!
 1168                        	;
 1169                        	; N.B. This only ever draws a single column!
 1170                        	;
 1171                        	
 1172    02:D597  60         	!no_change:	rts
 1173                        	
 1174    02:D598             	map_scroll_x:
 1175                        	
 1176               0001     		.if	BLKMAP_MULTISCR
 1177                        	
 1178                        			; Initialization for a multi-screen map.
 1179                        	
 1180    02:D598  BD 08 2C   			lda	vdc_scr_bank, x		; Skip this if regular blkmap.
 1181    02:D59B  F0 56      			beq	.regular
 1182                        	
 1183    02:D59D  A5 FC      	.multiscreen:	lda	<map_chr_x		; Compare old_x with cur_x.
 1184    02:D59F  DD FB 2B   			cmp	vdc_old_chr_x, x
 1185               0001     		.if	BLKMAP_TIMETEST == 0
 1186    02:D5A2  F0 F3      			beq	!no_change-		; Do nothing if no change.
 1187                        		.endif
 1188    02:D5A4  9D FB 2B   			sta	vdc_old_chr_x, x
 1189    02:D5A7  30 11      			bmi	!+			; Test the sign of the change.
 1190                        	
 1191    02:D5A9  18         			clc				; Draw RHS if chr_x >= old_x.
 1192    02:D5AA  3D C1 26   			and	vdc_bat_x_mask, x
 1193    02:D5AD  7D C4 26   			adc	vdc_map_draw_w, x	; Usually (SCR_WIDTH / 8) + 1.
 1194    02:D5B0  3A         			dec	a
 1195    02:D5B1  85 FC      			sta	<map_chr_x		; Update CHR X chr coordinate.
 1196    02:D5B3  3C BF 26   			bit	vdc_bat_width, x
 1197    02:D5B6  F0 02      			beq	!+
 1198    02:D5B8  E6 FD      			inc	<map_scrn_x		; Wrapped to the next screen.
 1199                        	
 1200    02:D5BA  3D C1 26   	!:		and	vdc_bat_x_mask, x
 1201    02:D5BD  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
 1202                        	
 1203    02:D5BF  A5 FE      			lda	<map_chr_y		; Save BAT Y chr coordinate.
 1204    02:D5C1  3D C2 26   			and	vdc_bat_y_mask, x
 1205    02:D5C4  85 F9      			sta	<map_bat_y
 1206    02:D5C6  4A         			lsr	a			; Map BLK Y coordinate.
 1207    02:D5C7  85 EF      			sta.h	<map_line
 1208    02:D5C9  62         			cla
 1209    02:D5CA  3C BF 26   			bit	vdc_bat_width, x
 1210    02:D5CD  30 08      			bmi	.w128
 1211    02:D5CF  70 03      			bvs	.w64
 1212    02:D5D1  46 EF      	.w32:		lsr.h	<map_line
 1213    02:D5D3  6A         			ror	a
 1214    02:D5D4  46 EF      	.w64:		lsr.h	<map_line
 1215    02:D5D6  6A         			ror	a
 1216    02:D5D7  46 EF      	.w128:		lsr.h	<map_line
 1217    02:D5D9  6A         			ror	a
 1218    02:D5DA  46 EF      			lsr.h	<map_line		; Hi-byte of (BLK Y * width).
 1219    02:D5DC  6A         			ror	a
 1220    02:D5DD  85 EE      			sta.l	<map_line		; Lo-byte of (BLK Y * width).
 1221                        	
 1222    02:D5DF  20 23 D5   			jsr	map_set_screen		; Put BLK & MAP in MPR2-MPR5.
 1223                        	
 1224    02:D5E2  A5 F8      			lda	<map_bat_x		; Calc map data pointer.
 1225    02:D5E4  4A         			lsr	a			; Map BLK X coordinate.
 1226    02:D5E5  05 EE      			ora.l	<map_line
 1227    02:D5E7  85 EC      			sta.l	<_bp
 1228    02:D5E9  A5 EF      			lda.h	<map_line
 1229    02:D5EB  18         			clc
 1230    02:D5EC  7D 04 2C   			adc.h	vdc_map_addr, x		; N.B. 256-byte aligned!
 1231    02:D5EF  85 ED      			sta.h	<_bp
 1232                        	
 1233    02:D5F1  80 5D      			bra	.draw_col		; Now draw it.
 1234                        	
 1235                        		.endif	BLKMAP_MULTISCR
 1236                        	
 1237                        			; Initialization for a regular map.
 1238                        	
 1239    02:D5F3  A5 FC      	.regular:	lda	<map_chr_x		; Compare old_x with cur_x.
 1240    02:D5F5  DD FB 2B   			cmp	vdc_old_chr_x, x
 1241               0001     		.if	BLKMAP_TIMETEST == 0
 1242    02:D5F8  F0 9D      			beq	!no_change-		; Do nothing if no change.
 1243                        		.endif
 1244    02:D5FA  9D FB 2B   			sta	vdc_old_chr_x, x
 1245    02:D5FD  30 07      			bmi	!+			; Test the sign of the change.
 1246                        	
 1247    02:D5FF  18         			clc				; Draw RHS if chr_x >= old_x.
 1248    02:D600  7D C4 26   			adc	vdc_map_draw_w, x	; Usually (SCR_WIDTH / 8) + 1.
 1249    02:D603  3A         			dec	a
 1250    02:D604  85 FC      			sta	<map_chr_x		; Update CHR X chr coordinate.
 1251                        	
 1252    02:D606  3C CC 26   	!:		bit	vdc_map_option, x	; Set bit7 to disable aligning
 1253    02:D609  30 05      			bmi	!+			; BAT X with the map X.
 1254    02:D60B  3D C1 26   			and	vdc_bat_x_mask, x
 1255    02:D60E  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
 1256                        	
 1257    02:D610  A5 FE      	!:		lda	<map_chr_y		; A = map CHR Y coordinate.
 1258    02:D612  A8         			tay
 1259    02:D613  4A         			lsr	a
 1260    02:D614  42         			say				; Y = map BLK Y coordinate.
 1261                        	
 1262    02:D615  3C CC 26   			bit	vdc_map_option, x	; Set bit6 to disable aligning
 1263    02:D618  70 05      			bvs	!+			; BAT Y with the map Y.
 1264    02:D61A  3D C2 26   			and	vdc_bat_y_mask, x
 1265    02:D61D  85 F9      			sta	<map_bat_y		; Save BAT Y chr coordinate.
 1266                        	
 1267               0000     		.if	BLKMAP_LARGEMAP
 1272                        		.endif
 1273                        	
 1274    02:D61F  BD C6 26   	!:		lda	vdc_map_line_w, x	; Map width in BLK.
 1275               0000     		.if	FAST_MULTIPLY
 1288                        		.else
 1289    02:D622  84 EF      			sty.h	<map_line		; Takes 144..176 cycles.
 1290    02:D624  A0 08      			ldy	#8
 1291    02:D626  4A         			lsr	a
 1292    02:D627  85 EE      			sta.l	<map_line
 1293    02:D629  62         			cla
 1294    02:D62A  90 03      			bcc	.rotate
 1295    02:D62C  18         	.add:		clc
 1296    02:D62D  65 EF      			adc.h	<map_line
 1297    02:D62F  6A         	.rotate:	ror	a
 1298    02:D630  66 EE      			ror.l	<map_line		; Lo-byte of (BLK Y * width).
 1299    02:D632  88         			dey
 1300    02:D633  B0 F7      			bcs	.add
 1301    02:D635  D0 F8      			bne	.rotate
 1302    02:D637  A8         			tay				; Hi-byte of (BLK Y * width).
 1303                        		.endif
 1304                        	
 1305    02:D638  A5 FC      	!:		lda	<map_chr_x		; Map CHR X coordinate.
 1306    02:D63A  4A         			lsr	a			; Map BLK X coordinate.
 1307    02:D63B  18         			clc
 1308    02:D63C  65 EE      			adc.l	<map_line		; Lo-byte of (BLK Y * width).
 1309    02:D63E  90 01      			bcc	!+
 1310    02:D640  C8         			iny				; Hi-byte of (BLK Y * width).
 1311                        	
 1312    02:D641  18         	!:		clc				; Calc map data pointer.
 1313    02:D642  7D 03 2C   			adc.l	vdc_map_addr, x
 1314    02:D645  85 EC      			sta.l	<_bp			; Maximum map size is 16KBytes
 1315    02:D647  98         			tya				; so we don't need to consider
 1316    02:D648  7D 04 2C   			adc.h	vdc_map_addr, x		; bank overflow.
 1317    02:D64B  85 ED      			sta.h	<_bp
 1318                        	
 1319    02:D64D  20 89 D5   			jsr	map_set_banks		; Put BLK & MAP in MPR2-MPR5.
 1320                        	
 1321                        			; Draw the first part of the column.
 1322                        	
 1323    02:D650  A5 F8      	.draw_col:	lda	<map_bat_x		; Set the BAT VRAM destination
 1324    02:D652  85 F0      			sta.l	<_di			; coordinates.
 1325    02:D654  A5 F9      			lda	<map_bat_y
 1326    02:D656  85 F1      			sta.h	<_di
 1327                        	
 1328    02:D658  5D C2 26   			eor	vdc_bat_y_mask, x	; Calc CHR before wrap.
 1329    02:D65B  1A         			inc	a
 1330    02:D65C  DD C5 26   			cmp	vdc_map_draw_h, x	; Usually (SCR_HEIGHT / 8) + 1.
 1331    02:D65F  90 03      			bcc	!+
 1332    02:D661  BD C5 26   			lda	vdc_map_draw_h, x	; Maximum CHR to draw.
 1333    02:D664  85 00      	!:		sta	<map_count		; Set number of CHR to draw.
 1334    02:D666  85 01      			sta	<map_drawn		; Preserve number of CHR drawn.
 1335                        	
 1336    02:D668  A9 05      			lda	#VDC_CR			; Set VDC auto-increment from
 1337    02:D66A  95 F7      			sta	<vdc_reg, x		; the BAT width, which is set
 1338    02:D66C  9D 00 02   			sta	VDC_AR, x		; up by set_screen_size().
 1339    02:D66F  B5 F4      			lda	<vdc_crh, x
 1340    02:D671  9D 03 02   			sta	VDC_DH, x
 1341                        	
 1342    02:D674  20 B6 D9   			jsr	blk_col_strip		; Draw top of vertical strip.
 1343                        	
 1344                        			; Wrap around and draw the rest of the column (if needed).
 1345                        	
 1346    02:D677  38         			sec				; Are there any more CHR that
 1347    02:D678  BD C5 26   			lda	vdc_map_draw_h, x	; need to be drawn?
 1348    02:D67B  E5 01      			sbc	<map_drawn
 1349    02:D67D  F0 2C      			beq	.done
 1350                        	
 1351    02:D67F  85 00      			sta	<map_count		; Set number of CHR to draw.
 1352                        	
 1353    02:D681  A5 FE      			lda	<map_chr_y		; Update CHR Y coordinate for
 1354    02:D683  48         			pha				; drawing unaligned tiles.
 1355    02:D684  18         			clc
 1356    02:D685  65 01      			adc	<map_drawn
 1357    02:D687  85 FE      			sta	<map_chr_y
 1358                        	
 1359               0001     		.if	BLKMAP_MULTISCR
 1360    02:D689  BD 08 2C   			lda	vdc_scr_bank, x		; Skip this if regular blkmap.
 1361    02:D68C  F0 0F      			beq	!+
 1362                        	
 1363    02:D68E  E6 FF      			inc	<map_scrn_y		; Wrapped to the next screen.
 1364                        	
 1365    02:D690  20 23 D5   			jsr	map_set_screen		; Put BLK & MAP in MPR2-MPR5.
 1366                        	
 1367    02:D693  A5 F8      			lda	<map_bat_x		; Calc map data pointer.
 1368    02:D695  4A         			lsr	a			; Map BLK X coordinate.
 1369    02:D696  85 EC      			sta.l	<_bp
 1370    02:D698  BD 04 2C   			lda.h	vdc_map_addr, x		; N.B. 256-byte aligned!
 1371    02:D69B  85 ED      			sta.h	<_bp
 1372                        		.endif
 1373                        	
 1374    02:D69D  A5 F8      	!:		lda	<map_bat_x		; Set the BAT VRAM destination
 1375    02:D69F  85 F0      			sta.l	<_di			; coordinates.
 1376    02:D6A1  64 F1      			stz.h	<_di			; Reset 1st row to draw.
 1377                        	
 1378    02:D6A3  20 B6 D9   			jsr	blk_col_strip		; Draw btm of vertical strip.
 1379                        	
 1380               0001     		.if	BLKMAP_MULTISCR
 1381    02:D6A6  C6 FF      			dec	<map_scrn_y		; Restore, no check if should.
 1382                        		.endif
 1383                        	
 1384    02:D6A8  68         			pla				; Restore CHR Y coordinate, we
 1385    02:D6A9  85 FE      			sta	<map_chr_y		; might draw another column!
 1386                        	
 1387    02:D6AB  A9 05      	.done:		lda	#VDC_CR			; Set VDC auto-increment to 1.
 1388    02:D6AD  95 F7      			sta	<vdc_reg, x
 1389    02:D6AF  9D 00 02   			sta	VDC_AR, x
 1390    02:D6B2  9E 03 02   			stz	VDC_DH, x
 1391                        	
 1392    02:D6B5  60         			rts
 1393                        	
 1394                        	
 1395                        	
 1396                        	; ***************************************************************************
 1397                        	; ***************************************************************************
 1398                        	;
 1399                        	; map_scroll_y - Update the BAT when Y coordinate changes.
 1400                        	;
 1401                        	; N.B. This will alter map_chr_y and map_scrn_y if moved in +ve direction!
 1402                        	;
 1403                        	; N.B. This draws multiple rows when called from _draw_map or _blit_map.
 1404                        	;
 1405                        	
 1406    02:D6B6  60         	!no_change:	rts
 1407                        	
 1408    02:D6B7             	map_scroll_y:
 1409                        	
 1410               0001     		.if	BLKMAP_MULTISCR
 1411                        	
 1412                        			; Initialization for a multi-screen map.
 1413                        	
 1414    02:D6B7  BD 08 2C   			lda	vdc_scr_bank, x		; Skip this if regular blkmap.
 1415    02:D6BA  F0 56      			beq	.regular
 1416                        	
 1417    02:D6BC  A5 FE      	.multiscr:	lda	<map_chr_y		; Compare old_y with cur_y.
 1418    02:D6BE  DD FC 2B   			cmp	vdc_old_chr_y, x
 1419               0001     		.if	BLKMAP_TIMETEST == 0
 1420    02:D6C1  F0 F3      			beq	!no_change-		; Do nothing if no change.
 1421                        		.endif
 1422    02:D6C3  9D FC 2B   			sta	vdc_old_chr_y, x
 1423    02:D6C6  30 11      			bmi	!+			; Test the sign of the change.
 1424                        	
 1425    02:D6C8  18         			clc				; Draw bottom if chr_y >= old_y.
 1426    02:D6C9  3D C2 26   			and	vdc_bat_y_mask, x
 1427    02:D6CC  7D C5 26   			adc	vdc_map_draw_h, x	; Usually (SCR_HEIGHT / 8) + 1.
 1428    02:D6CF  3A         			dec	a
 1429    02:D6D0  85 FE      			sta	<map_chr_y		; Update CHR Y chr coordinate.
 1430    02:D6D2  3C C0 26   			bit	vdc_bat_height, x
 1431    02:D6D5  F0 02      			beq	!+
 1432    02:D6D7  E6 FF      			inc	<map_scrn_y		; Wrapped to the next screen.
 1433                        	
 1434    02:D6D9  3D C2 26   	!:		and	vdc_bat_y_mask, x
 1435    02:D6DC  85 F9      			sta	<map_bat_y		; Save BAT Y chr coordinate.
 1436                        	
 1437    02:D6DE  4A         			lsr	a			; Map BLK Y coordinate.
 1438    02:D6DF  85 EF      			sta.h	<map_line
 1439    02:D6E1  62         			cla
 1440    02:D6E2  3C BF 26   			bit	vdc_bat_width, x
 1441    02:D6E5  30 08      			bmi	.w128
 1442    02:D6E7  70 03      			bvs	.w64
 1443    02:D6E9  46 EF      	.w32:		lsr.h	<map_line
 1444    02:D6EB  6A         			ror	a
 1445    02:D6EC  46 EF      	.w64:		lsr.h	<map_line
 1446    02:D6EE  6A         			ror	a
 1447    02:D6EF  46 EF      	.w128:		lsr.h	<map_line
 1448    02:D6F1  6A         			ror	a
 1449    02:D6F2  46 EF      			lsr.h	<map_line		; Hi-byte of (BLK Y * width).
 1450    02:D6F4  6A         			ror	a
 1451    02:D6F5  85 EE      			sta.l	<map_line		; Lo-byte of (BLK Y * width).
 1452                        	
 1453    02:D6F7  A5 FC      			lda	<map_chr_x
 1454    02:D6F9  3D C1 26   			and	vdc_bat_x_mask, x
 1455    02:D6FC  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
 1456                        	
 1457                        			; Loop to here if drawing multiple multi-screen rows.
 1458                        	
 1459    02:D6FE  20 23 D5   	.multiscr_row:	jsr	map_set_screen		; Put BLK & MAP in MPR2-MPR5.
 1460                        	
 1461    02:D701  A5 F8      			lda	<map_bat_x		; Calc map data pointer.
 1462    02:D703  4A         			lsr	a			; Map BLK X coordinate.
 1463    02:D704  05 EE      			ora.l	<map_line
 1464    02:D706  85 EC      			sta.l	<_bp
 1465    02:D708  A5 EF      			lda.h	<map_line
 1466    02:D70A  18         			clc
 1467    02:D70B  7D 04 2C   			adc.h	vdc_map_addr, x		; N.B. 256-byte aligned!
 1468    02:D70E  85 ED      			sta.h	<_bp
 1469                        	
 1470    02:D710  80 60      			bra	.draw_row		; Now draw it.
 1471                        	
 1472                        		.endif	BLKMAP_MULTISCR
 1473                        	
 1474                        			; Initialization for a regular blkmap.
 1475                        	
 1476    02:D712  A5 FE      	.regular:	lda	<map_chr_y		; Compare old_y with cur_y.
 1477    02:D714  DD FC 2B   			cmp	vdc_old_chr_y, x
 1478               0001     		.if	BLKMAP_TIMETEST == 0
 1479    02:D717  F0 9D      			beq	!no_change-		; Do nothing if no change.
 1480                        		.endif
 1481    02:D719  9D FC 2B   			sta	vdc_old_chr_y, x
 1482    02:D71C  30 07      			bmi	!+			; Test the sign of the change.
 1483                        	
 1484    02:D71E  18         			clc				; Draw bottom if chr_y >= old_y.
 1485    02:D71F  7D C5 26   			adc	vdc_map_draw_h, x	; Usually (SCR_HEIGHT / 8) + 1.
 1486    02:D722  3A         			dec	a
 1487    02:D723  85 FE      			sta	<map_chr_y		; Update CHR Y chr coordinate.
 1488                        	
 1489    02:D725  A8         	!:		tay				; A = map CHR Y coordinate.
 1490    02:D726  4A         			lsr	a
 1491    02:D727  42         			say				; Y = map BLK Y coordinate.
 1492                        	
 1493    02:D728  3C CC 26   			bit	vdc_map_option, x	; Set bit6 to disable aligning
 1494    02:D72B  70 05      			bvs	!+			; BAT Y with the map Y.
 1495    02:D72D  3D C2 26   			and	vdc_bat_y_mask, x
 1496    02:D730  85 F9      			sta	<map_bat_y		; Save BAT Y chr coordinate.
 1497                        	
 1498    02:D732  3C CC 26   	!:		bit	vdc_map_option, x	; Set bit7 to disable aligning
 1499    02:D735  30 07      			bmi	!+			; BAT X with the map X.
 1500    02:D737  A5 FC      			lda	<map_chr_x
 1501    02:D739  3D C1 26   			and	vdc_bat_x_mask, x
 1502    02:D73C  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
 1503    02:D73E             	!:
 1504                        	
 1505               0000     		.if	BLKMAP_LARGEMAP
 1510                        		.endif
 1511                        	
 1512    02:D73E  BD C6 26   			lda	vdc_map_line_w, x	; Map width in BLK.
 1513               0000     		.if	FAST_MULTIPLY
 1526                        		.else
 1527    02:D741  84 EF      			sty.h	<map_line		; Takes 144..176 cycles.
 1528    02:D743  A0 08      			ldy	#8
 1529    02:D745  4A         			lsr	a
 1530    02:D746  85 EE      			sta.l	<map_line
 1531    02:D748  62         			cla
 1532    02:D749  90 03      			bcc	.rotate
 1533    02:D74B  18         	.add:		clc
 1534    02:D74C  65 EF      			adc.h	<map_line
 1535    02:D74E  6A         	.rotate:	ror	a
 1536    02:D74F  66 EE      			ror.l	<map_line		; Lo-byte of (BLK Y * width).
 1537    02:D751  88         			dey
 1538    02:D752  B0 F7      			bcs	.add
 1539    02:D754  D0 F8      			bne	.rotate
 1540    02:D756  85 EF      			sta.h	<map_line		; Hi-byte of (BLK Y * width).
 1541                        		.endif
 1542                        	
 1543    02:D758  20 89 D5   			jsr	map_set_banks		; Put BLK & MAP in MPR2-MPR5.
 1544                        	
 1545                        			; Loop to here if drawing multiple regular blkmap rows.
 1546                        	
 1547    02:D75B  A4 EF      	.regular_row:	ldy.h	<map_line		; Hi-byte of (BLK Y * width).
 1548    02:D75D  A5 FC      			lda	<map_chr_x		; Map CHR X coordinate.
 1549    02:D75F  4A         			lsr	a			; Map BLK X coordinate.
 1550    02:D760  18         			clc
 1551    02:D761  65 EE      			adc.l	<map_line		; Lo-byte of (BLK Y * width).
 1552    02:D763  90 01      			bcc	!+
 1553    02:D765  C8         			iny
 1554    02:D766  18         	!:		clc				; Calc map data pointer.
 1555    02:D767  7D 03 2C   			adc.l	vdc_map_addr, x
 1556    02:D76A  85 EC      			sta.l	<_bp			; Maximum map size is 16KBytes
 1557    02:D76C  98         			tya				; so we don't need to consider
 1558    02:D76D  7D 04 2C   			adc.h	vdc_map_addr, x		; bank overflow.
 1559    02:D770  85 ED      			sta.h	<_bp
 1560                        	
 1561                        			; Draw the first part of the row.
 1562                        	
 1563    02:D772  A5 F9      	.draw_row:	lda	<map_bat_y		; Set the BAT VRAM destination
 1564    02:D774  85 F1      			sta.h	<_di			; coordinates.
 1565    02:D776  A5 F8      			lda	<map_bat_x
 1566    02:D778  85 F0      			sta.l	<_di
 1567                        	
 1568    02:D77A  5D C1 26   			eor	vdc_bat_x_mask, x	; Calc CHR before wrap.
 1569    02:D77D  1A         			inc	a
 1570    02:D77E  C5 FA      			cmp	<map_draw_w		; Usually (SCR_WIDTH / 8) + 1.
 1571    02:D780  90 02      			bcc	!+
 1572    02:D782  A5 FA      			lda	<map_draw_w		; Maximum CHR to draw.
 1573    02:D784  85 00      	!:		sta	<map_count		; Set number of CHR to draw.
 1574    02:D786  85 01      			sta	<map_drawn		; Preserve number of CHR drawn.
 1575                        	
 1576    02:D788  20 F8 D7   			jsr	blk_row_strip		; Draw lhs of horizontal strip.
 1577                        	
 1578                        			; Wrap around and draw the rest of the row (if needed).
 1579                        	
 1580    02:D78B  38         			sec				; Are there any more CHR that
 1581    02:D78C  A5 FA      			lda	<map_draw_w		; need to be drawn?
 1582    02:D78E  E5 01      			sbc	<map_drawn
 1583    02:D790  F0 2E      			beq	.done_row
 1584                        	
 1585    02:D792  85 00      			sta	<map_count		; Set number of CHR to draw.
 1586                        	
 1587    02:D794  A5 FC      			lda	<map_chr_x		; Update CHR X coordinate for
 1588    02:D796  48         			pha				; drawing unaligned tiles.
 1589    02:D797  18         			clc
 1590    02:D798  65 01      			adc	<map_drawn
 1591    02:D79A  85 FC      			sta	<map_chr_x
 1592                        	
 1593               0001     		.if	BLKMAP_MULTISCR
 1594    02:D79C  BD 08 2C   			lda	vdc_scr_bank, x		; Skip this if regular blkmap.
 1595    02:D79F  F0 11      			beq	!+
 1596                        	
 1597    02:D7A1  E6 FD      			inc	<map_scrn_x		; Wrapped to the next screen.
 1598                        	
 1599    02:D7A3  20 23 D5   			jsr	map_set_screen		; Locate screen's BLK and MAP.
 1600                        	
 1601    02:D7A6  18         			clc				; Calc map data pointer.
 1602    02:D7A7  A5 EE      			lda.l	<map_line
 1603    02:D7A9  85 EC      			sta.l	<_bp
 1604    02:D7AB  A5 EF      			lda.h	<map_line
 1605    02:D7AD  7D 04 2C   			adc.h	vdc_map_addr, x		; N.B. 256-byte aligned!
 1606    02:D7B0  85 ED      			sta.h	<_bp
 1607                        		.endif
 1608                        	
 1609    02:D7B2  A5 F9      	!:		lda	<map_bat_y		; Set the BAT VRAM destination
 1610    02:D7B4  85 F1      			sta.h	<_di			; coordinates.
 1611    02:D7B6  64 F0      			stz.l	<_di			; Reset 1st column to draw.
 1612                        	
 1613    02:D7B8  20 F8 D7   			jsr	blk_row_strip		; Draw rhs of horizontal strip.
 1614                        	
 1615               0001     		.if	BLKMAP_MULTISCR
 1616    02:D7BB  C6 FD      			dec	<map_scrn_x		; Restore, no check if should.
 1617                        		.endif	BLKMAP_MULTISCR
 1618                        	
 1619    02:D7BD  68         			pla				; Restore CHR X coordinate, we
 1620    02:D7BE  85 FC      			sta	<map_chr_x		; might draw another row!
 1621                        	
 1622    02:D7C0  C6 FB      	.done_row:	dec	<map_draw_h		; Are all desired rows drawn?
 1623    02:D7C2  F0 33      			beq	.finished
 1624                        	
 1625    02:D7C4  E6 FE      			inc	<map_chr_y		; Move CHR Y down by 1.
 1626                        	
 1627    02:D7C6  A5 FE      			lda	<map_chr_y		; If new BLK then ...
 1628    02:D7C8  4A         			lsr	a
 1629    02:D7C9  B0 0B      			bcs	!+
 1630    02:D7CB  BD C6 26   			lda	vdc_map_line_w, x	; Move the map line pointer to
 1631    02:D7CE  65 EE      			adc.l	<map_line		; the next line.
 1632    02:D7D0  85 EE      			sta.l	<map_line
 1633    02:D7D2  90 02      			bcc	!+
 1634    02:D7D4  E6 EF      			inc.h	<map_line
 1635                        	
 1636    02:D7D6  A5 F9      	!:		lda	<map_bat_y		; Move BAT Y down by 1.
 1637    02:D7D8  1A         			inc	a
 1638    02:D7D9  3D C2 26   			and	vdc_bat_y_mask, x
 1639    02:D7DC  85 F9      			sta	<map_bat_y
 1640                        	
 1641               0001     		.if	BLKMAP_MULTISCR
 1642    02:D7DE  BC 08 2C   			ldy	vdc_scr_bank, x		; Skip this if regular blkmap.
 1643    02:D7E1  D0 03 4C 5B			beq	.regular_row
         02:D7E5  D7          
 1644                        	
 1645    02:D7E6  A8         			tay				; If wrapped to the top line of
 1646    02:D7E7  D0 0B      			bne	!+			; of the BAT then increment the
 1647    02:D7E9  E6 FF      			inc	<map_scrn_y		; screen.
 1648                        	
 1649    02:D7EB  BD C3 26   			lda	vdc_bat_limit, x	; The map line must wrap around
 1650    02:D7EE  4A         			lsr	a			; too. This is simple since its
 1651    02:D7EF  4A         			lsr	a			; size (in bytes) is 1/4 of the
 1652    02:D7F0  25 EF      			and.h	<map_line		; BAT size (in words) and it is
 1653    02:D7F2  85 EF      			sta.h	<map_line		; a power-of-2.
 1654                        	
 1655    02:D7F4  4C FE D6   	!:		jmp	.multiscr_row		; Draw next row.
 1656                        		.else
 1658                        		.endif	BLKMAP_MULTISCR
 1659                        	
 1660    02:D7F7  60         	.finished:	rts
 1661                        	
 1662                        	
 1663                        	
 1664               0000     		.if	BLKDEF_POINTERS
 1858                        		.else	BLKDEF_POINTERS
 1859                        	
 1860                        	
 1861                        	
 1862                        	; ***************************************************************************
 1863                        	; ***************************************************************************
 1864                        	;
 1865                        	; blk_row_strip - Draw a single row of CHR into the BAT.
 1866                        	;
 1867                        	
 1868    02:D7F8  20 48 E4   	blk_row_strip:	jsr	set_di_xy_mawr		; Set the BAT VRAM destination.
 1869                        	
 1870    02:D7FB  A5 FC      			lda	<map_chr_x		; Select what drawing code to
 1871    02:D7FD  4A         			lsr	a			; use depending upon even/odd
 1872    02:D7FE  A5 FE      			lda	<map_chr_y		; CHR coordinates (not BAT to
 1873    02:D800  29 01      			and	#1			; support unaligned drawing).
 1874    02:D802  2A         			rol	a
 1875    02:D803  0A         			asl	a
 1876    02:D804  1D 01 2C   			ora.h	vdc_blk_addr, x		; What is the BLK data address?
 1877    02:D807  29 1E      			and	#%00011110		; $4000, $4800, $5000 or $5800.
 1878    02:D809  A8         			tay
 1879    02:D80A  B9 17 D8   			lda.h	.jump_table, y		; Push the address of the code.
 1880    02:D80D  48         			pha
 1881    02:D80E  B9 16 D8   			lda.l	.jump_table, y
 1882    02:D811  48         			pha
 1883                        	
 1884    02:D812  B2 EC      			lda	[_bp]			; Get the first BLK number.
 1885    02:D814  A8         			tay
 1886                        	
 1887    02:D815  60         			rts				; Jump to the drawing code.
 1888                        	
 1889    02:D816  38 D8      	.jump_table:	dw	b4000_top_even - 1
 1890    02:D818  4B D8      			dw	b4000_top_odd - 1
 1891    02:D81A  68 D8      			dw	b4000_btm_even - 1
 1892    02:D81C  7B D8      			dw	b4000_btm_odd - 1
 1893                        	
 1894    02:D81E  98 D8      			dw	b4800_top_even - 1
 1895    02:D820  AB D8      			dw	b4800_top_odd - 1
 1896    02:D822  C8 D8      			dw	b4800_btm_even - 1
 1897    02:D824  DB D8      			dw	b4800_btm_odd - 1
 1898                        	
 1899    02:D826  F8 D8      			dw	b5000_top_even - 1
 1900    02:D828  0B D9      			dw	b5000_top_odd - 1
 1901    02:D82A  28 D9      			dw	b5000_btm_even - 1
 1902    02:D82C  3B D9      			dw	b5000_btm_odd - 1
 1903                        	
 1904    02:D82E  58 D9      			dw	b5800_top_even - 1
 1905    02:D830  6B D9      			dw	b5800_top_odd - 1
 1906    02:D832  88 D9      			dw	b5800_btm_even - 1
 1907    02:D834  9B D9      			dw	b5800_btm_odd - 1
 1908                        	
 1909                        			; top horizontal (32+2 rept)
 1910                        			;
 1911                        			; 89 cycles per block * 17 -> 1513 cycles
 1912                        	
 1913    02:D836  B2 EC      	!repeat:	lda	[_bp]			; 7
 1914    02:D838  A8         			tay				; 2
 1915                        	
 1916    02:D839  B9 00 40   	b4000_top_even:	lda	BLK_4000_TL_L, y	; 5
 1917    02:D83C  9D 02 02   			sta	VDC_DL, x		; 6
 1918    02:D83F  B9 00 44   			lda	BLK_4000_TL_H, y	; 5
 1919               0001     		.if	BLKDEF_CHR_FLAG
 1920    02:D842  29 F3      			and	#%11110011		; 2
 1921                        		.endif
 1922    02:D844  1A         			inc	a			; 2
 1923    02:D845  9D 03 02   			sta	VDC_DH, x		; 6
 1924                        	
 1925    02:D848  C6 00      			dec	<map_count		; 6
 1926    02:D84A  F0 19      			beq	!end+			; 2
 1927                        	
 1928    02:D84C  B9 00 41   	b4000_top_odd:	lda	BLK_4000_TR_L, y	; 5
 1929    02:D84F  9D 02 02   			sta	VDC_DL, x		; 6
 1930    02:D852  B9 00 45   			lda	BLK_4000_TR_H, y	; 5
 1931               0001     		.if	BLKDEF_CHR_FLAG
 1932    02:D855  29 F3      			and	#%11110011		; 2
 1933                        		.endif
 1934    02:D857  1A         			inc	a			; 2
 1935    02:D858  9D 03 02   			sta	VDC_DH, x		; 6
 1936                        	
 1937    02:D85B  E6 EC      			inc.l	<_bp			; 6
 1938    02:D85D  D0 02      			bne	!+			; 2/4
 1939    02:D85F  E6 ED      			inc.h	<_bp			; 6
 1940                        	
 1941    02:D861  C6 00      	!:		dec	<map_count		; 6
 1942    02:D863  D0 D1      			bne	!repeat-		; 4
 1943                        	
 1944    02:D865  60         	!end:		rts
 1945                        	
 1946                        			; btm horizontal (32+2 rept)
 1947                        			;
 1948                        			; 89 cycles per block * 17 -> 1513 cycles
 1949                        	
 1950    02:D866  B2 EC      	!repeat:	lda	[_bp]			; 7
 1951    02:D868  A8         			tay				; 2
 1952                        	
 1953    02:D869  B9 00 42   	b4000_btm_even:	lda	BLK_4000_BL_L, y	; 5
 1954    02:D86C  9D 02 02   			sta	VDC_DL, x		; 6
 1955    02:D86F  B9 00 46   			lda	BLK_4000_BL_H, y	; 5
 1956               0001     		.if	BLKDEF_CHR_FLAG
 1957    02:D872  29 F3      			and	#%11110011		; 2
 1958                        		.endif
 1959    02:D874  1A         			inc	a			; 2
 1960    02:D875  9D 03 02   			sta	VDC_DH, x		; 6
 1961                        	
 1962    02:D878  C6 00      			dec	<map_count		; 6
 1963    02:D87A  F0 19      			beq	!end+			; 2
 1964                        	
 1965    02:D87C  B9 00 43   	b4000_btm_odd:	lda	BLK_4000_BR_L, y	; 5
 1966    02:D87F  9D 02 02   			sta	VDC_DL, x		; 6
 1967    02:D882  B9 00 47   			lda	BLK_4000_BR_H, y	; 5
 1968               0001     		.if	BLKDEF_CHR_FLAG
 1969    02:D885  29 F3      			and	#%11110011		; 2
 1970                        		.endif
 1971    02:D887  1A         			inc	a			; 2
 1972    02:D888  9D 03 02   			sta	VDC_DH, x		; 6
 1973                        	
 1974    02:D88B  E6 EC      			inc.l	<_bp			; 6
 1975    02:D88D  D0 02      			bne	!+			; 2/4
 1976    02:D88F  E6 ED      			inc.h	<_bp			; 6
 1977                        	
 1978    02:D891  C6 00      	!:		dec	<map_count		; 6
 1979    02:D893  D0 D1      			bne	!repeat-		; 4
 1980                        	
 1981    02:D895  60         	!end:		rts
 1982                        	
 1983                        			; top horizontal (32+2 rept)
 1984                        			;
 1985                        			; 89 cycles per block * 17 -> 1513 cycles
 1986                        	
 1987    02:D896  B2 EC      	!repeat:	lda	[_bp]			; 7
 1988    02:D898  A8         			tay				; 2
 1989                        	
 1990    02:D899  B9 00 48   	b4800_top_even:	lda	BLK_4800_TL_L, y	; 5
 1991    02:D89C  9D 02 02   			sta	VDC_DL, x		; 6
 1992    02:D89F  B9 00 4C   			lda	BLK_4800_TL_H, y	; 5
 1993               0001     		.if	BLKDEF_CHR_FLAG
 1994    02:D8A2  29 F3      			and	#%11110011		; 2
 1995                        		.endif
 1996    02:D8A4  1A         			inc	a			; 2
 1997    02:D8A5  9D 03 02   			sta	VDC_DH, x		; 6
 1998                        	
 1999    02:D8A8  C6 00      			dec	<map_count		; 6
 2000    02:D8AA  F0 19      			beq	!end+			; 2
 2001                        	
 2002    02:D8AC  B9 00 49   	b4800_top_odd:	lda	BLK_4800_TR_L, y	; 5
 2003    02:D8AF  9D 02 02   			sta	VDC_DL, x		; 6
 2004    02:D8B2  B9 00 4D   			lda	BLK_4800_TR_H, y	; 5
 2005               0001     		.if	BLKDEF_CHR_FLAG
 2006    02:D8B5  29 F3      			and	#%11110011		; 2
 2007                        		.endif
 2008    02:D8B7  1A         			inc	a			; 2
 2009    02:D8B8  9D 03 02   			sta	VDC_DH, x		; 6
 2010                        	
 2011    02:D8BB  E6 EC      			inc.l	<_bp			; 6
 2012    02:D8BD  D0 02      			bne	!+			; 2/4
 2013    02:D8BF  E6 ED      			inc.h	<_bp			; 6
 2014                        	
 2015    02:D8C1  C6 00      	!:		dec	<map_count		; 6
 2016    02:D8C3  D0 D1      			bne	!repeat-		; 4
 2017                        	
 2018    02:D8C5  60         	!end:		rts
 2019                        	
 2020                        			; btm horizontal (32+2 rept)
 2021                        			;
 2022                        			; 89 cycles per block * 17 -> 1513 cycles
 2023                        	
 2024    02:D8C6  B2 EC      	!repeat:	lda	[_bp]			; 7
 2025    02:D8C8  A8         			tay				; 2
 2026                        	
 2027    02:D8C9  B9 00 4A   	b4800_btm_even:	lda	BLK_4800_BL_L, y	; 5
 2028    02:D8CC  9D 02 02   			sta	VDC_DL, x		; 6
 2029    02:D8CF  B9 00 4E   			lda	BLK_4800_BL_H, y	; 5
 2030               0001     		.if	BLKDEF_CHR_FLAG
 2031    02:D8D2  29 F3      			and	#%11110011		; 2
 2032                        		.endif
 2033    02:D8D4  1A         			inc	a			; 2
 2034    02:D8D5  9D 03 02   			sta	VDC_DH, x		; 6
 2035                        	
 2036    02:D8D8  C6 00      			dec	<map_count		; 6
 2037    02:D8DA  F0 19      			beq	!end+			; 2
 2038                        	
 2039    02:D8DC  B9 00 4B   	b4800_btm_odd:	lda	BLK_4800_BR_L, y	; 5
 2040    02:D8DF  9D 02 02   			sta	VDC_DL, x		; 6
 2041    02:D8E2  B9 00 4F   			lda	BLK_4800_BR_H, y	; 5
 2042               0001     		.if	BLKDEF_CHR_FLAG
 2043    02:D8E5  29 F3      			and	#%11110011		; 2
 2044                        		.endif
 2045    02:D8E7  1A         			inc	a			; 2
 2046    02:D8E8  9D 03 02   			sta	VDC_DH, x		; 6
 2047                        	
 2048    02:D8EB  E6 EC      			inc.l	<_bp			; 6
 2049    02:D8ED  D0 02      			bne	!+			; 2/4
 2050    02:D8EF  E6 ED      			inc.h	<_bp			; 6
 2051                        	
 2052    02:D8F1  C6 00      	!:		dec	<map_count		; 6
 2053    02:D8F3  D0 D1      			bne	!repeat-		; 4
 2054                        	
 2055    02:D8F5  60         	!end:		rts
 2056                        	
 2057                        			; top horizontal (32+2 rept)
 2058                        			;
 2059                        			; 89 cycles per block * 17 -> 1513 cycles
 2060                        	
 2061    02:D8F6  B2 EC      	!repeat:	lda	[_bp]			; 7
 2062    02:D8F8  A8         			tay				; 2
 2063                        	
 2064    02:D8F9  B9 00 50   	b5000_top_even:	lda	BLK_5000_TL_L, y	; 5
 2065    02:D8FC  9D 02 02   			sta	VDC_DL, x		; 6
 2066    02:D8FF  B9 00 54   			lda	BLK_5000_TL_H, y	; 5
 2067               0001     		.if	BLKDEF_CHR_FLAG
 2068    02:D902  29 F3      			and	#%11110011		; 2
 2069                        		.endif
 2070    02:D904  1A         			inc	a			; 2
 2071    02:D905  9D 03 02   			sta	VDC_DH, x		; 6
 2072                        	
 2073    02:D908  C6 00      			dec	<map_count		; 6
 2074    02:D90A  F0 19      			beq	!end+			; 2
 2075                        	
 2076    02:D90C  B9 00 51   	b5000_top_odd:	lda	BLK_5000_TR_L, y	; 5
 2077    02:D90F  9D 02 02   			sta	VDC_DL, x		; 6
 2078    02:D912  B9 00 55   			lda	BLK_5000_TR_H, y	; 5
 2079               0001     		.if	BLKDEF_CHR_FLAG
 2080    02:D915  29 F3      			and	#%11110011		; 2
 2081                        		.endif
 2082    02:D917  1A         			inc	a			; 2
 2083    02:D918  9D 03 02   			sta	VDC_DH, x		; 6
 2084                        	
 2085    02:D91B  E6 EC      			inc.l	<_bp			; 6
 2086    02:D91D  D0 02      			bne	!+			; 2/4
 2087    02:D91F  E6 ED      			inc.h	<_bp			; 6
 2088                        	
 2089    02:D921  C6 00      	!:		dec	<map_count		; 6
 2090    02:D923  D0 D1      			bne	!repeat-		; 4
 2091                        	
 2092    02:D925  60         	!end:		rts
 2093                        	
 2094                        			; btm horizontal (32+2 rept)
 2095                        			;
 2096                        			; 89 cycles per block * 17 -> 1513 cycles
 2097                        	
 2098    02:D926  B2 EC      	!repeat:	lda	[_bp]			; 7
 2099    02:D928  A8         			tay				; 2
 2100                        	
 2101    02:D929  B9 00 52   	b5000_btm_even:	lda	BLK_5000_BL_L, y	; 5
 2102    02:D92C  9D 02 02   			sta	VDC_DL, x		; 6
 2103    02:D92F  B9 00 56   			lda	BLK_5000_BL_H, y	; 5
 2104               0001     		.if	BLKDEF_CHR_FLAG
 2105    02:D932  29 F3      			and	#%11110011		; 2
 2106                        		.endif
 2107    02:D934  1A         			inc	a			; 2
 2108    02:D935  9D 03 02   			sta	VDC_DH, x		; 6
 2109                        	
 2110    02:D938  C6 00      			dec	<map_count		; 6
 2111    02:D93A  F0 19      			beq	!end+			; 2
 2112                        	
 2113    02:D93C  B9 00 53   	b5000_btm_odd:	lda	BLK_5000_BR_L, y	; 5
 2114    02:D93F  9D 02 02   			sta	VDC_DL, x		; 6
 2115    02:D942  B9 00 57   			lda	BLK_5000_BR_H, y	; 5
 2116               0001     		.if	BLKDEF_CHR_FLAG
 2117    02:D945  29 F3      			and	#%11110011		; 2
 2118                        		.endif
 2119    02:D947  1A         			inc	a			; 2
 2120    02:D948  9D 03 02   			sta	VDC_DH, x		; 6
 2121                        	
 2122    02:D94B  E6 EC      			inc.l	<_bp			; 6
 2123    02:D94D  D0 02      			bne	!+			; 2/4
 2124    02:D94F  E6 ED      			inc.h	<_bp			; 6
 2125                        	
 2126    02:D951  C6 00      	!:		dec	<map_count		; 6
 2127    02:D953  D0 D1      			bne	!repeat-		; 4
 2128                        	
 2129    02:D955  60         	!end:		rts
 2130                        	
 2131                        			; top horizontal (32+2 rept)
 2132                        			;
 2133                        			; 89 cycles per block * 17 -> 1513 cycles
 2134                        	
 2135    02:D956  B2 EC      	!repeat:	lda	[_bp]			; 7
 2136    02:D958  A8         			tay				; 2
 2137                        	
 2138    02:D959  B9 00 58   	b5800_top_even:	lda	BLK_5800_TL_L, y	; 5
 2139    02:D95C  9D 02 02   			sta	VDC_DL, x		; 6
 2140    02:D95F  B9 00 5C   			lda	BLK_5800_TL_H, y	; 5
 2141               0001     		.if	BLKDEF_CHR_FLAG
 2142    02:D962  29 F3      			and	#%11110011		; 2
 2143                        		.endif
 2144    02:D964  1A         			inc	a			; 2
 2145    02:D965  9D 03 02   			sta	VDC_DH, x		; 6
 2146                        	
 2147    02:D968  C6 00      			dec	<map_count		; 6
 2148    02:D96A  F0 19      			beq	!end+			; 2
 2149                        	
 2150    02:D96C  B9 00 59   	b5800_top_odd:	lda	BLK_5800_TR_L, y	; 5
 2151    02:D96F  9D 02 02   			sta	VDC_DL, x		; 6
 2152    02:D972  B9 00 5D   			lda	BLK_5800_TR_H, y	; 5
 2153               0001     		.if	BLKDEF_CHR_FLAG
 2154    02:D975  29 F3      			and	#%11110011		; 2
 2155                        		.endif
 2156    02:D977  1A         			inc	a			; 2
 2157    02:D978  9D 03 02   			sta	VDC_DH, x		; 6
 2158                        	
 2159    02:D97B  E6 EC      			inc.l	<_bp			; 6
 2160    02:D97D  D0 02      			bne	!+			; 2/4
 2161    02:D97F  E6 ED      			inc.h	<_bp			; 6
 2162                        	
 2163    02:D981  C6 00      	!:		dec	<map_count		; 6
 2164    02:D983  D0 D1      			bne	!repeat-		; 4
 2165                        	
 2166    02:D985  60         	!end:		rts
 2167                        	
 2168                        			; btm horizontal (32+2 rept)
 2169                        			;
 2170                        			; 89 cycles per block * 17 -> 1513 cycles
 2171                        	
 2172    02:D986  B2 EC      	!repeat:	lda	[_bp]		; 7
 2173    02:D988  A8         			tay				; 2
 2174                        	
 2175    02:D989  B9 00 5A   	b5800_btm_even:	lda	BLK_5800_BL_L, y	; 5
 2176    02:D98C  9D 02 02   			sta	VDC_DL, x		; 6
 2177    02:D98F  B9 00 5E   			lda	BLK_5800_BL_H, y	; 5
 2178               0001     		.if	BLKDEF_CHR_FLAG
 2179    02:D992  29 F3      			and	#%11110011		; 2
 2180                        		.endif
 2181    02:D994  1A         			inc	a			; 2
 2182    02:D995  9D 03 02   			sta	VDC_DH, x		; 6
 2183                        	
 2184    02:D998  C6 00      			dec	<map_count		; 6
 2185    02:D99A  F0 19      			beq	!end+			; 2
 2186                        	
 2187    02:D99C  B9 00 5B   	b5800_btm_odd:	lda	BLK_5800_BR_L, y	; 5
 2188    02:D99F  9D 02 02   			sta	VDC_DL, x		; 6
 2189    02:D9A2  B9 00 5F   			lda	BLK_5800_BR_H, y	; 5
 2190               0001     		.if	BLKDEF_CHR_FLAG
 2191    02:D9A5  29 F3      			and	#%11110011		; 2
 2192                        		.endif
 2193    02:D9A7  1A         			inc	a			; 2
 2194    02:D9A8  9D 03 02   			sta	VDC_DH, x		; 6
 2195                        	
 2196    02:D9AB  E6 EC      			inc.l	<_bp			; 6
 2197    02:D9AD  D0 02      			bne	!+			; 2/4
 2198    02:D9AF  E6 ED      			inc.h	<_bp			; 6
 2199                        	
 2200    02:D9B1  C6 00      	!:		dec	<map_count		; 6
 2201    02:D9B3  D0 D1      			bne	!repeat-		; 4
 2202                        	
 2203    02:D9B5  60         	!end:		rts
 2204                        	
 2205                        	
 2206                        	
 2207                        	; ***************************************************************************
 2208                        	; ***************************************************************************
 2209                        	;
 2210                        	; blk_col_strip - Draw a single column of CHR into the BAT.
 2211                        	;
 2212                        	
 2213    02:D9B6  20 48 E4   	blk_col_strip:	jsr	set_di_xy_mawr		; Set the BAT VRAM destination.
 2214                        	
 2215    02:D9B9  A5 FC      			lda	<map_chr_x		; Select what drawing code to
 2216    02:D9BB  4A         			lsr	a			; use depending upon even/odd
 2217    02:D9BC  A5 FE      			lda	<map_chr_y		; CHR coordinates (not BAT to
 2218    02:D9BE  29 01      			and	#1			; support unaligned drawing).
 2219    02:D9C0  2A         			rol	a
 2220    02:D9C1  0A         			asl	a			; N.B. Always leaves C clear.
 2221    02:D9C2  1D 01 2C   			ora.h	vdc_blk_addr, x		; What is the BLK data address?
 2222    02:D9C5  29 1E      			and	#%00011110		; $4000, $4800, $5000 or $5800.
 2223    02:D9C7  A8         			tay
 2224    02:D9C8  B9 D5 D9   			lda.h	.jump_table, y		; Push the address of the code.
 2225    02:D9CB  48         			pha
 2226    02:D9CC  B9 D4 D9   			lda.l	.jump_table, y
 2227    02:D9CF  48         			pha
 2228                        	
 2229    02:D9D0  B2 EC      			lda	[_bp]			; Get the first BLK number.
 2230    02:D9D2  A8         			tay
 2231                        	
 2232    02:D9D3  60         			rts				; Jump to the drawing code.
 2233                        	
 2234    02:D9D4  F6 D9      	.jump_table:	dw	b4000_lhs_even - 1
 2235    02:D9D6  2C DA      			dw	b4000_rhs_even - 1
 2236    02:D9D8  09 DA      			dw	b4000_lhs_odd - 1
 2237    02:D9DA  3F DA      			dw	b4000_rhs_odd - 1
 2238                        	
 2239    02:D9DC  62 DA      			dw	b4800_lhs_even - 1
 2240    02:D9DE  98 DA      			dw	b4800_rhs_even - 1
 2241    02:D9E0  75 DA      			dw	b4800_lhs_odd - 1
 2242    02:D9E2  AB DA      			dw	b4800_rhs_odd - 1
 2243                        	
 2244    02:D9E4  CE DA      			dw	b5000_lhs_even - 1
 2245    02:D9E6  04 DB      			dw	b5000_rhs_even - 1
 2246    02:D9E8  E1 DA      			dw	b5000_lhs_odd - 1
 2247    02:D9EA  17 DB      			dw	b5000_rhs_odd - 1
 2248                        	
 2249    02:D9EC  3A DB      			dw	b5800_lhs_even - 1
 2250    02:D9EE  70 DB      			dw	b5800_rhs_even - 1
 2251    02:D9F0  4D DB      			dw	b5800_lhs_odd - 1
 2252    02:D9F2  83 DB      			dw	b5800_rhs_odd - 1
 2253                        	
 2254                        			; lhs vertical (28+2 rept)
 2255                        			;
 2256                        			; N.B. C is always clear on entry.
 2257                        			;
 2258                        			; 100 cycles per block * 15 -> 1500 cycles
 2259                        	
 2260    02:D9F4  B2 EC      	!repeat:	lda	[_bp]			; 7
 2261    02:D9F6  A8         			tay				; 2
 2262                        	
 2263    02:D9F7  B9 00 40   	b4000_lhs_even:	lda	BLK_4000_TL_L, y	; 5
 2264    02:D9FA  9D 02 02   			sta	VDC_DL, x		; 6
 2265    02:D9FD  B9 00 44   			lda	BLK_4000_TL_H, y	; 5
 2266               0001     		.if	BLKDEF_CHR_FLAG
 2267    02:DA00  29 F3      			and	#%11110011		; 2
 2268                        		.endif
 2269    02:DA02  1A         			inc	a			; 2
 2270    02:DA03  9D 03 02   			sta	VDC_DH, x		; 6
 2271                        	
 2272    02:DA06  C6 00      			dec	<map_count		; 6
 2273    02:DA08  F0 1F      			beq	!end+			; 2
 2274                        	
 2275    02:DA0A  B9 00 42   	b4000_lhs_odd:	lda	BLK_4000_BL_L, y	; 5
 2276    02:DA0D  9D 02 02   			sta	VDC_DL, x		; 6
 2277    02:DA10  B9 00 46   			lda	BLK_4000_BL_H, y	; 5
 2278               0001     		.if	BLKDEF_CHR_FLAG
 2279    02:DA13  29 F3      			and	#%11110011		; 2
 2280                        		.endif
 2281    02:DA15  1A         			inc	a			; 2
 2282    02:DA16  9D 03 02   			sta	VDC_DH, x		; 6
 2283                        	
 2284    02:DA19  BD C6 26   			lda	vdc_map_line_w, x	; 5
 2285    02:DA1C  65 EC      			adc.l	<_bp			; 4
 2286    02:DA1E  85 EC      			sta.l	<_bp			; 4
 2287    02:DA20  90 03      			bcc	!+			; 2/4
 2288    02:DA22  E6 ED      			inc.h	<_bp			; 6
 2289    02:DA24  18         			clc				; 2
 2290                        	
 2291    02:DA25  C6 00      	!:		dec	<map_count		; 6
 2292    02:DA27  D0 CB      			bne	!repeat-		; 4
 2293                        	
 2294    02:DA29  60         	!end:		rts
 2295                        	
 2296                        			; rhs vertical (28+2 rept)
 2297                        			;
 2298                        			; N.B. C is always clear on entry.
 2299                        			;
 2300                        			; 100 cycles per block * 15 -> 1500 cycles
 2301                        	
 2302    02:DA2A  B2 EC      	!repeat:	lda	[_bp]			; 7
 2303    02:DA2C  A8         			tay				; 2
 2304                        	
 2305    02:DA2D  B9 00 41   	b4000_rhs_even:	lda	BLK_4000_TR_L, y	; 5
 2306    02:DA30  9D 02 02   			sta	VDC_DL, x		; 6
 2307    02:DA33  B9 00 45   			lda	BLK_4000_TR_H, y	; 5
 2308               0001     		.if	BLKDEF_CHR_FLAG
 2309    02:DA36  29 F3      			and	#%11110011		; 2
 2310                        		.endif
 2311    02:DA38  1A         			inc	a			; 2
 2312    02:DA39  9D 03 02   			sta	VDC_DH, x		; 6
 2313                        	
 2314    02:DA3C  C6 00      			dec	<map_count		; 6
 2315    02:DA3E  F0 1F      			beq	!end+			; 2
 2316                        	
 2317    02:DA40  B9 00 43   	b4000_rhs_odd:	lda	BLK_4000_BR_L, y	; 5
 2318    02:DA43  9D 02 02   			sta	VDC_DL, x		; 6
 2319    02:DA46  B9 00 47   			lda	BLK_4000_BR_H, y	; 5
 2320               0001     		.if	BLKDEF_CHR_FLAG
 2321    02:DA49  29 F3      			and	#%11110011		; 2
 2322                        		.endif
 2323    02:DA4B  1A         			inc	a			; 2
 2324    02:DA4C  9D 03 02   			sta	VDC_DH, x		; 6
 2325                        	
 2326    02:DA4F  BD C6 26   			lda	vdc_map_line_w, x	; 5
 2327    02:DA52  65 EC      			adc.l	<_bp			; 4
 2328    02:DA54  85 EC      			sta.l	<_bp			; 4
 2329    02:DA56  90 03      			bcc	!+			; 2/4
 2330    02:DA58  E6 ED      			inc.h	<_bp			; 6
 2331    02:DA5A  18         			clc				; 2
 2332                        	
 2333    02:DA5B  C6 00      	!:		dec	<map_count		; 6
 2334    02:DA5D  D0 CB      			bne	!repeat-		; 4
 2335                        	
 2336    02:DA5F  60         	!end:		rts
 2337                        	
 2338                        			; lhs vertical (28+2 rept)
 2339                        			;
 2340                        			; N.B. C is always clear on entry.
 2341                        			;
 2342                        			; 100 cycles per block * 15 -> 1500 cycles
 2343                        	
 2344    02:DA60  B2 EC      	!repeat:	lda	[_bp]			; 7
 2345    02:DA62  A8         			tay				; 2
 2346                        	
 2347    02:DA63  B9 00 48   	b4800_lhs_even:	lda	BLK_4800_TL_L, y	; 5
 2348    02:DA66  9D 02 02   			sta	VDC_DL, x		; 6
 2349    02:DA69  B9 00 4C   			lda	BLK_4800_TL_H, y	; 5
 2350               0001     		.if	BLKDEF_CHR_FLAG
 2351    02:DA6C  29 F3      			and	#%11110011		; 2
 2352                        		.endif
 2353    02:DA6E  1A         			inc	a			; 2
 2354    02:DA6F  9D 03 02   			sta	VDC_DH, x		; 6
 2355                        	
 2356    02:DA72  C6 00      			dec	<map_count		; 6
 2357    02:DA74  F0 1F      			beq	!end+			; 2
 2358                        	
 2359    02:DA76  B9 00 4A   	b4800_lhs_odd:	lda	BLK_4800_BL_L, y	; 5
 2360    02:DA79  9D 02 02   			sta	VDC_DL, x		; 6
 2361    02:DA7C  B9 00 4E   			lda	BLK_4800_BL_H, y	; 5
 2362               0001     		.if	BLKDEF_CHR_FLAG
 2363    02:DA7F  29 F3      			and	#%11110011		; 2
 2364                        		.endif
 2365    02:DA81  1A         			inc	a			; 2
 2366    02:DA82  9D 03 02   			sta	VDC_DH, x		; 6
 2367                        	
 2368    02:DA85  BD C6 26   			lda	vdc_map_line_w, x	; 5
 2369    02:DA88  65 EC      			adc.l	<_bp			; 4
 2370    02:DA8A  85 EC      			sta.l	<_bp			; 4
 2371    02:DA8C  90 03      			bcc	!+			; 2/4
 2372    02:DA8E  E6 ED      			inc.h	<_bp			; 6
 2373    02:DA90  18         			clc				; 2
 2374                        	
 2375    02:DA91  C6 00      	!:		dec	<map_count		; 6
 2376    02:DA93  D0 CB      			bne	!repeat-		; 4
 2377                        	
 2378    02:DA95  60         	!end:		rts
 2379                        	
 2380                        			; rhs vertical (28+2 rept)
 2381                        			;
 2382                        			; N.B. C is always clear on entry.
 2383                        			;
 2384                        			; 100 cycles per block * 15 -> 1500 cycles
 2385                        	
 2386    02:DA96  B2 EC      	!repeat:	lda	[_bp]			; 7
 2387    02:DA98  A8         			tay				; 2
 2388                        	
 2389    02:DA99  B9 00 49   	b4800_rhs_even:	lda	BLK_4800_TR_L, y	; 5
 2390    02:DA9C  9D 02 02   			sta	VDC_DL, x		; 6
 2391    02:DA9F  B9 00 4D   			lda	BLK_4800_TR_H, y	; 5
 2392               0001     		.if	BLKDEF_CHR_FLAG
 2393    02:DAA2  29 F3      			and	#%11110011		; 2
 2394                        		.endif
 2395    02:DAA4  1A         			inc	a			; 2
 2396    02:DAA5  9D 03 02   			sta	VDC_DH, x		; 6
 2397                        	
 2398    02:DAA8  C6 00      			dec	<map_count		; 6
 2399    02:DAAA  F0 1F      			beq	!end+			; 2
 2400                        	
 2401    02:DAAC  B9 00 4B   	b4800_rhs_odd:	lda	BLK_4800_BR_L, y	; 5
 2402    02:DAAF  9D 02 02   			sta	VDC_DL, x		; 6
 2403    02:DAB2  B9 00 4F   			lda	BLK_4800_BR_H, y	; 5
 2404               0001     		.if	BLKDEF_CHR_FLAG
 2405    02:DAB5  29 F3      			and	#%11110011		; 2
 2406                        		.endif
 2407    02:DAB7  1A         			inc	a			; 2
 2408    02:DAB8  9D 03 02   			sta	VDC_DH, x		; 6
 2409                        	
 2410    02:DABB  BD C6 26   			lda	vdc_map_line_w, x	; 5
 2411    02:DABE  65 EC      			adc.l	<_bp			; 4
 2412    02:DAC0  85 EC      			sta.l	<_bp			; 4
 2413    02:DAC2  90 03      			bcc	!+			; 2/4
 2414    02:DAC4  E6 ED      			inc.h	<_bp			; 6
 2415    02:DAC6  18         			clc				; 2
 2416                        	
 2417    02:DAC7  C6 00      	!:		dec	<map_count		; 6
 2418    02:DAC9  D0 CB      			bne	!repeat-		; 4
 2419                        	
 2420    02:DACB  60         	!end:		rts
 2421                        	
 2422                        			; lhs vertical (28+2 rept)
 2423                        			;
 2424                        			; N.B. C is always clear on entry.
 2425                        			;
 2426                        			; 100 cycles per block * 15 -> 1500 cycles
 2427                        	
 2428    02:DACC  B2 EC      	!repeat:	lda	[_bp]			; 7
 2429    02:DACE  A8         			tay				; 2
 2430                        	
 2431    02:DACF  B9 00 50   	b5000_lhs_even:	lda	BLK_5000_TL_L, y	; 5
 2432    02:DAD2  9D 02 02   			sta	VDC_DL, x		; 6
 2433    02:DAD5  B9 00 54   			lda	BLK_5000_TL_H, y	; 5
 2434               0001     		.if	BLKDEF_CHR_FLAG
 2435    02:DAD8  29 F3      			and	#%11110011		; 2
 2436                        		.endif
 2437    02:DADA  1A         			inc	a			; 2
 2438    02:DADB  9D 03 02   			sta	VDC_DH, x		; 6
 2439                        	
 2440    02:DADE  C6 00      			dec	<map_count		; 6
 2441    02:DAE0  F0 1F      			beq	!end+			; 2
 2442                        	
 2443    02:DAE2  B9 00 52   	b5000_lhs_odd:	lda	BLK_5000_BL_L, y	; 5
 2444    02:DAE5  9D 02 02   			sta	VDC_DL, x		; 6
 2445    02:DAE8  B9 00 56   			lda	BLK_5000_BL_H, y	; 5
 2446               0001     		.if	BLKDEF_CHR_FLAG
 2447    02:DAEB  29 F3      			and	#%11110011		; 2
 2448                        		.endif
 2449    02:DAED  1A         			inc	a			; 2
 2450    02:DAEE  9D 03 02   			sta	VDC_DH, x		; 6
 2451                        	
 2452    02:DAF1  BD C6 26   			lda	vdc_map_line_w, x	; 5
 2453    02:DAF4  65 EC      			adc.l	<_bp			; 4
 2454    02:DAF6  85 EC      			sta.l	<_bp			; 4
 2455    02:DAF8  90 03      			bcc	!+			; 2/4
 2456    02:DAFA  E6 ED      			inc.h	<_bp			; 6
 2457    02:DAFC  18         			clc				; 2
 2458                        	
 2459    02:DAFD  C6 00      	!:		dec	<map_count		; 6
 2460    02:DAFF  D0 CB      			bne	!repeat-		; 4
 2461                        	
 2462    02:DB01  60         	!end:		rts
 2463                        	
 2464                        			; rhs vertical (28+2 rept)
 2465                        			;
 2466                        			; N.B. C is always clear on entry.
 2467                        			;
 2468                        			; 100 cycles per block * 15 -> 1500 cycles
 2469                        	
 2470    02:DB02  B2 EC      	!repeat:	lda	[_bp]			; 7
 2471    02:DB04  A8         			tay				; 2
 2472                        	
 2473    02:DB05  B9 00 51   	b5000_rhs_even:	lda	BLK_5000_TR_L, y	; 5
 2474    02:DB08  9D 02 02   			sta	VDC_DL, x		; 6
 2475    02:DB0B  B9 00 55   			lda	BLK_5000_TR_H, y	; 5
 2476               0001     		.if	BLKDEF_CHR_FLAG
 2477    02:DB0E  29 F3      			and	#%11110011		; 2
 2478                        		.endif
 2479    02:DB10  1A         			inc	a			; 2
 2480    02:DB11  9D 03 02   			sta	VDC_DH, x		; 6
 2481                        	
 2482    02:DB14  C6 00      			dec	<map_count		; 6
 2483    02:DB16  F0 1F      			beq	!end+			; 2
 2484                        	
 2485    02:DB18  B9 00 53   	b5000_rhs_odd:	lda	BLK_5000_BR_L, y	; 5
 2486    02:DB1B  9D 02 02   			sta	VDC_DL, x		; 6
 2487    02:DB1E  B9 00 57   			lda	BLK_5000_BR_H, y	; 5
 2488               0001     		.if	BLKDEF_CHR_FLAG
 2489    02:DB21  29 F3      			and	#%11110011		; 2
 2490                        		.endif
 2491    02:DB23  1A         			inc	a			; 2
 2492    02:DB24  9D 03 02   			sta	VDC_DH, x		; 6
 2493                        	
 2494    02:DB27  BD C6 26   			lda	vdc_map_line_w, x	; 5
 2495    02:DB2A  65 EC      			adc.l	<_bp			; 4
 2496    02:DB2C  85 EC      			sta.l	<_bp			; 4
 2497    02:DB2E  90 03      			bcc	!+			; 2/4
 2498    02:DB30  E6 ED      			inc.h	<_bp			; 6
 2499    02:DB32  18         			clc				; 2
 2500                        	
 2501    02:DB33  C6 00      	!:		dec	<map_count		; 6
 2502    02:DB35  D0 CB      			bne	!repeat-		; 4
 2503                        	
 2504    02:DB37  60         	!end:		rts
 2505                        	
 2506                        			; lhs vertical (28+2 rept)
 2507                        			;
 2508                        			; N.B. C is always clear on entry.
 2509                        			;
 2510                        			; 100 cycles per block * 15 -> 1500 cycles
 2511                        	
 2512    02:DB38  B2 EC      	!repeat:	lda	[_bp]			; 7
 2513    02:DB3A  A8         			tay				; 2
 2514                        	
 2515    02:DB3B  B9 00 58   	b5800_lhs_even:	lda	BLK_5800_TL_L, y	; 5
 2516    02:DB3E  9D 02 02   			sta	VDC_DL, x		; 6
 2517    02:DB41  B9 00 5C   			lda	BLK_5800_TL_H, y	; 5
 2518               0001     		.if	BLKDEF_CHR_FLAG
 2519    02:DB44  29 F3      			and	#%11110011		; 2
 2520                        		.endif
 2521    02:DB46  1A         			inc	a			; 2
 2522    02:DB47  9D 03 02   			sta	VDC_DH, x		; 6
 2523                        	
 2524    02:DB4A  C6 00      			dec	<map_count		; 6
 2525    02:DB4C  F0 1F      			beq	!end+			; 2
 2526                        	
 2527    02:DB4E  B9 00 5A   	b5800_lhs_odd:	lda	BLK_5800_BL_L, y	; 5
 2528    02:DB51  9D 02 02   			sta	VDC_DL, x		; 6
 2529    02:DB54  B9 00 5E   			lda	BLK_5800_BL_H, y	; 5
 2530               0001     		.if	BLKDEF_CHR_FLAG
 2531    02:DB57  29 F3      			and	#%11110011		; 2
 2532                        		.endif
 2533    02:DB59  1A         			inc	a			; 2
 2534    02:DB5A  9D 03 02   			sta	VDC_DH, x		; 6
 2535                        	
 2536    02:DB5D  BD C6 26   			lda	vdc_map_line_w, x	; 5
 2537    02:DB60  65 EC      			adc.l	<_bp			; 4
 2538    02:DB62  85 EC      			sta.l	<_bp			; 4
 2539    02:DB64  90 03      			bcc	!+			; 2/4
 2540    02:DB66  E6 ED      			inc.h	<_bp			; 6
 2541    02:DB68  18         			clc				; 2
 2542                        	
 2543    02:DB69  C6 00      	!:		dec	<map_count		; 6
 2544    02:DB6B  D0 CB      			bne	!repeat-		; 4
 2545                        	
 2546    02:DB6D  60         	!end:		rts
 2547                        	
 2548                        			; rhs vertical (28+2 rept)
 2549                        			;
 2550                        			; N.B. C is always clear on entry.
 2551                        			;
 2552                        			; 100 cycles per block * 15 -> 1500 cycles
 2553                        	
 2554    02:DB6E  B2 EC      	!repeat:	lda	[_bp]			; 7
 2555    02:DB70  A8         			tay				; 2
 2556                        	
 2557    02:DB71  B9 00 59   	b5800_rhs_even:	lda	BLK_5800_TR_L, y	; 5
 2558    02:DB74  9D 02 02   			sta	VDC_DL, x		; 6
 2559    02:DB77  B9 00 5D   			lda	BLK_5800_TR_H, y	; 5
 2560               0001     		.if	BLKDEF_CHR_FLAG
 2561    02:DB7A  29 F3      			and	#%11110011		; 2
 2562                        		.endif
 2563    02:DB7C  1A         			inc	a			; 2
 2564    02:DB7D  9D 03 02   			sta	VDC_DH, x		; 6
 2565                        	
 2566    02:DB80  C6 00      			dec	<map_count		; 6
 2567    02:DB82  F0 1F      			beq	!end+			; 2
 2568                        	
 2569    02:DB84  B9 00 5B   	b5800_rhs_odd:	lda	BLK_5800_BR_L, y	; 5
 2570    02:DB87  9D 02 02   			sta	VDC_DL, x		; 6
 2571    02:DB8A  B9 00 5F   			lda	BLK_5800_BR_H, y	; 5
 2572               0001     		.if	BLKDEF_CHR_FLAG
 2573    02:DB8D  29 F3      			and	#%11110011		; 2
 2574                        		.endif
 2575    02:DB8F  1A         			inc	a			; 2
 2576    02:DB90  9D 03 02   			sta	VDC_DH, x		; 6
 2577                        	
 2578    02:DB93  BD C6 26   			lda	vdc_map_line_w, x	; 5
 2579    02:DB96  65 EC      			adc.l	<_bp			; 4
 2580    02:DB98  85 EC      			sta.l	<_bp			; 4
 2581    02:DB9A  90 03      			bcc	!+			; 2/4
 2582    02:DB9C  E6 ED      			inc.h	<_bp			; 6
 2583    02:DB9E  18         			clc				; 2
 2584                        	
 2585    02:DB9F  C6 00      	!:		dec	<map_count		; 6
 2586    02:DBA1  D0 CB      			bne	!repeat-		; 4
 2587                        	
 2588    02:DBA3  60         	!end:		rts
 2589                        	
 2590                        		.endif	BLKDEF_POINTERS
 2591                        	
 2592                        		.endprocgroup	; blkmap_group
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   77                        		.else
   81                        		.endif	HUCC_USES_BLKMAP
   82                        	
   83               0001     		.ifdef	HUCC_USES_CHRMAP		; Set in hucc_chrmap.h
                             #[3]   "..\..\..\include\hucc\chrmap.asm"
   84                        			include	"chrmap.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; chrmap.asm
    5                        	;
    6                        	; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
    7                        	;
    8                        	; Copyright John Brandwood 2025.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
   18                        	;
   19                        	; The maximum total size for a chrmap is 16KBytes, which allows for maps up
   20                        	; to 256x32 tiles (2048x256 pixels).
   21                        	;
   22                        	; ***************************************************************************
   23                        	; ***************************************************************************
   24                        	
   25                        	;
   26                        	; Include dependancies ...
   27                        	;
   28                        	
   29                        			include "blkmap.asm"		; This defines the variables.
   30                        	
   31                        	;
   32                        	; Chrmaps in BAT format normally address all of VRAM from $0400..$7FFF, but
   33                        	; they can be limited to use the 32KByte of characters in VRAM $1000..$4FFF
   34                        	; which then frees up 2-bits for flag information for each character in the
   35                        	; BAT entry.
   36                        	;
   37                        	; These 2-bits are perfect for using as collision information in game maps,
   38                        	; allowing storage of states like transparent, solid, up-slope, down-slope.
   39                        	;
   40                        	; Typically this flag information is set by the map conversion tools from a
   41                        	; seperate "collision" map layer.
   42                        	;
   43                        	
   44               0000     		.ifndef	CHRMAP_BAT_FLAG
   46                        		.endif
   47                        	
   48                        	;
   49                        	;
   50                        	;
   51                        	
   52                        	
   53                        	
   54    1E:CE3C             	chrmap_group	.procgroup
   55                        	
   56                        	; ***************************************************************************
   57                        	; ***************************************************************************
   58                        	;
   59                        	; _draw_bat - Draw the entire screen at the current coordinates.
   60                        	; _sgx_draw_bat - Draw the entire screen at the current coordinates.
   61                        	;
   62                        	; void __fastcall draw_bat( void );
   63                        	; void __fastcall sgx_draw_bat( void );
   64                        	;
   65                        	
   66               0001     		.if	SUPPORT_SGX
   67                        	
   68                        	_sgx_draw_bat	.proc
   74                        			.endp
   75                        		.endif
   76                        	
   77    1E:CE3C             	_draw_bat	.proc
   78                        	
   79    1E:CE3C  82         			clx				; Offset to PCE VDC.
   80                        	
   81    1E:CE3D  43 08      			tma3				; Preserve MPR3..MPR5.
   82    1E:CE3F  48         			pha
   83    1E:CE40  43 10      			tma4
   84    1E:CE42  48         			pha
   85    1E:CE43  43 20      			tma5
   86    1E:CE45  48         			pha
   87                        	
   88    1E:CE46  20 E9 CE   			jsr	bat_pxl_2_chr		; Set up the draw coordinates.
   89                        	
   90    1E:CE49  A5 FC      			lda	<map_chr_x		; Reset previous X position.
   91    1E:CE4B  9D FB 2B   			sta	vdc_old_chr_x, x
   92                        	
   93    1E:CE4E  A5 FE      			lda	<map_chr_y		; Reset previous Y position,
   94    1E:CE50  1A         			inc	a			; ready to draw rows upwards.
   95    1E:CE51  9D FC 2B   			sta	vdc_old_chr_y, x
   96                        	
   97    1E:CE54  BD C4 26   			lda	vdc_map_draw_w, x	; Draw the whole screen.
   98    1E:CE57  85 FA      			sta	<map_draw_w
   99    1E:CE59  BD C5 26   			lda	vdc_map_draw_h, x
  100    1E:CE5C  85 FB      			sta	<map_draw_h
  101                        	
  102    1E:CE5E  20 CC CF   			jsr	bat_scroll_y		; Draw N row of CHR to the BAT.
  103                        	
  104    1E:CE61  68         			pla				; Restore MPR3..MPR5.
  105    1E:CE62  53 20      			tam5
  106    1E:CE64  68         			pla
  107    1E:CE65  53 10      			tam4
  108    1E:CE67  68         			pla
  109    1E:CE68  53 08      			tam3
  110                        	
  111                        			leave
         1E:CE6A  4C EF FF   			jmp	leave_proc
  112                        	
  113                        			.endp
  114                        	
  115                        	
  116                        	
  117                        	; ***************************************************************************
  118                        	; ***************************************************************************
  119                        	;
  120                        	; _scroll_bat - Draw a single row of CHR into the BAT to update the edge.
  121                        	; _sgx_scroll_bat - Draw a single row of CHR into the BAT to update the edge.
  122                        	;
  123                        	; void __fastcall scroll_bat( void );
  124                        	; void __fastcall sgx_scroll_bat( void );
  125                        	;
  126                        	
  127               0001     		.if	SUPPORT_SGX
  128                        	
  129                        	_sgx_scroll_bat	.proc
  135                        			.endp
  136                        		.endif
  137                        	
  138    1E:CE6D             	_scroll_bat	.proc
  139                        	
  140    1E:CE6D  82         			clx				; Offset to PCE VDC.
  141                        	
  142    1E:CE6E  43 08      			tma3				; Preserve MPR3..MPR5.
  143    1E:CE70  48         			pha
  144    1E:CE71  43 10      			tma4
  145    1E:CE73  48         			pha
  146    1E:CE74  43 20      			tma5
  147    1E:CE76  48         			pha
  148                        	
  149    1E:CE77  20 E9 CE   			jsr	bat_pxl_2_chr		; Set up the draw coordinates.
  150                        	
  151    1E:CE7A  BD C5 26   			lda	vdc_map_draw_h, x	; Draw new LHS or RHS if needed.
  152    1E:CE7D  85 FB      			sta	<map_draw_h
  153                        	;		lda	#1			; bat_scroll_x only ever draws a
  154                        	;		sta	<map_draw_w		; single column.
  155    1E:CE7F  20 0D CF   			jsr	bat_scroll_x
  156                        	
  157    1E:CE82  BD FB 2B   			lda	vdc_old_chr_x, x	; Restore map_chr_x which could
  158    1E:CE85  85 FC      			sta	<map_chr_x		; be changed by bat_scroll_x.
  159                        	
  160    1E:CE87  BD C4 26   			lda	vdc_map_draw_w, x	; Draw new TOP or BTM if needed.
  161    1E:CE8A  85 FA      			sta	<map_draw_w
  162    1E:CE8C  A9 01      			lda	#1
  163    1E:CE8E  85 FB      			sta	<map_draw_h
  164    1E:CE90  20 CC CF   			jsr	bat_scroll_y
  165                        	
  166    1E:CE93  68         			pla				; Restore MPR3..MPR5.
  167    1E:CE94  53 20      			tam5
  168    1E:CE96  68         			pla
  169    1E:CE97  53 10      			tam4
  170    1E:CE99  68         			pla
  171    1E:CE9A  53 08      			tam3
  172                        	
  173                        			leave
         1E:CE9C  4C EF FF   			jmp	leave_proc
  174                        	
  175                        			.endp
  176                        	
  177                        	
  178                        	
  179                        	; ***************************************************************************
  180                        	; ***************************************************************************
  181                        	;
  182                        	; _blit_bat - Draw a map rectangle to specific BAT coordinates.
  183                        	; _sgx_blit_bat - Draw a map rectangle to specific BAT coordinates.
  184                        	;
  185                        	; void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
  186                        	; void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
  187                        	;
  188                        	; Normally you'd just use _draw_bat() and _scroll_bat(), but for those folks
  189                        	; who really wish to take manual control, you can use this.
  190                        	;
  191                        	
  192               0001     		.if	SUPPORT_SGX
  193                        	
  194                        	_sgx_blit_bat	.proc
  200                        			.endp
  201                        		.endif
  202                        	
  203    1E:CE9F             	_blit_bat	.proc
  204                        	
  205    1E:CE9F  82         			clx				; Offset to PCE VDC.
  206                        	
  207    1E:CEA0  43 08      			tma3				; Preserve MPR3..MPR5.
  208    1E:CEA2  48         			pha
  209    1E:CEA3  43 10      			tma4
  210    1E:CEA5  48         			pha
  211    1E:CEA6  43 20      			tma5
  212    1E:CEA8  48         			pha
  213                        	
  214    1E:CEA9  BD CC 26   			lda	vdc_map_option, x	; Preserve current map options.
  215    1E:CEAC  48         			pha
  216    1E:CEAD  09 C0      			ora	#MAP_UNALIGNED_X | MAP_UNALIGNED_Y
  217    1E:CEAF  9D CC 26   			sta	vdc_map_option, x
  218                        	
  219    1E:CEB2  20 E9 CE   			jsr	bat_pxl_2_chr		; Set up the draw coordinates.
  220                        	
  221    1E:CEB5  A5 FA      			lda	<map_draw_w		; Are we drawing just 1 column?
  222    1E:CEB7  C9 01      			cmp	#1
  223    1E:CEB9  F0 1E      			beq	.draw_column
  224                        	
  225                        			; Draw N rows.
  226                        	
  227    1E:CEBB  A5 FC      	.draw_rows:	lda	<map_chr_x		; Reset previous X position.
  228    1E:CEBD  9D FB 2B   			sta	vdc_old_chr_x, x
  229                        	
  230    1E:CEC0  A5 FE      			lda	<map_chr_y		; Reset previous Y position,
  231    1E:CEC2  1A         			inc	a			; ready to draw rows upwards.
  232    1E:CEC3  9D FC 2B   			sta	vdc_old_chr_y, x
  233                        	
  234    1E:CEC6  20 CC CF   			jsr	bat_scroll_y		; Draw a row of CHR to the BAT.
  235                        	
  236                        			; Drawing completed.
  237                        	
  238    1E:CEC9  68         	.finished:	pla				; Restore previous map options.
  239    1E:CECA  9D CC 26   			sta	vdc_map_option, x
  240                        	
  241    1E:CECD  68         			pla				; Restore MPR3..MPR5.
  242    1E:CECE  53 20      			tam5
  243    1E:CED0  68         			pla
  244    1E:CED1  53 10      			tam4
  245    1E:CED3  68         			pla
  246    1E:CED4  53 08      			tam3
  247                        	
  248                        	.exit:		leave
         1E:CED6  4C EF FF   			jmp	leave_proc
  249                        	
  250                        			; Draw 1 column.
  251                        	
  252    1E:CED9  A5 FC      	.draw_column:	lda	<map_chr_x		; Reset previous X position.
  253    1E:CEDB  1A         			inc	a			; ready to draw 1 column.
  254    1E:CEDC  9D FB 2B   			sta	vdc_old_chr_x, x
  255                        	
  256    1E:CEDF  A5 FE      			lda	<map_chr_y		; Reset previous Y position.
  257    1E:CEE1  9D FC 2B   			sta	vdc_old_chr_y, x
  258                        	
  259    1E:CEE4  20 0D CF   			jsr	bat_scroll_x		; Draw a single column of CHR.
  260                        	
  261    1E:CEE7  80 E0      			bra	.finished
  262                        	
  263                        			.endp
  264                        	
  265                        	
  266                        	
  267                        	; ***************************************************************************
  268                        	; ***************************************************************************
  269                        	;
  270                        	
  271    1E:CEE9  BD C8 26   	bat_pxl_2_chr:	lda.l	vdc_map_pxl_x, x	; Get current map X coordinate.
  272    1E:CEEC  85 FC      			sta.l	<map_pxl_x
  273    1E:CEEE  BD C9 26   			lda.h	vdc_map_pxl_x, x	; Xvert map_pxl_x to map_chr_x.
  274    1E:CEF1  4A         			lsr	a
  275    1E:CEF2  66 FC      			ror.l	<map_pxl_x
  276    1E:CEF4  4A         			lsr	a
  277    1E:CEF5  66 FC      			ror.l	<map_pxl_x
  278    1E:CEF7  4A         			lsr	a
  279    1E:CEF8  66 FC      			ror.l	<map_pxl_x		; Max map width is 256 CHR.
  280                        	
  281    1E:CEFA  BD CA 26   			lda.l	vdc_map_pxl_y, x	; Get current map Y coordinate.
  282    1E:CEFD  85 FE      			sta.l	<map_pxl_y
  283    1E:CEFF  BD CB 26   			lda.h	vdc_map_pxl_y, x	; Xvert map_pxl_y to map_chr_y.
  284    1E:CF02  4A         			lsr	a
  285    1E:CF03  66 FE      			ror.l	<map_pxl_y
  286    1E:CF05  4A         			lsr	a
  287    1E:CF06  66 FE      			ror.l	<map_pxl_y
  288    1E:CF08  4A         			lsr	a
  289    1E:CF09  66 FE      			ror.l	<map_pxl_y		; Max map width is 256 CHR.
  290                        	
  291    1E:CF0B  60         			rts
  292                        	
  293                        	
  294                        	
  295                        	; ***************************************************************************
  296                        	; ***************************************************************************
  297                        	;
  298                        	; bat_scroll_x - Update the BAT when X coordinate changes.
  299                        	;
  300                        	; N.B. This only ever draws a single column!
  301                        	;
  302                        	
  303    1E:CF0C  60         	!no_change:	rts
  304                        	
  305    1E:CF0D  A5 FC      	bat_scroll_x:	lda	<map_chr_x		; Compare old_x with cur_x.
  306    1E:CF0F  DD FB 2B   			cmp	vdc_old_chr_x, x
  307    1E:CF12  F0 F8      			beq	!no_change-		; Do nothing if no change.
  308    1E:CF14  9D FB 2B   			sta	vdc_old_chr_x, x
  309    1E:CF17  30 05      			bmi	.moved			; Test the sign of the change.
  310                        	
  311    1E:CF19  18         			clc				; Draw RHS if chr_x >= old_x.
  312    1E:CF1A  7D C4 26   			adc	vdc_map_draw_w, x	; Usually (SCR_WIDTH / 8) + 1.
  313    1E:CF1D  3A         			dec	a
  314                        	
  315    1E:CF1E  48         	.moved:		pha				; Push chr_x in map section.
  316                        	
  317    1E:CF1F  3C CC 26   			bit	vdc_map_option, x	; Set bit7 to disable aligning
  318    1E:CF22  30 05      			bmi	!+			; BAT X with the map X.
  319    1E:CF24  3D C1 26   			and	vdc_bat_x_mask, x
  320    1E:CF27  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
  321                        	
  322    1E:CF29  A5 FE      	!:		lda	<map_chr_y		; Y = chr_y in map section.
  323    1E:CF2B  A8         			tay
  324                        	
  325    1E:CF2C  3C CC 26   			bit	vdc_map_option, x	; Set bit6 to disable aligning
  326    1E:CF2F  70 05      			bvs	!+			; BAT Y with the map Y.
  327    1E:CF31  3D C2 26   			and	vdc_bat_y_mask, x
  328    1E:CF34  85 F9      			sta	<map_bat_y		; Save BAT Y chr coordinate.
  329                        	
  330               0000     		.if	FAST_MULTIPLY
  333                        		.endif
  334                        	
  335    1E:CF36  BD C6 26   	!:		lda	vdc_map_line_w, x	; Map width in CHR (0 == 256).
  336    1E:CF39  D0 05      			bne	!+
  337                        	
  338    1E:CF3B  64 EE      			stz.l	<map_line		; Multiply by 256 is easy!
  339    1E:CF3D  98         			tya
  340    1E:CF3E  80 15      			bra	.double
  341                        	
  342               0000     		.if	FAST_MULTIPLY
  354                        		.else
  355    1E:CF40  84 EF      	!:		sty.h	<map_line		; Takes 144..176 cycles.
  356    1E:CF42  A0 08      			ldy	#8
  357    1E:CF44  4A         			lsr	a
  358    1E:CF45  85 EE      			sta.l	<map_line
  359    1E:CF47  62         			cla
  360    1E:CF48  90 03      			bcc	.rotate
  361    1E:CF4A  18         	.add:		clc
  362    1E:CF4B  65 EF      			adc.h	<map_line
  363    1E:CF4D  6A         	.rotate:	ror	a
  364    1E:CF4E  66 EE      			ror.l	<map_line		; Lo-byte of (CHR Y * width).
  365    1E:CF50  88         			dey
  366    1E:CF51  B0 F7      			bcs	.add
  367    1E:CF53  D0 F8      			bne	.rotate
  368                        		.endif
  369                        	
  370    1E:CF55  06 EE      	.double:	asl.l	<map_line		; Lo-byte of (CHR Y * width * 2).
  371    1E:CF57  2A         			rol	a
  372    1E:CF58  A8         			tay				; Hi-byte of (CHR Y * width * 2).
  373                        	
  374    1E:CF59  BD 05 2C   			lda	vdc_map_bank, x		; Put the MAP into MPR3-MPR5.
  375    1E:CF5C  53 08      			tam3				; Allow for 16KByte chrmap.
  376    1E:CF5E  1A         			inc	a
  377    1E:CF5F  53 10      			tam4
  378    1E:CF61  1A         			inc	a
  379    1E:CF62  53 20      			tam5
  380                        	
  381    1E:CF64  68         			pla				; Pop chr_x in map section.
  382    1E:CF65  0A         			asl	a			; 2-bytes for a BAT value.
  383    1E:CF66  90 02      			bcc	!+
  384    1E:CF68  C8         			iny				; Hi-byte of (CHR Y * width * 2).
  385    1E:CF69  18         			clc
  386    1E:CF6A  65 EE      	!:		adc.l	<map_line		; Lo-byte of (CHR Y * width * 2).
  387    1E:CF6C  90 01      			bcc	!+
  388    1E:CF6E  C8         			iny
  389                        	
  390    1E:CF6F  18         	!:		clc				; Calc map data pointer.
  391    1E:CF70  7D 03 2C   			adc.l	vdc_map_addr, x
  392    1E:CF73  85 EC      			sta.l	<_bp			; Maximum map size is 16KBytes
  393    1E:CF75  98         			tya				; so we don't need to consider
  394    1E:CF76  7D 04 2C   			adc.h	vdc_map_addr, x		; bank overflow.
  395    1E:CF79  85 ED      			sta.h	<_bp
  396                        	
  397    1E:CF7B  C2         			cly				; Calculate the map line delta
  398    1E:CF7C  BD C6 26   			lda	vdc_map_line_w, x	; in bytes.
  399    1E:CF7F  D0 01      			bne	!+
  400    1E:CF81  C8         			iny
  401    1E:CF82  0A         	!:		asl	a
  402    1E:CF83  85 EE      			sta.l	<map_line
  403    1E:CF85  98         			tya
  404    1E:CF86  2A         			rol	a
  405    1E:CF87  85 EF      			sta.h	<map_line
  406                        	
  407                        			; Draw the first part of the column.
  408                        	
  409    1E:CF89  A5 F8      	.draw_col:	lda	<map_bat_x		; Set the BAT VRAM destination
  410    1E:CF8B  85 F0      			sta.l	<_di			; coordinates.
  411    1E:CF8D  A5 F9      			lda	<map_bat_y
  412    1E:CF8F  85 F1      			sta.h	<_di
  413                        	
  414    1E:CF91  5D C2 26   			eor	vdc_bat_y_mask, x	; Calc CHR before wrap.
  415    1E:CF94  1A         			inc	a
  416    1E:CF95  C5 FB      			cmp	<map_draw_h		; Usually (SCR_HEIGHT / 8) + 1.
  417    1E:CF97  90 02      			bcc	!+
  418    1E:CF99  A5 FB      			lda	<map_draw_h		; Maximum CHR to draw.
  419    1E:CF9B  85 00      	!:		sta	<map_count		; Set number of CHR to draw.
  420    1E:CF9D  85 01      			sta	<map_drawn		; Preserve number of CHR drawn.
  421                        	
  422    1E:CF9F  A9 05      			lda	#VDC_CR			; Set VDC auto-increment from
  423    1E:CFA1  95 F7      			sta	<vdc_reg, x		; the BAT width, which is set
  424    1E:CFA3  9D 00 02   			sta	VDC_AR, x		; up by set_screen_size().
  425    1E:CFA6  B5 F4      			lda	<vdc_crh, x
  426    1E:CFA8  9D 03 02   			sta	VDC_DH, x
  427                        	
  428    1E:CFAB  20 AD D0   			jsr	bat_col_strip		; Draw top of vertical strip.
  429                        	
  430                        			; Wrap around and draw the rest of the column (if needed).
  431                        	
  432    1E:CFAE  38         			sec				; Are there any more CHR that
  433    1E:CFAF  A5 FB      			lda	<map_draw_h		; need to be drawn?
  434    1E:CFB1  E5 01      			sbc	<map_drawn
  435    1E:CFB3  F0 0B      			beq	.done
  436                        	
  437    1E:CFB5  85 00      			sta	<map_count		; Set number of CHR to draw.
  438                        	
  439    1E:CFB7  A5 F8      			lda	<map_bat_x		; Set the BAT VRAM destination
  440    1E:CFB9  85 F0      			sta.l	<_di			; coordinates.
  441    1E:CFBB  64 F1      			stz.h	<_di			; Reset 1st row to draw.
  442                        	
  443    1E:CFBD  20 AD D0   			jsr	bat_col_strip		; Draw btm of vertical strip.
  444                        	
  445    1E:CFC0  A9 05      	.done:		lda	#VDC_CR			; Set VDC auto-increment to 1.
  446    1E:CFC2  95 F7      			sta	<vdc_reg, x
  447    1E:CFC4  9D 00 02   			sta	VDC_AR, x
  448    1E:CFC7  9E 03 02   			stz	VDC_DH, x
  449                        	
  450    1E:CFCA  60         			rts
  451                        	
  452                        	
  453                        	
  454                        	; ***************************************************************************
  455                        	; ***************************************************************************
  456                        	;
  457                        	; bat_scroll_y - Update the BAT when Y coordinate changes.
  458                        	;
  459                        	; N.B. This draws multiple rows when called from _draw_bat or _blit_bat.
  460                        	;
  461                        	
  462    1E:CFCB  60         	!no_change:	rts
  463                        	
  464    1E:CFCC  A5 FE      	bat_scroll_y:	lda	<map_chr_y		; Compare old_y with cur_y.
  465    1E:CFCE  DD FC 2B   			cmp	vdc_old_chr_y, x
  466    1E:CFD1  F0 F8      			beq	!no_change-		; Do nothing if no change.
  467    1E:CFD3  9D FC 2B   			sta	vdc_old_chr_y, x
  468    1E:CFD6  30 05      			bmi	.moved			; Test the sign of the change.
  469                        	
  470    1E:CFD8  18         			clc				; Draw bottom if chr_y >= old_y.
  471    1E:CFD9  7D C5 26   			adc	vdc_map_draw_h, x	; Usually (SCR_HEIGHT / 8) + 1.
  472    1E:CFDC  3A         			dec	a
  473                        	
  474    1E:CFDD  A8         	.moved:		tay				; Y = chr_y in map section.
  475                        	
  476    1E:CFDE  3C CC 26   			bit	vdc_map_option, x	; Set bit6 to disable aligning
  477    1E:CFE1  70 05      			bvs	!+			; BAT Y with the map Y.
  478    1E:CFE3  3D C2 26   			and	vdc_bat_y_mask, x
  479    1E:CFE6  85 F9      			sta	<map_bat_y		; Save BAT Y chr coordinate.
  480                        	
  481    1E:CFE8  3C CC 26   	!:		bit	vdc_map_option, x	; Set bit7 to disable aligning
  482    1E:CFEB  30 07      			bmi	!+			; BAT X with the map X.
  483    1E:CFED  A5 FC      			lda	<map_chr_x
  484    1E:CFEF  3D C1 26   			and	vdc_bat_x_mask, x
  485    1E:CFF2  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
  486                        	
  487               0000     		.if	FAST_MULTIPLY
  490                        		.endif
  491                        	
  492    1E:CFF4  BD C6 26   	!:		lda	vdc_map_line_w, x	; Map width in CHR (0 == 256).
  493    1E:CFF7  D0 05      			bne	!+
  494                        	
  495    1E:CFF9  64 EE      			stz.l	<map_line		; Multiply by 256 is easy!
  496    1E:CFFB  98         			tya
  497    1E:CFFC  80 15      			bra	.double
  498                        	
  499               0000     		.if	FAST_MULTIPLY
  511                        		.else
  512    1E:CFFE  84 EF      	!:		sty.h	<map_line		; Takes 144..176 cycles.
  513    1E:D000  A0 08      			ldy	#8
  514    1E:D002  4A         			lsr	a
  515    1E:D003  85 EE      			sta.l	<map_line
  516    1E:D005  62         			cla
  517    1E:D006  90 03      			bcc	.rotate
  518    1E:D008  18         	.add:		clc
  519    1E:D009  65 EF      			adc.h	<map_line
  520    1E:D00B  6A         	.rotate:	ror	a
  521    1E:D00C  66 EE      			ror.l	<map_line		; Lo-byte of (CHR Y * width).
  522    1E:D00E  88         			dey
  523    1E:D00F  B0 F7      			bcs	.add
  524    1E:D011  D0 F8      			bne	.rotate
  525                        		.endif
  526                        	
  527    1E:D013  06 EE      	.double:	asl.l	<map_line		; Lo-byte of (CHR Y * width * 2).
  528    1E:D015  2A         			rol	a
  529    1E:D016  85 EF      			sta.h	<map_line		; Hi-byte of (CHR Y * width * 2).
  530    1E:D018  A8         			tay
  531                        	
  532    1E:D019  BD 05 2C   			lda	vdc_map_bank, x		; Put the MAP into MPR3-MPR5.
  533    1E:D01C  53 08      			tam3				; Allow for 16KByte chrmap.
  534    1E:D01E  1A         			inc	a
  535    1E:D01F  53 10      			tam4
  536    1E:D021  1A         			inc	a
  537    1E:D022  53 20      			tam5
  538                        	
  539                        			; Loop to here if drawing multiple rows.
  540                        	
  541    1E:D024  A5 FC      	.next_row:	lda	<map_chr_x		; Map CHR X coordinate.
  542    1E:D026  0A         			asl	a			; 2-bytes for a BAT value!
  543    1E:D027  90 02      			bcc	!+
  544    1E:D029  C8         			iny				; Hi-byte of (CHR Y * width * 2).
  545    1E:D02A  18         			clc
  546    1E:D02B  65 EE      	!:		adc.l	<map_line		; Lo-byte of (CHR Y * width * 2).
  547    1E:D02D  90 01      			bcc	!+
  548    1E:D02F  C8         			iny
  549    1E:D030  18         	!:		clc				; Calc map data pointer.
  550    1E:D031  7D 03 2C   			adc.l	vdc_map_addr, x
  551    1E:D034  85 EC      			sta.l	<_bp			; Maximum map size is 16KBytes
  552    1E:D036  98         			tya				; so we don't need to consider
  553    1E:D037  7D 04 2C   			adc.h	vdc_map_addr, x		; bank overflow.
  554    1E:D03A  85 ED      			sta.h	<_bp
  555                        	
  556                        			; Draw the first part of the row.
  557                        	
  558    1E:D03C  A5 F9      	.draw_row:	lda	<map_bat_y		; Set the BAT VRAM destination
  559    1E:D03E  85 F1      			sta.h	<_di			; coordinates.
  560    1E:D040  A5 F8      			lda	<map_bat_x
  561    1E:D042  85 F0      			sta.l	<_di
  562                        	
  563    1E:D044  5D C1 26   			eor	vdc_bat_x_mask, x	; Calc CHR before wrap.
  564    1E:D047  1A         			inc	a
  565    1E:D048  C5 FA      			cmp	<map_draw_w		; Usually (SCR_WIDTH / 8) + 1.
  566    1E:D04A  90 02      			bcc	!+
  567    1E:D04C  A5 FA      			lda	<map_draw_w		; Maximum CHR to draw.
  568    1E:D04E  85 00      	!:		sta	<map_count		; Set number of CHR to draw.
  569    1E:D050  85 01      			sta	<map_drawn		; Preserve number of CHR drawn.
  570                        	
  571    1E:D052  20 8C D0   			jsr	bat_row_strip		; Draw lhs of horizontal strip.
  572                        	
  573                        			; Wrap around and draw the rest of the row (if needed).
  574                        	
  575    1E:D055  38         			sec				; Are there any more CHR that
  576    1E:D056  A5 FA      			lda	<map_draw_w		; need to be drawn?
  577    1E:D058  E5 01      			sbc	<map_drawn
  578    1E:D05A  F0 0B      			beq	.done_row
  579                        	
  580    1E:D05C  85 00      			sta	<map_count		; Set number of CHR to draw.
  581                        	
  582    1E:D05E  A5 F9      			lda	<map_bat_y		; Set the BAT VRAM destination
  583    1E:D060  85 F1      			sta.h	<_di			; coordinates.
  584    1E:D062  64 F0      			stz.l	<_di			; Reset 1st column to draw.
  585                        	
  586    1E:D064  20 8C D0   			jsr	bat_row_strip		; Draw rhs of horizontal strip.
  587                        	
  588    1E:D067  C6 FB      	.done_row:	dec	<map_draw_h		; Are all desired rows drawn?
  589    1E:D069  F0 20      			beq	.finished
  590                        	
  591    1E:D06B  A5 F9      			lda	<map_bat_y		; Move BAT Y down by 1.
  592    1E:D06D  1A         			inc	a
  593    1E:D06E  3D C2 26   			and	vdc_bat_y_mask, x
  594    1E:D071  85 F9      			sta	<map_bat_y
  595                        	
  596    1E:D073  A4 EF      			ldy.h	<map_line		; Move the map line pointer to
  597    1E:D075  C8         			iny				; the next line.
  598    1E:D076  BD C6 26   			lda	vdc_map_line_w, x
  599    1E:D079  F0 0B      			beq	!++			; vdc_map_line_w == 0 == 256.
  600    1E:D07B  0A         			asl	a			; 2-bytes for a BAT value!
  601    1E:D07C  B0 01      			bcs	!+
  602    1E:D07E  88         			dey				; Fix if vdc_map_line_w <= 127.
  603    1E:D07F  18         	!:		clc
  604    1E:D080  65 EE      			adc.l	<map_line
  605    1E:D082  85 EE      			sta.l	<map_line
  606    1E:D084  90 01      			bcc	!++
  607    1E:D086  C8         	!:		iny
  608    1E:D087  84 EF      	!:		sty.h	<map_line		; Needed for .next_row!
  609                        	
  610    1E:D089  80 99      			bra	.next_row		; Draw next row.
  611                        	
  612    1E:D08B  60         	.finished:	rts
  613                        	
  614                        	
  615                        	
  616                        	; ***************************************************************************
  617                        	; ***************************************************************************
  618                        	;
  619                        	; bat_row_strip - Draw a single row of CHR into the BAT.
  620                        	;
  621                        	
  622    1E:D08C  20 48 E4   	bat_row_strip:	jsr	set_di_xy_mawr		; Set the BAT VRAM destination.
  623                        	
  624    1E:D08F  C2         			cly				; 2
  625    1E:D090  B1 EC      	.repeat:	lda	[_bp], y		; 7
  626    1E:D092  9D 02 02   			sta	VDC_DL, x		; 6
  627    1E:D095  C8         			iny				; 2
  628    1E:D096  B1 EC      			lda	[_bp], y		; 7
  629               0000     		.if	CHRMAP_BAT_FLAG
  634                        		.endif
  635    1E:D098  9D 03 02   			sta	VDC_DH, x		; 6
  636    1E:D09B  C8         			iny				; 2
  637                        	
  638    1E:D09C  C6 00      	!:		dec	<map_count		; 6
  639    1E:D09E  D0 F0      			bne	.repeat			; 4
  640                        	
  641    1E:D0A0  98         			tya				; 2
  642    1E:D0A1  F0 07      			beq	!+			; 2/4
  643    1E:D0A3  18         			clc				; 2
  644    1E:D0A4  65 EC      			adc.l	<_bp			; 4
  645    1E:D0A6  85 EC      			sta.l	<_bp			; 4
  646    1E:D0A8  90 02      			bcc	.done			; 2/4
  647    1E:D0AA  E6 ED      	!:		inc.h	<_bp			; 6
  648                        	
  649    1E:D0AC  60         	.done:		rts
  650                        	
  651                        	
  652                        	
  653                        	; ***************************************************************************
  654                        	; ***************************************************************************
  655                        	;
  656                        	; bat_col_strip - Draw a single column of CHR into the BAT.
  657                        	;
  658                        	
  659    1E:D0AD  20 48 E4   	bat_col_strip:	jsr	set_di_xy_mawr		; Set the BAT VRAM destination.
  660                        	
  661    1E:D0B0  A0 01      			ldy	#1			; 2
  662    1E:D0B2  B2 EC      	.repeat:	lda	[_bp]			; 7
  663    1E:D0B4  9D 02 02   			sta	VDC_DL, x		; 6
  664    1E:D0B7  B1 EC      			lda	[_bp], y		; 7
  665               0000     		.if	CHRMAP_BAT_FLAG
  670                        		.endif
  671    1E:D0B9  9D 03 02   			sta	VDC_DH, x		; 6
  672                        	
  673    1E:D0BC  18         			clc				; 2
  674    1E:D0BD  A5 EE      			lda.l	<map_line		; 4
  675    1E:D0BF  65 EC      			adc.l	<_bp			; 4
  676    1E:D0C1  85 EC      			sta.l	<_bp			; 4
  677    1E:D0C3  A5 EF      			lda.h	<map_line		; 4
  678    1E:D0C5  65 ED      			adc.h	<_bp			; 4
  679    1E:D0C7  85 ED      			sta.h	<_bp			; 4
  680                        	
  681    1E:D0C9  C6 00      			dec	<map_count		; 6
  682    1E:D0CB  D0 E5      			bne	.repeat			; 4
  683                        	
  684    1E:D0CD  60         			rts
  685                        	
  686                        		.endprocgroup	; chrmap_group
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   85                        		.endif	HUCC_USES_CHRMAP
   86                        	
   87               0001     		.ifdef	HUCC_USES_OLD_LINE		; Set in hucc_old_line.h
                             #[3]   "..\..\..\include\hucc\hucc-old-line.asm"
   88                        			include	"hucc-old-line.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-old-line.asm
    5                        	;
    6                        	; Based on the original HuC and MagicKit functions by David Michel and the
    7                        	; other original HuC developers.
    8                        	;
    9                        	; Modifications copyright John Brandwood 2024-2025.
   10                        	;
   11                        	; Distributed under the Boost Software License, Version 1.0.
   12                        	; (See accompanying file LICENSE_1_0.txt or copy at
   13                        	;  http://www.boost.org/LICENSE_1_0.txt)
   14                        	;
   15                        	; ***************************************************************************
   16                        	; ***************************************************************************
   17                        	
   18                        	
   19                        	
   20                        	; ***************************************************************************
   21                        	; ***************************************************************************
   22                        	;
   23                        	; void __fastcall gfx_init( unsigned int start_vram_addr<_ax> );
   24                        	;
   25                        	; initialize graphics mode
   26                        	; - points graphics map to tiles at start_vram_addr
   27                        	
   28                        	_gfx_init.1	.proc
   73                        			.endp
   74                        	
   75                        	
   76                        	
   77                        	; ***************************************************************************
   78                        	; ***************************************************************************
   79                        	;
   80                        	; void __fastcall gfx_clear( unsigned int start_vram_addr<_di> );
   81                        	;
   82                        	; Clear the values in the graphics tiles
   83                        	; - places zeroes in graphics tiles at start_vram_addr
   84                        	
   85                        	_gfx_clear.1	.proc
  105                        			.endp
  106                        	
  107                        	
  108                        	
  109                        	; ***************************************************************************
  110                        	; ***************************************************************************
  111                        	;
  112                        	; void __fastcall gfx_line( unsigned int x1<_gfx_x1>, unsigned int y1<_gfx_y1>, unsigned int x2<_gfx_x2>, unsigned int y2<_gfx_y2>, unsigned char color<_gfx_color> );
  113                        	
  114                        	huc_gfx_line	.procgroup
  459                        			.endprocgroup	; huc_gfx_line
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   89                        		.endif
   90                        	
   91               0000     		.ifdef	HUCC_USES_ZX0			; Set in hucc_zx0.h
   93                        		.endif
   94                        	
   95                        	
   96                        	
   97                        	; ***************************************************************************
   98                        	; ***************************************************************************
   99                        	;
  100                        	; Allocate space for the "-fnon-recursive" leaf function stack if needed.
  101                        	;
  102                        	
  103               0007     		.if		leaf_needs
  104               2C1B     			.bss
  105    F8:2C1B             			ds	leaf_needs
  106    F8:2C22             	leaf_stack:
  107                        		.endif
  108                        	
  109                        	
  110                        	
  111                        	; ***************************************************************************
  112                        	; ***************************************************************************
  113                        	;
  114                        	; Check that C "__zp" declarations aren't overwriting System Card variables.
  115                        	;
  116                        	
  117               20A0     			.zp
  118               0000     		.if	(* > zpg_sys_top) || (USING_PSGDRIVER && (* > zpg_psg_top))
  120                        		.endif
  121                        	
  122                        	
  123                        	
  124                        	; ***************************************************************************
  125                        	; ***************************************************************************
  126                        	;
  127                        	; Check that there isn't too much C "const" data in the ".RODATA" section.
  128                        	;
  129                        	
  130               2C22     			.xdata
  131    F8:2C22             	_xdata_end:					; End of initialized vars in BSS.
  132                        	
  133               62ED     			.xinit
  134    01:62ED             	_xinit_end:					; End of initialized data in ROM.
  135                        	
  136               62ED     			.xstrz
  137    01:62ED             	_xstrz_end:					; End of anonymous C strings.
  138    01:62ED             	_rodata_end:					; End of .RODATA section.
  139               E94B     			.code
  140                        	
  141               0000     		.if	_rodata_end >= 0xA000
  143                        		.endif
                             #[1]   "main.s"

PROCEDURE LIST (in order of size):

Size: $19AA, Addr: $01:C2ED,      .proc _update_PLAYER
Size: $0FC9, Addr: $1D:CB40,      .proc _sequence_INTRO
Size: $0A61, Addr: $02:C000,      .proc _joypad_DIR
Size: $08D6, Addr: $02:CA61,      .proc _update_WEAPON
Size: $086D, Addr: $02:D337, .procgroup blkmap_group
Size: $0580, Addr: $1E:C000,      .proc _joypad_BUTTONS_SHOP
Size: $052C, Addr: $1E:C580,      .proc _init_LEVEL
Size: $0414, Addr: $02:DBA4,      .proc _init_SHOP
Size: $03CE, Addr: $1D:DB09,      .proc _anim_OBJECTS
Size: $0390, Addr: $1E:CAAC,      .proc huc_monofont_x
Size: $02F9, Addr: $01:DC97,      .proc _init_HUD
Size: $0292, Addr: $1E:CE3C, .procgroup chrmap_group
Size: $0288, Addr: $1E:D0CE,      .proc _load_OBJECT_TILES
Size: $0277, Addr: $1E:D356,      .proc _joypad_BUTTONS
Size: $024D, Addr: $1E:D5CD,      .proc _joypad_BUTTONS_TITLE
Size: $0226, Addr: $1E:D81A,      .proc _init_INTRO
Size: $0225, Addr: $1E:DA40,      .proc _collision_PLAYER_OBJECT
Size: $021E, Addr: $1E:DC65,      .proc _main
Size: $0170, Addr: $1E:DE83,      .proc _init_TITLE
Size: $0163, Addr: $1F:C000,      .proc _scroll_object
Size: $0163, Addr: $1F:C163,      .proc _scroll_chest
Size: $0163, Addr: $1F:C2C6,      .proc _scroll_npc
Size: $0140, Addr: $1F:C429,      .proc _init_OBJECT_LV1
Size: $013D, Addr: $1F:C569,      .proc _collision_PLAYER_NPC
Size: $013B, Addr: $1F:C6A6,      .proc _collision_WEAPON_OBJECTS
Size: $0108, Addr: $1D:DED7,      .proc read_joypads
Size: $0107, Addr: $1F:C7E1,      .proc _recenter_CAMERA
Size: $00DF, Addr: $1F:C8E8, .procgroup vdc_set_mode
Size: $00D7, Addr: $1F:C9C7,      .proc _init_NPC_LV1
Size: $00D0, Addr: $1F:CA9E, .procgroup vdc_tty_out
Size: $00CA, Addr: $1F:CB6E,      .proc _init_CHEST_LV1
Size: $00A5, Addr: $1F:CC38,      .proc _display_TIME_SHOP
Size: $009D, Addr: $1F:CCDD,      .proc _display_TIME_LEVEL
Size: $009B, Addr: $1F:CD7A,      .proc cross_fade_to
Size: $0086, Addr: $1F:CE15,      .proc _scroll_split.5
Size: $0086, Addr: $1F:CE9B,      .proc _sgx_scroll_split.5
Size: $0081, Addr: $1F:CF21,      .proc vbl_init_scroll
Size: $007A, Addr: $1F:CFA2,      .proc _check_TILE_DEPTH
Size: $0077, Addr: $1F:D01C,      .proc core_main
Size: $006A, Addr: $01:DF90, .procgroup load_vram_group
Size: $0064, Addr: $1F:D093,      .proc _collision_PLAYER_BG
Size: $0062, Addr: $1F:D0F7,      .proc _init_256x224
Size: $004E, Addr: $1F:D159, .procgroup old_satb_group
Size: $004B, Addr: $1F:D1A7, .procgroup hucc_memcmp
Size: $0047, Addr: $02:DFB8,      .proc _init_VARIABLES
Size: $0046, Addr: $1F:D1F2,      .proc read_palettes
Size: $0043, Addr: $1F:D238, .procgroup vdc_clear_vram
Size: $0043, Addr: $1F:D27B,      .proc sgx_detect
Size: $0042, Addr: $1F:D2BE,      .proc _init_PLAYER
Size: $003F, Addr: $1F:D300, .procgroup load_bat_group
Size: $003E, Addr: $1F:D33F,      .proc _vram2vram.3
Size: $003B, Addr: $1F:D37D,      .proc init_random
Size: $0038, Addr: $1F:D3B8,      .proc _joypad_BUTTONS_INTRO
Size: $002E, Addr: $1F:D3F0,      .proc _scroll_BG
Size: $002B, Addr: $1F:D41E,      .proc _load_palette.3
Size: $0026, Addr: $1F:D449,      .proc _load_CHEST_TILES
Size: $0026, Addr: $1F:D46F,      .proc _load_NPC_TILES
Size: $0023, Addr: $1F:D495,      .proc _hide_LEVEL_SPRITES
Size: $001D, Addr: $0D:DFE0,      .proc _init_SYSTEM
Size: $001C, Addr: $1D:DFDF,      .proc _display_SCORE
Size: $001C, Addr: $1F:D4B8,      .proc _display_ZENNY
Size: $001C, Addr: $1F:D4D4,      .proc clear_vce
Size: $001A, Addr: $1F:D4F0,      .proc _display_KEY
Size: $001A, Addr: $1F:D50A,      .proc _display_POTION
Size: $0018, Addr: $1F:D524,      .proc _display_LIFE
