                             #[1]   "main.s"
   27                        	
   28               0010     	CORE_VERSION	=	$10			; Version 1.0
   29                        	
   30                        			; Get the user program's configuration settings, this will
   31                        			; be read from the current directory, if it exists, or the
   32                        			; "../include/" directory if not.
   33                        	
                             #[4]   "..\..\..\include\hucc\core-config.inc"
   34                        			include	"core-config.inc"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; core-config.inc
    5                        	;
    6                        	; Configuration settings for the "CORE(not TM)" PC Engine library code.
    7                        	;
    8                        	; Copyright John Brandwood 2021-2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; The idea is that you, a PCE developer, copy this file from the ../include/
   18                        	; directory and into your project's directory, and then customize the values
   19                        	; to suit your particular project.
   20                        	;
   21                        	; Because PCEAS searches the current (i.e. project) directory for an include
   22                        	; file first, then it will find your customized copy of the file rather than
   23                        	; the original copy in the ../include/ directory.
   24                        	;
   25                        	; That means that all of the different overlay programs in your project will
   26                        	; share the same overall library configuration for your game.
   27                        	;
   28                        	; ***************************************************************************
   29                        	; ***************************************************************************
   30                        	
   31                        	;
   32                        	; Are we going to take over MPR7?
   33                        	;
   34                        	; While this is the default for the "CORE(not TM)" library, it is definitely
   35                        	; possible to use the library to build CD-ROM code that runs with the System
   36                        	; Card in MPR7, and with the 1st bank remaining in MPR2.
   37                        	;
   38                        	; N.B. The CD-ROM Stage1 loader runs the library with USING_MPR7=0 while it
   39                        	;      installs the kernel into PCE RAM in MPR1.
   40                        	;
   41                        	
   42               0000     		.ifndef	USING_MPR7
   44                        		.endif
   45                        	
   46                        	;
   47                        	; Are we building a CD-ROM overlay that uses an already-built CD-ROM Stage1
   48                        	; loader to install the library's kernel code into PCE RAM in MPR1?
   49                        	;
   50                        	; If this is set, the library's kernel code will be excluded from the build,
   51                        	; which will save about 1KB-3KB of code space in every overlay program!
   52                        	;
   53                        	; N.B. The CD-ROM Stage1 loader sets USING_STAGE1=0 so it builds correctly.
   54                        	;
   55                        	
   56               0000     		.ifndef	USING_STAGE1
   58                        		.endif
   59                        	
   60                        	;
   61                        	; Are we currently building the CD-ROM Stage1 loader?
   62                        	;
   63                        	; If this is set, the library's startup code does not call the __sound_init
   64                        	; macro because the sound driver code is not usually a part of the kernel.
   65                        	;
   66                        	; N.B. The CD-ROM Stage1 loader sets BUILDING_STAGE1=1 so it builds correctly.
   67                        	;
   68                        	
   69               0000     		.ifndef	BUILDING_STAGE1
   71                        		.endif
   72                        	
   73                        	;
   74                        	; Is the last track of the CD a duplicate of the main ISO data track?
   75                        	;
   76                        	; Most CD games put two copies of the same ISO track on the CD, so that data
   77                        	; can be read from the secondary track if the drive has a problem reading it
   78                        	; it from the primary location.
   79                        	;
   80                        	; If set, the secondary track will be enabled when the library first starts.
   81                        	;
   82                        	
   83               0000     		.ifndef	SUPPORT_2ISO
   85                        		.endif
   86                        	
   87                        	;
   88                        	; Maximum number of directory entries to use from the ISO.
   89                        	;
   90                        	; The fewer that we choose, the less RAM memory we need. A setting of 64 is
   91                        	; a good compromise to use until you are putting lots of files on the ISO.
   92                        	;
   93                        	
   94               0000     		.ifndef	MAX_DIRSIZE
   96                        		.endif
   97                        	
   98                        	;
   99                        	; Use the System Card's PSG driver code instead of a modern alternative
  100                        	; sound driver like a DefleMask or Furnace player?
  101                        	;
  102                        	
  103               0000     		.ifndef	USING_PSGDRIVER
  105                        		.endif
  106                        	
  107                        	;
  108                        	; Support development for the Turbo EverDrive v2?
  109                        	;
  110                        	; This only applies to HuCard programs, but when chosen, the "CORE(not TM)"
  111                        	; kernel is moved from bank 0 to bank 2, and a minimal set of startup code
  112                        	; is put in bank 0.
  113                        	;
  114                        	; This is because the TED2 hardware occupies the whole of bank 0 when it is
  115                        	; activated, and so we need to run with a different bank in MPR7.
  116                        	;
  117                        	
  118               0000     		.ifndef	SUPPORT_TED2
  120                        		.endif
  121                        	
  122                        	;
  123                        	; Support development for the SuperGRAFX?
  124                        	;
  125                        	; This enables SuperGRAFX support in certain library functions.
  126                        	;
  127                        	
  128               0000     		.ifndef	SUPPORT_SGX
  130                        		.endif
  131                        	
  132                        	;
  133                        	; Choose SuperGRAFX VPC initialization mode.
  134                        	;
  135                        	; SGX_PARALLAX=0 (useful when VDC #1 is a fullscreen HUD)
  136                        	;
  137                        	;  FRONT
  138                        	;   SP1 = VDC #1 (pce) sprite pixels
  139                        	;   BG1 = VDC #1 (pce) background pixels
  140                        	;   SP2 = VDC #2 (sgx) sprite pixels
  141                        	;   BG2 = VDC #2 (sgx) background pixels
  142                        	;  BACK
  143                        	;
  144                        	; SGX_PARALLAX=1
  145                        	;
  146                        	;  FRONT
  147                        	;   SP1 = VDC #1 (pce) sprite pixels
  148                        	;   SP2 = VDC #2 (sgx) sprite pixels
  149                        	;   BG1 = VDC #1 (pce) background pixels
  150                        	;   BG2 = VDC #2 (sgx) background pixels
  151                        	;  BACK
  152                        	;
  153                        	
  154               0000     		.ifndef	SGX_PARALLAX
  156                        		.endif
  157                        	
  158                        	;
  159                        	; Support development for the ArcadeCard?
  160                        	;
  161                        	; This enables ArcadeCard support in certain library functions.
  162                        	;
  163                        	
  164               0000     		.ifndef	SUPPORT_ACD
  166                        		.endif
  167                        	
  168                        	;
  169                        	; Support development for the IFU's ADPCM hardware?
  170                        	;
  171                        	; Developers would normally just use the System Card functions for ADPCM, but
  172                        	; enabling this adds alternative functions, and allows ADPCM use on a HuCARD.
  173                        	;
  174                        	
  175               0000     		.ifndef	SUPPORT_ADPCM
  177                        		.endif
  178                        	
  179                        	;
  180                        	; Select which version of the joystick library code to include, only one of
  181                        	; these can be set to '1' ...
  182                        	;
  183                        	; SUPPORT_2BUTTON : Only returns buttons I and II.
  184                        	; SUPPORT_6BUTTON : Read buttons III-VI, but ignore a mouse.
  185                        	; SUPPORT_MOUSE	  : Read mouse, but ignore buttons III-VI.
  186                        	;
  187                        	; It doesn't make sense to design a game the relies on both the 6-button and
  188                        	; the mouse, so the joystick library is optimized for one or the other.
  189                        	;
  190                        	; Note that both those devices are always detected and no conflicts occur,
  191                        	; this just controls reading either buttons III-VI or the Mouse Y-movement.
  192                        	;
  193                        	
  194               0000     		.ifndef	SUPPORT_6BUTTON
  200                        		.endif
  201                        	
  202                        	;
  203                        	; How many joypad/mouse devices should be supported?
  204                        	;
  205                        	; This is normally 5, but can be set to 3 (or lower) in order to speed up
  206                        	; the processing and free up CPU time for other code, which is especially
  207                        	; useful for mouse games.
  208                        	;
  209                        	
  210               0000     		.ifndef	MAX_PADS
  212                        		.endif
  213                        	
  214                        	;
  215                        	; Implement a HuC-compatible seperate array for accumulating joypad presses?
  216                        	;
  217                        	; This is only really needed if your game is not expected to run at 60Hz and
  218                        	; so you will sometimes miss joypad presses.
  219                        	;
  220                        	; Alternatively you can set ACCUMULATE_JOY so that joypad presses are always
  221                        	; accumulated in the normal joytrg array, which is how asm programmers would
  222                        	; normally deal with this situation.
  223                        	;
  224                        	
  225               0000     		.ifndef HUC_JOY_EVENTS
  227                        		.endif
  228                        	
  229                        	;
  230                        	; Should "joytrg" accumulate presses, and so need to be explicitely cleared
  231                        	; after reading, or should it just be the result of the last read?
  232                        	;
  233                        	; This option has no effect if HUC_JOY_EVENTS is non-zero since that option
  234                        	; takes precedence over this one!
  235                        	;
  236                        	
  237               0000     		.ifndef ACCUMULATE_JOY
  239                        		.endif
  240                        	
  241                        	;
  242                        	; The DATA_BANK location needs to be set as early as possible so that library
  243                        	; code is able to put data in there before the total overall size of the code
  244                        	; is known.
  245                        	;
  246                        	; By default, DATA_BANK is the next bank after the CORE_BANK.
  247                        	;
  248                        	; RESERVE_BANKS allows developers to reserve some banks between the CORE_BANK
  249                        	; and the DATA_BANK that they can use however they wish.
  250                        	;
  251                        	; One use for RESERVE_BANKS is to create empty space that PCEAS can use when
  252                        	; it relocates procedures. This provides a way for a developer to group code
  253                        	; together at the start of memory, and leave the maximum number of banks for
  254                        	; loading dynamic data from CD-ROM.
  255                        	;
  256                        	; The KickC environment sets RESERVE_BANKS=1 (or higher) so that there is a
  257                        	; a bank for the permanent C code and static constants.
  258                        	;
  259                        	
  260               0000     		.ifndef	RESERVE_BANKS
  266                        		.endif	RESERVE_BANKS
                             #[3]   "..\..\..\include\hucc\core.inc"
   35                        	
   36                        	;
   37                        	; This is a simple macro to call System Card functions when using MPR7 for
   38                        	; running the "CORE(not TM)" PC Engine library code.
   39                        	;
   40                        	
   41                        	system		.macro
   42                        			ldy     #<\1
   43                        			jsr	call_bios
   44                        			.endm
   45                        	
   46                        	;
   47                        	; This replaces the System Card's ex_setvec, because "call_bios" uses the
   48                        	; Y register.
   49                        	;
   50                        	
   51                        	setvec		.macro
   52                        			php
   53                        			sei
   54                        			lda.l	#\2
   55                        			sta.l	\1
   56                        			lda.h	#\2
   57                        			sta.h	\1
   58                        			plp
   59                        			.endm
   60                        	
   61                        	;
   62                        	; Repurpose this System Card variable, since nmi_hook is never used.
   63                        	;
   64                        	; We'll use it as a vector to a user-supplied sound driver instead.
   65                        	;
   66                        	
   67               2206     	sound_hook	=	nmi_hook		; Sound Driver to run in VBL.
   68                        	
   69                        	;
   70                        	; CORE Zero-Page variables, relative to the System Card's ZP variables.
   71                        	;
   72                        	
   73               0000     		.if	USING_PSGDRIVER
   75                        		.else
   76               20EC     	core_zpend	=	$F8:20EC
   77                        		.endif	USING_PSGDRIVER
   78                        	
   79               0001     		.if	SUPPORT_SGX
   80                        	
   81                        			; Put some "CORE(not TM)" variables at the start of Zero Page.
   82                        			;
   83                        			; These are at the *start* of ZP so that the SuperGrafx shadow
   84                        			; "sgx_" registers are at a specific offset from their System
   85                        			; Card "vdc_" counterparts, and they MUST NOT be moved!
   86                        			;
   87                        			; This allows us to put SGX_VDC_OFFSET or PCE_VDC_OFFSET into
   88                        			; the X register, and then index into either set of hardware
   89                        			; registers and the "sgx_reg" or "vdc_reg" shadow-variables.
   90                        	
   91               0000     	PCE_VDC_OFFSET	=	$00		; Offset to PCE VDC chip & shadow vars.
   92               0010     	SGX_VDC_OFFSET	=	$10		; Offset to SGX VDC chip & shadow vars.
   93                        	
   94               2000     			.zp
   95               2000     			.org	$2000
   96    F8:2000             	__temp		ds	2		; $F8:2000 Use within any ASM routine.
   97    F8:2002             	_bp_bank	ds	1		; $F8:2002 Use within any ASM/HuCC routine.
   98    F8:2003             	sgx_crl		ds	1		; $F8:2003 SGX shadow (vdc_crl = $20F3).
   99    F8:2004             	sgx_crh		ds	1		; $F8:2004 SGX shadow (vdc_crh = $20F4).
  100    F8:2005             	core_1stbank	ds	1		; $F8:2005 1st bank of library code.
  101    F8:2006             	sgx_sr		ds	1		; $F8:2006 SGX shadow (vdc_sr  = $20F6).
  102    F8:2007             	sgx_reg		ds	1		; $F8:2007 SGX shadow (vdc_reg = $20F7).
  103                        	
  104               2008     	core_zp1st	=	*		; $F8:2008 1st free user address.
  105                        	
  106                        		.else	SUPPORT_SGX
  116                        		.endif	SUPPORT_SGX
  117                        	
  118                        	;
  119                        	; The kernel code in RAM follows the System Card's RAM variables.
  120                        	;
  121                        	
  122               0000     		.if	USING_PSGDRIVER
  124                        		.else
  125               22D0     	core_ram1st     =	$F8:22D0
  126                        		.endif	USING_PSGDRIVER
  127                        	
  128                        	;
  129                        	; Include the "CORE(not TM)" startup code to begin the HuCARD / Overlay.
  130                        	;
  131                        	
                             #[4]   "..\..\..\include\hucc\core-startup.asm"
  132                        			include	"core-startup.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; core-startup.asm
    5                        	;
    6                        	; The "CORE(not TM)" PC Engine library startup code that runs at boot/reset.
    7                        	;
    8                        	; Copyright John Brandwood 2021-2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; This is the initialization code in the 1st bank, and it is responsible for
   18                        	; setting up a consistant runtime environment for the developer's program,
   19                        	; so that the developer can concentrate on writing the program itself.
   20                        	;
   21                        	; The idea is that when a program is loaded, the first 40KB of it is mapped
   22                        	; as $4000..$DFFF, and initialization starts at $4000, with the developer's
   23                        	; program getting control after initialization, with a jump to "core_main".
   24                        	;
   25                        	; The initializtion sets up a small kernel of code that provides interrupt
   26                        	; handling that mimics a subset of the System Card's behavior, designed to
   27                        	; act in the same way on HuCARD and CD-ROM, with either the System Card in
   28                        	; MPR7, or with an overlay in MPR7.
   29                        	;
   30                        	; The kernel handles reading the joypad/mouse, and it offers handler hooks
   31                        	; for running the developer's interrupt code.  On CD-ROM systems, it also
   32                        	; handles the loading and running of subsequent overlay programs.
   33                        	;
   34                        	; On HuCARD, the kernel itself runs in MPR7; while on CD-ROM systems it is
   35                        	; run from RAM in MPR1, so that overlay programs are independant from each
   36                        	; other, and can be written in different programming languages.
   37                        	;
   38                        	;
   39                        	; 1) If we're running on a HuCARD, the initialization is simple!
   40                        	;
   41                        	;    The PC Engine's memory map is set to ...
   42                        	;
   43                        	;      MPR0 = bank $FF : PCE hardware
   44                        	;      MPR1 = bank $F8 : PCE RAM with Stack & ZP
   45                        	;      MPR2 = bank $00 : HuCARD ROM
   46                        	;      MPR3 = bank $01 : HuCARD ROM
   47                        	;      MPR4 = bank $02 : HuCARD ROM
   48                        	;      MPR5 = bank $03 : HuCARD ROM
   49                        	;      MPR6 = bank $04 : HuCARD ROM
   50                        	;      MPR7 = bank $00 : HuCARD ROM
   51                        	;
   52                        	;
   53                        	; 2) If we're running on a HuCARD that supports the Turbo Everdrive, then the
   54                        	;    first 2 banks are reserved for mapping the TED2 hardware and a RAM bank.
   55                        	;
   56                        	;    The PC Engine's memory map is set to ...
   57                        	;
   58                        	;      MPR0 = bank $FF : PCE hardware
   59                        	;      MPR1 = bank $F8 : PCE RAM with Stack & ZP
   60                        	;      MPR2 = bank $02 : HuCARD ROM
   61                        	;      MPR3 = bank $03 : HuCARD ROM
   62                        	;      MPR4 = bank $04 : HuCARD ROM
   63                        	;      MPR5 = bank $05 : HuCARD ROM
   64                        	;      MPR6 = bank $06 : HuCARD ROM
   65                        	;      MPR7 = bank $02 : HuCARD ROM
   66                        	;
   67                        	;
   68                        	; 3) If we're running on an old CD System, the overlay is loaded from the ISO
   69                        	;    into banks $80-$87 (64KB max).
   70                        	;
   71                        	;    The PC Engine's memory map is set to ...
   72                        	;
   73                        	;      MPR0 = bank $FF : PCE hardware
   74                        	;      MPR1 = bank $F8 : PCE RAM with Stack & ZP
   75                        	;      MPR2 = bank $80 : CD RAM
   76                        	;      MPR3 = bank $81 : CD RAM
   77                        	;      MPR4 = bank $82 : CD RAM
   78                        	;      MPR5 = bank $83 : CD RAM
   79                        	;      MPR6 = bank $84 : CD RAM
   80                        	;      MPR7 = bank $80 : CD RAM or System Card's bank $00
   81                        	;
   82                        	;
   83                        	; 4) If we're running on a SuperCD System, the overlay is loaded from the ISO
   84                        	;    into banks $68-$87 (256KB max).
   85                        	;
   86                        	;    The PC Engine's memory map is set to ...
   87                        	;
   88                        	;      MPR0 = bank $FF : PCE hardware
   89                        	;      MPR1 = bank $F8 : PCE RAM with Stack & ZP
   90                        	;      MPR2 = bank $68 : SCD RAM
   91                        	;      MPR3 = bank $69 : SCD RAM
   92                        	;      MPR4 = bank $6A : SCD RAM
   93                        	;      MPR5 = bank $6B : SCD RAM
   94                        	;      MPR6 = bank $6C : SCD RAM
   95                        	;      MPR7 = bank $68 : SCD RAM or System Card's bank $00
   96                        	;
   97                        	; ***************************************************************************
   98                        	; ***************************************************************************
   99                        	
  100                        	
  101                        	
  102               E000     			.code
  103               0000     			.bank	0
  104                        	
  105               0000     		.if	SUPPORT_TED2			; Do we want to use a TED2?
  177                        		.endif	SUPPORT_TED2
  178                        	
  179                        	
  180                        	
  181               0001     		.if	USING_MPR7
  182                        	
  183                        	; ***************************************************************************
  184                        	; ***************************************************************************
  185                        	;
  186                        	; RESET VECTORS (when running in MPR7, either as a HuCARD, or a CD overlay)
  187                        	;
  188                        	
  189                        			; Hardware reset and interrupt vectors.
  190                        	
  191               FFF4     			.org	$FFF4
  192                        	
  193    00:FFF4  10         	core_version:	db	CORE_VERSION		; CORE(not TM) Version.
  194    00:FFF5  80         			db	$80			; System Card compatibility.
  195                        	
  196    00:FFF6  5D E0      			dw	core_irq2		; IRQ2	(from CD/ADPCM)
  197    00:FFF8  64 E0      			dw	core_irq1		; IRQ1	(from VDC)
  198    00:FFFA  58 E1      			dw	core_timer		; TIMER (from CPU)
  199    00:FFFC  5E E1      			dw	core_rti		; NMI	(unused)
  200               0000     		.if	CDROM
  202                        		.else
  203    00:FFFE  21 E0      			dw	core_hw_reset		; RESET (HuCARD)
  204                        		.endif	CDROM
  205                        	
  206               0001     		.if	USING_NEWPROC			; If the ".proc" trampolines
  207               FFF3     	__trampolineptr =	$FFF3			; are in MPR7, tell PCEAS to
  208                        		.endif					; put them below the vectors.
  209                        	
  210                        		.else	USING_MPR7
  222                        		.endif	USING_MPR7
  223                        	
  224                        	
  225                        	
  226                        	; ***************************************************************************
  227                        	; ***************************************************************************
  228                        	;
  229                        	; !!! THE HuCARD/OVERLAY PROGRAM'S FIRST BANK STARTS HERE !!!
  230                        	;
  231                        	
  232                        			; Switch to MPR2 for the "CORE(not TM)" library init.
  233                        			;
  234                        			; This is also executed by a HuCARD once it has run
  235                        			; its initial hardware-reset code.
  236                        			;
  237                        			; When run, MPR2-MPR6 are always mapped to the 1st 5 banks of
  238                        			; the overlay program, and MPR7 contains the System Card.
  239                        	
  240               4000     			.org	$4000
  241                        	
  242               0000     	CORE_BANK	=	bank(*) - _bank_base	; It isn't always zero! ;-)
  243                        	
  244               0000     			.bank	CORE_BANK, "CORE_BANK"	; Give it a label.
  245                        	
  246               0001     		.if	USING_MPR7
  247               0007     	CORE_PAGE	=	7			; User code runs in MPR7.
  248                        		.else
  250                        		.endif	USING_MPR7
  251                        	
  252    00:4000  4C 06 40   	core_boot:	jmp	* + 6			; Allow someone to patch this.
  253                        	
  254                        			; Add an ident string so isoLINK can autodetect configuration.
  255                        			;
  256                        			; This allows isoLINK to decide whether to use the IPL-SCD boot
  257                        			; sector hack, and whether to include a SuperGRAFX signature in
  258                        			; the boot sector, without the user having to manually use some
  259                        			; command line parameters, although they are free to do that if
  260                        			; they wish.
  261                        	
  262               0001     		.if	SUPPORT_SGX
  263               0000     		.if	BUILDING_STAGE1
  265                        		.else
  266    00:4003  53 47 58   			db	"SGX"			; SGX SuperCD or SGX HuCARD.
  267                        		.endif	BUILDING_STAGE1
  268                        		.else
  282                        		.endif	SUPPORT_SGX
  283                        	
  284               0000     		.if	CDROM
  331                        		.else	CDROM
  332                        	
  333                        			; Set up HuCARD RAM in a compatible way to the System Card.
  334                        			;
  335                        			; Note that the entire RAM is cleared by "core_hw_reset".
  336                        	
  337    00:4006  A9 1F      			lda	#%11111			; Enable joypad soft-reset.
  338    00:4008  8D 27 22   			sta	joyena
  339                        	
  340                        		.endif	CDROM
  341                        	
  342                        			; Now that RAM is initialized ...
  343                        	
  344    00:400B  43 04      			tma2				; Remember overlay's 1st bank
  345    00:400D  85 05      			sta	<core_1stbank		; $00, $02, $68 or $80!
  346               0001     		.if	USING_MPR7
  347    00:400F  53 80      			tam7				; "CORE(not TM)" takes MPR7!
  348                        		.endif
  349                        	
  350    00:4011  A2 FF      			ldx	#$FF			; Initialize stack pointer.
  351    00:4013  9A         			txs
  352                        	
  353    00:4014  20 5F E1   			jsr	core_clr_hooks		; Reset default hooks.
  354                        	
  355                        	;		stz	TIMER_CR		; Stop HuC6280 timer.
  356                        	;		stz	IRQ_ACK			; Clr HuC6280 timer interrupt.
  357                        	;		stz	IRQ_MSK			; Clr HuC6280 interrupt mask.
  358                        	
  359    00:4017  AD 00 02   			lda	VDC_SR			; Purge any overdue VBL.
  360    00:401A  9C 41 22   			stz	irq_cnt			; Make it easy to check.
  361    00:401D  58         			cli				; Restore interrupts.
  362                        	
  363    00:401E  4C E5 FF   			jmp	core_main		; Start the game's code.
  364                        	
  365                        	
  366                        	
  367               0001     		.if	!CDROM
  368                        	
  369                        	; ***************************************************************************
  370                        	; ***************************************************************************
  371                        	;
  372                        	; HuCARD Kernel Code
  373                        	;
  374                        	; core_ram1st - Start of code to relocate to MPR1.
  375                        	; core_ramend - End of code to relocate to MPR1.
  376                        	;
  377                        	
  378                        			; In a HuCARD, BSS variables start as low as possible.
  379                        	
  380               2200     			.bss
  381               22D0     			.org	core_ram1st
  382               22D0     	core_ramend	=	*
  383               4021     			.code
  384                        	
  385                        			; Normal HuCARD hardware-reset code, executed in MPR7.
  386                        			;
  387                        			; This does the basic PCE startup that every HuCARD (including
  388                        			; a System Card) needs to do, and then it remaps memory to be
  389                        			; compatible with the "CORE(not TM)" CD overlay program start.
  390                        	
  391               E021     			.page	7			; This will run in MPR7.
  392                        	
  393    00:E021  78         	core_hw_reset:	sei				; Disable interrupts.
  394    00:E022  D4         			csh				; Set high-speed mode.
  395    00:E023  D8         			cld
  396                        	
  397    00:E024  A2 FF      			ldx	#$FF			; Initialize stack pointer.
  398    00:E026  9A         			txs
  399    00:E027  8A         			txa				; MPR0 = $FF : PCE hardware
  400    00:E028  53 01      			tam0				; MPR1 = $F8 : PCE RAM
  401    00:E02A  A9 F8      			lda	#$F8
  402    00:E02C  53 02      			tam1
  403                        	
  404    00:E02E  9C 01 0C   			stz	TIMER_CR		; HW reset already does these,
  405    00:E031  9C 03 14   			stz	IRQ_ACK			; but this may be a reset from
  406    00:E034  9C 02 14   			stz	IRQ_MSK			; software (i.e. joypad).
  407                        	
  408    00:E037  F3 53 E0 00			tai	const_0000, $2000, 8192 ; Clear RAM.
         00:E03B  20 00 20    
  409                        	
  410    00:E03E  43 80      			tma7				; Not always bank 0!
  411                        	
  412    00:E040  53 04      			tam2				; Set CD-ROM overlay memory map,
  413    00:E042  1A         			inc	a			; 1st 5 banks in MPR2-MPR6.
  414    00:E043  53 08      			tam3
  415    00:E045  1A         			inc	a
  416    00:E046  53 10      			tam4
  417    00:E048  1A         			inc	a
  418    00:E049  53 20      			tam5
  419    00:E04B  1A         			inc	a
  420    00:E04C  53 40      			tam6
  421                        	
  422    00:E04E  4C 00 40   			jmp	core_boot		; Continue execution in MPR2.
  423                        	
  424                        			; In a HuCARD, the kernel code is permanently in MPR7.
  425                        	
                             #[5]   "..\..\..\include\hucc\core-kernel.asm"
  426                        			include "core-kernel.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; core-kernel.asm
    5                        	;
    6                        	; The "CORE(not TM)" PC Engine library kernel code that runs after startup.
    7                        	;
    8                        	; Copyright John Brandwood 2021-2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; This code is permanently located in either MPR7 (HuCARD), or MPR1 (CD-ROM),
   18                        	; and it provides a consistant method of interrupt-handling on both systems
   19                        	; that is designed to be compatible with the System Card.
   20                        	;
   21                        	; The library uses the "irq1_hook" for its own VDC interrupt handler, and PCE
   22                        	; developers are expected to use "vsync_hook" and "hsync_hook" for their VDC
   23                        	; interrupt functions.  Plenty of memory is available in the 1st bank for the
   24                        	; developer to put those functions.
   25                        	;
   26                        	; The reason for using "irq1_hook", is so that the library can work properly
   27                        	; if either the current overlay program, or the System Card, are mapped into
   28                        	; MPR7 whenever an interrupt occurs.
   29                        	;
   30                        	; The VDC interupt handler itself is changed from the System Card's handler,
   31                        	; and it is designed to provide faster response to vsync_hook, and to enable
   32                        	; interrupts during the slow(ish) joypad and sound driver code, so that both
   33                        	; raster and timer interrupts are not delayed.
   34                        	;
   35                        	; Developers are free to enable interrupts during their own vsync_hook code,
   36                        	; if they wish to do so.
   37                        	;
   38                        	; On CD-ROM systems, this library kernel also provides a function to load and
   39                        	; run a new overlay program, without relying upon any of the code/data within
   40                        	; the current overlay program's memory (unlike HuC v3).
   41                        	;
   42                        	; ***************************************************************************
   43                        	; ***************************************************************************
   44                        	
   45                        	
   46                        	
   47                        	; ***************************************************************************
   48                        	; ***************************************************************************
   49                        	;
   50                        	; core_kernel - Start of kernel code.
   51                        	;
   52                        	
   53               E051     	core_kernel	=	*
   54                        	
   55                        	
   56                        	
   57                        	; ***************************************************************************
   58                        	; ***************************************************************************
   59                        	;
   60                        	; Useful constants, needed by joypad library code, and used by many others.
   61                        	;
   62                        	; The kernel starts with a non-zero byte so that core-startup.asm can check
   63                        	; whether it has already been loaded into RAM.
   64                        	;
   65                        	
   66    00:E051  FF FF      	const_FFFF:	dw	$FFFF			; Useful constant for TAI.
   67    00:E053  00 00      	const_0000:	dw	$0000			; Useful constant for TAI.
   68                        	
   69    00:E055  01 02 04 08	bit_mask:	db	$01,$02,$04,$08,$10,$20,$40,$80
         00:E059  10 20 40 80 
   70                        	
   71                        	
   72                        	
   73                        	; ***************************************************************************
   74                        	; ***************************************************************************
   75                        	;
   76                        	; core_irq2  - Minimal interrupt handler compatible with System Card.
   77                        	; core_irq1  - Minimal interrupt handler compatible with System Card.
   78                        	; core_timer - Minimal interrupt handler compatible with System Card.
   79                        	; core_rti   - Minimal interrupt handler compatible with System Card.
   80                        	;
   81                        	; Note that it takes 8 cycles to respond to an IRQ.
   82                        	;
   83                        	; These routines are copied to a location in RAM that does not vary when
   84                        	; a different overlay program is loaded.
   85                        	;
   86                        	; All overlay programs are set up to vector interrupts to these routines,
   87                        	; which is designed to avoid interrupt-related crashes when loading a new
   88                        	; overlay on top of an old overlay in memory.
   89                        	;
   90                        	; All of the game's actual interrupt handling itself is done in the "hook"
   91                        	; functions so that everything works the same if the System Card is banked
   92                        	; into MPR7 when an interrupt occurs.
   93                        	;
   94                        	; ***************************************************************************
   95                        	; ***************************************************************************
   96                        	;
   97                        	; Bit settings for irq_vec  ...
   98                        	;
   99                        	;   7 : 1 to skip BIOS hsync processsing
  100                        	;   6 : 1 to call [hsync_hook]
  101                        	;   5 : 1 to skip BIOS vsync processsing
  102                        	;   4 : 1 to call [vsync_hook]
  103                        	;
  104                        	;   3 : 1 to jump [nmi_hook]
  105                        	;   2 : 1 to jump [timer_hook]
  106                        	;   1 : 1 to jump [irq1_hook]
  107                        	;   0 : 1 to jump [irq2_hook]
  108                        	;
  109                        	; ***************************************************************************
  110                        	; ***************************************************************************
  111                        	
  112    00:E05D  8F F5 01   	core_irq2:	bbs0	<irq_vec, .hook		; 8 cycles if using hook.
  113                        	
  114               0000     		.if	CDROM
  138                        		.else
  139                        			; Does this HuCARD support the IFU's ADPCM hardware?
  140                        	
  141               0000     		.if	SUPPORT_ADPCM
  153                        		.endif	SUPPORT_ADPCM
  154                        	
  155    00:E060  40         			rti				; No IRQ2 hardware on HuCARD.
  156                        	
  157    00:E061  6C 00 22   	.hook:		jmp	[irq2_hook]		; 7 cycles.
  158                        		.endif	CDROM
  159                        	
  160                        	
  161                        	
  162                        	; ***************************************************************************
  163                        	; ***************************************************************************
  164                        	;
  165                        	; core_irq1 - Minimal interrupt handler compatible with System Card.
  166                        	;
  167                        	; irq1_handler - Basic "CORE(not TM)" IRQ1 handler to use as the "irq1_hook".
  168                        	;
  169                        	; Doing the IRQ1 handler processing in this hook means that things operate
  170                        	; the same whether the System Card or an Overlay is paged into MPR7.
  171                        	
  172               0000     		.ifndef	HUCC
  181                        		.else
  182                        			; Faster IRQ servicing for HuCC and code that would like to
  183                        			; avoid the 8 cycles used by the "bbs1" instruction that is
  184                        			; taken when the System Card is mapped into MPR7.
  185                        	
  186    00:E064             	core_irq1:	;;;				; 8 (cycles for the INT)
  187               0001     		.if	CDROM || !defined(NO_CORE_IRQ1_HOOK)
  188    00:E064  6C 02 22   			jmp	[irq1_hook]		; 7 cycles.
  189                        	
  190                        		.endif
  191                        		.endif
  192                        	
  193    00:E067  48         	irq1_handler:	pha				; 3 Save all registers.
  194    00:E068  DA         			phx				; 3
  195    00:E069  5A         			phy				; 3
  196                        	
  197               0000     		.ifndef	USING_RCR_MACROS		;   This slows things down
  206                        		.endif	USING_RCR_MACROS
  207                        	
  208    00:E06A  AD 00 02   			lda	VDC_SR			; 6 Acknowledge the VDC's IRQ.
  209    00:E06D  85 F6      			sta	<vdc_sr			; 4 Remember what caused it.
  210                        	
  211               0001     		.if	SUPPORT_SGX
  212    00:E06F  AE 10 02   			ldx	SGX_SR			; 6 Read SGX_SR after VDC_SR in
  213    00:E072  86 06      			stx	<sgx_sr			; 4 case this is not an SGX!
  214                        		.endif
  215                        	
  216                        			; Handle the VDC's RCR interrupt.
  217                        	
  218    00:E074  29 04      	!:		and	#$04			; 2 Is this an HSYNC interrupt?
  219    00:E076  F0 44      			beq	!+			; 2
  220                        	
  221               0001     		.ifdef	USING_RCR_MACROS
  222                        			VDC_RCR_MACRO
                             	
         00:E078  03 06      			st0	#VDC_RCR		; 5
                             	
         00:E07A  AE 69 27   			ldx	vdc_next_region		; 5 X and Y can be greater than
         00:E07D  BC 6A 27   			ldy	vdc_regionA_nxt, x	; 5 HUCC_PCE_SPLITS if regionB!
         00:E080  18         			clc				; 2
         00:E081  D0 05      			bne	!set_next_rcr+		; 4 Stop RCR if next line is 0.
                             	
         00:E083  2D 53 E0   			and	const_0000		; 5 A=$00 with the same #cycles
         00:E086  80 05      			bra	!clr_next_rcr+		; 4 as if the branch were taken.
                             	
         00:E088  B9 19 27   	!set_next_rcr:	lda	vdc_regionA_rcr, y	; 5 Set next RCR 1 line before
         00:E08B  69 3F      			adc	#64-1			; 2 the region begins, or 0 to
         00:E08D  8D 02 02   	!clr_next_rcr:	sta	VDC_DL			; 6 disable.
         00:E090  62         			cla				; 2
         00:E091  2A         			rol	a			; 2
         00:E092  8D 03 02   			sta	VDC_DH			; 6
                             	
         00:E095  03 08      			st0	#VDC_BYR		; 5 Do BYR first to mitigate the
         00:E097  BD 49 27   			lda	vdc_regionA_yl, x	; 5 glitch if the IRQ is delayed.
         00:E09A  8D 02 02   			sta	VDC_DL			; 6 = 105 cycles from RCR on SGX
         00:E09D  BD 59 27   			lda	vdc_regionA_yh, x	; 5
         00:E0A0  8D 03 02   			sta	VDC_DH			; 6
                             	
         00:E0A3  03 05      			st0	#VDC_CR			; 5
         00:E0A5  BD 09 27   			lda	vdc_regionA_crl, x	; 5
                             	;		asl	a
         00:E0A8  8D 02 02   			sta	VDC_DL			; 6
                             	
         00:E0AB  03 07      			st0	#VDC_BXR		; 2
         00:E0AD  BD 29 27   			lda	vdc_regionA_xl, x	; 5
         00:E0B0  8D 02 02   			sta	VDC_DL			; 6
         00:E0B3  BD 39 27   			lda	vdc_regionA_xh, x	; 5
         00:E0B6  8D 03 02   			sta	VDC_DH			; 6 = 156 cycles from RCR if DUO
                             	
                             	;		bcc	!+
                             	;		lda	vdc_regionA_yh, x	; 5
                             	;		sta.l	VCE_CTW			; 6
                             	
         00:E0B9  8C 69 27   			sty	vdc_next_region		; 5
                             	
  223                        		.else
  225                        		.endif
  226                        	
  227               0001     		.if	SUPPORT_SGX
  228                        	
  229                        			; Handle the SGX's RCR interrupt.
  230                        	
  231    00:E0BC  2F 06 50   	!:		bbr2	<sgx_sr, !+		; 6 Is this an HSYNC interrupt?
  232                        	
  233               0001     		.ifdef	USING_RCR_MACROS
  234                        			SGX_RCR_MACRO
                             	
         00:E0BF  A9 06      			lda	#VDC_RCR		; 2
         00:E0C1  8D 10 02   			sta	SGX_AR			; 6
                             	
         00:E0C4  AE EA 27   			ldx	sgx_next_region		; 5 X and Y can be greater than
         00:E0C7  BC EB 27   			ldy	sgx_regionA_nxt, x	; 5 HUCC_SGX_SPLITS if regionB!
         00:E0CA  18         			clc				; 2
         00:E0CB  D0 05      			bne	!set_next_rcr+		; 4 Stop RCR if next line is 0.
                             	
         00:E0CD  2D 53 E0   			and	const_0000		; 5 A=$00 with the same #cycles
         00:E0D0  80 05      			bra	!clr_next_rcr+		; 4 as if the branch were taken.
                             	
         00:E0D2  B9 9A 27   	!set_next_rcr:	lda	sgx_regionA_rcr, y	; 5 Set next RCR 1 line before
         00:E0D5  69 3F      			adc	#64-1			; 2 the region begins, or 0 to
         00:E0D7  8D 12 02   	!clr_next_rcr:	sta	SGX_DL			; 6 disable.
         00:E0DA  62         			cla				; 2
         00:E0DB  2A         			rol	a			; 2
         00:E0DC  8D 13 02   			sta	SGX_DH			; 6
                             	
         00:E0DF  A9 08      			lda	#VDC_BYR		; 2 Do BYR first to mitigate the
         00:E0E1  8D 10 02   			sta	SGX_AR			; 6 glitch if the IRQ is delayed.
         00:E0E4  BD CA 27   			lda	sgx_regionA_yl, x	; 5
         00:E0E7  8D 12 02   			sta	SGX_DL			; 6
         00:E0EA  BD DA 27   			lda	sgx_regionA_yh, x	; 5
         00:E0ED  8D 13 02   			sta	SGX_DH			; 6
                             	
         00:E0F0  A9 05      			lda	#VDC_CR			; 2
         00:E0F2  8D 10 02   			sta	SGX_AR			; 6
         00:E0F5  BD 8A 27   			lda	sgx_regionA_crl, x	; 5
         00:E0F8  8D 12 02   			sta	SGX_DL			; 6
                             	
         00:E0FB  A9 07      			lda	#VDC_BXR		; 2
         00:E0FD  8D 10 02   			sta	SGX_AR			; 6
         00:E100  BD AA 27   			lda	sgx_regionA_xl, x	; 5
         00:E103  8D 12 02   			sta	SGX_DL			; 6
         00:E106  BD BA 27   			lda	sgx_regionA_xh, x	; 5
         00:E109  8D 13 02   			sta	SGX_DH			; 6 = 293 cycles (282 if no YH)
                             	
         00:E10C  8C EA 27   			sty	sgx_next_region		; 5
                             	
  235                        		.else
  237                        		.endif
  238                        	
  239                        		.endif	SUPPORT_SGX
  240                        	
  241                        			; Handle the VDC's VBL interrupt.
  242                        	
  243    00:E10F  5F F6 32   	!:		bbr5	<vdc_sr, .exit_irq1	; 6 Is this a VBLANK interrupt?
  244                        	
  245               0001     		.ifdef	USING_RCR_MACROS		;   If we didn't do it earlier
  246               0000     		.if	CDROM				;   then we need to do it now.
  253                        		.endif	CDROM
  254                        		.endif	USING_RCR_MACROS
  255                        	
  256               0001     		.if	SUPPORT_SGX
  257    00:E112  A9 05      			lda	#VDC_CR			; Update the SGX's Control
  258    00:E114  8D 10 02   			sta	SGX_AR			; Register first, just in
  259    00:E117  8D 00 02   			sta	VDC_AR			; case this is not an SGX!
  260    00:E11A  A5 03      			lda	<sgx_crl		
  261    00:E11C  8D 12 02   			sta	SGX_DL
  262    00:E11F  A5 F3      			lda	<vdc_crl
  263    00:E121  8D 02 02   			sta	VDC_DL
  264                        	
  265                        	;		lda	<sgx_crh		; Do not mess with the SGX's
  266                        	;		sta	SGX_DH			; auto-increment!!!
  267                        	;		lda	<vdc_crh		; Do not mess with the VDC's
  268                        	;		sta	VDC_DH			; auto-increment!!!
  269                        		.else
  277                        		.endif	SUPPORT_SGX
  278                        	
  279    00:E124  EE 41 22   			inc	irq_cnt			; Mark that a VBLANK occurred.
  280                        	
  281    00:E127  4F F5 02   			bbr4	<irq_vec, .skip_hookv	; Is a driver registered?
  282                        	
  283    00:E12A  44 26      			bsr	.user_vsync		; Call game's VBLANK code.
  284                        	
  285    00:E12C  DF F5 15   	.skip_hookv:	bbs5	<irq_vec, .exit_vbl	; Should we skip "BIOS" stuff?
  286                        	
  287    00:E12F  58         			cli				; Allow HSYNC and TIMER IRQ.
  288                        	
  289    00:E130  20 DB FF   			call	read_joypads		; Update joypad state.
  290                        	
  291               0000     		.if	USING_PSGDRIVER
  305                        		.else
  306    00:E133  AD 07 22   			lda	sound_hook + 1		; Is a driver registered?
  307    00:E136  F0 0C      			beq	.exit_vbl
  308                        	
  309    00:E138  A9 80      			lda	#$80			; Acquire sound mutex to avoid
  310    00:E13A  0C E7 22   			tsb	sound_mutex		; conflict with a delayed VBL.
  311    00:E13D  30 05      			bmi	.exit_vbl
  312                        	
  313    00:E13F  44 14      			bsr	.user_sound		; Call the driver hook.
  314                        	
  315    00:E141  9C E7 22   			stz	sound_mutex		; Release sound mutex.
  316                        		.endif	USING_PSGDRIVER
  317                        	
  318    00:E144             	.exit_vbl:
  319                        	
  320               0001     		.ifdef	USING_RCR_MACROS		; If USING_RCR_MACROS then 
  321               0000     		.if	CDROM				; restore after the VBLANK.
  326                        		.endif	CDROM
  327                        		.endif	USING_RCR_MACROS
  328                        	
  329    00:E144             	.exit_irq1:
  330                        	
  331               0000     		.ifndef	USING_RCR_MACROS		; If !USING_RCR_MACROS then
  338                        		.endif	USING_RCR_MACROS
  339                        	
  340               0001     		.if	SUPPORT_SGX
  341    00:E144  A5 07      			lda	<sgx_reg		; Restore SGX_AR first, just
  342    00:E146  8D 10 02   			sta	SGX_AR			; in case this is not an SGX!
  343                        		.endif
  344                        	
  345    00:E149  A5 F7      			lda	<vdc_reg		; Restore VDC_AR in case we
  346    00:E14B  8D 00 02   			sta	VDC_AR			; changed it.
  347                        	
  348    00:E14E  7A         			ply				; Restore all registers.
  349    00:E14F  FA         			plx
  350    00:E150  68         			pla
  351                        	
  352    00:E151  40         			rti				; Return from interrupt.
  353                        	
  354    00:E152  6C 08 22   	.user_vsync:	jmp	[vsync_hook]		; 7
  355    00:E155  6C 06 22   	.user_sound:	jmp	[sound_hook]		; 7
  356                        	
  357               0000     		.ifndef	USING_RCR_MACROS
  362                        		.endif	USING_RCR_MACROS
  363                        	
  364                        	
  365                        	
  366                        	; ***************************************************************************
  367                        	; ***************************************************************************
  368                        	;
  369                        	; core_timer - Minimal interrupt handler compatible with System Card.
  370                        	;
  371                        	; tirq_handler - Basic "CORE(not TM)" TIRQ handler to use as the "timer_hook".
  372                        	;
  373                        	; Doing the TIRQ handler processing in this hook means that things operate
  374                        	; the same whether the System Card or an Overlay is paged into MPR7.
  375                        	
  376               0000     		.ifndef	HUCC
  385                        		.else
  386                        			; Faster IRQ servicing for HuCC and code that would like to
  387                        			; avoid the 8 cycles used by the "bbs2" instruction that is
  388                        			; taken when the System Card is mapped into MPR7.
  389                        	
  390    00:E158             	core_timer:	;;;				; 8 (cycles for the INT)
  391               0001     		.if	CDROM || !defined(NO_CORE_TIRQ_HOOK)
  392    00:E158  6C 04 22   			jmp	[timer_hook]		; 7 cycles.
  393                        		.endif
  394                        		.endif
  395                        	
  396    00:E15B             	tirq_handler:
  397               0000     		.ifdef	USING_TIRQ_MACRO
  399                        		.else
  400    00:E15B  9C 03 14   			stz	IRQ_ACK			; 5 Clear timer interrupt.
  401                        		.endif
  402                        	
  403    00:E15E  40         	core_rti:	rti
  404                        	
  405                        	
  406                        	
  407                        	; ***************************************************************************
  408                        	; ***************************************************************************
  409                        	;
  410                        	; core_clr_hooks - Reset default "CORE(not TM)" interrupt-handling hooks.
  411                        	;
  412                        	
  413    00:E15F  08         	core_clr_hooks:	php				; Preserve interrupt state.
  414    00:E160  78         			sei				; Disable interrupts.
  415                        	
  416               0000     		.if	USING_PSGDRIVER
  419                        		.else
  420    00:E161  9C 07 22   			stz.h	sound_hook		; Disable sound driver calls.
  421                        		.endif
  422                        	
  423    00:E164  A9 88      			lda	#<core_sw_reset		; Set up the soft-reset hook.
  424    00:E166  8D 84 22   			sta.l	reset_hook
  425    00:E169  A9 E1      			lda	#>core_sw_reset
  426    00:E16B  8D 85 22   			sta.h	reset_hook
  427                        	
  428    00:E16E  A9 67      			lda	#<irq1_handler		; Set up the IRQ1 hook.
  429    00:E170  8D 02 22   			sta.l	irq1_hook
  430    00:E173  A9 E0      			lda	#>irq1_handler
  431    00:E175  8D 03 22   			sta.h	irq1_hook
  432                        	
  433    00:E178  A9 5B      			lda	#<tirq_handler		; Set up the TIRQ hook.
  434    00:E17A  8D 04 22   			sta.l	timer_hook
  435    00:E17D  A9 E1      			lda	#>tirq_handler
  436    00:E17F  8D 05 22   			sta.h	timer_hook
  437                        	
  438    00:E182  A9 06      			lda	#%00000110		; Replace the System Card's
  439    00:E184  85 F5      			sta	<irq_vec		; IRQ1 and TIRQ processing.
  440                        	
  441    00:E186  28         			plp				; Restore interrupt state.
  442    00:E187  60         			rts
  443                        	
  444                        	
  445                        	
  446                        	; ***************************************************************************
  447                        	; ***************************************************************************
  448                        	;
  449                        	; Include the joypad library, with configuration from "core-config.inc".
  450                        	;
  451                        	
                             #[6]   "..\..\..\include\hucc\joypad.asm"
  452                        			include "joypad.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; joypad.asm
    5                        	;
    6                        	; Read 2-button & 6-button joypads & PCE mouse, with or without a MultiTap.
    7                        	;
    8                        	; Copyright John Brandwood 2019-2025.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; Unlike Lemmings, this code does not interfere with a Memory Base 128! ;-)
   18                        	;
   19                        	; ***************************************************************************
   20                        	; ***************************************************************************
   21                        	;
   22                        	; With SUPPORT_MOUSE ..... 2602 cycles to read 5 ports with 5 mice
   23                        	;
   24                        	; With HuC library code .. 2442 cycles to read 5 ports with 5 pads (2-button)
   25                        	; With HuC library code .. 2442 cycles to read 5 ports with 5 pads (6-button)
   26                        	;
   27                        	; With SUPPORT_MOUSE ....  2016 cycles to read 5 ports with 5 pads (2-button)
   28                        	; With SUPPORT_MOUSE ..... 1976 cycles to read 5 ports with 5 pads (6-button)
   29                        	;
   30                        	; With SUPPORT_MOUSE ....  1618 cycles to read 3 ports with 3 mice
   31                        	; With SUPPORT_MOUSE ..... 1462 cycles to read 3 ports with 2 mice
   32                        	; With SUPPORT_MOUSE ..... 1306 cycles to read 3 ports with 1 mouse
   33                        	;
   34                        	; With SUPPORT_6BUTTON ... 1235 cycles to read 5 ports with 5 pads (2-button)
   35                        	; With SUPPORT_6BUTTON ... 1215 cycles to read 5 ports with 5 pads (6-button)
   36                        	;
   37                        	; With SUPPORT_MOUSE ..... 1126 cycles to read 2 ports with 2 mice
   38                        	; With SUPPORT_MOUSE ...... 970 cycles to read 2 ports with 1 mouse
   39                        	;
   40                        	; Only SUPPORT_2BUTTON .... 971 cycles to read 5 ports with 5 pads (2-button)
   41                        	; Only SUPPORT_2BUTTON .... 861 cycles to read 5 ports with 5 pads (6-button)
   42                        	;
   43                        	; With SUPPORT_MOUSE ...... 634 cycles to read 1 port  with 1 mouse
   44                        	;
   45                        	; ***************************************************************************
   46                        	; ***************************************************************************
   47                        	
  142                        	
  143                        	;
  144                        	; Now choose which version of the code to include.
  145                        	;
  146                        	
  147               0000     		.if	SUPPORT_2BUTTON
  278                        		.endif	SUPPORT_2BUTTON
  279                        	
  280                        	
  281                        	
  282               0000     		.if	SUPPORT_MOUSE
  845                        		.else	SUPPORT_MOUSE
  846                        	
  847                        	
  848                        	
  849               0001     		.if	SUPPORT_6BUTTON			; Without mouse!
  850                        	
  851                        	; ***************************************************************************
  852                        	; ***************************************************************************
  853                        	;
  854                        	; read_joypads - full 6-button pad support, but mouse movement is ignored.
  855                        	;
  856                        	; This code distinguishes between a mouse and a 2-button or 6-button joypad,
  857                        	; so that unsupported devices do not have to be unplugged from the MultiTap.
  858                        	;
  859                        	; The code loops two times to get both sets of buttons on a 6-button joypad.
  860                        	;
  861                        	; N.B. Takes approx 1/3 frame to detect mice the first time it is run.
  862                        	;
  863                        	; bit values for joypad 2-button bytes: (MSB = #7; LSB = #0)
  864                        	; ----------------------------------------------------------
  865                        	; bit 0 (ie $01) = I
  866                        	; bit 1 (ie $02) = II
  867                        	; bit 2 (ie $04) = SELECT
  868                        	; bit 3 (ie $08) = RUN
  869                        	; bit 4 (ie $10) = UP
  870                        	; bit 5 (ie $20) = RIGHT
  871                        	; bit 6 (ie $40) = DOWN
  872                        	; bit 7 (ie $80) = LEFT
  873                        	;
  874                        	; bit values for joypad 6-button bytes: (MSB = #7; LSB = #0)
  875                        	; ----------------------------------------------------------
  876                        	; bit 0 (ie $01) = III
  877                        	; bit 1 (ie $02) = IV
  878                        	; bit 2 (ie $04) = V
  879                        	; bit 3 (ie $08) = VI
  880                        	; bit 4 (ie $10) = zero
  881                        	; bit 5 (ie $20) = zero
  882                        	; bit 6 (ie $40) = zero
  883                        	; bit 7 (ie $80) = zero, but set to one if 6-button pad detected.
  884                        	;
  885                        	
  886               E188     			.code
  887                        	
  888               0001     		.if	(* >= $4000)			; Make this a ".proc" if it
  889    1F:D00A             	read_joypads	.proc                           ; not running in RAM.
  890                        		.else
  892                        		.endif
  893                        	
  894    1F:D00A  A9 80      			lda	#$80			; Acquire port mutex to avoid
  895    1F:D00C  0C D0 22   			tsb	port_mutex		; conflict with a delayed VBL
  896    1F:D00F  30 75      			bmi	.exit			; or access to an MB128.
  897                        	
  898    1F:D011  73 28 22 32			tii	joynow,joyold,MAX_PADS	; Save the previous values.
         1F:D015  22 05 00    
  899    1F:D018  73 D3 22 D8			tii	joy6now,joy6old,MAX_PADS
         1F:D01C  22 05 00    
  900                        	
  901                        			; Reset the 6-btn bits, the user might change the joypad mode!
  902                        	
  903    1F:D01F  F3 53 E0 D3			tai	const_0000, joy6now, MAX_PADS
         1F:D023  22 05 00    
  904                        	
  905                        			; Detect attached mice the first time this routine is called.
  906                        	
  907    1F:D026  AD D2 22   			lda	mouse_flg		; Has mouse detection happened?
  908    1F:D029  30 28      			bmi	.calc_pressed
  909                        	
  910    1F:D02B  A9 05      			lda	#MAX_PADS		; Reset number of pads to read.
  911    1F:D02D  8D D1 22   			sta	num_ports
  912                        	
  913    1F:D030  A9 1F      			lda	#%00011111		; Try reading everything as a
  914    1F:D032  8D D2 22   			sta	mouse_flg		; mouse.
  915                        	
  916    1F:D035  A0 17      			ldy	#23			; Initialize repeat count.
  917    1F:D037  A9 80      			lda	#$80			; Initialize mouse detection.
  918    1F:D039  5A         	.detect_loop:	phy
  919    1F:D03A  48         			pha
  920    1F:D03B  44 53      			bsr	.read_devices		; Read all devices as if mice.
  921    1F:D03D  68         			pla
  922    1F:D03E  82         			clx
  923    1F:D03F  BC E2 22   	.detect_port:	ldy	mouse_x, x		; A movement of zero means
  924    1F:D042  D0 03      			bne	.detect_next		; this port is a mouse.
  925    1F:D044  1D 55 E0   			ora	bit_mask, x
  926    1F:D047  E8         	.detect_next:	inx				; Get the next pad from the
  927    1F:D048  E0 05      			cpx	#MAX_PADS		; multitap.
  928    1F:D04A  D0 F3      			bne	.detect_port
  929    1F:D04C  7A         			ply				; Repeat the detection test.
  930    1F:D04D  88         			dey
  931    1F:D04E  D0 E9      			bne	.detect_loop
  932                        	
  933                        	;	.if	DETECT_PHANTOMS
  934                        	;		cmp	#(1 << MAX_PADS) + 127	; If we find a mouse in every
  935                        	;		bne	.detect_done		; port, then assume mirrored!
  936                        	;		lda	#1			; Report a single mouse in a
  937                        	;		sta	num_ports		; single port.
  938                        	;		lda	#$81
  939                        	;	.endif
  940                        	
  941    1F:D050  8D D2 22   	.detect_done:	sta	mouse_flg		; Report mouse detection.
  942                        	
  943                        			; See what has just been pressed, and check for soft-reset.
  944                        	
  945    1F:D053  44 3B      	.calc_pressed:	bsr	.read_devices		; Read all devices normally.
  946                        	
  947    1F:D055  A2 04      			ldx	#MAX_PADS - 1
  948                        	
  949    1F:D057  BD D3 22   	.pressed_loop:	lda	joy6now, x		; Calc which buttons have just
  950    1F:D05A  5D D8 22   			eor	joy6old, x		; been pressed (6-button).
  951    1F:D05D  3D D3 22   			and	joy6now, x
  952               0000     		.if	HUC_JOY_EVENTS
  956                        		.else
  957               0000     		.if	ACCUMULATE_JOY
  959                        		.endif
  960    1F:D060  9D DD 22   			sta	joy6trg, x
  961                        		.endif
  962                        	
  963    1F:D063  BD 28 22   			lda	joynow, x		; Calc which buttons have just
  964    1F:D066  A8         			tay                             ; been pressed (2-button).
  965    1F:D067  5D 32 22   			eor	joyold, x
  966    1F:D06A  3D 28 22   			and	joynow, x
  967               0000     		.if	HUC_JOY_EVENTS
  971                        		.else
  972               0000     		.if	ACCUMULATE_JOY
  974                        		.endif
  975    1F:D06D  9D 2D 22   			sta	joytrg, x
  976                        		.endif
  977                        	
  978    1F:D070  C9 04      			cmp	#$04			; Detect the soft-reset combo,
  979    1F:D072  D0 0C      			bne	.not_reset		; hold RUN then press SELECT.
  980    1F:D074  C0 0C      			cpy	#$0C
  981    1F:D076  D0 08      			bne	.not_reset
  982    1F:D078  BD 55 E0   			lda	bit_mask, x
  983    1F:D07B  2C 27 22   			bit	joyena
  984    1F:D07E  D0 09      			bne	.soft_reset
  985                        	
  986    1F:D080  CA         	.not_reset:	dex				; Check the next pad from the
  987    1F:D081  10 D4      			bpl	.pressed_loop		; multitap.
  988                        	
  989    1F:D083  9C D0 22   			stz	port_mutex		; Release port mutex.
  990                        	
  991               0001     		.if	(* >= $4000)			; This is a ".proc" if it is
  992                        	.exit:		leave                           ; not running in RAM.
         1F:D086  4C EF FF   			jmp	leave_proc
  993                        		.else
  995                        		.endif
  996                        	
  997    1F:D089  78         	.soft_reset:	sei				; Disable interrupts.
  998    1F:D08A  9C D0 22   			stz	port_mutex		; Release port mutex.
  999    1F:D08D  6C 84 22   			jmp	[reset_hook]		; Jump to the soft-reset hook.
 1000                        	
 1001                        			; Read all of the devices attached to the MultiTap.
 1002                        	
 1003    1F:D090  A2 02      	.read_devices:	ldx	#2			; Repeat this loop 2 times.
 1004                        	
 1005    1F:D092  A9 01      	.read_multitap:	lda	#$01			; CLR lo, SEL hi for d-pad.
 1006    1F:D094  8D 00 10   			sta	IO_PORT
 1007    1F:D097  A9 03      			lda	#$03			; CLR hi, SEL hi, reset tap.
 1008    1F:D099  8D 00 10   			sta	IO_PORT
 1009    1F:D09C  C2         			cly				; Start at port 1.
 1010                        	
 1011    1F:D09D  A9 01      	.read_port:	lda	#$01			; CLR lo, SEL hi for d-pad.
 1012    1F:D09F  8D 00 10   			sta	IO_PORT			; Wait 1.25us (9 cycles).
 1013                        	
 1014    1F:D0A2  B9 55 E0   			lda	bit_mask, y		; Is there a mouse attached?
 1015    1F:D0A5  2D D2 22   			and	mouse_flg
 1016    1F:D0A8  D0 33      			bne	.read_mouse
 1017                        	
 1018    1F:D0AA  AD 00 10   	.read_pad:	lda	IO_PORT			; Read direction-pad bits.
 1019    1F:D0AD  9C 00 10   			stz	IO_PORT			; CLR lo, SEL lo for buttons.
 1020    1F:D0B0  0A         			asl	a			; Wait 1.25us (9 cycles).
 1021    1F:D0B1  0A         			asl	a
 1022    1F:D0B2  0A         			asl	a
 1023    1F:D0B3  0A         			asl	a
 1024    1F:D0B4  F0 1B      			beq	.read_6button		; 6-btn pad if UDLR all held.
 1025                        	
 1026    1F:D0B6  99 28 22   	.read_2button:	sta	joynow, y		; Get buttons of 2-btn pad.
 1027    1F:D0B9  AD 00 10   			lda	IO_PORT
 1028    1F:D0BC  29 0F      			and	#$0F
 1029    1F:D0BE  19 28 22   			ora	joynow, y
 1030    1F:D0C1  49 FF      			eor	#$FF
 1031    1F:D0C3  99 28 22   			sta	joynow, y
 1032                        	
 1033    1F:D0C6  C8         	.next_port:	iny				; Get the next pad from the
 1034    1F:D0C7  CC D1 22   			cpy	num_ports		; multitap.
 1035    1F:D0CA  90 D1      			bcc	.read_port
 1036                        	
 1037    1F:D0CC  CA         			dex				; Do the next complete pass.
 1038    1F:D0CD  CA         			dex
 1039    1F:D0CE  10 C2      			bpl	.read_multitap		; Have we finished 2 passes?
 1040    1F:D0D0  60         			rts				; Now that everything is read.
 1041                        	
 1042    1F:D0D1  AD 00 10   	.read_6button:	lda	IO_PORT			; Get buttons of 6-btn pad.
 1043    1F:D0D4  29 0F      			and	#$0F
 1044    1F:D0D6  49 8F      			eor	#$8F			; Set bit-7 to show that a
 1045    1F:D0D8  99 D3 22   			sta	joy6now, y		; 6-button pad is present.
 1046    1F:D0DB  80 E9      			bra	.next_port
 1047                        	
 1048    1F:D0DD  7C 0E D1   	.read_mouse:	jmp	[.mouse_vectors, x]	; Which mouse info is next?
 1049                        	
 1050                        			; Mouse processing, normally four passes, here just two.
 1051                        	
 1052    1F:D0E0  A9 1C      	.mouse_x_hi:	lda	#28			; 189 cycle delay after CLR lo
 1053    1F:D0E2  3A         	.wait_loop:	dec	a			; on port to allow the mouse
 1054    1F:D0E3  D0 FD      			bne	.wait_loop		; to buffer and reset counters.
 1055                        	
 1056    1F:D0E5  AD 00 10   			lda	IO_PORT			; Read direction-pad bits.
 1057    1F:D0E8  9C 00 10   			stz	IO_PORT			; CLR lo, SEL lo for buttons.
 1058    1F:D0EB  0A         			asl	a			; Wait 1.25us (9 cycles).
 1059    1F:D0EC  0A         			asl	a
 1060    1F:D0ED  0A         			asl	a
 1061    1F:D0EE  0A         			asl	a
 1062    1F:D0EF  99 E2 22   			sta	mouse_x, y		; Save port's X-hi nibble.
 1063                        	
 1064    1F:D0F2  AD 00 10   			lda	IO_PORT			; Get mouse buttons.
 1065    1F:D0F5  29 0F      			and	#$0F
 1066    1F:D0F7  49 0F      			eor	#$0F
 1067    1F:D0F9  99 28 22   			sta	joynow, y
 1068    1F:D0FC  80 C8      			bra	.next_port
 1069                        	
 1070    1F:D0FE  AD 00 10   	.mouse_x_lo:	lda	IO_PORT			; Read direction-pad bits.
 1071    1F:D101  9C 00 10   			stz	IO_PORT			; CLR lo, SEL lo for buttons.
 1072    1F:D104  29 0F      			and	#$0F			; Wait 1.25us (9 cycles).
 1073    1F:D106  19 E2 22   			ora	mouse_x, y		; Add port's X-hi nibble.
 1074                        	;		eor	#$FF			; Negate so LEFT is -ve.
 1075                        	;		inc	a
 1076    1F:D109  99 E2 22   			sta	mouse_x, y
 1077    1F:D10C  80 B8      			bra	.next_port
 1078                        	
 1079    1F:D10E  FE D0      	.mouse_vectors: dw	.mouse_x_lo		; Pass 2
 1080    1F:D110  E0 D0      			dw	.mouse_x_hi		; Pass 1
 1081                        	
 1082               0001     		.if	(* >= $4000)			; This is a ".proc" if it is
 1083                        			.endp                           ; not running in RAM.
 1084               22D0     			.bss				; Put the variables in RAM.
 1085                        		.endif
 1086                        	
 1087    F8:22D0             	port_mutex:	ds	1			; NZ when controller port busy.
 1088    F8:22D1             	num_ports:	ds	1			; Set to 1 if no multitap.
 1089    F8:22D2             	mouse_flg:	ds	1			; Which ports are mice?
 1090               0000     		.if	HUC_JOY_EVENTS
 1093                        		.endif
 1094    F8:22D3             	joy6now:	ds	MAX_PADS
 1095    F8:22D8             	joy6old:	ds	MAX_PADS
 1096    F8:22DD             	joy6trg:	ds	MAX_PADS
 1097    F8:22E2             	mouse_x:	ds	MAX_PADS
 1098                        	
 1099               E188     			.code
 1100                        	
 1101                        		.endif	SUPPORT_6BUTTON			; Without mouse!
 1102                        	
 1103                        		.endif	SUPPORT_MOUSE
                             #[5]   "..\..\..\include\hucc\core-kernel.asm"
  453                        	
  454                        	
  455                        	
  456               0001     		.if	!CDROM
  457                        	
  458                        	; ***************************************************************************
  459                        	; ***************************************************************************
  460                        	;
  461                        	; core_sw_reset - Default HuCARD handler for a joypad "soft-reset".
  462                        	;
  463                        	
  464    00:E188  78         	core_sw_reset:	sei				; Disable interrupts.
  465                        	
  466    00:E189  6C FE FF   			jmp	[$FFFE]			; Jump to the HuCARD reset.
  467                        	
  468                        	
  469                        	
  470                        		.else	!CDROM
  616                        		.endif	!CDROM
  617                        	
  618                        	
  619                        	
  620                        	; ***************************************************************************
  621                        	; ***************************************************************************
  622                        	
  623               0001     		.if	(core_kernel >= $4000)		; If not running in RAM, then
  624               22E7     			.bss				; put these variables in RAM.
  625                        		.endif
  626                        	
  627    F8:22E7             	sound_mutex:	ds	1			; NZ when controller port busy.
  628                        	
  629               0001     		.if	SUPPORT_SGX
  630    F8:22E8             	sgx_detected:	ds	1			; NZ if SuperGrafx detected.
  631    F8:22E9             	hsync_hook_sgx:	ds	2			; SGX version of hsync_hook.
  632                        		.endif
  633                        	
  634               0000     		.if	SUPPORT_ACD
  636                        		.endif
  637                        	
  638               0001     		.if	(core_kernel >= $4000)
  639               E18C     			.code
  640                        		.endif
                             #[4]   "..\..\..\include\hucc\core-startup.asm"
  427                        	
  428                        	
  429                        	
  430                        		.else	!CDROM
  524                        		.endif	!CDROM
  525                        	
  526                        	
  527                        	
  528                        	; ***************************************************************************
  529                        	; ***************************************************************************
  530                        	;
  531                        	; With the availability of so many different configuration options, we've now
  532                        	; built somewhere between a few hundred bytes, and a couple of KB, of code in
  533                        	; the CORE_BANK of the HuCARD / overlay program.
  534                        	;
  535                        	; This is the end of the "CORE(not TM)" library code!
  536                        	;
  537                        	; Remember that the ".proc" trampolines are located at the end of this bank,
  538                        	; so the amount of free space left depends upon the number of ".proc" calls.
  539                        	;
  540                        	
  541                        			; Switch to CORE_PAGE to run the developer's game code.
  542               E18C     			.page	CORE_PAGE
  543                        	
  544                        	
  545                        	
  546                        	; ***************************************************************************
  547                        	; ***************************************************************************
  548                        	;
  549                        	; The DATA_BANK location needs to be set as early as possible so that library
  550                        	; code is able to put data in there before the total overall size of the code
  551                        	; is known.
  552                        	;
  553                        	; By default, DATA_BANK is the next bank after the CORE_BANK.
  554                        	;
  555                        	; RESERVE_BANKS allows developers to reserve some banks between the CORE_BANK
  556                        	; and the DATA_BANK that they can use however they wish.
  557                        	;
  558                        	; One use for RESERVE_BANKS is to create empty space that PCEAS can use when
  559                        	; it relocates procedures. This provides a way for a developer to group code
  560                        	; together at the start of memory, and leave the maximum number of banks for
  561                        	; loading dynamic data from CD-ROM.
  562                        	;
  563                        	; The KickC environment sets RESERVE_BANKS=1 (or higher) so that there is a
  564                        	; a bank for the permanent C code and static constants.
  565                        	;
  566                        	; RESERVE_BANKS is normally defined in each project's "core-config.inc".
  567                        	;
  568                        	
  569                        			.opt	d+			; DATA labels use fixed MPR.
  570                        	
  571               0001     			.rsset	CORE_BANK + 1
  572                        	
  573               0000     		.ifdef	NEED_HOME_BANK
  580                        		.endif
  581                        	
  582               0001     		.ifdef	NEED_SOUND_BANK			; Defined in hucc-sound.inc
  583               0000     		.if	NEED_SOUND_BANK			; if the driver wants a bank.
  585                        		.endif
  586                        		.endif
  587                        	
  588               0001     		.ifdef	RESERVE_BANKS			; For CORE projects.
  589               0001     	RESERVED_BANK	.rs	RESERVE_BANKS
  590                        		.endif
  591                        	
  592               0001     		.ifdef	HUCC
  593               0001     		.ifdef	HUC_RESERVE_BANKS		; For HuCC projects.
  594               0001     	HUC_USER_BANK	.rs	HUC_RESERVE_BANKS
  595                        		.endif
  596                        	
  597               0001     	CONST_BANK	.rs	2
  598               6000     			.rodata
  599               0001     			.bank	CONST_BANK, ".rodata"
  600                        		.endif	HUCC
  601                        	
  602               0003     	DATA_BANK	.rs	0
  603               6000     			.data
  604               0000     		.if	BUILDING_STAGE1
  606                        		.else
  607               0003     			.bank	DATA_BANK, ".data"
  608                        		.endif
  609               6000     			.org	$6000
  610                        	
  611               E18C     			.code
                             #[3]   "..\..\..\include\hucc\core.inc"
                             #[2]   "..\..\..\include\hucc\hucc.asm"
  120                        		.else
  126                        		.endif
  127                        	
  128                        			; Allocate this as early as possible to ensure bank-aligned
  129                        			; so that there is no wasted space for aligning the table.
  130                        	
  131               0000     		.if	FAST_MULTIPLY
  138                        		.endif
  139                        	
  140                        			; Mark the start of the .XDATA, .XINIT and .XSTRZ sections
  141                        	
  142               2C24     			.xdata
  143    F8:2C24             	_xdata_start:
  144               6333     			.xinit
  145    01:6333             	_xinit_start:
  146               6333     			.xstrz
  147    01:6333             	_xstrz_start:
  148               E18C     			.code
  149                        	
  150                        			;
  151                        	
  154                        	
  155                        			; The hardware stack is used for expressions.
  156                        	
  157               00FF     	__tos		=	$F8:2101, 255
  158                        	
  159               2008     			.zp
  160               2008     			.align	2
  161    F8:2008             	__stack:	ds	HUCC_STACK_SZ
  162                        	
  163    F8:2088             	__ptr:		ds	2
  164    F8:208A             	__fptr:		ds	2
  165    F8:208C             	__fbank:	ds	1
  166    F8:208D             	__sp:		ds	1
  167                        	
  168                        			; REGTEMP 6-byte stack for temporaries used by SDCC.
  169                        			; Keep the size in sync with NUM_TEMP_REGS in sdcc/src/mos6502/gen.h!
  170                        	
  171    F8:208E             	REGTEMP:	ds	6
  172                        	
  173                        			; HuCC's non-recursive consecutive varargs for printf().
  174                        	
  175               2008     	__vararg1	=	__stack + 0
  176               200A     	__vararg2	=	__stack + 2
  177               200C     	__vararg3	=	__stack + 4
  178               200E     	__vararg4	=	__stack + 6
  179                        	
  180                        			; Pointer used by poke() because __ptr could be overwritten.
  181                        	
  182               20EE     	__poke		=	__si
  183                        	
  184                        			; Used for indirect calls because __ptr could be overwritten.
  185                        	
  186               20EE     	__func		=	__si
  187                        	
  188                        			; Data pointer used by SDCC for indirect indexed memory access.
  189                        	
  190               2088     	DPTR		=	__ptr
  191                        	
  192                        			; Values returned from SDCC functions that don't fit into XA.
  193                        			; These are also used as workspace for SDCC library functions,
  194                        			; including HuCC's multiplication and division functions.
  195                        	
  196    F8:2094             	___SDCC_m6502_ret0:	ds	1
  197    F8:2095             	___SDCC_m6502_ret1:	ds	1
  198    F8:2096             	___SDCC_m6502_ret2:	ds	1
  199    F8:2097             	___SDCC_m6502_ret3:	ds	1
  200                        	
  201               0000     		.if	0
  206                        		.endif
  207                        	
  208                        			; Permanent pointers for fast table-of-squares multiplication.
  209                        	
  210               0000     		.if	FAST_MULTIPLY
  215                        		.endif
  216                        	
  217                        			; HuCC keeps a realtime clock, updated in hucc_vbl.
  218                        			;
  219                        			; Defining this here means that it will go before any HuCC
  220                        			; variables in "globals.h", and so it won't get cleared in
  221                        			; a CDROM game when loading different overlays.
  222                        	
  223               22EB     			.bss
  224    F8:22EB             	old_cnt:	ds	1			; irq_cnt of previous vsync().
  225    F8:22EC             	__clock_tt:	ds	1			; System Clock, ticks	(0-59).
  226    F8:22ED             	__clock_ss:	ds	1			; System Clock, seconds (0-59).
  227    F8:22EE             	__clock_mm:	ds	1			; System Clock, minutes (0-59).
  228    F8:22EF             	__clock_hh:	ds	1			; System Clock, hours	(0-11).
  229               E18C     			.code
  230                        	
  231                        			; Reset the stack size needed for leaf functions.
  232                        			;
  233                        			; This is a variable that compiled HuCC code updates at the end
  234                        			; of each source file to store the largest leaf stack size.
  235                        	
  236               0000     	leaf_needs	.set	0
  237                        	
  238                        			; Critical HuCC libraries that the compiler depends upon.
  239                        			;
  240                        			; These include various macros that must be defined before
  241                        			; they are encountered in any compiler-generated code.
  242                        	
                             #[3]   "..\..\..\include\hucc\hucc-codegen.asm"
  243                        			include "hucc-codegen.asm"	; HuCC i-code macros and funcs.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-codegen.asm
    5                        	;
    6                        	; The HuCC compiler translates C code into these macros, it does not directly
    7                        	; generate HuC6280 instructions.
    8                        	;
    9                        	; Based on the original HuC macros created by David Michel and the other HuC
   10                        	; developers, later modified and improved by Ulrich Hecht.
   11                        	;
   12                        	; Modifications copyright John Brandwood 2024.
   13                        	;
   14                        	; Distributed under the Boost Software License, Version 1.0.
   15                        	; (See accompanying file LICENSE_1_0.txt or copy at
   16                        	;  http://www.boost.org/LICENSE_1_0.txt)
   17                        	;
   18                        	; ***************************************************************************
   19                        	; ***************************************************************************
   20                        	;
   21                        	; NAMING SCHEME FOR HuCC MACROS ...
   22                        	;
   23                        	;   __function.parameters
   24                        	;
   25                        	; {parameters} is a list of alphanumeric specifiers, starting with {size} and
   26                        	; followed by {where}, followed by {index} if an array, then optional {value}
   27                        	; and finally ending with optional {suffix}
   28                        	;
   29                        	; {size}
   30                        	;   w : 16-bit signed int (default "int" in HuCC)
   31                        	;   c : 16-bit unsigned int (a "cardinal" in Pascal terms)
   32                        	;   b :  8-bit signed char
   33                        	;   u :  8-bit unsigned char (default "char" in HuCC)
   34                        	;
   35                        	; {where} or {index}
   36                        	;   r : HuCC primary register, made up of the Y:A cpu registers
   37                        	;   t : top of expression stack
   38                        	;   p : indirect pointer, usually [__ptr]
   39                        	;   f : structure field (member) offset value
   40                        	;   i : immediate value, i.e. a decimal number
   41                        	;   m : memory, i.e. C global, static, and "-fno-recursive" variables
   42                        	;   s : stack, i.e. C function parameters and locals (not "-fno-recursive")
   43                        	;   a : array, i.e. C global, static, "-fno-recursive" arrays <= 256 bytes
   44                        	;   x : array index already in the X register
   45                        	;   y : array index already in the Y register
   46                        	;
   47                        	; {value} OPTIONAL
   48                        	;   i : immediate value, i.e. a decimal number
   49                        	;   z : zero value
   50                        	;
   51                        	; {suffix} OPTIONAL
   52                        	;   q : quick, used for optimized math on only 8-bit values, because all math
   53                        	;       is normally promoted to "int" size in C; and when optimized stores do
   54                        	;       not need to preserve the primary register contents
   55                        	;
   56                        	; ***************************************************************************
   57                        	; ***************************************************************************
   58                        	
   59                        	
   60                        	
 8399                        	
 8400                        	; ***************************************************************************
 8401                        	; ***************************************************************************
 8402                        	; subroutines for logical and arithmetic shifts by a constant amount
 8403                        	; ***************************************************************************
 8404                        	; ***************************************************************************
 8405                        	
 8406                        	; **************
 8407                        	; Y:A = Y:A << const
 8408                        	
 8409    00:E1BE  0A         	aslw15:		asl	a
 8410    00:E1BF  0A         	aslw14:		asl	a
 8411    00:E1C0  0A         	aslw13:		asl	a
 8412    00:E1C1  0A         	aslw12:		asl	a
 8413    00:E1C2  0A         	aslw11:		asl	a
 8414    00:E1C3  0A         	aslw10:		asl	a
 8415    00:E1C4  0A         	aslw9:		asl	a
 8416    00:E1C5  A8         	aslw8:		tay
 8417    00:E1C6  62         			cla
 8418    00:E1C7  60         			rts
 8419                        	
 8420               0001     		.if	1
 8421    00:E1C8  66 00      	aslw5:		ror	<__temp
 8422    00:E1CA  6A         			ror	a
 8423    00:E1CB  66 00      	aslw6:		ror	<__temp
 8424    00:E1CD  6A         			ror	a
 8425    00:E1CE  66 00      	aslw7:		ror	<__temp
 8426    00:E1D0  6A         			ror	a
 8427    00:E1D1  A4 00      			ldy	<__temp
 8428    00:E1D3  60         			rts
 8429                        		.else
 8436                        		.endif
 8437    00:E1D4  0A         	aslw4:		asl	a
 8438    00:E1D5  26 00      			rol	<__temp
 8439    00:E1D7  0A         	aslw3:		asl	a
 8440    00:E1D8  26 00      			rol	<__temp
 8441    00:E1DA  0A         	aslw2:		asl	a
 8442    00:E1DB  26 00      			rol	<__temp
 8443    00:E1DD  0A         	aslw1:		asl	a
 8444    00:E1DE  26 00      			rol	<__temp
 8445    00:E1E0  A4 00      	aslw0:		ldy	<__temp
 8446    00:E1E2  60         			rts
 8447                        	
 8448                        	; **************
 8449                        	; Y:A = Y:A >> const
 8450                        	
 8451    00:E1E3  C9 80      	asrw15:		cmp	#$80
 8452    00:E1E5  6A         			ror	a
 8453    00:E1E6  C9 80      	asrw14:		cmp	#$80
 8454    00:E1E8  6A         			ror	a
 8455    00:E1E9  C9 80      	asrw13:		cmp	#$80
 8456    00:E1EB  6A         			ror	a
 8457    00:E1EC  C9 80      	asrw12:		cmp	#$80
 8458    00:E1EE  6A         			ror	a
 8459    00:E1EF  C9 80      	asrw11:		cmp	#$80
 8460    00:E1F1  6A         			ror	a
 8461    00:E1F2  C9 80      	asrw10:		cmp	#$80
 8462    00:E1F4  6A         			ror	a
 8463    00:E1F5  C9 80      	asrw9:		cmp	#$80
 8464    00:E1F7  6A         			ror	a
 8465    00:E1F8  C9 80      	asrw8:		cmp	#$80
 8466    00:E1FA  C2         			cly
 8467    00:E1FB  90 01      			bcc	!+
 8468    00:E1FD  88         			dey
 8469    00:E1FE  60         	!:		rts
 8470                        	
 8471    00:E1FF  C0 80      	asrw7:		cpy	#$80
 8472    00:E201  66 00      			ror	<__temp
 8473    00:E203  6A         			ror	a
 8474    00:E204  C0 80      	asrw6:		cpy	#$80
 8475    00:E206  66 00      			ror	<__temp
 8476    00:E208  6A         			ror	a
 8477    00:E209  C0 80      	asrw5:		cpy	#$80
 8478    00:E20B  66 00      			ror	<__temp
 8479    00:E20D  6A         			ror	a
 8480    00:E20E  C0 80      	asrw4:		cpy	#$80
 8481    00:E210  66 00      			ror	<__temp
 8482    00:E212  6A         			ror	a
 8483    00:E213  C0 80      	asrw3:		cpy	#$80
 8484    00:E215  66 00      			ror	<__temp
 8485    00:E217  6A         			ror	a
 8486    00:E218  C0 80      	asrw2:		cpy	#$80
 8487    00:E21A  66 00      			ror	<__temp
 8488    00:E21C  6A         			ror	a
 8489    00:E21D  C0 80      	asrw1:		cpy	#$80
 8490    00:E21F  66 00      			ror	<__temp
 8491    00:E221  6A         			ror	a
 8492    00:E222  A4 00      	asrw0:		ldy	<__temp
 8493    00:E224  60         			rts
 8494                        	
 8495                        	; **************
 8496                        	; Y:A = Y:A >> const
 8497                        	
 8498    00:E225  4A         	lsrw15:		lsr	a
 8499    00:E226  4A         	lsrw14:		lsr	a
 8500    00:E227  4A         	lsrw13:		lsr	a
 8501    00:E228  4A         	lsrw12:		lsr	a
 8502    00:E229  4A         	lsrw11:		lsr	a
 8503    00:E22A  4A         	lsrw10:		lsr	a
 8504    00:E22B  4A         	lsrw9:		lsr	a
 8505    00:E22C  C2         	lsrw8:		cly
 8506    00:E22D  60         			rts
 8507                        	
 8508    00:E22E  46 00      	lsrw7:		lsr	<__temp
 8509    00:E230  6A         			ror	a
 8510    00:E231  46 00      	lsrw6:		lsr	<__temp
 8511    00:E233  6A         			ror	a
 8512    00:E234  46 00      	lsrw5:		lsr	<__temp
 8513    00:E236  6A         			ror	a
 8514    00:E237  46 00      	lsrw4:		lsr	<__temp
 8515    00:E239  6A         			ror	a
 8516    00:E23A  46 00      	lsrw3:		lsr	<__temp
 8517    00:E23C  6A         			ror	a
 8518    00:E23D  46 00      	lsrw2:		lsr	<__temp
 8519    00:E23F  6A         			ror	a
 8520    00:E240  46 00      	lsrw1:		lsr	<__temp
 8521    00:E242  6A         			ror	a
 8522    00:E243  A4 00      	lsrw0:		ldy	<__temp
 8523    00:E245  60         			rts
 8524                        	
 8525                        	
 8526                        	
 8527                        	; ***************************************************************************
 8528                        	; ***************************************************************************
 8529                        	; subroutines for logical and arithmetic shifts by a variable amount
 8530                        	; ***************************************************************************
 8531                        	; ***************************************************************************
 8532                        	
 8533                        	; **************
 8534                        	; Y:A = Y:A << X
 8535                        	
 8536    00:E246  84 00      	asl.wx:		sty	<__temp
 8537    00:E248  E0 10      			cpx	#16
 8538    00:E24A  B0 37      			bcs	!zero+
 8539    00:E24C  CA         			dex
 8540    00:E24D  30 06      			bmi	.done
 8541    00:E24F  0A         	.loop:		asl	a
 8542    00:E250  26 00      			rol	<__temp
 8543    00:E252  CA         			dex
 8544    00:E253  10 FA      			bpl	.loop
 8545    00:E255  A4 00      	.done:		ldy	<__temp
 8546    00:E257  60         			rts
 8547                        	
 8548                        	; **************
 8549                        	; Y:A = Y:A >> X
 8550                        	
 8551    00:E258  84 00      	asr.wx:		sty	<__temp
 8552    00:E25A  10 17      			bpl	!positive+
 8553    00:E25C  E0 10      	!negative:	cpx	#16
 8554    00:E25E  B0 0D      			bcs	.sign
 8555    00:E260  CA         			dex
 8556    00:E261  30 07      			bmi	.done
 8557    00:E263  38         	.loop:		sec
 8558    00:E264  66 00      			ror	<__temp
 8559    00:E266  6A         			ror	a
 8560    00:E267  CA         			dex
 8561    00:E268  10 F9      			bpl	.loop
 8562    00:E26A  A4 00      	.done:		ldy	<__temp
 8563    00:E26C  60         			rts
 8564                        	
 8565    00:E26D  A9 FF      	.sign:		lda	#$FF
 8566    00:E26F  A8         			tay
 8567    00:E270  60         			rts
 8568                        	
 8569                        	; **************
 8570                        	; Y:A = Y:A >> X
 8571                        	
 8572    00:E271  84 00      	lsr.wx:		sty	<__temp
 8573    00:E273  E0 10      	!positive:	cpx	#16
 8574    00:E275  B0 0C      			bcs	!zero+
 8575    00:E277  CA         			dex
 8576    00:E278  30 06      			bmi	.done
 8577    00:E27A  46 00      	.loop:		lsr	<__temp
 8578    00:E27C  6A         			ror	a
 8579    00:E27D  CA         			dex
 8580    00:E27E  10 FA      			bpl	.loop
 8581    00:E280  A4 00      	.done:		ldy	<__temp
 8582    00:E282  60         			rts
 8583                        	
 8584    00:E283  62         	!zero:		cla
 8585    00:E284  C2         			cly
 8586    00:E285  60         			rts
 8587                        	
 8588                        	
 8589                        	
 8590                        	; ***************************************************************************
 8591                        	; ***************************************************************************
 8592                        	; POTENTIAL OPTIMIZATIONS, NOT YET ADDED
 8593                        	; ***************************************************************************
 8594                        	; ***************************************************************************
                             #[2]   "..\..\..\include\hucc\hucc.asm"
                             #[3]   "..\..\..\include\hucc\hucc-baselib.asm"
  244                        			include	"hucc-baselib.asm"	; HuCC base library macros.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-baselib.asm
    5                        	;
    6                        	; Basic library functions provided (mostly) as macros.
    7                        	;
    8                        	; Copyright John Brandwood 2024-2025.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	
   17                        	
   18                        	
   19                        	; ***************************************************************************
   20                        	; ***************************************************************************
   21                        	;
   22                        	; Make certain System Card variables accessible to HuCC.
   23                        	
   24    00:E286             	_irq_cnt	.alias	irq_cnt
   25    00:E286             	_joynow		.alias	joynow
   26    00:E286             	_joytrg		.alias	joytrg
   27    00:E286             	_joy6now	.alias	joy6now
   28    00:E286             	_joy6trg	.alias	joy6trg
   29    00:E286             	_bg_x1		.alias	bg_x1
   30    00:E286             	_bg_y1		.alias	bg_y1
   31    00:E286             	_bg_x2		.alias	bg_x2
   32    00:E286             	_bg_y2		.alias	bg_y2
   33                        	
   34                        	
   35                        	
   36                        	; ***************************************************************************
   37                        	; ***************************************************************************
   38                        	;
   39                        	; void __fastcall dump_screen( void );
   40                        	;
   41                        	; THIS IS AN ILLEGAL INSTRUCTION ONLY IMPLEMENTED BY THE TGEMU EMULATOR!
   42                        	
   43    00:E286  33         	_dump_screen:	db	0x33
   44                        	
   45                        	
   46                        	
   47                        	; ***************************************************************************
   48                        	; ***************************************************************************
   49                        	;
   50                        	; void __fastcall abort( void );
   51                        	;
   52                        	; THIS IS AN ILLEGAL INSTRUCTION ONLY IMPLEMENTED BY THE TGEMU EMULATOR!
   53                        	
   54    00:E287  E2         	_abort:		db	0xE2
   55                        	
   56                        	
   57                        	
   58                        	; ***************************************************************************
   59                        	; ***************************************************************************
   60                        	;
   61                        	; void __fastcall exit( int value<acc> );
   62                        	;
   63                        	; THIS IS AN ILLEGAL INSTRUCTION ONLY IMPLEMENTED BY THE TGEMU EMULATOR!
   64                        	
   65    00:E288  AA         	_exit.1:	tax				; Put the return code into X.
   66    00:E289  63         			db	0x63
   67                        	
   68    00:E28A  80 FE      	.hang:		bra	.hang			; Hang if used in normal code.
   69                        	
   70                        	
   71                        	
   72                        	; ***************************************************************************
   73                        	; ***************************************************************************
   74                        	;
   75                        	; unsigned char __fastcall __macro cd_execoverlay( unsigned char ovl_index<acc> );
   76                        	;
   77                        	; Execute program overlay from disc
   78                        	;
   79                        	; N.B. This does not return, even if there's an error.
   80                        	
   81                        			.macro	_cd_execoverlay.1
   82                        			tax
   83                        			jmp	exec_overlay
   84                        			.endm
   85                        	
   86                        	
   87                        	
   88                        	; ***************************************************************************
   89                        	; ***************************************************************************
   90                        	;
   91                        	; void __fastcall __nop set_far_base( unsigned char data_bank<_bp_bank>, unsigned char *data_addr<_bp> );
   92                        	; void __fastcall set_far_offset( unsigned int offset<_bp>, unsigned char data_bank<_bp_bank>, unsigned char *data_addr<acc> );
   93                        	
   94    00:E28C             	_set_far_offset.3:
   95    00:E28C  18         			clc
   96    00:E28D  65 EC      			adc.l	<_bp
   97    00:E28F  85 EC      			sta.l	<_bp
   98    00:E291  98         			tya
   99    00:E292  29 1F      			and	#$1F
  100    00:E294  65 ED      			adc.h	<_bp
  101    00:E296  A8         			tay
  102    00:E297  29 1F      			and	#$1F
  103    00:E299  09 60      			ora	#$60
  104    00:E29B  85 ED      			sta.h	<_bp
  105    00:E29D  98         			tya
  106    00:E29E  6A         			ror	a
  107    00:E29F  4A         			lsr	a
  108    00:E2A0  4A         			lsr	a
  109    00:E2A1  4A         			lsr	a
  110    00:E2A2  4A         			lsr	a
  111    00:E2A3  18         			clc
  112    00:E2A4  65 02      			adc	<_bp_bank
  113    00:E2A6  85 02      			sta	<_bp_bank
  114    00:E2A8  60         			rts
  115                        	
  116                        	
  117                        	; ***************************************************************************
  118                        	; ***************************************************************************
  119                        	;
  120                        	; void __fastcall __macro reset_mpr2( void );
  121                        	; void __fastcall __macro reset_mpr34( void );
  122                        	;
  123                        	; void * __fastcall __macro set_mpr2( void __far *addr<_bp_bank:_bp> );
  124                        	; void * __fastcall __macro set_mpr34( void __far *addr<_bp_bank:_bp> );
  125                        	;
  126                        	; void * __fastcall __macro far_set_mpr2( void );
  127                        	; void * __fastcall __macro far_set_mpr34( void );
  128                        	
  129                        	_reset_mpr2	.macro
  130                        		.if	SUPPORT_SGX
  131                        			lda	#$F9
  132                        		.else
  133                        			lda	#$87
  134                        		.endif
  135                        			tam2
  136                        			.endm
  137                        	
  138                        	_reset_mpr34	.macro
  139                        			lda	#CONST_BANK + _bank_base
  140                        			tam3
  141                        			inc	a
  142                        			tam4
  143                        			.endm
  144                        	
  145                        	_farset_mpr2.1	.macro
  146                        			lda	<_bp_bank
  147                        			tam2
  148                        			lda.l	<_bp
  149                        			ldy.h	<_bp
  150                        			.endm
  151                        	
  152                        	_farset_mpr34.1	.macro
  153                        			lda	<_bp_bank
  154                        			tam3
  155                        			inc	a
  156                        			tam4
  157                        			lda.l	<_bp
  158                        			ldy.h	<_bp
  159                        			.endm
  160                        	
  161                        	_far_set_mpr2	.macro
  162                        			lda	<_bp_bank
  163                        			tam2
  164                        			lda.l	<_bp
  165                        			ldy.h	<_bp
  166                        			.endm
  167                        	
  168                        	_far_set_mpr34	.macro
  169                        			lda	<_bp_bank
  170                        			tam3
  171                        			inc	a
  172                        			tam4
  173                        			lda.l	<_bp
  174                        			ldy.h	<_bp
  175                        			.endm
  176                        	
  177                        	
  178                        	
  179                        	; ***************************************************************************
  180                        	; ***************************************************************************
  181                        	;
  182                        	; unsigned char __fastcall __macro ac_exists( void );
  183                        	
  184                        	_ac_exists	.macro
  185                        			cla
  186                        			ldy	ACD_FLAG
  187                        			cpy	#ACD_ID
  188                        			bne	!+
  189                        			inc	a
  190                        	!:		cly
  191                        			.endm
  192                        	
  193                        	
  194                        	
  195                        	; ***************************************************************************
  196                        	; ***************************************************************************
  197                        	;
  198                        	; unsigned char __fastcall __macro _sgx_detect( void );
  199                        	
  200                        	_sgx_detect	.macro
  201                        			lda	sgx_detected
  202                        			cly
  203                        			.endm
  204                        	
  205                        	
  206                        	
  207                        	; ***************************************************************************
  208                        	; ***************************************************************************
  209                        	;
  210                        	; unsigned int __fastcall __macro peek( unsigned int addr<__ptr> );
  211                        	
  212                        	_peek.1		.macro
  213                        			lda	[__ptr]
  214                        			cly
  215                        			.endm
  216                        	
  217                        	
  218                        	
  219                        	; ***************************************************************************
  220                        	; ***************************************************************************
  221                        	;
  222                        	; unsigned int __fastcall __macro peekw( unsigned int addr<__ptr> );
  223                        	
  224                        	_peekw.1	.macro
  225                        			lda	[__ptr]
  226                        			pha
  227                        			ldy	#1
  228                        			lda	[__ptr], y
  229                        			tay
  230                        			pla
  231                        			.endm
  232                        	
  233                        	
  234                        	
  235                        	; ***************************************************************************
  236                        	; ***************************************************************************
  237                        	;
  238                        	; void __fastcall __macro poke( unsigned int addr<__poke>, unsigned char with<acc> );
  239                        	;
  240                        	; N.B. Because the <acc> value can be a complex C calculation, it isn't safe
  241                        	; to use __ptr as the destination, which can be overwritten in C macros.
  242                        	
  243                        	_poke.2		.macro
  244                        			sta	[__poke]
  245                        			.endm
  246                        	
  247                        	
  248                        	
  249                        	; ***************************************************************************
  250                        	; ***************************************************************************
  251                        	;
  252                        	; void __fastcall __macro pokew( unsigned int addr<__poke>, unsigned int with<acc> );
  253                        	;
  254                        	; N.B. Because the <acc> value can be a complex C calculation, it isn't safe
  255                        	; to use __ptr as the destination, which can be overwritten in C macros.
  256                        	
  257                        	_pokew.2	.macro
  258                        			sta	[__poke]
  259                        			tya
  260                        			ldy	#1
  261                        			sta	[__poke], y
  262                        			.endm
  263                        	
  264                        	
  265                        	
  266                        	; ***************************************************************************
  267                        	; ***************************************************************************
  268                        	;
  269                        	; unsigned char __fastcall __macro clock_hh( void );
  270                        	; unsigned char __fastcall __macro clock_mm( void );
  271                        	; unsigned char __fastcall __macro clock_ss( void );
  272                        	; unsigned char __fastcall __macro clock_tt( void );
  273                        	;
  274                        	; N.B. HuC stores the clock as binary, HuCC stores it as BCD.
  275                        	
  276                        	_clock_hh	.macro
  277                        			lda	__clock_hh
  278                        			jsr	bcd_byte_to_bin
  279                        			.endm
  280                        	
  281                        	_clock_mm	.macro
  282                        			lda	__clock_mm
  283                        			jsr	bcd_byte_to_bin
  284                        			.endm
  285                        	
  286                        	_clock_ss	.macro
  287                        			lda	__clock_ss
  288                        			jsr	bcd_byte_to_bin
  289                        			.endm
  290                        	
  291                        	_clock_tt	.macro
  292                        			lda	__clock_tt
  293                        			jsr	bcd_byte_to_bin
  294                        			.endm
  295                        	
  296                        			; HuC returns binary values for these clock functions.
  297                        	
  298    00:E2A9  A8         	bcd_byte_to_bin:tay
  299    00:E2AA  4A         			lsr	a
  300    00:E2AB  4A         			lsr	a
  301    00:E2AC  4A         			lsr	a
  302    00:E2AD  4A         			lsr	a
  303    00:E2AE  42         			say
  304    00:E2AF  18         			clc
  305    00:E2B0  29 0F      			and	#$0F
  306    00:E2B2  79 B7 E2   			adc	.table, y
  307    00:E2B5  C2         			cly
  308    00:E2B6  60         			rts
  309                        	
  310    00:E2B7  00         	.table:		db	0
  311    00:E2B8  0A         			db	10
  312    00:E2B9  14         			db	20
  313    00:E2BA  1E         			db	30
  314    00:E2BB  28         			db	40
  315    00:E2BC  32         			db	50
  316                        	
  317                        	
  318                        	
  319                        	; ***************************************************************************
  320                        	; ***************************************************************************
  321                        	;
  322                        	; void __fastcall __macro clock_reset( void );
  323                        	
  324                        	_clock_reset	.macro
  325                        			stz	__clock_tt
  326                        			stz	__clock_ss
  327                        			stz	__clock_mm
  328                        			stz	__clock_hh
  329                        			.endm
  330                        	
  331                        	
  332                        	
  333                        	
  334                        	; ***************************************************************************
  335                        	; ***************************************************************************
  336                        	;
  337                        	; unsigned int __fastcall __macro joy( unsigned char which<acc> );
  338                        	
  339                        	_joy.1		.macro
  340                        			tax
  341                        			lda	joynow, x
  342                        		.if	SUPPORT_6BUTTON
  343                        			ldy	joy6now, x
  344                        		.else
  345                        			cly
  346                        		.endif
  347                        			.endm
  348                        	
  349                        	
  350                        	
  351                        	; ***************************************************************************
  352                        	; ***************************************************************************
  353                        	;
  354                        	; unsigned int __fastcall __macro joytrg( unsigned char which<acc> );
  355                        	
  356                        	_joytrg.1	.macro
  357                        			tax
  358                        			lda	joytrg, x
  359                        		.if	SUPPORT_6BUTTON
  360                        			ldy	joy6trg, x
  361                        		.else
  362                        			cly
  363                        		.endif
  364                        			.endm
  365                        	
  366                        	
  367                        	
  368                        	; ***************************************************************************
  369                        	; ***************************************************************************
  370                        	;
  371                        	; unsigned int __fastcall __macro joybuf( unsigned char which<acc> );
  372                        	
  373                        	_joybuf.1	.macro
  374                        		.if	HUC_JOY_EVENTS
  375                        			tax
  376                        			lda	joybuf, x
  377                        		.if	SUPPORT_6BUTTON
  378                        			ldy	joy6buf, x
  379                        		.else
  380                        			cly
  381                        		.endif
  382                        		.else
  383                        			.fail	You must enable HUC_JOY_EVENTS in your hucc-config.inc!
  384                        		.endif
  385                        			.endm
  386                        	
  387                        	
  388                        	
  389                        	; ***************************************************************************
  390                        	; ***************************************************************************
  391                        	;
  392                        	; unsigned int __fastcall __macro get_joy_events( unsigned char which<acc> );
  393                        	;
  394                        	; N.B. This is just a version of joybuf() that clears the accumulated events.
  395                        	
  396                        			.macro	_get_joy_events.1
  397                        		.if	HUC_JOY_EVENTS
  398                        			tax
  399                        			lda	joybuf, x
  400                        			stz	joybuf, x
  401                        		.if	SUPPORT_6BUTTON
  402                        			ldy	joy6buf, x
  403                        			stz	joy6buf, x
  404                        		.else
  405                        			cly
  406                        		.endif
  407                        		.else
  408                        		.if	ACCUMULATE_JOY
  409                        			tax
  410                        			lda	joytrg, x
  411                        			stz	joytrg, x
  412                        		.if	SUPPORT_6BUTTON
  413                        			ldy	joy6trg, x
  414                        			stz	joy6trg, x
  415                        		.else
  416                        			cly
  417                        		.endif
  418                        		.else
  419                        			.fail	You must enable HUC_JOY_EVENTS or ACCUMULATE_JOY in your hucc-config.inc!
  420                        		.endif
  421                        		.endif
  422                        			.endm
  423                        	
  424                        	
  425                        	
  426                        	; ***************************************************************************
  427                        	; ***************************************************************************
  428                        	;
  429                        	; void __fastcall __macro clear_joy_events( unsigned char mask<acc> );
  430                        	
  431                        			.macro	_clear_joy_events.1
  432                        			php
  433                        			sei
  434                        			and	#(1 << MAX_PADS) - 1
  435                        			ldx	#$FF
  436                        	.loop:		inx
  437                        			lsr	a
  438                        			bcc	.next
  439                        		.if	HUC_JOY_EVENTS
  440                        			stz	joybuf, x
  441                        		.if	SUPPORT_6BUTTON
  442                        			stz	joy6buf, x
  443                        		.endif
  444                        		.else
  445                        		.if	ACCUMULATE_JOY
  446                        			stz	joytrg, x
  447                        		.if	SUPPORT_6BUTTON
  448                        			stz	joy6trg, x
  449                        		.endif
  450                        		.else
  451                        			.fail	You must enable HUC_JOY_EVENTS or ACCUMULATE_JOY in your hucc-config.inc!
  452                        		.endif
  453                        		.endif
  454                        	.next:		bne	.loop
  455                        			plp
  456                        			.endm
  457                        	
  458                        	
  459                        	
  460                        	; ***************************************************************************
  461                        	; ***************************************************************************
  462                        	;
  463                        	; void __fastcall srand( unsigned char seed<acc> );
  464                        	
  465               0001     		.ifndef	HUCC_NO_DEFAULT_RANDOM
  466                        	_srand.1	.macro
  467                        			tay
  468                        			jsr	init_random
  469                        			.endm
  470                        		.endif
  471                        	
  472                        	
  473                        	
  474                        	; ***************************************************************************
  475                        	; ***************************************************************************
  476                        	;
  477                        	; unsigned int __fastcall rand( void );
  478                        	; unsigned char __fastcall rand8( void );
  479                        	
  480               0001     		.ifndef	HUCC_NO_DEFAULT_RANDOM
  481    00:E2BD  20 9E E6   	_rand:		jsr	get_random		; Random in A, preserve Y.
  482    00:E2C0  A8         			tay
  483    00:E2C1  4C 9E E6   			jmp	get_random		; Random in A, preserve Y.
  484                        		.endif
  485                        	
  486                        	
  487                        	
  488                        	; ***************************************************************************
  489                        	; ***************************************************************************
  490                        	;
  491                        	; unsigned char __fastcall random8( unsigned char limit<acc> );
  492                        	;
  493                        	; IN :	A = range (0..255)
  494                        	; OUT : A = random number interval 0 <= x < A
  495                        	
  496               0001     		.ifndef	HUCC_NO_DEFAULT_RANDOM
  497                        	
  498    00:E2C4  A8         	_random8.1:	tay				; Preserve the limit.
  499    00:E2C5  20 9E E6   			jsr	get_random		; Random in A, preserve Y.
  500                        	
  501    00:E2C8  20 04 E5   			jsr	__muluchar
  502    00:E2CB  98         			tya				; Do a 8.0 x 0.8 fixed point
  503    00:E2CC  C2         			cly				; fractional multiply.
  504    00:E2CD  60         			rts
  505                        		.endif
  506                        	
  507                        	
  508                        	
  509                        	; ***************************************************************************
  510                        	; ***************************************************************************
  511                        	;
  512                        	; unsigned char __fastcall random( unsigned char limit<acc> );
  513                        	;
  514                        	; IN :	A = range (0..128), 129..255 is treated as 128
  515                        	; OUT : A = random number interval 0 <= x < A
  516                        	
  517               0001     		.ifndef	HUCC_NO_DEFAULT_RANDOM
  518                        	
  519    00:E2CE  A8         	_random.1:	tay				; Preserve the limit.
  520    00:E2CF  20 9E E6   			jsr	get_random		; Random in A, preserve Y.
  521                        	
  522    00:E2D2  C0 80      			cpy	#128			; Check the limit.
  523    00:E2D4  90 04      			bcc	!+
  524                        	
  525    00:E2D6  29 7F      			and	#$7F			; Just mask the random if
  526    00:E2D8  C2         			cly				; the limit is >= 128.
  527    00:E2D9  60         			rts
  528                        	
  529    00:E2DA  20 04 E5   	!:		jsr	__muluchar
  530    00:E2DD  98         			tya				; If the limit is < 128 then
  531    00:E2DE  C2         			cly				; do a 8.0 x 0.8 fixed point
  532    00:E2DF  60         			rts				; fractional multiply.
  533                        		.endif
  534                        	
  535                        	
  536                        	
  537                        	; ***************************************************************************
  538                        	; ***************************************************************************
  539                        	;
  540                        	; unsigned char __fastcall __builtin_ffs( unsigned int value<__temp> );
  541                        	
  542                        			.proc	___builtin_ffs.1
  562                        			.endp
  563                        	
  564                        	
  565                        	
  566                        	; ***************************************************************************
  567                        	; ***************************************************************************
  568                        	;
  569                        	; N.B. Declared in hucc-string.h, but defined here because they're macros!
  570                        	;
  571                        	; int __fastcall __macro memcmp( unsigned char *destination<_di>, unsigned char *source<_bp>, unsigned int count<acc> );
  572                        	
  573                        	_memcmp.3	.macro
  574                        			stz	<_bp_bank		; Map the source string.
  575                        			call	_farmemcmp.3
  576                        			.endm
  577                        	
  578                        	
  579                        	
  580                        	; ***************************************************************************
  581                        	; ***************************************************************************
  582                        	;
  583                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  584                        	;
  585                        	; void __fastcall __macro get_color( unsigned int index<VCE_CTA> );
  586                        	
  587                        	_get_color.1	.macro
  588                        			lda.l	VCE_CTR
  589                        			ldy.h	VCE_CTR
  590                        			.endm
  591                        	
  592                        	
  593                        	
  594                        	; ***************************************************************************
  595                        	; ***************************************************************************
  596                        	;
  597                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  598                        	;
  599                        	; void __fastcall __macro fade_to_black( unsigned int __far *from<_bp_bank:_bp>, unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_sub<_ah> );
  600                        	; void __fastcall __macro fade_to_white( unsigned int __far *from<_bp_bank:_bp>, unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_add<_ah> );
  601                        	; void __fastcall __macro cross_fade_to( unsigned int __far *from<_bp_bank:_bp>, unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char which_component<_ah );
  602                        	;
  603                        	; void __fastcall __macro far_fade_to_black( unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_sub<_ah> );
  604                        	; void __fastcall __macro far_fade_to_white( unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_add<_ah> );
  605                        	; void __fastcall __macro far_cross_fade_to( unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char which_component<_ah );
  606                        	
  607                        			.macro	_fade_to_black.4
  608                        			ldy	<_bp_bank
  609                        			call	fade_to_black
  610                        			.endm
  611                        	
  612                        			.macro	_fade_to_white.4
  613                        			ldy	<_bp_bank
  614                        			call	fade_to_white
  615                        			.endm
  616                        	
  617                        			.macro	_cross_fade_to.4
  618                        			ldy	<_bp_bank
  619                        			call	cross_fade_to
  620                        			.endm
  621                        	
  622                        			.macro	_far_fade_to_black.3
  623                        			ldy	<_bp_bank
  624                        			call	fade_to_black
  625                        			.endm
  626                        	
  627                        			.macro	_far_fade_to_white.3
  628                        			ldy	<_bp_bank
  629                        			call	fade_to_white
  630                        			.endm
  631                        	
  632                        			.macro	_far_cross_fade_to.3
  633                        			ldy	<_bp_bank
  634                        			call	cross_fade_to
  635                        			.endm
  636                        	
  637                        	
  638                        	
  639                        	; ***************************************************************************
  640                        	; ***************************************************************************
  641                        	;
  642                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  643                        	;
  644                        	; void __fastcall __macro set_xres( unsigned int x_pixels<_ax> );
  645                        	; void __fastcall __macro sgx_set_xres( unsigned int x_pixels<_ax> );
  646                        	;
  647                        	; void __fastcall set_xres( unsigned int x_pixels<_ax>, unsigned char blur_flag<_bl> );
  648                        	; void __fastcall sgx_set_xres( unsigned int x_pixels<_ax>, unsigned char blur_flag<_bl> );
  649                        	
  650                        	_set_xres.1	.macro
  651                        			lda	#XRES_SOFT
  652                        			sta	<_bl
  653                        			call	_set_xres.2
  654                        			.endm
  655                        	
  656               0001     		.if	SUPPORT_SGX
  657                        			.macro	_sgx_set_xres.1
  658                        			lda	#XRES_SOFT
  659                        			sta	<_bl
  660                        			call	_sgx_set_xres.2
  661                        			.endm
  662                        		.endif
  663                        	
  664                        	
  665                        	
  666                        	; ***************************************************************************
  667                        	; ***************************************************************************
  668                        	;
  669                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  670                        	;
  671                        	; unsigned int __fastcall __macro vram_addr( unsigned char bat_x<_al>, unsigned char bat_y<_ah> );
  672                        	; unsigned int __fastcall __macro sgx_vram_addr( unsigned char bat_x<_al>, unsigned char bat_y<_ah> );
  673                        	
  674                        			.macro	_vram_addr.2
  675                        			cla
  676                        			bit	vdc_bat_width
  677                        			bmi	!w128+
  678                        			bvs	!w64+
  679                        	!w32:		lsr	<_ah
  680                        			ror	a
  681                        	!w64:		lsr	<_ah
  682                        			ror	a
  683                        	!w128:		lsr	<_ah
  684                        			ror	a
  685                        			ora	<_al
  686                        			ldy	<_ah
  687                        			.endm
  688                        	
  689               0001     		.if	SUPPORT_SGX
  690                        			.macro	_sgx_vram_addr.2
  691                        			cla
  692                        			bit	sgx_bat_width
  693                        			bmi	!w128+
  694                        			bvs	!w64+
  695                        	!w32:		lsr	<_ah
  696                        			ror	a
  697                        	!w64:		lsr	<_ah
  698                        			ror	a
  699                        	!w128:		lsr	<_ah
  700                        			ror	a
  701                        			ora	<_al
  702                        			ldy	<_ah
  703                        			.endm
  704                        		.endif
  705                        	
  706                        	
  707                        	
  708                        	; ***************************************************************************
  709                        	; ***************************************************************************
  710                        	;
  711                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  712                        	;
  713                        	; unsigned int __fastcall __macro get_vram( unsigned int address<_di> );
  714                        	; void __fastcall __macro put_vram( unsigned int address<_di>, unsigned int data<acc> );
  715                        	;
  716                        	; unsigned int __fastcall __macro sgx_get_vram( unsigned int address<_di> );
  717                        	; void __fastcall __macro sgx_put_vram( unsigned int address<_di>, unsigned int data<acc> );
  718                        	
  719                        			.macro	_get_vram.1
  720                        			jsr	vdc_di_to_marr
  721                        			lda	VDC_DL
  722                        			ldy	VDC_DH
  723                        			.endm
  724                        	
  725                        			.macro	_put_vram.2
  726                        			pha
  727                        			jsr	vdc_di_to_mawr
  728                        			pla
  729                        			sta	VDC_DL
  730                        			sty	VDC_DH
  731                        			.endm
  732                        	
  733               0001     		.if	SUPPORT_SGX
  734                        			.macro	_sgx_get_vram.1
  735                        			jsr	sgx_di_to_marr
  736                        			lda	SGX_DL
  737                        			ldy	SGX_DH
  738                        			.endm
  739                        	
  740                        			.macro	_sgx_put_vram.2
  741                        			pha
  742                        			jsr	sgx_di_to_mawr
  743                        			pla
  744                        			sta	SGX_DL
  745                        			sty	SGX_DH
  746                        			.endm
  747                        		.endif
  748                        	
  749                        	
  750                        	
  751                        	; ***************************************************************************
  752                        	; ***************************************************************************
  753                        	;
  754                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  755                        	;
  756                        	; void __fastcall __macro set_bgpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp> );
  757                        	; void __fastcall __macro set_bgpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_palettes<_ah> );
  758                        	; void __fastcall __macro set_sprpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp> );
  759                        	; void __fastcall __macro set_sprpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_palettes<_ah> );
  760                        	
  761                        	_set_bgpal.2	.macro
  762                        			lda	#1
  763                        			sta	<_ah
  764                        			call	_load_palette.3
  765                        			.endm
  766                        	
  767                        	_set_bgpal.3	.macro
  768                        			call	_load_palette.3
  769                        			.endm
  770                        	
  771                        	_set_sprpal.2	.macro
  772                        			lda	#1
  773                        			sta	<_ah
  774                        			smb4	<_al
  775                        			call	_load_palette.3
  776                        			.endm
  777                        	
  778                        	_set_sprpal.3	.macro
  779                        			smb4	<_al
  780                        			call	_load_palette.3
  781                        			.endm
  782                        	
  783                        	
  784                        	
  785                        	; ***************************************************************************
  786                        	; ***************************************************************************
  787                        	;
  788                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  789                        	;
  790                        	; void __fastcall __macro load_vram( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_words<_ax> );
  791                        	; void __fastcall __macro sgx_load_vram( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_words<_ax> );
  792                        	;
  793                        	; void __fastcall __macro far_load_vram( unsigned int vram<_di>, unsigned int num_words<_ax> );
  794                        	; void __fastcall __macro sgx_far_load_vram( unsigned int vram<_di>, unsigned int num_words<_ax> );
  795                        	;
  796                        	
  797               0001     		.if	SUPPORT_SGX
  798                        			.macro	_sgx_load_vram.3
  799                        			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  800                        			call	load_vram_x
  801                        			.endm
  802                        	
  803                        			.macro	_sgx_far_load_vram.2
  804                        			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  805                        			call	load_vram_x
  806                        			.endm
  807                        		.endif
  808                        	
  809                        			.macro	_load_vram.3
  810                        			clx				; Offset to PCE VDC.
  811                        			call	load_vram_x
  812                        			.endm
  813                        	
  814                        			.macro	_far_load_vram.2
  815                        			clx				; Offset to PCE VDC.
  816                        			call	load_vram_x
  817                        			.endm
  818                        	
  819                        	
  820                        	
  821                        	; ***************************************************************************
  822                        	; ***************************************************************************
  823                        	;
  824                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  825                        	;
  826                        	; void __fastcall __macro load_sprites( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_groups<acc> );
  827                        	; void __fastcall __macro sgx_load_sprites( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_groups<acc> );
  828                        	; void __fastcall __macro far_load_sprites( unsigned int vram<_di>, unsigned int num_groups<acc> );
  829                        	; void __fastcall __macro sgx_far_load_sprites( unsigned int vram<_di>, unsigned int num_groups<acc> );
  830                        	
  831               0001     		.if	SUPPORT_SGX
  832                        			.macro	_sgx_load_sprites.3
  833                        			stz.l	<_ax
  834                        			asl	a
  835                        			sta.h	<_ax
  836                        			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  837                        			call	load_vram_x
  838                        			.endm
  839                        	
  840                        			.macro	_sgx_far_load_sprites.2
  841                        			stz.l	<_ax
  842                        			asl	a
  843                        			sta.h	<_ax
  844                        			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  845                        			call	load_vram_x
  846                        			.endm
  847                        		.endif
  848                        	
  849                        			.macro	_load_sprites.3
  850                        			stz.l	<_ax
  851                        			asl	a
  852                        			sta.h	<_ax
  853                        			clx				; Offset to PCE VDC.
  854                        			call	load_vram_x
  855                        			.endm
  856                        	
  857                        			.macro	_far_load_sprites.2
  858                        			stz.l	<_ax
  859                        			asl	a
  860                        			sta.h	<_ax
  861                        			clx				; Offset to PCE VDC.
  862                        			call	load_vram_x
  863                        			.endm
  864                        	
  865                        	
  866                        	
  867                        	; ***************************************************************************
  868                        	; ***************************************************************************
  869                        	;
  870                        	; N.B. Declared in hucc-gfx.h, but defined here because they're macros!
  871                        	;
  872                        	; void __fastcall load_default_font( void );
  873                        	; void __fastcall sgx_load_default_font( void );
  874                        	;
  875                        	
  876               0001     		.if	SUPPORT_SGX
  877                        			.macro	_sgx_load_default_font
  878                        			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  879                        			call	huc_monofont_x
  880                        			.endm
  881                        		.endif
  882                        	
  883                        			.macro	_load_default_font
  884                        			clx				; Offset to PCE VDC.
  885                        			call	huc_monofont_x
  886                        			.endm
  887                        	
  888                        	
  889                        	
  890                        	; ***************************************************************************
  891                        	; ***************************************************************************
  892                        	
  893               0000     		.if	0
  911                        		.endif
                             #[2]   "..\..\..\include\hucc\hucc.asm"
  245                        	
  246               0000     		.if	CDROM
  248                        		.endif
  249                        	
  250                        			; Definitions for compatibility with old HuC/MagicKit projects.
  251                        	
  252               0001     		.ifndef	HUCC_NO_DEPRECATED
                             #[3]   "..\..\..\include\hucc\hucc-deprecated.inc"
  253                        			include	"hucc-deprecated.inc"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-deprecated.inc
    5                        	;
    6                        	; Macros and definitions for compatibility with old HuC/MagicKit projects.
    7                        	;
    8                        	; Based on the original HuC and MagicKit definitions by David Michel and the
    9                        	; other original HuC developers.
   10                        	;
   11                        	; ***************************************************************************
   12                        	; ***************************************************************************
   13                        	
   14                        			; For compatibility with HuC projects that use the old name.
   15                        	
   16               0001     	HUC_USER_RESERVED = HUC_USER_BANK
   17                        	
   18                        			; For compatibility with code that expects the HuC naming that
   19                        			; is used in the newer HuC, rather than the original HuC v3.21.
   20                        			;
   21                        			; Code generated by HuCC uses the original single-underscore.
   22                        	
   23               0001     		.if	1				
   24               0002     	__bp		=	$F8:20EC, 2		; base pointer
   25               0002     	__si		=	$F8:20EE, 2		; source address
   26               0002     	__di		=	$F8:20F0, 2		; destination address
   27                        	
   28               0002     	__ax		=	$F8:20F8, 2
   29               0001     	__al		=	$F8:20F8, 1
   30               0001     	__ah		=	$F8:20F9, 1
   31                        	
   32               0002     	__bx		=	$F8:20FA, 2
   33               0001     	__bl		=	$F8:20FA, 1
   34               0001     	__bh		=	$F8:20FB, 1
   35                        	
   36               0002     	__cx		=	$F8:20FC, 2
   37               0001     	__cl		=	$F8:20FC, 1
   38               0001     	__ch		=	$F8:20FD, 1
   39                        	
   40               0002     	__dx		=	$F8:20FE, 2
   41               0001     	__dl		=	$F8:20FE, 1
   42               0001     	__dh		=	$F8:20FF, 1
   43                        		.endif
   44                        	
   45                        			; For compatibility with code that expects the HuC naming that
   46                        			; is used rather than the shorter upper-case #define naming.
   47                        	
   48               0001     		.if	1				
   49               0001     	video_reg	=	$FF:0200, 1		; Address/Status Register
   50               0001     	video_reg_l	=	$FF:0200, 1		; Address/Status Register
   51               0001     	video_reg_h	=	$FF:0201, 1		; Address/Status Register
   52               0002     	video_data	=	$FF:0202, 2		; Data (Read/Write) Low
   53               0001     	video_data_l	=	$FF:0202, 1		; Data (Read/Write) Low
   54               0001     	video_data_h	=	$FF:0203, 1		; Data (Read/Write) High
   55                        	
   56               0002     	color_ctrl	=	$FF:0400, 2		; Control Register
   57               0002     	color_reg	=	$FF:0402, 2		; Color Table Address
   58               0001     	color_reg_l	=	$FF:0402, 1		; Color Table Address
   59               0001     	color_reg_h	=	$FF:0402, 1		; Color Table Address
   60               0002     	color_data	=	$FF:0404, 2		; Color Table Data Read/Write
   61               0001     	color_data_l	=	$FF:0404, 1		; Color Table Data Read/Write
   62               0001     	color_data_h	=	$FF:0405, 1		; Color Table Data Read/Write
   63                        	
   64               0001     	psg_ch		=	$FF:0800, 1		; Channel Select
   65               0001     	psg_mainvol	=	$FF:0801, 1		; Main Amplitude Level
   66               0001     	psg_freqlo	=	$FF:0802, 1		; Frequency Low
   67               0001     	psg_freqhi	=	$FF:0803, 1		; Frequency High
   68               0001     	psg_ctrl	=	$FF:0804, 1		; Control & Channel Amplitude
   69               0001     	psg_pan		=	$FF:0805, 1		; L/R Amplitude Level
   70               0001     	psg_wavebuf	=	$FF:0806, 1		; Waveform
   71               0001     	psg_noise	=	$FF:0807, 1		; Noise
   72               0001     	psg_lfofreq	=	$FF:0808, 1		; LFO Frequency
   73               0001     	psg_lfoctrl	=	$FF:0809, 1		; LFO Control
   74                        	
   75               0001     	irq_m		=	irq_vec, 1		; Old System Card name.
   76               0002     	irq2_jmp	=	irq2_hook, 2		; Old System Card name.
   77               0002     	irq1_jmp	=	irq1_hook, 2		; Old System Card name.
   78               0002     	timer_jmp	=	timer_hook, 2		; Old System Card name.
   79               0002     	nmi_jmp		=	nmi_hook, 2		; Old System Card name.
   80               0002     	sat_adr		=	satb_addr, 2		; Old System Card name.
   81               0005     	joy		=	joynow, 5		; Old System Card name.
   82               0001     	mwr_m		=	vdc_mwr, 1		; Old System Card name.
   83               0001     	dcr_m		=	vdc_dcr, 1		; Old System Card name.
   84                        		.endif
   85                        	
   86                        			; Macros for compatibility with #asm usage in old HuC projects.
   87                        	
   88                        	stw		.macro
   89                        			lda.l	\1
   90                        			sta.l	\2
   91                        			lda.h	\1
   92                        			sta.h	\2
   93                        			.endm
   94                        	
   95                        	stb		.macro
   96                        			lda	\1
   97                        			sta	\2
   98                        			.endm
   99                        	
  100                        	addw		.macro
  101                        		.if	(\# = 3)
  102                        			clc
  103                        			lda.l	\2
  104                        			adc.l	\1
  105                        			sta.l	\3
  106                        			lda.h	\2
  107                        			adc.h	\1
  108                        			sta.h	\3
  109                        		.else
  110                        			clc
  111                        			lda.l	\2
  112                        			adc.l	\1
  113                        			sta.l	\2
  114                        			lda.h	\2
  115                        			adc.h	\1
  116                        			sta.h	\2
  117                        		.endif
  118                        			.endm
  119                        	
  120                        	add		.macro			; add byte-sized value to
  121                        		.if (\# = 2)			; register A (handle carry
  122                        			lda	\2		; flag)
  123                        			clc
  124                        			adc	\1
  125                        			sta	\2
  126                        		.else
  127                        			clc
  128                        			adc	\1
  129                        		.endif
  130                        			.endm
  131                        	
  132                        	subw		.macro
  133                        			sec
  134                        			lda.l	\2
  135                        			sbc.l	\1
  136                        			sta.l	\2
  137                        			lda.h	\2
  138                        			sbc.h	\1
  139                        			sta.h	\2
  140                        			.endm
  141                        	
  142                        	sub		.macro			; subtract byte-sized value
  143                        		.if (\# = 2)			; from register A (handle
  144                        			lda	\2		; carry flag)
  145                        			sec
  146                        			sbc	\1
  147                        			sta	\2
  148                        		.else
  149                        			sec
  150                        			sbc	\1
  151                        		.endif
  152                        			.endm
  153                        	
  154                        	incw		.macro			; increment a word-sized
  155                        			inc.l	\1		; value at stated memory
  156                        			bne	!+		; location
  157                        			inc.h	\1
  158                        	!:
  159                        			.endm
  160                        	
  161                        	decw		.macro			; decrement a word-sized
  162                        			lda	\1		; value at stated memory
  163                        			bne	!+		; location
  164                        			dec.h	\1
  165                        	!:		dec.l	\1
  166                        			.endm
  167                        	
  168                        	lbne		.macro
  169                        			bne	\1
  170                        			.endm
  171                        	
  172                        	lbeq		.macro
  173                        			beq	\1
  174                        			.endm
  175                        	
  176                        	lbpl		.macro
  177                        			bpl	\1
  178                        			.endm
  179                        	
  180                        	lbmi		.macro
  181                        			bmi	\1
  182                        			.endm
  183                        	
  184                        	lbcc		.macro
  185                        			bcc	\1
  186                        			.endm
  187                        	
  188                        	lbcs		.macro
  189                        			bcs	\1
  190                        			.endm
  191                        	
  192                        	lblo		.macro
  193                        			bcc	\1
  194                        			.endm
  195                        	
  196                        	lbhs		.macro
  197                        			bcs	\1
  198                        			.endm
  199                        	
  200                        	__ldwi		.macro
  201                        		__ld.wi		\1
  202                        			.endm
                             #[2]   "..\..\..\include\hucc\hucc.asm"
  254                        		.endif
  255                        	
  256                        			;
  257                        			;
  258                        			;
  259                        	
  260                        	
  261                        	
  262                        	; ***************************************************************************
  263                        	; ***************************************************************************
  264                        	;
  265                        	; core_main - This is executed after "CORE(not TM)" library initialization.
  266                        	;
  267                        	; This is the first code assembled after the library includes, so we're still
  268                        	; in the CORE_BANK, usually ".bank 0"; and because this is assembled with the
  269                        	; default configuration from "include/core-config.inc", which sets the option
  270                        	; "USING_MPR7", then we're running in MPR7 ($E000-$FFFF).
  271                        	
  272    1F:D87D             	core_main	.proc
  273                        	
  274               0001     		.if	SUPPORT_SGX
  275    1F:D87D  A9 F9      			lda	#$F9			; Map the 2nd SGX RAM bank.
  276                        		.else
  278                        		.endif
  279    1F:D87F  53 04      			tam2
  280                        	
  281    1F:D881  A9 01      			lda	#CONST_BANK + _bank_base; Map HuCC's .RODATA bank.
  282    1F:D883  53 08      			tam3
  283    1F:D885  1A         			inc	a
  284    1F:D886  53 10      			tam4
  285                        	
  286               0000     		.ifdef	HOME_BANK
  288                        		.else
  289    1F:D888  1A         			inc	a
  290                        		.endif
  291    1F:D889  53 20      			tam5
  292                        	
  293    1F:D88B  08         			php				; Disable interrupts while
  294    1F:D88C  78         			sei				; clearing overlay's BSS.
  295                        	
  296               0000     		.ifndef	USING_RCR_MACROS
  311                        		.endif	USING_RCR_MACROS
  312                        	
  313    1F:D88D  A9 E0      			lda	#<hucc_vbl		; Setup HuCC's VBL IRQ handler.
  314    1F:D88F  8D 08 22   			sta.l	vsync_hook
  315    1F:D892  A9 E2      			lda	#>hucc_vbl
  316    1F:D894  8D 09 22   			sta.h	vsync_hook
  317                        	
  318               0000     		.if	CDROM				; Overlays should clear BSS.
  320                        		.else
  321    1F:D897  73 E4 D8 F0			tii	.rom_tia, ram_tia, 16	; Only needed on HuCARD.
         1F:D89B  22 10 00    
  322                        		.endif	CDROM
  323                        	
  324               0000     		.if	(_xinit_end - _xinit_start)	; Copy initialized BSS data.
  326                        		.endif
  327                        	
  328    1F:D89E  F3 E2 D8 08			tai	.stack_fill, __stack, HUCC_STACK_SZ
         1F:D8A2  20 80 00    
  329                        	
  330               0000     		.if	FAST_MULTIPLY
  339                        		.endif
  340                        	
  341    1F:D8A5  A9 10      			lda	#$10			; Enable HuCC's vblank IRQ
  342    1F:D8A7  04 F5      			tsb	<irq_vec		; handler.
  343                        	
  344                        			__sound_init			; Initialize a sound driver.
  345                        	
  346    1F:D8A9  AD 00 02   			lda	VDC_SR			; Purge any overdue VBL.
  347    1F:D8AC  9C 41 22   			stz	irq_cnt			; Make it easy to check.
  348                        	
  349    1F:D8AF  28         			plp				; Restore interrupts.
  350                        	
  351               0001     		.ifndef	HUCC_NO_DEFAULT_SCREEN
  352    1F:D8B0  20 D1 FF   			call	_init_256x224		; HuCC initializes the VDC and
  353    1F:D8B3  20 2A E4   			jsr	set_dspon		; turns the display on.
  354                        		.endif
  355                        	
  356               0001     		.ifndef	HUCC_NO_DEFAULT_FONT
  357    1F:D8B6  A9 01      			lda	#1			; HuCC loads a default font.
  358    1F:D8B8  8D F7 26   			sta	monofont_fg
  359    1F:D8BB  9C F8 26   			stz	monofont_bg
  360                        			_load_default_font
         1F:D8BE  82         			clx				; Offset to PCE VDC.
         1F:D8BF  20 C7 FF   			call	huc_monofont_x
  361    1F:D8C2  A9 01      			lda	#$01			; Set the font palette entry to
  362    1F:D8C4  8D 02 04   			sta.l	VCE_CTA			; cyan which is a) visible, but
  363    1F:D8C7  9C 03 04   			stz.h	VCE_CTA			; b) a clear indicator that the
  364    1F:D8CA  A0 96      			ldy	#$96			; user hasn't set a palette yet.
  365    1F:D8CC  8C 04 04   			sty.l	VCE_CTW
  366    1F:D8CF  8D 05 04   			sta.h	VCE_CTW
  367                        		.endif
  368                        	
  369               0001     		.ifndef	HUCC_NO_DEFAULT_RANDOM
  370    1F:D8D2  AC 41 22   			ldy	irq_cnt			; Initialize random seed.
  371    1F:D8D5  20 BD FF   			call	init_random
  372                        		.endif
  373                        	
  374    1F:D8D8  A2 80      			ldx	#HUCC_STACK_SZ		; Initialize the HuCC stack.
  375    1F:D8DA  86 8D      			stx	<__sp
  376                        	
  377    1F:D8DC  20 B3 FF   			call	_main			; Execute the HuCC program.
  378                        	
  379    1F:D8DF  4C 88 E2   			jmp	_exit.1			; Pass the exit code on.
  380                        	
  381    1F:D8E2  EA EA      	.stack_fill:	db	$EA,$EA			; To make it easier to see.
  382                        	
  383               0001     		.if	!CDROM
  384                        	
  385    1F:D8E4  E3 34 12 02	.rom_tia:	tia	$1234, VDC_DL, 32
         1F:D8E8  02 20 00    
  386    1F:D8EB  60         			rts
  387                        	
  388    1F:D8EC  73 34 12 78	.rom_tii:	tii	$1234, $5678, $9ABC
         1F:D8F0  56 BC 9A    
  389    1F:D8F3  60         			rts
  390                        	
  391               22F0     			.bss
  392    F8:22F0             	ram_tia:	ds	8
  393    F8:22F8             	ram_tii:	ds	8
  394               D8F4     			.code
  395                        	
  396                        		.endif	!CDROM
  397                        	
  398                        			.endp
  399                        	
  400                        			;
  401                        			; Self-Modifying TIA and TII instruction subroutines.
  402                        			;
  403                        			; These need to be in permanently-accessible memory so that
  404                        			; HuCC code can modify the values as __fastcall parameters.
  405                        			;
  406                        	
  407               0000     		.if	CDROM
  415                        		.endif	CDROM
  416                        	
  417               22F0     			rsset	ram_tia
  418               22F0     	ram_tia_opc	rs	1
  419               22F1     	ram_tia_src	rs	2
  420               22F3     	ram_tia_dst	rs	2
  421               22F5     	ram_tia_len	rs	2
  422               22F7     	ram_tia_rts	rs	1
  423                        	
  424               22F8     			rsset	ram_tii
  425               22F8     	ram_tii_opc	rs	1
  426               22F9     	ram_tii_src	rs	2
  427               22FB     	ram_tii_dst	rs	2
  428               22FD     	ram_tii_len	rs	2
  429               22FF     	ram_tii_rts	rs	1
  430                        	
  431                        	
  432                        	
  433                        	; ***************************************************************************
  434                        	; ***************************************************************************
  435                        	;
  436                        	; hucc_vbl - vblank IRQ handler, called by the "CORE(not TM)" kernel.
  437                        	;
  438                        	; This uses the kernel's hook to process things during vblank. It returns
  439                        	; with a simple RTS, and it can corrupt any register.
  440                        	;
  441                        	; Any slow routines in here should enable interrupts and protect itself from
  442                        	; re-entrancy problems.
  443                        	;
  444                        	
  445    00:E2E0  20 A9 FF   	hucc_vbl:	call	vbl_init_scroll		; Prepare for the next frame.
  446                        	
  447    00:E2E3  F8         			sed				; Update the HuC system clock
  448    00:E2E4  38         			sec				; which is in BCD here rather
  449    00:E2E5  AD EC 22   			lda	__clock_tt		; than the binary one in HuC.
  450    00:E2E8  69 00      			adc	#0			; BCD add ...
  451    00:E2EA  C9 60      			cmp	#$60			; ... but binary comparison.
  452    00:E2EC  90 28      			bcc	.ticks
  453    00:E2EE  AD ED 22   			lda	__clock_ss
  454    00:E2F1  69 00      			adc	#0			; BCD add ...
  455    00:E2F3  C9 60      			cmp	#$60			; ... but binary comparison.
  456    00:E2F5  90 1B      			bcc	.seconds
  457    00:E2F7  AD EE 22   			lda	__clock_mm
  458    00:E2FA  69 00      			adc	#0			; BCD add ...
  459    00:E2FC  C9 60      			cmp	#$60			; ... but binary comparison.
  460    00:E2FE  90 0E      			bcc	.minutes
  461    00:E300  AD EF 22   			lda	__clock_hh
  462    00:E303  69 00      			adc	#0			; BCD add ...
  463    00:E305  C9 12      			cmp	#$12			; ... but binary comparison.
  464    00:E307  90 01      			bcc	.hours
  465    00:E309  62         			cla
  466    00:E30A  8D EF 22   	.hours:		sta	__clock_hh
  467    00:E30D  62         			cla
  468    00:E30E  8D EE 22   	.minutes:	sta	__clock_mm
  469    00:E311  62         			cla
  470    00:E312  8D ED 22   	.seconds:	sta	__clock_ss
  471    00:E315  62         			cla
  472    00:E316  8D EC 22   	.ticks:		sta	__clock_tt
  473    00:E319  D8         			cld
  474                        	
  475    00:E31A  4C AA E3   			jmp	xfer_palettes		; Upload any palette changes.
                             #[1]   "main.s"
   15                        		.opt		@+
   16               E31D     		.code
   17                        	
   18                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 1; // **************************************************************************
   19                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 2; // **************************************************************************
   20                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 3; //
   21                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 4; // globals.h
   22                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 5; //
   23                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 6; // **************************************************************************
   24                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 7; // **************************************************************************
   25                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 8; //
   26                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 9; // The idea is that you, a PCE developer, copy this file from the ../include/
   27                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 10; // directory and into your project's directory, and then define the variables
   28                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 11; // that you want to have shared access to in all overlay programs on your CD.
   29                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 12; //
   30                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 13; // Because PCEAS searches the current (i.e. project) directory for an include
   31                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 14; // file first, then it will find your customized copy of the file rather than
   32                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 15; // the original copy in the ../include/ directory.
   33                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 16; //
   34                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 17; // **************************************************************************
   35                        		.dbg	line,	"..\..\..\include\hucc\globals.h", 18; // **************************************************************************
   36                        		.dbg	clear
   37               2300     		.bss
   38    F8:2300             	huc_globals:
   39                        	
   40    F8:2300             	huc_globals_end:
   41               E31D     		.code
   42                        		.dbg	line,	"main.c", 1; #include "huc.h"
   43                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
   44                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
   45                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
   46                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
   47                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
   48                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
   49                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
   50                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
   51                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
   52                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
   53                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
   54                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
   55                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
   56                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
   57                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
   58                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
   59                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
   60                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
   61                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
   62                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
   63                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
   64                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
   65                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
   66                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
   67                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
   68                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
   69                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
   70                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
   71                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
   72                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
   73                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
   74                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 1; #ifndef _hucc_systemcard_h
   75                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 2; #define _hucc_systemcard_h
   76                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 4; /****************************************************************************
   77                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 5; ; ***************************************************************************
   78                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 6; ;
   79                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 7; ; hucc-systemcard.h
   80                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 8; ;
   81                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 9; ; Macros and library functions for using the System Card.
   82                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 10; ;
   83                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 11; ; Copyright John Brandwood 2024.
   84                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 12; ;
   85                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 13; ; Distributed under the Boost Software License, Version 1.0.
   86                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
   87                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
   88                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 16; ;
   89                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 17; ; ***************************************************************************
   90                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 18; ; ***************************************************************************
   91                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 19; ;
   92                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 20; ; Because these are mainly macros, and so must be included before being used
   93                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 21; ; in compiled code, the actual functions here are written to avoid using any
   94                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 22; ; BSS memory so that HuCC's overlay global-shared-variables are not effected.
   95                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 23; ;
   96                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 24; ; ***************************************************************************
   97                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 25; ; **************************************************************************/
   98                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 27; // *************
   99                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 28; // Backup RAM defines ...
  100                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 29; // *************
  101                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 31; #define  BM_OK             0
  102                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 32; #define  BM_NOT_FOUND      1
  103                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 33; #define  BM_BAD_CHECKSUM   2
  104                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 34; #define  BM_DIR_CORRUPTED  3
  105                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 35; #define  BM_FILE_EMPTY     4
  106                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 36; #define  BM_FULL           5
  107                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 37; #define  BM_NOT_FORMATED   0xFF			// HuC incorrect spelling.
  108                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 38; #define  BM_NOT_FORMATTED  0xFF			// HuCC can use a dictionary!
  109                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 40; #define  BRAM_STARTPTR     0x8010
  110                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 42; // *************
  111                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 43; // CD defines ...
  112                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 44; // *************
  113                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 46; #define	CDPLAY_MUTE		0
  114                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 47; #define	CDPLAY_REPEAT		1
  115                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 48; #define	CDPLAY_NORMAL		2
  116                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 49; #define	CDPLAY_ENDOFDISC	0
  117                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 51; #define	CDFADE_CANCEL	0
  118                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 52; #define	CDFADE_PCM6	8
  119                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 53; #define	CDFADE_ADPCM6	10
  120                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 54; #define	CDFADE_PCM2	12
  121                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 55; #define	CDFADE_ADPCM2	14
  122                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 57; #define CDTRK_AUDIO	0
  123                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 58; #define CDTRK_DATA	4
  124                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 60; // *************
  125                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 61; // ADPCM defines ...
  126                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 62; // *************
  127                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 64; #define	ADPLAY_AUTOSTOP		0
  128                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 65; #define	ADPLAY_REPEAT		0x80
  129                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 67; #define ADPLAY_FREQ_16KHZ	0xE
  130                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 68; #define ADPLAY_FREQ_10KHZ	0xD
  131                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 69; #define ADPLAY_FREQ_8KHZ	0xC
  132                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 70; #define ADPLAY_FREQ_6KHZ	0xB
  133                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 71; #define ADPLAY_FREQ_5KHZ	0xA
  134                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 73; #define ADREAD_RAM	0
  135                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 74; #define ADREAD_VRAM	0xFF
  136                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 76; #define ADWRITE_RAM	0
  137                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 77; #define ADWRITE_VRAM	0xFF
  138                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 79; // *************
  139                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 80; // Functions in hucc-systemcard.asm ...
  140                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 81; // *************
  141                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 83; #ifdef __HUCC__
  142                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 85; #asmdef	HUCC_USES_SYSTEMCARD 1
  143               0001     	HUCC_USES_SYSTEMCARD = 1
  144                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 87; extern void __fastcall __macro cd_boot( void );
  145                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 88; extern unsigned int __fastcall __macro cd_getver( void );
  146                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 89; extern void __fastcall __macro cd_reset( void );
  147                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 90; extern unsigned char __fastcall __macro cd_pause( void );
  148                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 91; extern unsigned char __fastcall cd_unpause( void );
  149                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 92; extern void __fastcall __macro cd_fade( unsigned char type<acc> );
  150                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 93; extern unsigned char __fastcall cd_playtrk( unsigned char start_track<_bx>, unsigned char end_track<_cx>, unsigned char mode<_dh> );
  151                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 94; extern unsigned char __fastcall cd_playmsf( unsigned char start_minute<_al>,  unsigned char start_second<_ah>,  unsigned char start_frame<_bl>, unsigned char end_minute<_cl>,  unsigned char end_second<_ch>,  unsigned char end_frame<_dl>,  unsigned char mode<_dh> );
  152                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 95; extern unsigned char __fastcall cd_fastvram( unsigned char ovl_index<_cl>, unsigned int sect_offset<_si>, unsigned int vramaddr<_bx>, unsigned int sectors<_al> );
  153                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 96; extern unsigned char __fastcall cd_loadvram( unsigned char ovl_index<_cl>, unsigned int sect_offset<_si>, unsigned int vramaddr<_bx>, unsigned int bytes<_ax> );
  154                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 97; extern unsigned char __fastcall cd_loaddata( unsigned char ovl_index<_cl>, unsigned int sect_offset<_si>, unsigned char __far *buffer<_bp_bank:_bp>, unsigned int bytes<__ptr> );
  155                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 98; extern unsigned char __fastcall cd_loadbank( unsigned char ovl_index<_cl>, unsigned int sect_offset<_si>, unsigned char bank<_bl>, unsigned int sectors<_al> );
  156                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 99; extern unsigned char __fastcall __macro cd_status( unsigned char mode<acc> );
  157                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 101; extern void __fastcall __macro ad_reset( void );
  158                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 102; extern unsigned char __fastcall __macro ad_trans( unsigned char ovl_index<_cl>, unsigned int sect_offset<_si>, unsigned char nb_sectors<_dh>, unsigned int ad_addr<_bx> );
  159                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 103; extern void __fastcall __macro ad_read( unsigned int ad_addr<_cx>, unsigned char mode<_dh>, unsigned int buf<_bx>, unsigned int bytes<_ax> );
  160                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 104; extern void __fastcall __macro ad_write( unsigned int ad_addr<_cx>, unsigned char mode<_dh>, unsigned int buf<_bx>, unsigned int bytes<_ax> );
  161                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 105; extern unsigned char __fastcall __macro ad_play( unsigned int ad_addr<_bx>, unsigned int bytes<_ax>, unsigned char freq<_dh>, unsigned char mode<_dl> );
  162                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 106; extern unsigned char __fastcall __macro ad_cplay( unsigned char ovl_index<_cl>, unsigned int sect_offset<_si>, unsigned int nb_sectors<_bx>, unsigned char freq<_dh> );
  163                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 107; extern void __fastcall __macro ad_stop( void );
  164                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 108; extern unsigned char __fastcall __macro ad_stat( void );
  165                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 110; extern unsigned char __fastcall bm_check( void );
  166                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 111; extern unsigned char __fastcall bm_format( void );
  167                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 112; extern unsigned int __fastcall __macro bm_free( void );
  168                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 113; extern unsigned char __fastcall __macro bm_read( unsigned char *buffer<_bx>, unsigned char *name<_ax>, unsigned int offset<_dx>, unsigned int length<_cx> );
  169                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 114; extern unsigned char __fastcall __macro bm_write( unsigned char *buffer<_bx>, unsigned char *name<_ax>, unsigned int offset<_dx>, unsigned int length<_cx> );
  170                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 115; extern unsigned char __fastcall __macro bm_delete( unsigned char *name<_ax> );
  171                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 117; // Deprecated functions ...
  172                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 119; extern unsigned char __fastcall __macro bm_exist( unsigned char *name<_ax> );
  173                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 120; extern unsigned char __fastcall __macro bm_create( unsigned char *name<_ax>, unsigned int length<_cx> );
  174                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 122; // void __fastcall _xsafe add_sectors( unsigned int sector_offset<acc> );
  175                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 124; #endif // __HUCC__
  176                        		.dbg	line,	"..\..\..\include\hucc\hucc-systemcard.h", 126; #endif // _hucc_systemcard_h
  177                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
  178                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 1; #ifndef _hucc_baselib_h
  179                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 2; #define _hucc_baselib_h
  180                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 4; /****************************************************************************
  181                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 5; ; ***************************************************************************
  182                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 6; ;
  183                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 7; ; hucc-baselib.h
  184                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 8; ;
  185                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 9; ; Basic library functions provided as macros.
  186                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 10; ;
  187                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 11; ; Copyright John Brandwood 2024.
  188                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 12; ;
  189                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 13; ; Distributed under the Boost Software License, Version 1.0.
  190                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
  191                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
  192                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 16; ;
  193                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 17; ; ***************************************************************************
  194                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 18; ; **************************************************************************/
  195                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 20; // *************
  196                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 21; // Joypad defines ...
  197                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 22; // *************
  198                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 24; #define	JOY_A		0x01
  199                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 25; #define	JOY_I		0x01
  200                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 26; #define	JOY_B		0x02
  201                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 27; #define	JOY_II		0x02
  202                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 28; #define	JOY_SLCT	0x04
  203                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 29; #define	JOY_SEL		0x04
  204                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 30; #define	JOY_STRT	0x08
  205                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 31; #define	JOY_RUN		0x08
  206                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 32; #define	JOY_UP		0x10
  207                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 33; #define	JOY_RGHT	0x20
  208                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 34; #define	JOY_RIGHT	0x20
  209                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 35; #define	JOY_DOWN	0x40
  210                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 36; #define	JOY_LEFT	0x80
  211                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 38; #define	JOY_C		0x0100
  212                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 39; #define	JOY_III		0x0100
  213                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 40; #define	JOY_D		0x0200
  214                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 41; #define	JOY_IV		0x0200
  215                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 42; #define	JOY_E		0x0400
  216                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 43; #define	JOY_V		0x0400
  217                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 44; #define	JOY_F		0x0800
  218                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 45; #define	JOY_VI		0x0800
  219                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 47; #define JOY_SIXBUT	0x8000
  220                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 48; #define JOY_TYPE6	0x8000
  221                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 50; // *************
  222                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 51; // SuperGRAFX VPC settings for set_vpc_ctl() ...
  223                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 52; // *************
  224                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 54; #define VPC_SPR1_BKG1_SPR2_BKG2	0x3000 // same as SGX_PARALLAX=0
  225                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 55; #define VPC_SPR1_SPR2_BKG1_BKG2	0x7000 // same as SGX_PARALLAX=1
  226                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 56; #define VPC_BKG1_BKG2_SPR1_SPR2	0xB000
  227                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 58; // *************
  228                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 59; // System Card variables ...
  229                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 60; // *************
  230                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 62; extern unsigned int si;
  231                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 63; extern unsigned int di;
  232                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 64; extern unsigned int bp;
  233                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 66; extern unsigned int ax;
  234                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 67; extern unsigned int bx;
  235                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 68; extern unsigned int cx;
  236                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 69; extern unsigned int dx;
  237                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 71; extern unsigned char al;
  238                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 72; extern unsigned char ah;
  239                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 73; extern unsigned char bl;
  240                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 74; extern unsigned char bh;
  241                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 75; extern unsigned char cl;
  242                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 76; extern unsigned char ch;
  243                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 77; extern unsigned char dl;
  244                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 78; extern unsigned char dh;
  245                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 80; extern unsigned char irq_cnt;
  246                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 81; extern unsigned char joynow[5];
  247                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 82; extern unsigned char joytrg[5];
  248                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 83; extern unsigned char joy6now[5];
  249                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 84; extern unsigned char joy6trg[5];
  250                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 85; extern unsigned int  bg_x1;
  251                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 86; extern unsigned int  bg_y1;
  252                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 87; extern unsigned int  bg_x2;
  253                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 88; extern unsigned int  bg_y2;
  254                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 90; // *************
  255                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 91; // Special macros to get information from PCEAS ...
  256                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 92; // *************
  257                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 94; #define BANK( datasym ) ((unsigned) (&__bank__ ## datasym))
  258                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 95; #define SIZEOF( datasym ) ((unsigned) (&__sizeof__ ## datasym))
  259                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 96; #define COUNTOF( datasym ) ((unsigned) (&__countof__ ## datasym))
  260                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 97; #define OVERLAY( datasym ) ((unsigned) (&__overlay__ ## datasym))
  261                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 100; // *************
  262                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 101; // Functions in hucc-baselib.asm ...
  263                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 102; // *************
  264                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 104; #ifdef __HUCC__
  265                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 106; #asmdef	HUCC_USES_BASELIB 1
  266               0001     	HUCC_USES_BASELIB = 1
  267                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 108; #define	_OPTIMIZE 1
  268                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 111; // *************
  269                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 112; // Hardware Detection
  270                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 113; // *************
  271                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 115; extern unsigned char __fastcall __macro sgx_detect( void );
  272                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 116; extern unsigned char __fastcall __macro ac_exists( void );
  273                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 119; // *************
  274                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 120; // Memory Access
  275                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 121; // *************
  276                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 123; extern unsigned char __fastcall __macro peek( unsigned int addr<__ptr> );
  277                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 124; extern unsigned int  __fastcall __macro peekw( unsigned int addr<__ptr> );
  278                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 126; extern void __fastcall __macro poke( unsigned int addr<__poke>, unsigned char with<acc> );
  279                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 127; extern void __fastcall __macro pokew( unsigned int addr<__poke>, unsigned int with<acc> );
  280                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 129; extern unsigned char __fastcall farpeek( void __far *addr<_bp_bank:_bp> );
  281                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 130; extern unsigned int  __fastcall farpeekw( void __far *addr<_bp_bank:_bp> );
  282                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 132; extern void __fastcall __nop set_far_base( unsigned char data_bank<_bp_bank>, unsigned char *data_addr<_bp> );
  283                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 133; extern void __fastcall set_far_offset( unsigned int offset<_bp>, unsigned char data_bank<_bp_bank>, unsigned char *data_addr<acc> );
  284                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 135; extern unsigned char __fastcall far_peek( void );
  285                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 136; extern unsigned int  __fastcall far_peekw( void );
  286                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 138; extern void __fastcall __macro reset_mpr2( void );
  287                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 139; extern void __fastcall __macro reset_mpr34( void );
  288                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 141; extern void * __fastcall __macro farset_mpr2( void __far *addr<_bp_bank:_bp> );
  289                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 142; extern void * __fastcall __macro farset_mpr34( void __far *addr<_bp_bank:_bp> );
  290                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 144; extern void * __fastcall __macro far_set_mpr2( void );
  291                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 145; extern void * __fastcall __macro far_set_mpr34( void );
  292                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 148; // *************
  293                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 149; // Clock Functions
  294                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 150; // *************
  295                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 152; extern unsigned char __fastcall __macro clock_hh( void );
  296                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 153; extern unsigned char __fastcall __macro clock_mm( void );
  297                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 154; extern unsigned char __fastcall __macro clock_ss( void );
  298                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 155; extern unsigned char __fastcall __macro clock_tt( void );
  299                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 156; extern void __fastcall __macro clock_reset( void );
  300                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 159; // *************
  301                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 160; // Joypad Functions
  302                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 161; // *************
  303                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 163; extern unsigned int __fastcall __macro joy( unsigned char which<acc> );
  304                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 164; extern unsigned int __fastcall __macro joytrg( unsigned char which<acc> );
  305                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 167; // *************
  306                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 168; // Number Functions
  307                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 169; // *************
  308                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 171; extern void __fastcall __macro srand( unsigned char seed<acc> );
  309                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 172; extern unsigned int __fastcall rand( void );
  310                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 173; extern unsigned char __fastcall rand8( void );
  311                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 175; // Note: "limit" is 0..255.
  312                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 176; extern unsigned char __fastcall random8( unsigned char limit<acc> );
  313                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 178; // Note: "limit" is 0..128, 129..255 are treated as 128!
  314                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 179; extern unsigned char __fastcall random( unsigned char limit<acc> );
  315                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 182; // *************
  316                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 183; // Overlay Execution
  317                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 184; // *************
  318                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 186; extern unsigned char __fastcall __macro cd_execoverlay( unsigned char ovl_index<acc> );
  319                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 189; // *************
  320                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 190; // Functions that are only optionally available if configured in your hucc-config.inc
  321                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 191; // *************
  322                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 193; extern unsigned int __fastcall __macro joybuf( unsigned char which<acc> );
  323                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 194; extern unsigned int __fastcall __macro get_joy_events( unsigned char which<acc> );
  324                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 195; extern void __fastcall __macro clear_joy_events( unsigned char mask<acc> );
  325                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 198; // *************
  326                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 199; // Functions that are only implemented in the TGEMU emulator for unit-testing
  327                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 200; // the compiler, and which should never be used in normal HuCC projects ...
  328                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 201; // *************
  329                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 203; extern void __fastcall dump_screen( void );
  330                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 205; #endif // __HUCC__
  331                        		.dbg	line,	"..\..\..\include\hucc\hucc-baselib.h", 207; #endif // _hucc_baselib_h
  332                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
  333                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 1; #ifndef _hucc_gfx_h
  334                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 2; #define _hucc_gfx_h
  335                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 4; /****************************************************************************
  336                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 5; ; ***************************************************************************
  337                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 6; ;
  338                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 7; ; huc-gfx.h
  339                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 8; ;
  340                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 9; ; Based on the original HuC and MagicKit functions by David Michel and the
  341                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 10; ; other original HuC developers.
  342                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 11; ;
  343                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 12; ; Modifications copyright John Brandwood 2024.
  344                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 13; ;
  345                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 14; ; Distributed under the Boost Software License, Version 1.0.
  346                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 15; ; (See accompanying file LICENSE_1_0.txt or copy at
  347                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 16; ;  http://www.boost.org/LICENSE_1_0.txt)
  348                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 17; ;
  349                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 18; ; ***************************************************************************
  350                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 19; ; **************************************************************************/
  351                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 21; // *************
  352                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 22; // Screen defines ...
  353                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 23; // *************
  354                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 25; #define	SCR_SIZE_32x32	0
  355                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 26; #define	SCR_SIZE_64x32	1
  356                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 27; #define	SCR_SIZE_128x32	2
  357                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 28; #define	SCR_SIZE_32x64	4
  358                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 29; #define	SCR_SIZE_64x64	5
  359                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 30; #define	SCR_SIZE_128x64	6
  360                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 32; #define	XRES_SHARP	0
  361                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 33; #define	XRES_SOFT	4
  362                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 34; #define	XRES_KEEP	128
  363                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 36; #define VPC_WIN_A	0x00
  364                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 37; #define VPC_WIN_B	0x01
  365                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 38; #define	VPC_WIN_AB	0x02
  366                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 39; #define	VPC_WIN_NONE	0x03
  367                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 40; #define	VPC_NORM	0x00
  368                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 41; #define	VPC_SPR		0x04
  369                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 42; #define	VPC_INV_SPR	0x08
  370                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 43; #define VDC1_ON		0x01
  371                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 44; #define	VDC1_OFF	0x00
  372                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 45; #define VDC2_ON		0x02
  373                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 46; #define	VDC2_OFF	0x00
  374                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 47; #define VDC_ON		0x03
  375                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 48; #define	VDC_OFF		0x00
  376                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 50; // *************
  377                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 51; // Functions in hucc-gfx.asm ...
  378                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 52; // *************
  379                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 54; #ifdef __HUCC__
  380                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 56; #asmdef	HUCC_USES_GFX 1
  381               0001     	HUCC_USES_GFX = 1
  382                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 58; // *************
  383                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 59; // Color and Palette Functions
  384                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 60; // *************
  385                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 62; extern void __fastcall clear_palette( void );
  386                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 64; extern void __fastcall __nop set_color( unsigned int index<VCE_CTA>, unsigned int value<VCE_CTW> );
  387                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 65; extern void __fastcall set_color_rgb( unsigned int index<VCE_CTA>, unsigned char r<_al>, unsigned char g<_ah>, unsigned char b<acc> );
  388                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 66; extern unsigned int __fastcall __macro get_color( unsigned int index<VCE_CTA> );
  389                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 68; extern void __fastcall load_palette( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp>, unsigned char num_palettes<_ah> );
  390                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 69; extern void __fastcall far_load_palette( unsigned char palette<_al>, unsigned char num_palettes<_ah> );
  391                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 71; extern void __fastcall read_palette( unsigned char palette<_al>, unsigned char num_palettes<_ah>, unsigned int *destination<_di> );
  392                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 73; extern void __fastcall __macro fade_to_black( unsigned int __far *from<_bp_bank:_bp>, unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_sub<_ah> );
  393                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 74; extern void __fastcall __macro fade_to_white( unsigned int __far *from<_bp_bank:_bp>, unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_add<_ah> );
  394                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 75; extern void __fastcall __macro cross_fade_to( unsigned int __far *from<_bp_bank:_bp>, unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char which_component<_ah> );
  395                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 77; extern void __fastcall __macro far_fade_to_black( unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_sub<_ah> );
  396                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 78; extern void __fastcall __macro far_fade_to_white( unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char value_to_add<_ah> );
  397                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 79; extern void __fastcall __macro far_cross_fade_to( unsigned int *destination<_di>, unsigned char num_colors<_al>, unsigned char which_component<_ah> );
  398                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 83; // *************
  399                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 84; // Video Functions
  400                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 85; // *************
  401                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 87; extern void __fastcall init_240x208( void );
  402                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 88; extern void __fastcall init_256x224( void );
  403                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 90; extern void __fastcall vsync( void );
  404                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 91; extern void __fastcall vsync( unsigned char count<_al> );
  405                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 93; extern void __fastcall disp_on( void );
  406                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 94; extern void __fastcall disp_off( void );
  407                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 96; extern void __fastcall set_screen_size( unsigned char value<_al> );
  408                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 98; extern void __fastcall set_xres( unsigned int x_pixels<_ax>, unsigned char blur_flag<_bl> );
  409                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 100; extern void __fastcall cls( void );
  410                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 101; extern void __fastcall cls( unsigned int tile<acc> );
  411                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 103; extern unsigned int __fastcall __macro vram_addr( unsigned char bat_x<_al>, unsigned char bat_y<_ah> );
  412                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 104; extern unsigned int __fastcall __macro get_vram( unsigned int address<_di> );
  413                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 105; extern void __fastcall __macro put_vram( unsigned int address<_di>, unsigned int data<acc> );
  414                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 107; extern void __fastcall __macro load_vram( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_words<_ax> );
  415                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 108; extern void __fastcall __macro far_load_vram( unsigned int vram<_di>,  unsigned int num_words<_ax> );
  416                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 110; extern void __fastcall load_bat( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  417                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 111; extern void __fastcall far_load_bat( unsigned int vram<_di>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  418                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 113; extern void __fastcall __macro load_sprites( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_groups<acc> );
  419                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 114; extern void __fastcall __macro far_load_sprites( unsigned int vram<_di>, unsigned int num_groups<acc> );
  420                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 116; extern void __fastcall vram2vram( unsigned int vram_dst<_ax>, unsigned int vram_src<_bx>, unsigned int word_len<_cx> );
  421                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 119; // *************
  422                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 120; // SuperGRAFX Video Functions
  423                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 121; // *************
  424                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 123; extern void __fastcall __nop vpc_set_ctl( unsigned int bits<VPC_CR> );
  425                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 124; extern void __fastcall __nop vpc_set_win1( unsigned int width<VPC_WINDOW1> );
  426                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 125; extern void __fastcall __nop vpc_set_win2( unsigned int width<VPC_WINDOW2> );
  427                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 127; extern void __fastcall sgx_set_screen_size( unsigned char value<_al> );
  428                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 129; extern void __fastcall sgx_set_xres( unsigned int x_pixels<_ax>, unsigned char blur_flag<_bl> );
  429                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 131; extern void __fastcall sgx_cls( void );
  430                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 132; extern void __fastcall sgx_cls( unsigned int tile<acc> );
  431                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 134; extern unsigned int __fastcall __macro sgx_vram_addr( unsigned char bat_x<_al>, unsigned char bat_y<_ah> );
  432                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 135; extern unsigned int __fastcall __macro sgx_get_vram( unsigned int address<_di> );
  433                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 136; extern void __fastcall __macro sgx_put_vram( unsigned int address<_di>, unsigned int data<acc> );
  434                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 138; extern void __fastcall __macro sgx_load_vram( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_words<_ax> );
  435                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 139; extern void __fastcall __macro sgx_far_load_vram( unsigned int vram<_di>, unsigned int num_words<_ax> );
  436                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 141; extern void __fastcall sgx_load_bat( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  437                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 142; extern void __fastcall sgx_far_load_bat( unsigned int vram<_di>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  438                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 144; extern void __fastcall __macro sgx_load_sprites( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_groups<acc> );
  439                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 145; extern void __fastcall __macro sgx_far_load_sprites( unsigned int vram<_di>, unsigned int num_groups<acc> );
  440                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 147; extern void __fastcall sgx_vram2vram( unsigned int vram_dst<_ax>, unsigned int vram_src<_bx>, unsigned int word_len<_cx> );
  441                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 150; // *************
  442                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 151; // Font Functions
  443                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 152; // *************
  444                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 154; extern void __fastcall set_font_addr( unsigned int vram<acc> );
  445                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 155; extern void __fastcall set_font_pal( unsigned char palette<acc> );
  446                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 157; extern void __fastcall load_font( unsigned char __far *font<_bp_bank:_bp>, unsigned char count<_al>, unsigned int vram<acc> );
  447                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 158; extern void __fastcall far_load_font( unsigned char count<_al>, unsigned int vram<acc> );
  448                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 160; extern void __fastcall __nop set_font_color( unsigned char foreground<monofont_fg>, unsigned char background<monofont_bg> );
  449                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 161; extern void __fastcall __macro load_default_font( void );
  450                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 164; // *************
  451                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 165; // SuperGRAFX Font Functions
  452                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 166; // *************
  453                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 168; extern void __fastcall sgx_set_font_addr( unsigned int vram<acc> );
  454                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 169; extern void __fastcall sgx_set_font_pal( unsigned char palette<acc> );
  455                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 171; extern void __fastcall sgx_load_font( char __far *font<_bp_bank:_bp>, unsigned char count<_al>, unsigned int vram<acc> );
  456                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 172; extern void __fastcall sgx_far_load_font( unsigned char count<_al>, unsigned int vram<acc> );
  457                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 174; extern void __fastcall __macro sgx_load_default_font( void );
  458                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 177; // *************
  459                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 178; // Deprecated functions ...
  460                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 179; // *************
  461                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 181; extern void __fastcall __macro set_xres( unsigned int x_pixels<_ax> );
  462                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 182; extern void __fastcall __macro sgx_set_xres( unsigned int x_pixels<_ax> );
  463                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 184; extern void __fastcall load_background( unsigned char __far *tiles<_bp_bank:_bp>, unsigned char __far *palettes<__fbank:__fptr>, unsigned char __far *bat<_cl:_bx>, unsigned char w<_dl>, unsigned char h<_dh> );
  464                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 186; extern void __fastcall __macro set_bgpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp> );
  465                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 187; extern void __fastcall __macro set_bgpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_palettes<_ah> );
  466                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 188; extern void __fastcall __macro set_sprpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp> );
  467                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 189; extern void __fastcall __macro set_sprpal( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_palettes<_ah> );
  468                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 191; extern void __fastcall load_font( char __far *font<_bp_bank:_bp>, unsigned char count<_al> );
  469                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 193; extern void __fastcall put_string( unsigned char *string<_bp>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
  470                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 195; extern void __fastcall put_char( unsigned char digit<_bl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
  471                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 196; extern void __fastcall put_digit( unsigned char digit<_bl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
  472                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 197; extern void __fastcall put_hex( unsigned int number<_bx>, unsigned char length<_cl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
  473                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 198; extern void __fastcall put_number( unsigned int number<_bx>, unsigned char length<_cl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
  474                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 199; extern void __fastcall put_raw( unsigned int data<_bx>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
  475                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 201; #endif // __HUCC__
  476                        		.dbg	line,	"..\..\..\include\hucc\hucc-gfx.h", 203; #endif // _hucc_gfx_h
  477                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
  478                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 1; #ifndef _hucc_old_scroll_h
  479                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 2; #define _hucc_old_scroll_h
  480                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 4; /****************************************************************************
  481                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 5; ; ***************************************************************************
  482                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 6; ;
  483                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 7; ; hucc-old-scroll.h
  484                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 8; ;
  485                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 9; ; Based on the original HuC and MagicKit functions by David Michel and the
  486                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 10; ; other original HuC developers.
  487                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 11; ;
  488                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 12; ; Modifications copyright John Brandwood 2024.
  489                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 13; ;
  490                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 14; ; Distributed under the Boost Software License, Version 1.0.
  491                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 15; ; (See accompanying file LICENSE_1_0.txt or copy at
  492                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 16; ;  http://www.boost.org/LICENSE_1_0.txt)
  493                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 17; ;
  494                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 18; ; ***************************************************************************
  495                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 19; ; ***************************************************************************
  496                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 20; ;
  497                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 21; ; HuC's old scrolling library is provided for use with existing HuC projects,
  498                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 22; ; but it should preferably be avoided in new projects because it is slow and
  499                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 23; ; forever limited by its choice to handle gaps between areas, and sorting.
  500                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 24; ;
  501                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 25; ; HuCC's new scrolling library puts the responibility for defining both gaps
  502                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 26; ; and the display order into the project's hands, but in return it runs much
  503                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 27; ; faster, using less than 1/6 of the processing time in VBLANK, and far less
  504                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 28; ; time in the RCR interrputs themselves. It also supports the 2nd SuperGRAFX
  505                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 29; ; screen layer, which HuC's old scrolling library ignores.
  506                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 30; ;
  507                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 31; ; ***************************************************************************
  508                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 32; ; **************************************************************************/
  509                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 34; // *************
  510                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 35; // Functions in hucc-old-scroll.asm ...
  511                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 36; // *************
  512                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 38; #ifdef __HUCC__
  513                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 40; #asmdef	HUCC_USES_OLD_SCROLL 1
  514               0001     	HUCC_USES_OLD_SCROLL = 1
  515                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 42; extern void __fastcall scroll( unsigned char num<_al>, unsigned int x<_cx>, unsigned int y<_dx>, unsigned char top<_ah>, unsigned char bottom<_bl>, unsigned char disp<acc> );
  516                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 43; extern void __fastcall scroll_disable( unsigned char num<acc> );
  517                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 45; #endif // __HUCC__
  518                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-scroll.h", 47; #endif // _hucc_old_scroll_h
  519                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
  520                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 1; #ifndef _hucc_old_spr_h
  521                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 2; #define _hucc_old_spr_h
  522                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 4; /****************************************************************************
  523                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 5; ; ***************************************************************************
  524                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 6; ;
  525                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 7; ; hucc-old-spr.h
  526                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 8; ;
  527                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 9; ; Based on the original HuC and MagicKit functions by David Michel and the
  528                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 10; ; other original HuC developers.
  529                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 11; ;
  530                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 12; ; Modifications copyright John Brandwood 2024.
  531                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 13; ;
  532                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 14; ; Distributed under the Boost Software License, Version 1.0.
  533                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 15; ; (See accompanying file LICENSE_1_0.txt or copy at
  534                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 16; ;  http://www.boost.org/LICENSE_1_0.txt)
  535                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 17; ;
  536                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 18; ; ***************************************************************************
  537                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 19; ; **************************************************************************/
  538                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 21; // *************
  539                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 22; // Sprite defines ...
  540                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 23; // *************
  541                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 25; #define FLIP_X_MASK 0x08
  542                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 26; #define FLIP_Y_MASK 0x80
  543                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 27; #define FLIP_MAS    0x88
  544                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 28; #define SIZE_MAS    0x31
  545                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 30; #define NO_FLIP     0x00
  546                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 31; #define NO_FLIP_X   0x00
  547                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 32; #define NO_FLIP_Y   0x00
  548                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 33; #define FLIP_X      0x08
  549                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 34; #define FLIP_Y      0x80
  550                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 35; #define SZ_16x16    0x00
  551                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 36; #define SZ_16x32    0x10
  552                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 37; #define SZ_16x64    0x30
  553                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 38; #define SZ_32x16    0x01
  554                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 39; #define SZ_32x32    0x11
  555                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 40; #define	SZ_32x64    0x31
  556                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 42; // *************
  557                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 43; // Functions in hucc-old-spr.asm ...
  558                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 44; // *************
  559                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 46; #ifdef __HUCC__
  560                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 48; #asmdef	HUCC_USES_OLD_SPR 1
  561               0001     	HUCC_USES_OLD_SPR = 1
  562                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 50; extern void __fastcall init_satb( void );
  563                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 51; extern void __fastcall reset_satb( void );
  564                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 52; extern void __fastcall satb_update( void );
  565                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 53; extern void __fastcall spr_set( unsigned char num<acc> );
  566                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 54; extern void __fastcall spr_hide( void );
  567                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 55; extern void __fastcall spr_show( void );
  568                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 56; extern void __fastcall spr_x( unsigned int value<acc> );
  569                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 57; extern void __fastcall spr_y( unsigned int value<acc> );
  570                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 58; extern void __fastcall spr_pattern( unsigned int vaddr<acc> );
  571                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 59; extern void __fastcall spr_ctrl( unsigned char mask<_al>, unsigned char value<acc> );
  572                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 60; extern void __fastcall spr_pal( unsigned char palette<acc> );
  573                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 61; extern void __fastcall spr_pri( unsigned char priority<acc> );
  574                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 63; extern unsigned int __fastcall spr_get_x( void );
  575                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 64; extern unsigned int __fastcall spr_get_y( void );
  576                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 66; extern void __fastcall sgx_init_satb( void );
  577                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 67; extern void __fastcall sgx_reset_satb( void );
  578                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 68; extern void __fastcall sgx_satb_update( void );
  579                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 69; extern void __fastcall sgx_spr_set( unsigned char num<acc> );
  580                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 70; extern void __fastcall sgx_spr_hide( void );
  581                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 71; extern void __fastcall sgx_spr_show( void );
  582                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 72; extern void __fastcall sgx_spr_x( unsigned int value<acc> );
  583                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 73; extern void __fastcall sgx_spr_y( unsigned int value<acc> );
  584                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 74; extern void __fastcall sgx_spr_pattern( unsigned int vaddr<acc> );
  585                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 75; extern void __fastcall sgx_spr_ctrl( unsigned char mask<_al>, unsigned char value<acc> );
  586                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 76; extern void __fastcall sgx_spr_pal( unsigned char palette<acc> );
  587                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 77; extern void __fastcall sgx_spr_pri( unsigned char priority<acc> );
  588                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 79; extern unsigned int __fastcall sgx_spr_get_x( void );
  589                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 80; extern unsigned int __fastcall sgx_spr_get_y( void );
  590                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 82; #endif // __HUCC__
  591                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-spr.h", 84; #endif // _hucc_old_spr_h
  592                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
  593                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 1; #ifndef _hucc_old_map_h
  594                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 2; #define _hucc_old_map_h
  595                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 4; /****************************************************************************
  596                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 5; ; ***************************************************************************
  597                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 6; ;
  598                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 7; ; hucc-old-map.h
  599                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 8; ;
  600                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 9; ; Based on the original HuC and MagicKit functions by David Michel and the
  601                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 10; ; other original HuC developers.
  602                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 11; ;
  603                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 12; ; Modifications copyright John Brandwood 2024.
  604                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 13; ;
  605                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 14; ; Distributed under the Boost Software License, Version 1.0.
  606                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 15; ; (See accompanying file LICENSE_1_0.txt or copy at
  607                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 16; ;  http://www.boost.org/LICENSE_1_0.txt)
  608                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 17; ;
  609                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 18; ; ***************************************************************************
  610                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 19; ; **************************************************************************/
  611                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 21; // *************
  612                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 22; // Functions in hucc-old-map.asm ...
  613                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 23; // *************
  614                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 25; #ifdef __HUCC__
  615                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 27; #asmdef	HUCC_USES_OLD_MAP 1
  616               0001     	HUCC_USES_OLD_MAP = 1
  617                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 29; extern void __fastcall set_tile_address( unsigned int vram<_di> );
  618                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 30; extern void __fastcall sgx_set_tile_address( unsigned int vram<_di> );
  619                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 32; extern void __fastcall __nop set_tile_data( unsigned char __far *tiles<vdc_tile_bank:vdc_tile_addr>, unsigned char num_tiles<vdc_num_tiles>, unsigned char __far *palette_table<vdc_attr_bank:vdc_attr_addr>, unsigned char tile_type<vdc_tile_type> );
  620                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 33; extern void __fastcall __nop sgx_set_tile_data( unsigned char __far *tiles<sgx_tile_bank:sgx_tile_addr>, unsigned char num_tiles<sgx_num_tiles>, unsigned char __far *palette_table<sgx_attr_bank:sgx_attr_addr>, unsigned char tile_type<sgx_tile_type> );
  621                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 35; extern void __fastcall __nop set_far_tile_data( unsigned char tile_bank<vdc_tile_bank>, unsigned char *tile_addr<vdc_tile_addr>, unsigned char num_tiles<vdc_num_tiles>, unsigned char palette_table_bank<vdc_attr_bank>, unsigned char *palette_table_addr<vdc_attr_addr>, unsigned char tile_type<vdc_tile_type> );
  622                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 36; extern void __fastcall __nop sgx_set_far_tile_data( unsigned char tile_bank<sgx_tile_bank>, unsigned char *tile_addr<sgx_tile_addr>, unsigned char num_tiles<sgx_num_tiles>, unsigned char palette_table_bank<sgx_attr_bank>, unsigned char *palette_table_addr<sgx_attr_addr>, unsigned char tile_type<sgx_tile_type> );
  623                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 38; extern void __fastcall __nop set_map_data( unsigned char __far *map<vdc_map_bank:vdc_map_addr>, unsigned char w<vdc_map_width>, unsigned char h<vdc_map_height> );
  624                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 39; extern void __fastcall __nop sgx_set_map_data( unsigned char __far *map<sgx_map_bank:sgx_map_addr>, unsigned char w<sgx_map_width>, unsigned char h<sgx_map_height> );
  625                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 41; extern void __fastcall __nop set_far_map_data( unsigned char map_bank<vdc_map_bank>, unsigned char *map_addr<vdc_map_addr>, unsigned char w<vdc_map_width>, unsigned char h<vdc_map_height> );
  626                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 42; extern void __fastcall __nop sgx_set_far_map_data( unsigned char map_bank<vdc_map_bank>, unsigned char *map_addr<vdc_map_addr>, unsigned char w<sgx_map_width>, unsigned char h<sgx_map_height> );
  627                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 44; extern void __fastcall load_tile( unsigned int vram<_di> );
  628                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 45; extern void __fastcall sgx_load_tile( unsigned int vram<_di> );
  629                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 47; extern void __fastcall load_map( unsigned char bat_x<_al>, unsigned char bat_y<_ah>, int map_x<_bx>, int map_y<_dx>, unsigned char tiles_w<_cl>, unsigned char tiles_h<_ch> );
  630                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 48; extern void __fastcall sgx_load_map( unsigned char bat_x<_al>, unsigned char bat_y<_ah>, int map_x<_bx>, int map_y<_dx>, unsigned char tiles_w<_cl>, unsigned char tiles_h<_ch> );
  631                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 50; extern unsigned char __fastcall map_get_tile( unsigned char map_x<_bl>, unsigned char map_y<_bh> );
  632                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 51; extern unsigned char __fastcall sgx_map_get_tile( unsigned char map_x<_bl>, unsigned char map_y<_bh> );
  633                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 53; extern void __fastcall map_put_tile( unsigned char map_x<_bl>, unsigned char map_y<_bh>, unsigned char tile<_al> );
  634                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 54; extern void __fastcall sgx_map_put_tile( unsigned char map_x<_bl>, unsigned char map_y<_bh>, unsigned char tile<_al> );
  635                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 56; extern void __fastcall put_tile( unsigned char tile<_bl>, unsigned char bat_x<_al>, unsigned char bat_y<_ah> );
  636                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 57; extern void __fastcall sgx_put_tile( unsigned char tile<_bl>, unsigned char bat_x<_al>, unsigned char bat_y<_ah> );
  637                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 59; // Deprecated functions ...
  638                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 61; extern void __fastcall set_tile_data( unsigned char *tile_ex<_di> );
  639                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 63; extern void __fastcall __nop set_map_pals( unsigned char __far *palette_table<vdc_attr_bank:vdc_attr_addr> );
  640                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 64; extern void __fastcall __nop set_map_tile_type( unsigned char tile_type<vdc_tile_type> );
  641                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 66; extern void __fastcall __nop sgx_set_map_pals( unsigned char __far *palette_table<sgx_attr_bank:sgx_attr_addr> );
  642                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 67; extern void __fastcall __nop sgx_set_map_tile_type( unsigned char tile_type<sgx_tile_type> );
  643                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 69; extern void __fastcall set_map_tile_base( unsigned int vram<_di> );
  644                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 70; extern void __fastcall sgx_set_map_tile_base( unsigned int vram<_di> );
  645                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 72; #endif // __HUCC__
  646                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-map.h", 74; #endif // _hucc_old_map_h
  647                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
  648                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 1; #ifndef _hucc_old_line_h
  649                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 2; #define _hucc_old_line_h
  650                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 4; /****************************************************************************
  651                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 5; ; ***************************************************************************
  652                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 6; ;
  653                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 7; ; hucc-old-line.h
  654                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 8; ;
  655                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 9; ; Based on the original HuC and MagicKit functions by David Michel and the
  656                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 10; ; other original HuC developers.
  657                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 11; ;
  658                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 12; ; Modifications copyright John Brandwood 2024.
  659                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 13; ;
  660                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 14; ; Distributed under the Boost Software License, Version 1.0.
  661                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 15; ; (See accompanying file LICENSE_1_0.txt or copy at
  662                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 16; ;  http://www.boost.org/LICENSE_1_0.txt)
  663                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 17; ;
  664                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 18; ; ***************************************************************************
  665                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 19; ; **************************************************************************/
  666                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 21; // *************
  667                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 22; // Functions in hucc-old-line.asm ...
  668                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 23; // *************
  669                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 25; #ifdef __HUCC__
  670                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 27; #asmdef	HUCC_USES_OLD_LINE 1
  671               0001     	HUCC_USES_OLD_LINE = 1
  672                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 29; extern void __fastcall gfx_init( unsigned int start_vram_addr<_ax> );
  673                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 30; extern void __fastcall gfx_clear( unsigned int start_vram_addr<_di> );
  674                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 31; extern void __fastcall gfx_plot( unsigned int x<_gfx_x1>, unsigned int y<_gfx_y1>, char color<_gfx_color> );
  675                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 32; extern void __fastcall gfx_line( unsigned int x1<_gfx_x1>, unsigned int y1<_gfx_y1>, unsigned int x2<_gfx_x2>, unsigned int y2<_gfx_y2>, unsigned char color<_gfx_color> );
  676                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 34; #endif // __HUCC__
  677                        		.dbg	line,	"..\..\..\include\hucc\hucc-old-line.h", 36; #endif // _hucc_old_line_h
  678                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
  679                        		.dbg	line,	"..\..\..\include\hucc\stdlib.h", 1; #ifndef _hucc_stdlib_h
  680                        		.dbg	line,	"..\..\..\include\hucc\stdlib.h", 2; #define _hucc_stdlib_h
  681                        		.dbg	line,	"..\..\..\include\hucc\stdlib.h", 4; #define RAND_MAX 32767
  682                        		.dbg	line,	"..\..\..\include\hucc\stdlib.h", 6; #ifdef __HUCC__
  683                        		.dbg	line,	"..\..\..\include\hucc\stdlib.h", 7; extern int __fastcall abs( int value<acc> );
  684                        		.dbg	line,	"..\..\..\include\hucc\stdlib.h", 8; #endif
  685                        		.dbg	line,	"..\..\..\include\hucc\stdlib.h", 10; #endif // _hucc_stdlib_h
  686                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
  687                        		.dbg	line,	"..\..\..\include\hucc\string.h", 1; #ifdef __HUCC__
  688                        		.dbg	line,	"..\..\..\include\hucc\string.h", 2; #include "hucc-string.h"
  689                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 1; #ifndef _hucc_string_h
  690                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 2; #define _hucc_string_h
  691                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 4; /****************************************************************************
  692                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 5; ; ***************************************************************************
  693                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 6; ;
  694                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 7; ; hucc-string.h
  695                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 8; ;
  696                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 9; ; Not-quite-standard, but fast, replacements for <string.h>.
  697                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 10; ;
  698                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 11; ; Copyright John Brandwood 2024.
  699                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 12; ;
  700                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 13; ; Distributed under the Boost Software License, Version 1.0.
  701                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
  702                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
  703                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 16; ;
  704                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 17; ; ***************************************************************************
  705                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 18; ; ***************************************************************************
  706                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 19; ;
  707                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 20; ; !!! WARNING : non-standard return values !!!
  708                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 21; ;
  709                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 22; ; Strings are limited to a maximum of 255 characters (+ the terminator)!
  710                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 23; ;
  711                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 24; ; The memcpy(), strcpy() and strcat() functions do NOT return the destination
  712                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 25; ; address, and they are declared "void" to check that the value is not used.
  713                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 26; ;
  714                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 27; ; mempcpy() is provided which returns the end address instead of the starting
  715                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 28; ; address, because this is typically more useful.
  716                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 29; ;
  717                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 30; ; Please note that both memcpy() and memset() are implemented using a TII for
  718                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 31; ; speed, and so the length should be < 16 bytes if used in time-critical bits
  719                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 32; ; of code (such as when using a split screen) because they delay interrupts.
  720                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 33; ;
  721                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 34; ; strncpy() and strncat() are not provided, because strncpy() was not created
  722                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 35; ; for the purpose of avoiding string overruns, and strncat() is just a poorly
  723                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 36; ; designed function IMHO.
  724                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 37; ;
  725                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 38; ; POSIX strlcpy() and strlcat() are provided instead, but once again they are
  726                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 39; ; slightly non-standard in that the return value when there is an overflow is
  727                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 40; ; the buffer size (so that the overflow can be detected), instead of the full
  728                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 41; ; size of the destination string that was too big to fit in the buffer.
  729                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 42; ;
  730                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 43; ; ***************************************************************************
  731                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 44; ; **************************************************************************/
  732                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 46; // *************
  733                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 47; // Functions in hucc-string.asm ...
  734                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 48; // *************
  735                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 50; #ifdef __HUCC__
  736                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 52; #asmdef	HUCC_USES_STRING 1
  737               0001     	HUCC_USES_STRING = 1
  738                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 54; extern void __fastcall strcpy( char *destination<_di>, char *source<_bp> );
  739                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 55; extern void __fastcall strcat( char *destination<_di>, char *source<_bp> );
  740                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 57; extern unsigned int __fastcall strlen( char *source<_bp> );
  741                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 59; extern unsigned int __fastcall strlcpy( char *destination<_di>, char *source<_bp>, unsigned char size<acc> );
  742                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 60; extern unsigned int __fastcall strlcat( char *destination<_di>, char *source<_bp>, unsigned char size<acc> );
  743                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 62; extern void __fastcall memcpy( unsigned char *destination<ram_tii_dst>, unsigned char *source<ram_tii_src>, unsigned int count<acc> );
  744                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 63; extern void __fastcall farmemcpy( unsigned char *destination<ram_tii_dst>, unsigned char __far *source<_bp_bank:ram_tii_src>, unsigned int count<acc> );
  745                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 64; extern void __fastcall far_memcpy( unsigned char *destination<ram_tii_dst>, unsigned int count<acc> );
  746                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 66; extern unsigned char * __fastcall mempcpy( unsigned char *destination<ram_tii_dst>, unsigned char *source<ram_tii_src>, unsigned int count<acc> );
  747                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 67; extern unsigned char * __fastcall farmempcpy( unsigned char *destination<ram_tii_dst>, unsigned char __far *source<_bp_bank:ram_tii_src>, unsigned int count<acc> );
  748                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 68; extern unsigned char * __fastcall far_mempcpy( unsigned char *destination<ram_tii_dst>, unsigned int count<acc> );
  749                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 70; extern void __fastcall memset( unsigned char *destination<ram_tii_src>, unsigned char value<_al>, unsigned int count<acc> );
  750                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 72; //  0 	if strings are equal
  751                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 73; //  1 	if the first non-matching character in string1 > string2 (in ASCII).
  752                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 74; // -1 	if the first non-matching character in string1 < string2 (in ASCII).
  753                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 76; extern int __fastcall strcmp( char *string1<_di>, char *string2<_bp> );
  754                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 77; extern int __fastcall strncmp( char *string1<_di>, char *string2<_bp>, unsigned int count<_ax> );
  755                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 79; extern int __fastcall __macro memcmp( unsigned char *string1<_di>, unsigned char *string2<_bp>, unsigned int count<acc> );
  756                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 80; extern int __fastcall farmemcmp( unsigned char *string1<_di>, unsigned char __far *string2<_bp_bank:_bp>, unsigned int count<acc> );
  757                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 81; extern int __fastcall far_memcmp( unsigned char *string1<_di>, unsigned int count<acc> );
  758                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 83; #endif // __HUCC__
  759                        		.dbg	line,	"..\..\..\include\hucc\hucc-string.h", 85; #endif // _hucc_string_h
  760                        		.dbg	line,	"..\..\..\include\hucc\string.h", 3; #endif
  761                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
  762                        		.dbg	line,	"main.c", 2; #include "hucc-scroll.h"
  763                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
  764                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
  765                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
  766                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
  767                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
  768                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
  769                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
  770                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
  771                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
  772                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
  773                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
  774                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
  775                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
  776                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
  777                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
  778                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
  779                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
  780                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
  781                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
  782                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
  783                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
  784                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
  785                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
  786                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
  787                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
  788                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
  789                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
  790                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
  791                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
  792                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
  793                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
  794                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
  795                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
  796                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
  797                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
  798                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
  799                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
  800                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
  801                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
  802                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
  803                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
  804                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
  805                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
  806                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
  807                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
  808                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
  809                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
  810                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
  811                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
  812                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
  813                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
  814                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
  815                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
  816               0001     	HUCC_USES_NEW_SCROLL = 1
  817                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
  818                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
  819                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
  820                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
  821                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
  822                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
  823                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
  824                        		.dbg	clear
  825                        			.macro	_disable_all_splits
  826                        			ldy	#HUCC_PCE_SPLITS - 1
  827                        	!loop:		tya
  828                        			call	_disable_split.1
  829                        			dey
  830                        			bpl	!loop-
  831                        			.endm
  832                        			.macro	_sgx_disable_all_splits
  833                        			ldy	#HUCC_SGX_SPLITS - 1
  834                        	!loop:		tya
  835                        			call	_sgx_disable_split.1
  836                        			dey
  837                        			bpl	!loop-
  838                        			.endm
  839                        	
  840                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
  841                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
  842                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
  843                        		.dbg	line,	"main.c", 3; #include "hucc-chrmap.h"
  844                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
  845                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
  846                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
  847                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
  848                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
  849                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
  850                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
  851                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
  852                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
  853                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
  854                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
  855                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
  856                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
  857                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
  858                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
  859                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
  860                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
  861                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
  862                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
  863                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
  864                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
  865                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
  866                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
  867                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
  868                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
  869                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
  870                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
  871                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
  872                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
  873                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
  874                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
  875                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
  876                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
  877                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
  878                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
  879                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
  880                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
  881                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
  882                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
  883                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
  884                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
  885                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
  886                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
  887                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
  888                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
  889                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
  890                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
  891                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
  892                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
  893                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
  894                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
  895                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
  896                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
  897                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
  898                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
  899                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
  900                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
  901                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
  902                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
  903                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
  904                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
  905                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
  906                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
  907                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
  908                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
  909                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
  910               0001     	HUCC_USES_BLKMAP = 1
  911                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
  912                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
  913                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
  914                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
  915                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
  916                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
  917                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
  918                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
  919                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
  920                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
  921                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
  922                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
  923                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
  924                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
  925                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
  926                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
  927                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
  928                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
  929                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
  930                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
  931                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
  932                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
  933                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
  934                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
  935                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
  936                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
  937                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
  938                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
  939                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
  940                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
  941                        		.dbg	clear
  942                        			.macro	_set_blkmap.2
  943                        			stz	vdc_scr_bank
  944                        			.endm
  945                        			.macro	_set_multimap.2
  946                        			lda	vdc_bat_width
  947                        			lsr	a
  948                        			sta	vdc_map_line_w
  949                        			.endm
  950                        			.macro	SCREEN
  951                        			db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
  952                        			db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
  953                        			db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
  954                        			dw	(\4)
  955                        			.endm
  956                        	
  957                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
  958                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
  959                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
  960                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
  961                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
  962                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
  963                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
  964                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
  965                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
  966                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
  967                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
  968                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
  969                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
  970                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
  971                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
  972                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
  973                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
  974                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
  975                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
  976                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
  977                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
  978                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
  979                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
  980                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
  981                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
  982                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
  983                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
  984                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
  985                        		.dbg	clear
  986                        			.macro	_sgx_set_blkmap.2
  987                        			stz	sgx_scr_bank
  988                        			.endm
  989                        			.macro	_sgx_set_multimap.2
  990                        			lda	sgx_bat_width
  991                        			lsr	a
  992                        			sta	sgx_map_line_w
  993                        			.endm
  994                        	
  995                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
  996                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
  997                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
  998                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
  999                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 1000                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 1001                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 1002                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 1003                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 1004               0001     	HUCC_USES_CHRMAP = 1
 1005                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 1006                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 1007                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 1008                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1009                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 1010                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 1011                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 1012                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 1013                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1014                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 1015                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 1016                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 1017                        		.dbg	line,	"main.c", 4; #include "hucc-blkmap.h"
 1018                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 1019                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 1020                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 1021                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 1022                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 1023                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 1024                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 1025                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 1026                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 1027                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 1028                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 1029                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1030                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1031                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1032                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 1033                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 1034                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 1035                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 1036                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 1037                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 1038                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 1039                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 1040                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 1041                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 1042                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 1043                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 1044                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 1045                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 1046                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 1047                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 1048                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 1049                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 1050                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 1051                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 1052                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 1053                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 1054                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 1055                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 1056                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 1057                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 1058                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 1059                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 1060                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 1061                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 1062                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 1063                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 1064                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 1065                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 1066                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 1067                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 1068                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 1069                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 1070                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 1071                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 1072                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 1073                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 1074                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 1075                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 1076                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 1077                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 1078                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 1079                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 1080                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 1081                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 1082                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1083                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 1084                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 1085                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 1086                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 1087                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 1088                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 1089                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 1090                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 1091                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 1092                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 1093                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 1094                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 1095                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 1096                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 1097                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 1098                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 1099                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 1100                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 1101                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 1102                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 1103                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 1104                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 1105                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 1106                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 1107                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 1108                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 1109                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 1110                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 1111                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 1112                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 1113                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 1114                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 1115                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 1116                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 1117                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 1118                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 1119                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 1120                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 1121                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 1122                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 1123                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 1124                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1125                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 1126                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 1127                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 1128                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 1129                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 1130                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 1131                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 1132                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 1133                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 1134                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 1135                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 1136                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 1137                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 1138                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 1139                        		.dbg	line,	"main.c", 7; #include "include/constants.c"
 1140                        		.dbg	line,	"include\constants.c", 1; //*****************************************************************************//
 1141                        		.dbg	line,	"include\constants.c", 2; //                                                                             //
 1142                        		.dbg	line,	"include\constants.c", 3; //                                SYSTEM CONSTANTS                             //
 1143                        		.dbg	line,	"include\constants.c", 4; //                                                                             //
 1144                        		.dbg	line,	"include\constants.c", 5; //*****************************************************************************//
 1145                        		.dbg	line,	"include\constants.c", 7; #define FALSE 0
 1146                        		.dbg	line,	"include\constants.c", 8; #define TRUE  1
 1147                        		.dbg	line,	"include\constants.c", 10; #define YES   1
 1148                        		.dbg	line,	"include\constants.c", 11; #define NO    2
 1149                        		.dbg	line,	"include\constants.c", 13; #define JOYPAD_1 0
 1150                        		.dbg	line,	"include\constants.c", 14; #define JOYPAD_2 1
 1151                        		.dbg	line,	"include\constants.c", 16; #define BAT_SIZE_W 2048 // IN PIXELS
 1152                        		.dbg	line,	"include\constants.c", 17; #define BAT_SIZE_H 256  // IN PIXELS
 1153                        		.dbg	line,	"include\constants.c", 19; #define NUMBERS_FONT_VRAM_ADR   0x0900
 1154                        		.dbg	line,	"include\constants.c", 21; #define JOY_DIR_PRESSED (JOY_DOWN | JOY_UP | JOY_RIGHT | JOY_LEFT)
 1155                        		.dbg	line,	"include\constants.c", 24; #define TILES_1   16
 1156                        		.dbg	line,	"include\constants.c", 25; #define TILES_2   32
 1157                        		.dbg	line,	"include\constants.c", 26; #define TILES_3   48
 1158                        		.dbg	line,	"include\constants.c", 27; #define TILES_4   64
 1159                        		.dbg	line,	"include\constants.c", 28; #define TILES_8   128
 1160                        		.dbg	line,	"include\constants.c", 29; #define TILES_12  192
 1161                        		.dbg	line,	"include\constants.c", 30; #define TILES_16  256
 1162                        		.dbg	line,	"include\constants.c", 31; #define TILES_24  384
 1163                        		.dbg	line,	"include\constants.c", 32; #define TILES_32  512
 1164                        		.dbg	line,	"include\constants.c", 33; #define TILES_48  768
 1165                        		.dbg	line,	"include\constants.c", 34; #define TILES_64  1024
 1166                        		.dbg	line,	"include\constants.c", 35; #define TILES_80  1280
 1167                        		.dbg	line,	"include\constants.c", 36; #define TILES_96  1536
 1168                        		.dbg	line,	"include\constants.c", 37; #define TILES_128 2048
 1169                        		.dbg	line,	"include\constants.c", 38; #define TILES_144 2304
 1170                        		.dbg	line,	"include\constants.c", 39; #define TILES_160 2560
 1171                        		.dbg	line,	"include\constants.c", 40; #define TILES_256 4096
 1172                        		.dbg	line,	"include\constants.c", 41; #define TILES_384 6144
 1173                        		.dbg	line,	"include\constants.c", 42; #define TILES_400 6400
 1174                        		.dbg	line,	"include\constants.c", 48; #define SEQUENCE_TITLE          0
 1175                        		.dbg	line,	"include\constants.c", 49; #define SEQUENCE_INTRO          1
 1176                        		.dbg	line,	"include\constants.c", 50; #define SEQUENCE_LEVEL          2
 1177                        		.dbg	line,	"include\constants.c", 51; #define SEQUENCE_NPC            3
 1178                        		.dbg	line,	"include\constants.c", 52; #define SEQUENCE_ENTER_SHOP     4
 1179                        		.dbg	line,	"include\constants.c", 53; #define SEQUENCE_SHOP           5
 1180                        		.dbg	line,	"include\constants.c", 56; #define CAMERA_RECENTER_VELOCITY    6
 1181                        		.dbg	line,	"include\constants.c", 61; //-----------------------------------------------------------------------------//
 1182                        		.dbg	line,	"include\constants.c", 62; //                                                                             //
 1183                        		.dbg	line,	"include\constants.c", 63; //                                    INTRO                                    //
 1184                        		.dbg	line,	"include\constants.c", 64; //                                                                             //
 1185                        		.dbg	line,	"include\constants.c", 65; //-----------------------------------------------------------------------------//
 1186                        		.dbg	line,	"include\constants.c", 67; #define DRAGON_INTRO_VRAM_ADR       0x2C00
 1187                        		.dbg	line,	"include\constants.c", 72; //-----------------------------------------------------------------------------//
 1188                        		.dbg	line,	"include\constants.c", 73; //                                                                             //
 1189                        		.dbg	line,	"include\constants.c", 74; //                                   PLAYER                                    //
 1190                        		.dbg	line,	"include\constants.c", 75; //                                                                             //
 1191                        		.dbg	line,	"include\constants.c", 76; //-----------------------------------------------------------------------------//
 1192                        		.dbg	line,	"include\constants.c", 78; #define AXIS_RIGHT          0
 1193                        		.dbg	line,	"include\constants.c", 79; #define AXIS_LEFT           1
 1194                        		.dbg	line,	"include\constants.c", 80; #define AXIS_UP             2
 1195                        		.dbg	line,	"include\constants.c", 81; #define AXIS_DOWN           3
 1196                        		.dbg	line,	"include\constants.c", 85; #define STATE_IDLE          0
 1197                        		.dbg	line,	"include\constants.c", 86; #define STATE_WALK          1
 1198                        		.dbg	line,	"include\constants.c", 87; #define STATE_ATTACK        2
 1199                        		.dbg	line,	"include\constants.c", 88; #define STATE_JUMP          4
 1200                        		.dbg	line,	"include\constants.c", 89; #define STATE_JUMP_RIGHT    5
 1201                        		.dbg	line,	"include\constants.c", 90; #define STATE_JUMP_LEFT     6
 1202                        		.dbg	line,	"include\constants.c", 91; #define STATE_CROUCH        7
 1203                        		.dbg	line,	"include\constants.c", 92; #define STATE_CROUCH_ATTACK 8
 1204                        		.dbg	line,	"include\constants.c", 93; #define STATE_FALL          9
 1205                        		.dbg	line,	"include\constants.c", 94; #define STATE_HANG          10
 1206                        		.dbg	line,	"include\constants.c", 95; #define STATE_CLIMB_UP      11
 1207                        		.dbg	line,	"include\constants.c", 96; #define STATE_CLIMB_DOWN    12
 1208                        		.dbg	line,	"include\constants.c", 97; #define STATE_JUMP_LADDER   13
 1209                        		.dbg	line,	"include\constants.c", 98; #define STATE_HANG_ATTACK   14
 1210                        		.dbg	line,	"include\constants.c", 103; #define PLAYER_BASE_Y_POS   128
 1211                        		.dbg	line,	"include\constants.c", 105; #define RESPAWN_DEAD        1
 1212                        		.dbg	line,	"include\constants.c", 106; #define RESPAWN_SHOP        2
 1213                        		.dbg	line,	"include\constants.c", 108; #define PLAYER_START_INDEX  14
 1214                        		.dbg	line,	"include\constants.c", 112; #define PLAYER_VRAM_ADR                     0x1800
 1215                        		.dbg	line,	"include\constants.c", 113; #define PLAYER_IDLE_VRAM_ADR                PLAYER_VRAM_ADR
 1216                        		.dbg	line,	"include\constants.c", 114; #define PLAYER_WALK_1_VRAM_ADR              PLAYER_VRAM_ADR+TILES_16
 1217                        		.dbg	line,	"include\constants.c", 115; #define PLAYER_WALK_2_VRAM_ADR              PLAYER_WALK_1_VRAM_ADR+TILES_16
 1218                        		.dbg	line,	"include\constants.c", 116; #define PLAYER_WALK_3_VRAM_ADR              PLAYER_WALK_2_VRAM_ADR+TILES_16
 1219                        		.dbg	line,	"include\constants.c", 117; #define PLAYER_WALK_4_VRAM_ADR              PLAYER_WALK_3_VRAM_ADR+TILES_16
 1220                        		.dbg	line,	"include\constants.c", 118; #define PLAYER_WALK_5_VRAM_ADR              PLAYER_WALK_4_VRAM_ADR+TILES_16
 1221                        		.dbg	line,	"include\constants.c", 119; #define PLAYER_WALK_6_VRAM_ADR              PLAYER_WALK_5_VRAM_ADR+TILES_16
 1222                        		.dbg	line,	"include\constants.c", 121; #define PLAYER_JUMP_VRAM_ADR                PLAYER_WALK_6_VRAM_ADR+TILES_16
 1223                        		.dbg	line,	"include\constants.c", 122; #define PLAYER_CROUCH_VRAM_ADR              PLAYER_JUMP_VRAM_ADR+TILES_16
 1224                        		.dbg	line,	"include\constants.c", 123; #define PLAYER_HANG_VRAM_ADR                PLAYER_CROUCH_VRAM_ADR+TILES_16
 1225                        		.dbg	line,	"include\constants.c", 125; #define PLAYER_CLIMB_1_VRAM_ADR             PLAYER_HANG_VRAM_ADR+TILES_16
 1226                        		.dbg	line,	"include\constants.c", 126; #define PLAYER_CLIMB_2_VRAM_ADR             PLAYER_CLIMB_1_VRAM_ADR+TILES_16
 1227                        		.dbg	line,	"include\constants.c", 127; #define PLAYER_CLIMB_3_VRAM_ADR             PLAYER_CLIMB_2_VRAM_ADR+TILES_16
 1228                        		.dbg	line,	"include\constants.c", 128; #define PLAYER_CLIMB_4_VRAM_ADR             PLAYER_CLIMB_3_VRAM_ADR+TILES_16
 1229                        		.dbg	line,	"include\constants.c", 129; #define PLAYER_CLIMB_5_VRAM_ADR             PLAYER_CLIMB_4_VRAM_ADR+TILES_16
 1230                        		.dbg	line,	"include\constants.c", 130; #define PLAYER_CLIMB_6_VRAM_ADR             PLAYER_CLIMB_5_VRAM_ADR+TILES_16
 1231                        		.dbg	line,	"include\constants.c", 132; #define PLAYER_FALL_VRAM_ADR                PLAYER_CLIMB_6_VRAM_ADR+TILES_16
 1232                        		.dbg	line,	"include\constants.c", 134; #define PLAYER_ATTACK_1_VRAM_ADR            PLAYER_FALL_VRAM_ADR+TILES_16
 1233                        		.dbg	line,	"include\constants.c", 135; #define PLAYER_ATTACK_2_VRAM_ADR            PLAYER_ATTACK_1_VRAM_ADR+TILES_16
 1234                        		.dbg	line,	"include\constants.c", 137; #define PLAYER_CROUCH_ATTACK_1_VRAM_ADR     PLAYER_ATTACK_2_VRAM_ADR+TILES_16
 1235                        		.dbg	line,	"include\constants.c", 138; #define PLAYER_CROUCH_ATTACK_2_VRAM_ADR     PLAYER_CROUCH_ATTACK_1_VRAM_ADR+TILES_16
 1236                        		.dbg	line,	"include\constants.c", 140; #define PLAYER_JUMP_ATTACK_1_VRAM_ADR       PLAYER_CROUCH_ATTACK_2_VRAM_ADR+TILES_16
 1237                        		.dbg	line,	"include\constants.c", 141; #define PLAYER_JUMP_ATTACK_2_VRAM_ADR       PLAYER_JUMP_ATTACK_1_VRAM_ADR+TILES_16
 1238                        		.dbg	line,	"include\constants.c", 143; #define PLAYER_HANG_ATTACK_1_VRAM_ADR       PLAYER_JUMP_ATTACK_2_VRAM_ADR+TILES_16
 1239                        		.dbg	line,	"include\constants.c", 144; #define PLAYER_HANG_ATTACK_2_VRAM_ADR       PLAYER_HANG_ATTACK_1_VRAM_ADR+TILES_16
 1240                        		.dbg	line,	"include\constants.c", 149; //-----------------------------------------------------------------------------//
 1241                        		.dbg	line,	"include\constants.c", 150; //                                                                             //
 1242                        		.dbg	line,	"include\constants.c", 151; //                                  WEAPONS                                    //
 1243                        		.dbg	line,	"include\constants.c", 152; //                                                                             //
 1244                        		.dbg	line,	"include\constants.c", 153; //-----------------------------------------------------------------------------//
 1245                        		.dbg	line,	"include\constants.c", 155; #define CHAIN_VRAM_ADR                  0x7C00
 1246                        		.dbg	line,	"include\constants.c", 156; #define WEAPON_VRAM_ADR                 CHAIN_VRAM_ADR+TILES_4
 1247                        		.dbg	line,	"include\constants.c", 157; #define CHAIN_START_INDEX               PLAYER_START_INDEX-3
 1248                        		.dbg	line,	"include\constants.c", 159; #define WEAPON_IDLE_VRAM_ADRESS         WEAPON_VRAM_ADR
 1249                        		.dbg	line,	"include\constants.c", 160; #define WEAPON_WALK_1_VRAM_ADRESS       WEAPON_IDLE_VRAM_ADRESS+TILES_4
 1250                        		.dbg	line,	"include\constants.c", 161; #define WEAPON_WALK_2_VRAM_ADRESS       WEAPON_WALK_1_VRAM_ADRESS+TILES_4
 1251                        		.dbg	line,	"include\constants.c", 163; #define WEAPON_ATTACK_1_VRAM_ADRESS     WEAPON_WALK_2_VRAM_ADRESS+TILES_4
 1252                        		.dbg	line,	"include\constants.c", 164; #define WEAPON_ATTACK_2_VRAM_ADRESS     WEAPON_ATTACK_1_VRAM_ADRESS+TILES_4
 1253                        		.dbg	line,	"include\constants.c", 169; //-----------------------------------------------------------------------------//
 1254                        		.dbg	line,	"include\constants.c", 170; //                                                                             //
 1255                        		.dbg	line,	"include\constants.c", 171; //                                  COLLISIONS                                 //
 1256                        		.dbg	line,	"include\constants.c", 172; //                                                                             //
 1257                        		.dbg	line,	"include\constants.c", 173; //-----------------------------------------------------------------------------//
 1258                        		.dbg	line,	"include\constants.c", 175; #define TILE_EMPTY          0
 1259                        		.dbg	line,	"include\constants.c", 176; #define TILE_BG             1
 1260                        		.dbg	line,	"include\constants.c", 177; #define TILE_LADDER         2
 1261                        		.dbg	line,	"include\constants.c", 182; //-----------------------------------------------------------------------------//
 1262                        		.dbg	line,	"include\constants.c", 183; //                                                                             //
 1263                        		.dbg	line,	"include\constants.c", 184; //                                     HUD                                     //
 1264                        		.dbg	line,	"include\constants.c", 185; //                                                                             //
 1265                        		.dbg	line,	"include\constants.c", 186; //-----------------------------------------------------------------------------//
 1266                        		.dbg	line,	"include\constants.c", 188; #define LIFEBAR_1_VRAM_ADR      0x1000
 1267                        		.dbg	line,	"include\constants.c", 189; #define LIFEBAR_2_VRAM_ADR      LIFEBAR_1_VRAM_ADR+TILES_2
 1268                        		.dbg	line,	"include\constants.c", 190; #define LIFEBAR_3_VRAM_ADR      LIFEBAR_2_VRAM_ADR+TILES_2
 1269                        		.dbg	line,	"include\constants.c", 191; #define LIFEBAR_4_VRAM_ADR      LIFEBAR_3_VRAM_ADR+TILES_2
 1270                        		.dbg	line,	"include\constants.c", 192; #define LIFEBAR_5_VRAM_ADR      LIFEBAR_4_VRAM_ADR+TILES_2
 1271                        		.dbg	line,	"include\constants.c", 194; #define WEAPON_ICON_VRAM_ADR    LIFEBAR_5_VRAM_ADR+TILES_2
 1272                        		.dbg	line,	"include\constants.c", 195; #define ARMOR_VRAM_ADR          WEAPON_ICON_VRAM_ADR+TILES_4
 1273                        		.dbg	line,	"include\constants.c", 200; //-----------------------------------------------------------------------------//
 1274                        		.dbg	line,	"include\constants.c", 201; //                                                                             //
 1275                        		.dbg	line,	"include\constants.c", 202; //                                    LEVELS                                   //
 1276                        		.dbg	line,	"include\constants.c", 203; //                                                                             //
 1277                        		.dbg	line,	"include\constants.c", 204; //-----------------------------------------------------------------------------//
 1278                        		.dbg	line,	"include\constants.c", 206; #define LV1_WALL_VRAM_ADR       0x1000
 1279                        		.dbg	line,	"include\constants.c", 207; #define LV1_DOOR_VRAM_ADR       LV1_WALL_VRAM_ADR+256
 1280                        		.dbg	line,	"include\constants.c", 212; #define OBJECT_NUMBER_LV1       23
 1281                        		.dbg	line,	"include\constants.c", 213; #define CHEST_NUMBER_LV1        2
 1282                        		.dbg	line,	"include\constants.c", 214; #define NPC_NUMBER_LV1          2
 1283                        		.dbg	line,	"include\constants.c", 216; #define OBJECT_START_INDEX_LV1  0
 1284                        		.dbg	line,	"include\constants.c", 217; #define CHEST_START_INDEX_LV1   OBJECT_START_INDEX_LV1+OBJECT_NUMBER_LV1
 1285                        		.dbg	line,	"include\constants.c", 218; #define NPC_START_INDEX_LV1     CHEST_START_INDEX_LV1+CHEST_NUMBER_LV1
 1286                        		.dbg	line,	"include\constants.c", 223; //-----------------------------------------------------------------------------//
 1287                        		.dbg	line,	"include\constants.c", 224; //                                                                             //
 1288                        		.dbg	line,	"include\constants.c", 225; //                                   OBJECT                                    //
 1289                        		.dbg	line,	"include\constants.c", 226; //                                                                             //
 1290                        		.dbg	line,	"include\constants.c", 227; //-----------------------------------------------------------------------------//
 1291                        		.dbg	line,	"include\constants.c", 229; #define TYPE_HOURGLASS          0
 1292                        		.dbg	line,	"include\constants.c", 230; #define TYPE_POT                1
 1293                        		.dbg	line,	"include\constants.c", 231; #define TYPE_POW                2
 1294                        		.dbg	line,	"include\constants.c", 232; #define TYPE_CHEST              3
 1295                        		.dbg	line,	"include\constants.c", 233; #define TYPE_GRAY_KEY           4
 1296                        		.dbg	line,	"include\constants.c", 234; #define TYPE_GOLD_KEY           5
 1297                        		.dbg	line,	"include\constants.c", 235; #define TYPE_1UP                6
 1298                        		.dbg	line,	"include\constants.c", 236; #define TYPE_COIN_1             7
 1299                        		.dbg	line,	"include\constants.c", 237; #define TYPE_COIN_5             8
 1300                        		.dbg	line,	"include\constants.c", 238; #define TYPE_COIN_10            9
 1301                        		.dbg	line,	"include\constants.c", 239; #define TYPE_COIN_50            10
 1302                        		.dbg	line,	"include\constants.c", 240; #define TYPE_COIN_100           11
 1303                        		.dbg	line,	"include\constants.c", 241; #define TYPE_COIN_500           12
 1304                        		.dbg	line,	"include\constants.c", 242; #define TYPE_COIN_1000          13
 1305                        		.dbg	line,	"include\constants.c", 243; #define TYPE_YASHICHI           14
 1306                        		.dbg	line,	"include\constants.c", 244; #define TYPE_NULL               99
 1307                        		.dbg	line,	"include\constants.c", 247; #define STATE_FREE              0
 1308                        		.dbg	line,	"include\constants.c", 248; #define STATE_ACTIVE            1
 1309                        		.dbg	line,	"include\constants.c", 249; #define STATE_HIT               2
 1310                        		.dbg	line,	"include\constants.c", 250; #define STATE_DROPPED           3
 1311                        		.dbg	line,	"include\constants.c", 252; #define OBJECT_MARGIN           10//9
 1312                        		.dbg	line,	"include\constants.c", 255; #define POT1_VRAM_ADR           0x6800
 1313                        		.dbg	line,	"include\constants.c", 256; #define POT2_VRAM_ADR           POT1_VRAM_ADR+TILES_4
 1314                        		.dbg	line,	"include\constants.c", 257; #define POT3_VRAM_ADR           POT2_VRAM_ADR+TILES_4
 1315                        		.dbg	line,	"include\constants.c", 258; #define POT4_VRAM_ADR           POT3_VRAM_ADR+TILES_4
 1316                        		.dbg	line,	"include\constants.c", 259; #define POT5_VRAM_ADR           POT4_VRAM_ADR+TILES_4
 1317                        		.dbg	line,	"include\constants.c", 260; #define POT6_VRAM_ADR           POT5_VRAM_ADR+TILES_4
 1318                        		.dbg	line,	"include\constants.c", 261; #define POT7_VRAM_ADR           POT6_VRAM_ADR+TILES_4
 1319                        		.dbg	line,	"include\constants.c", 262; #define POT8_VRAM_ADR           POT7_VRAM_ADR+TILES_4
 1320                        		.dbg	line,	"include\constants.c", 264; #define POW_VRAM_ADR            POT8_VRAM_ADR+TILES_4
 1321                        		.dbg	line,	"include\constants.c", 265; #define GRAY_KEY_VRAM_ADR       POW_VRAM_ADR+TILES_4
 1322                        		.dbg	line,	"include\constants.c", 266; #define COIN_1_VRAM_ADR         GRAY_KEY_VRAM_ADR+TILES_4
 1323                        		.dbg	line,	"include\constants.c", 267; #define COIN_5_VRAM_ADR         COIN_1_VRAM_ADR+TILES_4
 1324                        		.dbg	line,	"include\constants.c", 268; #define COIN_10_VRAM_ADR        COIN_5_VRAM_ADR+TILES_4
 1325                        		.dbg	line,	"include\constants.c", 269; #define COIN_50_VRAM_ADR        COIN_10_VRAM_ADR+TILES_4
 1326                        		.dbg	line,	"include\constants.c", 270; #define COIN_100_VRAM_ADR       COIN_50_VRAM_ADR+TILES_4
 1327                        		.dbg	line,	"include\constants.c", 271; #define COIN_500_VRAM_ADR       COIN_100_VRAM_ADR+TILES_4
 1328                        		.dbg	line,	"include\constants.c", 272; #define COIN_1000_VRAM_ADR      COIN_500_VRAM_ADR+TILES_4
 1329                        		.dbg	line,	"include\constants.c", 274; #define STAR_VRAM_ADR           COIN_1000_VRAM_ADR+TILES_4
 1330                        		.dbg	line,	"include\constants.c", 275; #define OCTOPUS_VRAM_ADR        STAR_VRAM_ADR+TILES_4
 1331                        		.dbg	line,	"include\constants.c", 276; #define FRUIT_VRAM_ADR          OCTOPUS_VRAM_ADR+TILES_4
 1332                        		.dbg	line,	"include\constants.c", 277; #define BARREL_VRAM_ADR         FRUIT_VRAM_ADR+TILES_4
 1333                        		.dbg	line,	"include\constants.c", 278; #define HOURGLASS_VRAM_ADR      BARREL_VRAM_ADR+TILES_4
 1334                        		.dbg	line,	"include\constants.c", 279; #define BAMBOO_VRAM_ADR         HOURGLASS_VRAM_ADR+TILES_4
 1335                        		.dbg	line,	"include\constants.c", 280; #define YASHICHI_VRAM_ADR       BAMBOO_VRAM_ADR+TILES_4
 1336                        		.dbg	line,	"include\constants.c", 281; #define ELEPHANT_VRAM_ADR       YASHICHI_VRAM_ADR+TILES_4
 1337                        		.dbg	line,	"include\constants.c", 282; #define DRAGONFLY_VRAM_ADR      ELEPHANT_VRAM_ADR+TILES_4
 1338                        		.dbg	line,	"include\constants.c", 283; #define COW_VRAM_ADR            DRAGONFLY_VRAM_ADR+TILES_4
 1339                        		.dbg	line,	"include\constants.c", 284; #define MOBICHAN_VRAM_ADR       COW_VRAM_ADR+TILES_4
 1340                        		.dbg	line,	"include\constants.c", 286; #define CHEST_VRAM_ADR          MOBICHAN_VRAM_ADR+TILES_4
 1341                        		.dbg	line,	"include\constants.c", 287; #define NPC_1_VRAM_ADR          CHEST_VRAM_ADR+TILES_96
 1342                        		.dbg	line,	"include\constants.c", 288; #define NPC_2_VRAM_ADR          NPC_1_VRAM_ADR+TILES_16
 1343                        		.dbg	line,	"include\constants.c", 289; #define NPC_3_VRAM_ADR          NPC_2_VRAM_ADR+TILES_16
 1344                        		.dbg	line,	"include\constants.c", 290; #define NPC_4_VRAM_ADR          NPC_3_VRAM_ADR+TILES_16
 1345                        		.dbg	line,	"include\constants.c", 291; #define NPC_5_VRAM_ADR          NPC_4_VRAM_ADR+TILES_16
 1346                        		.dbg	line,	"include\constants.c", 292; #define NPC_6_VRAM_ADR          NPC_5_VRAM_ADR+TILES_16
 1347                        		.dbg	line,	"include\constants.c", 297; //-----------------------------------------------------------------------------//
 1348                        		.dbg	line,	"include\constants.c", 298; //                                                                             //
 1349                        		.dbg	line,	"include\constants.c", 299; //                                    NPC                                      //
 1350                        		.dbg	line,	"include\constants.c", 300; //                                                                             //
 1351                        		.dbg	line,	"include\constants.c", 301; //-----------------------------------------------------------------------------//
 1352                        		.dbg	line,	"include\constants.c", 303; #define TYPE_NPC_REWARD         0
 1353                        		.dbg	line,	"include\constants.c", 304; #define TYPE_NPC_SHOP           1
 1354                        		.dbg	line,	"include\constants.c", 309; //-----------------------------------------------------------------------------//
 1355                        		.dbg	line,	"include\constants.c", 310; //                                                                             //
 1356                        		.dbg	line,	"include\constants.c", 311; //                                    SHOP                                     //
 1357                        		.dbg	line,	"include\constants.c", 312; //                                                                             //
 1358                        		.dbg	line,	"include\constants.c", 313; //-----------------------------------------------------------------------------//
 1359                        		.dbg	line,	"include\constants.c", 315; #define SHOP_PHASE_ENTER        0
 1360                        		.dbg	line,	"include\constants.c", 316; #define SHOP_PHASE_BUY          1
 1361                        		.dbg	line,	"include\constants.c", 317; #define SHOP_PHASE_EXIT         2
 1362                        		.dbg	line,	"include\constants.c", 319; #define TYPE_ITEM_WEAPON_2      0
 1363                        		.dbg	line,	"include\constants.c", 320; #define TYPE_ITEM_WEAPON_3      1
 1364                        		.dbg	line,	"include\constants.c", 321; #define TYPE_ITEM_WEAPON_4      2
 1365                        		.dbg	line,	"include\constants.c", 322; #define TYPE_ITEM_WEAPON_5      3
 1366                        		.dbg	line,	"include\constants.c", 323; #define TYPE_ITEM_KEY           4
 1367                        		.dbg	line,	"include\constants.c", 325; #define TYPE_ITEM_ARMOR_2       5
 1368                        		.dbg	line,	"include\constants.c", 326; #define TYPE_ITEM_ARMOR_3       6
 1369                        		.dbg	line,	"include\constants.c", 327; #define TYPE_ITEM_ARMOR_4       7
 1370                        		.dbg	line,	"include\constants.c", 328; #define TYPE_ITEM_ARMOR_5       8
 1371                        		.dbg	line,	"include\constants.c", 329; #define TYPE_ITEM_POTION        9
 1372                        		.dbg	line,	"include\constants.c", 334; //-----------------------------------------------------------------------------//
 1373                        		.dbg	line,	"include\constants.c", 335; //                                                                             //
 1374                        		.dbg	line,	"include\constants.c", 336; //                                   ENEMIES                                   //
 1375                        		.dbg	line,	"include\constants.c", 337; //                                                                             //
 1376                        		.dbg	line,	"include\constants.c", 338; //-----------------------------------------------------------------------------//
 1377                        		.dbg	line,	"include\constants.c", 340; //-----------------------------------------------------------------------------//
 1378                        		.dbg	line,	"include\constants.c", 341; //                                     ORC                                     //
 1379                        		.dbg	line,	"include\constants.c", 342; //-----------------------------------------------------------------------------//
 1380                        		.dbg	line,	"include\constants.c", 344; #define ORC_VRAM_ADR                     PLAYER_HANG_ATTACK_2_VRAM_ADR+TILES_16
 1381                        		.dbg	line,	"include\constants.c", 346; #define ORC_WALK_1_VRAM_ADR              ORC_VRAM_ADR
 1382                        		.dbg	line,	"include\constants.c", 347; #define ORC_WALK_2_VRAM_ADR              ORC_WALK_1_VRAM_ADR+TILES_16
 1383                        		.dbg	line,	"include\constants.c", 348; #define ORC_WALK_3_VRAM_ADR              ORC_WALK_2_VRAM_ADR+TILES_16
 1384                        		.dbg	line,	"include\constants.c", 349; #define ORC_ATTACK_1_VRAM_ADR            ORC_WALK_3_VRAM_ADR+TILES_16
 1385                        		.dbg	line,	"include\constants.c", 351; #define ORC_ATTACK_2_VRAM_ADR            ORC_ATTACK_1_VRAM_ADR+TILES_16
 1386                        		.dbg	line,	"include\constants.c", 352; #define ORC_ATTACK_3_VRAM_ADR            ORC_ATTACK_2_VRAM_ADR+TILES_16
 1387                        		.dbg	line,	"include\constants.c", 353; #define ORC_ATTACK_4_VRAM_ADR            ORC_ATTACK_3_VRAM_ADR+TILES_16
 1388                        		.dbg	line,	"include\constants.c", 354; #define ORC_ATTACK_5_VRAM_ADR            ORC_ATTACK_4_VRAM_ADR+TILES_16
 1389                        		.dbg	line,	"include\constants.c", 355; #define ORC_ATTACK_6_VRAM_ADR            ORC_ATTACK_5_VRAM_ADR+TILES_16
 1390                        		.dbg	line,	"include\constants.c", 357; #define ORC_DEAD_1_VRAM_ADR              ORC_ATTACK_6_VRAM_ADR+TILES_16
 1391                        		.dbg	line,	"include\constants.c", 358; #define ORC_DEAD_2_VRAM_ADR              ORC_DEAD_1_VRAM_ADR+TILES_16
 1392                        		.dbg	line,	"include\constants.c", 359; #define ORC_DEAD_3_VRAM_ADR              ORC_DEAD_2_VRAM_ADR+TILES_16
 1393                        		.dbg	line,	"include\constants.c", 360; #define ORC_DEAD_4_VRAM_ADR              ORC_DEAD_3_VRAM_ADR+TILES_16
 1394                        		.dbg	line,	"include\constants.c", 362; #define ORC_AXE_1_VRAM_ADR               ORC_DEAD_4_VRAM_ADR+TILES_16
 1395                        		.dbg	line,	"include\constants.c", 363; #define ORC_AXE_2_VRAM_ADR               ORC_AXE_1_VRAM_ADR+TILES_4
 1396                        		.dbg	line,	"include\constants.c", 364; #define ORC_AXE_3_VRAM_ADR               ORC_AXE_2_VRAM_ADR+TILES_4
 1397                        		.dbg	line,	"include\constants.c", 365; #define ORC_AXE_4_VRAM_ADR               ORC_AXE_3_VRAM_ADR+TILES_4
 1398                        		.dbg	line,	"include\constants.c", 366; #define ORC_AXE_5_VRAM_ADR               ORC_AXE_4_VRAM_ADR+TILES_4
 1399                        		.dbg	line,	"include\constants.c", 367; #define ORC_AXE_6_VRAM_ADR               ORC_AXE_5_VRAM_ADR+TILES_4
 1400                        		.dbg	line,	"include\constants.c", 370; //-----------------------------------------------------------------------------//
 1401                        		.dbg	line,	"include\constants.c", 371; //                                                                             //
 1402                        		.dbg	line,	"include\constants.c", 372; //                                   SERPENT                                   //
 1403                        		.dbg	line,	"include\constants.c", 373; //                                                                             //
 1404                        		.dbg	line,	"include\constants.c", 374; //-----------------------------------------------------------------------------//
 1405                        		.dbg	line,	"include\constants.c", 376; #define SERPENT_VRAM_ADR                    ORC_AXE_6_VRAM_ADR+TILES_4
 1406                        		.dbg	line,	"include\constants.c", 377; #define SERPENT_LEFT_VRAM_ADR               SERPENT_VRAM_ADR
 1407                        		.dbg	line,	"include\constants.c", 378; #define SERPENT_FRONT_VRAM_ADR              SERPENT_LEFT_VRAM_ADR+TILES_16
 1408                        		.dbg	line,	"include\constants.c", 379; #define SERPENT_RIGHT_VRAM_ADR              SERPENT_FRONT_VRAM_ADR+TILES_16
 1409                        		.dbg	line,	"include\constants.c", 380; #define SERPENT_ATTACK_LEFT_VRAM_ADR        SERPENT_RIGHT_VRAM_ADR+TILES_16
 1410                        		.dbg	line,	"include\constants.c", 381; #define SERPENT_ATTACK_FRONT_VRAM_ADR       SERPENT_ATTACK_LEFT_VRAM_ADR+TILES_16
 1411                        		.dbg	line,	"include\constants.c", 382; #define SERPENT_ATTACK_RIGHT_VRAM_ADR       SERPENT_ATTACK_FRONT_VRAM_ADR+TILES_16
 1412                        		.dbg	line,	"include\constants.c", 385; //-----------------------------------------------------------------------------//
 1413                        		.dbg	line,	"include\constants.c", 386; //                                                                             //
 1414                        		.dbg	line,	"include\constants.c", 387; //                                    PLANT                                    //
 1415                        		.dbg	line,	"include\constants.c", 388; //                                                                             //
 1416                        		.dbg	line,	"include\constants.c", 389; //-----------------------------------------------------------------------------//
 1417                        		.dbg	line,	"include\constants.c", 391; #define PLANT_VRAM_ADR                      SERPENT_ATTACK_RIGHT_VRAM_ADR+TILES_16
 1418                        		.dbg	line,	"include\constants.c", 392; #define PLANT_IDLE_VRAM_ADR                 PLANT_VRAM_ADR
 1419                        		.dbg	line,	"main.c", 8; #include "include/variables.c"
 1420                        		.dbg	line,	"include\variables.c", 1; #include "huc.h"
 1421                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 1422                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 1423                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 1424                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 1425                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 1426                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 1427                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 1428                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 1429                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 1430                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 1431                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 1432                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1433                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1434                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1435                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 1436                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 1437                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 1438                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 1439                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 1440                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 1441                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 1442                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 1443                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 1444                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 1445                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 1446                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 1447                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 1448                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 1449                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 1450                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 1451                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 1452                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 1453                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 1454                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
 1455                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
 1456                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
 1457                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
 1458                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
 1459                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
 1460                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
 1461                        		.dbg	line,	"include\variables.c", 2; #include "hucc-scroll.h"
 1462                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
 1463                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
 1464                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
 1465                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
 1466                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
 1467                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
 1468                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
 1469                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
 1470                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
 1471                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
 1472                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
 1473                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1474                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1475                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1476                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
 1477                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
 1478                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
 1479                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
 1480                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
 1481                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
 1482                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
 1483                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
 1484                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
 1485                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
 1486                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
 1487                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
 1488                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
 1489                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
 1490                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
 1491                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
 1492                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
 1493                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
 1494                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
 1495                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
 1496                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
 1497                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
 1498                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
 1499                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
 1500                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
 1501                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
 1502                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
 1503                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
 1504                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
 1505                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
 1506                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
 1507                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
 1508                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
 1509                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
 1510                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
 1511                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
 1512                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
 1513                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
 1514                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
 1515                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 1516                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 1517                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
 1518                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
 1519                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
 1520                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
 1521                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
 1522                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
 1523                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
 1524                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
 1525                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
 1526                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
 1527                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
 1528                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
 1529                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
 1530                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
 1531                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
 1532                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
 1533                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
 1534                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
 1535                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
 1536                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
 1537                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
 1538                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
 1539                        		.dbg	line,	"include\variables.c", 3; #include "hucc-chrmap.h"
 1540                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
 1541                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
 1542                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
 1543                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
 1544                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
 1545                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
 1546                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
 1547                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
 1548                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
 1549                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
 1550                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
 1551                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1552                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1553                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1554                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
 1555                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
 1556                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
 1557                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
 1558                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
 1559                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
 1560                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
 1561                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
 1562                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
 1563                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
 1564                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
 1565                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
 1566                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
 1567                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
 1568                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
 1569                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 1570                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 1571                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 1572                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 1573                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 1574                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 1575                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 1576                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 1577                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1578                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 1579                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 1580                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 1581                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 1582                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1583                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 1584                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 1585                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 1586                        		.dbg	line,	"include\variables.c", 4; #include "hucc-blkmap.h"
 1587                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 1588                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 1589                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 1590                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 1591                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 1592                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 1593                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 1594                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 1595                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 1596                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 1597                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 1598                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1599                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1600                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1601                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 1602                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 1603                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 1604                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 1605                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 1606                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 1607                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 1608                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 1609                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 1610                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 1611                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 1612                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 1613                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 1614                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 1615                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 1616                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 1617                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 1618                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 1619                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 1620                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 1621                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 1622                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 1623                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 1624                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 1625                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 1626                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 1627                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 1628                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 1629                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 1630                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 1631                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 1632                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 1633                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 1634                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 1635                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 1636                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 1637                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 1638                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 1639                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 1640                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 1641                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 1642                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 1643                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 1644                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 1645                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 1646                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 1647                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 1648                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 1649                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 1650                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 1651                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1652                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 1653                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 1654                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 1655                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 1656                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 1657                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 1658                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 1659                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 1660                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 1661                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 1662                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 1663                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 1664                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 1665                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 1666                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 1667                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 1668                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 1669                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 1670                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 1671                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 1672                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 1673                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 1674                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 1675                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 1676                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 1677                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 1678                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 1679                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 1680                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 1681                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 1682                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 1683                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 1684                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 1685                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 1686                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 1687                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 1688                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 1689                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 1690                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 1691                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 1692                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 1693                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1694                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 1695                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 1696                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 1697                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 1698                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 1699                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 1700                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 1701                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 1702                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 1703                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 1704                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 1705                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 1706                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 1707                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 1708                        		.dbg	line,	"include\variables.c", 13; unsigned char   sequence_id,
 1709                        		.dbg	line,	"include\variables.c", 14; sequence_loaded,
 1710                        		.dbg	line,	"include\variables.c", 16; level_id,
 1711                        		.dbg	line,	"include\variables.c", 17; display_level_text,
 1712                        		.dbg	line,	"include\variables.c", 19; // PLAYER //
 1713                        		.dbg	line,	"include\variables.c", 20; respawn,
 1714                        		.dbg	line,	"include\variables.c", 21; player_id,
 1715                        		.dbg	line,	"include\variables.c", 22; player_state,
 1716                        		.dbg	line,	"include\variables.c", 23; player_axis,
 1717                        		.dbg	line,	"include\variables.c", 24; player_previous_axis,
 1718                        		.dbg	line,	"include\variables.c", 25; player_counter_anim,
 1719                        		.dbg	line,	"include\variables.c", 26; player_index_jump,
 1720                        		.dbg	line,	"include\variables.c", 27; player_index_fall,
 1721                        		.dbg	line,	"include\variables.c", 28; player_counter_attack,
 1722                        		.dbg	line,	"include\variables.c", 30; player_naked,
 1723                        		.dbg	line,	"include\variables.c", 31; player_attack,
 1724                        		.dbg	line,	"include\variables.c", 33; jump_ladder,
 1725                        		.dbg	line,	"include\variables.c", 34; jump_max_index,
 1726                        		.dbg	line,	"include\variables.c", 35; fall_ladder,
 1727                        		.dbg	line,	"include\variables.c", 36; hit_wall,
 1728                        		.dbg	line,	"include\variables.c", 38; // ARMOR + WEAPON //
 1729                        		.dbg	line,	"include\variables.c", 39; chain_id,
 1730                        		.dbg	line,	"include\variables.c", 40; weapon_id,
 1731                        		.dbg	line,	"include\variables.c", 41; armor_level,
 1732                        		.dbg	line,	"include\variables.c", 42; weapon_level,
 1733                        		.dbg	line,	"include\variables.c", 43; chain_unfold,
 1734                        		.dbg	line,	"include\variables.c", 44; list_chain_active[3],
 1735                        		.dbg	line,	"include\variables.c", 46; // HUD //
 1736                        		.dbg	line,	"include\variables.c", 47; life_amount,
 1737                        		.dbg	line,	"include\variables.c", 48; credits_amount,
 1738                        		.dbg	line,	"include\variables.c", 49; key_amount,
 1739                        		.dbg	line,	"include\variables.c", 50; potion_amount,
 1740                        		.dbg	line,	"include\variables.c", 52; // TIME //
 1741                        		.dbg	line,	"include\variables.c", 53; minutes,
 1742                        		.dbg	line,	"include\variables.c", 54; seconds,
 1743                        		.dbg	line,	"include\variables.c", 55; time_counter,
 1744                        		.dbg	line,	"include\variables.c", 57; minutes_backup,
 1745                        		.dbg	line,	"include\variables.c", 58; seconds_backup,
 1746                        		.dbg	line,	"include\variables.c", 61; // OBJECTS //
 1747                        		.dbg	line,	"include\variables.c", 62; object_start_index,
 1748                        		.dbg	line,	"include\variables.c", 63; level_object_number,
 1749                        		.dbg	line,	"include\variables.c", 64; onscreen_object_number,
 1750                        		.dbg	line,	"include\variables.c", 65; 
 1751                        		.dbg	line,	"include\variables.c", 66; list_object_type[25],
 1752                        		.dbg	line,	"include\variables.c", 67; list_object_state[25],
 1753                        		.dbg	line,	"include\variables.c", 68; list_object_energy[25],
 1754                        		.dbg	line,	"include\variables.c", 69; list_reward_type[25],
 1755                        		.dbg	line,	"include\variables.c", 70; list_object_counter[25],
 1756                        		.dbg	line,	"include\variables.c", 71; 
 1757                        		.dbg	line,	"include\variables.c", 72; list_onscreen_object[8],                
 1758                        		.dbg	line,	"include\variables.c", 73; 
 1759                        		.dbg	line,	"include\variables.c", 74; // CHESTS //
 1760                        		.dbg	line,	"include\variables.c", 75; chest_start_index,
 1761                        		.dbg	line,	"include\variables.c", 76; level_chest_number,
 1762                        		.dbg	line,	"include\variables.c", 77; onscreen_chest_number,
 1763                        		.dbg	line,	"include\variables.c", 78; 
 1764                        		.dbg	line,	"include\variables.c", 79; list_chest_state[8],
 1765                        		.dbg	line,	"include\variables.c", 80; list_onscreen_chest[8],
 1766                        		.dbg	line,	"include\variables.c", 82; // NPC //
 1767                        		.dbg	line,	"include\variables.c", 83; npc_start_index,
 1768                        		.dbg	line,	"include\variables.c", 84; level_npc_number,
 1769                        		.dbg	line,	"include\variables.c", 85; onscreen_npc_number,
 1770                        		.dbg	line,	"include\variables.c", 86; selected_npc,
 1771                        		.dbg	line,	"include\variables.c", 88; list_npc_type[9],
 1772                        		.dbg	line,	"include\variables.c", 89; list_npc_state[9],
 1773                        		.dbg	line,	"include\variables.c", 90; list_onscreen_npc[9],
 1774                        		.dbg	line,	"include\variables.c", 92; // SHOPS //
 1775                        		.dbg	line,	"include\variables.c", 93; index_x,
 1776                        		.dbg	line,	"include\variables.c", 94; index_y,
 1777                        		.dbg	line,	"include\variables.c", 95; item_index,
 1778                        		.dbg	line,	"include\variables.c", 97; shop_phase,
 1779                        		.dbg	line,	"include\variables.c", 98; shop_counter,
 1780                        		.dbg	line,	"include\variables.c", 100; palette_step,
 1781                        		.dbg	line,	"include\variables.c", 101; 
 1782                        		.dbg	line,	"include\variables.c", 102; tilemap_mask[256];
 1783                        		.dbg	line,	"include\variables.c", 107; signed int      player_pos_x,
 1784                        		.dbg	line,	"include\variables.c", 108; player_pos_y,
 1785                        		.dbg	line,	"include\variables.c", 109; camera_max_y_position,
 1786                        		.dbg	line,	"include\variables.c", 111; camera_pos_x_backup,
 1787                        		.dbg	line,	"include\variables.c", 112; camera_pos_y_backup,
 1788                        		.dbg	line,	"include\variables.c", 115; list_object_x_pos[25],
 1789                        		.dbg	line,	"include\variables.c", 116; list_object_y_pos[25],
 1790                        		.dbg	line,	"include\variables.c", 117; list_object_x_pos_ref[25],
 1791                        		.dbg	line,	"include\variables.c", 118; list_object_y_pos_ref[25],
 1792                        		.dbg	line,	"include\variables.c", 121; list_chest_x_pos[8],
 1793                        		.dbg	line,	"include\variables.c", 122; list_chest_y_pos[8],
 1794                        		.dbg	line,	"include\variables.c", 123; list_chest_x_pos_ref[8],
 1795                        		.dbg	line,	"include\variables.c", 124; list_chest_y_pos_ref[8],
 1796                        		.dbg	line,	"include\variables.c", 127; list_npc_x_pos[9],
 1797                        		.dbg	line,	"include\variables.c", 128; list_npc_y_pos[9],
 1798                        		.dbg	line,	"include\variables.c", 129; list_npc_x_pos_ref[9],
 1799                        		.dbg	line,	"include\variables.c", 130; list_npc_y_pos_ref[9];
 1800                        		.dbg	line,	"include\variables.c", 131; 
 1801                        		.dbg	line,	"include\variables.c", 135; int             global_counter,
 1802                        		.dbg	line,	"include\variables.c", 136; letter_index,
 1803                        		.dbg	line,	"include\variables.c", 137; letter_counter,
 1804                        		.dbg	line,	"include\variables.c", 138; zenny_amount,
 1805                        		.dbg	line,	"include\variables.c", 139; score,
 1806                        		.dbg	line,	"include\variables.c", 141; shop_prices[10],
 1807                        		.dbg	line,	"include\variables.c", 142; palette_buffer[16];
 1808                        		.dbg	line,	"include\variables.c", 147; signed char weapon_y_offset;
 1809                        		.dbg	line,	"include\variables.c", 152; extern unsigned char tileset_LV1_BG_B[];
 1810                        		.dbg	line,	"include\variables.c", 153; extern unsigned char multimap_LV1_BG_B[];
 1811                        		.dbg	line,	"include\variables.c", 155; extern unsigned char tileset_HUD[];
 1812                        		.dbg	line,	"include\variables.c", 156; extern unsigned char multimap_LV1_BG_A[];
 1813                        		.dbg	line,	"include\variables.c", 158; extern unsigned char tileset_SHOP_BG_B[];
 1814                        		.dbg	line,	"include\variables.c", 160; char *ptr_REWARD_TYPE;
 1815                        		.dbg	line,	"include\variables.c", 161; int *ptr_REWARD_VRAM_ADR;
 1816                        		.dbg	line,	"include\variables.c", 162; int *ptr_SHOP_ITEM_PRICES;
 1817                        		.dbg	line,	"main.c", 11; #include "include/gfx_BG_INTRO.c"
 1818                        		.dbg	line,	"include\gfx_BG_INTRO.c", 1; #include "huc.h"
 1819                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 1820                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 1821                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 1822                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 1823                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 1824                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 1825                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 1826                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 1827                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 1828                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 1829                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 1830                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1831                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1832                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1833                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 1834                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 1835                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 1836                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 1837                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 1838                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 1839                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 1840                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 1841                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 1842                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 1843                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 1844                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 1845                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 1846                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 1847                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 1848                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 1849                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 1850                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 1851                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 1852                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
 1853                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
 1854                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
 1855                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
 1856                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
 1857                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
 1858                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
 1859                        		.dbg	line,	"include\gfx_BG_INTRO.c", 2; #include "hucc-scroll.h"
 1860                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
 1861                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
 1862                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
 1863                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
 1864                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
 1865                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
 1866                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
 1867                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
 1868                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
 1869                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
 1870                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
 1871                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1872                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1873                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1874                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
 1875                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
 1876                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
 1877                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
 1878                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
 1879                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
 1880                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
 1881                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
 1882                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
 1883                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
 1884                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
 1885                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
 1886                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
 1887                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
 1888                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
 1889                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
 1890                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
 1891                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
 1892                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
 1893                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
 1894                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
 1895                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
 1896                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
 1897                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
 1898                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
 1899                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
 1900                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
 1901                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
 1902                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
 1903                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
 1904                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
 1905                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
 1906                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
 1907                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
 1908                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
 1909                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
 1910                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
 1911                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
 1912                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
 1913                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 1914                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 1915                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
 1916                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
 1917                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
 1918                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
 1919                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
 1920                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
 1921                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
 1922                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
 1923                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
 1924                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
 1925                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
 1926                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
 1927                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
 1928                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
 1929                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
 1930                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
 1931                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
 1932                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
 1933                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
 1934                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
 1935                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
 1936                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
 1937                        		.dbg	line,	"include\gfx_BG_INTRO.c", 3; #include "hucc-chrmap.h"
 1938                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
 1939                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
 1940                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
 1941                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
 1942                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
 1943                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
 1944                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
 1945                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
 1946                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
 1947                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
 1948                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
 1949                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1950                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1951                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1952                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
 1953                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
 1954                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
 1955                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
 1956                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
 1957                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
 1958                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
 1959                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
 1960                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
 1961                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
 1962                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
 1963                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
 1964                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
 1965                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
 1966                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
 1967                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 1968                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 1969                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 1970                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 1971                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 1972                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 1973                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 1974                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 1975                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1976                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 1977                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 1978                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 1979                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 1980                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 1981                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 1982                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 1983                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 1984                        		.dbg	line,	"include\gfx_BG_INTRO.c", 4; #include "hucc-blkmap.h"
 1985                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 1986                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 1987                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 1988                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 1989                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 1990                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 1991                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 1992                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 1993                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 1994                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 1995                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 1996                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 1997                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 1998                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 1999                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 2000                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 2001                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 2002                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 2003                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 2004                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 2005                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 2006                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 2007                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 2008                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 2009                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 2010                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 2011                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 2012                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 2013                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 2014                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 2015                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 2016                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 2017                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 2018                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 2019                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 2020                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 2021                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 2022                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 2023                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 2024                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 2025                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 2026                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 2027                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 2028                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 2029                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 2030                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 2031                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 2032                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 2033                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 2034                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 2035                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 2036                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 2037                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 2038                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 2039                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 2040                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 2041                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 2042                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 2043                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 2044                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 2045                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 2046                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 2047                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 2048                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 2049                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2050                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 2051                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 2052                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 2053                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 2054                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 2055                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 2056                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 2057                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 2058                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 2059                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 2060                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 2061                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 2062                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 2063                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 2064                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 2065                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 2066                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 2067                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 2068                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 2069                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 2070                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 2071                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 2072                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 2073                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 2074                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 2075                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 2076                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 2077                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 2078                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 2079                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 2080                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 2081                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 2082                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 2083                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 2084                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 2085                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 2086                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 2087                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 2088                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 2089                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 2090                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 2091                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2092                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 2093                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 2094                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 2095                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 2096                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 2097                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 2098                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 2099                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 2100                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 2101                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 2102                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 2103                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 2104                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 2105                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 2106                        		.dbg	line,	"include\gfx_BG_INTRO.c", 13; #incchr(tileset_FONT_INTRO,"res/maps/tiles_FONT_INTRO.png");
 2107               6000     		.data
 2108    03:6000             	_tileset_FONT_INTRO: 	.incchr		"res/maps/tiles_FONT_INTRO.png"
 2109               E31D     		.code
 2110                        		.dbg	line,	"include\gfx_BG_INTRO.c", 15; #incpal(palette_FONT_INTRO, "res/maps/tiles_FONT_INTRO.png")
 2111               6C00     		.data
 2112    03:6C00             	_palette_FONT_INTRO:	.incpal		"res/maps/tiles_FONT_INTRO.png"
 2113               E31D     		.code
 2114                        		.dbg	line,	"include\gfx_BG_INTRO.c", 17; #incpal(palette_BLACK, "res/palettes/palette_BLACK.png")
 2115               6E00     		.data
 2116    03:6E00             	_palette_BLACK:	.incpal		"res/palettes/palette_BLACK.png"
 2117               E31D     		.code
 2118                        		.dbg	line,	"include\gfx_BG_INTRO.c", 20; //**************************************************************************************//
 2119                        		.dbg	line,	"include\gfx_BG_INTRO.c", 21; //                                                                                      //
 2120                        		.dbg	line,	"include\gfx_BG_INTRO.c", 22; //                                        TITLE                                         //
 2121                        		.dbg	line,	"include\gfx_BG_INTRO.c", 23; //                                                                                      //
 2122                        		.dbg	line,	"include\gfx_BG_INTRO.c", 24; //**************************************************************************************//
 2123                        		.dbg	line,	"include\gfx_BG_INTRO.c", 26; #incchr(tileset_INTRO_BG_B, "res/maps/tilemap_INTRO_BG_B.png", _OPTIMIZE)
 2124               7000     		.data
 2125    03:7000             	_tileset_INTRO_BG_B: 	.incchr		"res/maps/tilemap_INTRO_BG_B.png", 1
 2126               E31D     		.code
 2127                        		.dbg	line,	"include\gfx_BG_INTRO.c", 27; #incbat(tilemap_INTRO_BG_B,"res/maps/tilemap_INTRO_BG_B.png", 0x1000 , 32 , 28 , tileset_INTRO_BG_B);
 2128               6460     		.data
 2129    05:6460             	_tilemap_INTRO_BG_B:	.incbat		"res/maps/tilemap_INTRO_BG_B.png", 4096, 32, 28, _tileset_INTRO_BG_B
 2130               E31D     		.code
 2131                        		.dbg	line,	"include\gfx_BG_INTRO.c", 29; #incchr(tileset_INTRO_BG_A, "res/maps/tilemap_INTRO_BG_A.png", _OPTIMIZE)
 2132               6B60     		.data
 2133    05:6B60             	_tileset_INTRO_BG_A: 	.incchr		"res/maps/tilemap_INTRO_BG_A.png", 1
 2134               E31D     		.code
 2135                        		.dbg	line,	"include\gfx_BG_INTRO.c", 30; #incbat(tilemap_INTRO_BG_A,"res/maps/tilemap_INTRO_BG_A.png", 0x1000 , 64 , 64 , tileset_INTRO_BG_A);
 2136               76E0     		.data
 2137    05:76E0             	_tilemap_INTRO_BG_A:	.incbat		"res/maps/tilemap_INTRO_BG_A.png", 4096, 64, 64, _tileset_INTRO_BG_A
 2138               E31D     		.code
 2139                        		.dbg	line,	"include\gfx_BG_INTRO.c", 32; #incpal(palette_INTRO_1, "res/maps/tilemap_INTRO_BG_B.png")
 2140               76E0     		.data
 2141    06:76E0             	_palette_INTRO_1:	.incpal		"res/maps/tilemap_INTRO_BG_B.png"
 2142               E31D     		.code
 2143                        		.dbg	line,	"include\gfx_BG_INTRO.c", 33; #incpal(palette_INTRO_2, "res/palettes/palette_INTRO_2.png")
 2144               78E0     		.data
 2145    06:78E0             	_palette_INTRO_2:	.incpal		"res/palettes/palette_INTRO_2.png"
 2146               E31D     		.code
 2147                        		.dbg	line,	"include\gfx_BG_INTRO.c", 34; #incpal(palette_INTRO_3, "res/palettes/palette_INTRO_3.png")
 2148               7AE0     		.data
 2149    06:7AE0             	_palette_INTRO_3:	.incpal		"res/palettes/palette_INTRO_3.png"
 2150               E31D     		.code
 2151                        		.dbg	line,	"main.c", 12; #include "include/gfx_BG_LEVELS.c"
 2152                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 1; #include "huc.h"
 2153                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 2154                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 2155                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 2156                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 2157                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 2158                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 2159                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 2160                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 2161                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 2162                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 2163                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 2164                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2165                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2166                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2167                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 2168                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 2169                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 2170                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 2171                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 2172                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 2173                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 2174                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 2175                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 2176                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 2177                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 2178                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 2179                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 2180                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 2181                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 2182                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 2183                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 2184                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 2185                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 2186                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
 2187                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
 2188                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
 2189                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
 2190                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
 2191                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
 2192                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
 2193                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 2; #include "hucc-scroll.h"
 2194                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
 2195                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
 2196                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
 2197                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
 2198                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
 2199                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
 2200                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
 2201                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
 2202                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
 2203                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
 2204                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
 2205                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2206                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2207                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2208                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
 2209                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
 2210                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
 2211                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
 2212                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
 2213                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
 2214                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
 2215                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
 2216                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
 2217                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
 2218                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
 2219                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
 2220                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
 2221                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
 2222                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
 2223                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
 2224                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
 2225                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
 2226                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
 2227                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
 2228                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
 2229                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
 2230                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
 2231                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
 2232                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
 2233                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
 2234                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
 2235                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
 2236                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
 2237                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
 2238                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
 2239                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
 2240                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
 2241                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
 2242                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
 2243                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
 2244                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
 2245                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
 2246                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
 2247                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 2248                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 2249                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
 2250                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
 2251                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
 2252                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
 2253                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
 2254                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
 2255                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
 2256                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
 2257                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
 2258                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
 2259                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
 2260                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
 2261                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
 2262                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
 2263                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
 2264                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
 2265                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
 2266                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
 2267                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
 2268                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
 2269                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
 2270                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
 2271                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 3; #include "hucc-chrmap.h"
 2272                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
 2273                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
 2274                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
 2275                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
 2276                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
 2277                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
 2278                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
 2279                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
 2280                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
 2281                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
 2282                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
 2283                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2284                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2285                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2286                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
 2287                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
 2288                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
 2289                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
 2290                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
 2291                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
 2292                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
 2293                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
 2294                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
 2295                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
 2296                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
 2297                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
 2298                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
 2299                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
 2300                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
 2301                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 2302                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 2303                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 2304                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 2305                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 2306                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 2307                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 2308                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 2309                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2310                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 2311                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 2312                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 2313                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 2314                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2315                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 2316                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 2317                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 2318                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 4; #include "hucc-blkmap.h"
 2319                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 2320                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 2321                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 2322                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 2323                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 2324                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 2325                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 2326                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 2327                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 2328                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 2329                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 2330                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2331                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2332                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2333                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 2334                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 2335                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 2336                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 2337                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 2338                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 2339                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 2340                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 2341                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 2342                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 2343                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 2344                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 2345                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 2346                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 2347                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 2348                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 2349                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 2350                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 2351                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 2352                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 2353                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 2354                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 2355                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 2356                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 2357                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 2358                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 2359                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 2360                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 2361                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 2362                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 2363                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 2364                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 2365                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 2366                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 2367                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 2368                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 2369                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 2370                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 2371                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 2372                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 2373                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 2374                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 2375                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 2376                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 2377                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 2378                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 2379                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 2380                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 2381                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 2382                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 2383                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2384                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 2385                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 2386                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 2387                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 2388                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 2389                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 2390                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 2391                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 2392                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 2393                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 2394                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 2395                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 2396                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 2397                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 2398                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 2399                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 2400                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 2401                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 2402                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 2403                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 2404                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 2405                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 2406                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 2407                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 2408                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 2409                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 2410                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 2411                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 2412                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 2413                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 2414                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 2415                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 2416                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 2417                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 2418                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 2419                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 2420                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 2421                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 2422                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 2423                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 2424                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 2425                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2426                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 2427                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 2428                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 2429                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 2430                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 2431                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 2432                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 2433                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 2434                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 2435                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 2436                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 2437                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 2438                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 2439                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 2440                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 13; #incchr(tileset_FONT,"res/maps/tiles_FONT.png");
 2441               7CE0     		.data
 2442    06:7CE0             	_tileset_FONT: 	.incchr		"res/maps/tiles_FONT.png"
 2443               E31D     		.code
 2444                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 16; //**************************************************************************************//
 2445                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 17; //                                                                                      //
 2446                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 18; //                                       LEVEL 1                                        //
 2447                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 19; //                                                                                      //
 2448                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 20; //**************************************************************************************//
 2449                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 22; #incchr(tileset_LV1_WALL,"res/maps/tiles_LV1_WALL.png", 4 , 4);
 2450               68E0     		.data
 2451    07:68E0             	_tileset_LV1_WALL: 	.incchr		"res/maps/tiles_LV1_WALL.png", 4, 4
 2452               E31D     		.code
 2453                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 23; #incchr(tileset_LV1_DOOR_OPEN,"res/maps/tiles_LV1_DOOR_OPEN.png", 4 , 6);
 2454               6AE0     		.data
 2455    07:6AE0             	_tileset_LV1_DOOR_OPEN: 	.incchr		"res/maps/tiles_LV1_DOOR_OPEN.png", 4, 6
 2456               E31D     		.code
 2457                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 24; #incchr(tileset_LV1_DOOR_CLOSED,"res/maps/tiles_LV1_DOOR_CLOSED.png", 4 , 6);
 2458               6DE0     		.data
 2459    07:6DE0             	_tileset_LV1_DOOR_CLOSED: 	.incchr		"res/maps/tiles_LV1_DOOR_CLOSED.png", 4, 6
 2460               E31D     		.code
 2461                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 26; #incchr(tileset_LIFE_RED,"res/maps/tileset_LIFE_RED.png", 2 , 1);
 2462               70E0     		.data
 2463    07:70E0             	_tileset_LIFE_RED: 	.incchr		"res/maps/tileset_LIFE_RED.png", 2, 1
 2464               E31D     		.code
 2465                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 27; #incchr(tileset_LIFE_ORANGE,"res/maps/tileset_LIFE_ORANGE.png", 2 , 1);
 2466               7120     		.data
 2467    07:7120             	_tileset_LIFE_ORANGE: 	.incchr		"res/maps/tileset_LIFE_ORANGE.png", 2, 1
 2468               E31D     		.code
 2469                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 28; #incchr(tileset_LIFE_YELLOW,"res/maps/tileset_LIFE_YELLOW.png", 2 , 1);
 2470               7160     		.data
 2471    07:7160             	_tileset_LIFE_YELLOW: 	.incchr		"res/maps/tileset_LIFE_YELLOW.png", 2, 1
 2472               E31D     		.code
 2473                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 29; #incchr(tileset_LIFE_EMPTY,"res/maps/tileset_LIFE_EMPTY.png", 2 , 1);
 2474               71A0     		.data
 2475    07:71A0             	_tileset_LIFE_EMPTY: 	.incchr		"res/maps/tileset_LIFE_EMPTY.png", 2, 1
 2476               E31D     		.code
 2477                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 31; #incchr(tileset_ARMOR_1,"res/maps/tileset_ARMOR_1.png", 2 , 2);
 2478               71E0     		.data
 2479    07:71E0             	_tileset_ARMOR_1: 	.incchr		"res/maps/tileset_ARMOR_1.png", 2, 2
 2480               E31D     		.code
 2481                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 32; #incchr(tileset_ARMOR_2,"res/maps/tileset_ARMOR_2.png", 2 , 2);
 2482               7260     		.data
 2483    07:7260             	_tileset_ARMOR_2: 	.incchr		"res/maps/tileset_ARMOR_2.png", 2, 2
 2484               E31D     		.code
 2485                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 33; #incchr(tileset_ARMOR_4,"res/maps/tileset_ARMOR_4.png", 2 , 2);
 2486               72E0     		.data
 2487    07:72E0             	_tileset_ARMOR_4: 	.incchr		"res/maps/tileset_ARMOR_4.png", 2, 2
 2488               E31D     		.code
 2489                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 34; #incchr(tileset_ARMOR_8,"res/maps/tileset_ARMOR_8.png", 2 , 2);
 2490               7360     		.data
 2491    07:7360             	_tileset_ARMOR_8: 	.incchr		"res/maps/tileset_ARMOR_8.png", 2, 2
 2492               E31D     		.code
 2493                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 36; #incchr(tileset_WEAPON_1,"res/maps/tileset_WEAPON_1.png", 2 , 2);
 2494               73E0     		.data
 2495    07:73E0             	_tileset_WEAPON_1: 	.incchr		"res/maps/tileset_WEAPON_1.png", 2, 2
 2496               E31D     		.code
 2497                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 37; #incchr(tileset_WEAPON_2,"res/maps/tileset_WEAPON_2.png", 2 , 2);
 2498               7460     		.data
 2499    07:7460             	_tileset_WEAPON_2: 	.incchr		"res/maps/tileset_WEAPON_2.png", 2, 2
 2500               E31D     		.code
 2501                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 38; #incchr(tileset_WEAPON_4,"res/maps/tileset_WEAPON_4.png", 2 , 2);
 2502               74E0     		.data
 2503    07:74E0             	_tileset_WEAPON_4: 	.incchr		"res/maps/tileset_WEAPON_4.png", 2, 2
 2504               E31D     		.code
 2505                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 39; #incchr(tileset_WEAPON_5,"res/maps/tileset_WEAPON_5.png", 2 , 2);
 2506               7560     		.data
 2507    07:7560             	_tileset_WEAPON_5: 	.incchr		"res/maps/tileset_WEAPON_5.png", 2, 2
 2508               E31D     		.code
 2509                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 40; #incchr(tileset_WEAPON_8,"res/maps/tileset_WEAPON_8.png", 2 , 2);
 2510               75E0     		.data
 2511    07:75E0             	_tileset_WEAPON_8: 	.incchr		"res/maps/tileset_WEAPON_8.png", 2, 2
 2512               E31D     		.code
 2513                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 43; //--------------------------------------------------------------------------------------//
 2514                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 44; //                                        VDC 2                                         //
 2515                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 45; //--------------------------------------------------------------------------------------//
 2516                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 47; #asm
 2517                        		.dbg	clear
 2518               0001     	OPTIMIZE	=	1
 2519               7660     			.data
 2520                        	; EXTRACT TILESET
 2521                        	;----------------
 2522    07:7660             	_tileset_LV1_BG_B:  incchr	"res/maps/template_LV1_WALL.png"
 2523    07:7860             			incchr	"res/maps/template_LV1_DOOR.png"
 2524    07:7B60             			incchr	"res/maps/tilemap_LV1_BG_B.png", OPTIMIZE
 2525                        	; EXTRACT BLOCKS
 2526                        	;--------------
 2527    0B:7000             	blocks_LV1_BG_B1:	incblk	"res/maps/tilemap_LV1_BG_B.png" , 0x1000 ,    0 ,   0 ,  64 , 32 , _tileset_LV1_BG_B ; // 96x16 = 1536 | 32x16 =  512
 2528    0B:7800             	blocks_LV1_BG_B2:	incblk	"res/maps/tilemap_LV1_BG_B.png" , 0x1000 , 1024 ,   0 ,  96 , 32 , _tileset_LV1_BG_B ; // 64x16 = 1024 | 32x16 =  512
 2529    0C:6000             	blocks_LV1_BG_B3:	incblk	"res/maps/tilemap_LV1_BG_B.png" , 0x1000 ,    0 , 512 ,  64 , 32 , _tileset_LV1_BG_B ; // 96x16 = 1536 | 16x16 =  256
 2530    0C:6800             	blocks_LV1_BG_B4:	incblk	"res/maps/tilemap_LV1_BG_B.png" , 0x1000 , 1024 , 512 ,  96 , 32 , _tileset_LV1_BG_B ; // 64x16 = 1024 | 16x16 =  256
 2531                        	; EXTRACT MAPS
 2532                        	;------------
 2533               7000     			align	256
 2534    0C:7000             	MAP_LV1_BG_B1:		incmap	"res/maps/tilemap_LV1_BG_B.png",    0 ,   0 ,  64 , 32 , blocks_LV1_BG_B1 ; // 96x16 = 1536 | 32x16 =  512
 2535               7800     			align	256
 2536    0C:7800             	MAP_LV1_BG_B2:		incmap	"res/maps/tilemap_LV1_BG_B.png", 1024 ,   0 ,  96 , 32 , blocks_LV1_BG_B2 ; // 64x16 = 1024 | 32x16 =  512
 2537               6400     			align	256
 2538    0D:6400             	MAP_LV1_BG_B3:		incmap	"res/maps/tilemap_LV1_BG_B.png",    0 , 512 ,  64 , 32 , blocks_LV1_BG_B3 ; // 96x16 = 1536 | 16x16 =  256
 2539               6C00     			align	256
 2540    0D:6C00             	MAP_LV1_BG_B4:		incmap	"res/maps/tilemap_LV1_BG_B.png", 1024 , 512 ,  96 , 32 , blocks_LV1_BG_B4 ; // 64x16 = 1024 | 16x16 =  256
 2541                        	; MASK (EMPTY)
 2542                        	;----------------
 2543    0D:7800  00 00 00 00	dummy_tbl:	ds	256
         0D:7804  00 00 00 00 
         0D:7808  00 00 00 00 
         0D:780C  00 00 00 00 
         0D:7810  00 00 00 00 
         0D:7814  00 00 00 00 
         0D:7818  00 00 00 00 
         0D:781C  00 00 00 00 
         0D:7820  00 00 00 00 
         0D:7824  00 00 00 00 
         0D:7828  00 00 00 00 
         0D:782C  00 00 00 00 
         0D:7830  00 00 00 00 
         0D:7834  00 00 00 00 
         0D:7838  00 00 00 00 
         0D:783C  00 00 00 00 
         0D:7840  00 00 00 00 
         0D:7844  00 00 00 00 
         0D:7848  00 00 00 00 
         0D:784C  00 00 00 00 
         0D:7850  00 00 00 00 
         0D:7854  00 00 00 00 
         0D:7858  00 00 00 00 
         0D:785C  00 00 00 00 
         0D:7860  00 00 00 00 
         0D:7864  00 00 00 00 
         0D:7868  00 00 00 00 
         0D:786C  00 00 00 00 
         0D:7870  00 00 00 00 
         0D:7874  00 00 00 00 
         0D:7878  00 00 00 00 
         0D:787C  00 00 00 00 
         0D:7880  00 00 00 00 
         0D:7884  00 00 00 00 
         0D:7888  00 00 00 00 
         0D:788C  00 00 00 00 
         0D:7890  00 00 00 00 
         0D:7894  00 00 00 00 
         0D:7898  00 00 00 00 
         0D:789C  00 00 00 00 
         0D:78A0  00 00 00 00 
         0D:78A4  00 00 00 00 
         0D:78A8  00 00 00 00 
         0D:78AC  00 00 00 00 
         0D:78B0  00 00 00 00 
         0D:78B4  00 00 00 00 
         0D:78B8  00 00 00 00 
         0D:78BC  00 00 00 00 
         0D:78C0  00 00 00 00 
         0D:78C4  00 00 00 00 
         0D:78C8  00 00 00 00 
         0D:78CC  00 00 00 00 
         0D:78D0  00 00 00 00 
         0D:78D4  00 00 00 00 
         0D:78D8  00 00 00 00 
         0D:78DC  00 00 00 00 
         0D:78E0  00 00 00 00 
         0D:78E4  00 00 00 00 
         0D:78E8  00 00 00 00 
         0D:78EC  00 00 00 00 
         0D:78F0  00 00 00 00 
         0D:78F4  00 00 00 00 
         0D:78F8  00 00 00 00 
         0D:78FC  00 00 00 00 
 2544                        	; SWIZZLE MAPS
 2545                        	;-------------
 2546    0D:7900             	swizzle	MAP_LV1_BG_B1,  32, 16 ;
 2547    0D:7900             	swizzle	MAP_LV1_BG_B2,  32, 16 ;
 2548    0D:7900             	swizzle	MAP_LV1_BG_B3,  32, 16 ;
 2549    0D:7900             	swizzle	MAP_LV1_BG_B4,  32, 16 ;
 2550                        	; BUILD MULTIMAP
 2551                        	;---------------
 2552    0D:7900             	_multimap_LV1_BG_B:
 2553                        			; 1st line of 5 screens (512x256)
 2554                        			SCREEN MAP_LV1_BG_B1 + 0x0000, blocks_LV1_BG_B1, dummy_tbl, 0
         0D:7900  70 0C      			db	(((MAP_LV1_BG_B1 + 0x0000) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B1 + 0x0000)
         0D:7902  50 0B      			db	(((blocks_LV1_BG_B1) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B1)
         0D:7904  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7906  00 00      			dw	(0)
 2555                        			SCREEN MAP_LV1_BG_B1 + 0x0200, blocks_LV1_BG_B1, dummy_tbl, 0
         0D:7908  72 0C      			db	(((MAP_LV1_BG_B1 + 0x0200) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B1 + 0x0200)
         0D:790A  50 0B      			db	(((blocks_LV1_BG_B1) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B1)
         0D:790C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:790E  00 00      			dw	(0)
 2556                        			SCREEN MAP_LV1_BG_B2 + 0x0000, blocks_LV1_BG_B2, dummy_tbl, 0
         0D:7910  78 0C      			db	(((MAP_LV1_BG_B2 + 0x0000) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B2 + 0x0000)
         0D:7912  58 0B      			db	(((blocks_LV1_BG_B2) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B2)
         0D:7914  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7916  00 00      			dw	(0)
 2557                        			SCREEN MAP_LV1_BG_B2 + 0x0200, blocks_LV1_BG_B2, dummy_tbl, 0
         0D:7918  7A 0C      			db	(((MAP_LV1_BG_B2 + 0x0200) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B2 + 0x0200)
         0D:791A  58 0B      			db	(((blocks_LV1_BG_B2) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B2)
         0D:791C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:791E  00 00      			dw	(0)
 2558                        			SCREEN MAP_LV1_BG_B2 + 0x0400, blocks_LV1_BG_B2, dummy_tbl, 0
         0D:7920  7C 0C      			db	(((MAP_LV1_BG_B2 + 0x0400) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B2 + 0x0400)
         0D:7922  58 0B      			db	(((blocks_LV1_BG_B2) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B2)
         0D:7924  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7926  00 00      			dw	(0)
 2559                        			; 2nd line of 5 screens (512x256)
 2560                        			SCREEN MAP_LV1_BG_B1 + 0x0400, blocks_LV1_BG_B1, dummy_tbl, 0
         0D:7928  74 0C      			db	(((MAP_LV1_BG_B1 + 0x0400) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B1 + 0x0400)
         0D:792A  50 0B      			db	(((blocks_LV1_BG_B1) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B1)
         0D:792C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:792E  00 00      			dw	(0)
 2561                        			SCREEN MAP_LV1_BG_B1 + 0x0600, blocks_LV1_BG_B1, dummy_tbl, 0
         0D:7930  76 0C      			db	(((MAP_LV1_BG_B1 + 0x0600) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B1 + 0x0600)
         0D:7932  50 0B      			db	(((blocks_LV1_BG_B1) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B1)
         0D:7934  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7936  00 00      			dw	(0)
 2562                        			SCREEN MAP_LV1_BG_B2 + 0x0600, blocks_LV1_BG_B2, dummy_tbl, 0
         0D:7938  7E 0C      			db	(((MAP_LV1_BG_B2 + 0x0600) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B2 + 0x0600)
         0D:793A  58 0B      			db	(((blocks_LV1_BG_B2) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B2)
         0D:793C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:793E  00 00      			dw	(0)
 2563                        			SCREEN MAP_LV1_BG_B2 + 0x0800, blocks_LV1_BG_B2, dummy_tbl, 0
         0D:7940  60 0D      			db	(((MAP_LV1_BG_B2 + 0x0800) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B2 + 0x0800)
         0D:7942  58 0B      			db	(((blocks_LV1_BG_B2) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B2)
         0D:7944  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7946  00 00      			dw	(0)
 2564                        			SCREEN MAP_LV1_BG_B2 + 0x0A00, blocks_LV1_BG_B2, dummy_tbl, 0
         0D:7948  62 0D      			db	(((MAP_LV1_BG_B2 + 0x0A00) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B2 + 0x0A00)
         0D:794A  58 0B      			db	(((blocks_LV1_BG_B2) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B2)
         0D:794C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:794E  00 00      			dw	(0)
 2565                        			; 3rd line of 5 screens (512x256)
 2566                        			SCREEN MAP_LV1_BG_B3 + 0x0000, blocks_LV1_BG_B3, dummy_tbl, 0
         0D:7950  64 0D      			db	(((MAP_LV1_BG_B3 + 0x0000) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B3 + 0x0000)
         0D:7952  40 0C      			db	(((blocks_LV1_BG_B3) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B3)
         0D:7954  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7956  00 00      			dw	(0)
 2567                        			SCREEN MAP_LV1_BG_B3 + 0x0200, blocks_LV1_BG_B3, dummy_tbl, 0
         0D:7958  66 0D      			db	(((MAP_LV1_BG_B3 + 0x0200) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B3 + 0x0200)
         0D:795A  40 0C      			db	(((blocks_LV1_BG_B3) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B3)
         0D:795C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:795E  00 00      			dw	(0)
 2568                        			SCREEN MAP_LV1_BG_B4 + 0x0000, blocks_LV1_BG_B4, dummy_tbl, 0
         0D:7960  6C 0D      			db	(((MAP_LV1_BG_B4 + 0x0000) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B4 + 0x0000)
         0D:7962  48 0C      			db	(((blocks_LV1_BG_B4) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B4)
         0D:7964  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7966  00 00      			dw	(0)
 2569                        			SCREEN MAP_LV1_BG_B4 + 0x0200, blocks_LV1_BG_B4, dummy_tbl, 0
         0D:7968  6E 0D      			db	(((MAP_LV1_BG_B4 + 0x0200) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B4 + 0x0200)
         0D:796A  48 0C      			db	(((blocks_LV1_BG_B4) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B4)
         0D:796C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:796E  00 00      			dw	(0)
 2570                        			SCREEN MAP_LV1_BG_B4 + 0x0400, blocks_LV1_BG_B4, dummy_tbl, 0
         0D:7970  70 0D      			db	(((MAP_LV1_BG_B4 + 0x0400) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B4 + 0x0400)
         0D:7972  48 0C      			db	(((blocks_LV1_BG_B4) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B4)
         0D:7974  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7976  00 00      			dw	(0)
 2571                        			; 4th line of 5 screens (512x256)
 2572                        			SCREEN MAP_LV1_BG_B3 + 0x0400, blocks_LV1_BG_B3, dummy_tbl, 0
         0D:7978  68 0D      			db	(((MAP_LV1_BG_B3 + 0x0400) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B3 + 0x0400)
         0D:797A  40 0C      			db	(((blocks_LV1_BG_B3) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B3)
         0D:797C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:797E  00 00      			dw	(0)
 2573                        			SCREEN MAP_LV1_BG_B3 + 0x0600, blocks_LV1_BG_B3, dummy_tbl, 0
         0D:7980  6A 0D      			db	(((MAP_LV1_BG_B3 + 0x0600) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B3 + 0x0600)
         0D:7982  40 0C      			db	(((blocks_LV1_BG_B3) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B3)
         0D:7984  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7986  00 00      			dw	(0)
 2574                        			SCREEN MAP_LV1_BG_B4 + 0x0600, blocks_LV1_BG_B4, dummy_tbl, 0
         0D:7988  72 0D      			db	(((MAP_LV1_BG_B4 + 0x0600) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B4 + 0x0600)
         0D:798A  48 0C      			db	(((blocks_LV1_BG_B4) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B4)
         0D:798C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:798E  00 00      			dw	(0)
 2575                        			SCREEN MAP_LV1_BG_B4 + 0x0800, blocks_LV1_BG_B4, dummy_tbl, 0
         0D:7990  74 0D      			db	(((MAP_LV1_BG_B4 + 0x0800) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B4 + 0x0800)
         0D:7992  48 0C      			db	(((blocks_LV1_BG_B4) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B4)
         0D:7994  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:7996  00 00      			dw	(0)
 2576                        			SCREEN MAP_LV1_BG_B4 + 0x0A00, blocks_LV1_BG_B4, dummy_tbl, 0
         0D:7998  76 0D      			db	(((MAP_LV1_BG_B4 + 0x0A00) & $1FFF) | $6000) >> 8, bank(MAP_LV1_BG_B4 + 0x0A00)
         0D:799A  48 0C      			db	(((blocks_LV1_BG_B4) & $1FFF) | $4000) >> 8, bank(blocks_LV1_BG_B4)
         0D:799C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         0D:799E  00 00      			dw	(0)
 2577                        	;//--------------------------------------------------------------------------------------//
 2578                        	;//                                        VDC 1                                         //
 2579                        	;//--------------------------------------------------------------------------------------//
 2580                        	; EXTRACT TILESET
 2581                        	;----------------
 2582    0D:79A0             	_tileset_HUD:	incchr	"res/maps/template_LIFEBAR_1.png"
 2583    0D:79E0             			incchr	"res/maps/template_LIFEBAR_2.png"
 2584    0D:7A20             			incchr	"res/maps/template_LIFEBAR_3.png"
 2585    0D:7A60             			incchr	"res/maps/template_LIFEBAR_4.png"
 2586    0D:7AA0             			incchr	"res/maps/template_LIFEBAR_5.png"
 2587    0D:7AE0             			incchr	"res/maps/tileset_WEAPON_1.png"
 2588    0D:7B60             			incchr	"res/maps/tileset_ARMOR_2.png"
 2589    0D:7BE0             			incchr	"res/maps/tilemap_HUD.png", OPTIMIZE
 2590                        	; EXTRACT BLOCKS
 2591                        	;--------------
 2592    0E:6800             	blocks_HUD1:	incblk	"res/maps/tilemap_HUD.png" , 0x1000 ,    0 ,   0 , 128 , 64 , _tileset_HUD ; // 128x16 = 2048 | 64x16 = 1024
 2593    0E:7000             	blocks_HUD2:	incblk	"res/maps/tilemap_HUD.png" , 0x1000 , 2048 ,   0 ,  32 , 64 , _tileset_HUD ; //  32x16 =  512 | 64x16 = 1024
 2594                        	; EXTRACT MAPS
 2595                        	;------------
 2596               7800     			align	256
 2597    0E:7800             	MAP_HUD1:		incmap	"res/maps/tilemap_HUD.png",    0 ,   0 , 128 , 64 , blocks_HUD1 ; // 128x16 = 2048 | 64x16 = 1024
 2598    0F:7800             			flagmap "res/maps/collision_LV1.png",       0 ,   0 , 128 , 64 , MAP_HUD1
 2599               7800     			align	256
 2600    0F:7800             	MAP_HUD2:		incmap	"res/maps/tilemap_HUD.png", 2048 ,   0 ,  32 , 64 , blocks_HUD2 ; //  32x16 =  512 | 64x16 = 1024
 2601    0F:8000             			flagmap "res/maps/collision_LV1.png",    2048 ,   0 ,  32 , 64 , MAP_HUD2
 2602                        	; SWIZZLE MAPS
 2603                        	;-------------
 2604    0F:8000             	swizzle	MAP_HUD1,  32, 16 ;
 2605    0F:8000             	swizzle	MAP_HUD2,  32, 16 ;
 2606                        	; BUILD MULTIMAP
 2607                        	;---------------
 2608    10:6000             	_multimap_LV1_BG_A:
 2609                        			; 1st line of 5 screens (512x256)
 2610                        			SCREEN MAP_HUD1 + 0x0000, blocks_HUD1, dummy_tbl, 0
         10:6000  78 0E      			db	(((MAP_HUD1 + 0x0000) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0000)
         10:6002  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:6004  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:6006  00 00      			dw	(0)
 2611                        			SCREEN MAP_HUD1 + 0x0200, blocks_HUD1, dummy_tbl, 0
         10:6008  7A 0E      			db	(((MAP_HUD1 + 0x0200) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0200)
         10:600A  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:600C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:600E  00 00      			dw	(0)
 2612                        			SCREEN MAP_HUD1 + 0x0400, blocks_HUD1, dummy_tbl, 0
         10:6010  7C 0E      			db	(((MAP_HUD1 + 0x0400) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0400)
         10:6012  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:6014  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:6016  00 00      			dw	(0)
 2613                        			SCREEN MAP_HUD1 + 0x0600, blocks_HUD1, dummy_tbl, 0
         10:6018  7E 0E      			db	(((MAP_HUD1 + 0x0600) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0600)
         10:601A  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:601C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:601E  00 00      			dw	(0)
 2614                        			SCREEN MAP_HUD2 + 0x0000, blocks_HUD2, dummy_tbl, 0
         10:6020  78 0F      			db	(((MAP_HUD2 + 0x0000) & $1FFF) | $6000) >> 8, bank(MAP_HUD2 + 0x0000)
         10:6022  50 0E      			db	(((blocks_HUD2) & $1FFF) | $4000) >> 8, bank(blocks_HUD2)
         10:6024  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:6026  00 00      			dw	(0)
 2615                        			; 2nd line of 5 screens (512x256)
 2616                        			SCREEN MAP_HUD1 + 0x0800, blocks_HUD1, dummy_tbl, 0
         10:6028  60 0F      			db	(((MAP_HUD1 + 0x0800) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0800)
         10:602A  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:602C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:602E  00 00      			dw	(0)
 2617                        			SCREEN MAP_HUD1 + 0x0A00, blocks_HUD1, dummy_tbl, 0
         10:6030  62 0F      			db	(((MAP_HUD1 + 0x0A00) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0A00)
         10:6032  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:6034  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:6036  00 00      			dw	(0)
 2618                        			SCREEN MAP_HUD1 + 0x0C00, blocks_HUD1, dummy_tbl, 0
         10:6038  64 0F      			db	(((MAP_HUD1 + 0x0C00) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0C00)
         10:603A  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:603C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:603E  00 00      			dw	(0)
 2619                        			SCREEN MAP_HUD1 + 0x0E00, blocks_HUD1, dummy_tbl, 0
         10:6040  66 0F      			db	(((MAP_HUD1 + 0x0E00) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x0E00)
         10:6042  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:6044  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:6046  00 00      			dw	(0)
 2620                        			SCREEN MAP_HUD2 + 0x0200, blocks_HUD2, dummy_tbl, 0
         10:6048  7A 0F      			db	(((MAP_HUD2 + 0x0200) & $1FFF) | $6000) >> 8, bank(MAP_HUD2 + 0x0200)
         10:604A  50 0E      			db	(((blocks_HUD2) & $1FFF) | $4000) >> 8, bank(blocks_HUD2)
         10:604C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:604E  00 00      			dw	(0)
 2621                        			; 3rd line of 5 screens (512x256)
 2622                        			SCREEN MAP_HUD1 + 0x1000, blocks_HUD1, dummy_tbl, 0
         10:6050  68 0F      			db	(((MAP_HUD1 + 0x1000) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1000)
         10:6052  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:6054  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:6056  00 00      			dw	(0)
 2623                        			SCREEN MAP_HUD1 + 0x1200, blocks_HUD1, dummy_tbl, 0
         10:6058  6A 0F      			db	(((MAP_HUD1 + 0x1200) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1200)
         10:605A  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:605C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:605E  00 00      			dw	(0)
 2624                        			SCREEN MAP_HUD1 + 0x1400, blocks_HUD1, dummy_tbl, 0
         10:6060  6C 0F      			db	(((MAP_HUD1 + 0x1400) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1400)
         10:6062  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:6064  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:6066  00 00      			dw	(0)
 2625                        			SCREEN MAP_HUD1 + 0x1600, blocks_HUD1, dummy_tbl, 0
         10:6068  6E 0F      			db	(((MAP_HUD1 + 0x1600) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1600)
         10:606A  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:606C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:606E  00 00      			dw	(0)
 2626                        			SCREEN MAP_HUD2 + 0x0400, blocks_HUD2, dummy_tbl, 0
         10:6070  7C 0F      			db	(((MAP_HUD2 + 0x0400) & $1FFF) | $6000) >> 8, bank(MAP_HUD2 + 0x0400)
         10:6072  50 0E      			db	(((blocks_HUD2) & $1FFF) | $4000) >> 8, bank(blocks_HUD2)
         10:6074  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:6076  00 00      			dw	(0)
 2627                        			; 4th line of 5 screens (512x256)
 2628                        			SCREEN MAP_HUD1 + 0x1800, blocks_HUD1, dummy_tbl, 0
         10:6078  70 0F      			db	(((MAP_HUD1 + 0x1800) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1800)
         10:607A  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:607C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:607E  00 00      			dw	(0)
 2629                        			SCREEN MAP_HUD1 + 0x1A00, blocks_HUD1, dummy_tbl, 0
         10:6080  72 0F      			db	(((MAP_HUD1 + 0x1A00) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1A00)
         10:6082  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:6084  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:6086  00 00      			dw	(0)
 2630                        			SCREEN MAP_HUD1 + 0x1C00, blocks_HUD1, dummy_tbl, 0
         10:6088  74 0F      			db	(((MAP_HUD1 + 0x1C00) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1C00)
         10:608A  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:608C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:608E  00 00      			dw	(0)
 2631                        			SCREEN MAP_HUD1 + 0x1E00, blocks_HUD1, dummy_tbl, 0
         10:6090  76 0F      			db	(((MAP_HUD1 + 0x1E00) & $1FFF) | $6000) >> 8, bank(MAP_HUD1 + 0x1E00)
         10:6092  48 0E      			db	(((blocks_HUD1) & $1FFF) | $4000) >> 8, bank(blocks_HUD1)
         10:6094  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:6096  00 00      			dw	(0)
 2632                        			SCREEN MAP_HUD2 + 0x0600, blocks_HUD2, dummy_tbl, 0
         10:6098  7E 0F      			db	(((MAP_HUD2 + 0x0600) & $1FFF) | $6000) >> 8, bank(MAP_HUD2 + 0x0600)
         10:609A  50 0E      			db	(((blocks_HUD2) & $1FFF) | $4000) >> 8, bank(blocks_HUD2)
         10:609C  78 0D      			db	(((dummy_tbl) & $1FFF) | $6000) >> 8, bank(dummy_tbl)
         10:609E  00 00      			dw	(0)
 2633               E31D     			.code
 2634                        	
 2635                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 207; #endasm
 2636                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 211; //--------------------------------------------------------------------------------------//
 2637                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 212; //                                   EXTRACT PALETTES                                   //
 2638                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 213; //--------------------------------------------------------------------------------------//
 2639                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 215; #incpal(palette_LV1,"res/maps/tilemap_LV1_BG_B.png");
 2640               60A0     		.data
 2641    10:60A0             	_palette_LV1:	.incpal		"res/maps/tilemap_LV1_BG_B.png"
 2642               E31D     		.code
 2643                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 224; //**************************************************************************************//
 2644                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 225; //                                                                                      //
 2645                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 226; //                                         SHOP                                         //
 2646                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 227; //                                                                                      //
 2647                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 228; //**************************************************************************************//
 2648                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 230; #asm
 2649                        		.dbg	clear
 2650               0001     	OPTIMIZE	=	1
 2651               62A0     			.data
 2652                        	;//--------------------------------------------------------------------------------------//
 2653                        	;//                                        VDC 1                                         //
 2654                        	;//--------------------------------------------------------------------------------------//
 2655                        	; EXTRACT TILESET
 2656                        	;----------------
 2657    10:62A0             	_tileset_SHOP_BG_B:		incchr	"res/maps/template_ITEM_1.png"
 2658    10:6320             			incchr	"res/maps/template_ITEM_2.png"
 2659    10:63A0             			incchr	"res/maps/template_ITEM_3.png"
 2660    10:6420             			incchr	"res/maps/template_ITEM_4.png"
 2661    10:64A0             			incchr	"res/maps/template_ITEM_5.png"
 2662    10:6520             			incchr	"res/maps/template_ITEM_6.png"
 2663    10:65A0             			incchr	"res/maps/template_ITEM_7.png"
 2664    10:6620             			incchr	"res/maps/template_ITEM_8.png"
 2665    10:66A0             			incchr	"res/maps/template_ITEM_9.png"
 2666    10:6720             			incchr	"res/maps/template_ITEM_10.png"
 2667    10:67A0             			incchr	"res/maps/tilemap_SHOP_BG_B.png", OPTIMIZE
 2668               E31D     			.code
 2669                        	
 2670                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 254; #endasm
 2671                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 257; // EXTRACT BLOCKS //
 2672                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 258; #incblk(blocks_SHOP_BG_B, "res/maps/tilemap_SHOP_BG_B.png", 0x1000, tileset_SHOP_BG_B);
 2673               7C00     		.data
 2674    12:6000             	_blocks_SHOP_BG_B:	.incblk		"res/maps/tilemap_SHOP_BG_B.png", 4096, _tileset_SHOP_BG_B
 2675               E31D     		.code
 2676                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 260; // EXTRACT MAP //
 2677                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 261; #incmap(map_SHOP_BG_B, "res/maps/tilemap_SHOP_BG_B.png", blocks_SHOP_BG_B);
 2678               6800     		.data
 2679    12:6800             	_map_SHOP_BG_B:	.incmap		"res/maps/tilemap_SHOP_BG_B.png", _blocks_SHOP_BG_B
 2680               E31D     		.code
 2681                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 264; //--------------------------------------------------------------------------------------//
 2682                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 265; //                                        ITEMS                                         //
 2683                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 266; //--------------------------------------------------------------------------------------//
 2684                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 268; #incchr(tiles_ITEM_WEAPON_2,"res/maps/tiles_ITEM_WEAPON_2.png", 2 , 2);
 2685               68E0     		.data
 2686    12:68E0             	_tiles_ITEM_WEAPON_2: 	.incchr		"res/maps/tiles_ITEM_WEAPON_2.png", 2, 2
 2687               E31D     		.code
 2688                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 269; #incchr(tiles_ITEM_WEAPON_3,"res/maps/tiles_ITEM_WEAPON_3.png", 2 , 2);
 2689               6960     		.data
 2690    12:6960             	_tiles_ITEM_WEAPON_3: 	.incchr		"res/maps/tiles_ITEM_WEAPON_3.png", 2, 2
 2691               E31D     		.code
 2692                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 270; #incchr(tiles_ITEM_WEAPON_4,"res/maps/tiles_ITEM_WEAPON_4.png", 2 , 2);
 2693               69E0     		.data
 2694    12:69E0             	_tiles_ITEM_WEAPON_4: 	.incchr		"res/maps/tiles_ITEM_WEAPON_4.png", 2, 2
 2695               E31D     		.code
 2696                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 271; #incchr(tiles_ITEM_WEAPON_5,"res/maps/tiles_ITEM_WEAPON_5.png", 2 , 2);
 2697               6A60     		.data
 2698    12:6A60             	_tiles_ITEM_WEAPON_5: 	.incchr		"res/maps/tiles_ITEM_WEAPON_5.png", 2, 2
 2699               E31D     		.code
 2700                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 272; #incchr(tiles_ITEM_KEY,"res/maps/tiles_ITEM_KEY.png", 2 , 2);
 2701               6AE0     		.data
 2702    12:6AE0             	_tiles_ITEM_KEY: 	.incchr		"res/maps/tiles_ITEM_KEY.png", 2, 2
 2703               E31D     		.code
 2704                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 273; #incchr(tiles_ITEM_ARMOR_2,"res/maps/tiles_ITEM_ARMOR_2.png", 2 , 2);
 2705               6B60     		.data
 2706    12:6B60             	_tiles_ITEM_ARMOR_2: 	.incchr		"res/maps/tiles_ITEM_ARMOR_2.png", 2, 2
 2707               E31D     		.code
 2708                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 274; #incchr(tiles_ITEM_ARMOR_3,"res/maps/tiles_ITEM_ARMOR_3.png", 2 , 2);
 2709               6BE0     		.data
 2710    12:6BE0             	_tiles_ITEM_ARMOR_3: 	.incchr		"res/maps/tiles_ITEM_ARMOR_3.png", 2, 2
 2711               E31D     		.code
 2712                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 275; #incchr(tiles_ITEM_ARMOR_4,"res/maps/tiles_ITEM_ARMOR_4.png", 2 , 2);
 2713               6C60     		.data
 2714    12:6C60             	_tiles_ITEM_ARMOR_4: 	.incchr		"res/maps/tiles_ITEM_ARMOR_4.png", 2, 2
 2715               E31D     		.code
 2716                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 276; #incchr(tiles_ITEM_ARMOR_5,"res/maps/tiles_ITEM_ARMOR_5.png", 2 , 2);
 2717               6CE0     		.data
 2718    12:6CE0             	_tiles_ITEM_ARMOR_5: 	.incchr		"res/maps/tiles_ITEM_ARMOR_5.png", 2, 2
 2719               E31D     		.code
 2720                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 277; #incchr(tiles_ITEM_POTION,"res/maps/tiles_ITEM_POTION.png", 2 , 2);
 2721               6D60     		.data
 2722    12:6D60             	_tiles_ITEM_POTION: 	.incchr		"res/maps/tiles_ITEM_POTION.png", 2, 2
 2723               E31D     		.code
 2724                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 279; //#incchr(tileset_NUMBERS_SHOP_FONT,"res/maps/tiles_NUMBERS_SHOP_FONT.png");
 2725                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 282; //--------------------------------------------------------------------------------------//
 2726                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 283; //                                   EXTRACT PALETTES                                   //
 2727                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 284; //--------------------------------------------------------------------------------------//
 2728                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 286; #incpal(palette_SHOP,"res/maps/tilemap_SHOP_BG_B.png");
 2729               6DE0     		.data
 2730    12:6DE0             	_palette_SHOP:	.incpal		"res/maps/tilemap_SHOP_BG_B.png"
 2731               E31D     		.code
 2732                        		.dbg	line,	"include\gfx_BG_LEVELS.c", 287; #incpal(palette_SHOP_ITEMS,"res/palettes/palette_SHOP_ITEMS.png");
 2733               6FE0     		.data
 2734    12:6FE0             	_palette_SHOP_ITEMS:	.incpal		"res/palettes/palette_SHOP_ITEMS.png"
 2735               E31D     		.code
 2736                        		.dbg	line,	"main.c", 13; #include "include/gfx_BG_TITLE.c"
 2737                        		.dbg	line,	"include\gfx_BG_TITLE.c", 1; #include "huc.h"
 2738                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 2739                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 2740                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 2741                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 2742                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 2743                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 2744                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 2745                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 2746                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 2747                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 2748                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 2749                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2750                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2751                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2752                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 2753                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 2754                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 2755                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 2756                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 2757                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 2758                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 2759                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 2760                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 2761                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 2762                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 2763                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 2764                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 2765                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 2766                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 2767                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 2768                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 2769                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 2770                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 2771                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
 2772                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
 2773                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
 2774                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
 2775                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
 2776                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
 2777                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
 2778                        		.dbg	line,	"include\gfx_BG_TITLE.c", 2; #include "hucc-scroll.h"
 2779                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
 2780                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
 2781                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
 2782                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
 2783                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
 2784                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
 2785                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
 2786                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
 2787                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
 2788                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
 2789                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
 2790                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2791                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2792                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2793                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
 2794                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
 2795                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
 2796                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
 2797                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
 2798                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
 2799                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
 2800                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
 2801                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
 2802                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
 2803                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
 2804                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
 2805                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
 2806                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
 2807                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
 2808                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
 2809                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
 2810                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
 2811                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
 2812                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
 2813                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
 2814                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
 2815                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
 2816                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
 2817                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
 2818                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
 2819                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
 2820                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
 2821                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
 2822                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
 2823                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
 2824                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
 2825                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
 2826                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
 2827                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
 2828                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
 2829                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
 2830                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
 2831                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
 2832                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 2833                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 2834                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
 2835                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
 2836                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
 2837                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
 2838                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
 2839                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
 2840                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
 2841                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
 2842                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
 2843                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
 2844                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
 2845                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
 2846                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
 2847                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
 2848                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
 2849                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
 2850                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
 2851                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
 2852                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
 2853                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
 2854                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
 2855                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
 2856                        		.dbg	line,	"include\gfx_BG_TITLE.c", 3; #include "hucc-chrmap.h"
 2857                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
 2858                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
 2859                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
 2860                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
 2861                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
 2862                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
 2863                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
 2864                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
 2865                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
 2866                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
 2867                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
 2868                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2869                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2870                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2871                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
 2872                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
 2873                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
 2874                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
 2875                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
 2876                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
 2877                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
 2878                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
 2879                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
 2880                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
 2881                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
 2882                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
 2883                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
 2884                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
 2885                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
 2886                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 2887                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 2888                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 2889                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 2890                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 2891                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 2892                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 2893                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 2894                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2895                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 2896                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 2897                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 2898                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 2899                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2900                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 2901                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 2902                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 2903                        		.dbg	line,	"include\gfx_BG_TITLE.c", 4; #include "hucc-blkmap.h"
 2904                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 2905                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 2906                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 2907                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 2908                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 2909                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 2910                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 2911                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 2912                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 2913                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 2914                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 2915                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 2916                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 2917                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 2918                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 2919                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 2920                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 2921                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 2922                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 2923                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 2924                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 2925                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 2926                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 2927                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 2928                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 2929                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 2930                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 2931                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 2932                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 2933                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 2934                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 2935                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 2936                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 2937                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 2938                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 2939                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 2940                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 2941                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 2942                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 2943                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 2944                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 2945                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 2946                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 2947                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 2948                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 2949                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 2950                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 2951                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 2952                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 2953                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 2954                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 2955                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 2956                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 2957                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 2958                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 2959                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 2960                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 2961                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 2962                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 2963                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 2964                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 2965                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 2966                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 2967                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 2968                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 2969                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 2970                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 2971                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 2972                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 2973                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 2974                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 2975                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 2976                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 2977                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 2978                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 2979                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 2980                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 2981                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 2982                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 2983                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 2984                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 2985                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 2986                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 2987                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 2988                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 2989                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 2990                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 2991                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 2992                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 2993                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 2994                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 2995                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 2996                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 2997                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 2998                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 2999                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 3000                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 3001                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 3002                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 3003                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 3004                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 3005                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 3006                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 3007                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 3008                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 3009                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 3010                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 3011                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 3012                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 3013                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 3014                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 3015                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 3016                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 3017                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 3018                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 3019                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 3020                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 3021                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 3022                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 3023                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 3024                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 3025                        		.dbg	line,	"include\gfx_BG_TITLE.c", 13; #incchr(tileset_FONT_TITLE,"res/maps/tiles_FONT_TITLE.png");
 3026               71E0     		.data
 3027    12:71E0             	_tileset_FONT_TITLE: 	.incchr		"res/maps/tiles_FONT_TITLE.png"
 3028               E31D     		.code
 3029                        		.dbg	line,	"include\gfx_BG_TITLE.c", 16; //**************************************************************************************//
 3030                        		.dbg	line,	"include\gfx_BG_TITLE.c", 17; //                                                                                      //
 3031                        		.dbg	line,	"include\gfx_BG_TITLE.c", 18; //                                        TITLE                                         //
 3032                        		.dbg	line,	"include\gfx_BG_TITLE.c", 19; //                                                                                      //
 3033                        		.dbg	line,	"include\gfx_BG_TITLE.c", 20; //**************************************************************************************//
 3034                        		.dbg	line,	"include\gfx_BG_TITLE.c", 22; #incchr(tileset_TITLE_BG_B, "res/maps/tilemap_TITLE_BG_B.png", _OPTIMIZE)
 3035               7DE0     		.data
 3036    12:7DE0             	_tileset_TITLE_BG_B: 	.incchr		"res/maps/tilemap_TITLE_BG_B.png", 1
 3037               E31D     		.code
 3038                        		.dbg	line,	"include\gfx_BG_TITLE.c", 24; #incbat(tilemap_TITLE_BG_B,"res/maps/tilemap_TITLE_BG_B.png", 0x1000 , 32 , 28 , tileset_TITLE_BG_B);
 3039               7A40     		.data
 3040    13:7A40             	_tilemap_TITLE_BG_B:	.incbat		"res/maps/tilemap_TITLE_BG_B.png", 4096, 32, 28, _tileset_TITLE_BG_B
 3041               E31D     		.code
 3042                        		.dbg	line,	"main.c", 13; #incpal(palette_TITLE, "res/maps/tilemap_TITLE_BG_B.png")
 3043               6140     		.data
 3044    14:6140             	_palette_TITLE:	.incpal		"res/maps/tilemap_TITLE_BG_B.png"
 3045               E31D     		.code
 3046                        		.dbg	line,	"main.c", 14; #include "include/gfx_SPRITES.c"
 3047                        		.dbg	line,	"include\gfx_SPRITES.c", 1; #include "huc.h"
 3048                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 3049                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 3050                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 3051                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 3052                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 3053                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 3054                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 3055                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 3056                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 3057                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 3058                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 3059                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 3060                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 3061                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 3062                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 3063                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 3064                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 3065                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 3066                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 3067                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 3068                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 3069                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 3070                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 3071                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 3072                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 3073                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 3074                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 3075                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 3076                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 3077                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 3078                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 3079                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 3080                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 3081                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
 3082                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
 3083                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
 3084                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
 3085                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
 3086                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
 3087                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
 3088                        		.dbg	line,	"include\gfx_SPRITES.c", 10; #incspr(tiles_SPR_DRAGON_INTRO,"res/sprites/tiles_SPR_DRAGON_INTRO.png")
 3089               6340     		.data
 3090    14:6340             	_tiles_SPR_DRAGON_INTRO:	.incspr		"res/sprites/tiles_SPR_DRAGON_INTRO.png"
 3091               E31D     		.code
 3092                        		.dbg	line,	"include\gfx_SPRITES.c", 11; #incpal(palette_SPR_DRAGON_INTRO,"res/sprites/tiles_SPR_DRAGON_INTRO.png");
 3093               6340     		.data
 3094    16:6340             	_palette_SPR_DRAGON_INTRO:	.incpal		"res/sprites/tiles_SPR_DRAGON_INTRO.png"
 3095               E31D     		.code
 3096                        		.dbg	line,	"include\gfx_SPRITES.c", 13; #incspr(tiles_SPR_SELECTOR,"res/sprites/tiles_SPR_SELECTOR.png")
 3097               6540     		.data
 3098    16:6540             	_tiles_SPR_SELECTOR:	.incspr		"res/sprites/tiles_SPR_SELECTOR.png"
 3099               E31D     		.code
 3100                        		.dbg	line,	"include\gfx_SPRITES.c", 16; // EXTRACT PLAYER TILES //
 3101                        		.dbg	line,	"include\gfx_SPRITES.c", 17; #incspr(tiles_SPR_PLAYER_ARMOR,"res/sprites/tiles_SPR_PLAYER_ARMOR.png")
 3102               65C0     		.data
 3103    16:65C0             	_tiles_SPR_PLAYER_ARMOR:	.incspr		"res/sprites/tiles_SPR_PLAYER_ARMOR.png"
 3104               E31D     		.code
 3105                        		.dbg	line,	"include\gfx_SPRITES.c", 18; #incspr(tiles_SPR_PLAYER_NAKED,"res/sprites/tiles_SPR_PLAYER_NAKED.png")
 3106               77C0     		.data
 3107    17:77C0             	_tiles_SPR_PLAYER_NAKED:	.incspr		"res/sprites/tiles_SPR_PLAYER_NAKED.png"
 3108               E31D     		.code
 3109                        		.dbg	line,	"include\gfx_SPRITES.c", 20; // EXTRACT PLAYER PALETTE //
 3110                        		.dbg	line,	"include\gfx_SPRITES.c", 21; #incpal(palette_PLAYER_1,"res/palettes/palette_PLAYER_1.png");
 3111               69C0     		.data
 3112    19:69C0             	_palette_PLAYER_1:	.incpal		"res/palettes/palette_PLAYER_1.png"
 3113               E31D     		.code
 3114                        		.dbg	line,	"include\gfx_SPRITES.c", 22; #incpal(palette_PLAYER_4,"res/palettes/palette_PLAYER_4.png");
 3115               6BC0     		.data
 3116    19:6BC0             	_palette_PLAYER_4:	.incpal		"res/palettes/palette_PLAYER_4.png"
 3117               E31D     		.code
 3118                        		.dbg	line,	"include\gfx_SPRITES.c", 23; #incpal(palette_PLAYER_5,"res/palettes/palette_PLAYER_5.png");
 3119               6DC0     		.data
 3120    19:6DC0             	_palette_PLAYER_5:	.incpal		"res/palettes/palette_PLAYER_5.png"
 3121               E31D     		.code
 3122                        		.dbg	line,	"include\gfx_SPRITES.c", 24; #incpal(palette_PLAYER_8,"res/palettes/palette_PLAYER_8.png");
 3123               6FC0     		.data
 3124    19:6FC0             	_palette_PLAYER_8:	.incpal		"res/palettes/palette_PLAYER_8.png"
 3125               E31D     		.code
 3126                        		.dbg	line,	"include\gfx_SPRITES.c", 27; // EXTRACT WEAPONS TILES //
 3127                        		.dbg	line,	"include\gfx_SPRITES.c", 28; #incspr(tiles_SPR_CHAIN,"res/sprites/tiles_SPR_CHAIN.png")
 3128               71C0     		.data
 3129    19:71C0             	_tiles_SPR_CHAIN:	.incspr		"res/sprites/tiles_SPR_CHAIN.png"
 3130               E31D     		.code
 3131                        		.dbg	line,	"include\gfx_SPRITES.c", 29; #incspr(tiles_SPR_WEAPON_0,"res/sprites/tiles_SPR_WEAPON_0.png")
 3132               7240     		.data
 3133    19:7240             	_tiles_SPR_WEAPON_0:	.incspr		"res/sprites/tiles_SPR_WEAPON_0.png"
 3134               E31D     		.code
 3135                        		.dbg	line,	"include\gfx_SPRITES.c", 30; #incspr(tiles_SPR_WEAPON_1,"res/sprites/tiles_SPR_WEAPON_1.png")
 3136               74C0     		.data
 3137    19:74C0             	_tiles_SPR_WEAPON_1:	.incspr		"res/sprites/tiles_SPR_WEAPON_1.png"
 3138               E31D     		.code
 3139                        		.dbg	line,	"include\gfx_SPRITES.c", 31; #incspr(tiles_SPR_WEAPON_2,"res/sprites/tiles_SPR_WEAPON_2.png")
 3140               7740     		.data
 3141    19:7740             	_tiles_SPR_WEAPON_2:	.incspr		"res/sprites/tiles_SPR_WEAPON_2.png"
 3142               E31D     		.code
 3143                        		.dbg	line,	"include\gfx_SPRITES.c", 32; #incspr(tiles_SPR_WEAPON_3,"res/sprites/tiles_SPR_WEAPON_3.png")
 3144               79C0     		.data
 3145    19:79C0             	_tiles_SPR_WEAPON_3:	.incspr		"res/sprites/tiles_SPR_WEAPON_3.png"
 3146               E31D     		.code
 3147                        		.dbg	line,	"include\gfx_SPRITES.c", 33; #incspr(tiles_SPR_WEAPON_4,"res/sprites/tiles_SPR_WEAPON_4.png")
 3148               7C40     		.data
 3149    19:7C40             	_tiles_SPR_WEAPON_4:	.incspr		"res/sprites/tiles_SPR_WEAPON_4.png"
 3150               E31D     		.code
 3151                        		.dbg	line,	"include\gfx_SPRITES.c", 36; #incspr(tiles_SPR_HIT,"res/sprites/tiles_SPR_HIT.png")
 3152               7EC0     		.data
 3153    19:7EC0             	_tiles_SPR_HIT:	.incspr		"res/sprites/tiles_SPR_HIT.png"
 3154               E31D     		.code
 3155                        		.dbg	line,	"include\gfx_SPRITES.c", 39; // EXTRACT OBJECTS TILES //
 3156                        		.dbg	line,	"include\gfx_SPRITES.c", 40; #incspr(tiles_SPR_BARREL,"res/sprites/tiles_SPR_BARREL.png")
 3157               7F40     		.data
 3158    19:7F40             	_tiles_SPR_BARREL:	.incspr		"res/sprites/tiles_SPR_BARREL.png"
 3159               E31D     		.code
 3160                        		.dbg	line,	"include\gfx_SPRITES.c", 41; #incspr(tiles_SPR_CHEST,"res/sprites/tiles_SPR_CHEST.png")
 3161               7FC0     		.data
 3162    19:7FC0             	_tiles_SPR_CHEST:	.incspr		"res/sprites/tiles_SPR_CHEST.png"
 3163               E31D     		.code
 3164                        		.dbg	line,	"include\gfx_SPRITES.c", 42; #incspr(tiles_SPR_COIN_1,"res/sprites/tiles_SPR_COIN_1.png")
 3165               6BC0     		.data
 3166    1A:6BC0             	_tiles_SPR_COIN_1:	.incspr		"res/sprites/tiles_SPR_COIN_1.png"
 3167               E31D     		.code
 3168                        		.dbg	line,	"include\gfx_SPRITES.c", 43; #incspr(tiles_SPR_COIN_5,"res/sprites/tiles_SPR_COIN_5.png")
 3169               6C40     		.data
 3170    1A:6C40             	_tiles_SPR_COIN_5:	.incspr		"res/sprites/tiles_SPR_COIN_5.png"
 3171               E31D     		.code
 3172                        		.dbg	line,	"include\gfx_SPRITES.c", 44; #incspr(tiles_SPR_COIN_10,"res/sprites/tiles_SPR_COIN_10.png")
 3173               6CC0     		.data
 3174    1A:6CC0             	_tiles_SPR_COIN_10:	.incspr		"res/sprites/tiles_SPR_COIN_10.png"
 3175               E31D     		.code
 3176                        		.dbg	line,	"include\gfx_SPRITES.c", 45; #incspr(tiles_SPR_COIN_50,"res/sprites/tiles_SPR_COIN_50.png")
 3177               6D40     		.data
 3178    1A:6D40             	_tiles_SPR_COIN_50:	.incspr		"res/sprites/tiles_SPR_COIN_50.png"
 3179               E31D     		.code
 3180                        		.dbg	line,	"include\gfx_SPRITES.c", 46; #incspr(tiles_SPR_COIN_100,"res/sprites/tiles_SPR_COIN_100.png")
 3181               6DC0     		.data
 3182    1A:6DC0             	_tiles_SPR_COIN_100:	.incspr		"res/sprites/tiles_SPR_COIN_100.png"
 3183               E31D     		.code
 3184                        		.dbg	line,	"include\gfx_SPRITES.c", 47; #incspr(tiles_SPR_COIN_500,"res/sprites/tiles_SPR_COIN_500.png")
 3185               6E40     		.data
 3186    1A:6E40             	_tiles_SPR_COIN_500:	.incspr		"res/sprites/tiles_SPR_COIN_500.png"
 3187               E31D     		.code
 3188                        		.dbg	line,	"include\gfx_SPRITES.c", 48; #incspr(tiles_SPR_COIN_1000,"res/sprites/tiles_SPR_COIN_1000.png")
 3189               6EC0     		.data
 3190    1A:6EC0             	_tiles_SPR_COIN_1000:	.incspr		"res/sprites/tiles_SPR_COIN_1000.png"
 3191               E31D     		.code
 3192                        		.dbg	line,	"include\gfx_SPRITES.c", 49; #incspr(tiles_SPR_FRUIT,"res/sprites/tiles_SPR_FRUIT.png")
 3193               6F40     		.data
 3194    1A:6F40             	_tiles_SPR_FRUIT:	.incspr		"res/sprites/tiles_SPR_FRUIT.png"
 3195               E31D     		.code
 3196                        		.dbg	line,	"include\gfx_SPRITES.c", 50; #incspr(tiles_SPR_GRAY_KEY,"res/sprites/tiles_SPR_GRAY_KEY.png")
 3197               6FC0     		.data
 3198    1A:6FC0             	_tiles_SPR_GRAY_KEY:	.incspr		"res/sprites/tiles_SPR_GRAY_KEY.png"
 3199               E31D     		.code
 3200                        		.dbg	line,	"include\gfx_SPRITES.c", 51; #incspr(tiles_SPR_GOLD_KEY,"res/sprites/tiles_SPR_GOLD_KEY.png")
 3201               7040     		.data
 3202    1A:7040             	_tiles_SPR_GOLD_KEY:	.incspr		"res/sprites/tiles_SPR_GOLD_KEY.png"
 3203               E31D     		.code
 3204                        		.dbg	line,	"include\gfx_SPRITES.c", 52; #incspr(tiles_SPR_HOURGLASS,"res/sprites/tiles_SPR_HOURGLASS.png")
 3205               70C0     		.data
 3206    1A:70C0             	_tiles_SPR_HOURGLASS:	.incspr		"res/sprites/tiles_SPR_HOURGLASS.png"
 3207               E31D     		.code
 3208                        		.dbg	line,	"include\gfx_SPRITES.c", 53; #incspr(tiles_SPR_LIFE,"res/sprites/tiles_SPR_LIFE.png")
 3209               7140     		.data
 3210    1A:7140             	_tiles_SPR_LIFE:	.incspr		"res/sprites/tiles_SPR_LIFE.png"
 3211               E31D     		.code
 3212                        		.dbg	line,	"include\gfx_SPRITES.c", 54; #incspr(tiles_SPR_OCTOPUS,"res/sprites/tiles_SPR_OCTOPUS.png")
 3213               71C0     		.data
 3214    1A:71C0             	_tiles_SPR_OCTOPUS:	.incspr		"res/sprites/tiles_SPR_OCTOPUS.png"
 3215               E31D     		.code
 3216                        		.dbg	line,	"include\gfx_SPRITES.c", 55; #incspr(tiles_SPR_POT,"res/sprites/tiles_SPR_POT.png")
 3217               7240     		.data
 3218    1A:7240             	_tiles_SPR_POT:	.incspr		"res/sprites/tiles_SPR_POT.png"
 3219               E31D     		.code
 3220                        		.dbg	line,	"include\gfx_SPRITES.c", 56; #incspr(tiles_SPR_POW,"res/sprites/tiles_SPR_POW.png")
 3221               7640     		.data
 3222    1A:7640             	_tiles_SPR_POW:	.incspr		"res/sprites/tiles_SPR_POW.png"
 3223               E31D     		.code
 3224                        		.dbg	line,	"include\gfx_SPRITES.c", 57; #incspr(tiles_SPR_STAR,"res/sprites/tiles_SPR_STAR.png")
 3225               76C0     		.data
 3226    1A:76C0             	_tiles_SPR_STAR:	.incspr		"res/sprites/tiles_SPR_STAR.png"
 3227               E31D     		.code
 3228                        		.dbg	line,	"include\gfx_SPRITES.c", 58; #incspr(tiles_SPR_BAMBOO,"res/sprites/tiles_SPR_BAMBOO.png")
 3229               7740     		.data
 3230    1A:7740             	_tiles_SPR_BAMBOO:	.incspr		"res/sprites/tiles_SPR_BAMBOO.png"
 3231               E31D     		.code
 3232                        		.dbg	line,	"include\gfx_SPRITES.c", 59; #incspr(tiles_SPR_YASHICHI,"res/sprites/tiles_SPR_YASHICHI.png")
 3233               77C0     		.data
 3234    1A:77C0             	_tiles_SPR_YASHICHI:	.incspr		"res/sprites/tiles_SPR_YASHICHI.png"
 3235               E31D     		.code
 3236                        		.dbg	line,	"include\gfx_SPRITES.c", 60; #incspr(tiles_SPR_ELEPHANT,"res/sprites/tiles_SPR_ELEPHANT.png")
 3237               7840     		.data
 3238    1A:7840             	_tiles_SPR_ELEPHANT:	.incspr		"res/sprites/tiles_SPR_ELEPHANT.png"
 3239               E31D     		.code
 3240                        		.dbg	line,	"include\gfx_SPRITES.c", 61; #incspr(tiles_SPR_DRAGONFLY,"res/sprites/tiles_SPR_DRAGONFLY.png")
 3241               78C0     		.data
 3242    1A:78C0             	_tiles_SPR_DRAGONFLY:	.incspr		"res/sprites/tiles_SPR_DRAGONFLY.png"
 3243               E31D     		.code
 3244                        		.dbg	line,	"include\gfx_SPRITES.c", 62; #incspr(tiles_SPR_COW,"res/sprites/tiles_SPR_COW.png")
 3245               7940     		.data
 3246    1A:7940             	_tiles_SPR_COW:	.incspr		"res/sprites/tiles_SPR_COW.png"
 3247               E31D     		.code
 3248                        		.dbg	line,	"include\gfx_SPRITES.c", 63; #incspr(tiles_SPR_MOBICHAN,"res/sprites/tiles_SPR_MOBICHAN.png")
 3249               79C0     		.data
 3250    1A:79C0             	_tiles_SPR_MOBICHAN:	.incspr		"res/sprites/tiles_SPR_MOBICHAN.png"
 3251               E31D     		.code
 3252                        		.dbg	line,	"include\gfx_SPRITES.c", 65; // EXTRACT OBJECTS PALETTE //
 3253                        		.dbg	line,	"include\gfx_SPRITES.c", 66; #incpal(palette_objects_1,"res/palettes/palette_objects_1.png");
 3254               7A40     		.data
 3255    1A:7A40             	_palette_objects_1:	.incpal		"res/palettes/palette_objects_1.png"
 3256               E31D     		.code
 3257                        		.dbg	line,	"include\gfx_SPRITES.c", 67; #incpal(palette_objects_2,"res/palettes/palette_objects_2.png");
 3258               7C40     		.data
 3259    1A:7C40             	_palette_objects_2:	.incpal		"res/palettes/palette_objects_2.png"
 3260               E31D     		.code
 3261                        		.dbg	line,	"include\gfx_SPRITES.c", 70; // EXTRACT NPCS TILES //
 3262                        		.dbg	line,	"include\gfx_SPRITES.c", 71; #incspr(tiles_SPR_NPC,"res/sprites/tiles_SPR_NPC.png")
 3263               7E40     		.data
 3264    1A:7E40             	_tiles_SPR_NPC:	.incspr		"res/sprites/tiles_SPR_NPC.png"
 3265               E31D     		.code
 3266                        		.dbg	line,	"include\gfx_SPRITES.c", 75; // EXTRACT CURSOR TILES //
 3267                        		.dbg	line,	"include\gfx_SPRITES.c", 76; #incspr(tiles_SPR_CURSOR,"res/sprites/tiles_SPR_CURSOR.png")
 3268               6A40     		.data
 3269    1B:6A40             	_tiles_SPR_CURSOR:	.incspr		"res/sprites/tiles_SPR_CURSOR.png"
 3270               E31D     		.code
 3271                        		.dbg	line,	"include\gfx_SPRITES.c", 81; // EXTRACT ENEMIES TILES //
 3272                        		.dbg	line,	"include\gfx_SPRITES.c", 82; #incspr(tiles_SPR_ORC,"res/sprites/tiles_SPR_ORC.png")
 3273               6C40     		.data
 3274    1B:6C40             	_tiles_SPR_ORC:	.incspr		"res/sprites/tiles_SPR_ORC.png"
 3275               E31D     		.code
 3276                        		.dbg	line,	"include\gfx_SPRITES.c", 83; #incspr(tiles_SPR_SERPENT,"res/sprites/tiles_SPR_SERPENT.png")
 3277               6940     		.data
 3278    1C:6940             	_tiles_SPR_SERPENT:	.incspr		"res/sprites/tiles_SPR_SERPENT.png"
 3279               E31D     		.code
 3280                        		.dbg	line,	"include\gfx_SPRITES.c", 84; #incspr(tiles_SPR_PLANT,"res/sprites/tiles_SPR_PLANT.png")
 3281               7540     		.data
 3282    1C:7540             	_tiles_SPR_PLANT:	.incspr		"res/sprites/tiles_SPR_PLANT.png"
 3283               E31D     		.code
 3284                        		.dbg	line,	"include\gfx_SPRITES.c", 86; // EXTRACT ENEMIES PALETTES //
 3285                        		.dbg	line,	"include\gfx_SPRITES.c", 87; #incpal(palette_SPR_ORC,"res/sprites/tiles_SPR_ORC.png")
 3286               6F40     		.data
 3287    1D:6F40             	_palette_SPR_ORC:	.incpal		"res/sprites/tiles_SPR_ORC.png"
 3288               E31D     		.code
 3289                        		.dbg	line,	"include\gfx_SPRITES.c", 88; #incpal(palette_SPR_PLANT,"res/sprites/tiles_SPR_PLANT.png")
 3290               7140     		.data
 3291    1D:7140             	_palette_SPR_PLANT:	.incpal		"res/sprites/tiles_SPR_PLANT.png"
 3292               E31D     		.code
 3293                        		.dbg	line,	"main.c", 17; #include "include/tables_INTRO.c"
 3294                        		.dbg	line,	"include\tables_INTRO.c", 1; //-----------------------------------------------------------------------------//
 3295                        		.dbg	line,	"include\tables_INTRO.c", 2; //                                                                             //
 3296                        		.dbg	line,	"include\tables_INTRO.c", 3; //                                   LEVEL 1                                   //
 3297                        		.dbg	line,	"include\tables_INTRO.c", 4; //                                                                             //
 3298                        		.dbg	line,	"include\tables_INTRO.c", 5; //-----------------------------------------------------------------------------//
 3299                        		.dbg	line,	"include\tables_INTRO.c", 7; // 28 CHAR BY LINE //
 3300                        		.dbg	line,	"include\tables_INTRO.c", 8; // 224 CHAR IN TOTAL //
 3301                        		.dbg	line,	"include\tables_INTRO.c", 9; const char              TABLE_INTRO_TEXT[]  =   {
 3302                        		.dbg	line,	"include\tables_INTRO.c", 10; "Long Long ago, three dragonsdescended from skies above  with a rolling thunder and  destroyed a kingdom into    darkness.                   From lengthy suffering and  darkness of the kingdom     came one brave fighter.    "
 3303                        		.dbg	line,	"include\tables_INTRO.c", 11; };
 3304                        		.dbg	line,	"main.c", 18; #include "include/tables_NPC.c"
 3305                        		.dbg	line,	"include\tables_NPC.c", 1; //-----------------------------------------------------------------------------//
 3306                        		.dbg	line,	"include\tables_NPC.c", 2; //                                                                             //
 3307                        		.dbg	line,	"include\tables_NPC.c", 3; //                                   LEVEL 1                                   //
 3308                        		.dbg	line,	"include\tables_NPC.c", 4; //                                                                             //
 3309                        		.dbg	line,	"include\tables_NPC.c", 5; //-----------------------------------------------------------------------------//
 3310                        		.dbg	line,	"include\tables_NPC.c", 7; const char              TABLE_NPC_TYPE_LV1[NPC_NUMBER_LV1]              =   {
 3311                        		.dbg	line,	"include\tables_NPC.c", 8; TYPE_NPC_SHOP,
 3312                        		.dbg	line,	"include\tables_NPC.c", 9; TYPE_NPC_REWARD
 3313                        		.dbg	line,	"include\tables_NPC.c", 10; };
 3314                        		.dbg	line,	"include\tables_NPC.c", 13; const signed int        TABLE_NPC_X_POS_REF_LV1[NPC_NUMBER_LV1]         =   {
 3315                        		.dbg	line,	"include\tables_NPC.c", 14; 912,
 3316                        		.dbg	line,	"include\tables_NPC.c", 15; 1232
 3317                        		.dbg	line,	"include\tables_NPC.c", 16; };
 3318                        		.dbg	line,	"include\tables_NPC.c", 19; const signed int        TABLE_NPC_Y_POS_REF_LV1[NPC_NUMBER_LV1]         =   {
 3319                        		.dbg	line,	"include\tables_NPC.c", 20; 576,
 3320                        		.dbg	line,	"include\tables_NPC.c", 21; 400
 3321                        		.dbg	line,	"include\tables_NPC.c", 22; };
 3322                        		.dbg	line,	"main.c", 19; #include "include/tables_OBJECT.c"
 3323                        		.dbg	line,	"include\tables_OBJECT.c", 1; //-----------------------------------------------------------------------------//
 3324                        		.dbg	line,	"include\tables_OBJECT.c", 2; //                                                                             //
 3325                        		.dbg	line,	"include\tables_OBJECT.c", 3; //                                   LEVEL 1                                   //
 3326                        		.dbg	line,	"include\tables_OBJECT.c", 4; //                                                                             //
 3327                        		.dbg	line,	"include\tables_OBJECT.c", 5; //-----------------------------------------------------------------------------//
 3328                        		.dbg	line,	"include\tables_OBJECT.c", 7; // DOES NOT INCLUDE HIDDEN OBJECTS //
 3329                        		.dbg	line,	"include\tables_OBJECT.c", 8; const char              TABLE_OBJECT_TYPE_LV1[OBJECT_NUMBER_LV1]      =   {
 3330                        		.dbg	line,	"include\tables_OBJECT.c", 9; TYPE_HOURGLASS,
 3331                        		.dbg	line,	"include\tables_OBJECT.c", 10; TYPE_POT,
 3332                        		.dbg	line,	"include\tables_OBJECT.c", 11; TYPE_POT,
 3333                        		.dbg	line,	"include\tables_OBJECT.c", 12; TYPE_POT,
 3334                        		.dbg	line,	"include\tables_OBJECT.c", 13; TYPE_POT,
 3335                        		.dbg	line,	"include\tables_OBJECT.c", 14; TYPE_POT,
 3336                        		.dbg	line,	"include\tables_OBJECT.c", 15; TYPE_POT,
 3337                        		.dbg	line,	"include\tables_OBJECT.c", 16; TYPE_POW,
 3338                        		.dbg	line,	"include\tables_OBJECT.c", 17; TYPE_POT,
 3339                        		.dbg	line,	"include\tables_OBJECT.c", 18; TYPE_POT,
 3340                        		.dbg	line,	"include\tables_OBJECT.c", 20; //
 3341                        		.dbg	line,	"include\tables_OBJECT.c", 21; TYPE_POT,
 3342                        		.dbg	line,	"include\tables_OBJECT.c", 22; TYPE_POT,
 3343                        		.dbg	line,	"include\tables_OBJECT.c", 23; TYPE_POT,
 3344                        		.dbg	line,	"include\tables_OBJECT.c", 24; TYPE_POT,
 3345                        		.dbg	line,	"include\tables_OBJECT.c", 25; TYPE_POT,
 3346                        		.dbg	line,	"include\tables_OBJECT.c", 26; TYPE_POT,
 3347                        		.dbg	line,	"include\tables_OBJECT.c", 27; TYPE_POT,
 3348                        		.dbg	line,	"include\tables_OBJECT.c", 28; TYPE_POT,
 3349                        		.dbg	line,	"include\tables_OBJECT.c", 29; TYPE_POT,
 3350                        		.dbg	line,	"include\tables_OBJECT.c", 30; TYPE_POT,
 3351                        		.dbg	line,	"include\tables_OBJECT.c", 32; //
 3352                        		.dbg	line,	"include\tables_OBJECT.c", 33; TYPE_POT,
 3353                        		.dbg	line,	"include\tables_OBJECT.c", 34; TYPE_POT,
 3354                        		.dbg	line,	"include\tables_OBJECT.c", 35; TYPE_POT
 3355                        		.dbg	line,	"include\tables_OBJECT.c", 36; };
 3356                        		.dbg	line,	"include\tables_OBJECT.c", 38; // DOES NOT INCLUDE HIDDEN OBJECTS //
 3357                        		.dbg	line,	"include\tables_OBJECT.c", 39; const signed int        TABLE_OBJECT_X_POS_REF_LV1[OBJECT_NUMBER_LV1] =   {
 3358                        		.dbg	line,	"include\tables_OBJECT.c", 40; 1680,
 3359                        		.dbg	line,	"include\tables_OBJECT.c", 41; 1280,
 3360                        		.dbg	line,	"include\tables_OBJECT.c", 42; 1472,
 3361                        		.dbg	line,	"include\tables_OBJECT.c", 43; 1440,
 3362                        		.dbg	line,	"include\tables_OBJECT.c", 44; 1168,
 3363                        		.dbg	line,	"include\tables_OBJECT.c", 45; 1200,
 3364                        		.dbg	line,	"include\tables_OBJECT.c", 46; 960,
 3365                        		.dbg	line,	"include\tables_OBJECT.c", 47; 984,
 3366                        		.dbg	line,	"include\tables_OBJECT.c", 48; 1360,
 3367                        		.dbg	line,	"include\tables_OBJECT.c", 49; 1392,
 3368                        		.dbg	line,	"include\tables_OBJECT.c", 51; //
 3369                        		.dbg	line,	"include\tables_OBJECT.c", 52; 1552,
 3370                        		.dbg	line,	"include\tables_OBJECT.c", 53; 1680,
 3371                        		.dbg	line,	"include\tables_OBJECT.c", 54; 1712,
 3372                        		.dbg	line,	"include\tables_OBJECT.c", 55; 1744,
 3373                        		.dbg	line,	"include\tables_OBJECT.c", 56; 1248,
 3374                        		.dbg	line,	"include\tables_OBJECT.c", 57; 1280,
 3375                        		.dbg	line,	"include\tables_OBJECT.c", 58; 1168,
 3376                        		.dbg	line,	"include\tables_OBJECT.c", 59; 1040,
 3377                        		.dbg	line,	"include\tables_OBJECT.c", 60; 640,
 3378                        		.dbg	line,	"include\tables_OBJECT.c", 61; 672,
 3379                        		.dbg	line,	"include\tables_OBJECT.c", 63; //
 3380                        		.dbg	line,	"include\tables_OBJECT.c", 64; 336,
 3381                        		.dbg	line,	"include\tables_OBJECT.c", 65; 368,
 3382                        		.dbg	line,	"include\tables_OBJECT.c", 66; 416
 3383                        		.dbg	line,	"include\tables_OBJECT.c", 67; };
 3384                        		.dbg	line,	"include\tables_OBJECT.c", 69; // DOES NOT INCLUDE HIDDEN OBJECTS //
 3385                        		.dbg	line,	"include\tables_OBJECT.c", 70; const signed int        TABLE_OBJECT_Y_POS_REF_LV1[OBJECT_NUMBER_LV1] =     {
 3386                        		.dbg	line,	"include\tables_OBJECT.c", 71; 384,
 3387                        		.dbg	line,	"include\tables_OBJECT.c", 72; 416,
 3388                        		.dbg	line,	"include\tables_OBJECT.c", 73; 480,
 3389                        		.dbg	line,	"include\tables_OBJECT.c", 74; 496,
 3390                        		.dbg	line,	"include\tables_OBJECT.c", 75; 560,
 3391                        		.dbg	line,	"include\tables_OBJECT.c", 76; 560,
 3392                        		.dbg	line,	"include\tables_OBJECT.c", 77; 592,
 3393                        		.dbg	line,	"include\tables_OBJECT.c", 78; 592,
 3394                        		.dbg	line,	"include\tables_OBJECT.c", 79; 592,
 3395                        		.dbg	line,	"include\tables_OBJECT.c", 80; 592,
 3396                        		.dbg	line,	"include\tables_OBJECT.c", 82; //
 3397                        		.dbg	line,	"include\tables_OBJECT.c", 83; 704,
 3398                        		.dbg	line,	"include\tables_OBJECT.c", 84; 720,
 3399                        		.dbg	line,	"include\tables_OBJECT.c", 85; 720,
 3400                        		.dbg	line,	"include\tables_OBJECT.c", 86; 720,
 3401                        		.dbg	line,	"include\tables_OBJECT.c", 87; 736,
 3402                        		.dbg	line,	"include\tables_OBJECT.c", 88; 736,
 3403                        		.dbg	line,	"include\tables_OBJECT.c", 89; 752,
 3404                        		.dbg	line,	"include\tables_OBJECT.c", 90; 848,
 3405                        		.dbg	line,	"include\tables_OBJECT.c", 91; 880,
 3406                        		.dbg	line,	"include\tables_OBJECT.c", 92; 880,
 3407                        		.dbg	line,	"include\tables_OBJECT.c", 94; //
 3408                        		.dbg	line,	"include\tables_OBJECT.c", 95; 896,
 3409                        		.dbg	line,	"include\tables_OBJECT.c", 96; 896,
 3410                        		.dbg	line,	"include\tables_OBJECT.c", 97; 896
 3411                        		.dbg	line,	"include\tables_OBJECT.c", 98; };
 3412                        		.dbg	line,	"include\tables_OBJECT.c", 100; // DOES NOT INCLUDE HIDDEN OBJECTS //
 3413                        		.dbg	line,	"include\tables_OBJECT.c", 101; const char              TABLE_REWARD_TYPE_LV1[OBJECT_NUMBER_LV1]       =    {
 3414                        		.dbg	line,	"include\tables_OBJECT.c", 102; TYPE_NULL,
 3415                        		.dbg	line,	"include\tables_OBJECT.c", 104; //
 3416                        		.dbg	line,	"include\tables_OBJECT.c", 105; TYPE_GRAY_KEY,
 3417                        		.dbg	line,	"include\tables_OBJECT.c", 107; //
 3418                        		.dbg	line,	"include\tables_OBJECT.c", 108; TYPE_COIN_5,
 3419                        		.dbg	line,	"include\tables_OBJECT.c", 109; TYPE_COIN_5,
 3420                        		.dbg	line,	"include\tables_OBJECT.c", 111; //
 3421                        		.dbg	line,	"include\tables_OBJECT.c", 112; TYPE_GRAY_KEY,
 3422                        		.dbg	line,	"include\tables_OBJECT.c", 113; TYPE_COIN_10,
 3423                        		.dbg	line,	"include\tables_OBJECT.c", 115; //
 3424                        		.dbg	line,	"include\tables_OBJECT.c", 116; TYPE_COIN_10,
 3425                        		.dbg	line,	"include\tables_OBJECT.c", 117; TYPE_NULL,
 3426                        		.dbg	line,	"include\tables_OBJECT.c", 119; //
 3427                        		.dbg	line,	"include\tables_OBJECT.c", 120; TYPE_GRAY_KEY,
 3428                        		.dbg	line,	"include\tables_OBJECT.c", 121; TYPE_HOURGLASS,
 3429                        		.dbg	line,	"include\tables_OBJECT.c", 123; //
 3430                        		.dbg	line,	"include\tables_OBJECT.c", 124; TYPE_COIN_10,
 3431                        		.dbg	line,	"include\tables_OBJECT.c", 126; //
 3432                        		.dbg	line,	"include\tables_OBJECT.c", 127; TYPE_HOURGLASS,
 3433                        		.dbg	line,	"include\tables_OBJECT.c", 128; TYPE_GRAY_KEY,
 3434                        		.dbg	line,	"include\tables_OBJECT.c", 129; TYPE_COIN_10,
 3435                        		.dbg	line,	"include\tables_OBJECT.c", 131; //
 3436                        		.dbg	line,	"include\tables_OBJECT.c", 132; TYPE_GRAY_KEY,
 3437                        		.dbg	line,	"include\tables_OBJECT.c", 133; TYPE_COIN_10,
 3438                        		.dbg	line,	"include\tables_OBJECT.c", 135; //
 3439                        		.dbg	line,	"include\tables_OBJECT.c", 136; TYPE_COIN_5,
 3440                        		.dbg	line,	"include\tables_OBJECT.c", 138; //
 3441                        		.dbg	line,	"include\tables_OBJECT.c", 139; TYPE_COIN_10,
 3442                        		.dbg	line,	"include\tables_OBJECT.c", 141; //
 3443                        		.dbg	line,	"include\tables_OBJECT.c", 142; TYPE_COIN_5,
 3444                        		.dbg	line,	"include\tables_OBJECT.c", 143; TYPE_COIN_10,
 3445                        		.dbg	line,	"include\tables_OBJECT.c", 145; //
 3446                        		.dbg	line,	"include\tables_OBJECT.c", 146; TYPE_GRAY_KEY,
 3447                        		.dbg	line,	"include\tables_OBJECT.c", 147; TYPE_COIN_5,
 3448                        		.dbg	line,	"include\tables_OBJECT.c", 148; TYPE_GRAY_KEY
 3449                        		.dbg	line,	"include\tables_OBJECT.c", 149; };
 3450                        		.dbg	line,	"include\tables_OBJECT.c", 151; // DOES NOT INCLUDE HIDDEN OBJECTS //
 3451                        		.dbg	line,	"include\tables_OBJECT.c", 152; const int              TABLE_REWARD_VRAM_ADR_LV1[OBJECT_NUMBER_LV1]  =     {
 3452                        		.dbg	line,	"include\tables_OBJECT.c", 153; TYPE_NULL,
 3453                        		.dbg	line,	"include\tables_OBJECT.c", 155; //
 3454                        		.dbg	line,	"include\tables_OBJECT.c", 156; GRAY_KEY_VRAM_ADR,
 3455                        		.dbg	line,	"include\tables_OBJECT.c", 158; //
 3456                        		.dbg	line,	"include\tables_OBJECT.c", 159; GRAY_KEY_VRAM_ADR,
 3457                        		.dbg	line,	"include\tables_OBJECT.c", 160; GRAY_KEY_VRAM_ADR,
 3458                        		.dbg	line,	"include\tables_OBJECT.c", 161; GRAY_KEY_VRAM_ADR,
 3459                        		.dbg	line,	"include\tables_OBJECT.c", 163; //
 3460                        		.dbg	line,	"include\tables_OBJECT.c", 164; GRAY_KEY_VRAM_ADR,
 3461                        		.dbg	line,	"include\tables_OBJECT.c", 165; COIN_10_VRAM_ADR,
 3462                        		.dbg	line,	"include\tables_OBJECT.c", 167; //
 3463                        		.dbg	line,	"include\tables_OBJECT.c", 168; GRAY_KEY_VRAM_ADR,
 3464                        		.dbg	line,	"include\tables_OBJECT.c", 170; //
 3465                        		.dbg	line,	"include\tables_OBJECT.c", 171; GRAY_KEY_VRAM_ADR,
 3466                        		.dbg	line,	"include\tables_OBJECT.c", 172; HOURGLASS_VRAM_ADR,
 3467                        		.dbg	line,	"include\tables_OBJECT.c", 174; //
 3468                        		.dbg	line,	"include\tables_OBJECT.c", 175; COIN_10_VRAM_ADR,
 3469                        		.dbg	line,	"include\tables_OBJECT.c", 177; //
 3470                        		.dbg	line,	"include\tables_OBJECT.c", 178; HOURGLASS_VRAM_ADR,
 3471                        		.dbg	line,	"include\tables_OBJECT.c", 179; GRAY_KEY_VRAM_ADR,
 3472                        		.dbg	line,	"include\tables_OBJECT.c", 180; COIN_10_VRAM_ADR,
 3473                        		.dbg	line,	"include\tables_OBJECT.c", 182; //
 3474                        		.dbg	line,	"include\tables_OBJECT.c", 183; GRAY_KEY_VRAM_ADR,
 3475                        		.dbg	line,	"include\tables_OBJECT.c", 184; COIN_10_VRAM_ADR,
 3476                        		.dbg	line,	"include\tables_OBJECT.c", 186; //
 3477                        		.dbg	line,	"include\tables_OBJECT.c", 187; COIN_5_VRAM_ADR,
 3478                        		.dbg	line,	"include\tables_OBJECT.c", 189; //
 3479                        		.dbg	line,	"include\tables_OBJECT.c", 190; COIN_10_VRAM_ADR,
 3480                        		.dbg	line,	"include\tables_OBJECT.c", 192; //
 3481                        		.dbg	line,	"include\tables_OBJECT.c", 193; COIN_5_VRAM_ADR,
 3482                        		.dbg	line,	"include\tables_OBJECT.c", 194; COIN_10_VRAM_ADR,
 3483                        		.dbg	line,	"include\tables_OBJECT.c", 196; //
 3484                        		.dbg	line,	"include\tables_OBJECT.c", 197; GRAY_KEY_VRAM_ADR,
 3485                        		.dbg	line,	"include\tables_OBJECT.c", 198; COIN_5_VRAM_ADR,
 3486                        		.dbg	line,	"include\tables_OBJECT.c", 199; GRAY_KEY_VRAM_ADR
 3487                        		.dbg	line,	"include\tables_OBJECT.c", 200; };
 3488                        		.dbg	line,	"include\tables_OBJECT.c", 205; const signed int        TABLE_CHEST_X_POS_REF_LV1[CHEST_NUMBER_LV1]   =     {
 3489                        		.dbg	line,	"include\tables_OBJECT.c", 206; 1072,
 3490                        		.dbg	line,	"include\tables_OBJECT.c", 207; 816
 3491                        		.dbg	line,	"include\tables_OBJECT.c", 208; };
 3492                        		.dbg	line,	"include\tables_OBJECT.c", 211; const signed int        TABLE_CHEST_Y_POS_REF_LV1[CHEST_NUMBER_LV1]   =     {
 3493                        		.dbg	line,	"include\tables_OBJECT.c", 212; 832,
 3494                        		.dbg	line,	"include\tables_OBJECT.c", 213; 848
 3495                        		.dbg	line,	"main.c", 19; };
 3496                        		.dbg	line,	"main.c", 20; #include "include/tables_PLAYER.c"
 3497                        		.dbg	line,	"include\tables_PLAYER.c", 3; const unsigned char     *TABLE_PLAYER_TILES_ADR[2]     =   {
 3498                        		.dbg	line,	"include\tables_PLAYER.c", 4; &tiles_SPR_PLAYER_ARMOR,
 3499                        		.dbg	line,	"include\tables_PLAYER.c", 5; &tiles_SPR_PLAYER_NAKED
 3500                        		.dbg	line,	"include\tables_PLAYER.c", 6; };
 3501                        		.dbg	line,	"include\tables_PLAYER.c", 9; const unsigned char     TABLE_PLAYER_TILES_BANK[2]     =   {
 3502                        		.dbg	line,	"include\tables_PLAYER.c", 10; ^tiles_SPR_PLAYER_ARMOR,
 3503                        		.dbg	line,	"include\tables_PLAYER.c", 11; ^tiles_SPR_PLAYER_NAKED
 3504                        		.dbg	line,	"include\tables_PLAYER.c", 12; };
 3505                        		.dbg	line,	"include\tables_PLAYER.c", 15; const signed char       TABLE_PLAYER_JUMP_V[35]     =   {
 3506                        		.dbg	line,	"include\tables_PLAYER.c", 16; // UPWARD
 3507                        		.dbg	line,	"include\tables_PLAYER.c", 17; -4,
 3508                        		.dbg	line,	"include\tables_PLAYER.c", 18; -5,
 3509                        		.dbg	line,	"include\tables_PLAYER.c", 19; -10,
 3510                        		.dbg	line,	"include\tables_PLAYER.c", 20; -4,
 3511                        		.dbg	line,	"include\tables_PLAYER.c", 21; -4,
 3512                        		.dbg	line,	"include\tables_PLAYER.c", 22; -7,
 3513                        		.dbg	line,	"include\tables_PLAYER.c", 23; -6,
 3514                        		.dbg	line,	"include\tables_PLAYER.c", 24; -3,
 3515                        		.dbg	line,	"include\tables_PLAYER.c", 25; -5,
 3516                        		.dbg	line,	"include\tables_PLAYER.c", 26; -2,
 3517                        		.dbg	line,	"include\tables_PLAYER.c", 27; -4,
 3518                        		.dbg	line,	"include\tables_PLAYER.c", 28; -1,
 3519                        		.dbg	line,	"include\tables_PLAYER.c", 29; -1,
 3520                        		.dbg	line,	"include\tables_PLAYER.c", 30; -1,
 3521                        		.dbg	line,	"include\tables_PLAYER.c", 31; -1,
 3522                        		.dbg	line,	"include\tables_PLAYER.c", 32; 0,
 3523                        		.dbg	line,	"include\tables_PLAYER.c", 33; 0,
 3524                        		.dbg	line,	"include\tables_PLAYER.c", 34; 0,
 3525                        		.dbg	line,	"include\tables_PLAYER.c", 35; 0,
 3526                        		.dbg	line,	"include\tables_PLAYER.c", 36; // DOWNWARD
 3527                        		.dbg	line,	"include\tables_PLAYER.c", 37; 1,
 3528                        		.dbg	line,	"include\tables_PLAYER.c", 38; 1,
 3529                        		.dbg	line,	"include\tables_PLAYER.c", 39; 1,
 3530                        		.dbg	line,	"include\tables_PLAYER.c", 40; 1,
 3531                        		.dbg	line,	"include\tables_PLAYER.c", 41; 4,
 3532                        		.dbg	line,	"include\tables_PLAYER.c", 42; 2,
 3533                        		.dbg	line,	"include\tables_PLAYER.c", 43; 5,
 3534                        		.dbg	line,	"include\tables_PLAYER.c", 44; 3,
 3535                        		.dbg	line,	"include\tables_PLAYER.c", 45; 6,
 3536                        		.dbg	line,	"include\tables_PLAYER.c", 46; 7,
 3537                        		.dbg	line,	"include\tables_PLAYER.c", 47; 4,
 3538                        		.dbg	line,	"include\tables_PLAYER.c", 48; 4,
 3539                        		.dbg	line,	"include\tables_PLAYER.c", 49; 10,
 3540                        		.dbg	line,	"include\tables_PLAYER.c", 50; 4,
 3541                        		.dbg	line,	"include\tables_PLAYER.c", 51; 4,
 3542                        		.dbg	line,	"include\tables_PLAYER.c", 52; 5
 3543                        		.dbg	line,	"include\tables_PLAYER.c", 53; };
 3544                        		.dbg	line,	"include\tables_PLAYER.c", 56; const signed char       TABLE_PLAYER_FALL[21]       =   {
 3545                        		.dbg	line,	"include\tables_PLAYER.c", 57; 0,
 3546                        		.dbg	line,	"include\tables_PLAYER.c", 58; 0,
 3547                        		.dbg	line,	"include\tables_PLAYER.c", 59; 0,
 3548                        		.dbg	line,	"include\tables_PLAYER.c", 60; 0,
 3549                        		.dbg	line,	"include\tables_PLAYER.c", 61; 1,
 3550                        		.dbg	line,	"include\tables_PLAYER.c", 62; 1,
 3551                        		.dbg	line,	"include\tables_PLAYER.c", 63; 1,
 3552                        		.dbg	line,	"include\tables_PLAYER.c", 64; 1,
 3553                        		.dbg	line,	"include\tables_PLAYER.c", 65; 2,
 3554                        		.dbg	line,	"include\tables_PLAYER.c", 66; 2,
 3555                        		.dbg	line,	"include\tables_PLAYER.c", 67; 2,
 3556                        		.dbg	line,	"include\tables_PLAYER.c", 68; 2,
 3557                        		.dbg	line,	"include\tables_PLAYER.c", 69; 3,
 3558                        		.dbg	line,	"include\tables_PLAYER.c", 70; 3,
 3559                        		.dbg	line,	"include\tables_PLAYER.c", 71; 3,
 3560                        		.dbg	line,	"include\tables_PLAYER.c", 72; 4,
 3561                        		.dbg	line,	"include\tables_PLAYER.c", 73; 4,
 3562                        		.dbg	line,	"include\tables_PLAYER.c", 74; 4,
 3563                        		.dbg	line,	"include\tables_PLAYER.c", 75; 4,
 3564                        		.dbg	line,	"include\tables_PLAYER.c", 76; 4,
 3565                        		.dbg	line,	"include\tables_PLAYER.c", 77; 5
 3566                        		.dbg	line,	"include\tables_PLAYER.c", 78; };
 3567                        		.dbg	line,	"include\tables_PLAYER.c", 81; const signed char       TABLE_PLAYER_JUMP_LADDER[30]    =   {
 3568                        		.dbg	line,	"include\tables_PLAYER.c", 82; // UPWARD
 3569                        		.dbg	line,	"include\tables_PLAYER.c", 83; -4,
 3570                        		.dbg	line,	"include\tables_PLAYER.c", 84; -4,
 3571                        		.dbg	line,	"include\tables_PLAYER.c", 85; -3,
 3572                        		.dbg	line,	"include\tables_PLAYER.c", 86; -3,
 3573                        		.dbg	line,	"include\tables_PLAYER.c", 87; -3,
 3574                        		.dbg	line,	"include\tables_PLAYER.c", 88; -2,
 3575                        		.dbg	line,	"include\tables_PLAYER.c", 89; -2,
 3576                        		.dbg	line,	"include\tables_PLAYER.c", 90; -2,
 3577                        		.dbg	line,	"include\tables_PLAYER.c", 91; -1,
 3578                        		.dbg	line,	"include\tables_PLAYER.c", 92; -1,
 3579                        		.dbg	line,	"include\tables_PLAYER.c", 93; -1,
 3580                        		.dbg	line,	"include\tables_PLAYER.c", 94; -1,
 3581                        		.dbg	line,	"include\tables_PLAYER.c", 95; -1,
 3582                        		.dbg	line,	"include\tables_PLAYER.c", 96; 0,
 3583                        		.dbg	line,	"include\tables_PLAYER.c", 97; 0,
 3584                        		.dbg	line,	"include\tables_PLAYER.c", 98; 0,
 3585                        		.dbg	line,	"include\tables_PLAYER.c", 99; 0,
 3586                        		.dbg	line,	"include\tables_PLAYER.c", 100; // DOWNWARD
 3587                        		.dbg	line,	"include\tables_PLAYER.c", 101; 1,
 3588                        		.dbg	line,	"include\tables_PLAYER.c", 102; 1,
 3589                        		.dbg	line,	"include\tables_PLAYER.c", 103; 1,
 3590                        		.dbg	line,	"include\tables_PLAYER.c", 104; 1,
 3591                        		.dbg	line,	"include\tables_PLAYER.c", 105; 1,
 3592                        		.dbg	line,	"include\tables_PLAYER.c", 106; 2,
 3593                        		.dbg	line,	"include\tables_PLAYER.c", 107; 2,
 3594                        		.dbg	line,	"include\tables_PLAYER.c", 108; 2,
 3595                        		.dbg	line,	"include\tables_PLAYER.c", 109; 3,
 3596                        		.dbg	line,	"include\tables_PLAYER.c", 110; 3,
 3597                        		.dbg	line,	"include\tables_PLAYER.c", 111; 3,
 3598                        		.dbg	line,	"include\tables_PLAYER.c", 112; 4,
 3599                        		.dbg	line,	"include\tables_PLAYER.c", 113; 4
 3600                        		.dbg	line,	"include\tables_PLAYER.c", 114; };
 3601                        		.dbg	line,	"include\tables_PLAYER.c", 123; const unsigned char     *TABLE_WEAPON_TILES_ADR[5]     =   {
 3602                        		.dbg	line,	"include\tables_PLAYER.c", 124; &tiles_SPR_WEAPON_0,
 3603                        		.dbg	line,	"include\tables_PLAYER.c", 125; &tiles_SPR_WEAPON_1,
 3604                        		.dbg	line,	"include\tables_PLAYER.c", 126; &tiles_SPR_WEAPON_2,
 3605                        		.dbg	line,	"include\tables_PLAYER.c", 127; &tiles_SPR_WEAPON_3,
 3606                        		.dbg	line,	"include\tables_PLAYER.c", 128; &tiles_SPR_WEAPON_4
 3607                        		.dbg	line,	"include\tables_PLAYER.c", 129; };
 3608                        		.dbg	line,	"include\tables_PLAYER.c", 132; const unsigned char     TABLE_WEAPON_TILES_BANK[5]     =   {
 3609                        		.dbg	line,	"include\tables_PLAYER.c", 133; ^tiles_SPR_WEAPON_0,
 3610                        		.dbg	line,	"include\tables_PLAYER.c", 134; ^tiles_SPR_WEAPON_1,
 3611                        		.dbg	line,	"include\tables_PLAYER.c", 135; ^tiles_SPR_WEAPON_2,
 3612                        		.dbg	line,	"include\tables_PLAYER.c", 136; ^tiles_SPR_WEAPON_3,
 3613                        		.dbg	line,	"include\tables_PLAYER.c", 137; ^tiles_SPR_WEAPON_4
 3614                        		.dbg	line,	"main.c", 20; };
 3615                        		.dbg	line,	"main.c", 21; #include "include/tables_SHOP.c"
 3616                        		.dbg	line,	"include\tables_SHOP.c", 1; //-----------------------------------------------------------------------------//
 3617                        		.dbg	line,	"include\tables_SHOP.c", 2; //                                                                             //
 3618                        		.dbg	line,	"include\tables_SHOP.c", 3; //                                   LEVEL 1                                   //
 3619                        		.dbg	line,	"include\tables_SHOP.c", 4; //                                                                             //
 3620                        		.dbg	line,	"include\tables_SHOP.c", 5; //-----------------------------------------------------------------------------//
 3621                        		.dbg	line,	"include\tables_SHOP.c", 7; const char              TABLE_SHOP_ITEMS_LV1[10]        =   {
 3622                        		.dbg	line,	"include\tables_SHOP.c", 8; TYPE_ITEM_WEAPON_2,
 3623                        		.dbg	line,	"include\tables_SHOP.c", 9; TYPE_ITEM_WEAPON_3,
 3624                        		.dbg	line,	"include\tables_SHOP.c", 10; TYPE_ITEM_WEAPON_4,
 3625                        		.dbg	line,	"include\tables_SHOP.c", 11; TYPE_ITEM_WEAPON_5,
 3626                        		.dbg	line,	"include\tables_SHOP.c", 12; TYPE_ITEM_KEY,
 3627                        		.dbg	line,	"include\tables_SHOP.c", 14; TYPE_ITEM_ARMOR_2,
 3628                        		.dbg	line,	"include\tables_SHOP.c", 15; TYPE_ITEM_ARMOR_3,
 3629                        		.dbg	line,	"include\tables_SHOP.c", 16; TYPE_ITEM_ARMOR_4,
 3630                        		.dbg	line,	"include\tables_SHOP.c", 17; TYPE_ITEM_ARMOR_5,
 3631                        		.dbg	line,	"include\tables_SHOP.c", 18; TYPE_ITEM_POTION
 3632                        		.dbg	line,	"include\tables_SHOP.c", 19; };
 3633                        		.dbg	line,	"include\tables_SHOP.c", 22; const int               TABLE_SHOP_PRICES_LV1[10]       =   {
 3634                        		.dbg	line,	"include\tables_SHOP.c", 23; 100,
 3635                        		.dbg	line,	"include\tables_SHOP.c", 24; 1000,
 3636                        		.dbg	line,	"include\tables_SHOP.c", 25; 2400,
 3637                        		.dbg	line,	"include\tables_SHOP.c", 26; 9600,
 3638                        		.dbg	line,	"include\tables_SHOP.c", 27; 30,
 3639                        		.dbg	line,	"include\tables_SHOP.c", 28; 80,
 3640                        		.dbg	line,	"include\tables_SHOP.c", 29; 300,
 3641                        		.dbg	line,	"include\tables_SHOP.c", 30; 800,
 3642                        		.dbg	line,	"include\tables_SHOP.c", 31; 1600,
 3643                        		.dbg	line,	"include\tables_SHOP.c", 32; 150
 3644                        		.dbg	line,	"include\tables_SHOP.c", 33; };
 3645                        		.dbg	line,	"include\tables_SHOP.c", 36; const unsigned char     *TABLE_SHOP_ITEMS_TILES_ADR[10]     =   {
 3646                        		.dbg	line,	"include\tables_SHOP.c", 37; &tiles_ITEM_WEAPON_2,
 3647                        		.dbg	line,	"include\tables_SHOP.c", 38; &tiles_ITEM_WEAPON_3,
 3648                        		.dbg	line,	"include\tables_SHOP.c", 39; &tiles_ITEM_WEAPON_4,
 3649                        		.dbg	line,	"include\tables_SHOP.c", 40; &tiles_ITEM_WEAPON_5,
 3650                        		.dbg	line,	"include\tables_SHOP.c", 41; &tiles_ITEM_KEY,
 3651                        		.dbg	line,	"include\tables_SHOP.c", 42; &tiles_ITEM_ARMOR_2,
 3652                        		.dbg	line,	"include\tables_SHOP.c", 43; &tiles_ITEM_ARMOR_3,
 3653                        		.dbg	line,	"include\tables_SHOP.c", 44; &tiles_ITEM_ARMOR_4,
 3654                        		.dbg	line,	"include\tables_SHOP.c", 45; &tiles_ITEM_ARMOR_5,
 3655                        		.dbg	line,	"include\tables_SHOP.c", 46; &tiles_ITEM_POTION
 3656                        		.dbg	line,	"include\tables_SHOP.c", 47; };
 3657                        		.dbg	line,	"include\tables_SHOP.c", 50; const unsigned char     TABLE_SHOP_ITEMS_TILES_BANK[10]     =   {
 3658                        		.dbg	line,	"include\tables_SHOP.c", 51; ^tiles_ITEM_WEAPON_2,
 3659                        		.dbg	line,	"include\tables_SHOP.c", 52; ^tiles_ITEM_WEAPON_3,
 3660                        		.dbg	line,	"include\tables_SHOP.c", 53; ^tiles_ITEM_WEAPON_4,
 3661                        		.dbg	line,	"include\tables_SHOP.c", 54; ^tiles_ITEM_WEAPON_5,
 3662                        		.dbg	line,	"include\tables_SHOP.c", 55; ^tiles_ITEM_KEY,
 3663                        		.dbg	line,	"include\tables_SHOP.c", 56; ^tiles_ITEM_ARMOR_2,
 3664                        		.dbg	line,	"include\tables_SHOP.c", 57; ^tiles_ITEM_ARMOR_3,
 3665                        		.dbg	line,	"include\tables_SHOP.c", 58; ^tiles_ITEM_ARMOR_4,
 3666                        		.dbg	line,	"include\tables_SHOP.c", 59; ^tiles_ITEM_ARMOR_5,
 3667                        		.dbg	line,	"include\tables_SHOP.c", 60; ^tiles_ITEM_POTION
 3668                        		.dbg	line,	"include\tables_SHOP.c", 61; };
 3669                        		.dbg	line,	"include\tables_SHOP.c", 64; const char              TABLE_CURSOR_POS_X[11]              =   {
 3670                        		.dbg	line,	"include\tables_SHOP.c", 65; 24,
 3671                        		.dbg	line,	"include\tables_SHOP.c", 66; 56,
 3672                        		.dbg	line,	"include\tables_SHOP.c", 67; 96,
 3673                        		.dbg	line,	"include\tables_SHOP.c", 68; 136,
 3674                        		.dbg	line,	"include\tables_SHOP.c", 69; 176,
 3675                        		.dbg	line,	"include\tables_SHOP.c", 70; 24,
 3676                        		.dbg	line,	"include\tables_SHOP.c", 71; 56,
 3677                        		.dbg	line,	"include\tables_SHOP.c", 72; 96,
 3678                        		.dbg	line,	"include\tables_SHOP.c", 73; 136,
 3679                        		.dbg	line,	"include\tables_SHOP.c", 74; 176,
 3680                        		.dbg	line,	"include\tables_SHOP.c", 75; 212
 3681                        		.dbg	line,	"include\tables_SHOP.c", 76; };
 3682                        		.dbg	line,	"main.c", 25; #include "include/routines_ENTER_SHOP.c"
 3683                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 1; #include "huc.h"
 3684                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 3685                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 3686                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 3687                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 3688                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 3689                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 3690                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 3691                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 3692                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 3693                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 3694                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 3695                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 3696                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 3697                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 3698                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 3699                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 3700                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 3701                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 3702                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 3703                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 3704                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 3705                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 3706                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 3707                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 3708                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 3709                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 3710                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 3711                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 3712                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 3713                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 3714                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 3715                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 3716                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 3717                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
 3718                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
 3719                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
 3720                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
 3721                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
 3722                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
 3723                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
 3724                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 2; #include "hucc-scroll.h"
 3725                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
 3726                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
 3727                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
 3728                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
 3729                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
 3730                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
 3731                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
 3732                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
 3733                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
 3734                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
 3735                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
 3736                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 3737                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 3738                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 3739                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
 3740                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
 3741                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
 3742                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
 3743                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
 3744                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
 3745                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
 3746                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
 3747                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
 3748                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
 3749                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
 3750                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
 3751                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
 3752                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
 3753                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
 3754                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
 3755                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
 3756                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
 3757                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
 3758                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
 3759                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
 3760                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
 3761                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
 3762                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
 3763                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
 3764                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
 3765                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
 3766                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
 3767                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
 3768                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
 3769                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
 3770                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
 3771                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
 3772                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
 3773                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
 3774                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
 3775                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
 3776                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
 3777                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
 3778                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 3779                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 3780                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
 3781                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
 3782                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
 3783                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
 3784                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
 3785                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
 3786                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
 3787                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
 3788                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
 3789                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
 3790                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
 3791                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
 3792                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
 3793                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
 3794                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
 3795                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
 3796                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
 3797                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
 3798                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
 3799                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
 3800                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
 3801                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
 3802                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 3; #include "hucc-chrmap.h"
 3803                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
 3804                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
 3805                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
 3806                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
 3807                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
 3808                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
 3809                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
 3810                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
 3811                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
 3812                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
 3813                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
 3814                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 3815                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 3816                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 3817                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
 3818                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
 3819                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
 3820                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
 3821                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
 3822                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
 3823                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
 3824                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
 3825                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
 3826                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
 3827                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
 3828                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
 3829                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
 3830                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
 3831                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
 3832                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 3833                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 3834                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 3835                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 3836                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 3837                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 3838                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 3839                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 3840                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 3841                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 3842                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 3843                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 3844                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 3845                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 3846                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 3847                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 3848                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 3849                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 4; #include "hucc-blkmap.h"
 3850                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 3851                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 3852                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 3853                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 3854                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 3855                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 3856                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 3857                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 3858                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 3859                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 3860                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 3861                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 3862                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 3863                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 3864                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 3865                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 3866                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 3867                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 3868                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 3869                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 3870                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 3871                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 3872                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 3873                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 3874                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 3875                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 3876                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 3877                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 3878                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 3879                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 3880                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 3881                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 3882                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 3883                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 3884                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 3885                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 3886                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 3887                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 3888                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 3889                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 3890                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 3891                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 3892                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 3893                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 3894                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 3895                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 3896                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 3897                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 3898                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 3899                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 3900                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 3901                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 3902                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 3903                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 3904                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 3905                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 3906                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 3907                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 3908                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 3909                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 3910                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 3911                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 3912                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 3913                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 3914                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 3915                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 3916                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 3917                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 3918                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 3919                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 3920                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 3921                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 3922                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 3923                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 3924                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 3925                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 3926                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 3927                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 3928                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 3929                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 3930                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 3931                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 3932                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 3933                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 3934                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 3935                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 3936                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 3937                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 3938                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 3939                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 3940                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 3941                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 3942                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 3943                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 3944                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 3945                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 3946                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 3947                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 3948                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 3949                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 3950                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 3951                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 3952                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 3953                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 3954                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 3955                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 3956                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 3957                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 3958                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 3959                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 3960                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 3961                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 3962                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 3963                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 3964                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 3965                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 3966                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 3967                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 3968                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 3969                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 3970                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 3971                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 13; void sequence_ENTER_SHOP()
 3972                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 14; {
 3973                        	;***********************
 3974                        	;***********************
 3975                        	
 3976                        		.hucc
 3977    1F:C000             		.proc		_sequence_ENTER_SHOP
 3978                        		__enter		_sequence_ENTER_SHOP
 3979                        	
 3980                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 15; vsync();
 3981                        		__call		_vsync
         1F:C000  20 1D E3   			call	_vsync
 3982                        	
 3983                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 16; 
 3984                        	
 3985                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 17; global_counter += 1;
 3986                        		__add_st.wmiq	1, _global_counter
         1F:C003  EE 51 26   			inc.l	_global_counter
         1F:C006  D0 03      			bne	!+
         1F:C008  EE 52 26   			inc.h	_global_counter
         1F:C00B             	!:
 3987                        	
 3988                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 19; if(global_counter == 4)
 3989                        		__ld.wm		_global_counter
         1F:C00B  AD 51 26   			lda.l	_global_counter
         1F:C00E  AC 52 26   			ldy.h	_global_counter
 3990                        		__equ_w.wi	4
         1F:C011  C9 04      			cmp.l	#4
         1F:C013  D0 04      			bne	!false+
         1F:C015  C0 00      			cpy.h	#4
         1F:C017  F0 01      			beq	!+
         1F:C019  18         	!false:		clc
         1F:C01A             	!:
 3991                        		__bfalse	.LL3
         1F:C01A  90 0F      			bcc	.LL3
 3992                        	
 3993                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 20; {
 3994                        	
 3995                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 21; sgx_spr_set(selected_npc);
 3996                        		__ld.umq	_selected_npc
         1F:C01C  AD D5 23   			lda	_selected_npc
 3997                        		__call		_sgx_spr_set.1
         1F:C01F  20 9E E8   			call	_sgx_spr_set.1
 3998                        	
 3999                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 22; sgx_spr_pattern(NPC_2_VRAM_ADR);
 4000                        		__ld.wi		30208
         1F:C022  62         			cla
         1F:C023  A0 76      			ldy.h	#30208
 4001                        		__call		_sgx_spr_pattern.1
         1F:C025  20 E7 E8   			call	_sgx_spr_pattern.1
 4002                        	
 4003                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 23; }
 4004                        	
 4005                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 25; else if(global_counter == 8)
 4006                        		__bra		.LL4
         1F:C028  4C 69 C2   			bra	.LL4
 4007    1F:C02B             	.LL3:
 4008                        		__ld.wm		_global_counter
         1F:C02B  AD 51 26   			lda.l	_global_counter
         1F:C02E  AC 52 26   			ldy.h	_global_counter
 4009                        		__equ_w.wi	8
         1F:C031  C9 08      			cmp.l	#8
         1F:C033  D0 04      			bne	!false+
         1F:C035  C0 00      			cpy.h	#8
         1F:C037  F0 01      			beq	!+
         1F:C039  18         	!false:		clc
         1F:C03A             	!:
 4010                        		__bfalse	.LL5
         1F:C03A  90 0F      			bcc	.LL5
 4011                        	
 4012                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 26; {
 4013                        	
 4014                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 27; sgx_spr_set(selected_npc);
 4015                        		__ld.umq	_selected_npc
         1F:C03C  AD D5 23   			lda	_selected_npc
 4016                        		__call		_sgx_spr_set.1
         1F:C03F  20 9E E8   			call	_sgx_spr_set.1
 4017                        	
 4018                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 28; sgx_spr_pattern(NPC_1_VRAM_ADR);
 4019                        		__ld.wi		29952
         1F:C042  62         			cla
         1F:C043  A0 75      			ldy.h	#29952
 4020                        		__call		_sgx_spr_pattern.1
         1F:C045  20 E7 E8   			call	_sgx_spr_pattern.1
 4021                        	
 4022                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 29; }
 4023                        	
 4024                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 31; else if(global_counter == 12)
 4025                        		__bra		.LL6
         1F:C048  4C 69 C2   			bra	.LL6
 4026    1F:C04B             	.LL5:
 4027                        		__ld.wm		_global_counter
         1F:C04B  AD 51 26   			lda.l	_global_counter
         1F:C04E  AC 52 26   			ldy.h	_global_counter
 4028                        		__equ_w.wi	12
         1F:C051  C9 0C      			cmp.l	#12
         1F:C053  D0 04      			bne	!false+
         1F:C055  C0 00      			cpy.h	#12
         1F:C057  F0 01      			beq	!+
         1F:C059  18         	!false:		clc
         1F:C05A             	!:
 4029                        		__bfalse	.LL7
         1F:C05A  90 0F      			bcc	.LL7
 4030                        	
 4031                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 32; {
 4032                        	
 4033                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 33; sgx_spr_set(selected_npc);
 4034                        		__ld.umq	_selected_npc
         1F:C05C  AD D5 23   			lda	_selected_npc
 4035                        		__call		_sgx_spr_set.1
         1F:C05F  20 9E E8   			call	_sgx_spr_set.1
 4036                        	
 4037                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 34; sgx_spr_pattern(NPC_2_VRAM_ADR);
 4038                        		__ld.wi		30208
         1F:C062  62         			cla
         1F:C063  A0 76      			ldy.h	#30208
 4039                        		__call		_sgx_spr_pattern.1
         1F:C065  20 E7 E8   			call	_sgx_spr_pattern.1
 4040                        	
 4041                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 35; }
 4042                        	
 4043                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 37; else if(global_counter == 16)
 4044                        		__bra		.LL8
         1F:C068  4C 69 C2   			bra	.LL8
 4045    1F:C06B             	.LL7:
 4046                        		__ld.wm		_global_counter
         1F:C06B  AD 51 26   			lda.l	_global_counter
         1F:C06E  AC 52 26   			ldy.h	_global_counter
 4047                        		__equ_w.wi	16
         1F:C071  C9 10      			cmp.l	#16
         1F:C073  D0 04      			bne	!false+
         1F:C075  C0 00      			cpy.h	#16
         1F:C077  F0 01      			beq	!+
         1F:C079  18         	!false:		clc
         1F:C07A             	!:
 4048                        		__bfalse	.LL9
         1F:C07A  90 0F      			bcc	.LL9
 4049                        	
 4050                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 38; {
 4051                        	
 4052                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 39; sgx_spr_set(selected_npc);
 4053                        		__ld.umq	_selected_npc
         1F:C07C  AD D5 23   			lda	_selected_npc
 4054                        		__call		_sgx_spr_set.1
         1F:C07F  20 9E E8   			call	_sgx_spr_set.1
 4055                        	
 4056                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 40; sgx_spr_pattern(NPC_1_VRAM_ADR);
 4057                        		__ld.wi		29952
         1F:C082  62         			cla
         1F:C083  A0 75      			ldy.h	#29952
 4058                        		__call		_sgx_spr_pattern.1
         1F:C085  20 E7 E8   			call	_sgx_spr_pattern.1
 4059                        	
 4060                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 41; }
 4061                        	
 4062                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 43; else if(global_counter == 20)
 4063                        		__bra		.LL10
         1F:C088  4C 69 C2   			bra	.LL10
 4064    1F:C08B             	.LL9:
 4065                        		__ld.wm		_global_counter
         1F:C08B  AD 51 26   			lda.l	_global_counter
         1F:C08E  AC 52 26   			ldy.h	_global_counter
 4066                        		__equ_w.wi	20
         1F:C091  C9 14      			cmp.l	#20
         1F:C093  D0 04      			bne	!false+
         1F:C095  C0 00      			cpy.h	#20
         1F:C097  F0 01      			beq	!+
         1F:C099  18         	!false:		clc
         1F:C09A             	!:
 4067                        		__bfalse	.LL11
         1F:C09A  90 0F      			bcc	.LL11
 4068                        	
 4069                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 44; {
 4070                        	
 4071                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 45; sgx_spr_set(selected_npc);
 4072                        		__ld.umq	_selected_npc
         1F:C09C  AD D5 23   			lda	_selected_npc
 4073                        		__call		_sgx_spr_set.1
         1F:C09F  20 9E E8   			call	_sgx_spr_set.1
 4074                        	
 4075                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 46; sgx_spr_pattern(NPC_2_VRAM_ADR);
 4076                        		__ld.wi		30208
         1F:C0A2  62         			cla
         1F:C0A3  A0 76      			ldy.h	#30208
 4077                        		__call		_sgx_spr_pattern.1
         1F:C0A5  20 E7 E8   			call	_sgx_spr_pattern.1
 4078                        	
 4079                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 47; }
 4080                        	
 4081                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 49; else if(global_counter == 24)
 4082                        		__bra		.LL12
         1F:C0A8  4C 69 C2   			bra	.LL12
 4083    1F:C0AB             	.LL11:
 4084                        		__ld.wm		_global_counter
         1F:C0AB  AD 51 26   			lda.l	_global_counter
         1F:C0AE  AC 52 26   			ldy.h	_global_counter
 4085                        		__equ_w.wi	24
         1F:C0B1  C9 18      			cmp.l	#24
         1F:C0B3  D0 04      			bne	!false+
         1F:C0B5  C0 00      			cpy.h	#24
         1F:C0B7  F0 01      			beq	!+
         1F:C0B9  18         	!false:		clc
         1F:C0BA             	!:
 4086                        		__bfalse	.LL13
         1F:C0BA  90 0F      			bcc	.LL13
 4087                        	
 4088                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 50; {
 4089                        	
 4090                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 51; sgx_spr_set(selected_npc);
 4091                        		__ld.umq	_selected_npc
         1F:C0BC  AD D5 23   			lda	_selected_npc
 4092                        		__call		_sgx_spr_set.1
         1F:C0BF  20 9E E8   			call	_sgx_spr_set.1
 4093                        	
 4094                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 52; sgx_spr_pattern(NPC_1_VRAM_ADR);
 4095                        		__ld.wi		29952
         1F:C0C2  62         			cla
         1F:C0C3  A0 75      			ldy.h	#29952
 4096                        		__call		_sgx_spr_pattern.1
         1F:C0C5  20 E7 E8   			call	_sgx_spr_pattern.1
 4097                        	
 4098                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 53; }
 4099                        	
 4100                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 55; else if(global_counter == 28)
 4101                        		__bra		.LL14
         1F:C0C8  4C 69 C2   			bra	.LL14
 4102    1F:C0CB             	.LL13:
 4103                        		__ld.wm		_global_counter
         1F:C0CB  AD 51 26   			lda.l	_global_counter
         1F:C0CE  AC 52 26   			ldy.h	_global_counter
 4104                        		__equ_w.wi	28
         1F:C0D1  C9 1C      			cmp.l	#28
         1F:C0D3  D0 04      			bne	!false+
         1F:C0D5  C0 00      			cpy.h	#28
         1F:C0D7  F0 01      			beq	!+
         1F:C0D9  18         	!false:		clc
         1F:C0DA             	!:
 4105                        		__bfalse	.LL15
         1F:C0DA  90 0F      			bcc	.LL15
 4106                        	
 4107                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 56; {
 4108                        	
 4109                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 57; sgx_spr_set(selected_npc);
 4110                        		__ld.umq	_selected_npc
         1F:C0DC  AD D5 23   			lda	_selected_npc
 4111                        		__call		_sgx_spr_set.1
         1F:C0DF  20 9E E8   			call	_sgx_spr_set.1
 4112                        	
 4113                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 58; sgx_spr_pattern(NPC_2_VRAM_ADR);
 4114                        		__ld.wi		30208
         1F:C0E2  62         			cla
         1F:C0E3  A0 76      			ldy.h	#30208
 4115                        		__call		_sgx_spr_pattern.1
         1F:C0E5  20 E7 E8   			call	_sgx_spr_pattern.1
 4116                        	
 4117                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 59; }
 4118                        	
 4119                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 61; else if(global_counter == 32)
 4120                        		__bra		.LL16
         1F:C0E8  4C 69 C2   			bra	.LL16
 4121    1F:C0EB             	.LL15:
 4122                        		__ld.wm		_global_counter
         1F:C0EB  AD 51 26   			lda.l	_global_counter
         1F:C0EE  AC 52 26   			ldy.h	_global_counter
 4123                        		__equ_w.wi	32
         1F:C0F1  C9 20      			cmp.l	#32
         1F:C0F3  D0 04      			bne	!false+
         1F:C0F5  C0 00      			cpy.h	#32
         1F:C0F7  F0 01      			beq	!+
         1F:C0F9  18         	!false:		clc
         1F:C0FA             	!:
 4124                        		__bfalse	.LL17
         1F:C0FA  90 0F      			bcc	.LL17
 4125                        	
 4126                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 62; {
 4127                        	
 4128                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 63; sgx_spr_set(selected_npc);
 4129                        		__ld.umq	_selected_npc
         1F:C0FC  AD D5 23   			lda	_selected_npc
 4130                        		__call		_sgx_spr_set.1
         1F:C0FF  20 9E E8   			call	_sgx_spr_set.1
 4131                        	
 4132                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 64; sgx_spr_pattern(NPC_1_VRAM_ADR);
 4133                        		__ld.wi		29952
         1F:C102  62         			cla
         1F:C103  A0 75      			ldy.h	#29952
 4134                        		__call		_sgx_spr_pattern.1
         1F:C105  20 E7 E8   			call	_sgx_spr_pattern.1
 4135                        	
 4136                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 65; }
 4137                        	
 4138                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 67; else if(global_counter == 36)
 4139                        		__bra		.LL18
         1F:C108  4C 69 C2   			bra	.LL18
 4140    1F:C10B             	.LL17:
 4141                        		__ld.wm		_global_counter
         1F:C10B  AD 51 26   			lda.l	_global_counter
         1F:C10E  AC 52 26   			ldy.h	_global_counter
 4142                        		__equ_w.wi	36
         1F:C111  C9 24      			cmp.l	#36
         1F:C113  D0 04      			bne	!false+
         1F:C115  C0 00      			cpy.h	#36
         1F:C117  F0 01      			beq	!+
         1F:C119  18         	!false:		clc
         1F:C11A             	!:
 4143                        		__bfalse	.LL19
         1F:C11A  90 0F      			bcc	.LL19
 4144                        	
 4145                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 68; {
 4146                        	
 4147                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 69; sgx_spr_set(selected_npc);
 4148                        		__ld.umq	_selected_npc
         1F:C11C  AD D5 23   			lda	_selected_npc
 4149                        		__call		_sgx_spr_set.1
         1F:C11F  20 9E E8   			call	_sgx_spr_set.1
 4150                        	
 4151                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 70; sgx_spr_pattern(NPC_2_VRAM_ADR);
 4152                        		__ld.wi		30208
         1F:C122  62         			cla
         1F:C123  A0 76      			ldy.h	#30208
 4153                        		__call		_sgx_spr_pattern.1
         1F:C125  20 E7 E8   			call	_sgx_spr_pattern.1
 4154                        	
 4155                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 71; }
 4156                        	
 4157                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 73; else if(global_counter == 40)
 4158                        		__bra		.LL20
         1F:C128  4C 69 C2   			bra	.LL20
 4159    1F:C12B             	.LL19:
 4160                        		__ld.wm		_global_counter
         1F:C12B  AD 51 26   			lda.l	_global_counter
         1F:C12E  AC 52 26   			ldy.h	_global_counter
 4161                        		__equ_w.wi	40
         1F:C131  C9 28      			cmp.l	#40
         1F:C133  D0 04      			bne	!false+
         1F:C135  C0 00      			cpy.h	#40
         1F:C137  F0 01      			beq	!+
         1F:C139  18         	!false:		clc
         1F:C13A             	!:
 4162                        		__bfalse	.LL21
         1F:C13A  90 0F      			bcc	.LL21
 4163                        	
 4164                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 74; {
 4165                        	
 4166                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 75; sgx_spr_set(selected_npc);
 4167                        		__ld.umq	_selected_npc
         1F:C13C  AD D5 23   			lda	_selected_npc
 4168                        		__call		_sgx_spr_set.1
         1F:C13F  20 9E E8   			call	_sgx_spr_set.1
 4169                        	
 4170                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 76; sgx_spr_pattern(NPC_1_VRAM_ADR);
 4171                        		__ld.wi		29952
         1F:C142  62         			cla
         1F:C143  A0 75      			ldy.h	#29952
 4172                        		__call		_sgx_spr_pattern.1
         1F:C145  20 E7 E8   			call	_sgx_spr_pattern.1
 4173                        	
 4174                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 77; }
 4175                        	
 4176                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 79; else if(global_counter == 44)
 4177                        		__bra		.LL22
         1F:C148  4C 69 C2   			bra	.LL22
 4178    1F:C14B             	.LL21:
 4179                        		__ld.wm		_global_counter
         1F:C14B  AD 51 26   			lda.l	_global_counter
         1F:C14E  AC 52 26   			ldy.h	_global_counter
 4180                        		__equ_w.wi	44
         1F:C151  C9 2C      			cmp.l	#44
         1F:C153  D0 04      			bne	!false+
         1F:C155  C0 00      			cpy.h	#44
         1F:C157  F0 01      			beq	!+
         1F:C159  18         	!false:		clc
         1F:C15A             	!:
 4181                        		__bfalse	.LL23
         1F:C15A  90 0F      			bcc	.LL23
 4182                        	
 4183                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 80; {
 4184                        	
 4185                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 81; sgx_spr_set(selected_npc);
 4186                        		__ld.umq	_selected_npc
         1F:C15C  AD D5 23   			lda	_selected_npc
 4187                        		__call		_sgx_spr_set.1
         1F:C15F  20 9E E8   			call	_sgx_spr_set.1
 4188                        	
 4189                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 82; sgx_spr_pattern(NPC_2_VRAM_ADR);
 4190                        		__ld.wi		30208
         1F:C162  62         			cla
         1F:C163  A0 76      			ldy.h	#30208
 4191                        		__call		_sgx_spr_pattern.1
         1F:C165  20 E7 E8   			call	_sgx_spr_pattern.1
 4192                        	
 4193                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 83; }
 4194                        	
 4195                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 85; else if(global_counter == 48)
 4196                        		__bra		.LL24
         1F:C168  4C 69 C2   			bra	.LL24
 4197    1F:C16B             	.LL23:
 4198                        		__ld.wm		_global_counter
         1F:C16B  AD 51 26   			lda.l	_global_counter
         1F:C16E  AC 52 26   			ldy.h	_global_counter
 4199                        		__equ_w.wi	48
         1F:C171  C9 30      			cmp.l	#48
         1F:C173  D0 04      			bne	!false+
         1F:C175  C0 00      			cpy.h	#48
         1F:C177  F0 01      			beq	!+
         1F:C179  18         	!false:		clc
         1F:C17A             	!:
 4200                        		__bfalse	.LL25
         1F:C17A  90 0F      			bcc	.LL25
 4201                        	
 4202                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 86; {
 4203                        	
 4204                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 87; sgx_spr_set(selected_npc);
 4205                        		__ld.umq	_selected_npc
         1F:C17C  AD D5 23   			lda	_selected_npc
 4206                        		__call		_sgx_spr_set.1
         1F:C17F  20 9E E8   			call	_sgx_spr_set.1
 4207                        	
 4208                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 88; sgx_spr_pattern(NPC_1_VRAM_ADR);
 4209                        		__ld.wi		29952
         1F:C182  62         			cla
         1F:C183  A0 75      			ldy.h	#29952
 4210                        		__call		_sgx_spr_pattern.1
         1F:C185  20 E7 E8   			call	_sgx_spr_pattern.1
 4211                        	
 4212                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 89; }
 4213                        	
 4214                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 91; else if(global_counter == 52)
 4215                        		__bra		.LL26
         1F:C188  4C 69 C2   			bra	.LL26
 4216    1F:C18B             	.LL25:
 4217                        		__ld.wm		_global_counter
         1F:C18B  AD 51 26   			lda.l	_global_counter
         1F:C18E  AC 52 26   			ldy.h	_global_counter
 4218                        		__equ_w.wi	52
         1F:C191  C9 34      			cmp.l	#52
         1F:C193  D0 04      			bne	!false+
         1F:C195  C0 00      			cpy.h	#52
         1F:C197  F0 01      			beq	!+
         1F:C199  18         	!false:		clc
         1F:C19A             	!:
 4219                        		__bfalse	.LL27
         1F:C19A  90 0F      			bcc	.LL27
 4220                        	
 4221                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 92; {
 4222                        	
 4223                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 93; sgx_spr_set(selected_npc);
 4224                        		__ld.umq	_selected_npc
         1F:C19C  AD D5 23   			lda	_selected_npc
 4225                        		__call		_sgx_spr_set.1
         1F:C19F  20 9E E8   			call	_sgx_spr_set.1
 4226                        	
 4227                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 94; sgx_spr_pattern(NPC_2_VRAM_ADR);
 4228                        		__ld.wi		30208
         1F:C1A2  62         			cla
         1F:C1A3  A0 76      			ldy.h	#30208
 4229                        		__call		_sgx_spr_pattern.1
         1F:C1A5  20 E7 E8   			call	_sgx_spr_pattern.1
 4230                        	
 4231                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 95; }
 4232                        	
 4233                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 97; else if(global_counter == 76)
 4234                        		__bra		.LL28
         1F:C1A8  4C 69 C2   			bra	.LL28
 4235    1F:C1AB             	.LL27:
 4236                        		__ld.wm		_global_counter
         1F:C1AB  AD 51 26   			lda.l	_global_counter
         1F:C1AE  AC 52 26   			ldy.h	_global_counter
 4237                        		__equ_w.wi	76
         1F:C1B1  C9 4C      			cmp.l	#76
         1F:C1B3  D0 04      			bne	!false+
         1F:C1B5  C0 00      			cpy.h	#76
         1F:C1B7  F0 01      			beq	!+
         1F:C1B9  18         	!false:		clc
         1F:C1BA             	!:
 4238                        		__bfalse	.LL29
         1F:C1BA  90 0F      			bcc	.LL29
 4239                        	
 4240                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 98; {
 4241                        	
 4242                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 99; sgx_spr_set(selected_npc);
 4243                        		__ld.umq	_selected_npc
         1F:C1BC  AD D5 23   			lda	_selected_npc
 4244                        		__call		_sgx_spr_set.1
         1F:C1BF  20 9E E8   			call	_sgx_spr_set.1
 4245                        	
 4246                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 100; sgx_spr_pattern(NPC_3_VRAM_ADR);
 4247                        		__ld.wi		30464
         1F:C1C2  62         			cla
         1F:C1C3  A0 77      			ldy.h	#30464
 4248                        		__call		_sgx_spr_pattern.1
         1F:C1C5  20 E7 E8   			call	_sgx_spr_pattern.1
 4249                        	
 4250                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 101; }
 4251                        	
 4252                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 103; else if(global_counter == 96)
 4253                        		__bra		.LL30
         1F:C1C8  4C 69 C2   			bra	.LL30
 4254    1F:C1CB             	.LL29:
 4255                        		__ld.wm		_global_counter
         1F:C1CB  AD 51 26   			lda.l	_global_counter
         1F:C1CE  AC 52 26   			ldy.h	_global_counter
 4256                        		__equ_w.wi	96
         1F:C1D1  C9 60      			cmp.l	#96
         1F:C1D3  D0 04      			bne	!false+
         1F:C1D5  C0 00      			cpy.h	#96
         1F:C1D7  F0 01      			beq	!+
         1F:C1D9  18         	!false:		clc
         1F:C1DA             	!:
 4257                        		__bfalse	.LL31
         1F:C1DA  90 0E      			bcc	.LL31
 4258                        	
 4259                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 104; {
 4260                        	
 4261                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 105; sgx_spr_set(selected_npc);
 4262                        		__ld.umq	_selected_npc
         1F:C1DC  AD D5 23   			lda	_selected_npc
 4263                        		__call		_sgx_spr_set.1
         1F:C1DF  20 9E E8   			call	_sgx_spr_set.1
 4264                        	
 4265                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 106; sgx_spr_pattern(NPC_5_VRAM_ADR);
 4266                        		__ld.wi		30976
         1F:C1E2  62         			cla
         1F:C1E3  A0 79      			ldy.h	#30976
 4267                        		__call		_sgx_spr_pattern.1
         1F:C1E5  20 E7 E8   			call	_sgx_spr_pattern.1
 4268                        	
 4269                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 107; }
 4270                        	
 4271                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 109; else if(global_counter == 104)
 4272                        		__bra		.LL32
         1F:C1E8  80 7F      			bra	.LL32
 4273    1F:C1EA             	.LL31:
 4274                        		__ld.wm		_global_counter
         1F:C1EA  AD 51 26   			lda.l	_global_counter
         1F:C1ED  AC 52 26   			ldy.h	_global_counter
 4275                        		__equ_w.wi	104
         1F:C1F0  C9 68      			cmp.l	#104
         1F:C1F2  D0 04      			bne	!false+
         1F:C1F4  C0 00      			cpy.h	#104
         1F:C1F6  F0 01      			beq	!+
         1F:C1F8  18         	!false:		clc
         1F:C1F9             	!:
 4276                        		__bfalse	.LL33
         1F:C1F9  90 0E      			bcc	.LL33
 4277                        	
 4278                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 110; {
 4279                        	
 4280                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 111; sgx_spr_set(selected_npc);
 4281                        		__ld.umq	_selected_npc
         1F:C1FB  AD D5 23   			lda	_selected_npc
 4282                        		__call		_sgx_spr_set.1
         1F:C1FE  20 9E E8   			call	_sgx_spr_set.1
 4283                        	
 4284                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 112; sgx_spr_pattern(NPC_6_VRAM_ADR);
 4285                        		__ld.wi		31232
         1F:C201  62         			cla
         1F:C202  A0 7A      			ldy.h	#31232
 4286                        		__call		_sgx_spr_pattern.1
         1F:C204  20 E7 E8   			call	_sgx_spr_pattern.1
 4287                        	
 4288                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 113; }
 4289                        	
 4290                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 115; else if(global_counter == 128)
 4291                        		__bra		.LL34
         1F:C207  80 60      			bra	.LL34
 4292    1F:C209             	.LL33:
 4293                        		__ld.wm		_global_counter
         1F:C209  AD 51 26   			lda.l	_global_counter
         1F:C20C  AC 52 26   			ldy.h	_global_counter
 4294                        		__equ_w.wi	128
         1F:C20F  C9 80      			cmp.l	#128
         1F:C211  D0 04      			bne	!false+
         1F:C213  C0 00      			cpy.h	#128
         1F:C215  F0 01      			beq	!+
         1F:C217  18         	!false:		clc
         1F:C218             	!:
 4295                        		__bfalse	.LL35
         1F:C218  90 0E      			bcc	.LL35
 4296                        	
 4297                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 116; {
 4298                        	
 4299                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 117; sgx_spr_set(selected_npc);
 4300                        		__ld.umq	_selected_npc
         1F:C21A  AD D5 23   			lda	_selected_npc
 4301                        		__call		_sgx_spr_set.1
         1F:C21D  20 9E E8   			call	_sgx_spr_set.1
 4302                        	
 4303                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 118; sgx_spr_pattern(NPC_5_VRAM_ADR);
 4304                        		__ld.wi		30976
         1F:C220  62         			cla
         1F:C221  A0 79      			ldy.h	#30976
 4305                        		__call		_sgx_spr_pattern.1
         1F:C223  20 E7 E8   			call	_sgx_spr_pattern.1
 4306                        	
 4307                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 119; }
 4308                        	
 4309                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 121; else if(global_counter == 136)
 4310                        		__bra		.LL36
         1F:C226  80 41      			bra	.LL36
 4311    1F:C228             	.LL35:
 4312                        		__ld.wm		_global_counter
         1F:C228  AD 51 26   			lda.l	_global_counter
         1F:C22B  AC 52 26   			ldy.h	_global_counter
 4313                        		__equ_w.wi	136
         1F:C22E  C9 88      			cmp.l	#136
         1F:C230  D0 04      			bne	!false+
         1F:C232  C0 00      			cpy.h	#136
         1F:C234  F0 01      			beq	!+
         1F:C236  18         	!false:		clc
         1F:C237             	!:
 4314                        		__bfalse	.LL37
         1F:C237  90 0E      			bcc	.LL37
 4315                        	
 4316                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 122; {
 4317                        	
 4318                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 123; sgx_spr_set(selected_npc);
 4319                        		__ld.umq	_selected_npc
         1F:C239  AD D5 23   			lda	_selected_npc
 4320                        		__call		_sgx_spr_set.1
         1F:C23C  20 9E E8   			call	_sgx_spr_set.1
 4321                        	
 4322                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 124; sgx_spr_pattern(NPC_3_VRAM_ADR);
 4323                        		__ld.wi		30464
         1F:C23F  62         			cla
         1F:C240  A0 77      			ldy.h	#30464
 4324                        		__call		_sgx_spr_pattern.1
         1F:C242  20 E7 E8   			call	_sgx_spr_pattern.1
 4325                        	
 4326                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 125; }
 4327                        	
 4328                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 127; else if(global_counter == 164)
 4329                        		__bra		.LL38
         1F:C245  80 22      			bra	.LL38
 4330    1F:C247             	.LL37:
 4331                        		__ld.wm		_global_counter
         1F:C247  AD 51 26   			lda.l	_global_counter
         1F:C24A  AC 52 26   			ldy.h	_global_counter
 4332                        		__equ_w.wi	164
         1F:C24D  C9 A4      			cmp.l	#164
         1F:C24F  D0 04      			bne	!false+
         1F:C251  C0 00      			cpy.h	#164
         1F:C253  F0 01      			beq	!+
         1F:C255  18         	!false:		clc
         1F:C256             	!:
 4333                        		__bfalse	.LL39
         1F:C256  90 11      			bcc	.LL39
 4334                        	
 4335                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 128; {
 4336                        	
 4337                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 129; disp_off();
 4338                        		__call		_disp_off
         1F:C258  20 3D E4   			call	_disp_off
 4339                        	
 4340                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 130; global_counter = 0;                                 
 4341                        		__st.wmiq	0, _global_counter
         1F:C25B  9C 51 26   			stz.l	_global_counter
         1F:C25E  9C 52 26   			stz.h	_global_counter
 4342                        	
 4343                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 131; sequence_loaded = FALSE;
 4344                        		__st.umiq	0, _sequence_loaded
         1F:C261  9C 14 23   			stz	_sequence_loaded
 4345                        	
 4346                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 132; sequence_id = SEQUENCE_SHOP;
 4347                        		__st.umiq	5, _sequence_id
         1F:C264  A9 05      			lda.l	#5
         1F:C266  8D 13 23   			sta	_sequence_id
 4348                        	
 4349                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 133; }
 4350                        	
 4351                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 135; sgx_satb_update();
 4352    1F:C269             	.LL39:
 4353    1F:C269             	.LL38:
 4354    1F:C269             	.LL36:
 4355    1F:C269             	.LL34:
 4356    1F:C269             	.LL32:
 4357    1F:C269             	.LL30:
 4358    1F:C269             	.LL28:
 4359    1F:C269             	.LL26:
 4360    1F:C269             	.LL24:
 4361    1F:C269             	.LL22:
 4362    1F:C269             	.LL20:
 4363    1F:C269             	.LL18:
 4364    1F:C269             	.LL16:
 4365    1F:C269             	.LL14:
 4366    1F:C269             	.LL12:
 4367    1F:C269             	.LL10:
 4368    1F:C269             	.LL8:
 4369    1F:C269             	.LL6:
 4370    1F:C269             	.LL4:
 4371                        		__call		_sgx_satb_update
         1F:C269  20 9F FF   			call	_sgx_satb_update
 4372                        	
 4373                        		.dbg	line,	"include\routines_ENTER_SHOP.c", 136; }
 4374    1F:C26C             	.LL2:
 4375                        		__return	0
         1F:C26C  4C EF FF   			jmp	leave_proc
 4376                        		.dbg	clear
 4377                        		.endp
 4378                        		.pceas
 4379                        	
 4380                        		.dbg	line,	"main.c", 26; #include "include/routines_INTRO.c"
 4381                        		.dbg	line,	"include\routines_INTRO.c", 1; #include "huc.h"
 4382                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 4383                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 4384                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 4385                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 4386                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 4387                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 4388                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 4389                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 4390                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 4391                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 4392                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 4393                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 4394                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 4395                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 4396                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 4397                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 4398                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 4399                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 4400                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 4401                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 4402                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 4403                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 4404                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 4405                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 4406                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 4407                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 4408                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 4409                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 4410                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 4411                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 4412                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 4413                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 4414                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 4415                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
 4416                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
 4417                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
 4418                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
 4419                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
 4420                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
 4421                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
 4422                        		.dbg	line,	"include\routines_INTRO.c", 2; #include "hucc-scroll.h"
 4423                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
 4424                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
 4425                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
 4426                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
 4427                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
 4428                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
 4429                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
 4430                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
 4431                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
 4432                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
 4433                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
 4434                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 4435                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 4436                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 4437                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
 4438                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
 4439                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
 4440                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
 4441                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
 4442                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
 4443                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
 4444                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
 4445                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
 4446                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
 4447                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
 4448                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
 4449                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
 4450                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
 4451                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
 4452                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
 4453                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
 4454                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
 4455                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
 4456                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
 4457                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
 4458                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
 4459                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
 4460                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
 4461                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
 4462                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
 4463                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
 4464                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
 4465                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
 4466                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
 4467                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
 4468                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
 4469                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
 4470                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
 4471                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
 4472                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
 4473                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
 4474                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
 4475                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
 4476                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 4477                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 4478                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
 4479                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
 4480                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
 4481                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
 4482                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
 4483                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
 4484                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
 4485                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
 4486                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
 4487                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
 4488                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
 4489                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
 4490                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
 4491                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
 4492                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
 4493                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
 4494                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
 4495                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
 4496                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
 4497                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
 4498                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
 4499                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
 4500                        		.dbg	line,	"include\routines_INTRO.c", 3; #include "hucc-chrmap.h"
 4501                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
 4502                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
 4503                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
 4504                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
 4505                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
 4506                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
 4507                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
 4508                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
 4509                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
 4510                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
 4511                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
 4512                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 4513                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 4514                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 4515                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
 4516                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
 4517                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
 4518                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
 4519                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
 4520                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
 4521                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
 4522                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
 4523                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
 4524                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
 4525                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
 4526                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
 4527                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
 4528                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
 4529                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
 4530                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 4531                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 4532                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 4533                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 4534                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 4535                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 4536                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 4537                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 4538                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 4539                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 4540                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 4541                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 4542                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 4543                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 4544                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 4545                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 4546                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 4547                        		.dbg	line,	"include\routines_INTRO.c", 4; #include "hucc-blkmap.h"
 4548                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 4549                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 4550                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 4551                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 4552                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 4553                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 4554                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 4555                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 4556                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 4557                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 4558                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 4559                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 4560                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 4561                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 4562                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 4563                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 4564                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 4565                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 4566                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 4567                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 4568                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 4569                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 4570                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 4571                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 4572                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 4573                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 4574                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 4575                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 4576                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 4577                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 4578                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 4579                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 4580                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 4581                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 4582                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 4583                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 4584                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 4585                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 4586                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 4587                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 4588                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 4589                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 4590                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 4591                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 4592                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 4593                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 4594                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 4595                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 4596                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 4597                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 4598                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 4599                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 4600                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 4601                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 4602                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 4603                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 4604                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 4605                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 4606                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 4607                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 4608                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 4609                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 4610                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 4611                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 4612                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 4613                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 4614                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 4615                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 4616                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 4617                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 4618                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 4619                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 4620                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 4621                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 4622                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 4623                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 4624                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 4625                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 4626                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 4627                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 4628                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 4629                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 4630                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 4631                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 4632                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 4633                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 4634                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 4635                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 4636                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 4637                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 4638                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 4639                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 4640                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 4641                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 4642                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 4643                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 4644                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 4645                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 4646                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 4647                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 4648                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 4649                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 4650                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 4651                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 4652                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 4653                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 4654                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 4655                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 4656                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 4657                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 4658                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 4659                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 4660                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 4661                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 4662                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 4663                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 4664                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 4665                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 4666                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 4667                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 4668                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 4669                        		.dbg	line,	"include\routines_INTRO.c", 13; void joypad_BUTTONS_INTRO()
 4670                        		.dbg	line,	"include\routines_INTRO.c", 14; {
 4671                        	;***********************
 4672                        	;***********************
 4673                        	
 4674                        		.hucc
 4675    1F:DC38             		.proc		_joypad_BUTTONS_INTRO
 4676                        		__enter		_joypad_BUTTONS_INTRO
 4677                        	
 4678                        		.dbg	line,	"include\routines_INTRO.c", 15; if(joytrg(JOYPAD_1) & JOY_I || joytrg(JOYPAD_1) & JOY_II || joytrg(JOYPAD_1) & JOY_RUN)
 4679                        		__ld.uiq	0
         1F:DC38  62         			cla
 4680                        		 _joytrg.1
         1F:DC39  AA         			tax
         1F:DC3A  BD 2D 22   			lda	joytrg, x
         1F:DC3D  BC DD 22   			ldy	joy6trg, x
 4681                        		__tand.wi	1
         1F:DC40  29 01      			and	#1
         1F:DC42  C9 01      	!:		cmp	#1
 4682                        		__btrue		.LL42
         1F:DC44  B0 0C      			bcs	.LL42
 4683                        		__ld.uiq	0
         1F:DC46  62         			cla
 4684                        		 _joytrg.1
         1F:DC47  AA         			tax
         1F:DC48  BD 2D 22   			lda	joytrg, x
         1F:DC4B  BC DD 22   			ldy	joy6trg, x
 4685                        		__tand.wi	2
         1F:DC4E  29 02      			and	#2
         1F:DC50  C9 01      	!:		cmp	#1
 4686    1F:DC52             	.LL42:
 4687                        		__btrue		.LL43
         1F:DC52  B0 0C      			bcs	.LL43
 4688                        		__ld.uiq	0
         1F:DC54  62         			cla
 4689                        		 _joytrg.1
         1F:DC55  AA         			tax
         1F:DC56  BD 2D 22   			lda	joytrg, x
         1F:DC59  BC DD 22   			ldy	joy6trg, x
 4690                        		__tand.wi	8
         1F:DC5C  29 08      			and	#8
         1F:DC5E  C9 01      	!:		cmp	#1
 4691    1F:DC60             	.LL43:
 4692                        		__bfalse	.LL41
         1F:DC60  90 0B      			bcc	.LL41
 4693                        	
 4694                        		.dbg	line,	"include\routines_INTRO.c", 16; {
 4695                        	
 4696                        		.dbg	line,	"include\routines_INTRO.c", 17; // DISABLE DISPLAY //
 4697                        	
 4698                        		.dbg	line,	"include\routines_INTRO.c", 18; disp_off();
 4699                        		__call		_disp_off
         1F:DC62  20 3D E4   			call	_disp_off
 4700                        	
 4701                        		.dbg	line,	"include\routines_INTRO.c", 20; sequence_loaded = FALSE;
 4702                        		__st.umiq	0, _sequence_loaded
         1F:DC65  9C 14 23   			stz	_sequence_loaded
 4703                        	
 4704                        		.dbg	line,	"include\routines_INTRO.c", 22; sequence_id = SEQUENCE_LEVEL;
 4705                        		__st.umiq	2, _sequence_id
         1F:DC68  A9 02      			lda.l	#2
         1F:DC6A  8D 13 23   			sta	_sequence_id
 4706                        	
 4707                        		.dbg	line,	"include\routines_INTRO.c", 23; }
 4708                        	
 4709                        		.dbg	line,	"include\routines_INTRO.c", 24; }
 4710    1F:DC6D             	.LL41:
 4711    1F:DC6D             	.LL40:
 4712                        		__return	0
         1F:DC6D  4C EF FF   			jmp	leave_proc
 4713                        		.dbg	clear
 4714                        		.endp
 4715                        		.pceas
 4716                        	
 4717                        		.dbg	line,	"include\routines_INTRO.c", 29; void sequence_INTRO()
 4718                        		.dbg	line,	"include\routines_INTRO.c", 30; {
 4719                        	;***********************
 4720                        	;***********************
 4721                        	
 4722                        		.hucc
 4723    02:C000             		.proc		_sequence_INTRO
 4724                        		__enter		_sequence_INTRO
 4725                        	
 4726                        		.dbg	line,	"include\routines_INTRO.c", 31; //--------------------------------------------------------------------------------------//
 4727                        	
 4728                        		.dbg	line,	"include\routines_INTRO.c", 32; //                                    PALETTE FADING                                    //
 4729                        	
 4730                        		.dbg	line,	"include\routines_INTRO.c", 33; //--------------------------------------------------------------------------------------//
 4731                        	
 4732                        		.dbg	line,	"include\routines_INTRO.c", 35; char i;
 4733                        	
 4734                        		.dbg	line,	"include\routines_INTRO.c", 38; if(global_counter > 0 && global_counter < 43)
 4735                        		__ld.wm		_global_counter
         02:C000  AD 51 26   			lda.l	_global_counter
         02:C003  AC 52 26   			ldy.h	_global_counter
 4736                        		__sgt_w.wi	0
         02:C006  18         			clc			; Subtract integer+1 from Y:A.
         02:C007  E9 00      			sbc.l	#0
         02:C009  98         			tya
         02:C00A  E9 00      			sbc.h	#0
         02:C00C  50 02      			bvc	!+
         02:C00E  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         02:C010  49 80      	!:		eor	#$80
         02:C012  0A         			asl	a
 4737                        		__bfalse	.LL46
         02:C013  90 10      			bcc	.LL46
 4738                        		__ld.wm		_global_counter
         02:C015  AD 51 26   			lda.l	_global_counter
         02:C018  AC 52 26   			ldy.h	_global_counter
 4739                        		__slt_w.wi	43
         02:C01B  C9 2B      			cmp.l	#43		; Subtract integer from Y:A.
         02:C01D  98         			tya
         02:C01E  E9 00      			sbc.h	#43
         02:C020  50 02      			bvc	!+
         02:C022  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         02:C024  0A         	!:		asl	a
 4740    02:C025             	.LL46:
 4741                        		__bfalse	.LL45
         02:C025  B0 03 4C BE			bcc	.LL45
         02:C029  C0          
 4742                        	
 4743                        		.dbg	line,	"include\routines_INTRO.c", 39; {
 4744                        	
 4745                        		.dbg	line,	"include\routines_INTRO.c", 40; if(global_counter%6 == FALSE)
 4746                        		__ld.wm		_global_counter
         02:C02A  AD 51 26   			lda.l	_global_counter
         02:C02D  AC 52 26   			ldy.h	_global_counter
 4747                        		__smod.wi	6
         02:C030  A2 06      			ldx.l	#6
         02:C032  86 00      			stx.l	<divisor
         02:C034  A2 00      			ldx.h	#6
         02:C036  86 01      			stx.h	<divisor
         02:C038  20 CB E4   			jsr	__modsint
 4748                        		__not.wr
         02:C03B  84 00      			sty	__temp
         02:C03D  05 00      			ora	__temp
         02:C03F  18         			clc
         02:C040  D0 01      			bne	!+
         02:C042  38         			sec
         02:C043             	!:
 4749                        		__bfalse	.LL47
         02:C043  90 79      			bcc	.LL47
 4750                        	
 4751                        		.dbg	line,	"include\routines_INTRO.c", 41; {
 4752                        	
 4753                        		.dbg	line,	"include\routines_INTRO.c", 42; read_palette( 0, 1, palette_buffer );
 4754                        		__st.umiq	0, _al
         02:C045  64 F8      			stz	_al
 4755                        		__st.umiq	1, _ah
         02:C047  A9 01      			lda.l	#1
         02:C049  85 F9      			sta	_ah
 4756                        		__ld.wi		_palette_buffer
         02:C04B  A9 6F      			lda.l	#_palette_buffer
         02:C04D  A0 26      			ldy.h	#_palette_buffer
 4757                        		__st.wmq	_di
         02:C04F  85 F0      			sta.l	_di
         02:C051  84 F1      			sty.h	_di
 4758                        		__call		_read_palette.3
         02:C053  20 95 FF   			call	_read_palette.3
 4759                        	
 4760                        		.dbg	line,	"include\routines_INTRO.c", 44; cross_fade_to(palette_INTRO_2 , palette_buffer , 16 , palette_step);
 4761                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         02:C056  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:C058  85 EC      			sta.l	_bp
         02:C05A  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:C05C  85 ED      			sta.h	_bp
         02:C05E  A9 06      			lda	#bank(_palette_INTRO_2)
         02:C060  85 02      			sta	_bp_bank
 4762                        		__ld.wi		_palette_buffer
         02:C062  A9 6F      			lda.l	#_palette_buffer
         02:C064  A0 26      			ldy.h	#_palette_buffer
 4763                        		__st.wmq	_di
         02:C066  85 F0      			sta.l	_di
         02:C068  84 F1      			sty.h	_di
 4764                        		__st.umiq	16, _al
         02:C06A  A9 10      			lda.l	#16
         02:C06C  85 F8      			sta	_al
 4765                        		__ld.um		_palette_step
         02:C06E  AD F6 23   			lda	_palette_step
         02:C071  C2         			cly
 4766                        		__st.umq	_ah
         02:C072  85 F9      			sta	_ah
 4767                        		 _cross_fade_to.4
         02:C074  A4 02      			ldy	<_bp_bank
         02:C076  20 8B FF   			call	cross_fade_to
 4768                        	
 4769                        		.dbg	line,	"include\routines_INTRO.c", 45; cross_fade_to(palette_INTRO_2 , palette_buffer , 16 , palette_step+1);
 4770                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         02:C079  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:C07B  85 EC      			sta.l	_bp
         02:C07D  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:C07F  85 ED      			sta.h	_bp
         02:C081  A9 06      			lda	#bank(_palette_INTRO_2)
         02:C083  85 02      			sta	_bp_bank
 4771                        		__ld.wi		_palette_buffer
         02:C085  A9 6F      			lda.l	#_palette_buffer
         02:C087  A0 26      			ldy.h	#_palette_buffer
 4772                        		__st.wmq	_di
         02:C089  85 F0      			sta.l	_di
         02:C08B  84 F1      			sty.h	_di
 4773                        		__st.umiq	16, _al
         02:C08D  A9 10      			lda.l	#16
         02:C08F  85 F8      			sta	_al
 4774                        		__ld.um		_palette_step
         02:C091  AD F6 23   			lda	_palette_step
         02:C094  C2         			cly
 4775                        		__add.wi	1
         02:C095  1A         			inc	a
         02:C096  D0 01      			bne	!+
         02:C098  C8         			iny
         02:C099             	!:
 4776                        		__st.umq	_ah
         02:C099  85 F9      			sta	_ah
 4777                        		 _cross_fade_to.4
         02:C09B  A4 02      			ldy	<_bp_bank
         02:C09D  20 8B FF   			call	cross_fade_to
 4778                        	
 4779                        		.dbg	line,	"include\routines_INTRO.c", 47; load_palette( 0, palette_buffer, 1 );
 4780                        		__st.umiq	0, _al
         02:C0A0  64 F8      			stz	_al
 4781                        		__farptr	_palette_buffer, _bp_bank, _bp
         02:C0A2  A9 6F      			lda.l	#$6000 + ($1FFF & (_palette_buffer))
         02:C0A4  85 EC      			sta.l	_bp
         02:C0A6  A9 66      			lda.h	#$6000 + ($1FFF & (_palette_buffer))
         02:C0A8  85 ED      			sta.h	_bp
         02:C0AA  A9 F8      			lda	#bank(_palette_buffer)
         02:C0AC  85 02      			sta	_bp_bank
 4782                        		__st.umiq	1, _ah
         02:C0AE  A9 01      			lda.l	#1
         02:C0B0  85 F9      			sta	_ah
 4783                        		__call		_load_palette.3
         02:C0B2  20 81 FF   			call	_load_palette.3
 4784                        	
 4785                        		.dbg	line,	"include\routines_INTRO.c", 49; palette_step += 2;
 4786                        		__add_st.umiq	2, _palette_step
         02:C0B5  18         			clc
         02:C0B6  AD F6 23   			lda	_palette_step
         02:C0B9  69 02      			adc	#2
         02:C0BB  8D F6 23   			sta	_palette_step
 4787                        	
 4788                        		.dbg	line,	"include\routines_INTRO.c", 50; }
 4789                        	
 4790                        		.dbg	line,	"include\routines_INTRO.c", 51; }
 4791    02:C0BE             	.LL47:
 4792                        	
 4793                        		.dbg	line,	"include\routines_INTRO.c", 52; 
 4794                        	
 4795                        		.dbg	line,	"include\routines_INTRO.c", 53; 
 4796                        	
 4797                        		.dbg	line,	"include\routines_INTRO.c", 55; //--------------------------------------------------------------------------------------//
 4798                        	
 4799                        		.dbg	line,	"include\routines_INTRO.c", 56; //                                     MOVE DRAGON                                      //
 4800                        	
 4801                        		.dbg	line,	"include\routines_INTRO.c", 57; //--------------------------------------------------------------------------------------//
 4802                        	
 4803                        		.dbg	line,	"include\routines_INTRO.c", 59; if(global_counter < 50)
 4804    02:C0BE             	.LL45:
 4805                        		__ld.wm		_global_counter
         02:C0BE  AD 51 26   			lda.l	_global_counter
         02:C0C1  AC 52 26   			ldy.h	_global_counter
 4806                        		__slt_w.wi	50
         02:C0C4  C9 32      			cmp.l	#50		; Subtract integer from Y:A.
         02:C0C6  98         			tya
         02:C0C7  E9 00      			sbc.h	#50
         02:C0C9  50 02      			bvc	!+
         02:C0CB  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         02:C0CD  0A         	!:		asl	a
 4807                        		__bfalse	.LL48
         02:C0CE  B0 03 4C E0			bcc	.LL48
         02:C0D2  C2          
 4808                        	
 4809                        		.dbg	line,	"include\routines_INTRO.c", 60; {
 4810                        	
 4811                        		.dbg	line,	"include\routines_INTRO.c", 61; player_pos_x -= 1;
 4812                        		__sub_st.wmiq	1, _player_pos_x
         02:C0D3  AD F7 24   			lda.l	_player_pos_x
         02:C0D6  D0 03      			bne	!+
         02:C0D8  CE F8 24   			dec.h	_player_pos_x
         02:C0DB  CE F7 24   	!:		dec.l	_player_pos_x
 4813                        	
 4814                        		.dbg	line,	"include\routines_INTRO.c", 62; player_pos_y -= 1;
 4815                        		__sub_st.wmiq	1, _player_pos_y
         02:C0DE  AD F9 24   			lda.l	_player_pos_y
         02:C0E1  D0 03      			bne	!+
         02:C0E3  CE FA 24   			dec.h	_player_pos_y
         02:C0E6  CE F9 24   	!:		dec.l	_player_pos_y
 4816                        	
 4817                        		.dbg	line,	"include\routines_INTRO.c", 63; 
 4818                        	
 4819                        		.dbg	line,	"include\routines_INTRO.c", 64; for(i=0 ; i<8 ; i++)
 4820                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:C0E9  9C 23 2C   			stz	__sequence_INTRO_end - 1
 4821    02:C0EC             	.LL49:
 4822                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C0EC  AD 23 2C   			lda	__sequence_INTRO_end - 1
 4823                        		__ult_b.uiq	8
         02:C0EF  C9 08      			cmp	#8		; Subtract integer from A.
         02:C0F1  6A         			ror	a		; CC if A < integer.
         02:C0F2  49 80      			eor	#$80
         02:C0F4  2A         			rol	a
 4824                        		__btrue		.LL51
         02:C0F5  B0 07      			bcs	.LL51
 4825                        		__bra		.LL52
         02:C0F7  80 62      			bra	.LL52
 4826    02:C0F9             	.LL50:
 4827                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:C0F9  EE 23 2C   			inc	__sequence_INTRO_end - 1
 4828                        		__bra		.LL49
         02:C0FC  80 EE      			bra	.LL49
 4829    02:C0FE             	.LL51:
 4830                        	
 4831                        		.dbg	line,	"include\routines_INTRO.c", 65; {
 4832                        	
 4833                        		.dbg	line,	"include\routines_INTRO.c", 66; sgx_spr_set(i);
 4834                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C0FE  AD 23 2C   			lda	__sequence_INTRO_end - 1
 4835                        		__call		_sgx_spr_set.1
         02:C101  20 9E E8   			call	_sgx_spr_set.1
 4836                        	
 4837                        		.dbg	line,	"include\routines_INTRO.c", 67; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 4838                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C104  AD 23 2C   			lda	__sequence_INTRO_end - 1
         02:C107  C2         			cly
 4839                        		__asl.wi	5
         02:C108  85 00      			sta	__temp
         02:C10A  98         			tya
         02:C10B  4A         			lsr	a
         02:C10C  20 C8 E1   			jsr	aslw5
         02:C10F  29 E0      			and.l	#$FF << 5
 4840                        		__add.wm	_player_pos_x
         02:C111  18         			clc
         02:C112  6D F7 24   			adc.l	_player_pos_x
         02:C115  42         			say
         02:C116  6D F8 24   			adc.h	_player_pos_x
         02:C119  42         			say
 4841                        		__push.wr
         02:C11A  5A         			phy
         02:C11B  48         			pha
 4842                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C11C  AD 23 2C   			lda	__sequence_INTRO_end - 1
         02:C11F  C2         			cly
 4843                        		__lsr.uiq	2
         02:C120  4A         			lsr	a
         02:C121  4A         			lsr	a
 4844                        		__asl.wi	7
         02:C122  42         			say
         02:C123  4A         			lsr	a
         02:C124  42         			say
         02:C125  6A         			ror	a
         02:C126  42         			say
         02:C127  6A         			ror	a
         02:C128  29 80      			and	#$80
 4845                        		__sub.wt
         02:C12A  BA         			tsx
         02:C12B  38         			sec
         02:C12C  49 FF      			eor	#$FF
         02:C12E  7D 01 21   			adc.l	__tos, x
         02:C131  42         			say
         02:C132  49 FF      			eor	#$FF
         02:C134  7D 02 21   			adc.h	__tos, x
         02:C137  42         			say
         02:C138  E8         			inx
         02:C139  E8         			inx
         02:C13A  9A         			txs
 4846                        		__call		_sgx_spr_x.1
         02:C13B  20 CB E8   			call	_sgx_spr_x.1
 4847                        	
 4848                        		.dbg	line,	"include\routines_INTRO.c", 68; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 4849                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C13E  AD 23 2C   			lda	__sequence_INTRO_end - 1
         02:C141  C2         			cly
 4850                        		__lsr.uiq	2
         02:C142  4A         			lsr	a
         02:C143  4A         			lsr	a
 4851                        		__asl.wi	5
         02:C144  85 00      			sta	__temp
         02:C146  98         			tya
         02:C147  4A         			lsr	a
         02:C148  20 C8 E1   			jsr	aslw5
         02:C14B  29 E0      			and.l	#$FF << 5
 4852                        		__add.wm	_player_pos_y
         02:C14D  18         			clc
         02:C14E  6D F9 24   			adc.l	_player_pos_y
         02:C151  42         			say
         02:C152  6D FA 24   			adc.h	_player_pos_y
         02:C155  42         			say
 4853                        		__call		_sgx_spr_y.1
         02:C156  20 DA E8   			call	_sgx_spr_y.1
 4854                        	
 4855                        		.dbg	line,	"include\routines_INTRO.c", 69; }
 4856                        		__bra		.LL50
         02:C159  80 9E      			bra	.LL50
 4857    02:C15B             	.LL52:
 4858                        	
 4859                        		.dbg	line,	"include\routines_INTRO.c", 71; //--------------------------------------------------------------------------------------//
 4860                        	
 4861                        		.dbg	line,	"include\routines_INTRO.c", 72; //                                    DRAGON PATTERN                                    //
 4862                        	
 4863                        		.dbg	line,	"include\routines_INTRO.c", 73; //--------------------------------------------------------------------------------------//
 4864                        	
 4865                        		.dbg	line,	"include\routines_INTRO.c", 75; if(global_counter == 8)
 4866                        		__ld.wm		_global_counter
         02:C15B  AD 51 26   			lda.l	_global_counter
         02:C15E  AC 52 26   			ldy.h	_global_counter
 4867                        		__equ_w.wi	8
         02:C161  C9 08      			cmp.l	#8
         02:C163  D0 04      			bne	!false+
         02:C165  C0 00      			cpy.h	#8
         02:C167  F0 01      			beq	!+
         02:C169  18         	!false:		clc
         02:C16A             	!:
 4868                        		__bfalse	.LL53
         02:C16A  90 31      			bcc	.LL53
 4869                        	
 4870                        		.dbg	line,	"include\routines_INTRO.c", 76; {
 4871                        	
 4872                        		.dbg	line,	"include\routines_INTRO.c", 77; for(i=0 ; i<8 ; i++)
 4873                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:C16C  9C 23 2C   			stz	__sequence_INTRO_end - 1
 4874    02:C16F             	.LL54:
 4875                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C16F  AD 23 2C   			lda	__sequence_INTRO_end - 1
 4876                        		__ult_b.uiq	8
         02:C172  C9 08      			cmp	#8		; Subtract integer from A.
         02:C174  6A         			ror	a		; CC if A < integer.
         02:C175  49 80      			eor	#$80
         02:C177  2A         			rol	a
 4877                        		__btrue		.LL56
         02:C178  B0 08      			bcs	.LL56
 4878                        		__bra		.LL57
         02:C17A  4C E0 C2   			bra	.LL57
 4879    02:C17D             	.LL55:
 4880                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:C17D  EE 23 2C   			inc	__sequence_INTRO_end - 1
 4881                        		__bra		.LL54
         02:C180  80 ED      			bra	.LL54
 4882    02:C182             	.LL56:
 4883                        	
 4884                        		.dbg	line,	"include\routines_INTRO.c", 78; {
 4885                        	
 4886                        		.dbg	line,	"include\routines_INTRO.c", 79; sgx_spr_set(i);
 4887                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C182  AD 23 2C   			lda	__sequence_INTRO_end - 1
 4888                        		__call		_sgx_spr_set.1
         02:C185  20 9E E8   			call	_sgx_spr_set.1
 4889                        	
 4890                        		.dbg	line,	"include\routines_INTRO.c", 80; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16) + TILES_128);
 4891                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C188  AD 23 2C   			lda	__sequence_INTRO_end - 1
         02:C18B  C2         			cly
 4892                        		__asl.wi	8
         02:C18C  A8         			tay
         02:C18D  62         			cla
 4893                        		__add.wi	13312
         02:C18E  18         			clc
         02:C18F  69 00      			adc.l	#13312
         02:C191  42         			say
         02:C192  69 34      			adc.h	#13312
         02:C194  42         			say
 4894                        		__call		_sgx_spr_pattern.1
         02:C195  20 E7 E8   			call	_sgx_spr_pattern.1
 4895                        	
 4896                        		.dbg	line,	"include\routines_INTRO.c", 81; }
 4897                        		__bra		.LL55
         02:C198  80 E3      			bra	.LL55
 4898    02:C19A             	.LL57	.alias		.LL58
 4899                        	
 4900                        		.dbg	line,	"include\routines_INTRO.c", 82; }
 4901                        	
 4902                        		.dbg	line,	"include\routines_INTRO.c", 84; else if(global_counter == 16)
 4903                        		__bra		.LL58
         02:C19A  4C E0 C2   			bra	.LL58
 4904    02:C19D             	.LL53:
 4905                        		__ld.wm		_global_counter
         02:C19D  AD 51 26   			lda.l	_global_counter
         02:C1A0  AC 52 26   			ldy.h	_global_counter
 4906                        		__equ_w.wi	16
         02:C1A3  C9 10      			cmp.l	#16
         02:C1A5  D0 04      			bne	!false+
         02:C1A7  C0 00      			cpy.h	#16
         02:C1A9  F0 01      			beq	!+
         02:C1AB  18         	!false:		clc
         02:C1AC             	!:
 4907                        		__bfalse	.LL59
         02:C1AC  90 31      			bcc	.LL59
 4908                        	
 4909                        		.dbg	line,	"include\routines_INTRO.c", 85; {
 4910                        	
 4911                        		.dbg	line,	"include\routines_INTRO.c", 86; for(i=0 ; i<8 ; i++)
 4912                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:C1AE  9C 23 2C   			stz	__sequence_INTRO_end - 1
 4913    02:C1B1             	.LL60:
 4914                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C1B1  AD 23 2C   			lda	__sequence_INTRO_end - 1
 4915                        		__ult_b.uiq	8
         02:C1B4  C9 08      			cmp	#8		; Subtract integer from A.
         02:C1B6  6A         			ror	a		; CC if A < integer.
         02:C1B7  49 80      			eor	#$80
         02:C1B9  2A         			rol	a
 4916                        		__btrue		.LL62
         02:C1BA  B0 08      			bcs	.LL62
 4917                        		__bra		.LL63
         02:C1BC  4C E0 C2   			bra	.LL63
 4918    02:C1BF             	.LL61:
 4919                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:C1BF  EE 23 2C   			inc	__sequence_INTRO_end - 1
 4920                        		__bra		.LL60
         02:C1C2  80 ED      			bra	.LL60
 4921    02:C1C4             	.LL62:
 4922                        	
 4923                        		.dbg	line,	"include\routines_INTRO.c", 87; {
 4924                        	
 4925                        		.dbg	line,	"include\routines_INTRO.c", 88; sgx_spr_set(i);
 4926                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C1C4  AD 23 2C   			lda	__sequence_INTRO_end - 1
 4927                        		__call		_sgx_spr_set.1
         02:C1C7  20 9E E8   			call	_sgx_spr_set.1
 4928                        	
 4929                        		.dbg	line,	"include\routines_INTRO.c", 89; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16) + TILES_256);
 4930                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C1CA  AD 23 2C   			lda	__sequence_INTRO_end - 1
         02:C1CD  C2         			cly
 4931                        		__asl.wi	8
         02:C1CE  A8         			tay
         02:C1CF  62         			cla
 4932                        		__add.wi	15360
         02:C1D0  18         			clc
         02:C1D1  69 00      			adc.l	#15360
         02:C1D3  42         			say
         02:C1D4  69 3C      			adc.h	#15360
         02:C1D6  42         			say
 4933                        		__call		_sgx_spr_pattern.1
         02:C1D7  20 E7 E8   			call	_sgx_spr_pattern.1
 4934                        	
 4935                        		.dbg	line,	"include\routines_INTRO.c", 90; }
 4936                        		__bra		.LL61
         02:C1DA  80 E3      			bra	.LL61
 4937    02:C1DC             	.LL63	.alias		.LL64
 4938                        	
 4939                        		.dbg	line,	"include\routines_INTRO.c", 91; }
 4940                        	
 4941                        		.dbg	line,	"include\routines_INTRO.c", 93; else if(global_counter == 24)
 4942                        		__bra		.LL64
         02:C1DC  4C E0 C2   			bra	.LL64
 4943    02:C1DF             	.LL59:
 4944                        		__ld.wm		_global_counter
         02:C1DF  AD 51 26   			lda.l	_global_counter
         02:C1E2  AC 52 26   			ldy.h	_global_counter
 4945                        		__equ_w.wi	24
         02:C1E5  C9 18      			cmp.l	#24
         02:C1E7  D0 04      			bne	!false+
         02:C1E9  C0 00      			cpy.h	#24
         02:C1EB  F0 01      			beq	!+
         02:C1ED  18         	!false:		clc
         02:C1EE             	!:
 4946                        		__bfalse	.LL65
         02:C1EE  90 31      			bcc	.LL65
 4947                        	
 4948                        		.dbg	line,	"include\routines_INTRO.c", 94; {
 4949                        	
 4950                        		.dbg	line,	"include\routines_INTRO.c", 95; for(i=0 ; i<8 ; i++)
 4951                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:C1F0  9C 23 2C   			stz	__sequence_INTRO_end - 1
 4952    02:C1F3             	.LL66:
 4953                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C1F3  AD 23 2C   			lda	__sequence_INTRO_end - 1
 4954                        		__ult_b.uiq	8
         02:C1F6  C9 08      			cmp	#8		; Subtract integer from A.
         02:C1F8  6A         			ror	a		; CC if A < integer.
         02:C1F9  49 80      			eor	#$80
         02:C1FB  2A         			rol	a
 4955                        		__btrue		.LL68
         02:C1FC  B0 08      			bcs	.LL68
 4956                        		__bra		.LL69
         02:C1FE  4C E0 C2   			bra	.LL69
 4957    02:C201             	.LL67:
 4958                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:C201  EE 23 2C   			inc	__sequence_INTRO_end - 1
 4959                        		__bra		.LL66
         02:C204  80 ED      			bra	.LL66
 4960    02:C206             	.LL68:
 4961                        	
 4962                        		.dbg	line,	"include\routines_INTRO.c", 96; {
 4963                        	
 4964                        		.dbg	line,	"include\routines_INTRO.c", 97; sgx_spr_set(i);
 4965                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C206  AD 23 2C   			lda	__sequence_INTRO_end - 1
 4966                        		__call		_sgx_spr_set.1
         02:C209  20 9E E8   			call	_sgx_spr_set.1
 4967                        	
 4968                        		.dbg	line,	"include\routines_INTRO.c", 98; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16));
 4969                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C20C  AD 23 2C   			lda	__sequence_INTRO_end - 1
         02:C20F  C2         			cly
 4970                        		__asl.wi	8
         02:C210  A8         			tay
         02:C211  62         			cla
 4971                        		__add.wi	11264
         02:C212  18         			clc
         02:C213  69 00      			adc.l	#11264
         02:C215  42         			say
         02:C216  69 2C      			adc.h	#11264
         02:C218  42         			say
 4972                        		__call		_sgx_spr_pattern.1
         02:C219  20 E7 E8   			call	_sgx_spr_pattern.1
 4973                        	
 4974                        		.dbg	line,	"include\routines_INTRO.c", 99; }
 4975                        		__bra		.LL67
         02:C21C  80 E3      			bra	.LL67
 4976    02:C21E             	.LL69	.alias		.LL70
 4977                        	
 4978                        		.dbg	line,	"include\routines_INTRO.c", 100; }
 4979                        	
 4980                        		.dbg	line,	"include\routines_INTRO.c", 102; else if(global_counter == 32)
 4981                        		__bra		.LL70
         02:C21E  4C E0 C2   			bra	.LL70
 4982    02:C221             	.LL65:
 4983                        		__ld.wm		_global_counter
         02:C221  AD 51 26   			lda.l	_global_counter
         02:C224  AC 52 26   			ldy.h	_global_counter
 4984                        		__equ_w.wi	32
         02:C227  C9 20      			cmp.l	#32
         02:C229  D0 04      			bne	!false+
         02:C22B  C0 00      			cpy.h	#32
         02:C22D  F0 01      			beq	!+
         02:C22F  18         	!false:		clc
         02:C230             	!:
 4985                        		__bfalse	.LL71
         02:C230  90 30      			bcc	.LL71
 4986                        	
 4987                        		.dbg	line,	"include\routines_INTRO.c", 103; {
 4988                        	
 4989                        		.dbg	line,	"include\routines_INTRO.c", 104; for(i=0 ; i<8 ; i++)
 4990                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:C232  9C 23 2C   			stz	__sequence_INTRO_end - 1
 4991    02:C235             	.LL72:
 4992                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C235  AD 23 2C   			lda	__sequence_INTRO_end - 1
 4993                        		__ult_b.uiq	8
         02:C238  C9 08      			cmp	#8		; Subtract integer from A.
         02:C23A  6A         			ror	a		; CC if A < integer.
         02:C23B  49 80      			eor	#$80
         02:C23D  2A         			rol	a
 4994                        		__btrue		.LL74
         02:C23E  B0 08      			bcs	.LL74
 4995                        		__bra		.LL75
         02:C240  4C E0 C2   			bra	.LL75
 4996    02:C243             	.LL73:
 4997                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:C243  EE 23 2C   			inc	__sequence_INTRO_end - 1
 4998                        		__bra		.LL72
         02:C246  80 ED      			bra	.LL72
 4999    02:C248             	.LL74:
 5000                        	
 5001                        		.dbg	line,	"include\routines_INTRO.c", 105; {
 5002                        	
 5003                        		.dbg	line,	"include\routines_INTRO.c", 106; sgx_spr_set(i);
 5004                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C248  AD 23 2C   			lda	__sequence_INTRO_end - 1
 5005                        		__call		_sgx_spr_set.1
         02:C24B  20 9E E8   			call	_sgx_spr_set.1
 5006                        	
 5007                        		.dbg	line,	"include\routines_INTRO.c", 107; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16) + TILES_128);
 5008                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C24E  AD 23 2C   			lda	__sequence_INTRO_end - 1
         02:C251  C2         			cly
 5009                        		__asl.wi	8
         02:C252  A8         			tay
         02:C253  62         			cla
 5010                        		__add.wi	13312
         02:C254  18         			clc
         02:C255  69 00      			adc.l	#13312
         02:C257  42         			say
         02:C258  69 34      			adc.h	#13312
         02:C25A  42         			say
 5011                        		__call		_sgx_spr_pattern.1
         02:C25B  20 E7 E8   			call	_sgx_spr_pattern.1
 5012                        	
 5013                        		.dbg	line,	"include\routines_INTRO.c", 108; }
 5014                        		__bra		.LL73
         02:C25E  80 E3      			bra	.LL73
 5015    02:C260             	.LL75	.alias		.LL76
 5016                        	
 5017                        		.dbg	line,	"include\routines_INTRO.c", 109; }
 5018                        	
 5019                        		.dbg	line,	"include\routines_INTRO.c", 111; else if(global_counter == 40)
 5020                        		__bra		.LL76
         02:C260  80 7E      			bra	.LL76
 5021    02:C262             	.LL71:
 5022                        		__ld.wm		_global_counter
         02:C262  AD 51 26   			lda.l	_global_counter
         02:C265  AC 52 26   			ldy.h	_global_counter
 5023                        		__equ_w.wi	40
         02:C268  C9 28      			cmp.l	#40
         02:C26A  D0 04      			bne	!false+
         02:C26C  C0 00      			cpy.h	#40
         02:C26E  F0 01      			beq	!+
         02:C270  18         	!false:		clc
         02:C271             	!:
 5024                        		__bfalse	.LL77
         02:C271  90 2F      			bcc	.LL77
 5025                        	
 5026                        		.dbg	line,	"include\routines_INTRO.c", 112; {
 5027                        	
 5028                        		.dbg	line,	"include\routines_INTRO.c", 113; for(i=0 ; i<8 ; i++)
 5029                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:C273  9C 23 2C   			stz	__sequence_INTRO_end - 1
 5030    02:C276             	.LL78:
 5031                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C276  AD 23 2C   			lda	__sequence_INTRO_end - 1
 5032                        		__ult_b.uiq	8
         02:C279  C9 08      			cmp	#8		; Subtract integer from A.
         02:C27B  6A         			ror	a		; CC if A < integer.
         02:C27C  49 80      			eor	#$80
         02:C27E  2A         			rol	a
 5033                        		__btrue		.LL80
         02:C27F  B0 07      			bcs	.LL80
 5034                        		__bra		.LL81
         02:C281  80 5D      			bra	.LL81
 5035    02:C283             	.LL79:
 5036                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:C283  EE 23 2C   			inc	__sequence_INTRO_end - 1
 5037                        		__bra		.LL78
         02:C286  80 EE      			bra	.LL78
 5038    02:C288             	.LL80:
 5039                        	
 5040                        		.dbg	line,	"include\routines_INTRO.c", 114; {
 5041                        	
 5042                        		.dbg	line,	"include\routines_INTRO.c", 115; sgx_spr_set(i);
 5043                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C288  AD 23 2C   			lda	__sequence_INTRO_end - 1
 5044                        		__call		_sgx_spr_set.1
         02:C28B  20 9E E8   			call	_sgx_spr_set.1
 5045                        	
 5046                        		.dbg	line,	"include\routines_INTRO.c", 116; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16) + TILES_256);
 5047                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C28E  AD 23 2C   			lda	__sequence_INTRO_end - 1
         02:C291  C2         			cly
 5048                        		__asl.wi	8
         02:C292  A8         			tay
         02:C293  62         			cla
 5049                        		__add.wi	15360
         02:C294  18         			clc
         02:C295  69 00      			adc.l	#15360
         02:C297  42         			say
         02:C298  69 3C      			adc.h	#15360
         02:C29A  42         			say
 5050                        		__call		_sgx_spr_pattern.1
         02:C29B  20 E7 E8   			call	_sgx_spr_pattern.1
 5051                        	
 5052                        		.dbg	line,	"include\routines_INTRO.c", 117; }
 5053                        		__bra		.LL79
         02:C29E  80 E3      			bra	.LL79
 5054    02:C2A0             	.LL81	.alias		.LL82
 5055                        	
 5056                        		.dbg	line,	"include\routines_INTRO.c", 118; }
 5057                        	
 5058                        		.dbg	line,	"include\routines_INTRO.c", 120; else if(global_counter == 48)
 5059                        		__bra		.LL82
         02:C2A0  80 3E      			bra	.LL82
 5060    02:C2A2             	.LL77:
 5061                        		__ld.wm		_global_counter
         02:C2A2  AD 51 26   			lda.l	_global_counter
         02:C2A5  AC 52 26   			ldy.h	_global_counter
 5062                        		__equ_w.wi	48
         02:C2A8  C9 30      			cmp.l	#48
         02:C2AA  D0 04      			bne	!false+
         02:C2AC  C0 00      			cpy.h	#48
         02:C2AE  F0 01      			beq	!+
         02:C2B0  18         	!false:		clc
         02:C2B1             	!:
 5063                        		__bfalse	.LL83
         02:C2B1  90 2D      			bcc	.LL83
 5064                        	
 5065                        		.dbg	line,	"include\routines_INTRO.c", 121; {
 5066                        	
 5067                        		.dbg	line,	"include\routines_INTRO.c", 122; for(i=0 ; i<8 ; i++)
 5068                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:C2B3  9C 23 2C   			stz	__sequence_INTRO_end - 1
 5069    02:C2B6             	.LL84:
 5070                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C2B6  AD 23 2C   			lda	__sequence_INTRO_end - 1
 5071                        		__ult_b.uiq	8
         02:C2B9  C9 08      			cmp	#8		; Subtract integer from A.
         02:C2BB  6A         			ror	a		; CC if A < integer.
         02:C2BC  49 80      			eor	#$80
         02:C2BE  2A         			rol	a
 5072                        		__btrue		.LL86
         02:C2BF  B0 07      			bcs	.LL86
 5073                        		__bra		.LL87
         02:C2C1  80 1D      			bra	.LL87
 5074    02:C2C3             	.LL85:
 5075                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:C2C3  EE 23 2C   			inc	__sequence_INTRO_end - 1
 5076                        		__bra		.LL84
         02:C2C6  80 EE      			bra	.LL84
 5077    02:C2C8             	.LL86:
 5078                        	
 5079                        		.dbg	line,	"include\routines_INTRO.c", 123; {
 5080                        	
 5081                        		.dbg	line,	"include\routines_INTRO.c", 124; sgx_spr_set(i);
 5082                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C2C8  AD 23 2C   			lda	__sequence_INTRO_end - 1
 5083                        		__call		_sgx_spr_set.1
         02:C2CB  20 9E E8   			call	_sgx_spr_set.1
 5084                        	
 5085                        		.dbg	line,	"include\routines_INTRO.c", 125; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16) + TILES_384);
 5086                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C2CE  AD 23 2C   			lda	__sequence_INTRO_end - 1
         02:C2D1  C2         			cly
 5087                        		__asl.wi	8
         02:C2D2  A8         			tay
         02:C2D3  62         			cla
 5088                        		__add.wi	17408
         02:C2D4  18         			clc
         02:C2D5  69 00      			adc.l	#17408
         02:C2D7  42         			say
         02:C2D8  69 44      			adc.h	#17408
         02:C2DA  42         			say
 5089                        		__call		_sgx_spr_pattern.1
         02:C2DB  20 E7 E8   			call	_sgx_spr_pattern.1
 5090                        	
 5091                        		.dbg	line,	"include\routines_INTRO.c", 126; }
 5092                        		__bra		.LL85
         02:C2DE  80 E3      			bra	.LL85
 5093    02:C2E0             	.LL87:
 5094                        	
 5095                        		.dbg	line,	"include\routines_INTRO.c", 127; }
 5096                        	
 5097                        		.dbg	line,	"include\routines_INTRO.c", 128; }
 5098    02:C2E0             	.LL83:
 5099    02:C2E0             	.LL82:
 5100    02:C2E0             	.LL76:
 5101    02:C2E0             	.LL70:
 5102    02:C2E0             	.LL64:
 5103    02:C2E0             	.LL58:
 5104                        	
 5105                        		.dbg	line,	"include\routines_INTRO.c", 133; //--------------------------------------------------------------------------------------//
 5106                        	
 5107                        		.dbg	line,	"include\routines_INTRO.c", 134; //                                        BOLTS                                         //
 5108                        	
 5109                        		.dbg	line,	"include\routines_INTRO.c", 135; //--------------------------------------------------------------------------------------//
 5110                        	
 5111                        		.dbg	line,	"include\routines_INTRO.c", 137; if(global_counter == 71)
 5112    02:C2E0             	.LL48:
 5113                        		__ld.wm		_global_counter
         02:C2E0  AD 51 26   			lda.l	_global_counter
         02:C2E3  AC 52 26   			ldy.h	_global_counter
 5114                        		__equ_w.wi	71
         02:C2E6  C9 47      			cmp.l	#71
         02:C2E8  D0 04      			bne	!false+
         02:C2EA  C0 00      			cpy.h	#71
         02:C2EC  F0 01      			beq	!+
         02:C2EE  18         	!false:		clc
         02:C2EF             	!:
 5115                        		__bfalse	.LL88
         02:C2EF  90 4B      			bcc	.LL88
 5116                        	
 5117                        		.dbg	line,	"include\routines_INTRO.c", 138; {
 5118                        	
 5119                        		.dbg	line,	"include\routines_INTRO.c", 139; load_palette( 0, palette_INTRO_3, 1 );
 5120                        		__st.umiq	0, _al
         02:C2F1  64 F8      			stz	_al
 5121                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         02:C2F3  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:C2F5  85 EC      			sta.l	_bp
         02:C2F7  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:C2F9  85 ED      			sta.h	_bp
         02:C2FB  A9 06      			lda	#bank(_palette_INTRO_3)
         02:C2FD  85 02      			sta	_bp_bank
 5122                        		__st.umiq	1, _ah
         02:C2FF  A9 01      			lda.l	#1
         02:C301  85 F9      			sta	_ah
 5123                        		__call		_load_palette.3
         02:C303  20 81 FF   			call	_load_palette.3
 5124                        	
 5125                        		.dbg	line,	"include\routines_INTRO.c", 141; vdc_map_pxl_x = 256;
 5126                        		__st.wmiq	256, _vdc_map_pxl_x
         02:C306  9C CA 26   			stz.l	_vdc_map_pxl_x
         02:C309  A9 01      			lda.h	#256
         02:C30B  8D CB 26   			sta.h	_vdc_map_pxl_x
 5127                        	
 5128                        		.dbg	line,	"include\routines_INTRO.c", 142; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 5129                        		__st.umiq	0, _al
         02:C30E  64 F8      			stz	_al
 5130                        		__st.umiq	0, _ah
         02:C310  64 F9      			stz	_ah
 5131                        		__ld.wm		_vdc_map_pxl_x
         02:C312  AD CA 26   			lda.l	_vdc_map_pxl_x
         02:C315  AC CB 26   			ldy.h	_vdc_map_pxl_x
 5132                        		__and.wi	511
         02:C318  29 FF      			and.l	#511
         02:C31A  42         			say
         02:C31B  29 01      			and.h	#511
         02:C31D  42         			say
 5133                        		__st.wmq	_bx
         02:C31E  85 FA      			sta.l	_bx
         02:C320  84 FB      			sty.h	_bx
 5134                        		__ld.wm		_vdc_map_pxl_y
         02:C322  AD CC 26   			lda.l	_vdc_map_pxl_y
         02:C325  AC CD 26   			ldy.h	_vdc_map_pxl_y
 5135                        		__and.wi	511
         02:C328  29 FF      			and.l	#511
         02:C32A  42         			say
         02:C32B  29 01      			and.h	#511
         02:C32D  42         			say
 5136                        		__st.wmq	_cx
         02:C32E  85 FC      			sta.l	_cx
         02:C330  84 FD      			sty.h	_cx
 5137                        		__st.umiq	192, _dl
         02:C332  A9 C0      			lda.l	#192
         02:C334  85 FE      			sta	_dl
 5138                        		__call		_scroll_split.5
         02:C336  20 77 FF   			call	_scroll_split.5
 5139                        	
 5140                        		.dbg	line,	"include\routines_INTRO.c", 143; }
 5141                        	
 5142                        		.dbg	line,	"include\routines_INTRO.c", 145; else if(global_counter == 76)
 5143                        		__bra		.LL89
         02:C339  4C 24 CF   			bra	.LL89
 5144    02:C33C             	.LL88:
 5145                        		__ld.wm		_global_counter
         02:C33C  AD 51 26   			lda.l	_global_counter
         02:C33F  AC 52 26   			ldy.h	_global_counter
 5146                        		__equ_w.wi	76
         02:C342  C9 4C      			cmp.l	#76
         02:C344  D0 04      			bne	!false+
         02:C346  C0 00      			cpy.h	#76
         02:C348  F0 01      			beq	!+
         02:C34A  18         	!false:		clc
         02:C34B             	!:
 5147                        		__bfalse	.LL90
         02:C34B  90 49      			bcc	.LL90
 5148                        	
 5149                        		.dbg	line,	"include\routines_INTRO.c", 146; {
 5150                        	
 5151                        		.dbg	line,	"include\routines_INTRO.c", 147; vdc_map_pxl_x = 0;
 5152                        		__st.wmiq	0, _vdc_map_pxl_x
         02:C34D  9C CA 26   			stz.l	_vdc_map_pxl_x
         02:C350  9C CB 26   			stz.h	_vdc_map_pxl_x
 5153                        	
 5154                        		.dbg	line,	"include\routines_INTRO.c", 148; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 5155                        		__st.umiq	0, _al
         02:C353  64 F8      			stz	_al
 5156                        		__st.umiq	0, _ah
         02:C355  64 F9      			stz	_ah
 5157                        		__ld.wm		_vdc_map_pxl_x
         02:C357  AD CA 26   			lda.l	_vdc_map_pxl_x
         02:C35A  AC CB 26   			ldy.h	_vdc_map_pxl_x
 5158                        		__and.wi	511
         02:C35D  29 FF      			and.l	#511
         02:C35F  42         			say
         02:C360  29 01      			and.h	#511
         02:C362  42         			say
 5159                        		__st.wmq	_bx
         02:C363  85 FA      			sta.l	_bx
         02:C365  84 FB      			sty.h	_bx
 5160                        		__ld.wm		_vdc_map_pxl_y
         02:C367  AD CC 26   			lda.l	_vdc_map_pxl_y
         02:C36A  AC CD 26   			ldy.h	_vdc_map_pxl_y
 5161                        		__and.wi	511
         02:C36D  29 FF      			and.l	#511
         02:C36F  42         			say
         02:C370  29 01      			and.h	#511
         02:C372  42         			say
 5162                        		__st.wmq	_cx
         02:C373  85 FC      			sta.l	_cx
         02:C375  84 FD      			sty.h	_cx
 5163                        		__st.umiq	192, _dl
         02:C377  A9 C0      			lda.l	#192
         02:C379  85 FE      			sta	_dl
 5164                        		__call		_scroll_split.5
         02:C37B  20 77 FF   			call	_scroll_split.5
 5165                        	
 5166                        		.dbg	line,	"include\routines_INTRO.c", 150; load_palette( 0, palette_INTRO_2, 1 );
 5167                        		__st.umiq	0, _al
         02:C37E  64 F8      			stz	_al
 5168                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         02:C380  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:C382  85 EC      			sta.l	_bp
         02:C384  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:C386  85 ED      			sta.h	_bp
         02:C388  A9 06      			lda	#bank(_palette_INTRO_2)
         02:C38A  85 02      			sta	_bp_bank
 5169                        		__st.umiq	1, _ah
         02:C38C  A9 01      			lda.l	#1
         02:C38E  85 F9      			sta	_ah
 5170                        		__call		_load_palette.3
         02:C390  20 81 FF   			call	_load_palette.3
 5171                        	
 5172                        		.dbg	line,	"include\routines_INTRO.c", 151; }
 5173                        	
 5174                        		.dbg	line,	"include\routines_INTRO.c", 153; else if(global_counter == 136)
 5175                        		__bra		.LL91
         02:C393  4C 24 CF   			bra	.LL91
 5176    02:C396             	.LL90:
 5177                        		__ld.wm		_global_counter
         02:C396  AD 51 26   			lda.l	_global_counter
         02:C399  AC 52 26   			ldy.h	_global_counter
 5178                        		__equ_w.wi	136
         02:C39C  C9 88      			cmp.l	#136
         02:C39E  D0 04      			bne	!false+
         02:C3A0  C0 00      			cpy.h	#136
         02:C3A2  F0 01      			beq	!+
         02:C3A4  18         	!false:		clc
         02:C3A5             	!:
 5179                        		__bfalse	.LL92
         02:C3A5  90 4B      			bcc	.LL92
 5180                        	
 5181                        		.dbg	line,	"include\routines_INTRO.c", 154; {
 5182                        	
 5183                        		.dbg	line,	"include\routines_INTRO.c", 155; load_palette( 0, palette_INTRO_3, 1 );
 5184                        		__st.umiq	0, _al
         02:C3A7  64 F8      			stz	_al
 5185                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         02:C3A9  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:C3AB  85 EC      			sta.l	_bp
         02:C3AD  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:C3AF  85 ED      			sta.h	_bp
         02:C3B1  A9 06      			lda	#bank(_palette_INTRO_3)
         02:C3B3  85 02      			sta	_bp_bank
 5186                        		__st.umiq	1, _ah
         02:C3B5  A9 01      			lda.l	#1
         02:C3B7  85 F9      			sta	_ah
 5187                        		__call		_load_palette.3
         02:C3B9  20 81 FF   			call	_load_palette.3
 5188                        	
 5189                        		.dbg	line,	"include\routines_INTRO.c", 157; vdc_map_pxl_x = 256;
 5190                        		__st.wmiq	256, _vdc_map_pxl_x
         02:C3BC  9C CA 26   			stz.l	_vdc_map_pxl_x
         02:C3BF  A9 01      			lda.h	#256
         02:C3C1  8D CB 26   			sta.h	_vdc_map_pxl_x
 5191                        	
 5192                        		.dbg	line,	"include\routines_INTRO.c", 158; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 5193                        		__st.umiq	0, _al
         02:C3C4  64 F8      			stz	_al
 5194                        		__st.umiq	0, _ah
         02:C3C6  64 F9      			stz	_ah
 5195                        		__ld.wm		_vdc_map_pxl_x
         02:C3C8  AD CA 26   			lda.l	_vdc_map_pxl_x
         02:C3CB  AC CB 26   			ldy.h	_vdc_map_pxl_x
 5196                        		__and.wi	511
         02:C3CE  29 FF      			and.l	#511
         02:C3D0  42         			say
         02:C3D1  29 01      			and.h	#511
         02:C3D3  42         			say
 5197                        		__st.wmq	_bx
         02:C3D4  85 FA      			sta.l	_bx
         02:C3D6  84 FB      			sty.h	_bx
 5198                        		__ld.wm		_vdc_map_pxl_y
         02:C3D8  AD CC 26   			lda.l	_vdc_map_pxl_y
         02:C3DB  AC CD 26   			ldy.h	_vdc_map_pxl_y
 5199                        		__and.wi	511
         02:C3DE  29 FF      			and.l	#511
         02:C3E0  42         			say
         02:C3E1  29 01      			and.h	#511
         02:C3E3  42         			say
 5200                        		__st.wmq	_cx
         02:C3E4  85 FC      			sta.l	_cx
         02:C3E6  84 FD      			sty.h	_cx
 5201                        		__st.umiq	192, _dl
         02:C3E8  A9 C0      			lda.l	#192
         02:C3EA  85 FE      			sta	_dl
 5202                        		__call		_scroll_split.5
         02:C3EC  20 77 FF   			call	_scroll_split.5
 5203                        	
 5204                        		.dbg	line,	"include\routines_INTRO.c", 159; }
 5205                        	
 5206                        		.dbg	line,	"include\routines_INTRO.c", 161; else if(global_counter == 140)
 5207                        		__bra		.LL93
         02:C3EF  4C 24 CF   			bra	.LL93
 5208    02:C3F2             	.LL92:
 5209                        		__ld.wm		_global_counter
         02:C3F2  AD 51 26   			lda.l	_global_counter
         02:C3F5  AC 52 26   			ldy.h	_global_counter
 5210                        		__equ_w.wi	140
         02:C3F8  C9 8C      			cmp.l	#140
         02:C3FA  D0 04      			bne	!false+
         02:C3FC  C0 00      			cpy.h	#140
         02:C3FE  F0 01      			beq	!+
         02:C400  18         	!false:		clc
         02:C401             	!:
 5211                        		__bfalse	.LL94
         02:C401  90 34      			bcc	.LL94
 5212                        	
 5213                        		.dbg	line,	"include\routines_INTRO.c", 162; {
 5214                        	
 5215                        		.dbg	line,	"include\routines_INTRO.c", 163; vdc_map_pxl_x = 0;
 5216                        		__st.wmiq	0, _vdc_map_pxl_x
         02:C403  9C CA 26   			stz.l	_vdc_map_pxl_x
         02:C406  9C CB 26   			stz.h	_vdc_map_pxl_x
 5217                        	
 5218                        		.dbg	line,	"include\routines_INTRO.c", 164; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 5219                        		__st.umiq	0, _al
         02:C409  64 F8      			stz	_al
 5220                        		__st.umiq	0, _ah
         02:C40B  64 F9      			stz	_ah
 5221                        		__ld.wm		_vdc_map_pxl_x
         02:C40D  AD CA 26   			lda.l	_vdc_map_pxl_x
         02:C410  AC CB 26   			ldy.h	_vdc_map_pxl_x
 5222                        		__and.wi	511
         02:C413  29 FF      			and.l	#511
         02:C415  42         			say
         02:C416  29 01      			and.h	#511
         02:C418  42         			say
 5223                        		__st.wmq	_bx
         02:C419  85 FA      			sta.l	_bx
         02:C41B  84 FB      			sty.h	_bx
 5224                        		__ld.wm		_vdc_map_pxl_y
         02:C41D  AD CC 26   			lda.l	_vdc_map_pxl_y
         02:C420  AC CD 26   			ldy.h	_vdc_map_pxl_y
 5225                        		__and.wi	511
         02:C423  29 FF      			and.l	#511
         02:C425  42         			say
         02:C426  29 01      			and.h	#511
         02:C428  42         			say
 5226                        		__st.wmq	_cx
         02:C429  85 FC      			sta.l	_cx
         02:C42B  84 FD      			sty.h	_cx
 5227                        		__st.umiq	192, _dl
         02:C42D  A9 C0      			lda.l	#192
         02:C42F  85 FE      			sta	_dl
 5228                        		__call		_scroll_split.5
         02:C431  20 77 FF   			call	_scroll_split.5
 5229                        	
 5230                        		.dbg	line,	"include\routines_INTRO.c", 165; }
 5231                        	
 5232                        		.dbg	line,	"include\routines_INTRO.c", 167; else if(global_counter == 141)
 5233                        		__bra		.LL95
         02:C434  4C 24 CF   			bra	.LL95
 5234    02:C437             	.LL94:
 5235                        		__ld.wm		_global_counter
         02:C437  AD 51 26   			lda.l	_global_counter
         02:C43A  AC 52 26   			ldy.h	_global_counter
 5236                        		__equ_w.wi	141
         02:C43D  C9 8D      			cmp.l	#141
         02:C43F  D0 04      			bne	!false+
         02:C441  C0 00      			cpy.h	#141
         02:C443  F0 01      			beq	!+
         02:C445  18         	!false:		clc
         02:C446             	!:
 5237                        		__bfalse	.LL96
         02:C446  90 18      			bcc	.LL96
 5238                        	
 5239                        		.dbg	line,	"include\routines_INTRO.c", 168; {
 5240                        	
 5241                        		.dbg	line,	"include\routines_INTRO.c", 169; load_palette( 0, palette_INTRO_2, 1 );
 5242                        		__st.umiq	0, _al
         02:C448  64 F8      			stz	_al
 5243                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         02:C44A  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:C44C  85 EC      			sta.l	_bp
         02:C44E  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:C450  85 ED      			sta.h	_bp
         02:C452  A9 06      			lda	#bank(_palette_INTRO_2)
         02:C454  85 02      			sta	_bp_bank
 5244                        		__st.umiq	1, _ah
         02:C456  A9 01      			lda.l	#1
         02:C458  85 F9      			sta	_ah
 5245                        		__call		_load_palette.3
         02:C45A  20 81 FF   			call	_load_palette.3
 5246                        	
 5247                        		.dbg	line,	"include\routines_INTRO.c", 170; }
 5248                        	
 5249                        		.dbg	line,	"include\routines_INTRO.c", 172; else if(global_counter == 145)
 5250                        		__bra		.LL97
         02:C45D  4C 24 CF   			bra	.LL97
 5251    02:C460             	.LL96:
 5252                        		__ld.wm		_global_counter
         02:C460  AD 51 26   			lda.l	_global_counter
         02:C463  AC 52 26   			ldy.h	_global_counter
 5253                        		__equ_w.wi	145
         02:C466  C9 91      			cmp.l	#145
         02:C468  D0 04      			bne	!false+
         02:C46A  C0 00      			cpy.h	#145
         02:C46C  F0 01      			beq	!+
         02:C46E  18         	!false:		clc
         02:C46F             	!:
 5254                        		__bfalse	.LL98
         02:C46F  90 4B      			bcc	.LL98
 5255                        	
 5256                        		.dbg	line,	"include\routines_INTRO.c", 173; {
 5257                        	
 5258                        		.dbg	line,	"include\routines_INTRO.c", 174; vdc_map_pxl_y = 256;
 5259                        		__st.wmiq	256, _vdc_map_pxl_y
         02:C471  9C CC 26   			stz.l	_vdc_map_pxl_y
         02:C474  A9 01      			lda.h	#256
         02:C476  8D CD 26   			sta.h	_vdc_map_pxl_y
 5260                        	
 5261                        		.dbg	line,	"include\routines_INTRO.c", 175; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 5262                        		__st.umiq	0, _al
         02:C479  64 F8      			stz	_al
 5263                        		__st.umiq	0, _ah
         02:C47B  64 F9      			stz	_ah
 5264                        		__ld.wm		_vdc_map_pxl_x
         02:C47D  AD CA 26   			lda.l	_vdc_map_pxl_x
         02:C480  AC CB 26   			ldy.h	_vdc_map_pxl_x
 5265                        		__and.wi	511
         02:C483  29 FF      			and.l	#511
         02:C485  42         			say
         02:C486  29 01      			and.h	#511
         02:C488  42         			say
 5266                        		__st.wmq	_bx
         02:C489  85 FA      			sta.l	_bx
         02:C48B  84 FB      			sty.h	_bx
 5267                        		__ld.wm		_vdc_map_pxl_y
         02:C48D  AD CC 26   			lda.l	_vdc_map_pxl_y
         02:C490  AC CD 26   			ldy.h	_vdc_map_pxl_y
 5268                        		__and.wi	511
         02:C493  29 FF      			and.l	#511
         02:C495  42         			say
         02:C496  29 01      			and.h	#511
         02:C498  42         			say
 5269                        		__st.wmq	_cx
         02:C499  85 FC      			sta.l	_cx
         02:C49B  84 FD      			sty.h	_cx
 5270                        		__st.umiq	192, _dl
         02:C49D  A9 C0      			lda.l	#192
         02:C49F  85 FE      			sta	_dl
 5271                        		__call		_scroll_split.5
         02:C4A1  20 77 FF   			call	_scroll_split.5
 5272                        	
 5273                        		.dbg	line,	"include\routines_INTRO.c", 177; load_palette( 0, palette_INTRO_3, 1 );
 5274                        		__st.umiq	0, _al
         02:C4A4  64 F8      			stz	_al
 5275                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         02:C4A6  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:C4A8  85 EC      			sta.l	_bp
         02:C4AA  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:C4AC  85 ED      			sta.h	_bp
         02:C4AE  A9 06      			lda	#bank(_palette_INTRO_3)
         02:C4B0  85 02      			sta	_bp_bank
 5276                        		__st.umiq	1, _ah
         02:C4B2  A9 01      			lda.l	#1
         02:C4B4  85 F9      			sta	_ah
 5277                        		__call		_load_palette.3
         02:C4B6  20 81 FF   			call	_load_palette.3
 5278                        	
 5279                        		.dbg	line,	"include\routines_INTRO.c", 178; }
 5280                        	
 5281                        		.dbg	line,	"include\routines_INTRO.c", 180; else if(global_counter == 149)
 5282                        		__bra		.LL99
         02:C4B9  4C 24 CF   			bra	.LL99
 5283    02:C4BC             	.LL98:
 5284                        		__ld.wm		_global_counter
         02:C4BC  AD 51 26   			lda.l	_global_counter
         02:C4BF  AC 52 26   			ldy.h	_global_counter
 5285                        		__equ_w.wi	149
         02:C4C2  C9 95      			cmp.l	#149
         02:C4C4  D0 04      			bne	!false+
         02:C4C6  C0 00      			cpy.h	#149
         02:C4C8  F0 01      			beq	!+
         02:C4CA  18         	!false:		clc
         02:C4CB             	!:
 5286                        		__bfalse	.LL100
         02:C4CB  90 34      			bcc	.LL100
 5287                        	
 5288                        		.dbg	line,	"include\routines_INTRO.c", 181; {
 5289                        	
 5290                        		.dbg	line,	"include\routines_INTRO.c", 182; vdc_map_pxl_y = 0;
 5291                        		__st.wmiq	0, _vdc_map_pxl_y
         02:C4CD  9C CC 26   			stz.l	_vdc_map_pxl_y
         02:C4D0  9C CD 26   			stz.h	_vdc_map_pxl_y
 5292                        	
 5293                        		.dbg	line,	"include\routines_INTRO.c", 183; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 5294                        		__st.umiq	0, _al
         02:C4D3  64 F8      			stz	_al
 5295                        		__st.umiq	0, _ah
         02:C4D5  64 F9      			stz	_ah
 5296                        		__ld.wm		_vdc_map_pxl_x
         02:C4D7  AD CA 26   			lda.l	_vdc_map_pxl_x
         02:C4DA  AC CB 26   			ldy.h	_vdc_map_pxl_x
 5297                        		__and.wi	511
         02:C4DD  29 FF      			and.l	#511
         02:C4DF  42         			say
         02:C4E0  29 01      			and.h	#511
         02:C4E2  42         			say
 5298                        		__st.wmq	_bx
         02:C4E3  85 FA      			sta.l	_bx
         02:C4E5  84 FB      			sty.h	_bx
 5299                        		__ld.wm		_vdc_map_pxl_y
         02:C4E7  AD CC 26   			lda.l	_vdc_map_pxl_y
         02:C4EA  AC CD 26   			ldy.h	_vdc_map_pxl_y
 5300                        		__and.wi	511
         02:C4ED  29 FF      			and.l	#511
         02:C4EF  42         			say
         02:C4F0  29 01      			and.h	#511
         02:C4F2  42         			say
 5301                        		__st.wmq	_cx
         02:C4F3  85 FC      			sta.l	_cx
         02:C4F5  84 FD      			sty.h	_cx
 5302                        		__st.umiq	192, _dl
         02:C4F7  A9 C0      			lda.l	#192
         02:C4F9  85 FE      			sta	_dl
 5303                        		__call		_scroll_split.5
         02:C4FB  20 77 FF   			call	_scroll_split.5
 5304                        	
 5305                        		.dbg	line,	"include\routines_INTRO.c", 184; }
 5306                        	
 5307                        		.dbg	line,	"include\routines_INTRO.c", 186; else if(global_counter == 150)
 5308                        		__bra		.LL101
         02:C4FE  4C 24 CF   			bra	.LL101
 5309    02:C501             	.LL100:
 5310                        		__ld.wm		_global_counter
         02:C501  AD 51 26   			lda.l	_global_counter
         02:C504  AC 52 26   			ldy.h	_global_counter
 5311                        		__equ_w.wi	150
         02:C507  C9 96      			cmp.l	#150
         02:C509  D0 04      			bne	!false+
         02:C50B  C0 00      			cpy.h	#150
         02:C50D  F0 01      			beq	!+
         02:C50F  18         	!false:		clc
         02:C510             	!:
 5312                        		__bfalse	.LL102
         02:C510  90 38      			bcc	.LL102
 5313                        	
 5314                        		.dbg	line,	"include\routines_INTRO.c", 187; {
 5315                        	
 5316                        		.dbg	line,	"include\routines_INTRO.c", 188; for(i=0 ; i<8 ; i++)
 5317                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:C512  9C 23 2C   			stz	__sequence_INTRO_end - 1
 5318    02:C515             	.LL103:
 5319                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C515  AD 23 2C   			lda	__sequence_INTRO_end - 1
 5320                        		__ult_b.uiq	8
         02:C518  C9 08      			cmp	#8		; Subtract integer from A.
         02:C51A  6A         			ror	a		; CC if A < integer.
         02:C51B  49 80      			eor	#$80
         02:C51D  2A         			rol	a
 5321                        		__btrue		.LL105
         02:C51E  B0 07      			bcs	.LL105
 5322                        		__bra		.LL106
         02:C520  80 10      			bra	.LL106
 5323    02:C522             	.LL104:
 5324                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:C522  EE 23 2C   			inc	__sequence_INTRO_end - 1
 5325                        		__bra		.LL103
         02:C525  80 EE      			bra	.LL103
 5326    02:C527             	.LL105:
 5327                        	
 5328                        		.dbg	line,	"include\routines_INTRO.c", 189; {
 5329                        	
 5330                        		.dbg	line,	"include\routines_INTRO.c", 190; sgx_spr_set(i);
 5331                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C527  AD 23 2C   			lda	__sequence_INTRO_end - 1
 5332                        		__call		_sgx_spr_set.1
         02:C52A  20 9E E8   			call	_sgx_spr_set.1
 5333                        	
 5334                        		.dbg	line,	"include\routines_INTRO.c", 191; sgx_spr_hide();
 5335                        		__call		_sgx_spr_hide
         02:C52D  20 B9 E8   			call	_sgx_spr_hide
 5336                        	
 5337                        		.dbg	line,	"include\routines_INTRO.c", 192; }
 5338                        		__bra		.LL104
         02:C530  80 F0      			bra	.LL104
 5339    02:C532             	.LL106:
 5340                        	
 5341                        		.dbg	line,	"include\routines_INTRO.c", 193; 
 5342                        	
 5343                        		.dbg	line,	"include\routines_INTRO.c", 194; load_palette( 0, palette_INTRO_2, 1 );
 5344                        		__st.umiq	0, _al
         02:C532  64 F8      			stz	_al
 5345                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         02:C534  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:C536  85 EC      			sta.l	_bp
         02:C538  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:C53A  85 ED      			sta.h	_bp
         02:C53C  A9 06      			lda	#bank(_palette_INTRO_2)
         02:C53E  85 02      			sta	_bp_bank
 5346                        		__st.umiq	1, _ah
         02:C540  A9 01      			lda.l	#1
         02:C542  85 F9      			sta	_ah
 5347                        		__call		_load_palette.3
         02:C544  20 81 FF   			call	_load_palette.3
 5348                        	
 5349                        		.dbg	line,	"include\routines_INTRO.c", 195; }
 5350                        	
 5351                        		.dbg	line,	"include\routines_INTRO.c", 197; else if(global_counter == 152)
 5352                        		__bra		.LL107
         02:C547  4C 24 CF   			bra	.LL107
 5353    02:C54A             	.LL102:
 5354                        		__ld.wm		_global_counter
         02:C54A  AD 51 26   			lda.l	_global_counter
         02:C54D  AC 52 26   			ldy.h	_global_counter
 5355                        		__equ_w.wi	152
         02:C550  C9 98      			cmp.l	#152
         02:C552  D0 04      			bne	!false+
         02:C554  C0 00      			cpy.h	#152
         02:C556  F0 01      			beq	!+
         02:C558  18         	!false:		clc
         02:C559             	!:
 5356                        		__bfalse	.LL108
         02:C559  90 76      			bcc	.LL108
 5357                        	
 5358                        		.dbg	line,	"include\routines_INTRO.c", 198; {
 5359                        	
 5360                        		.dbg	line,	"include\routines_INTRO.c", 199; for(i=0 ; i<8 ; i++)
 5361                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:C55B  9C 23 2C   			stz	__sequence_INTRO_end - 1
 5362    02:C55E             	.LL109:
 5363                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C55E  AD 23 2C   			lda	__sequence_INTRO_end - 1
 5364                        		__ult_b.uiq	8
         02:C561  C9 08      			cmp	#8		; Subtract integer from A.
         02:C563  6A         			ror	a		; CC if A < integer.
         02:C564  49 80      			eor	#$80
         02:C566  2A         			rol	a
 5365                        		__btrue		.LL111
         02:C567  B0 08      			bcs	.LL111
 5366                        		__bra		.LL112
         02:C569  4C 24 CF   			bra	.LL112
 5367    02:C56C             	.LL110:
 5368                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:C56C  EE 23 2C   			inc	__sequence_INTRO_end - 1
 5369                        		__bra		.LL109
         02:C56F  80 ED      			bra	.LL109
 5370    02:C571             	.LL111:
 5371                        	
 5372                        		.dbg	line,	"include\routines_INTRO.c", 200; {
 5373                        	
 5374                        		.dbg	line,	"include\routines_INTRO.c", 201; sgx_spr_set(i);
 5375                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C571  AD 23 2C   			lda	__sequence_INTRO_end - 1
 5376                        		__call		_sgx_spr_set.1
         02:C574  20 9E E8   			call	_sgx_spr_set.1
 5377                        	
 5378                        		.dbg	line,	"include\routines_INTRO.c", 202; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 5379                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C577  AD 23 2C   			lda	__sequence_INTRO_end - 1
         02:C57A  C2         			cly
 5380                        		__asl.wi	5
         02:C57B  85 00      			sta	__temp
         02:C57D  98         			tya
         02:C57E  4A         			lsr	a
         02:C57F  20 C8 E1   			jsr	aslw5
         02:C582  29 E0      			and.l	#$FF << 5
 5381                        		__add.wm	_player_pos_x
         02:C584  18         			clc
         02:C585  6D F7 24   			adc.l	_player_pos_x
         02:C588  42         			say
         02:C589  6D F8 24   			adc.h	_player_pos_x
         02:C58C  42         			say
 5382                        		__push.wr
         02:C58D  5A         			phy
         02:C58E  48         			pha
 5383                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C58F  AD 23 2C   			lda	__sequence_INTRO_end - 1
         02:C592  C2         			cly
 5384                        		__lsr.uiq	2
         02:C593  4A         			lsr	a
         02:C594  4A         			lsr	a
 5385                        		__asl.wi	7
         02:C595  42         			say
         02:C596  4A         			lsr	a
         02:C597  42         			say
         02:C598  6A         			ror	a
         02:C599  42         			say
         02:C59A  6A         			ror	a
         02:C59B  29 80      			and	#$80
 5386                        		__sub.wt
         02:C59D  BA         			tsx
         02:C59E  38         			sec
         02:C59F  49 FF      			eor	#$FF
         02:C5A1  7D 01 21   			adc.l	__tos, x
         02:C5A4  42         			say
         02:C5A5  49 FF      			eor	#$FF
         02:C5A7  7D 02 21   			adc.h	__tos, x
         02:C5AA  42         			say
         02:C5AB  E8         			inx
         02:C5AC  E8         			inx
         02:C5AD  9A         			txs
 5387                        		__call		_sgx_spr_x.1
         02:C5AE  20 CB E8   			call	_sgx_spr_x.1
 5388                        	
 5389                        		.dbg	line,	"include\routines_INTRO.c", 203; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 5390                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C5B1  AD 23 2C   			lda	__sequence_INTRO_end - 1
         02:C5B4  C2         			cly
 5391                        		__lsr.uiq	2
         02:C5B5  4A         			lsr	a
         02:C5B6  4A         			lsr	a
 5392                        		__asl.wi	5
         02:C5B7  85 00      			sta	__temp
         02:C5B9  98         			tya
         02:C5BA  4A         			lsr	a
         02:C5BB  20 C8 E1   			jsr	aslw5
         02:C5BE  29 E0      			and.l	#$FF << 5
 5393                        		__add.wm	_player_pos_y
         02:C5C0  18         			clc
         02:C5C1  6D F9 24   			adc.l	_player_pos_y
         02:C5C4  42         			say
         02:C5C5  6D FA 24   			adc.h	_player_pos_y
         02:C5C8  42         			say
 5394                        		__call		_sgx_spr_y.1
         02:C5C9  20 DA E8   			call	_sgx_spr_y.1
 5395                        	
 5396                        		.dbg	line,	"include\routines_INTRO.c", 204; }
 5397                        		__bra		.LL110
         02:C5CC  80 9E      			bra	.LL110
 5398    02:C5CE             	.LL112	.alias		.LL113
 5399                        	
 5400                        		.dbg	line,	"include\routines_INTRO.c", 205; }
 5401                        	
 5402                        		.dbg	line,	"include\routines_INTRO.c", 207; else if(global_counter == 154)
 5403                        		__bra		.LL113
         02:C5CE  4C 24 CF   			bra	.LL113
 5404    02:C5D1             	.LL108:
 5405                        		__ld.wm		_global_counter
         02:C5D1  AD 51 26   			lda.l	_global_counter
         02:C5D4  AC 52 26   			ldy.h	_global_counter
 5406                        		__equ_w.wi	154
         02:C5D7  C9 9A      			cmp.l	#154
         02:C5D9  D0 04      			bne	!false+
         02:C5DB  C0 00      			cpy.h	#154
         02:C5DD  F0 01      			beq	!+
         02:C5DF  18         	!false:		clc
         02:C5E0             	!:
 5407                        		__bfalse	.LL114
         02:C5E0  90 73      			bcc	.LL114
 5408                        	
 5409                        		.dbg	line,	"include\routines_INTRO.c", 208; {
 5410                        	
 5411                        		.dbg	line,	"include\routines_INTRO.c", 209; for(i=0 ; i<8 ; i++)
 5412                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:C5E2  9C 23 2C   			stz	__sequence_INTRO_end - 1
 5413    02:C5E5             	.LL115:
 5414                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C5E5  AD 23 2C   			lda	__sequence_INTRO_end - 1
 5415                        		__ult_b.uiq	8
         02:C5E8  C9 08      			cmp	#8		; Subtract integer from A.
         02:C5EA  6A         			ror	a		; CC if A < integer.
         02:C5EB  49 80      			eor	#$80
         02:C5ED  2A         			rol	a
 5416                        		__btrue		.LL117
         02:C5EE  B0 07      			bcs	.LL117
 5417                        		__bra		.LL118
         02:C5F0  80 10      			bra	.LL118
 5418    02:C5F2             	.LL116:
 5419                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:C5F2  EE 23 2C   			inc	__sequence_INTRO_end - 1
 5420                        		__bra		.LL115
         02:C5F5  80 EE      			bra	.LL115
 5421    02:C5F7             	.LL117:
 5422                        	
 5423                        		.dbg	line,	"include\routines_INTRO.c", 210; {
 5424                        	
 5425                        		.dbg	line,	"include\routines_INTRO.c", 211; sgx_spr_set(i);
 5426                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C5F7  AD 23 2C   			lda	__sequence_INTRO_end - 1
 5427                        		__call		_sgx_spr_set.1
         02:C5FA  20 9E E8   			call	_sgx_spr_set.1
 5428                        	
 5429                        		.dbg	line,	"include\routines_INTRO.c", 212; sgx_spr_hide();
 5430                        		__call		_sgx_spr_hide
         02:C5FD  20 B9 E8   			call	_sgx_spr_hide
 5431                        	
 5432                        		.dbg	line,	"include\routines_INTRO.c", 213; }
 5433                        		__bra		.LL116
         02:C600  80 F0      			bra	.LL116
 5434    02:C602             	.LL118:
 5435                        	
 5436                        		.dbg	line,	"include\routines_INTRO.c", 215; vdc_map_pxl_x = 256;
 5437                        		__st.wmiq	256, _vdc_map_pxl_x
         02:C602  9C CA 26   			stz.l	_vdc_map_pxl_x
         02:C605  A9 01      			lda.h	#256
         02:C607  8D CB 26   			sta.h	_vdc_map_pxl_x
 5438                        	
 5439                        		.dbg	line,	"include\routines_INTRO.c", 216; vdc_map_pxl_y = 256;
 5440                        		__st.wmiq	256, _vdc_map_pxl_y
         02:C60A  9C CC 26   			stz.l	_vdc_map_pxl_y
         02:C60D  A9 01      			lda.h	#256
         02:C60F  8D CD 26   			sta.h	_vdc_map_pxl_y
 5441                        	
 5442                        		.dbg	line,	"include\routines_INTRO.c", 217; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 5443                        		__st.umiq	0, _al
         02:C612  64 F8      			stz	_al
 5444                        		__st.umiq	0, _ah
         02:C614  64 F9      			stz	_ah
 5445                        		__ld.wm		_vdc_map_pxl_x
         02:C616  AD CA 26   			lda.l	_vdc_map_pxl_x
         02:C619  AC CB 26   			ldy.h	_vdc_map_pxl_x
 5446                        		__and.wi	511
         02:C61C  29 FF      			and.l	#511
         02:C61E  42         			say
         02:C61F  29 01      			and.h	#511
         02:C621  42         			say
 5447                        		__st.wmq	_bx
         02:C622  85 FA      			sta.l	_bx
         02:C624  84 FB      			sty.h	_bx
 5448                        		__ld.wm		_vdc_map_pxl_y
         02:C626  AD CC 26   			lda.l	_vdc_map_pxl_y
         02:C629  AC CD 26   			ldy.h	_vdc_map_pxl_y
 5449                        		__and.wi	511
         02:C62C  29 FF      			and.l	#511
         02:C62E  42         			say
         02:C62F  29 01      			and.h	#511
         02:C631  42         			say
 5450                        		__st.wmq	_cx
         02:C632  85 FC      			sta.l	_cx
         02:C634  84 FD      			sty.h	_cx
 5451                        		__st.umiq	192, _dl
         02:C636  A9 C0      			lda.l	#192
         02:C638  85 FE      			sta	_dl
 5452                        		__call		_scroll_split.5
         02:C63A  20 77 FF   			call	_scroll_split.5
 5453                        	
 5454                        		.dbg	line,	"include\routines_INTRO.c", 219; load_palette( 0, palette_INTRO_3, 1 );
 5455                        		__st.umiq	0, _al
         02:C63D  64 F8      			stz	_al
 5456                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         02:C63F  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:C641  85 EC      			sta.l	_bp
         02:C643  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:C645  85 ED      			sta.h	_bp
         02:C647  A9 06      			lda	#bank(_palette_INTRO_3)
         02:C649  85 02      			sta	_bp_bank
 5457                        		__st.umiq	1, _ah
         02:C64B  A9 01      			lda.l	#1
         02:C64D  85 F9      			sta	_ah
 5458                        		__call		_load_palette.3
         02:C64F  20 81 FF   			call	_load_palette.3
 5459                        	
 5460                        		.dbg	line,	"include\routines_INTRO.c", 220; }
 5461                        	
 5462                        		.dbg	line,	"include\routines_INTRO.c", 222; else if(global_counter == 156)
 5463                        		__bra		.LL119
         02:C652  4C 24 CF   			bra	.LL119
 5464    02:C655             	.LL114:
 5465                        		__ld.wm		_global_counter
         02:C655  AD 51 26   			lda.l	_global_counter
         02:C658  AC 52 26   			ldy.h	_global_counter
 5466                        		__equ_w.wi	156
         02:C65B  C9 9C      			cmp.l	#156
         02:C65D  D0 04      			bne	!false+
         02:C65F  C0 00      			cpy.h	#156
         02:C661  F0 01      			beq	!+
         02:C663  18         	!false:		clc
         02:C664             	!:
 5467                        		__bfalse	.LL120
         02:C664  90 76      			bcc	.LL120
 5468                        	
 5469                        		.dbg	line,	"include\routines_INTRO.c", 223; {
 5470                        	
 5471                        		.dbg	line,	"include\routines_INTRO.c", 224; for(i=0 ; i<8 ; i++)
 5472                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:C666  9C 23 2C   			stz	__sequence_INTRO_end - 1
 5473    02:C669             	.LL121:
 5474                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C669  AD 23 2C   			lda	__sequence_INTRO_end - 1
 5475                        		__ult_b.uiq	8
         02:C66C  C9 08      			cmp	#8		; Subtract integer from A.
         02:C66E  6A         			ror	a		; CC if A < integer.
         02:C66F  49 80      			eor	#$80
         02:C671  2A         			rol	a
 5476                        		__btrue		.LL123
         02:C672  B0 08      			bcs	.LL123
 5477                        		__bra		.LL124
         02:C674  4C 24 CF   			bra	.LL124
 5478    02:C677             	.LL122:
 5479                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:C677  EE 23 2C   			inc	__sequence_INTRO_end - 1
 5480                        		__bra		.LL121
         02:C67A  80 ED      			bra	.LL121
 5481    02:C67C             	.LL123:
 5482                        	
 5483                        		.dbg	line,	"include\routines_INTRO.c", 225; {
 5484                        	
 5485                        		.dbg	line,	"include\routines_INTRO.c", 226; sgx_spr_set(i);
 5486                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C67C  AD 23 2C   			lda	__sequence_INTRO_end - 1
 5487                        		__call		_sgx_spr_set.1
         02:C67F  20 9E E8   			call	_sgx_spr_set.1
 5488                        	
 5489                        		.dbg	line,	"include\routines_INTRO.c", 227; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 5490                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C682  AD 23 2C   			lda	__sequence_INTRO_end - 1
         02:C685  C2         			cly
 5491                        		__asl.wi	5
         02:C686  85 00      			sta	__temp
         02:C688  98         			tya
         02:C689  4A         			lsr	a
         02:C68A  20 C8 E1   			jsr	aslw5
         02:C68D  29 E0      			and.l	#$FF << 5
 5492                        		__add.wm	_player_pos_x
         02:C68F  18         			clc
         02:C690  6D F7 24   			adc.l	_player_pos_x
         02:C693  42         			say
         02:C694  6D F8 24   			adc.h	_player_pos_x
         02:C697  42         			say
 5493                        		__push.wr
         02:C698  5A         			phy
         02:C699  48         			pha
 5494                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C69A  AD 23 2C   			lda	__sequence_INTRO_end - 1
         02:C69D  C2         			cly
 5495                        		__lsr.uiq	2
         02:C69E  4A         			lsr	a
         02:C69F  4A         			lsr	a
 5496                        		__asl.wi	7
         02:C6A0  42         			say
         02:C6A1  4A         			lsr	a
         02:C6A2  42         			say
         02:C6A3  6A         			ror	a
         02:C6A4  42         			say
         02:C6A5  6A         			ror	a
         02:C6A6  29 80      			and	#$80
 5497                        		__sub.wt
         02:C6A8  BA         			tsx
         02:C6A9  38         			sec
         02:C6AA  49 FF      			eor	#$FF
         02:C6AC  7D 01 21   			adc.l	__tos, x
         02:C6AF  42         			say
         02:C6B0  49 FF      			eor	#$FF
         02:C6B2  7D 02 21   			adc.h	__tos, x
         02:C6B5  42         			say
         02:C6B6  E8         			inx
         02:C6B7  E8         			inx
         02:C6B8  9A         			txs
 5498                        		__call		_sgx_spr_x.1
         02:C6B9  20 CB E8   			call	_sgx_spr_x.1
 5499                        	
 5500                        		.dbg	line,	"include\routines_INTRO.c", 228; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 5501                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C6BC  AD 23 2C   			lda	__sequence_INTRO_end - 1
         02:C6BF  C2         			cly
 5502                        		__lsr.uiq	2
         02:C6C0  4A         			lsr	a
         02:C6C1  4A         			lsr	a
 5503                        		__asl.wi	5
         02:C6C2  85 00      			sta	__temp
         02:C6C4  98         			tya
         02:C6C5  4A         			lsr	a
         02:C6C6  20 C8 E1   			jsr	aslw5
         02:C6C9  29 E0      			and.l	#$FF << 5
 5504                        		__add.wm	_player_pos_y
         02:C6CB  18         			clc
         02:C6CC  6D F9 24   			adc.l	_player_pos_y
         02:C6CF  42         			say
         02:C6D0  6D FA 24   			adc.h	_player_pos_y
         02:C6D3  42         			say
 5505                        		__call		_sgx_spr_y.1
         02:C6D4  20 DA E8   			call	_sgx_spr_y.1
 5506                        	
 5507                        		.dbg	line,	"include\routines_INTRO.c", 229; }
 5508                        		__bra		.LL122
         02:C6D7  80 9E      			bra	.LL122
 5509    02:C6D9             	.LL124	.alias		.LL125
 5510                        	
 5511                        		.dbg	line,	"include\routines_INTRO.c", 230; }
 5512                        	
 5513                        		.dbg	line,	"include\routines_INTRO.c", 232; else if(global_counter == 158)
 5514                        		__bra		.LL125
         02:C6D9  4C 24 CF   			bra	.LL125
 5515    02:C6DC             	.LL120:
 5516                        		__ld.wm		_global_counter
         02:C6DC  AD 51 26   			lda.l	_global_counter
         02:C6DF  AC 52 26   			ldy.h	_global_counter
 5517                        		__equ_w.wi	158
         02:C6E2  C9 9E      			cmp.l	#158
         02:C6E4  D0 04      			bne	!false+
         02:C6E6  C0 00      			cpy.h	#158
         02:C6E8  F0 01      			beq	!+
         02:C6EA  18         	!false:		clc
         02:C6EB             	!:
 5518                        		__bfalse	.LL126
         02:C6EB  90 5A      			bcc	.LL126
 5519                        	
 5520                        		.dbg	line,	"include\routines_INTRO.c", 233; {
 5521                        	
 5522                        		.dbg	line,	"include\routines_INTRO.c", 234; for(i=0 ; i<8 ; i++)
 5523                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:C6ED  9C 23 2C   			stz	__sequence_INTRO_end - 1
 5524    02:C6F0             	.LL127:
 5525                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C6F0  AD 23 2C   			lda	__sequence_INTRO_end - 1
 5526                        		__ult_b.uiq	8
         02:C6F3  C9 08      			cmp	#8		; Subtract integer from A.
         02:C6F5  6A         			ror	a		; CC if A < integer.
         02:C6F6  49 80      			eor	#$80
         02:C6F8  2A         			rol	a
 5527                        		__btrue		.LL129
         02:C6F9  B0 07      			bcs	.LL129
 5528                        		__bra		.LL130
         02:C6FB  80 10      			bra	.LL130
 5529    02:C6FD             	.LL128:
 5530                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:C6FD  EE 23 2C   			inc	__sequence_INTRO_end - 1
 5531                        		__bra		.LL127
         02:C700  80 EE      			bra	.LL127
 5532    02:C702             	.LL129:
 5533                        	
 5534                        		.dbg	line,	"include\routines_INTRO.c", 235; {
 5535                        	
 5536                        		.dbg	line,	"include\routines_INTRO.c", 236; sgx_spr_set(i);
 5537                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C702  AD 23 2C   			lda	__sequence_INTRO_end - 1
 5538                        		__call		_sgx_spr_set.1
         02:C705  20 9E E8   			call	_sgx_spr_set.1
 5539                        	
 5540                        		.dbg	line,	"include\routines_INTRO.c", 237; sgx_spr_hide();
 5541                        		__call		_sgx_spr_hide
         02:C708  20 B9 E8   			call	_sgx_spr_hide
 5542                        	
 5543                        		.dbg	line,	"include\routines_INTRO.c", 238; }
 5544                        		__bra		.LL128
         02:C70B  80 F0      			bra	.LL128
 5545    02:C70D             	.LL130:
 5546                        	
 5547                        		.dbg	line,	"include\routines_INTRO.c", 240; vdc_map_pxl_x = 0;
 5548                        		__st.wmiq	0, _vdc_map_pxl_x
         02:C70D  9C CA 26   			stz.l	_vdc_map_pxl_x
         02:C710  9C CB 26   			stz.h	_vdc_map_pxl_x
 5549                        	
 5550                        		.dbg	line,	"include\routines_INTRO.c", 241; vdc_map_pxl_y = 0;
 5551                        		__st.wmiq	0, _vdc_map_pxl_y
         02:C713  9C CC 26   			stz.l	_vdc_map_pxl_y
         02:C716  9C CD 26   			stz.h	_vdc_map_pxl_y
 5552                        	
 5553                        		.dbg	line,	"include\routines_INTRO.c", 242; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 5554                        		__st.umiq	0, _al
         02:C719  64 F8      			stz	_al
 5555                        		__st.umiq	0, _ah
         02:C71B  64 F9      			stz	_ah
 5556                        		__ld.wm		_vdc_map_pxl_x
         02:C71D  AD CA 26   			lda.l	_vdc_map_pxl_x
         02:C720  AC CB 26   			ldy.h	_vdc_map_pxl_x
 5557                        		__and.wi	511
         02:C723  29 FF      			and.l	#511
         02:C725  42         			say
         02:C726  29 01      			and.h	#511
         02:C728  42         			say
 5558                        		__st.wmq	_bx
         02:C729  85 FA      			sta.l	_bx
         02:C72B  84 FB      			sty.h	_bx
 5559                        		__ld.wm		_vdc_map_pxl_y
         02:C72D  AD CC 26   			lda.l	_vdc_map_pxl_y
         02:C730  AC CD 26   			ldy.h	_vdc_map_pxl_y
 5560                        		__and.wi	511
         02:C733  29 FF      			and.l	#511
         02:C735  42         			say
         02:C736  29 01      			and.h	#511
         02:C738  42         			say
 5561                        		__st.wmq	_cx
         02:C739  85 FC      			sta.l	_cx
         02:C73B  84 FD      			sty.h	_cx
 5562                        		__st.umiq	192, _dl
         02:C73D  A9 C0      			lda.l	#192
         02:C73F  85 FE      			sta	_dl
 5563                        		__call		_scroll_split.5
         02:C741  20 77 FF   			call	_scroll_split.5
 5564                        	
 5565                        		.dbg	line,	"include\routines_INTRO.c", 243; }
 5566                        	
 5567                        		.dbg	line,	"include\routines_INTRO.c", 245; else if(global_counter == 159)
 5568                        		__bra		.LL131
         02:C744  4C 24 CF   			bra	.LL131
 5569    02:C747             	.LL126:
 5570                        		__ld.wm		_global_counter
         02:C747  AD 51 26   			lda.l	_global_counter
         02:C74A  AC 52 26   			ldy.h	_global_counter
 5571                        		__equ_w.wi	159
         02:C74D  C9 9F      			cmp.l	#159
         02:C74F  D0 04      			bne	!false+
         02:C751  C0 00      			cpy.h	#159
         02:C753  F0 01      			beq	!+
         02:C755  18         	!false:		clc
         02:C756             	!:
 5572                        		__bfalse	.LL132
         02:C756  90 36      			bcc	.LL132
 5573                        	
 5574                        		.dbg	line,	"include\routines_INTRO.c", 246; {
 5575                        	
 5576                        		.dbg	line,	"include\routines_INTRO.c", 247; vdc_map_pxl_y = 256;
 5577                        		__st.wmiq	256, _vdc_map_pxl_y
         02:C758  9C CC 26   			stz.l	_vdc_map_pxl_y
         02:C75B  A9 01      			lda.h	#256
         02:C75D  8D CD 26   			sta.h	_vdc_map_pxl_y
 5578                        	
 5579                        		.dbg	line,	"include\routines_INTRO.c", 248; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 5580                        		__st.umiq	0, _al
         02:C760  64 F8      			stz	_al
 5581                        		__st.umiq	0, _ah
         02:C762  64 F9      			stz	_ah
 5582                        		__ld.wm		_vdc_map_pxl_x
         02:C764  AD CA 26   			lda.l	_vdc_map_pxl_x
         02:C767  AC CB 26   			ldy.h	_vdc_map_pxl_x
 5583                        		__and.wi	511
         02:C76A  29 FF      			and.l	#511
         02:C76C  42         			say
         02:C76D  29 01      			and.h	#511
         02:C76F  42         			say
 5584                        		__st.wmq	_bx
         02:C770  85 FA      			sta.l	_bx
         02:C772  84 FB      			sty.h	_bx
 5585                        		__ld.wm		_vdc_map_pxl_y
         02:C774  AD CC 26   			lda.l	_vdc_map_pxl_y
         02:C777  AC CD 26   			ldy.h	_vdc_map_pxl_y
 5586                        		__and.wi	511
         02:C77A  29 FF      			and.l	#511
         02:C77C  42         			say
         02:C77D  29 01      			and.h	#511
         02:C77F  42         			say
 5587                        		__st.wmq	_cx
         02:C780  85 FC      			sta.l	_cx
         02:C782  84 FD      			sty.h	_cx
 5588                        		__st.umiq	192, _dl
         02:C784  A9 C0      			lda.l	#192
         02:C786  85 FE      			sta	_dl
 5589                        		__call		_scroll_split.5
         02:C788  20 77 FF   			call	_scroll_split.5
 5590                        	
 5591                        		.dbg	line,	"include\routines_INTRO.c", 249; }
 5592                        	
 5593                        		.dbg	line,	"include\routines_INTRO.c", 251; else if(global_counter == 160)
 5594                        		__bra		.LL133
         02:C78B  4C 24 CF   			bra	.LL133
 5595    02:C78E             	.LL132:
 5596                        		__ld.wm		_global_counter
         02:C78E  AD 51 26   			lda.l	_global_counter
         02:C791  AC 52 26   			ldy.h	_global_counter
 5597                        		__equ_w.wi	160
         02:C794  C9 A0      			cmp.l	#160
         02:C796  D0 04      			bne	!false+
         02:C798  C0 00      			cpy.h	#160
         02:C79A  F0 01      			beq	!+
         02:C79C  18         	!false:		clc
         02:C79D             	!:
 5598                        		__bfalse	.LL134
         02:C79D  B0 03 4C 50			bcc	.LL134
         02:C7A1  C8          
 5599                        	
 5600                        		.dbg	line,	"include\routines_INTRO.c", 252; {
 5601                        	
 5602                        		.dbg	line,	"include\routines_INTRO.c", 253; for(i=0 ; i<8 ; i++)
 5603                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:C7A2  9C 23 2C   			stz	__sequence_INTRO_end - 1
 5604    02:C7A5             	.LL135:
 5605                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C7A5  AD 23 2C   			lda	__sequence_INTRO_end - 1
 5606                        		__ult_b.uiq	8
         02:C7A8  C9 08      			cmp	#8		; Subtract integer from A.
         02:C7AA  6A         			ror	a		; CC if A < integer.
         02:C7AB  49 80      			eor	#$80
         02:C7AD  2A         			rol	a
 5607                        		__btrue		.LL137
         02:C7AE  B0 07      			bcs	.LL137
 5608                        		__bra		.LL138
         02:C7B0  80 62      			bra	.LL138
 5609    02:C7B2             	.LL136:
 5610                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:C7B2  EE 23 2C   			inc	__sequence_INTRO_end - 1
 5611                        		__bra		.LL135
         02:C7B5  80 EE      			bra	.LL135
 5612    02:C7B7             	.LL137:
 5613                        	
 5614                        		.dbg	line,	"include\routines_INTRO.c", 254; {
 5615                        	
 5616                        		.dbg	line,	"include\routines_INTRO.c", 255; sgx_spr_set(i);
 5617                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C7B7  AD 23 2C   			lda	__sequence_INTRO_end - 1
 5618                        		__call		_sgx_spr_set.1
         02:C7BA  20 9E E8   			call	_sgx_spr_set.1
 5619                        	
 5620                        		.dbg	line,	"include\routines_INTRO.c", 256; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 5621                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C7BD  AD 23 2C   			lda	__sequence_INTRO_end - 1
         02:C7C0  C2         			cly
 5622                        		__asl.wi	5
         02:C7C1  85 00      			sta	__temp
         02:C7C3  98         			tya
         02:C7C4  4A         			lsr	a
         02:C7C5  20 C8 E1   			jsr	aslw5
         02:C7C8  29 E0      			and.l	#$FF << 5
 5623                        		__add.wm	_player_pos_x
         02:C7CA  18         			clc
         02:C7CB  6D F7 24   			adc.l	_player_pos_x
         02:C7CE  42         			say
         02:C7CF  6D F8 24   			adc.h	_player_pos_x
         02:C7D2  42         			say
 5624                        		__push.wr
         02:C7D3  5A         			phy
         02:C7D4  48         			pha
 5625                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C7D5  AD 23 2C   			lda	__sequence_INTRO_end - 1
         02:C7D8  C2         			cly
 5626                        		__lsr.uiq	2
         02:C7D9  4A         			lsr	a
         02:C7DA  4A         			lsr	a
 5627                        		__asl.wi	7
         02:C7DB  42         			say
         02:C7DC  4A         			lsr	a
         02:C7DD  42         			say
         02:C7DE  6A         			ror	a
         02:C7DF  42         			say
         02:C7E0  6A         			ror	a
         02:C7E1  29 80      			and	#$80
 5628                        		__sub.wt
         02:C7E3  BA         			tsx
         02:C7E4  38         			sec
         02:C7E5  49 FF      			eor	#$FF
         02:C7E7  7D 01 21   			adc.l	__tos, x
         02:C7EA  42         			say
         02:C7EB  49 FF      			eor	#$FF
         02:C7ED  7D 02 21   			adc.h	__tos, x
         02:C7F0  42         			say
         02:C7F1  E8         			inx
         02:C7F2  E8         			inx
         02:C7F3  9A         			txs
 5629                        		__call		_sgx_spr_x.1
         02:C7F4  20 CB E8   			call	_sgx_spr_x.1
 5630                        	
 5631                        		.dbg	line,	"include\routines_INTRO.c", 257; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 5632                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C7F7  AD 23 2C   			lda	__sequence_INTRO_end - 1
         02:C7FA  C2         			cly
 5633                        		__lsr.uiq	2
         02:C7FB  4A         			lsr	a
         02:C7FC  4A         			lsr	a
 5634                        		__asl.wi	5
         02:C7FD  85 00      			sta	__temp
         02:C7FF  98         			tya
         02:C800  4A         			lsr	a
         02:C801  20 C8 E1   			jsr	aslw5
         02:C804  29 E0      			and.l	#$FF << 5
 5635                        		__add.wm	_player_pos_y
         02:C806  18         			clc
         02:C807  6D F9 24   			adc.l	_player_pos_y
         02:C80A  42         			say
         02:C80B  6D FA 24   			adc.h	_player_pos_y
         02:C80E  42         			say
 5636                        		__call		_sgx_spr_y.1
         02:C80F  20 DA E8   			call	_sgx_spr_y.1
 5637                        	
 5638                        		.dbg	line,	"include\routines_INTRO.c", 258; }
 5639                        		__bra		.LL136
         02:C812  80 9E      			bra	.LL136
 5640    02:C814             	.LL138:
 5641                        	
 5642                        		.dbg	line,	"include\routines_INTRO.c", 260; vdc_map_pxl_x = 256;
 5643                        		__st.wmiq	256, _vdc_map_pxl_x
         02:C814  9C CA 26   			stz.l	_vdc_map_pxl_x
         02:C817  A9 01      			lda.h	#256
         02:C819  8D CB 26   			sta.h	_vdc_map_pxl_x
 5644                        	
 5645                        		.dbg	line,	"include\routines_INTRO.c", 261; vdc_map_pxl_y = 0;
 5646                        		__st.wmiq	0, _vdc_map_pxl_y
         02:C81C  9C CC 26   			stz.l	_vdc_map_pxl_y
         02:C81F  9C CD 26   			stz.h	_vdc_map_pxl_y
 5647                        	
 5648                        		.dbg	line,	"include\routines_INTRO.c", 262; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 5649                        		__st.umiq	0, _al
         02:C822  64 F8      			stz	_al
 5650                        		__st.umiq	0, _ah
         02:C824  64 F9      			stz	_ah
 5651                        		__ld.wm		_vdc_map_pxl_x
         02:C826  AD CA 26   			lda.l	_vdc_map_pxl_x
         02:C829  AC CB 26   			ldy.h	_vdc_map_pxl_x
 5652                        		__and.wi	511
         02:C82C  29 FF      			and.l	#511
         02:C82E  42         			say
         02:C82F  29 01      			and.h	#511
         02:C831  42         			say
 5653                        		__st.wmq	_bx
         02:C832  85 FA      			sta.l	_bx
         02:C834  84 FB      			sty.h	_bx
 5654                        		__ld.wm		_vdc_map_pxl_y
         02:C836  AD CC 26   			lda.l	_vdc_map_pxl_y
         02:C839  AC CD 26   			ldy.h	_vdc_map_pxl_y
 5655                        		__and.wi	511
         02:C83C  29 FF      			and.l	#511
         02:C83E  42         			say
         02:C83F  29 01      			and.h	#511
         02:C841  42         			say
 5656                        		__st.wmq	_cx
         02:C842  85 FC      			sta.l	_cx
         02:C844  84 FD      			sty.h	_cx
 5657                        		__st.umiq	192, _dl
         02:C846  A9 C0      			lda.l	#192
         02:C848  85 FE      			sta	_dl
 5658                        		__call		_scroll_split.5
         02:C84A  20 77 FF   			call	_scroll_split.5
 5659                        	
 5660                        		.dbg	line,	"include\routines_INTRO.c", 263; }
 5661                        	
 5662                        		.dbg	line,	"include\routines_INTRO.c", 265; else if(global_counter == 162)
 5663                        		__bra		.LL139
         02:C84D  4C 24 CF   			bra	.LL139
 5664    02:C850             	.LL134:
 5665                        		__ld.wm		_global_counter
         02:C850  AD 51 26   			lda.l	_global_counter
         02:C853  AC 52 26   			ldy.h	_global_counter
 5666                        		__equ_w.wi	162
         02:C856  C9 A2      			cmp.l	#162
         02:C858  D0 04      			bne	!false+
         02:C85A  C0 00      			cpy.h	#162
         02:C85C  F0 01      			beq	!+
         02:C85E  18         	!false:		clc
         02:C85F             	!:
 5667                        		__bfalse	.LL140
         02:C85F  90 24      			bcc	.LL140
 5668                        	
 5669                        		.dbg	line,	"include\routines_INTRO.c", 266; {
 5670                        	
 5671                        		.dbg	line,	"include\routines_INTRO.c", 267; for(i=0 ; i<8 ; i++)
 5672                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:C861  9C 23 2C   			stz	__sequence_INTRO_end - 1
 5673    02:C864             	.LL141:
 5674                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C864  AD 23 2C   			lda	__sequence_INTRO_end - 1
 5675                        		__ult_b.uiq	8
         02:C867  C9 08      			cmp	#8		; Subtract integer from A.
         02:C869  6A         			ror	a		; CC if A < integer.
         02:C86A  49 80      			eor	#$80
         02:C86C  2A         			rol	a
 5676                        		__btrue		.LL143
         02:C86D  B0 08      			bcs	.LL143
 5677                        		__bra		.LL144
         02:C86F  4C 24 CF   			bra	.LL144
 5678    02:C872             	.LL142:
 5679                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:C872  EE 23 2C   			inc	__sequence_INTRO_end - 1
 5680                        		__bra		.LL141
         02:C875  80 ED      			bra	.LL141
 5681    02:C877             	.LL143:
 5682                        	
 5683                        		.dbg	line,	"include\routines_INTRO.c", 268; {
 5684                        	
 5685                        		.dbg	line,	"include\routines_INTRO.c", 269; sgx_spr_set(i);
 5686                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C877  AD 23 2C   			lda	__sequence_INTRO_end - 1
 5687                        		__call		_sgx_spr_set.1
         02:C87A  20 9E E8   			call	_sgx_spr_set.1
 5688                        	
 5689                        		.dbg	line,	"include\routines_INTRO.c", 270; sgx_spr_hide();
 5690                        		__call		_sgx_spr_hide
         02:C87D  20 B9 E8   			call	_sgx_spr_hide
 5691                        	
 5692                        		.dbg	line,	"include\routines_INTRO.c", 271; }
 5693                        		__bra		.LL142
         02:C880  80 F0      			bra	.LL142
 5694    02:C882             	.LL144	.alias		.LL145
 5695                        	
 5696                        		.dbg	line,	"include\routines_INTRO.c", 272; }
 5697                        	
 5698                        		.dbg	line,	"include\routines_INTRO.c", 274; else if(global_counter == 163)
 5699                        		__bra		.LL145
         02:C882  4C 24 CF   			bra	.LL145
 5700    02:C885             	.LL140:
 5701                        		__ld.wm		_global_counter
         02:C885  AD 51 26   			lda.l	_global_counter
         02:C888  AC 52 26   			ldy.h	_global_counter
 5702                        		__equ_w.wi	163
         02:C88B  C9 A3      			cmp.l	#163
         02:C88D  D0 04      			bne	!false+
         02:C88F  C0 00      			cpy.h	#163
         02:C891  F0 01      			beq	!+
         02:C893  18         	!false:		clc
         02:C894             	!:
 5703                        		__bfalse	.LL146
         02:C894  90 3A      			bcc	.LL146
 5704                        	
 5705                        		.dbg	line,	"include\routines_INTRO.c", 275; {
 5706                        	
 5707                        		.dbg	line,	"include\routines_INTRO.c", 276; vdc_map_pxl_x = 0;
 5708                        		__st.wmiq	0, _vdc_map_pxl_x
         02:C896  9C CA 26   			stz.l	_vdc_map_pxl_x
         02:C899  9C CB 26   			stz.h	_vdc_map_pxl_x
 5709                        	
 5710                        		.dbg	line,	"include\routines_INTRO.c", 277; vdc_map_pxl_y = 0;
 5711                        		__st.wmiq	0, _vdc_map_pxl_y
         02:C89C  9C CC 26   			stz.l	_vdc_map_pxl_y
         02:C89F  9C CD 26   			stz.h	_vdc_map_pxl_y
 5712                        	
 5713                        		.dbg	line,	"include\routines_INTRO.c", 278; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 5714                        		__st.umiq	0, _al
         02:C8A2  64 F8      			stz	_al
 5715                        		__st.umiq	0, _ah
         02:C8A4  64 F9      			stz	_ah
 5716                        		__ld.wm		_vdc_map_pxl_x
         02:C8A6  AD CA 26   			lda.l	_vdc_map_pxl_x
         02:C8A9  AC CB 26   			ldy.h	_vdc_map_pxl_x
 5717                        		__and.wi	511
         02:C8AC  29 FF      			and.l	#511
         02:C8AE  42         			say
         02:C8AF  29 01      			and.h	#511
         02:C8B1  42         			say
 5718                        		__st.wmq	_bx
         02:C8B2  85 FA      			sta.l	_bx
         02:C8B4  84 FB      			sty.h	_bx
 5719                        		__ld.wm		_vdc_map_pxl_y
         02:C8B6  AD CC 26   			lda.l	_vdc_map_pxl_y
         02:C8B9  AC CD 26   			ldy.h	_vdc_map_pxl_y
 5720                        		__and.wi	511
         02:C8BC  29 FF      			and.l	#511
         02:C8BE  42         			say
         02:C8BF  29 01      			and.h	#511
         02:C8C1  42         			say
 5721                        		__st.wmq	_cx
         02:C8C2  85 FC      			sta.l	_cx
         02:C8C4  84 FD      			sty.h	_cx
 5722                        		__st.umiq	192, _dl
         02:C8C6  A9 C0      			lda.l	#192
         02:C8C8  85 FE      			sta	_dl
 5723                        		__call		_scroll_split.5
         02:C8CA  20 77 FF   			call	_scroll_split.5
 5724                        	
 5725                        		.dbg	line,	"include\routines_INTRO.c", 279; }
 5726                        	
 5727                        		.dbg	line,	"include\routines_INTRO.c", 281; else if(global_counter == 164)
 5728                        		__bra		.LL147
         02:C8CD  4C 24 CF   			bra	.LL147
 5729    02:C8D0             	.LL146:
 5730                        		__ld.wm		_global_counter
         02:C8D0  AD 51 26   			lda.l	_global_counter
         02:C8D3  AC 52 26   			ldy.h	_global_counter
 5731                        		__equ_w.wi	164
         02:C8D6  C9 A4      			cmp.l	#164
         02:C8D8  D0 04      			bne	!false+
         02:C8DA  C0 00      			cpy.h	#164
         02:C8DC  F0 01      			beq	!+
         02:C8DE  18         	!false:		clc
         02:C8DF             	!:
 5732                        		__bfalse	.LL148
         02:C8DF  B0 03 4C 6E			bcc	.LL148
         02:C8E3  C9          
 5733                        	
 5734                        		.dbg	line,	"include\routines_INTRO.c", 282; {
 5735                        	
 5736                        		.dbg	line,	"include\routines_INTRO.c", 283; for(i=0 ; i<8 ; i++)
 5737                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:C8E4  9C 23 2C   			stz	__sequence_INTRO_end - 1
 5738    02:C8E7             	.LL149:
 5739                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C8E7  AD 23 2C   			lda	__sequence_INTRO_end - 1
 5740                        		__ult_b.uiq	8
         02:C8EA  C9 08      			cmp	#8		; Subtract integer from A.
         02:C8EC  6A         			ror	a		; CC if A < integer.
         02:C8ED  49 80      			eor	#$80
         02:C8EF  2A         			rol	a
 5741                        		__btrue		.LL151
         02:C8F0  B0 07      			bcs	.LL151
 5742                        		__bra		.LL152
         02:C8F2  80 62      			bra	.LL152
 5743    02:C8F4             	.LL150:
 5744                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:C8F4  EE 23 2C   			inc	__sequence_INTRO_end - 1
 5745                        		__bra		.LL149
         02:C8F7  80 EE      			bra	.LL149
 5746    02:C8F9             	.LL151:
 5747                        	
 5748                        		.dbg	line,	"include\routines_INTRO.c", 284; {
 5749                        	
 5750                        		.dbg	line,	"include\routines_INTRO.c", 285; sgx_spr_set(i);
 5751                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C8F9  AD 23 2C   			lda	__sequence_INTRO_end - 1
 5752                        		__call		_sgx_spr_set.1
         02:C8FC  20 9E E8   			call	_sgx_spr_set.1
 5753                        	
 5754                        		.dbg	line,	"include\routines_INTRO.c", 286; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 5755                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C8FF  AD 23 2C   			lda	__sequence_INTRO_end - 1
         02:C902  C2         			cly
 5756                        		__asl.wi	5
         02:C903  85 00      			sta	__temp
         02:C905  98         			tya
         02:C906  4A         			lsr	a
         02:C907  20 C8 E1   			jsr	aslw5
         02:C90A  29 E0      			and.l	#$FF << 5
 5757                        		__add.wm	_player_pos_x
         02:C90C  18         			clc
         02:C90D  6D F7 24   			adc.l	_player_pos_x
         02:C910  42         			say
         02:C911  6D F8 24   			adc.h	_player_pos_x
         02:C914  42         			say
 5758                        		__push.wr
         02:C915  5A         			phy
         02:C916  48         			pha
 5759                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C917  AD 23 2C   			lda	__sequence_INTRO_end - 1
         02:C91A  C2         			cly
 5760                        		__lsr.uiq	2
         02:C91B  4A         			lsr	a
         02:C91C  4A         			lsr	a
 5761                        		__asl.wi	7
         02:C91D  42         			say
         02:C91E  4A         			lsr	a
         02:C91F  42         			say
         02:C920  6A         			ror	a
         02:C921  42         			say
         02:C922  6A         			ror	a
         02:C923  29 80      			and	#$80
 5762                        		__sub.wt
         02:C925  BA         			tsx
         02:C926  38         			sec
         02:C927  49 FF      			eor	#$FF
         02:C929  7D 01 21   			adc.l	__tos, x
         02:C92C  42         			say
         02:C92D  49 FF      			eor	#$FF
         02:C92F  7D 02 21   			adc.h	__tos, x
         02:C932  42         			say
         02:C933  E8         			inx
         02:C934  E8         			inx
         02:C935  9A         			txs
 5763                        		__call		_sgx_spr_x.1
         02:C936  20 CB E8   			call	_sgx_spr_x.1
 5764                        	
 5765                        		.dbg	line,	"include\routines_INTRO.c", 287; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 5766                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C939  AD 23 2C   			lda	__sequence_INTRO_end - 1
         02:C93C  C2         			cly
 5767                        		__lsr.uiq	2
         02:C93D  4A         			lsr	a
         02:C93E  4A         			lsr	a
 5768                        		__asl.wi	5
         02:C93F  85 00      			sta	__temp
         02:C941  98         			tya
         02:C942  4A         			lsr	a
         02:C943  20 C8 E1   			jsr	aslw5
         02:C946  29 E0      			and.l	#$FF << 5
 5769                        		__add.wm	_player_pos_y
         02:C948  18         			clc
         02:C949  6D F9 24   			adc.l	_player_pos_y
         02:C94C  42         			say
         02:C94D  6D FA 24   			adc.h	_player_pos_y
         02:C950  42         			say
 5770                        		__call		_sgx_spr_y.1
         02:C951  20 DA E8   			call	_sgx_spr_y.1
 5771                        	
 5772                        		.dbg	line,	"include\routines_INTRO.c", 288; }
 5773                        		__bra		.LL150
         02:C954  80 9E      			bra	.LL150
 5774    02:C956             	.LL152:
 5775                        	
 5776                        		.dbg	line,	"include\routines_INTRO.c", 290; load_palette( 0, palette_INTRO_2, 1 );
 5777                        		__st.umiq	0, _al
         02:C956  64 F8      			stz	_al
 5778                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         02:C958  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:C95A  85 EC      			sta.l	_bp
         02:C95C  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:C95E  85 ED      			sta.h	_bp
         02:C960  A9 06      			lda	#bank(_palette_INTRO_2)
         02:C962  85 02      			sta	_bp_bank
 5779                        		__st.umiq	1, _ah
         02:C964  A9 01      			lda.l	#1
         02:C966  85 F9      			sta	_ah
 5780                        		__call		_load_palette.3
         02:C968  20 81 FF   			call	_load_palette.3
 5781                        	
 5782                        		.dbg	line,	"include\routines_INTRO.c", 291; }
 5783                        	
 5784                        		.dbg	line,	"include\routines_INTRO.c", 293; else if(global_counter == 166)
 5785                        		__bra		.LL153
         02:C96B  4C 24 CF   			bra	.LL153
 5786    02:C96E             	.LL148:
 5787                        		__ld.wm		_global_counter
         02:C96E  AD 51 26   			lda.l	_global_counter
         02:C971  AC 52 26   			ldy.h	_global_counter
 5788                        		__equ_w.wi	166
         02:C974  C9 A6      			cmp.l	#166
         02:C976  D0 04      			bne	!false+
         02:C978  C0 00      			cpy.h	#166
         02:C97A  F0 01      			beq	!+
         02:C97C  18         	!false:		clc
         02:C97D             	!:
 5789                        		__bfalse	.LL154
         02:C97D  90 24      			bcc	.LL154
 5790                        	
 5791                        		.dbg	line,	"include\routines_INTRO.c", 294; {
 5792                        	
 5793                        		.dbg	line,	"include\routines_INTRO.c", 295; for(i=0 ; i<8 ; i++)
 5794                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:C97F  9C 23 2C   			stz	__sequence_INTRO_end - 1
 5795    02:C982             	.LL155:
 5796                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C982  AD 23 2C   			lda	__sequence_INTRO_end - 1
 5797                        		__ult_b.uiq	8
         02:C985  C9 08      			cmp	#8		; Subtract integer from A.
         02:C987  6A         			ror	a		; CC if A < integer.
         02:C988  49 80      			eor	#$80
         02:C98A  2A         			rol	a
 5798                        		__btrue		.LL157
         02:C98B  B0 08      			bcs	.LL157
 5799                        		__bra		.LL158
         02:C98D  4C 24 CF   			bra	.LL158
 5800    02:C990             	.LL156:
 5801                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:C990  EE 23 2C   			inc	__sequence_INTRO_end - 1
 5802                        		__bra		.LL155
         02:C993  80 ED      			bra	.LL155
 5803    02:C995             	.LL157:
 5804                        	
 5805                        		.dbg	line,	"include\routines_INTRO.c", 296; {
 5806                        	
 5807                        		.dbg	line,	"include\routines_INTRO.c", 297; sgx_spr_set(i);
 5808                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C995  AD 23 2C   			lda	__sequence_INTRO_end - 1
 5809                        		__call		_sgx_spr_set.1
         02:C998  20 9E E8   			call	_sgx_spr_set.1
 5810                        	
 5811                        		.dbg	line,	"include\routines_INTRO.c", 298; sgx_spr_hide();
 5812                        		__call		_sgx_spr_hide
         02:C99B  20 B9 E8   			call	_sgx_spr_hide
 5813                        	
 5814                        		.dbg	line,	"include\routines_INTRO.c", 299; }
 5815                        		__bra		.LL156
         02:C99E  80 F0      			bra	.LL156
 5816    02:C9A0             	.LL158	.alias		.LL159
 5817                        	
 5818                        		.dbg	line,	"include\routines_INTRO.c", 300; }
 5819                        	
 5820                        		.dbg	line,	"include\routines_INTRO.c", 302; else if(global_counter == 168)
 5821                        		__bra		.LL159
         02:C9A0  4C 24 CF   			bra	.LL159
 5822    02:C9A3             	.LL154:
 5823                        		__ld.wm		_global_counter
         02:C9A3  AD 51 26   			lda.l	_global_counter
         02:C9A6  AC 52 26   			ldy.h	_global_counter
 5824                        		__equ_w.wi	168
         02:C9A9  C9 A8      			cmp.l	#168
         02:C9AB  D0 04      			bne	!false+
         02:C9AD  C0 00      			cpy.h	#168
         02:C9AF  F0 01      			beq	!+
         02:C9B1  18         	!false:		clc
         02:C9B2             	!:
 5825                        		__bfalse	.LL160
         02:C9B2  B0 03 4C 74			bcc	.LL160
         02:C9B6  CA          
 5826                        	
 5827                        		.dbg	line,	"include\routines_INTRO.c", 303; {
 5828                        	
 5829                        		.dbg	line,	"include\routines_INTRO.c", 304; for(i=0 ; i<8 ; i++)
 5830                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:C9B7  9C 23 2C   			stz	__sequence_INTRO_end - 1
 5831    02:C9BA             	.LL161:
 5832                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C9BA  AD 23 2C   			lda	__sequence_INTRO_end - 1
 5833                        		__ult_b.uiq	8
         02:C9BD  C9 08      			cmp	#8		; Subtract integer from A.
         02:C9BF  6A         			ror	a		; CC if A < integer.
         02:C9C0  49 80      			eor	#$80
         02:C9C2  2A         			rol	a
 5834                        		__btrue		.LL163
         02:C9C3  B0 07      			bcs	.LL163
 5835                        		__bra		.LL164
         02:C9C5  80 62      			bra	.LL164
 5836    02:C9C7             	.LL162:
 5837                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:C9C7  EE 23 2C   			inc	__sequence_INTRO_end - 1
 5838                        		__bra		.LL161
         02:C9CA  80 EE      			bra	.LL161
 5839    02:C9CC             	.LL163:
 5840                        	
 5841                        		.dbg	line,	"include\routines_INTRO.c", 305; {
 5842                        	
 5843                        		.dbg	line,	"include\routines_INTRO.c", 306; sgx_spr_set(i);
 5844                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:C9CC  AD 23 2C   			lda	__sequence_INTRO_end - 1
 5845                        		__call		_sgx_spr_set.1
         02:C9CF  20 9E E8   			call	_sgx_spr_set.1
 5846                        	
 5847                        		.dbg	line,	"include\routines_INTRO.c", 307; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 5848                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C9D2  AD 23 2C   			lda	__sequence_INTRO_end - 1
         02:C9D5  C2         			cly
 5849                        		__asl.wi	5
         02:C9D6  85 00      			sta	__temp
         02:C9D8  98         			tya
         02:C9D9  4A         			lsr	a
         02:C9DA  20 C8 E1   			jsr	aslw5
         02:C9DD  29 E0      			and.l	#$FF << 5
 5850                        		__add.wm	_player_pos_x
         02:C9DF  18         			clc
         02:C9E0  6D F7 24   			adc.l	_player_pos_x
         02:C9E3  42         			say
         02:C9E4  6D F8 24   			adc.h	_player_pos_x
         02:C9E7  42         			say
 5851                        		__push.wr
         02:C9E8  5A         			phy
         02:C9E9  48         			pha
 5852                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:C9EA  AD 23 2C   			lda	__sequence_INTRO_end - 1
         02:C9ED  C2         			cly
 5853                        		__lsr.uiq	2
         02:C9EE  4A         			lsr	a
         02:C9EF  4A         			lsr	a
 5854                        		__asl.wi	7
         02:C9F0  42         			say
         02:C9F1  4A         			lsr	a
         02:C9F2  42         			say
         02:C9F3  6A         			ror	a
         02:C9F4  42         			say
         02:C9F5  6A         			ror	a
         02:C9F6  29 80      			and	#$80
 5855                        		__sub.wt
         02:C9F8  BA         			tsx
         02:C9F9  38         			sec
         02:C9FA  49 FF      			eor	#$FF
         02:C9FC  7D 01 21   			adc.l	__tos, x
         02:C9FF  42         			say
         02:CA00  49 FF      			eor	#$FF
         02:CA02  7D 02 21   			adc.h	__tos, x
         02:CA05  42         			say
         02:CA06  E8         			inx
         02:CA07  E8         			inx
         02:CA08  9A         			txs
 5856                        		__call		_sgx_spr_x.1
         02:CA09  20 CB E8   			call	_sgx_spr_x.1
 5857                        	
 5858                        		.dbg	line,	"include\routines_INTRO.c", 308; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 5859                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:CA0C  AD 23 2C   			lda	__sequence_INTRO_end - 1
         02:CA0F  C2         			cly
 5860                        		__lsr.uiq	2
         02:CA10  4A         			lsr	a
         02:CA11  4A         			lsr	a
 5861                        		__asl.wi	5
         02:CA12  85 00      			sta	__temp
         02:CA14  98         			tya
         02:CA15  4A         			lsr	a
         02:CA16  20 C8 E1   			jsr	aslw5
         02:CA19  29 E0      			and.l	#$FF << 5
 5862                        		__add.wm	_player_pos_y
         02:CA1B  18         			clc
         02:CA1C  6D F9 24   			adc.l	_player_pos_y
         02:CA1F  42         			say
         02:CA20  6D FA 24   			adc.h	_player_pos_y
         02:CA23  42         			say
 5863                        		__call		_sgx_spr_y.1
         02:CA24  20 DA E8   			call	_sgx_spr_y.1
 5864                        	
 5865                        		.dbg	line,	"include\routines_INTRO.c", 309; }
 5866                        		__bra		.LL162
         02:CA27  80 9E      			bra	.LL162
 5867    02:CA29             	.LL164:
 5868                        	
 5869                        		.dbg	line,	"include\routines_INTRO.c", 311; vdc_map_pxl_y = 256;
 5870                        		__st.wmiq	256, _vdc_map_pxl_y
         02:CA29  9C CC 26   			stz.l	_vdc_map_pxl_y
         02:CA2C  A9 01      			lda.h	#256
         02:CA2E  8D CD 26   			sta.h	_vdc_map_pxl_y
 5871                        	
 5872                        		.dbg	line,	"include\routines_INTRO.c", 312; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 5873                        		__st.umiq	0, _al
         02:CA31  64 F8      			stz	_al
 5874                        		__st.umiq	0, _ah
         02:CA33  64 F9      			stz	_ah
 5875                        		__ld.wm		_vdc_map_pxl_x
         02:CA35  AD CA 26   			lda.l	_vdc_map_pxl_x
         02:CA38  AC CB 26   			ldy.h	_vdc_map_pxl_x
 5876                        		__and.wi	511
         02:CA3B  29 FF      			and.l	#511
         02:CA3D  42         			say
         02:CA3E  29 01      			and.h	#511
         02:CA40  42         			say
 5877                        		__st.wmq	_bx
         02:CA41  85 FA      			sta.l	_bx
         02:CA43  84 FB      			sty.h	_bx
 5878                        		__ld.wm		_vdc_map_pxl_y
         02:CA45  AD CC 26   			lda.l	_vdc_map_pxl_y
         02:CA48  AC CD 26   			ldy.h	_vdc_map_pxl_y
 5879                        		__and.wi	511
         02:CA4B  29 FF      			and.l	#511
         02:CA4D  42         			say
         02:CA4E  29 01      			and.h	#511
         02:CA50  42         			say
 5880                        		__st.wmq	_cx
         02:CA51  85 FC      			sta.l	_cx
         02:CA53  84 FD      			sty.h	_cx
 5881                        		__st.umiq	192, _dl
         02:CA55  A9 C0      			lda.l	#192
         02:CA57  85 FE      			sta	_dl
 5882                        		__call		_scroll_split.5
         02:CA59  20 77 FF   			call	_scroll_split.5
 5883                        	
 5884                        		.dbg	line,	"include\routines_INTRO.c", 313; 
 5885                        	
 5886                        		.dbg	line,	"include\routines_INTRO.c", 314; load_palette( 0, palette_INTRO_3, 1 );
 5887                        		__st.umiq	0, _al
         02:CA5C  64 F8      			stz	_al
 5888                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         02:CA5E  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:CA60  85 EC      			sta.l	_bp
         02:CA62  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:CA64  85 ED      			sta.h	_bp
         02:CA66  A9 06      			lda	#bank(_palette_INTRO_3)
         02:CA68  85 02      			sta	_bp_bank
 5889                        		__st.umiq	1, _ah
         02:CA6A  A9 01      			lda.l	#1
         02:CA6C  85 F9      			sta	_ah
 5890                        		__call		_load_palette.3
         02:CA6E  20 81 FF   			call	_load_palette.3
 5891                        	
 5892                        		.dbg	line,	"include\routines_INTRO.c", 315; }
 5893                        	
 5894                        		.dbg	line,	"include\routines_INTRO.c", 317; else if(global_counter == 170)
 5895                        		__bra		.LL165
         02:CA71  4C 24 CF   			bra	.LL165
 5896    02:CA74             	.LL160:
 5897                        		__ld.wm		_global_counter
         02:CA74  AD 51 26   			lda.l	_global_counter
         02:CA77  AC 52 26   			ldy.h	_global_counter
 5898                        		__equ_w.wi	170
         02:CA7A  C9 AA      			cmp.l	#170
         02:CA7C  D0 04      			bne	!false+
         02:CA7E  C0 00      			cpy.h	#170
         02:CA80  F0 01      			beq	!+
         02:CA82  18         	!false:		clc
         02:CA83             	!:
 5899                        		__bfalse	.LL166
         02:CA83  90 24      			bcc	.LL166
 5900                        	
 5901                        		.dbg	line,	"include\routines_INTRO.c", 318; {
 5902                        	
 5903                        		.dbg	line,	"include\routines_INTRO.c", 319; for(i=0 ; i<8 ; i++)
 5904                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:CA85  9C 23 2C   			stz	__sequence_INTRO_end - 1
 5905    02:CA88             	.LL167:
 5906                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:CA88  AD 23 2C   			lda	__sequence_INTRO_end - 1
 5907                        		__ult_b.uiq	8
         02:CA8B  C9 08      			cmp	#8		; Subtract integer from A.
         02:CA8D  6A         			ror	a		; CC if A < integer.
         02:CA8E  49 80      			eor	#$80
         02:CA90  2A         			rol	a
 5908                        		__btrue		.LL169
         02:CA91  B0 08      			bcs	.LL169
 5909                        		__bra		.LL170
         02:CA93  4C 24 CF   			bra	.LL170
 5910    02:CA96             	.LL168:
 5911                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:CA96  EE 23 2C   			inc	__sequence_INTRO_end - 1
 5912                        		__bra		.LL167
         02:CA99  80 ED      			bra	.LL167
 5913    02:CA9B             	.LL169:
 5914                        	
 5915                        		.dbg	line,	"include\routines_INTRO.c", 320; {
 5916                        	
 5917                        		.dbg	line,	"include\routines_INTRO.c", 321; sgx_spr_set(i);
 5918                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:CA9B  AD 23 2C   			lda	__sequence_INTRO_end - 1
 5919                        		__call		_sgx_spr_set.1
         02:CA9E  20 9E E8   			call	_sgx_spr_set.1
 5920                        	
 5921                        		.dbg	line,	"include\routines_INTRO.c", 322; sgx_spr_hide();
 5922                        		__call		_sgx_spr_hide
         02:CAA1  20 B9 E8   			call	_sgx_spr_hide
 5923                        	
 5924                        		.dbg	line,	"include\routines_INTRO.c", 323; }
 5925                        		__bra		.LL168
         02:CAA4  80 F0      			bra	.LL168
 5926    02:CAA6             	.LL170	.alias		.LL171
 5927                        	
 5928                        		.dbg	line,	"include\routines_INTRO.c", 324; }
 5929                        	
 5930                        		.dbg	line,	"include\routines_INTRO.c", 326; else if(global_counter == 172)
 5931                        		__bra		.LL171
         02:CAA6  4C 24 CF   			bra	.LL171
 5932    02:CAA9             	.LL166:
 5933                        		__ld.wm		_global_counter
         02:CAA9  AD 51 26   			lda.l	_global_counter
         02:CAAC  AC 52 26   			ldy.h	_global_counter
 5934                        		__equ_w.wi	172
         02:CAAF  C9 AC      			cmp.l	#172
         02:CAB1  D0 04      			bne	!false+
         02:CAB3  C0 00      			cpy.h	#172
         02:CAB5  F0 01      			beq	!+
         02:CAB7  18         	!false:		clc
         02:CAB8             	!:
 5935                        		__bfalse	.LL172
         02:CAB8  B0 03 4C 63			bcc	.LL172
         02:CABC  CB          
 5936                        	
 5937                        		.dbg	line,	"include\routines_INTRO.c", 327; {
 5938                        	
 5939                        		.dbg	line,	"include\routines_INTRO.c", 328; for(i=0 ; i<8 ; i++)
 5940                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:CABD  9C 23 2C   			stz	__sequence_INTRO_end - 1
 5941    02:CAC0             	.LL173:
 5942                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:CAC0  AD 23 2C   			lda	__sequence_INTRO_end - 1
 5943                        		__ult_b.uiq	8
         02:CAC3  C9 08      			cmp	#8		; Subtract integer from A.
         02:CAC5  6A         			ror	a		; CC if A < integer.
         02:CAC6  49 80      			eor	#$80
         02:CAC8  2A         			rol	a
 5944                        		__btrue		.LL175
         02:CAC9  B0 07      			bcs	.LL175
 5945                        		__bra		.LL176
         02:CACB  80 62      			bra	.LL176
 5946    02:CACD             	.LL174:
 5947                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:CACD  EE 23 2C   			inc	__sequence_INTRO_end - 1
 5948                        		__bra		.LL173
         02:CAD0  80 EE      			bra	.LL173
 5949    02:CAD2             	.LL175:
 5950                        	
 5951                        		.dbg	line,	"include\routines_INTRO.c", 329; {
 5952                        	
 5953                        		.dbg	line,	"include\routines_INTRO.c", 330; sgx_spr_set(i);
 5954                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:CAD2  AD 23 2C   			lda	__sequence_INTRO_end - 1
 5955                        		__call		_sgx_spr_set.1
         02:CAD5  20 9E E8   			call	_sgx_spr_set.1
 5956                        	
 5957                        		.dbg	line,	"include\routines_INTRO.c", 331; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 5958                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:CAD8  AD 23 2C   			lda	__sequence_INTRO_end - 1
         02:CADB  C2         			cly
 5959                        		__asl.wi	5
         02:CADC  85 00      			sta	__temp
         02:CADE  98         			tya
         02:CADF  4A         			lsr	a
         02:CAE0  20 C8 E1   			jsr	aslw5
         02:CAE3  29 E0      			and.l	#$FF << 5
 5960                        		__add.wm	_player_pos_x
         02:CAE5  18         			clc
         02:CAE6  6D F7 24   			adc.l	_player_pos_x
         02:CAE9  42         			say
         02:CAEA  6D F8 24   			adc.h	_player_pos_x
         02:CAED  42         			say
 5961                        		__push.wr
         02:CAEE  5A         			phy
         02:CAEF  48         			pha
 5962                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:CAF0  AD 23 2C   			lda	__sequence_INTRO_end - 1
         02:CAF3  C2         			cly
 5963                        		__lsr.uiq	2
         02:CAF4  4A         			lsr	a
         02:CAF5  4A         			lsr	a
 5964                        		__asl.wi	7
         02:CAF6  42         			say
         02:CAF7  4A         			lsr	a
         02:CAF8  42         			say
         02:CAF9  6A         			ror	a
         02:CAFA  42         			say
         02:CAFB  6A         			ror	a
         02:CAFC  29 80      			and	#$80
 5965                        		__sub.wt
         02:CAFE  BA         			tsx
         02:CAFF  38         			sec
         02:CB00  49 FF      			eor	#$FF
         02:CB02  7D 01 21   			adc.l	__tos, x
         02:CB05  42         			say
         02:CB06  49 FF      			eor	#$FF
         02:CB08  7D 02 21   			adc.h	__tos, x
         02:CB0B  42         			say
         02:CB0C  E8         			inx
         02:CB0D  E8         			inx
         02:CB0E  9A         			txs
 5966                        		__call		_sgx_spr_x.1
         02:CB0F  20 CB E8   			call	_sgx_spr_x.1
 5967                        	
 5968                        		.dbg	line,	"include\routines_INTRO.c", 332; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 5969                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:CB12  AD 23 2C   			lda	__sequence_INTRO_end - 1
         02:CB15  C2         			cly
 5970                        		__lsr.uiq	2
         02:CB16  4A         			lsr	a
         02:CB17  4A         			lsr	a
 5971                        		__asl.wi	5
         02:CB18  85 00      			sta	__temp
         02:CB1A  98         			tya
         02:CB1B  4A         			lsr	a
         02:CB1C  20 C8 E1   			jsr	aslw5
         02:CB1F  29 E0      			and.l	#$FF << 5
 5972                        		__add.wm	_player_pos_y
         02:CB21  18         			clc
         02:CB22  6D F9 24   			adc.l	_player_pos_y
         02:CB25  42         			say
         02:CB26  6D FA 24   			adc.h	_player_pos_y
         02:CB29  42         			say
 5973                        		__call		_sgx_spr_y.1
         02:CB2A  20 DA E8   			call	_sgx_spr_y.1
 5974                        	
 5975                        		.dbg	line,	"include\routines_INTRO.c", 333; }
 5976                        		__bra		.LL174
         02:CB2D  80 9E      			bra	.LL174
 5977    02:CB2F             	.LL176:
 5978                        	
 5979                        		.dbg	line,	"include\routines_INTRO.c", 335; vdc_map_pxl_y = 0;
 5980                        		__st.wmiq	0, _vdc_map_pxl_y
         02:CB2F  9C CC 26   			stz.l	_vdc_map_pxl_y
         02:CB32  9C CD 26   			stz.h	_vdc_map_pxl_y
 5981                        	
 5982                        		.dbg	line,	"include\routines_INTRO.c", 336; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 5983                        		__st.umiq	0, _al
         02:CB35  64 F8      			stz	_al
 5984                        		__st.umiq	0, _ah
         02:CB37  64 F9      			stz	_ah
 5985                        		__ld.wm		_vdc_map_pxl_x
         02:CB39  AD CA 26   			lda.l	_vdc_map_pxl_x
         02:CB3C  AC CB 26   			ldy.h	_vdc_map_pxl_x
 5986                        		__and.wi	511
         02:CB3F  29 FF      			and.l	#511
         02:CB41  42         			say
         02:CB42  29 01      			and.h	#511
         02:CB44  42         			say
 5987                        		__st.wmq	_bx
         02:CB45  85 FA      			sta.l	_bx
         02:CB47  84 FB      			sty.h	_bx
 5988                        		__ld.wm		_vdc_map_pxl_y
         02:CB49  AD CC 26   			lda.l	_vdc_map_pxl_y
         02:CB4C  AC CD 26   			ldy.h	_vdc_map_pxl_y
 5989                        		__and.wi	511
         02:CB4F  29 FF      			and.l	#511
         02:CB51  42         			say
         02:CB52  29 01      			and.h	#511
         02:CB54  42         			say
 5990                        		__st.wmq	_cx
         02:CB55  85 FC      			sta.l	_cx
         02:CB57  84 FD      			sty.h	_cx
 5991                        		__st.umiq	192, _dl
         02:CB59  A9 C0      			lda.l	#192
         02:CB5B  85 FE      			sta	_dl
 5992                        		__call		_scroll_split.5
         02:CB5D  20 77 FF   			call	_scroll_split.5
 5993                        	
 5994                        		.dbg	line,	"include\routines_INTRO.c", 337; }
 5995                        	
 5996                        		.dbg	line,	"include\routines_INTRO.c", 339; else if(global_counter == 173)
 5997                        		__bra		.LL177
         02:CB60  4C 24 CF   			bra	.LL177
 5998    02:CB63             	.LL172:
 5999                        		__ld.wm		_global_counter
         02:CB63  AD 51 26   			lda.l	_global_counter
         02:CB66  AC 52 26   			ldy.h	_global_counter
 6000                        		__equ_w.wi	173
         02:CB69  C9 AD      			cmp.l	#173
         02:CB6B  D0 04      			bne	!false+
         02:CB6D  C0 00      			cpy.h	#173
         02:CB6F  F0 01      			beq	!+
         02:CB71  18         	!false:		clc
         02:CB72             	!:
 6001                        		__bfalse	.LL178
         02:CB72  90 18      			bcc	.LL178
 6002                        	
 6003                        		.dbg	line,	"include\routines_INTRO.c", 340; {
 6004                        	
 6005                        		.dbg	line,	"include\routines_INTRO.c", 341; load_palette( 0, palette_INTRO_2, 1 );
 6006                        		__st.umiq	0, _al
         02:CB74  64 F8      			stz	_al
 6007                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         02:CB76  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:CB78  85 EC      			sta.l	_bp
         02:CB7A  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:CB7C  85 ED      			sta.h	_bp
         02:CB7E  A9 06      			lda	#bank(_palette_INTRO_2)
         02:CB80  85 02      			sta	_bp_bank
 6008                        		__st.umiq	1, _ah
         02:CB82  A9 01      			lda.l	#1
         02:CB84  85 F9      			sta	_ah
 6009                        		__call		_load_palette.3
         02:CB86  20 81 FF   			call	_load_palette.3
 6010                        	
 6011                        		.dbg	line,	"include\routines_INTRO.c", 342; }
 6012                        	
 6013                        		.dbg	line,	"include\routines_INTRO.c", 344; else if(global_counter == 174)
 6014                        		__bra		.LL179
         02:CB89  4C 24 CF   			bra	.LL179
 6015    02:CB8C             	.LL178:
 6016                        		__ld.wm		_global_counter
         02:CB8C  AD 51 26   			lda.l	_global_counter
         02:CB8F  AC 52 26   			ldy.h	_global_counter
 6017                        		__equ_w.wi	174
         02:CB92  C9 AE      			cmp.l	#174
         02:CB94  D0 04      			bne	!false+
         02:CB96  C0 00      			cpy.h	#174
         02:CB98  F0 01      			beq	!+
         02:CB9A  18         	!false:		clc
         02:CB9B             	!:
 6018                        		__bfalse	.LL180
         02:CB9B  90 24      			bcc	.LL180
 6019                        	
 6020                        		.dbg	line,	"include\routines_INTRO.c", 345; {
 6021                        	
 6022                        		.dbg	line,	"include\routines_INTRO.c", 346; for(i=0 ; i<8 ; i++)
 6023                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:CB9D  9C 23 2C   			stz	__sequence_INTRO_end - 1
 6024    02:CBA0             	.LL181:
 6025                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:CBA0  AD 23 2C   			lda	__sequence_INTRO_end - 1
 6026                        		__ult_b.uiq	8
         02:CBA3  C9 08      			cmp	#8		; Subtract integer from A.
         02:CBA5  6A         			ror	a		; CC if A < integer.
         02:CBA6  49 80      			eor	#$80
         02:CBA8  2A         			rol	a
 6027                        		__btrue		.LL183
         02:CBA9  B0 08      			bcs	.LL183
 6028                        		__bra		.LL184
         02:CBAB  4C 24 CF   			bra	.LL184
 6029    02:CBAE             	.LL182:
 6030                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:CBAE  EE 23 2C   			inc	__sequence_INTRO_end - 1
 6031                        		__bra		.LL181
         02:CBB1  80 ED      			bra	.LL181
 6032    02:CBB3             	.LL183:
 6033                        	
 6034                        		.dbg	line,	"include\routines_INTRO.c", 347; {
 6035                        	
 6036                        		.dbg	line,	"include\routines_INTRO.c", 348; sgx_spr_set(i);
 6037                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:CBB3  AD 23 2C   			lda	__sequence_INTRO_end - 1
 6038                        		__call		_sgx_spr_set.1
         02:CBB6  20 9E E8   			call	_sgx_spr_set.1
 6039                        	
 6040                        		.dbg	line,	"include\routines_INTRO.c", 349; sgx_spr_hide();
 6041                        		__call		_sgx_spr_hide
         02:CBB9  20 B9 E8   			call	_sgx_spr_hide
 6042                        	
 6043                        		.dbg	line,	"include\routines_INTRO.c", 350; }
 6044                        		__bra		.LL182
         02:CBBC  80 F0      			bra	.LL182
 6045    02:CBBE             	.LL184	.alias		.LL185
 6046                        	
 6047                        		.dbg	line,	"include\routines_INTRO.c", 351; }
 6048                        	
 6049                        		.dbg	line,	"include\routines_INTRO.c", 353; else if(global_counter == 176)
 6050                        		__bra		.LL185
         02:CBBE  4C 24 CF   			bra	.LL185
 6051    02:CBC1             	.LL180:
 6052                        		__ld.wm		_global_counter
         02:CBC1  AD 51 26   			lda.l	_global_counter
         02:CBC4  AC 52 26   			ldy.h	_global_counter
 6053                        		__equ_w.wi	176
         02:CBC7  C9 B0      			cmp.l	#176
         02:CBC9  D0 04      			bne	!false+
         02:CBCB  C0 00      			cpy.h	#176
         02:CBCD  F0 01      			beq	!+
         02:CBCF  18         	!false:		clc
         02:CBD0             	!:
 6054                        		__bfalse	.LL186
         02:CBD0  90 76      			bcc	.LL186
 6055                        	
 6056                        		.dbg	line,	"include\routines_INTRO.c", 354; {
 6057                        	
 6058                        		.dbg	line,	"include\routines_INTRO.c", 355; for(i=0 ; i<8 ; i++)
 6059                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:CBD2  9C 23 2C   			stz	__sequence_INTRO_end - 1
 6060    02:CBD5             	.LL187:
 6061                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:CBD5  AD 23 2C   			lda	__sequence_INTRO_end - 1
 6062                        		__ult_b.uiq	8
         02:CBD8  C9 08      			cmp	#8		; Subtract integer from A.
         02:CBDA  6A         			ror	a		; CC if A < integer.
         02:CBDB  49 80      			eor	#$80
         02:CBDD  2A         			rol	a
 6063                        		__btrue		.LL189
         02:CBDE  B0 08      			bcs	.LL189
 6064                        		__bra		.LL190
         02:CBE0  4C 24 CF   			bra	.LL190
 6065    02:CBE3             	.LL188:
 6066                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:CBE3  EE 23 2C   			inc	__sequence_INTRO_end - 1
 6067                        		__bra		.LL187
         02:CBE6  80 ED      			bra	.LL187
 6068    02:CBE8             	.LL189:
 6069                        	
 6070                        		.dbg	line,	"include\routines_INTRO.c", 356; {
 6071                        	
 6072                        		.dbg	line,	"include\routines_INTRO.c", 357; sgx_spr_set(i);
 6073                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:CBE8  AD 23 2C   			lda	__sequence_INTRO_end - 1
 6074                        		__call		_sgx_spr_set.1
         02:CBEB  20 9E E8   			call	_sgx_spr_set.1
 6075                        	
 6076                        		.dbg	line,	"include\routines_INTRO.c", 358; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 6077                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:CBEE  AD 23 2C   			lda	__sequence_INTRO_end - 1
         02:CBF1  C2         			cly
 6078                        		__asl.wi	5
         02:CBF2  85 00      			sta	__temp
         02:CBF4  98         			tya
         02:CBF5  4A         			lsr	a
         02:CBF6  20 C8 E1   			jsr	aslw5
         02:CBF9  29 E0      			and.l	#$FF << 5
 6079                        		__add.wm	_player_pos_x
         02:CBFB  18         			clc
         02:CBFC  6D F7 24   			adc.l	_player_pos_x
         02:CBFF  42         			say
         02:CC00  6D F8 24   			adc.h	_player_pos_x
         02:CC03  42         			say
 6080                        		__push.wr
         02:CC04  5A         			phy
         02:CC05  48         			pha
 6081                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:CC06  AD 23 2C   			lda	__sequence_INTRO_end - 1
         02:CC09  C2         			cly
 6082                        		__lsr.uiq	2
         02:CC0A  4A         			lsr	a
         02:CC0B  4A         			lsr	a
 6083                        		__asl.wi	7
         02:CC0C  42         			say
         02:CC0D  4A         			lsr	a
         02:CC0E  42         			say
         02:CC0F  6A         			ror	a
         02:CC10  42         			say
         02:CC11  6A         			ror	a
         02:CC12  29 80      			and	#$80
 6084                        		__sub.wt
         02:CC14  BA         			tsx
         02:CC15  38         			sec
         02:CC16  49 FF      			eor	#$FF
         02:CC18  7D 01 21   			adc.l	__tos, x
         02:CC1B  42         			say
         02:CC1C  49 FF      			eor	#$FF
         02:CC1E  7D 02 21   			adc.h	__tos, x
         02:CC21  42         			say
         02:CC22  E8         			inx
         02:CC23  E8         			inx
         02:CC24  9A         			txs
 6085                        		__call		_sgx_spr_x.1
         02:CC25  20 CB E8   			call	_sgx_spr_x.1
 6086                        	
 6087                        		.dbg	line,	"include\routines_INTRO.c", 359; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 6088                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:CC28  AD 23 2C   			lda	__sequence_INTRO_end - 1
         02:CC2B  C2         			cly
 6089                        		__lsr.uiq	2
         02:CC2C  4A         			lsr	a
         02:CC2D  4A         			lsr	a
 6090                        		__asl.wi	5
         02:CC2E  85 00      			sta	__temp
         02:CC30  98         			tya
         02:CC31  4A         			lsr	a
         02:CC32  20 C8 E1   			jsr	aslw5
         02:CC35  29 E0      			and.l	#$FF << 5
 6091                        		__add.wm	_player_pos_y
         02:CC37  18         			clc
         02:CC38  6D F9 24   			adc.l	_player_pos_y
         02:CC3B  42         			say
         02:CC3C  6D FA 24   			adc.h	_player_pos_y
         02:CC3F  42         			say
 6092                        		__call		_sgx_spr_y.1
         02:CC40  20 DA E8   			call	_sgx_spr_y.1
 6093                        	
 6094                        		.dbg	line,	"include\routines_INTRO.c", 360; }
 6095                        		__bra		.LL188
         02:CC43  80 9E      			bra	.LL188
 6096    02:CC45             	.LL190	.alias		.LL191
 6097                        	
 6098                        		.dbg	line,	"include\routines_INTRO.c", 361; }
 6099                        	
 6100                        		.dbg	line,	"include\routines_INTRO.c", 363; else if(global_counter == 177)
 6101                        		__bra		.LL191
         02:CC45  4C 24 CF   			bra	.LL191
 6102    02:CC48             	.LL186:
 6103                        		__ld.wm		_global_counter
         02:CC48  AD 51 26   			lda.l	_global_counter
         02:CC4B  AC 52 26   			ldy.h	_global_counter
 6104                        		__equ_w.wi	177
         02:CC4E  C9 B1      			cmp.l	#177
         02:CC50  D0 04      			bne	!false+
         02:CC52  C0 00      			cpy.h	#177
         02:CC54  F0 01      			beq	!+
         02:CC56  18         	!false:		clc
         02:CC57             	!:
 6105                        		__bfalse	.LL192
         02:CC57  90 53      			bcc	.LL192
 6106                        	
 6107                        		.dbg	line,	"include\routines_INTRO.c", 364; {
 6108                        	
 6109                        		.dbg	line,	"include\routines_INTRO.c", 365; vdc_map_pxl_x = 256;
 6110                        		__st.wmiq	256, _vdc_map_pxl_x
         02:CC59  9C CA 26   			stz.l	_vdc_map_pxl_x
         02:CC5C  A9 01      			lda.h	#256
         02:CC5E  8D CB 26   			sta.h	_vdc_map_pxl_x
 6111                        	
 6112                        		.dbg	line,	"include\routines_INTRO.c", 366; vdc_map_pxl_y = 256;
 6113                        		__st.wmiq	256, _vdc_map_pxl_y
         02:CC61  9C CC 26   			stz.l	_vdc_map_pxl_y
         02:CC64  A9 01      			lda.h	#256
         02:CC66  8D CD 26   			sta.h	_vdc_map_pxl_y
 6114                        	
 6115                        		.dbg	line,	"include\routines_INTRO.c", 367; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 6116                        		__st.umiq	0, _al
         02:CC69  64 F8      			stz	_al
 6117                        		__st.umiq	0, _ah
         02:CC6B  64 F9      			stz	_ah
 6118                        		__ld.wm		_vdc_map_pxl_x
         02:CC6D  AD CA 26   			lda.l	_vdc_map_pxl_x
         02:CC70  AC CB 26   			ldy.h	_vdc_map_pxl_x
 6119                        		__and.wi	511
         02:CC73  29 FF      			and.l	#511
         02:CC75  42         			say
         02:CC76  29 01      			and.h	#511
         02:CC78  42         			say
 6120                        		__st.wmq	_bx
         02:CC79  85 FA      			sta.l	_bx
         02:CC7B  84 FB      			sty.h	_bx
 6121                        		__ld.wm		_vdc_map_pxl_y
         02:CC7D  AD CC 26   			lda.l	_vdc_map_pxl_y
         02:CC80  AC CD 26   			ldy.h	_vdc_map_pxl_y
 6122                        		__and.wi	511
         02:CC83  29 FF      			and.l	#511
         02:CC85  42         			say
         02:CC86  29 01      			and.h	#511
         02:CC88  42         			say
 6123                        		__st.wmq	_cx
         02:CC89  85 FC      			sta.l	_cx
         02:CC8B  84 FD      			sty.h	_cx
 6124                        		__st.umiq	192, _dl
         02:CC8D  A9 C0      			lda.l	#192
         02:CC8F  85 FE      			sta	_dl
 6125                        		__call		_scroll_split.5
         02:CC91  20 77 FF   			call	_scroll_split.5
 6126                        	
 6127                        		.dbg	line,	"include\routines_INTRO.c", 369; load_palette( 0, palette_INTRO_3, 1 );
 6128                        		__st.umiq	0, _al
         02:CC94  64 F8      			stz	_al
 6129                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         02:CC96  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:CC98  85 EC      			sta.l	_bp
         02:CC9A  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:CC9C  85 ED      			sta.h	_bp
         02:CC9E  A9 06      			lda	#bank(_palette_INTRO_3)
         02:CCA0  85 02      			sta	_bp_bank
 6130                        		__st.umiq	1, _ah
         02:CCA2  A9 01      			lda.l	#1
         02:CCA4  85 F9      			sta	_ah
 6131                        		__call		_load_palette.3
         02:CCA6  20 81 FF   			call	_load_palette.3
 6132                        	
 6133                        		.dbg	line,	"include\routines_INTRO.c", 370; }
 6134                        	
 6135                        		.dbg	line,	"include\routines_INTRO.c", 372; else if(global_counter == 178)
 6136                        		__bra		.LL193
         02:CCA9  4C 24 CF   			bra	.LL193
 6137    02:CCAC             	.LL192:
 6138                        		__ld.wm		_global_counter
         02:CCAC  AD 51 26   			lda.l	_global_counter
         02:CCAF  AC 52 26   			ldy.h	_global_counter
 6139                        		__equ_w.wi	178
         02:CCB2  C9 B2      			cmp.l	#178
         02:CCB4  D0 04      			bne	!false+
         02:CCB6  C0 00      			cpy.h	#178
         02:CCB8  F0 01      			beq	!+
         02:CCBA  18         	!false:		clc
         02:CCBB             	!:
 6140                        		__bfalse	.LL194
         02:CCBB  90 24      			bcc	.LL194
 6141                        	
 6142                        		.dbg	line,	"include\routines_INTRO.c", 373; {
 6143                        	
 6144                        		.dbg	line,	"include\routines_INTRO.c", 374; for(i=0 ; i<8 ; i++)
 6145                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:CCBD  9C 23 2C   			stz	__sequence_INTRO_end - 1
 6146    02:CCC0             	.LL195:
 6147                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:CCC0  AD 23 2C   			lda	__sequence_INTRO_end - 1
 6148                        		__ult_b.uiq	8
         02:CCC3  C9 08      			cmp	#8		; Subtract integer from A.
         02:CCC5  6A         			ror	a		; CC if A < integer.
         02:CCC6  49 80      			eor	#$80
         02:CCC8  2A         			rol	a
 6149                        		__btrue		.LL197
         02:CCC9  B0 08      			bcs	.LL197
 6150                        		__bra		.LL198
         02:CCCB  4C 24 CF   			bra	.LL198
 6151    02:CCCE             	.LL196:
 6152                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:CCCE  EE 23 2C   			inc	__sequence_INTRO_end - 1
 6153                        		__bra		.LL195
         02:CCD1  80 ED      			bra	.LL195
 6154    02:CCD3             	.LL197:
 6155                        	
 6156                        		.dbg	line,	"include\routines_INTRO.c", 375; {
 6157                        	
 6158                        		.dbg	line,	"include\routines_INTRO.c", 376; sgx_spr_set(i);
 6159                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:CCD3  AD 23 2C   			lda	__sequence_INTRO_end - 1
 6160                        		__call		_sgx_spr_set.1
         02:CCD6  20 9E E8   			call	_sgx_spr_set.1
 6161                        	
 6162                        		.dbg	line,	"include\routines_INTRO.c", 377; sgx_spr_hide();
 6163                        		__call		_sgx_spr_hide
         02:CCD9  20 B9 E8   			call	_sgx_spr_hide
 6164                        	
 6165                        		.dbg	line,	"include\routines_INTRO.c", 378; }
 6166                        		__bra		.LL196
         02:CCDC  80 F0      			bra	.LL196
 6167    02:CCDE             	.LL198	.alias		.LL199
 6168                        	
 6169                        		.dbg	line,	"include\routines_INTRO.c", 379; }
 6170                        	
 6171                        		.dbg	line,	"include\routines_INTRO.c", 381; else if(global_counter == 180)
 6172                        		__bra		.LL199
         02:CCDE  4C 24 CF   			bra	.LL199
 6173    02:CCE1             	.LL194:
 6174                        		__ld.wm		_global_counter
         02:CCE1  AD 51 26   			lda.l	_global_counter
         02:CCE4  AC 52 26   			ldy.h	_global_counter
 6175                        		__equ_w.wi	180
         02:CCE7  C9 B4      			cmp.l	#180
         02:CCE9  D0 04      			bne	!false+
         02:CCEB  C0 00      			cpy.h	#180
         02:CCED  F0 01      			beq	!+
         02:CCEF  18         	!false:		clc
         02:CCF0             	!:
 6176                        		__bfalse	.LL200
         02:CCF0  90 76      			bcc	.LL200
 6177                        	
 6178                        		.dbg	line,	"include\routines_INTRO.c", 382; {
 6179                        	
 6180                        		.dbg	line,	"include\routines_INTRO.c", 383; for(i=0 ; i<8 ; i++)
 6181                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:CCF2  9C 23 2C   			stz	__sequence_INTRO_end - 1
 6182    02:CCF5             	.LL201:
 6183                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:CCF5  AD 23 2C   			lda	__sequence_INTRO_end - 1
 6184                        		__ult_b.uiq	8
         02:CCF8  C9 08      			cmp	#8		; Subtract integer from A.
         02:CCFA  6A         			ror	a		; CC if A < integer.
         02:CCFB  49 80      			eor	#$80
         02:CCFD  2A         			rol	a
 6185                        		__btrue		.LL203
         02:CCFE  B0 08      			bcs	.LL203
 6186                        		__bra		.LL204
         02:CD00  4C 24 CF   			bra	.LL204
 6187    02:CD03             	.LL202:
 6188                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:CD03  EE 23 2C   			inc	__sequence_INTRO_end - 1
 6189                        		__bra		.LL201
         02:CD06  80 ED      			bra	.LL201
 6190    02:CD08             	.LL203:
 6191                        	
 6192                        		.dbg	line,	"include\routines_INTRO.c", 384; {
 6193                        	
 6194                        		.dbg	line,	"include\routines_INTRO.c", 385; sgx_spr_set(i);
 6195                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:CD08  AD 23 2C   			lda	__sequence_INTRO_end - 1
 6196                        		__call		_sgx_spr_set.1
         02:CD0B  20 9E E8   			call	_sgx_spr_set.1
 6197                        	
 6198                        		.dbg	line,	"include\routines_INTRO.c", 386; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 6199                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:CD0E  AD 23 2C   			lda	__sequence_INTRO_end - 1
         02:CD11  C2         			cly
 6200                        		__asl.wi	5
         02:CD12  85 00      			sta	__temp
         02:CD14  98         			tya
         02:CD15  4A         			lsr	a
         02:CD16  20 C8 E1   			jsr	aslw5
         02:CD19  29 E0      			and.l	#$FF << 5
 6201                        		__add.wm	_player_pos_x
         02:CD1B  18         			clc
         02:CD1C  6D F7 24   			adc.l	_player_pos_x
         02:CD1F  42         			say
         02:CD20  6D F8 24   			adc.h	_player_pos_x
         02:CD23  42         			say
 6202                        		__push.wr
         02:CD24  5A         			phy
         02:CD25  48         			pha
 6203                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:CD26  AD 23 2C   			lda	__sequence_INTRO_end - 1
         02:CD29  C2         			cly
 6204                        		__lsr.uiq	2
         02:CD2A  4A         			lsr	a
         02:CD2B  4A         			lsr	a
 6205                        		__asl.wi	7
         02:CD2C  42         			say
         02:CD2D  4A         			lsr	a
         02:CD2E  42         			say
         02:CD2F  6A         			ror	a
         02:CD30  42         			say
         02:CD31  6A         			ror	a
         02:CD32  29 80      			and	#$80
 6206                        		__sub.wt
         02:CD34  BA         			tsx
         02:CD35  38         			sec
         02:CD36  49 FF      			eor	#$FF
         02:CD38  7D 01 21   			adc.l	__tos, x
         02:CD3B  42         			say
         02:CD3C  49 FF      			eor	#$FF
         02:CD3E  7D 02 21   			adc.h	__tos, x
         02:CD41  42         			say
         02:CD42  E8         			inx
         02:CD43  E8         			inx
         02:CD44  9A         			txs
 6207                        		__call		_sgx_spr_x.1
         02:CD45  20 CB E8   			call	_sgx_spr_x.1
 6208                        	
 6209                        		.dbg	line,	"include\routines_INTRO.c", 387; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 6210                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:CD48  AD 23 2C   			lda	__sequence_INTRO_end - 1
         02:CD4B  C2         			cly
 6211                        		__lsr.uiq	2
         02:CD4C  4A         			lsr	a
         02:CD4D  4A         			lsr	a
 6212                        		__asl.wi	5
         02:CD4E  85 00      			sta	__temp
         02:CD50  98         			tya
         02:CD51  4A         			lsr	a
         02:CD52  20 C8 E1   			jsr	aslw5
         02:CD55  29 E0      			and.l	#$FF << 5
 6213                        		__add.wm	_player_pos_y
         02:CD57  18         			clc
         02:CD58  6D F9 24   			adc.l	_player_pos_y
         02:CD5B  42         			say
         02:CD5C  6D FA 24   			adc.h	_player_pos_y
         02:CD5F  42         			say
 6214                        		__call		_sgx_spr_y.1
         02:CD60  20 DA E8   			call	_sgx_spr_y.1
 6215                        	
 6216                        		.dbg	line,	"include\routines_INTRO.c", 388; }
 6217                        		__bra		.LL202
         02:CD63  80 9E      			bra	.LL202
 6218    02:CD65             	.LL204	.alias		.LL205
 6219                        	
 6220                        		.dbg	line,	"include\routines_INTRO.c", 389; }
 6221                        	
 6222                        		.dbg	line,	"include\routines_INTRO.c", 391; else if(global_counter == 181)
 6223                        		__bra		.LL205
         02:CD65  4C 24 CF   			bra	.LL205
 6224    02:CD68             	.LL200:
 6225                        		__ld.wm		_global_counter
         02:CD68  AD 51 26   			lda.l	_global_counter
         02:CD6B  AC 52 26   			ldy.h	_global_counter
 6226                        		__equ_w.wi	181
         02:CD6E  C9 B5      			cmp.l	#181
         02:CD70  D0 04      			bne	!false+
         02:CD72  C0 00      			cpy.h	#181
         02:CD74  F0 01      			beq	!+
         02:CD76  18         	!false:		clc
         02:CD77             	!:
 6227                        		__bfalse	.LL206
         02:CD77  90 4F      			bcc	.LL206
 6228                        	
 6229                        		.dbg	line,	"include\routines_INTRO.c", 392; {
 6230                        	
 6231                        		.dbg	line,	"include\routines_INTRO.c", 393; vdc_map_pxl_x = 0;
 6232                        		__st.wmiq	0, _vdc_map_pxl_x
         02:CD79  9C CA 26   			stz.l	_vdc_map_pxl_x
         02:CD7C  9C CB 26   			stz.h	_vdc_map_pxl_x
 6233                        	
 6234                        		.dbg	line,	"include\routines_INTRO.c", 394; vdc_map_pxl_y = 0;
 6235                        		__st.wmiq	0, _vdc_map_pxl_y
         02:CD7F  9C CC 26   			stz.l	_vdc_map_pxl_y
         02:CD82  9C CD 26   			stz.h	_vdc_map_pxl_y
 6236                        	
 6237                        		.dbg	line,	"include\routines_INTRO.c", 395; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
 6238                        		__st.umiq	0, _al
         02:CD85  64 F8      			stz	_al
 6239                        		__st.umiq	0, _ah
         02:CD87  64 F9      			stz	_ah
 6240                        		__ld.wm		_vdc_map_pxl_x
         02:CD89  AD CA 26   			lda.l	_vdc_map_pxl_x
         02:CD8C  AC CB 26   			ldy.h	_vdc_map_pxl_x
 6241                        		__and.wi	511
         02:CD8F  29 FF      			and.l	#511
         02:CD91  42         			say
         02:CD92  29 01      			and.h	#511
         02:CD94  42         			say
 6242                        		__st.wmq	_bx
         02:CD95  85 FA      			sta.l	_bx
         02:CD97  84 FB      			sty.h	_bx
 6243                        		__ld.wm		_vdc_map_pxl_y
         02:CD99  AD CC 26   			lda.l	_vdc_map_pxl_y
         02:CD9C  AC CD 26   			ldy.h	_vdc_map_pxl_y
 6244                        		__and.wi	511
         02:CD9F  29 FF      			and.l	#511
         02:CDA1  42         			say
         02:CDA2  29 01      			and.h	#511
         02:CDA4  42         			say
 6245                        		__st.wmq	_cx
         02:CDA5  85 FC      			sta.l	_cx
         02:CDA7  84 FD      			sty.h	_cx
 6246                        		__st.umiq	192, _dl
         02:CDA9  A9 C0      			lda.l	#192
         02:CDAB  85 FE      			sta	_dl
 6247                        		__call		_scroll_split.5
         02:CDAD  20 77 FF   			call	_scroll_split.5
 6248                        	
 6249                        		.dbg	line,	"include\routines_INTRO.c", 397; load_palette( 0, palette_INTRO_3, 1 );
 6250                        		__st.umiq	0, _al
         02:CDB0  64 F8      			stz	_al
 6251                        		__farptr	_palette_INTRO_3, _bp_bank, _bp
         02:CDB2  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:CDB4  85 EC      			sta.l	_bp
         02:CDB6  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_3))
         02:CDB8  85 ED      			sta.h	_bp
         02:CDBA  A9 06      			lda	#bank(_palette_INTRO_3)
         02:CDBC  85 02      			sta	_bp_bank
 6252                        		__st.umiq	1, _ah
         02:CDBE  A9 01      			lda.l	#1
         02:CDC0  85 F9      			sta	_ah
 6253                        		__call		_load_palette.3
         02:CDC2  20 81 FF   			call	_load_palette.3
 6254                        	
 6255                        		.dbg	line,	"include\routines_INTRO.c", 398; }
 6256                        	
 6257                        		.dbg	line,	"include\routines_INTRO.c", 400; else if(global_counter == 182)
 6258                        		__bra		.LL207
         02:CDC5  4C 24 CF   			bra	.LL207
 6259    02:CDC8             	.LL206:
 6260                        		__ld.wm		_global_counter
         02:CDC8  AD 51 26   			lda.l	_global_counter
         02:CDCB  AC 52 26   			ldy.h	_global_counter
 6261                        		__equ_w.wi	182
         02:CDCE  C9 B6      			cmp.l	#182
         02:CDD0  D0 04      			bne	!false+
         02:CDD2  C0 00      			cpy.h	#182
         02:CDD4  F0 01      			beq	!+
         02:CDD6  18         	!false:		clc
         02:CDD7             	!:
 6262                        		__bfalse	.LL208
         02:CDD7  90 38      			bcc	.LL208
 6263                        	
 6264                        		.dbg	line,	"include\routines_INTRO.c", 401; {
 6265                        	
 6266                        		.dbg	line,	"include\routines_INTRO.c", 402; for(i=0 ; i<8 ; i++)
 6267                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:CDD9  9C 23 2C   			stz	__sequence_INTRO_end - 1
 6268    02:CDDC             	.LL209:
 6269                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:CDDC  AD 23 2C   			lda	__sequence_INTRO_end - 1
 6270                        		__ult_b.uiq	8
         02:CDDF  C9 08      			cmp	#8		; Subtract integer from A.
         02:CDE1  6A         			ror	a		; CC if A < integer.
         02:CDE2  49 80      			eor	#$80
         02:CDE4  2A         			rol	a
 6271                        		__btrue		.LL211
         02:CDE5  B0 07      			bcs	.LL211
 6272                        		__bra		.LL212
         02:CDE7  80 10      			bra	.LL212
 6273    02:CDE9             	.LL210:
 6274                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:CDE9  EE 23 2C   			inc	__sequence_INTRO_end - 1
 6275                        		__bra		.LL209
         02:CDEC  80 EE      			bra	.LL209
 6276    02:CDEE             	.LL211:
 6277                        	
 6278                        		.dbg	line,	"include\routines_INTRO.c", 403; {
 6279                        	
 6280                        		.dbg	line,	"include\routines_INTRO.c", 404; sgx_spr_set(i);
 6281                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:CDEE  AD 23 2C   			lda	__sequence_INTRO_end - 1
 6282                        		__call		_sgx_spr_set.1
         02:CDF1  20 9E E8   			call	_sgx_spr_set.1
 6283                        	
 6284                        		.dbg	line,	"include\routines_INTRO.c", 405; sgx_spr_hide();
 6285                        		__call		_sgx_spr_hide
         02:CDF4  20 B9 E8   			call	_sgx_spr_hide
 6286                        	
 6287                        		.dbg	line,	"include\routines_INTRO.c", 406; }
 6288                        		__bra		.LL210
         02:CDF7  80 F0      			bra	.LL210
 6289    02:CDF9             	.LL212:
 6290                        	
 6291                        		.dbg	line,	"include\routines_INTRO.c", 408; load_palette( 0, palette_INTRO_2, 1 );
 6292                        		__st.umiq	0, _al
         02:CDF9  64 F8      			stz	_al
 6293                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         02:CDFB  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:CDFD  85 EC      			sta.l	_bp
         02:CDFF  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:CE01  85 ED      			sta.h	_bp
         02:CE03  A9 06      			lda	#bank(_palette_INTRO_2)
         02:CE05  85 02      			sta	_bp_bank
 6294                        		__st.umiq	1, _ah
         02:CE07  A9 01      			lda.l	#1
         02:CE09  85 F9      			sta	_ah
 6295                        		__call		_load_palette.3
         02:CE0B  20 81 FF   			call	_load_palette.3
 6296                        	
 6297                        		.dbg	line,	"include\routines_INTRO.c", 409; }
 6298                        	
 6299                        		.dbg	line,	"include\routines_INTRO.c", 411; else if(global_counter == 184)
 6300                        		__bra		.LL213
         02:CE0E  4C 24 CF   			bra	.LL213
 6301    02:CE11             	.LL208:
 6302                        		__ld.wm		_global_counter
         02:CE11  AD 51 26   			lda.l	_global_counter
         02:CE14  AC 52 26   			ldy.h	_global_counter
 6303                        		__equ_w.wi	184
         02:CE17  C9 B8      			cmp.l	#184
         02:CE19  D0 04      			bne	!false+
         02:CE1B  C0 00      			cpy.h	#184
         02:CE1D  F0 01      			beq	!+
         02:CE1F  18         	!false:		clc
         02:CE20             	!:
 6304                        		__bfalse	.LL214
         02:CE20  90 76      			bcc	.LL214
 6305                        	
 6306                        		.dbg	line,	"include\routines_INTRO.c", 412; {
 6307                        	
 6308                        		.dbg	line,	"include\routines_INTRO.c", 413; for(i=0 ; i<8 ; i++)
 6309                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:CE22  9C 23 2C   			stz	__sequence_INTRO_end - 1
 6310    02:CE25             	.LL215:
 6311                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:CE25  AD 23 2C   			lda	__sequence_INTRO_end - 1
 6312                        		__ult_b.uiq	8
         02:CE28  C9 08      			cmp	#8		; Subtract integer from A.
         02:CE2A  6A         			ror	a		; CC if A < integer.
         02:CE2B  49 80      			eor	#$80
         02:CE2D  2A         			rol	a
 6313                        		__btrue		.LL217
         02:CE2E  B0 08      			bcs	.LL217
 6314                        		__bra		.LL218
         02:CE30  4C 24 CF   			bra	.LL218
 6315    02:CE33             	.LL216:
 6316                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:CE33  EE 23 2C   			inc	__sequence_INTRO_end - 1
 6317                        		__bra		.LL215
         02:CE36  80 ED      			bra	.LL215
 6318    02:CE38             	.LL217:
 6319                        	
 6320                        		.dbg	line,	"include\routines_INTRO.c", 414; {
 6321                        	
 6322                        		.dbg	line,	"include\routines_INTRO.c", 415; sgx_spr_set(i);
 6323                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:CE38  AD 23 2C   			lda	__sequence_INTRO_end - 1
 6324                        		__call		_sgx_spr_set.1
         02:CE3B  20 9E E8   			call	_sgx_spr_set.1
 6325                        	
 6326                        		.dbg	line,	"include\routines_INTRO.c", 416; sgx_spr_x(player_pos_x + (i<<5) - ((i>>2)<<7));
 6327                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:CE3E  AD 23 2C   			lda	__sequence_INTRO_end - 1
         02:CE41  C2         			cly
 6328                        		__asl.wi	5
         02:CE42  85 00      			sta	__temp
         02:CE44  98         			tya
         02:CE45  4A         			lsr	a
         02:CE46  20 C8 E1   			jsr	aslw5
         02:CE49  29 E0      			and.l	#$FF << 5
 6329                        		__add.wm	_player_pos_x
         02:CE4B  18         			clc
         02:CE4C  6D F7 24   			adc.l	_player_pos_x
         02:CE4F  42         			say
         02:CE50  6D F8 24   			adc.h	_player_pos_x
         02:CE53  42         			say
 6330                        		__push.wr
         02:CE54  5A         			phy
         02:CE55  48         			pha
 6331                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:CE56  AD 23 2C   			lda	__sequence_INTRO_end - 1
         02:CE59  C2         			cly
 6332                        		__lsr.uiq	2
         02:CE5A  4A         			lsr	a
         02:CE5B  4A         			lsr	a
 6333                        		__asl.wi	7
         02:CE5C  42         			say
         02:CE5D  4A         			lsr	a
         02:CE5E  42         			say
         02:CE5F  6A         			ror	a
         02:CE60  42         			say
         02:CE61  6A         			ror	a
         02:CE62  29 80      			and	#$80
 6334                        		__sub.wt
         02:CE64  BA         			tsx
         02:CE65  38         			sec
         02:CE66  49 FF      			eor	#$FF
         02:CE68  7D 01 21   			adc.l	__tos, x
         02:CE6B  42         			say
         02:CE6C  49 FF      			eor	#$FF
         02:CE6E  7D 02 21   			adc.h	__tos, x
         02:CE71  42         			say
         02:CE72  E8         			inx
         02:CE73  E8         			inx
         02:CE74  9A         			txs
 6335                        		__call		_sgx_spr_x.1
         02:CE75  20 CB E8   			call	_sgx_spr_x.1
 6336                        	
 6337                        		.dbg	line,	"include\routines_INTRO.c", 417; sgx_spr_y(player_pos_y + ((i>>2)<<5));
 6338                        		__ld.um		__sequence_INTRO_end - 1  /* i */
         02:CE78  AD 23 2C   			lda	__sequence_INTRO_end - 1
         02:CE7B  C2         			cly
 6339                        		__lsr.uiq	2
         02:CE7C  4A         			lsr	a
         02:CE7D  4A         			lsr	a
 6340                        		__asl.wi	5
         02:CE7E  85 00      			sta	__temp
         02:CE80  98         			tya
         02:CE81  4A         			lsr	a
         02:CE82  20 C8 E1   			jsr	aslw5
         02:CE85  29 E0      			and.l	#$FF << 5
 6341                        		__add.wm	_player_pos_y
         02:CE87  18         			clc
         02:CE88  6D F9 24   			adc.l	_player_pos_y
         02:CE8B  42         			say
         02:CE8C  6D FA 24   			adc.h	_player_pos_y
         02:CE8F  42         			say
 6342                        		__call		_sgx_spr_y.1
         02:CE90  20 DA E8   			call	_sgx_spr_y.1
 6343                        	
 6344                        		.dbg	line,	"include\routines_INTRO.c", 418; }
 6345                        		__bra		.LL216
         02:CE93  80 9E      			bra	.LL216
 6346    02:CE95             	.LL218	.alias		.LL219
 6347                        	
 6348                        		.dbg	line,	"include\routines_INTRO.c", 419; }
 6349                        	
 6350                        		.dbg	line,	"include\routines_INTRO.c", 421; else if(global_counter == 186)
 6351                        		__bra		.LL219
         02:CE95  4C 24 CF   			bra	.LL219
 6352    02:CE98             	.LL214:
 6353                        		__ld.wm		_global_counter
         02:CE98  AD 51 26   			lda.l	_global_counter
         02:CE9B  AC 52 26   			ldy.h	_global_counter
 6354                        		__equ_w.wi	186
         02:CE9E  C9 BA      			cmp.l	#186
         02:CEA0  D0 04      			bne	!false+
         02:CEA2  C0 00      			cpy.h	#186
         02:CEA4  F0 01      			beq	!+
         02:CEA6  18         	!false:		clc
         02:CEA7             	!:
 6355                        		__bfalse	.LL220
         02:CEA7  90 37      			bcc	.LL220
 6356                        	
 6357                        		.dbg	line,	"include\routines_INTRO.c", 422; {
 6358                        	
 6359                        		.dbg	line,	"include\routines_INTRO.c", 423; for(i=0 ; i<8 ; i++)
 6360                        		__st.umiq	0, __sequence_INTRO_end - 1  /* i */
         02:CEA9  9C 23 2C   			stz	__sequence_INTRO_end - 1
 6361    02:CEAC             	.LL221:
 6362                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:CEAC  AD 23 2C   			lda	__sequence_INTRO_end - 1
 6363                        		__ult_b.uiq	8
         02:CEAF  C9 08      			cmp	#8		; Subtract integer from A.
         02:CEB1  6A         			ror	a		; CC if A < integer.
         02:CEB2  49 80      			eor	#$80
         02:CEB4  2A         			rol	a
 6364                        		__btrue		.LL223
         02:CEB5  B0 07      			bcs	.LL223
 6365                        		__bra		.LL224
         02:CEB7  80 10      			bra	.LL224
 6366    02:CEB9             	.LL222:
 6367                        		__inc.umq	__sequence_INTRO_end - 1  /* i */
         02:CEB9  EE 23 2C   			inc	__sequence_INTRO_end - 1
 6368                        		__bra		.LL221
         02:CEBC  80 EE      			bra	.LL221
 6369    02:CEBE             	.LL223:
 6370                        	
 6371                        		.dbg	line,	"include\routines_INTRO.c", 424; {
 6372                        	
 6373                        		.dbg	line,	"include\routines_INTRO.c", 425; sgx_spr_set(i);
 6374                        		__ld.umq	__sequence_INTRO_end - 1  /* i */
         02:CEBE  AD 23 2C   			lda	__sequence_INTRO_end - 1
 6375                        		__call		_sgx_spr_set.1
         02:CEC1  20 9E E8   			call	_sgx_spr_set.1
 6376                        	
 6377                        		.dbg	line,	"include\routines_INTRO.c", 426; sgx_spr_hide();
 6378                        		__call		_sgx_spr_hide
         02:CEC4  20 B9 E8   			call	_sgx_spr_hide
 6379                        	
 6380                        		.dbg	line,	"include\routines_INTRO.c", 427; }
 6381                        		__bra		.LL222
         02:CEC7  80 F0      			bra	.LL222
 6382    02:CEC9             	.LL224:
 6383                        	
 6384                        		.dbg	line,	"include\routines_INTRO.c", 429; load_palette( 0, palette_INTRO_2, 1 );
 6385                        		__st.umiq	0, _al
         02:CEC9  64 F8      			stz	_al
 6386                        		__farptr	_palette_INTRO_2, _bp_bank, _bp
         02:CECB  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:CECD  85 EC      			sta.l	_bp
         02:CECF  A9 78      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_2))
         02:CED1  85 ED      			sta.h	_bp
         02:CED3  A9 06      			lda	#bank(_palette_INTRO_2)
         02:CED5  85 02      			sta	_bp_bank
 6387                        		__st.umiq	1, _ah
         02:CED7  A9 01      			lda.l	#1
         02:CED9  85 F9      			sta	_ah
 6388                        		__call		_load_palette.3
         02:CEDB  20 81 FF   			call	_load_palette.3
 6389                        	
 6390                        		.dbg	line,	"include\routines_INTRO.c", 430; }
 6391                        	
 6392                        		.dbg	line,	"include\routines_INTRO.c", 432; else if(global_counter == 731)
 6393                        		__bra		.LL225
         02:CEDE  80 44      			bra	.LL225
 6394    02:CEE0             	.LL220:
 6395                        		__ld.wm		_global_counter
         02:CEE0  AD 51 26   			lda.l	_global_counter
         02:CEE3  AC 52 26   			ldy.h	_global_counter
 6396                        		__equ_w.wi	731
         02:CEE6  C9 DB      			cmp.l	#731
         02:CEE8  D0 04      			bne	!false+
         02:CEEA  C0 02      			cpy.h	#731
         02:CEEC  F0 01      			beq	!+
         02:CEEE  18         	!false:		clc
         02:CEEF             	!:
 6397                        		__bfalse	.LL226
         02:CEEF  90 17      			bcc	.LL226
 6398                        	
 6399                        		.dbg	line,	"include\routines_INTRO.c", 433; {
 6400                        	
 6401                        		.dbg	line,	"include\routines_INTRO.c", 434; load_palette( 0, palette_BLACK, 1 );
 6402                        		__st.umiq	0, _al
         02:CEF1  64 F8      			stz	_al
 6403                        		__farptr	_palette_BLACK, _bp_bank, _bp
         02:CEF3  A9 00      			lda.l	#$6000 + ($1FFF & (_palette_BLACK))
         02:CEF5  85 EC      			sta.l	_bp
         02:CEF7  A9 6E      			lda.h	#$6000 + ($1FFF & (_palette_BLACK))
         02:CEF9  85 ED      			sta.h	_bp
         02:CEFB  A9 03      			lda	#bank(_palette_BLACK)
         02:CEFD  85 02      			sta	_bp_bank
 6404                        		__st.umiq	1, _ah
         02:CEFF  A9 01      			lda.l	#1
         02:CF01  85 F9      			sta	_ah
 6405                        		__call		_load_palette.3
         02:CF03  20 81 FF   			call	_load_palette.3
 6406                        	
 6407                        		.dbg	line,	"include\routines_INTRO.c", 435; }
 6408                        	
 6409                        		.dbg	line,	"include\routines_INTRO.c", 437; else if(global_counter == 851)
 6410                        		__bra		.LL227
         02:CF06  80 1C      			bra	.LL227
 6411    02:CF08             	.LL226:
 6412                        		__ld.wm		_global_counter
         02:CF08  AD 51 26   			lda.l	_global_counter
         02:CF0B  AC 52 26   			ldy.h	_global_counter
 6413                        		__equ_w.wi	851
         02:CF0E  C9 53      			cmp.l	#851
         02:CF10  D0 04      			bne	!false+
         02:CF12  C0 03      			cpy.h	#851
         02:CF14  F0 01      			beq	!+
         02:CF16  18         	!false:		clc
         02:CF17             	!:
 6414                        		__bfalse	.LL228
         02:CF17  90 0B      			bcc	.LL228
 6415                        	
 6416                        		.dbg	line,	"include\routines_INTRO.c", 438; {
 6417                        	
 6418                        		.dbg	line,	"include\routines_INTRO.c", 439; // DISABLE DISPLAY //
 6419                        	
 6420                        		.dbg	line,	"include\routines_INTRO.c", 440; disp_off();
 6421                        		__call		_disp_off
         02:CF19  20 3D E4   			call	_disp_off
 6422                        	
 6423                        		.dbg	line,	"include\routines_INTRO.c", 442; sequence_loaded = FALSE;
 6424                        		__st.umiq	0, _sequence_loaded
         02:CF1C  9C 14 23   			stz	_sequence_loaded
 6425                        	
 6426                        		.dbg	line,	"include\routines_INTRO.c", 444; sequence_id = SEQUENCE_LEVEL;
 6427                        		__st.umiq	2, _sequence_id
         02:CF1F  A9 02      			lda.l	#2
         02:CF21  8D 13 23   			sta	_sequence_id
 6428                        	
 6429                        		.dbg	line,	"include\routines_INTRO.c", 445; }
 6430                        	
 6431                        		.dbg	line,	"include\routines_INTRO.c", 450; //--------------------------------------------------------------------------------------//
 6432                        	
 6433                        		.dbg	line,	"include\routines_INTRO.c", 451; //                                     TEXT DISPLAY                                     //
 6434                        	
 6435                        		.dbg	line,	"include\routines_INTRO.c", 452; //--------------------------------------------------------------------------------------//
 6436                        	
 6437                        		.dbg	line,	"include\routines_INTRO.c", 453; 
 6438                        	
 6439                        		.dbg	line,	"include\routines_INTRO.c", 454; if(global_counter > 241)
 6440    02:CF24             	.LL228:
 6441    02:CF24             	.LL227:
 6442    02:CF24             	.LL225:
 6443    02:CF24             	.LL219:
 6444    02:CF24             	.LL213:
 6445    02:CF24             	.LL207:
 6446    02:CF24             	.LL205:
 6447    02:CF24             	.LL199:
 6448    02:CF24             	.LL193:
 6449    02:CF24             	.LL191:
 6450    02:CF24             	.LL185:
 6451    02:CF24             	.LL179:
 6452    02:CF24             	.LL177:
 6453    02:CF24             	.LL171:
 6454    02:CF24             	.LL165:
 6455    02:CF24             	.LL159:
 6456    02:CF24             	.LL153:
 6457    02:CF24             	.LL147:
 6458    02:CF24             	.LL145:
 6459    02:CF24             	.LL139:
 6460    02:CF24             	.LL133:
 6461    02:CF24             	.LL131:
 6462    02:CF24             	.LL125:
 6463    02:CF24             	.LL119:
 6464    02:CF24             	.LL113:
 6465    02:CF24             	.LL107:
 6466    02:CF24             	.LL101:
 6467    02:CF24             	.LL99:
 6468    02:CF24             	.LL97:
 6469    02:CF24             	.LL95:
 6470    02:CF24             	.LL93:
 6471    02:CF24             	.LL91:
 6472    02:CF24             	.LL89:
 6473                        		__ld.wm		_global_counter
         02:CF24  AD 51 26   			lda.l	_global_counter
         02:CF27  AC 52 26   			ldy.h	_global_counter
 6474                        		__sgt_w.wi	241
         02:CF2A  18         			clc			; Subtract integer+1 from Y:A.
         02:CF2B  E9 F1      			sbc.l	#241
         02:CF2D  98         			tya
         02:CF2E  E9 00      			sbc.h	#241
         02:CF30  50 02      			bvc	!+
         02:CF32  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         02:CF34  49 80      	!:		eor	#$80
         02:CF36  0A         			asl	a
 6475                        		__bfalse	.LL229
         02:CF37  B0 03 4C BE			bcc	.LL229
         02:CF3B  CF          
 6476                        	
 6477                        		.dbg	line,	"include\routines_INTRO.c", 455; {       
 6478                        	
 6479                        		.dbg	line,	"include\routines_INTRO.c", 456; if(letter_counter < 446)
 6480                        		__ld.wm		_letter_counter
         02:CF3C  AD 55 26   			lda.l	_letter_counter
         02:CF3F  AC 56 26   			ldy.h	_letter_counter
 6481                        		__slt_w.wi	446
         02:CF42  C9 BE      			cmp.l	#446		; Subtract integer from Y:A.
         02:CF44  98         			tya
         02:CF45  E9 01      			sbc.h	#446
         02:CF47  50 02      			bvc	!+
         02:CF49  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         02:CF4B  0A         	!:		asl	a
 6482                        		__bfalse	.LL230
         02:CF4C  90 68      			bcc	.LL230
 6483                        	
 6484                        		.dbg	line,	"include\routines_INTRO.c", 457; {
 6485                        	
 6486                        		.dbg	line,	"include\routines_INTRO.c", 458; // EVERY 2 FRAMES //
 6487                        	
 6488                        		.dbg	line,	"include\routines_INTRO.c", 459; if(letter_counter%2 == FALSE)
 6489                        		__ld.wm		_letter_counter
         02:CF4E  AD 55 26   			lda.l	_letter_counter
         02:CF51  AC 56 26   			ldy.h	_letter_counter
 6490                        		__smod.wi	2
         02:CF54  A2 02      			ldx.l	#2
         02:CF56  86 00      			stx.l	<divisor
         02:CF58  A2 00      			ldx.h	#2
         02:CF5A  86 01      			stx.h	<divisor
         02:CF5C  20 CB E4   			jsr	__modsint
 6491                        		__not.wr
         02:CF5F  84 00      			sty	__temp
         02:CF61  05 00      			ora	__temp
         02:CF63  18         			clc
         02:CF64  D0 01      			bne	!+
         02:CF66  38         			sec
         02:CF67             	!:
 6492                        		__bfalse	.LL231
         02:CF67  90 4D      			bcc	.LL231
 6493                        	
 6494                        		.dbg	line,	"include\routines_INTRO.c", 460; {            
 6495                        	
 6496                        		.dbg	line,	"include\routines_INTRO.c", 461; put_char(TABLE_INTRO_TEXT[letter_index] , 2 + index_x , 4 + ((letter_index / 28) << 1));
 6497                        		__ldx.wmq	_letter_index
         02:CF69  AE 53 26   			ldx.l	_letter_index
 6498                        		__ld.uax	_TABLE_INTRO_TEXT
         02:CF6C  BD D8 60   			lda	_TABLE_INTRO_TEXT, x
         02:CF6F  C2         			cly
 6499                        		__st.umq	_bl
         02:CF70  85 FA      			sta	_bl
 6500                        		__ld.wi		2
         02:CF72  A9 02      			lda.l	#2
         02:CF74  C2         			cly
 6501                        		__add.um	_index_x
         02:CF75  18         			clc
         02:CF76  6D F1 23   			adc	_index_x
         02:CF79  90 01      			bcc	!+
         02:CF7B  C8         			iny
         02:CF7C             	!:
 6502                        		__st.umq	_dil
         02:CF7C  85 F0      			sta	_dil
 6503                        		__ld.wm		_letter_index
         02:CF7E  AD 53 26   			lda.l	_letter_index
         02:CF81  AC 54 26   			ldy.h	_letter_index
 6504                        		__sdiv.wi	28
         02:CF84  A2 1C      			ldx.l	#28
         02:CF86  86 00      			stx.l	<divisor
         02:CF88  A2 00      			ldx.h	#28
         02:CF8A  86 01      			stx.h	<divisor
         02:CF8C  20 C3 E4   			jsr	__divsint
 6505                        		__asl.wi	1
         02:CF8F  0A         			asl	a
         02:CF90  42         			say
         02:CF91  2A         			rol	a
         02:CF92  42         			say
 6506                        		__add.wi	4
         02:CF93  18         			clc
         02:CF94  69 04      			adc.l	#4
         02:CF96  90 01      			bcc	!+
         02:CF98  C8         			iny
         02:CF99             	!:
 6507                        		__st.umq	_dih
         02:CF99  85 F1      			sta	_dih
 6508                        		__call		_put_char.3
         02:CF9B  20 6D FF   			call	_put_char.3
 6509                        	
 6510                        		.dbg	line,	"include\routines_INTRO.c", 463; letter_index += 1;
 6511                        		__add_st.wmiq	1, _letter_index
         02:CF9E  EE 53 26   			inc.l	_letter_index
         02:CFA1  D0 03      			bne	!+
         02:CFA3  EE 54 26   			inc.h	_letter_index
         02:CFA6             	!:
 6512                        	
 6513                        		.dbg	line,	"include\routines_INTRO.c", 464; index_x += 1;
 6514                        		__add_st.umiq	1, _index_x
         02:CFA6  EE F1 23   			inc	_index_x
 6515                        	
 6516                        		.dbg	line,	"include\routines_INTRO.c", 466; if(index_x == 28)
 6517                        		__ld.umq	_index_x
         02:CFA9  AD F1 23   			lda	_index_x
 6518                        		__equ_b.uiq	28
         02:CFAC  C9 1C      			cmp	#28
         02:CFAE  F0 01      			beq	!+
         02:CFB0  18         			clc
         02:CFB1             	!:
 6519                        		__bfalse	.LL232
         02:CFB1  90 03      			bcc	.LL232
 6520                        	
 6521                        		.dbg	line,	"include\routines_INTRO.c", 467; {
 6522                        	
 6523                        		.dbg	line,	"include\routines_INTRO.c", 468; index_x = 0;
 6524                        		__st.umiq	0, _index_x
         02:CFB3  9C F1 23   			stz	_index_x
 6525                        	
 6526                        		.dbg	line,	"include\routines_INTRO.c", 469; }
 6527                        	
 6528                        		.dbg	line,	"include\routines_INTRO.c", 470; }
 6529    02:CFB6             	.LL232:
 6530                        	
 6531                        		.dbg	line,	"include\routines_INTRO.c", 471; }
 6532    02:CFB6             	.LL231:
 6533                        	
 6534                        		.dbg	line,	"include\routines_INTRO.c", 473; letter_counter += 1;
 6535    02:CFB6             	.LL230:
 6536                        		__add_st.wmiq	1, _letter_counter
         02:CFB6  EE 55 26   			inc.l	_letter_counter
         02:CFB9  D0 03      			bne	!+
         02:CFBB  EE 56 26   			inc.h	_letter_counter
         02:CFBE             	!:
 6537                        	
 6538                        		.dbg	line,	"include\routines_INTRO.c", 474; }
 6539                        	
 6540                        		.dbg	line,	"include\routines_INTRO.c", 477; global_counter += 1;
 6541    02:CFBE             	.LL229:
 6542                        		__add_st.wmiq	1, _global_counter
         02:CFBE  EE 51 26   			inc.l	_global_counter
         02:CFC1  D0 03      			bne	!+
         02:CFC3  EE 52 26   			inc.h	_global_counter
         02:CFC6             	!:
 6543                        	
 6544                        		.dbg	line,	"include\routines_INTRO.c", 478; }
 6545    02:CFC6             	.LL44:
 6546                        		__return	0
         02:CFC6  4C EF FF   			jmp	leave_proc
 6547                        		.dbg	clear
 6548                        		.endp
 6549               2300     		.bss
 6550    F8:2300             	__sequence_INTRO_end	.alias	leaf_stack
 6551               E31D     		.code
 6552                        		.pceas
 6553                        	
 6554                        		.dbg	line,	"main.c", 27; #include "include/routines_LEVELS.c"
 6555                        		.dbg	line,	"include\routines_LEVELS.c", 1; #include "huc.h"
 6556                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
 6557                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
 6558                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
 6559                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
 6560                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
 6561                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
 6562                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
 6563                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
 6564                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
 6565                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
 6566                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
 6567                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 6568                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 6569                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 6570                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
 6571                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
 6572                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
 6573                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
 6574                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
 6575                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
 6576                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
 6577                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
 6578                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
 6579                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
 6580                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
 6581                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
 6582                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
 6583                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
 6584                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
 6585                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
 6586                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
 6587                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
 6588                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
 6589                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
 6590                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
 6591                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
 6592                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
 6593                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
 6594                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
 6595                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
 6596                        		.dbg	line,	"include\routines_LEVELS.c", 2; #include "hucc-scroll.h"
 6597                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
 6598                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
 6599                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
 6600                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
 6601                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
 6602                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
 6603                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
 6604                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
 6605                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
 6606                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
 6607                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
 6608                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 6609                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 6610                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 6611                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
 6612                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
 6613                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
 6614                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
 6615                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
 6616                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
 6617                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
 6618                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
 6619                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
 6620                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
 6621                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
 6622                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
 6623                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
 6624                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
 6625                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
 6626                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
 6627                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
 6628                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
 6629                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
 6630                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
 6631                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
 6632                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
 6633                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
 6634                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
 6635                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
 6636                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
 6637                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
 6638                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
 6639                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
 6640                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
 6641                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
 6642                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
 6643                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
 6644                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
 6645                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
 6646                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
 6647                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
 6648                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
 6649                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
 6650                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 6651                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
 6652                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
 6653                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
 6654                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
 6655                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
 6656                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
 6657                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
 6658                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
 6659                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
 6660                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
 6661                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
 6662                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
 6663                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
 6664                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
 6665                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
 6666                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
 6667                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
 6668                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
 6669                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
 6670                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
 6671                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
 6672                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
 6673                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
 6674                        		.dbg	line,	"include\routines_LEVELS.c", 3; #include "hucc-chrmap.h"
 6675                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
 6676                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
 6677                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
 6678                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
 6679                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
 6680                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
 6681                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
 6682                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
 6683                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
 6684                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
 6685                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
 6686                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 6687                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 6688                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 6689                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
 6690                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
 6691                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
 6692                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
 6693                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
 6694                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
 6695                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
 6696                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
 6697                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
 6698                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
 6699                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
 6700                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
 6701                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
 6702                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
 6703                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
 6704                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
 6705                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
 6706                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
 6707                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
 6708                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
 6709                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
 6710                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
 6711                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
 6712                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 6713                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
 6714                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
 6715                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
 6716                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
 6717                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 6718                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
 6719                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
 6720                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
 6721                        		.dbg	line,	"include\routines_LEVELS.c", 4; #include "hucc-blkmap.h"
 6722                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
 6723                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
 6724                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
 6725                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
 6726                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
 6727                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
 6728                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
 6729                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
 6730                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
 6731                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
 6732                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
 6733                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
 6734                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
 6735                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
 6736                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
 6737                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
 6738                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
 6739                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
 6740                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
 6741                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
 6742                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
 6743                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
 6744                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
 6745                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
 6746                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
 6747                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
 6748                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
 6749                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
 6750                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
 6751                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
 6752                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
 6753                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
 6754                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
 6755                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
 6756                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
 6757                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
 6758                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
 6759                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
 6760                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
 6761                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
 6762                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
 6763                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
 6764                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
 6765                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
 6766                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
 6767                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
 6768                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
 6769                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
 6770                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
 6771                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
 6772                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
 6773                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
 6774                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
 6775                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
 6776                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
 6777                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
 6778                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
 6779                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
 6780                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
 6781                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
 6782                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
 6783                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
 6784                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
 6785                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
 6786                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 6787                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 6788                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
 6789                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
 6790                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
 6791                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
 6792                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
 6793                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
 6794                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
 6795                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
 6796                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
 6797                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
 6798                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
 6799                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
 6800                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
 6801                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
 6802                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
 6803                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
 6804                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
 6805                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
 6806                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
 6807                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
 6808                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
 6809                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
 6810                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
 6811                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
 6812                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
 6813                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
 6814                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
 6815                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
 6816                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
 6817                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
 6818                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
 6819                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
 6820                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
 6821                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
 6822                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
 6823                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
 6824                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
 6825                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
 6826                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
 6827                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
 6828                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
 6829                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
 6830                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
 6831                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
 6832                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
 6833                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
 6834                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
 6835                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
 6836                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
 6837                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
 6838                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
 6839                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
 6840                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
 6841                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
 6842                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
 6843                        		.dbg	line,	"include\routines_LEVELS.c", 13; void hide_LEVEL_SPRITES()
 6844                        		.dbg	line,	"include\routines_LEVELS.c", 14; {
 6845                        	;***********************
 6846                        	;***********************
 6847                        	
 6848                        		.hucc
 6849    1F:DCEF             		.proc		_hide_LEVEL_SPRITES
 6850                        		__enter		_hide_LEVEL_SPRITES
 6851                        	
 6852                        		.dbg	line,	"include\routines_LEVELS.c", 15; char i;
 6853                        	
 6854                        		.dbg	line,	"include\routines_LEVELS.c", 17; for(i=0 ; i<64 ; i++)
 6855                        		__st.umiq	0, __hide_LEVEL_SPRITES_end - 1  /* i */
         1F:DCEF  9C 23 2C   			stz	__hide_LEVEL_SPRITES_end - 1
 6856    1F:DCF2             	.LL234:
 6857                        		__ld.umq	__hide_LEVEL_SPRITES_end - 1  /* i */
         1F:DCF2  AD 23 2C   			lda	__hide_LEVEL_SPRITES_end - 1
 6858                        		__ult_b.uiq	64
         1F:DCF5  C9 40      			cmp	#64		; Subtract integer from A.
         1F:DCF7  6A         			ror	a		; CC if A < integer.
         1F:DCF8  49 80      			eor	#$80
         1F:DCFA  2A         			rol	a
 6859                        		__btrue		.LL236
         1F:DCFB  B0 07      			bcs	.LL236
 6860                        		__bra		.LL237
         1F:DCFD  80 10      			bra	.LL237
 6861    1F:DCFF             	.LL235:
 6862                        		__inc.umq	__hide_LEVEL_SPRITES_end - 1  /* i */
         1F:DCFF  EE 23 2C   			inc	__hide_LEVEL_SPRITES_end - 1
 6863                        		__bra		.LL234
         1F:DD02  80 EE      			bra	.LL234
 6864    1F:DD04             	.LL236:
 6865                        	
 6866                        		.dbg	line,	"include\routines_LEVELS.c", 18; {
 6867                        	
 6868                        		.dbg	line,	"include\routines_LEVELS.c", 19; spr_set(i);
 6869                        		__ld.umq	__hide_LEVEL_SPRITES_end - 1  /* i */
         1F:DD04  AD 23 2C   			lda	__hide_LEVEL_SPRITES_end - 1
 6870                        		__call		_spr_set.1
         1F:DD07  20 F1 E7   			call	_spr_set.1
 6871                        	
 6872                        		.dbg	line,	"include\routines_LEVELS.c", 20; spr_hide();
 6873                        		__call		_spr_hide
         1F:DD0A  20 0C E8   			call	_spr_hide
 6874                        	
 6875                        		.dbg	line,	"include\routines_LEVELS.c", 21; }
 6876                        		__bra		.LL235
         1F:DD0D  80 F0      			bra	.LL235
 6877    1F:DD0F             	.LL237:
 6878                        	
 6879                        		.dbg	line,	"include\routines_LEVELS.c", 22; }
 6880    1F:DD0F             	.LL233:
 6881                        		__return	0
         1F:DD0F  4C EF FF   			jmp	leave_proc
 6882                        		.dbg	clear
 6883                        		.endp
 6884               2300     		.bss
 6885    F8:2300             	__hide_LEVEL_SPRITES_end	.alias	leaf_stack
 6886               E31D     		.code
 6887                        		.pceas
 6888                        	
 6889                        		.dbg	line,	"include\routines_LEVELS.c", 27; //-----------------------------------------------------------------------------//
 6890                        		.dbg	line,	"include\routines_LEVELS.c", 28; //                                     HUD                                     //
 6891                        		.dbg	line,	"include\routines_LEVELS.c", 29; //-----------------------------------------------------------------------------//
 6892                        		.dbg	line,	"include\routines_LEVELS.c", 31; void display_LIFE()
 6893                        		.dbg	line,	"include\routines_LEVELS.c", 32; {
 6894                        	;***********************
 6895                        	;***********************
 6896                        	
 6897                        		.hucc
 6898    1F:DDB7             		.proc		_display_LIFE
 6899                        		__enter		_display_LIFE
 6900                        	
 6901                        		.dbg	line,	"include\routines_LEVELS.c", 33; put_number(life_amount,1,1,0);
 6902                        		__ld.um		_life_amount
         1F:DDB7  AD 2E 23   			lda	_life_amount
         1F:DDBA  C2         			cly
 6903                        		__st.wmq	_bx
         1F:DDBB  85 FA      			sta.l	_bx
         1F:DDBD  84 FB      			sty.h	_bx
 6904                        		__st.umiq	1, _cl
         1F:DDBF  A9 01      			lda.l	#1
         1F:DDC1  85 FC      			sta	_cl
 6905                        		__st.umiq	1, _dil
         1F:DDC3  A9 01      			lda.l	#1
         1F:DDC5  85 F0      			sta	_dil
 6906                        		__st.umiq	0, _dih
         1F:DDC7  64 F1      			stz	_dih
 6907                        		__call		_put_number.4
         1F:DDC9  20 63 FF   			call	_put_number.4
 6908                        	
 6909                        		.dbg	line,	"include\routines_LEVELS.c", 34; }
 6910    1F:DDCC             	.LL238:
 6911                        		__return	0
         1F:DDCC  4C EF FF   			jmp	leave_proc
 6912                        		.dbg	clear
 6913                        		.endp
 6914                        		.pceas
 6915                        	
 6916                        		.dbg	line,	"include\routines_LEVELS.c", 37; void display_SCORE()
 6917                        		.dbg	line,	"include\routines_LEVELS.c", 38; {
 6918                        	;***********************
 6919                        	;***********************
 6920                        	
 6921                        		.hucc
 6922    1F:DD2F             		.proc		_display_SCORE
 6923                        		__enter		_display_SCORE
 6924                        	
 6925                        		.dbg	line,	"include\routines_LEVELS.c", 39; put_number(score,6,14,1);
 6926                        		__ld.wm		_score
         1F:DD2F  AD 59 26   			lda.l	_score
         1F:DD32  AC 5A 26   			ldy.h	_score
 6927                        		__st.wmq	_bx
         1F:DD35  85 FA      			sta.l	_bx
         1F:DD37  84 FB      			sty.h	_bx
 6928                        		__st.umiq	6, _cl
         1F:DD39  A9 06      			lda.l	#6
         1F:DD3B  85 FC      			sta	_cl
 6929                        		__st.umiq	14, _dil
         1F:DD3D  A9 0E      			lda.l	#14
         1F:DD3F  85 F0      			sta	_dil
 6930                        		__st.umiq	1, _dih
         1F:DD41  A9 01      			lda.l	#1
         1F:DD43  85 F1      			sta	_dih
 6931                        		__call		_put_number.4
         1F:DD45  20 63 FF   			call	_put_number.4
 6932                        	
 6933                        		.dbg	line,	"include\routines_LEVELS.c", 40; }
 6934    1F:DD48             	.LL239:
 6935                        		__return	0
         1F:DD48  4C EF FF   			jmp	leave_proc
 6936                        		.dbg	clear
 6937                        		.endp
 6938                        		.pceas
 6939                        	
 6940                        		.dbg	line,	"include\routines_LEVELS.c", 43; void display_TIME_LEVEL()
 6941                        		.dbg	line,	"include\routines_LEVELS.c", 44; {
 6942                        	;***********************
 6943                        	;***********************
 6944                        	
 6945                        		.hucc
 6946    1F:D53E             		.proc		_display_TIME_LEVEL
 6947                        		__enter		_display_TIME_LEVEL
 6948                        	
 6949                        		.dbg	line,	"include\routines_LEVELS.c", 45; put_number(minutes,1,1,3);
 6950                        		__ld.um		_minutes
         1F:D53E  AD 32 23   			lda	_minutes
         1F:D541  C2         			cly
 6951                        		__st.wmq	_bx
         1F:D542  85 FA      			sta.l	_bx
         1F:D544  84 FB      			sty.h	_bx
 6952                        		__st.umiq	1, _cl
         1F:D546  A9 01      			lda.l	#1
         1F:D548  85 FC      			sta	_cl
 6953                        		__st.umiq	1, _dil
         1F:D54A  A9 01      			lda.l	#1
         1F:D54C  85 F0      			sta	_dil
 6954                        		__st.umiq	3, _dih
         1F:D54E  A9 03      			lda.l	#3
         1F:D550  85 F1      			sta	_dih
 6955                        		__call		_put_number.4
         1F:D552  20 63 FF   			call	_put_number.4
 6956                        	
 6957                        		.dbg	line,	"include\routines_LEVELS.c", 47; if(seconds < 10)
 6958                        		__ld.umq	_seconds
         1F:D555  AD 33 23   			lda	_seconds
 6959                        		__ult_b.uiq	10
         1F:D558  C9 0A      			cmp	#10		; Subtract integer from A.
         1F:D55A  6A         			ror	a		; CC if A < integer.
         1F:D55B  49 80      			eor	#$80
         1F:D55D  2A         			rol	a
 6960                        		__bfalse	.LL241
         1F:D55E  90 2C      			bcc	.LL241
 6961                        	
 6962                        		.dbg	line,	"include\routines_LEVELS.c", 48; {
 6963                        	
 6964                        		.dbg	line,	"include\routines_LEVELS.c", 49; put_number(0,1,3,3);
 6965                        		__st.wmiq	0, _bx
         1F:D560  64 FA      			stz.l	_bx
         1F:D562  64 FB      			stz.h	_bx
 6966                        		__st.umiq	1, _cl
         1F:D564  A9 01      			lda.l	#1
         1F:D566  85 FC      			sta	_cl
 6967                        		__st.umiq	3, _dil
         1F:D568  A9 03      			lda.l	#3
         1F:D56A  85 F0      			sta	_dil
 6968                        		__st.umiq	3, _dih
         1F:D56C  A9 03      			lda.l	#3
         1F:D56E  85 F1      			sta	_dih
 6969                        		__call		_put_number.4
         1F:D570  20 63 FF   			call	_put_number.4
 6970                        	
 6971                        		.dbg	line,	"include\routines_LEVELS.c", 50; put_number(seconds,1,4,3);
 6972                        		__ld.um		_seconds
         1F:D573  AD 33 23   			lda	_seconds
         1F:D576  C2         			cly
 6973                        		__st.wmq	_bx
         1F:D577  85 FA      			sta.l	_bx
         1F:D579  84 FB      			sty.h	_bx
 6974                        		__st.umiq	1, _cl
         1F:D57B  A9 01      			lda.l	#1
         1F:D57D  85 FC      			sta	_cl
 6975                        		__st.umiq	4, _dil
         1F:D57F  A9 04      			lda.l	#4
         1F:D581  85 F0      			sta	_dil
 6976                        		__st.umiq	3, _dih
         1F:D583  A9 03      			lda.l	#3
         1F:D585  85 F1      			sta	_dih
 6977                        		__call		_put_number.4
         1F:D587  20 63 FF   			call	_put_number.4
 6978                        	
 6979                        		.dbg	line,	"include\routines_LEVELS.c", 51; }
 6980                        	
 6981                        		.dbg	line,	"include\routines_LEVELS.c", 53; else
 6982                        		__bra		.LL242
         1F:D58A  80 17      			bra	.LL242
 6983    1F:D58C             	.LL241:
 6984                        	
 6985                        		.dbg	line,	"include\routines_LEVELS.c", 54; {
 6986                        	
 6987                        		.dbg	line,	"include\routines_LEVELS.c", 55; put_number(seconds,2,3,3);
 6988                        		__ld.um		_seconds
         1F:D58C  AD 33 23   			lda	_seconds
         1F:D58F  C2         			cly
 6989                        		__st.wmq	_bx
         1F:D590  85 FA      			sta.l	_bx
         1F:D592  84 FB      			sty.h	_bx
 6990                        		__st.umiq	2, _cl
         1F:D594  A9 02      			lda.l	#2
         1F:D596  85 FC      			sta	_cl
 6991                        		__st.umiq	3, _dil
         1F:D598  A9 03      			lda.l	#3
         1F:D59A  85 F0      			sta	_dil
 6992                        		__st.umiq	3, _dih
         1F:D59C  A9 03      			lda.l	#3
         1F:D59E  85 F1      			sta	_dih
 6993                        		__call		_put_number.4
         1F:D5A0  20 63 FF   			call	_put_number.4
 6994                        	
 6995                        		.dbg	line,	"include\routines_LEVELS.c", 56; }
 6996    1F:D5A3             	.LL242:
 6997                        	
 6998                        		.dbg	line,	"include\routines_LEVELS.c", 58; time_counter += 1;
 6999                        		__add_st.umiq	1, _time_counter
         1F:D5A3  EE 34 23   			inc	_time_counter
 7000                        	
 7001                        		.dbg	line,	"include\routines_LEVELS.c", 60; if(time_counter == 60)
 7002                        		__ld.umq	_time_counter
         1F:D5A6  AD 34 23   			lda	_time_counter
 7003                        		__equ_b.uiq	60
         1F:D5A9  C9 3C      			cmp	#60
         1F:D5AB  F0 01      			beq	!+
         1F:D5AD  18         			clc
         1F:D5AE             	!:
 7004                        		__bfalse	.LL243
         1F:D5AE  90 28      			bcc	.LL243
 7005                        	
 7006                        		.dbg	line,	"include\routines_LEVELS.c", 61; {
 7007                        	
 7008                        		.dbg	line,	"include\routines_LEVELS.c", 62; time_counter = 0;
 7009                        		__st.umiq	0, _time_counter
         1F:D5B0  9C 34 23   			stz	_time_counter
 7010                        	
 7011                        		.dbg	line,	"include\routines_LEVELS.c", 64; if(seconds > 0)
 7012                        		__ld.umq	_seconds
         1F:D5B3  AD 33 23   			lda	_seconds
 7013                        		__ugt_b.uiq	0
         1F:D5B6  18         			clc			; Subtract integer+1 from A.
         1F:D5B7  E9 00      			sbc	#0		; CS if A > integer.
 7014                        		__bfalse	.LL244
         1F:D5B9  90 05      			bcc	.LL244
 7015                        	
 7016                        		.dbg	line,	"include\routines_LEVELS.c", 65; {
 7017                        	
 7018                        		.dbg	line,	"include\routines_LEVELS.c", 66; seconds -= 1;
 7019                        		__sub_st.umiq	1, _seconds
         1F:D5BB  CE 33 23   			dec	_seconds
 7020                        	
 7021                        		.dbg	line,	"include\routines_LEVELS.c", 67; }
 7022                        	
 7023                        		.dbg	line,	"include\routines_LEVELS.c", 69; else
 7024                        		__bra		.LL245
         1F:D5BE  80 18      			bra	.LL245
 7025    1F:D5C0             	.LL244:
 7026                        	
 7027                        		.dbg	line,	"include\routines_LEVELS.c", 70; {
 7028                        	
 7029                        		.dbg	line,	"include\routines_LEVELS.c", 71; if(minutes > 0)
 7030                        		__ld.umq	_minutes
         1F:D5C0  AD 32 23   			lda	_minutes
 7031                        		__ugt_b.uiq	0
         1F:D5C3  18         			clc			; Subtract integer+1 from A.
         1F:D5C4  E9 00      			sbc	#0		; CS if A > integer.
 7032                        		__bfalse	.LL246
         1F:D5C6  90 0A      			bcc	.LL246
 7033                        	
 7034                        		.dbg	line,	"include\routines_LEVELS.c", 72; {
 7035                        	
 7036                        		.dbg	line,	"include\routines_LEVELS.c", 73; seconds = 59;
 7037                        		__st.umiq	59, _seconds
         1F:D5C8  A9 3B      			lda.l	#59
         1F:D5CA  8D 33 23   			sta	_seconds
 7038                        	
 7039                        		.dbg	line,	"include\routines_LEVELS.c", 74; minutes -= 1;
 7040                        		__sub_st.umiq	1, _minutes
         1F:D5CD  CE 32 23   			dec	_minutes
 7041                        	
 7042                        		.dbg	line,	"include\routines_LEVELS.c", 75; }
 7043                        	
 7044                        		.dbg	line,	"include\routines_LEVELS.c", 77; else
 7045                        		__bra		.LL247
         1F:D5D0  80 06      			bra	.LL247
 7046    1F:D5D2             	.LL246:
 7047                        	
 7048                        		.dbg	line,	"include\routines_LEVELS.c", 78; {
 7049                        	
 7050                        		.dbg	line,	"include\routines_LEVELS.c", 79; seconds = 0;
 7051                        		__st.umiq	0, _seconds
         1F:D5D2  9C 33 23   			stz	_seconds
 7052                        	
 7053                        		.dbg	line,	"include\routines_LEVELS.c", 80; minutes = 0;
 7054                        		__st.umiq	0, _minutes
         1F:D5D5  9C 32 23   			stz	_minutes
 7055                        	
 7056                        		.dbg	line,	"include\routines_LEVELS.c", 81; // TIME OUT //
 7057                        	
 7058                        		.dbg	line,	"include\routines_LEVELS.c", 82; }
 7059    1F:D5D8             	.LL247:
 7060                        	
 7061                        		.dbg	line,	"include\routines_LEVELS.c", 83; }
 7062    1F:D5D8             	.LL245:
 7063                        	
 7064                        		.dbg	line,	"include\routines_LEVELS.c", 84; } 
 7065                        	
 7066                        		.dbg	line,	"include\routines_LEVELS.c", 85; }
 7067    1F:D5D8             	.LL243:
 7068    1F:D5D8             	.LL240:
 7069                        		__return	0
         1F:D5D8  4C EF FF   			jmp	leave_proc
 7070                        		.dbg	clear
 7071                        		.endp
 7072                        		.pceas
 7073                        	
 7074                        		.dbg	line,	"include\routines_LEVELS.c", 88; void display_KEY()
 7075                        		.dbg	line,	"include\routines_LEVELS.c", 89; {
 7076                        	;***********************
 7077                        	;***********************
 7078                        	
 7079                        		.hucc
 7080    1F:DD83             		.proc		_display_KEY
 7081                        		__enter		_display_KEY
 7082                        	
 7083                        		.dbg	line,	"include\routines_LEVELS.c", 90; put_number(key_amount,2,7,27);
 7084                        		__ld.um		_key_amount
         1F:DD83  AD 30 23   			lda	_key_amount
         1F:DD86  C2         			cly
 7085                        		__st.wmq	_bx
         1F:DD87  85 FA      			sta.l	_bx
         1F:DD89  84 FB      			sty.h	_bx
 7086                        		__st.umiq	2, _cl
         1F:DD8B  A9 02      			lda.l	#2
         1F:DD8D  85 FC      			sta	_cl
 7087                        		__st.umiq	7, _dil
         1F:DD8F  A9 07      			lda.l	#7
         1F:DD91  85 F0      			sta	_dil
 7088                        		__st.umiq	27, _dih
         1F:DD93  A9 1B      			lda.l	#27
         1F:DD95  85 F1      			sta	_dih
 7089                        		__call		_put_number.4
         1F:DD97  20 63 FF   			call	_put_number.4
 7090                        	
 7091                        		.dbg	line,	"include\routines_LEVELS.c", 91; }
 7092    1F:DD9A             	.LL248:
 7093                        		__return	0
         1F:DD9A  4C EF FF   			jmp	leave_proc
 7094                        		.dbg	clear
 7095                        		.endp
 7096                        		.pceas
 7097                        	
 7098                        		.dbg	line,	"include\routines_LEVELS.c", 94; void display_POTION()
 7099                        		.dbg	line,	"include\routines_LEVELS.c", 95; {
 7100                        	;***********************
 7101                        	;***********************
 7102                        	
 7103                        		.hucc
 7104    1F:DD9D             		.proc		_display_POTION
 7105                        		__enter		_display_POTION
 7106                        	
 7107                        		.dbg	line,	"include\routines_LEVELS.c", 96; put_number(potion_amount,2,19,27);
 7108                        		__ld.um		_potion_amount
         1F:DD9D  AD 31 23   			lda	_potion_amount
         1F:DDA0  C2         			cly
 7109                        		__st.wmq	_bx
         1F:DDA1  85 FA      			sta.l	_bx
         1F:DDA3  84 FB      			sty.h	_bx
 7110                        		__st.umiq	2, _cl
         1F:DDA5  A9 02      			lda.l	#2
         1F:DDA7  85 FC      			sta	_cl
 7111                        		__st.umiq	19, _dil
         1F:DDA9  A9 13      			lda.l	#19
         1F:DDAB  85 F0      			sta	_dil
 7112                        		__st.umiq	27, _dih
         1F:DDAD  A9 1B      			lda.l	#27
         1F:DDAF  85 F1      			sta	_dih
 7113                        		__call		_put_number.4
         1F:DDB1  20 63 FF   			call	_put_number.4
 7114                        	
 7115                        		.dbg	line,	"include\routines_LEVELS.c", 97; }
 7116    1F:DDB4             	.LL249:
 7117                        		__return	0
         1F:DDB4  4C EF FF   			jmp	leave_proc
 7118                        		.dbg	clear
 7119                        		.endp
 7120                        		.pceas
 7121                        	
 7122                        		.dbg	line,	"include\routines_LEVELS.c", 100; void display_ZENNY()
 7123                        		.dbg	line,	"include\routines_LEVELS.c", 101; {
 7124                        	;***********************
 7125                        	;***********************
 7126                        	
 7127                        		.hucc
 7128    1F:DD4B             		.proc		_display_ZENNY
 7129                        		__enter		_display_ZENNY
 7130                        	
 7131                        		.dbg	line,	"include\routines_LEVELS.c", 102; put_number(zenny_amount,5,26,4);
 7132                        		__ld.wm		_zenny_amount
         1F:DD4B  AD 57 26   			lda.l	_zenny_amount
         1F:DD4E  AC 58 26   			ldy.h	_zenny_amount
 7133                        		__st.wmq	_bx
         1F:DD51  85 FA      			sta.l	_bx
         1F:DD53  84 FB      			sty.h	_bx
 7134                        		__st.umiq	5, _cl
         1F:DD55  A9 05      			lda.l	#5
         1F:DD57  85 FC      			sta	_cl
 7135                        		__st.umiq	26, _dil
         1F:DD59  A9 1A      			lda.l	#26
         1F:DD5B  85 F0      			sta	_dil
 7136                        		__st.umiq	4, _dih
         1F:DD5D  A9 04      			lda.l	#4
         1F:DD5F  85 F1      			sta	_dih
 7137                        		__call		_put_number.4
         1F:DD61  20 63 FF   			call	_put_number.4
 7138                        	
 7139                        		.dbg	line,	"include\routines_LEVELS.c", 103; }
 7140    1F:DD64             	.LL250:
 7141                        		__return	0
         1F:DD64  4C EF FF   			jmp	leave_proc
 7142                        		.dbg	clear
 7143                        		.endp
 7144                        		.pceas
 7145                        	
 7146                        		.dbg	line,	"include\routines_LEVELS.c", 108; //-----------------------------------------------------------------------------//
 7147                        		.dbg	line,	"include\routines_LEVELS.c", 109; //                                  SCROLLING                                  //
 7148                        		.dbg	line,	"include\routines_LEVELS.c", 110; //-----------------------------------------------------------------------------//
 7149                        		.dbg	line,	"include\routines_LEVELS.c", 112; void scroll_object()
 7150                        		.dbg	line,	"include\routines_LEVELS.c", 113; {
 7151                        	;***********************
 7152                        	;***********************
 7153                        	
 7154                        		.hucc
 7155    1F:C821             		.proc		_scroll_object
 7156                        		__enter		_scroll_object
 7157                        	
 7158                        		.dbg	line,	"include\routines_LEVELS.c", 114; char i;
 7159                        	
 7160                        		.dbg	line,	"include\routines_LEVELS.c", 115; onscreen_object_number = 0;
 7161                        		__st.umiq	0, _onscreen_object_number
         1F:C821  9C 39 23   			stz	_onscreen_object_number
 7162                        	
 7163                        		.dbg	line,	"include\routines_LEVELS.c", 117; for(i=0 ; i<level_object_number ; i++)
 7164                        		__st.umiq	0, __scroll_object_end - 1  /* i */
         1F:C824  9C 23 2C   			stz	__scroll_object_end - 1
 7165    1F:C827             	.LL252:
 7166                        		__ld.umq	__scroll_object_end - 1  /* i */
         1F:C827  AD 23 2C   			lda	__scroll_object_end - 1
 7167                        		__ult_b.umq	_level_object_number
         1F:C82A  CD 38 23   			cmp	_level_object_number		; Subtract memory from A.
         1F:C82D  6A         			ror	a		; CC if A < memory.
         1F:C82E  49 80      			eor	#$80
         1F:C830  2A         			rol	a
 7168                        		__btrue		.LL254
         1F:C831  B0 08      			bcs	.LL254
 7169                        		__bra		.LL255
         1F:C833  4C 81 C9   			bra	.LL255
 7170    1F:C836             	.LL253:
 7171                        		__inc.umq	__scroll_object_end - 1  /* i */
         1F:C836  EE 23 2C   			inc	__scroll_object_end - 1
 7172                        		__bra		.LL252
         1F:C839  80 EC      			bra	.LL252
 7173    1F:C83B             	.LL254:
 7174                        	
 7175                        		.dbg	line,	"include\routines_LEVELS.c", 118; {
 7176                        	
 7177                        		.dbg	line,	"include\routines_LEVELS.c", 119; if(list_object_state[i] != STATE_FREE)
 7178                        		__ldx.umq	__scroll_object_end - 1  /* i */
         1F:C83B  AE 23 2C   			ldx	__scroll_object_end - 1
 7179                        		__tst.uax	_list_object_state
         1F:C83E  BD 53 23   			lda	_list_object_state, x
         1F:C841  C9 01      			cmp	#1
 7180                        		__bfalse	.LL256
         1F:C843  90 F1      			bcc	.LL256
 7181                        	
 7182                        		.dbg	line,	"include\routines_LEVELS.c", 120; {
 7183                        	
 7184                        		.dbg	line,	"include\routines_LEVELS.c", 121; char scroll_allowed = FALSE;
 7185                        		__st.umiq	0, __scroll_object_end - 2  /* scroll_allowed */
         1F:C845  9C 22 2C   			stz	__scroll_object_end - 2
 7186                        	
 7187                        		.dbg	line,	"include\routines_LEVELS.c", 122; 
 7188                        	
 7189                        		.dbg	line,	"include\routines_LEVELS.c", 123; // IF OBJECT X POSITION IS INFERIOR TO SCREEN RIGHT SIDE //
 7190                        	
 7191                        		.dbg	line,	"include\routines_LEVELS.c", 124; if(list_object_x_pos_ref[i] < sgx_map_pxl_x + 256)
 7192                        		__ld.wm		_sgx_map_pxl_x
         1F:C848  AD DA 26   			lda.l	_sgx_map_pxl_x
         1F:C84B  AC DB 26   			ldy.h	_sgx_map_pxl_x
 7193                        		__add.wi	256
         1F:C84E  18         			clc
         1F:C84F  69 00      			adc.l	#256
         1F:C851  42         			say
         1F:C852  69 01      			adc.h	#256
         1F:C854  42         			say
 7194                        		__ld2x.um	__scroll_object_end - 1  /* i */
         1F:C855  AA         			tax
         1F:C856  AD 23 2C   			lda	__scroll_object_end - 1
         1F:C859  0A         			asl	a
         1F:C85A  22         			sax
 7195                        		__ugt_w.wax	_list_object_x_pos_ref
         1F:C85B  18         			clc			; Subtract memory+1 from Y:A.
         1F:C85C  FD 65 25   			sbc.l	_list_object_x_pos_ref, x
         1F:C85F  98         			tya
         1F:C860  FD 66 25   			sbc.h	_list_object_x_pos_ref, x		; CS if Y:A > memory.
 7196                        		__bfalse	.LL257
         1F:C863  B0 03 4C E8			bcc	.LL257
         1F:C867  C8          
 7197                        	
 7198                        		.dbg	line,	"include\routines_LEVELS.c", 125; {
 7199                        	
 7200                        		.dbg	line,	"include\routines_LEVELS.c", 126; // IF OBJECT X POSITION IS SUPERIOR TO SCREEN LEFT SIDE PLUS 16 PX //
 7201                        	
 7202                        		.dbg	line,	"include\routines_LEVELS.c", 127; if(list_object_x_pos_ref[i] - sgx_map_pxl_x + 16 > 0)
 7203                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:C868  AD 23 2C   			lda	__scroll_object_end - 1
         1F:C86B  0A         			asl	a
         1F:C86C  AA         			tax
 7204                        		__ld.wax	_list_object_x_pos_ref
         1F:C86D  BD 65 25   			lda.l	_list_object_x_pos_ref, x
         1F:C870  BC 66 25   			ldy.h	_list_object_x_pos_ref, x
 7205                        		__sub.wm	_sgx_map_pxl_x
         1F:C873  38         			sec
         1F:C874  ED DA 26   			sbc.l	_sgx_map_pxl_x
         1F:C877  42         			say
         1F:C878  ED DB 26   			sbc.h	_sgx_map_pxl_x
         1F:C87B  42         			say
 7206                        		__add.wi	16
         1F:C87C  18         			clc
         1F:C87D  69 10      			adc.l	#16
         1F:C87F  90 01      			bcc	!+
         1F:C881  C8         			iny
         1F:C882             	!:
 7207                        		__sgt_w.wi	0
         1F:C882  18         			clc			; Subtract integer+1 from Y:A.
         1F:C883  E9 00      			sbc.l	#0
         1F:C885  98         			tya
         1F:C886  E9 00      			sbc.h	#0
         1F:C888  50 02      			bvc	!+
         1F:C88A  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:C88C  49 80      	!:		eor	#$80
         1F:C88E  0A         			asl	a
 7208                        		__bfalse	.LL258
         1F:C88F  90 57      			bcc	.LL258
 7209                        	
 7210                        		.dbg	line,	"include\routines_LEVELS.c", 128; {
 7211                        	
 7212                        		.dbg	line,	"include\routines_LEVELS.c", 129; // IF OBJECT Y POSITION IS INFERIOR TO SCREEN BOTTOM //
 7213                        	
 7214                        		.dbg	line,	"include\routines_LEVELS.c", 130; if(list_object_y_pos_ref[i] < sgx_map_pxl_y + 224)
 7215                        		__ld.wm		_sgx_map_pxl_y
         1F:C891  AD DC 26   			lda.l	_sgx_map_pxl_y
         1F:C894  AC DD 26   			ldy.h	_sgx_map_pxl_y
 7216                        		__add.wi	224
         1F:C897  18         			clc
         1F:C898  69 E0      			adc.l	#224
         1F:C89A  90 01      			bcc	!+
         1F:C89C  C8         			iny
         1F:C89D             	!:
 7217                        		__ld2x.um	__scroll_object_end - 1  /* i */
         1F:C89D  AA         			tax
         1F:C89E  AD 23 2C   			lda	__scroll_object_end - 1
         1F:C8A1  0A         			asl	a
         1F:C8A2  22         			sax
 7218                        		__ugt_w.wax	_list_object_y_pos_ref
         1F:C8A3  18         			clc			; Subtract memory+1 from Y:A.
         1F:C8A4  FD 97 25   			sbc.l	_list_object_y_pos_ref, x
         1F:C8A7  98         			tya
         1F:C8A8  FD 98 25   			sbc.h	_list_object_y_pos_ref, x		; CS if Y:A > memory.
 7219                        		__bfalse	.LL259
         1F:C8AB  90 3B      			bcc	.LL259
 7220                        	
 7221                        		.dbg	line,	"include\routines_LEVELS.c", 131; {
 7222                        	
 7223                        		.dbg	line,	"include\routines_LEVELS.c", 132; // IF OBJECT Y POSITION IS SUPERIOR TO SCREEN TOP PLUS 16 PX //
 7224                        	
 7225                        		.dbg	line,	"include\routines_LEVELS.c", 133; if(list_object_y_pos_ref[i] - sgx_map_pxl_y + 16 > 0)
 7226                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:C8AD  AD 23 2C   			lda	__scroll_object_end - 1
         1F:C8B0  0A         			asl	a
         1F:C8B1  AA         			tax
 7227                        		__ld.wax	_list_object_y_pos_ref
         1F:C8B2  BD 97 25   			lda.l	_list_object_y_pos_ref, x
         1F:C8B5  BC 98 25   			ldy.h	_list_object_y_pos_ref, x
 7228                        		__sub.wm	_sgx_map_pxl_y
         1F:C8B8  38         			sec
         1F:C8B9  ED DC 26   			sbc.l	_sgx_map_pxl_y
         1F:C8BC  42         			say
         1F:C8BD  ED DD 26   			sbc.h	_sgx_map_pxl_y
         1F:C8C0  42         			say
 7229                        		__add.wi	16
         1F:C8C1  18         			clc
         1F:C8C2  69 10      			adc.l	#16
         1F:C8C4  90 01      			bcc	!+
         1F:C8C6  C8         			iny
         1F:C8C7             	!:
 7230                        		__sgt_w.wi	0
         1F:C8C7  18         			clc			; Subtract integer+1 from Y:A.
         1F:C8C8  E9 00      			sbc.l	#0
         1F:C8CA  98         			tya
         1F:C8CB  E9 00      			sbc.h	#0
         1F:C8CD  50 02      			bvc	!+
         1F:C8CF  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:C8D1  49 80      	!:		eor	#$80
         1F:C8D3  0A         			asl	a
 7231                        		__bfalse	.LL260
         1F:C8D4  90 12      			bcc	.LL260
 7232                        	
 7233                        		.dbg	line,	"include\routines_LEVELS.c", 134; {
 7234                        	
 7235                        		.dbg	line,	"include\routines_LEVELS.c", 135; // WE STORE THE OBJECT ID //
 7236                        	
 7237                        		.dbg	line,	"include\routines_LEVELS.c", 136; list_onscreen_object[onscreen_object_number] = i;
 7238                        		__ldx.umq	_onscreen_object_number
         1F:C8D6  AE 39 23   			ldx	_onscreen_object_number
 7239                        		__ld.um		__scroll_object_end - 1  /* i */
         1F:C8D9  AD 23 2C   			lda	__scroll_object_end - 1
         1F:C8DC  C2         			cly
 7240                        		__st.uaxq	_list_onscreen_object
         1F:C8DD  9D B7 23   			sta	_list_onscreen_object, x
 7241                        	
 7242                        		.dbg	line,	"include\routines_LEVELS.c", 137; onscreen_object_number += 1;
 7243                        		__add_st.umiq	1, _onscreen_object_number
         1F:C8E0  EE 39 23   			inc	_onscreen_object_number
 7244                        	
 7245                        		.dbg	line,	"include\routines_LEVELS.c", 138; scroll_allowed = TRUE;
 7246                        		__st.umiq	1, __scroll_object_end - 2  /* scroll_allowed */
         1F:C8E3  A9 01      			lda.l	#1
         1F:C8E5  8D 22 2C   			sta	__scroll_object_end - 2
 7247                        	
 7248                        		.dbg	line,	"include\routines_LEVELS.c", 139; }
 7249                        	
 7250                        		.dbg	line,	"include\routines_LEVELS.c", 140; }
 7251    1F:C8E8             	.LL260:
 7252                        	
 7253                        		.dbg	line,	"include\routines_LEVELS.c", 141; }
 7254    1F:C8E8             	.LL259:
 7255                        	
 7256                        		.dbg	line,	"include\routines_LEVELS.c", 142; }
 7257    1F:C8E8             	.LL258:
 7258                        	
 7259                        		.dbg	line,	"include\routines_LEVELS.c", 144; // IF OBJECTS IS WITHIN THE SCREEN LIMITS //
 7260                        	
 7261                        		.dbg	line,	"include\routines_LEVELS.c", 145; if(scroll_allowed == TRUE)
 7262    1F:C8E8             	.LL257:
 7263                        		__ld.umq	__scroll_object_end - 2  /* scroll_allowed */
         1F:C8E8  AD 22 2C   			lda	__scroll_object_end - 2
 7264                        		__equ_b.uiq	1
         1F:C8EB  C9 01      			cmp	#1
         1F:C8ED  F0 01      			beq	!+
         1F:C8EF  18         			clc
         1F:C8F0             	!:
 7265                        		__bfalse	.LL261
         1F:C8F0  90 44      			bcc	.LL261
 7266                        	
 7267                        		.dbg	line,	"include\routines_LEVELS.c", 146; {
 7268                        	
 7269                        		.dbg	line,	"include\routines_LEVELS.c", 147; list_object_x_pos[i] = list_object_x_pos_ref[i] - sgx_map_pxl_x;
 7270                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:C8F2  AD 23 2C   			lda	__scroll_object_end - 1
         1F:C8F5  0A         			asl	a
         1F:C8F6  AA         			tax
 7271                        		__ld.wax	_list_object_x_pos_ref
         1F:C8F7  BD 65 25   			lda.l	_list_object_x_pos_ref, x
         1F:C8FA  BC 66 25   			ldy.h	_list_object_x_pos_ref, x
 7272                        		__sub.wm	_sgx_map_pxl_x
         1F:C8FD  38         			sec
         1F:C8FE  ED DA 26   			sbc.l	_sgx_map_pxl_x
         1F:C901  42         			say
         1F:C902  ED DB 26   			sbc.h	_sgx_map_pxl_x
         1F:C905  42         			say
 7273                        		__ld2x.um	__scroll_object_end - 1  /* i */
         1F:C906  AA         			tax
         1F:C907  AD 23 2C   			lda	__scroll_object_end - 1
         1F:C90A  0A         			asl	a
         1F:C90B  22         			sax
 7274                        		__st.waxq	_list_object_x_pos
         1F:C90C  9D 01 25   			sta.l	_list_object_x_pos, x
         1F:C90F  98         			tya
         1F:C910  9D 02 25   			sta.h	_list_object_x_pos, x
 7275                        	
 7276                        		.dbg	line,	"include\routines_LEVELS.c", 148; list_object_y_pos[i] = list_object_y_pos_ref[i] - sgx_map_pxl_y;
 7277                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:C913  AD 23 2C   			lda	__scroll_object_end - 1
         1F:C916  0A         			asl	a
         1F:C917  AA         			tax
 7278                        		__ld.wax	_list_object_y_pos_ref
         1F:C918  BD 97 25   			lda.l	_list_object_y_pos_ref, x
         1F:C91B  BC 98 25   			ldy.h	_list_object_y_pos_ref, x
 7279                        		__sub.wm	_sgx_map_pxl_y
         1F:C91E  38         			sec
         1F:C91F  ED DC 26   			sbc.l	_sgx_map_pxl_y
         1F:C922  42         			say
         1F:C923  ED DD 26   			sbc.h	_sgx_map_pxl_y
         1F:C926  42         			say
 7280                        		__ld2x.um	__scroll_object_end - 1  /* i */
         1F:C927  AA         			tax
         1F:C928  AD 23 2C   			lda	__scroll_object_end - 1
         1F:C92B  0A         			asl	a
         1F:C92C  22         			sax
 7281                        		__st.waxq	_list_object_y_pos
         1F:C92D  9D 33 25   			sta.l	_list_object_y_pos, x
         1F:C930  98         			tya
         1F:C931  9D 34 25   			sta.h	_list_object_y_pos, x
 7282                        	
 7283                        		.dbg	line,	"include\routines_LEVELS.c", 149; }
 7284                        	
 7285                        		.dbg	line,	"include\routines_LEVELS.c", 151; else
 7286                        		__bra		.LL262
         1F:C934  80 1E      			bra	.LL262
 7287    1F:C936             	.LL261:
 7288                        	
 7289                        		.dbg	line,	"include\routines_LEVELS.c", 152; {
 7290                        	
 7291                        		.dbg	line,	"include\routines_LEVELS.c", 153; list_object_x_pos[i] = -16;
 7292                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:C936  AD 23 2C   			lda	__scroll_object_end - 1
         1F:C939  0A         			asl	a
         1F:C93A  AA         			tax
 7293                        		__st.waxiq	-16, _list_object_x_pos
         1F:C93B  A9 F0      			lda.l	#-16
         1F:C93D  9D 01 25   			sta.l	_list_object_x_pos, x
         1F:C940  A9 FF      			lda.h	#-16
         1F:C942  9D 02 25   			sta.h	_list_object_x_pos, x
 7294                        	
 7295                        		.dbg	line,	"include\routines_LEVELS.c", 154; list_object_y_pos[i] = -16;
 7296                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:C945  AD 23 2C   			lda	__scroll_object_end - 1
         1F:C948  0A         			asl	a
         1F:C949  AA         			tax
 7297                        		__st.waxiq	-16, _list_object_y_pos
         1F:C94A  A9 F0      			lda.l	#-16
         1F:C94C  9D 33 25   			sta.l	_list_object_y_pos, x
         1F:C94F  A9 FF      			lda.h	#-16
         1F:C951  9D 34 25   			sta.h	_list_object_y_pos, x
 7298                        	
 7299                        		.dbg	line,	"include\routines_LEVELS.c", 155; }
 7300    1F:C954             	.LL262:
 7301                        	
 7302                        		.dbg	line,	"include\routines_LEVELS.c", 157; sgx_spr_set(i + object_start_index);
 7303                        		__ld.um		__scroll_object_end - 1  /* i */
         1F:C954  AD 23 2C   			lda	__scroll_object_end - 1
         1F:C957  C2         			cly
 7304                        		__add.um	_object_start_index
         1F:C958  18         			clc
         1F:C959  6D 37 23   			adc	_object_start_index
         1F:C95C  90 01      			bcc	!+
         1F:C95E  C8         			iny
         1F:C95F             	!:
 7305                        		__call		_sgx_spr_set.1
         1F:C95F  20 9E E8   			call	_sgx_spr_set.1
 7306                        	
 7307                        		.dbg	line,	"include\routines_LEVELS.c", 159; sgx_spr_x(list_object_x_pos[i]);
 7308                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:C962  AD 23 2C   			lda	__scroll_object_end - 1
         1F:C965  0A         			asl	a
         1F:C966  AA         			tax
 7309                        		__ld.wax	_list_object_x_pos
         1F:C967  BD 01 25   			lda.l	_list_object_x_pos, x
         1F:C96A  BC 02 25   			ldy.h	_list_object_x_pos, x
 7310                        		__call		_sgx_spr_x.1
         1F:C96D  20 CB E8   			call	_sgx_spr_x.1
 7311                        	
 7312                        		.dbg	line,	"include\routines_LEVELS.c", 160; sgx_spr_y(list_object_y_pos[i]);
 7313                        		__ld2x.umq	__scroll_object_end - 1  /* i */
         1F:C970  AD 23 2C   			lda	__scroll_object_end - 1
         1F:C973  0A         			asl	a
         1F:C974  AA         			tax
 7314                        		__ld.wax	_list_object_y_pos
         1F:C975  BD 33 25   			lda.l	_list_object_y_pos, x
         1F:C978  BC 34 25   			ldy.h	_list_object_y_pos, x
 7315                        		__call		_sgx_spr_y.1
         1F:C97B  20 DA E8   			call	_sgx_spr_y.1
 7316                        	
 7317                        		.dbg	line,	"include\routines_LEVELS.c", 161; }
 7318                        	
 7319                        		.dbg	line,	"include\routines_LEVELS.c", 162; }
 7320    1F:C97E             	.LL256	.alias		.LL253
 7321                        		__bra		.LL253
         1F:C97E  4C 36 C8   			bra	.LL253
 7322    1F:C981             	.LL255:
 7323                        	
 7324                        		.dbg	line,	"include\routines_LEVELS.c", 163; }
 7325    1F:C981             	.LL251:
 7326                        		__return	0
         1F:C981  4C EF FF   			jmp	leave_proc
 7327                        		.dbg	clear
 7328                        		.endp
 7329               2300     		.bss
 7330    F8:2300             	__scroll_object_end	.alias	leaf_stack
 7331               E31D     		.code
 7332                        		.pceas
 7333                        	
 7334                        		.dbg	line,	"include\routines_LEVELS.c", 166; void scroll_chest()
 7335                        		.dbg	line,	"include\routines_LEVELS.c", 167; {
 7336                        	;***********************
 7337                        	;***********************
 7338                        	
 7339                        		.hucc
 7340    1F:C984             		.proc		_scroll_chest
 7341                        		__enter		_scroll_chest
 7342                        	
 7343                        		.dbg	line,	"include\routines_LEVELS.c", 168; char i;
 7344                        	
 7345                        		.dbg	line,	"include\routines_LEVELS.c", 169; onscreen_chest_number = 0;
 7346                        		__st.umiq	0, _onscreen_chest_number
         1F:C984  9C C1 23   			stz	_onscreen_chest_number
 7347                        	
 7348                        		.dbg	line,	"include\routines_LEVELS.c", 171; for(i=0 ; i<level_chest_number ; i++)
 7349                        		__st.umiq	0, __scroll_chest_end - 1  /* i */
         1F:C987  9C 23 2C   			stz	__scroll_chest_end - 1
 7350    1F:C98A             	.LL264:
 7351                        		__ld.umq	__scroll_chest_end - 1  /* i */
         1F:C98A  AD 23 2C   			lda	__scroll_chest_end - 1
 7352                        		__ult_b.umq	_level_chest_number
         1F:C98D  CD C0 23   			cmp	_level_chest_number		; Subtract memory from A.
         1F:C990  6A         			ror	a		; CC if A < memory.
         1F:C991  49 80      			eor	#$80
         1F:C993  2A         			rol	a
 7353                        		__btrue		.LL266
         1F:C994  B0 08      			bcs	.LL266
 7354                        		__bra		.LL267
         1F:C996  4C E4 CA   			bra	.LL267
 7355    1F:C999             	.LL265:
 7356                        		__inc.umq	__scroll_chest_end - 1  /* i */
         1F:C999  EE 23 2C   			inc	__scroll_chest_end - 1
 7357                        		__bra		.LL264
         1F:C99C  80 EC      			bra	.LL264
 7358    1F:C99E             	.LL266:
 7359                        	
 7360                        		.dbg	line,	"include\routines_LEVELS.c", 172; {
 7361                        	
 7362                        		.dbg	line,	"include\routines_LEVELS.c", 173; if(list_chest_state[i] != STATE_FREE)
 7363                        		__ldx.umq	__scroll_chest_end - 1  /* i */
         1F:C99E  AE 23 2C   			ldx	__scroll_chest_end - 1
 7364                        		__tst.uax	_list_chest_state
         1F:C9A1  BD C2 23   			lda	_list_chest_state, x
         1F:C9A4  C9 01      			cmp	#1
 7365                        		__bfalse	.LL268
         1F:C9A6  90 F1      			bcc	.LL268
 7366                        	
 7367                        		.dbg	line,	"include\routines_LEVELS.c", 174; {
 7368                        	
 7369                        		.dbg	line,	"include\routines_LEVELS.c", 175; char scroll_allowed = FALSE;
 7370                        		__st.umiq	0, __scroll_chest_end - 2  /* scroll_allowed */
         1F:C9A8  9C 22 2C   			stz	__scroll_chest_end - 2
 7371                        	
 7372                        		.dbg	line,	"include\routines_LEVELS.c", 176; 
 7373                        	
 7374                        		.dbg	line,	"include\routines_LEVELS.c", 177; // IF CHEST X POSITION IS INFERIOR TO SCREEN RIGHT SIDE //
 7375                        	
 7376                        		.dbg	line,	"include\routines_LEVELS.c", 178; if(list_chest_x_pos_ref[i] < sgx_map_pxl_x + 256)
 7377                        		__ld.wm		_sgx_map_pxl_x
         1F:C9AB  AD DA 26   			lda.l	_sgx_map_pxl_x
         1F:C9AE  AC DB 26   			ldy.h	_sgx_map_pxl_x
 7378                        		__add.wi	256
         1F:C9B1  18         			clc
         1F:C9B2  69 00      			adc.l	#256
         1F:C9B4  42         			say
         1F:C9B5  69 01      			adc.h	#256
         1F:C9B7  42         			say
 7379                        		__ld2x.um	__scroll_chest_end - 1  /* i */
         1F:C9B8  AA         			tax
         1F:C9B9  AD 23 2C   			lda	__scroll_chest_end - 1
         1F:C9BC  0A         			asl	a
         1F:C9BD  22         			sax
 7380                        		__ugt_w.wax	_list_chest_x_pos_ref
         1F:C9BE  18         			clc			; Subtract memory+1 from Y:A.
         1F:C9BF  FD E9 25   			sbc.l	_list_chest_x_pos_ref, x
         1F:C9C2  98         			tya
         1F:C9C3  FD EA 25   			sbc.h	_list_chest_x_pos_ref, x		; CS if Y:A > memory.
 7381                        		__bfalse	.LL269
         1F:C9C6  B0 03 4C 4B			bcc	.LL269
         1F:C9CA  CA          
 7382                        	
 7383                        		.dbg	line,	"include\routines_LEVELS.c", 179; {
 7384                        	
 7385                        		.dbg	line,	"include\routines_LEVELS.c", 180; // IF CHEST X POSITION IS SUPERIOR TO SCREEN LEFT SIDE PLUS 32 PX //
 7386                        	
 7387                        		.dbg	line,	"include\routines_LEVELS.c", 181; if(list_chest_x_pos_ref[i] - sgx_map_pxl_x + 32 > 0)
 7388                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:C9CB  AD 23 2C   			lda	__scroll_chest_end - 1
         1F:C9CE  0A         			asl	a
         1F:C9CF  AA         			tax
 7389                        		__ld.wax	_list_chest_x_pos_ref
         1F:C9D0  BD E9 25   			lda.l	_list_chest_x_pos_ref, x
         1F:C9D3  BC EA 25   			ldy.h	_list_chest_x_pos_ref, x
 7390                        		__sub.wm	_sgx_map_pxl_x
         1F:C9D6  38         			sec
         1F:C9D7  ED DA 26   			sbc.l	_sgx_map_pxl_x
         1F:C9DA  42         			say
         1F:C9DB  ED DB 26   			sbc.h	_sgx_map_pxl_x
         1F:C9DE  42         			say
 7391                        		__add.wi	32
         1F:C9DF  18         			clc
         1F:C9E0  69 20      			adc.l	#32
         1F:C9E2  90 01      			bcc	!+
         1F:C9E4  C8         			iny
         1F:C9E5             	!:
 7392                        		__sgt_w.wi	0
         1F:C9E5  18         			clc			; Subtract integer+1 from Y:A.
         1F:C9E6  E9 00      			sbc.l	#0
         1F:C9E8  98         			tya
         1F:C9E9  E9 00      			sbc.h	#0
         1F:C9EB  50 02      			bvc	!+
         1F:C9ED  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:C9EF  49 80      	!:		eor	#$80
         1F:C9F1  0A         			asl	a
 7393                        		__bfalse	.LL270
         1F:C9F2  90 57      			bcc	.LL270
 7394                        	
 7395                        		.dbg	line,	"include\routines_LEVELS.c", 182; {
 7396                        	
 7397                        		.dbg	line,	"include\routines_LEVELS.c", 183; // IF CHEST Y POSITION IS INFERIOR TO SCREEN BOTTOM //
 7398                        	
 7399                        		.dbg	line,	"include\routines_LEVELS.c", 184; if(list_chest_y_pos_ref[i] < sgx_map_pxl_y + 224)
 7400                        		__ld.wm		_sgx_map_pxl_y
         1F:C9F4  AD DC 26   			lda.l	_sgx_map_pxl_y
         1F:C9F7  AC DD 26   			ldy.h	_sgx_map_pxl_y
 7401                        		__add.wi	224
         1F:C9FA  18         			clc
         1F:C9FB  69 E0      			adc.l	#224
         1F:C9FD  90 01      			bcc	!+
         1F:C9FF  C8         			iny
         1F:CA00             	!:
 7402                        		__ld2x.um	__scroll_chest_end - 1  /* i */
         1F:CA00  AA         			tax
         1F:CA01  AD 23 2C   			lda	__scroll_chest_end - 1
         1F:CA04  0A         			asl	a
         1F:CA05  22         			sax
 7403                        		__ugt_w.wax	_list_chest_y_pos_ref
         1F:CA06  18         			clc			; Subtract memory+1 from Y:A.
         1F:CA07  FD F9 25   			sbc.l	_list_chest_y_pos_ref, x
         1F:CA0A  98         			tya
         1F:CA0B  FD FA 25   			sbc.h	_list_chest_y_pos_ref, x		; CS if Y:A > memory.
 7404                        		__bfalse	.LL271
         1F:CA0E  90 3B      			bcc	.LL271
 7405                        	
 7406                        		.dbg	line,	"include\routines_LEVELS.c", 185; {
 7407                        	
 7408                        		.dbg	line,	"include\routines_LEVELS.c", 186; // IF CHEST Y POSITION IS SUPERIOR TO SCREEN TOP PLUS 32 PX //
 7409                        	
 7410                        		.dbg	line,	"include\routines_LEVELS.c", 187; if(list_chest_y_pos_ref[i] - sgx_map_pxl_y + 32 > 0)
 7411                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:CA10  AD 23 2C   			lda	__scroll_chest_end - 1
         1F:CA13  0A         			asl	a
         1F:CA14  AA         			tax
 7412                        		__ld.wax	_list_chest_y_pos_ref
         1F:CA15  BD F9 25   			lda.l	_list_chest_y_pos_ref, x
         1F:CA18  BC FA 25   			ldy.h	_list_chest_y_pos_ref, x
 7413                        		__sub.wm	_sgx_map_pxl_y
         1F:CA1B  38         			sec
         1F:CA1C  ED DC 26   			sbc.l	_sgx_map_pxl_y
         1F:CA1F  42         			say
         1F:CA20  ED DD 26   			sbc.h	_sgx_map_pxl_y
         1F:CA23  42         			say
 7414                        		__add.wi	32
         1F:CA24  18         			clc
         1F:CA25  69 20      			adc.l	#32
         1F:CA27  90 01      			bcc	!+
         1F:CA29  C8         			iny
         1F:CA2A             	!:
 7415                        		__sgt_w.wi	0
         1F:CA2A  18         			clc			; Subtract integer+1 from Y:A.
         1F:CA2B  E9 00      			sbc.l	#0
         1F:CA2D  98         			tya
         1F:CA2E  E9 00      			sbc.h	#0
         1F:CA30  50 02      			bvc	!+
         1F:CA32  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:CA34  49 80      	!:		eor	#$80
         1F:CA36  0A         			asl	a
 7416                        		__bfalse	.LL272
         1F:CA37  90 12      			bcc	.LL272
 7417                        	
 7418                        		.dbg	line,	"include\routines_LEVELS.c", 188; {
 7419                        	
 7420                        		.dbg	line,	"include\routines_LEVELS.c", 189; // WE STORE THE CHEST ID //
 7421                        	
 7422                        		.dbg	line,	"include\routines_LEVELS.c", 190; list_onscreen_chest[onscreen_chest_number] = i;
 7423                        		__ldx.umq	_onscreen_chest_number
         1F:CA39  AE C1 23   			ldx	_onscreen_chest_number
 7424                        		__ld.um		__scroll_chest_end - 1  /* i */
         1F:CA3C  AD 23 2C   			lda	__scroll_chest_end - 1
         1F:CA3F  C2         			cly
 7425                        		__st.uaxq	_list_onscreen_chest
         1F:CA40  9D CA 23   			sta	_list_onscreen_chest, x
 7426                        	
 7427                        		.dbg	line,	"include\routines_LEVELS.c", 191; onscreen_chest_number += 1;
 7428                        		__add_st.umiq	1, _onscreen_chest_number
         1F:CA43  EE C1 23   			inc	_onscreen_chest_number
 7429                        	
 7430                        		.dbg	line,	"include\routines_LEVELS.c", 192; 
 7431                        	
 7432                        		.dbg	line,	"include\routines_LEVELS.c", 193; scroll_allowed = TRUE;
 7433                        		__st.umiq	1, __scroll_chest_end - 2  /* scroll_allowed */
         1F:CA46  A9 01      			lda.l	#1
         1F:CA48  8D 22 2C   			sta	__scroll_chest_end - 2
 7434                        	
 7435                        		.dbg	line,	"include\routines_LEVELS.c", 194; }
 7436                        	
 7437                        		.dbg	line,	"include\routines_LEVELS.c", 195; }
 7438    1F:CA4B             	.LL272:
 7439                        	
 7440                        		.dbg	line,	"include\routines_LEVELS.c", 196; }
 7441    1F:CA4B             	.LL271:
 7442                        	
 7443                        		.dbg	line,	"include\routines_LEVELS.c", 197; }
 7444    1F:CA4B             	.LL270:
 7445                        	
 7446                        		.dbg	line,	"include\routines_LEVELS.c", 199; // IF CHEST IS WITHIN THE SCREEN LIMITS //
 7447                        	
 7448                        		.dbg	line,	"include\routines_LEVELS.c", 200; if(scroll_allowed == TRUE)
 7449    1F:CA4B             	.LL269:
 7450                        		__ld.umq	__scroll_chest_end - 2  /* scroll_allowed */
         1F:CA4B  AD 22 2C   			lda	__scroll_chest_end - 2
 7451                        		__equ_b.uiq	1
         1F:CA4E  C9 01      			cmp	#1
         1F:CA50  F0 01      			beq	!+
         1F:CA52  18         			clc
         1F:CA53             	!:
 7452                        		__bfalse	.LL273
         1F:CA53  90 44      			bcc	.LL273
 7453                        	
 7454                        		.dbg	line,	"include\routines_LEVELS.c", 201; {
 7455                        	
 7456                        		.dbg	line,	"include\routines_LEVELS.c", 202; list_chest_x_pos[i] = list_chest_x_pos_ref[i] - sgx_map_pxl_x;
 7457                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:CA55  AD 23 2C   			lda	__scroll_chest_end - 1
         1F:CA58  0A         			asl	a
         1F:CA59  AA         			tax
 7458                        		__ld.wax	_list_chest_x_pos_ref
         1F:CA5A  BD E9 25   			lda.l	_list_chest_x_pos_ref, x
         1F:CA5D  BC EA 25   			ldy.h	_list_chest_x_pos_ref, x
 7459                        		__sub.wm	_sgx_map_pxl_x
         1F:CA60  38         			sec
         1F:CA61  ED DA 26   			sbc.l	_sgx_map_pxl_x
         1F:CA64  42         			say
         1F:CA65  ED DB 26   			sbc.h	_sgx_map_pxl_x
         1F:CA68  42         			say
 7460                        		__ld2x.um	__scroll_chest_end - 1  /* i */
         1F:CA69  AA         			tax
         1F:CA6A  AD 23 2C   			lda	__scroll_chest_end - 1
         1F:CA6D  0A         			asl	a
         1F:CA6E  22         			sax
 7461                        		__st.waxq	_list_chest_x_pos
         1F:CA6F  9D C9 25   			sta.l	_list_chest_x_pos, x
         1F:CA72  98         			tya
         1F:CA73  9D CA 25   			sta.h	_list_chest_x_pos, x
 7462                        	
 7463                        		.dbg	line,	"include\routines_LEVELS.c", 203; list_chest_y_pos[i] = list_chest_y_pos_ref[i] - sgx_map_pxl_y;
 7464                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:CA76  AD 23 2C   			lda	__scroll_chest_end - 1
         1F:CA79  0A         			asl	a
         1F:CA7A  AA         			tax
 7465                        		__ld.wax	_list_chest_y_pos_ref
         1F:CA7B  BD F9 25   			lda.l	_list_chest_y_pos_ref, x
         1F:CA7E  BC FA 25   			ldy.h	_list_chest_y_pos_ref, x
 7466                        		__sub.wm	_sgx_map_pxl_y
         1F:CA81  38         			sec
         1F:CA82  ED DC 26   			sbc.l	_sgx_map_pxl_y
         1F:CA85  42         			say
         1F:CA86  ED DD 26   			sbc.h	_sgx_map_pxl_y
         1F:CA89  42         			say
 7467                        		__ld2x.um	__scroll_chest_end - 1  /* i */
         1F:CA8A  AA         			tax
         1F:CA8B  AD 23 2C   			lda	__scroll_chest_end - 1
         1F:CA8E  0A         			asl	a
         1F:CA8F  22         			sax
 7468                        		__st.waxq	_list_chest_y_pos
         1F:CA90  9D D9 25   			sta.l	_list_chest_y_pos, x
         1F:CA93  98         			tya
         1F:CA94  9D DA 25   			sta.h	_list_chest_y_pos, x
 7469                        	
 7470                        		.dbg	line,	"include\routines_LEVELS.c", 204; }
 7471                        	
 7472                        		.dbg	line,	"include\routines_LEVELS.c", 206; else
 7473                        		__bra		.LL274
         1F:CA97  80 1E      			bra	.LL274
 7474    1F:CA99             	.LL273:
 7475                        	
 7476                        		.dbg	line,	"include\routines_LEVELS.c", 207; {
 7477                        	
 7478                        		.dbg	line,	"include\routines_LEVELS.c", 208; list_chest_x_pos[i] = -32;
 7479                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:CA99  AD 23 2C   			lda	__scroll_chest_end - 1
         1F:CA9C  0A         			asl	a
         1F:CA9D  AA         			tax
 7480                        		__st.waxiq	-32, _list_chest_x_pos
         1F:CA9E  A9 E0      			lda.l	#-32
         1F:CAA0  9D C9 25   			sta.l	_list_chest_x_pos, x
         1F:CAA3  A9 FF      			lda.h	#-32
         1F:CAA5  9D CA 25   			sta.h	_list_chest_x_pos, x
 7481                        	
 7482                        		.dbg	line,	"include\routines_LEVELS.c", 209; list_chest_y_pos[i] = -32;
 7483                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:CAA8  AD 23 2C   			lda	__scroll_chest_end - 1
         1F:CAAB  0A         			asl	a
         1F:CAAC  AA         			tax
 7484                        		__st.waxiq	-32, _list_chest_y_pos
         1F:CAAD  A9 E0      			lda.l	#-32
         1F:CAAF  9D D9 25   			sta.l	_list_chest_y_pos, x
         1F:CAB2  A9 FF      			lda.h	#-32
         1F:CAB4  9D DA 25   			sta.h	_list_chest_y_pos, x
 7485                        	
 7486                        		.dbg	line,	"include\routines_LEVELS.c", 210; }
 7487    1F:CAB7             	.LL274:
 7488                        	
 7489                        		.dbg	line,	"include\routines_LEVELS.c", 212; sgx_spr_set(i + chest_start_index);
 7490                        		__ld.um		__scroll_chest_end - 1  /* i */
         1F:CAB7  AD 23 2C   			lda	__scroll_chest_end - 1
         1F:CABA  C2         			cly
 7491                        		__add.um	_chest_start_index
         1F:CABB  18         			clc
         1F:CABC  6D BF 23   			adc	_chest_start_index
         1F:CABF  90 01      			bcc	!+
         1F:CAC1  C8         			iny
         1F:CAC2             	!:
 7492                        		__call		_sgx_spr_set.1
         1F:CAC2  20 9E E8   			call	_sgx_spr_set.1
 7493                        	
 7494                        		.dbg	line,	"include\routines_LEVELS.c", 214; sgx_spr_x(list_chest_x_pos[i]);
 7495                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:CAC5  AD 23 2C   			lda	__scroll_chest_end - 1
         1F:CAC8  0A         			asl	a
         1F:CAC9  AA         			tax
 7496                        		__ld.wax	_list_chest_x_pos
         1F:CACA  BD C9 25   			lda.l	_list_chest_x_pos, x
         1F:CACD  BC CA 25   			ldy.h	_list_chest_x_pos, x
 7497                        		__call		_sgx_spr_x.1
         1F:CAD0  20 CB E8   			call	_sgx_spr_x.1
 7498                        	
 7499                        		.dbg	line,	"include\routines_LEVELS.c", 215; sgx_spr_y(list_chest_y_pos[i]);
 7500                        		__ld2x.umq	__scroll_chest_end - 1  /* i */
         1F:CAD3  AD 23 2C   			lda	__scroll_chest_end - 1
         1F:CAD6  0A         			asl	a
         1F:CAD7  AA         			tax
 7501                        		__ld.wax	_list_chest_y_pos
         1F:CAD8  BD D9 25   			lda.l	_list_chest_y_pos, x
         1F:CADB  BC DA 25   			ldy.h	_list_chest_y_pos, x
 7502                        		__call		_sgx_spr_y.1
         1F:CADE  20 DA E8   			call	_sgx_spr_y.1
 7503                        	
 7504                        		.dbg	line,	"include\routines_LEVELS.c", 216; }
 7505                        	
 7506                        		.dbg	line,	"include\routines_LEVELS.c", 217; }
 7507    1F:CAE1             	.LL268	.alias		.LL265
 7508                        		__bra		.LL265
         1F:CAE1  4C 99 C9   			bra	.LL265
 7509    1F:CAE4             	.LL267:
 7510                        	
 7511                        		.dbg	line,	"include\routines_LEVELS.c", 218; }
 7512    1F:CAE4             	.LL263:
 7513                        		__return	0
         1F:CAE4  4C EF FF   			jmp	leave_proc
 7514                        		.dbg	clear
 7515                        		.endp
 7516               2300     		.bss
 7517    F8:2300             	__scroll_chest_end	.alias	leaf_stack
 7518               E31D     		.code
 7519                        		.pceas
 7520                        	
 7521                        		.dbg	line,	"include\routines_LEVELS.c", 221; void scroll_npc()
 7522                        		.dbg	line,	"include\routines_LEVELS.c", 222; {
 7523                        	;***********************
 7524                        	;***********************
 7525                        	
 7526                        		.hucc
 7527    1F:CAE7             		.proc		_scroll_npc
 7528                        		__enter		_scroll_npc
 7529                        	
 7530                        		.dbg	line,	"include\routines_LEVELS.c", 223; char i;
 7531                        	
 7532                        		.dbg	line,	"include\routines_LEVELS.c", 224; onscreen_npc_number = 0;
 7533                        		__st.umiq	0, _onscreen_npc_number
         1F:CAE7  9C D4 23   			stz	_onscreen_npc_number
 7534                        	
 7535                        		.dbg	line,	"include\routines_LEVELS.c", 226; for(i=0 ; i<level_npc_number ; i++)
 7536                        		__st.umiq	0, __scroll_npc_end - 1  /* i */
         1F:CAEA  9C 23 2C   			stz	__scroll_npc_end - 1
 7537    1F:CAED             	.LL276:
 7538                        		__ld.umq	__scroll_npc_end - 1  /* i */
         1F:CAED  AD 23 2C   			lda	__scroll_npc_end - 1
 7539                        		__ult_b.umq	_level_npc_number
         1F:CAF0  CD D3 23   			cmp	_level_npc_number		; Subtract memory from A.
         1F:CAF3  6A         			ror	a		; CC if A < memory.
         1F:CAF4  49 80      			eor	#$80
         1F:CAF6  2A         			rol	a
 7540                        		__btrue		.LL278
         1F:CAF7  B0 08      			bcs	.LL278
 7541                        		__bra		.LL279
         1F:CAF9  4C 47 CC   			bra	.LL279
 7542    1F:CAFC             	.LL277:
 7543                        		__inc.umq	__scroll_npc_end - 1  /* i */
         1F:CAFC  EE 23 2C   			inc	__scroll_npc_end - 1
 7544                        		__bra		.LL276
         1F:CAFF  80 EC      			bra	.LL276
 7545    1F:CB01             	.LL278:
 7546                        	
 7547                        		.dbg	line,	"include\routines_LEVELS.c", 227; {
 7548                        	
 7549                        		.dbg	line,	"include\routines_LEVELS.c", 228; if(list_npc_state[i] != STATE_FREE)
 7550                        		__ldx.umq	__scroll_npc_end - 1  /* i */
         1F:CB01  AE 23 2C   			ldx	__scroll_npc_end - 1
 7551                        		__tst.uax	_list_npc_state
         1F:CB04  BD DF 23   			lda	_list_npc_state, x
         1F:CB07  C9 01      			cmp	#1
 7552                        		__bfalse	.LL280
         1F:CB09  90 F1      			bcc	.LL280
 7553                        	
 7554                        		.dbg	line,	"include\routines_LEVELS.c", 229; {
 7555                        	
 7556                        		.dbg	line,	"include\routines_LEVELS.c", 230; char scroll_allowed = FALSE;
 7557                        		__st.umiq	0, __scroll_npc_end - 2  /* scroll_allowed */
         1F:CB0B  9C 22 2C   			stz	__scroll_npc_end - 2
 7558                        	
 7559                        		.dbg	line,	"include\routines_LEVELS.c", 231; 
 7560                        	
 7561                        		.dbg	line,	"include\routines_LEVELS.c", 232; // IF NPC X POSITION IS INFERIOR TO SCREEN RIGHT SIDE //
 7562                        	
 7563                        		.dbg	line,	"include\routines_LEVELS.c", 233; if(list_npc_x_pos_ref[i] < sgx_map_pxl_x + 256)
 7564                        		__ld.wm		_sgx_map_pxl_x
         1F:CB0E  AD DA 26   			lda.l	_sgx_map_pxl_x
         1F:CB11  AC DB 26   			ldy.h	_sgx_map_pxl_x
 7565                        		__add.wi	256
         1F:CB14  18         			clc
         1F:CB15  69 00      			adc.l	#256
         1F:CB17  42         			say
         1F:CB18  69 01      			adc.h	#256
         1F:CB1A  42         			say
 7566                        		__ld2x.um	__scroll_npc_end - 1  /* i */
         1F:CB1B  AA         			tax
         1F:CB1C  AD 23 2C   			lda	__scroll_npc_end - 1
         1F:CB1F  0A         			asl	a
         1F:CB20  22         			sax
 7567                        		__ugt_w.wax	_list_npc_x_pos_ref
         1F:CB21  18         			clc			; Subtract memory+1 from Y:A.
         1F:CB22  FD 2D 26   			sbc.l	_list_npc_x_pos_ref, x
         1F:CB25  98         			tya
         1F:CB26  FD 2E 26   			sbc.h	_list_npc_x_pos_ref, x		; CS if Y:A > memory.
 7568                        		__bfalse	.LL281
         1F:CB29  B0 03 4C AE			bcc	.LL281
         1F:CB2D  CB          
 7569                        	
 7570                        		.dbg	line,	"include\routines_LEVELS.c", 234; {
 7571                        	
 7572                        		.dbg	line,	"include\routines_LEVELS.c", 235; // IF NPC X POSITION IS SUPERIOR TO SCREEN LEFT SIDE PLUS 32 PX //
 7573                        	
 7574                        		.dbg	line,	"include\routines_LEVELS.c", 236; if(list_npc_x_pos_ref[i] - sgx_map_pxl_x + 32 > 0)
 7575                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:CB2E  AD 23 2C   			lda	__scroll_npc_end - 1
         1F:CB31  0A         			asl	a
         1F:CB32  AA         			tax
 7576                        		__ld.wax	_list_npc_x_pos_ref
         1F:CB33  BD 2D 26   			lda.l	_list_npc_x_pos_ref, x
         1F:CB36  BC 2E 26   			ldy.h	_list_npc_x_pos_ref, x
 7577                        		__sub.wm	_sgx_map_pxl_x
         1F:CB39  38         			sec
         1F:CB3A  ED DA 26   			sbc.l	_sgx_map_pxl_x
         1F:CB3D  42         			say
         1F:CB3E  ED DB 26   			sbc.h	_sgx_map_pxl_x
         1F:CB41  42         			say
 7578                        		__add.wi	32
         1F:CB42  18         			clc
         1F:CB43  69 20      			adc.l	#32
         1F:CB45  90 01      			bcc	!+
         1F:CB47  C8         			iny
         1F:CB48             	!:
 7579                        		__sgt_w.wi	0
         1F:CB48  18         			clc			; Subtract integer+1 from Y:A.
         1F:CB49  E9 00      			sbc.l	#0
         1F:CB4B  98         			tya
         1F:CB4C  E9 00      			sbc.h	#0
         1F:CB4E  50 02      			bvc	!+
         1F:CB50  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:CB52  49 80      	!:		eor	#$80
         1F:CB54  0A         			asl	a
 7580                        		__bfalse	.LL282
         1F:CB55  90 57      			bcc	.LL282
 7581                        	
 7582                        		.dbg	line,	"include\routines_LEVELS.c", 237; {
 7583                        	
 7584                        		.dbg	line,	"include\routines_LEVELS.c", 238; // IF NPC Y POSITION IS INFERIOR TO SCREEN BOTTOM //
 7585                        	
 7586                        		.dbg	line,	"include\routines_LEVELS.c", 239; if(list_npc_y_pos_ref[i] < sgx_map_pxl_y + 224)
 7587                        		__ld.wm		_sgx_map_pxl_y
         1F:CB57  AD DC 26   			lda.l	_sgx_map_pxl_y
         1F:CB5A  AC DD 26   			ldy.h	_sgx_map_pxl_y
 7588                        		__add.wi	224
         1F:CB5D  18         			clc
         1F:CB5E  69 E0      			adc.l	#224
         1F:CB60  90 01      			bcc	!+
         1F:CB62  C8         			iny
         1F:CB63             	!:
 7589                        		__ld2x.um	__scroll_npc_end - 1  /* i */
         1F:CB63  AA         			tax
         1F:CB64  AD 23 2C   			lda	__scroll_npc_end - 1
         1F:CB67  0A         			asl	a
         1F:CB68  22         			sax
 7590                        		__ugt_w.wax	_list_npc_y_pos_ref
         1F:CB69  18         			clc			; Subtract memory+1 from Y:A.
         1F:CB6A  FD 3F 26   			sbc.l	_list_npc_y_pos_ref, x
         1F:CB6D  98         			tya
         1F:CB6E  FD 40 26   			sbc.h	_list_npc_y_pos_ref, x		; CS if Y:A > memory.
 7591                        		__bfalse	.LL283
         1F:CB71  90 3B      			bcc	.LL283
 7592                        	
 7593                        		.dbg	line,	"include\routines_LEVELS.c", 240; {
 7594                        	
 7595                        		.dbg	line,	"include\routines_LEVELS.c", 241; // IF NPC Y POSITION IS SUPERIOR TO SCREEN TOP PLUS 32 PX //
 7596                        	
 7597                        		.dbg	line,	"include\routines_LEVELS.c", 242; if(list_npc_y_pos_ref[i] - sgx_map_pxl_y + 32 > 0)
 7598                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:CB73  AD 23 2C   			lda	__scroll_npc_end - 1
         1F:CB76  0A         			asl	a
         1F:CB77  AA         			tax
 7599                        		__ld.wax	_list_npc_y_pos_ref
         1F:CB78  BD 3F 26   			lda.l	_list_npc_y_pos_ref, x
         1F:CB7B  BC 40 26   			ldy.h	_list_npc_y_pos_ref, x
 7600                        		__sub.wm	_sgx_map_pxl_y
         1F:CB7E  38         			sec
         1F:CB7F  ED DC 26   			sbc.l	_sgx_map_pxl_y
         1F:CB82  42         			say
         1F:CB83  ED DD 26   			sbc.h	_sgx_map_pxl_y
         1F:CB86  42         			say
 7601                        		__add.wi	32
         1F:CB87  18         			clc
         1F:CB88  69 20      			adc.l	#32
         1F:CB8A  90 01      			bcc	!+
         1F:CB8C  C8         			iny
         1F:CB8D             	!:
 7602                        		__sgt_w.wi	0
         1F:CB8D  18         			clc			; Subtract integer+1 from Y:A.
         1F:CB8E  E9 00      			sbc.l	#0
         1F:CB90  98         			tya
         1F:CB91  E9 00      			sbc.h	#0
         1F:CB93  50 02      			bvc	!+
         1F:CB95  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:CB97  49 80      	!:		eor	#$80
         1F:CB99  0A         			asl	a
 7603                        		__bfalse	.LL284
         1F:CB9A  90 12      			bcc	.LL284
 7604                        	
 7605                        		.dbg	line,	"include\routines_LEVELS.c", 243; {
 7606                        	
 7607                        		.dbg	line,	"include\routines_LEVELS.c", 244; // WE STORE THE NPC ID //
 7608                        	
 7609                        		.dbg	line,	"include\routines_LEVELS.c", 245; list_onscreen_npc[onscreen_npc_number] = i;
 7610                        		__ldx.umq	_onscreen_npc_number
         1F:CB9C  AE D4 23   			ldx	_onscreen_npc_number
 7611                        		__ld.um		__scroll_npc_end - 1  /* i */
         1F:CB9F  AD 23 2C   			lda	__scroll_npc_end - 1
         1F:CBA2  C2         			cly
 7612                        		__st.uaxq	_list_onscreen_npc
         1F:CBA3  9D E8 23   			sta	_list_onscreen_npc, x
 7613                        	
 7614                        		.dbg	line,	"include\routines_LEVELS.c", 246; onscreen_npc_number += 1;
 7615                        		__add_st.umiq	1, _onscreen_npc_number
         1F:CBA6  EE D4 23   			inc	_onscreen_npc_number
 7616                        	
 7617                        		.dbg	line,	"include\routines_LEVELS.c", 247; 
 7618                        	
 7619                        		.dbg	line,	"include\routines_LEVELS.c", 248; scroll_allowed = TRUE;
 7620                        		__st.umiq	1, __scroll_npc_end - 2  /* scroll_allowed */
         1F:CBA9  A9 01      			lda.l	#1
         1F:CBAB  8D 22 2C   			sta	__scroll_npc_end - 2
 7621                        	
 7622                        		.dbg	line,	"include\routines_LEVELS.c", 249; }
 7623                        	
 7624                        		.dbg	line,	"include\routines_LEVELS.c", 250; }
 7625    1F:CBAE             	.LL284:
 7626                        	
 7627                        		.dbg	line,	"include\routines_LEVELS.c", 251; }
 7628    1F:CBAE             	.LL283:
 7629                        	
 7630                        		.dbg	line,	"include\routines_LEVELS.c", 252; }
 7631    1F:CBAE             	.LL282:
 7632                        	
 7633                        		.dbg	line,	"include\routines_LEVELS.c", 254; // IF NPC IS WITHIN THE SCREEN LIMITS //
 7634                        	
 7635                        		.dbg	line,	"include\routines_LEVELS.c", 255; if(scroll_allowed == TRUE)
 7636    1F:CBAE             	.LL281:
 7637                        		__ld.umq	__scroll_npc_end - 2  /* scroll_allowed */
         1F:CBAE  AD 22 2C   			lda	__scroll_npc_end - 2
 7638                        		__equ_b.uiq	1
         1F:CBB1  C9 01      			cmp	#1
         1F:CBB3  F0 01      			beq	!+
         1F:CBB5  18         			clc
         1F:CBB6             	!:
 7639                        		__bfalse	.LL285
         1F:CBB6  90 44      			bcc	.LL285
 7640                        	
 7641                        		.dbg	line,	"include\routines_LEVELS.c", 256; {
 7642                        	
 7643                        		.dbg	line,	"include\routines_LEVELS.c", 257; list_npc_x_pos[i] = list_npc_x_pos_ref[i] - sgx_map_pxl_x;
 7644                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:CBB8  AD 23 2C   			lda	__scroll_npc_end - 1
         1F:CBBB  0A         			asl	a
         1F:CBBC  AA         			tax
 7645                        		__ld.wax	_list_npc_x_pos_ref
         1F:CBBD  BD 2D 26   			lda.l	_list_npc_x_pos_ref, x
         1F:CBC0  BC 2E 26   			ldy.h	_list_npc_x_pos_ref, x
 7646                        		__sub.wm	_sgx_map_pxl_x
         1F:CBC3  38         			sec
         1F:CBC4  ED DA 26   			sbc.l	_sgx_map_pxl_x
         1F:CBC7  42         			say
         1F:CBC8  ED DB 26   			sbc.h	_sgx_map_pxl_x
         1F:CBCB  42         			say
 7647                        		__ld2x.um	__scroll_npc_end - 1  /* i */
         1F:CBCC  AA         			tax
         1F:CBCD  AD 23 2C   			lda	__scroll_npc_end - 1
         1F:CBD0  0A         			asl	a
         1F:CBD1  22         			sax
 7648                        		__st.waxq	_list_npc_x_pos
         1F:CBD2  9D 09 26   			sta.l	_list_npc_x_pos, x
         1F:CBD5  98         			tya
         1F:CBD6  9D 0A 26   			sta.h	_list_npc_x_pos, x
 7649                        	
 7650                        		.dbg	line,	"include\routines_LEVELS.c", 258; list_npc_y_pos[i] = list_npc_y_pos_ref[i] - sgx_map_pxl_y;
 7651                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:CBD9  AD 23 2C   			lda	__scroll_npc_end - 1
         1F:CBDC  0A         			asl	a
         1F:CBDD  AA         			tax
 7652                        		__ld.wax	_list_npc_y_pos_ref
         1F:CBDE  BD 3F 26   			lda.l	_list_npc_y_pos_ref, x
         1F:CBE1  BC 40 26   			ldy.h	_list_npc_y_pos_ref, x
 7653                        		__sub.wm	_sgx_map_pxl_y
         1F:CBE4  38         			sec
         1F:CBE5  ED DC 26   			sbc.l	_sgx_map_pxl_y
         1F:CBE8  42         			say
         1F:CBE9  ED DD 26   			sbc.h	_sgx_map_pxl_y
         1F:CBEC  42         			say
 7654                        		__ld2x.um	__scroll_npc_end - 1  /* i */
         1F:CBED  AA         			tax
         1F:CBEE  AD 23 2C   			lda	__scroll_npc_end - 1
         1F:CBF1  0A         			asl	a
         1F:CBF2  22         			sax
 7655                        		__st.waxq	_list_npc_y_pos
         1F:CBF3  9D 1B 26   			sta.l	_list_npc_y_pos, x
         1F:CBF6  98         			tya
         1F:CBF7  9D 1C 26   			sta.h	_list_npc_y_pos, x
 7656                        	
 7657                        		.dbg	line,	"include\routines_LEVELS.c", 259; }
 7658                        	
 7659                        		.dbg	line,	"include\routines_LEVELS.c", 261; else
 7660                        		__bra		.LL286
         1F:CBFA  80 1E      			bra	.LL286
 7661    1F:CBFC             	.LL285:
 7662                        	
 7663                        		.dbg	line,	"include\routines_LEVELS.c", 262; {
 7664                        	
 7665                        		.dbg	line,	"include\routines_LEVELS.c", 263; list_npc_x_pos[i] = -32;
 7666                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:CBFC  AD 23 2C   			lda	__scroll_npc_end - 1
         1F:CBFF  0A         			asl	a
         1F:CC00  AA         			tax
 7667                        		__st.waxiq	-32, _list_npc_x_pos
         1F:CC01  A9 E0      			lda.l	#-32
         1F:CC03  9D 09 26   			sta.l	_list_npc_x_pos, x
         1F:CC06  A9 FF      			lda.h	#-32
         1F:CC08  9D 0A 26   			sta.h	_list_npc_x_pos, x
 7668                        	
 7669                        		.dbg	line,	"include\routines_LEVELS.c", 264; list_npc_y_pos[i] = -32;
 7670                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:CC0B  AD 23 2C   			lda	__scroll_npc_end - 1
         1F:CC0E  0A         			asl	a
         1F:CC0F  AA         			tax
 7671                        		__st.waxiq	-32, _list_npc_y_pos
         1F:CC10  A9 E0      			lda.l	#-32
         1F:CC12  9D 1B 26   			sta.l	_list_npc_y_pos, x
         1F:CC15  A9 FF      			lda.h	#-32
         1F:CC17  9D 1C 26   			sta.h	_list_npc_y_pos, x
 7672                        	
 7673                        		.dbg	line,	"include\routines_LEVELS.c", 265; }
 7674    1F:CC1A             	.LL286:
 7675                        	
 7676                        		.dbg	line,	"include\routines_LEVELS.c", 267; sgx_spr_set(i + npc_start_index);
 7677                        		__ld.um		__scroll_npc_end - 1  /* i */
         1F:CC1A  AD 23 2C   			lda	__scroll_npc_end - 1
         1F:CC1D  C2         			cly
 7678                        		__add.um	_npc_start_index
         1F:CC1E  18         			clc
         1F:CC1F  6D D2 23   			adc	_npc_start_index
         1F:CC22  90 01      			bcc	!+
         1F:CC24  C8         			iny
         1F:CC25             	!:
 7679                        		__call		_sgx_spr_set.1
         1F:CC25  20 9E E8   			call	_sgx_spr_set.1
 7680                        	
 7681                        		.dbg	line,	"include\routines_LEVELS.c", 269; sgx_spr_x(list_npc_x_pos[i]);
 7682                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:CC28  AD 23 2C   			lda	__scroll_npc_end - 1
         1F:CC2B  0A         			asl	a
         1F:CC2C  AA         			tax
 7683                        		__ld.wax	_list_npc_x_pos
         1F:CC2D  BD 09 26   			lda.l	_list_npc_x_pos, x
         1F:CC30  BC 0A 26   			ldy.h	_list_npc_x_pos, x
 7684                        		__call		_sgx_spr_x.1
         1F:CC33  20 CB E8   			call	_sgx_spr_x.1
 7685                        	
 7686                        		.dbg	line,	"include\routines_LEVELS.c", 270; sgx_spr_y(list_npc_y_pos[i]);
 7687                        		__ld2x.umq	__scroll_npc_end - 1  /* i */
         1F:CC36  AD 23 2C   			lda	__scroll_npc_end - 1
         1F:CC39  0A         			asl	a
         1F:CC3A  AA         			tax
 7688                        		__ld.wax	_list_npc_y_pos
         1F:CC3B  BD 1B 26   			lda.l	_list_npc_y_pos, x
         1F:CC3E  BC 1C 26   			ldy.h	_list_npc_y_pos, x
 7689                        		__call		_sgx_spr_y.1
         1F:CC41  20 DA E8   			call	_sgx_spr_y.1
 7690                        	
 7691                        		.dbg	line,	"include\routines_LEVELS.c", 271; }
 7692                        	
 7693                        		.dbg	line,	"include\routines_LEVELS.c", 272; }
 7694    1F:CC44             	.LL280	.alias		.LL277
 7695                        		__bra		.LL277
         1F:CC44  4C FC CA   			bra	.LL277
 7696    1F:CC47             	.LL279:
 7697                        	
 7698                        		.dbg	line,	"include\routines_LEVELS.c", 273; }
 7699    1F:CC47             	.LL275:
 7700                        		__return	0
         1F:CC47  4C EF FF   			jmp	leave_proc
 7701                        		.dbg	clear
 7702                        		.endp
 7703               2300     		.bss
 7704    F8:2300             	__scroll_npc_end	.alias	leaf_stack
 7705               E31D     		.code
 7706                        		.pceas
 7707                        	
 7708                        		.dbg	line,	"include\routines_LEVELS.c", 276; void scroll_BG()
 7709                        		.dbg	line,	"include\routines_LEVELS.c", 277; {
 7710                        	;***********************
 7711                        	;***********************
 7712                        	
 7713                        		.hucc
 7714    1F:DC70             		.proc		_scroll_BG
 7715                        		__enter		_scroll_BG
 7716                        	
 7717                        		.dbg	line,	"include\routines_LEVELS.c", 278; // UPDATE VDC2 BG //
 7718                        	
 7719                        		.dbg	line,	"include\routines_LEVELS.c", 279; sgx_scroll_map();
 7720                        		__call		_sgx_scroll_map
         1F:DC70  20 59 FF   			call	_sgx_scroll_map
 7721                        	
 7722                        		.dbg	line,	"include\routines_LEVELS.c", 281; //--------------------------------------------------------------------------------------//
 7723                        	
 7724                        		.dbg	line,	"include\routines_LEVELS.c", 282; //                                        VDC 2                                         //
 7725                        	
 7726                        		.dbg	line,	"include\routines_LEVELS.c", 283; //--------------------------------------------------------------------------------------//
 7727                        	
 7728                        		.dbg	line,	"include\routines_LEVELS.c", 285; sgx_scroll_split(0,   0, sgx_map_pxl_x & (BAT_SIZE_W - 1), sgx_map_pxl_y & (BAT_SIZE_H - 1), BKG_ON | SPR_ON);
 7729                        		__st.umiq	0, _al
         1F:DC73  64 F8      			stz	_al
 7730                        		__st.umiq	0, _ah
         1F:DC75  64 F9      			stz	_ah
 7731                        		__ld.wm		_sgx_map_pxl_x
         1F:DC77  AD DA 26   			lda.l	_sgx_map_pxl_x
         1F:DC7A  AC DB 26   			ldy.h	_sgx_map_pxl_x
 7732                        		__and.wi	2047
         1F:DC7D  29 FF      			and.l	#2047
         1F:DC7F  42         			say
         1F:DC80  29 07      			and.h	#2047
         1F:DC82  42         			say
 7733                        		__st.wmq	_bx
         1F:DC83  85 FA      			sta.l	_bx
         1F:DC85  84 FB      			sty.h	_bx
 7734                        		__ld.wm		_sgx_map_pxl_y
         1F:DC87  AD DC 26   			lda.l	_sgx_map_pxl_y
         1F:DC8A  AC DD 26   			ldy.h	_sgx_map_pxl_y
 7735                        		__and.wi	255
         1F:DC8D  29 FF      			and	#255
         1F:DC8F  C2         			cly
 7736                        		__st.wmq	_cx
         1F:DC90  85 FC      			sta.l	_cx
         1F:DC92  84 FD      			sty.h	_cx
 7737                        		__st.umiq	192, _dl
         1F:DC94  A9 C0      			lda.l	#192
         1F:DC96  85 FE      			sta	_dl
 7738                        		__call		_sgx_scroll_split.5
         1F:DC98  20 4F FF   			call	_sgx_scroll_split.5
 7739                        	
 7740                        		.dbg	line,	"include\routines_LEVELS.c", 286; }
 7741    1F:DC9B             	.LL287:
 7742                        		__return	0
         1F:DC9B  4C EF FF   			jmp	leave_proc
 7743                        		.dbg	clear
 7744                        		.endp
 7745                        		.pceas
 7746                        	
 7747                        		.dbg	line,	"include\routines_LEVELS.c", 289; void recenter_CAMERA()
 7748                        		.dbg	line,	"include\routines_LEVELS.c", 290; {
 7749                        	;***********************
 7750                        	;***********************
 7751                        	
 7752                        		.hucc
 7753    1F:D112             		.proc		_recenter_CAMERA
 7754                        		__enter		_recenter_CAMERA
 7755                        	
 7756                        		.dbg	line,	"include\routines_LEVELS.c", 291; signed char camera_y_move;
 7757                        	
 7758                        		.dbg	line,	"include\routines_LEVELS.c", 293; spr_set(player_id);
 7759                        		__ld.umq	_player_id
         1F:D112  AD 18 23   			lda	_player_id
 7760                        		__call		_spr_set.1
         1F:D115  20 F1 E7   			call	_spr_set.1
 7761                        	
 7762                        		.dbg	line,	"include\routines_LEVELS.c", 296; if(player_pos_y < 128)
 7763                        		__ld.wm		_player_pos_y
         1F:D118  AD F9 24   			lda.l	_player_pos_y
         1F:D11B  AC FA 24   			ldy.h	_player_pos_y
 7764                        		__slt_w.wi	128
         1F:D11E  C9 80      			cmp.l	#128		; Subtract integer from Y:A.
         1F:D120  98         			tya
         1F:D121  E9 00      			sbc.h	#128
         1F:D123  50 02      			bvc	!+
         1F:D125  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1F:D127  0A         	!:		asl	a
 7765                        		__bfalse	.LL289
         1F:D128  90 70      			bcc	.LL289
 7766                        	
 7767                        		.dbg	line,	"include\routines_LEVELS.c", 297; {
 7768                        	
 7769                        		.dbg	line,	"include\routines_LEVELS.c", 298; player_pos_y += CAMERA_RECENTER_VELOCITY;
 7770                        		__add_st.wmiq	6, _player_pos_y
         1F:D12A  18         			clc
         1F:D12B  AD F9 24   			lda.l	_player_pos_y
         1F:D12E  69 06      			adc.l	#6
         1F:D130  8D F9 24   			sta.l	_player_pos_y
         1F:D133  90 03      			bcc	!+
         1F:D135  EE FA 24   			inc.h	_player_pos_y
         1F:D138             	!:
 7771                        	
 7772                        		.dbg	line,	"include\routines_LEVELS.c", 300; if(player_pos_y > 128)
 7773                        		__ld.wm		_player_pos_y
         1F:D138  AD F9 24   			lda.l	_player_pos_y
         1F:D13B  AC FA 24   			ldy.h	_player_pos_y
 7774                        		__sgt_w.wi	128
         1F:D13E  18         			clc			; Subtract integer+1 from Y:A.
         1F:D13F  E9 80      			sbc.l	#128
         1F:D141  98         			tya
         1F:D142  E9 00      			sbc.h	#128
         1F:D144  50 02      			bvc	!+
         1F:D146  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:D148  49 80      	!:		eor	#$80
         1F:D14A  0A         			asl	a
 7775                        		__bfalse	.LL290
         1F:D14B  90 24      			bcc	.LL290
 7776                        	
 7777                        		.dbg	line,	"include\routines_LEVELS.c", 301; {
 7778                        	
 7779                        		.dbg	line,	"include\routines_LEVELS.c", 302; camera_y_move = CAMERA_RECENTER_VELOCITY - (player_pos_y - 128);
 7780                        		__ld.wm		_player_pos_y
         1F:D14D  AD F9 24   			lda.l	_player_pos_y
         1F:D150  AC FA 24   			ldy.h	_player_pos_y
 7781                        		__sub.wi	128
         1F:D153  38         			sec
         1F:D154  E9 80      			sbc.l	#128
         1F:D156  B0 01      			bcs	!+
         1F:D158  88         			dey
         1F:D159             	!:
 7782                        		__isub.wi	6
         1F:D159  38         			sec
         1F:D15A  49 FF      			eor	#$FF
         1F:D15C  69 06      			adc.l	#6
         1F:D15E  42         			say
         1F:D15F  49 FF      			eor	#$FF
         1F:D161  69 00      			adc.h	#6
         1F:D163  42         			say
 7783                        		__st.umq	__recenter_CAMERA_end - 1  /* camera_y_move */
         1F:D164  8D 23 2C   			sta	__recenter_CAMERA_end - 1
 7784                        	
 7785                        		.dbg	line,	"include\routines_LEVELS.c", 304; player_pos_y = 128;
 7786                        		__st.wmiq	128, _player_pos_y
         1F:D167  A9 80      			lda.l	#128
         1F:D169  8D F9 24   			sta.l	_player_pos_y
         1F:D16C  9C FA 24   			stz.h	_player_pos_y
 7787                        	
 7788                        		.dbg	line,	"include\routines_LEVELS.c", 305; }
 7789                        	
 7790                        		.dbg	line,	"include\routines_LEVELS.c", 307; else
 7791                        		__bra		.LL291
         1F:D16F  80 05      			bra	.LL291
 7792    1F:D171             	.LL290:
 7793                        	
 7794                        		.dbg	line,	"include\routines_LEVELS.c", 308; {
 7795                        	
 7796                        		.dbg	line,	"include\routines_LEVELS.c", 309; camera_y_move = CAMERA_RECENTER_VELOCITY;
 7797                        		__st.umiq	6, __recenter_CAMERA_end - 1  /* camera_y_move */
         1F:D171  A9 06      			lda.l	#6
         1F:D173  8D 23 2C   			sta	__recenter_CAMERA_end - 1
 7798                        	
 7799                        		.dbg	line,	"include\routines_LEVELS.c", 310; }
 7800    1F:D176             	.LL291:
 7801                        	
 7802                        		.dbg	line,	"include\routines_LEVELS.c", 312; spr_y(player_pos_y);
 7803                        		__ld.wm		_player_pos_y
         1F:D176  AD F9 24   			lda.l	_player_pos_y
         1F:D179  AC FA 24   			ldy.h	_player_pos_y
 7804                        		__call		_spr_y.1
         1F:D17C  20 2D E8   			call	_spr_y.1
 7805                        	
 7806                        		.dbg	line,	"include\routines_LEVELS.c", 314; sgx_map_pxl_y -= camera_y_move;
 7807                        		__ld.bm		__recenter_CAMERA_end - 1  /* camera_y_move */
         1F:D17F  AD 23 2C   			lda	__recenter_CAMERA_end - 1
         1F:D182  C2         			cly
         1F:D183  10 01      			bpl	!+
         1F:D185  88         			dey
         1F:D186             	!:
 7808                        		__isub_st.wmq	_sgx_map_pxl_y
         1F:D186  38         			sec
         1F:D187  49 FF      			eor	#$FF
         1F:D189  6D DC 26   			adc.l	_sgx_map_pxl_y
         1F:D18C  8D DC 26   			sta.l	_sgx_map_pxl_y
         1F:D18F  98         			tya
         1F:D190  49 FF      			eor	#$FF
         1F:D192  6D DD 26   			adc.h	_sgx_map_pxl_y
         1F:D195  8D DD 26   			sta.h	_sgx_map_pxl_y
 7809                        	
 7810                        		.dbg	line,	"include\routines_LEVELS.c", 315; }
 7811                        	
 7812                        		.dbg	line,	"include\routines_LEVELS.c", 318; else if(player_pos_y > 128)
 7813                        		__bra		.LL292
         1F:D198  80 7C      			bra	.LL292
 7814    1F:D19A             	.LL289:
 7815                        		__ld.wm		_player_pos_y
         1F:D19A  AD F9 24   			lda.l	_player_pos_y
         1F:D19D  AC FA 24   			ldy.h	_player_pos_y
 7816                        		__sgt_w.wi	128
         1F:D1A0  18         			clc			; Subtract integer+1 from Y:A.
         1F:D1A1  E9 80      			sbc.l	#128
         1F:D1A3  98         			tya
         1F:D1A4  E9 00      			sbc.h	#128
         1F:D1A6  50 02      			bvc	!+
         1F:D1A8  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:D1AA  49 80      	!:		eor	#$80
         1F:D1AC  0A         			asl	a
 7817                        		__bfalse	.LL293
         1F:D1AD  90 67      			bcc	.LL293
 7818                        	
 7819                        		.dbg	line,	"include\routines_LEVELS.c", 319; {
 7820                        	
 7821                        		.dbg	line,	"include\routines_LEVELS.c", 320; player_pos_y -= CAMERA_RECENTER_VELOCITY;
 7822                        		__sub_st.wmiq	6, _player_pos_y
         1F:D1AF  38         			sec
         1F:D1B0  AD F9 24   			lda.l	_player_pos_y
         1F:D1B3  E9 06      			sbc.l	#6
         1F:D1B5  8D F9 24   			sta.l	_player_pos_y
         1F:D1B8  B0 03      			bcs	!+
         1F:D1BA  CE FA 24   			dec.h	_player_pos_y
         1F:D1BD             	!:
 7823                        	
 7824                        		.dbg	line,	"include\routines_LEVELS.c", 322; if(player_pos_y < 128)
 7825                        		__ld.wm		_player_pos_y
         1F:D1BD  AD F9 24   			lda.l	_player_pos_y
         1F:D1C0  AC FA 24   			ldy.h	_player_pos_y
 7826                        		__slt_w.wi	128
         1F:D1C3  C9 80      			cmp.l	#128		; Subtract integer from Y:A.
         1F:D1C5  98         			tya
         1F:D1C6  E9 00      			sbc.h	#128
         1F:D1C8  50 02      			bvc	!+
         1F:D1CA  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1F:D1CC  0A         	!:		asl	a
 7827                        		__bfalse	.LL294
         1F:D1CD  90 24      			bcc	.LL294
 7828                        	
 7829                        		.dbg	line,	"include\routines_LEVELS.c", 323; {
 7830                        	
 7831                        		.dbg	line,	"include\routines_LEVELS.c", 324; camera_y_move = CAMERA_RECENTER_VELOCITY - (128 - player_pos_y);
 7832                        		__ld.wi		128
         1F:D1CF  A9 80      			lda.l	#128
         1F:D1D1  C2         			cly
 7833                        		__sub.wm	_player_pos_y
         1F:D1D2  38         			sec
         1F:D1D3  ED F9 24   			sbc.l	_player_pos_y
         1F:D1D6  42         			say
         1F:D1D7  ED FA 24   			sbc.h	_player_pos_y
         1F:D1DA  42         			say
 7834                        		__isub.wi	6
         1F:D1DB  38         			sec
         1F:D1DC  49 FF      			eor	#$FF
         1F:D1DE  69 06      			adc.l	#6
         1F:D1E0  42         			say
         1F:D1E1  49 FF      			eor	#$FF
         1F:D1E3  69 00      			adc.h	#6
         1F:D1E5  42         			say
 7835                        		__st.umq	__recenter_CAMERA_end - 1  /* camera_y_move */
         1F:D1E6  8D 23 2C   			sta	__recenter_CAMERA_end - 1
 7836                        	
 7837                        		.dbg	line,	"include\routines_LEVELS.c", 326; player_pos_y = 128;
 7838                        		__st.wmiq	128, _player_pos_y
         1F:D1E9  A9 80      			lda.l	#128
         1F:D1EB  8D F9 24   			sta.l	_player_pos_y
         1F:D1EE  9C FA 24   			stz.h	_player_pos_y
 7839                        	
 7840                        		.dbg	line,	"include\routines_LEVELS.c", 327; }
 7841                        	
 7842                        		.dbg	line,	"include\routines_LEVELS.c", 329; else
 7843                        		__bra		.LL295
         1F:D1F1  80 05      			bra	.LL295
 7844    1F:D1F3             	.LL294:
 7845                        	
 7846                        		.dbg	line,	"include\routines_LEVELS.c", 330; {
 7847                        	
 7848                        		.dbg	line,	"include\routines_LEVELS.c", 331; camera_y_move = CAMERA_RECENTER_VELOCITY;
 7849                        		__st.umiq	6, __recenter_CAMERA_end - 1  /* camera_y_move */
         1F:D1F3  A9 06      			lda.l	#6
         1F:D1F5  8D 23 2C   			sta	__recenter_CAMERA_end - 1
 7850                        	
 7851                        		.dbg	line,	"include\routines_LEVELS.c", 332; }
 7852    1F:D1F8             	.LL295:
 7853                        	
 7854                        		.dbg	line,	"include\routines_LEVELS.c", 334; spr_y(player_pos_y);
 7855                        		__ld.wm		_player_pos_y
         1F:D1F8  AD F9 24   			lda.l	_player_pos_y
         1F:D1FB  AC FA 24   			ldy.h	_player_pos_y
 7856                        		__call		_spr_y.1
         1F:D1FE  20 2D E8   			call	_spr_y.1
 7857                        	
 7858                        		.dbg	line,	"include\routines_LEVELS.c", 336; sgx_map_pxl_y += camera_y_move;
 7859                        		__ld.bm		__recenter_CAMERA_end - 1  /* camera_y_move */
         1F:D201  AD 23 2C   			lda	__recenter_CAMERA_end - 1
         1F:D204  C2         			cly
         1F:D205  10 01      			bpl	!+
         1F:D207  88         			dey
         1F:D208             	!:
 7860                        		__add_st.wmq	_sgx_map_pxl_y
         1F:D208  18         			clc
         1F:D209  6D DC 26   			adc.l	_sgx_map_pxl_y
         1F:D20C  8D DC 26   			sta.l	_sgx_map_pxl_y
         1F:D20F  98         			tya
         1F:D210  6D DD 26   			adc.h	_sgx_map_pxl_y
         1F:D213  8D DD 26   			sta.h	_sgx_map_pxl_y
 7861                        	
 7862                        		.dbg	line,	"include\routines_LEVELS.c", 337; }
 7863                        	
 7864                        		.dbg	line,	"include\routines_LEVELS.c", 338; }
 7865    1F:D216             	.LL293:
 7866    1F:D216             	.LL292:
 7867    1F:D216             	.LL288:
 7868                        		__return	0
         1F:D216  4C EF FF   			jmp	leave_proc
 7869                        		.dbg	clear
 7870                        		.endp
 7871               2300     		.bss
 7872    F8:2300             	__recenter_CAMERA_end	.alias	leaf_stack
 7873               E31D     		.code
 7874                        		.pceas
 7875                        	
 7876                        		.dbg	line,	"include\routines_LEVELS.c", 343; //-----------------------------------------------------------------------------//
 7877                        		.dbg	line,	"include\routines_LEVELS.c", 344; //                                 COLLISIONS                                  //
 7878                        		.dbg	line,	"include\routines_LEVELS.c", 345; //-----------------------------------------------------------------------------//
 7879                        		.dbg	line,	"include\routines_LEVELS.c", 347; int check_TILE_DEPTH(signed char x_offset , signed char y_offset)
 7880                        		.dbg	line,	"include\routines_LEVELS.c", 348; {
 7881                        	;***********************
 7882                        	;***********************
 7883                        	
 7884                        		.hucc
 7885    1F:D803             		.proc		_check_TILE_DEPTH
 7886                        		__enter		_check_TILE_DEPTH
 7887                        	
 7888                        		.dbg	line,	"include\routines_LEVELS.c", 349; int player_COLL_X;
 7889                        	
 7890                        		.dbg	line,	"include\routines_LEVELS.c", 350; int player_COLL_Y;
 7891                        	
 7892                        		.dbg	line,	"include\routines_LEVELS.c", 353; player_COLL_X = player_pos_x + x_offset;
 7893                        		__ld.bs		2  /* x_offset */
         1F:D803  A6 8D      			ldx	<__sp
         1F:D805  B5 0A      			lda	<__stack + 2, x
         1F:D807  C2         			cly
         1F:D808  10 01      			bpl	!+	; signed
         1F:D80A  88         			dey
         1F:D80B             	!:
 7894                        		__add.wm	_player_pos_x
         1F:D80B  18         			clc
         1F:D80C  6D F7 24   			adc.l	_player_pos_x
         1F:D80F  42         			say
         1F:D810  6D F8 24   			adc.h	_player_pos_x
         1F:D813  42         			say
 7895                        		__st.wmq	__check_TILE_DEPTH_end - 2  /* player_COLL_X */
         1F:D814  8D 22 2C   			sta.l	__check_TILE_DEPTH_end - 2
         1F:D817  8C 23 2C   			sty.h	__check_TILE_DEPTH_end - 2
 7896                        	
 7897                        		.dbg	line,	"include\routines_LEVELS.c", 354; player_COLL_Y = player_pos_y + 32 - y_offset;//32
 7898                        		__ld.wm		_player_pos_y
         1F:D81A  AD F9 24   			lda.l	_player_pos_y
         1F:D81D  AC FA 24   			ldy.h	_player_pos_y
 7899                        		__add.wi	32
         1F:D820  18         			clc
         1F:D821  69 20      			adc.l	#32
         1F:D823  90 01      			bcc	!+
         1F:D825  C8         			iny
         1F:D826             	!:
 7900                        		__push.wr
         1F:D826  5A         			phy
         1F:D827  48         			pha
 7901                        		__ld.bs		0  /* y_offset */
         1F:D828  A6 8D      			ldx	<__sp
         1F:D82A  B5 08      			lda	<__stack + 0, x
         1F:D82C  C2         			cly
         1F:D82D  10 01      			bpl	!+	; signed
         1F:D82F  88         			dey
         1F:D830             	!:
 7902                        		__sub.wt
         1F:D830  BA         			tsx
         1F:D831  38         			sec
         1F:D832  49 FF      			eor	#$FF
         1F:D834  7D 01 21   			adc.l	__tos, x
         1F:D837  42         			say
         1F:D838  49 FF      			eor	#$FF
         1F:D83A  7D 02 21   			adc.h	__tos, x
         1F:D83D  42         			say
         1F:D83E  E8         			inx
         1F:D83F  E8         			inx
         1F:D840  9A         			txs
 7903                        		__st.wmq	__check_TILE_DEPTH_end - 4  /* player_COLL_Y */
         1F:D841  8D 20 2C   			sta.l	__check_TILE_DEPTH_end - 4
         1F:D844  8C 21 2C   			sty.h	__check_TILE_DEPTH_end - 4
 7904                        	
 7905                        		.dbg	line,	"include\routines_LEVELS.c", 356; get_map_block(player_COLL_X + sgx_map_pxl_x, player_COLL_Y + sgx_map_pxl_y);
 7906                        		__ld.wm		__check_TILE_DEPTH_end - 2  /* player_COLL_X */
         1F:D847  AD 22 2C   			lda.l	__check_TILE_DEPTH_end - 2
         1F:D84A  AC 23 2C   			ldy.h	__check_TILE_DEPTH_end - 2
 7907                        		__add.wm	_sgx_map_pxl_x
         1F:D84D  18         			clc
         1F:D84E  6D DA 26   			adc.l	_sgx_map_pxl_x
         1F:D851  42         			say
         1F:D852  6D DB 26   			adc.h	_sgx_map_pxl_x
         1F:D855  42         			say
 7908                        		__st.wmq	map_pxl_x
         1F:D856  85 FC      			sta.l	map_pxl_x
         1F:D858  84 FD      			sty.h	map_pxl_x
 7909                        		__ld.wm		__check_TILE_DEPTH_end - 4  /* player_COLL_Y */
         1F:D85A  AD 20 2C   			lda.l	__check_TILE_DEPTH_end - 4
         1F:D85D  AC 21 2C   			ldy.h	__check_TILE_DEPTH_end - 4
 7910                        		__add.wm	_sgx_map_pxl_y
         1F:D860  18         			clc
         1F:D861  6D DC 26   			adc.l	_sgx_map_pxl_y
         1F:D864  42         			say
         1F:D865  6D DD 26   			adc.h	_sgx_map_pxl_y
         1F:D868  42         			say
 7911                        		__st.wmq	map_pxl_y
         1F:D869  85 FE      			sta.l	map_pxl_y
         1F:D86B  84 FF      			sty.h	map_pxl_y
 7912                        		__call		_get_map_block.2
         1F:D86D  20 45 FF   			call	_get_map_block.2
 7913                        	
 7914                        		.dbg	line,	"include\routines_LEVELS.c", 357; }
 7915    1F:D870             	.LL296:
 7916                        		__modsp		4
         1F:D870  AA         			tax
         1F:D871  A5 8D      			lda	<__sp
         1F:D873  18         			clc
         1F:D874  69 04      			adc	#4
         1F:D876  85 8D      			sta	<__sp
         1F:D878  8A         			txa
 7917                        		__return	1
         1F:D879  AA         			tax
         1F:D87A  4C EF FF   			jmp	leave_proc
 7918                        		.dbg	clear
 7919                        		.endp
 7920               2300     		.bss
 7921    F8:2300             	__check_TILE_DEPTH_end	.alias	leaf_stack
 7922               E31D     		.code
 7923                        		.pceas
 7924                        	
 7925                        		.dbg	line,	"include\routines_LEVELS.c", 359; // CHECK COLLISION PLAYER -> BG //
 7926                        		.dbg	line,	"include\routines_LEVELS.c", 360; int collision_PLAYER_BG(signed char x_offset , signed char y_offset)
 7927                        		.dbg	line,	"include\routines_LEVELS.c", 361; {
 7928                        	;***********************
 7929                        	;***********************
 7930                        	
 7931                        		.hucc
 7932    1F:D95E             		.proc		_collision_PLAYER_BG
 7933                        		__enter		_collision_PLAYER_BG
 7934                        	
 7935                        		.dbg	line,	"include\routines_LEVELS.c", 362; int player_COLL_X;
 7936                        	
 7937                        		.dbg	line,	"include\routines_LEVELS.c", 363; int player_COLL_Y;
 7938                        	
 7939                        		.dbg	line,	"include\routines_LEVELS.c", 366; player_COLL_X = player_pos_x + x_offset;
 7940                        		__ld.bs		2  /* x_offset */
         1F:D95E  A6 8D      			ldx	<__sp
         1F:D960  B5 0A      			lda	<__stack + 2, x
         1F:D962  C2         			cly
         1F:D963  10 01      			bpl	!+	; signed
         1F:D965  88         			dey
         1F:D966             	!:
 7941                        		__add.wm	_player_pos_x
         1F:D966  18         			clc
         1F:D967  6D F7 24   			adc.l	_player_pos_x
         1F:D96A  42         			say
         1F:D96B  6D F8 24   			adc.h	_player_pos_x
         1F:D96E  42         			say
 7942                        		__st.wmq	__collision_PLAYER_BG_end - 2  /* player_COLL_X */
         1F:D96F  8D 22 2C   			sta.l	__collision_PLAYER_BG_end - 2
         1F:D972  8C 23 2C   			sty.h	__collision_PLAYER_BG_end - 2
 7943                        	
 7944                        		.dbg	line,	"include\routines_LEVELS.c", 367; player_COLL_Y = player_pos_y + y_offset;
 7945                        		__ld.bs		0  /* y_offset */
         1F:D975  A6 8D      			ldx	<__sp
         1F:D977  B5 08      			lda	<__stack + 0, x
         1F:D979  C2         			cly
         1F:D97A  10 01      			bpl	!+	; signed
         1F:D97C  88         			dey
         1F:D97D             	!:
 7946                        		__add.wm	_player_pos_y
         1F:D97D  18         			clc
         1F:D97E  6D F9 24   			adc.l	_player_pos_y
         1F:D981  42         			say
         1F:D982  6D FA 24   			adc.h	_player_pos_y
         1F:D985  42         			say
 7947                        		__st.wmq	__collision_PLAYER_BG_end - 4  /* player_COLL_Y */
         1F:D986  8D 20 2C   			sta.l	__collision_PLAYER_BG_end - 4
         1F:D989  8C 21 2C   			sty.h	__collision_PLAYER_BG_end - 4
 7948                        	
 7949                        		.dbg	line,	"include\routines_LEVELS.c", 369; get_map_block(player_COLL_X + sgx_map_pxl_x, player_COLL_Y + sgx_map_pxl_y);
 7950                        		__ld.wm		__collision_PLAYER_BG_end - 2  /* player_COLL_X */
         1F:D98C  AD 22 2C   			lda.l	__collision_PLAYER_BG_end - 2
         1F:D98F  AC 23 2C   			ldy.h	__collision_PLAYER_BG_end - 2
 7951                        		__add.wm	_sgx_map_pxl_x
         1F:D992  18         			clc
         1F:D993  6D DA 26   			adc.l	_sgx_map_pxl_x
         1F:D996  42         			say
         1F:D997  6D DB 26   			adc.h	_sgx_map_pxl_x
         1F:D99A  42         			say
 7952                        		__st.wmq	map_pxl_x
         1F:D99B  85 FC      			sta.l	map_pxl_x
         1F:D99D  84 FD      			sty.h	map_pxl_x
 7953                        		__ld.wm		__collision_PLAYER_BG_end - 4  /* player_COLL_Y */
         1F:D99F  AD 20 2C   			lda.l	__collision_PLAYER_BG_end - 4
         1F:D9A2  AC 21 2C   			ldy.h	__collision_PLAYER_BG_end - 4
 7954                        		__add.wm	_sgx_map_pxl_y
         1F:D9A5  18         			clc
         1F:D9A6  6D DC 26   			adc.l	_sgx_map_pxl_y
         1F:D9A9  42         			say
         1F:D9AA  6D DD 26   			adc.h	_sgx_map_pxl_y
         1F:D9AD  42         			say
 7955                        		__st.wmq	map_pxl_y
         1F:D9AE  85 FE      			sta.l	map_pxl_y
         1F:D9B0  84 FF      			sty.h	map_pxl_y
 7956                        		__call		_get_map_block.2
         1F:D9B2  20 45 FF   			call	_get_map_block.2
 7957                        	
 7958                        		.dbg	line,	"include\routines_LEVELS.c", 370; }
 7959    1F:D9B5             	.LL297:
 7960                        		__modsp		4
         1F:D9B5  AA         			tax
         1F:D9B6  A5 8D      			lda	<__sp
         1F:D9B8  18         			clc
         1F:D9B9  69 04      			adc	#4
         1F:D9BB  85 8D      			sta	<__sp
         1F:D9BD  8A         			txa
 7961                        		__return	1
         1F:D9BE  AA         			tax
         1F:D9BF  4C EF FF   			jmp	leave_proc
 7962                        		.dbg	clear
 7963                        		.endp
 7964               2300     		.bss
 7965    F8:2300             	__collision_PLAYER_BG_end	.alias	leaf_stack
 7966               E31D     		.code
 7967                        		.pceas
 7968                        	
 7969                        		.dbg	line,	"include\routines_LEVELS.c", 372; // CHECK COLLISION PLAYER -> OBJECTS //
 7970                        		.dbg	line,	"include\routines_LEVELS.c", 373; void collision_PLAYER_OBJECT()
 7971                        		.dbg	line,	"include\routines_LEVELS.c", 374; {
 7972                        	;***********************
 7973                        	;***********************
 7974                        	
 7975                        		.hucc
 7976    1F:C495             		.proc		_collision_PLAYER_OBJECT
 7977                        		__enter		_collision_PLAYER_OBJECT
 7978                        	
 7979                        		.dbg	line,	"include\routines_LEVELS.c", 375; if(onscreen_object_number != 0)
 7980                        		__tst.um	_onscreen_object_number
         1F:C495  AD 39 23   			lda	_onscreen_object_number
         1F:C498  C9 01      			cmp	#1
 7981                        		__bfalse	.LL299
         1F:C49A  B0 03 4C AE			bcc	.LL299
         1F:C49E  C6          
 7982                        	
 7983                        		.dbg	line,	"include\routines_LEVELS.c", 376; {
 7984                        	
 7985                        		.dbg	line,	"include\routines_LEVELS.c", 377; char i;
 7986                        	
 7987                        		.dbg	line,	"include\routines_LEVELS.c", 378; char current_object_id;
 7988                        	
 7989                        		.dbg	line,	"include\routines_LEVELS.c", 379; char current_object_type;
 7990                        	
 7991                        		.dbg	line,	"include\routines_LEVELS.c", 381; for(i=0 ; i<onscreen_object_number ; i++)
 7992                        		__st.umiq	0, __collision_PLAYER_OBJECT_end - 1  /* i */
         1F:C49F  9C 02 23   			stz	__collision_PLAYER_OBJECT_end - 1
 7993    1F:C4A2             	.LL300:
 7994                        		__ld.umq	__collision_PLAYER_OBJECT_end - 1  /* i */
         1F:C4A2  AD 02 23   			lda	__collision_PLAYER_OBJECT_end - 1
 7995                        		__ult_b.umq	_onscreen_object_number
         1F:C4A5  CD 39 23   			cmp	_onscreen_object_number		; Subtract memory from A.
         1F:C4A8  6A         			ror	a		; CC if A < memory.
         1F:C4A9  49 80      			eor	#$80
         1F:C4AB  2A         			rol	a
 7996                        		__btrue		.LL302
         1F:C4AC  B0 08      			bcs	.LL302
 7997                        		__bra		.LL303
         1F:C4AE  4C AE C6   			bra	.LL303
 7998    1F:C4B1             	.LL301:
 7999                        		__inc.umq	__collision_PLAYER_OBJECT_end - 1  /* i */
         1F:C4B1  EE 02 23   			inc	__collision_PLAYER_OBJECT_end - 1
 8000                        		__bra		.LL300
         1F:C4B4  80 EC      			bra	.LL300
 8001    1F:C4B6             	.LL302:
 8002                        	
 8003                        		.dbg	line,	"include\routines_LEVELS.c", 382; {
 8004                        	
 8005                        		.dbg	line,	"include\routines_LEVELS.c", 383; // RETRIEVE OBJECT INDEX IN THE LIST //
 8006                        	
 8007                        		.dbg	line,	"include\routines_LEVELS.c", 384; current_object_id = list_onscreen_object[i];
 8008                        		__ldx.umq	__collision_PLAYER_OBJECT_end - 1  /* i */
         1F:C4B6  AE 02 23   			ldx	__collision_PLAYER_OBJECT_end - 1
 8009                        		__ld.uax	_list_onscreen_object
         1F:C4B9  BD B7 23   			lda	_list_onscreen_object, x
         1F:C4BC  C2         			cly
 8010                        		__st.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1F:C4BD  8D 01 23   			sta	__collision_PLAYER_OBJECT_end - 2
 8011                        	
 8012                        		.dbg	line,	"include\routines_LEVELS.c", 385; // RETRIEVE OBJECT TYPE //
 8013                        	
 8014                        		.dbg	line,	"include\routines_LEVELS.c", 386; current_object_type = list_object_type[current_object_id];
 8015                        		__ldx.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1F:C4C0  AE 01 23   			ldx	__collision_PLAYER_OBJECT_end - 2
 8016                        		__ld.uax	_list_object_type
         1F:C4C3  BD 3A 23   			lda	_list_object_type, x
         1F:C4C6  C2         			cly
 8017                        		__st.umq	__collision_PLAYER_OBJECT_end - 3  /* current_object_type */
         1F:C4C7  8D 00 23   			sta	__collision_PLAYER_OBJECT_end - 3
 8018                        	
 8019                        		.dbg	line,	"include\routines_LEVELS.c", 388; if(current_object_type != TYPE_POT)
 8020                        		__ld.umq	__collision_PLAYER_OBJECT_end - 3  /* current_object_type */
         1F:C4CA  AD 00 23   			lda	__collision_PLAYER_OBJECT_end - 3
 8021                        		__neq_b.uiq	1
         1F:C4CD  38         			sec
         1F:C4CE  49 01      			eor	#1
         1F:C4D0  D0 01      			bne	!+
         1F:C4D2  18         			clc
         1F:C4D3             	!:
 8022                        		__bfalse	.LL304
         1F:C4D3  90 DC      			bcc	.LL304
 8023                        	
 8024                        		.dbg	line,	"include\routines_LEVELS.c", 389; {
 8025                        	
 8026                        		.dbg	line,	"include\routines_LEVELS.c", 390; if(abs( (player_pos_x + 16) - (list_object_x_pos[current_object_id] + 8) ) < OBJECT_MARGIN)
 8027                        		__ld.wm		_player_pos_x
         1F:C4D5  AD F7 24   			lda.l	_player_pos_x
         1F:C4D8  AC F8 24   			ldy.h	_player_pos_x
 8028                        		__add.wi	16
         1F:C4DB  18         			clc
         1F:C4DC  69 10      			adc.l	#16
         1F:C4DE  90 01      			bcc	!+
         1F:C4E0  C8         			iny
         1F:C4E1             	!:
 8029                        		__push.wr
         1F:C4E1  5A         			phy
         1F:C4E2  48         			pha
 8030                        		__ld2x.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1F:C4E3  AD 01 23   			lda	__collision_PLAYER_OBJECT_end - 2
         1F:C4E6  0A         			asl	a
         1F:C4E7  AA         			tax
 8031                        		__ld.wax	_list_object_x_pos
         1F:C4E8  BD 01 25   			lda.l	_list_object_x_pos, x
         1F:C4EB  BC 02 25   			ldy.h	_list_object_x_pos, x
 8032                        		__add.wi	8
         1F:C4EE  18         			clc
         1F:C4EF  69 08      			adc.l	#8
         1F:C4F1  90 01      			bcc	!+
         1F:C4F3  C8         			iny
         1F:C4F4             	!:
 8033                        		__sub.wt
         1F:C4F4  BA         			tsx
         1F:C4F5  38         			sec
         1F:C4F6  49 FF      			eor	#$FF
         1F:C4F8  7D 01 21   			adc.l	__tos, x
         1F:C4FB  42         			say
         1F:C4FC  49 FF      			eor	#$FF
         1F:C4FE  7D 02 21   			adc.h	__tos, x
         1F:C501  42         			say
         1F:C502  E8         			inx
         1F:C503  E8         			inx
         1F:C504  9A         			txs
 8034                        		__call		_abs.1
         1F:C505  20 1D E5   			call	_abs.1
 8035                        		__slt_w.wi	10
         1F:C508  C9 0A      			cmp.l	#10		; Subtract integer from Y:A.
         1F:C50A  98         			tya
         1F:C50B  E9 00      			sbc.h	#10
         1F:C50D  50 02      			bvc	!+
         1F:C50F  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1F:C511  0A         	!:		asl	a
 8036                        		__bfalse	.LL305
         1F:C512  90 9D      			bcc	.LL305
 8037                        	
 8038                        		.dbg	line,	"include\routines_LEVELS.c", 391; {
 8039                        	
 8040                        		.dbg	line,	"include\routines_LEVELS.c", 392; if(abs( (player_pos_y + 16) - (list_object_y_pos[current_object_id] + 8) ) < OBJECT_MARGIN)
 8041                        		__ld.wm		_player_pos_y
         1F:C514  AD F9 24   			lda.l	_player_pos_y
         1F:C517  AC FA 24   			ldy.h	_player_pos_y
 8042                        		__add.wi	16
         1F:C51A  18         			clc
         1F:C51B  69 10      			adc.l	#16
         1F:C51D  90 01      			bcc	!+
         1F:C51F  C8         			iny
         1F:C520             	!:
 8043                        		__push.wr
         1F:C520  5A         			phy
         1F:C521  48         			pha
 8044                        		__ld2x.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1F:C522  AD 01 23   			lda	__collision_PLAYER_OBJECT_end - 2
         1F:C525  0A         			asl	a
         1F:C526  AA         			tax
 8045                        		__ld.wax	_list_object_y_pos
         1F:C527  BD 33 25   			lda.l	_list_object_y_pos, x
         1F:C52A  BC 34 25   			ldy.h	_list_object_y_pos, x
 8046                        		__add.wi	8
         1F:C52D  18         			clc
         1F:C52E  69 08      			adc.l	#8
         1F:C530  90 01      			bcc	!+
         1F:C532  C8         			iny
         1F:C533             	!:
 8047                        		__sub.wt
         1F:C533  BA         			tsx
         1F:C534  38         			sec
         1F:C535  49 FF      			eor	#$FF
         1F:C537  7D 01 21   			adc.l	__tos, x
         1F:C53A  42         			say
         1F:C53B  49 FF      			eor	#$FF
         1F:C53D  7D 02 21   			adc.h	__tos, x
         1F:C540  42         			say
         1F:C541  E8         			inx
         1F:C542  E8         			inx
         1F:C543  9A         			txs
 8048                        		__call		_abs.1
         1F:C544  20 1D E5   			call	_abs.1
 8049                        		__slt_w.wi	10
         1F:C547  C9 0A      			cmp.l	#10		; Subtract integer from Y:A.
         1F:C549  98         			tya
         1F:C54A  E9 00      			sbc.h	#10
         1F:C54C  50 02      			bvc	!+
         1F:C54E  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1F:C550  0A         	!:		asl	a
 8050                        		__bfalse	.LL306
         1F:C551  B0 03 4C B1			bcc	.LL306
         1F:C555  C4          
 8051                        	
 8052                        		.dbg	line,	"include\routines_LEVELS.c", 393; {
 8053                        	
 8054                        		.dbg	line,	"include\routines_LEVELS.c", 394; // THE OBJECT DISAPPEARS //
 8055                        	
 8056                        		.dbg	line,	"include\routines_LEVELS.c", 395; list_object_x_pos[current_object_id] = -16;
 8057                        		__ld2x.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1F:C556  AD 01 23   			lda	__collision_PLAYER_OBJECT_end - 2
         1F:C559  0A         			asl	a
         1F:C55A  AA         			tax
 8058                        		__st.waxiq	-16, _list_object_x_pos
         1F:C55B  A9 F0      			lda.l	#-16
         1F:C55D  9D 01 25   			sta.l	_list_object_x_pos, x
         1F:C560  A9 FF      			lda.h	#-16
         1F:C562  9D 02 25   			sta.h	_list_object_x_pos, x
 8059                        	
 8060                        		.dbg	line,	"include\routines_LEVELS.c", 396; list_object_y_pos[current_object_id] = -16;
 8061                        		__ld2x.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1F:C565  AD 01 23   			lda	__collision_PLAYER_OBJECT_end - 2
         1F:C568  0A         			asl	a
         1F:C569  AA         			tax
 8062                        		__st.waxiq	-16, _list_object_y_pos
         1F:C56A  A9 F0      			lda.l	#-16
         1F:C56C  9D 33 25   			sta.l	_list_object_y_pos, x
         1F:C56F  A9 FF      			lda.h	#-16
         1F:C571  9D 34 25   			sta.h	_list_object_y_pos, x
 8063                        	
 8064                        		.dbg	line,	"include\routines_LEVELS.c", 397; list_object_state[current_object_id] = STATE_FREE;
 8065                        		__ldx.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1F:C574  AE 01 23   			ldx	__collision_PLAYER_OBJECT_end - 2
 8066                        		__st.uaxiq	0, _list_object_state
         1F:C577  9E 53 23   			stz	_list_object_state, x
 8067                        	
 8068                        		.dbg	line,	"include\routines_LEVELS.c", 399; sgx_spr_set(current_object_id + object_start_index);
 8069                        		__ld.um		__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1F:C57A  AD 01 23   			lda	__collision_PLAYER_OBJECT_end - 2
         1F:C57D  C2         			cly
 8070                        		__add.um	_object_start_index
         1F:C57E  18         			clc
         1F:C57F  6D 37 23   			adc	_object_start_index
         1F:C582  90 01      			bcc	!+
         1F:C584  C8         			iny
         1F:C585             	!:
 8071                        		__call		_sgx_spr_set.1
         1F:C585  20 9E E8   			call	_sgx_spr_set.1
 8072                        	
 8073                        		.dbg	line,	"include\routines_LEVELS.c", 400; sgx_spr_x(list_object_x_pos[current_object_id]);
 8074                        		__ld2x.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1F:C588  AD 01 23   			lda	__collision_PLAYER_OBJECT_end - 2
         1F:C58B  0A         			asl	a
         1F:C58C  AA         			tax
 8075                        		__ld.wax	_list_object_x_pos
         1F:C58D  BD 01 25   			lda.l	_list_object_x_pos, x
         1F:C590  BC 02 25   			ldy.h	_list_object_x_pos, x
 8076                        		__call		_sgx_spr_x.1
         1F:C593  20 CB E8   			call	_sgx_spr_x.1
 8077                        	
 8078                        		.dbg	line,	"include\routines_LEVELS.c", 401; sgx_spr_y(list_object_y_pos[current_object_id]);
 8079                        		__ld2x.umq	__collision_PLAYER_OBJECT_end - 2  /* current_object_id */
         1F:C596  AD 01 23   			lda	__collision_PLAYER_OBJECT_end - 2
         1F:C599  0A         			asl	a
         1F:C59A  AA         			tax
 8080                        		__ld.wax	_list_object_y_pos
         1F:C59B  BD 33 25   			lda.l	_list_object_y_pos, x
         1F:C59E  BC 34 25   			ldy.h	_list_object_y_pos, x
 8081                        		__call		_sgx_spr_y.1
         1F:C5A1  20 DA E8   			call	_sgx_spr_y.1
 8082                        	
 8083                        		.dbg	line,	"include\routines_LEVELS.c", 402; 
 8084                        	
 8085                        		.dbg	line,	"include\routines_LEVELS.c", 404; switch(current_object_type)
 8086                        		__ld.umq	__collision_PLAYER_OBJECT_end - 3  /* current_object_type */
         1F:C5A4  AD 00 23   			lda	__collision_PLAYER_OBJECT_end - 3
 8087                        		__bra		.LL307
         1F:C5A7  4C 80 C6   			bra	.LL307
 8088                        	
 8089                        		.dbg	line,	"include\routines_LEVELS.c", 405; {
 8090                        	
 8091                        		.dbg	line,	"include\routines_LEVELS.c", 406; case TYPE_HOURGLASS:
 8092    1F:C5AA             	.LL309:
 8093                        		__case		0
 8094                        	
 8095                        		.dbg	line,	"include\routines_LEVELS.c", 407; if(seconds + 30 > 59)
 8096                        		__ld.um		_seconds
         1F:C5AA  AD 33 23   			lda	_seconds
         1F:C5AD  C2         			cly
 8097                        		__add.wi	30
         1F:C5AE  18         			clc
         1F:C5AF  69 1E      			adc.l	#30
         1F:C5B1  90 01      			bcc	!+
         1F:C5B3  C8         			iny
         1F:C5B4             	!:
 8098                        		__sgt_w.wi	59
         1F:C5B4  18         			clc			; Subtract integer+1 from Y:A.
         1F:C5B5  E9 3B      			sbc.l	#59
         1F:C5B7  98         			tya
         1F:C5B8  E9 00      			sbc.h	#59
         1F:C5BA  50 02      			bvc	!+
         1F:C5BC  49 80      			eor	#$80		; +ve if Y:A > integer (signed).
         1F:C5BE  49 80      	!:		eor	#$80
         1F:C5C0  0A         			asl	a
 8099                        		__bfalse	.LL310
         1F:C5C1  90 13      			bcc	.LL310
 8100                        	
 8101                        		.dbg	line,	"include\routines_LEVELS.c", 408; {
 8102                        	
 8103                        		.dbg	line,	"include\routines_LEVELS.c", 409; seconds = seconds + 30 - 60;
 8104                        		__ld.um		_seconds
         1F:C5C3  AD 33 23   			lda	_seconds
         1F:C5C6  C2         			cly
 8105                        		__sub.wi	30
         1F:C5C7  38         			sec
         1F:C5C8  E9 1E      			sbc.l	#30
         1F:C5CA  B0 01      			bcs	!+
         1F:C5CC  88         			dey
         1F:C5CD             	!:
 8106                        		__st.umq	_seconds
         1F:C5CD  8D 33 23   			sta	_seconds
 8107                        	
 8108                        		.dbg	line,	"include\routines_LEVELS.c", 410; minutes += 1;
 8109                        		__add_st.umiq	1, _minutes
         1F:C5D0  EE 32 23   			inc	_minutes
 8110                        	
 8111                        		.dbg	line,	"include\routines_LEVELS.c", 411; }
 8112                        	
 8113                        		.dbg	line,	"include\routines_LEVELS.c", 413; else
 8114                        		__bra		.LL311
         1F:C5D3  4C B1 C4   			bra	.LL311
 8115    1F:C5D6             	.LL310:
 8116                        	
 8117                        		.dbg	line,	"include\routines_LEVELS.c", 414; {
 8118                        	
 8119                        		.dbg	line,	"include\routines_LEVELS.c", 415; seconds += 30;
 8120                        		__add_st.umiq	30, _seconds
         1F:C5D6  18         			clc
         1F:C5D7  AD 33 23   			lda	_seconds
         1F:C5DA  69 1E      			adc	#30
         1F:C5DC  8D 33 23   			sta	_seconds
 8121                        	
 8122                        		.dbg	line,	"include\routines_LEVELS.c", 416; }
 8123    1F:C5DF             	.LL311	.alias		.LL308
 8124                        	
 8125                        		.dbg	line,	"include\routines_LEVELS.c", 418; break;
 8126                        		__bra		.LL308
         1F:C5DF  4C B1 C4   			bra	.LL308
 8127                        	
 8128                        		.dbg	line,	"include\routines_LEVELS.c", 420; case TYPE_POW:
 8129    1F:C5E2             	.LL312:
 8130                        		__case		2
 8131                        	
 8132                        		.dbg	line,	"include\routines_LEVELS.c", 421; //
 8133                        	
 8134                        		.dbg	line,	"include\routines_LEVELS.c", 422; break;
 8135                        		__bra		.LL308
         1F:C5E2  4C B1 C4   			bra	.LL308
 8136                        	
 8137                        		.dbg	line,	"include\routines_LEVELS.c", 424; case TYPE_GRAY_KEY:
 8138    1F:C5E5             	.LL313:
 8139                        		__case		4
 8140                        	
 8141                        		.dbg	line,	"include\routines_LEVELS.c", 425; key_amount += 1;
 8142                        		__add_st.umiq	1, _key_amount
         1F:C5E5  EE 30 23   			inc	_key_amount
 8143                        	
 8144                        		.dbg	line,	"include\routines_LEVELS.c", 426; display_KEY();
 8145                        		__call		_display_KEY
         1F:C5E8  20 3B FF   			call	_display_KEY
 8146                        	
 8147                        		.dbg	line,	"include\routines_LEVELS.c", 427; break;
 8148                        		__bra		.LL308
         1F:C5EB  4C B1 C4   			bra	.LL308
 8149                        	
 8150                        		.dbg	line,	"include\routines_LEVELS.c", 429; case TYPE_COIN_1:
 8151    1F:C5EE             	.LL314:
 8152                        		__case		7
 8153                        	
 8154                        		.dbg	line,	"include\routines_LEVELS.c", 430; zenny_amount += 1;
 8155                        		__add_st.wmiq	1, _zenny_amount
         1F:C5EE  EE 57 26   			inc.l	_zenny_amount
         1F:C5F1  D0 03      			bne	!+
         1F:C5F3  EE 58 26   			inc.h	_zenny_amount
         1F:C5F6             	!:
 8156                        	
 8157                        		.dbg	line,	"include\routines_LEVELS.c", 431; display_ZENNY();
 8158                        		__call		_display_ZENNY
         1F:C5F6  20 31 FF   			call	_display_ZENNY
 8159                        	
 8160                        		.dbg	line,	"include\routines_LEVELS.c", 432; break;
 8161                        		__bra		.LL308
         1F:C5F9  4C B1 C4   			bra	.LL308
 8162                        	
 8163                        		.dbg	line,	"include\routines_LEVELS.c", 434; case TYPE_COIN_5:
 8164    1F:C5FC             	.LL315:
 8165                        		__case		8
 8166                        	
 8167                        		.dbg	line,	"include\routines_LEVELS.c", 435; zenny_amount += 5;
 8168                        		__add_st.wmiq	5, _zenny_amount
         1F:C5FC  18         			clc
         1F:C5FD  AD 57 26   			lda.l	_zenny_amount
         1F:C600  69 05      			adc.l	#5
         1F:C602  8D 57 26   			sta.l	_zenny_amount
         1F:C605  90 03      			bcc	!+
         1F:C607  EE 58 26   			inc.h	_zenny_amount
         1F:C60A             	!:
 8169                        	
 8170                        		.dbg	line,	"include\routines_LEVELS.c", 436; display_ZENNY();
 8171                        		__call		_display_ZENNY
         1F:C60A  20 31 FF   			call	_display_ZENNY
 8172                        	
 8173                        		.dbg	line,	"include\routines_LEVELS.c", 437; break;
 8174                        		__bra		.LL308
         1F:C60D  4C B1 C4   			bra	.LL308
 8175                        	
 8176                        		.dbg	line,	"include\routines_LEVELS.c", 439; case TYPE_COIN_10:
 8177    1F:C610             	.LL316:
 8178                        		__case		9
 8179                        	
 8180                        		.dbg	line,	"include\routines_LEVELS.c", 440; zenny_amount += 10;
 8181                        		__add_st.wmiq	10, _zenny_amount
         1F:C610  18         			clc
         1F:C611  AD 57 26   			lda.l	_zenny_amount
         1F:C614  69 0A      			adc.l	#10
         1F:C616  8D 57 26   			sta.l	_zenny_amount
         1F:C619  90 03      			bcc	!+
         1F:C61B  EE 58 26   			inc.h	_zenny_amount
         1F:C61E             	!:
 8182                        	
 8183                        		.dbg	line,	"include\routines_LEVELS.c", 441; display_ZENNY();
 8184                        		__call		_display_ZENNY
         1F:C61E  20 31 FF   			call	_display_ZENNY
 8185                        	
 8186                        		.dbg	line,	"include\routines_LEVELS.c", 442; break;
 8187                        		__bra		.LL308
         1F:C621  4C B1 C4   			bra	.LL308
 8188                        	
 8189                        		.dbg	line,	"include\routines_LEVELS.c", 444; case TYPE_COIN_50:
 8190    1F:C624             	.LL317:
 8191                        		__case		10
 8192                        	
 8193                        		.dbg	line,	"include\routines_LEVELS.c", 445; zenny_amount += 50;
 8194                        		__add_st.wmiq	50, _zenny_amount
         1F:C624  18         			clc
         1F:C625  AD 57 26   			lda.l	_zenny_amount
         1F:C628  69 32      			adc.l	#50
         1F:C62A  8D 57 26   			sta.l	_zenny_amount
         1F:C62D  90 03      			bcc	!+
         1F:C62F  EE 58 26   			inc.h	_zenny_amount
         1F:C632             	!:
 8195                        	
 8196                        		.dbg	line,	"include\routines_LEVELS.c", 446; display_ZENNY();
 8197                        		__call		_display_ZENNY
         1F:C632  20 31 FF   			call	_display_ZENNY
 8198                        	
 8199                        		.dbg	line,	"include\routines_LEVELS.c", 447; break;
 8200                        		__bra		.LL308
         1F:C635  4C B1 C4   			bra	.LL308
 8201                        	
 8202                        		.dbg	line,	"include\routines_LEVELS.c", 449; case TYPE_COIN_100:
 8203    1F:C638             	.LL318:
 8204                        		__case		11
 8205                        	
 8206                        		.dbg	line,	"include\routines_LEVELS.c", 450; zenny_amount += 100;
 8207                        		__add_st.wmiq	100, _zenny_amount
         1F:C638  18         			clc
         1F:C639  AD 57 26   			lda.l	_zenny_amount
         1F:C63C  69 64      			adc.l	#100
         1F:C63E  8D 57 26   			sta.l	_zenny_amount
         1F:C641  90 03      			bcc	!+
         1F:C643  EE 58 26   			inc.h	_zenny_amount
         1F:C646             	!:
 8208                        	
 8209                        		.dbg	line,	"include\routines_LEVELS.c", 451; display_ZENNY();
 8210                        		__call		_display_ZENNY
         1F:C646  20 31 FF   			call	_display_ZENNY
 8211                        	
 8212                        		.dbg	line,	"include\routines_LEVELS.c", 452; break;
 8213                        		__bra		.LL308
         1F:C649  4C B1 C4   			bra	.LL308
 8214                        	
 8215                        		.dbg	line,	"include\routines_LEVELS.c", 454; case TYPE_COIN_500:
 8216    1F:C64C             	.LL319:
 8217                        		__case		12
 8218                        	
 8219                        		.dbg	line,	"include\routines_LEVELS.c", 455; zenny_amount += 500;
 8220                        		__add_st.wmiq	500, _zenny_amount
         1F:C64C  18         			clc
         1F:C64D  AD 57 26   			lda.l	_zenny_amount
         1F:C650  69 F4      			adc.l	#500
         1F:C652  8D 57 26   			sta.l	_zenny_amount
         1F:C655  AD 58 26   			lda.h	_zenny_amount
         1F:C658  69 01      			adc.h	#500
         1F:C65A  8D 58 26   			sta.h	_zenny_amount
 8221                        	
 8222                        		.dbg	line,	"include\routines_LEVELS.c", 456; display_ZENNY();
 8223                        		__call		_display_ZENNY
         1F:C65D  20 31 FF   			call	_display_ZENNY
 8224                        	
 8225                        		.dbg	line,	"include\routines_LEVELS.c", 457; break;
 8226                        		__bra		.LL308
         1F:C660  4C B1 C4   			bra	.LL308
 8227                        	
 8228                        		.dbg	line,	"include\routines_LEVELS.c", 459; case TYPE_COIN_1000:
 8229    1F:C663             	.LL320:
 8230                        		__case		13
 8231                        	
 8232                        		.dbg	line,	"include\routines_LEVELS.c", 460; zenny_amount += 1000;
 8233                        		__add_st.wmiq	1000, _zenny_amount
         1F:C663  18         			clc
         1F:C664  AD 57 26   			lda.l	_zenny_amount
         1F:C667  69 E8      			adc.l	#1000
         1F:C669  8D 57 26   			sta.l	_zenny_amount
         1F:C66C  AD 58 26   			lda.h	_zenny_amount
         1F:C66F  69 03      			adc.h	#1000
         1F:C671  8D 58 26   			sta.h	_zenny_amount
 8234                        	
 8235                        		.dbg	line,	"include\routines_LEVELS.c", 461; display_ZENNY();
 8236                        		__call		_display_ZENNY
         1F:C674  20 31 FF   			call	_display_ZENNY
 8237                        	
 8238                        		.dbg	line,	"include\routines_LEVELS.c", 462; break;
 8239                        		__bra		.LL308
         1F:C677  4C B1 C4   			bra	.LL308
 8240                        	
 8241                        		.dbg	line,	"include\routines_LEVELS.c", 464; case TYPE_YASHICHI:
 8242    1F:C67A             	.LL321:
 8243                        		__case		14
 8244                        	
 8245                        		.dbg	line,	"include\routines_LEVELS.c", 465; life_amount += 1;
 8246                        		__add_st.umiq	1, _life_amount
         1F:C67A  EE 2E 23   			inc	_life_amount
 8247                        	
 8248                        		.dbg	line,	"include\routines_LEVELS.c", 466; break;
 8249                        		__bra		.LL308
         1F:C67D  4C B1 C4   			bra	.LL308
 8250                        	
 8251                        		.dbg	line,	"include\routines_LEVELS.c", 467; }
 8252    1F:C680             	.LL307:
 8253                        		__switch_r.ur	0, 14
         1F:C680  C9 0F      			cmp	#(14 - 0) + 1
         1F:C682  90 02      			bcc	!found+
         1F:C684  A9 0F      	!default:	lda	#(14 - 0) + 1
         1F:C686  0A         	!found:		asl	a
         1F:C687  AA         			tax
         1F:C688  7C 8B C6   			jmp	[!table+, x]
 8254                        	
 8255    1F:C68B  AA C5      	!table:		dw	.LL309, .LL308, .LL312, .LL308, .LL313, .LL308, .LL308, .LL314
         1F:C68D  B1 C4       
         1F:C68F  E2 C5       
         1F:C691  B1 C4       
         1F:C693  E5 C5       
         1F:C695  B1 C4       
         1F:C697  B1 C4       
         1F:C699  EE C5       
 8256    1F:C69B  FC C5      			dw	.LL315, .LL316, .LL317, .LL318, .LL319, .LL320, .LL321
         1F:C69D  10 C6       
         1F:C69F  24 C6       
         1F:C6A1  38 C6       
         1F:C6A3  4C C6       
         1F:C6A5  63 C6       
         1F:C6A7  7A C6       
 8257    1F:C6A9  B1 C4      			dw	.LL308
 8258    1F:C6AB             	.LL308	.alias		.LL301
 8259                        	
 8260                        		.dbg	line,	"include\routines_LEVELS.c", 468; }
 8261                        	
 8262                        		.dbg	line,	"include\routines_LEVELS.c", 469; }
 8263    1F:C6AB             	.LL306	.alias		.LL301
 8264                        	
 8265                        		.dbg	line,	"include\routines_LEVELS.c", 470; }
 8266    1F:C6AB             	.LL305	.alias		.LL301
 8267                        	
 8268                        		.dbg	line,	"include\routines_LEVELS.c", 471; }
 8269    1F:C6AB             	.LL304	.alias		.LL301
 8270                        		__bra		.LL301
         1F:C6AB  4C B1 C4   			bra	.LL301
 8271    1F:C6AE             	.LL303:
 8272                        	
 8273                        		.dbg	line,	"include\routines_LEVELS.c", 472; }
 8274                        	
 8275                        		.dbg	line,	"include\routines_LEVELS.c", 473; }
 8276    1F:C6AE             	.LL299:
 8277    1F:C6AE             	.LL298:
 8278                        		__return	0
         1F:C6AE  4C EF FF   			jmp	leave_proc
 8279                        		.dbg	clear
 8280                        		.endp
 8281               2300     		.bss
 8282    F8:2300             			ds	3
 8283    F8:2303             	__collision_PLAYER_OBJECT_end:
 8284               E31D     		.code
 8285                        		.pceas
 8286                        	
 8287                        		.dbg	line,	"include\routines_LEVELS.c", 475; // CHECK COLLISION PLAYER -> NPCS //
 8288                        		.dbg	line,	"include\routines_LEVELS.c", 476; void collision_PLAYER_NPC()
 8289                        		.dbg	line,	"include\routines_LEVELS.c", 477; {
 8290                        	;***********************
 8291                        	;***********************
 8292                        	
 8293                        		.hucc
 8294    1F:CC4A             		.proc		_collision_PLAYER_NPC
 8295                        		__enter		_collision_PLAYER_NPC
 8296                        	
 8297                        		.dbg	line,	"include\routines_LEVELS.c", 478; if(onscreen_npc_number != 0)
 8298                        		__tst.um	_onscreen_npc_number
         1F:CC4A  AD D4 23   			lda	_onscreen_npc_number
         1F:CC4D  C9 01      			cmp	#1
 8299                        		__bfalse	.LL323
         1F:CC4F  B0 03 4C 8C			bcc	.LL323
         1F:CC53  CD          
 8300                        	
 8301                        		.dbg	line,	"include\routines_LEVELS.c", 479; {
 8302                        	
 8303                        		.dbg	line,	"include\routines_LEVELS.c", 480; if(player_state == STATE_IDLE || player_state == STATE_WALK)
 8304                        		__not.um	_player_state
         1F:CC54  AD 19 23   			lda	_player_state
         1F:CC57  18         			clc
         1F:CC58  D0 01      			bne	!+
         1F:CC5A  38         			sec
         1F:CC5B             	!:
 8305                        		__btrue		.LL325
         1F:CC5B  B0 08      			bcs	.LL325
 8306                        		__ld.umq	_player_state
         1F:CC5D  AD 19 23   			lda	_player_state
 8307                        		__equ_b.uiq	1
         1F:CC60  C9 01      			cmp	#1
         1F:CC62  F0 01      			beq	!+
         1F:CC64  18         			clc
         1F:CC65             	!:
 8308    1F:CC65             	.LL325:
 8309                        		__bfalse	.LL324
         1F:CC65  B0 03 4C 8C			bcc	.LL324
         1F:CC69  CD          
 8310                        	
 8311                        		.dbg	line,	"include\routines_LEVELS.c", 481; {
 8312                        	
 8313                        		.dbg	line,	"include\routines_LEVELS.c", 482; char i,j;
 8314                        	
 8315                        		.dbg	line,	"include\routines_LEVELS.c", 483; char current_npc_id;
 8316                        	
 8317                        		.dbg	line,	"include\routines_LEVELS.c", 484; char current_npc_type;
 8318                        	
 8319                        		.dbg	line,	"include\routines_LEVELS.c", 486; for(i=0 ; i<onscreen_npc_number ; i++)
 8320                        		__st.umiq	0, __collision_PLAYER_NPC_end - 1  /* i */
         1F:CC6A  9C 23 2C   			stz	__collision_PLAYER_NPC_end - 1
 8321    1F:CC6D             	.LL326:
 8322                        		__ld.umq	__collision_PLAYER_NPC_end - 1  /* i */
         1F:CC6D  AD 23 2C   			lda	__collision_PLAYER_NPC_end - 1
 8323                        		__ult_b.umq	_onscreen_npc_number
         1F:CC70  CD D4 23   			cmp	_onscreen_npc_number		; Subtract memory from A.
         1F:CC73  6A         			ror	a		; CC if A < memory.
         1F:CC74  49 80      			eor	#$80
         1F:CC76  2A         			rol	a
 8324                        		__btrue		.LL328
         1F:CC77  B0 08      			bcs	.LL328
 8325                        		__bra		.LL329
         1F:CC79  4C 8C CD   			bra	.LL329
 8326    1F:CC7C             	.LL327:
 8327                        		__inc.umq	__collision_PLAYER_NPC_end - 1  /* i */
         1F:CC7C  EE 23 2C   			inc	__collision_PLAYER_NPC_end - 1
 8328                        		__bra		.LL326
         1F:CC7F  80 EC      			bra	.LL326
 8329    1F:CC81             	.LL328:
 8330                        	
 8331                        		.dbg	line,	"include\routines_LEVELS.c", 487; {
 8332                        	
 8333                        		.dbg	line,	"include\routines_LEVELS.c", 488; // RETRIEVE NPC INDEX IN THE LIST //
 8334                        	
 8335                        		.dbg	line,	"include\routines_LEVELS.c", 489; current_npc_id = list_onscreen_npc[i];
 8336                        		__ldx.umq	__collision_PLAYER_NPC_end - 1  /* i */
         1F:CC81  AE 23 2C   			ldx	__collision_PLAYER_NPC_end - 1
 8337                        		__ld.uax	_list_onscreen_npc
         1F:CC84  BD E8 23   			lda	_list_onscreen_npc, x
         1F:CC87  C2         			cly
 8338                        		__st.umq	__collision_PLAYER_NPC_end - 3  /* current_npc_id */
         1F:CC88  8D 21 2C   			sta	__collision_PLAYER_NPC_end - 3
 8339                        	
 8340                        		.dbg	line,	"include\routines_LEVELS.c", 491; if(list_npc_state[current_npc_id] == STATE_ACTIVE)
 8341                        		__ldx.umq	__collision_PLAYER_NPC_end - 3  /* current_npc_id */
         1F:CC8B  AE 21 2C   			ldx	__collision_PLAYER_NPC_end - 3
 8342                        		__ld.uaxq	_list_npc_state
         1F:CC8E  BD DF 23   			lda	_list_npc_state, x
 8343                        		__equ_b.uiq	1
         1F:CC91  C9 01      			cmp	#1
         1F:CC93  F0 01      			beq	!+
         1F:CC95  18         			clc
         1F:CC96             	!:
 8344                        		__bfalse	.LL330
         1F:CC96  90 E4      			bcc	.LL330
 8345                        	
 8346                        		.dbg	line,	"include\routines_LEVELS.c", 492; {
 8347                        	
 8348                        		.dbg	line,	"include\routines_LEVELS.c", 493; // RETRIEVE NPC TYPE //
 8349                        	
 8350                        		.dbg	line,	"include\routines_LEVELS.c", 494; current_npc_type = list_npc_type[current_npc_id];
 8351                        		__ldx.umq	__collision_PLAYER_NPC_end - 3  /* current_npc_id */
         1F:CC98  AE 21 2C   			ldx	__collision_PLAYER_NPC_end - 3
 8352                        		__ld.uax	_list_npc_type
         1F:CC9B  BD D6 23   			lda	_list_npc_type, x
         1F:CC9E  C2         			cly
 8353                        		__st.umq	__collision_PLAYER_NPC_end - 4  /* current_npc_type */
         1F:CC9F  8D 20 2C   			sta	__collision_PLAYER_NPC_end - 4
 8354                        	
 8355                        		.dbg	line,	"include\routines_LEVELS.c", 496; if(abs( (player_pos_x + 16) - (list_npc_x_pos[current_npc_id] + 16) ) < OBJECT_MARGIN)
 8356                        		__ld.wm		_player_pos_x
         1F:CCA2  AD F7 24   			lda.l	_player_pos_x
         1F:CCA5  AC F8 24   			ldy.h	_player_pos_x
 8357                        		__add.wi	16
         1F:CCA8  18         			clc
         1F:CCA9  69 10      			adc.l	#16
         1F:CCAB  90 01      			bcc	!+
         1F:CCAD  C8         			iny
         1F:CCAE             	!:
 8358                        		__push.wr
         1F:CCAE  5A         			phy
         1F:CCAF  48         			pha
 8359                        		__ld2x.umq	__collision_PLAYER_NPC_end - 3  /* current_npc_id */
         1F:CCB0  AD 21 2C   			lda	__collision_PLAYER_NPC_end - 3
         1F:CCB3  0A         			asl	a
         1F:CCB4  AA         			tax
 8360                        		__ld.wax	_list_npc_x_pos
         1F:CCB5  BD 09 26   			lda.l	_list_npc_x_pos, x
         1F:CCB8  BC 0A 26   			ldy.h	_list_npc_x_pos, x
 8361                        		__add.wi	16
         1F:CCBB  18         			clc
         1F:CCBC  69 10      			adc.l	#16
         1F:CCBE  90 01      			bcc	!+
         1F:CCC0  C8         			iny
         1F:CCC1             	!:
 8362                        		__sub.wt
         1F:CCC1  BA         			tsx
         1F:CCC2  38         			sec
         1F:CCC3  49 FF      			eor	#$FF
         1F:CCC5  7D 01 21   			adc.l	__tos, x
         1F:CCC8  42         			say
         1F:CCC9  49 FF      			eor	#$FF
         1F:CCCB  7D 02 21   			adc.h	__tos, x
         1F:CCCE  42         			say
         1F:CCCF  E8         			inx
         1F:CCD0  E8         			inx
         1F:CCD1  9A         			txs
 8363                        		__call		_abs.1
         1F:CCD2  20 1D E5   			call	_abs.1
 8364                        		__slt_w.wi	10
         1F:CCD5  C9 0A      			cmp.l	#10		; Subtract integer from Y:A.
         1F:CCD7  98         			tya
         1F:CCD8  E9 00      			sbc.h	#10
         1F:CCDA  50 02      			bvc	!+
         1F:CCDC  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1F:CCDE  0A         	!:		asl	a
 8365                        		__bfalse	.LL331
         1F:CCDF  90 9B      			bcc	.LL331
 8366                        	
 8367                        		.dbg	line,	"include\routines_LEVELS.c", 497; {
 8368                        	
 8369                        		.dbg	line,	"include\routines_LEVELS.c", 498; if(abs( (player_pos_y + 16) - (list_npc_y_pos[current_npc_id] + 16) ) < OBJECT_MARGIN)
 8370                        		__ld.wm		_player_pos_y
         1F:CCE1  AD F9 24   			lda.l	_player_pos_y
         1F:CCE4  AC FA 24   			ldy.h	_player_pos_y
 8371                        		__add.wi	16
         1F:CCE7  18         			clc
         1F:CCE8  69 10      			adc.l	#16
         1F:CCEA  90 01      			bcc	!+
         1F:CCEC  C8         			iny
         1F:CCED             	!:
 8372                        		__push.wr
         1F:CCED  5A         			phy
         1F:CCEE  48         			pha
 8373                        		__ld2x.umq	__collision_PLAYER_NPC_end - 3  /* current_npc_id */
         1F:CCEF  AD 21 2C   			lda	__collision_PLAYER_NPC_end - 3
         1F:CCF2  0A         			asl	a
         1F:CCF3  AA         			tax
 8374                        		__ld.wax	_list_npc_y_pos
         1F:CCF4  BD 1B 26   			lda.l	_list_npc_y_pos, x
         1F:CCF7  BC 1C 26   			ldy.h	_list_npc_y_pos, x
 8375                        		__add.wi	16
         1F:CCFA  18         			clc
         1F:CCFB  69 10      			adc.l	#16
         1F:CCFD  90 01      			bcc	!+
         1F:CCFF  C8         			iny
         1F:CD00             	!:
 8376                        		__sub.wt
         1F:CD00  BA         			tsx
         1F:CD01  38         			sec
         1F:CD02  49 FF      			eor	#$FF
         1F:CD04  7D 01 21   			adc.l	__tos, x
         1F:CD07  42         			say
         1F:CD08  49 FF      			eor	#$FF
         1F:CD0A  7D 02 21   			adc.h	__tos, x
         1F:CD0D  42         			say
         1F:CD0E  E8         			inx
         1F:CD0F  E8         			inx
         1F:CD10  9A         			txs
 8377                        		__call		_abs.1
         1F:CD11  20 1D E5   			call	_abs.1
 8378                        		__slt_w.wi	10
         1F:CD14  C9 0A      			cmp.l	#10		; Subtract integer from Y:A.
         1F:CD16  98         			tya
         1F:CD17  E9 00      			sbc.h	#10
         1F:CD19  50 02      			bvc	!+
         1F:CD1B  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1F:CD1D  0A         	!:		asl	a
 8379                        		__bfalse	.LL332
         1F:CD1E  B0 03 4C 7C			bcc	.LL332
         1F:CD22  CC          
 8380                        	
 8381                        		.dbg	line,	"include\routines_LEVELS.c", 499; {               
 8382                        	
 8383                        		.dbg	line,	"include\routines_LEVELS.c", 500; switch(current_npc_type)
 8384                        		__ld.umq	__collision_PLAYER_NPC_end - 4  /* current_npc_type */
         1F:CD23  AD 20 2C   			lda	__collision_PLAYER_NPC_end - 4
 8385                        		__bra		.LL333
         1F:CD26  80 50      			bra	.LL333
 8386                        	
 8387                        		.dbg	line,	"include\routines_LEVELS.c", 501; {
 8388                        	
 8389                        		.dbg	line,	"include\routines_LEVELS.c", 502; case TYPE_NPC_REWARD:
 8390    1F:CD28             	.LL335:
 8391                        		__case		0
 8392                        	
 8393                        		.dbg	line,	"include\routines_LEVELS.c", 503; //
 8394                        	
 8395                        		.dbg	line,	"include\routines_LEVELS.c", 504; break;
 8396                        		__bra		.LL334
         1F:CD28  4C 7C CC   			bra	.LL334
 8397                        	
 8398                        		.dbg	line,	"include\routines_LEVELS.c", 506; case TYPE_NPC_SHOP:
 8399    1F:CD2B             	.LL336:
 8400                        		__case		1
 8401                        	
 8402                        		.dbg	line,	"include\routines_LEVELS.c", 507; selected_npc = current_npc_id + npc_start_index;                                
 8403                        		__ld.um		__collision_PLAYER_NPC_end - 3  /* current_npc_id */
         1F:CD2B  AD 21 2C   			lda	__collision_PLAYER_NPC_end - 3
         1F:CD2E  C2         			cly
 8404                        		__add.um	_npc_start_index
         1F:CD2F  18         			clc
         1F:CD30  6D D2 23   			adc	_npc_start_index
         1F:CD33  90 01      			bcc	!+
         1F:CD35  C8         			iny
         1F:CD36             	!:
 8405                        		__st.umq	_selected_npc
         1F:CD36  8D D5 23   			sta	_selected_npc
 8406                        	
 8407                        		.dbg	line,	"include\routines_LEVELS.c", 508; minutes_backup = minutes;
 8408                        		__ld.um		_minutes
         1F:CD39  AD 32 23   			lda	_minutes
         1F:CD3C  C2         			cly
 8409                        		__st.umq	_minutes_backup
         1F:CD3D  8D 35 23   			sta	_minutes_backup
 8410                        	
 8411                        		.dbg	line,	"include\routines_LEVELS.c", 509; seconds_backup = seconds;
 8412                        		__ld.um		_seconds
         1F:CD40  AD 33 23   			lda	_seconds
         1F:CD43  C2         			cly
 8413                        		__st.umq	_seconds_backup
         1F:CD44  8D 36 23   			sta	_seconds_backup
 8414                        	
 8415                        		.dbg	line,	"include\routines_LEVELS.c", 510; list_npc_state[current_npc_id] = STATE_FREE;
 8416                        		__ldx.umq	__collision_PLAYER_NPC_end - 3  /* current_npc_id */
         1F:CD47  AE 21 2C   			ldx	__collision_PLAYER_NPC_end - 3
 8417                        		__st.uaxiq	0, _list_npc_state
         1F:CD4A  9E DF 23   			stz	_list_npc_state, x
 8418                        	
 8419                        		.dbg	line,	"include\routines_LEVELS.c", 511; camera_pos_x_backup = sgx_map_pxl_x;
 8420                        		__ld.wm		_sgx_map_pxl_x
         1F:CD4D  AD DA 26   			lda.l	_sgx_map_pxl_x
         1F:CD50  AC DB 26   			ldy.h	_sgx_map_pxl_x
 8421                        		__st.wmq	_camera_pos_x_backup
         1F:CD53  8D FD 24   			sta.l	_camera_pos_x_backup
         1F:CD56  8C FE 24   			sty.h	_camera_pos_x_backup
 8422                        	
 8423                        		.dbg	line,	"include\routines_LEVELS.c", 512; camera_pos_y_backup = list_npc_y_pos_ref[current_npc_id] - 128;
 8424                        		__ld2x.umq	__collision_PLAYER_NPC_end - 3  /* current_npc_id */
         1F:CD59  AD 21 2C   			lda	__collision_PLAYER_NPC_end - 3
         1F:CD5C  0A         			asl	a
         1F:CD5D  AA         			tax
 8425                        		__ld.wax	_list_npc_y_pos_ref
         1F:CD5E  BD 3F 26   			lda.l	_list_npc_y_pos_ref, x
         1F:CD61  BC 40 26   			ldy.h	_list_npc_y_pos_ref, x
 8426                        		__sub.wi	128
         1F:CD64  38         			sec
         1F:CD65  E9 80      			sbc.l	#128
         1F:CD67  B0 01      			bcs	!+
         1F:CD69  88         			dey
         1F:CD6A             	!:
 8427                        		__st.wmq	_camera_pos_y_backup
         1F:CD6A  8D FF 24   			sta.l	_camera_pos_y_backup
         1F:CD6D  8C 00 25   			sty.h	_camera_pos_y_backup
 8428                        	
 8429                        		.dbg	line,	"include\routines_LEVELS.c", 513; sequence_id = SEQUENCE_ENTER_SHOP;
 8430                        		__st.umiq	4, _sequence_id
         1F:CD70  A9 04      			lda.l	#4
         1F:CD72  8D 13 23   			sta	_sequence_id
 8431                        	
 8432                        		.dbg	line,	"include\routines_LEVELS.c", 514; break;
 8433                        		__bra		.LL334
         1F:CD75  4C 7C CC   			bra	.LL334
 8434                        	
 8435                        		.dbg	line,	"include\routines_LEVELS.c", 515; }
 8436    1F:CD78             	.LL333:
 8437                        		__switch_r.ur	0, 1
         1F:CD78  C9 02      			cmp	#(1 - 0) + 1
         1F:CD7A  90 02      			bcc	!found+
         1F:CD7C  A9 02      	!default:	lda	#(1 - 0) + 1
         1F:CD7E  0A         	!found:		asl	a
         1F:CD7F  AA         			tax
         1F:CD80  7C 83 CD   			jmp	[!table+, x]
 8438                        	
 8439    1F:CD83  28 CD      	!table:		dw	.LL335, .LL336
         1F:CD85  2B CD       
 8440    1F:CD87  7C CC      			dw	.LL334
 8441    1F:CD89             	.LL334	.alias		.LL327
 8442                        	
 8443                        		.dbg	line,	"include\routines_LEVELS.c", 516; }
 8444                        	
 8445                        		.dbg	line,	"include\routines_LEVELS.c", 517; }
 8446    1F:CD89             	.LL332	.alias		.LL327
 8447                        	
 8448                        		.dbg	line,	"include\routines_LEVELS.c", 518; }
 8449    1F:CD89             	.LL331	.alias		.LL327
 8450                        	
 8451                        		.dbg	line,	"include\routines_LEVELS.c", 519; }
 8452    1F:CD89             	.LL330	.alias		.LL327
 8453                        		__bra		.LL327
         1F:CD89  4C 7C CC   			bra	.LL327
 8454    1F:CD8C             	.LL329:
 8455                        	
 8456                        		.dbg	line,	"include\routines_LEVELS.c", 520; }
 8457                        	
 8458                        		.dbg	line,	"include\routines_LEVELS.c", 521; }
 8459    1F:CD8C             	.LL324:
 8460                        	
 8461                        		.dbg	line,	"include\routines_LEVELS.c", 522; }
 8462    1F:CD8C             	.LL323:
 8463    1F:CD8C             	.LL322:
 8464                        		__return	0
         1F:CD8C  4C EF FF   			jmp	leave_proc
 8465                        		.dbg	clear
 8466                        		.endp
 8467               2303     		.bss
 8468    F8:2303             	__collision_PLAYER_NPC_end	.alias	leaf_stack
 8469               E31D     		.code
 8470                        		.pceas
 8471                        	
 8472                        		.dbg	line,	"include\routines_LEVELS.c", 524; // CHECK COLLISION WEAPON -> OBJECTS //
 8473                        		.dbg	line,	"include\routines_LEVELS.c", 525; void collision_WEAPON_OBJECTS()
 8474                        		.dbg	line,	"include\routines_LEVELS.c", 526; {
 8475                        	;***********************
 8476                        	;***********************
 8477                        	
 8478                        		.hucc
 8479    1F:CECF             		.proc		_collision_WEAPON_OBJECTS
 8480                        		__enter		_collision_WEAPON_OBJECTS
 8481                        	
 8482                        		.dbg	line,	"include\routines_LEVELS.c", 527; if(onscreen_object_number != 0)
 8483                        		__tst.um	_onscreen_object_number
         1F:CECF  AD 39 23   			lda	_onscreen_object_number
         1F:CED2  C9 01      			cmp	#1
 8484                        		__bfalse	.LL338
         1F:CED4  B0 03 4C 07			bcc	.LL338
         1F:CED8  D0          
 8485                        	
 8486                        		.dbg	line,	"include\routines_LEVELS.c", 528; {
 8487                        	
 8488                        		.dbg	line,	"include\routines_LEVELS.c", 529; char i;
 8489                        	
 8490                        		.dbg	line,	"include\routines_LEVELS.c", 530; char current_object_id;
 8491                        	
 8492                        		.dbg	line,	"include\routines_LEVELS.c", 531; char current_object_type;
 8493                        	
 8494                        		.dbg	line,	"include\routines_LEVELS.c", 532; int weapon_pos_x;
 8495                        	
 8496                        		.dbg	line,	"include\routines_LEVELS.c", 533; int weapon_pos_y;
 8497                        	
 8498                        		.dbg	line,	"include\routines_LEVELS.c", 535; for(i=0 ; i<onscreen_object_number ; i++)
 8499                        		__st.umiq	0, __collision_WEAPON_OBJECTS_end - 1  /* i */
         1F:CED9  9C 23 2C   			stz	__collision_WEAPON_OBJECTS_end - 1
 8500    1F:CEDC             	.LL339:
 8501                        		__ld.umq	__collision_WEAPON_OBJECTS_end - 1  /* i */
         1F:CEDC  AD 23 2C   			lda	__collision_WEAPON_OBJECTS_end - 1
 8502                        		__ult_b.umq	_onscreen_object_number
         1F:CEDF  CD 39 23   			cmp	_onscreen_object_number		; Subtract memory from A.
         1F:CEE2  6A         			ror	a		; CC if A < memory.
         1F:CEE3  49 80      			eor	#$80
         1F:CEE5  2A         			rol	a
 8503                        		__btrue		.LL341
         1F:CEE6  B0 08      			bcs	.LL341
 8504                        		__bra		.LL342
         1F:CEE8  4C 07 D0   			bra	.LL342
 8505    1F:CEEB             	.LL340:
 8506                        		__inc.umq	__collision_WEAPON_OBJECTS_end - 1  /* i */
         1F:CEEB  EE 23 2C   			inc	__collision_WEAPON_OBJECTS_end - 1
 8507                        		__bra		.LL339
         1F:CEEE  80 EC      			bra	.LL339
 8508    1F:CEF0             	.LL341:
 8509                        	
 8510                        		.dbg	line,	"include\routines_LEVELS.c", 536; {
 8511                        	
 8512                        		.dbg	line,	"include\routines_LEVELS.c", 537; // RETRIEVE OBJECT INDEX IN THE LIST //
 8513                        	
 8514                        		.dbg	line,	"include\routines_LEVELS.c", 538; current_object_id = list_onscreen_object[i];
 8515                        		__ldx.umq	__collision_WEAPON_OBJECTS_end - 1  /* i */
         1F:CEF0  AE 23 2C   			ldx	__collision_WEAPON_OBJECTS_end - 1
 8516                        		__ld.uax	_list_onscreen_object
         1F:CEF3  BD B7 23   			lda	_list_onscreen_object, x
         1F:CEF6  C2         			cly
 8517                        		__st.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:CEF7  8D 22 2C   			sta	__collision_WEAPON_OBJECTS_end - 2
 8518                        	
 8519                        		.dbg	line,	"include\routines_LEVELS.c", 539; // RETRIEVE OBJECT TYPE //
 8520                        	
 8521                        		.dbg	line,	"include\routines_LEVELS.c", 540; current_object_type = list_object_type[current_object_id];
 8522                        		__ldx.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:CEFA  AE 22 2C   			ldx	__collision_WEAPON_OBJECTS_end - 2
 8523                        		__ld.uax	_list_object_type
         1F:CEFD  BD 3A 23   			lda	_list_object_type, x
         1F:CF00  C2         			cly
 8524                        		__st.umq	__collision_WEAPON_OBJECTS_end - 3  /* current_object_type */
         1F:CF01  8D 21 2C   			sta	__collision_WEAPON_OBJECTS_end - 3
 8525                        	
 8526                        		.dbg	line,	"include\routines_LEVELS.c", 542; if(current_object_type == TYPE_POT)
 8527                        		__ld.umq	__collision_WEAPON_OBJECTS_end - 3  /* current_object_type */
         1F:CF04  AD 21 2C   			lda	__collision_WEAPON_OBJECTS_end - 3
 8528                        		__equ_b.uiq	1
         1F:CF07  C9 01      			cmp	#1
         1F:CF09  F0 01      			beq	!+
         1F:CF0B  18         			clc
         1F:CF0C             	!:
 8529                        		__bfalse	.LL343
         1F:CF0C  90 DD      			bcc	.LL343
 8530                        	
 8531                        		.dbg	line,	"include\routines_LEVELS.c", 543; {
 8532                        	
 8533                        		.dbg	line,	"include\routines_LEVELS.c", 544; if(list_object_state[current_object_id] == STATE_ACTIVE)
 8534                        		__ldx.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:CF0E  AE 22 2C   			ldx	__collision_WEAPON_OBJECTS_end - 2
 8535                        		__ld.uaxq	_list_object_state
         1F:CF11  BD 53 23   			lda	_list_object_state, x
 8536                        		__equ_b.uiq	1
         1F:CF14  C9 01      			cmp	#1
         1F:CF16  F0 01      			beq	!+
         1F:CF18  18         			clc
         1F:CF19             	!:
 8537                        		__bfalse	.LL344
         1F:CF19  90 D0      			bcc	.LL344
 8538                        	
 8539                        		.dbg	line,	"include\routines_LEVELS.c", 545; {
 8540                        	
 8541                        		.dbg	line,	"include\routines_LEVELS.c", 546; // GET WEAPON POSITION //
 8542                        	
 8543                        		.dbg	line,	"include\routines_LEVELS.c", 547; spr_set(weapon_id);
 8544                        		__ld.umq	_weapon_id
         1F:CF1B  AD 27 23   			lda	_weapon_id
 8545                        		__call		_spr_set.1
         1F:CF1E  20 F1 E7   			call	_spr_set.1
 8546                        	
 8547                        		.dbg	line,	"include\routines_LEVELS.c", 548; weapon_pos_x = spr_get_x();
 8548                        		__call		_spr_get_x
         1F:CF21  20 7F E8   			call	_spr_get_x
 8549                        		__st.wmq	__collision_WEAPON_OBJECTS_end - 5  /* weapon_pos_x */
         1F:CF24  8D 1F 2C   			sta.l	__collision_WEAPON_OBJECTS_end - 5
         1F:CF27  8C 20 2C   			sty.h	__collision_WEAPON_OBJECTS_end - 5
 8550                        	
 8551                        		.dbg	line,	"include\routines_LEVELS.c", 549; weapon_pos_y = spr_get_y();
 8552                        		__call		_spr_get_y
         1F:CF2A  20 8F E8   			call	_spr_get_y
 8553                        		__st.wmq	__collision_WEAPON_OBJECTS_end - 7  /* weapon_pos_y */
         1F:CF2D  8D 1D 2C   			sta.l	__collision_WEAPON_OBJECTS_end - 7
         1F:CF30  8C 1E 2C   			sty.h	__collision_WEAPON_OBJECTS_end - 7
 8554                        	
 8555                        		.dbg	line,	"include\routines_LEVELS.c", 551; if( abs( (weapon_pos_x + 8) - (list_object_x_pos[current_object_id] + 8) ) < 16 )
 8556                        		__ld.wm		__collision_WEAPON_OBJECTS_end - 5  /* weapon_pos_x */
         1F:CF33  AD 1F 2C   			lda.l	__collision_WEAPON_OBJECTS_end - 5
         1F:CF36  AC 20 2C   			ldy.h	__collision_WEAPON_OBJECTS_end - 5
 8557                        		__add.wi	8
         1F:CF39  18         			clc
         1F:CF3A  69 08      			adc.l	#8
         1F:CF3C  90 01      			bcc	!+
         1F:CF3E  C8         			iny
         1F:CF3F             	!:
 8558                        		__push.wr
         1F:CF3F  5A         			phy
         1F:CF40  48         			pha
 8559                        		__ld2x.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:CF41  AD 22 2C   			lda	__collision_WEAPON_OBJECTS_end - 2
         1F:CF44  0A         			asl	a
         1F:CF45  AA         			tax
 8560                        		__ld.wax	_list_object_x_pos
         1F:CF46  BD 01 25   			lda.l	_list_object_x_pos, x
         1F:CF49  BC 02 25   			ldy.h	_list_object_x_pos, x
 8561                        		__add.wi	8
         1F:CF4C  18         			clc
         1F:CF4D  69 08      			adc.l	#8
         1F:CF4F  90 01      			bcc	!+
         1F:CF51  C8         			iny
         1F:CF52             	!:
 8562                        		__sub.wt
         1F:CF52  BA         			tsx
         1F:CF53  38         			sec
         1F:CF54  49 FF      			eor	#$FF
         1F:CF56  7D 01 21   			adc.l	__tos, x
         1F:CF59  42         			say
         1F:CF5A  49 FF      			eor	#$FF
         1F:CF5C  7D 02 21   			adc.h	__tos, x
         1F:CF5F  42         			say
         1F:CF60  E8         			inx
         1F:CF61  E8         			inx
         1F:CF62  9A         			txs
 8563                        		__call		_abs.1
         1F:CF63  20 1D E5   			call	_abs.1
 8564                        		__slt_w.wi	16
         1F:CF66  C9 10      			cmp.l	#16		; Subtract integer from Y:A.
         1F:CF68  98         			tya
         1F:CF69  E9 00      			sbc.h	#16
         1F:CF6B  50 02      			bvc	!+
         1F:CF6D  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1F:CF6F  0A         	!:		asl	a
 8565                        		__bfalse	.LL345
         1F:CF70  B0 03 4C EB			bcc	.LL345
         1F:CF74  CE          
 8566                        	
 8567                        		.dbg	line,	"include\routines_LEVELS.c", 552; {
 8568                        	
 8569                        		.dbg	line,	"include\routines_LEVELS.c", 553; if( abs( (weapon_pos_y + 8) - (list_object_y_pos[current_object_id] + 8) ) < 8 )
 8570                        		__ld.wm		__collision_WEAPON_OBJECTS_end - 7  /* weapon_pos_y */
         1F:CF75  AD 1D 2C   			lda.l	__collision_WEAPON_OBJECTS_end - 7
         1F:CF78  AC 1E 2C   			ldy.h	__collision_WEAPON_OBJECTS_end - 7
 8571                        		__add.wi	8
         1F:CF7B  18         			clc
         1F:CF7C  69 08      			adc.l	#8
         1F:CF7E  90 01      			bcc	!+
         1F:CF80  C8         			iny
         1F:CF81             	!:
 8572                        		__push.wr
         1F:CF81  5A         			phy
         1F:CF82  48         			pha
 8573                        		__ld2x.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:CF83  AD 22 2C   			lda	__collision_WEAPON_OBJECTS_end - 2
         1F:CF86  0A         			asl	a
         1F:CF87  AA         			tax
 8574                        		__ld.wax	_list_object_y_pos
         1F:CF88  BD 33 25   			lda.l	_list_object_y_pos, x
         1F:CF8B  BC 34 25   			ldy.h	_list_object_y_pos, x
 8575                        		__add.wi	8
         1F:CF8E  18         			clc
         1F:CF8F  69 08      			adc.l	#8
         1F:CF91  90 01      			bcc	!+
         1F:CF93  C8         			iny
         1F:CF94             	!:
 8576                        		__sub.wt
         1F:CF94  BA         			tsx
         1F:CF95  38         			sec
         1F:CF96  49 FF      			eor	#$FF
         1F:CF98  7D 01 21   			adc.l	__tos, x
         1F:CF9B  42         			say
         1F:CF9C  49 FF      			eor	#$FF
         1F:CF9E  7D 02 21   			adc.h	__tos, x
         1F:CFA1  42         			say
         1F:CFA2  E8         			inx
         1F:CFA3  E8         			inx
         1F:CFA4  9A         			txs
 8577                        		__call		_abs.1
         1F:CFA5  20 1D E5   			call	_abs.1
 8578                        		__slt_w.wi	8
         1F:CFA8  C9 08      			cmp.l	#8		; Subtract integer from Y:A.
         1F:CFAA  98         			tya
         1F:CFAB  E9 00      			sbc.h	#8
         1F:CFAD  50 02      			bvc	!+
         1F:CFAF  49 80      			eor	#$80		; -ve if Y:A < integer (signed).
         1F:CFB1  0A         	!:		asl	a
 8579                        		__bfalse	.LL346
         1F:CFB2  B0 03 4C EB			bcc	.LL346
         1F:CFB6  CE          
 8580                        	
 8581                        		.dbg	line,	"include\routines_LEVELS.c", 554; {
 8582                        	
 8583                        		.dbg	line,	"include\routines_LEVELS.c", 555; // WEAPON STOPS UNDOLDING //
 8584                        	
 8585                        		.dbg	line,	"include\routines_LEVELS.c", 556; chain_unfold = FALSE;
 8586                        		__st.umiq	0, _chain_unfold
         1F:CFB7  9C 2A 23   			stz	_chain_unfold
 8587                        	
 8588                        		.dbg	line,	"include\routines_LEVELS.c", 558; // WE SHORTEN WEAPON ANIMATION DURATION //
 8589                        	
 8590                        		.dbg	line,	"include\routines_LEVELS.c", 559; player_counter_attack = 19;
 8591                        		__st.umiq	19, _player_counter_attack
         1F:CFBA  A9 13      			lda.l	#19
         1F:CFBC  8D 1F 23   			sta	_player_counter_attack
 8592                        	
 8593                        		.dbg	line,	"include\routines_LEVELS.c", 561; // DECREASE POT ENERGY //
 8594                        	
 8595                        		.dbg	line,	"include\routines_LEVELS.c", 562; list_object_energy[current_object_id] -= 1;
 8596                        		__ldx.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:CFBF  AE 22 2C   			ldx	__collision_WEAPON_OBJECTS_end - 2
 8597                        		__sub_st.uaxiq	1, _list_object_energy
         1F:CFC2  DE 6C 23   			dec	_list_object_energy, x
 8598                        	
 8599                        		.dbg	line,	"include\routines_LEVELS.c", 564; // INIT POT COUNTER //
 8600                        	
 8601                        		.dbg	line,	"include\routines_LEVELS.c", 565; list_object_counter[current_object_id] = 0;
 8602                        		__ldx.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:CFC5  AE 22 2C   			ldx	__collision_WEAPON_OBJECTS_end - 2
 8603                        		__st.uaxiq	0, _list_object_counter
         1F:CFC8  9E 9E 23   			stz	_list_object_counter, x
 8604                        	
 8605                        		.dbg	line,	"include\routines_LEVELS.c", 567; // POT GETS HIT //
 8606                        	
 8607                        		.dbg	line,	"include\routines_LEVELS.c", 568; list_object_state[current_object_id] = STATE_HIT;
 8608                        		__ldx.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:CFCB  AE 22 2C   			ldx	__collision_WEAPON_OBJECTS_end - 2
 8609                        		__st.uaxiq	2, _list_object_state
         1F:CFCE  A9 02      			lda.l	#2
         1F:CFD0  9D 53 23   			sta	_list_object_state, x
 8610                        	
 8611                        		.dbg	line,	"include\routines_LEVELS.c", 570; // SELECT POT SPRITE //
 8612                        	
 8613                        		.dbg	line,	"include\routines_LEVELS.c", 571; sgx_spr_set(current_object_id + object_start_index);
 8614                        		__ld.um		__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:CFD3  AD 22 2C   			lda	__collision_WEAPON_OBJECTS_end - 2
         1F:CFD6  C2         			cly
 8615                        		__add.um	_object_start_index
         1F:CFD7  18         			clc
         1F:CFD8  6D 37 23   			adc	_object_start_index
         1F:CFDB  90 01      			bcc	!+
         1F:CFDD  C8         			iny
         1F:CFDE             	!:
 8616                        		__call		_sgx_spr_set.1
         1F:CFDE  20 9E E8   			call	_sgx_spr_set.1
 8617                        	
 8618                        		.dbg	line,	"include\routines_LEVELS.c", 572; 
 8619                        	
 8620                        		.dbg	line,	"include\routines_LEVELS.c", 573; // CHECK OBJECT ENERGY //
 8621                        	
 8622                        		.dbg	line,	"include\routines_LEVELS.c", 574; switch(list_object_energy[current_object_id])
 8623                        		__ldx.umq	__collision_WEAPON_OBJECTS_end - 2  /* current_object_id */
         1F:CFE1  AE 22 2C   			ldx	__collision_WEAPON_OBJECTS_end - 2
 8624                        		__ld.uaxq	_list_object_energy
         1F:CFE4  BD 6C 23   			lda	_list_object_energy, x
 8625                        		__bra		.LL347
         1F:CFE7  80 0A      			bra	.LL347
 8626                        	
 8627                        		.dbg	line,	"include\routines_LEVELS.c", 575; {
 8628                        	
 8629                        		.dbg	line,	"include\routines_LEVELS.c", 576; case 0:
 8630    1F:CFE9             	.LL349:
 8631    1F:CFE9             	.LL350:
 8632                        	
 8633                        		.dbg	line,	"include\routines_LEVELS.c", 577; //sgx_spr_pattern(POT3_VRAM_ADR);
 8634                        	
 8635                        		.dbg	line,	"include\routines_LEVELS.c", 580; case 1:
 8636                        		__case		1
 8637                        	
 8638                        		.dbg	line,	"include\routines_LEVELS.c", 581; sgx_spr_pattern(POT2_VRAM_ADR);
 8639                        		__ld.wi		26688
         1F:CFE9  A9 40      			lda.l	#26688
         1F:CFEB  A0 68      			ldy.h	#26688
 8640                        		__call		_sgx_spr_pattern.1
         1F:CFED  20 E7 E8   			call	_sgx_spr_pattern.1
 8641                        	
 8642                        		.dbg	line,	"include\routines_LEVELS.c", 582; }
 8643                        		__bra		.LL348
         1F:CFF0  4C EB CE   			bra	.LL348
 8644    1F:CFF3             	.LL347:
 8645                        		__switch_r.ur	0, 1
         1F:CFF3  C9 02      			cmp	#(1 - 0) + 1
         1F:CFF5  90 02      			bcc	!found+
         1F:CFF7  A9 02      	!default:	lda	#(1 - 0) + 1
         1F:CFF9  0A         	!found:		asl	a
         1F:CFFA  AA         			tax
         1F:CFFB  7C FE CF   			jmp	[!table+, x]
 8646                        	
 8647    1F:CFFE  E9 CF      	!table:		dw	.LL349, .LL350
         1F:D000  E9 CF       
 8648    1F:D002  EB CE      			dw	.LL348
 8649    1F:D004             	.LL348	.alias		.LL340
 8650                        	
 8651                        		.dbg	line,	"include\routines_LEVELS.c", 583; }
 8652                        	
 8653                        		.dbg	line,	"include\routines_LEVELS.c", 584; }
 8654    1F:D004             	.LL346	.alias		.LL340
 8655                        	
 8656                        		.dbg	line,	"include\routines_LEVELS.c", 585; }
 8657    1F:D004             	.LL345	.alias		.LL340
 8658                        	
 8659                        		.dbg	line,	"include\routines_LEVELS.c", 586; }
 8660    1F:D004             	.LL344	.alias		.LL340
 8661                        	
 8662                        		.dbg	line,	"include\routines_LEVELS.c", 587; }
 8663    1F:D004             	.LL343	.alias		.LL340
 8664                        		__bra		.LL340
         1F:D004  4C EB CE   			bra	.LL340
 8665    1F:D007             	.LL342:
 8666                        	
 8667                        		.dbg	line,	"include\routines_LEVELS.c", 588; }
 8668                        	
 8669                        		.dbg	line,	"include\routines_LEVELS.c", 589; }
 8670    1F:D007             	.LL338:
 8671    1F:D007             	.LL337:
 8672                        		__return	0
         1F:D007  4C EF FF   			jmp	leave_proc
 8673                        		.dbg	clear
 8674                        		.endp
 8675               2303     		.bss
 8676    F8:2303             	__collision_WEAPON_OBJECTS_end	.alias	leaf_stack
 8677               E31D     		.code
 8678                        		.pceas
 8679                        	
 8680                        		.dbg	line,	"include\routines_LEVELS.c", 595; //-----------------------------------------------------------------------------//
 8681                        		.dbg	line,	"include\routines_LEVELS.c", 596; //                                   OBJECTS                                   //
 8682                        		.dbg	line,	"include\routines_LEVELS.c", 597; //-----------------------------------------------------------------------------//
 8683                        		.dbg	line,	"include\routines_LEVELS.c", 599; void anim_OBJECTS()
 8684                        		.dbg	line,	"include\routines_LEVELS.c", 600; {
 8685                        	;***********************
 8686                        	;***********************
 8687                        	
 8688                        		.hucc
 8689    11:DC00             		.proc		_anim_OBJECTS
 8690                        		__enter		_anim_OBJECTS
 8691                        	
 8692                        		.dbg	line,	"include\routines_LEVELS.c", 601; if(onscreen_object_number != 0)
 8693                        		__tst.um	_onscreen_object_number
         11:DC00  AD 39 23   			lda	_onscreen_object_number
         11:DC03  C9 01      			cmp	#1
 8694                        		__bfalse	.LL352
         11:DC05  B0 03 4C A7			bcc	.LL352
         11:DC09  DF          
 8695                        	
 8696                        		.dbg	line,	"include\routines_LEVELS.c", 602; {
 8697                        	
 8698                        		.dbg	line,	"include\routines_LEVELS.c", 603; char i;
 8699                        	
 8700                        		.dbg	line,	"include\routines_LEVELS.c", 604; char current_object_id;
 8701                        	
 8702                        		.dbg	line,	"include\routines_LEVELS.c", 605; signed int object_pos_y;
 8703                        	
 8704                        		.dbg	line,	"include\routines_LEVELS.c", 608; for(i=0 ; i<onscreen_object_number ; i++)
 8705                        		__st.umiq	0, __anim_OBJECTS_end - 1  /* i */
         11:DC0A  9C 23 2C   			stz	__anim_OBJECTS_end - 1
 8706    11:DC0D             	.LL353:
 8707                        		__ld.umq	__anim_OBJECTS_end - 1  /* i */
         11:DC0D  AD 23 2C   			lda	__anim_OBJECTS_end - 1
 8708                        		__ult_b.umq	_onscreen_object_number
         11:DC10  CD 39 23   			cmp	_onscreen_object_number		; Subtract memory from A.
         11:DC13  6A         			ror	a		; CC if A < memory.
         11:DC14  49 80      			eor	#$80
         11:DC16  2A         			rol	a
 8709                        		__btrue		.LL355
         11:DC17  B0 08      			bcs	.LL355
 8710                        		__bra		.LL356
         11:DC19  4C A7 DF   			bra	.LL356
 8711    11:DC1C             	.LL354:
 8712                        		__inc.umq	__anim_OBJECTS_end - 1  /* i */
         11:DC1C  EE 23 2C   			inc	__anim_OBJECTS_end - 1
 8713                        		__bra		.LL353
         11:DC1F  80 EC      			bra	.LL353
 8714    11:DC21             	.LL355:
 8715                        	
 8716                        		.dbg	line,	"include\routines_LEVELS.c", 609; {
 8717                        	
 8718                        		.dbg	line,	"include\routines_LEVELS.c", 610; // RETRIEVE OBJECT INDEX IN THE LIST //
 8719                        	
 8720                        		.dbg	line,	"include\routines_LEVELS.c", 611; current_object_id = list_onscreen_object[i];
 8721                        		__ldx.umq	__anim_OBJECTS_end - 1  /* i */
         11:DC21  AE 23 2C   			ldx	__anim_OBJECTS_end - 1
 8722                        		__ld.uax	_list_onscreen_object
         11:DC24  BD B7 23   			lda	_list_onscreen_object, x
         11:DC27  C2         			cly
 8723                        		__st.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DC28  8D 22 2C   			sta	__anim_OBJECTS_end - 2
 8724                        	
 8725                        		.dbg	line,	"include\routines_LEVELS.c", 613; // IF POT HAS BEEN HIT BY THE WEAPON //
 8726                        	
 8727                        		.dbg	line,	"include\routines_LEVELS.c", 614; if(list_object_state[current_object_id] == STATE_HIT)
 8728                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DC2B  AE 22 2C   			ldx	__anim_OBJECTS_end - 2
 8729                        		__ld.uaxq	_list_object_state
         11:DC2E  BD 53 23   			lda	_list_object_state, x
 8730                        		__equ_b.uiq	2
         11:DC31  C9 02      			cmp	#2
         11:DC33  F0 01      			beq	!+
         11:DC35  18         			clc
         11:DC36             	!:
 8731                        		__bfalse	.LL357
         11:DC36  90 E4      			bcc	.LL357
 8732                        	
 8733                        		.dbg	line,	"include\routines_LEVELS.c", 615; {
 8734                        	
 8735                        		.dbg	line,	"include\routines_LEVELS.c", 616; // SELECT POT SPRITE //
 8736                        	
 8737                        		.dbg	line,	"include\routines_LEVELS.c", 617; sgx_spr_set(current_object_id + object_start_index);
 8738                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         11:DC38  AD 22 2C   			lda	__anim_OBJECTS_end - 2
         11:DC3B  C2         			cly
 8739                        		__add.um	_object_start_index
         11:DC3C  18         			clc
         11:DC3D  6D 37 23   			adc	_object_start_index
         11:DC40  90 01      			bcc	!+
         11:DC42  C8         			iny
         11:DC43             	!:
 8740                        		__call		_sgx_spr_set.1
         11:DC43  20 9E E8   			call	_sgx_spr_set.1
 8741                        	
 8742                        		.dbg	line,	"include\routines_LEVELS.c", 618; 
 8743                        	
 8744                        		.dbg	line,	"include\routines_LEVELS.c", 619; // CHECK OBJECT ENERGY //
 8745                        	
 8746                        		.dbg	line,	"include\routines_LEVELS.c", 620; if(list_object_energy[current_object_id] == 0)
 8747                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DC46  AE 22 2C   			ldx	__anim_OBJECTS_end - 2
 8748                        		__not.uax	_list_object_energy
         11:DC49  BD 6C 23   			lda	_list_object_energy, x
         11:DC4C  18         			clc
         11:DC4D  D0 01      			bne	!+
         11:DC4F  38         			sec
         11:DC50             	!:
 8749                        		__bfalse	.LL358
         11:DC50  B0 03 4C 05			bcc	.LL358
         11:DC54  DF          
 8750                        	
 8751                        		.dbg	line,	"include\routines_LEVELS.c", 621; {
 8752                        	
 8753                        		.dbg	line,	"include\routines_LEVELS.c", 622; if(list_object_counter[current_object_id] == 0)
 8754                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DC55  AE 22 2C   			ldx	__anim_OBJECTS_end - 2
 8755                        		__not.uax	_list_object_counter
         11:DC58  BD 9E 23   			lda	_list_object_counter, x
         11:DC5B  18         			clc
         11:DC5C  D0 01      			bne	!+
         11:DC5E  38         			sec
         11:DC5F             	!:
 8756                        		__bfalse	.LL359
         11:DC5F  90 1B      			bcc	.LL359
 8757                        	
 8758                        		.dbg	line,	"include\routines_LEVELS.c", 623; {
 8759                        	
 8760                        		.dbg	line,	"include\routines_LEVELS.c", 624; object_pos_y = sgx_spr_get_y();
 8761                        		__call		_sgx_spr_get_y
         11:DC61  20 3C E9   			call	_sgx_spr_get_y
 8762                        		__st.wmq	__anim_OBJECTS_end - 4  /* object_pos_y */
         11:DC64  8D 20 2C   			sta.l	__anim_OBJECTS_end - 4
         11:DC67  8C 21 2C   			sty.h	__anim_OBJECTS_end - 4
 8763                        	
 8764                        		.dbg	line,	"include\routines_LEVELS.c", 625; sgx_spr_y(object_pos_y - 1);
 8765                        		__ld.wm		__anim_OBJECTS_end - 4  /* object_pos_y */
         11:DC6A  AD 20 2C   			lda.l	__anim_OBJECTS_end - 4
         11:DC6D  AC 21 2C   			ldy.h	__anim_OBJECTS_end - 4
 8766                        		__sub.wi	1
         11:DC70  38         			sec
         11:DC71  E9 01      			sbc.l	#1
         11:DC73  B0 01      			bcs	!+
         11:DC75  88         			dey
         11:DC76             	!:
 8767                        		__call		_sgx_spr_y.1
         11:DC76  20 DA E8   			call	_sgx_spr_y.1
 8768                        	
 8769                        		.dbg	line,	"include\routines_LEVELS.c", 626; }
 8770                        	
 8771                        		.dbg	line,	"include\routines_LEVELS.c", 628; else if(list_object_counter[current_object_id] == 1)
 8772                        		__bra		.LL360
         11:DC79  4C FC DE   			bra	.LL360
 8773    11:DC7C             	.LL359:
 8774                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DC7C  AE 22 2C   			ldx	__anim_OBJECTS_end - 2
 8775                        		__ld.uaxq	_list_object_counter
         11:DC7F  BD 9E 23   			lda	_list_object_counter, x
 8776                        		__equ_b.uiq	1
         11:DC82  C9 01      			cmp	#1
         11:DC84  F0 01      			beq	!+
         11:DC86  18         			clc
         11:DC87             	!:
 8777                        		__bfalse	.LL361
         11:DC87  90 1B      			bcc	.LL361
 8778                        	
 8779                        		.dbg	line,	"include\routines_LEVELS.c", 629; {
 8780                        	
 8781                        		.dbg	line,	"include\routines_LEVELS.c", 630; object_pos_y = sgx_spr_get_y();
 8782                        		__call		_sgx_spr_get_y
         11:DC89  20 3C E9   			call	_sgx_spr_get_y
 8783                        		__st.wmq	__anim_OBJECTS_end - 4  /* object_pos_y */
         11:DC8C  8D 20 2C   			sta.l	__anim_OBJECTS_end - 4
         11:DC8F  8C 21 2C   			sty.h	__anim_OBJECTS_end - 4
 8784                        	
 8785                        		.dbg	line,	"include\routines_LEVELS.c", 631; sgx_spr_y(object_pos_y - 2);
 8786                        		__ld.wm		__anim_OBJECTS_end - 4  /* object_pos_y */
         11:DC92  AD 20 2C   			lda.l	__anim_OBJECTS_end - 4
         11:DC95  AC 21 2C   			ldy.h	__anim_OBJECTS_end - 4
 8787                        		__sub.wi	2
         11:DC98  38         			sec
         11:DC99  E9 02      			sbc.l	#2
         11:DC9B  B0 01      			bcs	!+
         11:DC9D  88         			dey
         11:DC9E             	!:
 8788                        		__call		_sgx_spr_y.1
         11:DC9E  20 DA E8   			call	_sgx_spr_y.1
 8789                        	
 8790                        		.dbg	line,	"include\routines_LEVELS.c", 632; }
 8791                        	
 8792                        		.dbg	line,	"include\routines_LEVELS.c", 634; else if(list_object_counter[current_object_id] == 2)
 8793                        		__bra		.LL362
         11:DCA1  4C FC DE   			bra	.LL362
 8794    11:DCA4             	.LL361:
 8795                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DCA4  AE 22 2C   			ldx	__anim_OBJECTS_end - 2
 8796                        		__ld.uaxq	_list_object_counter
         11:DCA7  BD 9E 23   			lda	_list_object_counter, x
 8797                        		__equ_b.uiq	2
         11:DCAA  C9 02      			cmp	#2
         11:DCAC  F0 01      			beq	!+
         11:DCAE  18         			clc
         11:DCAF             	!:
 8798                        		__bfalse	.LL363
         11:DCAF  90 1B      			bcc	.LL363
 8799                        	
 8800                        		.dbg	line,	"include\routines_LEVELS.c", 635; {
 8801                        	
 8802                        		.dbg	line,	"include\routines_LEVELS.c", 636; object_pos_y = sgx_spr_get_y();
 8803                        		__call		_sgx_spr_get_y
         11:DCB1  20 3C E9   			call	_sgx_spr_get_y
 8804                        		__st.wmq	__anim_OBJECTS_end - 4  /* object_pos_y */
         11:DCB4  8D 20 2C   			sta.l	__anim_OBJECTS_end - 4
         11:DCB7  8C 21 2C   			sty.h	__anim_OBJECTS_end - 4
 8805                        	
 8806                        		.dbg	line,	"include\routines_LEVELS.c", 637; sgx_spr_y(object_pos_y - 1);
 8807                        		__ld.wm		__anim_OBJECTS_end - 4  /* object_pos_y */
         11:DCBA  AD 20 2C   			lda.l	__anim_OBJECTS_end - 4
         11:DCBD  AC 21 2C   			ldy.h	__anim_OBJECTS_end - 4
 8808                        		__sub.wi	1
         11:DCC0  38         			sec
         11:DCC1  E9 01      			sbc.l	#1
         11:DCC3  B0 01      			bcs	!+
         11:DCC5  88         			dey
         11:DCC6             	!:
 8809                        		__call		_sgx_spr_y.1
         11:DCC6  20 DA E8   			call	_sgx_spr_y.1
 8810                        	
 8811                        		.dbg	line,	"include\routines_LEVELS.c", 638; }
 8812                        	
 8813                        		.dbg	line,	"include\routines_LEVELS.c", 640; else if(list_object_counter[current_object_id] == 8)
 8814                        		__bra		.LL364
         11:DCC9  4C FC DE   			bra	.LL364
 8815    11:DCCC             	.LL363:
 8816                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DCCC  AE 22 2C   			ldx	__anim_OBJECTS_end - 2
 8817                        		__ld.uaxq	_list_object_counter
         11:DCCF  BD 9E 23   			lda	_list_object_counter, x
 8818                        		__equ_b.uiq	8
         11:DCD2  C9 08      			cmp	#8
         11:DCD4  F0 01      			beq	!+
         11:DCD6  18         			clc
         11:DCD7             	!:
 8819                        		__bfalse	.LL365
         11:DCD7  90 27      			bcc	.LL365
 8820                        	
 8821                        		.dbg	line,	"include\routines_LEVELS.c", 641; {
 8822                        	
 8823                        		.dbg	line,	"include\routines_LEVELS.c", 642; sgx_spr_pal(18);
 8824                        		__ld.uiq	18
         11:DCD9  A9 12      			lda	#18
 8825                        		__call		_sgx_spr_pal.1
         11:DCDB  20 0E E9   			call	_sgx_spr_pal.1
 8826                        	
 8827                        		.dbg	line,	"include\routines_LEVELS.c", 643; sgx_spr_pattern(*(ptr_REWARD_VRAM_ADR+current_object_id));
 8828                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         11:DCDE  AD 22 2C   			lda	__anim_OBJECTS_end - 2
         11:DCE1  C2         			cly
 8829                        		__asl.wr
         11:DCE2  0A         			asl	a
         11:DCE3  42         			say
         11:DCE4  2A         			rol	a
         11:DCE5  42         			say
 8830                        		__add.wm	_ptr_REWARD_VRAM_ADR
         11:DCE6  18         			clc
         11:DCE7  6D 92 26   			adc.l	_ptr_REWARD_VRAM_ADR
         11:DCEA  42         			say
         11:DCEB  6D 93 26   			adc.h	_ptr_REWARD_VRAM_ADR
         11:DCEE  42         			say
 8831                        		__st.wm		__ptr
         11:DCEF  85 88      			sta.l	__ptr
         11:DCF1  84 89      			sty.h	__ptr
 8832                        		__ld.wp		__ptr
         11:DCF3  A0 01      			ldy	#1
         11:DCF5  B1 88      			lda	[__ptr], y
         11:DCF7  A8         			tay
         11:DCF8  B2 88      			lda	[__ptr]
 8833                        		__call		_sgx_spr_pattern.1
         11:DCFA  20 E7 E8   			call	_sgx_spr_pattern.1
 8834                        	
 8835                        		.dbg	line,	"include\routines_LEVELS.c", 644; }
 8836                        	
 8837                        		.dbg	line,	"include\routines_LEVELS.c", 646; else if(list_object_counter[current_object_id] == 9)
 8838                        		__bra		.LL366
         11:DCFD  4C FC DE   			bra	.LL366
 8839    11:DD00             	.LL365:
 8840                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DD00  AE 22 2C   			ldx	__anim_OBJECTS_end - 2
 8841                        		__ld.uaxq	_list_object_counter
         11:DD03  BD 9E 23   			lda	_list_object_counter, x
 8842                        		__equ_b.uiq	9
         11:DD06  C9 09      			cmp	#9
         11:DD08  F0 01      			beq	!+
         11:DD0A  18         			clc
         11:DD0B             	!:
 8843                        		__bfalse	.LL367
         11:DD0B  90 0F      			bcc	.LL367
 8844                        	
 8845                        		.dbg	line,	"include\routines_LEVELS.c", 647; {
 8846                        	
 8847                        		.dbg	line,	"include\routines_LEVELS.c", 648; sgx_spr_pal(17);
 8848                        		__ld.uiq	17
         11:DD0D  A9 11      			lda	#17
 8849                        		__call		_sgx_spr_pal.1
         11:DD0F  20 0E E9   			call	_sgx_spr_pal.1
 8850                        	
 8851                        		.dbg	line,	"include\routines_LEVELS.c", 649; sgx_spr_pattern(POT3_VRAM_ADR);
 8852                        		__ld.wi		26752
         11:DD12  A9 80      			lda.l	#26752
         11:DD14  A0 68      			ldy.h	#26752
 8853                        		__call		_sgx_spr_pattern.1
         11:DD16  20 E7 E8   			call	_sgx_spr_pattern.1
 8854                        	
 8855                        		.dbg	line,	"include\routines_LEVELS.c", 650; }
 8856                        	
 8857                        		.dbg	line,	"include\routines_LEVELS.c", 652; else if(list_object_counter[current_object_id] == 13)
 8858                        		__bra		.LL368
         11:DD19  4C FC DE   			bra	.LL368
 8859    11:DD1C             	.LL367:
 8860                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DD1C  AE 22 2C   			ldx	__anim_OBJECTS_end - 2
 8861                        		__ld.uaxq	_list_object_counter
         11:DD1F  BD 9E 23   			lda	_list_object_counter, x
 8862                        		__equ_b.uiq	13
         11:DD22  C9 0D      			cmp	#13
         11:DD24  F0 01      			beq	!+
         11:DD26  18         			clc
         11:DD27             	!:
 8863                        		__bfalse	.LL369
         11:DD27  90 27      			bcc	.LL369
 8864                        	
 8865                        		.dbg	line,	"include\routines_LEVELS.c", 653; {
 8866                        	
 8867                        		.dbg	line,	"include\routines_LEVELS.c", 654; sgx_spr_pal(18);
 8868                        		__ld.uiq	18
         11:DD29  A9 12      			lda	#18
 8869                        		__call		_sgx_spr_pal.1
         11:DD2B  20 0E E9   			call	_sgx_spr_pal.1
 8870                        	
 8871                        		.dbg	line,	"include\routines_LEVELS.c", 655; sgx_spr_pattern(*(ptr_REWARD_VRAM_ADR+current_object_id));
 8872                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         11:DD2E  AD 22 2C   			lda	__anim_OBJECTS_end - 2
         11:DD31  C2         			cly
 8873                        		__asl.wr
         11:DD32  0A         			asl	a
         11:DD33  42         			say
         11:DD34  2A         			rol	a
         11:DD35  42         			say
 8874                        		__add.wm	_ptr_REWARD_VRAM_ADR
         11:DD36  18         			clc
         11:DD37  6D 92 26   			adc.l	_ptr_REWARD_VRAM_ADR
         11:DD3A  42         			say
         11:DD3B  6D 93 26   			adc.h	_ptr_REWARD_VRAM_ADR
         11:DD3E  42         			say
 8875                        		__st.wm		__ptr
         11:DD3F  85 88      			sta.l	__ptr
         11:DD41  84 89      			sty.h	__ptr
 8876                        		__ld.wp		__ptr
         11:DD43  A0 01      			ldy	#1
         11:DD45  B1 88      			lda	[__ptr], y
         11:DD47  A8         			tay
         11:DD48  B2 88      			lda	[__ptr]
 8877                        		__call		_sgx_spr_pattern.1
         11:DD4A  20 E7 E8   			call	_sgx_spr_pattern.1
 8878                        	
 8879                        		.dbg	line,	"include\routines_LEVELS.c", 656; }
 8880                        	
 8881                        		.dbg	line,	"include\routines_LEVELS.c", 658; else if(list_object_counter[current_object_id] == 14)
 8882                        		__bra		.LL370
         11:DD4D  4C FC DE   			bra	.LL370
 8883    11:DD50             	.LL369:
 8884                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DD50  AE 22 2C   			ldx	__anim_OBJECTS_end - 2
 8885                        		__ld.uaxq	_list_object_counter
         11:DD53  BD 9E 23   			lda	_list_object_counter, x
 8886                        		__equ_b.uiq	14
         11:DD56  C9 0E      			cmp	#14
         11:DD58  F0 01      			beq	!+
         11:DD5A  18         			clc
         11:DD5B             	!:
 8887                        		__bfalse	.LL371
         11:DD5B  90 0F      			bcc	.LL371
 8888                        	
 8889                        		.dbg	line,	"include\routines_LEVELS.c", 659; {
 8890                        	
 8891                        		.dbg	line,	"include\routines_LEVELS.c", 660; sgx_spr_pal(17);
 8892                        		__ld.uiq	17
         11:DD5D  A9 11      			lda	#17
 8893                        		__call		_sgx_spr_pal.1
         11:DD5F  20 0E E9   			call	_sgx_spr_pal.1
 8894                        	
 8895                        		.dbg	line,	"include\routines_LEVELS.c", 661; sgx_spr_pattern(POT4_VRAM_ADR);
 8896                        		__ld.wi		26816
         11:DD62  A9 C0      			lda.l	#26816
         11:DD64  A0 68      			ldy.h	#26816
 8897                        		__call		_sgx_spr_pattern.1
         11:DD66  20 E7 E8   			call	_sgx_spr_pattern.1
 8898                        	
 8899                        		.dbg	line,	"include\routines_LEVELS.c", 662; }
 8900                        	
 8901                        		.dbg	line,	"include\routines_LEVELS.c", 664; else if(list_object_counter[current_object_id] == 18)
 8902                        		__bra		.LL372
         11:DD69  4C FC DE   			bra	.LL372
 8903    11:DD6C             	.LL371:
 8904                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DD6C  AE 22 2C   			ldx	__anim_OBJECTS_end - 2
 8905                        		__ld.uaxq	_list_object_counter
         11:DD6F  BD 9E 23   			lda	_list_object_counter, x
 8906                        		__equ_b.uiq	18
         11:DD72  C9 12      			cmp	#18
         11:DD74  F0 01      			beq	!+
         11:DD76  18         			clc
         11:DD77             	!:
 8907                        		__bfalse	.LL373
         11:DD77  90 27      			bcc	.LL373
 8908                        	
 8909                        		.dbg	line,	"include\routines_LEVELS.c", 665; {
 8910                        	
 8911                        		.dbg	line,	"include\routines_LEVELS.c", 666; sgx_spr_pal(18);
 8912                        		__ld.uiq	18
         11:DD79  A9 12      			lda	#18
 8913                        		__call		_sgx_spr_pal.1
         11:DD7B  20 0E E9   			call	_sgx_spr_pal.1
 8914                        	
 8915                        		.dbg	line,	"include\routines_LEVELS.c", 667; sgx_spr_pattern(*(ptr_REWARD_VRAM_ADR+current_object_id));
 8916                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         11:DD7E  AD 22 2C   			lda	__anim_OBJECTS_end - 2
         11:DD81  C2         			cly
 8917                        		__asl.wr
         11:DD82  0A         			asl	a
         11:DD83  42         			say
         11:DD84  2A         			rol	a
         11:DD85  42         			say
 8918                        		__add.wm	_ptr_REWARD_VRAM_ADR
         11:DD86  18         			clc
         11:DD87  6D 92 26   			adc.l	_ptr_REWARD_VRAM_ADR
         11:DD8A  42         			say
         11:DD8B  6D 93 26   			adc.h	_ptr_REWARD_VRAM_ADR
         11:DD8E  42         			say
 8919                        		__st.wm		__ptr
         11:DD8F  85 88      			sta.l	__ptr
         11:DD91  84 89      			sty.h	__ptr
 8920                        		__ld.wp		__ptr
         11:DD93  A0 01      			ldy	#1
         11:DD95  B1 88      			lda	[__ptr], y
         11:DD97  A8         			tay
         11:DD98  B2 88      			lda	[__ptr]
 8921                        		__call		_sgx_spr_pattern.1
         11:DD9A  20 E7 E8   			call	_sgx_spr_pattern.1
 8922                        	
 8923                        		.dbg	line,	"include\routines_LEVELS.c", 668; }
 8924                        	
 8925                        		.dbg	line,	"include\routines_LEVELS.c", 670; else if(list_object_counter[current_object_id] == 19)
 8926                        		__bra		.LL374
         11:DD9D  4C FC DE   			bra	.LL374
 8927    11:DDA0             	.LL373:
 8928                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DDA0  AE 22 2C   			ldx	__anim_OBJECTS_end - 2
 8929                        		__ld.uaxq	_list_object_counter
         11:DDA3  BD 9E 23   			lda	_list_object_counter, x
 8930                        		__equ_b.uiq	19
         11:DDA6  C9 13      			cmp	#19
         11:DDA8  F0 01      			beq	!+
         11:DDAA  18         			clc
         11:DDAB             	!:
 8931                        		__bfalse	.LL375
         11:DDAB  90 0E      			bcc	.LL375
 8932                        	
 8933                        		.dbg	line,	"include\routines_LEVELS.c", 671; {
 8934                        	
 8935                        		.dbg	line,	"include\routines_LEVELS.c", 672; sgx_spr_pal(17);
 8936                        		__ld.uiq	17
         11:DDAD  A9 11      			lda	#17
 8937                        		__call		_sgx_spr_pal.1
         11:DDAF  20 0E E9   			call	_sgx_spr_pal.1
 8938                        	
 8939                        		.dbg	line,	"include\routines_LEVELS.c", 673; sgx_spr_pattern(POT5_VRAM_ADR);
 8940                        		__ld.wi		26880
         11:DDB2  62         			cla
         11:DDB3  A0 69      			ldy.h	#26880
 8941                        		__call		_sgx_spr_pattern.1
         11:DDB5  20 E7 E8   			call	_sgx_spr_pattern.1
 8942                        	
 8943                        		.dbg	line,	"include\routines_LEVELS.c", 674; }
 8944                        	
 8945                        		.dbg	line,	"include\routines_LEVELS.c", 676; else if(list_object_counter[current_object_id] == 23)
 8946                        		__bra		.LL376
         11:DDB8  4C FC DE   			bra	.LL376
 8947    11:DDBB             	.LL375:
 8948                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DDBB  AE 22 2C   			ldx	__anim_OBJECTS_end - 2
 8949                        		__ld.uaxq	_list_object_counter
         11:DDBE  BD 9E 23   			lda	_list_object_counter, x
 8950                        		__equ_b.uiq	23
         11:DDC1  C9 17      			cmp	#23
         11:DDC3  F0 01      			beq	!+
         11:DDC5  18         			clc
         11:DDC6             	!:
 8951                        		__bfalse	.LL377
         11:DDC6  90 27      			bcc	.LL377
 8952                        	
 8953                        		.dbg	line,	"include\routines_LEVELS.c", 677; {
 8954                        	
 8955                        		.dbg	line,	"include\routines_LEVELS.c", 678; sgx_spr_pal(18);
 8956                        		__ld.uiq	18
         11:DDC8  A9 12      			lda	#18
 8957                        		__call		_sgx_spr_pal.1
         11:DDCA  20 0E E9   			call	_sgx_spr_pal.1
 8958                        	
 8959                        		.dbg	line,	"include\routines_LEVELS.c", 679; sgx_spr_pattern(*(ptr_REWARD_VRAM_ADR+current_object_id));
 8960                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         11:DDCD  AD 22 2C   			lda	__anim_OBJECTS_end - 2
         11:DDD0  C2         			cly
 8961                        		__asl.wr
         11:DDD1  0A         			asl	a
         11:DDD2  42         			say
         11:DDD3  2A         			rol	a
         11:DDD4  42         			say
 8962                        		__add.wm	_ptr_REWARD_VRAM_ADR
         11:DDD5  18         			clc
         11:DDD6  6D 92 26   			adc.l	_ptr_REWARD_VRAM_ADR
         11:DDD9  42         			say
         11:DDDA  6D 93 26   			adc.h	_ptr_REWARD_VRAM_ADR
         11:DDDD  42         			say
 8963                        		__st.wm		__ptr
         11:DDDE  85 88      			sta.l	__ptr
         11:DDE0  84 89      			sty.h	__ptr
 8964                        		__ld.wp		__ptr
         11:DDE2  A0 01      			ldy	#1
         11:DDE4  B1 88      			lda	[__ptr], y
         11:DDE6  A8         			tay
         11:DDE7  B2 88      			lda	[__ptr]
 8965                        		__call		_sgx_spr_pattern.1
         11:DDE9  20 E7 E8   			call	_sgx_spr_pattern.1
 8966                        	
 8967                        		.dbg	line,	"include\routines_LEVELS.c", 680; }
 8968                        	
 8969                        		.dbg	line,	"include\routines_LEVELS.c", 682; else if(list_object_counter[current_object_id] == 24)
 8970                        		__bra		.LL378
         11:DDEC  4C FC DE   			bra	.LL378
 8971    11:DDEF             	.LL377:
 8972                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DDEF  AE 22 2C   			ldx	__anim_OBJECTS_end - 2
 8973                        		__ld.uaxq	_list_object_counter
         11:DDF2  BD 9E 23   			lda	_list_object_counter, x
 8974                        		__equ_b.uiq	24
         11:DDF5  C9 18      			cmp	#24
         11:DDF7  F0 01      			beq	!+
         11:DDF9  18         			clc
         11:DDFA             	!:
 8975                        		__bfalse	.LL379
         11:DDFA  90 0F      			bcc	.LL379
 8976                        	
 8977                        		.dbg	line,	"include\routines_LEVELS.c", 683; {
 8978                        	
 8979                        		.dbg	line,	"include\routines_LEVELS.c", 684; sgx_spr_pal(17);
 8980                        		__ld.uiq	17
         11:DDFC  A9 11      			lda	#17
 8981                        		__call		_sgx_spr_pal.1
         11:DDFE  20 0E E9   			call	_sgx_spr_pal.1
 8982                        	
 8983                        		.dbg	line,	"include\routines_LEVELS.c", 685; sgx_spr_pattern(POT6_VRAM_ADR);
 8984                        		__ld.wi		26944
         11:DE01  A9 40      			lda.l	#26944
         11:DE03  A0 69      			ldy.h	#26944
 8985                        		__call		_sgx_spr_pattern.1
         11:DE05  20 E7 E8   			call	_sgx_spr_pattern.1
 8986                        	
 8987                        		.dbg	line,	"include\routines_LEVELS.c", 686; }
 8988                        	
 8989                        		.dbg	line,	"include\routines_LEVELS.c", 688; else if(list_object_counter[current_object_id] == 28)
 8990                        		__bra		.LL380
         11:DE08  4C FC DE   			bra	.LL380
 8991    11:DE0B             	.LL379:
 8992                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DE0B  AE 22 2C   			ldx	__anim_OBJECTS_end - 2
 8993                        		__ld.uaxq	_list_object_counter
         11:DE0E  BD 9E 23   			lda	_list_object_counter, x
 8994                        		__equ_b.uiq	28
         11:DE11  C9 1C      			cmp	#28
         11:DE13  F0 01      			beq	!+
         11:DE15  18         			clc
         11:DE16             	!:
 8995                        		__bfalse	.LL381
         11:DE16  90 27      			bcc	.LL381
 8996                        	
 8997                        		.dbg	line,	"include\routines_LEVELS.c", 689; {
 8998                        	
 8999                        		.dbg	line,	"include\routines_LEVELS.c", 690; sgx_spr_pal(18);
 9000                        		__ld.uiq	18
         11:DE18  A9 12      			lda	#18
 9001                        		__call		_sgx_spr_pal.1
         11:DE1A  20 0E E9   			call	_sgx_spr_pal.1
 9002                        	
 9003                        		.dbg	line,	"include\routines_LEVELS.c", 691; sgx_spr_pattern(*(ptr_REWARD_VRAM_ADR+current_object_id));
 9004                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         11:DE1D  AD 22 2C   			lda	__anim_OBJECTS_end - 2
         11:DE20  C2         			cly
 9005                        		__asl.wr
         11:DE21  0A         			asl	a
         11:DE22  42         			say
         11:DE23  2A         			rol	a
         11:DE24  42         			say
 9006                        		__add.wm	_ptr_REWARD_VRAM_ADR
         11:DE25  18         			clc
         11:DE26  6D 92 26   			adc.l	_ptr_REWARD_VRAM_ADR
         11:DE29  42         			say
         11:DE2A  6D 93 26   			adc.h	_ptr_REWARD_VRAM_ADR
         11:DE2D  42         			say
 9007                        		__st.wm		__ptr
         11:DE2E  85 88      			sta.l	__ptr
         11:DE30  84 89      			sty.h	__ptr
 9008                        		__ld.wp		__ptr
         11:DE32  A0 01      			ldy	#1
         11:DE34  B1 88      			lda	[__ptr], y
         11:DE36  A8         			tay
         11:DE37  B2 88      			lda	[__ptr]
 9009                        		__call		_sgx_spr_pattern.1
         11:DE39  20 E7 E8   			call	_sgx_spr_pattern.1
 9010                        	
 9011                        		.dbg	line,	"include\routines_LEVELS.c", 692; }
 9012                        	
 9013                        		.dbg	line,	"include\routines_LEVELS.c", 694; else if(list_object_counter[current_object_id] == 29)
 9014                        		__bra		.LL382
         11:DE3C  4C FC DE   			bra	.LL382
 9015    11:DE3F             	.LL381:
 9016                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DE3F  AE 22 2C   			ldx	__anim_OBJECTS_end - 2
 9017                        		__ld.uaxq	_list_object_counter
         11:DE42  BD 9E 23   			lda	_list_object_counter, x
 9018                        		__equ_b.uiq	29
         11:DE45  C9 1D      			cmp	#29
         11:DE47  F0 01      			beq	!+
         11:DE49  18         			clc
         11:DE4A             	!:
 9019                        		__bfalse	.LL383
         11:DE4A  90 0F      			bcc	.LL383
 9020                        	
 9021                        		.dbg	line,	"include\routines_LEVELS.c", 695; {
 9022                        	
 9023                        		.dbg	line,	"include\routines_LEVELS.c", 696; sgx_spr_pal(17);
 9024                        		__ld.uiq	17
         11:DE4C  A9 11      			lda	#17
 9025                        		__call		_sgx_spr_pal.1
         11:DE4E  20 0E E9   			call	_sgx_spr_pal.1
 9026                        	
 9027                        		.dbg	line,	"include\routines_LEVELS.c", 697; sgx_spr_pattern(POT7_VRAM_ADR);
 9028                        		__ld.wi		27008
         11:DE51  A9 80      			lda.l	#27008
         11:DE53  A0 69      			ldy.h	#27008
 9029                        		__call		_sgx_spr_pattern.1
         11:DE55  20 E7 E8   			call	_sgx_spr_pattern.1
 9030                        	
 9031                        		.dbg	line,	"include\routines_LEVELS.c", 698; }
 9032                        	
 9033                        		.dbg	line,	"include\routines_LEVELS.c", 700; else if(list_object_counter[current_object_id] == 33)
 9034                        		__bra		.LL384
         11:DE58  4C FC DE   			bra	.LL384
 9035    11:DE5B             	.LL383:
 9036                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DE5B  AE 22 2C   			ldx	__anim_OBJECTS_end - 2
 9037                        		__ld.uaxq	_list_object_counter
         11:DE5E  BD 9E 23   			lda	_list_object_counter, x
 9038                        		__equ_b.uiq	33
         11:DE61  C9 21      			cmp	#33
         11:DE63  F0 01      			beq	!+
         11:DE65  18         			clc
         11:DE66             	!:
 9039                        		__bfalse	.LL385
         11:DE66  90 26      			bcc	.LL385
 9040                        	
 9041                        		.dbg	line,	"include\routines_LEVELS.c", 701; {
 9042                        	
 9043                        		.dbg	line,	"include\routines_LEVELS.c", 702; sgx_spr_pal(18);
 9044                        		__ld.uiq	18
         11:DE68  A9 12      			lda	#18
 9045                        		__call		_sgx_spr_pal.1
         11:DE6A  20 0E E9   			call	_sgx_spr_pal.1
 9046                        	
 9047                        		.dbg	line,	"include\routines_LEVELS.c", 703; sgx_spr_pattern(*(ptr_REWARD_VRAM_ADR+current_object_id));
 9048                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         11:DE6D  AD 22 2C   			lda	__anim_OBJECTS_end - 2
         11:DE70  C2         			cly
 9049                        		__asl.wr
         11:DE71  0A         			asl	a
         11:DE72  42         			say
         11:DE73  2A         			rol	a
         11:DE74  42         			say
 9050                        		__add.wm	_ptr_REWARD_VRAM_ADR
         11:DE75  18         			clc
         11:DE76  6D 92 26   			adc.l	_ptr_REWARD_VRAM_ADR
         11:DE79  42         			say
         11:DE7A  6D 93 26   			adc.h	_ptr_REWARD_VRAM_ADR
         11:DE7D  42         			say
 9051                        		__st.wm		__ptr
         11:DE7E  85 88      			sta.l	__ptr
         11:DE80  84 89      			sty.h	__ptr
 9052                        		__ld.wp		__ptr
         11:DE82  A0 01      			ldy	#1
         11:DE84  B1 88      			lda	[__ptr], y
         11:DE86  A8         			tay
         11:DE87  B2 88      			lda	[__ptr]
 9053                        		__call		_sgx_spr_pattern.1
         11:DE89  20 E7 E8   			call	_sgx_spr_pattern.1
 9054                        	
 9055                        		.dbg	line,	"include\routines_LEVELS.c", 704; }
 9056                        	
 9057                        		.dbg	line,	"include\routines_LEVELS.c", 706; else if(list_object_counter[current_object_id] == 34)
 9058                        		__bra		.LL386
         11:DE8C  80 6E      			bra	.LL386
 9059    11:DE8E             	.LL385:
 9060                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DE8E  AE 22 2C   			ldx	__anim_OBJECTS_end - 2
 9061                        		__ld.uaxq	_list_object_counter
         11:DE91  BD 9E 23   			lda	_list_object_counter, x
 9062                        		__equ_b.uiq	34
         11:DE94  C9 22      			cmp	#34
         11:DE96  F0 01      			beq	!+
         11:DE98  18         			clc
         11:DE99             	!:
 9063                        		__bfalse	.LL387
         11:DE99  90 0E      			bcc	.LL387
 9064                        	
 9065                        		.dbg	line,	"include\routines_LEVELS.c", 707; {
 9066                        	
 9067                        		.dbg	line,	"include\routines_LEVELS.c", 708; sgx_spr_pal(17);
 9068                        		__ld.uiq	17
         11:DE9B  A9 11      			lda	#17
 9069                        		__call		_sgx_spr_pal.1
         11:DE9D  20 0E E9   			call	_sgx_spr_pal.1
 9070                        	
 9071                        		.dbg	line,	"include\routines_LEVELS.c", 709; sgx_spr_pattern(POT8_VRAM_ADR);
 9072                        		__ld.wi		27072
         11:DEA0  A9 C0      			lda.l	#27072
         11:DEA2  A0 69      			ldy.h	#27072
 9073                        		__call		_sgx_spr_pattern.1
         11:DEA4  20 E7 E8   			call	_sgx_spr_pattern.1
 9074                        	
 9075                        		.dbg	line,	"include\routines_LEVELS.c", 710; }
 9076                        	
 9077                        		.dbg	line,	"include\routines_LEVELS.c", 712; else if(list_object_counter[current_object_id] == 38)
 9078                        		__bra		.LL388
         11:DEA7  80 53      			bra	.LL388
 9079    11:DEA9             	.LL387:
 9080                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DEA9  AE 22 2C   			ldx	__anim_OBJECTS_end - 2
 9081                        		__ld.uaxq	_list_object_counter
         11:DEAC  BD 9E 23   			lda	_list_object_counter, x
 9082                        		__equ_b.uiq	38
         11:DEAF  C9 26      			cmp	#38
         11:DEB1  F0 01      			beq	!+
         11:DEB3  18         			clc
         11:DEB4             	!:
 9083                        		__bfalse	.LL389
         11:DEB4  90 46      			bcc	.LL389
 9084                        	
 9085                        		.dbg	line,	"include\routines_LEVELS.c", 713; {
 9086                        	
 9087                        		.dbg	line,	"include\routines_LEVELS.c", 714; sgx_spr_pal(18);
 9088                        		__ld.uiq	18
         11:DEB6  A9 12      			lda	#18
 9089                        		__call		_sgx_spr_pal.1
         11:DEB8  20 0E E9   			call	_sgx_spr_pal.1
 9090                        	
 9091                        		.dbg	line,	"include\routines_LEVELS.c", 715; sgx_spr_pattern(*(ptr_REWARD_VRAM_ADR+current_object_id));
 9092                        		__ld.um		__anim_OBJECTS_end - 2  /* current_object_id */
         11:DEBB  AD 22 2C   			lda	__anim_OBJECTS_end - 2
         11:DEBE  C2         			cly
 9093                        		__asl.wr
         11:DEBF  0A         			asl	a
         11:DEC0  42         			say
         11:DEC1  2A         			rol	a
         11:DEC2  42         			say
 9094                        		__add.wm	_ptr_REWARD_VRAM_ADR
         11:DEC3  18         			clc
         11:DEC4  6D 92 26   			adc.l	_ptr_REWARD_VRAM_ADR
         11:DEC7  42         			say
         11:DEC8  6D 93 26   			adc.h	_ptr_REWARD_VRAM_ADR
         11:DECB  42         			say
 9095                        		__st.wm		__ptr
         11:DECC  85 88      			sta.l	__ptr
         11:DECE  84 89      			sty.h	__ptr
 9096                        		__ld.wp		__ptr
         11:DED0  A0 01      			ldy	#1
         11:DED2  B1 88      			lda	[__ptr], y
         11:DED4  A8         			tay
         11:DED5  B2 88      			lda	[__ptr]
 9097                        		__call		_sgx_spr_pattern.1
         11:DED7  20 E7 E8   			call	_sgx_spr_pattern.1
 9098                        	
 9099                        		.dbg	line,	"include\routines_LEVELS.c", 716; list_object_type[current_object_id] = *(ptr_REWARD_TYPE+current_object_id);
 9100                        		__ld.wm		_ptr_REWARD_TYPE
         11:DEDA  AD 90 26   			lda.l	_ptr_REWARD_TYPE
         11:DEDD  AC 91 26   			ldy.h	_ptr_REWARD_TYPE
 9101                        		__add.um	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DEE0  18         			clc
         11:DEE1  6D 22 2C   			adc	__anim_OBJECTS_end - 2
         11:DEE4  90 01      			bcc	!+
         11:DEE6  C8         			iny
         11:DEE7             	!:
 9102                        		__st.wm		__ptr
         11:DEE7  85 88      			sta.l	__ptr
         11:DEE9  84 89      			sty.h	__ptr
 9103                        		__ld.up		__ptr
         11:DEEB  B2 88      			lda	[__ptr]
         11:DEED  C2         			cly
 9104                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DEEE  AE 22 2C   			ldx	__anim_OBJECTS_end - 2
 9105                        		__st.uaxq	_list_object_type
         11:DEF1  9D 3A 23   			sta	_list_object_type, x
 9106                        	
 9107                        		.dbg	line,	"include\routines_LEVELS.c", 717; list_object_state[current_object_id] = STATE_DROPPED;
 9108                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DEF4  AE 22 2C   			ldx	__anim_OBJECTS_end - 2
 9109                        		__st.uaxiq	3, _list_object_state
         11:DEF7  A9 03      			lda.l	#3
         11:DEF9  9D 53 23   			sta	_list_object_state, x
 9110                        	
 9111                        		.dbg	line,	"include\routines_LEVELS.c", 718; }
 9112                        	
 9113                        		.dbg	line,	"include\routines_LEVELS.c", 720; list_object_counter[current_object_id] += 1;
 9114    11:DEFC             	.LL389:
 9115    11:DEFC             	.LL388:
 9116    11:DEFC             	.LL386:
 9117    11:DEFC             	.LL384:
 9118    11:DEFC             	.LL382:
 9119    11:DEFC             	.LL380:
 9120    11:DEFC             	.LL378:
 9121    11:DEFC             	.LL376:
 9122    11:DEFC             	.LL374:
 9123    11:DEFC             	.LL372:
 9124    11:DEFC             	.LL370:
 9125    11:DEFC             	.LL368:
 9126    11:DEFC             	.LL366:
 9127    11:DEFC             	.LL364:
 9128    11:DEFC             	.LL362:
 9129    11:DEFC             	.LL360:
 9130                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DEFC  AE 22 2C   			ldx	__anim_OBJECTS_end - 2
 9131                        		__add_st.uaxiq	1, _list_object_counter
         11:DEFF  FE 9E 23   			inc	_list_object_counter, x
 9132                        	
 9133                        		.dbg	line,	"include\routines_LEVELS.c", 721; }
 9134                        	
 9135                        		.dbg	line,	"include\routines_LEVELS.c", 722; 
 9136                        	
 9137                        		.dbg	line,	"include\routines_LEVELS.c", 724; else if(list_object_energy[current_object_id] == 1)
 9138                        		__bra		.LL390
         11:DF02  4C 1C DC   			bra	.LL390
 9139    11:DF05             	.LL358:
 9140                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DF05  AE 22 2C   			ldx	__anim_OBJECTS_end - 2
 9141                        		__ld.uaxq	_list_object_energy
         11:DF08  BD 6C 23   			lda	_list_object_energy, x
 9142                        		__equ_b.uiq	1
         11:DF0B  C9 01      			cmp	#1
         11:DF0D  F0 01      			beq	!+
         11:DF0F  18         			clc
         11:DF10             	!:
 9143                        		__bfalse	.LL391
         11:DF10  B0 03 4C 1C			bcc	.LL391
         11:DF14  DC          
 9144                        	
 9145                        		.dbg	line,	"include\routines_LEVELS.c", 725; {
 9146                        	
 9147                        		.dbg	line,	"include\routines_LEVELS.c", 726; if(list_object_counter[current_object_id] == 0)
 9148                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DF15  AE 22 2C   			ldx	__anim_OBJECTS_end - 2
 9149                        		__not.uax	_list_object_counter
         11:DF18  BD 9E 23   			lda	_list_object_counter, x
         11:DF1B  18         			clc
         11:DF1C  D0 01      			bne	!+
         11:DF1E  38         			sec
         11:DF1F             	!:
 9150                        		__bfalse	.LL392
         11:DF1F  90 1A      			bcc	.LL392
 9151                        	
 9152                        		.dbg	line,	"include\routines_LEVELS.c", 727; {
 9153                        	
 9154                        		.dbg	line,	"include\routines_LEVELS.c", 728; object_pos_y = sgx_spr_get_y();
 9155                        		__call		_sgx_spr_get_y
         11:DF21  20 3C E9   			call	_sgx_spr_get_y
 9156                        		__st.wmq	__anim_OBJECTS_end - 4  /* object_pos_y */
         11:DF24  8D 20 2C   			sta.l	__anim_OBJECTS_end - 4
         11:DF27  8C 21 2C   			sty.h	__anim_OBJECTS_end - 4
 9157                        	
 9158                        		.dbg	line,	"include\routines_LEVELS.c", 729; sgx_spr_y(object_pos_y - 1);
 9159                        		__ld.wm		__anim_OBJECTS_end - 4  /* object_pos_y */
         11:DF2A  AD 20 2C   			lda.l	__anim_OBJECTS_end - 4
         11:DF2D  AC 21 2C   			ldy.h	__anim_OBJECTS_end - 4
 9160                        		__sub.wi	1
         11:DF30  38         			sec
         11:DF31  E9 01      			sbc.l	#1
         11:DF33  B0 01      			bcs	!+
         11:DF35  88         			dey
         11:DF36             	!:
 9161                        		__call		_sgx_spr_y.1
         11:DF36  20 DA E8   			call	_sgx_spr_y.1
 9162                        	
 9163                        		.dbg	line,	"include\routines_LEVELS.c", 730; }
 9164                        	
 9165                        		.dbg	line,	"include\routines_LEVELS.c", 732; else if(list_object_counter[current_object_id] == 1)
 9166                        		__bra		.LL393
         11:DF39  80 63      			bra	.LL393
 9167    11:DF3B             	.LL392:
 9168                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DF3B  AE 22 2C   			ldx	__anim_OBJECTS_end - 2
 9169                        		__ld.uaxq	_list_object_counter
         11:DF3E  BD 9E 23   			lda	_list_object_counter, x
 9170                        		__equ_b.uiq	1
         11:DF41  C9 01      			cmp	#1
         11:DF43  F0 01      			beq	!+
         11:DF45  18         			clc
         11:DF46             	!:
 9171                        		__bfalse	.LL394
         11:DF46  90 1A      			bcc	.LL394
 9172                        	
 9173                        		.dbg	line,	"include\routines_LEVELS.c", 733; {
 9174                        	
 9175                        		.dbg	line,	"include\routines_LEVELS.c", 734; object_pos_y = sgx_spr_get_y();
 9176                        		__call		_sgx_spr_get_y
         11:DF48  20 3C E9   			call	_sgx_spr_get_y
 9177                        		__st.wmq	__anim_OBJECTS_end - 4  /* object_pos_y */
         11:DF4B  8D 20 2C   			sta.l	__anim_OBJECTS_end - 4
         11:DF4E  8C 21 2C   			sty.h	__anim_OBJECTS_end - 4
 9178                        	
 9179                        		.dbg	line,	"include\routines_LEVELS.c", 735; sgx_spr_y(object_pos_y - 2);
 9180                        		__ld.wm		__anim_OBJECTS_end - 4  /* object_pos_y */
         11:DF51  AD 20 2C   			lda.l	__anim_OBJECTS_end - 4
         11:DF54  AC 21 2C   			ldy.h	__anim_OBJECTS_end - 4
 9181                        		__sub.wi	2
         11:DF57  38         			sec
         11:DF58  E9 02      			sbc.l	#2
         11:DF5A  B0 01      			bcs	!+
         11:DF5C  88         			dey
         11:DF5D             	!:
 9182                        		__call		_sgx_spr_y.1
         11:DF5D  20 DA E8   			call	_sgx_spr_y.1
 9183                        	
 9184                        		.dbg	line,	"include\routines_LEVELS.c", 736; }
 9185                        	
 9186                        		.dbg	line,	"include\routines_LEVELS.c", 738; else if(list_object_counter[current_object_id] == 2)
 9187                        		__bra		.LL395
         11:DF60  80 3C      			bra	.LL395
 9188    11:DF62             	.LL394:
 9189                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DF62  AE 22 2C   			ldx	__anim_OBJECTS_end - 2
 9190                        		__ld.uaxq	_list_object_counter
         11:DF65  BD 9E 23   			lda	_list_object_counter, x
 9191                        		__equ_b.uiq	2
         11:DF68  C9 02      			cmp	#2
         11:DF6A  F0 01      			beq	!+
         11:DF6C  18         			clc
         11:DF6D             	!:
 9192                        		__bfalse	.LL396
         11:DF6D  90 1A      			bcc	.LL396
 9193                        	
 9194                        		.dbg	line,	"include\routines_LEVELS.c", 739; {
 9195                        	
 9196                        		.dbg	line,	"include\routines_LEVELS.c", 740; object_pos_y = sgx_spr_get_y();
 9197                        		__call		_sgx_spr_get_y
         11:DF6F  20 3C E9   			call	_sgx_spr_get_y
 9198                        		__st.wmq	__anim_OBJECTS_end - 4  /* object_pos_y */
         11:DF72  8D 20 2C   			sta.l	__anim_OBJECTS_end - 4
         11:DF75  8C 21 2C   			sty.h	__anim_OBJECTS_end - 4
 9199                        	
 9200                        		.dbg	line,	"include\routines_LEVELS.c", 741; sgx_spr_y(object_pos_y - 1);
 9201                        		__ld.wm		__anim_OBJECTS_end - 4  /* object_pos_y */
         11:DF78  AD 20 2C   			lda.l	__anim_OBJECTS_end - 4
         11:DF7B  AC 21 2C   			ldy.h	__anim_OBJECTS_end - 4
 9202                        		__sub.wi	1
         11:DF7E  38         			sec
         11:DF7F  E9 01      			sbc.l	#1
         11:DF81  B0 01      			bcs	!+
         11:DF83  88         			dey
         11:DF84             	!:
 9203                        		__call		_sgx_spr_y.1
         11:DF84  20 DA E8   			call	_sgx_spr_y.1
 9204                        	
 9205                        		.dbg	line,	"include\routines_LEVELS.c", 742; }
 9206                        	
 9207                        		.dbg	line,	"include\routines_LEVELS.c", 744; else if(list_object_counter[current_object_id] == 4)
 9208                        		__bra		.LL397
         11:DF87  80 15      			bra	.LL397
 9209    11:DF89             	.LL396:
 9210                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DF89  AE 22 2C   			ldx	__anim_OBJECTS_end - 2
 9211                        		__ld.uaxq	_list_object_counter
         11:DF8C  BD 9E 23   			lda	_list_object_counter, x
 9212                        		__equ_b.uiq	4
         11:DF8F  C9 04      			cmp	#4
         11:DF91  F0 01      			beq	!+
         11:DF93  18         			clc
         11:DF94             	!:
 9213                        		__bfalse	.LL398
         11:DF94  90 08      			bcc	.LL398
 9214                        	
 9215                        		.dbg	line,	"include\routines_LEVELS.c", 745; {
 9216                        	
 9217                        		.dbg	line,	"include\routines_LEVELS.c", 746; list_object_state[current_object_id] = STATE_ACTIVE;
 9218                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DF96  AE 22 2C   			ldx	__anim_OBJECTS_end - 2
 9219                        		__st.uaxiq	1, _list_object_state
         11:DF99  A9 01      			lda.l	#1
         11:DF9B  9D 53 23   			sta	_list_object_state, x
 9220                        	
 9221                        		.dbg	line,	"include\routines_LEVELS.c", 747; }
 9222                        	
 9223                        		.dbg	line,	"include\routines_LEVELS.c", 749; list_object_counter[current_object_id] += 1;
 9224    11:DF9E             	.LL398:
 9225    11:DF9E             	.LL397:
 9226    11:DF9E             	.LL395:
 9227    11:DF9E             	.LL393:
 9228                        		__ldx.umq	__anim_OBJECTS_end - 2  /* current_object_id */
         11:DF9E  AE 22 2C   			ldx	__anim_OBJECTS_end - 2
 9229                        		__add_st.uaxiq	1, _list_object_counter
         11:DFA1  FE 9E 23   			inc	_list_object_counter, x
 9230                        	
 9231                        		.dbg	line,	"include\routines_LEVELS.c", 750; }
 9232                        	
 9233                        		.dbg	line,	"include\routines_LEVELS.c", 751; }
 9234    11:DFA4             	.LL391	.alias		.LL354
 9235    11:DFA4             	.LL390	.alias		.LL354
 9236                        	
 9237                        		.dbg	line,	"include\routines_LEVELS.c", 752; }
 9238    11:DFA4             	.LL357	.alias		.LL354
 9239                        		__bra		.LL354
         11:DFA4  4C 1C DC   			bra	.LL354
 9240    11:DFA7             	.LL356:
 9241                        	
 9242                        		.dbg	line,	"include\routines_LEVELS.c", 753; }
 9243                        	
 9244                        		.dbg	line,	"include\routines_LEVELS.c", 754; }
 9245    11:DFA7             	.LL352:
 9246    11:DFA7             	.LL351:
 9247                        		__return	0
         11:DFA7  4C EF FF   			jmp	leave_proc
 9248                        		.dbg	clear
 9249                        		.endp
 9250               2303     		.bss
 9251    F8:2303             	__anim_OBJECTS_end	.alias	leaf_stack
 9252               E31D     		.code
 9253                        		.pceas
 9254                        	
 9255                        		.dbg	line,	"include\routines_LEVELS.c", 762; void joypad_BUTTONS()
 9256                        		.dbg	line,	"include\routines_LEVELS.c", 763; {
 9257                        	;***********************
 9258                        	;***********************
 9259                        	
 9260                        		.hucc
 9261    1E:DD3C             		.proc		_joypad_BUTTONS
 9262                        		__enter		_joypad_BUTTONS
 9263                        	
 9264                        		.dbg	line,	"include\routines_LEVELS.c", 764; // JUMP //
 9265                        	
 9266                        		.dbg	line,	"include\routines_LEVELS.c", 765; if(joytrg(JOYPAD_1) == JOY_I)
 9267                        		__ld.uiq	0
         1E:DD3C  62         			cla
 9268                        		 _joytrg.1
         1E:DD3D  AA         			tax
         1E:DD3E  BD 2D 22   			lda	joytrg, x
         1E:DD41  BC DD 22   			ldy	joy6trg, x
 9269                        		__equ_w.wi	1
         1E:DD44  C9 01      			cmp.l	#1
         1E:DD46  D0 04      			bne	!false+
         1E:DD48  C0 00      			cpy.h	#1
         1E:DD4A  F0 01      			beq	!+
         1E:DD4C  18         	!false:		clc
         1E:DD4D             	!:
 9270                        		__bfalse	.LL400
         1E:DD4D  B0 03 4C FF			bcc	.LL400
         1E:DD51  DE          
 9271                        	
 9272                        		.dbg	line,	"include\routines_LEVELS.c", 766; {
 9273                        	
 9274                        		.dbg	line,	"include\routines_LEVELS.c", 767; if(player_state == STATE_IDLE)
 9275                        		__not.um	_player_state
         1E:DD52  AD 19 23   			lda	_player_state
         1E:DD55  18         			clc
         1E:DD56  D0 01      			bne	!+
         1E:DD58  38         			sec
         1E:DD59             	!:
 9276                        		__bfalse	.LL401
         1E:DD59  90 3E      			bcc	.LL401
 9277                        	
 9278                        		.dbg	line,	"include\routines_LEVELS.c", 768; {
 9279                        	
 9280                        		.dbg	line,	"include\routines_LEVELS.c", 769; hit_wall = FALSE;
 9281                        		__st.umiq	0, _hit_wall
         1E:DD5B  9C 25 23   			stz	_hit_wall
 9282                        	
 9283                        		.dbg	line,	"include\routines_LEVELS.c", 770; 
 9284                        	
 9285                        		.dbg	line,	"include\routines_LEVELS.c", 771; player_counter_anim = 0;
 9286                        		__st.umiq	0, _player_counter_anim
         1E:DD5E  9C 1C 23   			stz	_player_counter_anim
 9287                        	
 9288                        		.dbg	line,	"include\routines_LEVELS.c", 773; player_state = STATE_JUMP;
 9289                        		__st.umiq	4, _player_state
         1E:DD61  A9 04      			lda.l	#4
         1E:DD63  8D 19 23   			sta	_player_state
 9290                        	
 9291                        		.dbg	line,	"include\routines_LEVELS.c", 775; spr_set(weapon_id);
 9292                        		__ld.umq	_weapon_id
         1E:DD66  AD 27 23   			lda	_weapon_id
 9293                        		__call		_spr_set.1
         1E:DD69  20 F1 E7   			call	_spr_set.1
 9294                        	
 9295                        		.dbg	line,	"include\routines_LEVELS.c", 776; 
 9296                        	
 9297                        		.dbg	line,	"include\routines_LEVELS.c", 777; if(player_axis == AXIS_RIGHT)
 9298                        		__not.um	_player_axis
         1E:DD6C  AD 1A 23   			lda	_player_axis
         1E:DD6F  18         			clc
         1E:DD70  D0 01      			bne	!+
         1E:DD72  38         			sec
         1E:DD73             	!:
 9299                        		__bfalse	.LL402
         1E:DD73  90 12      			bcc	.LL402
 9300                        	
 9301                        		.dbg	line,	"include\routines_LEVELS.c", 778; {
 9302                        	
 9303                        		.dbg	line,	"include\routines_LEVELS.c", 779; spr_x(player_pos_x-5);
 9304                        		__ld.wm		_player_pos_x
         1E:DD75  AD F7 24   			lda.l	_player_pos_x
         1E:DD78  AC F8 24   			ldy.h	_player_pos_x
 9305                        		__sub.wi	5
         1E:DD7B  38         			sec
         1E:DD7C  E9 05      			sbc.l	#5
         1E:DD7E  B0 01      			bcs	!+
         1E:DD80  88         			dey
         1E:DD81             	!:
 9306                        		__call		_spr_x.1
         1E:DD81  20 1E E8   			call	_spr_x.1
 9307                        	
 9308                        		.dbg	line,	"include\routines_LEVELS.c", 780; }
 9309                        	
 9310                        		.dbg	line,	"include\routines_LEVELS.c", 782; else
 9311                        		__bra		.LL403
         1E:DD84  4C B0 DF   			bra	.LL403
 9312    1E:DD87             	.LL402:
 9313                        	
 9314                        		.dbg	line,	"include\routines_LEVELS.c", 783; {
 9315                        	
 9316                        		.dbg	line,	"include\routines_LEVELS.c", 784; spr_x(player_pos_x+21);
 9317                        		__ld.wm		_player_pos_x
         1E:DD87  AD F7 24   			lda.l	_player_pos_x
         1E:DD8A  AC F8 24   			ldy.h	_player_pos_x
 9318                        		__add.wi	21
         1E:DD8D  18         			clc
         1E:DD8E  69 15      			adc.l	#21
         1E:DD90  90 01      			bcc	!+
         1E:DD92  C8         			iny
         1E:DD93             	!:
 9319                        		__call		_spr_x.1
         1E:DD93  20 1E E8   			call	_spr_x.1
 9320                        	
 9321                        		.dbg	line,	"include\routines_LEVELS.c", 785; }
 9322    1E:DD96             	.LL403	.alias		.LL404
 9323                        	
 9324                        		.dbg	line,	"include\routines_LEVELS.c", 786; }
 9325                        	
 9326                        		.dbg	line,	"include\routines_LEVELS.c", 789; else if(player_state == STATE_WALK)
 9327                        		__bra		.LL404
         1E:DD96  4C B0 DF   			bra	.LL404
 9328    1E:DD99             	.LL401:
 9329                        		__ld.umq	_player_state
         1E:DD99  AD 19 23   			lda	_player_state
 9330                        		__equ_b.uiq	1
         1E:DD9C  C9 01      			cmp	#1
         1E:DD9E  F0 01      			beq	!+
         1E:DDA0  18         			clc
         1E:DDA1             	!:
 9331                        		__bfalse	.LL405
         1E:DDA1  90 46      			bcc	.LL405
 9332                        	
 9333                        		.dbg	line,	"include\routines_LEVELS.c", 790; {
 9334                        	
 9335                        		.dbg	line,	"include\routines_LEVELS.c", 791; hit_wall = FALSE;
 9336                        		__st.umiq	0, _hit_wall
         1E:DDA3  9C 25 23   			stz	_hit_wall
 9337                        	
 9338                        		.dbg	line,	"include\routines_LEVELS.c", 792; 
 9339                        	
 9340                        		.dbg	line,	"include\routines_LEVELS.c", 793; player_counter_anim = 0;
 9341                        		__st.umiq	0, _player_counter_anim
         1E:DDA6  9C 1C 23   			stz	_player_counter_anim
 9342                        	
 9343                        		.dbg	line,	"include\routines_LEVELS.c", 795; player_state = STATE_JUMP_RIGHT + player_axis;
 9344                        		__ld.wi		5
         1E:DDA9  A9 05      			lda.l	#5
         1E:DDAB  C2         			cly
 9345                        		__add.um	_player_axis
         1E:DDAC  18         			clc
         1E:DDAD  6D 1A 23   			adc	_player_axis
         1E:DDB0  90 01      			bcc	!+
         1E:DDB2  C8         			iny
         1E:DDB3             	!:
 9346                        		__st.umq	_player_state
         1E:DDB3  8D 19 23   			sta	_player_state
 9347                        	
 9348                        		.dbg	line,	"include\routines_LEVELS.c", 797; spr_set(weapon_id);
 9349                        		__ld.umq	_weapon_id
         1E:DDB6  AD 27 23   			lda	_weapon_id
 9350                        		__call		_spr_set.1
         1E:DDB9  20 F1 E7   			call	_spr_set.1
 9351                        	
 9352                        		.dbg	line,	"include\routines_LEVELS.c", 798; 
 9353                        	
 9354                        		.dbg	line,	"include\routines_LEVELS.c", 799; if(player_axis == AXIS_RIGHT)
 9355                        		__not.um	_player_axis
         1E:DDBC  AD 1A 23   			lda	_player_axis
         1E:DDBF  18         			clc
         1E:DDC0  D0 01      			bne	!+
         1E:DDC2  38         			sec
         1E:DDC3             	!:
 9356                        		__bfalse	.LL406
         1E:DDC3  90 12      			bcc	.LL406
 9357                        	
 9358                        		.dbg	line,	"include\routines_LEVELS.c", 800; {
 9359                        	
 9360                        		.dbg	line,	"include\routines_LEVELS.c", 801; spr_x(player_pos_x-5);
 9361                        		__ld.wm		_player_pos_x
         1E:DDC5  AD F7 24   			lda.l	_player_pos_x
         1E:DDC8  AC F8 24   			ldy.h	_player_pos_x
 9362                        		__sub.wi	5
         1E:DDCB  38         			sec
         1E:DDCC  E9 05      			sbc.l	#5
         1E:DDCE  B0 01      			bcs	!+
         1E:DDD0  88         			dey
         1E:DDD1             	!:
 9363                        		__call		_spr_x.1
         1E:DDD1  20 1E E8   			call	_spr_x.1
 9364                        	
 9365                        		.dbg	line,	"include\routines_LEVELS.c", 802; }
 9366                        	
 9367                        		.dbg	line,	"include\routines_LEVELS.c", 804; else
 9368                        		__bra		.LL407
         1E:DDD4  4C B0 DF   			bra	.LL407
 9369    1E:DDD7             	.LL406:
 9370                        	
 9371                        		.dbg	line,	"include\routines_LEVELS.c", 805; {
 9372                        	
 9373                        		.dbg	line,	"include\routines_LEVELS.c", 806; spr_x(player_pos_x+21);
 9374                        		__ld.wm		_player_pos_x
         1E:DDD7  AD F7 24   			lda.l	_player_pos_x
         1E:DDDA  AC F8 24   			ldy.h	_player_pos_x
 9375                        		__add.wi	21
         1E:DDDD  18         			clc
         1E:DDDE  69 15      			adc.l	#21
         1E:DDE0  90 01      			bcc	!+
         1E:DDE2  C8         			iny
         1E:DDE3             	!:
 9376                        		__call		_spr_x.1
         1E:DDE3  20 1E E8   			call	_spr_x.1
 9377                        	
 9378                        		.dbg	line,	"include\routines_LEVELS.c", 807; }
 9379    1E:DDE6             	.LL407	.alias		.LL408
 9380                        	
 9381                        		.dbg	line,	"include\routines_LEVELS.c", 808; }
 9382                        	
 9383                        		.dbg	line,	"include\routines_LEVELS.c", 811; else if(player_state == STATE_HANG || player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
 9384                        		__bra		.LL408
         1E:DDE6  4C B0 DF   			bra	.LL408
 9385    1E:DDE9             	.LL405:
 9386                        		__ld.umq	_player_state
         1E:DDE9  AD 19 23   			lda	_player_state
 9387                        		__equ_b.uiq	10
         1E:DDEC  C9 0A      			cmp	#10
         1E:DDEE  F0 01      			beq	!+
         1E:DDF0  18         			clc
         1E:DDF1             	!:
 9388                        		__btrue		.LL410
         1E:DDF1  B0 08      			bcs	.LL410
 9389                        		__ld.umq	_player_state
         1E:DDF3  AD 19 23   			lda	_player_state
 9390                        		__equ_b.uiq	11
         1E:DDF6  C9 0B      			cmp	#11
         1E:DDF8  F0 01      			beq	!+
         1E:DDFA  18         			clc
         1E:DDFB             	!:
 9391    1E:DDFB             	.LL410:
 9392                        		__btrue		.LL411
         1E:DDFB  B0 08      			bcs	.LL411
 9393                        		__ld.umq	_player_state
         1E:DDFD  AD 19 23   			lda	_player_state
 9394                        		__equ_b.uiq	12
         1E:DE00  C9 0C      			cmp	#12
         1E:DE02  F0 01      			beq	!+
         1E:DE04  18         			clc
         1E:DE05             	!:
 9395    1E:DE05             	.LL411:
 9396                        		__bfalse	.LL409
         1E:DE05  B0 03 4C B0			bcc	.LL409
         1E:DE09  DF          
 9397                        	
 9398                        		.dbg	line,	"include\routines_LEVELS.c", 812; {
 9399                        	
 9400                        		.dbg	line,	"include\routines_LEVELS.c", 813; if(player_attack == FALSE)
 9401                        		__not.um	_player_attack
         1E:DE0A  AD 21 23   			lda	_player_attack
         1E:DE0D  18         			clc
         1E:DE0E  D0 01      			bne	!+
         1E:DE10  38         			sec
         1E:DE11             	!:
 9402                        		__bfalse	.LL412
         1E:DE11  B0 03 4C B0			bcc	.LL412
         1E:DE15  DF          
 9403                        	
 9404                        		.dbg	line,	"include\routines_LEVELS.c", 814; {
 9405                        	
 9406                        		.dbg	line,	"include\routines_LEVELS.c", 815; if(joy(JOYPAD_1) & JOY_RIGHT)
 9407                        		__ld.uiq	0
         1E:DE16  62         			cla
 9408                        		 _joy.1
         1E:DE17  AA         			tax
         1E:DE18  BD 28 22   			lda	joynow, x
         1E:DE1B  BC D3 22   			ldy	joy6now, x
 9409                        		__tand.wi	32
         1E:DE1E  29 20      			and	#32
         1E:DE20  C9 01      	!:		cmp	#1
 9410                        		__bfalse	.LL413
         1E:DE22  90 23      			bcc	.LL413
 9411                        	
 9412                        		.dbg	line,	"include\routines_LEVELS.c", 816; {
 9413                        	
 9414                        		.dbg	line,	"include\routines_LEVELS.c", 817; hit_wall = FALSE;
 9415                        		__st.umiq	0, _hit_wall
         1E:DE24  9C 25 23   			stz	_hit_wall
 9416                        	
 9417                        		.dbg	line,	"include\routines_LEVELS.c", 818; 
 9418                        	
 9419                        		.dbg	line,	"include\routines_LEVELS.c", 819; player_counter_anim = 0;
 9420                        		__st.umiq	0, _player_counter_anim
         1E:DE27  9C 1C 23   			stz	_player_counter_anim
 9421                        	
 9422                        		.dbg	line,	"include\routines_LEVELS.c", 821; player_state = STATE_JUMP_RIGHT;
 9423                        		__st.umiq	5, _player_state
         1E:DE2A  A9 05      			lda.l	#5
         1E:DE2C  8D 19 23   			sta	_player_state
 9424                        	
 9425                        		.dbg	line,	"include\routines_LEVELS.c", 823; spr_set(weapon_id);
 9426                        		__ld.umq	_weapon_id
         1E:DE2F  AD 27 23   			lda	_weapon_id
 9427                        		__call		_spr_set.1
         1E:DE32  20 F1 E7   			call	_spr_set.1
 9428                        	
 9429                        		.dbg	line,	"include\routines_LEVELS.c", 824; spr_x(player_pos_x-5);
 9430                        		__ld.wm		_player_pos_x
         1E:DE35  AD F7 24   			lda.l	_player_pos_x
         1E:DE38  AC F8 24   			ldy.h	_player_pos_x
 9431                        		__sub.wi	5
         1E:DE3B  38         			sec
         1E:DE3C  E9 05      			sbc.l	#5
         1E:DE3E  B0 01      			bcs	!+
         1E:DE40  88         			dey
         1E:DE41             	!:
 9432                        		__call		_spr_x.1
         1E:DE41  20 1E E8   			call	_spr_x.1
 9433                        	
 9434                        		.dbg	line,	"include\routines_LEVELS.c", 825; }
 9435                        	
 9436                        		.dbg	line,	"include\routines_LEVELS.c", 827; else if(joy(JOYPAD_1) & JOY_LEFT)
 9437                        		__bra		.LL414
         1E:DE44  4C B0 DF   			bra	.LL414
 9438    1E:DE47             	.LL413:
 9439                        		__ld.uiq	0
         1E:DE47  62         			cla
 9440                        		 _joy.1
         1E:DE48  AA         			tax
         1E:DE49  BD 28 22   			lda	joynow, x
         1E:DE4C  BC D3 22   			ldy	joy6now, x
 9441                        		__tand.wi	128
         1E:DE4F  29 80      			and	#128
         1E:DE51  C9 01      	!:		cmp	#1
 9442                        		__bfalse	.LL415
         1E:DE53  90 23      			bcc	.LL415
 9443                        	
 9444                        		.dbg	line,	"include\routines_LEVELS.c", 828; {
 9445                        	
 9446                        		.dbg	line,	"include\routines_LEVELS.c", 829; hit_wall = FALSE;
 9447                        		__st.umiq	0, _hit_wall
         1E:DE55  9C 25 23   			stz	_hit_wall
 9448                        	
 9449                        		.dbg	line,	"include\routines_LEVELS.c", 830; 
 9450                        	
 9451                        		.dbg	line,	"include\routines_LEVELS.c", 831; player_counter_anim = 0;
 9452                        		__st.umiq	0, _player_counter_anim
         1E:DE58  9C 1C 23   			stz	_player_counter_anim
 9453                        	
 9454                        		.dbg	line,	"include\routines_LEVELS.c", 833; player_state = STATE_JUMP_LEFT;
 9455                        		__st.umiq	6, _player_state
         1E:DE5B  A9 06      			lda.l	#6
         1E:DE5D  8D 19 23   			sta	_player_state
 9456                        	
 9457                        		.dbg	line,	"include\routines_LEVELS.c", 835; spr_set(weapon_id);
 9458                        		__ld.umq	_weapon_id
         1E:DE60  AD 27 23   			lda	_weapon_id
 9459                        		__call		_spr_set.1
         1E:DE63  20 F1 E7   			call	_spr_set.1
 9460                        	
 9461                        		.dbg	line,	"include\routines_LEVELS.c", 836; spr_x(player_pos_x+21);
 9462                        		__ld.wm		_player_pos_x
         1E:DE66  AD F7 24   			lda.l	_player_pos_x
         1E:DE69  AC F8 24   			ldy.h	_player_pos_x
 9463                        		__add.wi	21
         1E:DE6C  18         			clc
         1E:DE6D  69 15      			adc.l	#21
         1E:DE6F  90 01      			bcc	!+
         1E:DE71  C8         			iny
         1E:DE72             	!:
 9464                        		__call		_spr_x.1
         1E:DE72  20 1E E8   			call	_spr_x.1
 9465                        	
 9466                        		.dbg	line,	"include\routines_LEVELS.c", 837; }
 9467                        	
 9468                        		.dbg	line,	"include\routines_LEVELS.c", 839; else if(joy(JOYPAD_1) & JOY_UP)
 9469                        		__bra		.LL416
         1E:DE75  4C B0 DF   			bra	.LL416
 9470    1E:DE78             	.LL415:
 9471                        		__ld.uiq	0
         1E:DE78  62         			cla
 9472                        		 _joy.1
         1E:DE79  AA         			tax
         1E:DE7A  BD 28 22   			lda	joynow, x
         1E:DE7D  BC D3 22   			ldy	joy6now, x
 9473                        		__tand.wi	16
         1E:DE80  29 10      			and	#16
         1E:DE82  C9 01      	!:		cmp	#1
 9474                        		__bfalse	.LL417
         1E:DE84  B0 03 4C B0			bcc	.LL417
         1E:DE88  DF          
 9475                        	
 9476                        		.dbg	line,	"include\routines_LEVELS.c", 840; {
 9477                        	
 9478                        		.dbg	line,	"include\routines_LEVELS.c", 841; hit_wall = FALSE;
 9479                        		__st.umiq	0, _hit_wall
         1E:DE89  9C 25 23   			stz	_hit_wall
 9480                        	
 9481                        		.dbg	line,	"include\routines_LEVELS.c", 842; 
 9482                        	
 9483                        		.dbg	line,	"include\routines_LEVELS.c", 843; player_counter_anim = 0;
 9484                        		__st.umiq	0, _player_counter_anim
         1E:DE8C  9C 1C 23   			stz	_player_counter_anim
 9485                        	
 9486                        		.dbg	line,	"include\routines_LEVELS.c", 845; collision_PLAYER_BG( 15 , 8 );
 9487                        		__ld.wi		15
         1E:DE8F  A9 0F      			lda.l	#15
         1E:DE91  C2         			cly
 9488                        		__pusharg.wr
         1E:DE92  A6 8D      			ldx	<__sp
         1E:DE94  CA         			dex
         1E:DE95  CA         			dex
         1E:DE96  95 08      			sta.l	<__stack, x
         1E:DE98  94 09      			sty.h	<__stack, x
         1E:DE9A  86 8D      			stx	<__sp
 9489                        		__ld.wi		8
         1E:DE9C  A9 08      			lda.l	#8
         1E:DE9E  C2         			cly
 9490                        		__pusharg.wr
         1E:DE9F  A6 8D      			ldx	<__sp
         1E:DEA1  CA         			dex
         1E:DEA2  CA         			dex
         1E:DEA3  95 08      			sta.l	<__stack, x
         1E:DEA5  94 09      			sty.h	<__stack, x
         1E:DEA7  86 8D      			stx	<__sp
 9491                        		__call		_collision_PLAYER_BG
         1E:DEA9  20 27 FF   			call	_collision_PLAYER_BG
 9492                        	
 9493                        		.dbg	line,	"include\routines_LEVELS.c", 847; if(map_blk_flag == TILE_EMPTY)
 9494                        		__not.um	_map_blk_flag
         1E:DEAC  AD FB 2B   			lda	_map_blk_flag
         1E:DEAF  18         			clc
         1E:DEB0  D0 01      			bne	!+
         1E:DEB2  38         			sec
         1E:DEB3             	!:
 9495                        		__bfalse	.LL418
         1E:DEB3  B0 03 4C B0			bcc	.LL418
         1E:DEB7  DF          
 9496                        	
 9497                        		.dbg	line,	"include\routines_LEVELS.c", 848; {
 9498                        	
 9499                        		.dbg	line,	"include\routines_LEVELS.c", 849; player_state = STATE_JUMP_LADDER;
 9500                        		__st.umiq	13, _player_state
         1E:DEB8  A9 0D      			lda.l	#13
         1E:DEBA  8D 19 23   			sta	_player_state
 9501                        	
 9502                        		.dbg	line,	"include\routines_LEVELS.c", 851; spr_set(weapon_id);
 9503                        		__ld.umq	_weapon_id
         1E:DEBD  AD 27 23   			lda	_weapon_id
 9504                        		__call		_spr_set.1
         1E:DEC0  20 F1 E7   			call	_spr_set.1
 9505                        	
 9506                        		.dbg	line,	"include\routines_LEVELS.c", 852; spr_y(player_pos_y+8);
 9507                        		__ld.wm		_player_pos_y
         1E:DEC3  AD F9 24   			lda.l	_player_pos_y
         1E:DEC6  AC FA 24   			ldy.h	_player_pos_y
 9508                        		__add.wi	8
         1E:DEC9  18         			clc
         1E:DECA  69 08      			adc.l	#8
         1E:DECC  90 01      			bcc	!+
         1E:DECE  C8         			iny
         1E:DECF             	!:
 9509                        		__call		_spr_y.1
         1E:DECF  20 2D E8   			call	_spr_y.1
 9510                        	
 9511                        		.dbg	line,	"include\routines_LEVELS.c", 853; 
 9512                        	
 9513                        		.dbg	line,	"include\routines_LEVELS.c", 854; if(player_axis == AXIS_RIGHT)
 9514                        		__not.um	_player_axis
         1E:DED2  AD 1A 23   			lda	_player_axis
         1E:DED5  18         			clc
         1E:DED6  D0 01      			bne	!+
         1E:DED8  38         			sec
         1E:DED9             	!:
 9515                        		__bfalse	.LL419
         1E:DED9  90 12      			bcc	.LL419
 9516                        	
 9517                        		.dbg	line,	"include\routines_LEVELS.c", 855; {
 9518                        	
 9519                        		.dbg	line,	"include\routines_LEVELS.c", 856; spr_x(player_pos_x-5);
 9520                        		__ld.wm		_player_pos_x
         1E:DEDB  AD F7 24   			lda.l	_player_pos_x
         1E:DEDE  AC F8 24   			ldy.h	_player_pos_x
 9521                        		__sub.wi	5
         1E:DEE1  38         			sec
         1E:DEE2  E9 05      			sbc.l	#5
         1E:DEE4  B0 01      			bcs	!+
         1E:DEE6  88         			dey
         1E:DEE7             	!:
 9522                        		__call		_spr_x.1
         1E:DEE7  20 1E E8   			call	_spr_x.1
 9523                        	
 9524                        		.dbg	line,	"include\routines_LEVELS.c", 857; }
 9525                        	
 9526                        		.dbg	line,	"include\routines_LEVELS.c", 859; else
 9527                        		__bra		.LL420
         1E:DEEA  4C B0 DF   			bra	.LL420
 9528    1E:DEED             	.LL419:
 9529                        	
 9530                        		.dbg	line,	"include\routines_LEVELS.c", 860; {
 9531                        	
 9532                        		.dbg	line,	"include\routines_LEVELS.c", 861; spr_x(player_pos_x+21);
 9533                        		__ld.wm		_player_pos_x
         1E:DEED  AD F7 24   			lda.l	_player_pos_x
         1E:DEF0  AC F8 24   			ldy.h	_player_pos_x
 9534                        		__add.wi	21
         1E:DEF3  18         			clc
         1E:DEF4  69 15      			adc.l	#21
         1E:DEF6  90 01      			bcc	!+
         1E:DEF8  C8         			iny
         1E:DEF9             	!:
 9535                        		__call		_spr_x.1
         1E:DEF9  20 1E E8   			call	_spr_x.1
 9536                        	
 9537                        		.dbg	line,	"include\routines_LEVELS.c", 862; }
 9538    1E:DEFC             	.LL420	.alias		.LL421
 9539                        	
 9540                        		.dbg	line,	"include\routines_LEVELS.c", 863; }
 9541                        	
 9542                        		.dbg	line,	"include\routines_LEVELS.c", 864; }
 9543    1E:DEFC             	.LL418	.alias		.LL421
 9544                        	
 9545                        		.dbg	line,	"include\routines_LEVELS.c", 865; }
 9546    1E:DEFC             	.LL417	.alias		.LL421
 9547    1E:DEFC             	.LL416	.alias		.LL421
 9548    1E:DEFC             	.LL414	.alias		.LL421
 9549                        	
 9550                        		.dbg	line,	"include\routines_LEVELS.c", 866; }
 9551    1E:DEFC             	.LL412	.alias		.LL421
 9552                        	
 9553                        		.dbg	line,	"include\routines_LEVELS.c", 867; }
 9554    1E:DEFC             	.LL409	.alias		.LL421
 9555    1E:DEFC             	.LL408	.alias		.LL421
 9556    1E:DEFC             	.LL404	.alias		.LL421
 9557                        	
 9558                        		.dbg	line,	"include\routines_LEVELS.c", 869; // ATTACK //
 9559                        	
 9560                        		.dbg	line,	"include\routines_LEVELS.c", 870; else if(joytrg(JOYPAD_1) == JOY_II)
 9561                        		__bra		.LL421
         1E:DEFC  4C B0 DF   			bra	.LL421
 9562    1E:DEFF             	.LL400:
 9563                        		__ld.uiq	0
         1E:DEFF  62         			cla
 9564                        		 _joytrg.1
         1E:DF00  AA         			tax
         1E:DF01  BD 2D 22   			lda	joytrg, x
         1E:DF04  BC DD 22   			ldy	joy6trg, x
 9565                        		__equ_w.wi	2
         1E:DF07  C9 02      			cmp.l	#2
         1E:DF09  D0 04      			bne	!false+
         1E:DF0B  C0 00      			cpy.h	#2
         1E:DF0D  F0 01      			beq	!+
         1E:DF0F  18         	!false:		clc
         1E:DF10             	!:
 9566                        		__bfalse	.LL422
         1E:DF10  B0 03 4C B0			bcc	.LL422
         1E:DF14  DF          
 9567                        	
 9568                        		.dbg	line,	"include\routines_LEVELS.c", 871; {
 9569                        	
 9570                        		.dbg	line,	"include\routines_LEVELS.c", 872; if(player_state == STATE_IDLE || player_state == STATE_WALK)
 9571                        		__not.um	_player_state
         1E:DF15  AD 19 23   			lda	_player_state
         1E:DF18  18         			clc
         1E:DF19  D0 01      			bne	!+
         1E:DF1B  38         			sec
         1E:DF1C             	!:
 9572                        		__btrue		.LL424
         1E:DF1C  B0 08      			bcs	.LL424
 9573                        		__ld.umq	_player_state
         1E:DF1E  AD 19 23   			lda	_player_state
 9574                        		__equ_b.uiq	1
         1E:DF21  C9 01      			cmp	#1
         1E:DF23  F0 01      			beq	!+
         1E:DF25  18         			clc
         1E:DF26             	!:
 9575    1E:DF26             	.LL424:
 9576                        		__bfalse	.LL423
         1E:DF26  90 18      			bcc	.LL423
 9577                        	
 9578                        		.dbg	line,	"include\routines_LEVELS.c", 873; {
 9579                        	
 9580                        		.dbg	line,	"include\routines_LEVELS.c", 874; list_chain_active[0] = FALSE;
 9581                        		__st.umiq	0, _list_chain_active
         1E:DF28  9C 2B 23   			stz	_list_chain_active
 9582                        	
 9583                        		.dbg	line,	"include\routines_LEVELS.c", 875; list_chain_active[1] = FALSE;
 9584                        		__st.umiq	0, _list_chain_active + 1
         1E:DF2B  9C 2C 23   			stz	_list_chain_active + 1
 9585                        	
 9586                        		.dbg	line,	"include\routines_LEVELS.c", 876; list_chain_active[2] = FALSE;
 9587                        		__st.umiq	0, _list_chain_active + 2
         1E:DF2E  9C 2D 23   			stz	_list_chain_active + 2
 9588                        	
 9589                        		.dbg	line,	"include\routines_LEVELS.c", 878; chain_unfold = TRUE;
 9590                        		__st.umiq	1, _chain_unfold
         1E:DF31  A9 01      			lda.l	#1
         1E:DF33  8D 2A 23   			sta	_chain_unfold
 9591                        	
 9592                        		.dbg	line,	"include\routines_LEVELS.c", 879; player_counter_attack = 0;
 9593                        		__st.umiq	0, _player_counter_attack
         1E:DF36  9C 1F 23   			stz	_player_counter_attack
 9594                        	
 9595                        		.dbg	line,	"include\routines_LEVELS.c", 880; player_state = STATE_ATTACK;
 9596                        		__st.umiq	2, _player_state
         1E:DF39  A9 02      			lda.l	#2
         1E:DF3B  8D 19 23   			sta	_player_state
 9597                        	
 9598                        		.dbg	line,	"include\routines_LEVELS.c", 881; }
 9599                        	
 9600                        		.dbg	line,	"include\routines_LEVELS.c", 883; else if(player_state == STATE_JUMP)
 9601                        		__bra		.LL425
         1E:DF3E  80 70      			bra	.LL425
 9602    1E:DF40             	.LL423:
 9603                        		__ld.umq	_player_state
         1E:DF40  AD 19 23   			lda	_player_state
 9604                        		__equ_b.uiq	4
         1E:DF43  C9 04      			cmp	#4
         1E:DF45  F0 01      			beq	!+
         1E:DF47  18         			clc
         1E:DF48             	!:
 9605                        		__bfalse	.LL426
         1E:DF48  90 02      			bcc	.LL426
 9606                        	
 9607                        		.dbg	line,	"include\routines_LEVELS.c", 884; {
 9608                        	
 9609                        		.dbg	line,	"include\routines_LEVELS.c", 885; /*if(player_attack == FALSE)
 9610                        	
 9611                        		.dbg	line,	"include\routines_LEVELS.c", 886; {
 9612                        	
 9613                        		.dbg	line,	"include\routines_LEVELS.c", 887; chain_unfold = TRUE;
 9614                        	
 9615                        		.dbg	line,	"include\routines_LEVELS.c", 888; player_counter_attack = 0;
 9616                        	
 9617                        		.dbg	line,	"include\routines_LEVELS.c", 889; player_attack = TRUE;
 9618                        	
 9619                        		.dbg	line,	"include\routines_LEVELS.c", 890; }*/
 9620                        	
 9621                        		.dbg	line,	"include\routines_LEVELS.c", 891; }
 9622                        	
 9623                        		.dbg	line,	"include\routines_LEVELS.c", 893; else if(player_state == STATE_CROUCH)
 9624                        		__bra		.LL427
         1E:DF4A  80 64      			bra	.LL427
 9625    1E:DF4C             	.LL426:
 9626                        		__ld.umq	_player_state
         1E:DF4C  AD 19 23   			lda	_player_state
 9627                        		__equ_b.uiq	7
         1E:DF4F  C9 07      			cmp	#7
         1E:DF51  F0 01      			beq	!+
         1E:DF53  18         			clc
         1E:DF54             	!:
 9628                        		__bfalse	.LL428
         1E:DF54  90 18      			bcc	.LL428
 9629                        	
 9630                        		.dbg	line,	"include\routines_LEVELS.c", 894; {
 9631                        	
 9632                        		.dbg	line,	"include\routines_LEVELS.c", 895; list_chain_active[0] = FALSE;
 9633                        		__st.umiq	0, _list_chain_active
         1E:DF56  9C 2B 23   			stz	_list_chain_active
 9634                        	
 9635                        		.dbg	line,	"include\routines_LEVELS.c", 896; list_chain_active[1] = FALSE;
 9636                        		__st.umiq	0, _list_chain_active + 1
         1E:DF59  9C 2C 23   			stz	_list_chain_active + 1
 9637                        	
 9638                        		.dbg	line,	"include\routines_LEVELS.c", 897; list_chain_active[2] = FALSE;
 9639                        		__st.umiq	0, _list_chain_active + 2
         1E:DF5C  9C 2D 23   			stz	_list_chain_active + 2
 9640                        	
 9641                        		.dbg	line,	"include\routines_LEVELS.c", 899; chain_unfold = TRUE;
 9642                        		__st.umiq	1, _chain_unfold
         1E:DF5F  A9 01      			lda.l	#1
         1E:DF61  8D 2A 23   			sta	_chain_unfold
 9643                        	
 9644                        		.dbg	line,	"include\routines_LEVELS.c", 900; player_counter_attack = 0;
 9645                        		__st.umiq	0, _player_counter_attack
         1E:DF64  9C 1F 23   			stz	_player_counter_attack
 9646                        	
 9647                        		.dbg	line,	"include\routines_LEVELS.c", 901; player_state = STATE_CROUCH_ATTACK;
 9648                        		__st.umiq	8, _player_state
         1E:DF67  A9 08      			lda.l	#8
         1E:DF69  8D 19 23   			sta	_player_state
 9649                        	
 9650                        		.dbg	line,	"include\routines_LEVELS.c", 902; }
 9651                        	
 9652                        		.dbg	line,	"include\routines_LEVELS.c", 904; else if(player_state == STATE_HANG || player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
 9653                        		__bra		.LL429
         1E:DF6C  80 42      			bra	.LL429
 9654    1E:DF6E             	.LL428:
 9655                        		__ld.umq	_player_state
         1E:DF6E  AD 19 23   			lda	_player_state
 9656                        		__equ_b.uiq	10
         1E:DF71  C9 0A      			cmp	#10
         1E:DF73  F0 01      			beq	!+
         1E:DF75  18         			clc
         1E:DF76             	!:
 9657                        		__btrue		.LL431
         1E:DF76  B0 08      			bcs	.LL431
 9658                        		__ld.umq	_player_state
         1E:DF78  AD 19 23   			lda	_player_state
 9659                        		__equ_b.uiq	11
         1E:DF7B  C9 0B      			cmp	#11
         1E:DF7D  F0 01      			beq	!+
         1E:DF7F  18         			clc
         1E:DF80             	!:
 9660    1E:DF80             	.LL431:
 9661                        		__btrue		.LL432
         1E:DF80  B0 08      			bcs	.LL432
 9662                        		__ld.umq	_player_state
         1E:DF82  AD 19 23   			lda	_player_state
 9663                        		__equ_b.uiq	12
         1E:DF85  C9 0C      			cmp	#12
         1E:DF87  F0 01      			beq	!+
         1E:DF89  18         			clc
         1E:DF8A             	!:
 9664    1E:DF8A             	.LL432:
 9665                        		__bfalse	.LL430
         1E:DF8A  90 24      			bcc	.LL430
 9666                        	
 9667                        		.dbg	line,	"include\routines_LEVELS.c", 905; {
 9668                        	
 9669                        		.dbg	line,	"include\routines_LEVELS.c", 906; if(player_attack == FALSE)
 9670                        		__not.um	_player_attack
         1E:DF8C  AD 21 23   			lda	_player_attack
         1E:DF8F  18         			clc
         1E:DF90  D0 01      			bne	!+
         1E:DF92  38         			sec
         1E:DF93             	!:
 9671                        		__bfalse	.LL433
         1E:DF93  90 1B      			bcc	.LL433
 9672                        	
 9673                        		.dbg	line,	"include\routines_LEVELS.c", 907; {
 9674                        	
 9675                        		.dbg	line,	"include\routines_LEVELS.c", 908; list_chain_active[0] = FALSE;
 9676                        		__st.umiq	0, _list_chain_active
         1E:DF95  9C 2B 23   			stz	_list_chain_active
 9677                        	
 9678                        		.dbg	line,	"include\routines_LEVELS.c", 909; list_chain_active[1] = FALSE;
 9679                        		__st.umiq	0, _list_chain_active + 1
         1E:DF98  9C 2C 23   			stz	_list_chain_active + 1
 9680                        	
 9681                        		.dbg	line,	"include\routines_LEVELS.c", 910; list_chain_active[2] = FALSE;
 9682                        		__st.umiq	0, _list_chain_active + 2
         1E:DF9B  9C 2D 23   			stz	_list_chain_active + 2
 9683                        	
 9684                        		.dbg	line,	"include\routines_LEVELS.c", 911; 
 9685                        	
 9686                        		.dbg	line,	"include\routines_LEVELS.c", 912; player_counter_attack = 0;
 9687                        		__st.umiq	0, _player_counter_attack
         1E:DF9E  9C 1F 23   			stz	_player_counter_attack
 9688                        	
 9689                        		.dbg	line,	"include\routines_LEVELS.c", 913; chain_unfold = TRUE;
 9690                        		__st.umiq	1, _chain_unfold
         1E:DFA1  A9 01      			lda.l	#1
         1E:DFA3  8D 2A 23   			sta	_chain_unfold
 9691                        	
 9692                        		.dbg	line,	"include\routines_LEVELS.c", 914; player_attack = TRUE;
 9693                        		__st.umiq	1, _player_attack
         1E:DFA6  A9 01      			lda.l	#1
         1E:DFA8  8D 21 23   			sta	_player_attack
 9694                        	
 9695                        		.dbg	line,	"include\routines_LEVELS.c", 915; player_state = STATE_HANG;
 9696                        		__st.umiq	10, _player_state
         1E:DFAB  A9 0A      			lda.l	#10
         1E:DFAD  8D 19 23   			sta	_player_state
 9697                        	
 9698                        		.dbg	line,	"include\routines_LEVELS.c", 916; }
 9699                        	
 9700                        		.dbg	line,	"include\routines_LEVELS.c", 917; }
 9701    1E:DFB0             	.LL433:
 9702                        	
 9703                        		.dbg	line,	"include\routines_LEVELS.c", 918; }
 9704    1E:DFB0             	.LL430:
 9705    1E:DFB0             	.LL429:
 9706    1E:DFB0             	.LL427:
 9707    1E:DFB0             	.LL425:
 9708                        	
 9709                        		.dbg	line,	"include\routines_LEVELS.c", 919; }
 9710    1E:DFB0             	.LL422:
 9711    1E:DFB0             	.LL421:
 9712    1E:DFB0             	.LL399:
 9713                        		__return	0
         1E:DFB0  4C EF FF   			jmp	leave_proc
 9714                        		.dbg	clear
 9715                        		.endp
 9716                        		.pceas
 9717                        	
 9718                        		.dbg	line,	"include\routines_LEVELS.c", 922; void joypad_DIR()
 9719                        		.dbg	line,	"include\routines_LEVELS.c", 923; {
 9720                        	;***********************
 9721                        	;***********************
 9722                        	
 9723                        		.hucc
 9724    1D:D340             		.proc		_joypad_DIR
 9725                        		__enter		_joypad_DIR
 9726                        	
 9727                        		.dbg	line,	"include\routines_LEVELS.c", 924; //--------------------------------------------------------------------------------------//
 9728                        	
 9729                        		.dbg	line,	"include\routines_LEVELS.c", 925; //                                        NO DIR                                        //
 9730                        	
 9731                        		.dbg	line,	"include\routines_LEVELS.c", 926; //--------------------------------------------------------------------------------------//
 9732                        	
 9733                        		.dbg	line,	"include\routines_LEVELS.c", 928; if(! (joy(JOYPAD_1) & JOY_DIR_PRESSED) )
 9734                        		__ld.uiq	0
         1D:D340  62         			cla
 9735                        		 _joy.1
         1D:D341  AA         			tax
         1D:D342  BD 28 22   			lda	joynow, x
         1D:D345  BC D3 22   			ldy	joy6now, x
 9736                        		__nand.wi	240
         1D:D348  18         			clc
         1D:D349  29 F0      			and	#240
         1D:D34B  D0 01      			bne	!+
         1D:D34D  38         			sec
         1D:D34E             	!:
 9737                        		__bfalse	.LL435
         1D:D34E  90 58      			bcc	.LL435
 9738                        	
 9739                        		.dbg	line,	"include\routines_LEVELS.c", 929; {
 9740                        	
 9741                        		.dbg	line,	"include\routines_LEVELS.c", 930; if(player_state == STATE_WALK || player_state == STATE_CROUCH)
 9742                        		__ld.umq	_player_state
         1D:D350  AD 19 23   			lda	_player_state
 9743                        		__equ_b.uiq	1
         1D:D353  C9 01      			cmp	#1
         1D:D355  F0 01      			beq	!+
         1D:D357  18         			clc
         1D:D358             	!:
 9744                        		__btrue		.LL437
         1D:D358  B0 08      			bcs	.LL437
 9745                        		__ld.umq	_player_state
         1D:D35A  AD 19 23   			lda	_player_state
 9746                        		__equ_b.uiq	7
         1D:D35D  C9 07      			cmp	#7
         1D:D35F  F0 01      			beq	!+
         1D:D361  18         			clc
         1D:D362             	!:
 9747    1D:D362             	.LL437:
 9748                        		__bfalse	.LL436
         1D:D362  90 13      			bcc	.LL436
 9749                        	
 9750                        		.dbg	line,	"include\routines_LEVELS.c", 931; {
 9751                        	
 9752                        		.dbg	line,	"include\routines_LEVELS.c", 932; if(player_attack == FALSE)
 9753                        		__not.um	_player_attack
         1D:D364  AD 21 23   			lda	_player_attack
         1D:D367  18         			clc
         1D:D368  D0 01      			bne	!+
         1D:D36A  38         			sec
         1D:D36B             	!:
 9754                        		__bfalse	.LL438
         1D:D36B  90 3B      			bcc	.LL438
 9755                        	
 9756                        		.dbg	line,	"include\routines_LEVELS.c", 933; {
 9757                        	
 9758                        		.dbg	line,	"include\routines_LEVELS.c", 934; player_counter_anim = 1;
 9759                        		__st.umiq	1, _player_counter_anim
         1D:D36D  A9 01      			lda.l	#1
         1D:D36F  8D 1C 23   			sta	_player_counter_anim
 9760                        	
 9761                        		.dbg	line,	"include\routines_LEVELS.c", 935; player_state = STATE_IDLE;
 9762                        		__st.umiq	0, _player_state
         1D:D372  9C 19 23   			stz	_player_state
 9763                        	
 9764                        		.dbg	line,	"include\routines_LEVELS.c", 936; }
 9765                        	
 9766                        		.dbg	line,	"include\routines_LEVELS.c", 937; }
 9767    1D:D375             	.LL438	.alias		.LL439
 9768                        	
 9769                        		.dbg	line,	"include\routines_LEVELS.c", 940; else if(player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
 9770                        		__bra		.LL439
         1D:D375  80 31      			bra	.LL439
 9771    1D:D377             	.LL436:
 9772                        		__ld.umq	_player_state
         1D:D377  AD 19 23   			lda	_player_state
 9773                        		__equ_b.uiq	11
         1D:D37A  C9 0B      			cmp	#11
         1D:D37C  F0 01      			beq	!+
         1D:D37E  18         			clc
         1D:D37F             	!:
 9774                        		__btrue		.LL441
         1D:D37F  B0 08      			bcs	.LL441
 9775                        		__ld.umq	_player_state
         1D:D381  AD 19 23   			lda	_player_state
 9776                        		__equ_b.uiq	12
         1D:D384  C9 0C      			cmp	#12
         1D:D386  F0 01      			beq	!+
         1D:D388  18         			clc
         1D:D389             	!:
 9777    1D:D389             	.LL441:
 9778                        		__bfalse	.LL440
         1D:D389  90 1D      			bcc	.LL440
 9779                        	
 9780                        		.dbg	line,	"include\routines_LEVELS.c", 941; {
 9781                        	
 9782                        		.dbg	line,	"include\routines_LEVELS.c", 942; if(player_attack == FALSE)
 9783                        		__not.um	_player_attack
         1D:D38B  AD 21 23   			lda	_player_attack
         1D:D38E  18         			clc
         1D:D38F  D0 01      			bne	!+
         1D:D391  38         			sec
         1D:D392             	!:
 9784                        		__bfalse	.LL442
         1D:D392  90 14      			bcc	.LL442
 9785                        	
 9786                        		.dbg	line,	"include\routines_LEVELS.c", 943; {
 9787                        	
 9788                        		.dbg	line,	"include\routines_LEVELS.c", 944; spr_set(player_id);
 9789                        		__ld.umq	_player_id
         1D:D394  AD 18 23   			lda	_player_id
 9790                        		__call		_spr_set.1
         1D:D397  20 F1 E7   			call	_spr_set.1
 9791                        	
 9792                        		.dbg	line,	"include\routines_LEVELS.c", 945; spr_pattern(PLAYER_HANG_VRAM_ADR);
 9793                        		__ld.wi		8448
         1D:D39A  62         			cla
         1D:D39B  A0 21      			ldy.h	#8448
 9794                        		__call		_spr_pattern.1
         1D:D39D  20 3A E8   			call	_spr_pattern.1
 9795                        	
 9796                        		.dbg	line,	"include\routines_LEVELS.c", 946; player_counter_anim = 0;
 9797                        		__st.umiq	0, _player_counter_anim
         1D:D3A0  9C 1C 23   			stz	_player_counter_anim
 9798                        	
 9799                        		.dbg	line,	"include\routines_LEVELS.c", 947; player_state = STATE_HANG;
 9800                        		__st.umiq	10, _player_state
         1D:D3A3  A9 0A      			lda.l	#10
         1D:D3A5  8D 19 23   			sta	_player_state
 9801                        	
 9802                        		.dbg	line,	"include\routines_LEVELS.c", 948; }
 9803                        	
 9804                        		.dbg	line,	"include\routines_LEVELS.c", 949; }
 9805    1D:D3A8             	.LL442:
 9806                        	
 9807                        		.dbg	line,	"include\routines_LEVELS.c", 950; }
 9808    1D:D3A8             	.LL440:
 9809    1D:D3A8             	.LL439:
 9810                        	
 9811                        		.dbg	line,	"include\routines_LEVELS.c", 953; //--------------------------------------------------------------------------------------//
 9812                        	
 9813                        		.dbg	line,	"include\routines_LEVELS.c", 954; //                                     RIGHT BUTTON                                     //
 9814                        	
 9815                        		.dbg	line,	"include\routines_LEVELS.c", 955; //--------------------------------------------------------------------------------------//
 9816                        	
 9817                        		.dbg	line,	"include\routines_LEVELS.c", 957; if(joy(JOYPAD_1) & JOY_RIGHT)
 9818    1D:D3A8             	.LL435:
 9819                        		__ld.uiq	0
         1D:D3A8  62         			cla
 9820                        		 _joy.1
         1D:D3A9  AA         			tax
         1D:D3AA  BD 28 22   			lda	joynow, x
         1D:D3AD  BC D3 22   			ldy	joy6now, x
 9821                        		__tand.wi	32
         1D:D3B0  29 20      			and	#32
         1D:D3B2  C9 01      	!:		cmp	#1
 9822                        		__bfalse	.LL443
         1D:D3B4  B0 03 4C 73			bcc	.LL443
         1D:D3B8  D7          
 9823                        	
 9824                        		.dbg	line,	"include\routines_LEVELS.c", 958; {
 9825                        	
 9826                        		.dbg	line,	"include\routines_LEVELS.c", 959; if(player_state == STATE_IDLE || player_state == STATE_WALK)
 9827                        		__not.um	_player_state
         1D:D3B9  AD 19 23   			lda	_player_state
         1D:D3BC  18         			clc
         1D:D3BD  D0 01      			bne	!+
         1D:D3BF  38         			sec
         1D:D3C0             	!:
 9828                        		__btrue		.LL445
         1D:D3C0  B0 08      			bcs	.LL445
 9829                        		__ld.umq	_player_state
         1D:D3C2  AD 19 23   			lda	_player_state
 9830                        		__equ_b.uiq	1
         1D:D3C5  C9 01      			cmp	#1
         1D:D3C7  F0 01      			beq	!+
         1D:D3C9  18         			clc
         1D:D3CA             	!:
 9831    1D:D3CA             	.LL445:
 9832                        		__bfalse	.LL444
         1D:D3CA  B0 03 4C 67			bcc	.LL444
         1D:D3CE  D4          
 9833                        	
 9834                        		.dbg	line,	"include\routines_LEVELS.c", 960; {
 9835                        	
 9836                        		.dbg	line,	"include\routines_LEVELS.c", 961; player_axis = AXIS_RIGHT;
 9837                        		__st.umiq	0, _player_axis
         1D:D3CF  9C 1A 23   			stz	_player_axis
 9838                        	
 9839                        		.dbg	line,	"include\routines_LEVELS.c", 963; if(player_previous_axis != player_axis)
 9840                        		__ld.umq	_player_previous_axis
         1D:D3D2  AD 1B 23   			lda	_player_previous_axis
 9841                        		__neq_b.umq	_player_axis
         1D:D3D5  38         			sec
         1D:D3D6  4D 1A 23   			eor	_player_axis
         1D:D3D9  D0 01      			bne	!+
         1D:D3DB  18         			clc
         1D:D3DC             	!:
 9842                        		__bfalse	.LL446
         1D:D3DC  90 66      			bcc	.LL446
 9843                        	
 9844                        		.dbg	line,	"include\routines_LEVELS.c", 964; {
 9845                        	
 9846                        		.dbg	line,	"include\routines_LEVELS.c", 965; player_previous_axis = player_axis;
 9847                        		__ld.um		_player_axis
         1D:D3DE  AD 1A 23   			lda	_player_axis
         1D:D3E1  C2         			cly
 9848                        		__st.umq	_player_previous_axis
         1D:D3E2  8D 1B 23   			sta	_player_previous_axis
 9849                        	
 9850                        		.dbg	line,	"include\routines_LEVELS.c", 967; spr_set(player_id);
 9851                        		__ld.umq	_player_id
         1D:D3E5  AD 18 23   			lda	_player_id
 9852                        		__call		_spr_set.1
         1D:D3E8  20 F1 E7   			call	_spr_set.1
 9853                        	
 9854                        		.dbg	line,	"include\routines_LEVELS.c", 968; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9855                        		__st.umiq	136, _al
         1D:D3EB  A9 88      			lda.l	#136
         1D:D3ED  85 F8      			sta	_al
 9856                        		__ld.uiq	0
         1D:D3EF  62         			cla
 9857                        		__call		_spr_ctrl.2
         1D:D3F0  20 50 E8   			call	_spr_ctrl.2
 9858                        	
 9859                        		.dbg	line,	"include\routines_LEVELS.c", 970; spr_set(chain_id);
 9860                        		__ld.umq	_chain_id
         1D:D3F3  AD 26 23   			lda	_chain_id
 9861                        		__call		_spr_set.1
         1D:D3F6  20 F1 E7   			call	_spr_set.1
 9862                        	
 9863                        		.dbg	line,	"include\routines_LEVELS.c", 971; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9864                        		__st.umiq	136, _al
         1D:D3F9  A9 88      			lda.l	#136
         1D:D3FB  85 F8      			sta	_al
 9865                        		__ld.uiq	0
         1D:D3FD  62         			cla
 9866                        		__call		_spr_ctrl.2
         1D:D3FE  20 50 E8   			call	_spr_ctrl.2
 9867                        	
 9868                        		.dbg	line,	"include\routines_LEVELS.c", 973; spr_set(chain_id+1);
 9869                        		__ld.um		_chain_id
         1D:D401  AD 26 23   			lda	_chain_id
         1D:D404  C2         			cly
 9870                        		__add.wi	1
         1D:D405  1A         			inc	a
         1D:D406  D0 01      			bne	!+
         1D:D408  C8         			iny
         1D:D409             	!:
 9871                        		__call		_spr_set.1
         1D:D409  20 F1 E7   			call	_spr_set.1
 9872                        	
 9873                        		.dbg	line,	"include\routines_LEVELS.c", 974; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9874                        		__st.umiq	136, _al
         1D:D40C  A9 88      			lda.l	#136
         1D:D40E  85 F8      			sta	_al
 9875                        		__ld.uiq	0
         1D:D410  62         			cla
 9876                        		__call		_spr_ctrl.2
         1D:D411  20 50 E8   			call	_spr_ctrl.2
 9877                        	
 9878                        		.dbg	line,	"include\routines_LEVELS.c", 976; spr_set(chain_id+2);
 9879                        		__ld.um		_chain_id
         1D:D414  AD 26 23   			lda	_chain_id
         1D:D417  C2         			cly
 9880                        		__add.wi	2
         1D:D418  18         			clc
         1D:D419  69 02      			adc.l	#2
         1D:D41B  90 01      			bcc	!+
         1D:D41D  C8         			iny
         1D:D41E             	!:
 9881                        		__call		_spr_set.1
         1D:D41E  20 F1 E7   			call	_spr_set.1
 9882                        	
 9883                        		.dbg	line,	"include\routines_LEVELS.c", 977; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9884                        		__st.umiq	136, _al
         1D:D421  A9 88      			lda.l	#136
         1D:D423  85 F8      			sta	_al
 9885                        		__ld.uiq	0
         1D:D425  62         			cla
 9886                        		__call		_spr_ctrl.2
         1D:D426  20 50 E8   			call	_spr_ctrl.2
 9887                        	
 9888                        		.dbg	line,	"include\routines_LEVELS.c", 979; spr_set(weapon_id);
 9889                        		__ld.umq	_weapon_id
         1D:D429  AD 27 23   			lda	_weapon_id
 9890                        		__call		_spr_set.1
         1D:D42C  20 F1 E7   			call	_spr_set.1
 9891                        	
 9892                        		.dbg	line,	"include\routines_LEVELS.c", 980; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9893                        		__st.umiq	136, _al
         1D:D42F  A9 88      			lda.l	#136
         1D:D431  85 F8      			sta	_al
 9894                        		__ld.uiq	0
         1D:D433  62         			cla
 9895                        		__call		_spr_ctrl.2
         1D:D434  20 50 E8   			call	_spr_ctrl.2
 9896                        	
 9897                        		.dbg	line,	"include\routines_LEVELS.c", 981; spr_x(player_pos_x+1);
 9898                        		__ld.wm		_player_pos_x
         1D:D437  AD F7 24   			lda.l	_player_pos_x
         1D:D43A  AC F8 24   			ldy.h	_player_pos_x
 9899                        		__add.wi	1
         1D:D43D  1A         			inc	a
         1D:D43E  D0 01      			bne	!+
         1D:D440  C8         			iny
         1D:D441             	!:
 9900                        		__call		_spr_x.1
         1D:D441  20 1E E8   			call	_spr_x.1
 9901                        	
 9902                        		.dbg	line,	"include\routines_LEVELS.c", 982; }
 9903                        	
 9904                        		.dbg	line,	"include\routines_LEVELS.c", 984; if(joy(JOYPAD_1) & JOY_DOWN)
 9905    1D:D444             	.LL446:
 9906                        		__ld.uiq	0
         1D:D444  62         			cla
 9907                        		 _joy.1
         1D:D445  AA         			tax
         1D:D446  BD 28 22   			lda	joynow, x
         1D:D449  BC D3 22   			ldy	joy6now, x
 9908                        		__tand.wi	64
         1D:D44C  29 40      			and	#64
         1D:D44E  C9 01      	!:		cmp	#1
 9909                        		__bfalse	.LL447
         1D:D450  90 0D      			bcc	.LL447
 9910                        	
 9911                        		.dbg	line,	"include\routines_LEVELS.c", 985; {
 9912                        	
 9913                        		.dbg	line,	"include\routines_LEVELS.c", 986; player_counter_anim = 1;
 9914                        		__st.umiq	1, _player_counter_anim
         1D:D452  A9 01      			lda.l	#1
         1D:D454  8D 1C 23   			sta	_player_counter_anim
 9915                        	
 9916                        		.dbg	line,	"include\routines_LEVELS.c", 987; player_state = STATE_CROUCH;
 9917                        		__st.umiq	7, _player_state
         1D:D457  A9 07      			lda.l	#7
         1D:D459  8D 19 23   			sta	_player_state
 9918                        	
 9919                        		.dbg	line,	"include\routines_LEVELS.c", 988; return;
 9920                        		__bra		.LL434
         1D:D45C  4C 9E DD   			bra	.LL434
 9921                        	
 9922                        		.dbg	line,	"include\routines_LEVELS.c", 989; }
 9923                        	
 9924                        		.dbg	line,	"include\routines_LEVELS.c", 991; player_state = STATE_WALK;
 9925    1D:D45F             	.LL447:
 9926                        		__st.umiq	1, _player_state
         1D:D45F  A9 01      			lda.l	#1
         1D:D461  8D 19 23   			sta	_player_state
 9927                        	
 9928                        		.dbg	line,	"include\routines_LEVELS.c", 992; }
 9929                        	
 9930                        		.dbg	line,	"include\routines_LEVELS.c", 995; else if(player_state == STATE_JUMP)
 9931                        		__bra		.LL448
         1D:D464  4C 9E DD   			bra	.LL448
 9932    1D:D467             	.LL444:
 9933                        		__ld.umq	_player_state
         1D:D467  AD 19 23   			lda	_player_state
 9934                        		__equ_b.uiq	4
         1D:D46A  C9 04      			cmp	#4
         1D:D46C  F0 01      			beq	!+
         1D:D46E  18         			clc
         1D:D46F             	!:
 9935                        		__bfalse	.LL449
         1D:D46F  B0 03 4C 13			bcc	.LL449
         1D:D473  D5          
 9936                        	
 9937                        		.dbg	line,	"include\routines_LEVELS.c", 996; {
 9938                        	
 9939                        		.dbg	line,	"include\routines_LEVELS.c", 997; if(player_attack == FALSE)
 9940                        		__not.um	_player_attack
         1D:D474  AD 21 23   			lda	_player_attack
         1D:D477  18         			clc
         1D:D478  D0 01      			bne	!+
         1D:D47A  38         			sec
         1D:D47B             	!:
 9941                        		__bfalse	.LL450
         1D:D47B  B0 03 4C 9E			bcc	.LL450
         1D:D47F  DD          
 9942                        	
 9943                        		.dbg	line,	"include\routines_LEVELS.c", 998; {
 9944                        	
 9945                        		.dbg	line,	"include\routines_LEVELS.c", 999; if(player_axis == AXIS_LEFT)
 9946                        		__ld.umq	_player_axis
         1D:D480  AD 1A 23   			lda	_player_axis
 9947                        		__equ_b.uiq	1
         1D:D483  C9 01      			cmp	#1
         1D:D485  F0 01      			beq	!+
         1D:D487  18         			clc
         1D:D488             	!:
 9948                        		__bfalse	.LL451
         1D:D488  90 6B      			bcc	.LL451
 9949                        	
 9950                        		.dbg	line,	"include\routines_LEVELS.c", 1000; {
 9951                        	
 9952                        		.dbg	line,	"include\routines_LEVELS.c", 1001; player_axis = AXIS_RIGHT;
 9953                        		__st.umiq	0, _player_axis
         1D:D48A  9C 1A 23   			stz	_player_axis
 9954                        	
 9955                        		.dbg	line,	"include\routines_LEVELS.c", 1002; player_previous_axis = player_axis;
 9956                        		__ld.um		_player_axis
         1D:D48D  AD 1A 23   			lda	_player_axis
         1D:D490  C2         			cly
 9957                        		__st.umq	_player_previous_axis
         1D:D491  8D 1B 23   			sta	_player_previous_axis
 9958                        	
 9959                        		.dbg	line,	"include\routines_LEVELS.c", 1004; spr_set(player_id);
 9960                        		__ld.umq	_player_id
         1D:D494  AD 18 23   			lda	_player_id
 9961                        		__call		_spr_set.1
         1D:D497  20 F1 E7   			call	_spr_set.1
 9962                        	
 9963                        		.dbg	line,	"include\routines_LEVELS.c", 1005; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9964                        		__st.umiq	136, _al
         1D:D49A  A9 88      			lda.l	#136
         1D:D49C  85 F8      			sta	_al
 9965                        		__ld.uiq	0
         1D:D49E  62         			cla
 9966                        		__call		_spr_ctrl.2
         1D:D49F  20 50 E8   			call	_spr_ctrl.2
 9967                        	
 9968                        		.dbg	line,	"include\routines_LEVELS.c", 1007; spr_set(chain_id);
 9969                        		__ld.umq	_chain_id
         1D:D4A2  AD 26 23   			lda	_chain_id
 9970                        		__call		_spr_set.1
         1D:D4A5  20 F1 E7   			call	_spr_set.1
 9971                        	
 9972                        		.dbg	line,	"include\routines_LEVELS.c", 1008; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9973                        		__st.umiq	136, _al
         1D:D4A8  A9 88      			lda.l	#136
         1D:D4AA  85 F8      			sta	_al
 9974                        		__ld.uiq	0
         1D:D4AC  62         			cla
 9975                        		__call		_spr_ctrl.2
         1D:D4AD  20 50 E8   			call	_spr_ctrl.2
 9976                        	
 9977                        		.dbg	line,	"include\routines_LEVELS.c", 1010; spr_set(chain_id+1);
 9978                        		__ld.um		_chain_id
         1D:D4B0  AD 26 23   			lda	_chain_id
         1D:D4B3  C2         			cly
 9979                        		__add.wi	1
         1D:D4B4  1A         			inc	a
         1D:D4B5  D0 01      			bne	!+
         1D:D4B7  C8         			iny
         1D:D4B8             	!:
 9980                        		__call		_spr_set.1
         1D:D4B8  20 F1 E7   			call	_spr_set.1
 9981                        	
 9982                        		.dbg	line,	"include\routines_LEVELS.c", 1011; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9983                        		__st.umiq	136, _al
         1D:D4BB  A9 88      			lda.l	#136
         1D:D4BD  85 F8      			sta	_al
 9984                        		__ld.uiq	0
         1D:D4BF  62         			cla
 9985                        		__call		_spr_ctrl.2
         1D:D4C0  20 50 E8   			call	_spr_ctrl.2
 9986                        	
 9987                        		.dbg	line,	"include\routines_LEVELS.c", 1013; spr_set(chain_id+2);
 9988                        		__ld.um		_chain_id
         1D:D4C3  AD 26 23   			lda	_chain_id
         1D:D4C6  C2         			cly
 9989                        		__add.wi	2
         1D:D4C7  18         			clc
         1D:D4C8  69 02      			adc.l	#2
         1D:D4CA  90 01      			bcc	!+
         1D:D4CC  C8         			iny
         1D:D4CD             	!:
 9990                        		__call		_spr_set.1
         1D:D4CD  20 F1 E7   			call	_spr_set.1
 9991                        	
 9992                        		.dbg	line,	"include\routines_LEVELS.c", 1014; spr_ctrl(FLIP_MAS, NO_FLIP_X);
 9993                        		__st.umiq	136, _al
         1D:D4D0  A9 88      			lda.l	#136
         1D:D4D2  85 F8      			sta	_al
 9994                        		__ld.uiq	0
         1D:D4D4  62         			cla
 9995                        		__call		_spr_ctrl.2
         1D:D4D5  20 50 E8   			call	_spr_ctrl.2
 9996                        	
 9997                        		.dbg	line,	"include\routines_LEVELS.c", 1016; spr_set(weapon_id);
 9998                        		__ld.umq	_weapon_id
         1D:D4D8  AD 27 23   			lda	_weapon_id
 9999                        		__call		_spr_set.1
         1D:D4DB  20 F1 E7   			call	_spr_set.1
10000                        	
10001                        		.dbg	line,	"include\routines_LEVELS.c", 1017; spr_ctrl(FLIP_MAS, NO_FLIP_X);
10002                        		__st.umiq	136, _al
         1D:D4DE  A9 88      			lda.l	#136
         1D:D4E0  85 F8      			sta	_al
10003                        		__ld.uiq	0
         1D:D4E2  62         			cla
10004                        		__call		_spr_ctrl.2
         1D:D4E3  20 50 E8   			call	_spr_ctrl.2
10005                        	
10006                        		.dbg	line,	"include\routines_LEVELS.c", 1018; spr_x(player_pos_x-5);
10007                        		__ld.wm		_player_pos_x
         1D:D4E6  AD F7 24   			lda.l	_player_pos_x
         1D:D4E9  AC F8 24   			ldy.h	_player_pos_x
10008                        		__sub.wi	5
         1D:D4EC  38         			sec
         1D:D4ED  E9 05      			sbc.l	#5
         1D:D4EF  B0 01      			bcs	!+
         1D:D4F1  88         			dey
         1D:D4F2             	!:
10009                        		__call		_spr_x.1
         1D:D4F2  20 1E E8   			call	_spr_x.1
10010                        	
10011                        		.dbg	line,	"include\routines_LEVELS.c", 1019; }
10012                        	
10013                        		.dbg	line,	"include\routines_LEVELS.c", 1021; if(player_index_jump > 11 && player_index_jump < 15)
10014    1D:D4F5             	.LL451:
10015                        		__ld.umq	_player_index_jump
         1D:D4F5  AD 1D 23   			lda	_player_index_jump
10016                        		__ugt_b.uiq	11
         1D:D4F8  18         			clc			; Subtract integer+1 from A.
         1D:D4F9  E9 0B      			sbc	#11		; CS if A > integer.
10017                        		__bfalse	.LL453
         1D:D4FB  90 09      			bcc	.LL453
10018                        		__ld.umq	_player_index_jump
         1D:D4FD  AD 1D 23   			lda	_player_index_jump
10019                        		__ult_b.uiq	15
         1D:D500  C9 0F      			cmp	#15		; Subtract integer from A.
         1D:D502  6A         			ror	a		; CC if A < integer.
         1D:D503  49 80      			eor	#$80
         1D:D505  2A         			rol	a
10020    1D:D506             	.LL453:
10021                        		__bfalse	.LL452
         1D:D506  B0 03 4C 9E			bcc	.LL452
         1D:D50A  DD          
10022                        	
10023                        		.dbg	line,	"include\routines_LEVELS.c", 1022; {
10024                        	
10025                        		.dbg	line,	"include\routines_LEVELS.c", 1023; player_state = STATE_JUMP_RIGHT;                        
10026                        		__st.umiq	5, _player_state
         1D:D50B  A9 05      			lda.l	#5
         1D:D50D  8D 19 23   			sta	_player_state
10027                        	
10028                        		.dbg	line,	"include\routines_LEVELS.c", 1024; }
10029                        	
10030                        		.dbg	line,	"include\routines_LEVELS.c", 1025; }
10031    1D:D510             	.LL452	.alias		.LL454
10032                        	
10033                        		.dbg	line,	"include\routines_LEVELS.c", 1026; }
10034    1D:D510             	.LL450	.alias		.LL454
10035                        	
10036                        		.dbg	line,	"include\routines_LEVELS.c", 1029; else if(player_state == STATE_JUMP_LEFT)
10037                        		__bra		.LL454
         1D:D510  4C 9E DD   			bra	.LL454
10038    1D:D513             	.LL449:
10039                        		__ld.umq	_player_state
         1D:D513  AD 19 23   			lda	_player_state
10040                        		__equ_b.uiq	6
         1D:D516  C9 06      			cmp	#6
         1D:D518  F0 01      			beq	!+
         1D:D51A  18         			clc
         1D:D51B             	!:
10041                        		__bfalse	.LL455
         1D:D51B  90 7B      			bcc	.LL455
10042                        	
10043                        		.dbg	line,	"include\routines_LEVELS.c", 1030; {
10044                        	
10045                        		.dbg	line,	"include\routines_LEVELS.c", 1031; if(player_axis == AXIS_LEFT)
10046                        		__ld.umq	_player_axis
         1D:D51D  AD 1A 23   			lda	_player_axis
10047                        		__equ_b.uiq	1
         1D:D520  C9 01      			cmp	#1
         1D:D522  F0 01      			beq	!+
         1D:D524  18         			clc
         1D:D525             	!:
10048                        		__bfalse	.LL456
         1D:D525  B0 03 4C 9E			bcc	.LL456
         1D:D529  DD          
10049                        	
10050                        		.dbg	line,	"include\routines_LEVELS.c", 1032; {
10051                        	
10052                        		.dbg	line,	"include\routines_LEVELS.c", 1033; player_axis = AXIS_RIGHT;
10053                        		__st.umiq	0, _player_axis
         1D:D52A  9C 1A 23   			stz	_player_axis
10054                        	
10055                        		.dbg	line,	"include\routines_LEVELS.c", 1034; player_previous_axis = player_axis;
10056                        		__ld.um		_player_axis
         1D:D52D  AD 1A 23   			lda	_player_axis
         1D:D530  C2         			cly
10057                        		__st.umq	_player_previous_axis
         1D:D531  8D 1B 23   			sta	_player_previous_axis
10058                        	
10059                        		.dbg	line,	"include\routines_LEVELS.c", 1036; spr_set(player_id);
10060                        		__ld.umq	_player_id
         1D:D534  AD 18 23   			lda	_player_id
10061                        		__call		_spr_set.1
         1D:D537  20 F1 E7   			call	_spr_set.1
10062                        	
10063                        		.dbg	line,	"include\routines_LEVELS.c", 1037; spr_ctrl(FLIP_MAS, NO_FLIP_X);
10064                        		__st.umiq	136, _al
         1D:D53A  A9 88      			lda.l	#136
         1D:D53C  85 F8      			sta	_al
10065                        		__ld.uiq	0
         1D:D53E  62         			cla
10066                        		__call		_spr_ctrl.2
         1D:D53F  20 50 E8   			call	_spr_ctrl.2
10067                        	
10068                        		.dbg	line,	"include\routines_LEVELS.c", 1039; spr_set(chain_id);
10069                        		__ld.umq	_chain_id
         1D:D542  AD 26 23   			lda	_chain_id
10070                        		__call		_spr_set.1
         1D:D545  20 F1 E7   			call	_spr_set.1
10071                        	
10072                        		.dbg	line,	"include\routines_LEVELS.c", 1040; spr_ctrl(FLIP_MAS, NO_FLIP_X);
10073                        		__st.umiq	136, _al
         1D:D548  A9 88      			lda.l	#136
         1D:D54A  85 F8      			sta	_al
10074                        		__ld.uiq	0
         1D:D54C  62         			cla
10075                        		__call		_spr_ctrl.2
         1D:D54D  20 50 E8   			call	_spr_ctrl.2
10076                        	
10077                        		.dbg	line,	"include\routines_LEVELS.c", 1042; spr_set(chain_id+1);
10078                        		__ld.um		_chain_id
         1D:D550  AD 26 23   			lda	_chain_id
         1D:D553  C2         			cly
10079                        		__add.wi	1
         1D:D554  1A         			inc	a
         1D:D555  D0 01      			bne	!+
         1D:D557  C8         			iny
         1D:D558             	!:
10080                        		__call		_spr_set.1
         1D:D558  20 F1 E7   			call	_spr_set.1
10081                        	
10082                        		.dbg	line,	"include\routines_LEVELS.c", 1043; spr_ctrl(FLIP_MAS, NO_FLIP_X);
10083                        		__st.umiq	136, _al
         1D:D55B  A9 88      			lda.l	#136
         1D:D55D  85 F8      			sta	_al
10084                        		__ld.uiq	0
         1D:D55F  62         			cla
10085                        		__call		_spr_ctrl.2
         1D:D560  20 50 E8   			call	_spr_ctrl.2
10086                        	
10087                        		.dbg	line,	"include\routines_LEVELS.c", 1045; spr_set(chain_id+2);
10088                        		__ld.um		_chain_id
         1D:D563  AD 26 23   			lda	_chain_id
         1D:D566  C2         			cly
10089                        		__add.wi	2
         1D:D567  18         			clc
         1D:D568  69 02      			adc.l	#2
         1D:D56A  90 01      			bcc	!+
         1D:D56C  C8         			iny
         1D:D56D             	!:
10090                        		__call		_spr_set.1
         1D:D56D  20 F1 E7   			call	_spr_set.1
10091                        	
10092                        		.dbg	line,	"include\routines_LEVELS.c", 1046; spr_ctrl(FLIP_MAS, NO_FLIP_X);
10093                        		__st.umiq	136, _al
         1D:D570  A9 88      			lda.l	#136
         1D:D572  85 F8      			sta	_al
10094                        		__ld.uiq	0
         1D:D574  62         			cla
10095                        		__call		_spr_ctrl.2
         1D:D575  20 50 E8   			call	_spr_ctrl.2
10096                        	
10097                        		.dbg	line,	"include\routines_LEVELS.c", 1048; spr_set(weapon_id);
10098                        		__ld.umq	_weapon_id
         1D:D578  AD 27 23   			lda	_weapon_id
10099                        		__call		_spr_set.1
         1D:D57B  20 F1 E7   			call	_spr_set.1
10100                        	
10101                        		.dbg	line,	"include\routines_LEVELS.c", 1049; spr_ctrl(FLIP_MAS, NO_FLIP_X);
10102                        		__st.umiq	136, _al
         1D:D57E  A9 88      			lda.l	#136
         1D:D580  85 F8      			sta	_al
10103                        		__ld.uiq	0
         1D:D582  62         			cla
10104                        		__call		_spr_ctrl.2
         1D:D583  20 50 E8   			call	_spr_ctrl.2
10105                        	
10106                        		.dbg	line,	"include\routines_LEVELS.c", 1050; spr_x(player_pos_x-5);
10107                        		__ld.wm		_player_pos_x
         1D:D586  AD F7 24   			lda.l	_player_pos_x
         1D:D589  AC F8 24   			ldy.h	_player_pos_x
10108                        		__sub.wi	5
         1D:D58C  38         			sec
         1D:D58D  E9 05      			sbc.l	#5
         1D:D58F  B0 01      			bcs	!+
         1D:D591  88         			dey
         1D:D592             	!:
10109                        		__call		_spr_x.1
         1D:D592  20 1E E8   			call	_spr_x.1
10110                        	
10111                        		.dbg	line,	"include\routines_LEVELS.c", 1051; }
10112                        	
10113                        		.dbg	line,	"include\routines_LEVELS.c", 1052; }
10114    1D:D595             	.LL456	.alias		.LL457
10115                        	
10116                        		.dbg	line,	"include\routines_LEVELS.c", 1055; else if(player_state == STATE_CROUCH)
10117                        		__bra		.LL457
         1D:D595  4C 9E DD   			bra	.LL457
10118    1D:D598             	.LL455:
10119                        		__ld.umq	_player_state
         1D:D598  AD 19 23   			lda	_player_state
10120                        		__equ_b.uiq	7
         1D:D59B  C9 07      			cmp	#7
         1D:D59D  F0 01      			beq	!+
         1D:D59F  18         			clc
         1D:D5A0             	!:
10121                        		__bfalse	.LL458
         1D:D5A0  90 7B      			bcc	.LL458
10122                        	
10123                        		.dbg	line,	"include\routines_LEVELS.c", 1056; {
10124                        	
10125                        		.dbg	line,	"include\routines_LEVELS.c", 1057; if(player_axis == AXIS_LEFT)
10126                        		__ld.umq	_player_axis
         1D:D5A2  AD 1A 23   			lda	_player_axis
10127                        		__equ_b.uiq	1
         1D:D5A5  C9 01      			cmp	#1
         1D:D5A7  F0 01      			beq	!+
         1D:D5A9  18         			clc
         1D:D5AA             	!:
10128                        		__bfalse	.LL459
         1D:D5AA  B0 03 4C 9E			bcc	.LL459
         1D:D5AE  DD          
10129                        	
10130                        		.dbg	line,	"include\routines_LEVELS.c", 1058; {
10131                        	
10132                        		.dbg	line,	"include\routines_LEVELS.c", 1059; player_axis = AXIS_RIGHT;
10133                        		__st.umiq	0, _player_axis
         1D:D5AF  9C 1A 23   			stz	_player_axis
10134                        	
10135                        		.dbg	line,	"include\routines_LEVELS.c", 1060; player_previous_axis = player_axis;
10136                        		__ld.um		_player_axis
         1D:D5B2  AD 1A 23   			lda	_player_axis
         1D:D5B5  C2         			cly
10137                        		__st.umq	_player_previous_axis
         1D:D5B6  8D 1B 23   			sta	_player_previous_axis
10138                        	
10139                        		.dbg	line,	"include\routines_LEVELS.c", 1062; spr_set(player_id);
10140                        		__ld.umq	_player_id
         1D:D5B9  AD 18 23   			lda	_player_id
10141                        		__call		_spr_set.1
         1D:D5BC  20 F1 E7   			call	_spr_set.1
10142                        	
10143                        		.dbg	line,	"include\routines_LEVELS.c", 1063; spr_ctrl(FLIP_MAS, NO_FLIP_X);
10144                        		__st.umiq	136, _al
         1D:D5BF  A9 88      			lda.l	#136
         1D:D5C1  85 F8      			sta	_al
10145                        		__ld.uiq	0
         1D:D5C3  62         			cla
10146                        		__call		_spr_ctrl.2
         1D:D5C4  20 50 E8   			call	_spr_ctrl.2
10147                        	
10148                        		.dbg	line,	"include\routines_LEVELS.c", 1065; spr_set(chain_id);
10149                        		__ld.umq	_chain_id
         1D:D5C7  AD 26 23   			lda	_chain_id
10150                        		__call		_spr_set.1
         1D:D5CA  20 F1 E7   			call	_spr_set.1
10151                        	
10152                        		.dbg	line,	"include\routines_LEVELS.c", 1066; spr_ctrl(FLIP_MAS, NO_FLIP_X);
10153                        		__st.umiq	136, _al
         1D:D5CD  A9 88      			lda.l	#136
         1D:D5CF  85 F8      			sta	_al
10154                        		__ld.uiq	0
         1D:D5D1  62         			cla
10155                        		__call		_spr_ctrl.2
         1D:D5D2  20 50 E8   			call	_spr_ctrl.2
10156                        	
10157                        		.dbg	line,	"include\routines_LEVELS.c", 1068; spr_set(chain_id+1);
10158                        		__ld.um		_chain_id
         1D:D5D5  AD 26 23   			lda	_chain_id
         1D:D5D8  C2         			cly
10159                        		__add.wi	1
         1D:D5D9  1A         			inc	a
         1D:D5DA  D0 01      			bne	!+
         1D:D5DC  C8         			iny
         1D:D5DD             	!:
10160                        		__call		_spr_set.1
         1D:D5DD  20 F1 E7   			call	_spr_set.1
10161                        	
10162                        		.dbg	line,	"include\routines_LEVELS.c", 1069; spr_ctrl(FLIP_MAS, NO_FLIP_X);
10163                        		__st.umiq	136, _al
         1D:D5E0  A9 88      			lda.l	#136
         1D:D5E2  85 F8      			sta	_al
10164                        		__ld.uiq	0
         1D:D5E4  62         			cla
10165                        		__call		_spr_ctrl.2
         1D:D5E5  20 50 E8   			call	_spr_ctrl.2
10166                        	
10167                        		.dbg	line,	"include\routines_LEVELS.c", 1071; spr_set(chain_id+2);
10168                        		__ld.um		_chain_id
         1D:D5E8  AD 26 23   			lda	_chain_id
         1D:D5EB  C2         			cly
10169                        		__add.wi	2
         1D:D5EC  18         			clc
         1D:D5ED  69 02      			adc.l	#2
         1D:D5EF  90 01      			bcc	!+
         1D:D5F1  C8         			iny
         1D:D5F2             	!:
10170                        		__call		_spr_set.1
         1D:D5F2  20 F1 E7   			call	_spr_set.1
10171                        	
10172                        		.dbg	line,	"include\routines_LEVELS.c", 1072; spr_ctrl(FLIP_MAS, NO_FLIP_X);
10173                        		__st.umiq	136, _al
         1D:D5F5  A9 88      			lda.l	#136
         1D:D5F7  85 F8      			sta	_al
10174                        		__ld.uiq	0
         1D:D5F9  62         			cla
10175                        		__call		_spr_ctrl.2
         1D:D5FA  20 50 E8   			call	_spr_ctrl.2
10176                        	
10177                        		.dbg	line,	"include\routines_LEVELS.c", 1074; spr_set(weapon_id);
10178                        		__ld.umq	_weapon_id
         1D:D5FD  AD 27 23   			lda	_weapon_id
10179                        		__call		_spr_set.1
         1D:D600  20 F1 E7   			call	_spr_set.1
10180                        	
10181                        		.dbg	line,	"include\routines_LEVELS.c", 1075; spr_ctrl(FLIP_MAS, NO_FLIP_X);
10182                        		__st.umiq	136, _al
         1D:D603  A9 88      			lda.l	#136
         1D:D605  85 F8      			sta	_al
10183                        		__ld.uiq	0
         1D:D607  62         			cla
10184                        		__call		_spr_ctrl.2
         1D:D608  20 50 E8   			call	_spr_ctrl.2
10185                        	
10186                        		.dbg	line,	"include\routines_LEVELS.c", 1076; spr_x(player_pos_x-1);
10187                        		__ld.wm		_player_pos_x
         1D:D60B  AD F7 24   			lda.l	_player_pos_x
         1D:D60E  AC F8 24   			ldy.h	_player_pos_x
10188                        		__sub.wi	1
         1D:D611  38         			sec
         1D:D612  E9 01      			sbc.l	#1
         1D:D614  B0 01      			bcs	!+
         1D:D616  88         			dey
         1D:D617             	!:
10189                        		__call		_spr_x.1
         1D:D617  20 1E E8   			call	_spr_x.1
10190                        	
10191                        		.dbg	line,	"include\routines_LEVELS.c", 1077; }
10192                        	
10193                        		.dbg	line,	"include\routines_LEVELS.c", 1078; }
10194    1D:D61A             	.LL459	.alias		.LL460
10195                        	
10196                        		.dbg	line,	"include\routines_LEVELS.c", 1081; else if(player_state == STATE_FALL)
10197                        		__bra		.LL460
         1D:D61A  4C 9E DD   			bra	.LL460
10198    1D:D61D             	.LL458:
10199                        		__ld.umq	_player_state
         1D:D61D  AD 19 23   			lda	_player_state
10200                        		__equ_b.uiq	9
         1D:D620  C9 09      			cmp	#9
         1D:D622  F0 01      			beq	!+
         1D:D624  18         			clc
         1D:D625             	!:
10201                        		__bfalse	.LL461
         1D:D625  B0 03 4C B1			bcc	.LL461
         1D:D629  D6          
10202                        	
10203                        		.dbg	line,	"include\routines_LEVELS.c", 1082; {
10204                        	
10205                        		.dbg	line,	"include\routines_LEVELS.c", 1083; if(player_attack == FALSE)
10206                        		__not.um	_player_attack
         1D:D62A  AD 21 23   			lda	_player_attack
         1D:D62D  18         			clc
         1D:D62E  D0 01      			bne	!+
         1D:D630  38         			sec
         1D:D631             	!:
10207                        		__bfalse	.LL462
         1D:D631  B0 03 4C 9E			bcc	.LL462
         1D:D635  DD          
10208                        	
10209                        		.dbg	line,	"include\routines_LEVELS.c", 1084; {
10210                        	
10211                        		.dbg	line,	"include\routines_LEVELS.c", 1085; if(player_axis == AXIS_LEFT)
10212                        		__ld.umq	_player_axis
         1D:D636  AD 1A 23   			lda	_player_axis
10213                        		__equ_b.uiq	1
         1D:D639  C9 01      			cmp	#1
         1D:D63B  F0 01      			beq	!+
         1D:D63D  18         			clc
         1D:D63E             	!:
10214                        		__bfalse	.LL463
         1D:D63E  B0 03 4C 9E			bcc	.LL463
         1D:D642  DD          
10215                        	
10216                        		.dbg	line,	"include\routines_LEVELS.c", 1086; {
10217                        	
10218                        		.dbg	line,	"include\routines_LEVELS.c", 1087; player_axis = AXIS_RIGHT;
10219                        		__st.umiq	0, _player_axis
         1D:D643  9C 1A 23   			stz	_player_axis
10220                        	
10221                        		.dbg	line,	"include\routines_LEVELS.c", 1088; player_previous_axis = player_axis;
10222                        		__ld.um		_player_axis
         1D:D646  AD 1A 23   			lda	_player_axis
         1D:D649  C2         			cly
10223                        		__st.umq	_player_previous_axis
         1D:D64A  8D 1B 23   			sta	_player_previous_axis
10224                        	
10225                        		.dbg	line,	"include\routines_LEVELS.c", 1090; spr_set(player_id);
10226                        		__ld.umq	_player_id
         1D:D64D  AD 18 23   			lda	_player_id
10227                        		__call		_spr_set.1
         1D:D650  20 F1 E7   			call	_spr_set.1
10228                        	
10229                        		.dbg	line,	"include\routines_LEVELS.c", 1091; spr_ctrl(FLIP_MAS, NO_FLIP_X);
10230                        		__st.umiq	136, _al
         1D:D653  A9 88      			lda.l	#136
         1D:D655  85 F8      			sta	_al
10231                        		__ld.uiq	0
         1D:D657  62         			cla
10232                        		__call		_spr_ctrl.2
         1D:D658  20 50 E8   			call	_spr_ctrl.2
10233                        	
10234                        		.dbg	line,	"include\routines_LEVELS.c", 1093; spr_set(chain_id);
10235                        		__ld.umq	_chain_id
         1D:D65B  AD 26 23   			lda	_chain_id
10236                        		__call		_spr_set.1
         1D:D65E  20 F1 E7   			call	_spr_set.1
10237                        	
10238                        		.dbg	line,	"include\routines_LEVELS.c", 1094; spr_ctrl(FLIP_MAS, NO_FLIP_X);
10239                        		__st.umiq	136, _al
         1D:D661  A9 88      			lda.l	#136
         1D:D663  85 F8      			sta	_al
10240                        		__ld.uiq	0
         1D:D665  62         			cla
10241                        		__call		_spr_ctrl.2
         1D:D666  20 50 E8   			call	_spr_ctrl.2
10242                        	
10243                        		.dbg	line,	"include\routines_LEVELS.c", 1096; spr_set(chain_id+1);
10244                        		__ld.um		_chain_id
         1D:D669  AD 26 23   			lda	_chain_id
         1D:D66C  C2         			cly
10245                        		__add.wi	1
         1D:D66D  1A         			inc	a
         1D:D66E  D0 01      			bne	!+
         1D:D670  C8         			iny
         1D:D671             	!:
10246                        		__call		_spr_set.1
         1D:D671  20 F1 E7   			call	_spr_set.1
10247                        	
10248                        		.dbg	line,	"include\routines_LEVELS.c", 1097; spr_ctrl(FLIP_MAS, NO_FLIP_X);
10249                        		__st.umiq	136, _al
         1D:D674  A9 88      			lda.l	#136
         1D:D676  85 F8      			sta	_al
10250                        		__ld.uiq	0
         1D:D678  62         			cla
10251                        		__call		_spr_ctrl.2
         1D:D679  20 50 E8   			call	_spr_ctrl.2
10252                        	
10253                        		.dbg	line,	"include\routines_LEVELS.c", 1099; spr_set(chain_id+2);
10254                        		__ld.um		_chain_id
         1D:D67C  AD 26 23   			lda	_chain_id
         1D:D67F  C2         			cly
10255                        		__add.wi	2
         1D:D680  18         			clc
         1D:D681  69 02      			adc.l	#2
         1D:D683  90 01      			bcc	!+
         1D:D685  C8         			iny
         1D:D686             	!:
10256                        		__call		_spr_set.1
         1D:D686  20 F1 E7   			call	_spr_set.1
10257                        	
10258                        		.dbg	line,	"include\routines_LEVELS.c", 1100; spr_ctrl(FLIP_MAS, NO_FLIP_X);
10259                        		__st.umiq	136, _al
         1D:D689  A9 88      			lda.l	#136
         1D:D68B  85 F8      			sta	_al
10260                        		__ld.uiq	0
         1D:D68D  62         			cla
10261                        		__call		_spr_ctrl.2
         1D:D68E  20 50 E8   			call	_spr_ctrl.2
10262                        	
10263                        		.dbg	line,	"include\routines_LEVELS.c", 1102; spr_set(weapon_id);
10264                        		__ld.umq	_weapon_id
         1D:D691  AD 27 23   			lda	_weapon_id
10265                        		__call		_spr_set.1
         1D:D694  20 F1 E7   			call	_spr_set.1
10266                        	
10267                        		.dbg	line,	"include\routines_LEVELS.c", 1103; spr_ctrl(FLIP_MAS, NO_FLIP_X);
10268                        		__st.umiq	136, _al
         1D:D697  A9 88      			lda.l	#136
         1D:D699  85 F8      			sta	_al
10269                        		__ld.uiq	0
         1D:D69B  62         			cla
10270                        		__call		_spr_ctrl.2
         1D:D69C  20 50 E8   			call	_spr_ctrl.2
10271                        	
10272                        		.dbg	line,	"include\routines_LEVELS.c", 1104; spr_x(player_pos_x-4);
10273                        		__ld.wm		_player_pos_x
         1D:D69F  AD F7 24   			lda.l	_player_pos_x
         1D:D6A2  AC F8 24   			ldy.h	_player_pos_x
10274                        		__sub.wi	4
         1D:D6A5  38         			sec
         1D:D6A6  E9 04      			sbc.l	#4
         1D:D6A8  B0 01      			bcs	!+
         1D:D6AA  88         			dey
         1D:D6AB             	!:
10275                        		__call		_spr_x.1
         1D:D6AB  20 1E E8   			call	_spr_x.1
10276                        	
10277                        		.dbg	line,	"include\routines_LEVELS.c", 1105; }
10278                        	
10279                        		.dbg	line,	"include\routines_LEVELS.c", 1106; }
10280    1D:D6AE             	.LL463	.alias		.LL464
10281                        	
10282                        		.dbg	line,	"include\routines_LEVELS.c", 1107; }
10283    1D:D6AE             	.LL462	.alias		.LL464
10284                        	
10285                        		.dbg	line,	"include\routines_LEVELS.c", 1110; else if(player_state == STATE_HANG)
10286                        		__bra		.LL464
         1D:D6AE  4C 9E DD   			bra	.LL464
10287    1D:D6B1             	.LL461:
10288                        		__ld.umq	_player_state
         1D:D6B1  AD 19 23   			lda	_player_state
10289                        		__equ_b.uiq	10
         1D:D6B4  C9 0A      			cmp	#10
         1D:D6B6  F0 01      			beq	!+
         1D:D6B8  18         			clc
         1D:D6B9             	!:
10290                        		__bfalse	.LL465
         1D:D6B9  B0 03 4C 45			bcc	.LL465
         1D:D6BD  D7          
10291                        	
10292                        		.dbg	line,	"include\routines_LEVELS.c", 1111; {
10293                        	
10294                        		.dbg	line,	"include\routines_LEVELS.c", 1112; if(player_attack == FALSE)
10295                        		__not.um	_player_attack
         1D:D6BE  AD 21 23   			lda	_player_attack
         1D:D6C1  18         			clc
         1D:D6C2  D0 01      			bne	!+
         1D:D6C4  38         			sec
         1D:D6C5             	!:
10296                        		__bfalse	.LL466
         1D:D6C5  B0 03 4C 9E			bcc	.LL466
         1D:D6C9  DD          
10297                        	
10298                        		.dbg	line,	"include\routines_LEVELS.c", 1113; {
10299                        	
10300                        		.dbg	line,	"include\routines_LEVELS.c", 1114; if(player_axis == AXIS_LEFT)
10301                        		__ld.umq	_player_axis
         1D:D6CA  AD 1A 23   			lda	_player_axis
10302                        		__equ_b.uiq	1
         1D:D6CD  C9 01      			cmp	#1
         1D:D6CF  F0 01      			beq	!+
         1D:D6D1  18         			clc
         1D:D6D2             	!:
10303                        		__bfalse	.LL467
         1D:D6D2  B0 03 4C 9E			bcc	.LL467
         1D:D6D6  DD          
10304                        	
10305                        		.dbg	line,	"include\routines_LEVELS.c", 1115; {
10306                        	
10307                        		.dbg	line,	"include\routines_LEVELS.c", 1116; player_axis = AXIS_RIGHT;
10308                        		__st.umiq	0, _player_axis
         1D:D6D7  9C 1A 23   			stz	_player_axis
10309                        	
10310                        		.dbg	line,	"include\routines_LEVELS.c", 1117; player_previous_axis = player_axis;
10311                        		__ld.um		_player_axis
         1D:D6DA  AD 1A 23   			lda	_player_axis
         1D:D6DD  C2         			cly
10312                        		__st.umq	_player_previous_axis
         1D:D6DE  8D 1B 23   			sta	_player_previous_axis
10313                        	
10314                        		.dbg	line,	"include\routines_LEVELS.c", 1119; spr_set(player_id);
10315                        		__ld.umq	_player_id
         1D:D6E1  AD 18 23   			lda	_player_id
10316                        		__call		_spr_set.1
         1D:D6E4  20 F1 E7   			call	_spr_set.1
10317                        	
10318                        		.dbg	line,	"include\routines_LEVELS.c", 1120; spr_ctrl(FLIP_MAS, NO_FLIP_X);
10319                        		__st.umiq	136, _al
         1D:D6E7  A9 88      			lda.l	#136
         1D:D6E9  85 F8      			sta	_al
10320                        		__ld.uiq	0
         1D:D6EB  62         			cla
10321                        		__call		_spr_ctrl.2
         1D:D6EC  20 50 E8   			call	_spr_ctrl.2
10322                        	
10323                        		.dbg	line,	"include\routines_LEVELS.c", 1122; spr_set(chain_id);
10324                        		__ld.umq	_chain_id
         1D:D6EF  AD 26 23   			lda	_chain_id
10325                        		__call		_spr_set.1
         1D:D6F2  20 F1 E7   			call	_spr_set.1
10326                        	
10327                        		.dbg	line,	"include\routines_LEVELS.c", 1123; spr_ctrl(FLIP_MAS, NO_FLIP_X);
10328                        		__st.umiq	136, _al
         1D:D6F5  A9 88      			lda.l	#136
         1D:D6F7  85 F8      			sta	_al
10329                        		__ld.uiq	0
         1D:D6F9  62         			cla
10330                        		__call		_spr_ctrl.2
         1D:D6FA  20 50 E8   			call	_spr_ctrl.2
10331                        	
10332                        		.dbg	line,	"include\routines_LEVELS.c", 1125; spr_set(chain_id+1);
10333                        		__ld.um		_chain_id
         1D:D6FD  AD 26 23   			lda	_chain_id
         1D:D700  C2         			cly
10334                        		__add.wi	1
         1D:D701  1A         			inc	a
         1D:D702  D0 01      			bne	!+
         1D:D704  C8         			iny
         1D:D705             	!:
10335                        		__call		_spr_set.1
         1D:D705  20 F1 E7   			call	_spr_set.1
10336                        	
10337                        		.dbg	line,	"include\routines_LEVELS.c", 1126; spr_ctrl(FLIP_MAS, NO_FLIP_X);
10338                        		__st.umiq	136, _al
         1D:D708  A9 88      			lda.l	#136
         1D:D70A  85 F8      			sta	_al
10339                        		__ld.uiq	0
         1D:D70C  62         			cla
10340                        		__call		_spr_ctrl.2
         1D:D70D  20 50 E8   			call	_spr_ctrl.2
10341                        	
10342                        		.dbg	line,	"include\routines_LEVELS.c", 1128; spr_set(chain_id+2);
10343                        		__ld.um		_chain_id
         1D:D710  AD 26 23   			lda	_chain_id
         1D:D713  C2         			cly
10344                        		__add.wi	2
         1D:D714  18         			clc
         1D:D715  69 02      			adc.l	#2
         1D:D717  90 01      			bcc	!+
         1D:D719  C8         			iny
         1D:D71A             	!:
10345                        		__call		_spr_set.1
         1D:D71A  20 F1 E7   			call	_spr_set.1
10346                        	
10347                        		.dbg	line,	"include\routines_LEVELS.c", 1129; spr_ctrl(FLIP_MAS, NO_FLIP_X);
10348                        		__st.umiq	136, _al
         1D:D71D  A9 88      			lda.l	#136
         1D:D71F  85 F8      			sta	_al
10349                        		__ld.uiq	0
         1D:D721  62         			cla
10350                        		__call		_spr_ctrl.2
         1D:D722  20 50 E8   			call	_spr_ctrl.2
10351                        	
10352                        		.dbg	line,	"include\routines_LEVELS.c", 1131; spr_set(weapon_id);
10353                        		__ld.umq	_weapon_id
         1D:D725  AD 27 23   			lda	_weapon_id
10354                        		__call		_spr_set.1
         1D:D728  20 F1 E7   			call	_spr_set.1
10355                        	
10356                        		.dbg	line,	"include\routines_LEVELS.c", 1132; spr_ctrl(FLIP_MAS, NO_FLIP_X);
10357                        		__st.umiq	136, _al
         1D:D72B  A9 88      			lda.l	#136
         1D:D72D  85 F8      			sta	_al
10358                        		__ld.uiq	0
         1D:D72F  62         			cla
10359                        		__call		_spr_ctrl.2
         1D:D730  20 50 E8   			call	_spr_ctrl.2
10360                        	
10361                        		.dbg	line,	"include\routines_LEVELS.c", 1133; spr_x(player_pos_x+17);
10362                        		__ld.wm		_player_pos_x
         1D:D733  AD F7 24   			lda.l	_player_pos_x
         1D:D736  AC F8 24   			ldy.h	_player_pos_x
10363                        		__add.wi	17
         1D:D739  18         			clc
         1D:D73A  69 11      			adc.l	#17
         1D:D73C  90 01      			bcc	!+
         1D:D73E  C8         			iny
         1D:D73F             	!:
10364                        		__call		_spr_x.1
         1D:D73F  20 1E E8   			call	_spr_x.1
10365                        	
10366                        		.dbg	line,	"include\routines_LEVELS.c", 1134; }
10367                        	
10368                        		.dbg	line,	"include\routines_LEVELS.c", 1135; }
10369    1D:D742             	.LL467	.alias		.LL468
10370                        	
10371                        		.dbg	line,	"include\routines_LEVELS.c", 1136; }
10372    1D:D742             	.LL466	.alias		.LL468
10373                        	
10374                        		.dbg	line,	"include\routines_LEVELS.c", 1139; else if(player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
10375                        		__bra		.LL468
         1D:D742  4C 9E DD   			bra	.LL468
10376    1D:D745             	.LL465:
10377                        		__ld.umq	_player_state
         1D:D745  AD 19 23   			lda	_player_state
10378                        		__equ_b.uiq	11
         1D:D748  C9 0B      			cmp	#11
         1D:D74A  F0 01      			beq	!+
         1D:D74C  18         			clc
         1D:D74D             	!:
10379                        		__btrue		.LL470
         1D:D74D  B0 08      			bcs	.LL470
10380                        		__ld.umq	_player_state
         1D:D74F  AD 19 23   			lda	_player_state
10381                        		__equ_b.uiq	12
         1D:D752  C9 0C      			cmp	#12
         1D:D754  F0 01      			beq	!+
         1D:D756  18         			clc
         1D:D757             	!:
10382    1D:D757             	.LL470:
10383                        		__bfalse	.LL469
         1D:D757  B0 03 4C 9E			bcc	.LL469
         1D:D75B  DD          
10384                        	
10385                        		.dbg	line,	"include\routines_LEVELS.c", 1140; {
10386                        	
10387                        		.dbg	line,	"include\routines_LEVELS.c", 1141; spr_set(player_id);
10388                        		__ld.umq	_player_id
         1D:D75C  AD 18 23   			lda	_player_id
10389                        		__call		_spr_set.1
         1D:D75F  20 F1 E7   			call	_spr_set.1
10390                        	
10391                        		.dbg	line,	"include\routines_LEVELS.c", 1142; spr_pattern(PLAYER_HANG_VRAM_ADR);
10392                        		__ld.wi		8448
         1D:D762  62         			cla
         1D:D763  A0 21      			ldy.h	#8448
10393                        		__call		_spr_pattern.1
         1D:D765  20 3A E8   			call	_spr_pattern.1
10394                        	
10395                        		.dbg	line,	"include\routines_LEVELS.c", 1143; player_counter_anim = 0;
10396                        		__st.umiq	0, _player_counter_anim
         1D:D768  9C 1C 23   			stz	_player_counter_anim
10397                        	
10398                        		.dbg	line,	"include\routines_LEVELS.c", 1144; player_state = STATE_HANG;
10399                        		__st.umiq	10, _player_state
         1D:D76B  A9 0A      			lda.l	#10
         1D:D76D  8D 19 23   			sta	_player_state
10400                        	
10401                        		.dbg	line,	"include\routines_LEVELS.c", 1145; }
10402                        	
10403                        		.dbg	line,	"include\routines_LEVELS.c", 1146; }
10404    1D:D770             	.LL469	.alias		.LL471
10405    1D:D770             	.LL468	.alias		.LL471
10406    1D:D770             	.LL464	.alias		.LL471
10407    1D:D770             	.LL460	.alias		.LL471
10408    1D:D770             	.LL457	.alias		.LL471
10409    1D:D770             	.LL454	.alias		.LL471
10410    1D:D770             	.LL448	.alias		.LL471
10411                        	
10412                        		.dbg	line,	"include\routines_LEVELS.c", 1149; //--------------------------------------------------------------------------------------//
10413                        	
10414                        		.dbg	line,	"include\routines_LEVELS.c", 1150; //                                     LEFT BUTTON                                      //
10415                        	
10416                        		.dbg	line,	"include\routines_LEVELS.c", 1151; //--------------------------------------------------------------------------------------//
10417                        	
10418                        		.dbg	line,	"include\routines_LEVELS.c", 1153; else if(joy(JOYPAD_1) & JOY_LEFT)
10419                        		__bra		.LL471
         1D:D770  4C 9E DD   			bra	.LL471
10420    1D:D773             	.LL443:
10421                        		__ld.uiq	0
         1D:D773  62         			cla
10422                        		 _joy.1
         1D:D774  AA         			tax
         1D:D775  BD 28 22   			lda	joynow, x
         1D:D778  BC D3 22   			ldy	joy6now, x
10423                        		__tand.wi	128
         1D:D77B  29 80      			and	#128
         1D:D77D  C9 01      	!:		cmp	#1
10424                        		__bfalse	.LL472
         1D:D77F  B0 03 4C 47			bcc	.LL472
         1D:D783  DB          
10425                        	
10426                        		.dbg	line,	"include\routines_LEVELS.c", 1154; {
10427                        	
10428                        		.dbg	line,	"include\routines_LEVELS.c", 1155; if(player_state == STATE_IDLE || player_state == STATE_WALK)
10429                        		__not.um	_player_state
         1D:D784  AD 19 23   			lda	_player_state
         1D:D787  18         			clc
         1D:D788  D0 01      			bne	!+
         1D:D78A  38         			sec
         1D:D78B             	!:
10430                        		__btrue		.LL474
         1D:D78B  B0 08      			bcs	.LL474
10431                        		__ld.umq	_player_state
         1D:D78D  AD 19 23   			lda	_player_state
10432                        		__equ_b.uiq	1
         1D:D790  C9 01      			cmp	#1
         1D:D792  F0 01      			beq	!+
         1D:D794  18         			clc
         1D:D795             	!:
10433    1D:D795             	.LL474:
10434                        		__bfalse	.LL473
         1D:D795  B0 03 4C 3B			bcc	.LL473
         1D:D799  D8          
10435                        	
10436                        		.dbg	line,	"include\routines_LEVELS.c", 1156; {
10437                        	
10438                        		.dbg	line,	"include\routines_LEVELS.c", 1157; player_axis = AXIS_LEFT;
10439                        		__st.umiq	1, _player_axis
         1D:D79A  A9 01      			lda.l	#1
         1D:D79C  8D 1A 23   			sta	_player_axis
10440                        	
10441                        		.dbg	line,	"include\routines_LEVELS.c", 1159; if(player_previous_axis != player_axis)
10442                        		__ld.umq	_player_previous_axis
         1D:D79F  AD 1B 23   			lda	_player_previous_axis
10443                        		__neq_b.umq	_player_axis
         1D:D7A2  38         			sec
         1D:D7A3  4D 1A 23   			eor	_player_axis
         1D:D7A6  D0 01      			bne	!+
         1D:D7A8  18         			clc
         1D:D7A9             	!:
10444                        		__bfalse	.LL475
         1D:D7A9  90 6D      			bcc	.LL475
10445                        	
10446                        		.dbg	line,	"include\routines_LEVELS.c", 1160; {
10447                        	
10448                        		.dbg	line,	"include\routines_LEVELS.c", 1161; player_previous_axis = player_axis;
10449                        		__ld.um		_player_axis
         1D:D7AB  AD 1A 23   			lda	_player_axis
         1D:D7AE  C2         			cly
10450                        		__st.umq	_player_previous_axis
         1D:D7AF  8D 1B 23   			sta	_player_previous_axis
10451                        	
10452                        		.dbg	line,	"include\routines_LEVELS.c", 1163; spr_set(player_id);
10453                        		__ld.umq	_player_id
         1D:D7B2  AD 18 23   			lda	_player_id
10454                        		__call		_spr_set.1
         1D:D7B5  20 F1 E7   			call	_spr_set.1
10455                        	
10456                        		.dbg	line,	"include\routines_LEVELS.c", 1164; spr_ctrl(FLIP_MAS, FLIP_X);
10457                        		__st.umiq	136, _al
         1D:D7B8  A9 88      			lda.l	#136
         1D:D7BA  85 F8      			sta	_al
10458                        		__ld.uiq	8
         1D:D7BC  A9 08      			lda	#8
10459                        		__call		_spr_ctrl.2
         1D:D7BE  20 50 E8   			call	_spr_ctrl.2
10460                        	
10461                        		.dbg	line,	"include\routines_LEVELS.c", 1166; spr_set(chain_id);
10462                        		__ld.umq	_chain_id
         1D:D7C1  AD 26 23   			lda	_chain_id
10463                        		__call		_spr_set.1
         1D:D7C4  20 F1 E7   			call	_spr_set.1
10464                        	
10465                        		.dbg	line,	"include\routines_LEVELS.c", 1167; spr_ctrl(FLIP_MAS, FLIP_X);
10466                        		__st.umiq	136, _al
         1D:D7C7  A9 88      			lda.l	#136
         1D:D7C9  85 F8      			sta	_al
10467                        		__ld.uiq	8
         1D:D7CB  A9 08      			lda	#8
10468                        		__call		_spr_ctrl.2
         1D:D7CD  20 50 E8   			call	_spr_ctrl.2
10469                        	
10470                        		.dbg	line,	"include\routines_LEVELS.c", 1169; spr_set(chain_id+1);
10471                        		__ld.um		_chain_id
         1D:D7D0  AD 26 23   			lda	_chain_id
         1D:D7D3  C2         			cly
10472                        		__add.wi	1
         1D:D7D4  1A         			inc	a
         1D:D7D5  D0 01      			bne	!+
         1D:D7D7  C8         			iny
         1D:D7D8             	!:
10473                        		__call		_spr_set.1
         1D:D7D8  20 F1 E7   			call	_spr_set.1
10474                        	
10475                        		.dbg	line,	"include\routines_LEVELS.c", 1170; spr_ctrl(FLIP_MAS, FLIP_X);
10476                        		__st.umiq	136, _al
         1D:D7DB  A9 88      			lda.l	#136
         1D:D7DD  85 F8      			sta	_al
10477                        		__ld.uiq	8
         1D:D7DF  A9 08      			lda	#8
10478                        		__call		_spr_ctrl.2
         1D:D7E1  20 50 E8   			call	_spr_ctrl.2
10479                        	
10480                        		.dbg	line,	"include\routines_LEVELS.c", 1172; spr_set(chain_id+2);
10481                        		__ld.um		_chain_id
         1D:D7E4  AD 26 23   			lda	_chain_id
         1D:D7E7  C2         			cly
10482                        		__add.wi	2
         1D:D7E8  18         			clc
         1D:D7E9  69 02      			adc.l	#2
         1D:D7EB  90 01      			bcc	!+
         1D:D7ED  C8         			iny
         1D:D7EE             	!:
10483                        		__call		_spr_set.1
         1D:D7EE  20 F1 E7   			call	_spr_set.1
10484                        	
10485                        		.dbg	line,	"include\routines_LEVELS.c", 1173; spr_ctrl(FLIP_MAS, FLIP_X);
10486                        		__st.umiq	136, _al
         1D:D7F1  A9 88      			lda.l	#136
         1D:D7F3  85 F8      			sta	_al
10487                        		__ld.uiq	8
         1D:D7F5  A9 08      			lda	#8
10488                        		__call		_spr_ctrl.2
         1D:D7F7  20 50 E8   			call	_spr_ctrl.2
10489                        	
10490                        		.dbg	line,	"include\routines_LEVELS.c", 1175; spr_set(weapon_id);
10491                        		__ld.umq	_weapon_id
         1D:D7FA  AD 27 23   			lda	_weapon_id
10492                        		__call		_spr_set.1
         1D:D7FD  20 F1 E7   			call	_spr_set.1
10493                        	
10494                        		.dbg	line,	"include\routines_LEVELS.c", 1176; spr_ctrl(FLIP_MAS, FLIP_X);
10495                        		__st.umiq	136, _al
         1D:D800  A9 88      			lda.l	#136
         1D:D802  85 F8      			sta	_al
10496                        		__ld.uiq	8
         1D:D804  A9 08      			lda	#8
10497                        		__call		_spr_ctrl.2
         1D:D806  20 50 E8   			call	_spr_ctrl.2
10498                        	
10499                        		.dbg	line,	"include\routines_LEVELS.c", 1177; spr_x(player_pos_x+15);
10500                        		__ld.wm		_player_pos_x
         1D:D809  AD F7 24   			lda.l	_player_pos_x
         1D:D80C  AC F8 24   			ldy.h	_player_pos_x
10501                        		__add.wi	15
         1D:D80F  18         			clc
         1D:D810  69 0F      			adc.l	#15
         1D:D812  90 01      			bcc	!+
         1D:D814  C8         			iny
         1D:D815             	!:
10502                        		__call		_spr_x.1
         1D:D815  20 1E E8   			call	_spr_x.1
10503                        	
10504                        		.dbg	line,	"include\routines_LEVELS.c", 1178; }
10505                        	
10506                        		.dbg	line,	"include\routines_LEVELS.c", 1180; if(joy(JOYPAD_1) & JOY_DOWN)
10507    1D:D818             	.LL475:
10508                        		__ld.uiq	0
         1D:D818  62         			cla
10509                        		 _joy.1
         1D:D819  AA         			tax
         1D:D81A  BD 28 22   			lda	joynow, x
         1D:D81D  BC D3 22   			ldy	joy6now, x
10510                        		__tand.wi	64
         1D:D820  29 40      			and	#64
         1D:D822  C9 01      	!:		cmp	#1
10511                        		__bfalse	.LL476
         1D:D824  90 0D      			bcc	.LL476
10512                        	
10513                        		.dbg	line,	"include\routines_LEVELS.c", 1181; {
10514                        	
10515                        		.dbg	line,	"include\routines_LEVELS.c", 1182; player_counter_anim = 1;
10516                        		__st.umiq	1, _player_counter_anim
         1D:D826  A9 01      			lda.l	#1
         1D:D828  8D 1C 23   			sta	_player_counter_anim
10517                        	
10518                        		.dbg	line,	"include\routines_LEVELS.c", 1183; player_state = STATE_CROUCH;
10519                        		__st.umiq	7, _player_state
         1D:D82B  A9 07      			lda.l	#7
         1D:D82D  8D 19 23   			sta	_player_state
10520                        	
10521                        		.dbg	line,	"include\routines_LEVELS.c", 1184; return;
10522                        		__bra		.LL434
         1D:D830  4C 9E DD   			bra	.LL434
10523                        	
10524                        		.dbg	line,	"include\routines_LEVELS.c", 1185; }
10525                        	
10526                        		.dbg	line,	"include\routines_LEVELS.c", 1187; player_state = STATE_WALK;
10527    1D:D833             	.LL476:
10528                        		__st.umiq	1, _player_state
         1D:D833  A9 01      			lda.l	#1
         1D:D835  8D 19 23   			sta	_player_state
10529                        	
10530                        		.dbg	line,	"include\routines_LEVELS.c", 1188; }
10531                        	
10532                        		.dbg	line,	"include\routines_LEVELS.c", 1191; else if(player_state == STATE_JUMP)
10533                        		__bra		.LL477
         1D:D838  4C 9E DD   			bra	.LL477
10534    1D:D83B             	.LL473:
10535                        		__ld.umq	_player_state
         1D:D83B  AD 19 23   			lda	_player_state
10536                        		__equ_b.uiq	4
         1D:D83E  C9 04      			cmp	#4
         1D:D840  F0 01      			beq	!+
         1D:D842  18         			clc
         1D:D843             	!:
10537                        		__bfalse	.LL478
         1D:D843  B0 03 4C E1			bcc	.LL478
         1D:D847  D8          
10538                        	
10539                        		.dbg	line,	"include\routines_LEVELS.c", 1192; {
10540                        	
10541                        		.dbg	line,	"include\routines_LEVELS.c", 1193; if(player_axis == AXIS_RIGHT)
10542                        		__not.um	_player_axis
         1D:D848  AD 1A 23   			lda	_player_axis
         1D:D84B  18         			clc
         1D:D84C  D0 01      			bne	!+
         1D:D84E  38         			sec
         1D:D84F             	!:
10543                        		__bfalse	.LL479
         1D:D84F  90 72      			bcc	.LL479
10544                        	
10545                        		.dbg	line,	"include\routines_LEVELS.c", 1194; {
10546                        	
10547                        		.dbg	line,	"include\routines_LEVELS.c", 1195; player_axis = AXIS_LEFT;
10548                        		__st.umiq	1, _player_axis
         1D:D851  A9 01      			lda.l	#1
         1D:D853  8D 1A 23   			sta	_player_axis
10549                        	
10550                        		.dbg	line,	"include\routines_LEVELS.c", 1196; player_previous_axis = player_axis;
10551                        		__ld.um		_player_axis
         1D:D856  AD 1A 23   			lda	_player_axis
         1D:D859  C2         			cly
10552                        		__st.umq	_player_previous_axis
         1D:D85A  8D 1B 23   			sta	_player_previous_axis
10553                        	
10554                        		.dbg	line,	"include\routines_LEVELS.c", 1198; spr_set(player_id);
10555                        		__ld.umq	_player_id
         1D:D85D  AD 18 23   			lda	_player_id
10556                        		__call		_spr_set.1
         1D:D860  20 F1 E7   			call	_spr_set.1
10557                        	
10558                        		.dbg	line,	"include\routines_LEVELS.c", 1199; spr_ctrl(FLIP_MAS, FLIP_X);
10559                        		__st.umiq	136, _al
         1D:D863  A9 88      			lda.l	#136
         1D:D865  85 F8      			sta	_al
10560                        		__ld.uiq	8
         1D:D867  A9 08      			lda	#8
10561                        		__call		_spr_ctrl.2
         1D:D869  20 50 E8   			call	_spr_ctrl.2
10562                        	
10563                        		.dbg	line,	"include\routines_LEVELS.c", 1201; spr_set(chain_id);
10564                        		__ld.umq	_chain_id
         1D:D86C  AD 26 23   			lda	_chain_id
10565                        		__call		_spr_set.1
         1D:D86F  20 F1 E7   			call	_spr_set.1
10566                        	
10567                        		.dbg	line,	"include\routines_LEVELS.c", 1202; spr_ctrl(FLIP_MAS, FLIP_X);
10568                        		__st.umiq	136, _al
         1D:D872  A9 88      			lda.l	#136
         1D:D874  85 F8      			sta	_al
10569                        		__ld.uiq	8
         1D:D876  A9 08      			lda	#8
10570                        		__call		_spr_ctrl.2
         1D:D878  20 50 E8   			call	_spr_ctrl.2
10571                        	
10572                        		.dbg	line,	"include\routines_LEVELS.c", 1204; spr_set(chain_id+1);
10573                        		__ld.um		_chain_id
         1D:D87B  AD 26 23   			lda	_chain_id
         1D:D87E  C2         			cly
10574                        		__add.wi	1
         1D:D87F  1A         			inc	a
         1D:D880  D0 01      			bne	!+
         1D:D882  C8         			iny
         1D:D883             	!:
10575                        		__call		_spr_set.1
         1D:D883  20 F1 E7   			call	_spr_set.1
10576                        	
10577                        		.dbg	line,	"include\routines_LEVELS.c", 1205; spr_ctrl(FLIP_MAS, FLIP_X);
10578                        		__st.umiq	136, _al
         1D:D886  A9 88      			lda.l	#136
         1D:D888  85 F8      			sta	_al
10579                        		__ld.uiq	8
         1D:D88A  A9 08      			lda	#8
10580                        		__call		_spr_ctrl.2
         1D:D88C  20 50 E8   			call	_spr_ctrl.2
10581                        	
10582                        		.dbg	line,	"include\routines_LEVELS.c", 1207; spr_set(chain_id+2);
10583                        		__ld.um		_chain_id
         1D:D88F  AD 26 23   			lda	_chain_id
         1D:D892  C2         			cly
10584                        		__add.wi	2
         1D:D893  18         			clc
         1D:D894  69 02      			adc.l	#2
         1D:D896  90 01      			bcc	!+
         1D:D898  C8         			iny
         1D:D899             	!:
10585                        		__call		_spr_set.1
         1D:D899  20 F1 E7   			call	_spr_set.1
10586                        	
10587                        		.dbg	line,	"include\routines_LEVELS.c", 1208; spr_ctrl(FLIP_MAS, FLIP_X);
10588                        		__st.umiq	136, _al
         1D:D89C  A9 88      			lda.l	#136
         1D:D89E  85 F8      			sta	_al
10589                        		__ld.uiq	8
         1D:D8A0  A9 08      			lda	#8
10590                        		__call		_spr_ctrl.2
         1D:D8A2  20 50 E8   			call	_spr_ctrl.2
10591                        	
10592                        		.dbg	line,	"include\routines_LEVELS.c", 1210; spr_set(weapon_id);
10593                        		__ld.umq	_weapon_id
         1D:D8A5  AD 27 23   			lda	_weapon_id
10594                        		__call		_spr_set.1
         1D:D8A8  20 F1 E7   			call	_spr_set.1
10595                        	
10596                        		.dbg	line,	"include\routines_LEVELS.c", 1211; spr_ctrl(FLIP_MAS, FLIP_X);
10597                        		__st.umiq	136, _al
         1D:D8AB  A9 88      			lda.l	#136
         1D:D8AD  85 F8      			sta	_al
10598                        		__ld.uiq	8
         1D:D8AF  A9 08      			lda	#8
10599                        		__call		_spr_ctrl.2
         1D:D8B1  20 50 E8   			call	_spr_ctrl.2
10600                        	
10601                        		.dbg	line,	"include\routines_LEVELS.c", 1212; spr_x(player_pos_x+21);
10602                        		__ld.wm		_player_pos_x
         1D:D8B4  AD F7 24   			lda.l	_player_pos_x
         1D:D8B7  AC F8 24   			ldy.h	_player_pos_x
10603                        		__add.wi	21
         1D:D8BA  18         			clc
         1D:D8BB  69 15      			adc.l	#21
         1D:D8BD  90 01      			bcc	!+
         1D:D8BF  C8         			iny
         1D:D8C0             	!:
10604                        		__call		_spr_x.1
         1D:D8C0  20 1E E8   			call	_spr_x.1
10605                        	
10606                        		.dbg	line,	"include\routines_LEVELS.c", 1213; }
10607                        	
10608                        		.dbg	line,	"include\routines_LEVELS.c", 1215; if(player_index_jump > 11 && player_index_jump < 15)
10609    1D:D8C3             	.LL479:
10610                        		__ld.umq	_player_index_jump
         1D:D8C3  AD 1D 23   			lda	_player_index_jump
10611                        		__ugt_b.uiq	11
         1D:D8C6  18         			clc			; Subtract integer+1 from A.
         1D:D8C7  E9 0B      			sbc	#11		; CS if A > integer.
10612                        		__bfalse	.LL481
         1D:D8C9  90 09      			bcc	.LL481
10613                        		__ld.umq	_player_index_jump
         1D:D8CB  AD 1D 23   			lda	_player_index_jump
10614                        		__ult_b.uiq	15
         1D:D8CE  C9 0F      			cmp	#15		; Subtract integer from A.
         1D:D8D0  6A         			ror	a		; CC if A < integer.
         1D:D8D1  49 80      			eor	#$80
         1D:D8D3  2A         			rol	a
10615    1D:D8D4             	.LL481:
10616                        		__bfalse	.LL480
         1D:D8D4  B0 03 4C 9E			bcc	.LL480
         1D:D8D8  DD          
10617                        	
10618                        		.dbg	line,	"include\routines_LEVELS.c", 1216; {
10619                        	
10620                        		.dbg	line,	"include\routines_LEVELS.c", 1217; player_state = STATE_JUMP_LEFT;                        
10621                        		__st.umiq	6, _player_state
         1D:D8D9  A9 06      			lda.l	#6
         1D:D8DB  8D 19 23   			sta	_player_state
10622                        	
10623                        		.dbg	line,	"include\routines_LEVELS.c", 1218; }
10624                        	
10625                        		.dbg	line,	"include\routines_LEVELS.c", 1219; }
10626    1D:D8DE             	.LL480	.alias		.LL482
10627                        	
10628                        		.dbg	line,	"include\routines_LEVELS.c", 1222; else if(player_state == STATE_JUMP_RIGHT)
10629                        		__bra		.LL482
         1D:D8DE  4C 9E DD   			bra	.LL482
10630    1D:D8E1             	.LL478:
10631                        		__ld.umq	_player_state
         1D:D8E1  AD 19 23   			lda	_player_state
10632                        		__equ_b.uiq	5
         1D:D8E4  C9 05      			cmp	#5
         1D:D8E6  F0 01      			beq	!+
         1D:D8E8  18         			clc
         1D:D8E9             	!:
10633                        		__bfalse	.LL483
         1D:D8E9  B0 03 4C 6F			bcc	.LL483
         1D:D8ED  D9          
10634                        	
10635                        		.dbg	line,	"include\routines_LEVELS.c", 1223; {
10636                        	
10637                        		.dbg	line,	"include\routines_LEVELS.c", 1224; if(player_axis == AXIS_RIGHT)
10638                        		__not.um	_player_axis
         1D:D8EE  AD 1A 23   			lda	_player_axis
         1D:D8F1  18         			clc
         1D:D8F2  D0 01      			bne	!+
         1D:D8F4  38         			sec
         1D:D8F5             	!:
10639                        		__bfalse	.LL484
         1D:D8F5  B0 03 4C 9E			bcc	.LL484
         1D:D8F9  DD          
10640                        	
10641                        		.dbg	line,	"include\routines_LEVELS.c", 1225; {
10642                        	
10643                        		.dbg	line,	"include\routines_LEVELS.c", 1226; player_axis = AXIS_LEFT;
10644                        		__st.umiq	1, _player_axis
         1D:D8FA  A9 01      			lda.l	#1
         1D:D8FC  8D 1A 23   			sta	_player_axis
10645                        	
10646                        		.dbg	line,	"include\routines_LEVELS.c", 1227; player_previous_axis = player_axis;
10647                        		__ld.um		_player_axis
         1D:D8FF  AD 1A 23   			lda	_player_axis
         1D:D902  C2         			cly
10648                        		__st.umq	_player_previous_axis
         1D:D903  8D 1B 23   			sta	_player_previous_axis
10649                        	
10650                        		.dbg	line,	"include\routines_LEVELS.c", 1229; spr_set(player_id);
10651                        		__ld.umq	_player_id
         1D:D906  AD 18 23   			lda	_player_id
10652                        		__call		_spr_set.1
         1D:D909  20 F1 E7   			call	_spr_set.1
10653                        	
10654                        		.dbg	line,	"include\routines_LEVELS.c", 1230; spr_ctrl(FLIP_MAS, FLIP_X);
10655                        		__st.umiq	136, _al
         1D:D90C  A9 88      			lda.l	#136
         1D:D90E  85 F8      			sta	_al
10656                        		__ld.uiq	8
         1D:D910  A9 08      			lda	#8
10657                        		__call		_spr_ctrl.2
         1D:D912  20 50 E8   			call	_spr_ctrl.2
10658                        	
10659                        		.dbg	line,	"include\routines_LEVELS.c", 1232; spr_set(chain_id);
10660                        		__ld.umq	_chain_id
         1D:D915  AD 26 23   			lda	_chain_id
10661                        		__call		_spr_set.1
         1D:D918  20 F1 E7   			call	_spr_set.1
10662                        	
10663                        		.dbg	line,	"include\routines_LEVELS.c", 1233; spr_ctrl(FLIP_MAS, FLIP_X);
10664                        		__st.umiq	136, _al
         1D:D91B  A9 88      			lda.l	#136
         1D:D91D  85 F8      			sta	_al
10665                        		__ld.uiq	8
         1D:D91F  A9 08      			lda	#8
10666                        		__call		_spr_ctrl.2
         1D:D921  20 50 E8   			call	_spr_ctrl.2
10667                        	
10668                        		.dbg	line,	"include\routines_LEVELS.c", 1235; spr_set(chain_id+1);
10669                        		__ld.um		_chain_id
         1D:D924  AD 26 23   			lda	_chain_id
         1D:D927  C2         			cly
10670                        		__add.wi	1
         1D:D928  1A         			inc	a
         1D:D929  D0 01      			bne	!+
         1D:D92B  C8         			iny
         1D:D92C             	!:
10671                        		__call		_spr_set.1
         1D:D92C  20 F1 E7   			call	_spr_set.1
10672                        	
10673                        		.dbg	line,	"include\routines_LEVELS.c", 1236; spr_ctrl(FLIP_MAS, FLIP_X);
10674                        		__st.umiq	136, _al
         1D:D92F  A9 88      			lda.l	#136
         1D:D931  85 F8      			sta	_al
10675                        		__ld.uiq	8
         1D:D933  A9 08      			lda	#8
10676                        		__call		_spr_ctrl.2
         1D:D935  20 50 E8   			call	_spr_ctrl.2
10677                        	
10678                        		.dbg	line,	"include\routines_LEVELS.c", 1238; spr_set(chain_id+2);
10679                        		__ld.um		_chain_id
         1D:D938  AD 26 23   			lda	_chain_id
         1D:D93B  C2         			cly
10680                        		__add.wi	2
         1D:D93C  18         			clc
         1D:D93D  69 02      			adc.l	#2
         1D:D93F  90 01      			bcc	!+
         1D:D941  C8         			iny
         1D:D942             	!:
10681                        		__call		_spr_set.1
         1D:D942  20 F1 E7   			call	_spr_set.1
10682                        	
10683                        		.dbg	line,	"include\routines_LEVELS.c", 1239; spr_ctrl(FLIP_MAS, FLIP_X);
10684                        		__st.umiq	136, _al
         1D:D945  A9 88      			lda.l	#136
         1D:D947  85 F8      			sta	_al
10685                        		__ld.uiq	8
         1D:D949  A9 08      			lda	#8
10686                        		__call		_spr_ctrl.2
         1D:D94B  20 50 E8   			call	_spr_ctrl.2
10687                        	
10688                        		.dbg	line,	"include\routines_LEVELS.c", 1241; spr_set(weapon_id);
10689                        		__ld.umq	_weapon_id
         1D:D94E  AD 27 23   			lda	_weapon_id
10690                        		__call		_spr_set.1
         1D:D951  20 F1 E7   			call	_spr_set.1
10691                        	
10692                        		.dbg	line,	"include\routines_LEVELS.c", 1242; spr_ctrl(FLIP_MAS, FLIP_X);
10693                        		__st.umiq	136, _al
         1D:D954  A9 88      			lda.l	#136
         1D:D956  85 F8      			sta	_al
10694                        		__ld.uiq	8
         1D:D958  A9 08      			lda	#8
10695                        		__call		_spr_ctrl.2
         1D:D95A  20 50 E8   			call	_spr_ctrl.2
10696                        	
10697                        		.dbg	line,	"include\routines_LEVELS.c", 1243; spr_x(player_pos_x+21);
10698                        		__ld.wm		_player_pos_x
         1D:D95D  AD F7 24   			lda.l	_player_pos_x
         1D:D960  AC F8 24   			ldy.h	_player_pos_x
10699                        		__add.wi	21
         1D:D963  18         			clc
         1D:D964  69 15      			adc.l	#21
         1D:D966  90 01      			bcc	!+
         1D:D968  C8         			iny
         1D:D969             	!:
10700                        		__call		_spr_x.1
         1D:D969  20 1E E8   			call	_spr_x.1
10701                        	
10702                        		.dbg	line,	"include\routines_LEVELS.c", 1244; }
10703                        	
10704                        		.dbg	line,	"include\routines_LEVELS.c", 1245; }
10705    1D:D96C             	.LL484	.alias		.LL485
10706                        	
10707                        		.dbg	line,	"include\routines_LEVELS.c", 1248; else if(player_state == STATE_CROUCH)
10708                        		__bra		.LL485
         1D:D96C  4C 9E DD   			bra	.LL485
10709    1D:D96F             	.LL483:
10710                        		__ld.umq	_player_state
         1D:D96F  AD 19 23   			lda	_player_state
10711                        		__equ_b.uiq	7
         1D:D972  C9 07      			cmp	#7
         1D:D974  F0 01      			beq	!+
         1D:D976  18         			clc
         1D:D977             	!:
10712                        		__bfalse	.LL486
         1D:D977  B0 03 4C FD			bcc	.LL486
         1D:D97B  D9          
10713                        	
10714                        		.dbg	line,	"include\routines_LEVELS.c", 1249; {
10715                        	
10716                        		.dbg	line,	"include\routines_LEVELS.c", 1250; if(player_axis == AXIS_RIGHT)
10717                        		__not.um	_player_axis
         1D:D97C  AD 1A 23   			lda	_player_axis
         1D:D97F  18         			clc
         1D:D980  D0 01      			bne	!+
         1D:D982  38         			sec
         1D:D983             	!:
10718                        		__bfalse	.LL487
         1D:D983  B0 03 4C 9E			bcc	.LL487
         1D:D987  DD          
10719                        	
10720                        		.dbg	line,	"include\routines_LEVELS.c", 1251; {
10721                        	
10722                        		.dbg	line,	"include\routines_LEVELS.c", 1252; player_axis = AXIS_LEFT;
10723                        		__st.umiq	1, _player_axis
         1D:D988  A9 01      			lda.l	#1
         1D:D98A  8D 1A 23   			sta	_player_axis
10724                        	
10725                        		.dbg	line,	"include\routines_LEVELS.c", 1253; player_previous_axis = player_axis;
10726                        		__ld.um		_player_axis
         1D:D98D  AD 1A 23   			lda	_player_axis
         1D:D990  C2         			cly
10727                        		__st.umq	_player_previous_axis
         1D:D991  8D 1B 23   			sta	_player_previous_axis
10728                        	
10729                        		.dbg	line,	"include\routines_LEVELS.c", 1255; spr_set(player_id);
10730                        		__ld.umq	_player_id
         1D:D994  AD 18 23   			lda	_player_id
10731                        		__call		_spr_set.1
         1D:D997  20 F1 E7   			call	_spr_set.1
10732                        	
10733                        		.dbg	line,	"include\routines_LEVELS.c", 1256; spr_ctrl(FLIP_MAS, FLIP_X);
10734                        		__st.umiq	136, _al
         1D:D99A  A9 88      			lda.l	#136
         1D:D99C  85 F8      			sta	_al
10735                        		__ld.uiq	8
         1D:D99E  A9 08      			lda	#8
10736                        		__call		_spr_ctrl.2
         1D:D9A0  20 50 E8   			call	_spr_ctrl.2
10737                        	
10738                        		.dbg	line,	"include\routines_LEVELS.c", 1258; spr_set(chain_id);
10739                        		__ld.umq	_chain_id
         1D:D9A3  AD 26 23   			lda	_chain_id
10740                        		__call		_spr_set.1
         1D:D9A6  20 F1 E7   			call	_spr_set.1
10741                        	
10742                        		.dbg	line,	"include\routines_LEVELS.c", 1259; spr_ctrl(FLIP_MAS, FLIP_X);
10743                        		__st.umiq	136, _al
         1D:D9A9  A9 88      			lda.l	#136
         1D:D9AB  85 F8      			sta	_al
10744                        		__ld.uiq	8
         1D:D9AD  A9 08      			lda	#8
10745                        		__call		_spr_ctrl.2
         1D:D9AF  20 50 E8   			call	_spr_ctrl.2
10746                        	
10747                        		.dbg	line,	"include\routines_LEVELS.c", 1261; spr_set(chain_id+1);
10748                        		__ld.um		_chain_id
         1D:D9B2  AD 26 23   			lda	_chain_id
         1D:D9B5  C2         			cly
10749                        		__add.wi	1
         1D:D9B6  1A         			inc	a
         1D:D9B7  D0 01      			bne	!+
         1D:D9B9  C8         			iny
         1D:D9BA             	!:
10750                        		__call		_spr_set.1
         1D:D9BA  20 F1 E7   			call	_spr_set.1
10751                        	
10752                        		.dbg	line,	"include\routines_LEVELS.c", 1262; spr_ctrl(FLIP_MAS, FLIP_X);
10753                        		__st.umiq	136, _al
         1D:D9BD  A9 88      			lda.l	#136
         1D:D9BF  85 F8      			sta	_al
10754                        		__ld.uiq	8
         1D:D9C1  A9 08      			lda	#8
10755                        		__call		_spr_ctrl.2
         1D:D9C3  20 50 E8   			call	_spr_ctrl.2
10756                        	
10757                        		.dbg	line,	"include\routines_LEVELS.c", 1264; spr_set(chain_id+2);
10758                        		__ld.um		_chain_id
         1D:D9C6  AD 26 23   			lda	_chain_id
         1D:D9C9  C2         			cly
10759                        		__add.wi	2
         1D:D9CA  18         			clc
         1D:D9CB  69 02      			adc.l	#2
         1D:D9CD  90 01      			bcc	!+
         1D:D9CF  C8         			iny
         1D:D9D0             	!:
10760                        		__call		_spr_set.1
         1D:D9D0  20 F1 E7   			call	_spr_set.1
10761                        	
10762                        		.dbg	line,	"include\routines_LEVELS.c", 1265; spr_ctrl(FLIP_MAS, FLIP_X);
10763                        		__st.umiq	136, _al
         1D:D9D3  A9 88      			lda.l	#136
         1D:D9D5  85 F8      			sta	_al
10764                        		__ld.uiq	8
         1D:D9D7  A9 08      			lda	#8
10765                        		__call		_spr_ctrl.2
         1D:D9D9  20 50 E8   			call	_spr_ctrl.2
10766                        	
10767                        		.dbg	line,	"include\routines_LEVELS.c", 1267; spr_set(weapon_id);
10768                        		__ld.umq	_weapon_id
         1D:D9DC  AD 27 23   			lda	_weapon_id
10769                        		__call		_spr_set.1
         1D:D9DF  20 F1 E7   			call	_spr_set.1
10770                        	
10771                        		.dbg	line,	"include\routines_LEVELS.c", 1268; spr_ctrl(FLIP_MAS, FLIP_X);
10772                        		__st.umiq	136, _al
         1D:D9E2  A9 88      			lda.l	#136
         1D:D9E4  85 F8      			sta	_al
10773                        		__ld.uiq	8
         1D:D9E6  A9 08      			lda	#8
10774                        		__call		_spr_ctrl.2
         1D:D9E8  20 50 E8   			call	_spr_ctrl.2
10775                        	
10776                        		.dbg	line,	"include\routines_LEVELS.c", 1269; spr_x(player_pos_x+17);
10777                        		__ld.wm		_player_pos_x
         1D:D9EB  AD F7 24   			lda.l	_player_pos_x
         1D:D9EE  AC F8 24   			ldy.h	_player_pos_x
10778                        		__add.wi	17
         1D:D9F1  18         			clc
         1D:D9F2  69 11      			adc.l	#17
         1D:D9F4  90 01      			bcc	!+
         1D:D9F6  C8         			iny
         1D:D9F7             	!:
10779                        		__call		_spr_x.1
         1D:D9F7  20 1E E8   			call	_spr_x.1
10780                        	
10781                        		.dbg	line,	"include\routines_LEVELS.c", 1270; }
10782                        	
10783                        		.dbg	line,	"include\routines_LEVELS.c", 1271; }
10784    1D:D9FA             	.LL487	.alias		.LL488
10785                        	
10786                        		.dbg	line,	"include\routines_LEVELS.c", 1274; else if(player_state == STATE_FALL)
10787                        		__bra		.LL488
         1D:D9FA  4C 9E DD   			bra	.LL488
10788    1D:D9FD             	.LL486:
10789                        		__ld.umq	_player_state
         1D:D9FD  AD 19 23   			lda	_player_state
10790                        		__equ_b.uiq	9
         1D:DA00  C9 09      			cmp	#9
         1D:DA02  F0 01      			beq	!+
         1D:DA04  18         			clc
         1D:DA05             	!:
10791                        		__bfalse	.LL489
         1D:DA05  B0 03 4C 8B			bcc	.LL489
         1D:DA09  DA          
10792                        	
10793                        		.dbg	line,	"include\routines_LEVELS.c", 1275; {
10794                        	
10795                        		.dbg	line,	"include\routines_LEVELS.c", 1276; if(player_axis == AXIS_RIGHT)
10796                        		__not.um	_player_axis
         1D:DA0A  AD 1A 23   			lda	_player_axis
         1D:DA0D  18         			clc
         1D:DA0E  D0 01      			bne	!+
         1D:DA10  38         			sec
         1D:DA11             	!:
10797                        		__bfalse	.LL490
         1D:DA11  B0 03 4C 9E			bcc	.LL490
         1D:DA15  DD          
10798                        	
10799                        		.dbg	line,	"include\routines_LEVELS.c", 1277; {
10800                        	
10801                        		.dbg	line,	"include\routines_LEVELS.c", 1278; player_axis = AXIS_LEFT;
10802                        		__st.umiq	1, _player_axis
         1D:DA16  A9 01      			lda.l	#1
         1D:DA18  8D 1A 23   			sta	_player_axis
10803                        	
10804                        		.dbg	line,	"include\routines_LEVELS.c", 1279; player_previous_axis = player_axis;
10805                        		__ld.um		_player_axis
         1D:DA1B  AD 1A 23   			lda	_player_axis
         1D:DA1E  C2         			cly
10806                        		__st.umq	_player_previous_axis
         1D:DA1F  8D 1B 23   			sta	_player_previous_axis
10807                        	
10808                        		.dbg	line,	"include\routines_LEVELS.c", 1281; spr_set(player_id);
10809                        		__ld.umq	_player_id
         1D:DA22  AD 18 23   			lda	_player_id
10810                        		__call		_spr_set.1
         1D:DA25  20 F1 E7   			call	_spr_set.1
10811                        	
10812                        		.dbg	line,	"include\routines_LEVELS.c", 1282; spr_ctrl(FLIP_MAS, FLIP_X);
10813                        		__st.umiq	136, _al
         1D:DA28  A9 88      			lda.l	#136
         1D:DA2A  85 F8      			sta	_al
10814                        		__ld.uiq	8
         1D:DA2C  A9 08      			lda	#8
10815                        		__call		_spr_ctrl.2
         1D:DA2E  20 50 E8   			call	_spr_ctrl.2
10816                        	
10817                        		.dbg	line,	"include\routines_LEVELS.c", 1284; spr_set(chain_id);
10818                        		__ld.umq	_chain_id
         1D:DA31  AD 26 23   			lda	_chain_id
10819                        		__call		_spr_set.1
         1D:DA34  20 F1 E7   			call	_spr_set.1
10820                        	
10821                        		.dbg	line,	"include\routines_LEVELS.c", 1285; spr_ctrl(FLIP_MAS, FLIP_X);
10822                        		__st.umiq	136, _al
         1D:DA37  A9 88      			lda.l	#136
         1D:DA39  85 F8      			sta	_al
10823                        		__ld.uiq	8
         1D:DA3B  A9 08      			lda	#8
10824                        		__call		_spr_ctrl.2
         1D:DA3D  20 50 E8   			call	_spr_ctrl.2
10825                        	
10826                        		.dbg	line,	"include\routines_LEVELS.c", 1287; spr_set(chain_id+1);
10827                        		__ld.um		_chain_id
         1D:DA40  AD 26 23   			lda	_chain_id
         1D:DA43  C2         			cly
10828                        		__add.wi	1
         1D:DA44  1A         			inc	a
         1D:DA45  D0 01      			bne	!+
         1D:DA47  C8         			iny
         1D:DA48             	!:
10829                        		__call		_spr_set.1
         1D:DA48  20 F1 E7   			call	_spr_set.1
10830                        	
10831                        		.dbg	line,	"include\routines_LEVELS.c", 1288; spr_ctrl(FLIP_MAS, FLIP_X);
10832                        		__st.umiq	136, _al
         1D:DA4B  A9 88      			lda.l	#136
         1D:DA4D  85 F8      			sta	_al
10833                        		__ld.uiq	8
         1D:DA4F  A9 08      			lda	#8
10834                        		__call		_spr_ctrl.2
         1D:DA51  20 50 E8   			call	_spr_ctrl.2
10835                        	
10836                        		.dbg	line,	"include\routines_LEVELS.c", 1290; spr_set(chain_id+2);
10837                        		__ld.um		_chain_id
         1D:DA54  AD 26 23   			lda	_chain_id
         1D:DA57  C2         			cly
10838                        		__add.wi	2
         1D:DA58  18         			clc
         1D:DA59  69 02      			adc.l	#2
         1D:DA5B  90 01      			bcc	!+
         1D:DA5D  C8         			iny
         1D:DA5E             	!:
10839                        		__call		_spr_set.1
         1D:DA5E  20 F1 E7   			call	_spr_set.1
10840                        	
10841                        		.dbg	line,	"include\routines_LEVELS.c", 1291; spr_ctrl(FLIP_MAS, FLIP_X);
10842                        		__st.umiq	136, _al
         1D:DA61  A9 88      			lda.l	#136
         1D:DA63  85 F8      			sta	_al
10843                        		__ld.uiq	8
         1D:DA65  A9 08      			lda	#8
10844                        		__call		_spr_ctrl.2
         1D:DA67  20 50 E8   			call	_spr_ctrl.2
10845                        	
10846                        		.dbg	line,	"include\routines_LEVELS.c", 1293; spr_set(weapon_id);
10847                        		__ld.umq	_weapon_id
         1D:DA6A  AD 27 23   			lda	_weapon_id
10848                        		__call		_spr_set.1
         1D:DA6D  20 F1 E7   			call	_spr_set.1
10849                        	
10850                        		.dbg	line,	"include\routines_LEVELS.c", 1294; spr_ctrl(FLIP_MAS, FLIP_X);
10851                        		__st.umiq	136, _al
         1D:DA70  A9 88      			lda.l	#136
         1D:DA72  85 F8      			sta	_al
10852                        		__ld.uiq	8
         1D:DA74  A9 08      			lda	#8
10853                        		__call		_spr_ctrl.2
         1D:DA76  20 50 E8   			call	_spr_ctrl.2
10854                        	
10855                        		.dbg	line,	"include\routines_LEVELS.c", 1295; spr_x(player_pos_x+20);
10856                        		__ld.wm		_player_pos_x
         1D:DA79  AD F7 24   			lda.l	_player_pos_x
         1D:DA7C  AC F8 24   			ldy.h	_player_pos_x
10857                        		__add.wi	20
         1D:DA7F  18         			clc
         1D:DA80  69 14      			adc.l	#20
         1D:DA82  90 01      			bcc	!+
         1D:DA84  C8         			iny
         1D:DA85             	!:
10858                        		__call		_spr_x.1
         1D:DA85  20 1E E8   			call	_spr_x.1
10859                        	
10860                        		.dbg	line,	"include\routines_LEVELS.c", 1296; }
10861                        	
10862                        		.dbg	line,	"include\routines_LEVELS.c", 1297; }
10863    1D:DA88             	.LL490	.alias		.LL491
10864                        	
10865                        		.dbg	line,	"include\routines_LEVELS.c", 1299; 
10866                        	
10867                        		.dbg	line,	"include\routines_LEVELS.c", 1300; else if(player_state == STATE_HANG)
10868                        		__bra		.LL491
         1D:DA88  4C 9E DD   			bra	.LL491
10869    1D:DA8B             	.LL489:
10870                        		__ld.umq	_player_state
         1D:DA8B  AD 19 23   			lda	_player_state
10871                        		__equ_b.uiq	10
         1D:DA8E  C9 0A      			cmp	#10
         1D:DA90  F0 01      			beq	!+
         1D:DA92  18         			clc
         1D:DA93             	!:
10872                        		__bfalse	.LL492
         1D:DA93  B0 03 4C 19			bcc	.LL492
         1D:DA97  DB          
10873                        	
10874                        		.dbg	line,	"include\routines_LEVELS.c", 1301; {
10875                        	
10876                        		.dbg	line,	"include\routines_LEVELS.c", 1302; if(player_axis == AXIS_RIGHT)
10877                        		__not.um	_player_axis
         1D:DA98  AD 1A 23   			lda	_player_axis
         1D:DA9B  18         			clc
         1D:DA9C  D0 01      			bne	!+
         1D:DA9E  38         			sec
         1D:DA9F             	!:
10878                        		__bfalse	.LL493
         1D:DA9F  B0 03 4C 9E			bcc	.LL493
         1D:DAA3  DD          
10879                        	
10880                        		.dbg	line,	"include\routines_LEVELS.c", 1303; {
10881                        	
10882                        		.dbg	line,	"include\routines_LEVELS.c", 1304; player_axis = AXIS_LEFT;
10883                        		__st.umiq	1, _player_axis
         1D:DAA4  A9 01      			lda.l	#1
         1D:DAA6  8D 1A 23   			sta	_player_axis
10884                        	
10885                        		.dbg	line,	"include\routines_LEVELS.c", 1305; player_previous_axis = player_axis;
10886                        		__ld.um		_player_axis
         1D:DAA9  AD 1A 23   			lda	_player_axis
         1D:DAAC  C2         			cly
10887                        		__st.umq	_player_previous_axis
         1D:DAAD  8D 1B 23   			sta	_player_previous_axis
10888                        	
10889                        		.dbg	line,	"include\routines_LEVELS.c", 1307; spr_set(player_id);
10890                        		__ld.umq	_player_id
         1D:DAB0  AD 18 23   			lda	_player_id
10891                        		__call		_spr_set.1
         1D:DAB3  20 F1 E7   			call	_spr_set.1
10892                        	
10893                        		.dbg	line,	"include\routines_LEVELS.c", 1308; spr_ctrl(FLIP_MAS, FLIP_X);
10894                        		__st.umiq	136, _al
         1D:DAB6  A9 88      			lda.l	#136
         1D:DAB8  85 F8      			sta	_al
10895                        		__ld.uiq	8
         1D:DABA  A9 08      			lda	#8
10896                        		__call		_spr_ctrl.2
         1D:DABC  20 50 E8   			call	_spr_ctrl.2
10897                        	
10898                        		.dbg	line,	"include\routines_LEVELS.c", 1310; spr_set(chain_id);
10899                        		__ld.umq	_chain_id
         1D:DABF  AD 26 23   			lda	_chain_id
10900                        		__call		_spr_set.1
         1D:DAC2  20 F1 E7   			call	_spr_set.1
10901                        	
10902                        		.dbg	line,	"include\routines_LEVELS.c", 1311; spr_ctrl(FLIP_MAS, FLIP_X);
10903                        		__st.umiq	136, _al
         1D:DAC5  A9 88      			lda.l	#136
         1D:DAC7  85 F8      			sta	_al
10904                        		__ld.uiq	8
         1D:DAC9  A9 08      			lda	#8
10905                        		__call		_spr_ctrl.2
         1D:DACB  20 50 E8   			call	_spr_ctrl.2
10906                        	
10907                        		.dbg	line,	"include\routines_LEVELS.c", 1313; spr_set(chain_id+1);
10908                        		__ld.um		_chain_id
         1D:DACE  AD 26 23   			lda	_chain_id
         1D:DAD1  C2         			cly
10909                        		__add.wi	1
         1D:DAD2  1A         			inc	a
         1D:DAD3  D0 01      			bne	!+
         1D:DAD5  C8         			iny
         1D:DAD6             	!:
10910                        		__call		_spr_set.1
         1D:DAD6  20 F1 E7   			call	_spr_set.1
10911                        	
10912                        		.dbg	line,	"include\routines_LEVELS.c", 1314; spr_ctrl(FLIP_MAS, FLIP_X);
10913                        		__st.umiq	136, _al
         1D:DAD9  A9 88      			lda.l	#136
         1D:DADB  85 F8      			sta	_al
10914                        		__ld.uiq	8
         1D:DADD  A9 08      			lda	#8
10915                        		__call		_spr_ctrl.2
         1D:DADF  20 50 E8   			call	_spr_ctrl.2
10916                        	
10917                        		.dbg	line,	"include\routines_LEVELS.c", 1316; spr_set(chain_id+2);
10918                        		__ld.um		_chain_id
         1D:DAE2  AD 26 23   			lda	_chain_id
         1D:DAE5  C2         			cly
10919                        		__add.wi	2
         1D:DAE6  18         			clc
         1D:DAE7  69 02      			adc.l	#2
         1D:DAE9  90 01      			bcc	!+
         1D:DAEB  C8         			iny
         1D:DAEC             	!:
10920                        		__call		_spr_set.1
         1D:DAEC  20 F1 E7   			call	_spr_set.1
10921                        	
10922                        		.dbg	line,	"include\routines_LEVELS.c", 1317; spr_ctrl(FLIP_MAS, FLIP_X);
10923                        		__st.umiq	136, _al
         1D:DAEF  A9 88      			lda.l	#136
         1D:DAF1  85 F8      			sta	_al
10924                        		__ld.uiq	8
         1D:DAF3  A9 08      			lda	#8
10925                        		__call		_spr_ctrl.2
         1D:DAF5  20 50 E8   			call	_spr_ctrl.2
10926                        	
10927                        		.dbg	line,	"include\routines_LEVELS.c", 1319; spr_set(weapon_id);
10928                        		__ld.umq	_weapon_id
         1D:DAF8  AD 27 23   			lda	_weapon_id
10929                        		__call		_spr_set.1
         1D:DAFB  20 F1 E7   			call	_spr_set.1
10930                        	
10931                        		.dbg	line,	"include\routines_LEVELS.c", 1320; spr_ctrl(FLIP_MAS, FLIP_X);
10932                        		__st.umiq	136, _al
         1D:DAFE  A9 88      			lda.l	#136
         1D:DB00  85 F8      			sta	_al
10933                        		__ld.uiq	8
         1D:DB02  A9 08      			lda	#8
10934                        		__call		_spr_ctrl.2
         1D:DB04  20 50 E8   			call	_spr_ctrl.2
10935                        	
10936                        		.dbg	line,	"include\routines_LEVELS.c", 1321; spr_x(player_pos_x-2);
10937                        		__ld.wm		_player_pos_x
         1D:DB07  AD F7 24   			lda.l	_player_pos_x
         1D:DB0A  AC F8 24   			ldy.h	_player_pos_x
10938                        		__sub.wi	2
         1D:DB0D  38         			sec
         1D:DB0E  E9 02      			sbc.l	#2
         1D:DB10  B0 01      			bcs	!+
         1D:DB12  88         			dey
         1D:DB13             	!:
10939                        		__call		_spr_x.1
         1D:DB13  20 1E E8   			call	_spr_x.1
10940                        	
10941                        		.dbg	line,	"include\routines_LEVELS.c", 1322; }
10942                        	
10943                        		.dbg	line,	"include\routines_LEVELS.c", 1323; }
10944    1D:DB16             	.LL493	.alias		.LL494
10945                        	
10946                        		.dbg	line,	"include\routines_LEVELS.c", 1326; else if(player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
10947                        		__bra		.LL494
         1D:DB16  4C 9E DD   			bra	.LL494
10948    1D:DB19             	.LL492:
10949                        		__ld.umq	_player_state
         1D:DB19  AD 19 23   			lda	_player_state
10950                        		__equ_b.uiq	11
         1D:DB1C  C9 0B      			cmp	#11
         1D:DB1E  F0 01      			beq	!+
         1D:DB20  18         			clc
         1D:DB21             	!:
10951                        		__btrue		.LL496
         1D:DB21  B0 08      			bcs	.LL496
10952                        		__ld.umq	_player_state
         1D:DB23  AD 19 23   			lda	_player_state
10953                        		__equ_b.uiq	12
         1D:DB26  C9 0C      			cmp	#12
         1D:DB28  F0 01      			beq	!+
         1D:DB2A  18         			clc
         1D:DB2B             	!:
10954    1D:DB2B             	.LL496:
10955                        		__bfalse	.LL495
         1D:DB2B  B0 03 4C 9E			bcc	.LL495
         1D:DB2F  DD          
10956                        	
10957                        		.dbg	line,	"include\routines_LEVELS.c", 1327; {
10958                        	
10959                        		.dbg	line,	"include\routines_LEVELS.c", 1328; spr_set(player_id);
10960                        		__ld.umq	_player_id
         1D:DB30  AD 18 23   			lda	_player_id
10961                        		__call		_spr_set.1
         1D:DB33  20 F1 E7   			call	_spr_set.1
10962                        	
10963                        		.dbg	line,	"include\routines_LEVELS.c", 1329; spr_pattern(PLAYER_HANG_VRAM_ADR);
10964                        		__ld.wi		8448
         1D:DB36  62         			cla
         1D:DB37  A0 21      			ldy.h	#8448
10965                        		__call		_spr_pattern.1
         1D:DB39  20 3A E8   			call	_spr_pattern.1
10966                        	
10967                        		.dbg	line,	"include\routines_LEVELS.c", 1330; player_counter_anim = 0;
10968                        		__st.umiq	0, _player_counter_anim
         1D:DB3C  9C 1C 23   			stz	_player_counter_anim
10969                        	
10970                        		.dbg	line,	"include\routines_LEVELS.c", 1331; player_state = STATE_HANG;
10971                        		__st.umiq	10, _player_state
         1D:DB3F  A9 0A      			lda.l	#10
         1D:DB41  8D 19 23   			sta	_player_state
10972                        	
10973                        		.dbg	line,	"include\routines_LEVELS.c", 1332; }
10974                        	
10975                        		.dbg	line,	"include\routines_LEVELS.c", 1333; }
10976    1D:DB44             	.LL495	.alias		.LL497
10977    1D:DB44             	.LL494	.alias		.LL497
10978    1D:DB44             	.LL491	.alias		.LL497
10979    1D:DB44             	.LL488	.alias		.LL497
10980    1D:DB44             	.LL485	.alias		.LL497
10981    1D:DB44             	.LL482	.alias		.LL497
10982    1D:DB44             	.LL477	.alias		.LL497
10983                        	
10984                        		.dbg	line,	"include\routines_LEVELS.c", 1336; //--------------------------------------------------------------------------------------//
10985                        	
10986                        		.dbg	line,	"include\routines_LEVELS.c", 1337; //                                      UP BUTTON                                       //
10987                        	
10988                        		.dbg	line,	"include\routines_LEVELS.c", 1338; //--------------------------------------------------------------------------------------//
10989                        	
10990                        		.dbg	line,	"include\routines_LEVELS.c", 1340; else if(joy(JOYPAD_1) & JOY_UP)
10991                        		__bra		.LL497
         1D:DB44  4C 9E DD   			bra	.LL497
10992    1D:DB47             	.LL472:
10993                        		__ld.uiq	0
         1D:DB47  62         			cla
10994                        		 _joy.1
         1D:DB48  AA         			tax
         1D:DB49  BD 28 22   			lda	joynow, x
         1D:DB4C  BC D3 22   			ldy	joy6now, x
10995                        		__tand.wi	16
         1D:DB4F  29 10      			and	#16
         1D:DB51  C9 01      	!:		cmp	#1
10996                        		__bfalse	.LL498
         1D:DB53  B0 03 4C 31			bcc	.LL498
         1D:DB57  DC          
10997                        	
10998                        		.dbg	line,	"include\routines_LEVELS.c", 1341; {
10999                        	
11000                        		.dbg	line,	"include\routines_LEVELS.c", 1342; if(player_state == STATE_HANG || player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
11001                        		__ld.umq	_player_state
         1D:DB58  AD 19 23   			lda	_player_state
11002                        		__equ_b.uiq	10
         1D:DB5B  C9 0A      			cmp	#10
         1D:DB5D  F0 01      			beq	!+
         1D:DB5F  18         			clc
         1D:DB60             	!:
11003                        		__btrue		.LL500
         1D:DB60  B0 08      			bcs	.LL500
11004                        		__ld.umq	_player_state
         1D:DB62  AD 19 23   			lda	_player_state
11005                        		__equ_b.uiq	11
         1D:DB65  C9 0B      			cmp	#11
         1D:DB67  F0 01      			beq	!+
         1D:DB69  18         			clc
         1D:DB6A             	!:
11006    1D:DB6A             	.LL500:
11007                        		__btrue		.LL501
         1D:DB6A  B0 08      			bcs	.LL501
11008                        		__ld.umq	_player_state
         1D:DB6C  AD 19 23   			lda	_player_state
11009                        		__equ_b.uiq	12
         1D:DB6F  C9 0C      			cmp	#12
         1D:DB71  F0 01      			beq	!+
         1D:DB73  18         			clc
         1D:DB74             	!:
11010    1D:DB74             	.LL501:
11011                        		__bfalse	.LL499
         1D:DB74  B0 03 4C 9E			bcc	.LL499
         1D:DB78  DD          
11012                        	
11013                        		.dbg	line,	"include\routines_LEVELS.c", 1343; {
11014                        	
11015                        		.dbg	line,	"include\routines_LEVELS.c", 1344; if(player_attack == FALSE)
11016                        		__not.um	_player_attack
         1D:DB79  AD 21 23   			lda	_player_attack
         1D:DB7C  18         			clc
         1D:DB7D  D0 01      			bne	!+
         1D:DB7F  38         			sec
         1D:DB80             	!:
11017                        		__bfalse	.LL502
         1D:DB80  B0 03 4C 9E			bcc	.LL502
         1D:DB84  DD          
11018                        	
11019                        		.dbg	line,	"include\routines_LEVELS.c", 1345; {
11020                        	
11021                        		.dbg	line,	"include\routines_LEVELS.c", 1346; unsigned char i;
11022                        	
11023                        		.dbg	line,	"include\routines_LEVELS.c", 1348; collision_PLAYER_BG( 15 , 8 );
11024                        		__ld.wi		15
         1D:DB85  A9 0F      			lda.l	#15
         1D:DB87  C2         			cly
11025                        		__pusharg.wr
         1D:DB88  A6 8D      			ldx	<__sp
         1D:DB8A  CA         			dex
         1D:DB8B  CA         			dex
         1D:DB8C  95 08      			sta.l	<__stack, x
         1D:DB8E  94 09      			sty.h	<__stack, x
         1D:DB90  86 8D      			stx	<__sp
11026                        		__ld.wi		8
         1D:DB92  A9 08      			lda.l	#8
         1D:DB94  C2         			cly
11027                        		__pusharg.wr
         1D:DB95  A6 8D      			ldx	<__sp
         1D:DB97  CA         			dex
         1D:DB98  CA         			dex
         1D:DB99  95 08      			sta.l	<__stack, x
         1D:DB9B  94 09      			sty.h	<__stack, x
         1D:DB9D  86 8D      			stx	<__sp
11028                        		__call		_collision_PLAYER_BG
         1D:DB9F  20 27 FF   			call	_collision_PLAYER_BG
11029                        	
11030                        		.dbg	line,	"include\routines_LEVELS.c", 1350; if(map_blk_flag == TILE_EMPTY)
11031                        		__not.um	_map_blk_flag
         1D:DBA2  AD FB 2B   			lda	_map_blk_flag
         1D:DBA5  18         			clc
         1D:DBA6  D0 01      			bne	!+
         1D:DBA8  38         			sec
         1D:DBA9             	!:
11032                        		__bfalse	.LL503
         1D:DBA9  90 67      			bcc	.LL503
11033                        	
11034                        		.dbg	line,	"include\routines_LEVELS.c", 1351; {
11035                        	
11036                        		.dbg	line,	"include\routines_LEVELS.c", 1352; for(i=1 ; i<3 ; i++)
11037                        		__st.umiq	1, __joypad_DIR_end - 1  /* i */
         1D:DBAB  A9 01      			lda.l	#1
         1D:DBAD  8D 04 23   			sta	__joypad_DIR_end - 1
11038    1D:DBB0             	.LL504:
11039                        		__ld.umq	__joypad_DIR_end - 1  /* i */
         1D:DBB0  AD 04 23   			lda	__joypad_DIR_end - 1
11040                        		__ult_b.uiq	3
         1D:DBB3  C9 03      			cmp	#3		; Subtract integer from A.
         1D:DBB5  6A         			ror	a		; CC if A < integer.
         1D:DBB6  49 80      			eor	#$80
         1D:DBB8  2A         			rol	a
11041                        		__btrue		.LL506
         1D:DBB9  B0 07      			bcs	.LL506
11042                        		__bra		.LL507
         1D:DBBB  80 63      			bra	.LL507
11043    1D:DBBD             	.LL505:
11044                        		__inc.umq	__joypad_DIR_end - 1  /* i */
         1D:DBBD  EE 04 23   			inc	__joypad_DIR_end - 1
11045                        		__bra		.LL504
         1D:DBC0  80 EE      			bra	.LL504
11046    1D:DBC2             	.LL506:
11047                        	
11048                        		.dbg	line,	"include\routines_LEVELS.c", 1353; {
11049                        	
11050                        		.dbg	line,	"include\routines_LEVELS.c", 1354; collision_PLAYER_BG( 15 , 8 + i );
11051                        		__ld.wi		15
         1D:DBC2  A9 0F      			lda.l	#15
         1D:DBC4  C2         			cly
11052                        		__pusharg.wr
         1D:DBC5  A6 8D      			ldx	<__sp
         1D:DBC7  CA         			dex
         1D:DBC8  CA         			dex
         1D:DBC9  95 08      			sta.l	<__stack, x
         1D:DBCB  94 09      			sty.h	<__stack, x
         1D:DBCD  86 8D      			stx	<__sp
11053                        		__ld.wi		8
         1D:DBCF  A9 08      			lda.l	#8
         1D:DBD1  C2         			cly
11054                        		__add.um	__joypad_DIR_end - 1  /* i */
         1D:DBD2  18         			clc
         1D:DBD3  6D 04 23   			adc	__joypad_DIR_end - 1
         1D:DBD6  90 01      			bcc	!+
         1D:DBD8  C8         			iny
         1D:DBD9             	!:
11055                        		__pusharg.wr
         1D:DBD9  A6 8D      			ldx	<__sp
         1D:DBDB  CA         			dex
         1D:DBDC  CA         			dex
         1D:DBDD  95 08      			sta.l	<__stack, x
         1D:DBDF  94 09      			sty.h	<__stack, x
         1D:DBE1  86 8D      			stx	<__sp
11056                        		__call		_collision_PLAYER_BG
         1D:DBE3  20 27 FF   			call	_collision_PLAYER_BG
11057                        	
11058                        		.dbg	line,	"include\routines_LEVELS.c", 1356; if(map_blk_flag == TILE_LADDER)
11059                        		__ld.umq	_map_blk_flag
         1D:DBE6  AD FB 2B   			lda	_map_blk_flag
11060                        		__equ_b.uiq	2
         1D:DBE9  C9 02      			cmp	#2
         1D:DBEB  F0 01      			beq	!+
         1D:DBED  18         			clc
         1D:DBEE             	!:
11061                        		__bfalse	.LL508
         1D:DBEE  90 CD      			bcc	.LL508
11062                        	
11063                        		.dbg	line,	"include\routines_LEVELS.c", 1357; {
11064                        	
11065                        		.dbg	line,	"include\routines_LEVELS.c", 1358; sgx_map_pxl_y -= (2 - i);
11066                        		__ld.wi		2
         1D:DBF0  A9 02      			lda.l	#2
         1D:DBF2  C2         			cly
11067                        		__sub.um	__joypad_DIR_end - 1  /* i */
         1D:DBF3  38         			sec
         1D:DBF4  ED 04 23   			sbc	__joypad_DIR_end - 1
         1D:DBF7  B0 01      			bcs	!+
         1D:DBF9  88         			dey
         1D:DBFA             	!:
11068                        		__isub_st.wmq	_sgx_map_pxl_y
         1D:DBFA  38         			sec
         1D:DBFB  49 FF      			eor	#$FF
         1D:DBFD  6D DC 26   			adc.l	_sgx_map_pxl_y
         1D:DC00  8D DC 26   			sta.l	_sgx_map_pxl_y
         1D:DC03  98         			tya
         1D:DC04  49 FF      			eor	#$FF
         1D:DC06  6D DD 26   			adc.h	_sgx_map_pxl_y
         1D:DC09  8D DD 26   			sta.h	_sgx_map_pxl_y
11069                        	
11070                        		.dbg	line,	"include\routines_LEVELS.c", 1359; break;
11071                        		__bra		.LL507
         1D:DC0C  80 12      			bra	.LL507
11072                        	
11073                        		.dbg	line,	"include\routines_LEVELS.c", 1360; }
11074                        	
11075                        		.dbg	line,	"include\routines_LEVELS.c", 1361; }
11076    1D:DC0E             	.LL508	.alias		.LL505
11077                        		__bra		.LL505
         1D:DC0E  80 AD      			bra	.LL505
11078    1D:DC10             	.LL507	.alias		.LL509
11079                        	
11080                        		.dbg	line,	"include\routines_LEVELS.c", 1362; }
11081                        	
11082                        		.dbg	line,	"include\routines_LEVELS.c", 1364; else
11083                        		__bra		.LL509
         1D:DC10  80 0E      			bra	.LL509
11084    1D:DC12             	.LL503:
11085                        	
11086                        		.dbg	line,	"include\routines_LEVELS.c", 1365; {
11087                        	
11088                        		.dbg	line,	"include\routines_LEVELS.c", 1366; sgx_map_pxl_y -= 2;
11089                        		__sub_st.wmiq	2, _sgx_map_pxl_y
         1D:DC12  38         			sec
         1D:DC13  AD DC 26   			lda.l	_sgx_map_pxl_y
         1D:DC16  E9 02      			sbc.l	#2
         1D:DC18  8D DC 26   			sta.l	_sgx_map_pxl_y
         1D:DC1B  B0 03      			bcs	!+
         1D:DC1D  CE DD 26   			dec.h	_sgx_map_pxl_y
         1D:DC20             	!:
11090                        	
11091                        		.dbg	line,	"include\routines_LEVELS.c", 1367; }
11092    1D:DC20             	.LL509:
11093                        	
11094                        		.dbg	line,	"include\routines_LEVELS.c", 1369; spr_set(weapon_id);
11095                        		__ld.umq	_weapon_id
         1D:DC20  AD 27 23   			lda	_weapon_id
11096                        		__call		_spr_set.1
         1D:DC23  20 F1 E7   			call	_spr_set.1
11097                        	
11098                        		.dbg	line,	"include\routines_LEVELS.c", 1370; spr_hide();
11099                        		__call		_spr_hide
         1D:DC26  20 0C E8   			call	_spr_hide
11100                        	
11101                        		.dbg	line,	"include\routines_LEVELS.c", 1372; player_state = STATE_CLIMB_UP;
11102                        		__st.umiq	11, _player_state
         1D:DC29  A9 0B      			lda.l	#11
         1D:DC2B  8D 19 23   			sta	_player_state
11103                        	
11104                        		.dbg	line,	"include\routines_LEVELS.c", 1373; }
11105                        	
11106                        		.dbg	line,	"include\routines_LEVELS.c", 1374; }
11107    1D:DC2E             	.LL502	.alias		.LL510
11108                        	
11109                        		.dbg	line,	"include\routines_LEVELS.c", 1375; }
11110    1D:DC2E             	.LL499	.alias		.LL510
11111                        	
11112                        		.dbg	line,	"include\routines_LEVELS.c", 1378; //--------------------------------------------------------------------------------------//
11113                        	
11114                        		.dbg	line,	"include\routines_LEVELS.c", 1379; //                                     DOWN BUTTON                                      //
11115                        	
11116                        		.dbg	line,	"include\routines_LEVELS.c", 1380; //--------------------------------------------------------------------------------------//
11117                        	
11118                        		.dbg	line,	"include\routines_LEVELS.c", 1382; else if(joy(JOYPAD_1) & JOY_DOWN)
11119                        		__bra		.LL510
         1D:DC2E  4C 9E DD   			bra	.LL510
11120    1D:DC31             	.LL498:
11121                        		__ld.uiq	0
         1D:DC31  62         			cla
11122                        		 _joy.1
         1D:DC32  AA         			tax
         1D:DC33  BD 28 22   			lda	joynow, x
         1D:DC36  BC D3 22   			ldy	joy6now, x
11123                        		__tand.wi	64
         1D:DC39  29 40      			and	#64
         1D:DC3B  C9 01      	!:		cmp	#1
11124                        		__bfalse	.LL511
         1D:DC3D  B0 03 4C 9E			bcc	.LL511
         1D:DC41  DD          
11125                        	
11126                        		.dbg	line,	"include\routines_LEVELS.c", 1383; {
11127                        	
11128                        		.dbg	line,	"include\routines_LEVELS.c", 1384; if(player_state == STATE_IDLE || player_state == STATE_WALK)
11129                        		__not.um	_player_state
         1D:DC42  AD 19 23   			lda	_player_state
         1D:DC45  18         			clc
         1D:DC46  D0 01      			bne	!+
         1D:DC48  38         			sec
         1D:DC49             	!:
11130                        		__btrue		.LL513
         1D:DC49  B0 08      			bcs	.LL513
11131                        		__ld.umq	_player_state
         1D:DC4B  AD 19 23   			lda	_player_state
11132                        		__equ_b.uiq	1
         1D:DC4E  C9 01      			cmp	#1
         1D:DC50  F0 01      			beq	!+
         1D:DC52  18         			clc
         1D:DC53             	!:
11133    1D:DC53             	.LL513:
11134                        		__bfalse	.LL512
         1D:DC53  90 0D      			bcc	.LL512
11135                        	
11136                        		.dbg	line,	"include\routines_LEVELS.c", 1385; {
11137                        	
11138                        		.dbg	line,	"include\routines_LEVELS.c", 1386; player_counter_anim = 1;
11139                        		__st.umiq	1, _player_counter_anim
         1D:DC55  A9 01      			lda.l	#1
         1D:DC57  8D 1C 23   			sta	_player_counter_anim
11140                        	
11141                        		.dbg	line,	"include\routines_LEVELS.c", 1387; player_state = STATE_CROUCH;
11142                        		__st.umiq	7, _player_state
         1D:DC5A  A9 07      			lda.l	#7
         1D:DC5C  8D 19 23   			sta	_player_state
11143                        	
11144                        		.dbg	line,	"include\routines_LEVELS.c", 1388; }
11145                        	
11146                        		.dbg	line,	"include\routines_LEVELS.c", 1391; else if(player_state == STATE_HANG || player_state == STATE_CLIMB_UP || player_state == STATE_CLIMB_DOWN)
11147                        		__bra		.LL514
         1D:DC5F  4C 9E DD   			bra	.LL514
11148    1D:DC62             	.LL512:
11149                        		__ld.umq	_player_state
         1D:DC62  AD 19 23   			lda	_player_state
11150                        		__equ_b.uiq	10
         1D:DC65  C9 0A      			cmp	#10
         1D:DC67  F0 01      			beq	!+
         1D:DC69  18         			clc
         1D:DC6A             	!:
11151                        		__btrue		.LL516
         1D:DC6A  B0 08      			bcs	.LL516
11152                        		__ld.umq	_player_state
         1D:DC6C  AD 19 23   			lda	_player_state
11153                        		__equ_b.uiq	11
         1D:DC6F  C9 0B      			cmp	#11
         1D:DC71  F0 01      			beq	!+
         1D:DC73  18         			clc
         1D:DC74             	!:
11154    1D:DC74             	.LL516:
11155                        		__btrue		.LL517
         1D:DC74  B0 08      			bcs	.LL517
11156                        		__ld.umq	_player_state
         1D:DC76  AD 19 23   			lda	_player_state
11157                        		__equ_b.uiq	12
         1D:DC79  C9 0C      			cmp	#12
         1D:DC7B  F0 01      			beq	!+
         1D:DC7D  18         			clc
         1D:DC7E             	!:
11158    1D:DC7E             	.LL517:
11159                        		__bfalse	.LL515
         1D:DC7E  B0 03 4C 9E			bcc	.LL515
         1D:DC82  DD          
11160                        	
11161                        		.dbg	line,	"include\routines_LEVELS.c", 1392; {
11162                        	
11163                        		.dbg	line,	"include\routines_LEVELS.c", 1393; if(player_attack == FALSE)
11164                        		__not.um	_player_attack
         1D:DC83  AD 21 23   			lda	_player_attack
         1D:DC86  18         			clc
         1D:DC87  D0 01      			bne	!+
         1D:DC89  38         			sec
         1D:DC8A             	!:
11165                        		__bfalse	.LL518
         1D:DC8A  B0 03 4C 9E			bcc	.LL518
         1D:DC8E  DD          
11166                        	
11167                        		.dbg	line,	"include\routines_LEVELS.c", 1394; {
11168                        	
11169                        		.dbg	line,	"include\routines_LEVELS.c", 1395; unsigned char i;
11170                        	
11171                        		.dbg	line,	"include\routines_LEVELS.c", 1397; collision_PLAYER_BG( 15 , 10 );
11172                        		__ld.wi		15
         1D:DC8F  A9 0F      			lda.l	#15
         1D:DC91  C2         			cly
11173                        		__pusharg.wr
         1D:DC92  A6 8D      			ldx	<__sp
         1D:DC94  CA         			dex
         1D:DC95  CA         			dex
         1D:DC96  95 08      			sta.l	<__stack, x
         1D:DC98  94 09      			sty.h	<__stack, x
         1D:DC9A  86 8D      			stx	<__sp
11174                        		__ld.wi		10
         1D:DC9C  A9 0A      			lda.l	#10
         1D:DC9E  C2         			cly
11175                        		__pusharg.wr
         1D:DC9F  A6 8D      			ldx	<__sp
         1D:DCA1  CA         			dex
         1D:DCA2  CA         			dex
         1D:DCA3  95 08      			sta.l	<__stack, x
         1D:DCA5  94 09      			sty.h	<__stack, x
         1D:DCA7  86 8D      			stx	<__sp
11176                        		__call		_collision_PLAYER_BG
         1D:DCA9  20 27 FF   			call	_collision_PLAYER_BG
11177                        	
11178                        		.dbg	line,	"include\routines_LEVELS.c", 1399; if(map_blk_flag == TILE_EMPTY)
11179                        		__not.um	_map_blk_flag
         1D:DCAC  AD FB 2B   			lda	_map_blk_flag
         1D:DCAF  18         			clc
         1D:DCB0  D0 01      			bne	!+
         1D:DCB2  38         			sec
         1D:DCB3             	!:
11180                        		__bfalse	.LL519
         1D:DCB3  B0 03 4C 82			bcc	.LL519
         1D:DCB7  DD          
11181                        	
11182                        		.dbg	line,	"include\routines_LEVELS.c", 1400; {
11183                        	
11184                        		.dbg	line,	"include\routines_LEVELS.c", 1401; for(i=1 ; i<3 ; i++)
11185                        		__st.umiq	1, __joypad_DIR_end - 2  /* i */
         1D:DCB8  A9 01      			lda.l	#1
         1D:DCBA  8D 03 23   			sta	__joypad_DIR_end - 2
11186    1D:DCBD             	.LL520:
11187                        		__ld.umq	__joypad_DIR_end - 2  /* i */
         1D:DCBD  AD 03 23   			lda	__joypad_DIR_end - 2
11188                        		__ult_b.uiq	3
         1D:DCC0  C9 03      			cmp	#3		; Subtract integer from A.
         1D:DCC2  6A         			ror	a		; CC if A < integer.
         1D:DCC3  49 80      			eor	#$80
         1D:DCC5  2A         			rol	a
11189                        		__btrue		.LL522
         1D:DCC6  B0 08      			bcs	.LL522
11190                        		__bra		.LL523
         1D:DCC8  4C 9E DD   			bra	.LL523
11191    1D:DCCB             	.LL521:
11192                        		__inc.umq	__joypad_DIR_end - 2  /* i */
         1D:DCCB  EE 03 23   			inc	__joypad_DIR_end - 2
11193                        		__bra		.LL520
         1D:DCCE  80 ED      			bra	.LL520
11194    1D:DCD0             	.LL522:
11195                        	
11196                        		.dbg	line,	"include\routines_LEVELS.c", 1402; {
11197                        	
11198                        		.dbg	line,	"include\routines_LEVELS.c", 1403; collision_PLAYER_BG( 15 , 22 + i );
11199                        		__ld.wi		15
         1D:DCD0  A9 0F      			lda.l	#15
         1D:DCD2  C2         			cly
11200                        		__pusharg.wr
         1D:DCD3  A6 8D      			ldx	<__sp
         1D:DCD5  CA         			dex
         1D:DCD6  CA         			dex
         1D:DCD7  95 08      			sta.l	<__stack, x
         1D:DCD9  94 09      			sty.h	<__stack, x
         1D:DCDB  86 8D      			stx	<__sp
11201                        		__ld.wi		22
         1D:DCDD  A9 16      			lda.l	#22
         1D:DCDF  C2         			cly
11202                        		__add.um	__joypad_DIR_end - 2  /* i */
         1D:DCE0  18         			clc
         1D:DCE1  6D 03 23   			adc	__joypad_DIR_end - 2
         1D:DCE4  90 01      			bcc	!+
         1D:DCE6  C8         			iny
         1D:DCE7             	!:
11203                        		__pusharg.wr
         1D:DCE7  A6 8D      			ldx	<__sp
         1D:DCE9  CA         			dex
         1D:DCEA  CA         			dex
         1D:DCEB  95 08      			sta.l	<__stack, x
         1D:DCED  94 09      			sty.h	<__stack, x
         1D:DCEF  86 8D      			stx	<__sp
11204                        		__call		_collision_PLAYER_BG
         1D:DCF1  20 27 FF   			call	_collision_PLAYER_BG
11205                        	
11206                        		.dbg	line,	"include\routines_LEVELS.c", 1405; if(map_blk_flag == TILE_LADDER)
11207                        		__ld.umq	_map_blk_flag
         1D:DCF4  AD FB 2B   			lda	_map_blk_flag
11208                        		__equ_b.uiq	2
         1D:DCF7  C9 02      			cmp	#2
         1D:DCF9  F0 01      			beq	!+
         1D:DCFB  18         			clc
         1D:DCFC             	!:
11209                        		__bfalse	.LL524
         1D:DCFC  90 1B      			bcc	.LL524
11210                        	
11211                        		.dbg	line,	"include\routines_LEVELS.c", 1406; {
11212                        	
11213                        		.dbg	line,	"include\routines_LEVELS.c", 1407; sgx_map_pxl_y += (2 - i);
11214                        		__ld.wi		2
         1D:DCFE  A9 02      			lda.l	#2
         1D:DD00  C2         			cly
11215                        		__sub.um	__joypad_DIR_end - 2  /* i */
         1D:DD01  38         			sec
         1D:DD02  ED 03 23   			sbc	__joypad_DIR_end - 2
         1D:DD05  B0 01      			bcs	!+
         1D:DD07  88         			dey
         1D:DD08             	!:
11216                        		__add_st.wmq	_sgx_map_pxl_y
         1D:DD08  18         			clc
         1D:DD09  6D DC 26   			adc.l	_sgx_map_pxl_y
         1D:DD0C  8D DC 26   			sta.l	_sgx_map_pxl_y
         1D:DD0F  98         			tya
         1D:DD10  6D DD 26   			adc.h	_sgx_map_pxl_y
         1D:DD13  8D DD 26   			sta.h	_sgx_map_pxl_y
11217                        	
11218                        		.dbg	line,	"include\routines_LEVELS.c", 1408; break;
11219                        		__bra		.LL523
         1D:DD16  4C 9E DD   			bra	.LL523
11220                        	
11221                        		.dbg	line,	"include\routines_LEVELS.c", 1409; }
11222                        	
11223                        		.dbg	line,	"include\routines_LEVELS.c", 1411; else
11224    1D:DD19             	.LL524:
11225                        	
11226                        		.dbg	line,	"include\routines_LEVELS.c", 1412; {
11227                        	
11228                        		.dbg	line,	"include\routines_LEVELS.c", 1413; spr_set(player_id);
11229                        		__ld.umq	_player_id
         1D:DD19  AD 18 23   			lda	_player_id
11230                        		__call		_spr_set.1
         1D:DD1C  20 F1 E7   			call	_spr_set.1
11231                        	
11232                        		.dbg	line,	"include\routines_LEVELS.c", 1414; spr_pattern(PLAYER_FALL_VRAM_ADR);
11233                        		__ld.wi		10240
         1D:DD1F  62         			cla
         1D:DD20  A0 28      			ldy.h	#10240
11234                        		__call		_spr_pattern.1
         1D:DD22  20 3A E8   			call	_spr_pattern.1
11235                        	
11236                        		.dbg	line,	"include\routines_LEVELS.c", 1416; spr_set(weapon_id);
11237                        		__ld.umq	_weapon_id
         1D:DD25  AD 27 23   			lda	_weapon_id
11238                        		__call		_spr_set.1
         1D:DD28  20 F1 E7   			call	_spr_set.1
11239                        	
11240                        		.dbg	line,	"include\routines_LEVELS.c", 1417; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
11241                        		__ld.wi		31808
         1D:DD2B  A9 40      			lda.l	#31808
         1D:DD2D  A0 7C      			ldy.h	#31808
11242                        		__call		_spr_pattern.1
         1D:DD2F  20 3A E8   			call	_spr_pattern.1
11243                        	
11244                        		.dbg	line,	"include\routines_LEVELS.c", 1418; spr_y(player_pos_y+4);
11245                        		__ld.wm		_player_pos_y
         1D:DD32  AD F9 24   			lda.l	_player_pos_y
         1D:DD35  AC FA 24   			ldy.h	_player_pos_y
11246                        		__add.wi	4
         1D:DD38  18         			clc
         1D:DD39  69 04      			adc.l	#4
         1D:DD3B  90 01      			bcc	!+
         1D:DD3D  C8         			iny
         1D:DD3E             	!:
11247                        		__call		_spr_y.1
         1D:DD3E  20 2D E8   			call	_spr_y.1
11248                        	
11249                        		.dbg	line,	"include\routines_LEVELS.c", 1420; if(player_axis == AXIS_RIGHT)
11250                        		__not.um	_player_axis
         1D:DD41  AD 1A 23   			lda	_player_axis
         1D:DD44  18         			clc
         1D:DD45  D0 01      			bne	!+
         1D:DD47  38         			sec
         1D:DD48             	!:
11251                        		__bfalse	.LL526
         1D:DD48  90 11      			bcc	.LL526
11252                        	
11253                        		.dbg	line,	"include\routines_LEVELS.c", 1421; {
11254                        	
11255                        		.dbg	line,	"include\routines_LEVELS.c", 1422; spr_x(player_pos_x-4);
11256                        		__ld.wm		_player_pos_x
         1D:DD4A  AD F7 24   			lda.l	_player_pos_x
         1D:DD4D  AC F8 24   			ldy.h	_player_pos_x
11257                        		__sub.wi	4
         1D:DD50  38         			sec
         1D:DD51  E9 04      			sbc.l	#4
         1D:DD53  B0 01      			bcs	!+
         1D:DD55  88         			dey
         1D:DD56             	!:
11258                        		__call		_spr_x.1
         1D:DD56  20 1E E8   			call	_spr_x.1
11259                        	
11260                        		.dbg	line,	"include\routines_LEVELS.c", 1423; }
11261                        	
11262                        		.dbg	line,	"include\routines_LEVELS.c", 1424; 
11263                        	
11264                        		.dbg	line,	"include\routines_LEVELS.c", 1425; else
11265                        		__bra		.LL527
         1D:DD59  80 0F      			bra	.LL527
11266    1D:DD5B             	.LL526:
11267                        	
11268                        		.dbg	line,	"include\routines_LEVELS.c", 1426; {
11269                        	
11270                        		.dbg	line,	"include\routines_LEVELS.c", 1427; spr_x(player_pos_x+20);
11271                        		__ld.wm		_player_pos_x
         1D:DD5B  AD F7 24   			lda.l	_player_pos_x
         1D:DD5E  AC F8 24   			ldy.h	_player_pos_x
11272                        		__add.wi	20
         1D:DD61  18         			clc
         1D:DD62  69 14      			adc.l	#20
         1D:DD64  90 01      			bcc	!+
         1D:DD66  C8         			iny
         1D:DD67             	!:
11273                        		__call		_spr_x.1
         1D:DD67  20 1E E8   			call	_spr_x.1
11274                        	
11275                        		.dbg	line,	"include\routines_LEVELS.c", 1428; }
11276    1D:DD6A             	.LL527:
11277                        	
11278                        		.dbg	line,	"include\routines_LEVELS.c", 1429; 
11279                        	
11280                        		.dbg	line,	"include\routines_LEVELS.c", 1431; jump_ladder = FALSE;
11281                        		__st.umiq	0, _jump_ladder
         1D:DD6A  9C 22 23   			stz	_jump_ladder
11282                        	
11283                        		.dbg	line,	"include\routines_LEVELS.c", 1432; player_index_jump = 0;
11284                        		__st.umiq	0, _player_index_jump
         1D:DD6D  9C 1D 23   			stz	_player_index_jump
11285                        	
11286                        		.dbg	line,	"include\routines_LEVELS.c", 1433; player_index_fall = 0;
11287                        		__st.umiq	0, _player_index_fall
         1D:DD70  9C 1E 23   			stz	_player_index_fall
11288                        	
11289                        		.dbg	line,	"include\routines_LEVELS.c", 1434; fall_ladder = TRUE;
11290                        		__st.umiq	1, _fall_ladder
         1D:DD73  A9 01      			lda.l	#1
         1D:DD75  8D 24 23   			sta	_fall_ladder
11291                        	
11292                        		.dbg	line,	"include\routines_LEVELS.c", 1435; player_state = STATE_FALL;
11293                        		__st.umiq	9, _player_state
         1D:DD78  A9 09      			lda.l	#9
         1D:DD7A  8D 19 23   			sta	_player_state
11294                        	
11295                        		.dbg	line,	"include\routines_LEVELS.c", 1436; }
11296    1D:DD7D             	.LL525	.alias		.LL521
11297                        	
11298                        		.dbg	line,	"include\routines_LEVELS.c", 1437; }
11299                        		__bra		.LL521
         1D:DD7D  4C CB DC   			bra	.LL521
11300    1D:DD80             	.LL523	.alias		.LL528
11301                        	
11302                        		.dbg	line,	"include\routines_LEVELS.c", 1438; }
11303                        	
11304                        		.dbg	line,	"include\routines_LEVELS.c", 1440; else
11305                        		__bra		.LL528
         1D:DD80  80 1C      			bra	.LL528
11306    1D:DD82             	.LL519:
11307                        	
11308                        		.dbg	line,	"include\routines_LEVELS.c", 1441; {
11309                        	
11310                        		.dbg	line,	"include\routines_LEVELS.c", 1442; spr_set(weapon_id);
11311                        		__ld.umq	_weapon_id
         1D:DD82  AD 27 23   			lda	_weapon_id
11312                        		__call		_spr_set.1
         1D:DD85  20 F1 E7   			call	_spr_set.1
11313                        	
11314                        		.dbg	line,	"include\routines_LEVELS.c", 1443; spr_hide();
11315                        		__call		_spr_hide
         1D:DD88  20 0C E8   			call	_spr_hide
11316                        	
11317                        		.dbg	line,	"include\routines_LEVELS.c", 1444; 
11318                        	
11319                        		.dbg	line,	"include\routines_LEVELS.c", 1445; sgx_map_pxl_y += 2;
11320                        		__add_st.wmiq	2, _sgx_map_pxl_y
         1D:DD8B  18         			clc
         1D:DD8C  AD DC 26   			lda.l	_sgx_map_pxl_y
         1D:DD8F  69 02      			adc.l	#2
         1D:DD91  8D DC 26   			sta.l	_sgx_map_pxl_y
         1D:DD94  90 03      			bcc	!+
         1D:DD96  EE DD 26   			inc.h	_sgx_map_pxl_y
         1D:DD99             	!:
11321                        	
11322                        		.dbg	line,	"include\routines_LEVELS.c", 1446; player_state = STATE_CLIMB_DOWN;
11323                        		__st.umiq	12, _player_state
         1D:DD99  A9 0C      			lda.l	#12
         1D:DD9B  8D 19 23   			sta	_player_state
11324                        	
11325                        		.dbg	line,	"include\routines_LEVELS.c", 1447; }
11326    1D:DD9E             	.LL528:
11327                        	
11328                        		.dbg	line,	"include\routines_LEVELS.c", 1448; }
11329                        	
11330                        		.dbg	line,	"include\routines_LEVELS.c", 1449; }
11331    1D:DD9E             	.LL518:
11332                        	
11333                        		.dbg	line,	"include\routines_LEVELS.c", 1450; }
11334    1D:DD9E             	.LL515:
11335    1D:DD9E             	.LL514:
11336                        	
11337                        		.dbg	line,	"include\routines_LEVELS.c", 1451; }
11338    1D:DD9E             	.LL511:
11339    1D:DD9E             	.LL510:
11340    1D:DD9E             	.LL497:
11341    1D:DD9E             	.LL471:
11342    1D:DD9E             	.LL434:
11343                        		__return	0
         1D:DD9E  4C EF FF   			jmp	leave_proc
11344                        		.dbg	clear
11345                        		.endp
11346               2303     		.bss
11347    F8:2303             			ds	2
11348    F8:2305             	__joypad_DIR_end:
11349               E31D     		.code
11350                        		.pceas
11351                        	
11352                        		.dbg	line,	"include\routines_LEVELS.c", 1460; void update_PLAYER()
11353                        		.dbg	line,	"include\routines_LEVELS.c", 1461; {
11354                        	;***********************
11355                        	;***********************
11356                        	
11357                        		.hucc
11358    01:C333             		.proc		_update_PLAYER
11359                        		__enter		_update_PLAYER
11360                        	
11361                        		.dbg	line,	"include\routines_LEVELS.c", 1462; if(player_state == STATE_IDLE)
11362                        		__not.um	_player_state
         01:C333  AD 19 23   			lda	_player_state
         01:C336  18         			clc
         01:C337  D0 01      			bne	!+
         01:C339  38         			sec
         01:C33A             	!:
11363                        		__bfalse	.LL530
         01:C33A  B0 03 4C E3			bcc	.LL530
         01:C33E  C3          
11364                        	
11365                        		.dbg	line,	"include\routines_LEVELS.c", 1463; {
11366                        	
11367                        		.dbg	line,	"include\routines_LEVELS.c", 1464; if(player_counter_anim == 1)
11368                        		__ld.umq	_player_counter_anim
         01:C33F  AD 1C 23   			lda	_player_counter_anim
11369                        		__equ_b.uiq	1
         01:C342  C9 01      			cmp	#1
         01:C344  F0 01      			beq	!+
         01:C346  18         			clc
         01:C347             	!:
11370                        		__bfalse	.LL531
         01:C347  90 0F      			bcc	.LL531
11371                        	
11372                        		.dbg	line,	"include\routines_LEVELS.c", 1465; {
11373                        	
11374                        		.dbg	line,	"include\routines_LEVELS.c", 1466; spr_set(player_id);
11375                        		__ld.umq	_player_id
         01:C349  AD 18 23   			lda	_player_id
11376                        		__call		_spr_set.1
         01:C34C  20 F1 E7   			call	_spr_set.1
11377                        	
11378                        		.dbg	line,	"include\routines_LEVELS.c", 1467; spr_pattern(PLAYER_IDLE_VRAM_ADR);
11379                        		__ld.wi		6144
         01:C34F  62         			cla
         01:C350  A0 18      			ldy.h	#6144
11380                        		__call		_spr_pattern.1
         01:C352  20 3A E8   			call	_spr_pattern.1
11381                        	
11382                        		.dbg	line,	"include\routines_LEVELS.c", 1469; player_counter_anim = 0;
11383                        		__st.umiq	0, _player_counter_anim
         01:C355  9C 1C 23   			stz	_player_counter_anim
11384                        	
11385                        		.dbg	line,	"include\routines_LEVELS.c", 1470; }
11386                        	
11387                        		.dbg	line,	"include\routines_LEVELS.c", 1472; recenter_CAMERA();
11388    01:C358             	.LL531:
11389                        		__call		_recenter_CAMERA
         01:C358  20 1D FF   			call	_recenter_CAMERA
11390                        	
11391                        		.dbg	line,	"include\routines_LEVELS.c", 1475; // CHECK COLLISION WITH LEFT FLOOR //
11392                        	
11393                        		.dbg	line,	"include\routines_LEVELS.c", 1476; collision_PLAYER_BG( 10 , 32 );//8
11394                        		__ld.wi		10
         01:C35B  A9 0A      			lda.l	#10
         01:C35D  C2         			cly
11395                        		__pusharg.wr
         01:C35E  A6 8D      			ldx	<__sp
         01:C360  CA         			dex
         01:C361  CA         			dex
         01:C362  95 08      			sta.l	<__stack, x
         01:C364  94 09      			sty.h	<__stack, x
         01:C366  86 8D      			stx	<__sp
11396                        		__ld.wi		32
         01:C368  A9 20      			lda.l	#32
         01:C36A  C2         			cly
11397                        		__pusharg.wr
         01:C36B  A6 8D      			ldx	<__sp
         01:C36D  CA         			dex
         01:C36E  CA         			dex
         01:C36F  95 08      			sta.l	<__stack, x
         01:C371  94 09      			sty.h	<__stack, x
         01:C373  86 8D      			stx	<__sp
11398                        		__call		_collision_PLAYER_BG
         01:C375  20 27 FF   			call	_collision_PLAYER_BG
11399                        	
11400                        		.dbg	line,	"include\routines_LEVELS.c", 1478; if(map_blk_flag == TILE_EMPTY)
11401                        		__not.um	_map_blk_flag
         01:C378  AD FB 2B   			lda	_map_blk_flag
         01:C37B  18         			clc
         01:C37C  D0 01      			bne	!+
         01:C37E  38         			sec
         01:C37F             	!:
11402                        		__bfalse	.LL532
         01:C37F  90 34      			bcc	.LL532
11403                        	
11404                        		.dbg	line,	"include\routines_LEVELS.c", 1479; {
11405                        	
11406                        		.dbg	line,	"include\routines_LEVELS.c", 1480; // CHECK COLLISION WITH RIGHT FLOOR //
11407                        	
11408                        		.dbg	line,	"include\routines_LEVELS.c", 1481; collision_PLAYER_BG( 22 , 32 );//24
11409                        		__ld.wi		22
         01:C381  A9 16      			lda.l	#22
         01:C383  C2         			cly
11410                        		__pusharg.wr
         01:C384  A6 8D      			ldx	<__sp
         01:C386  CA         			dex
         01:C387  CA         			dex
         01:C388  95 08      			sta.l	<__stack, x
         01:C38A  94 09      			sty.h	<__stack, x
         01:C38C  86 8D      			stx	<__sp
11411                        		__ld.wi		32
         01:C38E  A9 20      			lda.l	#32
         01:C390  C2         			cly
11412                        		__pusharg.wr
         01:C391  A6 8D      			ldx	<__sp
         01:C393  CA         			dex
         01:C394  CA         			dex
         01:C395  95 08      			sta.l	<__stack, x
         01:C397  94 09      			sty.h	<__stack, x
         01:C399  86 8D      			stx	<__sp
11413                        		__call		_collision_PLAYER_BG
         01:C39B  20 27 FF   			call	_collision_PLAYER_BG
11414                        	
11415                        		.dbg	line,	"include\routines_LEVELS.c", 1483; if(map_blk_flag == TILE_EMPTY)
11416                        		__not.um	_map_blk_flag
         01:C39E  AD FB 2B   			lda	_map_blk_flag
         01:C3A1  18         			clc
         01:C3A2  D0 01      			bne	!+
         01:C3A4  38         			sec
         01:C3A5             	!:
11417                        		__bfalse	.LL533
         01:C3A5  90 0E      			bcc	.LL533
11418                        	
11419                        		.dbg	line,	"include\routines_LEVELS.c", 1484; {
11420                        	
11421                        		.dbg	line,	"include\routines_LEVELS.c", 1485; //set_far_base(TABLE_PLAYER_TILES_BANK[player_naked],TABLE_PLAYER_TILES_ADR[player_naked]);
11422                        	
11423                        		.dbg	line,	"include\routines_LEVELS.c", 1486; //far_load_vram(PLAYER_VRAM_ADR,TILES_16);
11424                        	
11425                        		.dbg	line,	"include\routines_LEVELS.c", 1488; jump_ladder = FALSE;
11426                        		__st.umiq	0, _jump_ladder
         01:C3A7  9C 22 23   			stz	_jump_ladder
11427                        	
11428                        		.dbg	line,	"include\routines_LEVELS.c", 1489; player_index_jump = 0;
11429                        		__st.umiq	0, _player_index_jump
         01:C3AA  9C 1D 23   			stz	_player_index_jump
11430                        	
11431                        		.dbg	line,	"include\routines_LEVELS.c", 1490; player_index_fall = 0;
11432                        		__st.umiq	0, _player_index_fall
         01:C3AD  9C 1E 23   			stz	_player_index_fall
11433                        	
11434                        		.dbg	line,	"include\routines_LEVELS.c", 1491; player_state = STATE_FALL;
11435                        		__st.umiq	9, _player_state
         01:C3B0  A9 09      			lda.l	#9
         01:C3B2  8D 19 23   			sta	_player_state
11436                        	
11437                        		.dbg	line,	"include\routines_LEVELS.c", 1492; }
11438                        	
11439                        		.dbg	line,	"include\routines_LEVELS.c", 1493; }
11440    01:C3B5             	.LL533:
11441                        	
11442                        		.dbg	line,	"include\routines_LEVELS.c", 1495; spr_set(weapon_id);
11443    01:C3B5             	.LL532:
11444                        		__ld.umq	_weapon_id
         01:C3B5  AD 27 23   			lda	_weapon_id
11445                        		__call		_spr_set.1
         01:C3B8  20 F1 E7   			call	_spr_set.1
11446                        	
11447                        		.dbg	line,	"include\routines_LEVELS.c", 1496; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
11448                        		__ld.wi		31808
         01:C3BB  A9 40      			lda.l	#31808
         01:C3BD  A0 7C      			ldy.h	#31808
11449                        		__call		_spr_pattern.1
         01:C3BF  20 3A E8   			call	_spr_pattern.1
11450                        	
11451                        		.dbg	line,	"include\routines_LEVELS.c", 1497; spr_x(player_pos_x+8);
11452                        		__ld.wm		_player_pos_x
         01:C3C2  AD F7 24   			lda.l	_player_pos_x
         01:C3C5  AC F8 24   			ldy.h	_player_pos_x
11453                        		__add.wi	8
         01:C3C8  18         			clc
         01:C3C9  69 08      			adc.l	#8
         01:C3CB  90 01      			bcc	!+
         01:C3CD  C8         			iny
         01:C3CE             	!:
11454                        		__call		_spr_x.1
         01:C3CE  20 1E E8   			call	_spr_x.1
11455                        	
11456                        		.dbg	line,	"include\routines_LEVELS.c", 1498; spr_y(player_pos_y+16);
11457                        		__ld.wm		_player_pos_y
         01:C3D1  AD F9 24   			lda.l	_player_pos_y
         01:C3D4  AC FA 24   			ldy.h	_player_pos_y
11458                        		__add.wi	16
         01:C3D7  18         			clc
         01:C3D8  69 10      			adc.l	#16
         01:C3DA  90 01      			bcc	!+
         01:C3DC  C8         			iny
         01:C3DD             	!:
11459                        		__call		_spr_y.1
         01:C3DD  20 2D E8   			call	_spr_y.1
11460                        	
11461                        		.dbg	line,	"include\routines_LEVELS.c", 1499; }
11462                        	
11463                        		.dbg	line,	"include\routines_LEVELS.c", 1502; else if(player_state == STATE_WALK)
11464                        		__bra		.LL534
         01:C3E0  4C DA DC   			bra	.LL534
11465    01:C3E3             	.LL530:
11466                        		__ld.umq	_player_state
         01:C3E3  AD 19 23   			lda	_player_state
11467                        		__equ_b.uiq	1
         01:C3E6  C9 01      			cmp	#1
         01:C3E8  F0 01      			beq	!+
         01:C3EA  18         			clc
         01:C3EB             	!:
11468                        		__bfalse	.LL535
         01:C3EB  B0 03 4C 91			bcc	.LL535
         01:C3EF  C7          
11469                        	
11470                        		.dbg	line,	"include\routines_LEVELS.c", 1503; {
11471                        	
11472                        		.dbg	line,	"include\routines_LEVELS.c", 1504; recenter_CAMERA();
11473                        		__call		_recenter_CAMERA
         01:C3F0  20 1D FF   			call	_recenter_CAMERA
11474                        	
11475                        		.dbg	line,	"include\routines_LEVELS.c", 1507; //--------------------------------------------------------------------------------------//
11476                        	
11477                        		.dbg	line,	"include\routines_LEVELS.c", 1508; //                                   FLOOR COLLISION                                    //
11478                        	
11479                        		.dbg	line,	"include\routines_LEVELS.c", 1509; //--------------------------------------------------------------------------------------//
11480                        	
11481                        		.dbg	line,	"include\routines_LEVELS.c", 1511; // CHECK COLLISION WITH LEFT FLOOR //
11482                        	
11483                        		.dbg	line,	"include\routines_LEVELS.c", 1512; collision_PLAYER_BG( 10 , 32 );//8
11484                        		__ld.wi		10
         01:C3F3  A9 0A      			lda.l	#10
         01:C3F5  C2         			cly
11485                        		__pusharg.wr
         01:C3F6  A6 8D      			ldx	<__sp
         01:C3F8  CA         			dex
         01:C3F9  CA         			dex
         01:C3FA  95 08      			sta.l	<__stack, x
         01:C3FC  94 09      			sty.h	<__stack, x
         01:C3FE  86 8D      			stx	<__sp
11486                        		__ld.wi		32
         01:C400  A9 20      			lda.l	#32
         01:C402  C2         			cly
11487                        		__pusharg.wr
         01:C403  A6 8D      			ldx	<__sp
         01:C405  CA         			dex
         01:C406  CA         			dex
         01:C407  95 08      			sta.l	<__stack, x
         01:C409  94 09      			sty.h	<__stack, x
         01:C40B  86 8D      			stx	<__sp
11488                        		__call		_collision_PLAYER_BG
         01:C40D  20 27 FF   			call	_collision_PLAYER_BG
11489                        	
11490                        		.dbg	line,	"include\routines_LEVELS.c", 1514; if(map_blk_flag == TILE_EMPTY)
11491                        		__not.um	_map_blk_flag
         01:C410  AD FB 2B   			lda	_map_blk_flag
         01:C413  18         			clc
         01:C414  D0 01      			bne	!+
         01:C416  38         			sec
         01:C417             	!:
11492                        		__bfalse	.LL536
         01:C417  B0 03 4C CF			bcc	.LL536
         01:C41B  C4          
11493                        	
11494                        		.dbg	line,	"include\routines_LEVELS.c", 1515; {
11495                        	
11496                        		.dbg	line,	"include\routines_LEVELS.c", 1516; // CHECK COLLISION WITH RIGHT FLOOR //
11497                        	
11498                        		.dbg	line,	"include\routines_LEVELS.c", 1517; collision_PLAYER_BG( 22 , 32 );//24
11499                        		__ld.wi		22
         01:C41C  A9 16      			lda.l	#22
         01:C41E  C2         			cly
11500                        		__pusharg.wr
         01:C41F  A6 8D      			ldx	<__sp
         01:C421  CA         			dex
         01:C422  CA         			dex
         01:C423  95 08      			sta.l	<__stack, x
         01:C425  94 09      			sty.h	<__stack, x
         01:C427  86 8D      			stx	<__sp
11501                        		__ld.wi		32
         01:C429  A9 20      			lda.l	#32
         01:C42B  C2         			cly
11502                        		__pusharg.wr
         01:C42C  A6 8D      			ldx	<__sp
         01:C42E  CA         			dex
         01:C42F  CA         			dex
         01:C430  95 08      			sta.l	<__stack, x
         01:C432  94 09      			sty.h	<__stack, x
         01:C434  86 8D      			stx	<__sp
11503                        		__call		_collision_PLAYER_BG
         01:C436  20 27 FF   			call	_collision_PLAYER_BG
11504                        	
11505                        		.dbg	line,	"include\routines_LEVELS.c", 1519; if(map_blk_flag == TILE_EMPTY)
11506                        		__not.um	_map_blk_flag
         01:C439  AD FB 2B   			lda	_map_blk_flag
         01:C43C  18         			clc
         01:C43D  D0 01      			bne	!+
         01:C43F  38         			sec
         01:C440             	!:
11507                        		__bfalse	.LL537
         01:C440  90 11      			bcc	.LL537
11508                        	
11509                        		.dbg	line,	"include\routines_LEVELS.c", 1520; {
11510                        	
11511                        		.dbg	line,	"include\routines_LEVELS.c", 1521; /*spr_set(player_id);
11512                        	
11513                        		.dbg	line,	"include\routines_LEVELS.c", 1522; spr_pattern(PLAYER_IDLE_VRAM_ADR);
11514                        	
11515                        		.dbg	line,	"include\routines_LEVELS.c", 1524; spr_set(weapon_id);
11516                        	
11517                        		.dbg	line,	"include\routines_LEVELS.c", 1525; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
11518                        	
11519                        		.dbg	line,	"include\routines_LEVELS.c", 1526; spr_x(player_pos_x+8);
11520                        	
11521                        		.dbg	line,	"include\routines_LEVELS.c", 1527; spr_y(player_pos_y+16);*/
11522                        	
11523                        		.dbg	line,	"include\routines_LEVELS.c", 1529; jump_ladder = FALSE;
11524                        		__st.umiq	0, _jump_ladder
         01:C442  9C 22 23   			stz	_jump_ladder
11525                        	
11526                        		.dbg	line,	"include\routines_LEVELS.c", 1530; player_index_jump = 0;
11527                        		__st.umiq	0, _player_index_jump
         01:C445  9C 1D 23   			stz	_player_index_jump
11528                        	
11529                        		.dbg	line,	"include\routines_LEVELS.c", 1531; player_index_fall = 0;
11530                        		__st.umiq	0, _player_index_fall
         01:C448  9C 1E 23   			stz	_player_index_fall
11531                        	
11532                        		.dbg	line,	"include\routines_LEVELS.c", 1532; player_state = STATE_FALL;
11533                        		__st.umiq	9, _player_state
         01:C44B  A9 09      			lda.l	#9
         01:C44D  8D 19 23   			sta	_player_state
11534                        	
11535                        		.dbg	line,	"include\routines_LEVELS.c", 1533; }
11536                        	
11537                        		.dbg	line,	"include\routines_LEVELS.c", 1536; else
11538                        		__bra		.LL538
         01:C450  4C 42 C5   			bra	.LL538
11539    01:C453             	.LL537:
11540                        	
11541                        		.dbg	line,	"include\routines_LEVELS.c", 1537; {
11542                        	
11543                        		.dbg	line,	"include\routines_LEVELS.c", 1538; if(player_axis == AXIS_RIGHT)
11544                        		__not.um	_player_axis
         01:C453  AD 1A 23   			lda	_player_axis
         01:C456  18         			clc
         01:C457  D0 01      			bne	!+
         01:C459  38         			sec
         01:C45A             	!:
11545                        		__bfalse	.LL539
         01:C45A  90 3A      			bcc	.LL539
11546                        	
11547                        		.dbg	line,	"include\routines_LEVELS.c", 1539; {
11548                        	
11549                        		.dbg	line,	"include\routines_LEVELS.c", 1540; // CHECK COLLISION WITH RIGHT WALL //
11550                        	
11551                        		.dbg	line,	"include\routines_LEVELS.c", 1541; collision_PLAYER_BG( 24 , 31 ); // 24+2
11552                        		__ld.wi		24
         01:C45C  A9 18      			lda.l	#24
         01:C45E  C2         			cly
11553                        		__pusharg.wr
         01:C45F  A6 8D      			ldx	<__sp
         01:C461  CA         			dex
         01:C462  CA         			dex
         01:C463  95 08      			sta.l	<__stack, x
         01:C465  94 09      			sty.h	<__stack, x
         01:C467  86 8D      			stx	<__sp
11554                        		__ld.wi		31
         01:C469  A9 1F      			lda.l	#31
         01:C46B  C2         			cly
11555                        		__pusharg.wr
         01:C46C  A6 8D      			ldx	<__sp
         01:C46E  CA         			dex
         01:C46F  CA         			dex
         01:C470  95 08      			sta.l	<__stack, x
         01:C472  94 09      			sty.h	<__stack, x
         01:C474  86 8D      			stx	<__sp
11556                        		__call		_collision_PLAYER_BG
         01:C476  20 27 FF   			call	_collision_PLAYER_BG
11557                        	
11558                        		.dbg	line,	"include\routines_LEVELS.c", 1543; if(map_blk_flag == TILE_EMPTY)
11559                        		__not.um	_map_blk_flag
         01:C479  AD FB 2B   			lda	_map_blk_flag
         01:C47C  18         			clc
         01:C47D  D0 01      			bne	!+
         01:C47F  38         			sec
         01:C480             	!:
11560                        		__bfalse	.LL540
         01:C480  B0 03 4C 42			bcc	.LL540
         01:C484  C5          
11561                        	
11562                        		.dbg	line,	"include\routines_LEVELS.c", 1544; {
11563                        	
11564                        		.dbg	line,	"include\routines_LEVELS.c", 1545; sgx_map_pxl_x += 2;
11565                        		__add_st.wmiq	2, _sgx_map_pxl_x
         01:C485  18         			clc
         01:C486  AD DA 26   			lda.l	_sgx_map_pxl_x
         01:C489  69 02      			adc.l	#2
         01:C48B  8D DA 26   			sta.l	_sgx_map_pxl_x
         01:C48E  90 03      			bcc	!+
         01:C490  EE DB 26   			inc.h	_sgx_map_pxl_x
         01:C493             	!:
11566                        	
11567                        		.dbg	line,	"include\routines_LEVELS.c", 1546; }
11568                        	
11569                        		.dbg	line,	"include\routines_LEVELS.c", 1547; }
11570    01:C493             	.LL540	.alias		.LL541
11571                        	
11572                        		.dbg	line,	"include\routines_LEVELS.c", 1549; else
11573                        		__bra		.LL541
         01:C493  4C 42 C5   			bra	.LL541
11574    01:C496             	.LL539:
11575                        	
11576                        		.dbg	line,	"include\routines_LEVELS.c", 1550; {
11577                        	
11578                        		.dbg	line,	"include\routines_LEVELS.c", 1551; // CHECK COLLISION WITH LEFT WALL //
11579                        	
11580                        		.dbg	line,	"include\routines_LEVELS.c", 1552; collision_PLAYER_BG( 8 , 31 ); // 8-2
11581                        		__ld.wi		8
         01:C496  A9 08      			lda.l	#8
         01:C498  C2         			cly
11582                        		__pusharg.wr
         01:C499  A6 8D      			ldx	<__sp
         01:C49B  CA         			dex
         01:C49C  CA         			dex
         01:C49D  95 08      			sta.l	<__stack, x
         01:C49F  94 09      			sty.h	<__stack, x
         01:C4A1  86 8D      			stx	<__sp
11583                        		__ld.wi		31
         01:C4A3  A9 1F      			lda.l	#31
         01:C4A5  C2         			cly
11584                        		__pusharg.wr
         01:C4A6  A6 8D      			ldx	<__sp
         01:C4A8  CA         			dex
         01:C4A9  CA         			dex
         01:C4AA  95 08      			sta.l	<__stack, x
         01:C4AC  94 09      			sty.h	<__stack, x
         01:C4AE  86 8D      			stx	<__sp
11585                        		__call		_collision_PLAYER_BG
         01:C4B0  20 27 FF   			call	_collision_PLAYER_BG
11586                        	
11587                        		.dbg	line,	"include\routines_LEVELS.c", 1554; if(map_blk_flag == TILE_EMPTY)
11588                        		__not.um	_map_blk_flag
         01:C4B3  AD FB 2B   			lda	_map_blk_flag
         01:C4B6  18         			clc
         01:C4B7  D0 01      			bne	!+
         01:C4B9  38         			sec
         01:C4BA             	!:
11589                        		__bfalse	.LL542
         01:C4BA  B0 03 4C 42			bcc	.LL542
         01:C4BE  C5          
11590                        	
11591                        		.dbg	line,	"include\routines_LEVELS.c", 1555; {
11592                        	
11593                        		.dbg	line,	"include\routines_LEVELS.c", 1556; sgx_map_pxl_x -= 2;
11594                        		__sub_st.wmiq	2, _sgx_map_pxl_x
         01:C4BF  38         			sec
         01:C4C0  AD DA 26   			lda.l	_sgx_map_pxl_x
         01:C4C3  E9 02      			sbc.l	#2
         01:C4C5  8D DA 26   			sta.l	_sgx_map_pxl_x
         01:C4C8  B0 03      			bcs	!+
         01:C4CA  CE DB 26   			dec.h	_sgx_map_pxl_x
         01:C4CD             	!:
11595                        	
11596                        		.dbg	line,	"include\routines_LEVELS.c", 1557; }
11597                        	
11598                        		.dbg	line,	"include\routines_LEVELS.c", 1558; }
11599    01:C4CD             	.LL542	.alias		.LL543
11600    01:C4CD             	.LL541	.alias		.LL543
11601                        	
11602                        		.dbg	line,	"include\routines_LEVELS.c", 1559; }
11603    01:C4CD             	.LL538	.alias		.LL543
11604                        	
11605                        		.dbg	line,	"include\routines_LEVELS.c", 1560; }
11606                        	
11607                        		.dbg	line,	"include\routines_LEVELS.c", 1563; else
11608                        		__bra		.LL543
         01:C4CD  80 73      			bra	.LL543
11609    01:C4CF             	.LL536:
11610                        	
11611                        		.dbg	line,	"include\routines_LEVELS.c", 1564; {
11612                        	
11613                        		.dbg	line,	"include\routines_LEVELS.c", 1565; if(player_axis == AXIS_RIGHT)
11614                        		__not.um	_player_axis
         01:C4CF  AD 1A 23   			lda	_player_axis
         01:C4D2  18         			clc
         01:C4D3  D0 01      			bne	!+
         01:C4D5  38         			sec
         01:C4D6             	!:
11615                        		__bfalse	.LL544
         01:C4D6  90 36      			bcc	.LL544
11616                        	
11617                        		.dbg	line,	"include\routines_LEVELS.c", 1566; {
11618                        	
11619                        		.dbg	line,	"include\routines_LEVELS.c", 1567; // CHECK COLLISION WITH RIGHT WALL //
11620                        	
11621                        		.dbg	line,	"include\routines_LEVELS.c", 1568; collision_PLAYER_BG( 24 , 31 ); // 24+2
11622                        		__ld.wi		24
         01:C4D8  A9 18      			lda.l	#24
         01:C4DA  C2         			cly
11623                        		__pusharg.wr
         01:C4DB  A6 8D      			ldx	<__sp
         01:C4DD  CA         			dex
         01:C4DE  CA         			dex
         01:C4DF  95 08      			sta.l	<__stack, x
         01:C4E1  94 09      			sty.h	<__stack, x
         01:C4E3  86 8D      			stx	<__sp
11624                        		__ld.wi		31
         01:C4E5  A9 1F      			lda.l	#31
         01:C4E7  C2         			cly
11625                        		__pusharg.wr
         01:C4E8  A6 8D      			ldx	<__sp
         01:C4EA  CA         			dex
         01:C4EB  CA         			dex
         01:C4EC  95 08      			sta.l	<__stack, x
         01:C4EE  94 09      			sty.h	<__stack, x
         01:C4F0  86 8D      			stx	<__sp
11626                        		__call		_collision_PLAYER_BG
         01:C4F2  20 27 FF   			call	_collision_PLAYER_BG
11627                        	
11628                        		.dbg	line,	"include\routines_LEVELS.c", 1570; if(map_blk_flag == TILE_EMPTY)
11629                        		__not.um	_map_blk_flag
         01:C4F5  AD FB 2B   			lda	_map_blk_flag
         01:C4F8  18         			clc
         01:C4F9  D0 01      			bne	!+
         01:C4FB  38         			sec
         01:C4FC             	!:
11630                        		__bfalse	.LL545
         01:C4FC  90 44      			bcc	.LL545
11631                        	
11632                        		.dbg	line,	"include\routines_LEVELS.c", 1571; {
11633                        	
11634                        		.dbg	line,	"include\routines_LEVELS.c", 1572; sgx_map_pxl_x += 2;
11635                        		__add_st.wmiq	2, _sgx_map_pxl_x
         01:C4FE  18         			clc
         01:C4FF  AD DA 26   			lda.l	_sgx_map_pxl_x
         01:C502  69 02      			adc.l	#2
         01:C504  8D DA 26   			sta.l	_sgx_map_pxl_x
         01:C507  90 03      			bcc	!+
         01:C509  EE DB 26   			inc.h	_sgx_map_pxl_x
         01:C50C             	!:
11636                        	
11637                        		.dbg	line,	"include\routines_LEVELS.c", 1573; }
11638                        	
11639                        		.dbg	line,	"include\routines_LEVELS.c", 1574; }
11640    01:C50C             	.LL545	.alias		.LL546
11641                        	
11642                        		.dbg	line,	"include\routines_LEVELS.c", 1576; else
11643                        		__bra		.LL546
         01:C50C  80 34      			bra	.LL546
11644    01:C50E             	.LL544:
11645                        	
11646                        		.dbg	line,	"include\routines_LEVELS.c", 1577; {
11647                        	
11648                        		.dbg	line,	"include\routines_LEVELS.c", 1578; // CHECK COLLISION WITH LEFT WALL //
11649                        	
11650                        		.dbg	line,	"include\routines_LEVELS.c", 1579; collision_PLAYER_BG( 8 , 31 ); // 8-2
11651                        		__ld.wi		8
         01:C50E  A9 08      			lda.l	#8
         01:C510  C2         			cly
11652                        		__pusharg.wr
         01:C511  A6 8D      			ldx	<__sp
         01:C513  CA         			dex
         01:C514  CA         			dex
         01:C515  95 08      			sta.l	<__stack, x
         01:C517  94 09      			sty.h	<__stack, x
         01:C519  86 8D      			stx	<__sp
11653                        		__ld.wi		31
         01:C51B  A9 1F      			lda.l	#31
         01:C51D  C2         			cly
11654                        		__pusharg.wr
         01:C51E  A6 8D      			ldx	<__sp
         01:C520  CA         			dex
         01:C521  CA         			dex
         01:C522  95 08      			sta.l	<__stack, x
         01:C524  94 09      			sty.h	<__stack, x
         01:C526  86 8D      			stx	<__sp
11655                        		__call		_collision_PLAYER_BG
         01:C528  20 27 FF   			call	_collision_PLAYER_BG
11656                        	
11657                        		.dbg	line,	"include\routines_LEVELS.c", 1581; if(map_blk_flag == TILE_EMPTY)
11658                        		__not.um	_map_blk_flag
         01:C52B  AD FB 2B   			lda	_map_blk_flag
         01:C52E  18         			clc
         01:C52F  D0 01      			bne	!+
         01:C531  38         			sec
         01:C532             	!:
11659                        		__bfalse	.LL547
         01:C532  90 0E      			bcc	.LL547
11660                        	
11661                        		.dbg	line,	"include\routines_LEVELS.c", 1582; {
11662                        	
11663                        		.dbg	line,	"include\routines_LEVELS.c", 1583; sgx_map_pxl_x -= 2;
11664                        		__sub_st.wmiq	2, _sgx_map_pxl_x
         01:C534  38         			sec
         01:C535  AD DA 26   			lda.l	_sgx_map_pxl_x
         01:C538  E9 02      			sbc.l	#2
         01:C53A  8D DA 26   			sta.l	_sgx_map_pxl_x
         01:C53D  B0 03      			bcs	!+
         01:C53F  CE DB 26   			dec.h	_sgx_map_pxl_x
         01:C542             	!:
11665                        	
11666                        		.dbg	line,	"include\routines_LEVELS.c", 1584; }
11667                        	
11668                        		.dbg	line,	"include\routines_LEVELS.c", 1585; }
11669    01:C542             	.LL547:
11670    01:C542             	.LL546:
11671                        	
11672                        		.dbg	line,	"include\routines_LEVELS.c", 1586; }
11673    01:C542             	.LL543:
11674                        	
11675                        		.dbg	line,	"include\routines_LEVELS.c", 1591; spr_set(player_id);
11676                        		__ld.umq	_player_id
         01:C542  AD 18 23   			lda	_player_id
11677                        		__call		_spr_set.1
         01:C545  20 F1 E7   			call	_spr_set.1
11678                        	
11679                        		.dbg	line,	"include\routines_LEVELS.c", 1594; player_counter_anim += 1;
11680                        		__add_st.umiq	1, _player_counter_anim
         01:C548  EE 1C 23   			inc	_player_counter_anim
11681                        	
11682                        		.dbg	line,	"include\routines_LEVELS.c", 1597; // UPDATE PLAYER TILES //
11683                        	
11684                        		.dbg	line,	"include\routines_LEVELS.c", 1598; if(player_counter_anim == 1)
11685                        		__ld.umq	_player_counter_anim
         01:C54B  AD 1C 23   			lda	_player_counter_anim
11686                        		__equ_b.uiq	1
         01:C54E  C9 01      			cmp	#1
         01:C550  F0 01      			beq	!+
         01:C552  18         			clc
         01:C553             	!:
11687                        		__bfalse	.LL548
         01:C553  90 2A      			bcc	.LL548
11688                        	
11689                        		.dbg	line,	"include\routines_LEVELS.c", 1599; {
11690                        	
11691                        		.dbg	line,	"include\routines_LEVELS.c", 1600; spr_pattern(PLAYER_IDLE_VRAM_ADR);
11692                        		__ld.wi		6144
         01:C555  62         			cla
         01:C556  A0 18      			ldy.h	#6144
11693                        		__call		_spr_pattern.1
         01:C558  20 3A E8   			call	_spr_pattern.1
11694                        	
11695                        		.dbg	line,	"include\routines_LEVELS.c", 1602; spr_set(weapon_id);
11696                        		__ld.umq	_weapon_id
         01:C55B  AD 27 23   			lda	_weapon_id
11697                        		__call		_spr_set.1
         01:C55E  20 F1 E7   			call	_spr_set.1
11698                        	
11699                        		.dbg	line,	"include\routines_LEVELS.c", 1603; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
11700                        		__ld.wi		31808
         01:C561  A9 40      			lda.l	#31808
         01:C563  A0 7C      			ldy.h	#31808
11701                        		__call		_spr_pattern.1
         01:C565  20 3A E8   			call	_spr_pattern.1
11702                        	
11703                        		.dbg	line,	"include\routines_LEVELS.c", 1604; spr_x(player_pos_x+8);
11704                        		__ld.wm		_player_pos_x
         01:C568  AD F7 24   			lda.l	_player_pos_x
         01:C56B  AC F8 24   			ldy.h	_player_pos_x
11705                        		__add.wi	8
         01:C56E  18         			clc
         01:C56F  69 08      			adc.l	#8
         01:C571  90 01      			bcc	!+
         01:C573  C8         			iny
         01:C574             	!:
11706                        		__call		_spr_x.1
         01:C574  20 1E E8   			call	_spr_x.1
11707                        	
11708                        		.dbg	line,	"include\routines_LEVELS.c", 1605; weapon_y_offset = 16;
11709                        		__st.umiq	16, _weapon_y_offset
         01:C577  A9 10      			lda.l	#16
         01:C579  8D 8F 26   			sta	_weapon_y_offset
11710                        	
11711                        		.dbg	line,	"include\routines_LEVELS.c", 1606; //spr_y(player_pos_y+16);
11712                        	
11713                        		.dbg	line,	"include\routines_LEVELS.c", 1607; }
11714                        	
11715                        		.dbg	line,	"include\routines_LEVELS.c", 1610; else if(player_counter_anim == 2)
11716                        		__bra		.LL549
         01:C57C  4C 75 C7   			bra	.LL549
11717    01:C57F             	.LL548:
11718                        		__ld.umq	_player_counter_anim
         01:C57F  AD 1C 23   			lda	_player_counter_anim
11719                        		__equ_b.uiq	2
         01:C582  C9 02      			cmp	#2
         01:C584  F0 01      			beq	!+
         01:C586  18         			clc
         01:C587             	!:
11720                        		__bfalse	.LL550
         01:C587  90 45      			bcc	.LL550
11721                        	
11722                        		.dbg	line,	"include\routines_LEVELS.c", 1611; {
11723                        	
11724                        		.dbg	line,	"include\routines_LEVELS.c", 1612; spr_pattern(PLAYER_WALK_1_VRAM_ADR);
11725                        		__ld.wi		6400
         01:C589  62         			cla
         01:C58A  A0 19      			ldy.h	#6400
11726                        		__call		_spr_pattern.1
         01:C58C  20 3A E8   			call	_spr_pattern.1
11727                        	
11728                        		.dbg	line,	"include\routines_LEVELS.c", 1614; spr_set(weapon_id);
11729                        		__ld.umq	_weapon_id
         01:C58F  AD 27 23   			lda	_weapon_id
11730                        		__call		_spr_set.1
         01:C592  20 F1 E7   			call	_spr_set.1
11731                        	
11732                        		.dbg	line,	"include\routines_LEVELS.c", 1615; spr_pattern(WEAPON_WALK_1_VRAM_ADRESS);
11733                        		__ld.wi		31872
         01:C595  A9 80      			lda.l	#31872
         01:C597  A0 7C      			ldy.h	#31872
11734                        		__call		_spr_pattern.1
         01:C599  20 3A E8   			call	_spr_pattern.1
11735                        	
11736                        		.dbg	line,	"include\routines_LEVELS.c", 1616; weapon_y_offset = 17;
11737                        		__st.umiq	17, _weapon_y_offset
         01:C59C  A9 11      			lda.l	#17
         01:C59E  8D 8F 26   			sta	_weapon_y_offset
11738                        	
11739                        		.dbg	line,	"include\routines_LEVELS.c", 1617; //spr_y(player_pos_y+17);
11740                        	
11741                        		.dbg	line,	"include\routines_LEVELS.c", 1619; if(player_axis == AXIS_RIGHT)
11742                        		__not.um	_player_axis
         01:C5A1  AD 1A 23   			lda	_player_axis
         01:C5A4  18         			clc
         01:C5A5  D0 01      			bne	!+
         01:C5A7  38         			sec
         01:C5A8             	!:
11743                        		__bfalse	.LL551
         01:C5A8  90 12      			bcc	.LL551
11744                        	
11745                        		.dbg	line,	"include\routines_LEVELS.c", 1620; {
11746                        	
11747                        		.dbg	line,	"include\routines_LEVELS.c", 1621; spr_x(player_pos_x+5);
11748                        		__ld.wm		_player_pos_x
         01:C5AA  AD F7 24   			lda.l	_player_pos_x
         01:C5AD  AC F8 24   			ldy.h	_player_pos_x
11749                        		__add.wi	5
         01:C5B0  18         			clc
         01:C5B1  69 05      			adc.l	#5
         01:C5B3  90 01      			bcc	!+
         01:C5B5  C8         			iny
         01:C5B6             	!:
11750                        		__call		_spr_x.1
         01:C5B6  20 1E E8   			call	_spr_x.1
11751                        	
11752                        		.dbg	line,	"include\routines_LEVELS.c", 1622; }
11753                        	
11754                        		.dbg	line,	"include\routines_LEVELS.c", 1624; else
11755                        		__bra		.LL552
         01:C5B9  4C 75 C7   			bra	.LL552
11756    01:C5BC             	.LL551:
11757                        	
11758                        		.dbg	line,	"include\routines_LEVELS.c", 1625; {
11759                        	
11760                        		.dbg	line,	"include\routines_LEVELS.c", 1626; spr_x(player_pos_x+11);
11761                        		__ld.wm		_player_pos_x
         01:C5BC  AD F7 24   			lda.l	_player_pos_x
         01:C5BF  AC F8 24   			ldy.h	_player_pos_x
11762                        		__add.wi	11
         01:C5C2  18         			clc
         01:C5C3  69 0B      			adc.l	#11
         01:C5C5  90 01      			bcc	!+
         01:C5C7  C8         			iny
         01:C5C8             	!:
11763                        		__call		_spr_x.1
         01:C5C8  20 1E E8   			call	_spr_x.1
11764                        	
11765                        		.dbg	line,	"include\routines_LEVELS.c", 1627; }
11766    01:C5CB             	.LL552	.alias		.LL553
11767                        	
11768                        		.dbg	line,	"include\routines_LEVELS.c", 1628; }
11769                        	
11770                        		.dbg	line,	"include\routines_LEVELS.c", 1631; else if(player_counter_anim == 4)
11771                        		__bra		.LL553
         01:C5CB  4C 75 C7   			bra	.LL553
11772    01:C5CE             	.LL550:
11773                        		__ld.umq	_player_counter_anim
         01:C5CE  AD 1C 23   			lda	_player_counter_anim
11774                        		__equ_b.uiq	4
         01:C5D1  C9 04      			cmp	#4
         01:C5D3  F0 01      			beq	!+
         01:C5D5  18         			clc
         01:C5D6             	!:
11775                        		__bfalse	.LL554
         01:C5D6  90 40      			bcc	.LL554
11776                        	
11777                        		.dbg	line,	"include\routines_LEVELS.c", 1632; {
11778                        	
11779                        		.dbg	line,	"include\routines_LEVELS.c", 1633; spr_pattern(PLAYER_WALK_2_VRAM_ADR);
11780                        		__ld.wi		6656
         01:C5D8  62         			cla
         01:C5D9  A0 1A      			ldy.h	#6656
11781                        		__call		_spr_pattern.1
         01:C5DB  20 3A E8   			call	_spr_pattern.1
11782                        	
11783                        		.dbg	line,	"include\routines_LEVELS.c", 1634; 
11784                        	
11785                        		.dbg	line,	"include\routines_LEVELS.c", 1635; spr_set(weapon_id);
11786                        		__ld.umq	_weapon_id
         01:C5DE  AD 27 23   			lda	_weapon_id
11787                        		__call		_spr_set.1
         01:C5E1  20 F1 E7   			call	_spr_set.1
11788                        	
11789                        		.dbg	line,	"include\routines_LEVELS.c", 1636; spr_pattern(WEAPON_WALK_2_VRAM_ADRESS);
11790                        		__ld.wi		31936
         01:C5E4  A9 C0      			lda.l	#31936
         01:C5E6  A0 7C      			ldy.h	#31936
11791                        		__call		_spr_pattern.1
         01:C5E8  20 3A E8   			call	_spr_pattern.1
11792                        	
11793                        		.dbg	line,	"include\routines_LEVELS.c", 1638; if(player_axis == AXIS_RIGHT)
11794                        		__not.um	_player_axis
         01:C5EB  AD 1A 23   			lda	_player_axis
         01:C5EE  18         			clc
         01:C5EF  D0 01      			bne	!+
         01:C5F1  38         			sec
         01:C5F2             	!:
11795                        		__bfalse	.LL555
         01:C5F2  90 12      			bcc	.LL555
11796                        	
11797                        		.dbg	line,	"include\routines_LEVELS.c", 1639; {
11798                        	
11799                        		.dbg	line,	"include\routines_LEVELS.c", 1640; spr_x(player_pos_x+3);
11800                        		__ld.wm		_player_pos_x
         01:C5F4  AD F7 24   			lda.l	_player_pos_x
         01:C5F7  AC F8 24   			ldy.h	_player_pos_x
11801                        		__add.wi	3
         01:C5FA  18         			clc
         01:C5FB  69 03      			adc.l	#3
         01:C5FD  90 01      			bcc	!+
         01:C5FF  C8         			iny
         01:C600             	!:
11802                        		__call		_spr_x.1
         01:C600  20 1E E8   			call	_spr_x.1
11803                        	
11804                        		.dbg	line,	"include\routines_LEVELS.c", 1641; }
11805                        	
11806                        		.dbg	line,	"include\routines_LEVELS.c", 1643; else
11807                        		__bra		.LL556
         01:C603  4C 75 C7   			bra	.LL556
11808    01:C606             	.LL555:
11809                        	
11810                        		.dbg	line,	"include\routines_LEVELS.c", 1644; {
11811                        	
11812                        		.dbg	line,	"include\routines_LEVELS.c", 1645; spr_x(player_pos_x+13);
11813                        		__ld.wm		_player_pos_x
         01:C606  AD F7 24   			lda.l	_player_pos_x
         01:C609  AC F8 24   			ldy.h	_player_pos_x
11814                        		__add.wi	13
         01:C60C  18         			clc
         01:C60D  69 0D      			adc.l	#13
         01:C60F  90 01      			bcc	!+
         01:C611  C8         			iny
         01:C612             	!:
11815                        		__call		_spr_x.1
         01:C612  20 1E E8   			call	_spr_x.1
11816                        	
11817                        		.dbg	line,	"include\routines_LEVELS.c", 1646; }
11818    01:C615             	.LL556	.alias		.LL557
11819                        	
11820                        		.dbg	line,	"include\routines_LEVELS.c", 1647; }
11821                        	
11822                        		.dbg	line,	"include\routines_LEVELS.c", 1650; else if(player_counter_anim == 7)
11823                        		__bra		.LL557
         01:C615  4C 75 C7   			bra	.LL557
11824    01:C618             	.LL554:
11825                        		__ld.umq	_player_counter_anim
         01:C618  AD 1C 23   			lda	_player_counter_anim
11826                        		__equ_b.uiq	7
         01:C61B  C9 07      			cmp	#7
         01:C61D  F0 01      			beq	!+
         01:C61F  18         			clc
         01:C620             	!:
11827                        		__bfalse	.LL558
         01:C620  90 40      			bcc	.LL558
11828                        	
11829                        		.dbg	line,	"include\routines_LEVELS.c", 1651; {
11830                        	
11831                        		.dbg	line,	"include\routines_LEVELS.c", 1652; //spr_set(player_id);
11832                        	
11833                        		.dbg	line,	"include\routines_LEVELS.c", 1653; spr_pattern(PLAYER_WALK_3_VRAM_ADR);
11834                        		__ld.wi		6912
         01:C622  62         			cla
         01:C623  A0 1B      			ldy.h	#6912
11835                        		__call		_spr_pattern.1
         01:C625  20 3A E8   			call	_spr_pattern.1
11836                        	
11837                        		.dbg	line,	"include\routines_LEVELS.c", 1655; spr_set(weapon_id);
11838                        		__ld.umq	_weapon_id
         01:C628  AD 27 23   			lda	_weapon_id
11839                        		__call		_spr_set.1
         01:C62B  20 F1 E7   			call	_spr_set.1
11840                        	
11841                        		.dbg	line,	"include\routines_LEVELS.c", 1656; spr_pattern(WEAPON_WALK_1_VRAM_ADRESS);
11842                        		__ld.wi		31872
         01:C62E  A9 80      			lda.l	#31872
         01:C630  A0 7C      			ldy.h	#31872
11843                        		__call		_spr_pattern.1
         01:C632  20 3A E8   			call	_spr_pattern.1
11844                        	
11845                        		.dbg	line,	"include\routines_LEVELS.c", 1658; if(player_axis == AXIS_RIGHT)
11846                        		__not.um	_player_axis
         01:C635  AD 1A 23   			lda	_player_axis
         01:C638  18         			clc
         01:C639  D0 01      			bne	!+
         01:C63B  38         			sec
         01:C63C             	!:
11847                        		__bfalse	.LL559
         01:C63C  90 12      			bcc	.LL559
11848                        	
11849                        		.dbg	line,	"include\routines_LEVELS.c", 1659; {
11850                        	
11851                        		.dbg	line,	"include\routines_LEVELS.c", 1660; spr_x(player_pos_x+5);
11852                        		__ld.wm		_player_pos_x
         01:C63E  AD F7 24   			lda.l	_player_pos_x
         01:C641  AC F8 24   			ldy.h	_player_pos_x
11853                        		__add.wi	5
         01:C644  18         			clc
         01:C645  69 05      			adc.l	#5
         01:C647  90 01      			bcc	!+
         01:C649  C8         			iny
         01:C64A             	!:
11854                        		__call		_spr_x.1
         01:C64A  20 1E E8   			call	_spr_x.1
11855                        	
11856                        		.dbg	line,	"include\routines_LEVELS.c", 1661; }
11857                        	
11858                        		.dbg	line,	"include\routines_LEVELS.c", 1663; else
11859                        		__bra		.LL560
         01:C64D  4C 75 C7   			bra	.LL560
11860    01:C650             	.LL559:
11861                        	
11862                        		.dbg	line,	"include\routines_LEVELS.c", 1664; {
11863                        	
11864                        		.dbg	line,	"include\routines_LEVELS.c", 1665; spr_x(player_pos_x+11);
11865                        		__ld.wm		_player_pos_x
         01:C650  AD F7 24   			lda.l	_player_pos_x
         01:C653  AC F8 24   			ldy.h	_player_pos_x
11866                        		__add.wi	11
         01:C656  18         			clc
         01:C657  69 0B      			adc.l	#11
         01:C659  90 01      			bcc	!+
         01:C65B  C8         			iny
         01:C65C             	!:
11867                        		__call		_spr_x.1
         01:C65C  20 1E E8   			call	_spr_x.1
11868                        	
11869                        		.dbg	line,	"include\routines_LEVELS.c", 1666; }
11870    01:C65F             	.LL560	.alias		.LL561
11871                        	
11872                        		.dbg	line,	"include\routines_LEVELS.c", 1667; }
11873                        	
11874                        		.dbg	line,	"include\routines_LEVELS.c", 1670; else if(player_counter_anim == 9)
11875                        		__bra		.LL561
         01:C65F  4C 75 C7   			bra	.LL561
11876    01:C662             	.LL558:
11877                        		__ld.umq	_player_counter_anim
         01:C662  AD 1C 23   			lda	_player_counter_anim
11878                        		__equ_b.uiq	9
         01:C665  C9 09      			cmp	#9
         01:C667  F0 01      			beq	!+
         01:C669  18         			clc
         01:C66A             	!:
11879                        		__bfalse	.LL562
         01:C66A  90 2A      			bcc	.LL562
11880                        	
11881                        		.dbg	line,	"include\routines_LEVELS.c", 1671; {
11882                        	
11883                        		.dbg	line,	"include\routines_LEVELS.c", 1672; //spr_set(player_id);
11884                        	
11885                        		.dbg	line,	"include\routines_LEVELS.c", 1673; spr_pattern(PLAYER_IDLE_VRAM_ADR);
11886                        		__ld.wi		6144
         01:C66C  62         			cla
         01:C66D  A0 18      			ldy.h	#6144
11887                        		__call		_spr_pattern.1
         01:C66F  20 3A E8   			call	_spr_pattern.1
11888                        	
11889                        		.dbg	line,	"include\routines_LEVELS.c", 1675; spr_set(weapon_id);
11890                        		__ld.umq	_weapon_id
         01:C672  AD 27 23   			lda	_weapon_id
11891                        		__call		_spr_set.1
         01:C675  20 F1 E7   			call	_spr_set.1
11892                        	
11893                        		.dbg	line,	"include\routines_LEVELS.c", 1676; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
11894                        		__ld.wi		31808
         01:C678  A9 40      			lda.l	#31808
         01:C67A  A0 7C      			ldy.h	#31808
11895                        		__call		_spr_pattern.1
         01:C67C  20 3A E8   			call	_spr_pattern.1
11896                        	
11897                        		.dbg	line,	"include\routines_LEVELS.c", 1677; spr_x(player_pos_x+8);
11898                        		__ld.wm		_player_pos_x
         01:C67F  AD F7 24   			lda.l	_player_pos_x
         01:C682  AC F8 24   			ldy.h	_player_pos_x
11899                        		__add.wi	8
         01:C685  18         			clc
         01:C686  69 08      			adc.l	#8
         01:C688  90 01      			bcc	!+
         01:C68A  C8         			iny
         01:C68B             	!:
11900                        		__call		_spr_x.1
         01:C68B  20 1E E8   			call	_spr_x.1
11901                        	
11902                        		.dbg	line,	"include\routines_LEVELS.c", 1678; weapon_y_offset = 16;
11903                        		__st.umiq	16, _weapon_y_offset
         01:C68E  A9 10      			lda.l	#16
         01:C690  8D 8F 26   			sta	_weapon_y_offset
11904                        	
11905                        		.dbg	line,	"include\routines_LEVELS.c", 1679; //pr_y(player_pos_y+16);
11906                        	
11907                        		.dbg	line,	"include\routines_LEVELS.c", 1680; }
11908                        	
11909                        		.dbg	line,	"include\routines_LEVELS.c", 1683; else if(player_counter_anim == 12)
11910                        		__bra		.LL563
         01:C693  4C 75 C7   			bra	.LL563
11911    01:C696             	.LL562:
11912                        		__ld.umq	_player_counter_anim
         01:C696  AD 1C 23   			lda	_player_counter_anim
11913                        		__equ_b.uiq	12
         01:C699  C9 0C      			cmp	#12
         01:C69B  F0 01      			beq	!+
         01:C69D  18         			clc
         01:C69E             	!:
11914                        		__bfalse	.LL564
         01:C69E  90 3E      			bcc	.LL564
11915                        	
11916                        		.dbg	line,	"include\routines_LEVELS.c", 1684; {
11917                        	
11918                        		.dbg	line,	"include\routines_LEVELS.c", 1685; spr_pattern(PLAYER_WALK_4_VRAM_ADR);
11919                        		__ld.wi		7168
         01:C6A0  62         			cla
         01:C6A1  A0 1C      			ldy.h	#7168
11920                        		__call		_spr_pattern.1
         01:C6A3  20 3A E8   			call	_spr_pattern.1
11921                        	
11922                        		.dbg	line,	"include\routines_LEVELS.c", 1687; spr_set(weapon_id);
11923                        		__ld.umq	_weapon_id
         01:C6A6  AD 27 23   			lda	_weapon_id
11924                        		__call		_spr_set.1
         01:C6A9  20 F1 E7   			call	_spr_set.1
11925                        	
11926                        		.dbg	line,	"include\routines_LEVELS.c", 1688; weapon_y_offset = 14;
11927                        		__st.umiq	14, _weapon_y_offset
         01:C6AC  A9 0E      			lda.l	#14
         01:C6AE  8D 8F 26   			sta	_weapon_y_offset
11928                        	
11929                        		.dbg	line,	"include\routines_LEVELS.c", 1689; //spr_y(player_pos_y+14);
11930                        	
11931                        		.dbg	line,	"include\routines_LEVELS.c", 1691; if(player_axis == AXIS_RIGHT)
11932                        		__not.um	_player_axis
         01:C6B1  AD 1A 23   			lda	_player_axis
         01:C6B4  18         			clc
         01:C6B5  D0 01      			bne	!+
         01:C6B7  38         			sec
         01:C6B8             	!:
11933                        		__bfalse	.LL565
         01:C6B8  90 12      			bcc	.LL565
11934                        	
11935                        		.dbg	line,	"include\routines_LEVELS.c", 1692; {
11936                        	
11937                        		.dbg	line,	"include\routines_LEVELS.c", 1693; spr_x(player_pos_x+12);
11938                        		__ld.wm		_player_pos_x
         01:C6BA  AD F7 24   			lda.l	_player_pos_x
         01:C6BD  AC F8 24   			ldy.h	_player_pos_x
11939                        		__add.wi	12
         01:C6C0  18         			clc
         01:C6C1  69 0C      			adc.l	#12
         01:C6C3  90 01      			bcc	!+
         01:C6C5  C8         			iny
         01:C6C6             	!:
11940                        		__call		_spr_x.1
         01:C6C6  20 1E E8   			call	_spr_x.1
11941                        	
11942                        		.dbg	line,	"include\routines_LEVELS.c", 1694; }
11943                        	
11944                        		.dbg	line,	"include\routines_LEVELS.c", 1696; else
11945                        		__bra		.LL566
         01:C6C9  4C 75 C7   			bra	.LL566
11946    01:C6CC             	.LL565:
11947                        	
11948                        		.dbg	line,	"include\routines_LEVELS.c", 1697; {
11949                        	
11950                        		.dbg	line,	"include\routines_LEVELS.c", 1698; spr_x(player_pos_x+4);
11951                        		__ld.wm		_player_pos_x
         01:C6CC  AD F7 24   			lda.l	_player_pos_x
         01:C6CF  AC F8 24   			ldy.h	_player_pos_x
11952                        		__add.wi	4
         01:C6D2  18         			clc
         01:C6D3  69 04      			adc.l	#4
         01:C6D5  90 01      			bcc	!+
         01:C6D7  C8         			iny
         01:C6D8             	!:
11953                        		__call		_spr_x.1
         01:C6D8  20 1E E8   			call	_spr_x.1
11954                        	
11955                        		.dbg	line,	"include\routines_LEVELS.c", 1699; }
11956    01:C6DB             	.LL566	.alias		.LL567
11957                        	
11958                        		.dbg	line,	"include\routines_LEVELS.c", 1700; }
11959                        	
11960                        		.dbg	line,	"include\routines_LEVELS.c", 1703; else if(player_counter_anim == 15)
11961                        		__bra		.LL567
         01:C6DB  4C 75 C7   			bra	.LL567
11962    01:C6DE             	.LL564:
11963                        		__ld.umq	_player_counter_anim
         01:C6DE  AD 1C 23   			lda	_player_counter_anim
11964                        		__equ_b.uiq	15
         01:C6E1  C9 0F      			cmp	#15
         01:C6E3  F0 01      			beq	!+
         01:C6E5  18         			clc
         01:C6E6             	!:
11965                        		__bfalse	.LL568
         01:C6E6  90 3A      			bcc	.LL568
11966                        	
11967                        		.dbg	line,	"include\routines_LEVELS.c", 1704; {
11968                        	
11969                        		.dbg	line,	"include\routines_LEVELS.c", 1705; spr_pattern(PLAYER_WALK_5_VRAM_ADR);
11970                        		__ld.wi		7424
         01:C6E8  62         			cla
         01:C6E9  A0 1D      			ldy.h	#7424
11971                        		__call		_spr_pattern.1
         01:C6EB  20 3A E8   			call	_spr_pattern.1
11972                        	
11973                        		.dbg	line,	"include\routines_LEVELS.c", 1707; spr_set(weapon_id);
11974                        		__ld.umq	_weapon_id
         01:C6EE  AD 27 23   			lda	_weapon_id
11975                        		__call		_spr_set.1
         01:C6F1  20 F1 E7   			call	_spr_set.1
11976                        	
11977                        		.dbg	line,	"include\routines_LEVELS.c", 1708; weapon_y_offset = 12;
11978                        		__st.umiq	12, _weapon_y_offset
         01:C6F4  A9 0C      			lda.l	#12
         01:C6F6  8D 8F 26   			sta	_weapon_y_offset
11979                        	
11980                        		.dbg	line,	"include\routines_LEVELS.c", 1709; //spr_y(player_pos_y+12);
11981                        	
11982                        		.dbg	line,	"include\routines_LEVELS.c", 1711; if(player_axis == AXIS_RIGHT)
11983                        		__not.um	_player_axis
         01:C6F9  AD 1A 23   			lda	_player_axis
         01:C6FC  18         			clc
         01:C6FD  D0 01      			bne	!+
         01:C6FF  38         			sec
         01:C700             	!:
11984                        		__bfalse	.LL569
         01:C700  90 11      			bcc	.LL569
11985                        	
11986                        		.dbg	line,	"include\routines_LEVELS.c", 1712; {
11987                        	
11988                        		.dbg	line,	"include\routines_LEVELS.c", 1713; spr_x(player_pos_x+15);
11989                        		__ld.wm		_player_pos_x
         01:C702  AD F7 24   			lda.l	_player_pos_x
         01:C705  AC F8 24   			ldy.h	_player_pos_x
11990                        		__add.wi	15
         01:C708  18         			clc
         01:C709  69 0F      			adc.l	#15
         01:C70B  90 01      			bcc	!+
         01:C70D  C8         			iny
         01:C70E             	!:
11991                        		__call		_spr_x.1
         01:C70E  20 1E E8   			call	_spr_x.1
11992                        	
11993                        		.dbg	line,	"include\routines_LEVELS.c", 1714; }
11994                        	
11995                        		.dbg	line,	"include\routines_LEVELS.c", 1716; else
11996                        		__bra		.LL570
         01:C711  80 62      			bra	.LL570
11997    01:C713             	.LL569:
11998                        	
11999                        		.dbg	line,	"include\routines_LEVELS.c", 1717; {
12000                        	
12001                        		.dbg	line,	"include\routines_LEVELS.c", 1718; spr_x(player_pos_x+1);
12002                        		__ld.wm		_player_pos_x
         01:C713  AD F7 24   			lda.l	_player_pos_x
         01:C716  AC F8 24   			ldy.h	_player_pos_x
12003                        		__add.wi	1
         01:C719  1A         			inc	a
         01:C71A  D0 01      			bne	!+
         01:C71C  C8         			iny
         01:C71D             	!:
12004                        		__call		_spr_x.1
         01:C71D  20 1E E8   			call	_spr_x.1
12005                        	
12006                        		.dbg	line,	"include\routines_LEVELS.c", 1719; }
12007    01:C720             	.LL570	.alias		.LL571
12008                        	
12009                        		.dbg	line,	"include\routines_LEVELS.c", 1720; }
12010                        	
12011                        		.dbg	line,	"include\routines_LEVELS.c", 1723; else if(player_counter_anim == 18)
12012                        		__bra		.LL571
         01:C720  80 53      			bra	.LL571
12013    01:C722             	.LL568:
12014                        		__ld.umq	_player_counter_anim
         01:C722  AD 1C 23   			lda	_player_counter_anim
12015                        		__equ_b.uiq	18
         01:C725  C9 12      			cmp	#18
         01:C727  F0 01      			beq	!+
         01:C729  18         			clc
         01:C72A             	!:
12016                        		__bfalse	.LL572
         01:C72A  90 3C      			bcc	.LL572
12017                        	
12018                        		.dbg	line,	"include\routines_LEVELS.c", 1724; {
12019                        	
12020                        		.dbg	line,	"include\routines_LEVELS.c", 1725; spr_pattern(PLAYER_WALK_6_VRAM_ADR);
12021                        		__ld.wi		7680
         01:C72C  62         			cla
         01:C72D  A0 1E      			ldy.h	#7680
12022                        		__call		_spr_pattern.1
         01:C72F  20 3A E8   			call	_spr_pattern.1
12023                        	
12024                        		.dbg	line,	"include\routines_LEVELS.c", 1727; spr_set(weapon_id);
12025                        		__ld.umq	_weapon_id
         01:C732  AD 27 23   			lda	_weapon_id
12026                        		__call		_spr_set.1
         01:C735  20 F1 E7   			call	_spr_set.1
12027                        	
12028                        		.dbg	line,	"include\routines_LEVELS.c", 1728; weapon_y_offset = 14;
12029                        		__st.umiq	14, _weapon_y_offset
         01:C738  A9 0E      			lda.l	#14
         01:C73A  8D 8F 26   			sta	_weapon_y_offset
12030                        	
12031                        		.dbg	line,	"include\routines_LEVELS.c", 1729; //spr_y(player_pos_y+14);
12032                        	
12033                        		.dbg	line,	"include\routines_LEVELS.c", 1731; if(player_axis == AXIS_RIGHT)
12034                        		__not.um	_player_axis
         01:C73D  AD 1A 23   			lda	_player_axis
         01:C740  18         			clc
         01:C741  D0 01      			bne	!+
         01:C743  38         			sec
         01:C744             	!:
12035                        		__bfalse	.LL573
         01:C744  90 11      			bcc	.LL573
12036                        	
12037                        		.dbg	line,	"include\routines_LEVELS.c", 1732; {
12038                        	
12039                        		.dbg	line,	"include\routines_LEVELS.c", 1733; spr_x(player_pos_x+12);
12040                        		__ld.wm		_player_pos_x
         01:C746  AD F7 24   			lda.l	_player_pos_x
         01:C749  AC F8 24   			ldy.h	_player_pos_x
12041                        		__add.wi	12
         01:C74C  18         			clc
         01:C74D  69 0C      			adc.l	#12
         01:C74F  90 01      			bcc	!+
         01:C751  C8         			iny
         01:C752             	!:
12042                        		__call		_spr_x.1
         01:C752  20 1E E8   			call	_spr_x.1
12043                        	
12044                        		.dbg	line,	"include\routines_LEVELS.c", 1734; }
12045                        	
12046                        		.dbg	line,	"include\routines_LEVELS.c", 1736; else
12047                        		__bra		.LL574
         01:C755  80 1E      			bra	.LL574
12048    01:C757             	.LL573:
12049                        	
12050                        		.dbg	line,	"include\routines_LEVELS.c", 1737; {
12051                        	
12052                        		.dbg	line,	"include\routines_LEVELS.c", 1738; spr_x(player_pos_x+4);
12053                        		__ld.wm		_player_pos_x
         01:C757  AD F7 24   			lda.l	_player_pos_x
         01:C75A  AC F8 24   			ldy.h	_player_pos_x
12054                        		__add.wi	4
         01:C75D  18         			clc
         01:C75E  69 04      			adc.l	#4
         01:C760  90 01      			bcc	!+
         01:C762  C8         			iny
         01:C763             	!:
12055                        		__call		_spr_x.1
         01:C763  20 1E E8   			call	_spr_x.1
12056                        	
12057                        		.dbg	line,	"include\routines_LEVELS.c", 1739; } 
12058    01:C766             	.LL574	.alias		.LL575
12059                        	
12060                        		.dbg	line,	"include\routines_LEVELS.c", 1740; }
12061                        	
12062                        		.dbg	line,	"include\routines_LEVELS.c", 1743; else if(player_counter_anim == 19)
12063                        		__bra		.LL575
         01:C766  80 0D      			bra	.LL575
12064    01:C768             	.LL572:
12065                        		__ld.umq	_player_counter_anim
         01:C768  AD 1C 23   			lda	_player_counter_anim
12066                        		__equ_b.uiq	19
         01:C76B  C9 13      			cmp	#19
         01:C76D  F0 01      			beq	!+
         01:C76F  18         			clc
         01:C770             	!:
12067                        		__bfalse	.LL576
         01:C770  90 03      			bcc	.LL576
12068                        	
12069                        		.dbg	line,	"include\routines_LEVELS.c", 1744; {
12070                        	
12071                        		.dbg	line,	"include\routines_LEVELS.c", 1745; player_counter_anim = 0;
12072                        		__st.umiq	0, _player_counter_anim
         01:C772  9C 1C 23   			stz	_player_counter_anim
12073                        	
12074                        		.dbg	line,	"include\routines_LEVELS.c", 1746; }
12075                        	
12076                        		.dbg	line,	"include\routines_LEVELS.c", 1749; spr_set(weapon_id);
12077    01:C775             	.LL576:
12078    01:C775             	.LL575:
12079    01:C775             	.LL571:
12080    01:C775             	.LL567:
12081    01:C775             	.LL563:
12082    01:C775             	.LL561:
12083    01:C775             	.LL557:
12084    01:C775             	.LL553:
12085    01:C775             	.LL549:
12086                        		__ld.umq	_weapon_id
         01:C775  AD 27 23   			lda	_weapon_id
12087                        		__call		_spr_set.1
         01:C778  20 F1 E7   			call	_spr_set.1
12088                        	
12089                        		.dbg	line,	"include\routines_LEVELS.c", 1750; spr_y(player_pos_y + weapon_y_offset);
12090                        		__ld.bm		_weapon_y_offset
         01:C77B  AD 8F 26   			lda	_weapon_y_offset
         01:C77E  C2         			cly
         01:C77F  10 01      			bpl	!+
         01:C781  88         			dey
         01:C782             	!:
12091                        		__add.wm	_player_pos_y
         01:C782  18         			clc
         01:C783  6D F9 24   			adc.l	_player_pos_y
         01:C786  42         			say
         01:C787  6D FA 24   			adc.h	_player_pos_y
         01:C78A  42         			say
12092                        		__call		_spr_y.1
         01:C78B  20 2D E8   			call	_spr_y.1
12093                        	
12094                        		.dbg	line,	"include\routines_LEVELS.c", 1751; //player_counter_anim += 1;
12095                        	
12096                        		.dbg	line,	"include\routines_LEVELS.c", 1753; }
12097                        	
12098                        		.dbg	line,	"include\routines_LEVELS.c", 1756; else if(player_state == STATE_JUMP)
12099                        		__bra		.LL577
         01:C78E  4C DA DC   			bra	.LL577
12100    01:C791             	.LL535:
12101                        		__ld.umq	_player_state
         01:C791  AD 19 23   			lda	_player_state
12102                        		__equ_b.uiq	4
         01:C794  C9 04      			cmp	#4
         01:C796  F0 01      			beq	!+
         01:C798  18         			clc
         01:C799             	!:
12103                        		__bfalse	.LL578
         01:C799  B0 03 4C 95			bcc	.LL578
         01:C79D  CD          
12104                        	
12105                        		.dbg	line,	"include\routines_LEVELS.c", 1757; {
12106                        	
12107                        		.dbg	line,	"include\routines_LEVELS.c", 1758; unsigned char i;
12108                        	
12109                        		.dbg	line,	"include\routines_LEVELS.c", 1759; i = 1;
12110                        		__st.umiq	1, __update_PLAYER_end - 1  /* i */
         01:C79E  A9 01      			lda.l	#1
         01:C7A0  8D 0C 23   			sta	__update_PLAYER_end - 1
12111                        	
12112                        		.dbg	line,	"include\routines_LEVELS.c", 1762; if(player_counter_anim == 0)
12113                        		__not.um	_player_counter_anim
         01:C7A3  AD 1C 23   			lda	_player_counter_anim
         01:C7A6  18         			clc
         01:C7A7  D0 01      			bne	!+
         01:C7A9  38         			sec
         01:C7AA             	!:
12114                        		__bfalse	.LL579
         01:C7AA  90 11      			bcc	.LL579
12115                        	
12116                        		.dbg	line,	"include\routines_LEVELS.c", 1763; {
12117                        	
12118                        		.dbg	line,	"include\routines_LEVELS.c", 1764; spr_set(player_id);
12119                        		__ld.umq	_player_id
         01:C7AC  AD 18 23   			lda	_player_id
12120                        		__call		_spr_set.1
         01:C7AF  20 F1 E7   			call	_spr_set.1
12121                        	
12122                        		.dbg	line,	"include\routines_LEVELS.c", 1765; spr_pattern(PLAYER_JUMP_VRAM_ADR);
12123                        		__ld.wi		7936
         01:C7B2  62         			cla
         01:C7B3  A0 1F      			ldy.h	#7936
12124                        		__call		_spr_pattern.1
         01:C7B5  20 3A E8   			call	_spr_pattern.1
12125                        	
12126                        		.dbg	line,	"include\routines_LEVELS.c", 1767; player_counter_anim = 1;
12127                        		__st.umiq	1, _player_counter_anim
         01:C7B8  A9 01      			lda.l	#1
         01:C7BA  8D 1C 23   			sta	_player_counter_anim
12128                        	
12129                        		.dbg	line,	"include\routines_LEVELS.c", 1768; }
12130                        	
12131                        		.dbg	line,	"include\routines_LEVELS.c", 1771; player_pos_y += TABLE_PLAYER_JUMP_V[player_index_jump];
12132    01:C7BD             	.LL579:
12133                        		__ldx.umq	_player_index_jump
         01:C7BD  AE 1D 23   			ldx	_player_index_jump
12134                        		__ld.bax	_TABLE_PLAYER_JUMP_V
         01:C7C0  BD 87 62   			lda	_TABLE_PLAYER_JUMP_V, x
         01:C7C3  C2         			cly
         01:C7C4  10 01      			bpl	!+
         01:C7C6  88         			dey
         01:C7C7             	!:
12135                        		__add_st.wmq	_player_pos_y
         01:C7C7  18         			clc
         01:C7C8  6D F9 24   			adc.l	_player_pos_y
         01:C7CB  8D F9 24   			sta.l	_player_pos_y
         01:C7CE  98         			tya
         01:C7CF  6D FA 24   			adc.h	_player_pos_y
         01:C7D2  8D FA 24   			sta.h	_player_pos_y
12136                        	
12137                        		.dbg	line,	"include\routines_LEVELS.c", 1773; // CHECK COLLISION WITH CEILING //
12138                        	
12139                        		.dbg	line,	"include\routines_LEVELS.c", 1774; collision_PLAYER_BG( 15 , 8 );
12140                        		__ld.wi		15
         01:C7D5  A9 0F      			lda.l	#15
         01:C7D7  C2         			cly
12141                        		__pusharg.wr
         01:C7D8  A6 8D      			ldx	<__sp
         01:C7DA  CA         			dex
         01:C7DB  CA         			dex
         01:C7DC  95 08      			sta.l	<__stack, x
         01:C7DE  94 09      			sty.h	<__stack, x
         01:C7E0  86 8D      			stx	<__sp
12142                        		__ld.wi		8
         01:C7E2  A9 08      			lda.l	#8
         01:C7E4  C2         			cly
12143                        		__pusharg.wr
         01:C7E5  A6 8D      			ldx	<__sp
         01:C7E7  CA         			dex
         01:C7E8  CA         			dex
         01:C7E9  95 08      			sta.l	<__stack, x
         01:C7EB  94 09      			sty.h	<__stack, x
         01:C7ED  86 8D      			stx	<__sp
12144                        		__call		_collision_PLAYER_BG
         01:C7EF  20 27 FF   			call	_collision_PLAYER_BG
12145                        	
12146                        		.dbg	line,	"include\routines_LEVELS.c", 1776; if(map_blk_flag == TILE_BG)
12147                        		__ld.umq	_map_blk_flag
         01:C7F2  AD FB 2B   			lda	_map_blk_flag
12148                        		__equ_b.uiq	1
         01:C7F5  C9 01      			cmp	#1
         01:C7F7  F0 01      			beq	!+
         01:C7F9  18         			clc
         01:C7FA             	!:
12149                        		__bfalse	.LL580
         01:C7FA  90 5A      			bcc	.LL580
12150                        	
12151                        		.dbg	line,	"include\routines_LEVELS.c", 1777; {
12152                        	
12153                        		.dbg	line,	"include\routines_LEVELS.c", 1778; for(i=1 ; i<8 ; i++)
12154                        		__st.umiq	1, __update_PLAYER_end - 1  /* i */
         01:C7FC  A9 01      			lda.l	#1
         01:C7FE  8D 0C 23   			sta	__update_PLAYER_end - 1
12155    01:C801             	.LL581:
12156                        		__ld.umq	__update_PLAYER_end - 1  /* i */
         01:C801  AD 0C 23   			lda	__update_PLAYER_end - 1
12157                        		__ult_b.uiq	8
         01:C804  C9 08      			cmp	#8		; Subtract integer from A.
         01:C806  6A         			ror	a		; CC if A < integer.
         01:C807  49 80      			eor	#$80
         01:C809  2A         			rol	a
12158                        		__btrue		.LL583
         01:C80A  B0 07      			bcs	.LL583
12159                        		__bra		.LL584
         01:C80C  80 48      			bra	.LL584
12160    01:C80E             	.LL582:
12161                        		__inc.umq	__update_PLAYER_end - 1  /* i */
         01:C80E  EE 0C 23   			inc	__update_PLAYER_end - 1
12162                        		__bra		.LL581
         01:C811  80 EE      			bra	.LL581
12163    01:C813             	.LL583:
12164                        	
12165                        		.dbg	line,	"include\routines_LEVELS.c", 1779; {
12166                        	
12167                        		.dbg	line,	"include\routines_LEVELS.c", 1780; collision_PLAYER_BG( 15 , 8 + i );
12168                        		__ld.wi		15
         01:C813  A9 0F      			lda.l	#15
         01:C815  C2         			cly
12169                        		__pusharg.wr
         01:C816  A6 8D      			ldx	<__sp
         01:C818  CA         			dex
         01:C819  CA         			dex
         01:C81A  95 08      			sta.l	<__stack, x
         01:C81C  94 09      			sty.h	<__stack, x
         01:C81E  86 8D      			stx	<__sp
12170                        		__ld.wi		8
         01:C820  A9 08      			lda.l	#8
         01:C822  C2         			cly
12171                        		__add.um	__update_PLAYER_end - 1  /* i */
         01:C823  18         			clc
         01:C824  6D 0C 23   			adc	__update_PLAYER_end - 1
         01:C827  90 01      			bcc	!+
         01:C829  C8         			iny
         01:C82A             	!:
12172                        		__pusharg.wr
         01:C82A  A6 8D      			ldx	<__sp
         01:C82C  CA         			dex
         01:C82D  CA         			dex
         01:C82E  95 08      			sta.l	<__stack, x
         01:C830  94 09      			sty.h	<__stack, x
         01:C832  86 8D      			stx	<__sp
12173                        		__call		_collision_PLAYER_BG
         01:C834  20 27 FF   			call	_collision_PLAYER_BG
12174                        	
12175                        		.dbg	line,	"include\routines_LEVELS.c", 1781; {
12176                        	
12177                        		.dbg	line,	"include\routines_LEVELS.c", 1782; if(map_blk_flag == TILE_EMPTY)
12178                        		__not.um	_map_blk_flag
         01:C837  AD FB 2B   			lda	_map_blk_flag
         01:C83A  18         			clc
         01:C83B  D0 01      			bne	!+
         01:C83D  38         			sec
         01:C83E             	!:
12179                        		__bfalse	.LL585
         01:C83E  90 CE      			bcc	.LL585
12180                        	
12181                        		.dbg	line,	"include\routines_LEVELS.c", 1783; {
12182                        	
12183                        		.dbg	line,	"include\routines_LEVELS.c", 1784; player_pos_y += i;
12184                        		__ld.um		__update_PLAYER_end - 1  /* i */
         01:C840  AD 0C 23   			lda	__update_PLAYER_end - 1
         01:C843  C2         			cly
12185                        		__add_st.wmq	_player_pos_y
         01:C844  18         			clc
         01:C845  6D F9 24   			adc.l	_player_pos_y
         01:C848  8D F9 24   			sta.l	_player_pos_y
         01:C84B  98         			tya
         01:C84C  6D FA 24   			adc.h	_player_pos_y
         01:C84F  8D FA 24   			sta.h	_player_pos_y
12186                        	
12187                        		.dbg	line,	"include\routines_LEVELS.c", 1785; break;
12188                        		__bra		.LL584
         01:C852  80 02      			bra	.LL584
12189                        	
12190                        		.dbg	line,	"include\routines_LEVELS.c", 1786; }
12191                        	
12192                        		.dbg	line,	"include\routines_LEVELS.c", 1787; }
12193    01:C854             	.LL585	.alias		.LL582
12194                        	
12195                        		.dbg	line,	"include\routines_LEVELS.c", 1788; }
12196                        		__bra		.LL582
         01:C854  80 B8      			bra	.LL582
12197    01:C856             	.LL584:
12198                        	
12199                        		.dbg	line,	"include\routines_LEVELS.c", 1789; }
12200                        	
12201                        		.dbg	line,	"include\routines_LEVELS.c", 1792; if(player_attack == FALSE)
12202    01:C856             	.LL580:
12203                        		__not.um	_player_attack
         01:C856  AD 21 23   			lda	_player_attack
         01:C859  18         			clc
         01:C85A  D0 01      			bne	!+
         01:C85C  38         			sec
         01:C85D             	!:
12204                        		__bfalse	.LL586
         01:C85D  90 18      			bcc	.LL586
12205                        	
12206                        		.dbg	line,	"include\routines_LEVELS.c", 1793; {
12207                        	
12208                        		.dbg	line,	"include\routines_LEVELS.c", 1794; spr_set(weapon_id);
12209                        		__ld.umq	_weapon_id
         01:C85F  AD 27 23   			lda	_weapon_id
12210                        		__call		_spr_set.1
         01:C862  20 F1 E7   			call	_spr_set.1
12211                        	
12212                        		.dbg	line,	"include\routines_LEVELS.c", 1795; spr_y(player_pos_y+8);
12213                        		__ld.wm		_player_pos_y
         01:C865  AD F9 24   			lda.l	_player_pos_y
         01:C868  AC FA 24   			ldy.h	_player_pos_y
12214                        		__add.wi	8
         01:C86B  18         			clc
         01:C86C  69 08      			adc.l	#8
         01:C86E  90 01      			bcc	!+
         01:C870  C8         			iny
         01:C871             	!:
12215                        		__call		_spr_y.1
         01:C871  20 2D E8   			call	_spr_y.1
12216                        	
12217                        		.dbg	line,	"include\routines_LEVELS.c", 1796; }
12218                        	
12219                        		.dbg	line,	"include\routines_LEVELS.c", 1798; 
12220                        	
12221                        		.dbg	line,	"include\routines_LEVELS.c", 1799; else
12222                        		__bra		.LL587
         01:C874  4C 20 CB   			bra	.LL587
12223    01:C877             	.LL586:
12224                        	
12225                        		.dbg	line,	"include\routines_LEVELS.c", 1800; {
12226                        	
12227                        		.dbg	line,	"include\routines_LEVELS.c", 1801; if(player_counter_attack == 0)
12228                        		__not.um	_player_counter_attack
         01:C877  AD 1F 23   			lda	_player_counter_attack
         01:C87A  18         			clc
         01:C87B  D0 01      			bne	!+
         01:C87D  38         			sec
         01:C87E             	!:
12229                        		__bfalse	.LL588
         01:C87E  90 53      			bcc	.LL588
12230                        	
12231                        		.dbg	line,	"include\routines_LEVELS.c", 1802; {
12232                        	
12233                        		.dbg	line,	"include\routines_LEVELS.c", 1803; spr_set(player_id);
12234                        		__ld.umq	_player_id
         01:C880  AD 18 23   			lda	_player_id
12235                        		__call		_spr_set.1
         01:C883  20 F1 E7   			call	_spr_set.1
12236                        	
12237                        		.dbg	line,	"include\routines_LEVELS.c", 1804; spr_pattern(PLAYER_JUMP_ATTACK_1_VRAM_ADR);
12238                        		__ld.wi		11520
         01:C886  62         			cla
         01:C887  A0 2D      			ldy.h	#11520
12239                        		__call		_spr_pattern.1
         01:C889  20 3A E8   			call	_spr_pattern.1
12240                        	
12241                        		.dbg	line,	"include\routines_LEVELS.c", 1806; spr_set(weapon_id);
12242                        		__ld.umq	_weapon_id
         01:C88C  AD 27 23   			lda	_weapon_id
12243                        		__call		_spr_set.1
         01:C88F  20 F1 E7   			call	_spr_set.1
12244                        	
12245                        		.dbg	line,	"include\routines_LEVELS.c", 1807; spr_pattern(WEAPON_ATTACK_1_VRAM_ADRESS);
12246                        		__ld.wi		32000
         01:C892  62         			cla
         01:C893  A0 7D      			ldy.h	#32000
12247                        		__call		_spr_pattern.1
         01:C895  20 3A E8   			call	_spr_pattern.1
12248                        	
12249                        		.dbg	line,	"include\routines_LEVELS.c", 1809; if(player_axis == AXIS_RIGHT)
12250                        		__not.um	_player_axis
         01:C898  AD 1A 23   			lda	_player_axis
         01:C89B  18         			clc
         01:C89C  D0 01      			bne	!+
         01:C89E  38         			sec
         01:C89F             	!:
12251                        		__bfalse	.LL589
         01:C89F  90 11      			bcc	.LL589
12252                        	
12253                        		.dbg	line,	"include\routines_LEVELS.c", 1810; {
12254                        	
12255                        		.dbg	line,	"include\routines_LEVELS.c", 1811; spr_x(player_pos_x-14);
12256                        		__ld.wm		_player_pos_x
         01:C8A1  AD F7 24   			lda.l	_player_pos_x
         01:C8A4  AC F8 24   			ldy.h	_player_pos_x
12257                        		__sub.wi	14
         01:C8A7  38         			sec
         01:C8A8  E9 0E      			sbc.l	#14
         01:C8AA  B0 01      			bcs	!+
         01:C8AC  88         			dey
         01:C8AD             	!:
12258                        		__call		_spr_x.1
         01:C8AD  20 1E E8   			call	_spr_x.1
12259                        	
12260                        		.dbg	line,	"include\routines_LEVELS.c", 1812; }
12261                        	
12262                        		.dbg	line,	"include\routines_LEVELS.c", 1814; else
12263                        		__bra		.LL590
         01:C8B0  80 0F      			bra	.LL590
12264    01:C8B2             	.LL589:
12265                        	
12266                        		.dbg	line,	"include\routines_LEVELS.c", 1815; {
12267                        	
12268                        		.dbg	line,	"include\routines_LEVELS.c", 1816; spr_x(player_pos_x+29);
12269                        		__ld.wm		_player_pos_x
         01:C8B2  AD F7 24   			lda.l	_player_pos_x
         01:C8B5  AC F8 24   			ldy.h	_player_pos_x
12270                        		__add.wi	29
         01:C8B8  18         			clc
         01:C8B9  69 1D      			adc.l	#29
         01:C8BB  90 01      			bcc	!+
         01:C8BD  C8         			iny
         01:C8BE             	!:
12271                        		__call		_spr_x.1
         01:C8BE  20 1E E8   			call	_spr_x.1
12272                        	
12273                        		.dbg	line,	"include\routines_LEVELS.c", 1817; }
12274    01:C8C1             	.LL590:
12275                        	
12276                        		.dbg	line,	"include\routines_LEVELS.c", 1819; spr_y(player_pos_y-8);
12277                        		__ld.wm		_player_pos_y
         01:C8C1  AD F9 24   			lda.l	_player_pos_y
         01:C8C4  AC FA 24   			ldy.h	_player_pos_y
12278                        		__sub.wi	8
         01:C8C7  38         			sec
         01:C8C8  E9 08      			sbc.l	#8
         01:C8CA  B0 01      			bcs	!+
         01:C8CC  88         			dey
         01:C8CD             	!:
12279                        		__call		_spr_y.1
         01:C8CD  20 2D E8   			call	_spr_y.1
12280                        	
12281                        		.dbg	line,	"include\routines_LEVELS.c", 1820; }
12282                        	
12283                        		.dbg	line,	"include\routines_LEVELS.c", 1822; else if(player_counter_attack == 6)
12284                        		__bra		.LL591
         01:C8D0  4C 1D CB   			bra	.LL591
12285    01:C8D3             	.LL588:
12286                        		__ld.umq	_player_counter_attack
         01:C8D3  AD 1F 23   			lda	_player_counter_attack
12287                        		__equ_b.uiq	6
         01:C8D6  C9 06      			cmp	#6
         01:C8D8  F0 01      			beq	!+
         01:C8DA  18         			clc
         01:C8DB             	!:
12288                        		__bfalse	.LL592
         01:C8DB  90 54      			bcc	.LL592
12289                        	
12290                        		.dbg	line,	"include\routines_LEVELS.c", 1823; {
12291                        	
12292                        		.dbg	line,	"include\routines_LEVELS.c", 1824; spr_set(player_id);
12293                        		__ld.umq	_player_id
         01:C8DD  AD 18 23   			lda	_player_id
12294                        		__call		_spr_set.1
         01:C8E0  20 F1 E7   			call	_spr_set.1
12295                        	
12296                        		.dbg	line,	"include\routines_LEVELS.c", 1825; spr_pattern(PLAYER_JUMP_ATTACK_2_VRAM_ADR);
12297                        		__ld.wi		11776
         01:C8E3  62         			cla
         01:C8E4  A0 2E      			ldy.h	#11776
12298                        		__call		_spr_pattern.1
         01:C8E6  20 3A E8   			call	_spr_pattern.1
12299                        	
12300                        		.dbg	line,	"include\routines_LEVELS.c", 1827; spr_set(weapon_id);
12301                        		__ld.umq	_weapon_id
         01:C8E9  AD 27 23   			lda	_weapon_id
12302                        		__call		_spr_set.1
         01:C8EC  20 F1 E7   			call	_spr_set.1
12303                        	
12304                        		.dbg	line,	"include\routines_LEVELS.c", 1828; spr_pattern(WEAPON_ATTACK_2_VRAM_ADRESS);
12305                        		__ld.wi		32064
         01:C8EF  A9 40      			lda.l	#32064
         01:C8F1  A0 7D      			ldy.h	#32064
12306                        		__call		_spr_pattern.1
         01:C8F3  20 3A E8   			call	_spr_pattern.1
12307                        	
12308                        		.dbg	line,	"include\routines_LEVELS.c", 1830; if(player_axis == AXIS_RIGHT)
12309                        		__not.um	_player_axis
         01:C8F6  AD 1A 23   			lda	_player_axis
         01:C8F9  18         			clc
         01:C8FA  D0 01      			bne	!+
         01:C8FC  38         			sec
         01:C8FD             	!:
12310                        		__bfalse	.LL593
         01:C8FD  90 11      			bcc	.LL593
12311                        	
12312                        		.dbg	line,	"include\routines_LEVELS.c", 1831; {
12313                        	
12314                        		.dbg	line,	"include\routines_LEVELS.c", 1832; spr_x(player_pos_x+32);
12315                        		__ld.wm		_player_pos_x
         01:C8FF  AD F7 24   			lda.l	_player_pos_x
         01:C902  AC F8 24   			ldy.h	_player_pos_x
12316                        		__add.wi	32
         01:C905  18         			clc
         01:C906  69 20      			adc.l	#32
         01:C908  90 01      			bcc	!+
         01:C90A  C8         			iny
         01:C90B             	!:
12317                        		__call		_spr_x.1
         01:C90B  20 1E E8   			call	_spr_x.1
12318                        	
12319                        		.dbg	line,	"include\routines_LEVELS.c", 1833; 
12320                        	
12321                        		.dbg	line,	"include\routines_LEVELS.c", 1834; }
12322                        	
12323                        		.dbg	line,	"include\routines_LEVELS.c", 1835; 
12324                        	
12325                        		.dbg	line,	"include\routines_LEVELS.c", 1836; else
12326                        		__bra		.LL594
         01:C90E  80 0F      			bra	.LL594
12327    01:C910             	.LL593:
12328                        	
12329                        		.dbg	line,	"include\routines_LEVELS.c", 1837; {
12330                        	
12331                        		.dbg	line,	"include\routines_LEVELS.c", 1838; spr_x(player_pos_x-16);
12332                        		__ld.wm		_player_pos_x
         01:C910  AD F7 24   			lda.l	_player_pos_x
         01:C913  AC F8 24   			ldy.h	_player_pos_x
12333                        		__sub.wi	16
         01:C916  38         			sec
         01:C917  E9 10      			sbc.l	#16
         01:C919  B0 01      			bcs	!+
         01:C91B  88         			dey
         01:C91C             	!:
12334                        		__call		_spr_x.1
         01:C91C  20 1E E8   			call	_spr_x.1
12335                        	
12336                        		.dbg	line,	"include\routines_LEVELS.c", 1839; }
12337    01:C91F             	.LL594:
12338                        	
12339                        		.dbg	line,	"include\routines_LEVELS.c", 1841; spr_y(player_pos_y+6);
12340                        		__ld.wm		_player_pos_y
         01:C91F  AD F9 24   			lda.l	_player_pos_y
         01:C922  AC FA 24   			ldy.h	_player_pos_y
12341                        		__add.wi	6
         01:C925  18         			clc
         01:C926  69 06      			adc.l	#6
         01:C928  90 01      			bcc	!+
         01:C92A  C8         			iny
         01:C92B             	!:
12342                        		__call		_spr_y.1
         01:C92B  20 2D E8   			call	_spr_y.1
12343                        	
12344                        		.dbg	line,	"include\routines_LEVELS.c", 1842; }
12345                        	
12346                        		.dbg	line,	"include\routines_LEVELS.c", 1844; else if(player_counter_attack == 7)
12347                        		__bra		.LL595
         01:C92E  4C 1D CB   			bra	.LL595
12348    01:C931             	.LL592:
12349                        		__ld.umq	_player_counter_attack
         01:C931  AD 1F 23   			lda	_player_counter_attack
12350                        		__equ_b.uiq	7
         01:C934  C9 07      			cmp	#7
         01:C936  F0 01      			beq	!+
         01:C938  18         			clc
         01:C939             	!:
12351                        		__bfalse	.LL596
         01:C939  90 66      			bcc	.LL596
12352                        	
12353                        		.dbg	line,	"include\routines_LEVELS.c", 1845; {
12354                        	
12355                        		.dbg	line,	"include\routines_LEVELS.c", 1846; spr_set(chain_id);
12356                        		__ld.umq	_chain_id
         01:C93B  AD 26 23   			lda	_chain_id
12357                        		__call		_spr_set.1
         01:C93E  20 F1 E7   			call	_spr_set.1
12358                        	
12359                        		.dbg	line,	"include\routines_LEVELS.c", 1847; spr_y(player_pos_y);
12360                        		__ld.wm		_player_pos_y
         01:C941  AD F9 24   			lda.l	_player_pos_y
         01:C944  AC FA 24   			ldy.h	_player_pos_y
12361                        		__call		_spr_y.1
         01:C947  20 2D E8   			call	_spr_y.1
12362                        	
12363                        		.dbg	line,	"include\routines_LEVELS.c", 1849; if(player_axis == AXIS_RIGHT)
12364                        		__not.um	_player_axis
         01:C94A  AD 1A 23   			lda	_player_axis
         01:C94D  18         			clc
         01:C94E  D0 01      			bne	!+
         01:C950  38         			sec
         01:C951             	!:
12365                        		__bfalse	.LL597
         01:C951  90 27      			bcc	.LL597
12366                        	
12367                        		.dbg	line,	"include\routines_LEVELS.c", 1850; {
12368                        	
12369                        		.dbg	line,	"include\routines_LEVELS.c", 1851; spr_x(player_pos_x+32);
12370                        		__ld.wm		_player_pos_x
         01:C953  AD F7 24   			lda.l	_player_pos_x
         01:C956  AC F8 24   			ldy.h	_player_pos_x
12371                        		__add.wi	32
         01:C959  18         			clc
         01:C95A  69 20      			adc.l	#32
         01:C95C  90 01      			bcc	!+
         01:C95E  C8         			iny
         01:C95F             	!:
12372                        		__call		_spr_x.1
         01:C95F  20 1E E8   			call	_spr_x.1
12373                        	
12374                        		.dbg	line,	"include\routines_LEVELS.c", 1853; spr_set(weapon_id);
12375                        		__ld.umq	_weapon_id
         01:C962  AD 27 23   			lda	_weapon_id
12376                        		__call		_spr_set.1
         01:C965  20 F1 E7   			call	_spr_set.1
12377                        	
12378                        		.dbg	line,	"include\routines_LEVELS.c", 1854; spr_x(player_pos_x+48);
12379                        		__ld.wm		_player_pos_x
         01:C968  AD F7 24   			lda.l	_player_pos_x
         01:C96B  AC F8 24   			ldy.h	_player_pos_x
12380                        		__add.wi	48
         01:C96E  18         			clc
         01:C96F  69 30      			adc.l	#48
         01:C971  90 01      			bcc	!+
         01:C973  C8         			iny
         01:C974             	!:
12381                        		__call		_spr_x.1
         01:C974  20 1E E8   			call	_spr_x.1
12382                        	
12383                        		.dbg	line,	"include\routines_LEVELS.c", 1855; }
12384                        	
12385                        		.dbg	line,	"include\routines_LEVELS.c", 1856; 
12386                        	
12387                        		.dbg	line,	"include\routines_LEVELS.c", 1857; else
12388                        		__bra		.LL598
         01:C977  4C 1D CB   			bra	.LL598
12389    01:C97A             	.LL597:
12390                        	
12391                        		.dbg	line,	"include\routines_LEVELS.c", 1858; {
12392                        	
12393                        		.dbg	line,	"include\routines_LEVELS.c", 1859; spr_x(player_pos_x-16);
12394                        		__ld.wm		_player_pos_x
         01:C97A  AD F7 24   			lda.l	_player_pos_x
         01:C97D  AC F8 24   			ldy.h	_player_pos_x
12395                        		__sub.wi	16
         01:C980  38         			sec
         01:C981  E9 10      			sbc.l	#16
         01:C983  B0 01      			bcs	!+
         01:C985  88         			dey
         01:C986             	!:
12396                        		__call		_spr_x.1
         01:C986  20 1E E8   			call	_spr_x.1
12397                        	
12398                        		.dbg	line,	"include\routines_LEVELS.c", 1861; spr_set(weapon_id);
12399                        		__ld.umq	_weapon_id
         01:C989  AD 27 23   			lda	_weapon_id
12400                        		__call		_spr_set.1
         01:C98C  20 F1 E7   			call	_spr_set.1
12401                        	
12402                        		.dbg	line,	"include\routines_LEVELS.c", 1862; spr_x(player_pos_x-32);
12403                        		__ld.wm		_player_pos_x
         01:C98F  AD F7 24   			lda.l	_player_pos_x
         01:C992  AC F8 24   			ldy.h	_player_pos_x
12404                        		__sub.wi	32
         01:C995  38         			sec
         01:C996  E9 20      			sbc.l	#32
         01:C998  B0 01      			bcs	!+
         01:C99A  88         			dey
         01:C99B             	!:
12405                        		__call		_spr_x.1
         01:C99B  20 1E E8   			call	_spr_x.1
12406                        	
12407                        		.dbg	line,	"include\routines_LEVELS.c", 1863; }
12408    01:C99E             	.LL598	.alias		.LL599
12409                        	
12410                        		.dbg	line,	"include\routines_LEVELS.c", 1864; }
12411                        	
12412                        		.dbg	line,	"include\routines_LEVELS.c", 1866; else if(player_counter_attack == 8)
12413                        		__bra		.LL599
         01:C99E  4C 1D CB   			bra	.LL599
12414    01:C9A1             	.LL596:
12415                        		__ld.umq	_player_counter_attack
         01:C9A1  AD 1F 23   			lda	_player_counter_attack
12416                        		__equ_b.uiq	8
         01:C9A4  C9 08      			cmp	#8
         01:C9A6  F0 01      			beq	!+
         01:C9A8  18         			clc
         01:C9A9             	!:
12417                        		__bfalse	.LL600
         01:C9A9  90 6B      			bcc	.LL600
12418                        	
12419                        		.dbg	line,	"include\routines_LEVELS.c", 1867; {
12420                        	
12421                        		.dbg	line,	"include\routines_LEVELS.c", 1868; spr_set(chain_id+1);
12422                        		__ld.um		_chain_id
         01:C9AB  AD 26 23   			lda	_chain_id
         01:C9AE  C2         			cly
12423                        		__add.wi	1
         01:C9AF  1A         			inc	a
         01:C9B0  D0 01      			bne	!+
         01:C9B2  C8         			iny
         01:C9B3             	!:
12424                        		__call		_spr_set.1
         01:C9B3  20 F1 E7   			call	_spr_set.1
12425                        	
12426                        		.dbg	line,	"include\routines_LEVELS.c", 1869; spr_y(player_pos_y);
12427                        		__ld.wm		_player_pos_y
         01:C9B6  AD F9 24   			lda.l	_player_pos_y
         01:C9B9  AC FA 24   			ldy.h	_player_pos_y
12428                        		__call		_spr_y.1
         01:C9BC  20 2D E8   			call	_spr_y.1
12429                        	
12430                        		.dbg	line,	"include\routines_LEVELS.c", 1871; if(player_axis == AXIS_RIGHT)
12431                        		__not.um	_player_axis
         01:C9BF  AD 1A 23   			lda	_player_axis
         01:C9C2  18         			clc
         01:C9C3  D0 01      			bne	!+
         01:C9C5  38         			sec
         01:C9C6             	!:
12432                        		__bfalse	.LL601
         01:C9C6  90 27      			bcc	.LL601
12433                        	
12434                        		.dbg	line,	"include\routines_LEVELS.c", 1872; {
12435                        	
12436                        		.dbg	line,	"include\routines_LEVELS.c", 1873; spr_x(player_pos_x+48);
12437                        		__ld.wm		_player_pos_x
         01:C9C8  AD F7 24   			lda.l	_player_pos_x
         01:C9CB  AC F8 24   			ldy.h	_player_pos_x
12438                        		__add.wi	48
         01:C9CE  18         			clc
         01:C9CF  69 30      			adc.l	#48
         01:C9D1  90 01      			bcc	!+
         01:C9D3  C8         			iny
         01:C9D4             	!:
12439                        		__call		_spr_x.1
         01:C9D4  20 1E E8   			call	_spr_x.1
12440                        	
12441                        		.dbg	line,	"include\routines_LEVELS.c", 1875; spr_set(weapon_id);
12442                        		__ld.umq	_weapon_id
         01:C9D7  AD 27 23   			lda	_weapon_id
12443                        		__call		_spr_set.1
         01:C9DA  20 F1 E7   			call	_spr_set.1
12444                        	
12445                        		.dbg	line,	"include\routines_LEVELS.c", 1876; spr_x(player_pos_x+64);
12446                        		__ld.wm		_player_pos_x
         01:C9DD  AD F7 24   			lda.l	_player_pos_x
         01:C9E0  AC F8 24   			ldy.h	_player_pos_x
12447                        		__add.wi	64
         01:C9E3  18         			clc
         01:C9E4  69 40      			adc.l	#64
         01:C9E6  90 01      			bcc	!+
         01:C9E8  C8         			iny
         01:C9E9             	!:
12448                        		__call		_spr_x.1
         01:C9E9  20 1E E8   			call	_spr_x.1
12449                        	
12450                        		.dbg	line,	"include\routines_LEVELS.c", 1877; }
12451                        	
12452                        		.dbg	line,	"include\routines_LEVELS.c", 1878; 
12453                        	
12454                        		.dbg	line,	"include\routines_LEVELS.c", 1879; else
12455                        		__bra		.LL602
         01:C9EC  4C 1D CB   			bra	.LL602
12456    01:C9EF             	.LL601:
12457                        	
12458                        		.dbg	line,	"include\routines_LEVELS.c", 1880; {
12459                        	
12460                        		.dbg	line,	"include\routines_LEVELS.c", 1881; spr_x(player_pos_x-32);
12461                        		__ld.wm		_player_pos_x
         01:C9EF  AD F7 24   			lda.l	_player_pos_x
         01:C9F2  AC F8 24   			ldy.h	_player_pos_x
12462                        		__sub.wi	32
         01:C9F5  38         			sec
         01:C9F6  E9 20      			sbc.l	#32
         01:C9F8  B0 01      			bcs	!+
         01:C9FA  88         			dey
         01:C9FB             	!:
12463                        		__call		_spr_x.1
         01:C9FB  20 1E E8   			call	_spr_x.1
12464                        	
12465                        		.dbg	line,	"include\routines_LEVELS.c", 1883; spr_set(weapon_id);
12466                        		__ld.umq	_weapon_id
         01:C9FE  AD 27 23   			lda	_weapon_id
12467                        		__call		_spr_set.1
         01:CA01  20 F1 E7   			call	_spr_set.1
12468                        	
12469                        		.dbg	line,	"include\routines_LEVELS.c", 1884; spr_x(player_pos_x-48);
12470                        		__ld.wm		_player_pos_x
         01:CA04  AD F7 24   			lda.l	_player_pos_x
         01:CA07  AC F8 24   			ldy.h	_player_pos_x
12471                        		__sub.wi	48
         01:CA0A  38         			sec
         01:CA0B  E9 30      			sbc.l	#48
         01:CA0D  B0 01      			bcs	!+
         01:CA0F  88         			dey
         01:CA10             	!:
12472                        		__call		_spr_x.1
         01:CA10  20 1E E8   			call	_spr_x.1
12473                        	
12474                        		.dbg	line,	"include\routines_LEVELS.c", 1885; }
12475    01:CA13             	.LL602	.alias		.LL603
12476                        	
12477                        		.dbg	line,	"include\routines_LEVELS.c", 1886; }
12478                        	
12479                        		.dbg	line,	"include\routines_LEVELS.c", 1888; else if(player_counter_attack == 9)
12480                        		__bra		.LL603
         01:CA13  4C 1D CB   			bra	.LL603
12481    01:CA16             	.LL600:
12482                        		__ld.umq	_player_counter_attack
         01:CA16  AD 1F 23   			lda	_player_counter_attack
12483                        		__equ_b.uiq	9
         01:CA19  C9 09      			cmp	#9
         01:CA1B  F0 01      			beq	!+
         01:CA1D  18         			clc
         01:CA1E             	!:
12484                        		__bfalse	.LL604
         01:CA1E  90 6D      			bcc	.LL604
12485                        	
12486                        		.dbg	line,	"include\routines_LEVELS.c", 1889; {
12487                        	
12488                        		.dbg	line,	"include\routines_LEVELS.c", 1890; spr_set(chain_id+2);
12489                        		__ld.um		_chain_id
         01:CA20  AD 26 23   			lda	_chain_id
         01:CA23  C2         			cly
12490                        		__add.wi	2
         01:CA24  18         			clc
         01:CA25  69 02      			adc.l	#2
         01:CA27  90 01      			bcc	!+
         01:CA29  C8         			iny
         01:CA2A             	!:
12491                        		__call		_spr_set.1
         01:CA2A  20 F1 E7   			call	_spr_set.1
12492                        	
12493                        		.dbg	line,	"include\routines_LEVELS.c", 1891; spr_y(player_pos_y);
12494                        		__ld.wm		_player_pos_y
         01:CA2D  AD F9 24   			lda.l	_player_pos_y
         01:CA30  AC FA 24   			ldy.h	_player_pos_y
12495                        		__call		_spr_y.1
         01:CA33  20 2D E8   			call	_spr_y.1
12496                        	
12497                        		.dbg	line,	"include\routines_LEVELS.c", 1893; if(player_axis == AXIS_RIGHT)
12498                        		__not.um	_player_axis
         01:CA36  AD 1A 23   			lda	_player_axis
         01:CA39  18         			clc
         01:CA3A  D0 01      			bne	!+
         01:CA3C  38         			sec
         01:CA3D             	!:
12499                        		__bfalse	.LL605
         01:CA3D  90 27      			bcc	.LL605
12500                        	
12501                        		.dbg	line,	"include\routines_LEVELS.c", 1894; {
12502                        	
12503                        		.dbg	line,	"include\routines_LEVELS.c", 1895; spr_x(player_pos_x+64);
12504                        		__ld.wm		_player_pos_x
         01:CA3F  AD F7 24   			lda.l	_player_pos_x
         01:CA42  AC F8 24   			ldy.h	_player_pos_x
12505                        		__add.wi	64
         01:CA45  18         			clc
         01:CA46  69 40      			adc.l	#64
         01:CA48  90 01      			bcc	!+
         01:CA4A  C8         			iny
         01:CA4B             	!:
12506                        		__call		_spr_x.1
         01:CA4B  20 1E E8   			call	_spr_x.1
12507                        	
12508                        		.dbg	line,	"include\routines_LEVELS.c", 1897; spr_set(weapon_id);
12509                        		__ld.umq	_weapon_id
         01:CA4E  AD 27 23   			lda	_weapon_id
12510                        		__call		_spr_set.1
         01:CA51  20 F1 E7   			call	_spr_set.1
12511                        	
12512                        		.dbg	line,	"include\routines_LEVELS.c", 1898; spr_x(player_pos_x+80);
12513                        		__ld.wm		_player_pos_x
         01:CA54  AD F7 24   			lda.l	_player_pos_x
         01:CA57  AC F8 24   			ldy.h	_player_pos_x
12514                        		__add.wi	80
         01:CA5A  18         			clc
         01:CA5B  69 50      			adc.l	#80
         01:CA5D  90 01      			bcc	!+
         01:CA5F  C8         			iny
         01:CA60             	!:
12515                        		__call		_spr_x.1
         01:CA60  20 1E E8   			call	_spr_x.1
12516                        	
12517                        		.dbg	line,	"include\routines_LEVELS.c", 1899; }
12518                        	
12519                        		.dbg	line,	"include\routines_LEVELS.c", 1900; 
12520                        	
12521                        		.dbg	line,	"include\routines_LEVELS.c", 1901; else
12522                        		__bra		.LL606
         01:CA63  4C 1D CB   			bra	.LL606
12523    01:CA66             	.LL605:
12524                        	
12525                        		.dbg	line,	"include\routines_LEVELS.c", 1902; {
12526                        	
12527                        		.dbg	line,	"include\routines_LEVELS.c", 1903; spr_x(player_pos_x-48);
12528                        		__ld.wm		_player_pos_x
         01:CA66  AD F7 24   			lda.l	_player_pos_x
         01:CA69  AC F8 24   			ldy.h	_player_pos_x
12529                        		__sub.wi	48
         01:CA6C  38         			sec
         01:CA6D  E9 30      			sbc.l	#48
         01:CA6F  B0 01      			bcs	!+
         01:CA71  88         			dey
         01:CA72             	!:
12530                        		__call		_spr_x.1
         01:CA72  20 1E E8   			call	_spr_x.1
12531                        	
12532                        		.dbg	line,	"include\routines_LEVELS.c", 1905; spr_set(weapon_id);
12533                        		__ld.umq	_weapon_id
         01:CA75  AD 27 23   			lda	_weapon_id
12534                        		__call		_spr_set.1
         01:CA78  20 F1 E7   			call	_spr_set.1
12535                        	
12536                        		.dbg	line,	"include\routines_LEVELS.c", 1906; spr_x(player_pos_x-64);
12537                        		__ld.wm		_player_pos_x
         01:CA7B  AD F7 24   			lda.l	_player_pos_x
         01:CA7E  AC F8 24   			ldy.h	_player_pos_x
12538                        		__sub.wi	64
         01:CA81  38         			sec
         01:CA82  E9 40      			sbc.l	#64
         01:CA84  B0 01      			bcs	!+
         01:CA86  88         			dey
         01:CA87             	!:
12539                        		__call		_spr_x.1
         01:CA87  20 1E E8   			call	_spr_x.1
12540                        	
12541                        		.dbg	line,	"include\routines_LEVELS.c", 1907; }
12542    01:CA8A             	.LL606	.alias		.LL607
12543                        	
12544                        		.dbg	line,	"include\routines_LEVELS.c", 1908; }
12545                        	
12546                        		.dbg	line,	"include\routines_LEVELS.c", 1910; else if(player_counter_attack == 23)
12547                        		__bra		.LL607
         01:CA8A  4C 1D CB   			bra	.LL607
12548    01:CA8D             	.LL604:
12549                        		__ld.umq	_player_counter_attack
         01:CA8D  AD 1F 23   			lda	_player_counter_attack
12550                        		__equ_b.uiq	23
         01:CA90  C9 17      			cmp	#23
         01:CA92  F0 01      			beq	!+
         01:CA94  18         			clc
         01:CA95             	!:
12551                        		__bfalse	.LL608
         01:CA95  B0 03 4C 1D			bcc	.LL608
         01:CA99  CB          
12552                        	
12553                        		.dbg	line,	"include\routines_LEVELS.c", 1911; {
12554                        	
12555                        		.dbg	line,	"include\routines_LEVELS.c", 1912; spr_set(chain_id);
12556                        		__ld.umq	_chain_id
         01:CA9A  AD 26 23   			lda	_chain_id
12557                        		__call		_spr_set.1
         01:CA9D  20 F1 E7   			call	_spr_set.1
12558                        	
12559                        		.dbg	line,	"include\routines_LEVELS.c", 1913; spr_hide();
12560                        		__call		_spr_hide
         01:CAA0  20 0C E8   			call	_spr_hide
12561                        	
12562                        		.dbg	line,	"include\routines_LEVELS.c", 1915; spr_set(chain_id+1);
12563                        		__ld.um		_chain_id
         01:CAA3  AD 26 23   			lda	_chain_id
         01:CAA6  C2         			cly
12564                        		__add.wi	1
         01:CAA7  1A         			inc	a
         01:CAA8  D0 01      			bne	!+
         01:CAAA  C8         			iny
         01:CAAB             	!:
12565                        		__call		_spr_set.1
         01:CAAB  20 F1 E7   			call	_spr_set.1
12566                        	
12567                        		.dbg	line,	"include\routines_LEVELS.c", 1916; spr_hide();
12568                        		__call		_spr_hide
         01:CAAE  20 0C E8   			call	_spr_hide
12569                        	
12570                        		.dbg	line,	"include\routines_LEVELS.c", 1918; spr_set(chain_id+2);
12571                        		__ld.um		_chain_id
         01:CAB1  AD 26 23   			lda	_chain_id
         01:CAB4  C2         			cly
12572                        		__add.wi	2
         01:CAB5  18         			clc
         01:CAB6  69 02      			adc.l	#2
         01:CAB8  90 01      			bcc	!+
         01:CABA  C8         			iny
         01:CABB             	!:
12573                        		__call		_spr_set.1
         01:CABB  20 F1 E7   			call	_spr_set.1
12574                        	
12575                        		.dbg	line,	"include\routines_LEVELS.c", 1919; spr_hide();
12576                        		__call		_spr_hide
         01:CABE  20 0C E8   			call	_spr_hide
12577                        	
12578                        		.dbg	line,	"include\routines_LEVELS.c", 1921; spr_set(player_id);
12579                        		__ld.umq	_player_id
         01:CAC1  AD 18 23   			lda	_player_id
12580                        		__call		_spr_set.1
         01:CAC4  20 F1 E7   			call	_spr_set.1
12581                        	
12582                        		.dbg	line,	"include\routines_LEVELS.c", 1922; spr_pattern(PLAYER_HANG_VRAM_ADR);
12583                        		__ld.wi		8448
         01:CAC7  62         			cla
         01:CAC8  A0 21      			ldy.h	#8448
12584                        		__call		_spr_pattern.1
         01:CACA  20 3A E8   			call	_spr_pattern.1
12585                        	
12586                        		.dbg	line,	"include\routines_LEVELS.c", 1924; spr_set(weapon_id);
12587                        		__ld.umq	_weapon_id
         01:CACD  AD 27 23   			lda	_weapon_id
12588                        		__call		_spr_set.1
         01:CAD0  20 F1 E7   			call	_spr_set.1
12589                        	
12590                        		.dbg	line,	"include\routines_LEVELS.c", 1925; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
12591                        		__ld.wi		31808
         01:CAD3  A9 40      			lda.l	#31808
         01:CAD5  A0 7C      			ldy.h	#31808
12592                        		__call		_spr_pattern.1
         01:CAD7  20 3A E8   			call	_spr_pattern.1
12593                        	
12594                        		.dbg	line,	"include\routines_LEVELS.c", 1926; spr_y(player_pos_y+5);
12595                        		__ld.wm		_player_pos_y
         01:CADA  AD F9 24   			lda.l	_player_pos_y
         01:CADD  AC FA 24   			ldy.h	_player_pos_y
12596                        		__add.wi	5
         01:CAE0  18         			clc
         01:CAE1  69 05      			adc.l	#5
         01:CAE3  90 01      			bcc	!+
         01:CAE5  C8         			iny
         01:CAE6             	!:
12597                        		__call		_spr_y.1
         01:CAE6  20 2D E8   			call	_spr_y.1
12598                        	
12599                        		.dbg	line,	"include\routines_LEVELS.c", 1928; if(player_axis == AXIS_RIGHT)
12600                        		__not.um	_player_axis
         01:CAE9  AD 1A 23   			lda	_player_axis
         01:CAEC  18         			clc
         01:CAED  D0 01      			bne	!+
         01:CAEF  38         			sec
         01:CAF0             	!:
12601                        		__bfalse	.LL609
         01:CAF0  90 11      			bcc	.LL609
12602                        	
12603                        		.dbg	line,	"include\routines_LEVELS.c", 1929; {
12604                        	
12605                        		.dbg	line,	"include\routines_LEVELS.c", 1930; spr_x(player_pos_x+17);
12606                        		__ld.wm		_player_pos_x
         01:CAF2  AD F7 24   			lda.l	_player_pos_x
         01:CAF5  AC F8 24   			ldy.h	_player_pos_x
12607                        		__add.wi	17
         01:CAF8  18         			clc
         01:CAF9  69 11      			adc.l	#17
         01:CAFB  90 01      			bcc	!+
         01:CAFD  C8         			iny
         01:CAFE             	!:
12608                        		__call		_spr_x.1
         01:CAFE  20 1E E8   			call	_spr_x.1
12609                        	
12610                        		.dbg	line,	"include\routines_LEVELS.c", 1931; }
12611                        	
12612                        		.dbg	line,	"include\routines_LEVELS.c", 1933; else
12613                        		__bra		.LL610
         01:CB01  80 0F      			bra	.LL610
12614    01:CB03             	.LL609:
12615                        	
12616                        		.dbg	line,	"include\routines_LEVELS.c", 1934; {
12617                        	
12618                        		.dbg	line,	"include\routines_LEVELS.c", 1935; spr_x(player_pos_x-2);
12619                        		__ld.wm		_player_pos_x
         01:CB03  AD F7 24   			lda.l	_player_pos_x
         01:CB06  AC F8 24   			ldy.h	_player_pos_x
12620                        		__sub.wi	2
         01:CB09  38         			sec
         01:CB0A  E9 02      			sbc.l	#2
         01:CB0C  B0 01      			bcs	!+
         01:CB0E  88         			dey
         01:CB0F             	!:
12621                        		__call		_spr_x.1
         01:CB0F  20 1E E8   			call	_spr_x.1
12622                        	
12623                        		.dbg	line,	"include\routines_LEVELS.c", 1936; }
12624    01:CB12             	.LL610:
12625                        	
12626                        		.dbg	line,	"include\routines_LEVELS.c", 1938; player_attack = FALSE;
12627                        		__st.umiq	0, _player_attack
         01:CB12  9C 21 23   			stz	_player_attack
12628                        	
12629                        		.dbg	line,	"include\routines_LEVELS.c", 1939; player_counter_attack = 0;
12630                        		__st.umiq	0, _player_counter_attack
         01:CB15  9C 1F 23   			stz	_player_counter_attack
12631                        	
12632                        		.dbg	line,	"include\routines_LEVELS.c", 1940; player_state = STATE_HANG;
12633                        		__st.umiq	10, _player_state
         01:CB18  A9 0A      			lda.l	#10
         01:CB1A  8D 19 23   			sta	_player_state
12634                        	
12635                        		.dbg	line,	"include\routines_LEVELS.c", 1941; }
12636                        	
12637                        		.dbg	line,	"include\routines_LEVELS.c", 1944; player_counter_attack += 1;
12638    01:CB1D             	.LL608:
12639    01:CB1D             	.LL607:
12640    01:CB1D             	.LL603:
12641    01:CB1D             	.LL599:
12642    01:CB1D             	.LL595:
12643    01:CB1D             	.LL591:
12644                        		__add_st.umiq	1, _player_counter_attack
         01:CB1D  EE 1F 23   			inc	_player_counter_attack
12645                        	
12646                        		.dbg	line,	"include\routines_LEVELS.c", 1945; }
12647    01:CB20             	.LL587:
12648                        	
12649                        		.dbg	line,	"include\routines_LEVELS.c", 1947; spr_set(player_id);
12650                        		__ld.umq	_player_id
         01:CB20  AD 18 23   			lda	_player_id
12651                        		__call		_spr_set.1
         01:CB23  20 F1 E7   			call	_spr_set.1
12652                        	
12653                        		.dbg	line,	"include\routines_LEVELS.c", 1948; spr_y(player_pos_y);
12654                        		__ld.wm		_player_pos_y
         01:CB26  AD F9 24   			lda.l	_player_pos_y
         01:CB29  AC FA 24   			ldy.h	_player_pos_y
12655                        		__call		_spr_y.1
         01:CB2C  20 2D E8   			call	_spr_y.1
12656                        	
12657                        		.dbg	line,	"include\routines_LEVELS.c", 1952; if(player_index_jump < 34)
12658                        		__ld.umq	_player_index_jump
         01:CB2F  AD 1D 23   			lda	_player_index_jump
12659                        		__ult_b.uiq	34
         01:CB32  C9 22      			cmp	#34		; Subtract integer from A.
         01:CB34  6A         			ror	a		; CC if A < integer.
         01:CB35  49 80      			eor	#$80
         01:CB37  2A         			rol	a
12660                        		__bfalse	.LL611
         01:CB38  90 03      			bcc	.LL611
12661                        	
12662                        		.dbg	line,	"include\routines_LEVELS.c", 1953; {
12663                        	
12664                        		.dbg	line,	"include\routines_LEVELS.c", 1954; player_index_jump += 1;
12665                        		__add_st.umiq	1, _player_index_jump
         01:CB3A  EE 1D 23   			inc	_player_index_jump
12666                        	
12667                        		.dbg	line,	"include\routines_LEVELS.c", 1955; }
12668                        	
12669                        		.dbg	line,	"include\routines_LEVELS.c", 1960; //--------------------------------------------------------------------------------------//
12670                        	
12671                        		.dbg	line,	"include\routines_LEVELS.c", 1961; //                                   FLOOR COLLISION                                    //
12672                        	
12673                        		.dbg	line,	"include\routines_LEVELS.c", 1962; //--------------------------------------------------------------------------------------//
12674                        	
12675                        		.dbg	line,	"include\routines_LEVELS.c", 1964; if(player_index_jump > 14)
12676    01:CB3D             	.LL611:
12677                        		__ld.umq	_player_index_jump
         01:CB3D  AD 1D 23   			lda	_player_index_jump
12678                        		__ugt_b.uiq	14
         01:CB40  18         			clc			; Subtract integer+1 from A.
         01:CB41  E9 0E      			sbc	#14		; CS if A > integer.
12679                        		__bfalse	.LL612
         01:CB43  B0 03 4C 04			bcc	.LL612
         01:CB47  CD          
12680                        	
12681                        		.dbg	line,	"include\routines_LEVELS.c", 1965; {
12682                        	
12683                        		.dbg	line,	"include\routines_LEVELS.c", 1966; // CHECK COLLISION WITH LEFT FLOOR //
12684                        	
12685                        		.dbg	line,	"include\routines_LEVELS.c", 1967; collision_PLAYER_BG( 10 , 32 );
12686                        		__ld.wi		10
         01:CB48  A9 0A      			lda.l	#10
         01:CB4A  C2         			cly
12687                        		__pusharg.wr
         01:CB4B  A6 8D      			ldx	<__sp
         01:CB4D  CA         			dex
         01:CB4E  CA         			dex
         01:CB4F  95 08      			sta.l	<__stack, x
         01:CB51  94 09      			sty.h	<__stack, x
         01:CB53  86 8D      			stx	<__sp
12688                        		__ld.wi		32
         01:CB55  A9 20      			lda.l	#32
         01:CB57  C2         			cly
12689                        		__pusharg.wr
         01:CB58  A6 8D      			ldx	<__sp
         01:CB5A  CA         			dex
         01:CB5B  CA         			dex
         01:CB5C  95 08      			sta.l	<__stack, x
         01:CB5E  94 09      			sty.h	<__stack, x
         01:CB60  86 8D      			stx	<__sp
12690                        		__call		_collision_PLAYER_BG
         01:CB62  20 27 FF   			call	_collision_PLAYER_BG
12691                        	
12692                        		.dbg	line,	"include\routines_LEVELS.c", 1969; // IF PLAYER TOUCHES THE GROUND TO THE LEFT //
12693                        	
12694                        		.dbg	line,	"include\routines_LEVELS.c", 1970; if(map_blk_flag == TILE_BG)
12695                        		__ld.umq	_map_blk_flag
         01:CB65  AD FB 2B   			lda	_map_blk_flag
12696                        		__equ_b.uiq	1
         01:CB68  C9 01      			cmp	#1
         01:CB6A  F0 01      			beq	!+
         01:CB6C  18         			clc
         01:CB6D             	!:
12697                        		__bfalse	.LL613
         01:CB6D  B0 03 4C 26			bcc	.LL613
         01:CB71  CC          
12698                        	
12699                        		.dbg	line,	"include\routines_LEVELS.c", 1971; {
12700                        	
12701                        		.dbg	line,	"include\routines_LEVELS.c", 1972; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
12702                        	
12703                        		.dbg	line,	"include\routines_LEVELS.c", 1973; for(i=1; i<11 ; i++ )
12704                        		__st.umiq	1, __update_PLAYER_end - 1  /* i */
         01:CB72  A9 01      			lda.l	#1
         01:CB74  8D 0C 23   			sta	__update_PLAYER_end - 1
12705    01:CB77             	.LL614:
12706                        		__ld.umq	__update_PLAYER_end - 1  /* i */
         01:CB77  AD 0C 23   			lda	__update_PLAYER_end - 1
12707                        		__ult_b.uiq	11
         01:CB7A  C9 0B      			cmp	#11		; Subtract integer from A.
         01:CB7C  6A         			ror	a		; CC if A < integer.
         01:CB7D  49 80      			eor	#$80
         01:CB7F  2A         			rol	a
12708                        		__btrue		.LL616
         01:CB80  B0 07      			bcs	.LL616
12709                        		__bra		.LL617
         01:CB82  80 5B      			bra	.LL617
12710    01:CB84             	.LL615:
12711                        		__inc.umq	__update_PLAYER_end - 1  /* i */
         01:CB84  EE 0C 23   			inc	__update_PLAYER_end - 1
12712                        		__bra		.LL614
         01:CB87  80 EE      			bra	.LL614
12713    01:CB89             	.LL616:
12714                        	
12715                        		.dbg	line,	"include\routines_LEVELS.c", 1974; {
12716                        	
12717                        		.dbg	line,	"include\routines_LEVELS.c", 1975; check_TILE_DEPTH( 10 , i);
12718                        		__ld.wi		10
         01:CB89  A9 0A      			lda.l	#10
         01:CB8B  C2         			cly
12719                        		__pusharg.wr
         01:CB8C  A6 8D      			ldx	<__sp
         01:CB8E  CA         			dex
         01:CB8F  CA         			dex
         01:CB90  95 08      			sta.l	<__stack, x
         01:CB92  94 09      			sty.h	<__stack, x
         01:CB94  86 8D      			stx	<__sp
12720                        		__ld.um		__update_PLAYER_end - 1  /* i */
         01:CB96  AD 0C 23   			lda	__update_PLAYER_end - 1
         01:CB99  C2         			cly
12721                        		__pusharg.wr
         01:CB9A  A6 8D      			ldx	<__sp
         01:CB9C  CA         			dex
         01:CB9D  CA         			dex
         01:CB9E  95 08      			sta.l	<__stack, x
         01:CBA0  94 09      			sty.h	<__stack, x
         01:CBA2  86 8D      			stx	<__sp
12722                        		__call		_check_TILE_DEPTH
         01:CBA4  20 13 FF   			call	_check_TILE_DEPTH
12723                        	
12724                        		.dbg	line,	"include\routines_LEVELS.c", 1977; if(map_blk_flag == TILE_EMPTY)
12725                        		__not.um	_map_blk_flag
         01:CBA7  AD FB 2B   			lda	_map_blk_flag
         01:CBAA  18         			clc
         01:CBAB  D0 01      			bne	!+
         01:CBAD  38         			sec
         01:CBAE             	!:
12726                        		__bfalse	.LL618
         01:CBAE  90 D4      			bcc	.LL618
12727                        	
12728                        		.dbg	line,	"include\routines_LEVELS.c", 1978; {
12729                        	
12730                        		.dbg	line,	"include\routines_LEVELS.c", 1979; //spr_set(player_id);
12731                        	
12732                        		.dbg	line,	"include\routines_LEVELS.c", 1980; spr_pattern(PLAYER_IDLE_VRAM_ADR);
12733                        		__ld.wi		6144
         01:CBB0  62         			cla
         01:CBB1  A0 18      			ldy.h	#6144
12734                        		__call		_spr_pattern.1
         01:CBB3  20 3A E8   			call	_spr_pattern.1
12735                        	
12736                        		.dbg	line,	"include\routines_LEVELS.c", 1981; player_pos_y -= (i - 1);
12737                        		__ld.um		__update_PLAYER_end - 1  /* i */
         01:CBB6  AD 0C 23   			lda	__update_PLAYER_end - 1
         01:CBB9  C2         			cly
12738                        		__sub.wi	1
         01:CBBA  38         			sec
         01:CBBB  E9 01      			sbc.l	#1
         01:CBBD  B0 01      			bcs	!+
         01:CBBF  88         			dey
         01:CBC0             	!:
12739                        		__isub_st.wmq	_player_pos_y
         01:CBC0  38         			sec
         01:CBC1  49 FF      			eor	#$FF
         01:CBC3  6D F9 24   			adc.l	_player_pos_y
         01:CBC6  8D F9 24   			sta.l	_player_pos_y
         01:CBC9  98         			tya
         01:CBCA  49 FF      			eor	#$FF
         01:CBCC  6D FA 24   			adc.h	_player_pos_y
         01:CBCF  8D FA 24   			sta.h	_player_pos_y
12740                        	
12741                        		.dbg	line,	"include\routines_LEVELS.c", 1982; spr_y(player_pos_y);
12742                        		__ld.wm		_player_pos_y
         01:CBD2  AD F9 24   			lda.l	_player_pos_y
         01:CBD5  AC FA 24   			ldy.h	_player_pos_y
12743                        		__call		_spr_y.1
         01:CBD8  20 2D E8   			call	_spr_y.1
12744                        	
12745                        		.dbg	line,	"include\routines_LEVELS.c", 1983; break;
12746                        		__bra		.LL617
         01:CBDB  80 02      			bra	.LL617
12747                        	
12748                        		.dbg	line,	"include\routines_LEVELS.c", 1984; }
12749                        	
12750                        		.dbg	line,	"include\routines_LEVELS.c", 1986; }
12751    01:CBDD             	.LL618	.alias		.LL615
12752                        		__bra		.LL615
         01:CBDD  80 A5      			bra	.LL615
12753    01:CBDF             	.LL617:
12754                        	
12755                        		.dbg	line,	"include\routines_LEVELS.c", 1988; if(player_attack == FALSE)
12756                        		__not.um	_player_attack
         01:CBDF  AD 21 23   			lda	_player_attack
         01:CBE2  18         			clc
         01:CBE3  D0 01      			bne	!+
         01:CBE5  38         			sec
         01:CBE6             	!:
12757                        		__bfalse	.LL619
         01:CBE6  90 24      			bcc	.LL619
12758                        	
12759                        		.dbg	line,	"include\routines_LEVELS.c", 1989; {
12760                        	
12761                        		.dbg	line,	"include\routines_LEVELS.c", 1990; spr_set(weapon_id);
12762                        		__ld.umq	_weapon_id
         01:CBE8  AD 27 23   			lda	_weapon_id
12763                        		__call		_spr_set.1
         01:CBEB  20 F1 E7   			call	_spr_set.1
12764                        	
12765                        		.dbg	line,	"include\routines_LEVELS.c", 1991; spr_x(player_pos_x+8);
12766                        		__ld.wm		_player_pos_x
         01:CBEE  AD F7 24   			lda.l	_player_pos_x
         01:CBF1  AC F8 24   			ldy.h	_player_pos_x
12767                        		__add.wi	8
         01:CBF4  18         			clc
         01:CBF5  69 08      			adc.l	#8
         01:CBF7  90 01      			bcc	!+
         01:CBF9  C8         			iny
         01:CBFA             	!:
12768                        		__call		_spr_x.1
         01:CBFA  20 1E E8   			call	_spr_x.1
12769                        	
12770                        		.dbg	line,	"include\routines_LEVELS.c", 1992; spr_y(player_pos_y+16);
12771                        		__ld.wm		_player_pos_y
         01:CBFD  AD F9 24   			lda.l	_player_pos_y
         01:CC00  AC FA 24   			ldy.h	_player_pos_y
12772                        		__add.wi	16
         01:CC03  18         			clc
         01:CC04  69 10      			adc.l	#16
         01:CC06  90 01      			bcc	!+
         01:CC08  C8         			iny
         01:CC09             	!:
12773                        		__call		_spr_y.1
         01:CC09  20 2D E8   			call	_spr_y.1
12774                        	
12775                        		.dbg	line,	"include\routines_LEVELS.c", 1993; }
12776                        	
12777                        		.dbg	line,	"include\routines_LEVELS.c", 1995; player_counter_anim = 1;
12778    01:CC0C             	.LL619:
12779                        		__st.umiq	1, _player_counter_anim
         01:CC0C  A9 01      			lda.l	#1
         01:CC0E  8D 1C 23   			sta	_player_counter_anim
12780                        	
12781                        		.dbg	line,	"include\routines_LEVELS.c", 1996; player_index_jump = 0;
12782                        		__st.umiq	0, _player_index_jump
         01:CC11  9C 1D 23   			stz	_player_index_jump
12783                        	
12784                        		.dbg	line,	"include\routines_LEVELS.c", 1997; //hit_wall = FALSE;
12785                        	
12786                        		.dbg	line,	"include\routines_LEVELS.c", 1999; if(player_attack == FALSE)
12787                        		__not.um	_player_attack
         01:CC14  AD 21 23   			lda	_player_attack
         01:CC17  18         			clc
         01:CC18  D0 01      			bne	!+
         01:CC1A  38         			sec
         01:CC1B             	!:
12788                        		__bfalse	.LL620
         01:CC1B  B0 03 4C DA			bcc	.LL620
         01:CC1F  DC          
12789                        	
12790                        		.dbg	line,	"include\routines_LEVELS.c", 2000; {
12791                        	
12792                        		.dbg	line,	"include\routines_LEVELS.c", 2001; player_state = STATE_IDLE;
12793                        		__st.umiq	0, _player_state
         01:CC20  9C 19 23   			stz	_player_state
12794                        	
12795                        		.dbg	line,	"include\routines_LEVELS.c", 2002; }
12796                        	
12797                        		.dbg	line,	"include\routines_LEVELS.c", 2003; 
12798                        	
12799                        		.dbg	line,	"include\routines_LEVELS.c", 2004; return;
12800    01:CC23             	.LL620	.alias		.LL529
12801                        		__bra		.LL529
         01:CC23  4C DA DC   			bra	.LL529
12802                        	
12803                        		.dbg	line,	"include\routines_LEVELS.c", 2005; }
12804                        	
12805                        		.dbg	line,	"include\routines_LEVELS.c", 2007; // IF PLAYER TOUCHES THE GROUND TO THE RIGHT //
12806                        	
12807                        		.dbg	line,	"include\routines_LEVELS.c", 2008; else
12808    01:CC26             	.LL613:
12809                        	
12810                        		.dbg	line,	"include\routines_LEVELS.c", 2009; {
12811                        	
12812                        		.dbg	line,	"include\routines_LEVELS.c", 2010; // CHECK COLLISION WITH RIGHT FLOOR //
12813                        	
12814                        		.dbg	line,	"include\routines_LEVELS.c", 2011; collision_PLAYER_BG( 22 , 32 );
12815                        		__ld.wi		22
         01:CC26  A9 16      			lda.l	#22
         01:CC28  C2         			cly
12816                        		__pusharg.wr
         01:CC29  A6 8D      			ldx	<__sp
         01:CC2B  CA         			dex
         01:CC2C  CA         			dex
         01:CC2D  95 08      			sta.l	<__stack, x
         01:CC2F  94 09      			sty.h	<__stack, x
         01:CC31  86 8D      			stx	<__sp
12817                        		__ld.wi		32
         01:CC33  A9 20      			lda.l	#32
         01:CC35  C2         			cly
12818                        		__pusharg.wr
         01:CC36  A6 8D      			ldx	<__sp
         01:CC38  CA         			dex
         01:CC39  CA         			dex
         01:CC3A  95 08      			sta.l	<__stack, x
         01:CC3C  94 09      			sty.h	<__stack, x
         01:CC3E  86 8D      			stx	<__sp
12819                        		__call		_collision_PLAYER_BG
         01:CC40  20 27 FF   			call	_collision_PLAYER_BG
12820                        	
12821                        		.dbg	line,	"include\routines_LEVELS.c", 2013; if(map_blk_flag == TILE_BG)
12822                        		__ld.umq	_map_blk_flag
         01:CC43  AD FB 2B   			lda	_map_blk_flag
12823                        		__equ_b.uiq	1
         01:CC46  C9 01      			cmp	#1
         01:CC48  F0 01      			beq	!+
         01:CC4A  18         			clc
         01:CC4B             	!:
12824                        		__bfalse	.LL622
         01:CC4B  B0 03 4C 04			bcc	.LL622
         01:CC4F  CD          
12825                        	
12826                        		.dbg	line,	"include\routines_LEVELS.c", 2014; {
12827                        	
12828                        		.dbg	line,	"include\routines_LEVELS.c", 2015; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
12829                        	
12830                        		.dbg	line,	"include\routines_LEVELS.c", 2016; for(i=1; i<11 ; i++ )
12831                        		__st.umiq	1, __update_PLAYER_end - 1  /* i */
         01:CC50  A9 01      			lda.l	#1
         01:CC52  8D 0C 23   			sta	__update_PLAYER_end - 1
12832    01:CC55             	.LL623:
12833                        		__ld.umq	__update_PLAYER_end - 1  /* i */
         01:CC55  AD 0C 23   			lda	__update_PLAYER_end - 1
12834                        		__ult_b.uiq	11
         01:CC58  C9 0B      			cmp	#11		; Subtract integer from A.
         01:CC5A  6A         			ror	a		; CC if A < integer.
         01:CC5B  49 80      			eor	#$80
         01:CC5D  2A         			rol	a
12835                        		__btrue		.LL625
         01:CC5E  B0 07      			bcs	.LL625
12836                        		__bra		.LL626
         01:CC60  80 5B      			bra	.LL626
12837    01:CC62             	.LL624:
12838                        		__inc.umq	__update_PLAYER_end - 1  /* i */
         01:CC62  EE 0C 23   			inc	__update_PLAYER_end - 1
12839                        		__bra		.LL623
         01:CC65  80 EE      			bra	.LL623
12840    01:CC67             	.LL625:
12841                        	
12842                        		.dbg	line,	"include\routines_LEVELS.c", 2017; {
12843                        	
12844                        		.dbg	line,	"include\routines_LEVELS.c", 2018; check_TILE_DEPTH( 22 , i);
12845                        		__ld.wi		22
         01:CC67  A9 16      			lda.l	#22
         01:CC69  C2         			cly
12846                        		__pusharg.wr
         01:CC6A  A6 8D      			ldx	<__sp
         01:CC6C  CA         			dex
         01:CC6D  CA         			dex
         01:CC6E  95 08      			sta.l	<__stack, x
         01:CC70  94 09      			sty.h	<__stack, x
         01:CC72  86 8D      			stx	<__sp
12847                        		__ld.um		__update_PLAYER_end - 1  /* i */
         01:CC74  AD 0C 23   			lda	__update_PLAYER_end - 1
         01:CC77  C2         			cly
12848                        		__pusharg.wr
         01:CC78  A6 8D      			ldx	<__sp
         01:CC7A  CA         			dex
         01:CC7B  CA         			dex
         01:CC7C  95 08      			sta.l	<__stack, x
         01:CC7E  94 09      			sty.h	<__stack, x
         01:CC80  86 8D      			stx	<__sp
12849                        		__call		_check_TILE_DEPTH
         01:CC82  20 13 FF   			call	_check_TILE_DEPTH
12850                        	
12851                        		.dbg	line,	"include\routines_LEVELS.c", 2020; if(map_blk_flag == TILE_EMPTY)
12852                        		__not.um	_map_blk_flag
         01:CC85  AD FB 2B   			lda	_map_blk_flag
         01:CC88  18         			clc
         01:CC89  D0 01      			bne	!+
         01:CC8B  38         			sec
         01:CC8C             	!:
12853                        		__bfalse	.LL627
         01:CC8C  90 D4      			bcc	.LL627
12854                        	
12855                        		.dbg	line,	"include\routines_LEVELS.c", 2021; {
12856                        	
12857                        		.dbg	line,	"include\routines_LEVELS.c", 2022; //spr_set(player_id);
12858                        	
12859                        		.dbg	line,	"include\routines_LEVELS.c", 2023; spr_pattern(PLAYER_IDLE_VRAM_ADR);
12860                        		__ld.wi		6144
         01:CC8E  62         			cla
         01:CC8F  A0 18      			ldy.h	#6144
12861                        		__call		_spr_pattern.1
         01:CC91  20 3A E8   			call	_spr_pattern.1
12862                        	
12863                        		.dbg	line,	"include\routines_LEVELS.c", 2024; player_pos_y -= (i - 1);
12864                        		__ld.um		__update_PLAYER_end - 1  /* i */
         01:CC94  AD 0C 23   			lda	__update_PLAYER_end - 1
         01:CC97  C2         			cly
12865                        		__sub.wi	1
         01:CC98  38         			sec
         01:CC99  E9 01      			sbc.l	#1
         01:CC9B  B0 01      			bcs	!+
         01:CC9D  88         			dey
         01:CC9E             	!:
12866                        		__isub_st.wmq	_player_pos_y
         01:CC9E  38         			sec
         01:CC9F  49 FF      			eor	#$FF
         01:CCA1  6D F9 24   			adc.l	_player_pos_y
         01:CCA4  8D F9 24   			sta.l	_player_pos_y
         01:CCA7  98         			tya
         01:CCA8  49 FF      			eor	#$FF
         01:CCAA  6D FA 24   			adc.h	_player_pos_y
         01:CCAD  8D FA 24   			sta.h	_player_pos_y
12867                        	
12868                        		.dbg	line,	"include\routines_LEVELS.c", 2025; spr_y(player_pos_y);
12869                        		__ld.wm		_player_pos_y
         01:CCB0  AD F9 24   			lda.l	_player_pos_y
         01:CCB3  AC FA 24   			ldy.h	_player_pos_y
12870                        		__call		_spr_y.1
         01:CCB6  20 2D E8   			call	_spr_y.1
12871                        	
12872                        		.dbg	line,	"include\routines_LEVELS.c", 2026; break;
12873                        		__bra		.LL626
         01:CCB9  80 02      			bra	.LL626
12874                        	
12875                        		.dbg	line,	"include\routines_LEVELS.c", 2027; }
12876                        	
12877                        		.dbg	line,	"include\routines_LEVELS.c", 2029; }
12878    01:CCBB             	.LL627	.alias		.LL624
12879                        		__bra		.LL624
         01:CCBB  80 A5      			bra	.LL624
12880    01:CCBD             	.LL626:
12881                        	
12882                        		.dbg	line,	"include\routines_LEVELS.c", 2031; if(player_attack == FALSE)
12883                        		__not.um	_player_attack
         01:CCBD  AD 21 23   			lda	_player_attack
         01:CCC0  18         			clc
         01:CCC1  D0 01      			bne	!+
         01:CCC3  38         			sec
         01:CCC4             	!:
12884                        		__bfalse	.LL628
         01:CCC4  90 24      			bcc	.LL628
12885                        	
12886                        		.dbg	line,	"include\routines_LEVELS.c", 2032; {
12887                        	
12888                        		.dbg	line,	"include\routines_LEVELS.c", 2033; spr_set(weapon_id);
12889                        		__ld.umq	_weapon_id
         01:CCC6  AD 27 23   			lda	_weapon_id
12890                        		__call		_spr_set.1
         01:CCC9  20 F1 E7   			call	_spr_set.1
12891                        	
12892                        		.dbg	line,	"include\routines_LEVELS.c", 2034; spr_x(player_pos_x+8);
12893                        		__ld.wm		_player_pos_x
         01:CCCC  AD F7 24   			lda.l	_player_pos_x
         01:CCCF  AC F8 24   			ldy.h	_player_pos_x
12894                        		__add.wi	8
         01:CCD2  18         			clc
         01:CCD3  69 08      			adc.l	#8
         01:CCD5  90 01      			bcc	!+
         01:CCD7  C8         			iny
         01:CCD8             	!:
12895                        		__call		_spr_x.1
         01:CCD8  20 1E E8   			call	_spr_x.1
12896                        	
12897                        		.dbg	line,	"include\routines_LEVELS.c", 2035; spr_y(player_pos_y+16);
12898                        		__ld.wm		_player_pos_y
         01:CCDB  AD F9 24   			lda.l	_player_pos_y
         01:CCDE  AC FA 24   			ldy.h	_player_pos_y
12899                        		__add.wi	16
         01:CCE1  18         			clc
         01:CCE2  69 10      			adc.l	#16
         01:CCE4  90 01      			bcc	!+
         01:CCE6  C8         			iny
         01:CCE7             	!:
12900                        		__call		_spr_y.1
         01:CCE7  20 2D E8   			call	_spr_y.1
12901                        	
12902                        		.dbg	line,	"include\routines_LEVELS.c", 2036; }
12903                        	
12904                        		.dbg	line,	"include\routines_LEVELS.c", 2038; player_counter_anim = 1;
12905    01:CCEA             	.LL628:
12906                        		__st.umiq	1, _player_counter_anim
         01:CCEA  A9 01      			lda.l	#1
         01:CCEC  8D 1C 23   			sta	_player_counter_anim
12907                        	
12908                        		.dbg	line,	"include\routines_LEVELS.c", 2039; player_index_jump = 0;
12909                        		__st.umiq	0, _player_index_jump
         01:CCEF  9C 1D 23   			stz	_player_index_jump
12910                        	
12911                        		.dbg	line,	"include\routines_LEVELS.c", 2041; if(player_attack == FALSE)
12912                        		__not.um	_player_attack
         01:CCF2  AD 21 23   			lda	_player_attack
         01:CCF5  18         			clc
         01:CCF6  D0 01      			bne	!+
         01:CCF8  38         			sec
         01:CCF9             	!:
12913                        		__bfalse	.LL629
         01:CCF9  B0 03 4C DA			bcc	.LL629
         01:CCFD  DC          
12914                        	
12915                        		.dbg	line,	"include\routines_LEVELS.c", 2042; {
12916                        	
12917                        		.dbg	line,	"include\routines_LEVELS.c", 2043; player_state = STATE_IDLE;
12918                        		__st.umiq	0, _player_state
         01:CCFE  9C 19 23   			stz	_player_state
12919                        	
12920                        		.dbg	line,	"include\routines_LEVELS.c", 2044; }
12921                        	
12922                        		.dbg	line,	"include\routines_LEVELS.c", 2046; return;
12923    01:CD01             	.LL629	.alias		.LL529
12924                        		__bra		.LL529
         01:CD01  4C DA DC   			bra	.LL529
12925                        	
12926                        		.dbg	line,	"include\routines_LEVELS.c", 2047; }
12927                        	
12928                        		.dbg	line,	"include\routines_LEVELS.c", 2048; }
12929    01:CD04             	.LL622:
12930    01:CD04             	.LL621:
12931                        	
12932                        		.dbg	line,	"include\routines_LEVELS.c", 2049; }
12933                        	
12934                        		.dbg	line,	"include\routines_LEVELS.c", 2054; //--------------------------------------------------------------------------------------//
12935                        	
12936                        		.dbg	line,	"include\routines_LEVELS.c", 2055; //                                   LADDER COLLISION                                   //
12937                        	
12938                        		.dbg	line,	"include\routines_LEVELS.c", 2056; //--------------------------------------------------------------------------------------//
12939                        	
12940                        		.dbg	line,	"include\routines_LEVELS.c", 2058; collision_PLAYER_BG( 16 , 16 );
12941    01:CD04             	.LL612:
12942                        		__ld.wi		16
         01:CD04  A9 10      			lda.l	#16
         01:CD06  C2         			cly
12943                        		__pusharg.wr
         01:CD07  A6 8D      			ldx	<__sp
         01:CD09  CA         			dex
         01:CD0A  CA         			dex
         01:CD0B  95 08      			sta.l	<__stack, x
         01:CD0D  94 09      			sty.h	<__stack, x
         01:CD0F  86 8D      			stx	<__sp
12944                        		__ld.wi		16
         01:CD11  A9 10      			lda.l	#16
         01:CD13  C2         			cly
12945                        		__pusharg.wr
         01:CD14  A6 8D      			ldx	<__sp
         01:CD16  CA         			dex
         01:CD17  CA         			dex
         01:CD18  95 08      			sta.l	<__stack, x
         01:CD1A  94 09      			sty.h	<__stack, x
         01:CD1C  86 8D      			stx	<__sp
12946                        		__call		_collision_PLAYER_BG
         01:CD1E  20 27 FF   			call	_collision_PLAYER_BG
12947                        	
12948                        		.dbg	line,	"include\routines_LEVELS.c", 2060; // IF PLAYER HITS THE LADDER //
12949                        	
12950                        		.dbg	line,	"include\routines_LEVELS.c", 2061; if(map_blk_flag == TILE_LADDER)
12951                        		__ld.umq	_map_blk_flag
         01:CD21  AD FB 2B   			lda	_map_blk_flag
12952                        		__equ_b.uiq	2
         01:CD24  C9 02      			cmp	#2
         01:CD26  F0 01      			beq	!+
         01:CD28  18         			clc
         01:CD29             	!:
12953                        		__bfalse	.LL630
         01:CD29  B0 03 4C DA			bcc	.LL630
         01:CD2D  DC          
12954                        	
12955                        		.dbg	line,	"include\routines_LEVELS.c", 2062; {
12956                        	
12957                        		.dbg	line,	"include\routines_LEVELS.c", 2063; // CAMERA GOES 8 PX BACKWARD //
12958                        	
12959                        		.dbg	line,	"include\routines_LEVELS.c", 2064; sgx_map_pxl_x = ( (sgx_map_pxl_x >> 3) << 3 );
12960                        		__ld.wm		_sgx_map_pxl_x
         01:CD2E  AD DA 26   			lda.l	_sgx_map_pxl_x
         01:CD31  AC DB 26   			ldy.h	_sgx_map_pxl_x
12961                        		__lsr.wi	3
         01:CD34  84 00      			sty	__temp
         01:CD36  20 3A E2   			jsr	lsrw3
12962                        		__asl.wi	3
         01:CD39  84 00      			sty	__temp
         01:CD3B  20 D7 E1   			jsr	aslw3
12963                        		__st.wmq	_sgx_map_pxl_x
         01:CD3E  8D DA 26   			sta.l	_sgx_map_pxl_x
         01:CD41  8C DB 26   			sty.h	_sgx_map_pxl_x
12964                        	
12965                        		.dbg	line,	"include\routines_LEVELS.c", 2066; // SO WE UPDATE THE MAP //
12966                        	
12967                        		.dbg	line,	"include\routines_LEVELS.c", 2067; sgx_scroll_map();
12968                        		__call		_sgx_scroll_map
         01:CD44  20 59 FF   			call	_sgx_scroll_map
12969                        	
12970                        		.dbg	line,	"include\routines_LEVELS.c", 2069; // CHECK IF THE PLAYER STANDS RIGHT TO THE LADDER //
12971                        	
12972                        		.dbg	line,	"include\routines_LEVELS.c", 2070; collision_PLAYER_BG( 31 , 16 );
12973                        		__ld.wi		31
         01:CD47  A9 1F      			lda.l	#31
         01:CD49  C2         			cly
12974                        		__pusharg.wr
         01:CD4A  A6 8D      			ldx	<__sp
         01:CD4C  CA         			dex
         01:CD4D  CA         			dex
         01:CD4E  95 08      			sta.l	<__stack, x
         01:CD50  94 09      			sty.h	<__stack, x
         01:CD52  86 8D      			stx	<__sp
12975                        		__ld.wi		16
         01:CD54  A9 10      			lda.l	#16
         01:CD56  C2         			cly
12976                        		__pusharg.wr
         01:CD57  A6 8D      			ldx	<__sp
         01:CD59  CA         			dex
         01:CD5A  CA         			dex
         01:CD5B  95 08      			sta.l	<__stack, x
         01:CD5D  94 09      			sty.h	<__stack, x
         01:CD5F  86 8D      			stx	<__sp
12977                        		__call		_collision_PLAYER_BG
         01:CD61  20 27 FF   			call	_collision_PLAYER_BG
12978                        	
12979                        		.dbg	line,	"include\routines_LEVELS.c", 2072; if(map_blk_flag == TILE_LADDER)
12980                        		__ld.umq	_map_blk_flag
         01:CD64  AD FB 2B   			lda	_map_blk_flag
12981                        		__equ_b.uiq	2
         01:CD67  C9 02      			cmp	#2
         01:CD69  F0 01      			beq	!+
         01:CD6B  18         			clc
         01:CD6C             	!:
12982                        		__bfalse	.LL631
         01:CD6C  90 0E      			bcc	.LL631
12983                        	
12984                        		.dbg	line,	"include\routines_LEVELS.c", 2073; {
12985                        	
12986                        		.dbg	line,	"include\routines_LEVELS.c", 2074; sgx_map_pxl_x += 8;
12987                        		__add_st.wmiq	8, _sgx_map_pxl_x
         01:CD6E  18         			clc
         01:CD6F  AD DA 26   			lda.l	_sgx_map_pxl_x
         01:CD72  69 08      			adc.l	#8
         01:CD74  8D DA 26   			sta.l	_sgx_map_pxl_x
         01:CD77  90 03      			bcc	!+
         01:CD79  EE DB 26   			inc.h	_sgx_map_pxl_x
         01:CD7C             	!:
12988                        	
12989                        		.dbg	line,	"include\routines_LEVELS.c", 2075; }
12990                        	
12991                        		.dbg	line,	"include\routines_LEVELS.c", 2077; spr_pattern(PLAYER_HANG_VRAM_ADR);
12992    01:CD7C             	.LL631:
12993                        		__ld.wi		8448
         01:CD7C  62         			cla
         01:CD7D  A0 21      			ldy.h	#8448
12994                        		__call		_spr_pattern.1
         01:CD7F  20 3A E8   			call	_spr_pattern.1
12995                        	
12996                        		.dbg	line,	"include\routines_LEVELS.c", 2078; player_counter_anim = 0;
12997                        		__st.umiq	0, _player_counter_anim
         01:CD82  9C 1C 23   			stz	_player_counter_anim
12998                        	
12999                        		.dbg	line,	"include\routines_LEVELS.c", 2079; player_index_jump = 0;
13000                        		__st.umiq	0, _player_index_jump
         01:CD85  9C 1D 23   			stz	_player_index_jump
13001                        	
13002                        		.dbg	line,	"include\routines_LEVELS.c", 2080; jump_ladder = TRUE;
13003                        		__st.umiq	1, _jump_ladder
         01:CD88  A9 01      			lda.l	#1
         01:CD8A  8D 22 23   			sta	_jump_ladder
13004                        	
13005                        		.dbg	line,	"include\routines_LEVELS.c", 2081; player_state = STATE_HANG;
13006                        		__st.umiq	10, _player_state
         01:CD8D  A9 0A      			lda.l	#10
         01:CD8F  8D 19 23   			sta	_player_state
13007                        	
13008                        		.dbg	line,	"include\routines_LEVELS.c", 2082; }
13009                        	
13010                        		.dbg	line,	"include\routines_LEVELS.c", 2083; }
13011    01:CD92             	.LL630	.alias		.LL632
13012                        	
13013                        		.dbg	line,	"include\routines_LEVELS.c", 2086; else if(player_state == STATE_JUMP_RIGHT)
13014                        		__bra		.LL632
         01:CD92  4C DA DC   			bra	.LL632
13015    01:CD95             	.LL578:
13016                        		__ld.umq	_player_state
         01:CD95  AD 19 23   			lda	_player_state
13017                        		__equ_b.uiq	5
         01:CD98  C9 05      			cmp	#5
         01:CD9A  F0 01      			beq	!+
         01:CD9C  18         			clc
         01:CD9D             	!:
13018                        		__bfalse	.LL633
         01:CD9D  B0 03 4C FE			bcc	.LL633
         01:CDA1  D1          
13019                        	
13020                        		.dbg	line,	"include\routines_LEVELS.c", 2087; {
13021                        	
13022                        		.dbg	line,	"include\routines_LEVELS.c", 2088; unsigned char i, camera_y_move;
13023                        	
13024                        		.dbg	line,	"include\routines_LEVELS.c", 2089; i = 1;
13025                        		__st.umiq	1, __update_PLAYER_end - 2  /* i */
         01:CDA2  A9 01      			lda.l	#1
         01:CDA4  8D 0B 23   			sta	__update_PLAYER_end - 2
13026                        	
13027                        		.dbg	line,	"include\routines_LEVELS.c", 2091; // UPDATE PLAYER TILES //
13028                        	
13029                        		.dbg	line,	"include\routines_LEVELS.c", 2092; if(player_counter_anim == 0)
13030                        		__not.um	_player_counter_anim
         01:CDA7  AD 1C 23   			lda	_player_counter_anim
         01:CDAA  18         			clc
         01:CDAB  D0 01      			bne	!+
         01:CDAD  38         			sec
         01:CDAE             	!:
13031                        		__bfalse	.LL634
         01:CDAE  90 11      			bcc	.LL634
13032                        	
13033                        		.dbg	line,	"include\routines_LEVELS.c", 2093; {
13034                        	
13035                        		.dbg	line,	"include\routines_LEVELS.c", 2094; spr_set(player_id);
13036                        		__ld.umq	_player_id
         01:CDB0  AD 18 23   			lda	_player_id
13037                        		__call		_spr_set.1
         01:CDB3  20 F1 E7   			call	_spr_set.1
13038                        	
13039                        		.dbg	line,	"include\routines_LEVELS.c", 2095; spr_pattern(PLAYER_JUMP_VRAM_ADR);
13040                        		__ld.wi		7936
         01:CDB6  62         			cla
         01:CDB7  A0 1F      			ldy.h	#7936
13041                        		__call		_spr_pattern.1
         01:CDB9  20 3A E8   			call	_spr_pattern.1
13042                        	
13043                        		.dbg	line,	"include\routines_LEVELS.c", 2097; player_counter_anim = 1;
13044                        		__st.umiq	1, _player_counter_anim
         01:CDBC  A9 01      			lda.l	#1
         01:CDBE  8D 1C 23   			sta	_player_counter_anim
13045                        	
13046                        		.dbg	line,	"include\routines_LEVELS.c", 2098; }
13047                        	
13048                        		.dbg	line,	"include\routines_LEVELS.c", 2101; // SELECT PLAYER SPRITE //
13049                        	
13050                        		.dbg	line,	"include\routines_LEVELS.c", 2102; spr_set(player_id);
13051    01:CDC1             	.LL634:
13052                        		__ld.umq	_player_id
         01:CDC1  AD 18 23   			lda	_player_id
13053                        		__call		_spr_set.1
         01:CDC4  20 F1 E7   			call	_spr_set.1
13054                        	
13055                        		.dbg	line,	"include\routines_LEVELS.c", 2105; //**************************************************************************************//
13056                        	
13057                        		.dbg	line,	"include\routines_LEVELS.c", 2106; //                                        H MOVE                                        //
13058                        	
13059                        		.dbg	line,	"include\routines_LEVELS.c", 2107; //**************************************************************************************//
13060                        	
13061                        		.dbg	line,	"include\routines_LEVELS.c", 2109; //--------------------------------------------------------------------------------------//
13062                        	
13063                        		.dbg	line,	"include\routines_LEVELS.c", 2110; //                                    WALL COLLISION                                    //
13064                        	
13065                        		.dbg	line,	"include\routines_LEVELS.c", 2111; //--------------------------------------------------------------------------------------//
13066                        	
13067                        		.dbg	line,	"include\routines_LEVELS.c", 2113; // CHECK COLLISION WITH BOTTOM RIGHT WALL //
13068                        	
13069                        		.dbg	line,	"include\routines_LEVELS.c", 2114; collision_PLAYER_BG( 24 , 31 );
13070                        		__ld.wi		24
         01:CDC7  A9 18      			lda.l	#24
         01:CDC9  C2         			cly
13071                        		__pusharg.wr
         01:CDCA  A6 8D      			ldx	<__sp
         01:CDCC  CA         			dex
         01:CDCD  CA         			dex
         01:CDCE  95 08      			sta.l	<__stack, x
         01:CDD0  94 09      			sty.h	<__stack, x
         01:CDD2  86 8D      			stx	<__sp
13072                        		__ld.wi		31
         01:CDD4  A9 1F      			lda.l	#31
         01:CDD6  C2         			cly
13073                        		__pusharg.wr
         01:CDD7  A6 8D      			ldx	<__sp
         01:CDD9  CA         			dex
         01:CDDA  CA         			dex
         01:CDDB  95 08      			sta.l	<__stack, x
         01:CDDD  94 09      			sty.h	<__stack, x
         01:CDDF  86 8D      			stx	<__sp
13074                        		__call		_collision_PLAYER_BG
         01:CDE1  20 27 FF   			call	_collision_PLAYER_BG
13075                        	
13076                        		.dbg	line,	"include\routines_LEVELS.c", 2116; if(map_blk_flag != TILE_BG)
13077                        		__ld.umq	_map_blk_flag
         01:CDE4  AD FB 2B   			lda	_map_blk_flag
13078                        		__neq_b.uiq	1
         01:CDE7  38         			sec
         01:CDE8  49 01      			eor	#1
         01:CDEA  D0 01      			bne	!+
         01:CDEC  18         			clc
         01:CDED             	!:
13079                        		__bfalse	.LL635
         01:CDED  90 78      			bcc	.LL635
13080                        	
13081                        		.dbg	line,	"include\routines_LEVELS.c", 2117; {
13082                        	
13083                        		.dbg	line,	"include\routines_LEVELS.c", 2118; // CHECK COLLISION WITH TOP RIGHT WALL //
13084                        	
13085                        		.dbg	line,	"include\routines_LEVELS.c", 2119; collision_PLAYER_BG( 24 , 15 );
13086                        		__ld.wi		24
         01:CDEF  A9 18      			lda.l	#24
         01:CDF1  C2         			cly
13087                        		__pusharg.wr
         01:CDF2  A6 8D      			ldx	<__sp
         01:CDF4  CA         			dex
         01:CDF5  CA         			dex
         01:CDF6  95 08      			sta.l	<__stack, x
         01:CDF8  94 09      			sty.h	<__stack, x
         01:CDFA  86 8D      			stx	<__sp
13088                        		__ld.wi		15
         01:CDFC  A9 0F      			lda.l	#15
         01:CDFE  C2         			cly
13089                        		__pusharg.wr
         01:CDFF  A6 8D      			ldx	<__sp
         01:CE01  CA         			dex
         01:CE02  CA         			dex
         01:CE03  95 08      			sta.l	<__stack, x
         01:CE05  94 09      			sty.h	<__stack, x
         01:CE07  86 8D      			stx	<__sp
13090                        		__call		_collision_PLAYER_BG
         01:CE09  20 27 FF   			call	_collision_PLAYER_BG
13091                        	
13092                        		.dbg	line,	"include\routines_LEVELS.c", 2121; if(map_blk_flag == TILE_BG)
13093                        		__ld.umq	_map_blk_flag
         01:CE0C  AD FB 2B   			lda	_map_blk_flag
13094                        		__equ_b.uiq	1
         01:CE0F  C9 01      			cmp	#1
         01:CE11  F0 01      			beq	!+
         01:CE13  18         			clc
         01:CE14             	!:
13095                        		__bfalse	.LL636
         01:CE14  90 41      			bcc	.LL636
13096                        	
13097                        		.dbg	line,	"include\routines_LEVELS.c", 2122; {
13098                        	
13099                        		.dbg	line,	"include\routines_LEVELS.c", 2123; check_TILE_DEPTH( 15 , -16 );
13100                        		__ld.wi		15
         01:CE16  A9 0F      			lda.l	#15
         01:CE18  C2         			cly
13101                        		__pusharg.wr
         01:CE19  A6 8D      			ldx	<__sp
         01:CE1B  CA         			dex
         01:CE1C  CA         			dex
         01:CE1D  95 08      			sta.l	<__stack, x
         01:CE1F  94 09      			sty.h	<__stack, x
         01:CE21  86 8D      			stx	<__sp
13102                        		__ld.wi		-16
         01:CE23  A9 F0      			lda.l	#-16
         01:CE25  A0 FF      			ldy.h	#-16
13103                        		__pusharg.wr
         01:CE27  A6 8D      			ldx	<__sp
         01:CE29  CA         			dex
         01:CE2A  CA         			dex
         01:CE2B  95 08      			sta.l	<__stack, x
         01:CE2D  94 09      			sty.h	<__stack, x
         01:CE2F  86 8D      			stx	<__sp
13104                        		__call		_check_TILE_DEPTH
         01:CE31  20 13 FF   			call	_check_TILE_DEPTH
13105                        	
13106                        		.dbg	line,	"include\routines_LEVELS.c", 2125; if(map_blk_flag == TILE_EMPTY && jump_ladder == TRUE)
13107                        		__not.um	_map_blk_flag
         01:CE34  AD FB 2B   			lda	_map_blk_flag
         01:CE37  18         			clc
         01:CE38  D0 01      			bne	!+
         01:CE3A  38         			sec
         01:CE3B             	!:
13108                        		__bfalse	.LL638
         01:CE3B  90 08      			bcc	.LL638
13109                        		__ld.umq	_jump_ladder
         01:CE3D  AD 22 23   			lda	_jump_ladder
13110                        		__equ_b.uiq	1
         01:CE40  C9 01      			cmp	#1
         01:CE42  F0 01      			beq	!+
         01:CE44  18         			clc
         01:CE45             	!:
13111    01:CE45             	.LL638:
13112                        		__bfalse	.LL637
         01:CE45  90 64      			bcc	.LL637
13113                        	
13114                        		.dbg	line,	"include\routines_LEVELS.c", 2126; {
13115                        	
13116                        		.dbg	line,	"include\routines_LEVELS.c", 2127; jump_ladder = FALSE;
13117                        		__st.umiq	0, _jump_ladder
         01:CE47  9C 22 23   			stz	_jump_ladder
13118                        	
13119                        		.dbg	line,	"include\routines_LEVELS.c", 2128; player_index_fall = 0;
13120                        		__st.umiq	0, _player_index_fall
         01:CE4A  9C 1E 23   			stz	_player_index_fall
13121                        	
13122                        		.dbg	line,	"include\routines_LEVELS.c", 2129; player_state = STATE_FALL;
13123                        		__st.umiq	9, _player_state
         01:CE4D  A9 09      			lda.l	#9
         01:CE4F  8D 19 23   			sta	_player_state
13124                        	
13125                        		.dbg	line,	"include\routines_LEVELS.c", 2130; return;
13126                        		__bra		.LL529
         01:CE52  4C DA DC   			bra	.LL529
13127                        	
13128                        		.dbg	line,	"include\routines_LEVELS.c", 2131; }
13129                        	
13130                        		.dbg	line,	"include\routines_LEVELS.c", 2132; }
13131    01:CE55             	.LL637	.alias		.LL639
13132                        	
13133                        		.dbg	line,	"include\routines_LEVELS.c", 2134; else
13134                        		__bra		.LL639
         01:CE55  80 54      			bra	.LL639
13135    01:CE57             	.LL636:
13136                        	
13137                        		.dbg	line,	"include\routines_LEVELS.c", 2135; {
13138                        	
13139                        		.dbg	line,	"include\routines_LEVELS.c", 2136; sgx_map_pxl_x += 2;
13140                        		__add_st.wmiq	2, _sgx_map_pxl_x
         01:CE57  18         			clc
         01:CE58  AD DA 26   			lda.l	_sgx_map_pxl_x
         01:CE5B  69 02      			adc.l	#2
         01:CE5D  8D DA 26   			sta.l	_sgx_map_pxl_x
         01:CE60  90 03      			bcc	!+
         01:CE62  EE DB 26   			inc.h	_sgx_map_pxl_x
         01:CE65             	!:
13141                        	
13142                        		.dbg	line,	"include\routines_LEVELS.c", 2137; }
13143    01:CE65             	.LL639	.alias		.LL640
13144                        	
13145                        		.dbg	line,	"include\routines_LEVELS.c", 2138; }
13146                        	
13147                        		.dbg	line,	"include\routines_LEVELS.c", 2140; else
13148                        		__bra		.LL640
         01:CE65  80 44      			bra	.LL640
13149    01:CE67             	.LL635:
13150                        	
13151                        		.dbg	line,	"include\routines_LEVELS.c", 2141; {
13152                        	
13153                        		.dbg	line,	"include\routines_LEVELS.c", 2142; check_TILE_DEPTH( 15 , -16 );
13154                        		__ld.wi		15
         01:CE67  A9 0F      			lda.l	#15
         01:CE69  C2         			cly
13155                        		__pusharg.wr
         01:CE6A  A6 8D      			ldx	<__sp
         01:CE6C  CA         			dex
         01:CE6D  CA         			dex
         01:CE6E  95 08      			sta.l	<__stack, x
         01:CE70  94 09      			sty.h	<__stack, x
         01:CE72  86 8D      			stx	<__sp
13156                        		__ld.wi		-16
         01:CE74  A9 F0      			lda.l	#-16
         01:CE76  A0 FF      			ldy.h	#-16
13157                        		__pusharg.wr
         01:CE78  A6 8D      			ldx	<__sp
         01:CE7A  CA         			dex
         01:CE7B  CA         			dex
         01:CE7C  95 08      			sta.l	<__stack, x
         01:CE7E  94 09      			sty.h	<__stack, x
         01:CE80  86 8D      			stx	<__sp
13158                        		__call		_check_TILE_DEPTH
         01:CE82  20 13 FF   			call	_check_TILE_DEPTH
13159                        	
13160                        		.dbg	line,	"include\routines_LEVELS.c", 2144; if(map_blk_flag == TILE_EMPTY && jump_ladder == TRUE)
13161                        		__not.um	_map_blk_flag
         01:CE85  AD FB 2B   			lda	_map_blk_flag
         01:CE88  18         			clc
         01:CE89  D0 01      			bne	!+
         01:CE8B  38         			sec
         01:CE8C             	!:
13162                        		__bfalse	.LL642
         01:CE8C  90 08      			bcc	.LL642
13163                        		__ld.umq	_jump_ladder
         01:CE8E  AD 22 23   			lda	_jump_ladder
13164                        		__equ_b.uiq	1
         01:CE91  C9 01      			cmp	#1
         01:CE93  F0 01      			beq	!+
         01:CE95  18         			clc
         01:CE96             	!:
13165    01:CE96             	.LL642:
13166                        		__bfalse	.LL641
         01:CE96  90 13      			bcc	.LL641
13167                        	
13168                        		.dbg	line,	"include\routines_LEVELS.c", 2145; {
13169                        	
13170                        		.dbg	line,	"include\routines_LEVELS.c", 2146; jump_ladder = FALSE;
13171                        		__st.umiq	0, _jump_ladder
         01:CE98  9C 22 23   			stz	_jump_ladder
13172                        	
13173                        		.dbg	line,	"include\routines_LEVELS.c", 2147; hit_wall = TRUE;
13174                        		__st.umiq	1, _hit_wall
         01:CE9B  A9 01      			lda.l	#1
         01:CE9D  8D 25 23   			sta	_hit_wall
13175                        	
13176                        		.dbg	line,	"include\routines_LEVELS.c", 2148; player_index_fall = 0;
13177                        		__st.umiq	0, _player_index_fall
         01:CEA0  9C 1E 23   			stz	_player_index_fall
13178                        	
13179                        		.dbg	line,	"include\routines_LEVELS.c", 2149; player_state = STATE_FALL;
13180                        		__st.umiq	9, _player_state
         01:CEA3  A9 09      			lda.l	#9
         01:CEA5  8D 19 23   			sta	_player_state
13181                        	
13182                        		.dbg	line,	"include\routines_LEVELS.c", 2150; return;
13183                        		__bra		.LL529
         01:CEA8  4C DA DC   			bra	.LL529
13184                        	
13185                        		.dbg	line,	"include\routines_LEVELS.c", 2151; }
13186                        	
13187                        		.dbg	line,	"include\routines_LEVELS.c", 2152; }
13188    01:CEAB             	.LL641:
13189    01:CEAB             	.LL640:
13190                        	
13191                        		.dbg	line,	"include\routines_LEVELS.c", 2157; //**************************************************************************************//
13192                        	
13193                        		.dbg	line,	"include\routines_LEVELS.c", 2158; //                                        V MOVE                                        //
13194                        	
13195                        		.dbg	line,	"include\routines_LEVELS.c", 2159; //**************************************************************************************//
13196                        	
13197                        		.dbg	line,	"include\routines_LEVELS.c", 2161; // UPDATE PLAYER Y POSITION //
13198                        	
13199                        		.dbg	line,	"include\routines_LEVELS.c", 2162; if(jump_ladder == FALSE)
13200                        		__not.um	_jump_ladder
         01:CEAB  AD 22 23   			lda	_jump_ladder
         01:CEAE  18         			clc
         01:CEAF  D0 01      			bne	!+
         01:CEB1  38         			sec
         01:CEB2             	!:
13201                        		__bfalse	.LL643
         01:CEB2  90 1A      			bcc	.LL643
13202                        	
13203                        		.dbg	line,	"include\routines_LEVELS.c", 2163; {
13204                        	
13205                        		.dbg	line,	"include\routines_LEVELS.c", 2164; player_pos_y += TABLE_PLAYER_JUMP_V[player_index_jump];
13206                        		__ldx.umq	_player_index_jump
         01:CEB4  AE 1D 23   			ldx	_player_index_jump
13207                        		__ld.bax	_TABLE_PLAYER_JUMP_V
         01:CEB7  BD 87 62   			lda	_TABLE_PLAYER_JUMP_V, x
         01:CEBA  C2         			cly
         01:CEBB  10 01      			bpl	!+
         01:CEBD  88         			dey
         01:CEBE             	!:
13208                        		__add_st.wmq	_player_pos_y
         01:CEBE  18         			clc
         01:CEBF  6D F9 24   			adc.l	_player_pos_y
         01:CEC2  8D F9 24   			sta.l	_player_pos_y
         01:CEC5  98         			tya
         01:CEC6  6D FA 24   			adc.h	_player_pos_y
         01:CEC9  8D FA 24   			sta.h	_player_pos_y
13209                        	
13210                        		.dbg	line,	"include\routines_LEVELS.c", 2165; }
13211                        	
13212                        		.dbg	line,	"include\routines_LEVELS.c", 2167; else
13213                        		__bra		.LL644
         01:CECC  80 18      			bra	.LL644
13214    01:CECE             	.LL643:
13215                        	
13216                        		.dbg	line,	"include\routines_LEVELS.c", 2168; {
13217                        	
13218                        		.dbg	line,	"include\routines_LEVELS.c", 2169; player_pos_y += TABLE_PLAYER_JUMP_LADDER[player_index_jump];
13219                        		__ldx.umq	_player_index_jump
         01:CECE  AE 1D 23   			ldx	_player_index_jump
13220                        		__ld.bax	_TABLE_PLAYER_JUMP_LADDER
         01:CED1  BD BF 62   			lda	_TABLE_PLAYER_JUMP_LADDER, x
         01:CED4  C2         			cly
         01:CED5  10 01      			bpl	!+
         01:CED7  88         			dey
         01:CED8             	!:
13221                        		__add_st.wmq	_player_pos_y
         01:CED8  18         			clc
         01:CED9  6D F9 24   			adc.l	_player_pos_y
         01:CEDC  8D F9 24   			sta.l	_player_pos_y
         01:CEDF  98         			tya
         01:CEE0  6D FA 24   			adc.h	_player_pos_y
         01:CEE3  8D FA 24   			sta.h	_player_pos_y
13222                        	
13223                        		.dbg	line,	"include\routines_LEVELS.c", 2170; }
13224    01:CEE6             	.LL644:
13225                        	
13226                        		.dbg	line,	"include\routines_LEVELS.c", 2174; // IF PLAYER GOES BELOW ITS BASE Y POSITION //
13227                        	
13228                        		.dbg	line,	"include\routines_LEVELS.c", 2175; if(player_pos_y >= PLAYER_BASE_Y_POS)
13229                        		__ld.wm		_player_pos_y
         01:CEE6  AD F9 24   			lda.l	_player_pos_y
         01:CEE9  AC FA 24   			ldy.h	_player_pos_y
13230                        		__sge_w.wi	128
         01:CEEC  C9 80      			cmp.l	#128		; Subtract integer from Y:A.
         01:CEEE  98         			tya
         01:CEEF  E9 00      			sbc.h	#128
         01:CEF1  50 02      			bvc	!+
         01:CEF3  49 80      			eor	#$80		; +ve if Y:A >= integer (signed).
         01:CEF5  49 80      	!:		eor	#$80
         01:CEF7  0A         			asl	a
13231                        		__bfalse	.LL645
         01:CEF8  90 4E      			bcc	.LL645
13232                        	
13233                        		.dbg	line,	"include\routines_LEVELS.c", 2176; {
13234                        	
13235                        		.dbg	line,	"include\routines_LEVELS.c", 2177; // THE CAMERA MOVES //
13236                        	
13237                        		.dbg	line,	"include\routines_LEVELS.c", 2178; // CALCULATE HOW MANY PIXELS THE CAMERA HAS TO MOVE DOWN //
13238                        	
13239                        		.dbg	line,	"include\routines_LEVELS.c", 2179; camera_y_move = player_pos_y - PLAYER_BASE_Y_POS;
13240                        		__ld.wm		_player_pos_y
         01:CEFA  AD F9 24   			lda.l	_player_pos_y
         01:CEFD  AC FA 24   			ldy.h	_player_pos_y
13241                        		__sub.wi	128
         01:CF00  38         			sec
         01:CF01  E9 80      			sbc.l	#128
         01:CF03  B0 01      			bcs	!+
         01:CF05  88         			dey
         01:CF06             	!:
13242                        		__st.umq	__update_PLAYER_end - 3  /* camera_y_move */
         01:CF06  8D 0A 23   			sta	__update_PLAYER_end - 3
13243                        	
13244                        		.dbg	line,	"include\routines_LEVELS.c", 2180; sgx_map_pxl_y += camera_y_move;
13245                        		__ld.um		__update_PLAYER_end - 3  /* camera_y_move */
         01:CF09  AD 0A 23   			lda	__update_PLAYER_end - 3
         01:CF0C  C2         			cly
13246                        		__add_st.wmq	_sgx_map_pxl_y
         01:CF0D  18         			clc
         01:CF0E  6D DC 26   			adc.l	_sgx_map_pxl_y
         01:CF11  8D DC 26   			sta.l	_sgx_map_pxl_y
         01:CF14  98         			tya
         01:CF15  6D DD 26   			adc.h	_sgx_map_pxl_y
         01:CF18  8D DD 26   			sta.h	_sgx_map_pxl_y
13247                        	
13248                        		.dbg	line,	"include\routines_LEVELS.c", 2182; // IF THE CAMERA HAS REACHED ITS MAX (LOWEST) POSITION //
13249                        	
13250                        		.dbg	line,	"include\routines_LEVELS.c", 2183; if(sgx_map_pxl_y > camera_max_y_position)
13251                        		__ld.wm		_sgx_map_pxl_y
         01:CF1B  AD DC 26   			lda.l	_sgx_map_pxl_y
         01:CF1E  AC DD 26   			ldy.h	_sgx_map_pxl_y
13252                        		__ugt_w.wm	_camera_max_y_position
         01:CF21  18         			clc			; Subtract memory+1 from Y:A.
         01:CF22  ED FB 24   			sbc.l	_camera_max_y_position
         01:CF25  98         			tya
         01:CF26  ED FC 24   			sbc.h	_camera_max_y_position		; CS if Y:A > memory.
13253                        		__bfalse	.LL646
         01:CF29  90 0C      			bcc	.LL646
13254                        	
13255                        		.dbg	line,	"include\routines_LEVELS.c", 2184; {
13256                        	
13257                        		.dbg	line,	"include\routines_LEVELS.c", 2185; // THE CAMERA CAN NOT MOVE LOWER //
13258                        	
13259                        		.dbg	line,	"include\routines_LEVELS.c", 2186; sgx_map_pxl_y = camera_max_y_position;
13260                        		__ld.wm		_camera_max_y_position
         01:CF2B  AD FB 24   			lda.l	_camera_max_y_position
         01:CF2E  AC FC 24   			ldy.h	_camera_max_y_position
13261                        		__st.wmq	_sgx_map_pxl_y
         01:CF31  8D DC 26   			sta.l	_sgx_map_pxl_y
         01:CF34  8C DD 26   			sty.h	_sgx_map_pxl_y
13262                        	
13263                        		.dbg	line,	"include\routines_LEVELS.c", 2187; }
13264                        	
13265                        		.dbg	line,	"include\routines_LEVELS.c", 2189; // THE PLAYER STAYS AT ITS BASE Y POSITION //
13266                        	
13267                        		.dbg	line,	"include\routines_LEVELS.c", 2190; player_pos_y = PLAYER_BASE_Y_POS;
13268    01:CF37             	.LL646:
13269                        		__st.wmiq	128, _player_pos_y
         01:CF37  A9 80      			lda.l	#128
         01:CF39  8D F9 24   			sta.l	_player_pos_y
         01:CF3C  9C FA 24   			stz.h	_player_pos_y
13270                        	
13271                        		.dbg	line,	"include\routines_LEVELS.c", 2192; spr_y(player_pos_y);
13272                        		__ld.wm		_player_pos_y
         01:CF3F  AD F9 24   			lda.l	_player_pos_y
         01:CF42  AC FA 24   			ldy.h	_player_pos_y
13273                        		__call		_spr_y.1
         01:CF45  20 2D E8   			call	_spr_y.1
13274                        	
13275                        		.dbg	line,	"include\routines_LEVELS.c", 2193; }
13276                        	
13277                        		.dbg	line,	"include\routines_LEVELS.c", 2196; // UPDATE JUMP INDEX IN THE ARRAY //
13278                        	
13279                        		.dbg	line,	"include\routines_LEVELS.c", 2197; if(player_index_jump < jump_max_index)
13280    01:CF48             	.LL645:
13281                        		__ld.umq	_player_index_jump
         01:CF48  AD 1D 23   			lda	_player_index_jump
13282                        		__ult_b.umq	_jump_max_index
         01:CF4B  CD 23 23   			cmp	_jump_max_index		; Subtract memory from A.
         01:CF4E  6A         			ror	a		; CC if A < memory.
         01:CF4F  49 80      			eor	#$80
         01:CF51  2A         			rol	a
13283                        		__bfalse	.LL647
         01:CF52  90 03      			bcc	.LL647
13284                        	
13285                        		.dbg	line,	"include\routines_LEVELS.c", 2198; {
13286                        	
13287                        		.dbg	line,	"include\routines_LEVELS.c", 2199; player_index_jump += 1;
13288                        		__add_st.umiq	1, _player_index_jump
         01:CF54  EE 1D 23   			inc	_player_index_jump
13289                        	
13290                        		.dbg	line,	"include\routines_LEVELS.c", 2200; }
13291                        	
13292                        		.dbg	line,	"include\routines_LEVELS.c", 2205; //--------------------------------------------------------------------------------------//
13293                        	
13294                        		.dbg	line,	"include\routines_LEVELS.c", 2206; //                                   FLOOR COLLISION                                    //
13295                        	
13296                        		.dbg	line,	"include\routines_LEVELS.c", 2207; //--------------------------------------------------------------------------------------//
13297                        	
13298                        		.dbg	line,	"include\routines_LEVELS.c", 2209; if(player_index_jump > 14)
13299    01:CF57             	.LL647:
13300                        		__ld.umq	_player_index_jump
         01:CF57  AD 1D 23   			lda	_player_index_jump
13301                        		__ugt_b.uiq	14
         01:CF5A  18         			clc			; Subtract integer+1 from A.
         01:CF5B  E9 0E      			sbc	#14		; CS if A > integer.
13302                        		__bfalse	.LL648
         01:CF5D  B0 03 4C 42			bcc	.LL648
         01:CF61  D1          
13303                        	
13304                        		.dbg	line,	"include\routines_LEVELS.c", 2210; {
13305                        	
13306                        		.dbg	line,	"include\routines_LEVELS.c", 2211; // CHECK COLLISION WITH LEFT FLOOR //
13307                        	
13308                        		.dbg	line,	"include\routines_LEVELS.c", 2212; collision_PLAYER_BG( 10 , 32 );
13309                        		__ld.wi		10
         01:CF62  A9 0A      			lda.l	#10
         01:CF64  C2         			cly
13310                        		__pusharg.wr
         01:CF65  A6 8D      			ldx	<__sp
         01:CF67  CA         			dex
         01:CF68  CA         			dex
         01:CF69  95 08      			sta.l	<__stack, x
         01:CF6B  94 09      			sty.h	<__stack, x
         01:CF6D  86 8D      			stx	<__sp
13311                        		__ld.wi		32
         01:CF6F  A9 20      			lda.l	#32
         01:CF71  C2         			cly
13312                        		__pusharg.wr
         01:CF72  A6 8D      			ldx	<__sp
         01:CF74  CA         			dex
         01:CF75  CA         			dex
         01:CF76  95 08      			sta.l	<__stack, x
         01:CF78  94 09      			sty.h	<__stack, x
         01:CF7A  86 8D      			stx	<__sp
13313                        		__call		_collision_PLAYER_BG
         01:CF7C  20 27 FF   			call	_collision_PLAYER_BG
13314                        	
13315                        		.dbg	line,	"include\routines_LEVELS.c", 2214; // IF PLAYER TOUCHES THE GROUND TO THE LEFT //
13316                        	
13317                        		.dbg	line,	"include\routines_LEVELS.c", 2215; if(map_blk_flag == TILE_BG)
13318                        		__ld.umq	_map_blk_flag
         01:CF7F  AD FB 2B   			lda	_map_blk_flag
13319                        		__equ_b.uiq	1
         01:CF82  C9 01      			cmp	#1
         01:CF84  F0 01      			beq	!+
         01:CF86  18         			clc
         01:CF87             	!:
13320                        		__bfalse	.LL649
         01:CF87  B0 03 4C 52			bcc	.LL649
         01:CF8B  D0          
13321                        	
13322                        		.dbg	line,	"include\routines_LEVELS.c", 2216; {
13323                        	
13324                        		.dbg	line,	"include\routines_LEVELS.c", 2217; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
13325                        	
13326                        		.dbg	line,	"include\routines_LEVELS.c", 2218; for(i=1; i<11 ; i++)
13327                        		__st.umiq	1, __update_PLAYER_end - 2  /* i */
         01:CF8C  A9 01      			lda.l	#1
         01:CF8E  8D 0B 23   			sta	__update_PLAYER_end - 2
13328    01:CF91             	.LL650:
13329                        		__ld.umq	__update_PLAYER_end - 2  /* i */
         01:CF91  AD 0B 23   			lda	__update_PLAYER_end - 2
13330                        		__ult_b.uiq	11
         01:CF94  C9 0B      			cmp	#11		; Subtract integer from A.
         01:CF96  6A         			ror	a		; CC if A < integer.
         01:CF97  49 80      			eor	#$80
         01:CF99  2A         			rol	a
13331                        		__btrue		.LL652
         01:CF9A  B0 07      			bcs	.LL652
13332                        		__bra		.LL653
         01:CF9C  80 7D      			bra	.LL653
13333    01:CF9E             	.LL651:
13334                        		__inc.umq	__update_PLAYER_end - 2  /* i */
         01:CF9E  EE 0B 23   			inc	__update_PLAYER_end - 2
13335                        		__bra		.LL650
         01:CFA1  80 EE      			bra	.LL650
13336    01:CFA3             	.LL652:
13337                        	
13338                        		.dbg	line,	"include\routines_LEVELS.c", 2219; {
13339                        	
13340                        		.dbg	line,	"include\routines_LEVELS.c", 2220; check_TILE_DEPTH( 10 , i);
13341                        		__ld.wi		10
         01:CFA3  A9 0A      			lda.l	#10
         01:CFA5  C2         			cly
13342                        		__pusharg.wr
         01:CFA6  A6 8D      			ldx	<__sp
         01:CFA8  CA         			dex
         01:CFA9  CA         			dex
         01:CFAA  95 08      			sta.l	<__stack, x
         01:CFAC  94 09      			sty.h	<__stack, x
         01:CFAE  86 8D      			stx	<__sp
13343                        		__ld.um		__update_PLAYER_end - 2  /* i */
         01:CFB0  AD 0B 23   			lda	__update_PLAYER_end - 2
         01:CFB3  C2         			cly
13344                        		__pusharg.wr
         01:CFB4  A6 8D      			ldx	<__sp
         01:CFB6  CA         			dex
         01:CFB7  CA         			dex
         01:CFB8  95 08      			sta.l	<__stack, x
         01:CFBA  94 09      			sty.h	<__stack, x
         01:CFBC  86 8D      			stx	<__sp
13345                        		__call		_check_TILE_DEPTH
         01:CFBE  20 13 FF   			call	_check_TILE_DEPTH
13346                        	
13347                        		.dbg	line,	"include\routines_LEVELS.c", 2222; if(map_blk_flag == TILE_EMPTY)
13348                        		__not.um	_map_blk_flag
         01:CFC1  AD FB 2B   			lda	_map_blk_flag
         01:CFC4  18         			clc
         01:CFC5  D0 01      			bne	!+
         01:CFC7  38         			sec
         01:CFC8             	!:
13349                        		__bfalse	.LL654
         01:CFC8  90 D4      			bcc	.LL654
13350                        	
13351                        		.dbg	line,	"include\routines_LEVELS.c", 2223; {
13352                        	
13353                        		.dbg	line,	"include\routines_LEVELS.c", 2224; if(player_pos_y != PLAYER_BASE_Y_POS)
13354                        		__ld.wm		_player_pos_y
         01:CFCA  AD F9 24   			lda.l	_player_pos_y
         01:CFCD  AC FA 24   			ldy.h	_player_pos_y
13355                        		__neq_w.wi	128
         01:CFD0  38         			sec
         01:CFD1  49 80      			eor.l	#128
         01:CFD3  D0 06      			bne	!+
         01:CFD5  98         			tya
         01:CFD6  49 00      			eor.h	#128
         01:CFD8  D0 01      			bne	!+
         01:CFDA  18         			clc
         01:CFDB             	!:
13356                        		__bfalse	.LL655
         01:CFDB  90 1E      			bcc	.LL655
13357                        	
13358                        		.dbg	line,	"include\routines_LEVELS.c", 2225; {
13359                        	
13360                        		.dbg	line,	"include\routines_LEVELS.c", 2226; player_pos_y -= (i - 1);
13361                        		__ld.um		__update_PLAYER_end - 2  /* i */
         01:CFDD  AD 0B 23   			lda	__update_PLAYER_end - 2
         01:CFE0  C2         			cly
13362                        		__sub.wi	1
         01:CFE1  38         			sec
         01:CFE2  E9 01      			sbc.l	#1
         01:CFE4  B0 01      			bcs	!+
         01:CFE6  88         			dey
         01:CFE7             	!:
13363                        		__isub_st.wmq	_player_pos_y
         01:CFE7  38         			sec
         01:CFE8  49 FF      			eor	#$FF
         01:CFEA  6D F9 24   			adc.l	_player_pos_y
         01:CFED  8D F9 24   			sta.l	_player_pos_y
         01:CFF0  98         			tya
         01:CFF1  49 FF      			eor	#$FF
         01:CFF3  6D FA 24   			adc.h	_player_pos_y
         01:CFF6  8D FA 24   			sta.h	_player_pos_y
13364                        	
13365                        		.dbg	line,	"include\routines_LEVELS.c", 2227; }
13366                        	
13367                        		.dbg	line,	"include\routines_LEVELS.c", 2229; else
13368                        		__bra		.LL656
         01:CFF9  80 20      			bra	.LL656
13369    01:CFFB             	.LL655:
13370                        	
13371                        		.dbg	line,	"include\routines_LEVELS.c", 2230; {
13372                        	
13373                        		.dbg	line,	"include\routines_LEVELS.c", 2231; sgx_map_pxl_y -= (i - 1);
13374                        		__ld.um		__update_PLAYER_end - 2  /* i */
         01:CFFB  AD 0B 23   			lda	__update_PLAYER_end - 2
         01:CFFE  C2         			cly
13375                        		__sub.wi	1
         01:CFFF  38         			sec
         01:D000  E9 01      			sbc.l	#1
         01:D002  B0 01      			bcs	!+
         01:D004  88         			dey
         01:D005             	!:
13376                        		__isub_st.wmq	_sgx_map_pxl_y
         01:D005  38         			sec
         01:D006  49 FF      			eor	#$FF
         01:D008  6D DC 26   			adc.l	_sgx_map_pxl_y
         01:D00B  8D DC 26   			sta.l	_sgx_map_pxl_y
         01:D00E  98         			tya
         01:D00F  49 FF      			eor	#$FF
         01:D011  6D DD 26   			adc.h	_sgx_map_pxl_y
         01:D014  8D DD 26   			sta.h	_sgx_map_pxl_y
13377                        	
13378                        		.dbg	line,	"include\routines_LEVELS.c", 2232; }
13379    01:D017             	.LL656	.alias		.LL653
13380                        	
13381                        		.dbg	line,	"include\routines_LEVELS.c", 2234; break;
13382                        		__bra		.LL653
         01:D017  80 02      			bra	.LL653
13383                        	
13384                        		.dbg	line,	"include\routines_LEVELS.c", 2235; }
13385                        	
13386                        		.dbg	line,	"include\routines_LEVELS.c", 2236; }
13387    01:D019             	.LL654	.alias		.LL651
13388                        		__bra		.LL651
         01:D019  80 83      			bra	.LL651
13389    01:D01B             	.LL653:
13390                        	
13391                        		.dbg	line,	"include\routines_LEVELS.c", 2238; // SET PLAYER SPRITE NEW POSITION //
13392                        	
13393                        		.dbg	line,	"include\routines_LEVELS.c", 2239; spr_y(player_pos_y);
13394                        		__ld.wm		_player_pos_y
         01:D01B  AD F9 24   			lda.l	_player_pos_y
         01:D01E  AC FA 24   			ldy.h	_player_pos_y
13395                        		__call		_spr_y.1
         01:D021  20 2D E8   			call	_spr_y.1
13396                        	
13397                        		.dbg	line,	"include\routines_LEVELS.c", 2241; spr_set(weapon_id);
13398                        		__ld.umq	_weapon_id
         01:D024  AD 27 23   			lda	_weapon_id
13399                        		__call		_spr_set.1
         01:D027  20 F1 E7   			call	_spr_set.1
13400                        	
13401                        		.dbg	line,	"include\routines_LEVELS.c", 2242; spr_y(player_pos_y+8);
13402                        		__ld.wm		_player_pos_y
         01:D02A  AD F9 24   			lda.l	_player_pos_y
         01:D02D  AC FA 24   			ldy.h	_player_pos_y
13403                        		__add.wi	8
         01:D030  18         			clc
         01:D031  69 08      			adc.l	#8
         01:D033  90 01      			bcc	!+
         01:D035  C8         			iny
         01:D036             	!:
13404                        		__call		_spr_y.1
         01:D036  20 2D E8   			call	_spr_y.1
13405                        	
13406                        		.dbg	line,	"include\routines_LEVELS.c", 2244; player_counter_anim = 1;
13407                        		__st.umiq	1, _player_counter_anim
         01:D039  A9 01      			lda.l	#1
         01:D03B  8D 1C 23   			sta	_player_counter_anim
13408                        	
13409                        		.dbg	line,	"include\routines_LEVELS.c", 2245; player_index_jump = 0;
13410                        		__st.umiq	0, _player_index_jump
         01:D03E  9C 1D 23   			stz	_player_index_jump
13411                        	
13412                        		.dbg	line,	"include\routines_LEVELS.c", 2246; jump_ladder = FALSE;
13413                        		__st.umiq	0, _jump_ladder
         01:D041  9C 22 23   			stz	_jump_ladder
13414                        	
13415                        		.dbg	line,	"include\routines_LEVELS.c", 2247; hit_wall = FALSE;
13416                        		__st.umiq	0, _hit_wall
         01:D044  9C 25 23   			stz	_hit_wall
13417                        	
13418                        		.dbg	line,	"include\routines_LEVELS.c", 2248; jump_max_index = 34;
13419                        		__st.umiq	34, _jump_max_index
         01:D047  A9 22      			lda.l	#34
         01:D049  8D 23 23   			sta	_jump_max_index
13420                        	
13421                        		.dbg	line,	"include\routines_LEVELS.c", 2249; player_state = STATE_IDLE;
13422                        		__st.umiq	0, _player_state
         01:D04C  9C 19 23   			stz	_player_state
13423                        	
13424                        		.dbg	line,	"include\routines_LEVELS.c", 2250; return;
13425                        		__bra		.LL529
         01:D04F  4C DA DC   			bra	.LL529
13426                        	
13427                        		.dbg	line,	"include\routines_LEVELS.c", 2251; }
13428                        	
13429                        		.dbg	line,	"include\routines_LEVELS.c", 2253; // IF PLAYER TOUCHES THE GROUND TO THE RIGHT //
13430                        	
13431                        		.dbg	line,	"include\routines_LEVELS.c", 2254; else
13432    01:D052             	.LL649:
13433                        	
13434                        		.dbg	line,	"include\routines_LEVELS.c", 2255; {
13435                        	
13436                        		.dbg	line,	"include\routines_LEVELS.c", 2256; // CHECK COLLISION WITH RIGHT FLOOR //
13437                        	
13438                        		.dbg	line,	"include\routines_LEVELS.c", 2257; collision_PLAYER_BG( 22 , 32 );
13439                        		__ld.wi		22
         01:D052  A9 16      			lda.l	#22
         01:D054  C2         			cly
13440                        		__pusharg.wr
         01:D055  A6 8D      			ldx	<__sp
         01:D057  CA         			dex
         01:D058  CA         			dex
         01:D059  95 08      			sta.l	<__stack, x
         01:D05B  94 09      			sty.h	<__stack, x
         01:D05D  86 8D      			stx	<__sp
13441                        		__ld.wi		32
         01:D05F  A9 20      			lda.l	#32
         01:D061  C2         			cly
13442                        		__pusharg.wr
         01:D062  A6 8D      			ldx	<__sp
         01:D064  CA         			dex
         01:D065  CA         			dex
         01:D066  95 08      			sta.l	<__stack, x
         01:D068  94 09      			sty.h	<__stack, x
         01:D06A  86 8D      			stx	<__sp
13443                        		__call		_collision_PLAYER_BG
         01:D06C  20 27 FF   			call	_collision_PLAYER_BG
13444                        	
13445                        		.dbg	line,	"include\routines_LEVELS.c", 2259; if(map_blk_flag == TILE_BG)
13446                        		__ld.umq	_map_blk_flag
         01:D06F  AD FB 2B   			lda	_map_blk_flag
13447                        		__equ_b.uiq	1
         01:D072  C9 01      			cmp	#1
         01:D074  F0 01      			beq	!+
         01:D076  18         			clc
         01:D077             	!:
13448                        		__bfalse	.LL658
         01:D077  B0 03 4C 42			bcc	.LL658
         01:D07B  D1          
13449                        	
13450                        		.dbg	line,	"include\routines_LEVELS.c", 2260; {
13451                        	
13452                        		.dbg	line,	"include\routines_LEVELS.c", 2261; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
13453                        	
13454                        		.dbg	line,	"include\routines_LEVELS.c", 2262; for(i=1; i<11 ; i++)
13455                        		__st.umiq	1, __update_PLAYER_end - 2  /* i */
         01:D07C  A9 01      			lda.l	#1
         01:D07E  8D 0B 23   			sta	__update_PLAYER_end - 2
13456    01:D081             	.LL659:
13457                        		__ld.umq	__update_PLAYER_end - 2  /* i */
         01:D081  AD 0B 23   			lda	__update_PLAYER_end - 2
13458                        		__ult_b.uiq	11
         01:D084  C9 0B      			cmp	#11		; Subtract integer from A.
         01:D086  6A         			ror	a		; CC if A < integer.
         01:D087  49 80      			eor	#$80
         01:D089  2A         			rol	a
13459                        		__btrue		.LL661
         01:D08A  B0 07      			bcs	.LL661
13460                        		__bra		.LL662
         01:D08C  80 7D      			bra	.LL662
13461    01:D08E             	.LL660:
13462                        		__inc.umq	__update_PLAYER_end - 2  /* i */
         01:D08E  EE 0B 23   			inc	__update_PLAYER_end - 2
13463                        		__bra		.LL659
         01:D091  80 EE      			bra	.LL659
13464    01:D093             	.LL661:
13465                        	
13466                        		.dbg	line,	"include\routines_LEVELS.c", 2263; {
13467                        	
13468                        		.dbg	line,	"include\routines_LEVELS.c", 2264; check_TILE_DEPTH( 22 , i);
13469                        		__ld.wi		22
         01:D093  A9 16      			lda.l	#22
         01:D095  C2         			cly
13470                        		__pusharg.wr
         01:D096  A6 8D      			ldx	<__sp
         01:D098  CA         			dex
         01:D099  CA         			dex
         01:D09A  95 08      			sta.l	<__stack, x
         01:D09C  94 09      			sty.h	<__stack, x
         01:D09E  86 8D      			stx	<__sp
13471                        		__ld.um		__update_PLAYER_end - 2  /* i */
         01:D0A0  AD 0B 23   			lda	__update_PLAYER_end - 2
         01:D0A3  C2         			cly
13472                        		__pusharg.wr
         01:D0A4  A6 8D      			ldx	<__sp
         01:D0A6  CA         			dex
         01:D0A7  CA         			dex
         01:D0A8  95 08      			sta.l	<__stack, x
         01:D0AA  94 09      			sty.h	<__stack, x
         01:D0AC  86 8D      			stx	<__sp
13473                        		__call		_check_TILE_DEPTH
         01:D0AE  20 13 FF   			call	_check_TILE_DEPTH
13474                        	
13475                        		.dbg	line,	"include\routines_LEVELS.c", 2266; if(map_blk_flag == TILE_EMPTY)
13476                        		__not.um	_map_blk_flag
         01:D0B1  AD FB 2B   			lda	_map_blk_flag
         01:D0B4  18         			clc
         01:D0B5  D0 01      			bne	!+
         01:D0B7  38         			sec
         01:D0B8             	!:
13477                        		__bfalse	.LL663
         01:D0B8  90 D4      			bcc	.LL663
13478                        	
13479                        		.dbg	line,	"include\routines_LEVELS.c", 2267; {
13480                        	
13481                        		.dbg	line,	"include\routines_LEVELS.c", 2268; if(player_pos_y != PLAYER_BASE_Y_POS)
13482                        		__ld.wm		_player_pos_y
         01:D0BA  AD F9 24   			lda.l	_player_pos_y
         01:D0BD  AC FA 24   			ldy.h	_player_pos_y
13483                        		__neq_w.wi	128
         01:D0C0  38         			sec
         01:D0C1  49 80      			eor.l	#128
         01:D0C3  D0 06      			bne	!+
         01:D0C5  98         			tya
         01:D0C6  49 00      			eor.h	#128
         01:D0C8  D0 01      			bne	!+
         01:D0CA  18         			clc
         01:D0CB             	!:
13484                        		__bfalse	.LL664
         01:D0CB  90 1E      			bcc	.LL664
13485                        	
13486                        		.dbg	line,	"include\routines_LEVELS.c", 2269; {
13487                        	
13488                        		.dbg	line,	"include\routines_LEVELS.c", 2270; player_pos_y -= (i - 1);
13489                        		__ld.um		__update_PLAYER_end - 2  /* i */
         01:D0CD  AD 0B 23   			lda	__update_PLAYER_end - 2
         01:D0D0  C2         			cly
13490                        		__sub.wi	1
         01:D0D1  38         			sec
         01:D0D2  E9 01      			sbc.l	#1
         01:D0D4  B0 01      			bcs	!+
         01:D0D6  88         			dey
         01:D0D7             	!:
13491                        		__isub_st.wmq	_player_pos_y
         01:D0D7  38         			sec
         01:D0D8  49 FF      			eor	#$FF
         01:D0DA  6D F9 24   			adc.l	_player_pos_y
         01:D0DD  8D F9 24   			sta.l	_player_pos_y
         01:D0E0  98         			tya
         01:D0E1  49 FF      			eor	#$FF
         01:D0E3  6D FA 24   			adc.h	_player_pos_y
         01:D0E6  8D FA 24   			sta.h	_player_pos_y
13492                        	
13493                        		.dbg	line,	"include\routines_LEVELS.c", 2271; }
13494                        	
13495                        		.dbg	line,	"include\routines_LEVELS.c", 2273; else
13496                        		__bra		.LL665
         01:D0E9  80 20      			bra	.LL665
13497    01:D0EB             	.LL664:
13498                        	
13499                        		.dbg	line,	"include\routines_LEVELS.c", 2274; {
13500                        	
13501                        		.dbg	line,	"include\routines_LEVELS.c", 2275; sgx_map_pxl_y -= (i - 1);
13502                        		__ld.um		__update_PLAYER_end - 2  /* i */
         01:D0EB  AD 0B 23   			lda	__update_PLAYER_end - 2
         01:D0EE  C2         			cly
13503                        		__sub.wi	1
         01:D0EF  38         			sec
         01:D0F0  E9 01      			sbc.l	#1
         01:D0F2  B0 01      			bcs	!+
         01:D0F4  88         			dey
         01:D0F5             	!:
13504                        		__isub_st.wmq	_sgx_map_pxl_y
         01:D0F5  38         			sec
         01:D0F6  49 FF      			eor	#$FF
         01:D0F8  6D DC 26   			adc.l	_sgx_map_pxl_y
         01:D0FB  8D DC 26   			sta.l	_sgx_map_pxl_y
         01:D0FE  98         			tya
         01:D0FF  49 FF      			eor	#$FF
         01:D101  6D DD 26   			adc.h	_sgx_map_pxl_y
         01:D104  8D DD 26   			sta.h	_sgx_map_pxl_y
13505                        	
13506                        		.dbg	line,	"include\routines_LEVELS.c", 2276; }
13507    01:D107             	.LL665	.alias		.LL662
13508                        	
13509                        		.dbg	line,	"include\routines_LEVELS.c", 2278; break;
13510                        		__bra		.LL662
         01:D107  80 02      			bra	.LL662
13511                        	
13512                        		.dbg	line,	"include\routines_LEVELS.c", 2279; }
13513                        	
13514                        		.dbg	line,	"include\routines_LEVELS.c", 2280; }
13515    01:D109             	.LL663	.alias		.LL660
13516                        		__bra		.LL660
         01:D109  80 83      			bra	.LL660
13517    01:D10B             	.LL662:
13518                        	
13519                        		.dbg	line,	"include\routines_LEVELS.c", 2282; // SET PLAYER SPRITE NEW POSITION //
13520                        	
13521                        		.dbg	line,	"include\routines_LEVELS.c", 2283; spr_y(player_pos_y);
13522                        		__ld.wm		_player_pos_y
         01:D10B  AD F9 24   			lda.l	_player_pos_y
         01:D10E  AC FA 24   			ldy.h	_player_pos_y
13523                        		__call		_spr_y.1
         01:D111  20 2D E8   			call	_spr_y.1
13524                        	
13525                        		.dbg	line,	"include\routines_LEVELS.c", 2285; spr_set(weapon_id);
13526                        		__ld.umq	_weapon_id
         01:D114  AD 27 23   			lda	_weapon_id
13527                        		__call		_spr_set.1
         01:D117  20 F1 E7   			call	_spr_set.1
13528                        	
13529                        		.dbg	line,	"include\routines_LEVELS.c", 2286; spr_y(player_pos_y+8);
13530                        		__ld.wm		_player_pos_y
         01:D11A  AD F9 24   			lda.l	_player_pos_y
         01:D11D  AC FA 24   			ldy.h	_player_pos_y
13531                        		__add.wi	8
         01:D120  18         			clc
         01:D121  69 08      			adc.l	#8
         01:D123  90 01      			bcc	!+
         01:D125  C8         			iny
         01:D126             	!:
13532                        		__call		_spr_y.1
         01:D126  20 2D E8   			call	_spr_y.1
13533                        	
13534                        		.dbg	line,	"include\routines_LEVELS.c", 2288; player_counter_anim = 1;
13535                        		__st.umiq	1, _player_counter_anim
         01:D129  A9 01      			lda.l	#1
         01:D12B  8D 1C 23   			sta	_player_counter_anim
13536                        	
13537                        		.dbg	line,	"include\routines_LEVELS.c", 2289; player_index_jump = 0;
13538                        		__st.umiq	0, _player_index_jump
         01:D12E  9C 1D 23   			stz	_player_index_jump
13539                        	
13540                        		.dbg	line,	"include\routines_LEVELS.c", 2290; jump_ladder = FALSE;
13541                        		__st.umiq	0, _jump_ladder
         01:D131  9C 22 23   			stz	_jump_ladder
13542                        	
13543                        		.dbg	line,	"include\routines_LEVELS.c", 2291; hit_wall = FALSE;
13544                        		__st.umiq	0, _hit_wall
         01:D134  9C 25 23   			stz	_hit_wall
13545                        	
13546                        		.dbg	line,	"include\routines_LEVELS.c", 2292; jump_max_index = 34;
13547                        		__st.umiq	34, _jump_max_index
         01:D137  A9 22      			lda.l	#34
         01:D139  8D 23 23   			sta	_jump_max_index
13548                        	
13549                        		.dbg	line,	"include\routines_LEVELS.c", 2293; player_state = STATE_IDLE;
13550                        		__st.umiq	0, _player_state
         01:D13C  9C 19 23   			stz	_player_state
13551                        	
13552                        		.dbg	line,	"include\routines_LEVELS.c", 2294; return;
13553                        		__bra		.LL529
         01:D13F  4C DA DC   			bra	.LL529
13554                        	
13555                        		.dbg	line,	"include\routines_LEVELS.c", 2295; }
13556                        	
13557                        		.dbg	line,	"include\routines_LEVELS.c", 2296; }
13558    01:D142             	.LL658:
13559    01:D142             	.LL657:
13560                        	
13561                        		.dbg	line,	"include\routines_LEVELS.c", 2297; }
13562                        	
13563                        		.dbg	line,	"include\routines_LEVELS.c", 2302; //--------------------------------------------------------------------------------------//
13564                        	
13565                        		.dbg	line,	"include\routines_LEVELS.c", 2303; //                                   LADDER COLLISION                                   //
13566                        	
13567                        		.dbg	line,	"include\routines_LEVELS.c", 2304; //--------------------------------------------------------------------------------------//
13568                        	
13569                        		.dbg	line,	"include\routines_LEVELS.c", 2306; if(player_index_jump > 4)
13570    01:D142             	.LL648:
13571                        		__ld.umq	_player_index_jump
         01:D142  AD 1D 23   			lda	_player_index_jump
13572                        		__ugt_b.uiq	4
         01:D145  18         			clc			; Subtract integer+1 from A.
         01:D146  E9 04      			sbc	#4		; CS if A > integer.
13573                        		__bfalse	.LL666
         01:D148  B0 03 4C DD			bcc	.LL666
         01:D14C  D1          
13574                        	
13575                        		.dbg	line,	"include\routines_LEVELS.c", 2307; {
13576                        	
13577                        		.dbg	line,	"include\routines_LEVELS.c", 2308; collision_PLAYER_BG( 16 , 16 );
13578                        		__ld.wi		16
         01:D14D  A9 10      			lda.l	#16
         01:D14F  C2         			cly
13579                        		__pusharg.wr
         01:D150  A6 8D      			ldx	<__sp
         01:D152  CA         			dex
         01:D153  CA         			dex
         01:D154  95 08      			sta.l	<__stack, x
         01:D156  94 09      			sty.h	<__stack, x
         01:D158  86 8D      			stx	<__sp
13580                        		__ld.wi		16
         01:D15A  A9 10      			lda.l	#16
         01:D15C  C2         			cly
13581                        		__pusharg.wr
         01:D15D  A6 8D      			ldx	<__sp
         01:D15F  CA         			dex
         01:D160  CA         			dex
         01:D161  95 08      			sta.l	<__stack, x
         01:D163  94 09      			sty.h	<__stack, x
         01:D165  86 8D      			stx	<__sp
13582                        		__call		_collision_PLAYER_BG
         01:D167  20 27 FF   			call	_collision_PLAYER_BG
13583                        	
13584                        		.dbg	line,	"include\routines_LEVELS.c", 2310; // IF PLAYER HITS THE LADDER //
13585                        	
13586                        		.dbg	line,	"include\routines_LEVELS.c", 2311; if(map_blk_flag == TILE_LADDER)
13587                        		__ld.umq	_map_blk_flag
         01:D16A  AD FB 2B   			lda	_map_blk_flag
13588                        		__equ_b.uiq	2
         01:D16D  C9 02      			cmp	#2
         01:D16F  F0 01      			beq	!+
         01:D171  18         			clc
         01:D172             	!:
13589                        		__bfalse	.LL667
         01:D172  90 69      			bcc	.LL667
13590                        	
13591                        		.dbg	line,	"include\routines_LEVELS.c", 2312; {
13592                        	
13593                        		.dbg	line,	"include\routines_LEVELS.c", 2313; // CAMERA GOES 8 PX BACKWARD //
13594                        	
13595                        		.dbg	line,	"include\routines_LEVELS.c", 2314; sgx_map_pxl_x = ( (sgx_map_pxl_x >> 3) << 3 );
13596                        		__ld.wm		_sgx_map_pxl_x
         01:D174  AD DA 26   			lda.l	_sgx_map_pxl_x
         01:D177  AC DB 26   			ldy.h	_sgx_map_pxl_x
13597                        		__lsr.wi	3
         01:D17A  84 00      			sty	__temp
         01:D17C  20 3A E2   			jsr	lsrw3
13598                        		__asl.wi	3
         01:D17F  84 00      			sty	__temp
         01:D181  20 D7 E1   			jsr	aslw3
13599                        		__st.wmq	_sgx_map_pxl_x
         01:D184  8D DA 26   			sta.l	_sgx_map_pxl_x
         01:D187  8C DB 26   			sty.h	_sgx_map_pxl_x
13600                        	
13601                        		.dbg	line,	"include\routines_LEVELS.c", 2316; // SO WE UPDATE THE MAP //
13602                        	
13603                        		.dbg	line,	"include\routines_LEVELS.c", 2317; sgx_scroll_map();
13604                        		__call		_sgx_scroll_map
         01:D18A  20 59 FF   			call	_sgx_scroll_map
13605                        	
13606                        		.dbg	line,	"include\routines_LEVELS.c", 2319; // CHECK IF THE PLAYER STANDS RIGHT TO THE LADDER //
13607                        	
13608                        		.dbg	line,	"include\routines_LEVELS.c", 2320; collision_PLAYER_BG( 31 , 16 );
13609                        		__ld.wi		31
         01:D18D  A9 1F      			lda.l	#31
         01:D18F  C2         			cly
13610                        		__pusharg.wr
         01:D190  A6 8D      			ldx	<__sp
         01:D192  CA         			dex
         01:D193  CA         			dex
         01:D194  95 08      			sta.l	<__stack, x
         01:D196  94 09      			sty.h	<__stack, x
         01:D198  86 8D      			stx	<__sp
13611                        		__ld.wi		16
         01:D19A  A9 10      			lda.l	#16
         01:D19C  C2         			cly
13612                        		__pusharg.wr
         01:D19D  A6 8D      			ldx	<__sp
         01:D19F  CA         			dex
         01:D1A0  CA         			dex
         01:D1A1  95 08      			sta.l	<__stack, x
         01:D1A3  94 09      			sty.h	<__stack, x
         01:D1A5  86 8D      			stx	<__sp
13613                        		__call		_collision_PLAYER_BG
         01:D1A7  20 27 FF   			call	_collision_PLAYER_BG
13614                        	
13615                        		.dbg	line,	"include\routines_LEVELS.c", 2322; if(map_blk_flag == TILE_LADDER)
13616                        		__ld.umq	_map_blk_flag
         01:D1AA  AD FB 2B   			lda	_map_blk_flag
13617                        		__equ_b.uiq	2
         01:D1AD  C9 02      			cmp	#2
         01:D1AF  F0 01      			beq	!+
         01:D1B1  18         			clc
         01:D1B2             	!:
13618                        		__bfalse	.LL668
         01:D1B2  90 0E      			bcc	.LL668
13619                        	
13620                        		.dbg	line,	"include\routines_LEVELS.c", 2323; {
13621                        	
13622                        		.dbg	line,	"include\routines_LEVELS.c", 2324; sgx_map_pxl_x += 8;
13623                        		__add_st.wmiq	8, _sgx_map_pxl_x
         01:D1B4  18         			clc
         01:D1B5  AD DA 26   			lda.l	_sgx_map_pxl_x
         01:D1B8  69 08      			adc.l	#8
         01:D1BA  8D DA 26   			sta.l	_sgx_map_pxl_x
         01:D1BD  90 03      			bcc	!+
         01:D1BF  EE DB 26   			inc.h	_sgx_map_pxl_x
         01:D1C2             	!:
13624                        	
13625                        		.dbg	line,	"include\routines_LEVELS.c", 2325; }
13626                        	
13627                        		.dbg	line,	"include\routines_LEVELS.c", 2327; spr_pattern(PLAYER_HANG_VRAM_ADR);
13628    01:D1C2             	.LL668:
13629                        		__ld.wi		8448
         01:D1C2  62         			cla
         01:D1C3  A0 21      			ldy.h	#8448
13630                        		__call		_spr_pattern.1
         01:D1C5  20 3A E8   			call	_spr_pattern.1
13631                        	
13632                        		.dbg	line,	"include\routines_LEVELS.c", 2328; player_counter_anim = 0;
13633                        		__st.umiq	0, _player_counter_anim
         01:D1C8  9C 1C 23   			stz	_player_counter_anim
13634                        	
13635                        		.dbg	line,	"include\routines_LEVELS.c", 2329; player_index_jump = 0;
13636                        		__st.umiq	0, _player_index_jump
         01:D1CB  9C 1D 23   			stz	_player_index_jump
13637                        	
13638                        		.dbg	line,	"include\routines_LEVELS.c", 2330; jump_ladder = TRUE;
13639                        		__st.umiq	1, _jump_ladder
         01:D1CE  A9 01      			lda.l	#1
         01:D1D0  8D 22 23   			sta	_jump_ladder
13640                        	
13641                        		.dbg	line,	"include\routines_LEVELS.c", 2331; jump_max_index = 29;
13642                        		__st.umiq	29, _jump_max_index
         01:D1D3  A9 1D      			lda.l	#29
         01:D1D5  8D 23 23   			sta	_jump_max_index
13643                        	
13644                        		.dbg	line,	"include\routines_LEVELS.c", 2332; player_state = STATE_HANG;
13645                        		__st.umiq	10, _player_state
         01:D1D8  A9 0A      			lda.l	#10
         01:D1DA  8D 19 23   			sta	_player_state
13646                        	
13647                        		.dbg	line,	"include\routines_LEVELS.c", 2333; }
13648                        	
13649                        		.dbg	line,	"include\routines_LEVELS.c", 2334; }
13650    01:D1DD             	.LL667:
13651                        	
13652                        		.dbg	line,	"include\routines_LEVELS.c", 2337; // SET PLAYER SPRITE NEW POSITION //
13653                        	
13654                        		.dbg	line,	"include\routines_LEVELS.c", 2338; spr_y(player_pos_y);
13655    01:D1DD             	.LL666:
13656                        		__ld.wm		_player_pos_y
         01:D1DD  AD F9 24   			lda.l	_player_pos_y
         01:D1E0  AC FA 24   			ldy.h	_player_pos_y
13657                        		__call		_spr_y.1
         01:D1E3  20 2D E8   			call	_spr_y.1
13658                        	
13659                        		.dbg	line,	"include\routines_LEVELS.c", 2339; spr_set(weapon_id);
13660                        		__ld.umq	_weapon_id
         01:D1E6  AD 27 23   			lda	_weapon_id
13661                        		__call		_spr_set.1
         01:D1E9  20 F1 E7   			call	_spr_set.1
13662                        	
13663                        		.dbg	line,	"include\routines_LEVELS.c", 2340; spr_y(player_pos_y+8);
13664                        		__ld.wm		_player_pos_y
         01:D1EC  AD F9 24   			lda.l	_player_pos_y
         01:D1EF  AC FA 24   			ldy.h	_player_pos_y
13665                        		__add.wi	8
         01:D1F2  18         			clc
         01:D1F3  69 08      			adc.l	#8
         01:D1F5  90 01      			bcc	!+
         01:D1F7  C8         			iny
         01:D1F8             	!:
13666                        		__call		_spr_y.1
         01:D1F8  20 2D E8   			call	_spr_y.1
13667                        	
13668                        		.dbg	line,	"include\routines_LEVELS.c", 2341; }
13669                        	
13670                        		.dbg	line,	"include\routines_LEVELS.c", 2344; else if(player_state == STATE_JUMP_LEFT)
13671                        		__bra		.LL669
         01:D1FB  4C DA DC   			bra	.LL669
13672    01:D1FE             	.LL633:
13673                        		__ld.umq	_player_state
         01:D1FE  AD 19 23   			lda	_player_state
13674                        		__equ_b.uiq	6
         01:D201  C9 06      			cmp	#6
         01:D203  F0 01      			beq	!+
         01:D205  18         			clc
         01:D206             	!:
13675                        		__bfalse	.LL670
         01:D206  B0 03 4C 67			bcc	.LL670
         01:D20A  D6          
13676                        	
13677                        		.dbg	line,	"include\routines_LEVELS.c", 2345; {
13678                        	
13679                        		.dbg	line,	"include\routines_LEVELS.c", 2346; unsigned char i, camera_y_move;
13680                        	
13681                        		.dbg	line,	"include\routines_LEVELS.c", 2347; i = 1;
13682                        		__st.umiq	1, __update_PLAYER_end - 4  /* i */
         01:D20B  A9 01      			lda.l	#1
         01:D20D  8D 09 23   			sta	__update_PLAYER_end - 4
13683                        	
13684                        		.dbg	line,	"include\routines_LEVELS.c", 2350; // UPDATE PLAYER TILES //
13685                        	
13686                        		.dbg	line,	"include\routines_LEVELS.c", 2351; if(player_counter_anim == 0)
13687                        		__not.um	_player_counter_anim
         01:D210  AD 1C 23   			lda	_player_counter_anim
         01:D213  18         			clc
         01:D214  D0 01      			bne	!+
         01:D216  38         			sec
         01:D217             	!:
13688                        		__bfalse	.LL671
         01:D217  90 11      			bcc	.LL671
13689                        	
13690                        		.dbg	line,	"include\routines_LEVELS.c", 2352; {
13691                        	
13692                        		.dbg	line,	"include\routines_LEVELS.c", 2353; spr_set(player_id);
13693                        		__ld.umq	_player_id
         01:D219  AD 18 23   			lda	_player_id
13694                        		__call		_spr_set.1
         01:D21C  20 F1 E7   			call	_spr_set.1
13695                        	
13696                        		.dbg	line,	"include\routines_LEVELS.c", 2354; spr_pattern(PLAYER_JUMP_VRAM_ADR);
13697                        		__ld.wi		7936
         01:D21F  62         			cla
         01:D220  A0 1F      			ldy.h	#7936
13698                        		__call		_spr_pattern.1
         01:D222  20 3A E8   			call	_spr_pattern.1
13699                        	
13700                        		.dbg	line,	"include\routines_LEVELS.c", 2356; player_counter_anim = 1;
13701                        		__st.umiq	1, _player_counter_anim
         01:D225  A9 01      			lda.l	#1
         01:D227  8D 1C 23   			sta	_player_counter_anim
13702                        	
13703                        		.dbg	line,	"include\routines_LEVELS.c", 2357; }
13704                        	
13705                        		.dbg	line,	"include\routines_LEVELS.c", 2360; // SELECT PLAYER SPRITE //
13706                        	
13707                        		.dbg	line,	"include\routines_LEVELS.c", 2361; spr_set(player_id);
13708    01:D22A             	.LL671:
13709                        		__ld.umq	_player_id
         01:D22A  AD 18 23   			lda	_player_id
13710                        		__call		_spr_set.1
         01:D22D  20 F1 E7   			call	_spr_set.1
13711                        	
13712                        		.dbg	line,	"include\routines_LEVELS.c", 2364; //**************************************************************************************//
13713                        	
13714                        		.dbg	line,	"include\routines_LEVELS.c", 2365; //                                        H MOVE                                        //
13715                        	
13716                        		.dbg	line,	"include\routines_LEVELS.c", 2366; //**************************************************************************************//
13717                        	
13718                        		.dbg	line,	"include\routines_LEVELS.c", 2368; //--------------------------------------------------------------------------------------//
13719                        	
13720                        		.dbg	line,	"include\routines_LEVELS.c", 2369; //                                    WALL COLLISION                                    //
13721                        	
13722                        		.dbg	line,	"include\routines_LEVELS.c", 2370; //--------------------------------------------------------------------------------------//
13723                        	
13724                        		.dbg	line,	"include\routines_LEVELS.c", 2372; // CHECK COLLISION WITH BOTTOM LEFT WALL //
13725                        	
13726                        		.dbg	line,	"include\routines_LEVELS.c", 2373; collision_PLAYER_BG( 8 , 31 );
13727                        		__ld.wi		8
         01:D230  A9 08      			lda.l	#8
         01:D232  C2         			cly
13728                        		__pusharg.wr
         01:D233  A6 8D      			ldx	<__sp
         01:D235  CA         			dex
         01:D236  CA         			dex
         01:D237  95 08      			sta.l	<__stack, x
         01:D239  94 09      			sty.h	<__stack, x
         01:D23B  86 8D      			stx	<__sp
13729                        		__ld.wi		31
         01:D23D  A9 1F      			lda.l	#31
         01:D23F  C2         			cly
13730                        		__pusharg.wr
         01:D240  A6 8D      			ldx	<__sp
         01:D242  CA         			dex
         01:D243  CA         			dex
         01:D244  95 08      			sta.l	<__stack, x
         01:D246  94 09      			sty.h	<__stack, x
         01:D248  86 8D      			stx	<__sp
13731                        		__call		_collision_PLAYER_BG
         01:D24A  20 27 FF   			call	_collision_PLAYER_BG
13732                        	
13733                        		.dbg	line,	"include\routines_LEVELS.c", 2375; if(map_blk_flag != TILE_BG)
13734                        		__ld.umq	_map_blk_flag
         01:D24D  AD FB 2B   			lda	_map_blk_flag
13735                        		__neq_b.uiq	1
         01:D250  38         			sec
         01:D251  49 01      			eor	#1
         01:D253  D0 01      			bne	!+
         01:D255  18         			clc
         01:D256             	!:
13736                        		__bfalse	.LL672
         01:D256  90 78      			bcc	.LL672
13737                        	
13738                        		.dbg	line,	"include\routines_LEVELS.c", 2376; {
13739                        	
13740                        		.dbg	line,	"include\routines_LEVELS.c", 2377; // CHECK COLLISION WITH TOP RIGHT WALL //
13741                        	
13742                        		.dbg	line,	"include\routines_LEVELS.c", 2378; collision_PLAYER_BG( 8 , 15 );
13743                        		__ld.wi		8
         01:D258  A9 08      			lda.l	#8
         01:D25A  C2         			cly
13744                        		__pusharg.wr
         01:D25B  A6 8D      			ldx	<__sp
         01:D25D  CA         			dex
         01:D25E  CA         			dex
         01:D25F  95 08      			sta.l	<__stack, x
         01:D261  94 09      			sty.h	<__stack, x
         01:D263  86 8D      			stx	<__sp
13745                        		__ld.wi		15
         01:D265  A9 0F      			lda.l	#15
         01:D267  C2         			cly
13746                        		__pusharg.wr
         01:D268  A6 8D      			ldx	<__sp
         01:D26A  CA         			dex
         01:D26B  CA         			dex
         01:D26C  95 08      			sta.l	<__stack, x
         01:D26E  94 09      			sty.h	<__stack, x
         01:D270  86 8D      			stx	<__sp
13747                        		__call		_collision_PLAYER_BG
         01:D272  20 27 FF   			call	_collision_PLAYER_BG
13748                        	
13749                        		.dbg	line,	"include\routines_LEVELS.c", 2380; if(map_blk_flag == TILE_BG)
13750                        		__ld.umq	_map_blk_flag
         01:D275  AD FB 2B   			lda	_map_blk_flag
13751                        		__equ_b.uiq	1
         01:D278  C9 01      			cmp	#1
         01:D27A  F0 01      			beq	!+
         01:D27C  18         			clc
         01:D27D             	!:
13752                        		__bfalse	.LL673
         01:D27D  90 41      			bcc	.LL673
13753                        	
13754                        		.dbg	line,	"include\routines_LEVELS.c", 2381; {
13755                        	
13756                        		.dbg	line,	"include\routines_LEVELS.c", 2382; check_TILE_DEPTH( 15 , -16 );
13757                        		__ld.wi		15
         01:D27F  A9 0F      			lda.l	#15
         01:D281  C2         			cly
13758                        		__pusharg.wr
         01:D282  A6 8D      			ldx	<__sp
         01:D284  CA         			dex
         01:D285  CA         			dex
         01:D286  95 08      			sta.l	<__stack, x
         01:D288  94 09      			sty.h	<__stack, x
         01:D28A  86 8D      			stx	<__sp
13759                        		__ld.wi		-16
         01:D28C  A9 F0      			lda.l	#-16
         01:D28E  A0 FF      			ldy.h	#-16
13760                        		__pusharg.wr
         01:D290  A6 8D      			ldx	<__sp
         01:D292  CA         			dex
         01:D293  CA         			dex
         01:D294  95 08      			sta.l	<__stack, x
         01:D296  94 09      			sty.h	<__stack, x
         01:D298  86 8D      			stx	<__sp
13761                        		__call		_check_TILE_DEPTH
         01:D29A  20 13 FF   			call	_check_TILE_DEPTH
13762                        	
13763                        		.dbg	line,	"include\routines_LEVELS.c", 2384; if(map_blk_flag == TILE_EMPTY && jump_ladder == TRUE)
13764                        		__not.um	_map_blk_flag
         01:D29D  AD FB 2B   			lda	_map_blk_flag
         01:D2A0  18         			clc
         01:D2A1  D0 01      			bne	!+
         01:D2A3  38         			sec
         01:D2A4             	!:
13765                        		__bfalse	.LL675
         01:D2A4  90 08      			bcc	.LL675
13766                        		__ld.umq	_jump_ladder
         01:D2A6  AD 22 23   			lda	_jump_ladder
13767                        		__equ_b.uiq	1
         01:D2A9  C9 01      			cmp	#1
         01:D2AB  F0 01      			beq	!+
         01:D2AD  18         			clc
         01:D2AE             	!:
13768    01:D2AE             	.LL675:
13769                        		__bfalse	.LL674
         01:D2AE  90 64      			bcc	.LL674
13770                        	
13771                        		.dbg	line,	"include\routines_LEVELS.c", 2385; {
13772                        	
13773                        		.dbg	line,	"include\routines_LEVELS.c", 2386; jump_ladder = FALSE;
13774                        		__st.umiq	0, _jump_ladder
         01:D2B0  9C 22 23   			stz	_jump_ladder
13775                        	
13776                        		.dbg	line,	"include\routines_LEVELS.c", 2387; player_index_fall = 0;
13777                        		__st.umiq	0, _player_index_fall
         01:D2B3  9C 1E 23   			stz	_player_index_fall
13778                        	
13779                        		.dbg	line,	"include\routines_LEVELS.c", 2388; player_state = STATE_FALL;
13780                        		__st.umiq	9, _player_state
         01:D2B6  A9 09      			lda.l	#9
         01:D2B8  8D 19 23   			sta	_player_state
13781                        	
13782                        		.dbg	line,	"include\routines_LEVELS.c", 2389; return;
13783                        		__bra		.LL529
         01:D2BB  4C DA DC   			bra	.LL529
13784                        	
13785                        		.dbg	line,	"include\routines_LEVELS.c", 2390; }
13786                        	
13787                        		.dbg	line,	"include\routines_LEVELS.c", 2391; }
13788    01:D2BE             	.LL674	.alias		.LL676
13789                        	
13790                        		.dbg	line,	"include\routines_LEVELS.c", 2393; else
13791                        		__bra		.LL676
         01:D2BE  80 54      			bra	.LL676
13792    01:D2C0             	.LL673:
13793                        	
13794                        		.dbg	line,	"include\routines_LEVELS.c", 2394; {
13795                        	
13796                        		.dbg	line,	"include\routines_LEVELS.c", 2395; sgx_map_pxl_x -= 2;
13797                        		__sub_st.wmiq	2, _sgx_map_pxl_x
         01:D2C0  38         			sec
         01:D2C1  AD DA 26   			lda.l	_sgx_map_pxl_x
         01:D2C4  E9 02      			sbc.l	#2
         01:D2C6  8D DA 26   			sta.l	_sgx_map_pxl_x
         01:D2C9  B0 03      			bcs	!+
         01:D2CB  CE DB 26   			dec.h	_sgx_map_pxl_x
         01:D2CE             	!:
13798                        	
13799                        		.dbg	line,	"include\routines_LEVELS.c", 2396; }
13800    01:D2CE             	.LL676	.alias		.LL677
13801                        	
13802                        		.dbg	line,	"include\routines_LEVELS.c", 2397; }
13803                        	
13804                        		.dbg	line,	"include\routines_LEVELS.c", 2399; else
13805                        		__bra		.LL677
         01:D2CE  80 44      			bra	.LL677
13806    01:D2D0             	.LL672:
13807                        	
13808                        		.dbg	line,	"include\routines_LEVELS.c", 2400; {
13809                        	
13810                        		.dbg	line,	"include\routines_LEVELS.c", 2401; check_TILE_DEPTH( 15 , -16 );
13811                        		__ld.wi		15
         01:D2D0  A9 0F      			lda.l	#15
         01:D2D2  C2         			cly
13812                        		__pusharg.wr
         01:D2D3  A6 8D      			ldx	<__sp
         01:D2D5  CA         			dex
         01:D2D6  CA         			dex
         01:D2D7  95 08      			sta.l	<__stack, x
         01:D2D9  94 09      			sty.h	<__stack, x
         01:D2DB  86 8D      			stx	<__sp
13813                        		__ld.wi		-16
         01:D2DD  A9 F0      			lda.l	#-16
         01:D2DF  A0 FF      			ldy.h	#-16
13814                        		__pusharg.wr
         01:D2E1  A6 8D      			ldx	<__sp
         01:D2E3  CA         			dex
         01:D2E4  CA         			dex
         01:D2E5  95 08      			sta.l	<__stack, x
         01:D2E7  94 09      			sty.h	<__stack, x
         01:D2E9  86 8D      			stx	<__sp
13815                        		__call		_check_TILE_DEPTH
         01:D2EB  20 13 FF   			call	_check_TILE_DEPTH
13816                        	
13817                        		.dbg	line,	"include\routines_LEVELS.c", 2403; if(map_blk_flag == TILE_EMPTY && jump_ladder == TRUE)
13818                        		__not.um	_map_blk_flag
         01:D2EE  AD FB 2B   			lda	_map_blk_flag
         01:D2F1  18         			clc
         01:D2F2  D0 01      			bne	!+
         01:D2F4  38         			sec
         01:D2F5             	!:
13819                        		__bfalse	.LL679
         01:D2F5  90 08      			bcc	.LL679
13820                        		__ld.umq	_jump_ladder
         01:D2F7  AD 22 23   			lda	_jump_ladder
13821                        		__equ_b.uiq	1
         01:D2FA  C9 01      			cmp	#1
         01:D2FC  F0 01      			beq	!+
         01:D2FE  18         			clc
         01:D2FF             	!:
13822    01:D2FF             	.LL679:
13823                        		__bfalse	.LL678
         01:D2FF  90 13      			bcc	.LL678
13824                        	
13825                        		.dbg	line,	"include\routines_LEVELS.c", 2404; {
13826                        	
13827                        		.dbg	line,	"include\routines_LEVELS.c", 2405; jump_ladder = FALSE;
13828                        		__st.umiq	0, _jump_ladder
         01:D301  9C 22 23   			stz	_jump_ladder
13829                        	
13830                        		.dbg	line,	"include\routines_LEVELS.c", 2406; hit_wall = TRUE;
13831                        		__st.umiq	1, _hit_wall
         01:D304  A9 01      			lda.l	#1
         01:D306  8D 25 23   			sta	_hit_wall
13832                        	
13833                        		.dbg	line,	"include\routines_LEVELS.c", 2407; player_index_fall = 0;
13834                        		__st.umiq	0, _player_index_fall
         01:D309  9C 1E 23   			stz	_player_index_fall
13835                        	
13836                        		.dbg	line,	"include\routines_LEVELS.c", 2408; player_state = STATE_FALL;
13837                        		__st.umiq	9, _player_state
         01:D30C  A9 09      			lda.l	#9
         01:D30E  8D 19 23   			sta	_player_state
13838                        	
13839                        		.dbg	line,	"include\routines_LEVELS.c", 2409; return;
13840                        		__bra		.LL529
         01:D311  4C DA DC   			bra	.LL529
13841                        	
13842                        		.dbg	line,	"include\routines_LEVELS.c", 2410; }
13843                        	
13844                        		.dbg	line,	"include\routines_LEVELS.c", 2411; }
13845    01:D314             	.LL678:
13846    01:D314             	.LL677:
13847                        	
13848                        		.dbg	line,	"include\routines_LEVELS.c", 2416; //**************************************************************************************//
13849                        	
13850                        		.dbg	line,	"include\routines_LEVELS.c", 2417; //                                        V MOVE                                        //
13851                        	
13852                        		.dbg	line,	"include\routines_LEVELS.c", 2418; //**************************************************************************************//
13853                        	
13854                        		.dbg	line,	"include\routines_LEVELS.c", 2420; // UPDATE PLAYER Y POSITION //
13855                        	
13856                        		.dbg	line,	"include\routines_LEVELS.c", 2421; if(jump_ladder == FALSE)
13857                        		__not.um	_jump_ladder
         01:D314  AD 22 23   			lda	_jump_ladder
         01:D317  18         			clc
         01:D318  D0 01      			bne	!+
         01:D31A  38         			sec
         01:D31B             	!:
13858                        		__bfalse	.LL680
         01:D31B  90 1A      			bcc	.LL680
13859                        	
13860                        		.dbg	line,	"include\routines_LEVELS.c", 2422; {
13861                        	
13862                        		.dbg	line,	"include\routines_LEVELS.c", 2423; player_pos_y += TABLE_PLAYER_JUMP_V[player_index_jump];
13863                        		__ldx.umq	_player_index_jump
         01:D31D  AE 1D 23   			ldx	_player_index_jump
13864                        		__ld.bax	_TABLE_PLAYER_JUMP_V
         01:D320  BD 87 62   			lda	_TABLE_PLAYER_JUMP_V, x
         01:D323  C2         			cly
         01:D324  10 01      			bpl	!+
         01:D326  88         			dey
         01:D327             	!:
13865                        		__add_st.wmq	_player_pos_y
         01:D327  18         			clc
         01:D328  6D F9 24   			adc.l	_player_pos_y
         01:D32B  8D F9 24   			sta.l	_player_pos_y
         01:D32E  98         			tya
         01:D32F  6D FA 24   			adc.h	_player_pos_y
         01:D332  8D FA 24   			sta.h	_player_pos_y
13866                        	
13867                        		.dbg	line,	"include\routines_LEVELS.c", 2424; }
13868                        	
13869                        		.dbg	line,	"include\routines_LEVELS.c", 2426; else
13870                        		__bra		.LL681
         01:D335  80 18      			bra	.LL681
13871    01:D337             	.LL680:
13872                        	
13873                        		.dbg	line,	"include\routines_LEVELS.c", 2427; {
13874                        	
13875                        		.dbg	line,	"include\routines_LEVELS.c", 2428; player_pos_y += TABLE_PLAYER_JUMP_LADDER[player_index_jump];
13876                        		__ldx.umq	_player_index_jump
         01:D337  AE 1D 23   			ldx	_player_index_jump
13877                        		__ld.bax	_TABLE_PLAYER_JUMP_LADDER
         01:D33A  BD BF 62   			lda	_TABLE_PLAYER_JUMP_LADDER, x
         01:D33D  C2         			cly
         01:D33E  10 01      			bpl	!+
         01:D340  88         			dey
         01:D341             	!:
13878                        		__add_st.wmq	_player_pos_y
         01:D341  18         			clc
         01:D342  6D F9 24   			adc.l	_player_pos_y
         01:D345  8D F9 24   			sta.l	_player_pos_y
         01:D348  98         			tya
         01:D349  6D FA 24   			adc.h	_player_pos_y
         01:D34C  8D FA 24   			sta.h	_player_pos_y
13879                        	
13880                        		.dbg	line,	"include\routines_LEVELS.c", 2429; }
13881    01:D34F             	.LL681:
13882                        	
13883                        		.dbg	line,	"include\routines_LEVELS.c", 2432; // IF PLAYER GOES BELOW ITS BASE Y POSITION //
13884                        	
13885                        		.dbg	line,	"include\routines_LEVELS.c", 2433; if(player_pos_y >= PLAYER_BASE_Y_POS)
13886                        		__ld.wm		_player_pos_y
         01:D34F  AD F9 24   			lda.l	_player_pos_y
         01:D352  AC FA 24   			ldy.h	_player_pos_y
13887                        		__sge_w.wi	128
         01:D355  C9 80      			cmp.l	#128		; Subtract integer from Y:A.
         01:D357  98         			tya
         01:D358  E9 00      			sbc.h	#128
         01:D35A  50 02      			bvc	!+
         01:D35C  49 80      			eor	#$80		; +ve if Y:A >= integer (signed).
         01:D35E  49 80      	!:		eor	#$80
         01:D360  0A         			asl	a
13888                        		__bfalse	.LL682
         01:D361  90 4E      			bcc	.LL682
13889                        	
13890                        		.dbg	line,	"include\routines_LEVELS.c", 2434; {
13891                        	
13892                        		.dbg	line,	"include\routines_LEVELS.c", 2435; // THE CAMERA MOVES //
13893                        	
13894                        		.dbg	line,	"include\routines_LEVELS.c", 2436; // CALCULATE HOW MANY PIXELS THE CAMERA HAS TO MOVE DOWN //
13895                        	
13896                        		.dbg	line,	"include\routines_LEVELS.c", 2437; camera_y_move = player_pos_y - PLAYER_BASE_Y_POS;
13897                        		__ld.wm		_player_pos_y
         01:D363  AD F9 24   			lda.l	_player_pos_y
         01:D366  AC FA 24   			ldy.h	_player_pos_y
13898                        		__sub.wi	128
         01:D369  38         			sec
         01:D36A  E9 80      			sbc.l	#128
         01:D36C  B0 01      			bcs	!+
         01:D36E  88         			dey
         01:D36F             	!:
13899                        		__st.umq	__update_PLAYER_end - 5  /* camera_y_move */
         01:D36F  8D 08 23   			sta	__update_PLAYER_end - 5
13900                        	
13901                        		.dbg	line,	"include\routines_LEVELS.c", 2438; sgx_map_pxl_y += camera_y_move;
13902                        		__ld.um		__update_PLAYER_end - 5  /* camera_y_move */
         01:D372  AD 08 23   			lda	__update_PLAYER_end - 5
         01:D375  C2         			cly
13903                        		__add_st.wmq	_sgx_map_pxl_y
         01:D376  18         			clc
         01:D377  6D DC 26   			adc.l	_sgx_map_pxl_y
         01:D37A  8D DC 26   			sta.l	_sgx_map_pxl_y
         01:D37D  98         			tya
         01:D37E  6D DD 26   			adc.h	_sgx_map_pxl_y
         01:D381  8D DD 26   			sta.h	_sgx_map_pxl_y
13904                        	
13905                        		.dbg	line,	"include\routines_LEVELS.c", 2440; // IF THE CAMERA HAS REACHED ITS MAX (LOWEST) POSITION //
13906                        	
13907                        		.dbg	line,	"include\routines_LEVELS.c", 2441; if(sgx_map_pxl_y > camera_max_y_position)
13908                        		__ld.wm		_sgx_map_pxl_y
         01:D384  AD DC 26   			lda.l	_sgx_map_pxl_y
         01:D387  AC DD 26   			ldy.h	_sgx_map_pxl_y
13909                        		__ugt_w.wm	_camera_max_y_position
         01:D38A  18         			clc			; Subtract memory+1 from Y:A.
         01:D38B  ED FB 24   			sbc.l	_camera_max_y_position
         01:D38E  98         			tya
         01:D38F  ED FC 24   			sbc.h	_camera_max_y_position		; CS if Y:A > memory.
13910                        		__bfalse	.LL683
         01:D392  90 0C      			bcc	.LL683
13911                        	
13912                        		.dbg	line,	"include\routines_LEVELS.c", 2442; {
13913                        	
13914                        		.dbg	line,	"include\routines_LEVELS.c", 2443; // THE CAMERA CAN NOT MOVE LOWER //
13915                        	
13916                        		.dbg	line,	"include\routines_LEVELS.c", 2444; sgx_map_pxl_y = camera_max_y_position;
13917                        		__ld.wm		_camera_max_y_position
         01:D394  AD FB 24   			lda.l	_camera_max_y_position
         01:D397  AC FC 24   			ldy.h	_camera_max_y_position
13918                        		__st.wmq	_sgx_map_pxl_y
         01:D39A  8D DC 26   			sta.l	_sgx_map_pxl_y
         01:D39D  8C DD 26   			sty.h	_sgx_map_pxl_y
13919                        	
13920                        		.dbg	line,	"include\routines_LEVELS.c", 2445; }
13921                        	
13922                        		.dbg	line,	"include\routines_LEVELS.c", 2447; // THE PLAYER STAYS AT ITS BASE Y POSITION //
13923                        	
13924                        		.dbg	line,	"include\routines_LEVELS.c", 2448; player_pos_y = PLAYER_BASE_Y_POS;
13925    01:D3A0             	.LL683:
13926                        		__st.wmiq	128, _player_pos_y
         01:D3A0  A9 80      			lda.l	#128
         01:D3A2  8D F9 24   			sta.l	_player_pos_y
         01:D3A5  9C FA 24   			stz.h	_player_pos_y
13927                        	
13928                        		.dbg	line,	"include\routines_LEVELS.c", 2450; spr_y(player_pos_y);
13929                        		__ld.wm		_player_pos_y
         01:D3A8  AD F9 24   			lda.l	_player_pos_y
         01:D3AB  AC FA 24   			ldy.h	_player_pos_y
13930                        		__call		_spr_y.1
         01:D3AE  20 2D E8   			call	_spr_y.1
13931                        	
13932                        		.dbg	line,	"include\routines_LEVELS.c", 2451; }
13933                        	
13934                        		.dbg	line,	"include\routines_LEVELS.c", 2454; // UPDATE JUMP INDEX IN THE ARRAY //
13935                        	
13936                        		.dbg	line,	"include\routines_LEVELS.c", 2455; if(player_index_jump < jump_max_index)
13937    01:D3B1             	.LL682:
13938                        		__ld.umq	_player_index_jump
         01:D3B1  AD 1D 23   			lda	_player_index_jump
13939                        		__ult_b.umq	_jump_max_index
         01:D3B4  CD 23 23   			cmp	_jump_max_index		; Subtract memory from A.
         01:D3B7  6A         			ror	a		; CC if A < memory.
         01:D3B8  49 80      			eor	#$80
         01:D3BA  2A         			rol	a
13940                        		__bfalse	.LL684
         01:D3BB  90 03      			bcc	.LL684
13941                        	
13942                        		.dbg	line,	"include\routines_LEVELS.c", 2456; {
13943                        	
13944                        		.dbg	line,	"include\routines_LEVELS.c", 2457; player_index_jump += 1;
13945                        		__add_st.umiq	1, _player_index_jump
         01:D3BD  EE 1D 23   			inc	_player_index_jump
13946                        	
13947                        		.dbg	line,	"include\routines_LEVELS.c", 2458; }
13948                        	
13949                        		.dbg	line,	"include\routines_LEVELS.c", 2463; //--------------------------------------------------------------------------------------//
13950                        	
13951                        		.dbg	line,	"include\routines_LEVELS.c", 2464; //                                   FLOOR COLLISION                                    //
13952                        	
13953                        		.dbg	line,	"include\routines_LEVELS.c", 2465; //--------------------------------------------------------------------------------------//
13954                        	
13955                        		.dbg	line,	"include\routines_LEVELS.c", 2467; if(player_index_jump > 14)
13956    01:D3C0             	.LL684:
13957                        		__ld.umq	_player_index_jump
         01:D3C0  AD 1D 23   			lda	_player_index_jump
13958                        		__ugt_b.uiq	14
         01:D3C3  18         			clc			; Subtract integer+1 from A.
         01:D3C4  E9 0E      			sbc	#14		; CS if A > integer.
13959                        		__bfalse	.LL685
         01:D3C6  B0 03 4C AB			bcc	.LL685
         01:D3CA  D5          
13960                        	
13961                        		.dbg	line,	"include\routines_LEVELS.c", 2468; {
13962                        	
13963                        		.dbg	line,	"include\routines_LEVELS.c", 2469; // CHECK COLLISION WITH LEFT FLOOR //
13964                        	
13965                        		.dbg	line,	"include\routines_LEVELS.c", 2470; collision_PLAYER_BG( 10 , 32 );
13966                        		__ld.wi		10
         01:D3CB  A9 0A      			lda.l	#10
         01:D3CD  C2         			cly
13967                        		__pusharg.wr
         01:D3CE  A6 8D      			ldx	<__sp
         01:D3D0  CA         			dex
         01:D3D1  CA         			dex
         01:D3D2  95 08      			sta.l	<__stack, x
         01:D3D4  94 09      			sty.h	<__stack, x
         01:D3D6  86 8D      			stx	<__sp
13968                        		__ld.wi		32
         01:D3D8  A9 20      			lda.l	#32
         01:D3DA  C2         			cly
13969                        		__pusharg.wr
         01:D3DB  A6 8D      			ldx	<__sp
         01:D3DD  CA         			dex
         01:D3DE  CA         			dex
         01:D3DF  95 08      			sta.l	<__stack, x
         01:D3E1  94 09      			sty.h	<__stack, x
         01:D3E3  86 8D      			stx	<__sp
13970                        		__call		_collision_PLAYER_BG
         01:D3E5  20 27 FF   			call	_collision_PLAYER_BG
13971                        	
13972                        		.dbg	line,	"include\routines_LEVELS.c", 2472; if(map_blk_flag == TILE_BG)
13973                        		__ld.umq	_map_blk_flag
         01:D3E8  AD FB 2B   			lda	_map_blk_flag
13974                        		__equ_b.uiq	1
         01:D3EB  C9 01      			cmp	#1
         01:D3ED  F0 01      			beq	!+
         01:D3EF  18         			clc
         01:D3F0             	!:
13975                        		__bfalse	.LL686
         01:D3F0  B0 03 4C BB			bcc	.LL686
         01:D3F4  D4          
13976                        	
13977                        		.dbg	line,	"include\routines_LEVELS.c", 2473; {
13978                        	
13979                        		.dbg	line,	"include\routines_LEVELS.c", 2474; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
13980                        	
13981                        		.dbg	line,	"include\routines_LEVELS.c", 2475; for(i=1; i<11 ; i++)
13982                        		__st.umiq	1, __update_PLAYER_end - 4  /* i */
         01:D3F5  A9 01      			lda.l	#1
         01:D3F7  8D 09 23   			sta	__update_PLAYER_end - 4
13983    01:D3FA             	.LL687:
13984                        		__ld.umq	__update_PLAYER_end - 4  /* i */
         01:D3FA  AD 09 23   			lda	__update_PLAYER_end - 4
13985                        		__ult_b.uiq	11
         01:D3FD  C9 0B      			cmp	#11		; Subtract integer from A.
         01:D3FF  6A         			ror	a		; CC if A < integer.
         01:D400  49 80      			eor	#$80
         01:D402  2A         			rol	a
13986                        		__btrue		.LL689
         01:D403  B0 07      			bcs	.LL689
13987                        		__bra		.LL690
         01:D405  80 7D      			bra	.LL690
13988    01:D407             	.LL688:
13989                        		__inc.umq	__update_PLAYER_end - 4  /* i */
         01:D407  EE 09 23   			inc	__update_PLAYER_end - 4
13990                        		__bra		.LL687
         01:D40A  80 EE      			bra	.LL687
13991    01:D40C             	.LL689:
13992                        	
13993                        		.dbg	line,	"include\routines_LEVELS.c", 2476; {
13994                        	
13995                        		.dbg	line,	"include\routines_LEVELS.c", 2477; check_TILE_DEPTH( 10 , i);
13996                        		__ld.wi		10
         01:D40C  A9 0A      			lda.l	#10
         01:D40E  C2         			cly
13997                        		__pusharg.wr
         01:D40F  A6 8D      			ldx	<__sp
         01:D411  CA         			dex
         01:D412  CA         			dex
         01:D413  95 08      			sta.l	<__stack, x
         01:D415  94 09      			sty.h	<__stack, x
         01:D417  86 8D      			stx	<__sp
13998                        		__ld.um		__update_PLAYER_end - 4  /* i */
         01:D419  AD 09 23   			lda	__update_PLAYER_end - 4
         01:D41C  C2         			cly
13999                        		__pusharg.wr
         01:D41D  A6 8D      			ldx	<__sp
         01:D41F  CA         			dex
         01:D420  CA         			dex
         01:D421  95 08      			sta.l	<__stack, x
         01:D423  94 09      			sty.h	<__stack, x
         01:D425  86 8D      			stx	<__sp
14000                        		__call		_check_TILE_DEPTH
         01:D427  20 13 FF   			call	_check_TILE_DEPTH
14001                        	
14002                        		.dbg	line,	"include\routines_LEVELS.c", 2479; if(map_blk_flag == TILE_EMPTY)
14003                        		__not.um	_map_blk_flag
         01:D42A  AD FB 2B   			lda	_map_blk_flag
         01:D42D  18         			clc
         01:D42E  D0 01      			bne	!+
         01:D430  38         			sec
         01:D431             	!:
14004                        		__bfalse	.LL691
         01:D431  90 D4      			bcc	.LL691
14005                        	
14006                        		.dbg	line,	"include\routines_LEVELS.c", 2480; {
14007                        	
14008                        		.dbg	line,	"include\routines_LEVELS.c", 2481; if(player_pos_y != PLAYER_BASE_Y_POS)
14009                        		__ld.wm		_player_pos_y
         01:D433  AD F9 24   			lda.l	_player_pos_y
         01:D436  AC FA 24   			ldy.h	_player_pos_y
14010                        		__neq_w.wi	128
         01:D439  38         			sec
         01:D43A  49 80      			eor.l	#128
         01:D43C  D0 06      			bne	!+
         01:D43E  98         			tya
         01:D43F  49 00      			eor.h	#128
         01:D441  D0 01      			bne	!+
         01:D443  18         			clc
         01:D444             	!:
14011                        		__bfalse	.LL692
         01:D444  90 1E      			bcc	.LL692
14012                        	
14013                        		.dbg	line,	"include\routines_LEVELS.c", 2482; {
14014                        	
14015                        		.dbg	line,	"include\routines_LEVELS.c", 2483; player_pos_y -= (i - 1);
14016                        		__ld.um		__update_PLAYER_end - 4  /* i */
         01:D446  AD 09 23   			lda	__update_PLAYER_end - 4
         01:D449  C2         			cly
14017                        		__sub.wi	1
         01:D44A  38         			sec
         01:D44B  E9 01      			sbc.l	#1
         01:D44D  B0 01      			bcs	!+
         01:D44F  88         			dey
         01:D450             	!:
14018                        		__isub_st.wmq	_player_pos_y
         01:D450  38         			sec
         01:D451  49 FF      			eor	#$FF
         01:D453  6D F9 24   			adc.l	_player_pos_y
         01:D456  8D F9 24   			sta.l	_player_pos_y
         01:D459  98         			tya
         01:D45A  49 FF      			eor	#$FF
         01:D45C  6D FA 24   			adc.h	_player_pos_y
         01:D45F  8D FA 24   			sta.h	_player_pos_y
14019                        	
14020                        		.dbg	line,	"include\routines_LEVELS.c", 2484; }
14021                        	
14022                        		.dbg	line,	"include\routines_LEVELS.c", 2486; else
14023                        		__bra		.LL693
         01:D462  80 20      			bra	.LL693
14024    01:D464             	.LL692:
14025                        	
14026                        		.dbg	line,	"include\routines_LEVELS.c", 2487; {
14027                        	
14028                        		.dbg	line,	"include\routines_LEVELS.c", 2488; sgx_map_pxl_y -= (i - 1);
14029                        		__ld.um		__update_PLAYER_end - 4  /* i */
         01:D464  AD 09 23   			lda	__update_PLAYER_end - 4
         01:D467  C2         			cly
14030                        		__sub.wi	1
         01:D468  38         			sec
         01:D469  E9 01      			sbc.l	#1
         01:D46B  B0 01      			bcs	!+
         01:D46D  88         			dey
         01:D46E             	!:
14031                        		__isub_st.wmq	_sgx_map_pxl_y
         01:D46E  38         			sec
         01:D46F  49 FF      			eor	#$FF
         01:D471  6D DC 26   			adc.l	_sgx_map_pxl_y
         01:D474  8D DC 26   			sta.l	_sgx_map_pxl_y
         01:D477  98         			tya
         01:D478  49 FF      			eor	#$FF
         01:D47A  6D DD 26   			adc.h	_sgx_map_pxl_y
         01:D47D  8D DD 26   			sta.h	_sgx_map_pxl_y
14032                        	
14033                        		.dbg	line,	"include\routines_LEVELS.c", 2489; }
14034    01:D480             	.LL693	.alias		.LL690
14035                        	
14036                        		.dbg	line,	"include\routines_LEVELS.c", 2491; break;
14037                        		__bra		.LL690
         01:D480  80 02      			bra	.LL690
14038                        	
14039                        		.dbg	line,	"include\routines_LEVELS.c", 2492; }
14040                        	
14041                        		.dbg	line,	"include\routines_LEVELS.c", 2493; }
14042    01:D482             	.LL691	.alias		.LL688
14043                        		__bra		.LL688
         01:D482  80 83      			bra	.LL688
14044    01:D484             	.LL690:
14045                        	
14046                        		.dbg	line,	"include\routines_LEVELS.c", 2495; // SET PLAYER SPRITE NEW POSITION //
14047                        	
14048                        		.dbg	line,	"include\routines_LEVELS.c", 2496; spr_y(player_pos_y);
14049                        		__ld.wm		_player_pos_y
         01:D484  AD F9 24   			lda.l	_player_pos_y
         01:D487  AC FA 24   			ldy.h	_player_pos_y
14050                        		__call		_spr_y.1
         01:D48A  20 2D E8   			call	_spr_y.1
14051                        	
14052                        		.dbg	line,	"include\routines_LEVELS.c", 2498; spr_set(weapon_id);
14053                        		__ld.umq	_weapon_id
         01:D48D  AD 27 23   			lda	_weapon_id
14054                        		__call		_spr_set.1
         01:D490  20 F1 E7   			call	_spr_set.1
14055                        	
14056                        		.dbg	line,	"include\routines_LEVELS.c", 2499; spr_y(player_pos_y+8);
14057                        		__ld.wm		_player_pos_y
         01:D493  AD F9 24   			lda.l	_player_pos_y
         01:D496  AC FA 24   			ldy.h	_player_pos_y
14058                        		__add.wi	8
         01:D499  18         			clc
         01:D49A  69 08      			adc.l	#8
         01:D49C  90 01      			bcc	!+
         01:D49E  C8         			iny
         01:D49F             	!:
14059                        		__call		_spr_y.1
         01:D49F  20 2D E8   			call	_spr_y.1
14060                        	
14061                        		.dbg	line,	"include\routines_LEVELS.c", 2501; player_counter_anim = 1;
14062                        		__st.umiq	1, _player_counter_anim
         01:D4A2  A9 01      			lda.l	#1
         01:D4A4  8D 1C 23   			sta	_player_counter_anim
14063                        	
14064                        		.dbg	line,	"include\routines_LEVELS.c", 2502; player_index_jump = 0;
14065                        		__st.umiq	0, _player_index_jump
         01:D4A7  9C 1D 23   			stz	_player_index_jump
14066                        	
14067                        		.dbg	line,	"include\routines_LEVELS.c", 2503; jump_ladder = FALSE;
14068                        		__st.umiq	0, _jump_ladder
         01:D4AA  9C 22 23   			stz	_jump_ladder
14069                        	
14070                        		.dbg	line,	"include\routines_LEVELS.c", 2504; hit_wall = FALSE;
14071                        		__st.umiq	0, _hit_wall
         01:D4AD  9C 25 23   			stz	_hit_wall
14072                        	
14073                        		.dbg	line,	"include\routines_LEVELS.c", 2505; jump_max_index = 34;
14074                        		__st.umiq	34, _jump_max_index
         01:D4B0  A9 22      			lda.l	#34
         01:D4B2  8D 23 23   			sta	_jump_max_index
14075                        	
14076                        		.dbg	line,	"include\routines_LEVELS.c", 2506; player_state = STATE_IDLE;
14077                        		__st.umiq	0, _player_state
         01:D4B5  9C 19 23   			stz	_player_state
14078                        	
14079                        		.dbg	line,	"include\routines_LEVELS.c", 2507; return;
14080                        		__bra		.LL529
         01:D4B8  4C DA DC   			bra	.LL529
14081                        	
14082                        		.dbg	line,	"include\routines_LEVELS.c", 2508; }
14083                        	
14084                        		.dbg	line,	"include\routines_LEVELS.c", 2510; else
14085    01:D4BB             	.LL686:
14086                        	
14087                        		.dbg	line,	"include\routines_LEVELS.c", 2511; {
14088                        	
14089                        		.dbg	line,	"include\routines_LEVELS.c", 2512; // CHECK COLLISION WITH RIGHT FLOOR //
14090                        	
14091                        		.dbg	line,	"include\routines_LEVELS.c", 2513; collision_PLAYER_BG( 22 , 32 );
14092                        		__ld.wi		22
         01:D4BB  A9 16      			lda.l	#22
         01:D4BD  C2         			cly
14093                        		__pusharg.wr
         01:D4BE  A6 8D      			ldx	<__sp
         01:D4C0  CA         			dex
         01:D4C1  CA         			dex
         01:D4C2  95 08      			sta.l	<__stack, x
         01:D4C4  94 09      			sty.h	<__stack, x
         01:D4C6  86 8D      			stx	<__sp
14094                        		__ld.wi		32
         01:D4C8  A9 20      			lda.l	#32
         01:D4CA  C2         			cly
14095                        		__pusharg.wr
         01:D4CB  A6 8D      			ldx	<__sp
         01:D4CD  CA         			dex
         01:D4CE  CA         			dex
         01:D4CF  95 08      			sta.l	<__stack, x
         01:D4D1  94 09      			sty.h	<__stack, x
         01:D4D3  86 8D      			stx	<__sp
14096                        		__call		_collision_PLAYER_BG
         01:D4D5  20 27 FF   			call	_collision_PLAYER_BG
14097                        	
14098                        		.dbg	line,	"include\routines_LEVELS.c", 2515; if(map_blk_flag == TILE_BG)
14099                        		__ld.umq	_map_blk_flag
         01:D4D8  AD FB 2B   			lda	_map_blk_flag
14100                        		__equ_b.uiq	1
         01:D4DB  C9 01      			cmp	#1
         01:D4DD  F0 01      			beq	!+
         01:D4DF  18         			clc
         01:D4E0             	!:
14101                        		__bfalse	.LL695
         01:D4E0  B0 03 4C AB			bcc	.LL695
         01:D4E4  D5          
14102                        	
14103                        		.dbg	line,	"include\routines_LEVELS.c", 2516; {
14104                        	
14105                        		.dbg	line,	"include\routines_LEVELS.c", 2517; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
14106                        	
14107                        		.dbg	line,	"include\routines_LEVELS.c", 2518; for(i=1; i<11 ; i++)
14108                        		__st.umiq	1, __update_PLAYER_end - 4  /* i */
         01:D4E5  A9 01      			lda.l	#1
         01:D4E7  8D 09 23   			sta	__update_PLAYER_end - 4
14109    01:D4EA             	.LL696:
14110                        		__ld.umq	__update_PLAYER_end - 4  /* i */
         01:D4EA  AD 09 23   			lda	__update_PLAYER_end - 4
14111                        		__ult_b.uiq	11
         01:D4ED  C9 0B      			cmp	#11		; Subtract integer from A.
         01:D4EF  6A         			ror	a		; CC if A < integer.
         01:D4F0  49 80      			eor	#$80
         01:D4F2  2A         			rol	a
14112                        		__btrue		.LL698
         01:D4F3  B0 07      			bcs	.LL698
14113                        		__bra		.LL699
         01:D4F5  80 7D      			bra	.LL699
14114    01:D4F7             	.LL697:
14115                        		__inc.umq	__update_PLAYER_end - 4  /* i */
         01:D4F7  EE 09 23   			inc	__update_PLAYER_end - 4
14116                        		__bra		.LL696
         01:D4FA  80 EE      			bra	.LL696
14117    01:D4FC             	.LL698:
14118                        	
14119                        		.dbg	line,	"include\routines_LEVELS.c", 2519; {
14120                        	
14121                        		.dbg	line,	"include\routines_LEVELS.c", 2520; check_TILE_DEPTH( 22 , i);
14122                        		__ld.wi		22
         01:D4FC  A9 16      			lda.l	#22
         01:D4FE  C2         			cly
14123                        		__pusharg.wr
         01:D4FF  A6 8D      			ldx	<__sp
         01:D501  CA         			dex
         01:D502  CA         			dex
         01:D503  95 08      			sta.l	<__stack, x
         01:D505  94 09      			sty.h	<__stack, x
         01:D507  86 8D      			stx	<__sp
14124                        		__ld.um		__update_PLAYER_end - 4  /* i */
         01:D509  AD 09 23   			lda	__update_PLAYER_end - 4
         01:D50C  C2         			cly
14125                        		__pusharg.wr
         01:D50D  A6 8D      			ldx	<__sp
         01:D50F  CA         			dex
         01:D510  CA         			dex
         01:D511  95 08      			sta.l	<__stack, x
         01:D513  94 09      			sty.h	<__stack, x
         01:D515  86 8D      			stx	<__sp
14126                        		__call		_check_TILE_DEPTH
         01:D517  20 13 FF   			call	_check_TILE_DEPTH
14127                        	
14128                        		.dbg	line,	"include\routines_LEVELS.c", 2522; if(map_blk_flag == TILE_EMPTY)
14129                        		__not.um	_map_blk_flag
         01:D51A  AD FB 2B   			lda	_map_blk_flag
         01:D51D  18         			clc
         01:D51E  D0 01      			bne	!+
         01:D520  38         			sec
         01:D521             	!:
14130                        		__bfalse	.LL700
         01:D521  90 D4      			bcc	.LL700
14131                        	
14132                        		.dbg	line,	"include\routines_LEVELS.c", 2523; {
14133                        	
14134                        		.dbg	line,	"include\routines_LEVELS.c", 2524; if(player_pos_y != PLAYER_BASE_Y_POS)
14135                        		__ld.wm		_player_pos_y
         01:D523  AD F9 24   			lda.l	_player_pos_y
         01:D526  AC FA 24   			ldy.h	_player_pos_y
14136                        		__neq_w.wi	128
         01:D529  38         			sec
         01:D52A  49 80      			eor.l	#128
         01:D52C  D0 06      			bne	!+
         01:D52E  98         			tya
         01:D52F  49 00      			eor.h	#128
         01:D531  D0 01      			bne	!+
         01:D533  18         			clc
         01:D534             	!:
14137                        		__bfalse	.LL701
         01:D534  90 1E      			bcc	.LL701
14138                        	
14139                        		.dbg	line,	"include\routines_LEVELS.c", 2525; {
14140                        	
14141                        		.dbg	line,	"include\routines_LEVELS.c", 2526; player_pos_y -= (i - 1);
14142                        		__ld.um		__update_PLAYER_end - 4  /* i */
         01:D536  AD 09 23   			lda	__update_PLAYER_end - 4
         01:D539  C2         			cly
14143                        		__sub.wi	1
         01:D53A  38         			sec
         01:D53B  E9 01      			sbc.l	#1
         01:D53D  B0 01      			bcs	!+
         01:D53F  88         			dey
         01:D540             	!:
14144                        		__isub_st.wmq	_player_pos_y
         01:D540  38         			sec
         01:D541  49 FF      			eor	#$FF
         01:D543  6D F9 24   			adc.l	_player_pos_y
         01:D546  8D F9 24   			sta.l	_player_pos_y
         01:D549  98         			tya
         01:D54A  49 FF      			eor	#$FF
         01:D54C  6D FA 24   			adc.h	_player_pos_y
         01:D54F  8D FA 24   			sta.h	_player_pos_y
14145                        	
14146                        		.dbg	line,	"include\routines_LEVELS.c", 2527; }
14147                        	
14148                        		.dbg	line,	"include\routines_LEVELS.c", 2529; else
14149                        		__bra		.LL702
         01:D552  80 20      			bra	.LL702
14150    01:D554             	.LL701:
14151                        	
14152                        		.dbg	line,	"include\routines_LEVELS.c", 2530; {
14153                        	
14154                        		.dbg	line,	"include\routines_LEVELS.c", 2531; sgx_map_pxl_y -= (i - 1);
14155                        		__ld.um		__update_PLAYER_end - 4  /* i */
         01:D554  AD 09 23   			lda	__update_PLAYER_end - 4
         01:D557  C2         			cly
14156                        		__sub.wi	1
         01:D558  38         			sec
         01:D559  E9 01      			sbc.l	#1
         01:D55B  B0 01      			bcs	!+
         01:D55D  88         			dey
         01:D55E             	!:
14157                        		__isub_st.wmq	_sgx_map_pxl_y
         01:D55E  38         			sec
         01:D55F  49 FF      			eor	#$FF
         01:D561  6D DC 26   			adc.l	_sgx_map_pxl_y
         01:D564  8D DC 26   			sta.l	_sgx_map_pxl_y
         01:D567  98         			tya
         01:D568  49 FF      			eor	#$FF
         01:D56A  6D DD 26   			adc.h	_sgx_map_pxl_y
         01:D56D  8D DD 26   			sta.h	_sgx_map_pxl_y
14158                        	
14159                        		.dbg	line,	"include\routines_LEVELS.c", 2532; }
14160    01:D570             	.LL702	.alias		.LL699
14161                        	
14162                        		.dbg	line,	"include\routines_LEVELS.c", 2534; break;
14163                        		__bra		.LL699
         01:D570  80 02      			bra	.LL699
14164                        	
14165                        		.dbg	line,	"include\routines_LEVELS.c", 2535; }
14166                        	
14167                        		.dbg	line,	"include\routines_LEVELS.c", 2536; }
14168    01:D572             	.LL700	.alias		.LL697
14169                        		__bra		.LL697
         01:D572  80 83      			bra	.LL697
14170    01:D574             	.LL699:
14171                        	
14172                        		.dbg	line,	"include\routines_LEVELS.c", 2538; // SET PLAYER SPRITE NEW POSITION //
14173                        	
14174                        		.dbg	line,	"include\routines_LEVELS.c", 2539; spr_y(player_pos_y);
14175                        		__ld.wm		_player_pos_y
         01:D574  AD F9 24   			lda.l	_player_pos_y
         01:D577  AC FA 24   			ldy.h	_player_pos_y
14176                        		__call		_spr_y.1
         01:D57A  20 2D E8   			call	_spr_y.1
14177                        	
14178                        		.dbg	line,	"include\routines_LEVELS.c", 2541; spr_set(weapon_id);
14179                        		__ld.umq	_weapon_id
         01:D57D  AD 27 23   			lda	_weapon_id
14180                        		__call		_spr_set.1
         01:D580  20 F1 E7   			call	_spr_set.1
14181                        	
14182                        		.dbg	line,	"include\routines_LEVELS.c", 2542; spr_y(player_pos_y+8);
14183                        		__ld.wm		_player_pos_y
         01:D583  AD F9 24   			lda.l	_player_pos_y
         01:D586  AC FA 24   			ldy.h	_player_pos_y
14184                        		__add.wi	8
         01:D589  18         			clc
         01:D58A  69 08      			adc.l	#8
         01:D58C  90 01      			bcc	!+
         01:D58E  C8         			iny
         01:D58F             	!:
14185                        		__call		_spr_y.1
         01:D58F  20 2D E8   			call	_spr_y.1
14186                        	
14187                        		.dbg	line,	"include\routines_LEVELS.c", 2544; player_counter_anim = 1;
14188                        		__st.umiq	1, _player_counter_anim
         01:D592  A9 01      			lda.l	#1
         01:D594  8D 1C 23   			sta	_player_counter_anim
14189                        	
14190                        		.dbg	line,	"include\routines_LEVELS.c", 2545; player_index_jump = 0;
14191                        		__st.umiq	0, _player_index_jump
         01:D597  9C 1D 23   			stz	_player_index_jump
14192                        	
14193                        		.dbg	line,	"include\routines_LEVELS.c", 2546; jump_ladder = FALSE;
14194                        		__st.umiq	0, _jump_ladder
         01:D59A  9C 22 23   			stz	_jump_ladder
14195                        	
14196                        		.dbg	line,	"include\routines_LEVELS.c", 2547; hit_wall = FALSE;
14197                        		__st.umiq	0, _hit_wall
         01:D59D  9C 25 23   			stz	_hit_wall
14198                        	
14199                        		.dbg	line,	"include\routines_LEVELS.c", 2548; jump_max_index = 34;
14200                        		__st.umiq	34, _jump_max_index
         01:D5A0  A9 22      			lda.l	#34
         01:D5A2  8D 23 23   			sta	_jump_max_index
14201                        	
14202                        		.dbg	line,	"include\routines_LEVELS.c", 2549; player_state = STATE_IDLE;
14203                        		__st.umiq	0, _player_state
         01:D5A5  9C 19 23   			stz	_player_state
14204                        	
14205                        		.dbg	line,	"include\routines_LEVELS.c", 2550; return;
14206                        		__bra		.LL529
         01:D5A8  4C DA DC   			bra	.LL529
14207                        	
14208                        		.dbg	line,	"include\routines_LEVELS.c", 2551; }
14209                        	
14210                        		.dbg	line,	"include\routines_LEVELS.c", 2552; }
14211    01:D5AB             	.LL695:
14212    01:D5AB             	.LL694:
14213                        	
14214                        		.dbg	line,	"include\routines_LEVELS.c", 2553; }
14215                        	
14216                        		.dbg	line,	"include\routines_LEVELS.c", 2558; //--------------------------------------------------------------------------------------//
14217                        	
14218                        		.dbg	line,	"include\routines_LEVELS.c", 2559; //                                   LADDER COLLISION                                   //
14219                        	
14220                        		.dbg	line,	"include\routines_LEVELS.c", 2560; //--------------------------------------------------------------------------------------//
14221                        	
14222                        		.dbg	line,	"include\routines_LEVELS.c", 2562; if(player_index_jump > 4)
14223    01:D5AB             	.LL685:
14224                        		__ld.umq	_player_index_jump
         01:D5AB  AD 1D 23   			lda	_player_index_jump
14225                        		__ugt_b.uiq	4
         01:D5AE  18         			clc			; Subtract integer+1 from A.
         01:D5AF  E9 04      			sbc	#4		; CS if A > integer.
14226                        		__bfalse	.LL703
         01:D5B1  B0 03 4C 46			bcc	.LL703
         01:D5B5  D6          
14227                        	
14228                        		.dbg	line,	"include\routines_LEVELS.c", 2563; {
14229                        	
14230                        		.dbg	line,	"include\routines_LEVELS.c", 2564; collision_PLAYER_BG( 16 , 16 );
14231                        		__ld.wi		16
         01:D5B6  A9 10      			lda.l	#16
         01:D5B8  C2         			cly
14232                        		__pusharg.wr
         01:D5B9  A6 8D      			ldx	<__sp
         01:D5BB  CA         			dex
         01:D5BC  CA         			dex
         01:D5BD  95 08      			sta.l	<__stack, x
         01:D5BF  94 09      			sty.h	<__stack, x
         01:D5C1  86 8D      			stx	<__sp
14233                        		__ld.wi		16
         01:D5C3  A9 10      			lda.l	#16
         01:D5C5  C2         			cly
14234                        		__pusharg.wr
         01:D5C6  A6 8D      			ldx	<__sp
         01:D5C8  CA         			dex
         01:D5C9  CA         			dex
         01:D5CA  95 08      			sta.l	<__stack, x
         01:D5CC  94 09      			sty.h	<__stack, x
         01:D5CE  86 8D      			stx	<__sp
14235                        		__call		_collision_PLAYER_BG
         01:D5D0  20 27 FF   			call	_collision_PLAYER_BG
14236                        	
14237                        		.dbg	line,	"include\routines_LEVELS.c", 2566; if(map_blk_flag == TILE_LADDER)
14238                        		__ld.umq	_map_blk_flag
         01:D5D3  AD FB 2B   			lda	_map_blk_flag
14239                        		__equ_b.uiq	2
         01:D5D6  C9 02      			cmp	#2
         01:D5D8  F0 01      			beq	!+
         01:D5DA  18         			clc
         01:D5DB             	!:
14240                        		__bfalse	.LL704
         01:D5DB  90 69      			bcc	.LL704
14241                        	
14242                        		.dbg	line,	"include\routines_LEVELS.c", 2567; {
14243                        	
14244                        		.dbg	line,	"include\routines_LEVELS.c", 2568; // CAMERA GOES 8 PX BACKWARD //
14245                        	
14246                        		.dbg	line,	"include\routines_LEVELS.c", 2569; sgx_map_pxl_x = ( (sgx_map_pxl_x >> 3) << 3 );
14247                        		__ld.wm		_sgx_map_pxl_x
         01:D5DD  AD DA 26   			lda.l	_sgx_map_pxl_x
         01:D5E0  AC DB 26   			ldy.h	_sgx_map_pxl_x
14248                        		__lsr.wi	3
         01:D5E3  84 00      			sty	__temp
         01:D5E5  20 3A E2   			jsr	lsrw3
14249                        		__asl.wi	3
         01:D5E8  84 00      			sty	__temp
         01:D5EA  20 D7 E1   			jsr	aslw3
14250                        		__st.wmq	_sgx_map_pxl_x
         01:D5ED  8D DA 26   			sta.l	_sgx_map_pxl_x
         01:D5F0  8C DB 26   			sty.h	_sgx_map_pxl_x
14251                        	
14252                        		.dbg	line,	"include\routines_LEVELS.c", 2571; // SO WE UPDATE THE MAP //
14253                        	
14254                        		.dbg	line,	"include\routines_LEVELS.c", 2572; sgx_scroll_map();
14255                        		__call		_sgx_scroll_map
         01:D5F3  20 59 FF   			call	_sgx_scroll_map
14256                        	
14257                        		.dbg	line,	"include\routines_LEVELS.c", 2574; // CHECK IF THE PLAYER STANDS RIGHT TO THE LADDER //
14258                        	
14259                        		.dbg	line,	"include\routines_LEVELS.c", 2575; collision_PLAYER_BG( 31 , 16 );
14260                        		__ld.wi		31
         01:D5F6  A9 1F      			lda.l	#31
         01:D5F8  C2         			cly
14261                        		__pusharg.wr
         01:D5F9  A6 8D      			ldx	<__sp
         01:D5FB  CA         			dex
         01:D5FC  CA         			dex
         01:D5FD  95 08      			sta.l	<__stack, x
         01:D5FF  94 09      			sty.h	<__stack, x
         01:D601  86 8D      			stx	<__sp
14262                        		__ld.wi		16
         01:D603  A9 10      			lda.l	#16
         01:D605  C2         			cly
14263                        		__pusharg.wr
         01:D606  A6 8D      			ldx	<__sp
         01:D608  CA         			dex
         01:D609  CA         			dex
         01:D60A  95 08      			sta.l	<__stack, x
         01:D60C  94 09      			sty.h	<__stack, x
         01:D60E  86 8D      			stx	<__sp
14264                        		__call		_collision_PLAYER_BG
         01:D610  20 27 FF   			call	_collision_PLAYER_BG
14265                        	
14266                        		.dbg	line,	"include\routines_LEVELS.c", 2577; if(map_blk_flag == TILE_LADDER)
14267                        		__ld.umq	_map_blk_flag
         01:D613  AD FB 2B   			lda	_map_blk_flag
14268                        		__equ_b.uiq	2
         01:D616  C9 02      			cmp	#2
         01:D618  F0 01      			beq	!+
         01:D61A  18         			clc
         01:D61B             	!:
14269                        		__bfalse	.LL705
         01:D61B  90 0E      			bcc	.LL705
14270                        	
14271                        		.dbg	line,	"include\routines_LEVELS.c", 2578; {
14272                        	
14273                        		.dbg	line,	"include\routines_LEVELS.c", 2579; sgx_map_pxl_x += 8;
14274                        		__add_st.wmiq	8, _sgx_map_pxl_x
         01:D61D  18         			clc
         01:D61E  AD DA 26   			lda.l	_sgx_map_pxl_x
         01:D621  69 08      			adc.l	#8
         01:D623  8D DA 26   			sta.l	_sgx_map_pxl_x
         01:D626  90 03      			bcc	!+
         01:D628  EE DB 26   			inc.h	_sgx_map_pxl_x
         01:D62B             	!:
14275                        	
14276                        		.dbg	line,	"include\routines_LEVELS.c", 2580; }
14277                        	
14278                        		.dbg	line,	"include\routines_LEVELS.c", 2582; spr_pattern(PLAYER_HANG_VRAM_ADR);
14279    01:D62B             	.LL705:
14280                        		__ld.wi		8448
         01:D62B  62         			cla
         01:D62C  A0 21      			ldy.h	#8448
14281                        		__call		_spr_pattern.1
         01:D62E  20 3A E8   			call	_spr_pattern.1
14282                        	
14283                        		.dbg	line,	"include\routines_LEVELS.c", 2583; player_counter_anim = 0;
14284                        		__st.umiq	0, _player_counter_anim
         01:D631  9C 1C 23   			stz	_player_counter_anim
14285                        	
14286                        		.dbg	line,	"include\routines_LEVELS.c", 2584; player_index_jump = 0;
14287                        		__st.umiq	0, _player_index_jump
         01:D634  9C 1D 23   			stz	_player_index_jump
14288                        	
14289                        		.dbg	line,	"include\routines_LEVELS.c", 2585; jump_ladder = TRUE;
14290                        		__st.umiq	1, _jump_ladder
         01:D637  A9 01      			lda.l	#1
         01:D639  8D 22 23   			sta	_jump_ladder
14291                        	
14292                        		.dbg	line,	"include\routines_LEVELS.c", 2586; jump_max_index = 29;
14293                        		__st.umiq	29, _jump_max_index
         01:D63C  A9 1D      			lda.l	#29
         01:D63E  8D 23 23   			sta	_jump_max_index
14294                        	
14295                        		.dbg	line,	"include\routines_LEVELS.c", 2587; player_state = STATE_HANG;
14296                        		__st.umiq	10, _player_state
         01:D641  A9 0A      			lda.l	#10
         01:D643  8D 19 23   			sta	_player_state
14297                        	
14298                        		.dbg	line,	"include\routines_LEVELS.c", 2588; }
14299                        	
14300                        		.dbg	line,	"include\routines_LEVELS.c", 2589; }
14301    01:D646             	.LL704:
14302                        	
14303                        		.dbg	line,	"include\routines_LEVELS.c", 2592; // SET PLAYER SPRITE NEW POSITION //
14304                        	
14305                        		.dbg	line,	"include\routines_LEVELS.c", 2593; spr_y(player_pos_y);
14306    01:D646             	.LL703:
14307                        		__ld.wm		_player_pos_y
         01:D646  AD F9 24   			lda.l	_player_pos_y
         01:D649  AC FA 24   			ldy.h	_player_pos_y
14308                        		__call		_spr_y.1
         01:D64C  20 2D E8   			call	_spr_y.1
14309                        	
14310                        		.dbg	line,	"include\routines_LEVELS.c", 2595; spr_set(weapon_id);
14311                        		__ld.umq	_weapon_id
         01:D64F  AD 27 23   			lda	_weapon_id
14312                        		__call		_spr_set.1
         01:D652  20 F1 E7   			call	_spr_set.1
14313                        	
14314                        		.dbg	line,	"include\routines_LEVELS.c", 2596; spr_y(player_pos_y+8);
14315                        		__ld.wm		_player_pos_y
         01:D655  AD F9 24   			lda.l	_player_pos_y
         01:D658  AC FA 24   			ldy.h	_player_pos_y
14316                        		__add.wi	8
         01:D65B  18         			clc
         01:D65C  69 08      			adc.l	#8
         01:D65E  90 01      			bcc	!+
         01:D660  C8         			iny
         01:D661             	!:
14317                        		__call		_spr_y.1
         01:D661  20 2D E8   			call	_spr_y.1
14318                        	
14319                        		.dbg	line,	"include\routines_LEVELS.c", 2597; }
14320                        	
14321                        		.dbg	line,	"include\routines_LEVELS.c", 2600; else if(player_state == STATE_CROUCH)
14322                        		__bra		.LL706
         01:D664  4C DA DC   			bra	.LL706
14323    01:D667             	.LL670:
14324                        		__ld.umq	_player_state
         01:D667  AD 19 23   			lda	_player_state
14325                        		__equ_b.uiq	7
         01:D66A  C9 07      			cmp	#7
         01:D66C  F0 01      			beq	!+
         01:D66E  18         			clc
         01:D66F             	!:
14326                        		__bfalse	.LL707
         01:D66F  90 6A      			bcc	.LL707
14327                        	
14328                        		.dbg	line,	"include\routines_LEVELS.c", 2601; {
14329                        	
14330                        		.dbg	line,	"include\routines_LEVELS.c", 2602; recenter_CAMERA();
14331                        		__call		_recenter_CAMERA
         01:D671  20 1D FF   			call	_recenter_CAMERA
14332                        	
14333                        		.dbg	line,	"include\routines_LEVELS.c", 2603; 
14334                        	
14335                        		.dbg	line,	"include\routines_LEVELS.c", 2604; if(player_counter_anim == 1)
14336                        		__ld.umq	_player_counter_anim
         01:D674  AD 1C 23   			lda	_player_counter_anim
14337                        		__equ_b.uiq	1
         01:D677  C9 01      			cmp	#1
         01:D679  F0 01      			beq	!+
         01:D67B  18         			clc
         01:D67C             	!:
14338                        		__bfalse	.LL708
         01:D67C  90 45      			bcc	.LL708
14339                        	
14340                        		.dbg	line,	"include\routines_LEVELS.c", 2605; {
14341                        	
14342                        		.dbg	line,	"include\routines_LEVELS.c", 2606; spr_set(player_id);
14343                        		__ld.umq	_player_id
         01:D67E  AD 18 23   			lda	_player_id
14344                        		__call		_spr_set.1
         01:D681  20 F1 E7   			call	_spr_set.1
14345                        	
14346                        		.dbg	line,	"include\routines_LEVELS.c", 2607; spr_pattern(PLAYER_CROUCH_VRAM_ADR);
14347                        		__ld.wi		8192
         01:D684  62         			cla
         01:D685  A0 20      			ldy.h	#8192
14348                        		__call		_spr_pattern.1
         01:D687  20 3A E8   			call	_spr_pattern.1
14349                        	
14350                        		.dbg	line,	"include\routines_LEVELS.c", 2609; spr_set(weapon_id);
14351                        		__ld.umq	_weapon_id
         01:D68A  AD 27 23   			lda	_weapon_id
14352                        		__call		_spr_set.1
         01:D68D  20 F1 E7   			call	_spr_set.1
14353                        	
14354                        		.dbg	line,	"include\routines_LEVELS.c", 2610; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
14355                        		__ld.wi		31808
         01:D690  A9 40      			lda.l	#31808
         01:D692  A0 7C      			ldy.h	#31808
14356                        		__call		_spr_pattern.1
         01:D694  20 3A E8   			call	_spr_pattern.1
14357                        	
14358                        		.dbg	line,	"include\routines_LEVELS.c", 2611; 
14359                        	
14360                        		.dbg	line,	"include\routines_LEVELS.c", 2612; if(player_axis == AXIS_RIGHT)
14361                        		__not.um	_player_axis
         01:D697  AD 1A 23   			lda	_player_axis
         01:D69A  18         			clc
         01:D69B  D0 01      			bne	!+
         01:D69D  38         			sec
         01:D69E             	!:
14362                        		__bfalse	.LL709
         01:D69E  90 11      			bcc	.LL709
14363                        	
14364                        		.dbg	line,	"include\routines_LEVELS.c", 2613; {
14365                        	
14366                        		.dbg	line,	"include\routines_LEVELS.c", 2614; spr_x(player_pos_x-1);
14367                        		__ld.wm		_player_pos_x
         01:D6A0  AD F7 24   			lda.l	_player_pos_x
         01:D6A3  AC F8 24   			ldy.h	_player_pos_x
14368                        		__sub.wi	1
         01:D6A6  38         			sec
         01:D6A7  E9 01      			sbc.l	#1
         01:D6A9  B0 01      			bcs	!+
         01:D6AB  88         			dey
         01:D6AC             	!:
14369                        		__call		_spr_x.1
         01:D6AC  20 1E E8   			call	_spr_x.1
14370                        	
14371                        		.dbg	line,	"include\routines_LEVELS.c", 2615; }
14372                        	
14373                        		.dbg	line,	"include\routines_LEVELS.c", 2617; else
14374                        		__bra		.LL710
         01:D6AF  80 0F      			bra	.LL710
14375    01:D6B1             	.LL709:
14376                        	
14377                        		.dbg	line,	"include\routines_LEVELS.c", 2618; {
14378                        	
14379                        		.dbg	line,	"include\routines_LEVELS.c", 2619; spr_x(player_pos_x+17);
14380                        		__ld.wm		_player_pos_x
         01:D6B1  AD F7 24   			lda.l	_player_pos_x
         01:D6B4  AC F8 24   			ldy.h	_player_pos_x
14381                        		__add.wi	17
         01:D6B7  18         			clc
         01:D6B8  69 11      			adc.l	#17
         01:D6BA  90 01      			bcc	!+
         01:D6BC  C8         			iny
         01:D6BD             	!:
14382                        		__call		_spr_x.1
         01:D6BD  20 1E E8   			call	_spr_x.1
14383                        	
14384                        		.dbg	line,	"include\routines_LEVELS.c", 2620; }
14385    01:D6C0             	.LL710:
14386                        	
14387                        		.dbg	line,	"include\routines_LEVELS.c", 2622; //spr_y(player_pos_y+18);
14388                        	
14389                        		.dbg	line,	"include\routines_LEVELS.c", 2623; 
14390                        	
14391                        		.dbg	line,	"include\routines_LEVELS.c", 2624; player_counter_anim = 0;
14392                        		__st.umiq	0, _player_counter_anim
         01:D6C0  9C 1C 23   			stz	_player_counter_anim
14393                        	
14394                        		.dbg	line,	"include\routines_LEVELS.c", 2625; }
14395                        	
14396                        		.dbg	line,	"include\routines_LEVELS.c", 2627; spr_set(weapon_id);
14397    01:D6C3             	.LL708:
14398                        		__ld.umq	_weapon_id
         01:D6C3  AD 27 23   			lda	_weapon_id
14399                        		__call		_spr_set.1
         01:D6C6  20 F1 E7   			call	_spr_set.1
14400                        	
14401                        		.dbg	line,	"include\routines_LEVELS.c", 2628; spr_y(player_pos_y+18);
14402                        		__ld.wm		_player_pos_y
         01:D6C9  AD F9 24   			lda.l	_player_pos_y
         01:D6CC  AC FA 24   			ldy.h	_player_pos_y
14403                        		__add.wi	18
         01:D6CF  18         			clc
         01:D6D0  69 12      			adc.l	#18
         01:D6D2  90 01      			bcc	!+
         01:D6D4  C8         			iny
         01:D6D5             	!:
14404                        		__call		_spr_y.1
         01:D6D5  20 2D E8   			call	_spr_y.1
14405                        	
14406                        		.dbg	line,	"include\routines_LEVELS.c", 2629; //recenter_CAMERA();
14407                        	
14408                        		.dbg	line,	"include\routines_LEVELS.c", 2630; }
14409                        	
14410                        		.dbg	line,	"include\routines_LEVELS.c", 2633; else if(player_state == STATE_FALL)
14411                        		__bra		.LL711
         01:D6D8  4C DA DC   			bra	.LL711
14412    01:D6DB             	.LL707:
14413                        		__ld.umq	_player_state
         01:D6DB  AD 19 23   			lda	_player_state
14414                        		__equ_b.uiq	9
         01:D6DE  C9 09      			cmp	#9
         01:D6E0  F0 01      			beq	!+
         01:D6E2  18         			clc
         01:D6E3             	!:
14415                        		__bfalse	.LL712
         01:D6E3  B0 03 4C 20			bcc	.LL712
         01:D6E7  D9          
14416                        	
14417                        		.dbg	line,	"include\routines_LEVELS.c", 2634; {
14418                        	
14419                        		.dbg	line,	"include\routines_LEVELS.c", 2635; unsigned char i, camera_y_move;
14420                        	
14421                        		.dbg	line,	"include\routines_LEVELS.c", 2636; i = 1;
14422                        		__st.umiq	1, __update_PLAYER_end - 6  /* i */
         01:D6E8  A9 01      			lda.l	#1
         01:D6EA  8D 07 23   			sta	__update_PLAYER_end - 6
14423                        	
14424                        		.dbg	line,	"include\routines_LEVELS.c", 2639; spr_set(player_id);
14425                        		__ld.umq	_player_id
         01:D6ED  AD 18 23   			lda	_player_id
14426                        		__call		_spr_set.1
         01:D6F0  20 F1 E7   			call	_spr_set.1
14427                        	
14428                        		.dbg	line,	"include\routines_LEVELS.c", 2642; //--------------------------------------------------------------------------------------//
14429                        	
14430                        		.dbg	line,	"include\routines_LEVELS.c", 2643; //                                        V MOVE                                        //
14431                        	
14432                        		.dbg	line,	"include\routines_LEVELS.c", 2644; //--------------------------------------------------------------------------------------//
14433                        	
14434                        		.dbg	line,	"include\routines_LEVELS.c", 2646; // UPDATE PLAYER Y POSITION //
14435                        	
14436                        		.dbg	line,	"include\routines_LEVELS.c", 2647; player_pos_y += TABLE_PLAYER_FALL[player_index_fall];
14437                        		__ldx.umq	_player_index_fall
         01:D6F3  AE 1E 23   			ldx	_player_index_fall
14438                        		__ld.bax	_TABLE_PLAYER_FALL
         01:D6F6  BD AA 62   			lda	_TABLE_PLAYER_FALL, x
         01:D6F9  C2         			cly
         01:D6FA  10 01      			bpl	!+
         01:D6FC  88         			dey
         01:D6FD             	!:
14439                        		__add_st.wmq	_player_pos_y
         01:D6FD  18         			clc
         01:D6FE  6D F9 24   			adc.l	_player_pos_y
         01:D701  8D F9 24   			sta.l	_player_pos_y
         01:D704  98         			tya
         01:D705  6D FA 24   			adc.h	_player_pos_y
         01:D708  8D FA 24   			sta.h	_player_pos_y
14440                        	
14441                        		.dbg	line,	"include\routines_LEVELS.c", 2650; // IF PLAYER GOES BELOW ITS BASE Y POSITION //
14442                        	
14443                        		.dbg	line,	"include\routines_LEVELS.c", 2651; if(player_pos_y >= PLAYER_BASE_Y_POS)
14444                        		__ld.wm		_player_pos_y
         01:D70B  AD F9 24   			lda.l	_player_pos_y
         01:D70E  AC FA 24   			ldy.h	_player_pos_y
14445                        		__sge_w.wi	128
         01:D711  C9 80      			cmp.l	#128		; Subtract integer from Y:A.
         01:D713  98         			tya
         01:D714  E9 00      			sbc.h	#128
         01:D716  50 02      			bvc	!+
         01:D718  49 80      			eor	#$80		; +ve if Y:A >= integer (signed).
         01:D71A  49 80      	!:		eor	#$80
         01:D71C  0A         			asl	a
14446                        		__bfalse	.LL713
         01:D71D  90 45      			bcc	.LL713
14447                        	
14448                        		.dbg	line,	"include\routines_LEVELS.c", 2652; {
14449                        	
14450                        		.dbg	line,	"include\routines_LEVELS.c", 2653; // THE CAMERA MOVES //
14451                        	
14452                        		.dbg	line,	"include\routines_LEVELS.c", 2654; // CALCULATE HOW MANY PIXELS THE CAMERA HAS TO MOVE DOWN //
14453                        	
14454                        		.dbg	line,	"include\routines_LEVELS.c", 2655; camera_y_move = player_pos_y - PLAYER_BASE_Y_POS;
14455                        		__ld.wm		_player_pos_y
         01:D71F  AD F9 24   			lda.l	_player_pos_y
         01:D722  AC FA 24   			ldy.h	_player_pos_y
14456                        		__sub.wi	128
         01:D725  38         			sec
         01:D726  E9 80      			sbc.l	#128
         01:D728  B0 01      			bcs	!+
         01:D72A  88         			dey
         01:D72B             	!:
14457                        		__st.umq	__update_PLAYER_end - 7  /* camera_y_move */
         01:D72B  8D 06 23   			sta	__update_PLAYER_end - 7
14458                        	
14459                        		.dbg	line,	"include\routines_LEVELS.c", 2656; sgx_map_pxl_y += camera_y_move;
14460                        		__ld.um		__update_PLAYER_end - 7  /* camera_y_move */
         01:D72E  AD 06 23   			lda	__update_PLAYER_end - 7
         01:D731  C2         			cly
14461                        		__add_st.wmq	_sgx_map_pxl_y
         01:D732  18         			clc
         01:D733  6D DC 26   			adc.l	_sgx_map_pxl_y
         01:D736  8D DC 26   			sta.l	_sgx_map_pxl_y
         01:D739  98         			tya
         01:D73A  6D DD 26   			adc.h	_sgx_map_pxl_y
         01:D73D  8D DD 26   			sta.h	_sgx_map_pxl_y
14462                        	
14463                        		.dbg	line,	"include\routines_LEVELS.c", 2658; // IF THE CAMERA HAS REACHED ITS MAX (LOWEST) POSITION //
14464                        	
14465                        		.dbg	line,	"include\routines_LEVELS.c", 2659; if(sgx_map_pxl_y > camera_max_y_position)
14466                        		__ld.wm		_sgx_map_pxl_y
         01:D740  AD DC 26   			lda.l	_sgx_map_pxl_y
         01:D743  AC DD 26   			ldy.h	_sgx_map_pxl_y
14467                        		__ugt_w.wm	_camera_max_y_position
         01:D746  18         			clc			; Subtract memory+1 from Y:A.
         01:D747  ED FB 24   			sbc.l	_camera_max_y_position
         01:D74A  98         			tya
         01:D74B  ED FC 24   			sbc.h	_camera_max_y_position		; CS if Y:A > memory.
14468                        		__bfalse	.LL714
         01:D74E  90 0C      			bcc	.LL714
14469                        	
14470                        		.dbg	line,	"include\routines_LEVELS.c", 2660; {
14471                        	
14472                        		.dbg	line,	"include\routines_LEVELS.c", 2661; // THE CAMERA CAN NOT MOVE LOWER //
14473                        	
14474                        		.dbg	line,	"include\routines_LEVELS.c", 2662; sgx_map_pxl_y = camera_max_y_position;
14475                        		__ld.wm		_camera_max_y_position
         01:D750  AD FB 24   			lda.l	_camera_max_y_position
         01:D753  AC FC 24   			ldy.h	_camera_max_y_position
14476                        		__st.wmq	_sgx_map_pxl_y
         01:D756  8D DC 26   			sta.l	_sgx_map_pxl_y
         01:D759  8C DD 26   			sty.h	_sgx_map_pxl_y
14477                        	
14478                        		.dbg	line,	"include\routines_LEVELS.c", 2663; }
14479                        	
14480                        		.dbg	line,	"include\routines_LEVELS.c", 2665; // THE PLAYER STAYS AT ITS BASE Y POSITION //
14481                        	
14482                        		.dbg	line,	"include\routines_LEVELS.c", 2666; player_pos_y = PLAYER_BASE_Y_POS;
14483    01:D75C             	.LL714:
14484                        		__st.wmiq	128, _player_pos_y
         01:D75C  A9 80      			lda.l	#128
         01:D75E  8D F9 24   			sta.l	_player_pos_y
         01:D761  9C FA 24   			stz.h	_player_pos_y
14485                        	
14486                        		.dbg	line,	"include\routines_LEVELS.c", 2667; }
14487                        	
14488                        		.dbg	line,	"include\routines_LEVELS.c", 2670; // UPDATE JUMP INDEX IN THE ARRAY //
14489                        	
14490                        		.dbg	line,	"include\routines_LEVELS.c", 2671; // ARRAY MAX ENTRY : 20//
14491                        	
14492                        		.dbg	line,	"include\routines_LEVELS.c", 2672; if(player_index_fall < 20)
14493    01:D764             	.LL713:
14494                        		__ld.umq	_player_index_fall
         01:D764  AD 1E 23   			lda	_player_index_fall
14495                        		__ult_b.uiq	20
         01:D767  C9 14      			cmp	#20		; Subtract integer from A.
         01:D769  6A         			ror	a		; CC if A < integer.
         01:D76A  49 80      			eor	#$80
         01:D76C  2A         			rol	a
14496                        		__bfalse	.LL715
         01:D76D  90 03      			bcc	.LL715
14497                        	
14498                        		.dbg	line,	"include\routines_LEVELS.c", 2673; {
14499                        	
14500                        		.dbg	line,	"include\routines_LEVELS.c", 2674; player_index_fall += 1;
14501                        		__add_st.umiq	1, _player_index_fall
         01:D76F  EE 1E 23   			inc	_player_index_fall
14502                        	
14503                        		.dbg	line,	"include\routines_LEVELS.c", 2675; }
14504                        	
14505                        		.dbg	line,	"include\routines_LEVELS.c", 2678; check_TILE_DEPTH( 15 , 0);
14506    01:D772             	.LL715:
14507                        		__ld.wi		15
         01:D772  A9 0F      			lda.l	#15
         01:D774  C2         			cly
14508                        		__pusharg.wr
         01:D775  A6 8D      			ldx	<__sp
         01:D777  CA         			dex
         01:D778  CA         			dex
         01:D779  95 08      			sta.l	<__stack, x
         01:D77B  94 09      			sty.h	<__stack, x
         01:D77D  86 8D      			stx	<__sp
14509                        		__ld.wi		0
         01:D77F  62         			cla
         01:D780  C2         			cly
14510                        		__pusharg.wr
         01:D781  A6 8D      			ldx	<__sp
         01:D783  CA         			dex
         01:D784  CA         			dex
         01:D785  95 08      			sta.l	<__stack, x
         01:D787  94 09      			sty.h	<__stack, x
         01:D789  86 8D      			stx	<__sp
14511                        		__call		_check_TILE_DEPTH
         01:D78B  20 13 FF   			call	_check_TILE_DEPTH
14512                        	
14513                        		.dbg	line,	"include\routines_LEVELS.c", 2681; if(map_blk_flag == TILE_BG)
14514                        		__ld.umq	_map_blk_flag
         01:D78E  AD FB 2B   			lda	_map_blk_flag
14515                        		__equ_b.uiq	1
         01:D791  C9 01      			cmp	#1
         01:D793  F0 01      			beq	!+
         01:D795  18         			clc
         01:D796             	!:
14516                        		__bfalse	.LL716
         01:D796  B0 03 4C 52			bcc	.LL716
         01:D79A  D8          
14517                        	
14518                        		.dbg	line,	"include\routines_LEVELS.c", 2682; {
14519                        	
14520                        		.dbg	line,	"include\routines_LEVELS.c", 2683; // CALCULATE HOW MANY PIXELS THE PLAYER MOVED INTO THE GROUND //
14521                        	
14522                        		.dbg	line,	"include\routines_LEVELS.c", 2684; for(i=1; i<11 ; i++ )
14523                        		__st.umiq	1, __update_PLAYER_end - 6  /* i */
         01:D79B  A9 01      			lda.l	#1
         01:D79D  8D 07 23   			sta	__update_PLAYER_end - 6
14524    01:D7A0             	.LL717:
14525                        		__ld.umq	__update_PLAYER_end - 6  /* i */
         01:D7A0  AD 07 23   			lda	__update_PLAYER_end - 6
14526                        		__ult_b.uiq	11
         01:D7A3  C9 0B      			cmp	#11		; Subtract integer from A.
         01:D7A5  6A         			ror	a		; CC if A < integer.
         01:D7A6  49 80      			eor	#$80
         01:D7A8  2A         			rol	a
14527                        		__btrue		.LL719
         01:D7A9  B0 07      			bcs	.LL719
14528                        		__bra		.LL720
         01:D7AB  80 7D      			bra	.LL720
14529    01:D7AD             	.LL718:
14530                        		__inc.umq	__update_PLAYER_end - 6  /* i */
         01:D7AD  EE 07 23   			inc	__update_PLAYER_end - 6
14531                        		__bra		.LL717
         01:D7B0  80 EE      			bra	.LL717
14532    01:D7B2             	.LL719:
14533                        	
14534                        		.dbg	line,	"include\routines_LEVELS.c", 2685; {
14535                        	
14536                        		.dbg	line,	"include\routines_LEVELS.c", 2686; check_TILE_DEPTH( 15 , i);//20
14537                        		__ld.wi		15
         01:D7B2  A9 0F      			lda.l	#15
         01:D7B4  C2         			cly
14538                        		__pusharg.wr
         01:D7B5  A6 8D      			ldx	<__sp
         01:D7B7  CA         			dex
         01:D7B8  CA         			dex
         01:D7B9  95 08      			sta.l	<__stack, x
         01:D7BB  94 09      			sty.h	<__stack, x
         01:D7BD  86 8D      			stx	<__sp
14539                        		__ld.um		__update_PLAYER_end - 6  /* i */
         01:D7BF  AD 07 23   			lda	__update_PLAYER_end - 6
         01:D7C2  C2         			cly
14540                        		__pusharg.wr
         01:D7C3  A6 8D      			ldx	<__sp
         01:D7C5  CA         			dex
         01:D7C6  CA         			dex
         01:D7C7  95 08      			sta.l	<__stack, x
         01:D7C9  94 09      			sty.h	<__stack, x
         01:D7CB  86 8D      			stx	<__sp
14541                        		__call		_check_TILE_DEPTH
         01:D7CD  20 13 FF   			call	_check_TILE_DEPTH
14542                        	
14543                        		.dbg	line,	"include\routines_LEVELS.c", 2689; if(map_blk_flag == TILE_EMPTY)
14544                        		__not.um	_map_blk_flag
         01:D7D0  AD FB 2B   			lda	_map_blk_flag
         01:D7D3  18         			clc
         01:D7D4  D0 01      			bne	!+
         01:D7D6  38         			sec
         01:D7D7             	!:
14545                        		__bfalse	.LL721
         01:D7D7  90 D4      			bcc	.LL721
14546                        	
14547                        		.dbg	line,	"include\routines_LEVELS.c", 2690; {
14548                        	
14549                        		.dbg	line,	"include\routines_LEVELS.c", 2691; if(player_pos_y != PLAYER_BASE_Y_POS)
14550                        		__ld.wm		_player_pos_y
         01:D7D9  AD F9 24   			lda.l	_player_pos_y
         01:D7DC  AC FA 24   			ldy.h	_player_pos_y
14551                        		__neq_w.wi	128
         01:D7DF  38         			sec
         01:D7E0  49 80      			eor.l	#128
         01:D7E2  D0 06      			bne	!+
         01:D7E4  98         			tya
         01:D7E5  49 00      			eor.h	#128
         01:D7E7  D0 01      			bne	!+
         01:D7E9  18         			clc
         01:D7EA             	!:
14552                        		__bfalse	.LL722
         01:D7EA  90 1E      			bcc	.LL722
14553                        	
14554                        		.dbg	line,	"include\routines_LEVELS.c", 2692; {
14555                        	
14556                        		.dbg	line,	"include\routines_LEVELS.c", 2693; player_pos_y -= (i - 1);
14557                        		__ld.um		__update_PLAYER_end - 6  /* i */
         01:D7EC  AD 07 23   			lda	__update_PLAYER_end - 6
         01:D7EF  C2         			cly
14558                        		__sub.wi	1
         01:D7F0  38         			sec
         01:D7F1  E9 01      			sbc.l	#1
         01:D7F3  B0 01      			bcs	!+
         01:D7F5  88         			dey
         01:D7F6             	!:
14559                        		__isub_st.wmq	_player_pos_y
         01:D7F6  38         			sec
         01:D7F7  49 FF      			eor	#$FF
         01:D7F9  6D F9 24   			adc.l	_player_pos_y
         01:D7FC  8D F9 24   			sta.l	_player_pos_y
         01:D7FF  98         			tya
         01:D800  49 FF      			eor	#$FF
         01:D802  6D FA 24   			adc.h	_player_pos_y
         01:D805  8D FA 24   			sta.h	_player_pos_y
14560                        	
14561                        		.dbg	line,	"include\routines_LEVELS.c", 2694; }
14562                        	
14563                        		.dbg	line,	"include\routines_LEVELS.c", 2696; else
14564                        		__bra		.LL723
         01:D808  80 20      			bra	.LL723
14565    01:D80A             	.LL722:
14566                        	
14567                        		.dbg	line,	"include\routines_LEVELS.c", 2697; {
14568                        	
14569                        		.dbg	line,	"include\routines_LEVELS.c", 2698; sgx_map_pxl_y -= (i - 1);
14570                        		__ld.um		__update_PLAYER_end - 6  /* i */
         01:D80A  AD 07 23   			lda	__update_PLAYER_end - 6
         01:D80D  C2         			cly
14571                        		__sub.wi	1
         01:D80E  38         			sec
         01:D80F  E9 01      			sbc.l	#1
         01:D811  B0 01      			bcs	!+
         01:D813  88         			dey
         01:D814             	!:
14572                        		__isub_st.wmq	_sgx_map_pxl_y
         01:D814  38         			sec
         01:D815  49 FF      			eor	#$FF
         01:D817  6D DC 26   			adc.l	_sgx_map_pxl_y
         01:D81A  8D DC 26   			sta.l	_sgx_map_pxl_y
         01:D81D  98         			tya
         01:D81E  49 FF      			eor	#$FF
         01:D820  6D DD 26   			adc.h	_sgx_map_pxl_y
         01:D823  8D DD 26   			sta.h	_sgx_map_pxl_y
14573                        	
14574                        		.dbg	line,	"include\routines_LEVELS.c", 2699; }
14575    01:D826             	.LL723	.alias		.LL720
14576                        	
14577                        		.dbg	line,	"include\routines_LEVELS.c", 2702; break;
14578                        		__bra		.LL720
         01:D826  80 02      			bra	.LL720
14579                        	
14580                        		.dbg	line,	"include\routines_LEVELS.c", 2703; }
14581                        	
14582                        		.dbg	line,	"include\routines_LEVELS.c", 2705; }
14583    01:D828             	.LL721	.alias		.LL718
14584                        		__bra		.LL718
         01:D828  80 83      			bra	.LL718
14585    01:D82A             	.LL720:
14586                        	
14587                        		.dbg	line,	"include\routines_LEVELS.c", 2707; spr_y(player_pos_y);
14588                        		__ld.wm		_player_pos_y
         01:D82A  AD F9 24   			lda.l	_player_pos_y
         01:D82D  AC FA 24   			ldy.h	_player_pos_y
14589                        		__call		_spr_y.1
         01:D830  20 2D E8   			call	_spr_y.1
14590                        	
14591                        		.dbg	line,	"include\routines_LEVELS.c", 2709; player_counter_anim = 1;
14592                        		__st.umiq	1, _player_counter_anim
         01:D833  A9 01      			lda.l	#1
         01:D835  8D 1C 23   			sta	_player_counter_anim
14593                        	
14594                        		.dbg	line,	"include\routines_LEVELS.c", 2710; player_index_jump = 0;
14595                        		__st.umiq	0, _player_index_jump
         01:D838  9C 1D 23   			stz	_player_index_jump
14596                        	
14597                        		.dbg	line,	"include\routines_LEVELS.c", 2711; player_index_fall = 0;
14598                        		__st.umiq	0, _player_index_fall
         01:D83B  9C 1E 23   			stz	_player_index_fall
14599                        	
14600                        		.dbg	line,	"include\routines_LEVELS.c", 2712; jump_ladder = FALSE;
14601                        		__st.umiq	0, _jump_ladder
         01:D83E  9C 22 23   			stz	_jump_ladder
14602                        	
14603                        		.dbg	line,	"include\routines_LEVELS.c", 2713; fall_ladder = FALSE;
14604                        		__st.umiq	0, _fall_ladder
         01:D841  9C 24 23   			stz	_fall_ladder
14605                        	
14606                        		.dbg	line,	"include\routines_LEVELS.c", 2714; hit_wall = FALSE;
14607                        		__st.umiq	0, _hit_wall
         01:D844  9C 25 23   			stz	_hit_wall
14608                        	
14609                        		.dbg	line,	"include\routines_LEVELS.c", 2715; jump_max_index = 34;
14610                        		__st.umiq	34, _jump_max_index
         01:D847  A9 22      			lda.l	#34
         01:D849  8D 23 23   			sta	_jump_max_index
14611                        	
14612                        		.dbg	line,	"include\routines_LEVELS.c", 2716; player_state = STATE_IDLE;
14613                        		__st.umiq	0, _player_state
         01:D84C  9C 19 23   			stz	_player_state
14614                        	
14615                        		.dbg	line,	"include\routines_LEVELS.c", 2717; return;
14616                        		__bra		.LL529
         01:D84F  4C DA DC   			bra	.LL529
14617                        	
14618                        		.dbg	line,	"include\routines_LEVELS.c", 2718; }
14619                        	
14620                        		.dbg	line,	"include\routines_LEVELS.c", 2721; collision_PLAYER_BG( 16 , 16 );
14621    01:D852             	.LL716:
14622                        		__ld.wi		16
         01:D852  A9 10      			lda.l	#16
         01:D854  C2         			cly
14623                        		__pusharg.wr
         01:D855  A6 8D      			ldx	<__sp
         01:D857  CA         			dex
         01:D858  CA         			dex
         01:D859  95 08      			sta.l	<__stack, x
         01:D85B  94 09      			sty.h	<__stack, x
         01:D85D  86 8D      			stx	<__sp
14624                        		__ld.wi		16
         01:D85F  A9 10      			lda.l	#16
         01:D861  C2         			cly
14625                        		__pusharg.wr
         01:D862  A6 8D      			ldx	<__sp
         01:D864  CA         			dex
         01:D865  CA         			dex
         01:D866  95 08      			sta.l	<__stack, x
         01:D868  94 09      			sty.h	<__stack, x
         01:D86A  86 8D      			stx	<__sp
14626                        		__call		_collision_PLAYER_BG
         01:D86C  20 27 FF   			call	_collision_PLAYER_BG
14627                        	
14628                        		.dbg	line,	"include\routines_LEVELS.c", 2723; // IF PLAYER HITS THE LADDER //
14629                        	
14630                        		.dbg	line,	"include\routines_LEVELS.c", 2724; if(map_blk_flag == TILE_LADDER)
14631                        		__ld.umq	_map_blk_flag
         01:D86F  AD FB 2B   			lda	_map_blk_flag
14632                        		__equ_b.uiq	2
         01:D872  C9 02      			cmp	#2
         01:D874  F0 01      			beq	!+
         01:D876  18         			clc
         01:D877             	!:
14633                        		__bfalse	.LL724
         01:D877  90 6F      			bcc	.LL724
14634                        	
14635                        		.dbg	line,	"include\routines_LEVELS.c", 2725; {
14636                        	
14637                        		.dbg	line,	"include\routines_LEVELS.c", 2726; // CAMERA GOES 8 PX BACKWARD //
14638                        	
14639                        		.dbg	line,	"include\routines_LEVELS.c", 2727; sgx_map_pxl_x = ( (sgx_map_pxl_x >> 3) << 3 );
14640                        		__ld.wm		_sgx_map_pxl_x
         01:D879  AD DA 26   			lda.l	_sgx_map_pxl_x
         01:D87C  AC DB 26   			ldy.h	_sgx_map_pxl_x
14641                        		__lsr.wi	3
         01:D87F  84 00      			sty	__temp
         01:D881  20 3A E2   			jsr	lsrw3
14642                        		__asl.wi	3
         01:D884  84 00      			sty	__temp
         01:D886  20 D7 E1   			jsr	aslw3
14643                        		__st.wmq	_sgx_map_pxl_x
         01:D889  8D DA 26   			sta.l	_sgx_map_pxl_x
         01:D88C  8C DB 26   			sty.h	_sgx_map_pxl_x
14644                        	
14645                        		.dbg	line,	"include\routines_LEVELS.c", 2729; // SO WE UPDATE THE MAP //
14646                        	
14647                        		.dbg	line,	"include\routines_LEVELS.c", 2730; sgx_scroll_map();
14648                        		__call		_sgx_scroll_map
         01:D88F  20 59 FF   			call	_sgx_scroll_map
14649                        	
14650                        		.dbg	line,	"include\routines_LEVELS.c", 2732; // CHECK IF THE PLAYER STANDS RIGHT TO THE LADDER //
14651                        	
14652                        		.dbg	line,	"include\routines_LEVELS.c", 2733; collision_PLAYER_BG( 31 , 16 );
14653                        		__ld.wi		31
         01:D892  A9 1F      			lda.l	#31
         01:D894  C2         			cly
14654                        		__pusharg.wr
         01:D895  A6 8D      			ldx	<__sp
         01:D897  CA         			dex
         01:D898  CA         			dex
         01:D899  95 08      			sta.l	<__stack, x
         01:D89B  94 09      			sty.h	<__stack, x
         01:D89D  86 8D      			stx	<__sp
14655                        		__ld.wi		16
         01:D89F  A9 10      			lda.l	#16
         01:D8A1  C2         			cly
14656                        		__pusharg.wr
         01:D8A2  A6 8D      			ldx	<__sp
         01:D8A4  CA         			dex
         01:D8A5  CA         			dex
         01:D8A6  95 08      			sta.l	<__stack, x
         01:D8A8  94 09      			sty.h	<__stack, x
         01:D8AA  86 8D      			stx	<__sp
14657                        		__call		_collision_PLAYER_BG
         01:D8AC  20 27 FF   			call	_collision_PLAYER_BG
14658                        	
14659                        		.dbg	line,	"include\routines_LEVELS.c", 2735; if(map_blk_flag == TILE_LADDER)
14660                        		__ld.umq	_map_blk_flag
         01:D8AF  AD FB 2B   			lda	_map_blk_flag
14661                        		__equ_b.uiq	2
         01:D8B2  C9 02      			cmp	#2
         01:D8B4  F0 01      			beq	!+
         01:D8B6  18         			clc
         01:D8B7             	!:
14662                        		__bfalse	.LL725
         01:D8B7  90 0E      			bcc	.LL725
14663                        	
14664                        		.dbg	line,	"include\routines_LEVELS.c", 2736; {
14665                        	
14666                        		.dbg	line,	"include\routines_LEVELS.c", 2737; sgx_map_pxl_x += 8;
14667                        		__add_st.wmiq	8, _sgx_map_pxl_x
         01:D8B9  18         			clc
         01:D8BA  AD DA 26   			lda.l	_sgx_map_pxl_x
         01:D8BD  69 08      			adc.l	#8
         01:D8BF  8D DA 26   			sta.l	_sgx_map_pxl_x
         01:D8C2  90 03      			bcc	!+
         01:D8C4  EE DB 26   			inc.h	_sgx_map_pxl_x
         01:D8C7             	!:
14668                        	
14669                        		.dbg	line,	"include\routines_LEVELS.c", 2738; }
14670                        	
14671                        		.dbg	line,	"include\routines_LEVELS.c", 2740; spr_pattern(PLAYER_HANG_VRAM_ADR);
14672    01:D8C7             	.LL725:
14673                        		__ld.wi		8448
         01:D8C7  62         			cla
         01:D8C8  A0 21      			ldy.h	#8448
14674                        		__call		_spr_pattern.1
         01:D8CA  20 3A E8   			call	_spr_pattern.1
14675                        	
14676                        		.dbg	line,	"include\routines_LEVELS.c", 2741; player_counter_anim = 0;//1
14677                        		__st.umiq	0, _player_counter_anim
         01:D8CD  9C 1C 23   			stz	_player_counter_anim
14678                        	
14679                        		.dbg	line,	"include\routines_LEVELS.c", 2742; player_index_jump = 0;
14680                        		__st.umiq	0, _player_index_jump
         01:D8D0  9C 1D 23   			stz	_player_index_jump
14681                        	
14682                        		.dbg	line,	"include\routines_LEVELS.c", 2743; player_index_fall = 0;
14683                        		__st.umiq	0, _player_index_fall
         01:D8D3  9C 1E 23   			stz	_player_index_fall
14684                        	
14685                        		.dbg	line,	"include\routines_LEVELS.c", 2744; jump_ladder = TRUE;
14686                        		__st.umiq	1, _jump_ladder
         01:D8D6  A9 01      			lda.l	#1
         01:D8D8  8D 22 23   			sta	_jump_ladder
14687                        	
14688                        		.dbg	line,	"include\routines_LEVELS.c", 2745; jump_max_index = 29;
14689                        		__st.umiq	29, _jump_max_index
         01:D8DB  A9 1D      			lda.l	#29
         01:D8DD  8D 23 23   			sta	_jump_max_index
14690                        	
14691                        		.dbg	line,	"include\routines_LEVELS.c", 2746; player_state = STATE_HANG;
14692                        		__st.umiq	10, _player_state
         01:D8E0  A9 0A      			lda.l	#10
         01:D8E2  8D 19 23   			sta	_player_state
14693                        	
14694                        		.dbg	line,	"include\routines_LEVELS.c", 2747; return;
14695                        		__bra		.LL529
         01:D8E5  4C DA DC   			bra	.LL529
14696                        	
14697                        		.dbg	line,	"include\routines_LEVELS.c", 2748; }
14698                        	
14699                        		.dbg	line,	"include\routines_LEVELS.c", 2750; spr_y(player_pos_y);
14700    01:D8E8             	.LL724:
14701                        		__ld.wm		_player_pos_y
         01:D8E8  AD F9 24   			lda.l	_player_pos_y
         01:D8EB  AC FA 24   			ldy.h	_player_pos_y
14702                        		__call		_spr_y.1
         01:D8EE  20 2D E8   			call	_spr_y.1
14703                        	
14704                        		.dbg	line,	"include\routines_LEVELS.c", 2752; spr_set(weapon_id);
14705                        		__ld.umq	_weapon_id
         01:D8F1  AD 27 23   			lda	_weapon_id
14706                        		__call		_spr_set.1
         01:D8F4  20 F1 E7   			call	_spr_set.1
14707                        	
14708                        		.dbg	line,	"include\routines_LEVELS.c", 2754; if(fall_ladder == TRUE || hit_wall == TRUE)
14709                        		__ld.umq	_fall_ladder
         01:D8F7  AD 24 23   			lda	_fall_ladder
14710                        		__equ_b.uiq	1
         01:D8FA  C9 01      			cmp	#1
         01:D8FC  F0 01      			beq	!+
         01:D8FE  18         			clc
         01:D8FF             	!:
14711                        		__btrue		.LL727
         01:D8FF  B0 08      			bcs	.LL727
14712                        		__ld.umq	_hit_wall
         01:D901  AD 25 23   			lda	_hit_wall
14713                        		__equ_b.uiq	1
         01:D904  C9 01      			cmp	#1
         01:D906  F0 01      			beq	!+
         01:D908  18         			clc
         01:D909             	!:
14714    01:D909             	.LL727:
14715                        		__bfalse	.LL726
         01:D909  B0 03 4C DA			bcc	.LL726
         01:D90D  DC          
14716                        	
14717                        		.dbg	line,	"include\routines_LEVELS.c", 2755; {
14718                        	
14719                        		.dbg	line,	"include\routines_LEVELS.c", 2756; spr_y(player_pos_y+8);
14720                        		__ld.wm		_player_pos_y
         01:D90E  AD F9 24   			lda.l	_player_pos_y
         01:D911  AC FA 24   			ldy.h	_player_pos_y
14721                        		__add.wi	8
         01:D914  18         			clc
         01:D915  69 08      			adc.l	#8
         01:D917  90 01      			bcc	!+
         01:D919  C8         			iny
         01:D91A             	!:
14722                        		__call		_spr_y.1
         01:D91A  20 2D E8   			call	_spr_y.1
14723                        	
14724                        		.dbg	line,	"include\routines_LEVELS.c", 2757; }
14725                        	
14726                        		.dbg	line,	"include\routines_LEVELS.c", 2758; }
14727    01:D91D             	.LL726	.alias		.LL728
14728                        	
14729                        		.dbg	line,	"include\routines_LEVELS.c", 2761; else if(player_state == STATE_HANG)
14730                        		__bra		.LL728
         01:D91D  4C DA DC   			bra	.LL728
14731    01:D920             	.LL712:
14732                        		__ld.umq	_player_state
         01:D920  AD 19 23   			lda	_player_state
14733                        		__equ_b.uiq	10
         01:D923  C9 0A      			cmp	#10
         01:D925  F0 01      			beq	!+
         01:D927  18         			clc
         01:D928             	!:
14734                        		__bfalse	.LL729
         01:D928  90 5A      			bcc	.LL729
14735                        	
14736                        		.dbg	line,	"include\routines_LEVELS.c", 2762; {
14737                        	
14738                        		.dbg	line,	"include\routines_LEVELS.c", 2763; recenter_CAMERA();
14739                        		__call		_recenter_CAMERA
         01:D92A  20 1D FF   			call	_recenter_CAMERA
14740                        	
14741                        		.dbg	line,	"include\routines_LEVELS.c", 2765; if(player_attack == FALSE)
14742                        		__not.um	_player_attack
         01:D92D  AD 21 23   			lda	_player_attack
         01:D930  18         			clc
         01:D931  D0 01      			bne	!+
         01:D933  38         			sec
         01:D934             	!:
14743                        		__bfalse	.LL730
         01:D934  B0 03 4C DA			bcc	.LL730
         01:D938  DC          
14744                        	
14745                        		.dbg	line,	"include\routines_LEVELS.c", 2766; {
14746                        	
14747                        		.dbg	line,	"include\routines_LEVELS.c", 2767; spr_set(weapon_id);
14748                        		__ld.umq	_weapon_id
         01:D939  AD 27 23   			lda	_weapon_id
14749                        		__call		_spr_set.1
         01:D93C  20 F1 E7   			call	_spr_set.1
14750                        	
14751                        		.dbg	line,	"include\routines_LEVELS.c", 2768; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
14752                        		__ld.wi		31808
         01:D93F  A9 40      			lda.l	#31808
         01:D941  A0 7C      			ldy.h	#31808
14753                        		__call		_spr_pattern.1
         01:D943  20 3A E8   			call	_spr_pattern.1
14754                        	
14755                        		.dbg	line,	"include\routines_LEVELS.c", 2769; spr_y(player_pos_y+5);
14756                        		__ld.wm		_player_pos_y
         01:D946  AD F9 24   			lda.l	_player_pos_y
         01:D949  AC FA 24   			ldy.h	_player_pos_y
14757                        		__add.wi	5
         01:D94C  18         			clc
         01:D94D  69 05      			adc.l	#5
         01:D94F  90 01      			bcc	!+
         01:D951  C8         			iny
         01:D952             	!:
14758                        		__call		_spr_y.1
         01:D952  20 2D E8   			call	_spr_y.1
14759                        	
14760                        		.dbg	line,	"include\routines_LEVELS.c", 2771; if(player_axis == AXIS_RIGHT)
14761                        		__not.um	_player_axis
         01:D955  AD 1A 23   			lda	_player_axis
         01:D958  18         			clc
         01:D959  D0 01      			bne	!+
         01:D95B  38         			sec
         01:D95C             	!:
14762                        		__bfalse	.LL731
         01:D95C  90 11      			bcc	.LL731
14763                        	
14764                        		.dbg	line,	"include\routines_LEVELS.c", 2772; {
14765                        	
14766                        		.dbg	line,	"include\routines_LEVELS.c", 2773; spr_x(player_pos_x+17);
14767                        		__ld.wm		_player_pos_x
         01:D95E  AD F7 24   			lda.l	_player_pos_x
         01:D961  AC F8 24   			ldy.h	_player_pos_x
14768                        		__add.wi	17
         01:D964  18         			clc
         01:D965  69 11      			adc.l	#17
         01:D967  90 01      			bcc	!+
         01:D969  C8         			iny
         01:D96A             	!:
14769                        		__call		_spr_x.1
         01:D96A  20 1E E8   			call	_spr_x.1
14770                        	
14771                        		.dbg	line,	"include\routines_LEVELS.c", 2774; }
14772                        	
14773                        		.dbg	line,	"include\routines_LEVELS.c", 2776; else
14774                        		__bra		.LL732
         01:D96D  80 0F      			bra	.LL732
14775    01:D96F             	.LL731:
14776                        	
14777                        		.dbg	line,	"include\routines_LEVELS.c", 2777; {
14778                        	
14779                        		.dbg	line,	"include\routines_LEVELS.c", 2778; spr_x(player_pos_x-2);
14780                        		__ld.wm		_player_pos_x
         01:D96F  AD F7 24   			lda.l	_player_pos_x
         01:D972  AC F8 24   			ldy.h	_player_pos_x
14781                        		__sub.wi	2
         01:D975  38         			sec
         01:D976  E9 02      			sbc.l	#2
         01:D978  B0 01      			bcs	!+
         01:D97A  88         			dey
         01:D97B             	!:
14782                        		__call		_spr_x.1
         01:D97B  20 1E E8   			call	_spr_x.1
14783                        	
14784                        		.dbg	line,	"include\routines_LEVELS.c", 2779; }
14785    01:D97E             	.LL732:
14786                        	
14787                        		.dbg	line,	"include\routines_LEVELS.c", 2780; 
14788                        	
14789                        		.dbg	line,	"include\routines_LEVELS.c", 2781; player_counter_anim = 0;
14790                        		__st.umiq	0, _player_counter_anim
         01:D97E  9C 1C 23   			stz	_player_counter_anim
14791                        	
14792                        		.dbg	line,	"include\routines_LEVELS.c", 2782; }
14793                        	
14794                        		.dbg	line,	"include\routines_LEVELS.c", 2783; }
14795    01:D981             	.LL730	.alias		.LL733
14796                        	
14797                        		.dbg	line,	"include\routines_LEVELS.c", 2786; else if(player_state == STATE_CLIMB_UP)
14798                        		__bra		.LL733
         01:D981  4C DA DC   			bra	.LL733
14799    01:D984             	.LL729:
14800                        		__ld.umq	_player_state
         01:D984  AD 19 23   			lda	_player_state
14801                        		__equ_b.uiq	11
         01:D987  C9 0B      			cmp	#11
         01:D989  F0 01      			beq	!+
         01:D98B  18         			clc
         01:D98C             	!:
14802                        		__bfalse	.LL734
         01:D98C  B0 03 4C 66			bcc	.LL734
         01:D990  DA          
14803                        	
14804                        		.dbg	line,	"include\routines_LEVELS.c", 2787; {
14805                        	
14806                        		.dbg	line,	"include\routines_LEVELS.c", 2788; if(player_counter_anim == 0)
14807                        		__not.um	_player_counter_anim
         01:D991  AD 1C 23   			lda	_player_counter_anim
         01:D994  18         			clc
         01:D995  D0 01      			bne	!+
         01:D997  38         			sec
         01:D998             	!:
14808                        		__bfalse	.LL735
         01:D998  90 0F      			bcc	.LL735
14809                        	
14810                        		.dbg	line,	"include\routines_LEVELS.c", 2789; {
14811                        	
14812                        		.dbg	line,	"include\routines_LEVELS.c", 2790; spr_set(player_id);
14813                        		__ld.umq	_player_id
         01:D99A  AD 18 23   			lda	_player_id
14814                        		__call		_spr_set.1
         01:D99D  20 F1 E7   			call	_spr_set.1
14815                        	
14816                        		.dbg	line,	"include\routines_LEVELS.c", 2791; spr_pattern(PLAYER_CLIMB_1_VRAM_ADR); 
14817                        		__ld.wi		8704
         01:D9A0  62         			cla
         01:D9A1  A0 22      			ldy.h	#8704
14818                        		__call		_spr_pattern.1
         01:D9A3  20 3A E8   			call	_spr_pattern.1
14819                        	
14820                        		.dbg	line,	"include\routines_LEVELS.c", 2792; }
14821                        	
14822                        		.dbg	line,	"include\routines_LEVELS.c", 2794; else if(player_counter_anim == 2)
14823                        		__bra		.LL736
         01:D9A6  4C 50 DA   			bra	.LL736
14824    01:D9A9             	.LL735:
14825                        		__ld.umq	_player_counter_anim
         01:D9A9  AD 1C 23   			lda	_player_counter_anim
14826                        		__equ_b.uiq	2
         01:D9AC  C9 02      			cmp	#2
         01:D9AE  F0 01      			beq	!+
         01:D9B0  18         			clc
         01:D9B1             	!:
14827                        		__bfalse	.LL737
         01:D9B1  90 0F      			bcc	.LL737
14828                        	
14829                        		.dbg	line,	"include\routines_LEVELS.c", 2795; {
14830                        	
14831                        		.dbg	line,	"include\routines_LEVELS.c", 2796; spr_set(player_id);
14832                        		__ld.umq	_player_id
         01:D9B3  AD 18 23   			lda	_player_id
14833                        		__call		_spr_set.1
         01:D9B6  20 F1 E7   			call	_spr_set.1
14834                        	
14835                        		.dbg	line,	"include\routines_LEVELS.c", 2797; spr_pattern(PLAYER_CLIMB_2_VRAM_ADR); 
14836                        		__ld.wi		8960
         01:D9B9  62         			cla
         01:D9BA  A0 23      			ldy.h	#8960
14837                        		__call		_spr_pattern.1
         01:D9BC  20 3A E8   			call	_spr_pattern.1
14838                        	
14839                        		.dbg	line,	"include\routines_LEVELS.c", 2798; }
14840                        	
14841                        		.dbg	line,	"include\routines_LEVELS.c", 2800; else if(player_counter_anim == 5)
14842                        		__bra		.LL738
         01:D9BF  4C 50 DA   			bra	.LL738
14843    01:D9C2             	.LL737:
14844                        		__ld.umq	_player_counter_anim
         01:D9C2  AD 1C 23   			lda	_player_counter_anim
14845                        		__equ_b.uiq	5
         01:D9C5  C9 05      			cmp	#5
         01:D9C7  F0 01      			beq	!+
         01:D9C9  18         			clc
         01:D9CA             	!:
14846                        		__bfalse	.LL739
         01:D9CA  90 0E      			bcc	.LL739
14847                        	
14848                        		.dbg	line,	"include\routines_LEVELS.c", 2801; {
14849                        	
14850                        		.dbg	line,	"include\routines_LEVELS.c", 2802; spr_set(player_id);
14851                        		__ld.umq	_player_id
         01:D9CC  AD 18 23   			lda	_player_id
14852                        		__call		_spr_set.1
         01:D9CF  20 F1 E7   			call	_spr_set.1
14853                        	
14854                        		.dbg	line,	"include\routines_LEVELS.c", 2803; spr_pattern(PLAYER_CLIMB_3_VRAM_ADR); 
14855                        		__ld.wi		9216
         01:D9D2  62         			cla
         01:D9D3  A0 24      			ldy.h	#9216
14856                        		__call		_spr_pattern.1
         01:D9D5  20 3A E8   			call	_spr_pattern.1
14857                        	
14858                        		.dbg	line,	"include\routines_LEVELS.c", 2804; }
14859                        	
14860                        		.dbg	line,	"include\routines_LEVELS.c", 2806; else if(player_counter_anim == 8)
14861                        		__bra		.LL740
         01:D9D8  80 76      			bra	.LL740
14862    01:D9DA             	.LL739:
14863                        		__ld.umq	_player_counter_anim
         01:D9DA  AD 1C 23   			lda	_player_counter_anim
14864                        		__equ_b.uiq	8
         01:D9DD  C9 08      			cmp	#8
         01:D9DF  F0 01      			beq	!+
         01:D9E1  18         			clc
         01:D9E2             	!:
14865                        		__bfalse	.LL741
         01:D9E2  90 0E      			bcc	.LL741
14866                        	
14867                        		.dbg	line,	"include\routines_LEVELS.c", 2807; {
14868                        	
14869                        		.dbg	line,	"include\routines_LEVELS.c", 2808; spr_set(player_id);
14870                        		__ld.umq	_player_id
         01:D9E4  AD 18 23   			lda	_player_id
14871                        		__call		_spr_set.1
         01:D9E7  20 F1 E7   			call	_spr_set.1
14872                        	
14873                        		.dbg	line,	"include\routines_LEVELS.c", 2809; spr_pattern(PLAYER_CLIMB_4_VRAM_ADR); 
14874                        		__ld.wi		9472
         01:D9EA  62         			cla
         01:D9EB  A0 25      			ldy.h	#9472
14875                        		__call		_spr_pattern.1
         01:D9ED  20 3A E8   			call	_spr_pattern.1
14876                        	
14877                        		.dbg	line,	"include\routines_LEVELS.c", 2810; }
14878                        	
14879                        		.dbg	line,	"include\routines_LEVELS.c", 2812; else if(player_counter_anim == 11)
14880                        		__bra		.LL742
         01:D9F0  80 5E      			bra	.LL742
14881    01:D9F2             	.LL741:
14882                        		__ld.umq	_player_counter_anim
         01:D9F2  AD 1C 23   			lda	_player_counter_anim
14883                        		__equ_b.uiq	11
         01:D9F5  C9 0B      			cmp	#11
         01:D9F7  F0 01      			beq	!+
         01:D9F9  18         			clc
         01:D9FA             	!:
14884                        		__bfalse	.LL743
         01:D9FA  90 0E      			bcc	.LL743
14885                        	
14886                        		.dbg	line,	"include\routines_LEVELS.c", 2813; {
14887                        	
14888                        		.dbg	line,	"include\routines_LEVELS.c", 2814; spr_set(player_id);
14889                        		__ld.umq	_player_id
         01:D9FC  AD 18 23   			lda	_player_id
14890                        		__call		_spr_set.1
         01:D9FF  20 F1 E7   			call	_spr_set.1
14891                        	
14892                        		.dbg	line,	"include\routines_LEVELS.c", 2815; spr_pattern(PLAYER_CLIMB_5_VRAM_ADR); 
14893                        		__ld.wi		9728
         01:DA02  62         			cla
         01:DA03  A0 26      			ldy.h	#9728
14894                        		__call		_spr_pattern.1
         01:DA05  20 3A E8   			call	_spr_pattern.1
14895                        	
14896                        		.dbg	line,	"include\routines_LEVELS.c", 2816; }
14897                        	
14898                        		.dbg	line,	"include\routines_LEVELS.c", 2818; else if(player_counter_anim == 14)
14899                        		__bra		.LL744
         01:DA08  80 46      			bra	.LL744
14900    01:DA0A             	.LL743:
14901                        		__ld.umq	_player_counter_anim
         01:DA0A  AD 1C 23   			lda	_player_counter_anim
14902                        		__equ_b.uiq	14
         01:DA0D  C9 0E      			cmp	#14
         01:DA0F  F0 01      			beq	!+
         01:DA11  18         			clc
         01:DA12             	!:
14903                        		__bfalse	.LL745
         01:DA12  90 0E      			bcc	.LL745
14904                        	
14905                        		.dbg	line,	"include\routines_LEVELS.c", 2819; {
14906                        	
14907                        		.dbg	line,	"include\routines_LEVELS.c", 2820; spr_set(player_id);
14908                        		__ld.umq	_player_id
         01:DA14  AD 18 23   			lda	_player_id
14909                        		__call		_spr_set.1
         01:DA17  20 F1 E7   			call	_spr_set.1
14910                        	
14911                        		.dbg	line,	"include\routines_LEVELS.c", 2821; spr_pattern(PLAYER_CLIMB_6_VRAM_ADR); 
14912                        		__ld.wi		9984
         01:DA1A  62         			cla
         01:DA1B  A0 27      			ldy.h	#9984
14913                        		__call		_spr_pattern.1
         01:DA1D  20 3A E8   			call	_spr_pattern.1
14914                        	
14915                        		.dbg	line,	"include\routines_LEVELS.c", 2822; }
14916                        	
14917                        		.dbg	line,	"include\routines_LEVELS.c", 2824; else if(player_counter_anim == 17)
14918                        		__bra		.LL746
         01:DA20  80 2E      			bra	.LL746
14919    01:DA22             	.LL745:
14920                        		__ld.umq	_player_counter_anim
         01:DA22  AD 1C 23   			lda	_player_counter_anim
14921                        		__equ_b.uiq	17
         01:DA25  C9 11      			cmp	#17
         01:DA27  F0 01      			beq	!+
         01:DA29  18         			clc
         01:DA2A             	!:
14922                        		__bfalse	.LL747
         01:DA2A  90 0E      			bcc	.LL747
14923                        	
14924                        		.dbg	line,	"include\routines_LEVELS.c", 2825; {
14925                        	
14926                        		.dbg	line,	"include\routines_LEVELS.c", 2826; spr_set(player_id);
14927                        		__ld.umq	_player_id
         01:DA2C  AD 18 23   			lda	_player_id
14928                        		__call		_spr_set.1
         01:DA2F  20 F1 E7   			call	_spr_set.1
14929                        	
14930                        		.dbg	line,	"include\routines_LEVELS.c", 2827; spr_pattern(PLAYER_CLIMB_3_VRAM_ADR); 
14931                        		__ld.wi		9216
         01:DA32  62         			cla
         01:DA33  A0 24      			ldy.h	#9216
14932                        		__call		_spr_pattern.1
         01:DA35  20 3A E8   			call	_spr_pattern.1
14933                        	
14934                        		.dbg	line,	"include\routines_LEVELS.c", 2828; }
14935                        	
14936                        		.dbg	line,	"include\routines_LEVELS.c", 2830; else if(player_counter_anim == 20)
14937                        		__bra		.LL748
         01:DA38  80 16      			bra	.LL748
14938    01:DA3A             	.LL747:
14939                        		__ld.umq	_player_counter_anim
         01:DA3A  AD 1C 23   			lda	_player_counter_anim
14940                        		__equ_b.uiq	20
         01:DA3D  C9 14      			cmp	#20
         01:DA3F  F0 01      			beq	!+
         01:DA41  18         			clc
         01:DA42             	!:
14941                        		__bfalse	.LL749
         01:DA42  90 0C      			bcc	.LL749
14942                        	
14943                        		.dbg	line,	"include\routines_LEVELS.c", 2831; {
14944                        	
14945                        		.dbg	line,	"include\routines_LEVELS.c", 2832; spr_set(player_id);
14946                        		__ld.umq	_player_id
         01:DA44  AD 18 23   			lda	_player_id
14947                        		__call		_spr_set.1
         01:DA47  20 F1 E7   			call	_spr_set.1
14948                        	
14949                        		.dbg	line,	"include\routines_LEVELS.c", 2833; spr_pattern(PLAYER_CLIMB_2_VRAM_ADR); 
14950                        		__ld.wi		8960
         01:DA4A  62         			cla
         01:DA4B  A0 23      			ldy.h	#8960
14951                        		__call		_spr_pattern.1
         01:DA4D  20 3A E8   			call	_spr_pattern.1
14952                        	
14953                        		.dbg	line,	"include\routines_LEVELS.c", 2834; }
14954                        	
14955                        		.dbg	line,	"include\routines_LEVELS.c", 2837; player_counter_anim += 1;
14956    01:DA50             	.LL749:
14957    01:DA50             	.LL748:
14958    01:DA50             	.LL746:
14959    01:DA50             	.LL744:
14960    01:DA50             	.LL742:
14961    01:DA50             	.LL740:
14962    01:DA50             	.LL738:
14963    01:DA50             	.LL736:
14964                        		__add_st.umiq	1, _player_counter_anim
         01:DA50  EE 1C 23   			inc	_player_counter_anim
14965                        	
14966                        		.dbg	line,	"include\routines_LEVELS.c", 2839; if(player_counter_anim == 22)
14967                        		__ld.umq	_player_counter_anim
         01:DA53  AD 1C 23   			lda	_player_counter_anim
14968                        		__equ_b.uiq	22
         01:DA56  C9 16      			cmp	#22
         01:DA58  F0 01      			beq	!+
         01:DA5A  18         			clc
         01:DA5B             	!:
14969                        		__bfalse	.LL750
         01:DA5B  90 03      			bcc	.LL750
14970                        	
14971                        		.dbg	line,	"include\routines_LEVELS.c", 2840; {
14972                        	
14973                        		.dbg	line,	"include\routines_LEVELS.c", 2841; player_counter_anim = 0;
14974                        		__st.umiq	0, _player_counter_anim
         01:DA5D  9C 1C 23   			stz	_player_counter_anim
14975                        	
14976                        		.dbg	line,	"include\routines_LEVELS.c", 2842; }
14977                        	
14978                        		.dbg	line,	"include\routines_LEVELS.c", 2844; recenter_CAMERA();
14979    01:DA60             	.LL750:
14980                        		__call		_recenter_CAMERA
         01:DA60  20 1D FF   			call	_recenter_CAMERA
14981                        	
14982                        		.dbg	line,	"include\routines_LEVELS.c", 2845; }
14983                        	
14984                        		.dbg	line,	"include\routines_LEVELS.c", 2848; else if(player_state == STATE_CLIMB_DOWN)
14985                        		__bra		.LL751
         01:DA63  4C DA DC   			bra	.LL751
14986    01:DA66             	.LL734:
14987                        		__ld.umq	_player_state
         01:DA66  AD 19 23   			lda	_player_state
14988                        		__equ_b.uiq	12
         01:DA69  C9 0C      			cmp	#12
         01:DA6B  F0 01      			beq	!+
         01:DA6D  18         			clc
         01:DA6E             	!:
14989                        		__bfalse	.LL752
         01:DA6E  B0 03 4C 48			bcc	.LL752
         01:DA72  DB          
14990                        	
14991                        		.dbg	line,	"include\routines_LEVELS.c", 2849; {
14992                        	
14993                        		.dbg	line,	"include\routines_LEVELS.c", 2850; if(player_counter_anim == 0)
14994                        		__not.um	_player_counter_anim
         01:DA73  AD 1C 23   			lda	_player_counter_anim
         01:DA76  18         			clc
         01:DA77  D0 01      			bne	!+
         01:DA79  38         			sec
         01:DA7A             	!:
14995                        		__bfalse	.LL753
         01:DA7A  90 0F      			bcc	.LL753
14996                        	
14997                        		.dbg	line,	"include\routines_LEVELS.c", 2851; {
14998                        	
14999                        		.dbg	line,	"include\routines_LEVELS.c", 2852; spr_set(player_id);
15000                        		__ld.umq	_player_id
         01:DA7C  AD 18 23   			lda	_player_id
15001                        		__call		_spr_set.1
         01:DA7F  20 F1 E7   			call	_spr_set.1
15002                        	
15003                        		.dbg	line,	"include\routines_LEVELS.c", 2853; spr_pattern(PLAYER_CLIMB_1_VRAM_ADR); 
15004                        		__ld.wi		8704
         01:DA82  62         			cla
         01:DA83  A0 22      			ldy.h	#8704
15005                        		__call		_spr_pattern.1
         01:DA85  20 3A E8   			call	_spr_pattern.1
15006                        	
15007                        		.dbg	line,	"include\routines_LEVELS.c", 2854; }
15008                        	
15009                        		.dbg	line,	"include\routines_LEVELS.c", 2856; else if(player_counter_anim == 2)
15010                        		__bra		.LL754
         01:DA88  4C 32 DB   			bra	.LL754
15011    01:DA8B             	.LL753:
15012                        		__ld.umq	_player_counter_anim
         01:DA8B  AD 1C 23   			lda	_player_counter_anim
15013                        		__equ_b.uiq	2
         01:DA8E  C9 02      			cmp	#2
         01:DA90  F0 01      			beq	!+
         01:DA92  18         			clc
         01:DA93             	!:
15014                        		__bfalse	.LL755
         01:DA93  90 0F      			bcc	.LL755
15015                        	
15016                        		.dbg	line,	"include\routines_LEVELS.c", 2857; {
15017                        	
15018                        		.dbg	line,	"include\routines_LEVELS.c", 2858; spr_set(player_id);
15019                        		__ld.umq	_player_id
         01:DA95  AD 18 23   			lda	_player_id
15020                        		__call		_spr_set.1
         01:DA98  20 F1 E7   			call	_spr_set.1
15021                        	
15022                        		.dbg	line,	"include\routines_LEVELS.c", 2859; spr_pattern(PLAYER_CLIMB_2_VRAM_ADR); 
15023                        		__ld.wi		8960
         01:DA9B  62         			cla
         01:DA9C  A0 23      			ldy.h	#8960
15024                        		__call		_spr_pattern.1
         01:DA9E  20 3A E8   			call	_spr_pattern.1
15025                        	
15026                        		.dbg	line,	"include\routines_LEVELS.c", 2860; }
15027                        	
15028                        		.dbg	line,	"include\routines_LEVELS.c", 2862; else if(player_counter_anim == 5)
15029                        		__bra		.LL756
         01:DAA1  4C 32 DB   			bra	.LL756
15030    01:DAA4             	.LL755:
15031                        		__ld.umq	_player_counter_anim
         01:DAA4  AD 1C 23   			lda	_player_counter_anim
15032                        		__equ_b.uiq	5
         01:DAA7  C9 05      			cmp	#5
         01:DAA9  F0 01      			beq	!+
         01:DAAB  18         			clc
         01:DAAC             	!:
15033                        		__bfalse	.LL757
         01:DAAC  90 0E      			bcc	.LL757
15034                        	
15035                        		.dbg	line,	"include\routines_LEVELS.c", 2863; {
15036                        	
15037                        		.dbg	line,	"include\routines_LEVELS.c", 2864; spr_set(player_id);
15038                        		__ld.umq	_player_id
         01:DAAE  AD 18 23   			lda	_player_id
15039                        		__call		_spr_set.1
         01:DAB1  20 F1 E7   			call	_spr_set.1
15040                        	
15041                        		.dbg	line,	"include\routines_LEVELS.c", 2865; spr_pattern(PLAYER_CLIMB_3_VRAM_ADR); 
15042                        		__ld.wi		9216
         01:DAB4  62         			cla
         01:DAB5  A0 24      			ldy.h	#9216
15043                        		__call		_spr_pattern.1
         01:DAB7  20 3A E8   			call	_spr_pattern.1
15044                        	
15045                        		.dbg	line,	"include\routines_LEVELS.c", 2866; }
15046                        	
15047                        		.dbg	line,	"include\routines_LEVELS.c", 2868; else if(player_counter_anim == 8)
15048                        		__bra		.LL758
         01:DABA  80 76      			bra	.LL758
15049    01:DABC             	.LL757:
15050                        		__ld.umq	_player_counter_anim
         01:DABC  AD 1C 23   			lda	_player_counter_anim
15051                        		__equ_b.uiq	8
         01:DABF  C9 08      			cmp	#8
         01:DAC1  F0 01      			beq	!+
         01:DAC3  18         			clc
         01:DAC4             	!:
15052                        		__bfalse	.LL759
         01:DAC4  90 0E      			bcc	.LL759
15053                        	
15054                        		.dbg	line,	"include\routines_LEVELS.c", 2869; {
15055                        	
15056                        		.dbg	line,	"include\routines_LEVELS.c", 2870; spr_set(player_id);
15057                        		__ld.umq	_player_id
         01:DAC6  AD 18 23   			lda	_player_id
15058                        		__call		_spr_set.1
         01:DAC9  20 F1 E7   			call	_spr_set.1
15059                        	
15060                        		.dbg	line,	"include\routines_LEVELS.c", 2871; spr_pattern(PLAYER_CLIMB_4_VRAM_ADR); 
15061                        		__ld.wi		9472
         01:DACC  62         			cla
         01:DACD  A0 25      			ldy.h	#9472
15062                        		__call		_spr_pattern.1
         01:DACF  20 3A E8   			call	_spr_pattern.1
15063                        	
15064                        		.dbg	line,	"include\routines_LEVELS.c", 2872; }
15065                        	
15066                        		.dbg	line,	"include\routines_LEVELS.c", 2874; else if(player_counter_anim == 11)
15067                        		__bra		.LL760
         01:DAD2  80 5E      			bra	.LL760
15068    01:DAD4             	.LL759:
15069                        		__ld.umq	_player_counter_anim
         01:DAD4  AD 1C 23   			lda	_player_counter_anim
15070                        		__equ_b.uiq	11
         01:DAD7  C9 0B      			cmp	#11
         01:DAD9  F0 01      			beq	!+
         01:DADB  18         			clc
         01:DADC             	!:
15071                        		__bfalse	.LL761
         01:DADC  90 0E      			bcc	.LL761
15072                        	
15073                        		.dbg	line,	"include\routines_LEVELS.c", 2875; {
15074                        	
15075                        		.dbg	line,	"include\routines_LEVELS.c", 2876; spr_set(player_id);
15076                        		__ld.umq	_player_id
         01:DADE  AD 18 23   			lda	_player_id
15077                        		__call		_spr_set.1
         01:DAE1  20 F1 E7   			call	_spr_set.1
15078                        	
15079                        		.dbg	line,	"include\routines_LEVELS.c", 2877; spr_pattern(PLAYER_CLIMB_5_VRAM_ADR); 
15080                        		__ld.wi		9728
         01:DAE4  62         			cla
         01:DAE5  A0 26      			ldy.h	#9728
15081                        		__call		_spr_pattern.1
         01:DAE7  20 3A E8   			call	_spr_pattern.1
15082                        	
15083                        		.dbg	line,	"include\routines_LEVELS.c", 2878; }
15084                        	
15085                        		.dbg	line,	"include\routines_LEVELS.c", 2880; else if(player_counter_anim == 14)
15086                        		__bra		.LL762
         01:DAEA  80 46      			bra	.LL762
15087    01:DAEC             	.LL761:
15088                        		__ld.umq	_player_counter_anim
         01:DAEC  AD 1C 23   			lda	_player_counter_anim
15089                        		__equ_b.uiq	14
         01:DAEF  C9 0E      			cmp	#14
         01:DAF1  F0 01      			beq	!+
         01:DAF3  18         			clc
         01:DAF4             	!:
15090                        		__bfalse	.LL763
         01:DAF4  90 0E      			bcc	.LL763
15091                        	
15092                        		.dbg	line,	"include\routines_LEVELS.c", 2881; {
15093                        	
15094                        		.dbg	line,	"include\routines_LEVELS.c", 2882; spr_set(player_id);
15095                        		__ld.umq	_player_id
         01:DAF6  AD 18 23   			lda	_player_id
15096                        		__call		_spr_set.1
         01:DAF9  20 F1 E7   			call	_spr_set.1
15097                        	
15098                        		.dbg	line,	"include\routines_LEVELS.c", 2883; spr_pattern(PLAYER_CLIMB_4_VRAM_ADR); 
15099                        		__ld.wi		9472
         01:DAFC  62         			cla
         01:DAFD  A0 25      			ldy.h	#9472
15100                        		__call		_spr_pattern.1
         01:DAFF  20 3A E8   			call	_spr_pattern.1
15101                        	
15102                        		.dbg	line,	"include\routines_LEVELS.c", 2884; }
15103                        	
15104                        		.dbg	line,	"include\routines_LEVELS.c", 2886; else if(player_counter_anim == 17)
15105                        		__bra		.LL764
         01:DB02  80 2E      			bra	.LL764
15106    01:DB04             	.LL763:
15107                        		__ld.umq	_player_counter_anim
         01:DB04  AD 1C 23   			lda	_player_counter_anim
15108                        		__equ_b.uiq	17
         01:DB07  C9 11      			cmp	#17
         01:DB09  F0 01      			beq	!+
         01:DB0B  18         			clc
         01:DB0C             	!:
15109                        		__bfalse	.LL765
         01:DB0C  90 0E      			bcc	.LL765
15110                        	
15111                        		.dbg	line,	"include\routines_LEVELS.c", 2887; {
15112                        	
15113                        		.dbg	line,	"include\routines_LEVELS.c", 2888; spr_set(player_id);
15114                        		__ld.umq	_player_id
         01:DB0E  AD 18 23   			lda	_player_id
15115                        		__call		_spr_set.1
         01:DB11  20 F1 E7   			call	_spr_set.1
15116                        	
15117                        		.dbg	line,	"include\routines_LEVELS.c", 2889; spr_pattern(PLAYER_CLIMB_3_VRAM_ADR); 
15118                        		__ld.wi		9216
         01:DB14  62         			cla
         01:DB15  A0 24      			ldy.h	#9216
15119                        		__call		_spr_pattern.1
         01:DB17  20 3A E8   			call	_spr_pattern.1
15120                        	
15121                        		.dbg	line,	"include\routines_LEVELS.c", 2890; }
15122                        	
15123                        		.dbg	line,	"include\routines_LEVELS.c", 2892; else if(player_counter_anim == 20)
15124                        		__bra		.LL766
         01:DB1A  80 16      			bra	.LL766
15125    01:DB1C             	.LL765:
15126                        		__ld.umq	_player_counter_anim
         01:DB1C  AD 1C 23   			lda	_player_counter_anim
15127                        		__equ_b.uiq	20
         01:DB1F  C9 14      			cmp	#20
         01:DB21  F0 01      			beq	!+
         01:DB23  18         			clc
         01:DB24             	!:
15128                        		__bfalse	.LL767
         01:DB24  90 0C      			bcc	.LL767
15129                        	
15130                        		.dbg	line,	"include\routines_LEVELS.c", 2893; {
15131                        	
15132                        		.dbg	line,	"include\routines_LEVELS.c", 2894; spr_set(player_id);
15133                        		__ld.umq	_player_id
         01:DB26  AD 18 23   			lda	_player_id
15134                        		__call		_spr_set.1
         01:DB29  20 F1 E7   			call	_spr_set.1
15135                        	
15136                        		.dbg	line,	"include\routines_LEVELS.c", 2895; spr_pattern(PLAYER_CLIMB_2_VRAM_ADR); 
15137                        		__ld.wi		8960
         01:DB2C  62         			cla
         01:DB2D  A0 23      			ldy.h	#8960
15138                        		__call		_spr_pattern.1
         01:DB2F  20 3A E8   			call	_spr_pattern.1
15139                        	
15140                        		.dbg	line,	"include\routines_LEVELS.c", 2896; }
15141                        	
15142                        		.dbg	line,	"include\routines_LEVELS.c", 2899; player_counter_anim += 1;
15143    01:DB32             	.LL767:
15144    01:DB32             	.LL766:
15145    01:DB32             	.LL764:
15146    01:DB32             	.LL762:
15147    01:DB32             	.LL760:
15148    01:DB32             	.LL758:
15149    01:DB32             	.LL756:
15150    01:DB32             	.LL754:
15151                        		__add_st.umiq	1, _player_counter_anim
         01:DB32  EE 1C 23   			inc	_player_counter_anim
15152                        	
15153                        		.dbg	line,	"include\routines_LEVELS.c", 2901; if(player_counter_anim == 22)
15154                        		__ld.umq	_player_counter_anim
         01:DB35  AD 1C 23   			lda	_player_counter_anim
15155                        		__equ_b.uiq	22
         01:DB38  C9 16      			cmp	#22
         01:DB3A  F0 01      			beq	!+
         01:DB3C  18         			clc
         01:DB3D             	!:
15156                        		__bfalse	.LL768
         01:DB3D  90 03      			bcc	.LL768
15157                        	
15158                        		.dbg	line,	"include\routines_LEVELS.c", 2902; {
15159                        	
15160                        		.dbg	line,	"include\routines_LEVELS.c", 2903; player_counter_anim = 0;
15161                        		__st.umiq	0, _player_counter_anim
         01:DB3F  9C 1C 23   			stz	_player_counter_anim
15162                        	
15163                        		.dbg	line,	"include\routines_LEVELS.c", 2904; }
15164                        	
15165                        		.dbg	line,	"include\routines_LEVELS.c", 2906; recenter_CAMERA();
15166    01:DB42             	.LL768:
15167                        		__call		_recenter_CAMERA
         01:DB42  20 1D FF   			call	_recenter_CAMERA
15168                        	
15169                        		.dbg	line,	"include\routines_LEVELS.c", 2907; }
15170                        	
15171                        		.dbg	line,	"include\routines_LEVELS.c", 2910; else if(player_state == STATE_JUMP_LADDER)
15172                        		__bra		.LL769
         01:DB45  4C DA DC   			bra	.LL769
15173    01:DB48             	.LL752:
15174                        		__ld.umq	_player_state
         01:DB48  AD 19 23   			lda	_player_state
15175                        		__equ_b.uiq	13
         01:DB4B  C9 0D      			cmp	#13
         01:DB4D  F0 01      			beq	!+
         01:DB4F  18         			clc
         01:DB50             	!:
15176                        		__bfalse	.LL770
         01:DB50  B0 03 4C DA			bcc	.LL770
         01:DB54  DC          
15177                        	
15178                        		.dbg	line,	"include\routines_LEVELS.c", 2911; {
15179                        	
15180                        		.dbg	line,	"include\routines_LEVELS.c", 2912; unsigned char i;
15181                        	
15182                        		.dbg	line,	"include\routines_LEVELS.c", 2913; i = 1;
15183                        		__st.umiq	1, __update_PLAYER_end - 8  /* i */
         01:DB55  A9 01      			lda.l	#1
         01:DB57  8D 05 23   			sta	__update_PLAYER_end - 8
15184                        	
15185                        		.dbg	line,	"include\routines_LEVELS.c", 2916; if(player_counter_anim == 0)
15186                        		__not.um	_player_counter_anim
         01:DB5A  AD 1C 23   			lda	_player_counter_anim
         01:DB5D  18         			clc
         01:DB5E  D0 01      			bne	!+
         01:DB60  38         			sec
         01:DB61             	!:
15187                        		__bfalse	.LL771
         01:DB61  90 11      			bcc	.LL771
15188                        	
15189                        		.dbg	line,	"include\routines_LEVELS.c", 2917; {
15190                        	
15191                        		.dbg	line,	"include\routines_LEVELS.c", 2918; spr_set(player_id);
15192                        		__ld.umq	_player_id
         01:DB63  AD 18 23   			lda	_player_id
15193                        		__call		_spr_set.1
         01:DB66  20 F1 E7   			call	_spr_set.1
15194                        	
15195                        		.dbg	line,	"include\routines_LEVELS.c", 2919; spr_pattern(PLAYER_JUMP_VRAM_ADR); 
15196                        		__ld.wi		7936
         01:DB69  62         			cla
         01:DB6A  A0 1F      			ldy.h	#7936
15197                        		__call		_spr_pattern.1
         01:DB6C  20 3A E8   			call	_spr_pattern.1
15198                        	
15199                        		.dbg	line,	"include\routines_LEVELS.c", 2921; player_counter_anim = 1;
15200                        		__st.umiq	1, _player_counter_anim
         01:DB6F  A9 01      			lda.l	#1
         01:DB71  8D 1C 23   			sta	_player_counter_anim
15201                        	
15202                        		.dbg	line,	"include\routines_LEVELS.c", 2922; }
15203                        	
15204                        		.dbg	line,	"include\routines_LEVELS.c", 2925; player_pos_y += TABLE_PLAYER_JUMP_V[player_index_jump];
15205    01:DB74             	.LL771:
15206                        		__ldx.umq	_player_index_jump
         01:DB74  AE 1D 23   			ldx	_player_index_jump
15207                        		__ld.bax	_TABLE_PLAYER_JUMP_V
         01:DB77  BD 87 62   			lda	_TABLE_PLAYER_JUMP_V, x
         01:DB7A  C2         			cly
         01:DB7B  10 01      			bpl	!+
         01:DB7D  88         			dey
         01:DB7E             	!:
15208                        		__add_st.wmq	_player_pos_y
         01:DB7E  18         			clc
         01:DB7F  6D F9 24   			adc.l	_player_pos_y
         01:DB82  8D F9 24   			sta.l	_player_pos_y
         01:DB85  98         			tya
         01:DB86  6D FA 24   			adc.h	_player_pos_y
         01:DB89  8D FA 24   			sta.h	_player_pos_y
15209                        	
15210                        		.dbg	line,	"include\routines_LEVELS.c", 2927; // CHECK COLLISION WITH CEILING //
15211                        	
15212                        		.dbg	line,	"include\routines_LEVELS.c", 2928; collision_PLAYER_BG( 15 , 8 );
15213                        		__ld.wi		15
         01:DB8C  A9 0F      			lda.l	#15
         01:DB8E  C2         			cly
15214                        		__pusharg.wr
         01:DB8F  A6 8D      			ldx	<__sp
         01:DB91  CA         			dex
         01:DB92  CA         			dex
         01:DB93  95 08      			sta.l	<__stack, x
         01:DB95  94 09      			sty.h	<__stack, x
         01:DB97  86 8D      			stx	<__sp
15215                        		__ld.wi		8
         01:DB99  A9 08      			lda.l	#8
         01:DB9B  C2         			cly
15216                        		__pusharg.wr
         01:DB9C  A6 8D      			ldx	<__sp
         01:DB9E  CA         			dex
         01:DB9F  CA         			dex
         01:DBA0  95 08      			sta.l	<__stack, x
         01:DBA2  94 09      			sty.h	<__stack, x
         01:DBA4  86 8D      			stx	<__sp
15217                        		__call		_collision_PLAYER_BG
         01:DBA6  20 27 FF   			call	_collision_PLAYER_BG
15218                        	
15219                        		.dbg	line,	"include\routines_LEVELS.c", 2930; if(map_blk_flag == TILE_BG)
15220                        		__ld.umq	_map_blk_flag
         01:DBA9  AD FB 2B   			lda	_map_blk_flag
15221                        		__equ_b.uiq	1
         01:DBAC  C9 01      			cmp	#1
         01:DBAE  F0 01      			beq	!+
         01:DBB0  18         			clc
         01:DBB1             	!:
15222                        		__bfalse	.LL772
         01:DBB1  90 5A      			bcc	.LL772
15223                        	
15224                        		.dbg	line,	"include\routines_LEVELS.c", 2931; {
15225                        	
15226                        		.dbg	line,	"include\routines_LEVELS.c", 2932; for(i=1 ; i<8 ; i++)
15227                        		__st.umiq	1, __update_PLAYER_end - 8  /* i */
         01:DBB3  A9 01      			lda.l	#1
         01:DBB5  8D 05 23   			sta	__update_PLAYER_end - 8
15228    01:DBB8             	.LL773:
15229                        		__ld.umq	__update_PLAYER_end - 8  /* i */
         01:DBB8  AD 05 23   			lda	__update_PLAYER_end - 8
15230                        		__ult_b.uiq	8
         01:DBBB  C9 08      			cmp	#8		; Subtract integer from A.
         01:DBBD  6A         			ror	a		; CC if A < integer.
         01:DBBE  49 80      			eor	#$80
         01:DBC0  2A         			rol	a
15231                        		__btrue		.LL775
         01:DBC1  B0 07      			bcs	.LL775
15232                        		__bra		.LL776
         01:DBC3  80 48      			bra	.LL776
15233    01:DBC5             	.LL774:
15234                        		__inc.umq	__update_PLAYER_end - 8  /* i */
         01:DBC5  EE 05 23   			inc	__update_PLAYER_end - 8
15235                        		__bra		.LL773
         01:DBC8  80 EE      			bra	.LL773
15236    01:DBCA             	.LL775:
15237                        	
15238                        		.dbg	line,	"include\routines_LEVELS.c", 2933; {
15239                        	
15240                        		.dbg	line,	"include\routines_LEVELS.c", 2934; collision_PLAYER_BG( 15 , 8 + i );
15241                        		__ld.wi		15
         01:DBCA  A9 0F      			lda.l	#15
         01:DBCC  C2         			cly
15242                        		__pusharg.wr
         01:DBCD  A6 8D      			ldx	<__sp
         01:DBCF  CA         			dex
         01:DBD0  CA         			dex
         01:DBD1  95 08      			sta.l	<__stack, x
         01:DBD3  94 09      			sty.h	<__stack, x
         01:DBD5  86 8D      			stx	<__sp
15243                        		__ld.wi		8
         01:DBD7  A9 08      			lda.l	#8
         01:DBD9  C2         			cly
15244                        		__add.um	__update_PLAYER_end - 8  /* i */
         01:DBDA  18         			clc
         01:DBDB  6D 05 23   			adc	__update_PLAYER_end - 8
         01:DBDE  90 01      			bcc	!+
         01:DBE0  C8         			iny
         01:DBE1             	!:
15245                        		__pusharg.wr
         01:DBE1  A6 8D      			ldx	<__sp
         01:DBE3  CA         			dex
         01:DBE4  CA         			dex
         01:DBE5  95 08      			sta.l	<__stack, x
         01:DBE7  94 09      			sty.h	<__stack, x
         01:DBE9  86 8D      			stx	<__sp
15246                        		__call		_collision_PLAYER_BG
         01:DBEB  20 27 FF   			call	_collision_PLAYER_BG
15247                        	
15248                        		.dbg	line,	"include\routines_LEVELS.c", 2935; {
15249                        	
15250                        		.dbg	line,	"include\routines_LEVELS.c", 2936; if(map_blk_flag == TILE_EMPTY)
15251                        		__not.um	_map_blk_flag
         01:DBEE  AD FB 2B   			lda	_map_blk_flag
         01:DBF1  18         			clc
         01:DBF2  D0 01      			bne	!+
         01:DBF4  38         			sec
         01:DBF5             	!:
15252                        		__bfalse	.LL777
         01:DBF5  90 CE      			bcc	.LL777
15253                        	
15254                        		.dbg	line,	"include\routines_LEVELS.c", 2937; {
15255                        	
15256                        		.dbg	line,	"include\routines_LEVELS.c", 2938; player_pos_y += i;
15257                        		__ld.um		__update_PLAYER_end - 8  /* i */
         01:DBF7  AD 05 23   			lda	__update_PLAYER_end - 8
         01:DBFA  C2         			cly
15258                        		__add_st.wmq	_player_pos_y
         01:DBFB  18         			clc
         01:DBFC  6D F9 24   			adc.l	_player_pos_y
         01:DBFF  8D F9 24   			sta.l	_player_pos_y
         01:DC02  98         			tya
         01:DC03  6D FA 24   			adc.h	_player_pos_y
         01:DC06  8D FA 24   			sta.h	_player_pos_y
15259                        	
15260                        		.dbg	line,	"include\routines_LEVELS.c", 2939; break;
15261                        		__bra		.LL776
         01:DC09  80 02      			bra	.LL776
15262                        	
15263                        		.dbg	line,	"include\routines_LEVELS.c", 2940; }
15264                        	
15265                        		.dbg	line,	"include\routines_LEVELS.c", 2941; }
15266    01:DC0B             	.LL777	.alias		.LL774
15267                        	
15268                        		.dbg	line,	"include\routines_LEVELS.c", 2942; }
15269                        		__bra		.LL774
         01:DC0B  80 B8      			bra	.LL774
15270    01:DC0D             	.LL776:
15271                        	
15272                        		.dbg	line,	"include\routines_LEVELS.c", 2943; }
15273                        	
15274                        		.dbg	line,	"include\routines_LEVELS.c", 2945; spr_set(player_id);
15275    01:DC0D             	.LL772:
15276                        		__ld.umq	_player_id
         01:DC0D  AD 18 23   			lda	_player_id
15277                        		__call		_spr_set.1
         01:DC10  20 F1 E7   			call	_spr_set.1
15278                        	
15279                        		.dbg	line,	"include\routines_LEVELS.c", 2946; spr_y(player_pos_y);
15280                        		__ld.wm		_player_pos_y
         01:DC13  AD F9 24   			lda.l	_player_pos_y
         01:DC16  AC FA 24   			ldy.h	_player_pos_y
15281                        		__call		_spr_y.1
         01:DC19  20 2D E8   			call	_spr_y.1
15282                        	
15283                        		.dbg	line,	"include\routines_LEVELS.c", 2950; if(player_index_jump < 34)
15284                        		__ld.umq	_player_index_jump
         01:DC1C  AD 1D 23   			lda	_player_index_jump
15285                        		__ult_b.uiq	34
         01:DC1F  C9 22      			cmp	#34		; Subtract integer from A.
         01:DC21  6A         			ror	a		; CC if A < integer.
         01:DC22  49 80      			eor	#$80
         01:DC24  2A         			rol	a
15286                        		__bfalse	.LL778
         01:DC25  90 03      			bcc	.LL778
15287                        	
15288                        		.dbg	line,	"include\routines_LEVELS.c", 2951; {
15289                        	
15290                        		.dbg	line,	"include\routines_LEVELS.c", 2952; player_index_jump += 1;
15291                        		__add_st.umiq	1, _player_index_jump
         01:DC27  EE 1D 23   			inc	_player_index_jump
15292                        	
15293                        		.dbg	line,	"include\routines_LEVELS.c", 2953; }
15294                        	
15295                        		.dbg	line,	"include\routines_LEVELS.c", 2958; //--------------------------------------------------------------------------------------//
15296                        	
15297                        		.dbg	line,	"include\routines_LEVELS.c", 2959; //                                   LADDER COLLISION                                   //
15298                        	
15299                        		.dbg	line,	"include\routines_LEVELS.c", 2960; //--------------------------------------------------------------------------------------//
15300                        	
15301                        		.dbg	line,	"include\routines_LEVELS.c", 2962; if(player_index_jump > 18)
15302    01:DC2A             	.LL778:
15303                        		__ld.umq	_player_index_jump
         01:DC2A  AD 1D 23   			lda	_player_index_jump
15304                        		__ugt_b.uiq	18
         01:DC2D  18         			clc			; Subtract integer+1 from A.
         01:DC2E  E9 12      			sbc	#18		; CS if A > integer.
15305                        		__bfalse	.LL779
         01:DC30  B0 03 4C C5			bcc	.LL779
         01:DC34  DC          
15306                        	
15307                        		.dbg	line,	"include\routines_LEVELS.c", 2963; {
15308                        	
15309                        		.dbg	line,	"include\routines_LEVELS.c", 2964; // CHECK COLLISION WITH LADDERS //
15310                        	
15311                        		.dbg	line,	"include\routines_LEVELS.c", 2965; collision_PLAYER_BG( 16 , 8 );
15312                        		__ld.wi		16
         01:DC35  A9 10      			lda.l	#16
         01:DC37  C2         			cly
15313                        		__pusharg.wr
         01:DC38  A6 8D      			ldx	<__sp
         01:DC3A  CA         			dex
         01:DC3B  CA         			dex
         01:DC3C  95 08      			sta.l	<__stack, x
         01:DC3E  94 09      			sty.h	<__stack, x
         01:DC40  86 8D      			stx	<__sp
15314                        		__ld.wi		8
         01:DC42  A9 08      			lda.l	#8
         01:DC44  C2         			cly
15315                        		__pusharg.wr
         01:DC45  A6 8D      			ldx	<__sp
         01:DC47  CA         			dex
         01:DC48  CA         			dex
         01:DC49  95 08      			sta.l	<__stack, x
         01:DC4B  94 09      			sty.h	<__stack, x
         01:DC4D  86 8D      			stx	<__sp
15316                        		__call		_collision_PLAYER_BG
         01:DC4F  20 27 FF   			call	_collision_PLAYER_BG
15317                        	
15318                        		.dbg	line,	"include\routines_LEVELS.c", 2967; // IF PLAYER HITS THE LADDER //
15319                        	
15320                        		.dbg	line,	"include\routines_LEVELS.c", 2968; if(map_blk_flag == TILE_LADDER)
15321                        		__ld.umq	_map_blk_flag
         01:DC52  AD FB 2B   			lda	_map_blk_flag
15322                        		__equ_b.uiq	2
         01:DC55  C9 02      			cmp	#2
         01:DC57  F0 01      			beq	!+
         01:DC59  18         			clc
         01:DC5A             	!:
15323                        		__bfalse	.LL780
         01:DC5A  90 69      			bcc	.LL780
15324                        	
15325                        		.dbg	line,	"include\routines_LEVELS.c", 2969; {
15326                        	
15327                        		.dbg	line,	"include\routines_LEVELS.c", 2970; // CAMERA GOES 8 PX BACKWARD //
15328                        	
15329                        		.dbg	line,	"include\routines_LEVELS.c", 2971; sgx_map_pxl_x = ( (sgx_map_pxl_x >> 3) << 3 );
15330                        		__ld.wm		_sgx_map_pxl_x
         01:DC5C  AD DA 26   			lda.l	_sgx_map_pxl_x
         01:DC5F  AC DB 26   			ldy.h	_sgx_map_pxl_x
15331                        		__lsr.wi	3
         01:DC62  84 00      			sty	__temp
         01:DC64  20 3A E2   			jsr	lsrw3
15332                        		__asl.wi	3
         01:DC67  84 00      			sty	__temp
         01:DC69  20 D7 E1   			jsr	aslw3
15333                        		__st.wmq	_sgx_map_pxl_x
         01:DC6C  8D DA 26   			sta.l	_sgx_map_pxl_x
         01:DC6F  8C DB 26   			sty.h	_sgx_map_pxl_x
15334                        	
15335                        		.dbg	line,	"include\routines_LEVELS.c", 2973; // SO WE UPDATE THE MAP //
15336                        	
15337                        		.dbg	line,	"include\routines_LEVELS.c", 2974; sgx_scroll_map();
15338                        		__call		_sgx_scroll_map
         01:DC72  20 59 FF   			call	_sgx_scroll_map
15339                        	
15340                        		.dbg	line,	"include\routines_LEVELS.c", 2976; // CHECK IF THE PLAYER STANDS RIGHT TO THE LADDER //
15341                        	
15342                        		.dbg	line,	"include\routines_LEVELS.c", 2977; collision_PLAYER_BG( 31 , 8 );
15343                        		__ld.wi		31
         01:DC75  A9 1F      			lda.l	#31
         01:DC77  C2         			cly
15344                        		__pusharg.wr
         01:DC78  A6 8D      			ldx	<__sp
         01:DC7A  CA         			dex
         01:DC7B  CA         			dex
         01:DC7C  95 08      			sta.l	<__stack, x
         01:DC7E  94 09      			sty.h	<__stack, x
         01:DC80  86 8D      			stx	<__sp
15345                        		__ld.wi		8
         01:DC82  A9 08      			lda.l	#8
         01:DC84  C2         			cly
15346                        		__pusharg.wr
         01:DC85  A6 8D      			ldx	<__sp
         01:DC87  CA         			dex
         01:DC88  CA         			dex
         01:DC89  95 08      			sta.l	<__stack, x
         01:DC8B  94 09      			sty.h	<__stack, x
         01:DC8D  86 8D      			stx	<__sp
15347                        		__call		_collision_PLAYER_BG
         01:DC8F  20 27 FF   			call	_collision_PLAYER_BG
15348                        	
15349                        		.dbg	line,	"include\routines_LEVELS.c", 2979; if(map_blk_flag == TILE_LADDER)
15350                        		__ld.umq	_map_blk_flag
         01:DC92  AD FB 2B   			lda	_map_blk_flag
15351                        		__equ_b.uiq	2
         01:DC95  C9 02      			cmp	#2
         01:DC97  F0 01      			beq	!+
         01:DC99  18         			clc
         01:DC9A             	!:
15352                        		__bfalse	.LL781
         01:DC9A  90 0E      			bcc	.LL781
15353                        	
15354                        		.dbg	line,	"include\routines_LEVELS.c", 2980; {
15355                        	
15356                        		.dbg	line,	"include\routines_LEVELS.c", 2981; sgx_map_pxl_x += 8;
15357                        		__add_st.wmiq	8, _sgx_map_pxl_x
         01:DC9C  18         			clc
         01:DC9D  AD DA 26   			lda.l	_sgx_map_pxl_x
         01:DCA0  69 08      			adc.l	#8
         01:DCA2  8D DA 26   			sta.l	_sgx_map_pxl_x
         01:DCA5  90 03      			bcc	!+
         01:DCA7  EE DB 26   			inc.h	_sgx_map_pxl_x
         01:DCAA             	!:
15358                        	
15359                        		.dbg	line,	"include\routines_LEVELS.c", 2982; }
15360                        	
15361                        		.dbg	line,	"include\routines_LEVELS.c", 2984; //spr_set(player_id);
15362                        	
15363                        		.dbg	line,	"include\routines_LEVELS.c", 2985; spr_pattern(PLAYER_HANG_VRAM_ADR);
15364    01:DCAA             	.LL781:
15365                        		__ld.wi		8448
         01:DCAA  62         			cla
         01:DCAB  A0 21      			ldy.h	#8448
15366                        		__call		_spr_pattern.1
         01:DCAD  20 3A E8   			call	_spr_pattern.1
15367                        	
15368                        		.dbg	line,	"include\routines_LEVELS.c", 2987; player_counter_anim = 0;//
15369                        		__st.umiq	0, _player_counter_anim
         01:DCB0  9C 1C 23   			stz	_player_counter_anim
15370                        	
15371                        		.dbg	line,	"include\routines_LEVELS.c", 2988; player_index_jump = 0;
15372                        		__st.umiq	0, _player_index_jump
         01:DCB3  9C 1D 23   			stz	_player_index_jump
15373                        	
15374                        		.dbg	line,	"include\routines_LEVELS.c", 2989; jump_ladder = TRUE;
15375                        		__st.umiq	1, _jump_ladder
         01:DCB6  A9 01      			lda.l	#1
         01:DCB8  8D 22 23   			sta	_jump_ladder
15376                        	
15377                        		.dbg	line,	"include\routines_LEVELS.c", 2990; jump_max_index = 29;
15378                        		__st.umiq	29, _jump_max_index
         01:DCBB  A9 1D      			lda.l	#29
         01:DCBD  8D 23 23   			sta	_jump_max_index
15379                        	
15380                        		.dbg	line,	"include\routines_LEVELS.c", 2991; player_state = STATE_HANG;
15381                        		__st.umiq	10, _player_state
         01:DCC0  A9 0A      			lda.l	#10
         01:DCC2  8D 19 23   			sta	_player_state
15382                        	
15383                        		.dbg	line,	"include\routines_LEVELS.c", 2992; }
15384                        	
15385                        		.dbg	line,	"include\routines_LEVELS.c", 2993; }
15386    01:DCC5             	.LL780:
15387                        	
15388                        		.dbg	line,	"include\routines_LEVELS.c", 2995; spr_set(weapon_id);
15389    01:DCC5             	.LL779:
15390                        		__ld.umq	_weapon_id
         01:DCC5  AD 27 23   			lda	_weapon_id
15391                        		__call		_spr_set.1
         01:DCC8  20 F1 E7   			call	_spr_set.1
15392                        	
15393                        		.dbg	line,	"include\routines_LEVELS.c", 2996; spr_y(player_pos_y+8);
15394                        		__ld.wm		_player_pos_y
         01:DCCB  AD F9 24   			lda.l	_player_pos_y
         01:DCCE  AC FA 24   			ldy.h	_player_pos_y
15395                        		__add.wi	8
         01:DCD1  18         			clc
         01:DCD2  69 08      			adc.l	#8
         01:DCD4  90 01      			bcc	!+
         01:DCD6  C8         			iny
         01:DCD7             	!:
15396                        		__call		_spr_y.1
         01:DCD7  20 2D E8   			call	_spr_y.1
15397                        	
15398                        		.dbg	line,	"include\routines_LEVELS.c", 2997; }
15399                        	
15400                        		.dbg	line,	"include\routines_LEVELS.c", 2999; }
15401    01:DCDA             	.LL770:
15402    01:DCDA             	.LL769:
15403    01:DCDA             	.LL751:
15404    01:DCDA             	.LL733:
15405    01:DCDA             	.LL728:
15406    01:DCDA             	.LL711:
15407    01:DCDA             	.LL706:
15408    01:DCDA             	.LL669:
15409    01:DCDA             	.LL632:
15410    01:DCDA             	.LL577:
15411    01:DCDA             	.LL534:
15412    01:DCDA             	.LL529:
15413                        		__return	0
         01:DCDA  4C EF FF   			jmp	leave_proc
15414                        		.dbg	clear
15415                        		.endp
15416               2305     		.bss
15417    F8:2305             			ds	8
15418    F8:230D             	__update_PLAYER_end:
15419               E31D     		.code
15420                        		.pceas
15421                        	
15422                        		.dbg	line,	"include\routines_LEVELS.c", 3002; void update_WEAPON()
15423                        		.dbg	line,	"include\routines_LEVELS.c", 3003; {
15424                        	;***********************
15425                        	;***********************
15426                        	
15427                        		.hucc
15428    02:CFC9             		.proc		_update_WEAPON
15429                        		__enter		_update_WEAPON
15430                        	
15431                        		.dbg	line,	"include\routines_LEVELS.c", 3004; if(player_state == STATE_ATTACK)
15432                        		__ld.umq	_player_state
         02:CFC9  AD 19 23   			lda	_player_state
15433                        		__equ_b.uiq	2
         02:CFCC  C9 02      			cmp	#2
         02:CFCE  F0 01      			beq	!+
         02:CFD0  18         			clc
         02:CFD1             	!:
15434                        		__bfalse	.LL783
         02:CFD1  B0 03 4C 0B			bcc	.LL783
         02:CFD5  D3          
15435                        	
15436                        		.dbg	line,	"include\routines_LEVELS.c", 3005; {
15437                        	
15438                        		.dbg	line,	"include\routines_LEVELS.c", 3006; char i;
15439                        	
15440                        		.dbg	line,	"include\routines_LEVELS.c", 3007; 
15441                        	
15442                        		.dbg	line,	"include\routines_LEVELS.c", 3008; recenter_CAMERA();
15443                        		__call		_recenter_CAMERA
         02:CFD6  20 1D FF   			call	_recenter_CAMERA
15444                        	
15445                        		.dbg	line,	"include\routines_LEVELS.c", 3010; if(player_counter_attack < 7)
15446                        		__ld.umq	_player_counter_attack
         02:CFD9  AD 1F 23   			lda	_player_counter_attack
15447                        		__ult_b.uiq	7
         02:CFDC  C9 07      			cmp	#7		; Subtract integer from A.
         02:CFDE  6A         			ror	a		; CC if A < integer.
         02:CFDF  49 80      			eor	#$80
         02:CFE1  2A         			rol	a
15448                        		__bfalse	.LL784
         02:CFE2  90 5B      			bcc	.LL784
15449                        	
15450                        		.dbg	line,	"include\routines_LEVELS.c", 3011; {
15451                        	
15452                        		.dbg	line,	"include\routines_LEVELS.c", 3012; spr_set(player_id);
15453                        		__ld.umq	_player_id
         02:CFE4  AD 18 23   			lda	_player_id
15454                        		__call		_spr_set.1
         02:CFE7  20 F1 E7   			call	_spr_set.1
15455                        	
15456                        		.dbg	line,	"include\routines_LEVELS.c", 3013; spr_pattern(PLAYER_ATTACK_1_VRAM_ADR);
15457                        		__ld.wi		10496
         02:CFEA  62         			cla
         02:CFEB  A0 29      			ldy.h	#10496
15458                        		__call		_spr_pattern.1
         02:CFED  20 3A E8   			call	_spr_pattern.1
15459                        	
15460                        		.dbg	line,	"include\routines_LEVELS.c", 3015; spr_set(weapon_id);
15461                        		__ld.umq	_weapon_id
         02:CFF0  AD 27 23   			lda	_weapon_id
15462                        		__call		_spr_set.1
         02:CFF3  20 F1 E7   			call	_spr_set.1
15463                        	
15464                        		.dbg	line,	"include\routines_LEVELS.c", 3016; spr_pattern(WEAPON_ATTACK_1_VRAM_ADRESS);
15465                        		__ld.wi		32000
         02:CFF6  62         			cla
         02:CFF7  A0 7D      			ldy.h	#32000
15466                        		__call		_spr_pattern.1
         02:CFF9  20 3A E8   			call	_spr_pattern.1
15467                        	
15468                        		.dbg	line,	"include\routines_LEVELS.c", 3018; if(player_axis == AXIS_RIGHT)
15469                        		__not.um	_player_axis
         02:CFFC  AD 1A 23   			lda	_player_axis
         02:CFFF  18         			clc
         02:D000  D0 01      			bne	!+
         02:D002  38         			sec
         02:D003             	!:
15470                        		__bfalse	.LL785
         02:D003  90 11      			bcc	.LL785
15471                        	
15472                        		.dbg	line,	"include\routines_LEVELS.c", 3019; {
15473                        	
15474                        		.dbg	line,	"include\routines_LEVELS.c", 3020; spr_x(player_pos_x-13);
15475                        		__ld.wm		_player_pos_x
         02:D005  AD F7 24   			lda.l	_player_pos_x
         02:D008  AC F8 24   			ldy.h	_player_pos_x
15476                        		__sub.wi	13
         02:D00B  38         			sec
         02:D00C  E9 0D      			sbc.l	#13
         02:D00E  B0 01      			bcs	!+
         02:D010  88         			dey
         02:D011             	!:
15477                        		__call		_spr_x.1
         02:D011  20 1E E8   			call	_spr_x.1
15478                        	
15479                        		.dbg	line,	"include\routines_LEVELS.c", 3021; }
15480                        	
15481                        		.dbg	line,	"include\routines_LEVELS.c", 3023; else
15482                        		__bra		.LL786
         02:D014  80 0F      			bra	.LL786
15483    02:D016             	.LL785:
15484                        	
15485                        		.dbg	line,	"include\routines_LEVELS.c", 3024; {
15486                        	
15487                        		.dbg	line,	"include\routines_LEVELS.c", 3025; spr_x(player_pos_x+29);
15488                        		__ld.wm		_player_pos_x
         02:D016  AD F7 24   			lda.l	_player_pos_x
         02:D019  AC F8 24   			ldy.h	_player_pos_x
15489                        		__add.wi	29
         02:D01C  18         			clc
         02:D01D  69 1D      			adc.l	#29
         02:D01F  90 01      			bcc	!+
         02:D021  C8         			iny
         02:D022             	!:
15490                        		__call		_spr_x.1
         02:D022  20 1E E8   			call	_spr_x.1
15491                        	
15492                        		.dbg	line,	"include\routines_LEVELS.c", 3026; }
15493    02:D025             	.LL786:
15494                        	
15495                        		.dbg	line,	"include\routines_LEVELS.c", 3028; weapon_y_offset = -8;
15496                        		__st.umiq	-8, _weapon_y_offset
         02:D025  A9 F8      			lda.l	#-8
         02:D027  8D 8F 26   			sta	_weapon_y_offset
15497                        	
15498                        		.dbg	line,	"include\routines_LEVELS.c", 3029; spr_y(player_pos_y + weapon_y_offset);
15499                        		__ld.bm		_weapon_y_offset
         02:D02A  AD 8F 26   			lda	_weapon_y_offset
         02:D02D  C2         			cly
         02:D02E  10 01      			bpl	!+
         02:D030  88         			dey
         02:D031             	!:
15500                        		__add.wm	_player_pos_y
         02:D031  18         			clc
         02:D032  6D F9 24   			adc.l	_player_pos_y
         02:D035  42         			say
         02:D036  6D FA 24   			adc.h	_player_pos_y
         02:D039  42         			say
15501                        		__call		_spr_y.1
         02:D03A  20 2D E8   			call	_spr_y.1
15502                        	
15503                        		.dbg	line,	"include\routines_LEVELS.c", 3030; }
15504                        	
15505                        		.dbg	line,	"include\routines_LEVELS.c", 3032; else if(player_counter_attack == 23)
15506                        		__bra		.LL787
         02:D03D  80 76      			bra	.LL787
15507    02:D03F             	.LL784:
15508                        		__ld.umq	_player_counter_attack
         02:D03F  AD 1F 23   			lda	_player_counter_attack
15509                        		__equ_b.uiq	23
         02:D042  C9 17      			cmp	#23
         02:D044  F0 01      			beq	!+
         02:D046  18         			clc
         02:D047             	!:
15510                        		__bfalse	.LL788
         02:D047  90 6C      			bcc	.LL788
15511                        	
15512                        		.dbg	line,	"include\routines_LEVELS.c", 3033; {
15513                        	
15514                        		.dbg	line,	"include\routines_LEVELS.c", 3034; spr_set(chain_id);
15515                        		__ld.umq	_chain_id
         02:D049  AD 26 23   			lda	_chain_id
15516                        		__call		_spr_set.1
         02:D04C  20 F1 E7   			call	_spr_set.1
15517                        	
15518                        		.dbg	line,	"include\routines_LEVELS.c", 3035; spr_hide();
15519                        		__call		_spr_hide
         02:D04F  20 0C E8   			call	_spr_hide
15520                        	
15521                        		.dbg	line,	"include\routines_LEVELS.c", 3037; spr_set(chain_id+1);
15522                        		__ld.um		_chain_id
         02:D052  AD 26 23   			lda	_chain_id
         02:D055  C2         			cly
15523                        		__add.wi	1
         02:D056  1A         			inc	a
         02:D057  D0 01      			bne	!+
         02:D059  C8         			iny
         02:D05A             	!:
15524                        		__call		_spr_set.1
         02:D05A  20 F1 E7   			call	_spr_set.1
15525                        	
15526                        		.dbg	line,	"include\routines_LEVELS.c", 3038; spr_hide();
15527                        		__call		_spr_hide
         02:D05D  20 0C E8   			call	_spr_hide
15528                        	
15529                        		.dbg	line,	"include\routines_LEVELS.c", 3040; spr_set(chain_id+2);
15530                        		__ld.um		_chain_id
         02:D060  AD 26 23   			lda	_chain_id
         02:D063  C2         			cly
15531                        		__add.wi	2
         02:D064  18         			clc
         02:D065  69 02      			adc.l	#2
         02:D067  90 01      			bcc	!+
         02:D069  C8         			iny
         02:D06A             	!:
15532                        		__call		_spr_set.1
         02:D06A  20 F1 E7   			call	_spr_set.1
15533                        	
15534                        		.dbg	line,	"include\routines_LEVELS.c", 3041; spr_hide();
15535                        		__call		_spr_hide
         02:D06D  20 0C E8   			call	_spr_hide
15536                        	
15537                        		.dbg	line,	"include\routines_LEVELS.c", 3043; spr_set(player_id);
15538                        		__ld.umq	_player_id
         02:D070  AD 18 23   			lda	_player_id
15539                        		__call		_spr_set.1
         02:D073  20 F1 E7   			call	_spr_set.1
15540                        	
15541                        		.dbg	line,	"include\routines_LEVELS.c", 3044; spr_pattern(PLAYER_IDLE_VRAM_ADR);
15542                        		__ld.wi		6144
         02:D076  62         			cla
         02:D077  A0 18      			ldy.h	#6144
15543                        		__call		_spr_pattern.1
         02:D079  20 3A E8   			call	_spr_pattern.1
15544                        	
15545                        		.dbg	line,	"include\routines_LEVELS.c", 3046; spr_set(weapon_id);
15546                        		__ld.umq	_weapon_id
         02:D07C  AD 27 23   			lda	_weapon_id
15547                        		__call		_spr_set.1
         02:D07F  20 F1 E7   			call	_spr_set.1
15548                        	
15549                        		.dbg	line,	"include\routines_LEVELS.c", 3047; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
15550                        		__ld.wi		31808
         02:D082  A9 40      			lda.l	#31808
         02:D084  A0 7C      			ldy.h	#31808
15551                        		__call		_spr_pattern.1
         02:D086  20 3A E8   			call	_spr_pattern.1
15552                        	
15553                        		.dbg	line,	"include\routines_LEVELS.c", 3048; spr_x(player_pos_x+8);
15554                        		__ld.wm		_player_pos_x
         02:D089  AD F7 24   			lda.l	_player_pos_x
         02:D08C  AC F8 24   			ldy.h	_player_pos_x
15555                        		__add.wi	8
         02:D08F  18         			clc
         02:D090  69 08      			adc.l	#8
         02:D092  90 01      			bcc	!+
         02:D094  C8         			iny
         02:D095             	!:
15556                        		__call		_spr_x.1
         02:D095  20 1E E8   			call	_spr_x.1
15557                        	
15558                        		.dbg	line,	"include\routines_LEVELS.c", 3049; spr_y(player_pos_y+16);
15559                        		__ld.wm		_player_pos_y
         02:D098  AD F9 24   			lda.l	_player_pos_y
         02:D09B  AC FA 24   			ldy.h	_player_pos_y
15560                        		__add.wi	16
         02:D09E  18         			clc
         02:D09F  69 10      			adc.l	#16
         02:D0A1  90 01      			bcc	!+
         02:D0A3  C8         			iny
         02:D0A4             	!:
15561                        		__call		_spr_y.1
         02:D0A4  20 2D E8   			call	_spr_y.1
15562                        	
15563                        		.dbg	line,	"include\routines_LEVELS.c", 3051; player_attack = FALSE;
15564                        		__st.umiq	0, _player_attack
         02:D0A7  9C 21 23   			stz	_player_attack
15565                        	
15566                        		.dbg	line,	"include\routines_LEVELS.c", 3052; player_counter_anim = 1;
15567                        		__st.umiq	1, _player_counter_anim
         02:D0AA  A9 01      			lda.l	#1
         02:D0AC  8D 1C 23   			sta	_player_counter_anim
15568                        	
15569                        		.dbg	line,	"include\routines_LEVELS.c", 3053; player_state = STATE_IDLE;
15570                        		__st.umiq	0, _player_state
         02:D0AF  9C 19 23   			stz	_player_state
15571                        	
15572                        		.dbg	line,	"include\routines_LEVELS.c", 3054; return;
15573                        		__bra		.LL782
         02:D0B2  4C 42 D9   			bra	.LL782
15574                        	
15575                        		.dbg	line,	"include\routines_LEVELS.c", 3055; }
15576                        	
15577                        		.dbg	line,	"include\routines_LEVELS.c", 3057; // CHAIN ANIMATION //
15578                        	
15579                        		.dbg	line,	"include\routines_LEVELS.c", 3058; if(chain_unfold == TRUE)
15580    02:D0B5             	.LL788:
15581    02:D0B5             	.LL787:
15582                        		__ld.umq	_chain_unfold
         02:D0B5  AD 2A 23   			lda	_chain_unfold
15583                        		__equ_b.uiq	1
         02:D0B8  C9 01      			cmp	#1
         02:D0BA  F0 01      			beq	!+
         02:D0BC  18         			clc
         02:D0BD             	!:
15584                        		__bfalse	.LL789
         02:D0BD  B0 03 4C B8			bcc	.LL789
         02:D0C1  D2          
15585                        	
15586                        		.dbg	line,	"include\routines_LEVELS.c", 3059; {
15587                        	
15588                        		.dbg	line,	"include\routines_LEVELS.c", 3060; if(player_counter_attack == 6)
15589                        		__ld.umq	_player_counter_attack
         02:D0C2  AD 1F 23   			lda	_player_counter_attack
15590                        		__equ_b.uiq	6
         02:D0C5  C9 06      			cmp	#6
         02:D0C7  F0 01      			beq	!+
         02:D0C9  18         			clc
         02:D0CA             	!:
15591                        		__bfalse	.LL790
         02:D0CA  90 60      			bcc	.LL790
15592                        	
15593                        		.dbg	line,	"include\routines_LEVELS.c", 3061; {
15594                        	
15595                        		.dbg	line,	"include\routines_LEVELS.c", 3062; spr_set(player_id);
15596                        		__ld.umq	_player_id
         02:D0CC  AD 18 23   			lda	_player_id
15597                        		__call		_spr_set.1
         02:D0CF  20 F1 E7   			call	_spr_set.1
15598                        	
15599                        		.dbg	line,	"include\routines_LEVELS.c", 3063; spr_pattern(PLAYER_ATTACK_2_VRAM_ADR);
15600                        		__ld.wi		10752
         02:D0D2  62         			cla
         02:D0D3  A0 2A      			ldy.h	#10752
15601                        		__call		_spr_pattern.1
         02:D0D5  20 3A E8   			call	_spr_pattern.1
15602                        	
15603                        		.dbg	line,	"include\routines_LEVELS.c", 3065; spr_set(weapon_id);
15604                        		__ld.umq	_weapon_id
         02:D0D8  AD 27 23   			lda	_weapon_id
15605                        		__call		_spr_set.1
         02:D0DB  20 F1 E7   			call	_spr_set.1
15606                        	
15607                        		.dbg	line,	"include\routines_LEVELS.c", 3066; spr_pattern(WEAPON_ATTACK_2_VRAM_ADRESS);
15608                        		__ld.wi		32064
         02:D0DE  A9 40      			lda.l	#32064
         02:D0E0  A0 7D      			ldy.h	#32064
15609                        		__call		_spr_pattern.1
         02:D0E2  20 3A E8   			call	_spr_pattern.1
15610                        	
15611                        		.dbg	line,	"include\routines_LEVELS.c", 3068; if(player_axis == AXIS_RIGHT)
15612                        		__not.um	_player_axis
         02:D0E5  AD 1A 23   			lda	_player_axis
         02:D0E8  18         			clc
         02:D0E9  D0 01      			bne	!+
         02:D0EB  38         			sec
         02:D0EC             	!:
15613                        		__bfalse	.LL791
         02:D0EC  90 11      			bcc	.LL791
15614                        	
15615                        		.dbg	line,	"include\routines_LEVELS.c", 3069; {
15616                        	
15617                        		.dbg	line,	"include\routines_LEVELS.c", 3070; spr_x(player_pos_x+32);
15618                        		__ld.wm		_player_pos_x
         02:D0EE  AD F7 24   			lda.l	_player_pos_x
         02:D0F1  AC F8 24   			ldy.h	_player_pos_x
15619                        		__add.wi	32
         02:D0F4  18         			clc
         02:D0F5  69 20      			adc.l	#32
         02:D0F7  90 01      			bcc	!+
         02:D0F9  C8         			iny
         02:D0FA             	!:
15620                        		__call		_spr_x.1
         02:D0FA  20 1E E8   			call	_spr_x.1
15621                        	
15622                        		.dbg	line,	"include\routines_LEVELS.c", 3071; 
15623                        	
15624                        		.dbg	line,	"include\routines_LEVELS.c", 3072; }
15625                        	
15626                        		.dbg	line,	"include\routines_LEVELS.c", 3073; 
15627                        	
15628                        		.dbg	line,	"include\routines_LEVELS.c", 3074; else
15629                        		__bra		.LL792
         02:D0FD  80 0F      			bra	.LL792
15630    02:D0FF             	.LL791:
15631                        	
15632                        		.dbg	line,	"include\routines_LEVELS.c", 3075; {
15633                        	
15634                        		.dbg	line,	"include\routines_LEVELS.c", 3076; spr_x(player_pos_x-16);
15635                        		__ld.wm		_player_pos_x
         02:D0FF  AD F7 24   			lda.l	_player_pos_x
         02:D102  AC F8 24   			ldy.h	_player_pos_x
15636                        		__sub.wi	16
         02:D105  38         			sec
         02:D106  E9 10      			sbc.l	#16
         02:D108  B0 01      			bcs	!+
         02:D10A  88         			dey
         02:D10B             	!:
15637                        		__call		_spr_x.1
         02:D10B  20 1E E8   			call	_spr_x.1
15638                        	
15639                        		.dbg	line,	"include\routines_LEVELS.c", 3077; }
15640    02:D10E             	.LL792:
15641                        	
15642                        		.dbg	line,	"include\routines_LEVELS.c", 3079; weapon_y_offset = 6;
15643                        		__st.umiq	6, _weapon_y_offset
         02:D10E  A9 06      			lda.l	#6
         02:D110  8D 8F 26   			sta	_weapon_y_offset
15644                        	
15645                        		.dbg	line,	"include\routines_LEVELS.c", 3080; spr_y(player_pos_y + weapon_y_offset);
15646                        		__ld.bm		_weapon_y_offset
         02:D113  AD 8F 26   			lda	_weapon_y_offset
         02:D116  C2         			cly
         02:D117  10 01      			bpl	!+
         02:D119  88         			dey
         02:D11A             	!:
15647                        		__add.wm	_player_pos_y
         02:D11A  18         			clc
         02:D11B  6D F9 24   			adc.l	_player_pos_y
         02:D11E  42         			say
         02:D11F  6D FA 24   			adc.h	_player_pos_y
         02:D122  42         			say
15648                        		__call		_spr_y.1
         02:D123  20 2D E8   			call	_spr_y.1
15649                        	
15650                        		.dbg	line,	"include\routines_LEVELS.c", 3082; collision_WEAPON_OBJECTS();
15651                        		__call		_collision_WEAPON_OBJECTS
         02:D126  20 09 FF   			call	_collision_WEAPON_OBJECTS
15652                        	
15653                        		.dbg	line,	"include\routines_LEVELS.c", 3083; }
15654                        	
15655                        		.dbg	line,	"include\routines_LEVELS.c", 3085; else if(player_counter_attack == 7)
15656                        		__bra		.LL793
         02:D129  4C B8 D2   			bra	.LL793
15657    02:D12C             	.LL790:
15658                        		__ld.umq	_player_counter_attack
         02:D12C  AD 1F 23   			lda	_player_counter_attack
15659                        		__equ_b.uiq	7
         02:D12F  C9 07      			cmp	#7
         02:D131  F0 01      			beq	!+
         02:D133  18         			clc
         02:D134             	!:
15660                        		__bfalse	.LL794
         02:D134  90 77      			bcc	.LL794
15661                        	
15662                        		.dbg	line,	"include\routines_LEVELS.c", 3086; {
15663                        	
15664                        		.dbg	line,	"include\routines_LEVELS.c", 3087; list_chain_active[0] = TRUE;
15665                        		__st.umiq	1, _list_chain_active
         02:D136  A9 01      			lda.l	#1
         02:D138  8D 2B 23   			sta	_list_chain_active
15666                        	
15667                        		.dbg	line,	"include\routines_LEVELS.c", 3088; spr_set(chain_id);
15668                        		__ld.umq	_chain_id
         02:D13B  AD 26 23   			lda	_chain_id
15669                        		__call		_spr_set.1
         02:D13E  20 F1 E7   			call	_spr_set.1
15670                        	
15671                        		.dbg	line,	"include\routines_LEVELS.c", 3090; if(player_axis == AXIS_RIGHT)
15672                        		__not.um	_player_axis
         02:D141  AD 1A 23   			lda	_player_axis
         02:D144  18         			clc
         02:D145  D0 01      			bne	!+
         02:D147  38         			sec
         02:D148             	!:
15673                        		__bfalse	.LL795
         02:D148  90 26      			bcc	.LL795
15674                        	
15675                        		.dbg	line,	"include\routines_LEVELS.c", 3091; {
15676                        	
15677                        		.dbg	line,	"include\routines_LEVELS.c", 3092; spr_x(player_pos_x+32);
15678                        		__ld.wm		_player_pos_x
         02:D14A  AD F7 24   			lda.l	_player_pos_x
         02:D14D  AC F8 24   			ldy.h	_player_pos_x
15679                        		__add.wi	32
         02:D150  18         			clc
         02:D151  69 20      			adc.l	#32
         02:D153  90 01      			bcc	!+
         02:D155  C8         			iny
         02:D156             	!:
15680                        		__call		_spr_x.1
         02:D156  20 1E E8   			call	_spr_x.1
15681                        	
15682                        		.dbg	line,	"include\routines_LEVELS.c", 3094; spr_set(weapon_id);
15683                        		__ld.umq	_weapon_id
         02:D159  AD 27 23   			lda	_weapon_id
15684                        		__call		_spr_set.1
         02:D15C  20 F1 E7   			call	_spr_set.1
15685                        	
15686                        		.dbg	line,	"include\routines_LEVELS.c", 3095; spr_x(player_pos_x+48);
15687                        		__ld.wm		_player_pos_x
         02:D15F  AD F7 24   			lda.l	_player_pos_x
         02:D162  AC F8 24   			ldy.h	_player_pos_x
15688                        		__add.wi	48
         02:D165  18         			clc
         02:D166  69 30      			adc.l	#48
         02:D168  90 01      			bcc	!+
         02:D16A  C8         			iny
         02:D16B             	!:
15689                        		__call		_spr_x.1
         02:D16B  20 1E E8   			call	_spr_x.1
15690                        	
15691                        		.dbg	line,	"include\routines_LEVELS.c", 3096; }
15692                        	
15693                        		.dbg	line,	"include\routines_LEVELS.c", 3097; 
15694                        	
15695                        		.dbg	line,	"include\routines_LEVELS.c", 3098; else
15696                        		__bra		.LL796
         02:D16E  80 24      			bra	.LL796
15697    02:D170             	.LL795:
15698                        	
15699                        		.dbg	line,	"include\routines_LEVELS.c", 3099; {
15700                        	
15701                        		.dbg	line,	"include\routines_LEVELS.c", 3100; spr_x(player_pos_x-16);
15702                        		__ld.wm		_player_pos_x
         02:D170  AD F7 24   			lda.l	_player_pos_x
         02:D173  AC F8 24   			ldy.h	_player_pos_x
15703                        		__sub.wi	16
         02:D176  38         			sec
         02:D177  E9 10      			sbc.l	#16
         02:D179  B0 01      			bcs	!+
         02:D17B  88         			dey
         02:D17C             	!:
15704                        		__call		_spr_x.1
         02:D17C  20 1E E8   			call	_spr_x.1
15705                        	
15706                        		.dbg	line,	"include\routines_LEVELS.c", 3102; spr_set(weapon_id);
15707                        		__ld.umq	_weapon_id
         02:D17F  AD 27 23   			lda	_weapon_id
15708                        		__call		_spr_set.1
         02:D182  20 F1 E7   			call	_spr_set.1
15709                        	
15710                        		.dbg	line,	"include\routines_LEVELS.c", 3103; spr_x(player_pos_x-32);
15711                        		__ld.wm		_player_pos_x
         02:D185  AD F7 24   			lda.l	_player_pos_x
         02:D188  AC F8 24   			ldy.h	_player_pos_x
15712                        		__sub.wi	32
         02:D18B  38         			sec
         02:D18C  E9 20      			sbc.l	#32
         02:D18E  B0 01      			bcs	!+
         02:D190  88         			dey
         02:D191             	!:
15713                        		__call		_spr_x.1
         02:D191  20 1E E8   			call	_spr_x.1
15714                        	
15715                        		.dbg	line,	"include\routines_LEVELS.c", 3104; }
15716    02:D194             	.LL796:
15717                        	
15718                        		.dbg	line,	"include\routines_LEVELS.c", 3106; spr_y(player_pos_y + weapon_y_offset);
15719                        		__ld.bm		_weapon_y_offset
         02:D194  AD 8F 26   			lda	_weapon_y_offset
         02:D197  C2         			cly
         02:D198  10 01      			bpl	!+
         02:D19A  88         			dey
         02:D19B             	!:
15720                        		__add.wm	_player_pos_y
         02:D19B  18         			clc
         02:D19C  6D F9 24   			adc.l	_player_pos_y
         02:D19F  42         			say
         02:D1A0  6D FA 24   			adc.h	_player_pos_y
         02:D1A3  42         			say
15721                        		__call		_spr_y.1
         02:D1A4  20 2D E8   			call	_spr_y.1
15722                        	
15723                        		.dbg	line,	"include\routines_LEVELS.c", 3108; collision_WEAPON_OBJECTS();
15724                        		__call		_collision_WEAPON_OBJECTS
         02:D1A7  20 09 FF   			call	_collision_WEAPON_OBJECTS
15725                        	
15726                        		.dbg	line,	"include\routines_LEVELS.c", 3109; }
15727                        	
15728                        		.dbg	line,	"include\routines_LEVELS.c", 3111; else if(player_counter_attack == 8)
15729                        		__bra		.LL797
         02:D1AA  4C B8 D2   			bra	.LL797
15730    02:D1AD             	.LL794:
15731                        		__ld.umq	_player_counter_attack
         02:D1AD  AD 1F 23   			lda	_player_counter_attack
15732                        		__equ_b.uiq	8
         02:D1B0  C9 08      			cmp	#8
         02:D1B2  F0 01      			beq	!+
         02:D1B4  18         			clc
         02:D1B5             	!:
15733                        		__bfalse	.LL798
         02:D1B5  90 7C      			bcc	.LL798
15734                        	
15735                        		.dbg	line,	"include\routines_LEVELS.c", 3112; {
15736                        	
15737                        		.dbg	line,	"include\routines_LEVELS.c", 3113; list_chain_active[1] = TRUE;
15738                        		__st.umiq	1, _list_chain_active + 1
         02:D1B7  A9 01      			lda.l	#1
         02:D1B9  8D 2C 23   			sta	_list_chain_active + 1
15739                        	
15740                        		.dbg	line,	"include\routines_LEVELS.c", 3114; spr_set(chain_id+1);
15741                        		__ld.um		_chain_id
         02:D1BC  AD 26 23   			lda	_chain_id
         02:D1BF  C2         			cly
15742                        		__add.wi	1
         02:D1C0  1A         			inc	a
         02:D1C1  D0 01      			bne	!+
         02:D1C3  C8         			iny
         02:D1C4             	!:
15743                        		__call		_spr_set.1
         02:D1C4  20 F1 E7   			call	_spr_set.1
15744                        	
15745                        		.dbg	line,	"include\routines_LEVELS.c", 3116; if(player_axis == AXIS_RIGHT)
15746                        		__not.um	_player_axis
         02:D1C7  AD 1A 23   			lda	_player_axis
         02:D1CA  18         			clc
         02:D1CB  D0 01      			bne	!+
         02:D1CD  38         			sec
         02:D1CE             	!:
15747                        		__bfalse	.LL799
         02:D1CE  90 26      			bcc	.LL799
15748                        	
15749                        		.dbg	line,	"include\routines_LEVELS.c", 3117; {
15750                        	
15751                        		.dbg	line,	"include\routines_LEVELS.c", 3118; spr_x(player_pos_x+48);
15752                        		__ld.wm		_player_pos_x
         02:D1D0  AD F7 24   			lda.l	_player_pos_x
         02:D1D3  AC F8 24   			ldy.h	_player_pos_x
15753                        		__add.wi	48
         02:D1D6  18         			clc
         02:D1D7  69 30      			adc.l	#48
         02:D1D9  90 01      			bcc	!+
         02:D1DB  C8         			iny
         02:D1DC             	!:
15754                        		__call		_spr_x.1
         02:D1DC  20 1E E8   			call	_spr_x.1
15755                        	
15756                        		.dbg	line,	"include\routines_LEVELS.c", 3120; spr_set(weapon_id);
15757                        		__ld.umq	_weapon_id
         02:D1DF  AD 27 23   			lda	_weapon_id
15758                        		__call		_spr_set.1
         02:D1E2  20 F1 E7   			call	_spr_set.1
15759                        	
15760                        		.dbg	line,	"include\routines_LEVELS.c", 3121; spr_x(player_pos_x+64);
15761                        		__ld.wm		_player_pos_x
         02:D1E5  AD F7 24   			lda.l	_player_pos_x
         02:D1E8  AC F8 24   			ldy.h	_player_pos_x
15762                        		__add.wi	64
         02:D1EB  18         			clc
         02:D1EC  69 40      			adc.l	#64
         02:D1EE  90 01      			bcc	!+
         02:D1F0  C8         			iny
         02:D1F1             	!:
15763                        		__call		_spr_x.1
         02:D1F1  20 1E E8   			call	_spr_x.1
15764                        	
15765                        		.dbg	line,	"include\routines_LEVELS.c", 3122; }
15766                        	
15767                        		.dbg	line,	"include\routines_LEVELS.c", 3123; 
15768                        	
15769                        		.dbg	line,	"include\routines_LEVELS.c", 3124; else
15770                        		__bra		.LL800
         02:D1F4  80 24      			bra	.LL800
15771    02:D1F6             	.LL799:
15772                        	
15773                        		.dbg	line,	"include\routines_LEVELS.c", 3125; {
15774                        	
15775                        		.dbg	line,	"include\routines_LEVELS.c", 3126; spr_x(player_pos_x-32);
15776                        		__ld.wm		_player_pos_x
         02:D1F6  AD F7 24   			lda.l	_player_pos_x
         02:D1F9  AC F8 24   			ldy.h	_player_pos_x
15777                        		__sub.wi	32
         02:D1FC  38         			sec
         02:D1FD  E9 20      			sbc.l	#32
         02:D1FF  B0 01      			bcs	!+
         02:D201  88         			dey
         02:D202             	!:
15778                        		__call		_spr_x.1
         02:D202  20 1E E8   			call	_spr_x.1
15779                        	
15780                        		.dbg	line,	"include\routines_LEVELS.c", 3128; spr_set(weapon_id);
15781                        		__ld.umq	_weapon_id
         02:D205  AD 27 23   			lda	_weapon_id
15782                        		__call		_spr_set.1
         02:D208  20 F1 E7   			call	_spr_set.1
15783                        	
15784                        		.dbg	line,	"include\routines_LEVELS.c", 3129; spr_x(player_pos_x-48);
15785                        		__ld.wm		_player_pos_x
         02:D20B  AD F7 24   			lda.l	_player_pos_x
         02:D20E  AC F8 24   			ldy.h	_player_pos_x
15786                        		__sub.wi	48
         02:D211  38         			sec
         02:D212  E9 30      			sbc.l	#48
         02:D214  B0 01      			bcs	!+
         02:D216  88         			dey
         02:D217             	!:
15787                        		__call		_spr_x.1
         02:D217  20 1E E8   			call	_spr_x.1
15788                        	
15789                        		.dbg	line,	"include\routines_LEVELS.c", 3130; }
15790    02:D21A             	.LL800:
15791                        	
15792                        		.dbg	line,	"include\routines_LEVELS.c", 3132; spr_y(player_pos_y + weapon_y_offset);
15793                        		__ld.bm		_weapon_y_offset
         02:D21A  AD 8F 26   			lda	_weapon_y_offset
         02:D21D  C2         			cly
         02:D21E  10 01      			bpl	!+
         02:D220  88         			dey
         02:D221             	!:
15794                        		__add.wm	_player_pos_y
         02:D221  18         			clc
         02:D222  6D F9 24   			adc.l	_player_pos_y
         02:D225  42         			say
         02:D226  6D FA 24   			adc.h	_player_pos_y
         02:D229  42         			say
15795                        		__call		_spr_y.1
         02:D22A  20 2D E8   			call	_spr_y.1
15796                        	
15797                        		.dbg	line,	"include\routines_LEVELS.c", 3134; collision_WEAPON_OBJECTS();
15798                        		__call		_collision_WEAPON_OBJECTS
         02:D22D  20 09 FF   			call	_collision_WEAPON_OBJECTS
15799                        	
15800                        		.dbg	line,	"include\routines_LEVELS.c", 3135; }
15801                        	
15802                        		.dbg	line,	"include\routines_LEVELS.c", 3137; else if(player_counter_attack == 9)
15803                        		__bra		.LL801
         02:D230  4C B8 D2   			bra	.LL801
15804    02:D233             	.LL798:
15805                        		__ld.umq	_player_counter_attack
         02:D233  AD 1F 23   			lda	_player_counter_attack
15806                        		__equ_b.uiq	9
         02:D236  C9 09      			cmp	#9
         02:D238  F0 01      			beq	!+
         02:D23A  18         			clc
         02:D23B             	!:
15807                        		__bfalse	.LL802
         02:D23B  90 7B      			bcc	.LL802
15808                        	
15809                        		.dbg	line,	"include\routines_LEVELS.c", 3138; {
15810                        	
15811                        		.dbg	line,	"include\routines_LEVELS.c", 3139; list_chain_active[2] = TRUE;
15812                        		__st.umiq	1, _list_chain_active + 2
         02:D23D  A9 01      			lda.l	#1
         02:D23F  8D 2D 23   			sta	_list_chain_active + 2
15813                        	
15814                        		.dbg	line,	"include\routines_LEVELS.c", 3140; spr_set(chain_id+2);
15815                        		__ld.um		_chain_id
         02:D242  AD 26 23   			lda	_chain_id
         02:D245  C2         			cly
15816                        		__add.wi	2
         02:D246  18         			clc
         02:D247  69 02      			adc.l	#2
         02:D249  90 01      			bcc	!+
         02:D24B  C8         			iny
         02:D24C             	!:
15817                        		__call		_spr_set.1
         02:D24C  20 F1 E7   			call	_spr_set.1
15818                        	
15819                        		.dbg	line,	"include\routines_LEVELS.c", 3142; if(player_axis == AXIS_RIGHT)
15820                        		__not.um	_player_axis
         02:D24F  AD 1A 23   			lda	_player_axis
         02:D252  18         			clc
         02:D253  D0 01      			bne	!+
         02:D255  38         			sec
         02:D256             	!:
15821                        		__bfalse	.LL803
         02:D256  90 26      			bcc	.LL803
15822                        	
15823                        		.dbg	line,	"include\routines_LEVELS.c", 3143; {
15824                        	
15825                        		.dbg	line,	"include\routines_LEVELS.c", 3144; spr_x(player_pos_x+64);
15826                        		__ld.wm		_player_pos_x
         02:D258  AD F7 24   			lda.l	_player_pos_x
         02:D25B  AC F8 24   			ldy.h	_player_pos_x
15827                        		__add.wi	64
         02:D25E  18         			clc
         02:D25F  69 40      			adc.l	#64
         02:D261  90 01      			bcc	!+
         02:D263  C8         			iny
         02:D264             	!:
15828                        		__call		_spr_x.1
         02:D264  20 1E E8   			call	_spr_x.1
15829                        	
15830                        		.dbg	line,	"include\routines_LEVELS.c", 3146; spr_set(weapon_id);
15831                        		__ld.umq	_weapon_id
         02:D267  AD 27 23   			lda	_weapon_id
15832                        		__call		_spr_set.1
         02:D26A  20 F1 E7   			call	_spr_set.1
15833                        	
15834                        		.dbg	line,	"include\routines_LEVELS.c", 3147; spr_x(player_pos_x+80);
15835                        		__ld.wm		_player_pos_x
         02:D26D  AD F7 24   			lda.l	_player_pos_x
         02:D270  AC F8 24   			ldy.h	_player_pos_x
15836                        		__add.wi	80
         02:D273  18         			clc
         02:D274  69 50      			adc.l	#80
         02:D276  90 01      			bcc	!+
         02:D278  C8         			iny
         02:D279             	!:
15837                        		__call		_spr_x.1
         02:D279  20 1E E8   			call	_spr_x.1
15838                        	
15839                        		.dbg	line,	"include\routines_LEVELS.c", 3148; }
15840                        	
15841                        		.dbg	line,	"include\routines_LEVELS.c", 3149; 
15842                        	
15843                        		.dbg	line,	"include\routines_LEVELS.c", 3150; else
15844                        		__bra		.LL804
         02:D27C  80 24      			bra	.LL804
15845    02:D27E             	.LL803:
15846                        	
15847                        		.dbg	line,	"include\routines_LEVELS.c", 3151; {
15848                        	
15849                        		.dbg	line,	"include\routines_LEVELS.c", 3152; spr_x(player_pos_x-48);
15850                        		__ld.wm		_player_pos_x
         02:D27E  AD F7 24   			lda.l	_player_pos_x
         02:D281  AC F8 24   			ldy.h	_player_pos_x
15851                        		__sub.wi	48
         02:D284  38         			sec
         02:D285  E9 30      			sbc.l	#48
         02:D287  B0 01      			bcs	!+
         02:D289  88         			dey
         02:D28A             	!:
15852                        		__call		_spr_x.1
         02:D28A  20 1E E8   			call	_spr_x.1
15853                        	
15854                        		.dbg	line,	"include\routines_LEVELS.c", 3154; spr_set(weapon_id);
15855                        		__ld.umq	_weapon_id
         02:D28D  AD 27 23   			lda	_weapon_id
15856                        		__call		_spr_set.1
         02:D290  20 F1 E7   			call	_spr_set.1
15857                        	
15858                        		.dbg	line,	"include\routines_LEVELS.c", 3155; spr_x(player_pos_x-64);
15859                        		__ld.wm		_player_pos_x
         02:D293  AD F7 24   			lda.l	_player_pos_x
         02:D296  AC F8 24   			ldy.h	_player_pos_x
15860                        		__sub.wi	64
         02:D299  38         			sec
         02:D29A  E9 40      			sbc.l	#64
         02:D29C  B0 01      			bcs	!+
         02:D29E  88         			dey
         02:D29F             	!:
15861                        		__call		_spr_x.1
         02:D29F  20 1E E8   			call	_spr_x.1
15862                        	
15863                        		.dbg	line,	"include\routines_LEVELS.c", 3156; }
15864    02:D2A2             	.LL804:
15865                        	
15866                        		.dbg	line,	"include\routines_LEVELS.c", 3158; spr_y(player_pos_y + weapon_y_offset);
15867                        		__ld.bm		_weapon_y_offset
         02:D2A2  AD 8F 26   			lda	_weapon_y_offset
         02:D2A5  C2         			cly
         02:D2A6  10 01      			bpl	!+
         02:D2A8  88         			dey
         02:D2A9             	!:
15868                        		__add.wm	_player_pos_y
         02:D2A9  18         			clc
         02:D2AA  6D F9 24   			adc.l	_player_pos_y
         02:D2AD  42         			say
         02:D2AE  6D FA 24   			adc.h	_player_pos_y
         02:D2B1  42         			say
15869                        		__call		_spr_y.1
         02:D2B2  20 2D E8   			call	_spr_y.1
15870                        	
15871                        		.dbg	line,	"include\routines_LEVELS.c", 3160; collision_WEAPON_OBJECTS();
15872                        		__call		_collision_WEAPON_OBJECTS
         02:D2B5  20 09 FF   			call	_collision_WEAPON_OBJECTS
15873                        	
15874                        		.dbg	line,	"include\routines_LEVELS.c", 3161; }
15875                        	
15876                        		.dbg	line,	"include\routines_LEVELS.c", 3162; }
15877    02:D2B8             	.LL802:
15878    02:D2B8             	.LL801:
15879    02:D2B8             	.LL797:
15880    02:D2B8             	.LL793:
15881                        	
15882                        		.dbg	line,	"include\routines_LEVELS.c", 3165; player_counter_attack += 1;
15883    02:D2B8             	.LL789:
15884                        		__add_st.umiq	1, _player_counter_attack
         02:D2B8  EE 1F 23   			inc	_player_counter_attack
15885                        	
15886                        		.dbg	line,	"include\routines_LEVELS.c", 3168; // SET CHAIN Y POSITION //
15887                        	
15888                        		.dbg	line,	"include\routines_LEVELS.c", 3169; for(i=0 ; i<3 ; i++)
15889                        		__st.umiq	0, __update_WEAPON_end - 1  /* i */
         02:D2BB  9C 0E 23   			stz	__update_WEAPON_end - 1
15890    02:D2BE             	.LL805:
15891                        		__ld.umq	__update_WEAPON_end - 1  /* i */
         02:D2BE  AD 0E 23   			lda	__update_WEAPON_end - 1
15892                        		__ult_b.uiq	3
         02:D2C1  C9 03      			cmp	#3		; Subtract integer from A.
         02:D2C3  6A         			ror	a		; CC if A < integer.
         02:D2C4  49 80      			eor	#$80
         02:D2C6  2A         			rol	a
15893                        		__btrue		.LL807
         02:D2C7  B0 08      			bcs	.LL807
15894                        		__bra		.LL808
         02:D2C9  4C 42 D9   			bra	.LL808
15895    02:D2CC             	.LL806:
15896                        		__inc.umq	__update_WEAPON_end - 1  /* i */
         02:D2CC  EE 0E 23   			inc	__update_WEAPON_end - 1
15897                        		__bra		.LL805
         02:D2CF  80 ED      			bra	.LL805
15898    02:D2D1             	.LL807:
15899                        	
15900                        		.dbg	line,	"include\routines_LEVELS.c", 3170; {
15901                        	
15902                        		.dbg	line,	"include\routines_LEVELS.c", 3171; spr_set(chain_id+i);
15903                        		__ld.um		_chain_id
         02:D2D1  AD 26 23   			lda	_chain_id
         02:D2D4  C2         			cly
15904                        		__add.um	__update_WEAPON_end - 1  /* i */
         02:D2D5  18         			clc
         02:D2D6  6D 0E 23   			adc	__update_WEAPON_end - 1
         02:D2D9  90 01      			bcc	!+
         02:D2DB  C8         			iny
         02:D2DC             	!:
15905                        		__call		_spr_set.1
         02:D2DC  20 F1 E7   			call	_spr_set.1
15906                        	
15907                        		.dbg	line,	"include\routines_LEVELS.c", 3173; spr_y( ((player_pos_y + 16) * list_chain_active[i]) - 16); //list_chain_active[0] = TRUE;
15908                        		__ld.wm		_player_pos_y
         02:D2DF  AD F9 24   			lda.l	_player_pos_y
         02:D2E2  AC FA 24   			ldy.h	_player_pos_y
15909                        		__add.wi	16
         02:D2E5  18         			clc
         02:D2E6  69 10      			adc.l	#16
         02:D2E8  90 01      			bcc	!+
         02:D2EA  C8         			iny
         02:D2EB             	!:
15910                        		__push.wr
         02:D2EB  5A         			phy
         02:D2EC  48         			pha
15911                        		__ldx.umq	__update_WEAPON_end - 1  /* i */
         02:D2ED  AE 0E 23   			ldx	__update_WEAPON_end - 1
15912                        		__ld.uax	_list_chain_active
         02:D2F0  BD 2B 23   			lda	_list_chain_active, x
         02:D2F3  C2         			cly
15913                        		__mul.wt
         02:D2F4  85 00      			sta.l	<multiplier
         02:D2F6  84 01      			sty.h	<multiplier
         02:D2F8  68         			pla
         02:D2F9  7A         			ply
         02:D2FA  20 60 E4   			jsr	__mulint
15914                        		__sub.wi	16
         02:D2FD  38         			sec
         02:D2FE  E9 10      			sbc.l	#16
         02:D300  B0 01      			bcs	!+
         02:D302  88         			dey
         02:D303             	!:
15915                        		__call		_spr_y.1
         02:D303  20 2D E8   			call	_spr_y.1
15916                        	
15917                        		.dbg	line,	"include\routines_LEVELS.c", 3174; }
15918                        		__bra		.LL806
         02:D306  80 C4      			bra	.LL806
15919    02:D308             	.LL808	.alias		.LL809
15920                        	
15921                        		.dbg	line,	"include\routines_LEVELS.c", 3175; }
15922                        	
15923                        		.dbg	line,	"include\routines_LEVELS.c", 3178; else if(player_state == STATE_CROUCH_ATTACK)
15924                        		__bra		.LL809
         02:D308  4C 42 D9   			bra	.LL809
15925    02:D30B             	.LL783:
15926                        		__ld.umq	_player_state
         02:D30B  AD 19 23   			lda	_player_state
15927                        		__equ_b.uiq	8
         02:D30E  C9 08      			cmp	#8
         02:D310  F0 01      			beq	!+
         02:D312  18         			clc
         02:D313             	!:
15928                        		__bfalse	.LL810
         02:D313  B0 03 4C 6B			bcc	.LL810
         02:D317  D6          
15929                        	
15930                        		.dbg	line,	"include\routines_LEVELS.c", 3179; {
15931                        	
15932                        		.dbg	line,	"include\routines_LEVELS.c", 3180; char i;
15933                        	
15934                        		.dbg	line,	"include\routines_LEVELS.c", 3181; 
15935                        	
15936                        		.dbg	line,	"include\routines_LEVELS.c", 3182; recenter_CAMERA();
15937                        		__call		_recenter_CAMERA
         02:D318  20 1D FF   			call	_recenter_CAMERA
15938                        	
15939                        		.dbg	line,	"include\routines_LEVELS.c", 3184; if(player_counter_attack < 7)
15940                        		__ld.umq	_player_counter_attack
         02:D31B  AD 1F 23   			lda	_player_counter_attack
15941                        		__ult_b.uiq	7
         02:D31E  C9 07      			cmp	#7		; Subtract integer from A.
         02:D320  6A         			ror	a		; CC if A < integer.
         02:D321  49 80      			eor	#$80
         02:D323  2A         			rol	a
15942                        		__bfalse	.LL811
         02:D324  90 5A      			bcc	.LL811
15943                        	
15944                        		.dbg	line,	"include\routines_LEVELS.c", 3185; {
15945                        	
15946                        		.dbg	line,	"include\routines_LEVELS.c", 3186; spr_set(player_id);
15947                        		__ld.umq	_player_id
         02:D326  AD 18 23   			lda	_player_id
15948                        		__call		_spr_set.1
         02:D329  20 F1 E7   			call	_spr_set.1
15949                        	
15950                        		.dbg	line,	"include\routines_LEVELS.c", 3187; spr_pattern(PLAYER_CROUCH_ATTACK_1_VRAM_ADR);
15951                        		__ld.wi		11008
         02:D32C  62         			cla
         02:D32D  A0 2B      			ldy.h	#11008
15952                        		__call		_spr_pattern.1
         02:D32F  20 3A E8   			call	_spr_pattern.1
15953                        	
15954                        		.dbg	line,	"include\routines_LEVELS.c", 3189; spr_set(weapon_id);
15955                        		__ld.umq	_weapon_id
         02:D332  AD 27 23   			lda	_weapon_id
15956                        		__call		_spr_set.1
         02:D335  20 F1 E7   			call	_spr_set.1
15957                        	
15958                        		.dbg	line,	"include\routines_LEVELS.c", 3190; spr_pattern(WEAPON_ATTACK_1_VRAM_ADRESS);
15959                        		__ld.wi		32000
         02:D338  62         			cla
         02:D339  A0 7D      			ldy.h	#32000
15960                        		__call		_spr_pattern.1
         02:D33B  20 3A E8   			call	_spr_pattern.1
15961                        	
15962                        		.dbg	line,	"include\routines_LEVELS.c", 3192; if(player_axis == AXIS_RIGHT)
15963                        		__not.um	_player_axis
         02:D33E  AD 1A 23   			lda	_player_axis
         02:D341  18         			clc
         02:D342  D0 01      			bne	!+
         02:D344  38         			sec
         02:D345             	!:
15964                        		__bfalse	.LL812
         02:D345  90 11      			bcc	.LL812
15965                        	
15966                        		.dbg	line,	"include\routines_LEVELS.c", 3193; {
15967                        	
15968                        		.dbg	line,	"include\routines_LEVELS.c", 3194; spr_x(player_pos_x-16);
15969                        		__ld.wm		_player_pos_x
         02:D347  AD F7 24   			lda.l	_player_pos_x
         02:D34A  AC F8 24   			ldy.h	_player_pos_x
15970                        		__sub.wi	16
         02:D34D  38         			sec
         02:D34E  E9 10      			sbc.l	#16
         02:D350  B0 01      			bcs	!+
         02:D352  88         			dey
         02:D353             	!:
15971                        		__call		_spr_x.1
         02:D353  20 1E E8   			call	_spr_x.1
15972                        	
15973                        		.dbg	line,	"include\routines_LEVELS.c", 3195; }
15974                        	
15975                        		.dbg	line,	"include\routines_LEVELS.c", 3197; else
15976                        		__bra		.LL813
         02:D356  80 0F      			bra	.LL813
15977    02:D358             	.LL812:
15978                        	
15979                        		.dbg	line,	"include\routines_LEVELS.c", 3198; {
15980                        	
15981                        		.dbg	line,	"include\routines_LEVELS.c", 3199; spr_x(player_pos_x+32);
15982                        		__ld.wm		_player_pos_x
         02:D358  AD F7 24   			lda.l	_player_pos_x
         02:D35B  AC F8 24   			ldy.h	_player_pos_x
15983                        		__add.wi	32
         02:D35E  18         			clc
         02:D35F  69 20      			adc.l	#32
         02:D361  90 01      			bcc	!+
         02:D363  C8         			iny
         02:D364             	!:
15984                        		__call		_spr_x.1
         02:D364  20 1E E8   			call	_spr_x.1
15985                        	
15986                        		.dbg	line,	"include\routines_LEVELS.c", 3200; }
15987    02:D367             	.LL813:
15988                        	
15989                        		.dbg	line,	"include\routines_LEVELS.c", 3202; weapon_y_offset = 0;
15990                        		__st.umiq	0, _weapon_y_offset
         02:D367  9C 8F 26   			stz	_weapon_y_offset
15991                        	
15992                        		.dbg	line,	"include\routines_LEVELS.c", 3203; spr_y(player_pos_y + weapon_y_offset);
15993                        		__ld.bm		_weapon_y_offset
         02:D36A  AD 8F 26   			lda	_weapon_y_offset
         02:D36D  C2         			cly
         02:D36E  10 01      			bpl	!+
         02:D370  88         			dey
         02:D371             	!:
15994                        		__add.wm	_player_pos_y
         02:D371  18         			clc
         02:D372  6D F9 24   			adc.l	_player_pos_y
         02:D375  42         			say
         02:D376  6D FA 24   			adc.h	_player_pos_y
         02:D379  42         			say
15995                        		__call		_spr_y.1
         02:D37A  20 2D E8   			call	_spr_y.1
15996                        	
15997                        		.dbg	line,	"include\routines_LEVELS.c", 3204; }
15998                        	
15999                        		.dbg	line,	"include\routines_LEVELS.c", 3206; else if(player_counter_attack == 23)
16000                        		__bra		.LL814
         02:D37D  4C 15 D4   			bra	.LL814
16001    02:D380             	.LL811:
16002                        		__ld.umq	_player_counter_attack
         02:D380  AD 1F 23   			lda	_player_counter_attack
16003                        		__equ_b.uiq	23
         02:D383  C9 17      			cmp	#23
         02:D385  F0 01      			beq	!+
         02:D387  18         			clc
         02:D388             	!:
16004                        		__bfalse	.LL815
         02:D388  B0 03 4C 15			bcc	.LL815
         02:D38C  D4          
16005                        	
16006                        		.dbg	line,	"include\routines_LEVELS.c", 3207; {
16007                        	
16008                        		.dbg	line,	"include\routines_LEVELS.c", 3208; spr_set(chain_id);
16009                        		__ld.umq	_chain_id
         02:D38D  AD 26 23   			lda	_chain_id
16010                        		__call		_spr_set.1
         02:D390  20 F1 E7   			call	_spr_set.1
16011                        	
16012                        		.dbg	line,	"include\routines_LEVELS.c", 3209; spr_hide();
16013                        		__call		_spr_hide
         02:D393  20 0C E8   			call	_spr_hide
16014                        	
16015                        		.dbg	line,	"include\routines_LEVELS.c", 3211; spr_set(chain_id+1);
16016                        		__ld.um		_chain_id
         02:D396  AD 26 23   			lda	_chain_id
         02:D399  C2         			cly
16017                        		__add.wi	1
         02:D39A  1A         			inc	a
         02:D39B  D0 01      			bne	!+
         02:D39D  C8         			iny
         02:D39E             	!:
16018                        		__call		_spr_set.1
         02:D39E  20 F1 E7   			call	_spr_set.1
16019                        	
16020                        		.dbg	line,	"include\routines_LEVELS.c", 3212; spr_hide();
16021                        		__call		_spr_hide
         02:D3A1  20 0C E8   			call	_spr_hide
16022                        	
16023                        		.dbg	line,	"include\routines_LEVELS.c", 3214; spr_set(chain_id+2);
16024                        		__ld.um		_chain_id
         02:D3A4  AD 26 23   			lda	_chain_id
         02:D3A7  C2         			cly
16025                        		__add.wi	2
         02:D3A8  18         			clc
         02:D3A9  69 02      			adc.l	#2
         02:D3AB  90 01      			bcc	!+
         02:D3AD  C8         			iny
         02:D3AE             	!:
16026                        		__call		_spr_set.1
         02:D3AE  20 F1 E7   			call	_spr_set.1
16027                        	
16028                        		.dbg	line,	"include\routines_LEVELS.c", 3215; spr_hide();
16029                        		__call		_spr_hide
         02:D3B1  20 0C E8   			call	_spr_hide
16030                        	
16031                        		.dbg	line,	"include\routines_LEVELS.c", 3217; spr_set(player_id);
16032                        		__ld.umq	_player_id
         02:D3B4  AD 18 23   			lda	_player_id
16033                        		__call		_spr_set.1
         02:D3B7  20 F1 E7   			call	_spr_set.1
16034                        	
16035                        		.dbg	line,	"include\routines_LEVELS.c", 3218; spr_pattern(PLAYER_CROUCH_VRAM_ADR);
16036                        		__ld.wi		8192
         02:D3BA  62         			cla
         02:D3BB  A0 20      			ldy.h	#8192
16037                        		__call		_spr_pattern.1
         02:D3BD  20 3A E8   			call	_spr_pattern.1
16038                        	
16039                        		.dbg	line,	"include\routines_LEVELS.c", 3220; spr_set(weapon_id);
16040                        		__ld.umq	_weapon_id
         02:D3C0  AD 27 23   			lda	_weapon_id
16041                        		__call		_spr_set.1
         02:D3C3  20 F1 E7   			call	_spr_set.1
16042                        	
16043                        		.dbg	line,	"include\routines_LEVELS.c", 3221; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
16044                        		__ld.wi		31808
         02:D3C6  A9 40      			lda.l	#31808
         02:D3C8  A0 7C      			ldy.h	#31808
16045                        		__call		_spr_pattern.1
         02:D3CA  20 3A E8   			call	_spr_pattern.1
16046                        	
16047                        		.dbg	line,	"include\routines_LEVELS.c", 3222; 
16048                        	
16049                        		.dbg	line,	"include\routines_LEVELS.c", 3223; if(player_axis == AXIS_RIGHT)
16050                        		__not.um	_player_axis
         02:D3CD  AD 1A 23   			lda	_player_axis
         02:D3D0  18         			clc
         02:D3D1  D0 01      			bne	!+
         02:D3D3  38         			sec
         02:D3D4             	!:
16051                        		__bfalse	.LL816
         02:D3D4  90 11      			bcc	.LL816
16052                        	
16053                        		.dbg	line,	"include\routines_LEVELS.c", 3224; {
16054                        	
16055                        		.dbg	line,	"include\routines_LEVELS.c", 3225; spr_x(player_pos_x-1);
16056                        		__ld.wm		_player_pos_x
         02:D3D6  AD F7 24   			lda.l	_player_pos_x
         02:D3D9  AC F8 24   			ldy.h	_player_pos_x
16057                        		__sub.wi	1
         02:D3DC  38         			sec
         02:D3DD  E9 01      			sbc.l	#1
         02:D3DF  B0 01      			bcs	!+
         02:D3E1  88         			dey
         02:D3E2             	!:
16058                        		__call		_spr_x.1
         02:D3E2  20 1E E8   			call	_spr_x.1
16059                        	
16060                        		.dbg	line,	"include\routines_LEVELS.c", 3226; }
16061                        	
16062                        		.dbg	line,	"include\routines_LEVELS.c", 3228; else
16063                        		__bra		.LL817
         02:D3E5  80 0F      			bra	.LL817
16064    02:D3E7             	.LL816:
16065                        	
16066                        		.dbg	line,	"include\routines_LEVELS.c", 3229; {
16067                        	
16068                        		.dbg	line,	"include\routines_LEVELS.c", 3230; spr_x(player_pos_x+17);
16069                        		__ld.wm		_player_pos_x
         02:D3E7  AD F7 24   			lda.l	_player_pos_x
         02:D3EA  AC F8 24   			ldy.h	_player_pos_x
16070                        		__add.wi	17
         02:D3ED  18         			clc
         02:D3EE  69 11      			adc.l	#17
         02:D3F0  90 01      			bcc	!+
         02:D3F2  C8         			iny
         02:D3F3             	!:
16071                        		__call		_spr_x.1
         02:D3F3  20 1E E8   			call	_spr_x.1
16072                        	
16073                        		.dbg	line,	"include\routines_LEVELS.c", 3231; }
16074    02:D3F6             	.LL817:
16075                        	
16076                        		.dbg	line,	"include\routines_LEVELS.c", 3233; spr_y(player_pos_y+18);
16077                        		__ld.wm		_player_pos_y
         02:D3F6  AD F9 24   			lda.l	_player_pos_y
         02:D3F9  AC FA 24   			ldy.h	_player_pos_y
16078                        		__add.wi	18
         02:D3FC  18         			clc
         02:D3FD  69 12      			adc.l	#18
         02:D3FF  90 01      			bcc	!+
         02:D401  C8         			iny
         02:D402             	!:
16079                        		__call		_spr_y.1
         02:D402  20 2D E8   			call	_spr_y.1
16080                        	
16081                        		.dbg	line,	"include\routines_LEVELS.c", 3235; player_attack = FALSE;
16082                        		__st.umiq	0, _player_attack
         02:D405  9C 21 23   			stz	_player_attack
16083                        	
16084                        		.dbg	line,	"include\routines_LEVELS.c", 3236; player_counter_attack = 1;
16085                        		__st.umiq	1, _player_counter_attack
         02:D408  A9 01      			lda.l	#1
         02:D40A  8D 1F 23   			sta	_player_counter_attack
16086                        	
16087                        		.dbg	line,	"include\routines_LEVELS.c", 3237; player_state = STATE_CROUCH;
16088                        		__st.umiq	7, _player_state
         02:D40D  A9 07      			lda.l	#7
         02:D40F  8D 19 23   			sta	_player_state
16089                        	
16090                        		.dbg	line,	"include\routines_LEVELS.c", 3238; return;
16091                        		__bra		.LL782
         02:D412  4C 42 D9   			bra	.LL782
16092                        	
16093                        		.dbg	line,	"include\routines_LEVELS.c", 3239; }
16094                        	
16095                        		.dbg	line,	"include\routines_LEVELS.c", 3241; // CHAIN ANIMATION //
16096                        	
16097                        		.dbg	line,	"include\routines_LEVELS.c", 3242; if(chain_unfold == TRUE)
16098    02:D415             	.LL815:
16099    02:D415             	.LL814:
16100                        		__ld.umq	_chain_unfold
         02:D415  AD 2A 23   			lda	_chain_unfold
16101                        		__equ_b.uiq	1
         02:D418  C9 01      			cmp	#1
         02:D41A  F0 01      			beq	!+
         02:D41C  18         			clc
         02:D41D             	!:
16102                        		__bfalse	.LL818
         02:D41D  B0 03 4C 18			bcc	.LL818
         02:D421  D6          
16103                        	
16104                        		.dbg	line,	"include\routines_LEVELS.c", 3243; {
16105                        	
16106                        		.dbg	line,	"include\routines_LEVELS.c", 3244; if(player_counter_attack == 6)
16107                        		__ld.umq	_player_counter_attack
         02:D422  AD 1F 23   			lda	_player_counter_attack
16108                        		__equ_b.uiq	6
         02:D425  C9 06      			cmp	#6
         02:D427  F0 01      			beq	!+
         02:D429  18         			clc
         02:D42A             	!:
16109                        		__bfalse	.LL819
         02:D42A  90 60      			bcc	.LL819
16110                        	
16111                        		.dbg	line,	"include\routines_LEVELS.c", 3245; {
16112                        	
16113                        		.dbg	line,	"include\routines_LEVELS.c", 3246; spr_set(player_id);
16114                        		__ld.umq	_player_id
         02:D42C  AD 18 23   			lda	_player_id
16115                        		__call		_spr_set.1
         02:D42F  20 F1 E7   			call	_spr_set.1
16116                        	
16117                        		.dbg	line,	"include\routines_LEVELS.c", 3247; spr_pattern(PLAYER_CROUCH_ATTACK_2_VRAM_ADR);
16118                        		__ld.wi		11264
         02:D432  62         			cla
         02:D433  A0 2C      			ldy.h	#11264
16119                        		__call		_spr_pattern.1
         02:D435  20 3A E8   			call	_spr_pattern.1
16120                        	
16121                        		.dbg	line,	"include\routines_LEVELS.c", 3249; spr_set(weapon_id);
16122                        		__ld.umq	_weapon_id
         02:D438  AD 27 23   			lda	_weapon_id
16123                        		__call		_spr_set.1
         02:D43B  20 F1 E7   			call	_spr_set.1
16124                        	
16125                        		.dbg	line,	"include\routines_LEVELS.c", 3250; spr_pattern(WEAPON_ATTACK_2_VRAM_ADRESS);
16126                        		__ld.wi		32064
         02:D43E  A9 40      			lda.l	#32064
         02:D440  A0 7D      			ldy.h	#32064
16127                        		__call		_spr_pattern.1
         02:D442  20 3A E8   			call	_spr_pattern.1
16128                        	
16129                        		.dbg	line,	"include\routines_LEVELS.c", 3252; if(player_axis == AXIS_RIGHT)
16130                        		__not.um	_player_axis
         02:D445  AD 1A 23   			lda	_player_axis
         02:D448  18         			clc
         02:D449  D0 01      			bne	!+
         02:D44B  38         			sec
         02:D44C             	!:
16131                        		__bfalse	.LL820
         02:D44C  90 11      			bcc	.LL820
16132                        	
16133                        		.dbg	line,	"include\routines_LEVELS.c", 3253; {
16134                        	
16135                        		.dbg	line,	"include\routines_LEVELS.c", 3254; spr_x(player_pos_x+32);
16136                        		__ld.wm		_player_pos_x
         02:D44E  AD F7 24   			lda.l	_player_pos_x
         02:D451  AC F8 24   			ldy.h	_player_pos_x
16137                        		__add.wi	32
         02:D454  18         			clc
         02:D455  69 20      			adc.l	#32
         02:D457  90 01      			bcc	!+
         02:D459  C8         			iny
         02:D45A             	!:
16138                        		__call		_spr_x.1
         02:D45A  20 1E E8   			call	_spr_x.1
16139                        	
16140                        		.dbg	line,	"include\routines_LEVELS.c", 3255; 
16141                        	
16142                        		.dbg	line,	"include\routines_LEVELS.c", 3256; }
16143                        	
16144                        		.dbg	line,	"include\routines_LEVELS.c", 3257; 
16145                        	
16146                        		.dbg	line,	"include\routines_LEVELS.c", 3258; else
16147                        		__bra		.LL821
         02:D45D  80 0F      			bra	.LL821
16148    02:D45F             	.LL820:
16149                        	
16150                        		.dbg	line,	"include\routines_LEVELS.c", 3259; {
16151                        	
16152                        		.dbg	line,	"include\routines_LEVELS.c", 3260; spr_x(player_pos_x-16);
16153                        		__ld.wm		_player_pos_x
         02:D45F  AD F7 24   			lda.l	_player_pos_x
         02:D462  AC F8 24   			ldy.h	_player_pos_x
16154                        		__sub.wi	16
         02:D465  38         			sec
         02:D466  E9 10      			sbc.l	#16
         02:D468  B0 01      			bcs	!+
         02:D46A  88         			dey
         02:D46B             	!:
16155                        		__call		_spr_x.1
         02:D46B  20 1E E8   			call	_spr_x.1
16156                        	
16157                        		.dbg	line,	"include\routines_LEVELS.c", 3261; }
16158    02:D46E             	.LL821:
16159                        	
16160                        		.dbg	line,	"include\routines_LEVELS.c", 3263; weapon_y_offset = 14;
16161                        		__st.umiq	14, _weapon_y_offset
         02:D46E  A9 0E      			lda.l	#14
         02:D470  8D 8F 26   			sta	_weapon_y_offset
16162                        	
16163                        		.dbg	line,	"include\routines_LEVELS.c", 3264; spr_y(player_pos_y + weapon_y_offset);
16164                        		__ld.bm		_weapon_y_offset
         02:D473  AD 8F 26   			lda	_weapon_y_offset
         02:D476  C2         			cly
         02:D477  10 01      			bpl	!+
         02:D479  88         			dey
         02:D47A             	!:
16165                        		__add.wm	_player_pos_y
         02:D47A  18         			clc
         02:D47B  6D F9 24   			adc.l	_player_pos_y
         02:D47E  42         			say
         02:D47F  6D FA 24   			adc.h	_player_pos_y
         02:D482  42         			say
16166                        		__call		_spr_y.1
         02:D483  20 2D E8   			call	_spr_y.1
16167                        	
16168                        		.dbg	line,	"include\routines_LEVELS.c", 3266; collision_WEAPON_OBJECTS();
16169                        		__call		_collision_WEAPON_OBJECTS
         02:D486  20 09 FF   			call	_collision_WEAPON_OBJECTS
16170                        	
16171                        		.dbg	line,	"include\routines_LEVELS.c", 3267; }
16172                        	
16173                        		.dbg	line,	"include\routines_LEVELS.c", 3269; else if(player_counter_attack == 7)
16174                        		__bra		.LL822
         02:D489  4C 18 D6   			bra	.LL822
16175    02:D48C             	.LL819:
16176                        		__ld.umq	_player_counter_attack
         02:D48C  AD 1F 23   			lda	_player_counter_attack
16177                        		__equ_b.uiq	7
         02:D48F  C9 07      			cmp	#7
         02:D491  F0 01      			beq	!+
         02:D493  18         			clc
         02:D494             	!:
16178                        		__bfalse	.LL823
         02:D494  90 77      			bcc	.LL823
16179                        	
16180                        		.dbg	line,	"include\routines_LEVELS.c", 3270; {
16181                        	
16182                        		.dbg	line,	"include\routines_LEVELS.c", 3271; list_chain_active[0] = TRUE;
16183                        		__st.umiq	1, _list_chain_active
         02:D496  A9 01      			lda.l	#1
         02:D498  8D 2B 23   			sta	_list_chain_active
16184                        	
16185                        		.dbg	line,	"include\routines_LEVELS.c", 3272; spr_set(chain_id);
16186                        		__ld.umq	_chain_id
         02:D49B  AD 26 23   			lda	_chain_id
16187                        		__call		_spr_set.1
         02:D49E  20 F1 E7   			call	_spr_set.1
16188                        	
16189                        		.dbg	line,	"include\routines_LEVELS.c", 3274; if(player_axis == AXIS_RIGHT)
16190                        		__not.um	_player_axis
         02:D4A1  AD 1A 23   			lda	_player_axis
         02:D4A4  18         			clc
         02:D4A5  D0 01      			bne	!+
         02:D4A7  38         			sec
         02:D4A8             	!:
16191                        		__bfalse	.LL824
         02:D4A8  90 26      			bcc	.LL824
16192                        	
16193                        		.dbg	line,	"include\routines_LEVELS.c", 3275; {
16194                        	
16195                        		.dbg	line,	"include\routines_LEVELS.c", 3276; spr_x(player_pos_x+32);
16196                        		__ld.wm		_player_pos_x
         02:D4AA  AD F7 24   			lda.l	_player_pos_x
         02:D4AD  AC F8 24   			ldy.h	_player_pos_x
16197                        		__add.wi	32
         02:D4B0  18         			clc
         02:D4B1  69 20      			adc.l	#32
         02:D4B3  90 01      			bcc	!+
         02:D4B5  C8         			iny
         02:D4B6             	!:
16198                        		__call		_spr_x.1
         02:D4B6  20 1E E8   			call	_spr_x.1
16199                        	
16200                        		.dbg	line,	"include\routines_LEVELS.c", 3278; spr_set(weapon_id);
16201                        		__ld.umq	_weapon_id
         02:D4B9  AD 27 23   			lda	_weapon_id
16202                        		__call		_spr_set.1
         02:D4BC  20 F1 E7   			call	_spr_set.1
16203                        	
16204                        		.dbg	line,	"include\routines_LEVELS.c", 3279; spr_x(player_pos_x+48);
16205                        		__ld.wm		_player_pos_x
         02:D4BF  AD F7 24   			lda.l	_player_pos_x
         02:D4C2  AC F8 24   			ldy.h	_player_pos_x
16206                        		__add.wi	48
         02:D4C5  18         			clc
         02:D4C6  69 30      			adc.l	#48
         02:D4C8  90 01      			bcc	!+
         02:D4CA  C8         			iny
         02:D4CB             	!:
16207                        		__call		_spr_x.1
         02:D4CB  20 1E E8   			call	_spr_x.1
16208                        	
16209                        		.dbg	line,	"include\routines_LEVELS.c", 3280; }
16210                        	
16211                        		.dbg	line,	"include\routines_LEVELS.c", 3281; 
16212                        	
16213                        		.dbg	line,	"include\routines_LEVELS.c", 3282; else
16214                        		__bra		.LL825
         02:D4CE  80 24      			bra	.LL825
16215    02:D4D0             	.LL824:
16216                        	
16217                        		.dbg	line,	"include\routines_LEVELS.c", 3283; {
16218                        	
16219                        		.dbg	line,	"include\routines_LEVELS.c", 3284; spr_x(player_pos_x-16);
16220                        		__ld.wm		_player_pos_x
         02:D4D0  AD F7 24   			lda.l	_player_pos_x
         02:D4D3  AC F8 24   			ldy.h	_player_pos_x
16221                        		__sub.wi	16
         02:D4D6  38         			sec
         02:D4D7  E9 10      			sbc.l	#16
         02:D4D9  B0 01      			bcs	!+
         02:D4DB  88         			dey
         02:D4DC             	!:
16222                        		__call		_spr_x.1
         02:D4DC  20 1E E8   			call	_spr_x.1
16223                        	
16224                        		.dbg	line,	"include\routines_LEVELS.c", 3286; spr_set(weapon_id);
16225                        		__ld.umq	_weapon_id
         02:D4DF  AD 27 23   			lda	_weapon_id
16226                        		__call		_spr_set.1
         02:D4E2  20 F1 E7   			call	_spr_set.1
16227                        	
16228                        		.dbg	line,	"include\routines_LEVELS.c", 3287; spr_x(player_pos_x-32);
16229                        		__ld.wm		_player_pos_x
         02:D4E5  AD F7 24   			lda.l	_player_pos_x
         02:D4E8  AC F8 24   			ldy.h	_player_pos_x
16230                        		__sub.wi	32
         02:D4EB  38         			sec
         02:D4EC  E9 20      			sbc.l	#32
         02:D4EE  B0 01      			bcs	!+
         02:D4F0  88         			dey
         02:D4F1             	!:
16231                        		__call		_spr_x.1
         02:D4F1  20 1E E8   			call	_spr_x.1
16232                        	
16233                        		.dbg	line,	"include\routines_LEVELS.c", 3288; }
16234    02:D4F4             	.LL825:
16235                        	
16236                        		.dbg	line,	"include\routines_LEVELS.c", 3290; spr_y(player_pos_y + weapon_y_offset);
16237                        		__ld.bm		_weapon_y_offset
         02:D4F4  AD 8F 26   			lda	_weapon_y_offset
         02:D4F7  C2         			cly
         02:D4F8  10 01      			bpl	!+
         02:D4FA  88         			dey
         02:D4FB             	!:
16238                        		__add.wm	_player_pos_y
         02:D4FB  18         			clc
         02:D4FC  6D F9 24   			adc.l	_player_pos_y
         02:D4FF  42         			say
         02:D500  6D FA 24   			adc.h	_player_pos_y
         02:D503  42         			say
16239                        		__call		_spr_y.1
         02:D504  20 2D E8   			call	_spr_y.1
16240                        	
16241                        		.dbg	line,	"include\routines_LEVELS.c", 3292; collision_WEAPON_OBJECTS();
16242                        		__call		_collision_WEAPON_OBJECTS
         02:D507  20 09 FF   			call	_collision_WEAPON_OBJECTS
16243                        	
16244                        		.dbg	line,	"include\routines_LEVELS.c", 3293; }
16245                        	
16246                        		.dbg	line,	"include\routines_LEVELS.c", 3295; else if(player_counter_attack == 8)
16247                        		__bra		.LL826
         02:D50A  4C 18 D6   			bra	.LL826
16248    02:D50D             	.LL823:
16249                        		__ld.umq	_player_counter_attack
         02:D50D  AD 1F 23   			lda	_player_counter_attack
16250                        		__equ_b.uiq	8
         02:D510  C9 08      			cmp	#8
         02:D512  F0 01      			beq	!+
         02:D514  18         			clc
         02:D515             	!:
16251                        		__bfalse	.LL827
         02:D515  90 7C      			bcc	.LL827
16252                        	
16253                        		.dbg	line,	"include\routines_LEVELS.c", 3296; {
16254                        	
16255                        		.dbg	line,	"include\routines_LEVELS.c", 3297; list_chain_active[1] = TRUE;
16256                        		__st.umiq	1, _list_chain_active + 1
         02:D517  A9 01      			lda.l	#1
         02:D519  8D 2C 23   			sta	_list_chain_active + 1
16257                        	
16258                        		.dbg	line,	"include\routines_LEVELS.c", 3298; spr_set(chain_id+1);
16259                        		__ld.um		_chain_id
         02:D51C  AD 26 23   			lda	_chain_id
         02:D51F  C2         			cly
16260                        		__add.wi	1
         02:D520  1A         			inc	a
         02:D521  D0 01      			bne	!+
         02:D523  C8         			iny
         02:D524             	!:
16261                        		__call		_spr_set.1
         02:D524  20 F1 E7   			call	_spr_set.1
16262                        	
16263                        		.dbg	line,	"include\routines_LEVELS.c", 3300; if(player_axis == AXIS_RIGHT)
16264                        		__not.um	_player_axis
         02:D527  AD 1A 23   			lda	_player_axis
         02:D52A  18         			clc
         02:D52B  D0 01      			bne	!+
         02:D52D  38         			sec
         02:D52E             	!:
16265                        		__bfalse	.LL828
         02:D52E  90 26      			bcc	.LL828
16266                        	
16267                        		.dbg	line,	"include\routines_LEVELS.c", 3301; {
16268                        	
16269                        		.dbg	line,	"include\routines_LEVELS.c", 3302; spr_x(player_pos_x+48);
16270                        		__ld.wm		_player_pos_x
         02:D530  AD F7 24   			lda.l	_player_pos_x
         02:D533  AC F8 24   			ldy.h	_player_pos_x
16271                        		__add.wi	48
         02:D536  18         			clc
         02:D537  69 30      			adc.l	#48
         02:D539  90 01      			bcc	!+
         02:D53B  C8         			iny
         02:D53C             	!:
16272                        		__call		_spr_x.1
         02:D53C  20 1E E8   			call	_spr_x.1
16273                        	
16274                        		.dbg	line,	"include\routines_LEVELS.c", 3304; spr_set(weapon_id);
16275                        		__ld.umq	_weapon_id
         02:D53F  AD 27 23   			lda	_weapon_id
16276                        		__call		_spr_set.1
         02:D542  20 F1 E7   			call	_spr_set.1
16277                        	
16278                        		.dbg	line,	"include\routines_LEVELS.c", 3305; spr_x(player_pos_x+64);
16279                        		__ld.wm		_player_pos_x
         02:D545  AD F7 24   			lda.l	_player_pos_x
         02:D548  AC F8 24   			ldy.h	_player_pos_x
16280                        		__add.wi	64
         02:D54B  18         			clc
         02:D54C  69 40      			adc.l	#64
         02:D54E  90 01      			bcc	!+
         02:D550  C8         			iny
         02:D551             	!:
16281                        		__call		_spr_x.1
         02:D551  20 1E E8   			call	_spr_x.1
16282                        	
16283                        		.dbg	line,	"include\routines_LEVELS.c", 3306; }
16284                        	
16285                        		.dbg	line,	"include\routines_LEVELS.c", 3307; 
16286                        	
16287                        		.dbg	line,	"include\routines_LEVELS.c", 3308; else
16288                        		__bra		.LL829
         02:D554  80 24      			bra	.LL829
16289    02:D556             	.LL828:
16290                        	
16291                        		.dbg	line,	"include\routines_LEVELS.c", 3309; {
16292                        	
16293                        		.dbg	line,	"include\routines_LEVELS.c", 3310; spr_x(player_pos_x-32);
16294                        		__ld.wm		_player_pos_x
         02:D556  AD F7 24   			lda.l	_player_pos_x
         02:D559  AC F8 24   			ldy.h	_player_pos_x
16295                        		__sub.wi	32
         02:D55C  38         			sec
         02:D55D  E9 20      			sbc.l	#32
         02:D55F  B0 01      			bcs	!+
         02:D561  88         			dey
         02:D562             	!:
16296                        		__call		_spr_x.1
         02:D562  20 1E E8   			call	_spr_x.1
16297                        	
16298                        		.dbg	line,	"include\routines_LEVELS.c", 3312; spr_set(weapon_id);
16299                        		__ld.umq	_weapon_id
         02:D565  AD 27 23   			lda	_weapon_id
16300                        		__call		_spr_set.1
         02:D568  20 F1 E7   			call	_spr_set.1
16301                        	
16302                        		.dbg	line,	"include\routines_LEVELS.c", 3313; spr_x(player_pos_x-48);
16303                        		__ld.wm		_player_pos_x
         02:D56B  AD F7 24   			lda.l	_player_pos_x
         02:D56E  AC F8 24   			ldy.h	_player_pos_x
16304                        		__sub.wi	48
         02:D571  38         			sec
         02:D572  E9 30      			sbc.l	#48
         02:D574  B0 01      			bcs	!+
         02:D576  88         			dey
         02:D577             	!:
16305                        		__call		_spr_x.1
         02:D577  20 1E E8   			call	_spr_x.1
16306                        	
16307                        		.dbg	line,	"include\routines_LEVELS.c", 3314; }
16308    02:D57A             	.LL829:
16309                        	
16310                        		.dbg	line,	"include\routines_LEVELS.c", 3316; spr_y(player_pos_y + weapon_y_offset);
16311                        		__ld.bm		_weapon_y_offset
         02:D57A  AD 8F 26   			lda	_weapon_y_offset
         02:D57D  C2         			cly
         02:D57E  10 01      			bpl	!+
         02:D580  88         			dey
         02:D581             	!:
16312                        		__add.wm	_player_pos_y
         02:D581  18         			clc
         02:D582  6D F9 24   			adc.l	_player_pos_y
         02:D585  42         			say
         02:D586  6D FA 24   			adc.h	_player_pos_y
         02:D589  42         			say
16313                        		__call		_spr_y.1
         02:D58A  20 2D E8   			call	_spr_y.1
16314                        	
16315                        		.dbg	line,	"include\routines_LEVELS.c", 3318; collision_WEAPON_OBJECTS();
16316                        		__call		_collision_WEAPON_OBJECTS
         02:D58D  20 09 FF   			call	_collision_WEAPON_OBJECTS
16317                        	
16318                        		.dbg	line,	"include\routines_LEVELS.c", 3319; }
16319                        	
16320                        		.dbg	line,	"include\routines_LEVELS.c", 3321; else if(player_counter_attack == 9)
16321                        		__bra		.LL830
         02:D590  4C 18 D6   			bra	.LL830
16322    02:D593             	.LL827:
16323                        		__ld.umq	_player_counter_attack
         02:D593  AD 1F 23   			lda	_player_counter_attack
16324                        		__equ_b.uiq	9
         02:D596  C9 09      			cmp	#9
         02:D598  F0 01      			beq	!+
         02:D59A  18         			clc
         02:D59B             	!:
16325                        		__bfalse	.LL831
         02:D59B  90 7B      			bcc	.LL831
16326                        	
16327                        		.dbg	line,	"include\routines_LEVELS.c", 3322; {
16328                        	
16329                        		.dbg	line,	"include\routines_LEVELS.c", 3323; list_chain_active[2] = TRUE;
16330                        		__st.umiq	1, _list_chain_active + 2
         02:D59D  A9 01      			lda.l	#1
         02:D59F  8D 2D 23   			sta	_list_chain_active + 2
16331                        	
16332                        		.dbg	line,	"include\routines_LEVELS.c", 3324; spr_set(chain_id+2);
16333                        		__ld.um		_chain_id
         02:D5A2  AD 26 23   			lda	_chain_id
         02:D5A5  C2         			cly
16334                        		__add.wi	2
         02:D5A6  18         			clc
         02:D5A7  69 02      			adc.l	#2
         02:D5A9  90 01      			bcc	!+
         02:D5AB  C8         			iny
         02:D5AC             	!:
16335                        		__call		_spr_set.1
         02:D5AC  20 F1 E7   			call	_spr_set.1
16336                        	
16337                        		.dbg	line,	"include\routines_LEVELS.c", 3326; if(player_axis == AXIS_RIGHT)
16338                        		__not.um	_player_axis
         02:D5AF  AD 1A 23   			lda	_player_axis
         02:D5B2  18         			clc
         02:D5B3  D0 01      			bne	!+
         02:D5B5  38         			sec
         02:D5B6             	!:
16339                        		__bfalse	.LL832
         02:D5B6  90 26      			bcc	.LL832
16340                        	
16341                        		.dbg	line,	"include\routines_LEVELS.c", 3327; {
16342                        	
16343                        		.dbg	line,	"include\routines_LEVELS.c", 3328; spr_x(player_pos_x+64);
16344                        		__ld.wm		_player_pos_x
         02:D5B8  AD F7 24   			lda.l	_player_pos_x
         02:D5BB  AC F8 24   			ldy.h	_player_pos_x
16345                        		__add.wi	64
         02:D5BE  18         			clc
         02:D5BF  69 40      			adc.l	#64
         02:D5C1  90 01      			bcc	!+
         02:D5C3  C8         			iny
         02:D5C4             	!:
16346                        		__call		_spr_x.1
         02:D5C4  20 1E E8   			call	_spr_x.1
16347                        	
16348                        		.dbg	line,	"include\routines_LEVELS.c", 3330; spr_set(weapon_id);
16349                        		__ld.umq	_weapon_id
         02:D5C7  AD 27 23   			lda	_weapon_id
16350                        		__call		_spr_set.1
         02:D5CA  20 F1 E7   			call	_spr_set.1
16351                        	
16352                        		.dbg	line,	"include\routines_LEVELS.c", 3331; spr_x(player_pos_x+80);
16353                        		__ld.wm		_player_pos_x
         02:D5CD  AD F7 24   			lda.l	_player_pos_x
         02:D5D0  AC F8 24   			ldy.h	_player_pos_x
16354                        		__add.wi	80
         02:D5D3  18         			clc
         02:D5D4  69 50      			adc.l	#80
         02:D5D6  90 01      			bcc	!+
         02:D5D8  C8         			iny
         02:D5D9             	!:
16355                        		__call		_spr_x.1
         02:D5D9  20 1E E8   			call	_spr_x.1
16356                        	
16357                        		.dbg	line,	"include\routines_LEVELS.c", 3332; }
16358                        	
16359                        		.dbg	line,	"include\routines_LEVELS.c", 3333; 
16360                        	
16361                        		.dbg	line,	"include\routines_LEVELS.c", 3334; else
16362                        		__bra		.LL833
         02:D5DC  80 24      			bra	.LL833
16363    02:D5DE             	.LL832:
16364                        	
16365                        		.dbg	line,	"include\routines_LEVELS.c", 3335; {
16366                        	
16367                        		.dbg	line,	"include\routines_LEVELS.c", 3336; spr_x(player_pos_x-48);
16368                        		__ld.wm		_player_pos_x
         02:D5DE  AD F7 24   			lda.l	_player_pos_x
         02:D5E1  AC F8 24   			ldy.h	_player_pos_x
16369                        		__sub.wi	48
         02:D5E4  38         			sec
         02:D5E5  E9 30      			sbc.l	#48
         02:D5E7  B0 01      			bcs	!+
         02:D5E9  88         			dey
         02:D5EA             	!:
16370                        		__call		_spr_x.1
         02:D5EA  20 1E E8   			call	_spr_x.1
16371                        	
16372                        		.dbg	line,	"include\routines_LEVELS.c", 3338; spr_set(weapon_id);
16373                        		__ld.umq	_weapon_id
         02:D5ED  AD 27 23   			lda	_weapon_id
16374                        		__call		_spr_set.1
         02:D5F0  20 F1 E7   			call	_spr_set.1
16375                        	
16376                        		.dbg	line,	"include\routines_LEVELS.c", 3339; spr_x(player_pos_x-64);
16377                        		__ld.wm		_player_pos_x
         02:D5F3  AD F7 24   			lda.l	_player_pos_x
         02:D5F6  AC F8 24   			ldy.h	_player_pos_x
16378                        		__sub.wi	64
         02:D5F9  38         			sec
         02:D5FA  E9 40      			sbc.l	#64
         02:D5FC  B0 01      			bcs	!+
         02:D5FE  88         			dey
         02:D5FF             	!:
16379                        		__call		_spr_x.1
         02:D5FF  20 1E E8   			call	_spr_x.1
16380                        	
16381                        		.dbg	line,	"include\routines_LEVELS.c", 3340; }
16382    02:D602             	.LL833:
16383                        	
16384                        		.dbg	line,	"include\routines_LEVELS.c", 3342; spr_y(player_pos_y + weapon_y_offset);
16385                        		__ld.bm		_weapon_y_offset
         02:D602  AD 8F 26   			lda	_weapon_y_offset
         02:D605  C2         			cly
         02:D606  10 01      			bpl	!+
         02:D608  88         			dey
         02:D609             	!:
16386                        		__add.wm	_player_pos_y
         02:D609  18         			clc
         02:D60A  6D F9 24   			adc.l	_player_pos_y
         02:D60D  42         			say
         02:D60E  6D FA 24   			adc.h	_player_pos_y
         02:D611  42         			say
16387                        		__call		_spr_y.1
         02:D612  20 2D E8   			call	_spr_y.1
16388                        	
16389                        		.dbg	line,	"include\routines_LEVELS.c", 3344; collision_WEAPON_OBJECTS();
16390                        		__call		_collision_WEAPON_OBJECTS
         02:D615  20 09 FF   			call	_collision_WEAPON_OBJECTS
16391                        	
16392                        		.dbg	line,	"include\routines_LEVELS.c", 3345; }
16393                        	
16394                        		.dbg	line,	"include\routines_LEVELS.c", 3346; }
16395    02:D618             	.LL831:
16396    02:D618             	.LL830:
16397    02:D618             	.LL826:
16398    02:D618             	.LL822:
16399                        	
16400                        		.dbg	line,	"include\routines_LEVELS.c", 3349; player_counter_attack += 1;
16401    02:D618             	.LL818:
16402                        		__add_st.umiq	1, _player_counter_attack
         02:D618  EE 1F 23   			inc	_player_counter_attack
16403                        	
16404                        		.dbg	line,	"include\routines_LEVELS.c", 3352; // SET CHAIN Y POSITION //
16405                        	
16406                        		.dbg	line,	"include\routines_LEVELS.c", 3353; for(i=0 ; i<3 ; i++)
16407                        		__st.umiq	0, __update_WEAPON_end - 2  /* i */
         02:D61B  9C 0D 23   			stz	__update_WEAPON_end - 2
16408    02:D61E             	.LL834:
16409                        		__ld.umq	__update_WEAPON_end - 2  /* i */
         02:D61E  AD 0D 23   			lda	__update_WEAPON_end - 2
16410                        		__ult_b.uiq	3
         02:D621  C9 03      			cmp	#3		; Subtract integer from A.
         02:D623  6A         			ror	a		; CC if A < integer.
         02:D624  49 80      			eor	#$80
         02:D626  2A         			rol	a
16411                        		__btrue		.LL836
         02:D627  B0 08      			bcs	.LL836
16412                        		__bra		.LL837
         02:D629  4C 42 D9   			bra	.LL837
16413    02:D62C             	.LL835:
16414                        		__inc.umq	__update_WEAPON_end - 2  /* i */
         02:D62C  EE 0D 23   			inc	__update_WEAPON_end - 2
16415                        		__bra		.LL834
         02:D62F  80 ED      			bra	.LL834
16416    02:D631             	.LL836:
16417                        	
16418                        		.dbg	line,	"include\routines_LEVELS.c", 3354; {
16419                        	
16420                        		.dbg	line,	"include\routines_LEVELS.c", 3355; spr_set(chain_id+i);
16421                        		__ld.um		_chain_id
         02:D631  AD 26 23   			lda	_chain_id
         02:D634  C2         			cly
16422                        		__add.um	__update_WEAPON_end - 2  /* i */
         02:D635  18         			clc
         02:D636  6D 0D 23   			adc	__update_WEAPON_end - 2
         02:D639  90 01      			bcc	!+
         02:D63B  C8         			iny
         02:D63C             	!:
16423                        		__call		_spr_set.1
         02:D63C  20 F1 E7   			call	_spr_set.1
16424                        	
16425                        		.dbg	line,	"include\routines_LEVELS.c", 3357; spr_y( ((player_pos_y + 24) * list_chain_active[i]) - 16); //list_chain_active[0] = TRUE;
16426                        		__ld.wm		_player_pos_y
         02:D63F  AD F9 24   			lda.l	_player_pos_y
         02:D642  AC FA 24   			ldy.h	_player_pos_y
16427                        		__add.wi	24
         02:D645  18         			clc
         02:D646  69 18      			adc.l	#24
         02:D648  90 01      			bcc	!+
         02:D64A  C8         			iny
         02:D64B             	!:
16428                        		__push.wr
         02:D64B  5A         			phy
         02:D64C  48         			pha
16429                        		__ldx.umq	__update_WEAPON_end - 2  /* i */
         02:D64D  AE 0D 23   			ldx	__update_WEAPON_end - 2
16430                        		__ld.uax	_list_chain_active
         02:D650  BD 2B 23   			lda	_list_chain_active, x
         02:D653  C2         			cly
16431                        		__mul.wt
         02:D654  85 00      			sta.l	<multiplier
         02:D656  84 01      			sty.h	<multiplier
         02:D658  68         			pla
         02:D659  7A         			ply
         02:D65A  20 60 E4   			jsr	__mulint
16432                        		__sub.wi	16
         02:D65D  38         			sec
         02:D65E  E9 10      			sbc.l	#16
         02:D660  B0 01      			bcs	!+
         02:D662  88         			dey
         02:D663             	!:
16433                        		__call		_spr_y.1
         02:D663  20 2D E8   			call	_spr_y.1
16434                        	
16435                        		.dbg	line,	"include\routines_LEVELS.c", 3358; }
16436                        		__bra		.LL835
         02:D666  80 C4      			bra	.LL835
16437    02:D668             	.LL837	.alias		.LL838
16438                        	
16439                        		.dbg	line,	"include\routines_LEVELS.c", 3359; }
16440                        	
16441                        		.dbg	line,	"include\routines_LEVELS.c", 3362; else if(player_state == STATE_HANG)
16442                        		__bra		.LL838
         02:D668  4C 42 D9   			bra	.LL838
16443    02:D66B             	.LL810:
16444                        		__ld.umq	_player_state
         02:D66B  AD 19 23   			lda	_player_state
16445                        		__equ_b.uiq	10
         02:D66E  C9 0A      			cmp	#10
         02:D670  F0 01      			beq	!+
         02:D672  18         			clc
         02:D673             	!:
16446                        		__bfalse	.LL839
         02:D673  B0 03 4C 42			bcc	.LL839
         02:D677  D9          
16447                        	
16448                        		.dbg	line,	"include\routines_LEVELS.c", 3363; {
16449                        	
16450                        		.dbg	line,	"include\routines_LEVELS.c", 3364; if(player_attack == TRUE)
16451                        		__ld.umq	_player_attack
         02:D678  AD 21 23   			lda	_player_attack
16452                        		__equ_b.uiq	1
         02:D67B  C9 01      			cmp	#1
         02:D67D  F0 01      			beq	!+
         02:D67F  18         			clc
         02:D680             	!:
16453                        		__bfalse	.LL840
         02:D680  B0 03 4C 42			bcc	.LL840
         02:D684  D9          
16454                        	
16455                        		.dbg	line,	"include\routines_LEVELS.c", 3365; {
16456                        	
16457                        		.dbg	line,	"include\routines_LEVELS.c", 3366; if(player_counter_attack < 7)
16458                        		__ld.umq	_player_counter_attack
         02:D685  AD 1F 23   			lda	_player_counter_attack
16459                        		__ult_b.uiq	7
         02:D688  C9 07      			cmp	#7		; Subtract integer from A.
         02:D68A  6A         			ror	a		; CC if A < integer.
         02:D68B  49 80      			eor	#$80
         02:D68D  2A         			rol	a
16460                        		__bfalse	.LL841
         02:D68E  90 53      			bcc	.LL841
16461                        	
16462                        		.dbg	line,	"include\routines_LEVELS.c", 3367; {
16463                        	
16464                        		.dbg	line,	"include\routines_LEVELS.c", 3368; spr_set(player_id);
16465                        		__ld.umq	_player_id
         02:D690  AD 18 23   			lda	_player_id
16466                        		__call		_spr_set.1
         02:D693  20 F1 E7   			call	_spr_set.1
16467                        	
16468                        		.dbg	line,	"include\routines_LEVELS.c", 3369; spr_pattern(PLAYER_HANG_ATTACK_1_VRAM_ADR);
16469                        		__ld.wi		12032
         02:D696  62         			cla
         02:D697  A0 2F      			ldy.h	#12032
16470                        		__call		_spr_pattern.1
         02:D699  20 3A E8   			call	_spr_pattern.1
16471                        	
16472                        		.dbg	line,	"include\routines_LEVELS.c", 3371; spr_set(weapon_id);
16473                        		__ld.umq	_weapon_id
         02:D69C  AD 27 23   			lda	_weapon_id
16474                        		__call		_spr_set.1
         02:D69F  20 F1 E7   			call	_spr_set.1
16475                        	
16476                        		.dbg	line,	"include\routines_LEVELS.c", 3372; spr_pattern(WEAPON_ATTACK_1_VRAM_ADRESS);
16477                        		__ld.wi		32000
         02:D6A2  62         			cla
         02:D6A3  A0 7D      			ldy.h	#32000
16478                        		__call		_spr_pattern.1
         02:D6A5  20 3A E8   			call	_spr_pattern.1
16479                        	
16480                        		.dbg	line,	"include\routines_LEVELS.c", 3374; if(player_axis == AXIS_RIGHT)
16481                        		__not.um	_player_axis
         02:D6A8  AD 1A 23   			lda	_player_axis
         02:D6AB  18         			clc
         02:D6AC  D0 01      			bne	!+
         02:D6AE  38         			sec
         02:D6AF             	!:
16482                        		__bfalse	.LL842
         02:D6AF  90 11      			bcc	.LL842
16483                        	
16484                        		.dbg	line,	"include\routines_LEVELS.c", 3375; {
16485                        	
16486                        		.dbg	line,	"include\routines_LEVELS.c", 3376; spr_x(player_pos_x-14);
16487                        		__ld.wm		_player_pos_x
         02:D6B1  AD F7 24   			lda.l	_player_pos_x
         02:D6B4  AC F8 24   			ldy.h	_player_pos_x
16488                        		__sub.wi	14
         02:D6B7  38         			sec
         02:D6B8  E9 0E      			sbc.l	#14
         02:D6BA  B0 01      			bcs	!+
         02:D6BC  88         			dey
         02:D6BD             	!:
16489                        		__call		_spr_x.1
         02:D6BD  20 1E E8   			call	_spr_x.1
16490                        	
16491                        		.dbg	line,	"include\routines_LEVELS.c", 3377; }
16492                        	
16493                        		.dbg	line,	"include\routines_LEVELS.c", 3379; else
16494                        		__bra		.LL843
         02:D6C0  80 0F      			bra	.LL843
16495    02:D6C2             	.LL842:
16496                        	
16497                        		.dbg	line,	"include\routines_LEVELS.c", 3380; {
16498                        	
16499                        		.dbg	line,	"include\routines_LEVELS.c", 3381; spr_x(player_pos_x+29);
16500                        		__ld.wm		_player_pos_x
         02:D6C2  AD F7 24   			lda.l	_player_pos_x
         02:D6C5  AC F8 24   			ldy.h	_player_pos_x
16501                        		__add.wi	29
         02:D6C8  18         			clc
         02:D6C9  69 1D      			adc.l	#29
         02:D6CB  90 01      			bcc	!+
         02:D6CD  C8         			iny
         02:D6CE             	!:
16502                        		__call		_spr_x.1
         02:D6CE  20 1E E8   			call	_spr_x.1
16503                        	
16504                        		.dbg	line,	"include\routines_LEVELS.c", 3382; }
16505    02:D6D1             	.LL843:
16506                        	
16507                        		.dbg	line,	"include\routines_LEVELS.c", 3384; spr_y(player_pos_y-8);
16508                        		__ld.wm		_player_pos_y
         02:D6D1  AD F9 24   			lda.l	_player_pos_y
         02:D6D4  AC FA 24   			ldy.h	_player_pos_y
16509                        		__sub.wi	8
         02:D6D7  38         			sec
         02:D6D8  E9 08      			sbc.l	#8
         02:D6DA  B0 01      			bcs	!+
         02:D6DC  88         			dey
         02:D6DD             	!:
16510                        		__call		_spr_y.1
         02:D6DD  20 2D E8   			call	_spr_y.1
16511                        	
16512                        		.dbg	line,	"include\routines_LEVELS.c", 3385; }
16513                        	
16514                        		.dbg	line,	"include\routines_LEVELS.c", 3387; else if(player_counter_attack == 23)
16515                        		__bra		.LL844
         02:D6E0  4C 73 D7   			bra	.LL844
16516    02:D6E3             	.LL841:
16517                        		__ld.umq	_player_counter_attack
         02:D6E3  AD 1F 23   			lda	_player_counter_attack
16518                        		__equ_b.uiq	23
         02:D6E6  C9 17      			cmp	#23
         02:D6E8  F0 01      			beq	!+
         02:D6EA  18         			clc
         02:D6EB             	!:
16519                        		__bfalse	.LL845
         02:D6EB  B0 03 4C 73			bcc	.LL845
         02:D6EF  D7          
16520                        	
16521                        		.dbg	line,	"include\routines_LEVELS.c", 3388; {
16522                        	
16523                        		.dbg	line,	"include\routines_LEVELS.c", 3389; spr_set(chain_id);
16524                        		__ld.umq	_chain_id
         02:D6F0  AD 26 23   			lda	_chain_id
16525                        		__call		_spr_set.1
         02:D6F3  20 F1 E7   			call	_spr_set.1
16526                        	
16527                        		.dbg	line,	"include\routines_LEVELS.c", 3390; spr_hide();
16528                        		__call		_spr_hide
         02:D6F6  20 0C E8   			call	_spr_hide
16529                        	
16530                        		.dbg	line,	"include\routines_LEVELS.c", 3392; spr_set(chain_id+1);
16531                        		__ld.um		_chain_id
         02:D6F9  AD 26 23   			lda	_chain_id
         02:D6FC  C2         			cly
16532                        		__add.wi	1
         02:D6FD  1A         			inc	a
         02:D6FE  D0 01      			bne	!+
         02:D700  C8         			iny
         02:D701             	!:
16533                        		__call		_spr_set.1
         02:D701  20 F1 E7   			call	_spr_set.1
16534                        	
16535                        		.dbg	line,	"include\routines_LEVELS.c", 3393; spr_hide();
16536                        		__call		_spr_hide
         02:D704  20 0C E8   			call	_spr_hide
16537                        	
16538                        		.dbg	line,	"include\routines_LEVELS.c", 3395; spr_set(chain_id+2);
16539                        		__ld.um		_chain_id
         02:D707  AD 26 23   			lda	_chain_id
         02:D70A  C2         			cly
16540                        		__add.wi	2
         02:D70B  18         			clc
         02:D70C  69 02      			adc.l	#2
         02:D70E  90 01      			bcc	!+
         02:D710  C8         			iny
         02:D711             	!:
16541                        		__call		_spr_set.1
         02:D711  20 F1 E7   			call	_spr_set.1
16542                        	
16543                        		.dbg	line,	"include\routines_LEVELS.c", 3396; spr_hide();
16544                        		__call		_spr_hide
         02:D714  20 0C E8   			call	_spr_hide
16545                        	
16546                        		.dbg	line,	"include\routines_LEVELS.c", 3398; spr_set(player_id);
16547                        		__ld.umq	_player_id
         02:D717  AD 18 23   			lda	_player_id
16548                        		__call		_spr_set.1
         02:D71A  20 F1 E7   			call	_spr_set.1
16549                        	
16550                        		.dbg	line,	"include\routines_LEVELS.c", 3399; spr_pattern(PLAYER_HANG_VRAM_ADR);
16551                        		__ld.wi		8448
         02:D71D  62         			cla
         02:D71E  A0 21      			ldy.h	#8448
16552                        		__call		_spr_pattern.1
         02:D720  20 3A E8   			call	_spr_pattern.1
16553                        	
16554                        		.dbg	line,	"include\routines_LEVELS.c", 3401; spr_set(weapon_id);
16555                        		__ld.umq	_weapon_id
         02:D723  AD 27 23   			lda	_weapon_id
16556                        		__call		_spr_set.1
         02:D726  20 F1 E7   			call	_spr_set.1
16557                        	
16558                        		.dbg	line,	"include\routines_LEVELS.c", 3402; spr_pattern(WEAPON_IDLE_VRAM_ADRESS);
16559                        		__ld.wi		31808
         02:D729  A9 40      			lda.l	#31808
         02:D72B  A0 7C      			ldy.h	#31808
16560                        		__call		_spr_pattern.1
         02:D72D  20 3A E8   			call	_spr_pattern.1
16561                        	
16562                        		.dbg	line,	"include\routines_LEVELS.c", 3403; spr_y(player_pos_y+5);
16563                        		__ld.wm		_player_pos_y
         02:D730  AD F9 24   			lda.l	_player_pos_y
         02:D733  AC FA 24   			ldy.h	_player_pos_y
16564                        		__add.wi	5
         02:D736  18         			clc
         02:D737  69 05      			adc.l	#5
         02:D739  90 01      			bcc	!+
         02:D73B  C8         			iny
         02:D73C             	!:
16565                        		__call		_spr_y.1
         02:D73C  20 2D E8   			call	_spr_y.1
16566                        	
16567                        		.dbg	line,	"include\routines_LEVELS.c", 3405; if(player_axis == AXIS_RIGHT)
16568                        		__not.um	_player_axis
         02:D73F  AD 1A 23   			lda	_player_axis
         02:D742  18         			clc
         02:D743  D0 01      			bne	!+
         02:D745  38         			sec
         02:D746             	!:
16569                        		__bfalse	.LL846
         02:D746  90 11      			bcc	.LL846
16570                        	
16571                        		.dbg	line,	"include\routines_LEVELS.c", 3406; {
16572                        	
16573                        		.dbg	line,	"include\routines_LEVELS.c", 3407; spr_x(player_pos_x+17);
16574                        		__ld.wm		_player_pos_x
         02:D748  AD F7 24   			lda.l	_player_pos_x
         02:D74B  AC F8 24   			ldy.h	_player_pos_x
16575                        		__add.wi	17
         02:D74E  18         			clc
         02:D74F  69 11      			adc.l	#17
         02:D751  90 01      			bcc	!+
         02:D753  C8         			iny
         02:D754             	!:
16576                        		__call		_spr_x.1
         02:D754  20 1E E8   			call	_spr_x.1
16577                        	
16578                        		.dbg	line,	"include\routines_LEVELS.c", 3408; }
16579                        	
16580                        		.dbg	line,	"include\routines_LEVELS.c", 3410; else
16581                        		__bra		.LL847
         02:D757  80 0F      			bra	.LL847
16582    02:D759             	.LL846:
16583                        	
16584                        		.dbg	line,	"include\routines_LEVELS.c", 3411; {
16585                        	
16586                        		.dbg	line,	"include\routines_LEVELS.c", 3412; spr_x(player_pos_x-2);
16587                        		__ld.wm		_player_pos_x
         02:D759  AD F7 24   			lda.l	_player_pos_x
         02:D75C  AC F8 24   			ldy.h	_player_pos_x
16588                        		__sub.wi	2
         02:D75F  38         			sec
         02:D760  E9 02      			sbc.l	#2
         02:D762  B0 01      			bcs	!+
         02:D764  88         			dey
         02:D765             	!:
16589                        		__call		_spr_x.1
         02:D765  20 1E E8   			call	_spr_x.1
16590                        	
16591                        		.dbg	line,	"include\routines_LEVELS.c", 3413; }
16592    02:D768             	.LL847:
16593                        	
16594                        		.dbg	line,	"include\routines_LEVELS.c", 3415; player_attack = FALSE;
16595                        		__st.umiq	0, _player_attack
         02:D768  9C 21 23   			stz	_player_attack
16596                        	
16597                        		.dbg	line,	"include\routines_LEVELS.c", 3416; player_counter_attack = 0;
16598                        		__st.umiq	0, _player_counter_attack
         02:D76B  9C 1F 23   			stz	_player_counter_attack
16599                        	
16600                        		.dbg	line,	"include\routines_LEVELS.c", 3417; player_state = STATE_HANG;
16601                        		__st.umiq	10, _player_state
         02:D76E  A9 0A      			lda.l	#10
         02:D770  8D 19 23   			sta	_player_state
16602                        	
16603                        		.dbg	line,	"include\routines_LEVELS.c", 3418; }
16604                        	
16605                        		.dbg	line,	"include\routines_LEVELS.c", 3420; // CHAIN ANIMATION //
16606                        	
16607                        		.dbg	line,	"include\routines_LEVELS.c", 3421; if(chain_unfold == TRUE)
16608    02:D773             	.LL845:
16609    02:D773             	.LL844:
16610                        		__ld.umq	_chain_unfold
         02:D773  AD 2A 23   			lda	_chain_unfold
16611                        		__equ_b.uiq	1
         02:D776  C9 01      			cmp	#1
         02:D778  F0 01      			beq	!+
         02:D77A  18         			clc
         02:D77B             	!:
16612                        		__bfalse	.LL848
         02:D77B  B0 03 4C 3F			bcc	.LL848
         02:D77F  D9          
16613                        	
16614                        		.dbg	line,	"include\routines_LEVELS.c", 3422; {
16615                        	
16616                        		.dbg	line,	"include\routines_LEVELS.c", 3423; if(player_counter_attack == 6)
16617                        		__ld.umq	_player_counter_attack
         02:D780  AD 1F 23   			lda	_player_counter_attack
16618                        		__equ_b.uiq	6
         02:D783  C9 06      			cmp	#6
         02:D785  F0 01      			beq	!+
         02:D787  18         			clc
         02:D788             	!:
16619                        		__bfalse	.LL849
         02:D788  90 57      			bcc	.LL849
16620                        	
16621                        		.dbg	line,	"include\routines_LEVELS.c", 3424; {
16622                        	
16623                        		.dbg	line,	"include\routines_LEVELS.c", 3425; spr_set(player_id);
16624                        		__ld.umq	_player_id
         02:D78A  AD 18 23   			lda	_player_id
16625                        		__call		_spr_set.1
         02:D78D  20 F1 E7   			call	_spr_set.1
16626                        	
16627                        		.dbg	line,	"include\routines_LEVELS.c", 3426; spr_pattern(PLAYER_HANG_ATTACK_2_VRAM_ADR);
16628                        		__ld.wi		12288
         02:D790  62         			cla
         02:D791  A0 30      			ldy.h	#12288
16629                        		__call		_spr_pattern.1
         02:D793  20 3A E8   			call	_spr_pattern.1
16630                        	
16631                        		.dbg	line,	"include\routines_LEVELS.c", 3428; spr_set(weapon_id);
16632                        		__ld.umq	_weapon_id
         02:D796  AD 27 23   			lda	_weapon_id
16633                        		__call		_spr_set.1
         02:D799  20 F1 E7   			call	_spr_set.1
16634                        	
16635                        		.dbg	line,	"include\routines_LEVELS.c", 3429; spr_pattern(WEAPON_ATTACK_2_VRAM_ADRESS);
16636                        		__ld.wi		32064
         02:D79C  A9 40      			lda.l	#32064
         02:D79E  A0 7D      			ldy.h	#32064
16637                        		__call		_spr_pattern.1
         02:D7A0  20 3A E8   			call	_spr_pattern.1
16638                        	
16639                        		.dbg	line,	"include\routines_LEVELS.c", 3431; if(player_axis == AXIS_RIGHT)
16640                        		__not.um	_player_axis
         02:D7A3  AD 1A 23   			lda	_player_axis
         02:D7A6  18         			clc
         02:D7A7  D0 01      			bne	!+
         02:D7A9  38         			sec
         02:D7AA             	!:
16641                        		__bfalse	.LL850
         02:D7AA  90 11      			bcc	.LL850
16642                        	
16643                        		.dbg	line,	"include\routines_LEVELS.c", 3432; {
16644                        	
16645                        		.dbg	line,	"include\routines_LEVELS.c", 3433; spr_x(player_pos_x+32);
16646                        		__ld.wm		_player_pos_x
         02:D7AC  AD F7 24   			lda.l	_player_pos_x
         02:D7AF  AC F8 24   			ldy.h	_player_pos_x
16647                        		__add.wi	32
         02:D7B2  18         			clc
         02:D7B3  69 20      			adc.l	#32
         02:D7B5  90 01      			bcc	!+
         02:D7B7  C8         			iny
         02:D7B8             	!:
16648                        		__call		_spr_x.1
         02:D7B8  20 1E E8   			call	_spr_x.1
16649                        	
16650                        		.dbg	line,	"include\routines_LEVELS.c", 3434; 
16651                        	
16652                        		.dbg	line,	"include\routines_LEVELS.c", 3435; }
16653                        	
16654                        		.dbg	line,	"include\routines_LEVELS.c", 3436; 
16655                        	
16656                        		.dbg	line,	"include\routines_LEVELS.c", 3437; else
16657                        		__bra		.LL851
         02:D7BB  80 0F      			bra	.LL851
16658    02:D7BD             	.LL850:
16659                        	
16660                        		.dbg	line,	"include\routines_LEVELS.c", 3438; {
16661                        	
16662                        		.dbg	line,	"include\routines_LEVELS.c", 3439; spr_x(player_pos_x-16);
16663                        		__ld.wm		_player_pos_x
         02:D7BD  AD F7 24   			lda.l	_player_pos_x
         02:D7C0  AC F8 24   			ldy.h	_player_pos_x
16664                        		__sub.wi	16
         02:D7C3  38         			sec
         02:D7C4  E9 10      			sbc.l	#16
         02:D7C6  B0 01      			bcs	!+
         02:D7C8  88         			dey
         02:D7C9             	!:
16665                        		__call		_spr_x.1
         02:D7C9  20 1E E8   			call	_spr_x.1
16666                        	
16667                        		.dbg	line,	"include\routines_LEVELS.c", 3440; }
16668    02:D7CC             	.LL851:
16669                        	
16670                        		.dbg	line,	"include\routines_LEVELS.c", 3442; spr_y(player_pos_y+6);
16671                        		__ld.wm		_player_pos_y
         02:D7CC  AD F9 24   			lda.l	_player_pos_y
         02:D7CF  AC FA 24   			ldy.h	_player_pos_y
16672                        		__add.wi	6
         02:D7D2  18         			clc
         02:D7D3  69 06      			adc.l	#6
         02:D7D5  90 01      			bcc	!+
         02:D7D7  C8         			iny
         02:D7D8             	!:
16673                        		__call		_spr_y.1
         02:D7D8  20 2D E8   			call	_spr_y.1
16674                        	
16675                        		.dbg	line,	"include\routines_LEVELS.c", 3444; collision_WEAPON_OBJECTS();
16676                        		__call		_collision_WEAPON_OBJECTS
         02:D7DB  20 09 FF   			call	_collision_WEAPON_OBJECTS
16677                        	
16678                        		.dbg	line,	"include\routines_LEVELS.c", 3445; }
16679                        	
16680                        		.dbg	line,	"include\routines_LEVELS.c", 3447; else if(player_counter_attack == 7)
16681                        		__bra		.LL852
         02:D7DE  4C 3F D9   			bra	.LL852
16682    02:D7E1             	.LL849:
16683                        		__ld.umq	_player_counter_attack
         02:D7E1  AD 1F 23   			lda	_player_counter_attack
16684                        		__equ_b.uiq	7
         02:D7E4  C9 07      			cmp	#7
         02:D7E6  F0 01      			beq	!+
         02:D7E8  18         			clc
         02:D7E9             	!:
16685                        		__bfalse	.LL853
         02:D7E9  90 68      			bcc	.LL853
16686                        	
16687                        		.dbg	line,	"include\routines_LEVELS.c", 3448; {
16688                        	
16689                        		.dbg	line,	"include\routines_LEVELS.c", 3449; spr_set(chain_id);
16690                        		__ld.umq	_chain_id
         02:D7EB  AD 26 23   			lda	_chain_id
16691                        		__call		_spr_set.1
         02:D7EE  20 F1 E7   			call	_spr_set.1
16692                        	
16693                        		.dbg	line,	"include\routines_LEVELS.c", 3450; spr_y(player_pos_y);
16694                        		__ld.wm		_player_pos_y
         02:D7F1  AD F9 24   			lda.l	_player_pos_y
         02:D7F4  AC FA 24   			ldy.h	_player_pos_y
16695                        		__call		_spr_y.1
         02:D7F7  20 2D E8   			call	_spr_y.1
16696                        	
16697                        		.dbg	line,	"include\routines_LEVELS.c", 3452; if(player_axis == AXIS_RIGHT)
16698                        		__not.um	_player_axis
         02:D7FA  AD 1A 23   			lda	_player_axis
         02:D7FD  18         			clc
         02:D7FE  D0 01      			bne	!+
         02:D800  38         			sec
         02:D801             	!:
16699                        		__bfalse	.LL854
         02:D801  90 26      			bcc	.LL854
16700                        	
16701                        		.dbg	line,	"include\routines_LEVELS.c", 3453; {
16702                        	
16703                        		.dbg	line,	"include\routines_LEVELS.c", 3454; spr_x(player_pos_x+32);
16704                        		__ld.wm		_player_pos_x
         02:D803  AD F7 24   			lda.l	_player_pos_x
         02:D806  AC F8 24   			ldy.h	_player_pos_x
16705                        		__add.wi	32
         02:D809  18         			clc
         02:D80A  69 20      			adc.l	#32
         02:D80C  90 01      			bcc	!+
         02:D80E  C8         			iny
         02:D80F             	!:
16706                        		__call		_spr_x.1
         02:D80F  20 1E E8   			call	_spr_x.1
16707                        	
16708                        		.dbg	line,	"include\routines_LEVELS.c", 3456; spr_set(weapon_id);
16709                        		__ld.umq	_weapon_id
         02:D812  AD 27 23   			lda	_weapon_id
16710                        		__call		_spr_set.1
         02:D815  20 F1 E7   			call	_spr_set.1
16711                        	
16712                        		.dbg	line,	"include\routines_LEVELS.c", 3457; spr_x(player_pos_x+48);
16713                        		__ld.wm		_player_pos_x
         02:D818  AD F7 24   			lda.l	_player_pos_x
         02:D81B  AC F8 24   			ldy.h	_player_pos_x
16714                        		__add.wi	48
         02:D81E  18         			clc
         02:D81F  69 30      			adc.l	#48
         02:D821  90 01      			bcc	!+
         02:D823  C8         			iny
         02:D824             	!:
16715                        		__call		_spr_x.1
         02:D824  20 1E E8   			call	_spr_x.1
16716                        	
16717                        		.dbg	line,	"include\routines_LEVELS.c", 3458; }
16718                        	
16719                        		.dbg	line,	"include\routines_LEVELS.c", 3459; 
16720                        	
16721                        		.dbg	line,	"include\routines_LEVELS.c", 3460; else
16722                        		__bra		.LL855
         02:D827  80 24      			bra	.LL855
16723    02:D829             	.LL854:
16724                        	
16725                        		.dbg	line,	"include\routines_LEVELS.c", 3461; {
16726                        	
16727                        		.dbg	line,	"include\routines_LEVELS.c", 3462; spr_x(player_pos_x-16);
16728                        		__ld.wm		_player_pos_x
         02:D829  AD F7 24   			lda.l	_player_pos_x
         02:D82C  AC F8 24   			ldy.h	_player_pos_x
16729                        		__sub.wi	16
         02:D82F  38         			sec
         02:D830  E9 10      			sbc.l	#16
         02:D832  B0 01      			bcs	!+
         02:D834  88         			dey
         02:D835             	!:
16730                        		__call		_spr_x.1
         02:D835  20 1E E8   			call	_spr_x.1
16731                        	
16732                        		.dbg	line,	"include\routines_LEVELS.c", 3464; spr_set(weapon_id);
16733                        		__ld.umq	_weapon_id
         02:D838  AD 27 23   			lda	_weapon_id
16734                        		__call		_spr_set.1
         02:D83B  20 F1 E7   			call	_spr_set.1
16735                        	
16736                        		.dbg	line,	"include\routines_LEVELS.c", 3465; spr_x(player_pos_x-32);
16737                        		__ld.wm		_player_pos_x
         02:D83E  AD F7 24   			lda.l	_player_pos_x
         02:D841  AC F8 24   			ldy.h	_player_pos_x
16738                        		__sub.wi	32
         02:D844  38         			sec
         02:D845  E9 20      			sbc.l	#32
         02:D847  B0 01      			bcs	!+
         02:D849  88         			dey
         02:D84A             	!:
16739                        		__call		_spr_x.1
         02:D84A  20 1E E8   			call	_spr_x.1
16740                        	
16741                        		.dbg	line,	"include\routines_LEVELS.c", 3466; }
16742    02:D84D             	.LL855:
16743                        	
16744                        		.dbg	line,	"include\routines_LEVELS.c", 3468; collision_WEAPON_OBJECTS();
16745                        		__call		_collision_WEAPON_OBJECTS
         02:D84D  20 09 FF   			call	_collision_WEAPON_OBJECTS
16746                        	
16747                        		.dbg	line,	"include\routines_LEVELS.c", 3469; }
16748                        	
16749                        		.dbg	line,	"include\routines_LEVELS.c", 3471; else if(player_counter_attack == 8)
16750                        		__bra		.LL856
         02:D850  4C 3F D9   			bra	.LL856
16751    02:D853             	.LL853:
16752                        		__ld.umq	_player_counter_attack
         02:D853  AD 1F 23   			lda	_player_counter_attack
16753                        		__equ_b.uiq	8
         02:D856  C9 08      			cmp	#8
         02:D858  F0 01      			beq	!+
         02:D85A  18         			clc
         02:D85B             	!:
16754                        		__bfalse	.LL857
         02:D85B  90 6C      			bcc	.LL857
16755                        	
16756                        		.dbg	line,	"include\routines_LEVELS.c", 3472; {
16757                        	
16758                        		.dbg	line,	"include\routines_LEVELS.c", 3473; spr_set(chain_id+1);
16759                        		__ld.um		_chain_id
         02:D85D  AD 26 23   			lda	_chain_id
         02:D860  C2         			cly
16760                        		__add.wi	1
         02:D861  1A         			inc	a
         02:D862  D0 01      			bne	!+
         02:D864  C8         			iny
         02:D865             	!:
16761                        		__call		_spr_set.1
         02:D865  20 F1 E7   			call	_spr_set.1
16762                        	
16763                        		.dbg	line,	"include\routines_LEVELS.c", 3474; spr_y(player_pos_y);
16764                        		__ld.wm		_player_pos_y
         02:D868  AD F9 24   			lda.l	_player_pos_y
         02:D86B  AC FA 24   			ldy.h	_player_pos_y
16765                        		__call		_spr_y.1
         02:D86E  20 2D E8   			call	_spr_y.1
16766                        	
16767                        		.dbg	line,	"include\routines_LEVELS.c", 3476; if(player_axis == AXIS_RIGHT)
16768                        		__not.um	_player_axis
         02:D871  AD 1A 23   			lda	_player_axis
         02:D874  18         			clc
         02:D875  D0 01      			bne	!+
         02:D877  38         			sec
         02:D878             	!:
16769                        		__bfalse	.LL858
         02:D878  90 26      			bcc	.LL858
16770                        	
16771                        		.dbg	line,	"include\routines_LEVELS.c", 3477; {
16772                        	
16773                        		.dbg	line,	"include\routines_LEVELS.c", 3478; spr_x(player_pos_x+48);
16774                        		__ld.wm		_player_pos_x
         02:D87A  AD F7 24   			lda.l	_player_pos_x
         02:D87D  AC F8 24   			ldy.h	_player_pos_x
16775                        		__add.wi	48
         02:D880  18         			clc
         02:D881  69 30      			adc.l	#48
         02:D883  90 01      			bcc	!+
         02:D885  C8         			iny
         02:D886             	!:
16776                        		__call		_spr_x.1
         02:D886  20 1E E8   			call	_spr_x.1
16777                        	
16778                        		.dbg	line,	"include\routines_LEVELS.c", 3480; spr_set(weapon_id);
16779                        		__ld.umq	_weapon_id
         02:D889  AD 27 23   			lda	_weapon_id
16780                        		__call		_spr_set.1
         02:D88C  20 F1 E7   			call	_spr_set.1
16781                        	
16782                        		.dbg	line,	"include\routines_LEVELS.c", 3481; spr_x(player_pos_x+64);
16783                        		__ld.wm		_player_pos_x
         02:D88F  AD F7 24   			lda.l	_player_pos_x
         02:D892  AC F8 24   			ldy.h	_player_pos_x
16784                        		__add.wi	64
         02:D895  18         			clc
         02:D896  69 40      			adc.l	#64
         02:D898  90 01      			bcc	!+
         02:D89A  C8         			iny
         02:D89B             	!:
16785                        		__call		_spr_x.1
         02:D89B  20 1E E8   			call	_spr_x.1
16786                        	
16787                        		.dbg	line,	"include\routines_LEVELS.c", 3482; }
16788                        	
16789                        		.dbg	line,	"include\routines_LEVELS.c", 3483; 
16790                        	
16791                        		.dbg	line,	"include\routines_LEVELS.c", 3484; else
16792                        		__bra		.LL859
         02:D89E  80 24      			bra	.LL859
16793    02:D8A0             	.LL858:
16794                        	
16795                        		.dbg	line,	"include\routines_LEVELS.c", 3485; {
16796                        	
16797                        		.dbg	line,	"include\routines_LEVELS.c", 3486; spr_x(player_pos_x-32);
16798                        		__ld.wm		_player_pos_x
         02:D8A0  AD F7 24   			lda.l	_player_pos_x
         02:D8A3  AC F8 24   			ldy.h	_player_pos_x
16799                        		__sub.wi	32
         02:D8A6  38         			sec
         02:D8A7  E9 20      			sbc.l	#32
         02:D8A9  B0 01      			bcs	!+
         02:D8AB  88         			dey
         02:D8AC             	!:
16800                        		__call		_spr_x.1
         02:D8AC  20 1E E8   			call	_spr_x.1
16801                        	
16802                        		.dbg	line,	"include\routines_LEVELS.c", 3488; spr_set(weapon_id);
16803                        		__ld.umq	_weapon_id
         02:D8AF  AD 27 23   			lda	_weapon_id
16804                        		__call		_spr_set.1
         02:D8B2  20 F1 E7   			call	_spr_set.1
16805                        	
16806                        		.dbg	line,	"include\routines_LEVELS.c", 3489; spr_x(player_pos_x-48);
16807                        		__ld.wm		_player_pos_x
         02:D8B5  AD F7 24   			lda.l	_player_pos_x
         02:D8B8  AC F8 24   			ldy.h	_player_pos_x
16808                        		__sub.wi	48
         02:D8BB  38         			sec
         02:D8BC  E9 30      			sbc.l	#48
         02:D8BE  B0 01      			bcs	!+
         02:D8C0  88         			dey
         02:D8C1             	!:
16809                        		__call		_spr_x.1
         02:D8C1  20 1E E8   			call	_spr_x.1
16810                        	
16811                        		.dbg	line,	"include\routines_LEVELS.c", 3490; }
16812    02:D8C4             	.LL859:
16813                        	
16814                        		.dbg	line,	"include\routines_LEVELS.c", 3492; collision_WEAPON_OBJECTS();
16815                        		__call		_collision_WEAPON_OBJECTS
         02:D8C4  20 09 FF   			call	_collision_WEAPON_OBJECTS
16816                        	
16817                        		.dbg	line,	"include\routines_LEVELS.c", 3493; }
16818                        	
16819                        		.dbg	line,	"include\routines_LEVELS.c", 3495; else if(player_counter_attack == 9)
16820                        		__bra		.LL860
         02:D8C7  80 76      			bra	.LL860
16821    02:D8C9             	.LL857:
16822                        		__ld.umq	_player_counter_attack
         02:D8C9  AD 1F 23   			lda	_player_counter_attack
16823                        		__equ_b.uiq	9
         02:D8CC  C9 09      			cmp	#9
         02:D8CE  F0 01      			beq	!+
         02:D8D0  18         			clc
         02:D8D1             	!:
16824                        		__bfalse	.LL861
         02:D8D1  90 6C      			bcc	.LL861
16825                        	
16826                        		.dbg	line,	"include\routines_LEVELS.c", 3496; {
16827                        	
16828                        		.dbg	line,	"include\routines_LEVELS.c", 3497; spr_set(chain_id+2);
16829                        		__ld.um		_chain_id
         02:D8D3  AD 26 23   			lda	_chain_id
         02:D8D6  C2         			cly
16830                        		__add.wi	2
         02:D8D7  18         			clc
         02:D8D8  69 02      			adc.l	#2
         02:D8DA  90 01      			bcc	!+
         02:D8DC  C8         			iny
         02:D8DD             	!:
16831                        		__call		_spr_set.1
         02:D8DD  20 F1 E7   			call	_spr_set.1
16832                        	
16833                        		.dbg	line,	"include\routines_LEVELS.c", 3498; spr_y(player_pos_y);
16834                        		__ld.wm		_player_pos_y
         02:D8E0  AD F9 24   			lda.l	_player_pos_y
         02:D8E3  AC FA 24   			ldy.h	_player_pos_y
16835                        		__call		_spr_y.1
         02:D8E6  20 2D E8   			call	_spr_y.1
16836                        	
16837                        		.dbg	line,	"include\routines_LEVELS.c", 3500; if(player_axis == AXIS_RIGHT)
16838                        		__not.um	_player_axis
         02:D8E9  AD 1A 23   			lda	_player_axis
         02:D8EC  18         			clc
         02:D8ED  D0 01      			bne	!+
         02:D8EF  38         			sec
         02:D8F0             	!:
16839                        		__bfalse	.LL862
         02:D8F0  90 26      			bcc	.LL862
16840                        	
16841                        		.dbg	line,	"include\routines_LEVELS.c", 3501; {
16842                        	
16843                        		.dbg	line,	"include\routines_LEVELS.c", 3502; spr_x(player_pos_x+64);
16844                        		__ld.wm		_player_pos_x
         02:D8F2  AD F7 24   			lda.l	_player_pos_x
         02:D8F5  AC F8 24   			ldy.h	_player_pos_x
16845                        		__add.wi	64
         02:D8F8  18         			clc
         02:D8F9  69 40      			adc.l	#64
         02:D8FB  90 01      			bcc	!+
         02:D8FD  C8         			iny
         02:D8FE             	!:
16846                        		__call		_spr_x.1
         02:D8FE  20 1E E8   			call	_spr_x.1
16847                        	
16848                        		.dbg	line,	"include\routines_LEVELS.c", 3504; spr_set(weapon_id);
16849                        		__ld.umq	_weapon_id
         02:D901  AD 27 23   			lda	_weapon_id
16850                        		__call		_spr_set.1
         02:D904  20 F1 E7   			call	_spr_set.1
16851                        	
16852                        		.dbg	line,	"include\routines_LEVELS.c", 3505; spr_x(player_pos_x+80);
16853                        		__ld.wm		_player_pos_x
         02:D907  AD F7 24   			lda.l	_player_pos_x
         02:D90A  AC F8 24   			ldy.h	_player_pos_x
16854                        		__add.wi	80
         02:D90D  18         			clc
         02:D90E  69 50      			adc.l	#80
         02:D910  90 01      			bcc	!+
         02:D912  C8         			iny
         02:D913             	!:
16855                        		__call		_spr_x.1
         02:D913  20 1E E8   			call	_spr_x.1
16856                        	
16857                        		.dbg	line,	"include\routines_LEVELS.c", 3506; }
16858                        	
16859                        		.dbg	line,	"include\routines_LEVELS.c", 3507; 
16860                        	
16861                        		.dbg	line,	"include\routines_LEVELS.c", 3508; else
16862                        		__bra		.LL863
         02:D916  80 24      			bra	.LL863
16863    02:D918             	.LL862:
16864                        	
16865                        		.dbg	line,	"include\routines_LEVELS.c", 3509; {
16866                        	
16867                        		.dbg	line,	"include\routines_LEVELS.c", 3510; spr_x(player_pos_x-48);
16868                        		__ld.wm		_player_pos_x
         02:D918  AD F7 24   			lda.l	_player_pos_x
         02:D91B  AC F8 24   			ldy.h	_player_pos_x
16869                        		__sub.wi	48
         02:D91E  38         			sec
         02:D91F  E9 30      			sbc.l	#48
         02:D921  B0 01      			bcs	!+
         02:D923  88         			dey
         02:D924             	!:
16870                        		__call		_spr_x.1
         02:D924  20 1E E8   			call	_spr_x.1
16871                        	
16872                        		.dbg	line,	"include\routines_LEVELS.c", 3512; spr_set(weapon_id);
16873                        		__ld.umq	_weapon_id
         02:D927  AD 27 23   			lda	_weapon_id
16874                        		__call		_spr_set.1
         02:D92A  20 F1 E7   			call	_spr_set.1
16875                        	
16876                        		.dbg	line,	"include\routines_LEVELS.c", 3513; spr_x(player_pos_x-64);
16877                        		__ld.wm		_player_pos_x
         02:D92D  AD F7 24   			lda.l	_player_pos_x
         02:D930  AC F8 24   			ldy.h	_player_pos_x
16878                        		__sub.wi	64
         02:D933  38         			sec
         02:D934  E9 40      			sbc.l	#64
         02:D936  B0 01      			bcs	!+
         02:D938  88         			dey
         02:D939             	!:
16879                        		__call		_spr_x.1
         02:D939  20 1E E8   			call	_spr_x.1
16880                        	
16881                        		.dbg	line,	"include\routines_LEVELS.c", 3514; }
16882    02:D93C             	.LL863:
16883                        	
16884                        		.dbg	line,	"include\routines_LEVELS.c", 3516; collision_WEAPON_OBJECTS();
16885                        		__call		_collision_WEAPON_OBJECTS
         02:D93C  20 09 FF   			call	_collision_WEAPON_OBJECTS
16886                        	
16887                        		.dbg	line,	"include\routines_LEVELS.c", 3517; }
16888                        	
16889                        		.dbg	line,	"include\routines_LEVELS.c", 3518; }
16890    02:D93F             	.LL861:
16891    02:D93F             	.LL860:
16892    02:D93F             	.LL856:
16893    02:D93F             	.LL852:
16894                        	
16895                        		.dbg	line,	"include\routines_LEVELS.c", 3521; player_counter_attack += 1;
16896    02:D93F             	.LL848:
16897                        		__add_st.umiq	1, _player_counter_attack
         02:D93F  EE 1F 23   			inc	_player_counter_attack
16898                        	
16899                        		.dbg	line,	"include\routines_LEVELS.c", 3522; } 
16900                        	
16901                        		.dbg	line,	"include\routines_LEVELS.c", 3523; }
16902    02:D942             	.LL840:
16903                        	
16904                        		.dbg	line,	"include\routines_LEVELS.c", 3524; }
16905    02:D942             	.LL839:
16906    02:D942             	.LL838:
16907    02:D942             	.LL809:
16908    02:D942             	.LL782:
16909                        		__return	0
         02:D942  4C EF FF   			jmp	leave_proc
16910                        		.dbg	clear
16911                        		.endp
16912               230D     		.bss
16913    F8:230D             			ds	2
16914    F8:230F             	__update_WEAPON_end:
16915               E31D     		.code
16916                        		.pceas
16917                        	
16918                        		.dbg	line,	"main.c", 28; #include "include/routines_SHOP.c"
16919                        		.dbg	line,	"include\routines_SHOP.c", 1; #include "huc.h"
16920                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
16921                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
16922                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
16923                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
16924                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
16925                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
16926                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
16927                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
16928                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
16929                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
16930                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
16931                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
16932                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
16933                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
16934                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
16935                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
16936                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
16937                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
16938                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
16939                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
16940                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
16941                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
16942                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
16943                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
16944                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
16945                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
16946                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
16947                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
16948                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
16949                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
16950                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
16951                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
16952                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
16953                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
16954                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
16955                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
16956                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
16957                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
16958                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
16959                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
16960                        		.dbg	line,	"include\routines_SHOP.c", 2; #include "hucc-scroll.h"
16961                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
16962                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
16963                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
16964                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
16965                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
16966                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
16967                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
16968                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
16969                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
16970                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
16971                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
16972                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
16973                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
16974                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
16975                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
16976                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
16977                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
16978                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
16979                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
16980                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
16981                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
16982                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
16983                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
16984                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
16985                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
16986                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
16987                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
16988                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
16989                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
16990                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
16991                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
16992                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
16993                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
16994                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
16995                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
16996                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
16997                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
16998                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
16999                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
17000                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
17001                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
17002                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
17003                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
17004                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
17005                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
17006                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
17007                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
17008                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
17009                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
17010                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
17011                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
17012                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
17013                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
17014                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
17015                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
17016                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
17017                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
17018                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
17019                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
17020                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
17021                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
17022                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
17023                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
17024                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
17025                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
17026                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
17027                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
17028                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
17029                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
17030                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
17031                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
17032                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
17033                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
17034                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
17035                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
17036                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
17037                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
17038                        		.dbg	line,	"include\routines_SHOP.c", 3; #include "hucc-chrmap.h"
17039                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
17040                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
17041                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
17042                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
17043                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
17044                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
17045                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
17046                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
17047                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
17048                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
17049                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
17050                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
17051                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
17052                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
17053                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
17054                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
17055                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
17056                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
17057                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
17058                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
17059                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
17060                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
17061                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
17062                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
17063                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
17064                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
17065                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
17066                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
17067                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
17068                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
17069                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
17070                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
17071                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
17072                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
17073                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
17074                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
17075                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
17076                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
17077                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
17078                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
17079                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
17080                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
17081                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
17082                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
17083                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
17084                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
17085                        		.dbg	line,	"include\routines_SHOP.c", 4; #include "hucc-blkmap.h"
17086                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
17087                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
17088                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
17089                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
17090                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
17091                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
17092                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
17093                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
17094                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
17095                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
17096                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
17097                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
17098                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
17099                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
17100                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
17101                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
17102                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
17103                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
17104                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
17105                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
17106                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
17107                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
17108                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
17109                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
17110                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
17111                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
17112                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
17113                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
17114                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
17115                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
17116                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
17117                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
17118                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
17119                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
17120                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
17121                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
17122                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
17123                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
17124                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
17125                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
17126                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
17127                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
17128                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
17129                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
17130                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
17131                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
17132                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
17133                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
17134                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
17135                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
17136                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
17137                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
17138                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
17139                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
17140                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
17141                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
17142                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
17143                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
17144                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
17145                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
17146                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
17147                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
17148                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
17149                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
17150                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
17151                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
17152                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
17153                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
17154                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
17155                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
17156                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
17157                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
17158                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
17159                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
17160                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
17161                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
17162                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
17163                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
17164                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
17165                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
17166                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
17167                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
17168                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
17169                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
17170                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
17171                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
17172                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
17173                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
17174                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
17175                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
17176                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
17177                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
17178                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
17179                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
17180                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
17181                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
17182                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
17183                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
17184                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
17185                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
17186                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
17187                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
17188                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
17189                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
17190                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
17191                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
17192                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
17193                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
17194                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
17195                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
17196                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
17197                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
17198                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
17199                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
17200                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
17201                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
17202                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
17203                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
17204                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
17205                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
17206                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
17207                        		.dbg	line,	"include\routines_SHOP.c", 12; void display_TIME_SHOP()
17208                        		.dbg	line,	"include\routines_SHOP.c", 13; {
17209                        	;***********************
17210                        	;***********************
17211                        	
17212                        		.hucc
17213    1F:D499             		.proc		_display_TIME_SHOP
17214                        		__enter		_display_TIME_SHOP
17215                        	
17216                        		.dbg	line,	"include\routines_SHOP.c", 14; put_number(minutes,1,1,3);
17217                        		__ld.um		_minutes
         1F:D499  AD 32 23   			lda	_minutes
         1F:D49C  C2         			cly
17218                        		__st.wmq	_bx
         1F:D49D  85 FA      			sta.l	_bx
         1F:D49F  84 FB      			sty.h	_bx
17219                        		__st.umiq	1, _cl
         1F:D4A1  A9 01      			lda.l	#1
         1F:D4A3  85 FC      			sta	_cl
17220                        		__st.umiq	1, _dil
         1F:D4A5  A9 01      			lda.l	#1
         1F:D4A7  85 F0      			sta	_dil
17221                        		__st.umiq	3, _dih
         1F:D4A9  A9 03      			lda.l	#3
         1F:D4AB  85 F1      			sta	_dih
17222                        		__call		_put_number.4
         1F:D4AD  20 63 FF   			call	_put_number.4
17223                        	
17224                        		.dbg	line,	"include\routines_SHOP.c", 16; if(seconds < 10)
17225                        		__ld.umq	_seconds
         1F:D4B0  AD 33 23   			lda	_seconds
17226                        		__ult_b.uiq	10
         1F:D4B3  C9 0A      			cmp	#10		; Subtract integer from A.
         1F:D4B5  6A         			ror	a		; CC if A < integer.
         1F:D4B6  49 80      			eor	#$80
         1F:D4B8  2A         			rol	a
17227                        		__bfalse	.LL865
         1F:D4B9  90 2C      			bcc	.LL865
17228                        	
17229                        		.dbg	line,	"include\routines_SHOP.c", 17; {
17230                        	
17231                        		.dbg	line,	"include\routines_SHOP.c", 18; put_number(0,1,3,3);
17232                        		__st.wmiq	0, _bx
         1F:D4BB  64 FA      			stz.l	_bx
         1F:D4BD  64 FB      			stz.h	_bx
17233                        		__st.umiq	1, _cl
         1F:D4BF  A9 01      			lda.l	#1
         1F:D4C1  85 FC      			sta	_cl
17234                        		__st.umiq	3, _dil
         1F:D4C3  A9 03      			lda.l	#3
         1F:D4C5  85 F0      			sta	_dil
17235                        		__st.umiq	3, _dih
         1F:D4C7  A9 03      			lda.l	#3
         1F:D4C9  85 F1      			sta	_dih
17236                        		__call		_put_number.4
         1F:D4CB  20 63 FF   			call	_put_number.4
17237                        	
17238                        		.dbg	line,	"include\routines_SHOP.c", 19; put_number(seconds,1,4,3);
17239                        		__ld.um		_seconds
         1F:D4CE  AD 33 23   			lda	_seconds
         1F:D4D1  C2         			cly
17240                        		__st.wmq	_bx
         1F:D4D2  85 FA      			sta.l	_bx
         1F:D4D4  84 FB      			sty.h	_bx
17241                        		__st.umiq	1, _cl
         1F:D4D6  A9 01      			lda.l	#1
         1F:D4D8  85 FC      			sta	_cl
17242                        		__st.umiq	4, _dil
         1F:D4DA  A9 04      			lda.l	#4
         1F:D4DC  85 F0      			sta	_dil
17243                        		__st.umiq	3, _dih
         1F:D4DE  A9 03      			lda.l	#3
         1F:D4E0  85 F1      			sta	_dih
17244                        		__call		_put_number.4
         1F:D4E2  20 63 FF   			call	_put_number.4
17245                        	
17246                        		.dbg	line,	"include\routines_SHOP.c", 20; }
17247                        	
17248                        		.dbg	line,	"include\routines_SHOP.c", 22; else
17249                        		__bra		.LL866
         1F:D4E5  80 17      			bra	.LL866
17250    1F:D4E7             	.LL865:
17251                        	
17252                        		.dbg	line,	"include\routines_SHOP.c", 23; {
17253                        	
17254                        		.dbg	line,	"include\routines_SHOP.c", 24; put_number(seconds,2,3,3);
17255                        		__ld.um		_seconds
         1F:D4E7  AD 33 23   			lda	_seconds
         1F:D4EA  C2         			cly
17256                        		__st.wmq	_bx
         1F:D4EB  85 FA      			sta.l	_bx
         1F:D4ED  84 FB      			sty.h	_bx
17257                        		__st.umiq	2, _cl
         1F:D4EF  A9 02      			lda.l	#2
         1F:D4F1  85 FC      			sta	_cl
17258                        		__st.umiq	3, _dil
         1F:D4F3  A9 03      			lda.l	#3
         1F:D4F5  85 F0      			sta	_dil
17259                        		__st.umiq	3, _dih
         1F:D4F7  A9 03      			lda.l	#3
         1F:D4F9  85 F1      			sta	_dih
17260                        		__call		_put_number.4
         1F:D4FB  20 63 FF   			call	_put_number.4
17261                        	
17262                        		.dbg	line,	"include\routines_SHOP.c", 25; }
17263    1F:D4FE             	.LL866:
17264                        	
17265                        		.dbg	line,	"include\routines_SHOP.c", 27; time_counter += 1;
17266                        		__add_st.umiq	1, _time_counter
         1F:D4FE  EE 34 23   			inc	_time_counter
17267                        	
17268                        		.dbg	line,	"include\routines_SHOP.c", 29; if(time_counter == 60)
17269                        		__ld.umq	_time_counter
         1F:D501  AD 34 23   			lda	_time_counter
17270                        		__equ_b.uiq	60
         1F:D504  C9 3C      			cmp	#60
         1F:D506  F0 01      			beq	!+
         1F:D508  18         			clc
         1F:D509             	!:
17271                        		__bfalse	.LL867
         1F:D509  90 30      			bcc	.LL867
17272                        	
17273                        		.dbg	line,	"include\routines_SHOP.c", 30; {
17274                        	
17275                        		.dbg	line,	"include\routines_SHOP.c", 31; time_counter = 0;
17276                        		__st.umiq	0, _time_counter
         1F:D50B  9C 34 23   			stz	_time_counter
17277                        	
17278                        		.dbg	line,	"include\routines_SHOP.c", 33; if(seconds > 0)
17279                        		__ld.umq	_seconds
         1F:D50E  AD 33 23   			lda	_seconds
17280                        		__ugt_b.uiq	0
         1F:D511  18         			clc			; Subtract integer+1 from A.
         1F:D512  E9 00      			sbc	#0		; CS if A > integer.
17281                        		__bfalse	.LL868
         1F:D514  90 05      			bcc	.LL868
17282                        	
17283                        		.dbg	line,	"include\routines_SHOP.c", 34; {
17284                        	
17285                        		.dbg	line,	"include\routines_SHOP.c", 35; seconds -= 1;
17286                        		__sub_st.umiq	1, _seconds
         1F:D516  CE 33 23   			dec	_seconds
17287                        	
17288                        		.dbg	line,	"include\routines_SHOP.c", 36; }
17289                        	
17290                        		.dbg	line,	"include\routines_SHOP.c", 38; else
17291                        		__bra		.LL869
         1F:D519  80 20      			bra	.LL869
17292    1F:D51B             	.LL868:
17293                        	
17294                        		.dbg	line,	"include\routines_SHOP.c", 39; {
17295                        	
17296                        		.dbg	line,	"include\routines_SHOP.c", 40; if(minutes > 0)
17297                        		__ld.umq	_minutes
         1F:D51B  AD 32 23   			lda	_minutes
17298                        		__ugt_b.uiq	0
         1F:D51E  18         			clc			; Subtract integer+1 from A.
         1F:D51F  E9 00      			sbc	#0		; CS if A > integer.
17299                        		__bfalse	.LL870
         1F:D521  90 0A      			bcc	.LL870
17300                        	
17301                        		.dbg	line,	"include\routines_SHOP.c", 41; {
17302                        	
17303                        		.dbg	line,	"include\routines_SHOP.c", 42; seconds = 59;
17304                        		__st.umiq	59, _seconds
         1F:D523  A9 3B      			lda.l	#59
         1F:D525  8D 33 23   			sta	_seconds
17305                        	
17306                        		.dbg	line,	"include\routines_SHOP.c", 43; minutes -= 1;
17307                        		__sub_st.umiq	1, _minutes
         1F:D528  CE 32 23   			dec	_minutes
17308                        	
17309                        		.dbg	line,	"include\routines_SHOP.c", 44; }
17310                        	
17311                        		.dbg	line,	"include\routines_SHOP.c", 46; else
17312                        		__bra		.LL871
         1F:D52B  80 0E      			bra	.LL871
17313    1F:D52D             	.LL870:
17314                        	
17315                        		.dbg	line,	"include\routines_SHOP.c", 47; {
17316                        	
17317                        		.dbg	line,	"include\routines_SHOP.c", 48; seconds = 0;
17318                        		__st.umiq	0, _seconds
         1F:D52D  9C 33 23   			stz	_seconds
17319                        	
17320                        		.dbg	line,	"include\routines_SHOP.c", 49; minutes = 0;
17321                        		__st.umiq	0, _minutes
         1F:D530  9C 32 23   			stz	_minutes
17322                        	
17323                        		.dbg	line,	"include\routines_SHOP.c", 50; shop_counter = 0;    
17324                        		__st.umiq	0, _shop_counter
         1F:D533  9C F5 23   			stz	_shop_counter
17325                        	
17326                        		.dbg	line,	"include\routines_SHOP.c", 51; shop_phase = SHOP_PHASE_EXIT;
17327                        		__st.umiq	2, _shop_phase
         1F:D536  A9 02      			lda.l	#2
         1F:D538  8D F4 23   			sta	_shop_phase
17328                        	
17329                        		.dbg	line,	"include\routines_SHOP.c", 52; }
17330    1F:D53B             	.LL871:
17331                        	
17332                        		.dbg	line,	"include\routines_SHOP.c", 53; }
17333    1F:D53B             	.LL869:
17334                        	
17335                        		.dbg	line,	"include\routines_SHOP.c", 54; } 
17336                        	
17337                        		.dbg	line,	"include\routines_SHOP.c", 55; }
17338    1F:D53B             	.LL867:
17339    1F:D53B             	.LL864:
17340                        		__return	0
         1F:D53B  4C EF FF   			jmp	leave_proc
17341                        		.dbg	clear
17342                        		.endp
17343                        		.pceas
17344                        	
17345                        		.dbg	line,	"include\routines_SHOP.c", 59; void joypad_BUTTONS_SHOP()
17346                        		.dbg	line,	"include\routines_SHOP.c", 60; {
17347                        	;***********************
17348                        	;***********************
17349                        	
17350                        		.hucc
17351    1E:C86D             		.proc		_joypad_BUTTONS_SHOP
17352                        		__enter		_joypad_BUTTONS_SHOP
17353                        	
17354                        		.dbg	line,	"include\routines_SHOP.c", 61; if(joytrg(JOYPAD_1) & JOY_RIGHT)
17355                        		__ld.uiq	0
         1E:C86D  62         			cla
17356                        		 _joytrg.1
         1E:C86E  AA         			tax
         1E:C86F  BD 2D 22   			lda	joytrg, x
         1E:C872  BC DD 22   			ldy	joy6trg, x
17357                        		__tand.wi	32
         1E:C875  29 20      			and	#32
         1E:C877  C9 01      	!:		cmp	#1
17358                        		__bfalse	.LL873
         1E:C879  90 59      			bcc	.LL873
17359                        	
17360                        		.dbg	line,	"include\routines_SHOP.c", 62; {   
17361                        	
17362                        		.dbg	line,	"include\routines_SHOP.c", 63; char max_index;
17363                        	
17364                        		.dbg	line,	"include\routines_SHOP.c", 64; 
17365                        	
17366                        		.dbg	line,	"include\routines_SHOP.c", 65; if(index_y == 0)
17367                        		__not.um	_index_y
         1E:C87B  AD F2 23   			lda	_index_y
         1E:C87E  18         			clc
         1E:C87F  D0 01      			bne	!+
         1E:C881  38         			sec
         1E:C882             	!:
17368                        		__bfalse	.LL874
         1E:C882  90 07      			bcc	.LL874
17369                        	
17370                        		.dbg	line,	"include\routines_SHOP.c", 66; {
17371                        	
17372                        		.dbg	line,	"include\routines_SHOP.c", 67; max_index = 4;
17373                        		__st.umiq	4, __joypad_BUTTONS_SHOP_end - 1  /* max_index */
         1E:C884  A9 04      			lda.l	#4
         1E:C886  8D 0F 23   			sta	__joypad_BUTTONS_SHOP_end - 1
17374                        	
17375                        		.dbg	line,	"include\routines_SHOP.c", 68; }
17376                        	
17377                        		.dbg	line,	"include\routines_SHOP.c", 70; else
17378                        		__bra		.LL875
         1E:C889  80 05      			bra	.LL875
17379    1E:C88B             	.LL874:
17380                        	
17381                        		.dbg	line,	"include\routines_SHOP.c", 71; {
17382                        	
17383                        		.dbg	line,	"include\routines_SHOP.c", 72; max_index = 5;
17384                        		__st.umiq	5, __joypad_BUTTONS_SHOP_end - 1  /* max_index */
         1E:C88B  A9 05      			lda.l	#5
         1E:C88D  8D 0F 23   			sta	__joypad_BUTTONS_SHOP_end - 1
17385                        	
17386                        		.dbg	line,	"include\routines_SHOP.c", 73; }
17387    1E:C890             	.LL875:
17388                        	
17389                        		.dbg	line,	"include\routines_SHOP.c", 75; if(index_x < max_index)
17390                        		__ld.umq	_index_x
         1E:C890  AD F1 23   			lda	_index_x
17391                        		__ult_b.umq	__joypad_BUTTONS_SHOP_end - 1  /* max_index */
         1E:C893  CD 0F 23   			cmp	__joypad_BUTTONS_SHOP_end - 1		; Subtract memory from A.
         1E:C896  6A         			ror	a		; CC if A < memory.
         1E:C897  49 80      			eor	#$80
         1E:C899  2A         			rol	a
17392                        		__bfalse	.LL876
         1E:C89A  B0 03 4C EA			bcc	.LL876
         1E:C89E  CD          
17393                        	
17394                        		.dbg	line,	"include\routines_SHOP.c", 76; {
17395                        	
17396                        		.dbg	line,	"include\routines_SHOP.c", 77; index_x += 1;
17397                        		__add_st.umiq	1, _index_x
         1E:C89F  EE F1 23   			inc	_index_x
17398                        	
17399                        		.dbg	line,	"include\routines_SHOP.c", 78; item_index = (index_x + (index_y * 5));
17400                        		__ld.um		_index_y
         1E:C8A2  AD F2 23   			lda	_index_y
         1E:C8A5  C2         			cly
17401                        		__mul.wi	5
         1E:C8A6  85 00      			sta.l	__temp
         1E:C8A8  84 01      			sty.h	__temp
                             		__asl.wr
         1E:C8AA  0A         			asl	a
         1E:C8AB  42         			say
         1E:C8AC  2A         			rol	a
         1E:C8AD  42         			say
                             		__asl.wr
         1E:C8AE  0A         			asl	a
         1E:C8AF  42         			say
         1E:C8B0  2A         			rol	a
         1E:C8B1  42         			say
                             		__add.wm	__temp
         1E:C8B2  18         			clc
         1E:C8B3  65 00      			adc.l	__temp
         1E:C8B5  42         			say
         1E:C8B6  65 01      			adc.h	__temp
         1E:C8B8  42         			say
17402                        		__add.um	_index_x
         1E:C8B9  18         			clc
         1E:C8BA  6D F1 23   			adc	_index_x
         1E:C8BD  90 01      			bcc	!+
         1E:C8BF  C8         			iny
         1E:C8C0             	!:
17403                        		__st.umq	_item_index
         1E:C8C0  8D F3 23   			sta	_item_index
17404                        	
17405                        		.dbg	line,	"include\routines_SHOP.c", 80; spr_set(0);
17406                        		__ld.uiq	0
         1E:C8C3  62         			cla
17407                        		__call		_spr_set.1
         1E:C8C4  20 F1 E7   			call	_spr_set.1
17408                        	
17409                        		.dbg	line,	"include\routines_SHOP.c", 81; spr_x(TABLE_CURSOR_POS_X[item_index]);
17410                        		__ldx.umq	_item_index
         1E:C8C7  AE F3 23   			ldx	_item_index
17411                        		__ld.uax	_TABLE_CURSOR_POS_X
         1E:C8CA  BD 28 63   			lda	_TABLE_CURSOR_POS_X, x
         1E:C8CD  C2         			cly
17412                        		__call		_spr_x.1
         1E:C8CE  20 1E E8   			call	_spr_x.1
17413                        	
17414                        		.dbg	line,	"include\routines_SHOP.c", 82; }
17415                        	
17416                        		.dbg	line,	"include\routines_SHOP.c", 83; }
17417    1E:C8D1             	.LL876	.alias		.LL877
17418                        	
17419                        		.dbg	line,	"include\routines_SHOP.c", 85; 
17420                        	
17421                        		.dbg	line,	"include\routines_SHOP.c", 86; else if(joytrg(JOYPAD_1) & JOY_LEFT)
17422                        		__bra		.LL877
         1E:C8D1  4C EA CD   			bra	.LL877
17423    1E:C8D4             	.LL873:
17424                        		__ld.uiq	0
         1E:C8D4  62         			cla
17425                        		 _joytrg.1
         1E:C8D5  AA         			tax
         1E:C8D6  BD 2D 22   			lda	joytrg, x
         1E:C8D9  BC DD 22   			ldy	joy6trg, x
17426                        		__tand.wi	128
         1E:C8DC  29 80      			and	#128
         1E:C8DE  C9 01      	!:		cmp	#1
17427                        		__bfalse	.LL878
         1E:C8E0  90 40      			bcc	.LL878
17428                        	
17429                        		.dbg	line,	"include\routines_SHOP.c", 87; {
17430                        	
17431                        		.dbg	line,	"include\routines_SHOP.c", 88; if(index_x > 0)
17432                        		__ld.umq	_index_x
         1E:C8E2  AD F1 23   			lda	_index_x
17433                        		__ugt_b.uiq	0
         1E:C8E5  18         			clc			; Subtract integer+1 from A.
         1E:C8E6  E9 00      			sbc	#0		; CS if A > integer.
17434                        		__bfalse	.LL879
         1E:C8E8  B0 03 4C EA			bcc	.LL879
         1E:C8EC  CD          
17435                        	
17436                        		.dbg	line,	"include\routines_SHOP.c", 89; {
17437                        	
17438                        		.dbg	line,	"include\routines_SHOP.c", 90; index_x -= 1;
17439                        		__sub_st.umiq	1, _index_x
         1E:C8ED  CE F1 23   			dec	_index_x
17440                        	
17441                        		.dbg	line,	"include\routines_SHOP.c", 91; item_index = (index_x + (index_y * 5));
17442                        		__ld.um		_index_y
         1E:C8F0  AD F2 23   			lda	_index_y
         1E:C8F3  C2         			cly
17443                        		__mul.wi	5
         1E:C8F4  85 00      			sta.l	__temp
         1E:C8F6  84 01      			sty.h	__temp
                             		__asl.wr
         1E:C8F8  0A         			asl	a
         1E:C8F9  42         			say
         1E:C8FA  2A         			rol	a
         1E:C8FB  42         			say
                             		__asl.wr
         1E:C8FC  0A         			asl	a
         1E:C8FD  42         			say
         1E:C8FE  2A         			rol	a
         1E:C8FF  42         			say
                             		__add.wm	__temp
         1E:C900  18         			clc
         1E:C901  65 00      			adc.l	__temp
         1E:C903  42         			say
         1E:C904  65 01      			adc.h	__temp
         1E:C906  42         			say
17444                        		__add.um	_index_x
         1E:C907  18         			clc
         1E:C908  6D F1 23   			adc	_index_x
         1E:C90B  90 01      			bcc	!+
         1E:C90D  C8         			iny
         1E:C90E             	!:
17445                        		__st.umq	_item_index
         1E:C90E  8D F3 23   			sta	_item_index
17446                        	
17447                        		.dbg	line,	"include\routines_SHOP.c", 93; spr_set(0);
17448                        		__ld.uiq	0
         1E:C911  62         			cla
17449                        		__call		_spr_set.1
         1E:C912  20 F1 E7   			call	_spr_set.1
17450                        	
17451                        		.dbg	line,	"include\routines_SHOP.c", 94; spr_x(TABLE_CURSOR_POS_X[item_index]);
17452                        		__ldx.umq	_item_index
         1E:C915  AE F3 23   			ldx	_item_index
17453                        		__ld.uax	_TABLE_CURSOR_POS_X
         1E:C918  BD 28 63   			lda	_TABLE_CURSOR_POS_X, x
         1E:C91B  C2         			cly
17454                        		__call		_spr_x.1
         1E:C91C  20 1E E8   			call	_spr_x.1
17455                        	
17456                        		.dbg	line,	"include\routines_SHOP.c", 95; }
17457                        	
17458                        		.dbg	line,	"include\routines_SHOP.c", 96; }
17459    1E:C91F             	.LL879	.alias		.LL880
17460                        	
17461                        		.dbg	line,	"include\routines_SHOP.c", 99; else if(joytrg(JOYPAD_1) & JOY_UP)
17462                        		__bra		.LL880
         1E:C91F  4C EA CD   			bra	.LL880
17463    1E:C922             	.LL878:
17464                        		__ld.uiq	0
         1E:C922  62         			cla
17465                        		 _joytrg.1
         1E:C923  AA         			tax
         1E:C924  BD 2D 22   			lda	joytrg, x
         1E:C927  BC DD 22   			ldy	joy6trg, x
17466                        		__tand.wi	16
         1E:C92A  29 10      			and	#16
         1E:C92C  C9 01      	!:		cmp	#1
17467                        		__bfalse	.LL881
         1E:C92E  90 4A      			bcc	.LL881
17468                        	
17469                        		.dbg	line,	"include\routines_SHOP.c", 100; {
17470                        	
17471                        		.dbg	line,	"include\routines_SHOP.c", 101; if(index_y > 0)
17472                        		__ld.umq	_index_y
         1E:C930  AD F2 23   			lda	_index_y
17473                        		__ugt_b.uiq	0
         1E:C933  18         			clc			; Subtract integer+1 from A.
         1E:C934  E9 00      			sbc	#0		; CS if A > integer.
17474                        		__bfalse	.LL882
         1E:C936  B0 03 4C EA			bcc	.LL882
         1E:C93A  CD          
17475                        	
17476                        		.dbg	line,	"include\routines_SHOP.c", 102; {
17477                        	
17478                        		.dbg	line,	"include\routines_SHOP.c", 103; if(item_index != 10)
17479                        		__ld.umq	_item_index
         1E:C93B  AD F3 23   			lda	_item_index
17480                        		__neq_b.uiq	10
         1E:C93E  38         			sec
         1E:C93F  49 0A      			eor	#10
         1E:C941  D0 01      			bne	!+
         1E:C943  18         			clc
         1E:C944             	!:
17481                        		__bfalse	.LL883
         1E:C944  B0 03 4C EA			bcc	.LL883
         1E:C948  CD          
17482                        	
17483                        		.dbg	line,	"include\routines_SHOP.c", 104; {
17484                        	
17485                        		.dbg	line,	"include\routines_SHOP.c", 105; index_y -= 1;
17486                        		__sub_st.umiq	1, _index_y
         1E:C949  CE F2 23   			dec	_index_y
17487                        	
17488                        		.dbg	line,	"include\routines_SHOP.c", 106; item_index = (index_x + (index_y * 5));
17489                        		__ld.um		_index_y
         1E:C94C  AD F2 23   			lda	_index_y
         1E:C94F  C2         			cly
17490                        		__mul.wi	5
         1E:C950  85 00      			sta.l	__temp
         1E:C952  84 01      			sty.h	__temp
                             		__asl.wr
         1E:C954  0A         			asl	a
         1E:C955  42         			say
         1E:C956  2A         			rol	a
         1E:C957  42         			say
                             		__asl.wr
         1E:C958  0A         			asl	a
         1E:C959  42         			say
         1E:C95A  2A         			rol	a
         1E:C95B  42         			say
                             		__add.wm	__temp
         1E:C95C  18         			clc
         1E:C95D  65 00      			adc.l	__temp
         1E:C95F  42         			say
         1E:C960  65 01      			adc.h	__temp
         1E:C962  42         			say
17491                        		__add.um	_index_x
         1E:C963  18         			clc
         1E:C964  6D F1 23   			adc	_index_x
         1E:C967  90 01      			bcc	!+
         1E:C969  C8         			iny
         1E:C96A             	!:
17492                        		__st.umq	_item_index
         1E:C96A  8D F3 23   			sta	_item_index
17493                        	
17494                        		.dbg	line,	"include\routines_SHOP.c", 108; spr_set(0);
17495                        		__ld.uiq	0
         1E:C96D  62         			cla
17496                        		__call		_spr_set.1
         1E:C96E  20 F1 E7   			call	_spr_set.1
17497                        	
17498                        		.dbg	line,	"include\routines_SHOP.c", 109; spr_y(144);
17499                        		__ld.wi		144
         1E:C971  A9 90      			lda.l	#144
         1E:C973  C2         			cly
17500                        		__call		_spr_y.1
         1E:C974  20 2D E8   			call	_spr_y.1
17501                        	
17502                        		.dbg	line,	"include\routines_SHOP.c", 110; }
17503                        	
17504                        		.dbg	line,	"include\routines_SHOP.c", 111; }
17505    1E:C977             	.LL883	.alias		.LL884
17506                        	
17507                        		.dbg	line,	"include\routines_SHOP.c", 112; }
17508    1E:C977             	.LL882	.alias		.LL884
17509                        	
17510                        		.dbg	line,	"include\routines_SHOP.c", 115; else if(joytrg(JOYPAD_1) & JOY_DOWN)
17511                        		__bra		.LL884
         1E:C977  4C EA CD   			bra	.LL884
17512    1E:C97A             	.LL881:
17513                        		__ld.uiq	0
         1E:C97A  62         			cla
17514                        		 _joytrg.1
         1E:C97B  AA         			tax
         1E:C97C  BD 2D 22   			lda	joytrg, x
         1E:C97F  BC DD 22   			ldy	joy6trg, x
17515                        		__tand.wi	64
         1E:C982  29 40      			and	#64
         1E:C984  C9 01      	!:		cmp	#1
17516                        		__bfalse	.LL885
         1E:C986  90 3F      			bcc	.LL885
17517                        	
17518                        		.dbg	line,	"include\routines_SHOP.c", 116; {
17519                        	
17520                        		.dbg	line,	"include\routines_SHOP.c", 117; if(index_y < 1)
17521                        		__ld.umq	_index_y
         1E:C988  AD F2 23   			lda	_index_y
17522                        		__ult_b.uiq	1
         1E:C98B  C9 01      			cmp	#1		; Subtract integer from A.
         1E:C98D  6A         			ror	a		; CC if A < integer.
         1E:C98E  49 80      			eor	#$80
         1E:C990  2A         			rol	a
17523                        		__bfalse	.LL886
         1E:C991  B0 03 4C EA			bcc	.LL886
         1E:C995  CD          
17524                        	
17525                        		.dbg	line,	"include\routines_SHOP.c", 118; {
17526                        	
17527                        		.dbg	line,	"include\routines_SHOP.c", 119; index_y += 1;
17528                        		__add_st.umiq	1, _index_y
         1E:C996  EE F2 23   			inc	_index_y
17529                        	
17530                        		.dbg	line,	"include\routines_SHOP.c", 120; item_index = (index_x + (index_y * 5));
17531                        		__ld.um		_index_y
         1E:C999  AD F2 23   			lda	_index_y
         1E:C99C  C2         			cly
17532                        		__mul.wi	5
         1E:C99D  85 00      			sta.l	__temp
         1E:C99F  84 01      			sty.h	__temp
                             		__asl.wr
         1E:C9A1  0A         			asl	a
         1E:C9A2  42         			say
         1E:C9A3  2A         			rol	a
         1E:C9A4  42         			say
                             		__asl.wr
         1E:C9A5  0A         			asl	a
         1E:C9A6  42         			say
         1E:C9A7  2A         			rol	a
         1E:C9A8  42         			say
                             		__add.wm	__temp
         1E:C9A9  18         			clc
         1E:C9AA  65 00      			adc.l	__temp
         1E:C9AC  42         			say
         1E:C9AD  65 01      			adc.h	__temp
         1E:C9AF  42         			say
17533                        		__add.um	_index_x
         1E:C9B0  18         			clc
         1E:C9B1  6D F1 23   			adc	_index_x
         1E:C9B4  90 01      			bcc	!+
         1E:C9B6  C8         			iny
         1E:C9B7             	!:
17534                        		__st.umq	_item_index
         1E:C9B7  8D F3 23   			sta	_item_index
17535                        	
17536                        		.dbg	line,	"include\routines_SHOP.c", 122; spr_set(0);
17537                        		__ld.uiq	0
         1E:C9BA  62         			cla
17538                        		__call		_spr_set.1
         1E:C9BB  20 F1 E7   			call	_spr_set.1
17539                        	
17540                        		.dbg	line,	"include\routines_SHOP.c", 123; spr_y(168);
17541                        		__ld.wi		168
         1E:C9BE  A9 A8      			lda.l	#168
         1E:C9C0  C2         			cly
17542                        		__call		_spr_y.1
         1E:C9C1  20 2D E8   			call	_spr_y.1
17543                        	
17544                        		.dbg	line,	"include\routines_SHOP.c", 124; }
17545                        	
17546                        		.dbg	line,	"include\routines_SHOP.c", 125; }
17547    1E:C9C4             	.LL886	.alias		.LL887
17548                        	
17549                        		.dbg	line,	"include\routines_SHOP.c", 128; else if(joytrg(JOYPAD_1) & JOY_I)
17550                        		__bra		.LL887
         1E:C9C4  4C EA CD   			bra	.LL887
17551    1E:C9C7             	.LL885:
17552                        		__ld.uiq	0
         1E:C9C7  62         			cla
17553                        		 _joytrg.1
         1E:C9C8  AA         			tax
         1E:C9C9  BD 2D 22   			lda	joytrg, x
         1E:C9CC  BC DD 22   			ldy	joy6trg, x
17554                        		__tand.wi	1
         1E:C9CF  29 01      			and	#1
         1E:C9D1  C9 01      	!:		cmp	#1
17555                        		__bfalse	.LL888
         1E:C9D3  B0 03 4C EA			bcc	.LL888
         1E:C9D7  CD          
17556                        	
17557                        		.dbg	line,	"include\routines_SHOP.c", 129; {
17558                        	
17559                        		.dbg	line,	"include\routines_SHOP.c", 130; switch(item_index)
17560                        		__ld.umq	_item_index
         1E:C9D8  AD F3 23   			lda	_item_index
17561                        		__bra		.LL889
         1E:C9DB  4C C7 CD   			bra	.LL889
17562                        	
17563                        		.dbg	line,	"include\routines_SHOP.c", 131; {
17564                        	
17565                        		.dbg	line,	"include\routines_SHOP.c", 132; // WEAPON 2 //
17566                        	
17567                        		.dbg	line,	"include\routines_SHOP.c", 133; case 0:
17568    1E:C9DE             	.LL891:
17569                        		__case		0
17570                        	
17571                        		.dbg	line,	"include\routines_SHOP.c", 134; if(zenny_amount >= shop_prices[0])
17572                        		__ld.wm		_zenny_amount
         1E:C9DE  AD 57 26   			lda.l	_zenny_amount
         1E:C9E1  AC 58 26   			ldy.h	_zenny_amount
17573                        		__sge_w.wm	_shop_prices
         1E:C9E4  CD 5B 26   			cmp.l	_shop_prices		; Subtract memory from Y:A.
         1E:C9E7  98         			tya
         1E:C9E8  ED 5C 26   			sbc.h	_shop_prices
         1E:C9EB  50 02      			bvc	!+
         1E:C9ED  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:C9EF  49 80      	!:		eor	#$80
         1E:C9F1  0A         			asl	a
17574                        		__bfalse	.LL892
         1E:C9F2  B0 03 4C EA			bcc	.LL892
         1E:C9F6  CD          
17575                        	
17576                        		.dbg	line,	"include\routines_SHOP.c", 135; {
17577                        	
17578                        		.dbg	line,	"include\routines_SHOP.c", 136; if(weapon_level < 1)
17579                        		__ld.umq	_weapon_level
         1E:C9F7  AD 29 23   			lda	_weapon_level
17580                        		__ult_b.uiq	1
         1E:C9FA  C9 01      			cmp	#1		; Subtract integer from A.
         1E:C9FC  6A         			ror	a		; CC if A < integer.
         1E:C9FD  49 80      			eor	#$80
         1E:C9FF  2A         			rol	a
17581                        		__bfalse	.LL893
         1E:CA00  B0 03 4C EA			bcc	.LL893
         1E:CA04  CD          
17582                        	
17583                        		.dbg	line,	"include\routines_SHOP.c", 137; {
17584                        	
17585                        		.dbg	line,	"include\routines_SHOP.c", 138; weapon_level = 1;
17586                        		__st.umiq	1, _weapon_level
         1E:CA05  A9 01      			lda.l	#1
         1E:CA07  8D 29 23   			sta	_weapon_level
17587                        	
17588                        		.dbg	line,	"include\routines_SHOP.c", 139; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_2, SIZEOF(tileset_WEAPON_2) >> 1 );
17589                        		__st.wmiq	4256, _di
         1E:CA0A  A9 A0      			lda.l	#4256
         1E:CA0C  85 F0      			sta.l	_di
         1E:CA0E  A9 10      			lda.h	#4256
         1E:CA10  85 F1      			sta.h	_di
17590                        		__farptr	_tileset_WEAPON_2, _bp_bank, _bp
         1E:CA12  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_2))
         1E:CA14  85 EC      			sta.l	_bp
         1E:CA16  A9 74      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_2))
         1E:CA18  85 ED      			sta.h	_bp
         1E:CA1A  A9 07      			lda	#bank(_tileset_WEAPON_2)
         1E:CA1C  85 02      			sta	_bp_bank
17591                        		__ld.wi		___sizeof__tileset_WEAPON_2
         1E:CA1E  A9 80      			lda.l	#___sizeof__tileset_WEAPON_2
         1E:CA20  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_2
17592                        		__lsr.wi	1
         1E:CA22  42         			say
         1E:CA23  4A         			lsr	a
         1E:CA24  42         			say
         1E:CA25  6A         			ror	a
17593                        		__st.wmq	_ax
         1E:CA26  85 F8      			sta.l	_ax
         1E:CA28  84 F9      			sty.h	_ax
17594                        		 _load_vram.3
         1E:CA2A  82         			clx				; Offset to PCE VDC.
         1E:CA2B  20 FF FE   			call	load_vram_x
17595                        	
17596                        		.dbg	line,	"include\routines_SHOP.c", 141; zenny_amount -= shop_prices[0];
17597                        		__ld.wm		_shop_prices
         1E:CA2E  AD 5B 26   			lda.l	_shop_prices
         1E:CA31  AC 5C 26   			ldy.h	_shop_prices
17598                        		__isub_st.wmq	_zenny_amount
         1E:CA34  38         			sec
         1E:CA35  49 FF      			eor	#$FF
         1E:CA37  6D 57 26   			adc.l	_zenny_amount
         1E:CA3A  8D 57 26   			sta.l	_zenny_amount
         1E:CA3D  98         			tya
         1E:CA3E  49 FF      			eor	#$FF
         1E:CA40  6D 58 26   			adc.h	_zenny_amount
         1E:CA43  8D 58 26   			sta.h	_zenny_amount
17599                        	
17600                        		.dbg	line,	"include\routines_SHOP.c", 142; display_ZENNY();
17601                        		__call		_display_ZENNY
         1E:CA46  20 31 FF   			call	_display_ZENNY
17602                        	
17603                        		.dbg	line,	"include\routines_SHOP.c", 143; }
17604                        	
17605                        		.dbg	line,	"include\routines_SHOP.c", 144; }
17606    1E:CA49             	.LL893	.alias		.LL890
17607                        	
17608                        		.dbg	line,	"include\routines_SHOP.c", 146; break;   
17609    1E:CA49             	.LL892	.alias		.LL890
17610                        		__bra		.LL890
         1E:CA49  4C EA CD   			bra	.LL890
17611                        	
17612                        		.dbg	line,	"include\routines_SHOP.c", 149; // WEAPON 4 //
17613                        	
17614                        		.dbg	line,	"include\routines_SHOP.c", 150; case 1:
17615    1E:CA4C             	.LL894:
17616                        		__case		1
17617                        	
17618                        		.dbg	line,	"include\routines_SHOP.c", 151; if(zenny_amount >= shop_prices[1])
17619                        		__ld.wm		_zenny_amount
         1E:CA4C  AD 57 26   			lda.l	_zenny_amount
         1E:CA4F  AC 58 26   			ldy.h	_zenny_amount
17620                        		__sge_w.wm	_shop_prices + 2
         1E:CA52  CD 5D 26   			cmp.l	_shop_prices + 2		; Subtract memory from Y:A.
         1E:CA55  98         			tya
         1E:CA56  ED 5E 26   			sbc.h	_shop_prices + 2
         1E:CA59  50 02      			bvc	!+
         1E:CA5B  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:CA5D  49 80      	!:		eor	#$80
         1E:CA5F  0A         			asl	a
17621                        		__bfalse	.LL895
         1E:CA60  B0 03 4C EA			bcc	.LL895
         1E:CA64  CD          
17622                        	
17623                        		.dbg	line,	"include\routines_SHOP.c", 152; {
17624                        	
17625                        		.dbg	line,	"include\routines_SHOP.c", 153; if(weapon_level < 2)
17626                        		__ld.umq	_weapon_level
         1E:CA65  AD 29 23   			lda	_weapon_level
17627                        		__ult_b.uiq	2
         1E:CA68  C9 02      			cmp	#2		; Subtract integer from A.
         1E:CA6A  6A         			ror	a		; CC if A < integer.
         1E:CA6B  49 80      			eor	#$80
         1E:CA6D  2A         			rol	a
17628                        		__bfalse	.LL896
         1E:CA6E  B0 03 4C EA			bcc	.LL896
         1E:CA72  CD          
17629                        	
17630                        		.dbg	line,	"include\routines_SHOP.c", 154; {
17631                        	
17632                        		.dbg	line,	"include\routines_SHOP.c", 155; weapon_level = 2;
17633                        		__st.umiq	2, _weapon_level
         1E:CA73  A9 02      			lda.l	#2
         1E:CA75  8D 29 23   			sta	_weapon_level
17634                        	
17635                        		.dbg	line,	"include\routines_SHOP.c", 156; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_4, SIZEOF(tileset_WEAPON_4) >> 1 );
17636                        		__st.wmiq	4256, _di
         1E:CA78  A9 A0      			lda.l	#4256
         1E:CA7A  85 F0      			sta.l	_di
         1E:CA7C  A9 10      			lda.h	#4256
         1E:CA7E  85 F1      			sta.h	_di
17637                        		__farptr	_tileset_WEAPON_4, _bp_bank, _bp
         1E:CA80  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_4))
         1E:CA82  85 EC      			sta.l	_bp
         1E:CA84  A9 74      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_4))
         1E:CA86  85 ED      			sta.h	_bp
         1E:CA88  A9 07      			lda	#bank(_tileset_WEAPON_4)
         1E:CA8A  85 02      			sta	_bp_bank
17638                        		__ld.wi		___sizeof__tileset_WEAPON_4
         1E:CA8C  A9 80      			lda.l	#___sizeof__tileset_WEAPON_4
         1E:CA8E  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_4
17639                        		__lsr.wi	1
         1E:CA90  42         			say
         1E:CA91  4A         			lsr	a
         1E:CA92  42         			say
         1E:CA93  6A         			ror	a
17640                        		__st.wmq	_ax
         1E:CA94  85 F8      			sta.l	_ax
         1E:CA96  84 F9      			sty.h	_ax
17641                        		 _load_vram.3
         1E:CA98  82         			clx				; Offset to PCE VDC.
         1E:CA99  20 FF FE   			call	load_vram_x
17642                        	
17643                        		.dbg	line,	"include\routines_SHOP.c", 158; zenny_amount -= shop_prices[1];
17644                        		__ld.wm		_shop_prices + 2
         1E:CA9C  AD 5D 26   			lda.l	_shop_prices + 2
         1E:CA9F  AC 5E 26   			ldy.h	_shop_prices + 2
17645                        		__isub_st.wmq	_zenny_amount
         1E:CAA2  38         			sec
         1E:CAA3  49 FF      			eor	#$FF
         1E:CAA5  6D 57 26   			adc.l	_zenny_amount
         1E:CAA8  8D 57 26   			sta.l	_zenny_amount
         1E:CAAB  98         			tya
         1E:CAAC  49 FF      			eor	#$FF
         1E:CAAE  6D 58 26   			adc.h	_zenny_amount
         1E:CAB1  8D 58 26   			sta.h	_zenny_amount
17646                        	
17647                        		.dbg	line,	"include\routines_SHOP.c", 159; display_ZENNY();
17648                        		__call		_display_ZENNY
         1E:CAB4  20 31 FF   			call	_display_ZENNY
17649                        	
17650                        		.dbg	line,	"include\routines_SHOP.c", 160; }
17651                        	
17652                        		.dbg	line,	"include\routines_SHOP.c", 161; }
17653    1E:CAB7             	.LL896	.alias		.LL890
17654                        	
17655                        		.dbg	line,	"include\routines_SHOP.c", 163; break; 
17656    1E:CAB7             	.LL895	.alias		.LL890
17657                        		__bra		.LL890
         1E:CAB7  4C EA CD   			bra	.LL890
17658                        	
17659                        		.dbg	line,	"include\routines_SHOP.c", 166; // WEAPON 5 //
17660                        	
17661                        		.dbg	line,	"include\routines_SHOP.c", 167; case 2:
17662    1E:CABA             	.LL897:
17663                        		__case		2
17664                        	
17665                        		.dbg	line,	"include\routines_SHOP.c", 168; if(zenny_amount >= shop_prices[2])
17666                        		__ld.wm		_zenny_amount
         1E:CABA  AD 57 26   			lda.l	_zenny_amount
         1E:CABD  AC 58 26   			ldy.h	_zenny_amount
17667                        		__sge_w.wm	_shop_prices + 4
         1E:CAC0  CD 5F 26   			cmp.l	_shop_prices + 4		; Subtract memory from Y:A.
         1E:CAC3  98         			tya
         1E:CAC4  ED 60 26   			sbc.h	_shop_prices + 4
         1E:CAC7  50 02      			bvc	!+
         1E:CAC9  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:CACB  49 80      	!:		eor	#$80
         1E:CACD  0A         			asl	a
17668                        		__bfalse	.LL898
         1E:CACE  B0 03 4C EA			bcc	.LL898
         1E:CAD2  CD          
17669                        	
17670                        		.dbg	line,	"include\routines_SHOP.c", 169; {
17671                        	
17672                        		.dbg	line,	"include\routines_SHOP.c", 170; if(weapon_level < 3)
17673                        		__ld.umq	_weapon_level
         1E:CAD3  AD 29 23   			lda	_weapon_level
17674                        		__ult_b.uiq	3
         1E:CAD6  C9 03      			cmp	#3		; Subtract integer from A.
         1E:CAD8  6A         			ror	a		; CC if A < integer.
         1E:CAD9  49 80      			eor	#$80
         1E:CADB  2A         			rol	a
17675                        		__bfalse	.LL899
         1E:CADC  B0 03 4C EA			bcc	.LL899
         1E:CAE0  CD          
17676                        	
17677                        		.dbg	line,	"include\routines_SHOP.c", 171; {
17678                        	
17679                        		.dbg	line,	"include\routines_SHOP.c", 172; weapon_level = 3;
17680                        		__st.umiq	3, _weapon_level
         1E:CAE1  A9 03      			lda.l	#3
         1E:CAE3  8D 29 23   			sta	_weapon_level
17681                        	
17682                        		.dbg	line,	"include\routines_SHOP.c", 173; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_5, SIZEOF(tileset_WEAPON_5) >> 1 );
17683                        		__st.wmiq	4256, _di
         1E:CAE6  A9 A0      			lda.l	#4256
         1E:CAE8  85 F0      			sta.l	_di
         1E:CAEA  A9 10      			lda.h	#4256
         1E:CAEC  85 F1      			sta.h	_di
17684                        		__farptr	_tileset_WEAPON_5, _bp_bank, _bp
         1E:CAEE  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_5))
         1E:CAF0  85 EC      			sta.l	_bp
         1E:CAF2  A9 75      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_5))
         1E:CAF4  85 ED      			sta.h	_bp
         1E:CAF6  A9 07      			lda	#bank(_tileset_WEAPON_5)
         1E:CAF8  85 02      			sta	_bp_bank
17685                        		__ld.wi		___sizeof__tileset_WEAPON_5
         1E:CAFA  A9 80      			lda.l	#___sizeof__tileset_WEAPON_5
         1E:CAFC  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_5
17686                        		__lsr.wi	1
         1E:CAFE  42         			say
         1E:CAFF  4A         			lsr	a
         1E:CB00  42         			say
         1E:CB01  6A         			ror	a
17687                        		__st.wmq	_ax
         1E:CB02  85 F8      			sta.l	_ax
         1E:CB04  84 F9      			sty.h	_ax
17688                        		 _load_vram.3
         1E:CB06  82         			clx				; Offset to PCE VDC.
         1E:CB07  20 FF FE   			call	load_vram_x
17689                        	
17690                        		.dbg	line,	"include\routines_SHOP.c", 175; zenny_amount -= shop_prices[2];
17691                        		__ld.wm		_shop_prices + 4
         1E:CB0A  AD 5F 26   			lda.l	_shop_prices + 4
         1E:CB0D  AC 60 26   			ldy.h	_shop_prices + 4
17692                        		__isub_st.wmq	_zenny_amount
         1E:CB10  38         			sec
         1E:CB11  49 FF      			eor	#$FF
         1E:CB13  6D 57 26   			adc.l	_zenny_amount
         1E:CB16  8D 57 26   			sta.l	_zenny_amount
         1E:CB19  98         			tya
         1E:CB1A  49 FF      			eor	#$FF
         1E:CB1C  6D 58 26   			adc.h	_zenny_amount
         1E:CB1F  8D 58 26   			sta.h	_zenny_amount
17693                        	
17694                        		.dbg	line,	"include\routines_SHOP.c", 176; display_ZENNY();
17695                        		__call		_display_ZENNY
         1E:CB22  20 31 FF   			call	_display_ZENNY
17696                        	
17697                        		.dbg	line,	"include\routines_SHOP.c", 177; }
17698                        	
17699                        		.dbg	line,	"include\routines_SHOP.c", 178; }
17700    1E:CB25             	.LL899	.alias		.LL890
17701                        	
17702                        		.dbg	line,	"include\routines_SHOP.c", 180; break;   
17703    1E:CB25             	.LL898	.alias		.LL890
17704                        		__bra		.LL890
         1E:CB25  4C EA CD   			bra	.LL890
17705                        	
17706                        		.dbg	line,	"include\routines_SHOP.c", 183; // WEAPON 8 //
17707                        	
17708                        		.dbg	line,	"include\routines_SHOP.c", 184; case 3:
17709    1E:CB28             	.LL900:
17710                        		__case		3
17711                        	
17712                        		.dbg	line,	"include\routines_SHOP.c", 185; if(zenny_amount >= shop_prices[3])
17713                        		__ld.wm		_zenny_amount
         1E:CB28  AD 57 26   			lda.l	_zenny_amount
         1E:CB2B  AC 58 26   			ldy.h	_zenny_amount
17714                        		__sge_w.wm	_shop_prices + 6
         1E:CB2E  CD 61 26   			cmp.l	_shop_prices + 6		; Subtract memory from Y:A.
         1E:CB31  98         			tya
         1E:CB32  ED 62 26   			sbc.h	_shop_prices + 6
         1E:CB35  50 02      			bvc	!+
         1E:CB37  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:CB39  49 80      	!:		eor	#$80
         1E:CB3B  0A         			asl	a
17715                        		__bfalse	.LL901
         1E:CB3C  B0 03 4C EA			bcc	.LL901
         1E:CB40  CD          
17716                        	
17717                        		.dbg	line,	"include\routines_SHOP.c", 186; {
17718                        	
17719                        		.dbg	line,	"include\routines_SHOP.c", 187; if(weapon_level < 4)
17720                        		__ld.umq	_weapon_level
         1E:CB41  AD 29 23   			lda	_weapon_level
17721                        		__ult_b.uiq	4
         1E:CB44  C9 04      			cmp	#4		; Subtract integer from A.
         1E:CB46  6A         			ror	a		; CC if A < integer.
         1E:CB47  49 80      			eor	#$80
         1E:CB49  2A         			rol	a
17722                        		__bfalse	.LL902
         1E:CB4A  B0 03 4C EA			bcc	.LL902
         1E:CB4E  CD          
17723                        	
17724                        		.dbg	line,	"include\routines_SHOP.c", 188; {
17725                        	
17726                        		.dbg	line,	"include\routines_SHOP.c", 189; weapon_level = 4;
17727                        		__st.umiq	4, _weapon_level
         1E:CB4F  A9 04      			lda.l	#4
         1E:CB51  8D 29 23   			sta	_weapon_level
17728                        	
17729                        		.dbg	line,	"include\routines_SHOP.c", 190; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_8, SIZEOF(tileset_WEAPON_8) >> 1 );
17730                        		__st.wmiq	4256, _di
         1E:CB54  A9 A0      			lda.l	#4256
         1E:CB56  85 F0      			sta.l	_di
         1E:CB58  A9 10      			lda.h	#4256
         1E:CB5A  85 F1      			sta.h	_di
17731                        		__farptr	_tileset_WEAPON_8, _bp_bank, _bp
         1E:CB5C  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_8))
         1E:CB5E  85 EC      			sta.l	_bp
         1E:CB60  A9 75      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_8))
         1E:CB62  85 ED      			sta.h	_bp
         1E:CB64  A9 07      			lda	#bank(_tileset_WEAPON_8)
         1E:CB66  85 02      			sta	_bp_bank
17732                        		__ld.wi		___sizeof__tileset_WEAPON_8
         1E:CB68  A9 80      			lda.l	#___sizeof__tileset_WEAPON_8
         1E:CB6A  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_8
17733                        		__lsr.wi	1
         1E:CB6C  42         			say
         1E:CB6D  4A         			lsr	a
         1E:CB6E  42         			say
         1E:CB6F  6A         			ror	a
17734                        		__st.wmq	_ax
         1E:CB70  85 F8      			sta.l	_ax
         1E:CB72  84 F9      			sty.h	_ax
17735                        		 _load_vram.3
         1E:CB74  82         			clx				; Offset to PCE VDC.
         1E:CB75  20 FF FE   			call	load_vram_x
17736                        	
17737                        		.dbg	line,	"include\routines_SHOP.c", 192; zenny_amount -= shop_prices[3];
17738                        		__ld.wm		_shop_prices + 6
         1E:CB78  AD 61 26   			lda.l	_shop_prices + 6
         1E:CB7B  AC 62 26   			ldy.h	_shop_prices + 6
17739                        		__isub_st.wmq	_zenny_amount
         1E:CB7E  38         			sec
         1E:CB7F  49 FF      			eor	#$FF
         1E:CB81  6D 57 26   			adc.l	_zenny_amount
         1E:CB84  8D 57 26   			sta.l	_zenny_amount
         1E:CB87  98         			tya
         1E:CB88  49 FF      			eor	#$FF
         1E:CB8A  6D 58 26   			adc.h	_zenny_amount
         1E:CB8D  8D 58 26   			sta.h	_zenny_amount
17740                        	
17741                        		.dbg	line,	"include\routines_SHOP.c", 193; display_ZENNY();
17742                        		__call		_display_ZENNY
         1E:CB90  20 31 FF   			call	_display_ZENNY
17743                        	
17744                        		.dbg	line,	"include\routines_SHOP.c", 194; }
17745                        	
17746                        		.dbg	line,	"include\routines_SHOP.c", 195; }
17747    1E:CB93             	.LL902	.alias		.LL890
17748                        	
17749                        		.dbg	line,	"include\routines_SHOP.c", 197; break;  
17750    1E:CB93             	.LL901	.alias		.LL890
17751                        		__bra		.LL890
         1E:CB93  4C EA CD   			bra	.LL890
17752                        	
17753                        		.dbg	line,	"include\routines_SHOP.c", 200; // KEY //
17754                        	
17755                        		.dbg	line,	"include\routines_SHOP.c", 201; case 4:
17756    1E:CB96             	.LL903:
17757                        		__case		4
17758                        	
17759                        		.dbg	line,	"include\routines_SHOP.c", 202; if(zenny_amount >= shop_prices[4])
17760                        		__ld.wm		_zenny_amount
         1E:CB96  AD 57 26   			lda.l	_zenny_amount
         1E:CB99  AC 58 26   			ldy.h	_zenny_amount
17761                        		__sge_w.wm	_shop_prices + 8
         1E:CB9C  CD 63 26   			cmp.l	_shop_prices + 8		; Subtract memory from Y:A.
         1E:CB9F  98         			tya
         1E:CBA0  ED 64 26   			sbc.h	_shop_prices + 8
         1E:CBA3  50 02      			bvc	!+
         1E:CBA5  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:CBA7  49 80      	!:		eor	#$80
         1E:CBA9  0A         			asl	a
17762                        		__bfalse	.LL904
         1E:CBAA  B0 03 4C EA			bcc	.LL904
         1E:CBAE  CD          
17763                        	
17764                        		.dbg	line,	"include\routines_SHOP.c", 203; {
17765                        	
17766                        		.dbg	line,	"include\routines_SHOP.c", 204; key_amount += 1;
17767                        		__add_st.umiq	1, _key_amount
         1E:CBAF  EE 30 23   			inc	_key_amount
17768                        	
17769                        		.dbg	line,	"include\routines_SHOP.c", 206; zenny_amount -= shop_prices[4];
17770                        		__ld.wm		_shop_prices + 8
         1E:CBB2  AD 63 26   			lda.l	_shop_prices + 8
         1E:CBB5  AC 64 26   			ldy.h	_shop_prices + 8
17771                        		__isub_st.wmq	_zenny_amount
         1E:CBB8  38         			sec
         1E:CBB9  49 FF      			eor	#$FF
         1E:CBBB  6D 57 26   			adc.l	_zenny_amount
         1E:CBBE  8D 57 26   			sta.l	_zenny_amount
         1E:CBC1  98         			tya
         1E:CBC2  49 FF      			eor	#$FF
         1E:CBC4  6D 58 26   			adc.h	_zenny_amount
         1E:CBC7  8D 58 26   			sta.h	_zenny_amount
17772                        	
17773                        		.dbg	line,	"include\routines_SHOP.c", 207; display_KEY();
17774                        		__call		_display_KEY
         1E:CBCA  20 3B FF   			call	_display_KEY
17775                        	
17776                        		.dbg	line,	"include\routines_SHOP.c", 208; }
17777                        	
17778                        		.dbg	line,	"include\routines_SHOP.c", 210; break;   
17779    1E:CBCD             	.LL904	.alias		.LL890
17780                        		__bra		.LL890
         1E:CBCD  4C EA CD   			bra	.LL890
17781                        	
17782                        		.dbg	line,	"include\routines_SHOP.c", 213; // ARMOR 1 //
17783                        	
17784                        		.dbg	line,	"include\routines_SHOP.c", 214; case 5:
17785    1E:CBD0             	.LL905:
17786                        		__case		5
17787                        	
17788                        		.dbg	line,	"include\routines_SHOP.c", 215; if(zenny_amount >= shop_prices[5])
17789                        		__ld.wm		_zenny_amount
         1E:CBD0  AD 57 26   			lda.l	_zenny_amount
         1E:CBD3  AC 58 26   			ldy.h	_zenny_amount
17790                        		__sge_w.wm	_shop_prices + 10
         1E:CBD6  CD 65 26   			cmp.l	_shop_prices + 10		; Subtract memory from Y:A.
         1E:CBD9  98         			tya
         1E:CBDA  ED 66 26   			sbc.h	_shop_prices + 10
         1E:CBDD  50 02      			bvc	!+
         1E:CBDF  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:CBE1  49 80      	!:		eor	#$80
         1E:CBE3  0A         			asl	a
17791                        		__bfalse	.LL906
         1E:CBE4  B0 03 4C EA			bcc	.LL906
         1E:CBE8  CD          
17792                        	
17793                        		.dbg	line,	"include\routines_SHOP.c", 216; {
17794                        	
17795                        		.dbg	line,	"include\routines_SHOP.c", 217; if(armor_level < 1)
17796                        		__ld.umq	_armor_level
         1E:CBE9  AD 28 23   			lda	_armor_level
17797                        		__ult_b.uiq	1
         1E:CBEC  C9 01      			cmp	#1		; Subtract integer from A.
         1E:CBEE  6A         			ror	a		; CC if A < integer.
         1E:CBEF  49 80      			eor	#$80
         1E:CBF1  2A         			rol	a
17798                        		__bfalse	.LL907
         1E:CBF2  B0 03 4C EA			bcc	.LL907
         1E:CBF6  CD          
17799                        	
17800                        		.dbg	line,	"include\routines_SHOP.c", 218; {
17801                        	
17802                        		.dbg	line,	"include\routines_SHOP.c", 219; armor_level = 1;
17803                        		__st.umiq	1, _armor_level
         1E:CBF7  A9 01      			lda.l	#1
         1E:CBF9  8D 28 23   			sta	_armor_level
17804                        	
17805                        		.dbg	line,	"include\routines_SHOP.c", 220; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_1, SIZEOF(tileset_ARMOR_1) >> 1 );
17806                        		__st.wmiq	4320, _di
         1E:CBFC  A9 E0      			lda.l	#4320
         1E:CBFE  85 F0      			sta.l	_di
         1E:CC00  A9 10      			lda.h	#4320
         1E:CC02  85 F1      			sta.h	_di
17807                        		__farptr	_tileset_ARMOR_1, _bp_bank, _bp
         1E:CC04  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_1))
         1E:CC06  85 EC      			sta.l	_bp
         1E:CC08  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_1))
         1E:CC0A  85 ED      			sta.h	_bp
         1E:CC0C  A9 07      			lda	#bank(_tileset_ARMOR_1)
         1E:CC0E  85 02      			sta	_bp_bank
17808                        		__ld.wi		___sizeof__tileset_ARMOR_1
         1E:CC10  A9 80      			lda.l	#___sizeof__tileset_ARMOR_1
         1E:CC12  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_1
17809                        		__lsr.wi	1
         1E:CC14  42         			say
         1E:CC15  4A         			lsr	a
         1E:CC16  42         			say
         1E:CC17  6A         			ror	a
17810                        		__st.wmq	_ax
         1E:CC18  85 F8      			sta.l	_ax
         1E:CC1A  84 F9      			sty.h	_ax
17811                        		 _load_vram.3
         1E:CC1C  82         			clx				; Offset to PCE VDC.
         1E:CC1D  20 FF FE   			call	load_vram_x
17812                        	
17813                        		.dbg	line,	"include\routines_SHOP.c", 222; zenny_amount -= shop_prices[5];
17814                        		__ld.wm		_shop_prices + 10
         1E:CC20  AD 65 26   			lda.l	_shop_prices + 10
         1E:CC23  AC 66 26   			ldy.h	_shop_prices + 10
17815                        		__isub_st.wmq	_zenny_amount
         1E:CC26  38         			sec
         1E:CC27  49 FF      			eor	#$FF
         1E:CC29  6D 57 26   			adc.l	_zenny_amount
         1E:CC2C  8D 57 26   			sta.l	_zenny_amount
         1E:CC2F  98         			tya
         1E:CC30  49 FF      			eor	#$FF
         1E:CC32  6D 58 26   			adc.h	_zenny_amount
         1E:CC35  8D 58 26   			sta.h	_zenny_amount
17816                        	
17817                        		.dbg	line,	"include\routines_SHOP.c", 223; display_ZENNY();
17818                        		__call		_display_ZENNY
         1E:CC38  20 31 FF   			call	_display_ZENNY
17819                        	
17820                        		.dbg	line,	"include\routines_SHOP.c", 224; }
17821                        	
17822                        		.dbg	line,	"include\routines_SHOP.c", 225; }
17823    1E:CC3B             	.LL907	.alias		.LL890
17824                        	
17825                        		.dbg	line,	"include\routines_SHOP.c", 227; break;   
17826    1E:CC3B             	.LL906	.alias		.LL890
17827                        		__bra		.LL890
         1E:CC3B  4C EA CD   			bra	.LL890
17828                        	
17829                        		.dbg	line,	"include\routines_SHOP.c", 230; // ARMOR 2 //
17830                        	
17831                        		.dbg	line,	"include\routines_SHOP.c", 231; case 6:
17832    1E:CC3E             	.LL908:
17833                        		__case		6
17834                        	
17835                        		.dbg	line,	"include\routines_SHOP.c", 232; if(zenny_amount >= shop_prices[6])
17836                        		__ld.wm		_zenny_amount
         1E:CC3E  AD 57 26   			lda.l	_zenny_amount
         1E:CC41  AC 58 26   			ldy.h	_zenny_amount
17837                        		__sge_w.wm	_shop_prices + 12
         1E:CC44  CD 67 26   			cmp.l	_shop_prices + 12		; Subtract memory from Y:A.
         1E:CC47  98         			tya
         1E:CC48  ED 68 26   			sbc.h	_shop_prices + 12
         1E:CC4B  50 02      			bvc	!+
         1E:CC4D  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:CC4F  49 80      	!:		eor	#$80
         1E:CC51  0A         			asl	a
17838                        		__bfalse	.LL909
         1E:CC52  B0 03 4C EA			bcc	.LL909
         1E:CC56  CD          
17839                        	
17840                        		.dbg	line,	"include\routines_SHOP.c", 233; {
17841                        	
17842                        		.dbg	line,	"include\routines_SHOP.c", 234; if(armor_level < 4)
17843                        		__ld.umq	_armor_level
         1E:CC57  AD 28 23   			lda	_armor_level
17844                        		__ult_b.uiq	4
         1E:CC5A  C9 04      			cmp	#4		; Subtract integer from A.
         1E:CC5C  6A         			ror	a		; CC if A < integer.
         1E:CC5D  49 80      			eor	#$80
         1E:CC5F  2A         			rol	a
17845                        		__bfalse	.LL910
         1E:CC60  B0 03 4C EA			bcc	.LL910
         1E:CC64  CD          
17846                        	
17847                        		.dbg	line,	"include\routines_SHOP.c", 235; {
17848                        	
17849                        		.dbg	line,	"include\routines_SHOP.c", 236; armor_level = 4;
17850                        		__st.umiq	4, _armor_level
         1E:CC65  A9 04      			lda.l	#4
         1E:CC67  8D 28 23   			sta	_armor_level
17851                        	
17852                        		.dbg	line,	"include\routines_SHOP.c", 237; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_2, SIZEOF(tileset_ARMOR_2) >> 1 );
17853                        		__st.wmiq	4320, _di
         1E:CC6A  A9 E0      			lda.l	#4320
         1E:CC6C  85 F0      			sta.l	_di
         1E:CC6E  A9 10      			lda.h	#4320
         1E:CC70  85 F1      			sta.h	_di
17854                        		__farptr	_tileset_ARMOR_2, _bp_bank, _bp
         1E:CC72  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_2))
         1E:CC74  85 EC      			sta.l	_bp
         1E:CC76  A9 72      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_2))
         1E:CC78  85 ED      			sta.h	_bp
         1E:CC7A  A9 07      			lda	#bank(_tileset_ARMOR_2)
         1E:CC7C  85 02      			sta	_bp_bank
17855                        		__ld.wi		___sizeof__tileset_ARMOR_2
         1E:CC7E  A9 80      			lda.l	#___sizeof__tileset_ARMOR_2
         1E:CC80  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_2
17856                        		__lsr.wi	1
         1E:CC82  42         			say
         1E:CC83  4A         			lsr	a
         1E:CC84  42         			say
         1E:CC85  6A         			ror	a
17857                        		__st.wmq	_ax
         1E:CC86  85 F8      			sta.l	_ax
         1E:CC88  84 F9      			sty.h	_ax
17858                        		 _load_vram.3
         1E:CC8A  82         			clx				; Offset to PCE VDC.
         1E:CC8B  20 FF FE   			call	load_vram_x
17859                        	
17860                        		.dbg	line,	"include\routines_SHOP.c", 239; zenny_amount -= shop_prices[6];
17861                        		__ld.wm		_shop_prices + 12
         1E:CC8E  AD 67 26   			lda.l	_shop_prices + 12
         1E:CC91  AC 68 26   			ldy.h	_shop_prices + 12
17862                        		__isub_st.wmq	_zenny_amount
         1E:CC94  38         			sec
         1E:CC95  49 FF      			eor	#$FF
         1E:CC97  6D 57 26   			adc.l	_zenny_amount
         1E:CC9A  8D 57 26   			sta.l	_zenny_amount
         1E:CC9D  98         			tya
         1E:CC9E  49 FF      			eor	#$FF
         1E:CCA0  6D 58 26   			adc.h	_zenny_amount
         1E:CCA3  8D 58 26   			sta.h	_zenny_amount
17863                        	
17864                        		.dbg	line,	"include\routines_SHOP.c", 240; display_ZENNY();
17865                        		__call		_display_ZENNY
         1E:CCA6  20 31 FF   			call	_display_ZENNY
17866                        	
17867                        		.dbg	line,	"include\routines_SHOP.c", 241; }
17868                        	
17869                        		.dbg	line,	"include\routines_SHOP.c", 242; }
17870    1E:CCA9             	.LL910	.alias		.LL890
17871                        	
17872                        		.dbg	line,	"include\routines_SHOP.c", 244; break;    
17873    1E:CCA9             	.LL909	.alias		.LL890
17874                        		__bra		.LL890
         1E:CCA9  4C EA CD   			bra	.LL890
17875                        	
17876                        		.dbg	line,	"include\routines_SHOP.c", 247; // ARMOR 4 //
17877                        	
17878                        		.dbg	line,	"include\routines_SHOP.c", 248; case 7:
17879    1E:CCAC             	.LL911:
17880                        		__case		7
17881                        	
17882                        		.dbg	line,	"include\routines_SHOP.c", 249; if(zenny_amount >= shop_prices[7])
17883                        		__ld.wm		_zenny_amount
         1E:CCAC  AD 57 26   			lda.l	_zenny_amount
         1E:CCAF  AC 58 26   			ldy.h	_zenny_amount
17884                        		__sge_w.wm	_shop_prices + 14
         1E:CCB2  CD 69 26   			cmp.l	_shop_prices + 14		; Subtract memory from Y:A.
         1E:CCB5  98         			tya
         1E:CCB6  ED 6A 26   			sbc.h	_shop_prices + 14
         1E:CCB9  50 02      			bvc	!+
         1E:CCBB  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:CCBD  49 80      	!:		eor	#$80
         1E:CCBF  0A         			asl	a
17885                        		__bfalse	.LL912
         1E:CCC0  B0 03 4C EA			bcc	.LL912
         1E:CCC4  CD          
17886                        	
17887                        		.dbg	line,	"include\routines_SHOP.c", 250; {
17888                        	
17889                        		.dbg	line,	"include\routines_SHOP.c", 251; if(armor_level < 5)
17890                        		__ld.umq	_armor_level
         1E:CCC5  AD 28 23   			lda	_armor_level
17891                        		__ult_b.uiq	5
         1E:CCC8  C9 05      			cmp	#5		; Subtract integer from A.
         1E:CCCA  6A         			ror	a		; CC if A < integer.
         1E:CCCB  49 80      			eor	#$80
         1E:CCCD  2A         			rol	a
17892                        		__bfalse	.LL913
         1E:CCCE  B0 03 4C EA			bcc	.LL913
         1E:CCD2  CD          
17893                        	
17894                        		.dbg	line,	"include\routines_SHOP.c", 252; {
17895                        	
17896                        		.dbg	line,	"include\routines_SHOP.c", 253; armor_level = 5;
17897                        		__st.umiq	5, _armor_level
         1E:CCD3  A9 05      			lda.l	#5
         1E:CCD5  8D 28 23   			sta	_armor_level
17898                        	
17899                        		.dbg	line,	"include\routines_SHOP.c", 254; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_4, SIZEOF(tileset_ARMOR_4) >> 1 );
17900                        		__st.wmiq	4320, _di
         1E:CCD8  A9 E0      			lda.l	#4320
         1E:CCDA  85 F0      			sta.l	_di
         1E:CCDC  A9 10      			lda.h	#4320
         1E:CCDE  85 F1      			sta.h	_di
17901                        		__farptr	_tileset_ARMOR_4, _bp_bank, _bp
         1E:CCE0  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_4))
         1E:CCE2  85 EC      			sta.l	_bp
         1E:CCE4  A9 72      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_4))
         1E:CCE6  85 ED      			sta.h	_bp
         1E:CCE8  A9 07      			lda	#bank(_tileset_ARMOR_4)
         1E:CCEA  85 02      			sta	_bp_bank
17902                        		__ld.wi		___sizeof__tileset_ARMOR_4
         1E:CCEC  A9 80      			lda.l	#___sizeof__tileset_ARMOR_4
         1E:CCEE  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_4
17903                        		__lsr.wi	1
         1E:CCF0  42         			say
         1E:CCF1  4A         			lsr	a
         1E:CCF2  42         			say
         1E:CCF3  6A         			ror	a
17904                        		__st.wmq	_ax
         1E:CCF4  85 F8      			sta.l	_ax
         1E:CCF6  84 F9      			sty.h	_ax
17905                        		 _load_vram.3
         1E:CCF8  82         			clx				; Offset to PCE VDC.
         1E:CCF9  20 FF FE   			call	load_vram_x
17906                        	
17907                        		.dbg	line,	"include\routines_SHOP.c", 256; zenny_amount -= shop_prices[7];
17908                        		__ld.wm		_shop_prices + 14
         1E:CCFC  AD 69 26   			lda.l	_shop_prices + 14
         1E:CCFF  AC 6A 26   			ldy.h	_shop_prices + 14
17909                        		__isub_st.wmq	_zenny_amount
         1E:CD02  38         			sec
         1E:CD03  49 FF      			eor	#$FF
         1E:CD05  6D 57 26   			adc.l	_zenny_amount
         1E:CD08  8D 57 26   			sta.l	_zenny_amount
         1E:CD0B  98         			tya
         1E:CD0C  49 FF      			eor	#$FF
         1E:CD0E  6D 58 26   			adc.h	_zenny_amount
         1E:CD11  8D 58 26   			sta.h	_zenny_amount
17910                        	
17911                        		.dbg	line,	"include\routines_SHOP.c", 257; display_ZENNY();
17912                        		__call		_display_ZENNY
         1E:CD14  20 31 FF   			call	_display_ZENNY
17913                        	
17914                        		.dbg	line,	"include\routines_SHOP.c", 258; }
17915                        	
17916                        		.dbg	line,	"include\routines_SHOP.c", 259; }
17917    1E:CD17             	.LL913	.alias		.LL890
17918                        	
17919                        		.dbg	line,	"include\routines_SHOP.c", 261; break;   
17920    1E:CD17             	.LL912	.alias		.LL890
17921                        		__bra		.LL890
         1E:CD17  4C EA CD   			bra	.LL890
17922                        	
17923                        		.dbg	line,	"include\routines_SHOP.c", 264; // ARMOR 8 //
17924                        	
17925                        		.dbg	line,	"include\routines_SHOP.c", 265; case 8:
17926    1E:CD1A             	.LL914:
17927                        		__case		8
17928                        	
17929                        		.dbg	line,	"include\routines_SHOP.c", 266; if(zenny_amount >= shop_prices[8])
17930                        		__ld.wm		_zenny_amount
         1E:CD1A  AD 57 26   			lda.l	_zenny_amount
         1E:CD1D  AC 58 26   			ldy.h	_zenny_amount
17931                        		__sge_w.wm	_shop_prices + 16
         1E:CD20  CD 6B 26   			cmp.l	_shop_prices + 16		; Subtract memory from Y:A.
         1E:CD23  98         			tya
         1E:CD24  ED 6C 26   			sbc.h	_shop_prices + 16
         1E:CD27  50 02      			bvc	!+
         1E:CD29  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:CD2B  49 80      	!:		eor	#$80
         1E:CD2D  0A         			asl	a
17932                        		__bfalse	.LL915
         1E:CD2E  B0 03 4C EA			bcc	.LL915
         1E:CD32  CD          
17933                        	
17934                        		.dbg	line,	"include\routines_SHOP.c", 267; {
17935                        	
17936                        		.dbg	line,	"include\routines_SHOP.c", 268; if(armor_level < 8)
17937                        		__ld.umq	_armor_level
         1E:CD33  AD 28 23   			lda	_armor_level
17938                        		__ult_b.uiq	8
         1E:CD36  C9 08      			cmp	#8		; Subtract integer from A.
         1E:CD38  6A         			ror	a		; CC if A < integer.
         1E:CD39  49 80      			eor	#$80
         1E:CD3B  2A         			rol	a
17939                        		__bfalse	.LL916
         1E:CD3C  B0 03 4C EA			bcc	.LL916
         1E:CD40  CD          
17940                        	
17941                        		.dbg	line,	"include\routines_SHOP.c", 269; {
17942                        	
17943                        		.dbg	line,	"include\routines_SHOP.c", 270; armor_level = 8;
17944                        		__st.umiq	8, _armor_level
         1E:CD41  A9 08      			lda.l	#8
         1E:CD43  8D 28 23   			sta	_armor_level
17945                        	
17946                        		.dbg	line,	"include\routines_SHOP.c", 271; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_8, SIZEOF(tileset_ARMOR_8) >> 1 );
17947                        		__st.wmiq	4320, _di
         1E:CD46  A9 E0      			lda.l	#4320
         1E:CD48  85 F0      			sta.l	_di
         1E:CD4A  A9 10      			lda.h	#4320
         1E:CD4C  85 F1      			sta.h	_di
17948                        		__farptr	_tileset_ARMOR_8, _bp_bank, _bp
         1E:CD4E  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_8))
         1E:CD50  85 EC      			sta.l	_bp
         1E:CD52  A9 73      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_8))
         1E:CD54  85 ED      			sta.h	_bp
         1E:CD56  A9 07      			lda	#bank(_tileset_ARMOR_8)
         1E:CD58  85 02      			sta	_bp_bank
17949                        		__ld.wi		___sizeof__tileset_ARMOR_8
         1E:CD5A  A9 80      			lda.l	#___sizeof__tileset_ARMOR_8
         1E:CD5C  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_8
17950                        		__lsr.wi	1
         1E:CD5E  42         			say
         1E:CD5F  4A         			lsr	a
         1E:CD60  42         			say
         1E:CD61  6A         			ror	a
17951                        		__st.wmq	_ax
         1E:CD62  85 F8      			sta.l	_ax
         1E:CD64  84 F9      			sty.h	_ax
17952                        		 _load_vram.3
         1E:CD66  82         			clx				; Offset to PCE VDC.
         1E:CD67  20 FF FE   			call	load_vram_x
17953                        	
17954                        		.dbg	line,	"include\routines_SHOP.c", 273; zenny_amount -= shop_prices[8];
17955                        		__ld.wm		_shop_prices + 16
         1E:CD6A  AD 6B 26   			lda.l	_shop_prices + 16
         1E:CD6D  AC 6C 26   			ldy.h	_shop_prices + 16
17956                        		__isub_st.wmq	_zenny_amount
         1E:CD70  38         			sec
         1E:CD71  49 FF      			eor	#$FF
         1E:CD73  6D 57 26   			adc.l	_zenny_amount
         1E:CD76  8D 57 26   			sta.l	_zenny_amount
         1E:CD79  98         			tya
         1E:CD7A  49 FF      			eor	#$FF
         1E:CD7C  6D 58 26   			adc.h	_zenny_amount
         1E:CD7F  8D 58 26   			sta.h	_zenny_amount
17957                        	
17958                        		.dbg	line,	"include\routines_SHOP.c", 274; display_ZENNY();
17959                        		__call		_display_ZENNY
         1E:CD82  20 31 FF   			call	_display_ZENNY
17960                        	
17961                        		.dbg	line,	"include\routines_SHOP.c", 275; }
17962                        	
17963                        		.dbg	line,	"include\routines_SHOP.c", 276; }
17964    1E:CD85             	.LL916	.alias		.LL890
17965                        	
17966                        		.dbg	line,	"include\routines_SHOP.c", 278; break;   
17967    1E:CD85             	.LL915	.alias		.LL890
17968                        		__bra		.LL890
         1E:CD85  80 63      			bra	.LL890
17969                        	
17970                        		.dbg	line,	"include\routines_SHOP.c", 281; // POTION //
17971                        	
17972                        		.dbg	line,	"include\routines_SHOP.c", 282; case 9:
17973    1E:CD87             	.LL917:
17974                        		__case		9
17975                        	
17976                        		.dbg	line,	"include\routines_SHOP.c", 283; if(zenny_amount >= shop_prices[9])
17977                        		__ld.wm		_zenny_amount
         1E:CD87  AD 57 26   			lda.l	_zenny_amount
         1E:CD8A  AC 58 26   			ldy.h	_zenny_amount
17978                        		__sge_w.wm	_shop_prices + 18
         1E:CD8D  CD 6D 26   			cmp.l	_shop_prices + 18		; Subtract memory from Y:A.
         1E:CD90  98         			tya
         1E:CD91  ED 6E 26   			sbc.h	_shop_prices + 18
         1E:CD94  50 02      			bvc	!+
         1E:CD96  49 80      			eor	#$80		; +ve if Y:A >= memory (signed).
         1E:CD98  49 80      	!:		eor	#$80
         1E:CD9A  0A         			asl	a
17979                        		__bfalse	.LL918
         1E:CD9B  90 4D      			bcc	.LL918
17980                        	
17981                        		.dbg	line,	"include\routines_SHOP.c", 284; {
17982                        	
17983                        		.dbg	line,	"include\routines_SHOP.c", 285; potion_amount += 1;
17984                        		__add_st.umiq	1, _potion_amount
         1E:CD9D  EE 31 23   			inc	_potion_amount
17985                        	
17986                        		.dbg	line,	"include\routines_SHOP.c", 287; zenny_amount -= shop_prices[9];
17987                        		__ld.wm		_shop_prices + 18
         1E:CDA0  AD 6D 26   			lda.l	_shop_prices + 18
         1E:CDA3  AC 6E 26   			ldy.h	_shop_prices + 18
17988                        		__isub_st.wmq	_zenny_amount
         1E:CDA6  38         			sec
         1E:CDA7  49 FF      			eor	#$FF
         1E:CDA9  6D 57 26   			adc.l	_zenny_amount
         1E:CDAC  8D 57 26   			sta.l	_zenny_amount
         1E:CDAF  98         			tya
         1E:CDB0  49 FF      			eor	#$FF
         1E:CDB2  6D 58 26   			adc.h	_zenny_amount
         1E:CDB5  8D 58 26   			sta.h	_zenny_amount
17989                        	
17990                        		.dbg	line,	"include\routines_SHOP.c", 288; display_POTION();
17991                        		__call		_display_POTION
         1E:CDB8  20 F5 FE   			call	_display_POTION
17992                        	
17993                        		.dbg	line,	"include\routines_SHOP.c", 289; }
17994                        	
17995                        		.dbg	line,	"include\routines_SHOP.c", 291; break;   
17996    1E:CDBB             	.LL918	.alias		.LL890
17997                        		__bra		.LL890
         1E:CDBB  80 2D      			bra	.LL890
17998                        	
17999                        		.dbg	line,	"include\routines_SHOP.c", 294; // EXIT //
18000                        	
18001                        		.dbg	line,	"include\routines_SHOP.c", 295; case 10:
18002    1E:CDBD             	.LL919:
18003                        		__case		10
18004                        	
18005                        		.dbg	line,	"include\routines_SHOP.c", 296; shop_counter = 0;    
18006                        		__st.umiq	0, _shop_counter
         1E:CDBD  9C F5 23   			stz	_shop_counter
18007                        	
18008                        		.dbg	line,	"include\routines_SHOP.c", 297; shop_phase = SHOP_PHASE_EXIT;
18009                        		__st.umiq	2, _shop_phase
         1E:CDC0  A9 02      			lda.l	#2
         1E:CDC2  8D F4 23   			sta	_shop_phase
18010                        	
18011                        		.dbg	line,	"include\routines_SHOP.c", 299; break;                  
18012                        		__bra		.LL890
         1E:CDC5  80 23      			bra	.LL890
18013                        	
18014                        		.dbg	line,	"include\routines_SHOP.c", 300; }
18015    1E:CDC7             	.LL889:
18016                        		__switch_r.ur	0, 10
         1E:CDC7  C9 0B      			cmp	#(10 - 0) + 1
         1E:CDC9  90 02      			bcc	!found+
         1E:CDCB  A9 0B      	!default:	lda	#(10 - 0) + 1
         1E:CDCD  0A         	!found:		asl	a
         1E:CDCE  AA         			tax
         1E:CDCF  7C D2 CD   			jmp	[!table+, x]
18017                        	
18018    1E:CDD2  DE C9      	!table:		dw	.LL891, .LL894, .LL897, .LL900, .LL903, .LL905, .LL908, .LL911
         1E:CDD4  4C CA       
         1E:CDD6  BA CA       
         1E:CDD8  28 CB       
         1E:CDDA  96 CB       
         1E:CDDC  D0 CB       
         1E:CDDE  3E CC       
         1E:CDE0  AC CC       
18019    1E:CDE2  1A CD      			dw	.LL914, .LL917, .LL919
         1E:CDE4  87 CD       
         1E:CDE6  BD CD       
18020    1E:CDE8  EA CD      			dw	.LL890
18021    1E:CDEA             	.LL890:
18022                        	
18023                        		.dbg	line,	"include\routines_SHOP.c", 301; }
18024                        	
18025                        		.dbg	line,	"include\routines_SHOP.c", 302; }
18026    1E:CDEA             	.LL888:
18027    1E:CDEA             	.LL887:
18028    1E:CDEA             	.LL884:
18029    1E:CDEA             	.LL880:
18030    1E:CDEA             	.LL877:
18031    1E:CDEA             	.LL872:
18032                        		__return	0
         1E:CDEA  4C EF FF   			jmp	leave_proc
18033                        		.dbg	clear
18034                        		.endp
18035               230F     		.bss
18036    F8:230F             			ds	1
18037    F8:2310             	__joypad_BUTTONS_SHOP_end:
18038               E31D     		.code
18039                        		.pceas
18040                        	
18041                        		.dbg	line,	"main.c", 29; #include "include/routines_TITLE.c"
18042                        		.dbg	line,	"include\routines_TITLE.c", 1; #include "huc.h"
18043                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
18044                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
18045                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
18046                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
18047                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
18048                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
18049                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
18050                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
18051                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
18052                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
18053                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
18054                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
18055                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
18056                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
18057                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
18058                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
18059                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
18060                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
18061                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
18062                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
18063                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
18064                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
18065                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
18066                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
18067                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
18068                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
18069                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
18070                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
18071                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
18072                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
18073                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
18074                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
18075                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
18076                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
18077                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
18078                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
18079                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
18080                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
18081                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
18082                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
18083                        		.dbg	line,	"include\routines_TITLE.c", 2; #include "hucc-scroll.h"
18084                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
18085                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
18086                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
18087                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
18088                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
18089                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
18090                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
18091                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
18092                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
18093                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
18094                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
18095                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
18096                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
18097                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
18098                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
18099                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
18100                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
18101                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
18102                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
18103                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
18104                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
18105                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
18106                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
18107                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
18108                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
18109                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
18110                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
18111                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
18112                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
18113                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
18114                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
18115                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
18116                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
18117                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
18118                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
18119                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
18120                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
18121                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
18122                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
18123                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
18124                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
18125                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
18126                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
18127                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
18128                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
18129                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
18130                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
18131                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
18132                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
18133                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
18134                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
18135                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
18136                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
18137                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
18138                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
18139                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
18140                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
18141                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
18142                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
18143                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
18144                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
18145                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
18146                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
18147                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
18148                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
18149                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
18150                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
18151                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
18152                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
18153                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
18154                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
18155                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
18156                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
18157                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
18158                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
18159                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
18160                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
18161                        		.dbg	line,	"include\routines_TITLE.c", 3; #include "hucc-chrmap.h"
18162                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
18163                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
18164                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
18165                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
18166                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
18167                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
18168                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
18169                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
18170                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
18171                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
18172                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
18173                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
18174                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
18175                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
18176                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
18177                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
18178                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
18179                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
18180                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
18181                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
18182                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
18183                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
18184                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
18185                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
18186                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
18187                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
18188                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
18189                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
18190                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
18191                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
18192                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
18193                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
18194                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
18195                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
18196                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
18197                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
18198                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
18199                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
18200                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
18201                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
18202                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
18203                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
18204                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
18205                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
18206                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
18207                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
18208                        		.dbg	line,	"include\routines_TITLE.c", 4; #include "hucc-blkmap.h"
18209                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
18210                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
18211                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
18212                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
18213                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
18214                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
18215                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
18216                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
18217                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
18218                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
18219                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
18220                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
18221                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
18222                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
18223                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
18224                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
18225                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
18226                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
18227                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
18228                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
18229                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
18230                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
18231                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
18232                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
18233                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
18234                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
18235                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
18236                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
18237                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
18238                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
18239                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
18240                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
18241                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
18242                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
18243                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
18244                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
18245                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
18246                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
18247                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
18248                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
18249                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
18250                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
18251                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
18252                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
18253                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
18254                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
18255                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
18256                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
18257                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
18258                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
18259                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
18260                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
18261                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
18262                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
18263                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
18264                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
18265                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
18266                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
18267                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
18268                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
18269                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
18270                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
18271                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
18272                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
18273                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
18274                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
18275                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
18276                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
18277                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
18278                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
18279                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
18280                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
18281                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
18282                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
18283                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
18284                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
18285                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
18286                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
18287                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
18288                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
18289                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
18290                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
18291                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
18292                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
18293                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
18294                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
18295                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
18296                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
18297                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
18298                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
18299                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
18300                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
18301                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
18302                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
18303                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
18304                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
18305                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
18306                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
18307                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
18308                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
18309                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
18310                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
18311                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
18312                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
18313                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
18314                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
18315                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
18316                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
18317                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
18318                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
18319                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
18320                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
18321                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
18322                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
18323                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
18324                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
18325                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
18326                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
18327                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
18328                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
18329                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
18330                        		.dbg	line,	"include\routines_TITLE.c", 12; void joypad_BUTTONS_TITLE()
18331                        		.dbg	line,	"include\routines_TITLE.c", 13; {
18332                        	;***********************
18333                        	;***********************
18334                        	
18335                        		.hucc
18336    1D:DDA1             		.proc		_joypad_BUTTONS_TITLE
18337                        		__enter		_joypad_BUTTONS_TITLE
18338                        	
18339                        		.dbg	line,	"include\routines_TITLE.c", 14; int selector_pos;
18340                        	
18341                        		.dbg	line,	"include\routines_TITLE.c", 15; 
18342                        	
18343                        		.dbg	line,	"include\routines_TITLE.c", 16; if(joytrg(JOYPAD_1) & JOY_RIGHT)
18344                        		__ld.uiq	0
         1D:DDA1  62         			cla
18345                        		 _joytrg.1
         1D:DDA2  AA         			tax
         1D:DDA3  BD 2D 22   			lda	joytrg, x
         1D:DDA6  BC DD 22   			ldy	joy6trg, x
18346                        		__tand.wi	32
         1D:DDA9  29 20      			and	#32
         1D:DDAB  C9 01      	!:		cmp	#1
18347                        		__bfalse	.LL921
         1D:DDAD  B0 03 4C 3A			bcc	.LL921
         1D:DDB1  DE          
18348                        	
18349                        		.dbg	line,	"include\routines_TITLE.c", 17; {   
18350                        	
18351                        		.dbg	line,	"include\routines_TITLE.c", 18; spr_set(0);
18352                        		__ld.uiq	0
         1D:DDB2  62         			cla
18353                        		__call		_spr_set.1
         1D:DDB3  20 F1 E7   			call	_spr_set.1
18354                        	
18355                        		.dbg	line,	"include\routines_TITLE.c", 19; selector_pos = spr_get_y();
18356                        		__call		_spr_get_y
         1D:DDB6  20 8F E8   			call	_spr_get_y
18357                        		__st.wmq	__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1D:DDB9  8D 22 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1D:DDBC  8C 23 2C   			sty.h	__joypad_BUTTONS_TITLE_end - 2
18358                        	
18359                        		.dbg	line,	"include\routines_TITLE.c", 21; if(selector_pos == 160)
18360                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1D:DDBF  AD 22 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1D:DDC2  AC 23 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
18361                        		__equ_w.wi	160
         1D:DDC5  C9 A0      			cmp.l	#160
         1D:DDC7  D0 04      			bne	!false+
         1D:DDC9  C0 00      			cpy.h	#160
         1D:DDCB  F0 01      			beq	!+
         1D:DDCD  18         	!false:		clc
         1D:DDCE             	!:
18362                        		__bfalse	.LL922
         1D:DDCE  90 2B      			bcc	.LL922
18363                        	
18364                        		.dbg	line,	"include\routines_TITLE.c", 22; {
18365                        	
18366                        		.dbg	line,	"include\routines_TITLE.c", 23; if(life_amount < 9)
18367                        		__ld.umq	_life_amount
         1D:DDD0  AD 2E 23   			lda	_life_amount
18368                        		__ult_b.uiq	9
         1D:DDD3  C9 09      			cmp	#9		; Subtract integer from A.
         1D:DDD5  6A         			ror	a		; CC if A < integer.
         1D:DDD6  49 80      			eor	#$80
         1D:DDD8  2A         			rol	a
18369                        		__bfalse	.LL923
         1D:DDD9  B0 03 4C EB			bcc	.LL923
         1D:DDDD  DF          
18370                        	
18371                        		.dbg	line,	"include\routines_TITLE.c", 24; {
18372                        	
18373                        		.dbg	line,	"include\routines_TITLE.c", 25; life_amount += 1;
18374                        		__add_st.umiq	1, _life_amount
         1D:DDDE  EE 2E 23   			inc	_life_amount
18375                        	
18376                        		.dbg	line,	"include\routines_TITLE.c", 26; put_number(life_amount   	,  1 , 20 , 20);
18377                        		__ld.um		_life_amount
         1D:DDE1  AD 2E 23   			lda	_life_amount
         1D:DDE4  C2         			cly
18378                        		__st.wmq	_bx
         1D:DDE5  85 FA      			sta.l	_bx
         1D:DDE7  84 FB      			sty.h	_bx
18379                        		__st.umiq	1, _cl
         1D:DDE9  A9 01      			lda.l	#1
         1D:DDEB  85 FC      			sta	_cl
18380                        		__st.umiq	20, _dil
         1D:DDED  A9 14      			lda.l	#20
         1D:DDEF  85 F0      			sta	_dil
18381                        		__st.umiq	20, _dih
         1D:DDF1  A9 14      			lda.l	#20
         1D:DDF3  85 F1      			sta	_dih
18382                        		__call		_put_number.4
         1D:DDF5  20 63 FF   			call	_put_number.4
18383                        	
18384                        		.dbg	line,	"include\routines_TITLE.c", 27; }
18385                        	
18386                        		.dbg	line,	"include\routines_TITLE.c", 28; }
18387    1D:DDF8             	.LL923	.alias		.LL924
18388                        	
18389                        		.dbg	line,	"include\routines_TITLE.c", 30; else if(selector_pos == 168)
18390                        		__bra		.LL924
         1D:DDF8  4C EB DF   			bra	.LL924
18391    1D:DDFB             	.LL922:
18392                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1D:DDFB  AD 22 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1D:DDFE  AC 23 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
18393                        		__equ_w.wi	168
         1D:DE01  C9 A8      			cmp.l	#168
         1D:DE03  D0 04      			bne	!false+
         1D:DE05  C0 00      			cpy.h	#168
         1D:DE07  F0 01      			beq	!+
         1D:DE09  18         	!false:		clc
         1D:DE0A             	!:
18394                        		__bfalse	.LL925
         1D:DE0A  B0 03 4C EB			bcc	.LL925
         1D:DE0E  DF          
18395                        	
18396                        		.dbg	line,	"include\routines_TITLE.c", 31; {
18397                        	
18398                        		.dbg	line,	"include\routines_TITLE.c", 32; if(credits_amount < 5)
18399                        		__ld.umq	_credits_amount
         1D:DE0F  AD 2F 23   			lda	_credits_amount
18400                        		__ult_b.uiq	5
         1D:DE12  C9 05      			cmp	#5		; Subtract integer from A.
         1D:DE14  6A         			ror	a		; CC if A < integer.
         1D:DE15  49 80      			eor	#$80
         1D:DE17  2A         			rol	a
18401                        		__bfalse	.LL926
         1D:DE18  B0 03 4C EB			bcc	.LL926
         1D:DE1C  DF          
18402                        	
18403                        		.dbg	line,	"include\routines_TITLE.c", 33; {
18404                        	
18405                        		.dbg	line,	"include\routines_TITLE.c", 34; credits_amount += 1;
18406                        		__add_st.umiq	1, _credits_amount
         1D:DE1D  EE 2F 23   			inc	_credits_amount
18407                        	
18408                        		.dbg	line,	"include\routines_TITLE.c", 35; put_number(credits_amount   ,  1 , 20 , 21);
18409                        		__ld.um		_credits_amount
         1D:DE20  AD 2F 23   			lda	_credits_amount
         1D:DE23  C2         			cly
18410                        		__st.wmq	_bx
         1D:DE24  85 FA      			sta.l	_bx
         1D:DE26  84 FB      			sty.h	_bx
18411                        		__st.umiq	1, _cl
         1D:DE28  A9 01      			lda.l	#1
         1D:DE2A  85 FC      			sta	_cl
18412                        		__st.umiq	20, _dil
         1D:DE2C  A9 14      			lda.l	#20
         1D:DE2E  85 F0      			sta	_dil
18413                        		__st.umiq	21, _dih
         1D:DE30  A9 15      			lda.l	#21
         1D:DE32  85 F1      			sta	_dih
18414                        		__call		_put_number.4
         1D:DE34  20 63 FF   			call	_put_number.4
18415                        	
18416                        		.dbg	line,	"include\routines_TITLE.c", 36; }
18417                        	
18418                        		.dbg	line,	"include\routines_TITLE.c", 37; }
18419    1D:DE37             	.LL926	.alias		.LL927
18420                        	
18421                        		.dbg	line,	"include\routines_TITLE.c", 38; }
18422    1D:DE37             	.LL925	.alias		.LL927
18423    1D:DE37             	.LL924	.alias		.LL927
18424                        	
18425                        		.dbg	line,	"include\routines_TITLE.c", 40; 
18426                        	
18427                        		.dbg	line,	"include\routines_TITLE.c", 41; else if(joytrg(JOYPAD_1) & JOY_LEFT)
18428                        		__bra		.LL927
         1D:DE37  4C EB DF   			bra	.LL927
18429    1D:DE3A             	.LL921:
18430                        		__ld.uiq	0
         1D:DE3A  62         			cla
18431                        		 _joytrg.1
         1D:DE3B  AA         			tax
         1D:DE3C  BD 2D 22   			lda	joytrg, x
         1D:DE3F  BC DD 22   			ldy	joy6trg, x
18432                        		__tand.wi	128
         1D:DE42  29 80      			and	#128
         1D:DE44  C9 01      	!:		cmp	#1
18433                        		__bfalse	.LL928
         1D:DE46  B0 03 4C CD			bcc	.LL928
         1D:DE4A  DE          
18434                        	
18435                        		.dbg	line,	"include\routines_TITLE.c", 42; {
18436                        	
18437                        		.dbg	line,	"include\routines_TITLE.c", 43; spr_set(0);
18438                        		__ld.uiq	0
         1D:DE4B  62         			cla
18439                        		__call		_spr_set.1
         1D:DE4C  20 F1 E7   			call	_spr_set.1
18440                        	
18441                        		.dbg	line,	"include\routines_TITLE.c", 44; selector_pos = spr_get_y();
18442                        		__call		_spr_get_y
         1D:DE4F  20 8F E8   			call	_spr_get_y
18443                        		__st.wmq	__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1D:DE52  8D 22 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1D:DE55  8C 23 2C   			sty.h	__joypad_BUTTONS_TITLE_end - 2
18444                        	
18445                        		.dbg	line,	"include\routines_TITLE.c", 46; if(selector_pos == 160)
18446                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1D:DE58  AD 22 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1D:DE5B  AC 23 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
18447                        		__equ_w.wi	160
         1D:DE5E  C9 A0      			cmp.l	#160
         1D:DE60  D0 04      			bne	!false+
         1D:DE62  C0 00      			cpy.h	#160
         1D:DE64  F0 01      			beq	!+
         1D:DE66  18         	!false:		clc
         1D:DE67             	!:
18448                        		__bfalse	.LL929
         1D:DE67  90 28      			bcc	.LL929
18449                        	
18450                        		.dbg	line,	"include\routines_TITLE.c", 47; {
18451                        	
18452                        		.dbg	line,	"include\routines_TITLE.c", 48; if(life_amount > 3)
18453                        		__ld.umq	_life_amount
         1D:DE69  AD 2E 23   			lda	_life_amount
18454                        		__ugt_b.uiq	3
         1D:DE6C  18         			clc			; Subtract integer+1 from A.
         1D:DE6D  E9 03      			sbc	#3		; CS if A > integer.
18455                        		__bfalse	.LL930
         1D:DE6F  B0 03 4C EB			bcc	.LL930
         1D:DE73  DF          
18456                        	
18457                        		.dbg	line,	"include\routines_TITLE.c", 49; {
18458                        	
18459                        		.dbg	line,	"include\routines_TITLE.c", 50; life_amount -= 1;
18460                        		__sub_st.umiq	1, _life_amount
         1D:DE74  CE 2E 23   			dec	_life_amount
18461                        	
18462                        		.dbg	line,	"include\routines_TITLE.c", 51; put_number(life_amount   	,  1 , 20 , 20);
18463                        		__ld.um		_life_amount
         1D:DE77  AD 2E 23   			lda	_life_amount
         1D:DE7A  C2         			cly
18464                        		__st.wmq	_bx
         1D:DE7B  85 FA      			sta.l	_bx
         1D:DE7D  84 FB      			sty.h	_bx
18465                        		__st.umiq	1, _cl
         1D:DE7F  A9 01      			lda.l	#1
         1D:DE81  85 FC      			sta	_cl
18466                        		__st.umiq	20, _dil
         1D:DE83  A9 14      			lda.l	#20
         1D:DE85  85 F0      			sta	_dil
18467                        		__st.umiq	20, _dih
         1D:DE87  A9 14      			lda.l	#20
         1D:DE89  85 F1      			sta	_dih
18468                        		__call		_put_number.4
         1D:DE8B  20 63 FF   			call	_put_number.4
18469                        	
18470                        		.dbg	line,	"include\routines_TITLE.c", 52; }
18471                        	
18472                        		.dbg	line,	"include\routines_TITLE.c", 53; }
18473    1D:DE8E             	.LL930	.alias		.LL931
18474                        	
18475                        		.dbg	line,	"include\routines_TITLE.c", 55; else if(selector_pos == 168)
18476                        		__bra		.LL931
         1D:DE8E  4C EB DF   			bra	.LL931
18477    1D:DE91             	.LL929:
18478                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1D:DE91  AD 22 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1D:DE94  AC 23 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
18479                        		__equ_w.wi	168
         1D:DE97  C9 A8      			cmp.l	#168
         1D:DE99  D0 04      			bne	!false+
         1D:DE9B  C0 00      			cpy.h	#168
         1D:DE9D  F0 01      			beq	!+
         1D:DE9F  18         	!false:		clc
         1D:DEA0             	!:
18480                        		__bfalse	.LL932
         1D:DEA0  B0 03 4C EB			bcc	.LL932
         1D:DEA4  DF          
18481                        	
18482                        		.dbg	line,	"include\routines_TITLE.c", 56; {
18483                        	
18484                        		.dbg	line,	"include\routines_TITLE.c", 57; if(credits_amount > 2)
18485                        		__ld.umq	_credits_amount
         1D:DEA5  AD 2F 23   			lda	_credits_amount
18486                        		__ugt_b.uiq	2
         1D:DEA8  18         			clc			; Subtract integer+1 from A.
         1D:DEA9  E9 02      			sbc	#2		; CS if A > integer.
18487                        		__bfalse	.LL933
         1D:DEAB  B0 03 4C EB			bcc	.LL933
         1D:DEAF  DF          
18488                        	
18489                        		.dbg	line,	"include\routines_TITLE.c", 58; {
18490                        	
18491                        		.dbg	line,	"include\routines_TITLE.c", 59; credits_amount -= 1;
18492                        		__sub_st.umiq	1, _credits_amount
         1D:DEB0  CE 2F 23   			dec	_credits_amount
18493                        	
18494                        		.dbg	line,	"include\routines_TITLE.c", 60; put_number(credits_amount   ,  1 , 20 , 21);
18495                        		__ld.um		_credits_amount
         1D:DEB3  AD 2F 23   			lda	_credits_amount
         1D:DEB6  C2         			cly
18496                        		__st.wmq	_bx
         1D:DEB7  85 FA      			sta.l	_bx
         1D:DEB9  84 FB      			sty.h	_bx
18497                        		__st.umiq	1, _cl
         1D:DEBB  A9 01      			lda.l	#1
         1D:DEBD  85 FC      			sta	_cl
18498                        		__st.umiq	20, _dil
         1D:DEBF  A9 14      			lda.l	#20
         1D:DEC1  85 F0      			sta	_dil
18499                        		__st.umiq	21, _dih
         1D:DEC3  A9 15      			lda.l	#21
         1D:DEC5  85 F1      			sta	_dih
18500                        		__call		_put_number.4
         1D:DEC7  20 63 FF   			call	_put_number.4
18501                        	
18502                        		.dbg	line,	"include\routines_TITLE.c", 61; }
18503                        	
18504                        		.dbg	line,	"include\routines_TITLE.c", 62; }
18505    1D:DECA             	.LL933	.alias		.LL934
18506                        	
18507                        		.dbg	line,	"include\routines_TITLE.c", 63; }
18508    1D:DECA             	.LL932	.alias		.LL934
18509    1D:DECA             	.LL931	.alias		.LL934
18510                        	
18511                        		.dbg	line,	"include\routines_TITLE.c", 66; else if(joytrg(JOYPAD_1) & JOY_UP)
18512                        		__bra		.LL934
         1D:DECA  4C EB DF   			bra	.LL934
18513    1D:DECD             	.LL928:
18514                        		__ld.uiq	0
         1D:DECD  62         			cla
18515                        		 _joytrg.1
         1D:DECE  AA         			tax
         1D:DECF  BD 2D 22   			lda	joytrg, x
         1D:DED2  BC DD 22   			ldy	joy6trg, x
18516                        		__tand.wi	16
         1D:DED5  29 10      			and	#16
         1D:DED7  C9 01      	!:		cmp	#1
18517                        		__bfalse	.LL935
         1D:DED9  90 5A      			bcc	.LL935
18518                        	
18519                        		.dbg	line,	"include\routines_TITLE.c", 67; {
18520                        	
18521                        		.dbg	line,	"include\routines_TITLE.c", 68; spr_set(0);
18522                        		__ld.uiq	0
         1D:DEDB  62         			cla
18523                        		__call		_spr_set.1
         1D:DEDC  20 F1 E7   			call	_spr_set.1
18524                        	
18525                        		.dbg	line,	"include\routines_TITLE.c", 69; selector_pos = spr_get_y();
18526                        		__call		_spr_get_y
         1D:DEDF  20 8F E8   			call	_spr_get_y
18527                        		__st.wmq	__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1D:DEE2  8D 22 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1D:DEE5  8C 23 2C   			sty.h	__joypad_BUTTONS_TITLE_end - 2
18528                        	
18529                        		.dbg	line,	"include\routines_TITLE.c", 71; if(selector_pos == 160)
18530                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1D:DEE8  AD 22 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1D:DEEB  AC 23 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
18531                        		__equ_w.wi	160
         1D:DEEE  C9 A0      			cmp.l	#160
         1D:DEF0  D0 04      			bne	!false+
         1D:DEF2  C0 00      			cpy.h	#160
         1D:DEF4  F0 01      			beq	!+
         1D:DEF6  18         	!false:		clc
         1D:DEF7             	!:
18532                        		__bfalse	.LL936
         1D:DEF7  90 14      			bcc	.LL936
18533                        	
18534                        		.dbg	line,	"include\routines_TITLE.c", 72; {
18535                        	
18536                        		.dbg	line,	"include\routines_TITLE.c", 73; selector_pos = 144;
18537                        		__st.wmiq	144, __joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1D:DEF9  A9 90      			lda.l	#144
         1D:DEFB  8D 22 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1D:DEFE  9C 23 2C   			stz.h	__joypad_BUTTONS_TITLE_end - 2
18538                        	
18539                        		.dbg	line,	"include\routines_TITLE.c", 74; spr_y(selector_pos);
18540                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1D:DF01  AD 22 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1D:DF04  AC 23 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
18541                        		__call		_spr_y.1
         1D:DF07  20 2D E8   			call	_spr_y.1
18542                        	
18543                        		.dbg	line,	"include\routines_TITLE.c", 75; }
18544                        	
18545                        		.dbg	line,	"include\routines_TITLE.c", 77; else if(selector_pos == 168)
18546                        		__bra		.LL937
         1D:DF0A  4C EB DF   			bra	.LL937
18547    1D:DF0D             	.LL936:
18548                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1D:DF0D  AD 22 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1D:DF10  AC 23 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
18549                        		__equ_w.wi	168
         1D:DF13  C9 A8      			cmp.l	#168
         1D:DF15  D0 04      			bne	!false+
         1D:DF17  C0 00      			cpy.h	#168
         1D:DF19  F0 01      			beq	!+
         1D:DF1B  18         	!false:		clc
         1D:DF1C             	!:
18550                        		__bfalse	.LL938
         1D:DF1C  B0 03 4C EB			bcc	.LL938
         1D:DF20  DF          
18551                        	
18552                        		.dbg	line,	"include\routines_TITLE.c", 78; {
18553                        	
18554                        		.dbg	line,	"include\routines_TITLE.c", 79; selector_pos = 160;
18555                        		__st.wmiq	160, __joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1D:DF21  A9 A0      			lda.l	#160
         1D:DF23  8D 22 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1D:DF26  9C 23 2C   			stz.h	__joypad_BUTTONS_TITLE_end - 2
18556                        	
18557                        		.dbg	line,	"include\routines_TITLE.c", 80; spr_y(selector_pos);
18558                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1D:DF29  AD 22 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1D:DF2C  AC 23 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
18559                        		__call		_spr_y.1
         1D:DF2F  20 2D E8   			call	_spr_y.1
18560                        	
18561                        		.dbg	line,	"include\routines_TITLE.c", 81; }
18562                        	
18563                        		.dbg	line,	"include\routines_TITLE.c", 82; }
18564    1D:DF32             	.LL938	.alias		.LL939
18565    1D:DF32             	.LL937	.alias		.LL939
18566                        	
18567                        		.dbg	line,	"include\routines_TITLE.c", 85; else if(joytrg(JOYPAD_1) & JOY_DOWN)
18568                        		__bra		.LL939
         1D:DF32  4C EB DF   			bra	.LL939
18569    1D:DF35             	.LL935:
18570                        		__ld.uiq	0
         1D:DF35  62         			cla
18571                        		 _joytrg.1
         1D:DF36  AA         			tax
         1D:DF37  BD 2D 22   			lda	joytrg, x
         1D:DF3A  BC DD 22   			ldy	joy6trg, x
18572                        		__tand.wi	64
         1D:DF3D  29 40      			and	#64
         1D:DF3F  C9 01      	!:		cmp	#1
18573                        		__bfalse	.LL940
         1D:DF41  90 55      			bcc	.LL940
18574                        	
18575                        		.dbg	line,	"include\routines_TITLE.c", 86; {
18576                        	
18577                        		.dbg	line,	"include\routines_TITLE.c", 87; spr_set(0);
18578                        		__ld.uiq	0
         1D:DF43  62         			cla
18579                        		__call		_spr_set.1
         1D:DF44  20 F1 E7   			call	_spr_set.1
18580                        	
18581                        		.dbg	line,	"include\routines_TITLE.c", 88; selector_pos = spr_get_y();
18582                        		__call		_spr_get_y
         1D:DF47  20 8F E8   			call	_spr_get_y
18583                        		__st.wmq	__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1D:DF4A  8D 22 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1D:DF4D  8C 23 2C   			sty.h	__joypad_BUTTONS_TITLE_end - 2
18584                        	
18585                        		.dbg	line,	"include\routines_TITLE.c", 90; if(selector_pos == 144)
18586                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1D:DF50  AD 22 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1D:DF53  AC 23 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
18587                        		__equ_w.wi	144
         1D:DF56  C9 90      			cmp.l	#144
         1D:DF58  D0 04      			bne	!false+
         1D:DF5A  C0 00      			cpy.h	#144
         1D:DF5C  F0 01      			beq	!+
         1D:DF5E  18         	!false:		clc
         1D:DF5F             	!:
18588                        		__bfalse	.LL941
         1D:DF5F  90 13      			bcc	.LL941
18589                        	
18590                        		.dbg	line,	"include\routines_TITLE.c", 91; {
18591                        	
18592                        		.dbg	line,	"include\routines_TITLE.c", 92; selector_pos = 160;
18593                        		__st.wmiq	160, __joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1D:DF61  A9 A0      			lda.l	#160
         1D:DF63  8D 22 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1D:DF66  9C 23 2C   			stz.h	__joypad_BUTTONS_TITLE_end - 2
18594                        	
18595                        		.dbg	line,	"include\routines_TITLE.c", 93; spr_y(selector_pos);
18596                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1D:DF69  AD 22 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1D:DF6C  AC 23 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
18597                        		__call		_spr_y.1
         1D:DF6F  20 2D E8   			call	_spr_y.1
18598                        	
18599                        		.dbg	line,	"include\routines_TITLE.c", 94; }
18600                        	
18601                        		.dbg	line,	"include\routines_TITLE.c", 96; else if(selector_pos == 160)
18602                        		__bra		.LL942
         1D:DF72  80 77      			bra	.LL942
18603    1D:DF74             	.LL941:
18604                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1D:DF74  AD 22 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1D:DF77  AC 23 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
18605                        		__equ_w.wi	160
         1D:DF7A  C9 A0      			cmp.l	#160
         1D:DF7C  D0 04      			bne	!false+
         1D:DF7E  C0 00      			cpy.h	#160
         1D:DF80  F0 01      			beq	!+
         1D:DF82  18         	!false:		clc
         1D:DF83             	!:
18606                        		__bfalse	.LL943
         1D:DF83  90 66      			bcc	.LL943
18607                        	
18608                        		.dbg	line,	"include\routines_TITLE.c", 97; {
18609                        	
18610                        		.dbg	line,	"include\routines_TITLE.c", 98; selector_pos = 168;
18611                        		__st.wmiq	168, __joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1D:DF85  A9 A8      			lda.l	#168
         1D:DF87  8D 22 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1D:DF8A  9C 23 2C   			stz.h	__joypad_BUTTONS_TITLE_end - 2
18612                        	
18613                        		.dbg	line,	"include\routines_TITLE.c", 99; spr_y(selector_pos);
18614                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1D:DF8D  AD 22 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1D:DF90  AC 23 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
18615                        		__call		_spr_y.1
         1D:DF93  20 2D E8   			call	_spr_y.1
18616                        	
18617                        		.dbg	line,	"include\routines_TITLE.c", 100; }        
18618                        	
18619                        		.dbg	line,	"include\routines_TITLE.c", 101; }
18620    1D:DF96             	.LL943	.alias		.LL944
18621    1D:DF96             	.LL942	.alias		.LL944
18622                        	
18623                        		.dbg	line,	"include\routines_TITLE.c", 104; else if(joytrg(JOYPAD_1) & JOY_I || joytrg(JOYPAD_1) & JOY_II || joytrg(JOYPAD_1) & JOY_RUN)
18624                        		__bra		.LL944
         1D:DF96  80 53      			bra	.LL944
18625    1D:DF98             	.LL940:
18626                        		__ld.uiq	0
         1D:DF98  62         			cla
18627                        		 _joytrg.1
         1D:DF99  AA         			tax
         1D:DF9A  BD 2D 22   			lda	joytrg, x
         1D:DF9D  BC DD 22   			ldy	joy6trg, x
18628                        		__tand.wi	1
         1D:DFA0  29 01      			and	#1
         1D:DFA2  C9 01      	!:		cmp	#1
18629                        		__btrue		.LL946
         1D:DFA4  B0 0C      			bcs	.LL946
18630                        		__ld.uiq	0
         1D:DFA6  62         			cla
18631                        		 _joytrg.1
         1D:DFA7  AA         			tax
         1D:DFA8  BD 2D 22   			lda	joytrg, x
         1D:DFAB  BC DD 22   			ldy	joy6trg, x
18632                        		__tand.wi	2
         1D:DFAE  29 02      			and	#2
         1D:DFB0  C9 01      	!:		cmp	#1
18633    1D:DFB2             	.LL946:
18634                        		__btrue		.LL947
         1D:DFB2  B0 0C      			bcs	.LL947
18635                        		__ld.uiq	0
         1D:DFB4  62         			cla
18636                        		 _joytrg.1
         1D:DFB5  AA         			tax
         1D:DFB6  BD 2D 22   			lda	joytrg, x
         1D:DFB9  BC DD 22   			ldy	joy6trg, x
18637                        		__tand.wi	8
         1D:DFBC  29 08      			and	#8
         1D:DFBE  C9 01      	!:		cmp	#1
18638    1D:DFC0             	.LL947:
18639                        		__bfalse	.LL945
         1D:DFC0  90 29      			bcc	.LL945
18640                        	
18641                        		.dbg	line,	"include\routines_TITLE.c", 105; {
18642                        	
18643                        		.dbg	line,	"include\routines_TITLE.c", 106; spr_set(0);
18644                        		__ld.uiq	0
         1D:DFC2  62         			cla
18645                        		__call		_spr_set.1
         1D:DFC3  20 F1 E7   			call	_spr_set.1
18646                        	
18647                        		.dbg	line,	"include\routines_TITLE.c", 107; selector_pos = spr_get_y();
18648                        		__call		_spr_get_y
         1D:DFC6  20 8F E8   			call	_spr_get_y
18649                        		__st.wmq	__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1D:DFC9  8D 22 2C   			sta.l	__joypad_BUTTONS_TITLE_end - 2
         1D:DFCC  8C 23 2C   			sty.h	__joypad_BUTTONS_TITLE_end - 2
18650                        	
18651                        		.dbg	line,	"include\routines_TITLE.c", 109; // IF CURSOR IS ON START GAME //
18652                        	
18653                        		.dbg	line,	"include\routines_TITLE.c", 110; if(selector_pos == 144)
18654                        		__ld.wm		__joypad_BUTTONS_TITLE_end - 2  /* selector_pos */
         1D:DFCF  AD 22 2C   			lda.l	__joypad_BUTTONS_TITLE_end - 2
         1D:DFD2  AC 23 2C   			ldy.h	__joypad_BUTTONS_TITLE_end - 2
18655                        		__equ_w.wi	144
         1D:DFD5  C9 90      			cmp.l	#144
         1D:DFD7  D0 04      			bne	!false+
         1D:DFD9  C0 00      			cpy.h	#144
         1D:DFDB  F0 01      			beq	!+
         1D:DFDD  18         	!false:		clc
         1D:DFDE             	!:
18656                        		__bfalse	.LL948
         1D:DFDE  90 0B      			bcc	.LL948
18657                        	
18658                        		.dbg	line,	"include\routines_TITLE.c", 111; {
18659                        	
18660                        		.dbg	line,	"include\routines_TITLE.c", 112; // DISABLE DISPLAY //
18661                        	
18662                        		.dbg	line,	"include\routines_TITLE.c", 113; disp_off();
18663                        		__call		_disp_off
         1D:DFE0  20 3D E4   			call	_disp_off
18664                        	
18665                        		.dbg	line,	"include\routines_TITLE.c", 115; sequence_loaded = FALSE;
18666                        		__st.umiq	0, _sequence_loaded
         1D:DFE3  9C 14 23   			stz	_sequence_loaded
18667                        	
18668                        		.dbg	line,	"include\routines_TITLE.c", 117; sequence_id = SEQUENCE_INTRO;
18669                        		__st.umiq	1, _sequence_id
         1D:DFE6  A9 01      			lda.l	#1
         1D:DFE8  8D 13 23   			sta	_sequence_id
18670                        	
18671                        		.dbg	line,	"include\routines_TITLE.c", 118; }
18672                        	
18673                        		.dbg	line,	"include\routines_TITLE.c", 119; }
18674    1D:DFEB             	.LL948:
18675                        	
18676                        		.dbg	line,	"include\routines_TITLE.c", 120; }
18677    1D:DFEB             	.LL945:
18678    1D:DFEB             	.LL944:
18679    1D:DFEB             	.LL939:
18680    1D:DFEB             	.LL934:
18681    1D:DFEB             	.LL927:
18682    1D:DFEB             	.LL920:
18683                        		__return	0
         1D:DFEB  4C EF FF   			jmp	leave_proc
18684                        		.dbg	clear
18685                        		.endp
18686               2310     		.bss
18687    F8:2310             	__joypad_BUTTONS_TITLE_end	.alias	leaf_stack
18688               E31D     		.code
18689                        		.pceas
18690                        	
18691                        		.dbg	line,	"main.c", 30; #include "include/init.c"
18692                        		.dbg	line,	"include\init.c", 1; #include "huc.h"
18693                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 1; #ifndef _hucc_legacy_h
18694                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 2; #define _hucc_legacy_h
18695                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 4; /****************************************************************************
18696                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 5; ; ***************************************************************************
18697                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 6; ;
18698                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 7; ; huc.h
18699                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 8; ;
18700                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 9; ; HuCC wrapper file to include a default set of HuC-compatible functions.
18701                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 10; ;
18702                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 11; ; Copyright John Brandwood 2024.
18703                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 12; ;
18704                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 13; ; Distributed under the Boost Software License, Version 1.0.
18705                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
18706                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
18707                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 16; ;
18708                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 17; ; ***************************************************************************
18709                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 18; ; ***************************************************************************
18710                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 19; ;
18711                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 20; ; When the HuCC compiler is invoked with the "--legacy" option to compile old
18712                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 21; ; projects, then this "huc.h" file is automatically included.
18713                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 22; ;
18714                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 23; ; This file includes a set of the individual HuCC headers which correspond to
18715                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 24; ; HuC's built-in functions and MagicKit library.
18716                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 25; ;
18717                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 26; ; New HuCC projects should, preferably, include the specific headers that are
18718                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 27; ; needed, which will then allow them to replace parts of the standard library
18719                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 28; ; with newer functions, or they can just manually include this "huc.h" file.
18720                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 29; ;
18721                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 30; ; ***************************************************************************
18722                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 31; ; **************************************************************************/
18723                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 33; #include "hucc-systemcard.h"
18724                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 34; #include "hucc-baselib.h"
18725                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 35; #include "hucc-gfx.h"
18726                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 36; #include "hucc-old-scroll.h"
18727                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 37; #include "hucc-old-spr.h"
18728                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 38; #include "hucc-old-map.h"
18729                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 39; #include "hucc-old-line.h"
18730                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 41; #include <stdlib.h>
18731                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 42; #include <string.h>
18732                        		.dbg	line,	"..\..\..\include\hucc\huc.h", 44; #endif // _hucc_legacy_h
18733                        		.dbg	line,	"include\init.c", 2; #include "hucc-scroll.h"
18734                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 1; #ifndef _hucc_scroll_h
18735                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 2; #define _hucc_scroll_h
18736                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 4; /****************************************************************************
18737                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 5; ; ***************************************************************************
18738                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 6; ;
18739                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 7; ; hucc-scroll.h
18740                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 8; ;
18741                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 9; ; Routines for a fast split-screen scrolling system.
18742                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 10; ;
18743                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 11; ; Copyright John Brandwood 2024.
18744                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 12; ;
18745                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 13; ; Distributed under the Boost Software License, Version 1.0.
18746                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
18747                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
18748                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 16; ;
18749                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 17; ; ***************************************************************************
18750                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 18; ; ***************************************************************************
18751                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 19; ;
18752                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 20; ; The maximum number of splits for each screen layer is set in your project's
18753                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 21; ; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
18754                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 22; ;
18755                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 23; ; Your first active split must be defined to start at screen line 0, and then
18756                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 24; ; the rest of the active splits must be in increasing line order to match the
18757                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 25; ; way that the PC Engine displays the output image.
18758                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 26; ;
18759                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 27; ; You can have disabled splits interleaved with your active splits.
18760                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 28; ;
18761                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 29; ; Splits that are normally disabled can be used to create full screen effects
18762                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 30; ; such as bouncing the screen up and down by adding blank areas at the top or
18763                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 31; ; bottom of the screen, and then rapidly changing the height of those areas.
18764                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 32; ;
18765                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 33; ; ***************************************************************************
18766                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 34; ; **************************************************************************/
18767                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 36; // *************
18768                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 37; // VDC bits for display_flags ...
18769                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 38; // *************
18770                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 40; #ifndef BKG_OFF
18771                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 41; #define BKG_OFF 0x00
18772                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 42; #endif
18773                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 44; #ifndef SPR_OFF
18774                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 45; #define SPR_OFF 0x00
18775                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 46; #endif
18776                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 48; #ifndef BKG_ON
18777                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 49; #define BKG_ON 0x80
18778                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 50; #endif
18779                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 52; #ifndef SPR_ON
18780                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 53; #define SPR_ON 0x40
18781                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 54; #endif
18782                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 56; // *************
18783                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 57; // Functions in hucc-scroll.asm ...
18784                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 58; // *************
18785                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 60; #ifdef __HUCC__
18786                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 62; #asmdef	HUCC_USES_NEW_SCROLL 1
18787                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 64; extern void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
18788                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 65; extern void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
18789                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 67; extern void __fastcall disable_split( unsigned char index<acc> );
18790                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 68; extern void __fastcall sgx_disable_split( unsigned char index<acc> );
18791                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 70; extern void __fastcall __macro disable_all_splits( void );
18792                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 71; extern void __fastcall __macro sgx_disable_all_splits( void );
18793                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 73; #asm
18794                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 74; .macro	_disable_all_splits
18795                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 75; ldy	#HUCC_PCE_SPLITS - 1
18796                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 76; !loop:		tya
18797                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 77; call	_disable_split.1
18798                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 78; dey
18799                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 79; bpl	!loop-
18800                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 80; .endm
18801                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 82; .macro	_sgx_disable_all_splits
18802                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 83; ldy	#HUCC_SGX_SPLITS - 1
18803                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 84; !loop:		tya
18804                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 85; call	_sgx_disable_split.1
18805                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 86; dey
18806                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 87; bpl	!loop-
18807                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 88; .endm
18808                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 89; #endasm
18809                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 91; #endif // __HUCC__
18810                        		.dbg	line,	"..\..\..\include\hucc\hucc-scroll.h", 93; #endif // _hucc_scroll_h
18811                        		.dbg	line,	"include\init.c", 3; #include "hucc-chrmap.h"
18812                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 1; #ifndef _hucc_chrmap_h
18813                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 2; #define _hucc_chrmap_h
18814                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 4; /****************************************************************************
18815                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 5; ; ***************************************************************************
18816                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 6; ;
18817                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 7; ; hucc-chrmap.h
18818                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 8; ;
18819                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 9; ; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
18820                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 10; ;
18821                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 11; ; Copyright John Brandwood 2025.
18822                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 12; ;
18823                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
18824                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
18825                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
18826                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 16; ;
18827                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 17; ; ***************************************************************************
18828                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 18; ; ***************************************************************************
18829                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 19; ;
18830                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 20; ; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
18831                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 21; ;
18832                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 22; ; The maximum total size for a chrmap is 16KBytes, which allows for maps up
18833                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 23; ; to 256x32 tiles (2048x256 pixels).
18834                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 24; ;
18835                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 25; ; ***************************************************************************
18836                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 26; ; **************************************************************************/
18837                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 28; // *************
18838                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 29; // This code extends the blkmap library ...
18839                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 30; // *************
18840                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 32; #include "hucc-blkmap.h"
18841                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 34; // *************
18842                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 35; // Functions in chrmap.asm ...
18843                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 36; // *************
18844                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 38; #ifdef __HUCC__
18845                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 40; #asmdef	HUCC_USES_CHRMAP 1
18846                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 42; extern void __fastcall __nop set_chrmap( unsigned char __far *chrmap<vdc_map_bank:vdc_map_addr>, unsigned char tiles_w<vdc_map_line_w> );
18847                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 44; extern void __fastcall draw_bat( void );
18848                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 45; extern void __fastcall scroll_bat( void );
18849                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 47; extern void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
18850                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 49; #ifdef _SGX
18851                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 51; extern void __fastcall __nop sgx_set_chrmap( unsigned char __far *chrmap<sgx_map_bank:sgx_map_addr>, unsigned char tiles_w<sgx_map_line_w> );
18852                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 53; extern void __fastcall sgx_draw_bat( void );
18853                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 54; extern void __fastcall sgx_scroll_bat( void );
18854                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 56; extern void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
18855                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 58; #endif
18856                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 60; #endif // __HUCC__
18857                        		.dbg	line,	"..\..\..\include\hucc\hucc-chrmap.h", 62; #endif // _hucc_chrmap_h
18858                        		.dbg	line,	"include\init.c", 4; #include "hucc-blkmap.h"
18859                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 1; #ifndef _hucc_blkmap_h
18860                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 2; #define _hucc_blkmap_h
18861                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 4; /****************************************************************************
18862                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 5; ; ***************************************************************************
18863                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 6; ;
18864                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 7; ; hucc-blkmap.h
18865                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 8; ;
18866                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 9; ; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
18867                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 10; ;
18868                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 11; ; Copyright John Brandwood 2025.
18869                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 12; ;
18870                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 13; ; Distributed under the Boost Software License, Version 1.0.
18871                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 14; ; (See accompanying file LICENSE_1_0.txt or copy at
18872                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 15; ;  http://www.boost.org/LICENSE_1_0.txt)
18873                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 16; ;
18874                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 17; ; ***************************************************************************
18875                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 18; ; ***************************************************************************
18876                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 19; ;
18877                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 20; ; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
18878                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 21; ;
18879                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 22; ; The maximum total size for a blkmap is 16KBytes, which allows for maps up
18880                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 23; ; to 128x128 blocks (2048x2048 pixels).
18881                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 24; ;
18882                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 25; ; Huge multi-screen blkmaps are also supported (optionally).
18883                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 26; ;
18884                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 27; ; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
18885                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 28; ;
18886                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 29; ; The maximum total size for a multi-screen map is 8KBytes, which allows for
18887                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 30; ; a total of 1024 screens.
18888                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 31; ;
18889                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 32; ; ***************************************************************************
18890                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 33; ; **************************************************************************/
18891                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 35; // *************
18892                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 36; // Functions in blkmap.asm ...
18893                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 37; // *************
18894                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 39; #ifdef __HUCC__
18895                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 41; #asmdef	HUCC_USES_BLKMAP 1
18896                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 43; // Current top-left of drawn map in pixels.
18897                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 44; extern unsigned int   vdc_map_pxl_x;
18898                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 45; extern unsigned int   vdc_map_pxl_y;
18899                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 47; // Width and height to draw/scroll in characters (not tiles).
18900                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 48; extern unsigned char  vdc_map_draw_w;
18901                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 49; extern unsigned char  vdc_map_draw_h;
18902                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 51; // Width of map (or multi-screen BAT) in tiles.
18903                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 52; extern unsigned char  vdc_map_line_w;
18904                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 54; // Width of map in screens (if multi-screen map).
18905                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 55; extern unsigned char  vdc_map_scrn_w;
18906                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 57; // Extra information returned by get_map_block() and sgx_get_map_block(),
18907                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 58; // which are the collision flags and the mask/overlay sprite for the BLK.
18908                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 59; extern unsigned char  map_blk_flag;
18909                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 60; extern unsigned char  map_blk_mask;
18910                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 62; extern unsigned char  vdc_scr_bank;
18911                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 63; extern unsigned char *vdc_scr_addr;
18912                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 65; extern unsigned char  vdc_map_bank;
18913                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 66; extern unsigned char *vdc_map_addr;
18914                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 68; extern unsigned char  vdc_blk_bank;
18915                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 69; extern unsigned char *vdc_blk_addr;
18916                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 71; extern unsigned char  vdc_tbl_bank;
18917                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 72; extern unsigned char *vdc_tbl_addr;
18918                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 74; extern void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blocks<_al> );
18919                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 75; extern void __fastcall __macro set_blkmap( unsigned char __far *blk_map<vdc_map_bank:vdc_map_addr>, unsigned char blocks_w<vdc_map_line_w> );
18920                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 76; extern void __fastcall __macro set_multimap( unsigned char __far *multi_map<vdc_scr_bank:vdc_scr_addr>, unsigned char screens_w<vdc_map_scrn_w> );
18921                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 78; extern void __fastcall draw_map( void );
18922                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 79; extern void __fastcall scroll_map( void );
18923                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 81; extern void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
18924                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 83; extern unsigned char __fastcall get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
18925                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 85; #asm
18926                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 86; .macro	_set_blkmap.2
18927                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 87; stz	vdc_scr_bank
18928                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 88; .endm
18929                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 90; .macro	_set_multimap.2
18930                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 91; lda	vdc_bat_width
18931                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 92; lsr	a
18932                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 93; sta	vdc_map_line_w
18933                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 94; .endm
18934                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 96; .macro	SCREEN
18935                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 97; db	(((\1) & $1FFF) | $6000) >> 8, bank(\1)
18936                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 98; db	(((\2) & $1FFF) | $4000) >> 8, bank(\2)
18937                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 99; db	(((\3) & $1FFF) | $6000) >> 8, bank(\3)
18938                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 100; dw	(\4)
18939                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 101; .endm
18940                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 102; #endasm
18941                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 104; #ifdef _SGX
18942                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 106; // Current top-left of drawn map in pixels.
18943                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 107; extern unsigned int   sgx_map_pxl_x;
18944                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 108; extern unsigned int   sgx_map_pxl_y;
18945                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 110; // Width and height to draw/scroll in characters (not tiles).
18946                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 111; extern unsigned char  sgx_map_draw_w;
18947                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 112; extern unsigned char  sgx_map_draw_h;
18948                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 114; // Width of map (or multi-screen BAT) in tiles.
18949                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 115; extern unsigned char  sgx_map_line_w;
18950                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 117; // Width of map in screens (if multi-screen map).
18951                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 118; extern unsigned char  sgx_map_scrn_w;
18952                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 120; extern unsigned char  sgx_scr_bank;
18953                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 121; extern unsigned char *sgx_scr_addr;
18954                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 123; extern unsigned char  sgx_map_bank;
18955                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 124; extern unsigned char *sgx_map_addr;
18956                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 126; extern unsigned char  sgx_blk_bank;
18957                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 127; extern unsigned char *sgx_blk_addr;
18958                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 129; extern unsigned char  sgx_tbl_bank;
18959                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 130; extern unsigned char *sgx_tbl_addr;
18960                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 132; extern void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blocks<_al> );
18961                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 133; extern void __fastcall __macro sgx_set_blkmap( unsigned char __far *blk_map<sgx_map_bank:sgx_map_addr>, unsigned char blocks_w<sgx_map_line_w> );
18962                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 134; extern void __fastcall __macro sgx_set_multimap( unsigned char __far *multi_map<sgx_scr_bank:sgx_scr_addr>, unsigned char screens_w<sgx_map_scrn_w> );
18963                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 136; extern void __fastcall sgx_draw_map( void );
18964                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 137; extern void __fastcall sgx_scroll_map( void );
18965                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 139; extern void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
18966                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 141; extern unsigned char __fastcall sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
18967                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 143; #asm
18968                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 144; .macro	_sgx_set_blkmap.2
18969                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 145; stz	sgx_scr_bank
18970                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 146; .endm
18971                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 148; .macro	_sgx_set_multimap.2
18972                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 149; lda	sgx_bat_width
18973                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 150; lsr	a
18974                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 151; sta	sgx_map_line_w
18975                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 152; .endm
18976                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 153; #endasm
18977                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 155; #endif
18978                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 157; #endif // __HUCC__
18979                        		.dbg	line,	"..\..\..\include\hucc\hucc-blkmap.h", 159; #endif // _hucc_blkmap_h
18980                        		.dbg	line,	"include\init.c", 13; void init_SYSTEM()
18981                        		.dbg	line,	"include\init.c", 14; {
18982                        	;***********************
18983                        	;***********************
18984                        	
18985                        		.hucc
18986    1F:DD12             		.proc		_init_SYSTEM
18987                        		__enter		_init_SYSTEM
18988                        	
18989                        		.dbg	line,	"include\init.c", 15; // DISABLE DISPLAY //
18990                        	
18991                        		.dbg	line,	"include\init.c", 16; disp_off();
18992                        		__call		_disp_off
         1F:DD12  20 3D E4   			call	_disp_off
18993                        	
18994                        		.dbg	line,	"include\init.c", 18; // VSYNC //
18995                        	
18996                        		.dbg	line,	"include\init.c", 19; vsync();
18997                        		__call		_vsync
         1F:DD15  20 1D E3   			call	_vsync
18998                        	
18999                        		.dbg	line,	"include\init.c", 21; // LOAD DEFAULT FONT //
19000                        	
19001                        		.dbg	line,	"include\init.c", 22; load_default_font();
19002                        		 _load_default_font
         1F:DD18  82         			clx				; Offset to PCE VDC.
         1F:DD19  20 C7 FF   			call	huc_monofont_x
19003                        	
19004                        		.dbg	line,	"include\init.c", 25; // SET VDC 1 SCREEN SIZE (IN TILES) - 32x32 = 256 PIXELS
19005                        	
19006                        		.dbg	line,	"include\init.c", 26; set_screen_size(SCR_SIZE_32x32);
19007                        		__st.umiq	0, _al
         1F:DD1C  64 F8      			stz	_al
19008                        		__call		_set_screen_size.1
         1F:DD1E  20 EB FE   			call	_set_screen_size.1
19009                        	
19010                        		.dbg	line,	"include\init.c", 29; // SET VDC 2 SCREEN SIZE (IN TILES) - 32x32 = 256 PIXELS
19011                        	
19012                        		.dbg	line,	"include\init.c", 30; sgx_set_screen_size(SCR_SIZE_32x32);
19013                        		__st.umiq	0, _al
         1F:DD21  64 F8      			stz	_al
19014                        		__call		_sgx_set_screen_size.1
         1F:DD23  20 E1 FE   			call	_sgx_set_screen_size.1
19015                        	
19016                        		.dbg	line,	"include\init.c", 33; // INIT SPRITE ATTRIBUTE TABLE //
19017                        	
19018                        		.dbg	line,	"include\init.c", 34; init_satb();
19019                        		__call		_init_satb
         1F:DD26  20 CB E7   			call	_init_satb
19020                        	
19021                        		.dbg	line,	"include\init.c", 35; sgx_init_satb();
19022                        		__call		_sgx_init_satb
         1F:DD29  20 DE E7   			call	_sgx_init_satb
19023                        	
19024                        		.dbg	line,	"include\init.c", 38; // ENABLE DISPLAY //
19025                        	
19026                        		.dbg	line,	"include\init.c", 39; //disp_on();
19027                        	
19028                        		.dbg	line,	"include\init.c", 40; }
19029    1F:DD2C             	.LL949:
19030                        		__return	0
         1F:DD2C  4C EF FF   			jmp	leave_proc
19031                        		.dbg	clear
19032                        		.endp
19033                        		.pceas
19034                        	
19035                        		.dbg	line,	"include\init.c", 43; void init_VARIABLES()
19036                        		.dbg	line,	"include\init.c", 44; {
19037                        	;***********************
19038                        	;***********************
19039                        	
19040                        		.hucc
19041    11:DFAA             		.proc		_init_VARIABLES
19042                        		__enter		_init_VARIABLES
19043                        	
19044                        		.dbg	line,	"include\init.c", 45; sequence_id = SEQUENCE_TITLE; // SEQUENCE_TITLE | SEQUENCE_INTRO | SEQUENCE_LEVEL | SEQUENCE_SHOP
19045                        		__st.umiq	0, _sequence_id
         11:DFAA  9C 13 23   			stz	_sequence_id
19046                        	
19047                        		.dbg	line,	"include\init.c", 47; letter_index = 0;
19048                        		__st.wmiq	0, _letter_index
         11:DFAD  9C 53 26   			stz.l	_letter_index
         11:DFB0  9C 54 26   			stz.h	_letter_index
19049                        	
19050                        		.dbg	line,	"include\init.c", 49; level_id = 1;
19051                        		__st.umiq	1, _level_id
         11:DFB3  A9 01      			lda.l	#1
         11:DFB5  8D 15 23   			sta	_level_id
19052                        	
19053                        		.dbg	line,	"include\init.c", 50; display_level_text = TRUE;
19054                        		__st.umiq	1, _display_level_text
         11:DFB8  A9 01      			lda.l	#1
         11:DFBA  8D 16 23   			sta	_display_level_text
19055                        	
19056                        		.dbg	line,	"include\init.c", 52; life_amount = 3;
19057                        		__st.umiq	3, _life_amount
         11:DFBD  A9 03      			lda.l	#3
         11:DFBF  8D 2E 23   			sta	_life_amount
19058                        	
19059                        		.dbg	line,	"include\init.c", 53; credits_amount = 2;
19060                        		__st.umiq	2, _credits_amount
         11:DFC2  A9 02      			lda.l	#2
         11:DFC4  8D 2F 23   			sta	_credits_amount
19061                        	
19062                        		.dbg	line,	"include\init.c", 54; key_amount = 0;
19063                        		__st.umiq	0, _key_amount
         11:DFC7  9C 30 23   			stz	_key_amount
19064                        	
19065                        		.dbg	line,	"include\init.c", 55; potion_amount = 0;
19066                        		__st.umiq	0, _potion_amount
         11:DFCA  9C 31 23   			stz	_potion_amount
19067                        	
19068                        		.dbg	line,	"include\init.c", 56; zenny_amount = 0;
19069                        		__st.wmiq	0, _zenny_amount
         11:DFCD  9C 57 26   			stz.l	_zenny_amount
         11:DFD0  9C 58 26   			stz.h	_zenny_amount
19070                        	
19071                        		.dbg	line,	"include\init.c", 58; weapon_level = 0;
19072                        		__st.umiq	0, _weapon_level
         11:DFD3  9C 29 23   			stz	_weapon_level
19073                        	
19074                        		.dbg	line,	"include\init.c", 59; armor_level = 2;
19075                        		__st.umiq	2, _armor_level
         11:DFD6  A9 02      			lda.l	#2
         11:DFD8  8D 28 23   			sta	_armor_level
19076                        	
19077                        		.dbg	line,	"include\init.c", 60; 
19078                        	
19079                        		.dbg	line,	"include\init.c", 61; player_naked = FALSE;
19080                        		__st.umiq	0, _player_naked
         11:DFDB  9C 20 23   			stz	_player_naked
19081                        	
19082                        		.dbg	line,	"include\init.c", 63; selected_npc = 0;
19083                        		__st.umiq	0, _selected_npc
         11:DFDE  9C D5 23   			stz	_selected_npc
19084                        	
19085                        		.dbg	line,	"include\init.c", 64; index_x = 0;
19086                        		__st.umiq	0, _index_x
         11:DFE1  9C F1 23   			stz	_index_x
19087                        	
19088                        		.dbg	line,	"include\init.c", 65; index_y = 0;
19089                        		__st.umiq	0, _index_y
         11:DFE4  9C F2 23   			stz	_index_y
19090                        	
19091                        		.dbg	line,	"include\init.c", 66; item_index = 0;
19092                        		__st.umiq	0, _item_index
         11:DFE7  9C F3 23   			stz	_item_index
19093                        	
19094                        		.dbg	line,	"include\init.c", 67; shop_counter = 0;
19095                        		__st.umiq	0, _shop_counter
         11:DFEA  9C F5 23   			stz	_shop_counter
19096                        	
19097                        		.dbg	line,	"include\init.c", 68; shop_phase = SHOP_PHASE_ENTER;
19098                        		__st.umiq	0, _shop_phase
         11:DFED  9C F4 23   			stz	_shop_phase
19099                        	
19100                        		.dbg	line,	"include\init.c", 70; respawn = FALSE;
19101                        		__st.umiq	0, _respawn
         11:DFF0  9C 17 23   			stz	_respawn
19102                        	
19103                        		.dbg	line,	"include\init.c", 72; sequence_loaded = FALSE;
19104                        		__st.umiq	0, _sequence_loaded
         11:DFF3  9C 14 23   			stz	_sequence_loaded
19105                        	
19106                        		.dbg	line,	"include\init.c", 73; }
19107    11:DFF6             	.LL950:
19108                        		__return	0
         11:DFF6  4C EF FF   			jmp	leave_proc
19109                        		.dbg	clear
19110                        		.endp
19111                        		.pceas
19112                        	
19113                        		.dbg	line,	"include\init.c", 76; void init_PLAYER()
19114                        		.dbg	line,	"include\init.c", 77; {
19115                        	;***********************
19116                        	;***********************
19117                        	
19118                        		.hucc
19119    1F:DB3E             		.proc		_init_PLAYER
19120                        		__enter		_init_PLAYER
19121                        	
19122                        		.dbg	line,	"include\init.c", 78; if(player_naked != RESPAWN_SHOP)
19123                        		__ld.umq	_player_naked
         1F:DB3E  AD 20 23   			lda	_player_naked
19124                        		__neq_b.uiq	2
         1F:DB41  38         			sec
         1F:DB42  49 02      			eor	#2
         1F:DB44  D0 01      			bne	!+
         1F:DB46  18         			clc
         1F:DB47             	!:
19125                        		__bfalse	.LL952
         1F:DB47  90 03      			bcc	.LL952
19126                        	
19127                        		.dbg	line,	"include\init.c", 79; {
19128                        	
19129                        		.dbg	line,	"include\init.c", 80; player_naked = FALSE;
19130                        		__st.umiq	0, _player_naked
         1F:DB49  9C 20 23   			stz	_player_naked
19131                        	
19132                        		.dbg	line,	"include\init.c", 81; }
19133                        	
19134                        		.dbg	line,	"include\init.c", 82; 
19135                        	
19136                        		.dbg	line,	"include\init.c", 83; player_id = PLAYER_START_INDEX;
19137    1F:DB4C             	.LL952:
19138                        		__st.umiq	14, _player_id
         1F:DB4C  A9 0E      			lda.l	#14
         1F:DB4E  8D 18 23   			sta	_player_id
19139                        	
19140                        		.dbg	line,	"include\init.c", 84; player_axis = AXIS_RIGHT;
19141                        		__st.umiq	0, _player_axis
         1F:DB51  9C 1A 23   			stz	_player_axis
19142                        	
19143                        		.dbg	line,	"include\init.c", 85; player_previous_axis = player_axis;
19144                        		__ld.um		_player_axis
         1F:DB54  AD 1A 23   			lda	_player_axis
         1F:DB57  C2         			cly
19145                        		__st.umq	_player_previous_axis
         1F:DB58  8D 1B 23   			sta	_player_previous_axis
19146                        	
19147                        		.dbg	line,	"include\init.c", 86; player_counter_anim = 0;
19148                        		__st.umiq	0, _player_counter_anim
         1F:DB5B  9C 1C 23   			stz	_player_counter_anim
19149                        	
19150                        		.dbg	line,	"include\init.c", 87; player_index_jump = 0;
19151                        		__st.umiq	0, _player_index_jump
         1F:DB5E  9C 1D 23   			stz	_player_index_jump
19152                        	
19153                        		.dbg	line,	"include\init.c", 88; player_index_fall = 0;
19154                        		__st.umiq	0, _player_index_fall
         1F:DB61  9C 1E 23   			stz	_player_index_fall
19155                        	
19156                        		.dbg	line,	"include\init.c", 89; fall_ladder = FALSE;
19157                        		__st.umiq	0, _fall_ladder
         1F:DB64  9C 24 23   			stz	_fall_ladder
19158                        	
19159                        		.dbg	line,	"include\init.c", 90; player_counter_attack = 0;
19160                        		__st.umiq	0, _player_counter_attack
         1F:DB67  9C 1F 23   			stz	_player_counter_attack
19161                        	
19162                        		.dbg	line,	"include\init.c", 91; player_attack = FALSE;
19163                        		__st.umiq	0, _player_attack
         1F:DB6A  9C 21 23   			stz	_player_attack
19164                        	
19165                        		.dbg	line,	"include\init.c", 92; player_state = STATE_IDLE;
19166                        		__st.umiq	0, _player_state
         1F:DB6D  9C 19 23   			stz	_player_state
19167                        	
19168                        		.dbg	line,	"include\init.c", 94; chain_id = player_id - 3;
19169                        		__ld.um		_player_id
         1F:DB70  AD 18 23   			lda	_player_id
         1F:DB73  C2         			cly
19170                        		__sub.wi	3
         1F:DB74  38         			sec
         1F:DB75  E9 03      			sbc.l	#3
         1F:DB77  B0 01      			bcs	!+
         1F:DB79  88         			dey
         1F:DB7A             	!:
19171                        		__st.umq	_chain_id
         1F:DB7A  8D 26 23   			sta	_chain_id
19172                        	
19173                        		.dbg	line,	"include\init.c", 95; }
19174    1F:DB7D             	.LL951:
19175                        		__return	0
         1F:DB7D  4C EF FF   			jmp	leave_proc
19176                        		.dbg	clear
19177                        		.endp
19178                        		.pceas
19179                        	
19180                        		.dbg	line,	"include\init.c", 104; void init_TITLE()
19181                        		.dbg	line,	"include\init.c", 105; {
19182                        	;***********************
19183                        	;***********************
19184                        	
19185                        		.hucc
19186    1F:C6B1             		.proc		_init_TITLE
19187                        		__enter		_init_TITLE
19188                        	
19189                        		.dbg	line,	"include\init.c", 106; // DISABLE DISPLAY //
19190                        	
19191                        		.dbg	line,	"include\init.c", 107; disp_off();
19192                        		__call		_disp_off
         1F:C6B1  20 3D E4   			call	_disp_off
19193                        	
19194                        		.dbg	line,	"include\init.c", 108; 
19195                        	
19196                        		.dbg	line,	"include\init.c", 110; // VSYNC //
19197                        	
19198                        		.dbg	line,	"include\init.c", 111; vsync();
19199                        		__call		_vsync
         1F:C6B4  20 1D E3   			call	_vsync
19200                        	
19201                        		.dbg	line,	"include\init.c", 114; // SET VDC 1 SCREEN SIZE (IN TILES) - 64x64 = 256 PIXELS
19202                        	
19203                        		.dbg	line,	"include\init.c", 115; set_screen_size(SCR_SIZE_32x32);
19204                        		__st.umiq	0, _al
         1F:C6B7  64 F8      			stz	_al
19205                        		__call		_set_screen_size.1
         1F:C6B9  20 EB FE   			call	_set_screen_size.1
19206                        	
19207                        		.dbg	line,	"include\init.c", 117; // SET VDC 2 SCREEN SIZE (IN TILES) - 32x32 = 512 PIXELS
19208                        	
19209                        		.dbg	line,	"include\init.c", 118; //sgx_set_screen_size(SCR_SIZE_32x32);
19210                        	
19211                        		.dbg	line,	"include\init.c", 123; //**************************************************************************************//
19212                        	
19213                        		.dbg	line,	"include\init.c", 124; //                                                                                      //
19214                        	
19215                        		.dbg	line,	"include\init.c", 125; //                                        VDC 1                                         //
19216                        	
19217                        		.dbg	line,	"include\init.c", 126; //                                                                                      //
19218                        	
19219                        		.dbg	line,	"include\init.c", 127; //**************************************************************************************//
19220                        	
19221                        		.dbg	line,	"include\init.c", 129; //--------------------------------------------------------------------------------------//
19222                        	
19223                        		.dbg	line,	"include\init.c", 130; //                                      LOAD FONT                                       //
19224                        	
19225                        		.dbg	line,	"include\init.c", 131; //--------------------------------------------------------------------------------------//
19226                        	
19227                        		.dbg	line,	"include\init.c", 133; load_vram( 0x0800, tileset_FONT_TITLE, SIZEOF(tileset_FONT_TITLE) >> 1 );
19228                        		__st.wmiq	2048, _di
         1F:C6BC  64 F0      			stz.l	_di
         1F:C6BE  A9 08      			lda.h	#2048
         1F:C6C0  85 F1      			sta.h	_di
19229                        		__farptr	_tileset_FONT_TITLE, _bp_bank, _bp
         1F:C6C2  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_FONT_TITLE))
         1F:C6C4  85 EC      			sta.l	_bp
         1F:C6C6  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_FONT_TITLE))
         1F:C6C8  85 ED      			sta.h	_bp
         1F:C6CA  A9 12      			lda	#bank(_tileset_FONT_TITLE)
         1F:C6CC  85 02      			sta	_bp_bank
19230                        		__ld.wi		___sizeof__tileset_FONT_TITLE
         1F:C6CE  A9 00      			lda.l	#___sizeof__tileset_FONT_TITLE
         1F:C6D0  A0 0C      			ldy.h	#___sizeof__tileset_FONT_TITLE
19231                        		__lsr.wi	1
         1F:C6D2  42         			say
         1F:C6D3  4A         			lsr	a
         1F:C6D4  42         			say
         1F:C6D5  6A         			ror	a
19232                        		__st.wmq	_ax
         1F:C6D6  85 F8      			sta.l	_ax
         1F:C6D8  84 F9      			sty.h	_ax
19233                        		 _load_vram.3
         1F:C6DA  82         			clx				; Offset to PCE VDC.
         1F:C6DB  20 FF FE   			call	load_vram_x
19234                        	
19235                        		.dbg	line,	"include\init.c", 135; set_font_pal(15);
19236                        		__ld.uiq	15
         1F:C6DE  A9 0F      			lda	#15
19237                        		__call		_set_font_pal.1
         1F:C6E0  20 00 E6   			call	_set_font_pal.1
19238                        	
19239                        		.dbg	line,	"include\init.c", 139; //--------------------------------------------------------------------------------------//
19240                        	
19241                        		.dbg	line,	"include\init.c", 140; //                                    LOAD TILEMAP                                      //
19242                        	
19243                        		.dbg	line,	"include\init.c", 141; //--------------------------------------------------------------------------------------//
19244                        	
19245                        		.dbg	line,	"include\init.c", 143; load_vram( 0x0000, tilemap_TITLE_BG_B, SIZEOF(tilemap_TITLE_BG_B) >> 1 );
19246                        		__st.wmiq	0, _di
         1F:C6E3  64 F0      			stz.l	_di
         1F:C6E5  64 F1      			stz.h	_di
19247                        		__farptr	_tilemap_TITLE_BG_B, _bp_bank, _bp
         1F:C6E7  A9 40      			lda.l	#$6000 + ($1FFF & (_tilemap_TITLE_BG_B))
         1F:C6E9  85 EC      			sta.l	_bp
         1F:C6EB  A9 7A      			lda.h	#$6000 + ($1FFF & (_tilemap_TITLE_BG_B))
         1F:C6ED  85 ED      			sta.h	_bp
         1F:C6EF  A9 13      			lda	#bank(_tilemap_TITLE_BG_B)
         1F:C6F1  85 02      			sta	_bp_bank
19248                        		__ld.wi		___sizeof__tilemap_TITLE_BG_B
         1F:C6F3  A9 00      			lda.l	#___sizeof__tilemap_TITLE_BG_B
         1F:C6F5  A0 07      			ldy.h	#___sizeof__tilemap_TITLE_BG_B
19249                        		__lsr.wi	1
         1F:C6F7  42         			say
         1F:C6F8  4A         			lsr	a
         1F:C6F9  42         			say
         1F:C6FA  6A         			ror	a
19250                        		__st.wmq	_ax
         1F:C6FB  85 F8      			sta.l	_ax
         1F:C6FD  84 F9      			sty.h	_ax
19251                        		 _load_vram.3
         1F:C6FF  82         			clx				; Offset to PCE VDC.
         1F:C700  20 FF FE   			call	load_vram_x
19252                        	
19253                        		.dbg	line,	"include\init.c", 145; //--------------------------------------------------------------------------------------//
19254                        	
19255                        		.dbg	line,	"include\init.c", 146; //                                    LOAD TILESET                                      //
19256                        	
19257                        		.dbg	line,	"include\init.c", 147; //--------------------------------------------------------------------------------------//
19258                        	
19259                        		.dbg	line,	"include\init.c", 149; load_vram( 0x1000, tileset_TITLE_BG_B, SIZEOF(tileset_TITLE_BG_B) >> 1 );
19260                        		__st.wmiq	4096, _di
         1F:C703  64 F0      			stz.l	_di
         1F:C705  A9 10      			lda.h	#4096
         1F:C707  85 F1      			sta.h	_di
19261                        		__farptr	_tileset_TITLE_BG_B, _bp_bank, _bp
         1F:C709  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_TITLE_BG_B))
         1F:C70B  85 EC      			sta.l	_bp
         1F:C70D  A9 7D      			lda.h	#$6000 + ($1FFF & (_tileset_TITLE_BG_B))
         1F:C70F  85 ED      			sta.h	_bp
         1F:C711  A9 12      			lda	#bank(_tileset_TITLE_BG_B)
         1F:C713  85 02      			sta	_bp_bank
19262                        		__ld.wi		___sizeof__tileset_TITLE_BG_B
         1F:C715  A9 60      			lda.l	#___sizeof__tileset_TITLE_BG_B
         1F:C717  A0 1C      			ldy.h	#___sizeof__tileset_TITLE_BG_B
19263                        		__lsr.wi	1
         1F:C719  42         			say
         1F:C71A  4A         			lsr	a
         1F:C71B  42         			say
         1F:C71C  6A         			ror	a
19264                        		__st.wmq	_ax
         1F:C71D  85 F8      			sta.l	_ax
         1F:C71F  84 F9      			sty.h	_ax
19265                        		 _load_vram.3
         1F:C721  82         			clx				; Offset to PCE VDC.
         1F:C722  20 FF FE   			call	load_vram_x
19266                        	
19267                        		.dbg	line,	"include\init.c", 154; //put_string("PRESS RUN"   , 11 , 18);
19268                        	
19269                        		.dbg	line,	"include\init.c", 155; put_string("START GAME"  	, 11 , 18);
19270                        		__ld.wi		__const1+0
         1F:C725  A9 00      			lda.l	#__const1+0
         1F:C727  A0 60      			ldy.h	#__const1+0
19271                        		__st.wmq	_bp
         1F:C729  85 EC      			sta.l	_bp
         1F:C72B  84 ED      			sty.h	_bp
19272                        		__st.umiq	11, _dil
         1F:C72D  A9 0B      			lda.l	#11
         1F:C72F  85 F0      			sta	_dil
19273                        		__st.umiq	18, _dih
         1F:C731  A9 12      			lda.l	#18
         1F:C733  85 F1      			sta	_dih
19274                        		__call		_put_string.3
         1F:C735  20 5F E6   			call	_put_string.3
19275                        	
19276                        		.dbg	line,	"include\init.c", 157; put_string("LIFE"        	, 11 , 20);
19277                        		__ld.wi		__const1+11
         1F:C738  A9 0B      			lda.l	#__const1+11
         1F:C73A  A0 60      			ldy.h	#__const1+11
19278                        		__st.wmq	_bp
         1F:C73C  85 EC      			sta.l	_bp
         1F:C73E  84 ED      			sty.h	_bp
19279                        		__st.umiq	11, _dil
         1F:C740  A9 0B      			lda.l	#11
         1F:C742  85 F0      			sta	_dil
19280                        		__st.umiq	20, _dih
         1F:C744  A9 14      			lda.l	#20
         1F:C746  85 F1      			sta	_dih
19281                        		__call		_put_string.3
         1F:C748  20 5F E6   			call	_put_string.3
19282                        	
19283                        		.dbg	line,	"include\init.c", 158; put_number(life_amount   	,  1 , 20 , 20);
19284                        		__ld.um		_life_amount
         1F:C74B  AD 2E 23   			lda	_life_amount
         1F:C74E  C2         			cly
19285                        		__st.wmq	_bx
         1F:C74F  85 FA      			sta.l	_bx
         1F:C751  84 FB      			sty.h	_bx
19286                        		__st.umiq	1, _cl
         1F:C753  A9 01      			lda.l	#1
         1F:C755  85 FC      			sta	_cl
19287                        		__st.umiq	20, _dil
         1F:C757  A9 14      			lda.l	#20
         1F:C759  85 F0      			sta	_dil
19288                        		__st.umiq	20, _dih
         1F:C75B  A9 14      			lda.l	#20
         1F:C75D  85 F1      			sta	_dih
19289                        		__call		_put_number.4
         1F:C75F  20 63 FF   			call	_put_number.4
19290                        	
19291                        		.dbg	line,	"include\init.c", 160; put_string("CREDITS"		, 11 , 21);
19292                        		__ld.wi		__const1+16
         1F:C762  A9 10      			lda.l	#__const1+16
         1F:C764  A0 60      			ldy.h	#__const1+16
19293                        		__st.wmq	_bp
         1F:C766  85 EC      			sta.l	_bp
         1F:C768  84 ED      			sty.h	_bp
19294                        		__st.umiq	11, _dil
         1F:C76A  A9 0B      			lda.l	#11
         1F:C76C  85 F0      			sta	_dil
19295                        		__st.umiq	21, _dih
         1F:C76E  A9 15      			lda.l	#21
         1F:C770  85 F1      			sta	_dih
19296                        		__call		_put_string.3
         1F:C772  20 5F E6   			call	_put_string.3
19297                        	
19298                        		.dbg	line,	"include\init.c", 161; put_number(credits_amount   ,  1 , 20 , 21);
19299                        		__ld.um		_credits_amount
         1F:C775  AD 2F 23   			lda	_credits_amount
         1F:C778  C2         			cly
19300                        		__st.wmq	_bx
         1F:C779  85 FA      			sta.l	_bx
         1F:C77B  84 FB      			sty.h	_bx
19301                        		__st.umiq	1, _cl
         1F:C77D  A9 01      			lda.l	#1
         1F:C77F  85 FC      			sta	_cl
19302                        		__st.umiq	20, _dil
         1F:C781  A9 14      			lda.l	#20
         1F:C783  85 F0      			sta	_dil
19303                        		__st.umiq	21, _dih
         1F:C785  A9 15      			lda.l	#21
         1F:C787  85 F1      			sta	_dih
19304                        		__call		_put_number.4
         1F:C789  20 63 FF   			call	_put_number.4
19305                        	
19306                        		.dbg	line,	"include\init.c", 163; put_string("CAPCOM 1987" 	, 11 , 26);
19307                        		__ld.wi		__const1+24
         1F:C78C  A9 18      			lda.l	#__const1+24
         1F:C78E  A0 60      			ldy.h	#__const1+24
19308                        		__st.wmq	_bp
         1F:C790  85 EC      			sta.l	_bp
         1F:C792  84 ED      			sty.h	_bp
19309                        		__st.umiq	11, _dil
         1F:C794  A9 0B      			lda.l	#11
         1F:C796  85 F0      			sta	_dil
19310                        		__st.umiq	26, _dih
         1F:C798  A9 1A      			lda.l	#26
         1F:C79A  85 F1      			sta	_dih
19311                        		__call		_put_string.3
         1F:C79C  20 5F E6   			call	_put_string.3
19312                        	
19313                        		.dbg	line,	"include\init.c", 168; //--------------------------------------------------------------------------------------//
19314                        	
19315                        		.dbg	line,	"include\init.c", 169; //                                   LOAD BG PALETTES                                   //
19316                        	
19317                        		.dbg	line,	"include\init.c", 170; //--------------------------------------------------------------------------------------//
19318                        	
19319                        		.dbg	line,	"include\init.c", 172; load_palette( 0, palette_TITLE, 16 );
19320                        		__st.umiq	0, _al
         1F:C79F  64 F8      			stz	_al
19321                        		__farptr	_palette_TITLE, _bp_bank, _bp
         1F:C7A1  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_TITLE))
         1F:C7A3  85 EC      			sta.l	_bp
         1F:C7A5  A9 61      			lda.h	#$6000 + ($1FFF & (_palette_TITLE))
         1F:C7A7  85 ED      			sta.h	_bp
         1F:C7A9  A9 14      			lda	#bank(_palette_TITLE)
         1F:C7AB  85 02      			sta	_bp_bank
19322                        		__st.umiq	16, _ah
         1F:C7AD  A9 10      			lda.l	#16
         1F:C7AF  85 F9      			sta	_ah
19323                        		__call		_load_palette.3
         1F:C7B1  20 81 FF   			call	_load_palette.3
19324                        	
19325                        		.dbg	line,	"include\init.c", 177; //**************************************************************************************//
19326                        	
19327                        		.dbg	line,	"include\init.c", 178; //                                                                                      //
19328                        	
19329                        		.dbg	line,	"include\init.c", 179; //                                       SPRITES                                        //
19330                        	
19331                        		.dbg	line,	"include\init.c", 180; //                                                                                      //
19332                        	
19333                        		.dbg	line,	"include\init.c", 181; //**************************************************************************************//
19334                        	
19335                        		.dbg	line,	"include\init.c", 183; //--------------------------------------------------------------------------------------//
19336                        	
19337                        		.dbg	line,	"include\init.c", 184; //                                        CURSOR                                        //
19338                        	
19339                        		.dbg	line,	"include\init.c", 185; //--------------------------------------------------------------------------------------//
19340                        	
19341                        		.dbg	line,	"include\init.c", 187; // LOAD CURSOR TILES //
19342                        	
19343                        		.dbg	line,	"include\init.c", 188; load_vram(0x2000, tiles_SPR_SELECTOR , SIZEOF(tiles_SPR_SELECTOR) >> 1 );
19344                        		__st.wmiq	8192, _di
         1F:C7B4  64 F0      			stz.l	_di
         1F:C7B6  A9 20      			lda.h	#8192
         1F:C7B8  85 F1      			sta.h	_di
19345                        		__farptr	_tiles_SPR_SELECTOR, _bp_bank, _bp
         1F:C7BA  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_SELECTOR))
         1F:C7BC  85 EC      			sta.l	_bp
         1F:C7BE  A9 65      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_SELECTOR))
         1F:C7C0  85 ED      			sta.h	_bp
         1F:C7C2  A9 16      			lda	#bank(_tiles_SPR_SELECTOR)
         1F:C7C4  85 02      			sta	_bp_bank
19346                        		__ld.wi		___sizeof__tiles_SPR_SELECTOR
         1F:C7C6  A9 80      			lda.l	#___sizeof__tiles_SPR_SELECTOR
         1F:C7C8  A0 00      			ldy.h	#___sizeof__tiles_SPR_SELECTOR
19347                        		__lsr.wi	1
         1F:C7CA  42         			say
         1F:C7CB  4A         			lsr	a
         1F:C7CC  42         			say
         1F:C7CD  6A         			ror	a
19348                        		__st.wmq	_ax
         1F:C7CE  85 F8      			sta.l	_ax
         1F:C7D0  84 F9      			sty.h	_ax
19349                        		 _load_vram.3
         1F:C7D2  82         			clx				; Offset to PCE VDC.
         1F:C7D3  20 FF FE   			call	load_vram_x
19350                        	
19351                        		.dbg	line,	"include\init.c", 191; // SELECT CURSOR SPRITE //
19352                        	
19353                        		.dbg	line,	"include\init.c", 192; spr_set(0);
19354                        		__ld.uiq	0
         1F:C7D6  62         			cla
19355                        		__call		_spr_set.1
         1F:C7D7  20 F1 E7   			call	_spr_set.1
19356                        	
19357                        		.dbg	line,	"include\init.c", 195; spr_x(72);
19358                        		__ld.wi		72
         1F:C7DA  A9 48      			lda.l	#72
         1F:C7DC  C2         			cly
19359                        		__call		_spr_x.1
         1F:C7DD  20 1E E8   			call	_spr_x.1
19360                        	
19361                        		.dbg	line,	"include\init.c", 196; spr_y(144);
19362                        		__ld.wi		144
         1F:C7E0  A9 90      			lda.l	#144
         1F:C7E2  C2         			cly
19363                        		__call		_spr_y.1
         1F:C7E3  20 2D E8   			call	_spr_y.1
19364                        	
19365                        		.dbg	line,	"include\init.c", 198; // SET TILES DATA FOR THE CURSOR //
19366                        	
19367                        		.dbg	line,	"include\init.c", 199; spr_pattern(0x2000);
19368                        		__ld.wi		8192
         1F:C7E6  62         			cla
         1F:C7E7  A0 20      			ldy.h	#8192
19369                        		__call		_spr_pattern.1
         1F:C7E9  20 3A E8   			call	_spr_pattern.1
19370                        	
19371                        		.dbg	line,	"include\init.c", 202; spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_16x16);
19372                        		__st.umiq	185, _al
         1F:C7EC  A9 B9      			lda.l	#185
         1F:C7EE  85 F8      			sta	_al
19373                        		__ld.uiq	0
         1F:C7F0  62         			cla
19374                        		__call		_spr_ctrl.2
         1F:C7F1  20 50 E8   			call	_spr_ctrl.2
19375                        	
19376                        		.dbg	line,	"include\init.c", 205; spr_pal(16);
19377                        		__ld.uiq	16
         1F:C7F4  A9 10      			lda	#16
19378                        		__call		_spr_pal.1
         1F:C7F6  20 61 E8   			call	_spr_pal.1
19379                        	
19380                        		.dbg	line,	"include\init.c", 206; spr_pri(TRUE);
19381                        		__ld.uiq	1
         1F:C7F9  A9 01      			lda	#1
19382                        		__call		_spr_pri.1
         1F:C7FB  20 70 E8   			call	_spr_pri.1
19383                        	
19384                        		.dbg	line,	"include\init.c", 209; //--------------------------------------------------------------------------------------//
19385                        	
19386                        		.dbg	line,	"include\init.c", 210; //                                LOAD SPRITES PALETTES                                 //
19387                        	
19388                        		.dbg	line,	"include\init.c", 211; //--------------------------------------------------------------------------------------//
19389                        	
19390                        		.dbg	line,	"include\init.c", 213; load_palette( 16, palette_objects_2, 1 );
19391                        		__st.umiq	16, _al
         1F:C7FE  A9 10      			lda.l	#16
         1F:C800  85 F8      			sta	_al
19392                        		__farptr	_palette_objects_2, _bp_bank, _bp
         1F:C802  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_objects_2))
         1F:C804  85 EC      			sta.l	_bp
         1F:C806  A9 7C      			lda.h	#$6000 + ($1FFF & (_palette_objects_2))
         1F:C808  85 ED      			sta.h	_bp
         1F:C80A  A9 1A      			lda	#bank(_palette_objects_2)
         1F:C80C  85 02      			sta	_bp_bank
19393                        		__st.umiq	1, _ah
         1F:C80E  A9 01      			lda.l	#1
         1F:C810  85 F9      			sta	_ah
19394                        		__call		_load_palette.3
         1F:C812  20 81 FF   			call	_load_palette.3
19395                        	
19396                        		.dbg	line,	"include\init.c", 218; // UPDATE PCE SAT //
19397                        	
19398                        		.dbg	line,	"include\init.c", 219; satb_update();
19399                        		__call		_satb_update
         1F:C815  20 D7 FE   			call	_satb_update
19400                        	
19401                        		.dbg	line,	"include\init.c", 224; // VSYNC //
19402                        	
19403                        		.dbg	line,	"include\init.c", 225; vsync();
19404                        		__call		_vsync
         1F:C818  20 1D E3   			call	_vsync
19405                        	
19406                        		.dbg	line,	"include\init.c", 227; // ENABLE DISPLAY //
19407                        	
19408                        		.dbg	line,	"include\init.c", 228; disp_on();
19409                        		__call		_disp_on
         1F:C81B  20 2A E4   			call	_disp_on
19410                        	
19411                        		.dbg	line,	"include\init.c", 229; }
19412    1F:C81E             	.LL953:
19413                        		__return	0
         1F:C81E  4C EF FF   			jmp	leave_proc
19414                        		.dbg	clear
19415                        		.endp
19416                        		.pceas
19417                        	
19418                        		.dbg	line,	"include\init.c", 235; void init_INTRO()
19419                        		.dbg	line,	"include\init.c", 236; {
19420                        	;***********************
19421                        	;***********************
19422                        	
19423                        		.hucc
19424    1F:C26F             		.proc		_init_INTRO
19425                        		__enter		_init_INTRO
19426                        	
19427                        		.dbg	line,	"include\init.c", 237; char i;
19428                        	
19429                        		.dbg	line,	"include\init.c", 238; 
19430                        	
19431                        		.dbg	line,	"include\init.c", 239; // DISABLE DISPLAY //
19432                        	
19433                        		.dbg	line,	"include\init.c", 240; disp_off();
19434                        		__call		_disp_off
         1F:C26F  20 3D E4   			call	_disp_off
19435                        	
19436                        		.dbg	line,	"include\init.c", 241; 
19437                        	
19438                        		.dbg	line,	"include\init.c", 243; // VSYNC //
19439                        	
19440                        		.dbg	line,	"include\init.c", 244; vsync();
19441                        		__call		_vsync
         1F:C272  20 1D E3   			call	_vsync
19442                        	
19443                        		.dbg	line,	"include\init.c", 247; // SET VDC 1 SCREEN SIZE (IN TILES) - 64x64 = 256 PIXELS
19444                        	
19445                        		.dbg	line,	"include\init.c", 248; set_screen_size(SCR_SIZE_64x64);
19446                        		__st.umiq	5, _al
         1F:C275  A9 05      			lda.l	#5
         1F:C277  85 F8      			sta	_al
19447                        		__call		_set_screen_size.1
         1F:C279  20 EB FE   			call	_set_screen_size.1
19448                        	
19449                        		.dbg	line,	"include\init.c", 250; // SET VDC 2 SCREEN SIZE (IN TILES) - 32x32 = 256 PIXELS
19450                        	
19451                        		.dbg	line,	"include\init.c", 251; sgx_set_screen_size(SCR_SIZE_32x32);
19452                        		__st.umiq	0, _al
         1F:C27C  64 F8      			stz	_al
19453                        		__call		_sgx_set_screen_size.1
         1F:C27E  20 E1 FE   			call	_sgx_set_screen_size.1
19454                        	
19455                        		.dbg	line,	"include\init.c", 256; //**************************************************************************************//
19456                        	
19457                        		.dbg	line,	"include\init.c", 257; //                                                                                      //
19458                        	
19459                        		.dbg	line,	"include\init.c", 258; //                                      VARIABLES                                       //
19460                        	
19461                        		.dbg	line,	"include\init.c", 259; //                                                                                      //
19462                        	
19463                        		.dbg	line,	"include\init.c", 260; //**************************************************************************************//
19464                        	
19465                        		.dbg	line,	"include\init.c", 262; global_counter = 1;
19466                        		__st.wmiq	1, _global_counter
         1F:C281  A9 01      			lda.l	#1
         1F:C283  8D 51 26   			sta.l	_global_counter
         1F:C286  9C 52 26   			stz.h	_global_counter
19467                        	
19468                        		.dbg	line,	"include\init.c", 264; vdc_map_pxl_x = 0;
19469                        		__st.wmiq	0, _vdc_map_pxl_x
         1F:C289  9C CA 26   			stz.l	_vdc_map_pxl_x
         1F:C28C  9C CB 26   			stz.h	_vdc_map_pxl_x
19470                        	
19471                        		.dbg	line,	"include\init.c", 265; vdc_map_pxl_y = 0;
19472                        		__st.wmiq	0, _vdc_map_pxl_y
         1F:C28F  9C CC 26   			stz.l	_vdc_map_pxl_y
         1F:C292  9C CD 26   			stz.h	_vdc_map_pxl_y
19473                        	
19474                        		.dbg	line,	"include\init.c", 270; //**************************************************************************************//
19475                        	
19476                        		.dbg	line,	"include\init.c", 271; //                                                                                      //
19477                        	
19478                        		.dbg	line,	"include\init.c", 272; //                                        VDC 1                                         //
19479                        	
19480                        		.dbg	line,	"include\init.c", 273; //                                                                                      //
19481                        	
19482                        		.dbg	line,	"include\init.c", 274; //**************************************************************************************//
19483                        	
19484                        		.dbg	line,	"include\init.c", 276; //--------------------------------------------------------------------------------------//
19485                        	
19486                        		.dbg	line,	"include\init.c", 277; //                                    LOAD TILEMAP                                      //
19487                        	
19488                        		.dbg	line,	"include\init.c", 278; //--------------------------------------------------------------------------------------//
19489                        	
19490                        		.dbg	line,	"include\init.c", 280; load_vram( 0x0000, tilemap_INTRO_BG_A, SIZEOF(tilemap_INTRO_BG_A) >> 1 );
19491                        		__st.wmiq	0, _di
         1F:C295  64 F0      			stz.l	_di
         1F:C297  64 F1      			stz.h	_di
19492                        		__farptr	_tilemap_INTRO_BG_A, _bp_bank, _bp
         1F:C299  A9 E0      			lda.l	#$6000 + ($1FFF & (_tilemap_INTRO_BG_A))
         1F:C29B  85 EC      			sta.l	_bp
         1F:C29D  A9 76      			lda.h	#$6000 + ($1FFF & (_tilemap_INTRO_BG_A))
         1F:C29F  85 ED      			sta.h	_bp
         1F:C2A1  A9 05      			lda	#bank(_tilemap_INTRO_BG_A)
         1F:C2A3  85 02      			sta	_bp_bank
19493                        		__ld.wi		___sizeof__tilemap_INTRO_BG_A
         1F:C2A5  A9 00      			lda.l	#___sizeof__tilemap_INTRO_BG_A
         1F:C2A7  A0 20      			ldy.h	#___sizeof__tilemap_INTRO_BG_A
19494                        		__lsr.wi	1
         1F:C2A9  42         			say
         1F:C2AA  4A         			lsr	a
         1F:C2AB  42         			say
         1F:C2AC  6A         			ror	a
19495                        		__st.wmq	_ax
         1F:C2AD  85 F8      			sta.l	_ax
         1F:C2AF  84 F9      			sty.h	_ax
19496                        		 _load_vram.3
         1F:C2B1  82         			clx				; Offset to PCE VDC.
         1F:C2B2  20 FF FE   			call	load_vram_x
19497                        	
19498                        		.dbg	line,	"include\init.c", 282; //--------------------------------------------------------------------------------------//
19499                        	
19500                        		.dbg	line,	"include\init.c", 283; //                                    LOAD TILESET                                      //
19501                        	
19502                        		.dbg	line,	"include\init.c", 284; //--------------------------------------------------------------------------------------//
19503                        	
19504                        		.dbg	line,	"include\init.c", 286; load_vram( 0x1000, tileset_INTRO_BG_A, SIZEOF(tileset_INTRO_BG_A) >> 1 );
19505                        		__st.wmiq	4096, _di
         1F:C2B5  64 F0      			stz.l	_di
         1F:C2B7  A9 10      			lda.h	#4096
         1F:C2B9  85 F1      			sta.h	_di
19506                        		__farptr	_tileset_INTRO_BG_A, _bp_bank, _bp
         1F:C2BB  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_INTRO_BG_A))
         1F:C2BD  85 EC      			sta.l	_bp
         1F:C2BF  A9 6B      			lda.h	#$6000 + ($1FFF & (_tileset_INTRO_BG_A))
         1F:C2C1  85 ED      			sta.h	_bp
         1F:C2C3  A9 05      			lda	#bank(_tileset_INTRO_BG_A)
         1F:C2C5  85 02      			sta	_bp_bank
19507                        		__ld.wi		___sizeof__tileset_INTRO_BG_A
         1F:C2C7  A9 80      			lda.l	#___sizeof__tileset_INTRO_BG_A
         1F:C2C9  A0 0B      			ldy.h	#___sizeof__tileset_INTRO_BG_A
19508                        		__lsr.wi	1
         1F:C2CB  42         			say
         1F:C2CC  4A         			lsr	a
         1F:C2CD  42         			say
         1F:C2CE  6A         			ror	a
19509                        		__st.wmq	_ax
         1F:C2CF  85 F8      			sta.l	_ax
         1F:C2D1  84 F9      			sty.h	_ax
19510                        		 _load_vram.3
         1F:C2D3  82         			clx				; Offset to PCE VDC.
         1F:C2D4  20 FF FE   			call	load_vram_x
19511                        	
19512                        		.dbg	line,	"include\init.c", 289; //--------------------------------------------------------------------------------------//
19513                        	
19514                        		.dbg	line,	"include\init.c", 290; //                                    SCROLL SPLIT                                      //
19515                        	
19516                        		.dbg	line,	"include\init.c", 291; //--------------------------------------------------------------------------------------//
19517                        	
19518                        		.dbg	line,	"include\init.c", 293; scroll_split(0,   0, vdc_map_pxl_x & (511), vdc_map_pxl_y & (511), BKG_ON | SPR_ON);
19519                        		__st.umiq	0, _al
         1F:C2D7  64 F8      			stz	_al
19520                        		__st.umiq	0, _ah
         1F:C2D9  64 F9      			stz	_ah
19521                        		__ld.wm		_vdc_map_pxl_x
         1F:C2DB  AD CA 26   			lda.l	_vdc_map_pxl_x
         1F:C2DE  AC CB 26   			ldy.h	_vdc_map_pxl_x
19522                        		__and.wi	511
         1F:C2E1  29 FF      			and.l	#511
         1F:C2E3  42         			say
         1F:C2E4  29 01      			and.h	#511
         1F:C2E6  42         			say
19523                        		__st.wmq	_bx
         1F:C2E7  85 FA      			sta.l	_bx
         1F:C2E9  84 FB      			sty.h	_bx
19524                        		__ld.wm		_vdc_map_pxl_y
         1F:C2EB  AD CC 26   			lda.l	_vdc_map_pxl_y
         1F:C2EE  AC CD 26   			ldy.h	_vdc_map_pxl_y
19525                        		__and.wi	511
         1F:C2F1  29 FF      			and.l	#511
         1F:C2F3  42         			say
         1F:C2F4  29 01      			and.h	#511
         1F:C2F6  42         			say
19526                        		__st.wmq	_cx
         1F:C2F7  85 FC      			sta.l	_cx
         1F:C2F9  84 FD      			sty.h	_cx
19527                        		__st.umiq	192, _dl
         1F:C2FB  A9 C0      			lda.l	#192
         1F:C2FD  85 FE      			sta	_dl
19528                        		__call		_scroll_split.5
         1F:C2FF  20 77 FF   			call	_scroll_split.5
19529                        	
19530                        		.dbg	line,	"include\init.c", 298; //--------------------------------------------------------------------------------------//
19531                        	
19532                        		.dbg	line,	"include\init.c", 299; //                                      LOAD FONT                                       //
19533                        	
19534                        		.dbg	line,	"include\init.c", 300; //--------------------------------------------------------------------------------------//
19535                        	
19536                        		.dbg	line,	"include\init.c", 302; set_font_addr(0x3000);
19537                        		__ld.wi		12288
         1F:C302  62         			cla
         1F:C303  A0 30      			ldy.h	#12288
19538                        		__call		_set_font_addr.1
         1F:C305  20 D9 E5   			call	_set_font_addr.1
19539                        	
19540                        		.dbg	line,	"include\init.c", 303; load_vram( 0x3000, tileset_FONT_INTRO, SIZEOF(tileset_FONT_INTRO) >> 1 );
19541                        		__st.wmiq	12288, _di
         1F:C308  64 F0      			stz.l	_di
         1F:C30A  A9 30      			lda.h	#12288
         1F:C30C  85 F1      			sta.h	_di
19542                        		__farptr	_tileset_FONT_INTRO, _bp_bank, _bp
         1F:C30E  A9 00      			lda.l	#$6000 + ($1FFF & (_tileset_FONT_INTRO))
         1F:C310  85 EC      			sta.l	_bp
         1F:C312  A9 60      			lda.h	#$6000 + ($1FFF & (_tileset_FONT_INTRO))
         1F:C314  85 ED      			sta.h	_bp
         1F:C316  A9 03      			lda	#bank(_tileset_FONT_INTRO)
         1F:C318  85 02      			sta	_bp_bank
19543                        		__ld.wi		___sizeof__tileset_FONT_INTRO
         1F:C31A  A9 00      			lda.l	#___sizeof__tileset_FONT_INTRO
         1F:C31C  A0 0C      			ldy.h	#___sizeof__tileset_FONT_INTRO
19544                        		__lsr.wi	1
         1F:C31E  42         			say
         1F:C31F  4A         			lsr	a
         1F:C320  42         			say
         1F:C321  6A         			ror	a
19545                        		__st.wmq	_ax
         1F:C322  85 F8      			sta.l	_ax
         1F:C324  84 F9      			sty.h	_ax
19546                        		 _load_vram.3
         1F:C326  82         			clx				; Offset to PCE VDC.
         1F:C327  20 FF FE   			call	load_vram_x
19547                        	
19548                        		.dbg	line,	"include\init.c", 305; set_font_pal(15);
19549                        		__ld.uiq	15
         1F:C32A  A9 0F      			lda	#15
19550                        		__call		_set_font_pal.1
         1F:C32C  20 00 E6   			call	_set_font_pal.1
19551                        	
19552                        		.dbg	line,	"include\init.c", 309; //**************************************************************************************//
19553                        	
19554                        		.dbg	line,	"include\init.c", 310; //                                                                                      //
19555                        	
19556                        		.dbg	line,	"include\init.c", 311; //                                        VDC 2                                         //
19557                        	
19558                        		.dbg	line,	"include\init.c", 312; //                                                                                      //
19559                        	
19560                        		.dbg	line,	"include\init.c", 313; //**************************************************************************************//
19561                        	
19562                        		.dbg	line,	"include\init.c", 315; //--------------------------------------------------------------------------------------//
19563                        	
19564                        		.dbg	line,	"include\init.c", 316; //                                    LOAD TILEMAP                                      //
19565                        	
19566                        		.dbg	line,	"include\init.c", 317; //--------------------------------------------------------------------------------------//
19567                        	
19568                        		.dbg	line,	"include\init.c", 319; sgx_load_vram( 0x0000, tilemap_INTRO_BG_B, SIZEOF(tilemap_INTRO_BG_B) >> 1 );
19569                        		__st.wmiq	0, _di
         1F:C32F  64 F0      			stz.l	_di
         1F:C331  64 F1      			stz.h	_di
19570                        		__farptr	_tilemap_INTRO_BG_B, _bp_bank, _bp
         1F:C333  A9 60      			lda.l	#$6000 + ($1FFF & (_tilemap_INTRO_BG_B))
         1F:C335  85 EC      			sta.l	_bp
         1F:C337  A9 64      			lda.h	#$6000 + ($1FFF & (_tilemap_INTRO_BG_B))
         1F:C339  85 ED      			sta.h	_bp
         1F:C33B  A9 05      			lda	#bank(_tilemap_INTRO_BG_B)
         1F:C33D  85 02      			sta	_bp_bank
19571                        		__ld.wi		___sizeof__tilemap_INTRO_BG_B
         1F:C33F  A9 00      			lda.l	#___sizeof__tilemap_INTRO_BG_B
         1F:C341  A0 07      			ldy.h	#___sizeof__tilemap_INTRO_BG_B
19572                        		__lsr.wi	1
         1F:C343  42         			say
         1F:C344  4A         			lsr	a
         1F:C345  42         			say
         1F:C346  6A         			ror	a
19573                        		__st.wmq	_ax
         1F:C347  85 F8      			sta.l	_ax
         1F:C349  84 F9      			sty.h	_ax
19574                        		 _sgx_load_vram.3
         1F:C34B  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C34D  20 FF FE   			call	load_vram_x
19575                        	
19576                        		.dbg	line,	"include\init.c", 321; //--------------------------------------------------------------------------------------//
19577                        	
19578                        		.dbg	line,	"include\init.c", 322; //                                    LOAD TILESET                                      //
19579                        	
19580                        		.dbg	line,	"include\init.c", 323; //--------------------------------------------------------------------------------------//
19581                        	
19582                        		.dbg	line,	"include\init.c", 325; sgx_load_vram( 0x1000, tileset_INTRO_BG_B, SIZEOF(tileset_INTRO_BG_B) >> 1 );
19583                        		__st.wmiq	4096, _di
         1F:C350  64 F0      			stz.l	_di
         1F:C352  A9 10      			lda.h	#4096
         1F:C354  85 F1      			sta.h	_di
19584                        		__farptr	_tileset_INTRO_BG_B, _bp_bank, _bp
         1F:C356  A9 00      			lda.l	#$6000 + ($1FFF & (_tileset_INTRO_BG_B))
         1F:C358  85 EC      			sta.l	_bp
         1F:C35A  A9 70      			lda.h	#$6000 + ($1FFF & (_tileset_INTRO_BG_B))
         1F:C35C  85 ED      			sta.h	_bp
         1F:C35E  A9 03      			lda	#bank(_tileset_INTRO_BG_B)
         1F:C360  85 02      			sta	_bp_bank
19585                        		__ld.wi		___sizeof__tileset_INTRO_BG_B
         1F:C362  A9 60      			lda.l	#___sizeof__tileset_INTRO_BG_B
         1F:C364  A0 34      			ldy.h	#___sizeof__tileset_INTRO_BG_B
19586                        		__lsr.wi	1
         1F:C366  42         			say
         1F:C367  4A         			lsr	a
         1F:C368  42         			say
         1F:C369  6A         			ror	a
19587                        		__st.wmq	_ax
         1F:C36A  85 F8      			sta.l	_ax
         1F:C36C  84 F9      			sty.h	_ax
19588                        		 _sgx_load_vram.3
         1F:C36E  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C370  20 FF FE   			call	load_vram_x
19589                        	
19590                        		.dbg	line,	"include\init.c", 330; //--------------------------------------------------------------------------------------//
19591                        	
19592                        		.dbg	line,	"include\init.c", 331; //                                   LOAD BG PALETTES                                   //
19593                        	
19594                        		.dbg	line,	"include\init.c", 332; //--------------------------------------------------------------------------------------//
19595                        	
19596                        		.dbg	line,	"include\init.c", 334; // STORES DESTINATION PALETTE FOR FADE //
19597                        	
19598                        		.dbg	line,	"include\init.c", 335; load_palette( 0, palette_INTRO_1, 1 );
19599                        		__st.umiq	0, _al
         1F:C373  64 F8      			stz	_al
19600                        		__farptr	_palette_INTRO_1, _bp_bank, _bp
         1F:C375  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_INTRO_1))
         1F:C377  85 EC      			sta.l	_bp
         1F:C379  A9 76      			lda.h	#$6000 + ($1FFF & (_palette_INTRO_1))
         1F:C37B  85 ED      			sta.h	_bp
         1F:C37D  A9 06      			lda	#bank(_palette_INTRO_1)
         1F:C37F  85 02      			sta	_bp_bank
19601                        		__st.umiq	1, _ah
         1F:C381  A9 01      			lda.l	#1
         1F:C383  85 F9      			sta	_ah
19602                        		__call		_load_palette.3
         1F:C385  20 81 FF   			call	_load_palette.3
19603                        	
19604                        		.dbg	line,	"include\init.c", 336; load_palette( 15, palette_FONT_INTRO, 1 );
19605                        		__st.umiq	15, _al
         1F:C388  A9 0F      			lda.l	#15
         1F:C38A  85 F8      			sta	_al
19606                        		__farptr	_palette_FONT_INTRO, _bp_bank, _bp
         1F:C38C  A9 00      			lda.l	#$6000 + ($1FFF & (_palette_FONT_INTRO))
         1F:C38E  85 EC      			sta.l	_bp
         1F:C390  A9 6C      			lda.h	#$6000 + ($1FFF & (_palette_FONT_INTRO))
         1F:C392  85 ED      			sta.h	_bp
         1F:C394  A9 03      			lda	#bank(_palette_FONT_INTRO)
         1F:C396  85 02      			sta	_bp_bank
19607                        		__st.umiq	1, _ah
         1F:C398  A9 01      			lda.l	#1
         1F:C39A  85 F9      			sta	_ah
19608                        		__call		_load_palette.3
         1F:C39C  20 81 FF   			call	_load_palette.3
19609                        	
19610                        		.dbg	line,	"include\init.c", 341; //**************************************************************************************//
19611                        	
19612                        		.dbg	line,	"include\init.c", 342; //                                                                                      //
19613                        	
19614                        		.dbg	line,	"include\init.c", 343; //                                       SPRITES                                        //
19615                        	
19616                        		.dbg	line,	"include\init.c", 344; //                                                                                      //
19617                        	
19618                        		.dbg	line,	"include\init.c", 345; //**************************************************************************************//
19619                        	
19620                        		.dbg	line,	"include\init.c", 347; // HIDE CURSOR SPRITE FROM TITLE SCREEN //
19621                        	
19622                        		.dbg	line,	"include\init.c", 348; spr_set(0);
19623                        		__ld.uiq	0
         1F:C39F  62         			cla
19624                        		__call		_spr_set.1
         1F:C3A0  20 F1 E7   			call	_spr_set.1
19625                        	
19626                        		.dbg	line,	"include\init.c", 349; spr_hide();
19627                        		__call		_spr_hide
         1F:C3A3  20 0C E8   			call	_spr_hide
19628                        	
19629                        		.dbg	line,	"include\init.c", 351; //--------------------------------------------------------------------------------------//
19630                        	
19631                        		.dbg	line,	"include\init.c", 352; //                                        DRAGON                                        //
19632                        	
19633                        		.dbg	line,	"include\init.c", 353; //--------------------------------------------------------------------------------------//
19634                        	
19635                        		.dbg	line,	"include\init.c", 355; player_pos_x = 113;
19636                        		__st.wmiq	113, _player_pos_x
         1F:C3A6  A9 71      			lda.l	#113
         1F:C3A8  8D F7 24   			sta.l	_player_pos_x
         1F:C3AB  9C F8 24   			stz.h	_player_pos_x
19637                        	
19638                        		.dbg	line,	"include\init.c", 356; player_pos_y = 81;
19639                        		__st.wmiq	81, _player_pos_y
         1F:C3AE  A9 51      			lda.l	#81
         1F:C3B0  8D F9 24   			sta.l	_player_pos_y
         1F:C3B3  9C FA 24   			stz.h	_player_pos_y
19640                        	
19641                        		.dbg	line,	"include\init.c", 358; // LOAD DRAGON TILES //
19642                        	
19643                        		.dbg	line,	"include\init.c", 359; sgx_load_vram(DRAGON_INTRO_VRAM_ADR, tiles_SPR_DRAGON_INTRO , SIZEOF(tiles_SPR_DRAGON_INTRO) >> 1);
19644                        		__st.wmiq	11264, _di
         1F:C3B6  64 F0      			stz.l	_di
         1F:C3B8  A9 2C      			lda.h	#11264
         1F:C3BA  85 F1      			sta.h	_di
19645                        		__farptr	_tiles_SPR_DRAGON_INTRO, _bp_bank, _bp
         1F:C3BC  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_DRAGON_INTRO))
         1F:C3BE  85 EC      			sta.l	_bp
         1F:C3C0  A9 63      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_DRAGON_INTRO))
         1F:C3C2  85 ED      			sta.h	_bp
         1F:C3C4  A9 14      			lda	#bank(_tiles_SPR_DRAGON_INTRO)
         1F:C3C6  85 02      			sta	_bp_bank
19646                        		__ld.wi		___sizeof__tiles_SPR_DRAGON_INTRO
         1F:C3C8  A9 00      			lda.l	#___sizeof__tiles_SPR_DRAGON_INTRO
         1F:C3CA  A0 40      			ldy.h	#___sizeof__tiles_SPR_DRAGON_INTRO
19647                        		__lsr.wi	1
         1F:C3CC  42         			say
         1F:C3CD  4A         			lsr	a
         1F:C3CE  42         			say
         1F:C3CF  6A         			ror	a
19648                        		__st.wmq	_ax
         1F:C3D0  85 F8      			sta.l	_ax
         1F:C3D2  84 F9      			sty.h	_ax
19649                        		 _sgx_load_vram.3
         1F:C3D4  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:C3D6  20 FF FE   			call	load_vram_x
19650                        	
19651                        		.dbg	line,	"include\init.c", 362; for(i=0 ; i<8 ; i++)
19652                        		__st.umiq	0, __init_INTRO_end - 1  /* i */
         1F:C3D9  9C 23 2C   			stz	__init_INTRO_end - 1
19653    1F:C3DC             	.LL955:
19654                        		__ld.umq	__init_INTRO_end - 1  /* i */
         1F:C3DC  AD 23 2C   			lda	__init_INTRO_end - 1
19655                        		__ult_b.uiq	8
         1F:C3DF  C9 08      			cmp	#8		; Subtract integer from A.
         1F:C3E1  6A         			ror	a		; CC if A < integer.
         1F:C3E2  49 80      			eor	#$80
         1F:C3E4  2A         			rol	a
19656                        		__btrue		.LL957
         1F:C3E5  B0 08      			bcs	.LL957
19657                        		__bra		.LL958
         1F:C3E7  4C 6F C4   			bra	.LL958
19658    1F:C3EA             	.LL956:
19659                        		__inc.umq	__init_INTRO_end - 1  /* i */
         1F:C3EA  EE 23 2C   			inc	__init_INTRO_end - 1
19660                        		__bra		.LL955
         1F:C3ED  80 ED      			bra	.LL955
19661    1F:C3EF             	.LL957:
19662                        	
19663                        		.dbg	line,	"include\init.c", 363; {
19664                        	
19665                        		.dbg	line,	"include\init.c", 364; sgx_spr_set(i);
19666                        		__ld.umq	__init_INTRO_end - 1  /* i */
         1F:C3EF  AD 23 2C   			lda	__init_INTRO_end - 1
19667                        		__call		_sgx_spr_set.1
         1F:C3F2  20 9E E8   			call	_sgx_spr_set.1
19668                        	
19669                        		.dbg	line,	"include\init.c", 365; sgx_spr_x(player_pos_x + (i*32) - ((i>>2)*128));
19670                        		__ld.um		__init_INTRO_end - 1  /* i */
         1F:C3F5  AD 23 2C   			lda	__init_INTRO_end - 1
         1F:C3F8  C2         			cly
19671                        		__asl.wi	5
         1F:C3F9  85 00      			sta	__temp
         1F:C3FB  98         			tya
         1F:C3FC  4A         			lsr	a
         1F:C3FD  20 C8 E1   			jsr	aslw5
         1F:C400  29 E0      			and.l	#$FF << 5
19672                        		__add.wm	_player_pos_x
         1F:C402  18         			clc
         1F:C403  6D F7 24   			adc.l	_player_pos_x
         1F:C406  42         			say
         1F:C407  6D F8 24   			adc.h	_player_pos_x
         1F:C40A  42         			say
19673                        		__push.wr
         1F:C40B  5A         			phy
         1F:C40C  48         			pha
19674                        		__ld.um		__init_INTRO_end - 1  /* i */
         1F:C40D  AD 23 2C   			lda	__init_INTRO_end - 1
         1F:C410  C2         			cly
19675                        		__lsr.uiq	2
         1F:C411  4A         			lsr	a
         1F:C412  4A         			lsr	a
19676                        		__asl.wi	7
         1F:C413  42         			say
         1F:C414  4A         			lsr	a
         1F:C415  42         			say
         1F:C416  6A         			ror	a
         1F:C417  42         			say
         1F:C418  6A         			ror	a
         1F:C419  29 80      			and	#$80
19677                        		__sub.wt
         1F:C41B  BA         			tsx
         1F:C41C  38         			sec
         1F:C41D  49 FF      			eor	#$FF
         1F:C41F  7D 01 21   			adc.l	__tos, x
         1F:C422  42         			say
         1F:C423  49 FF      			eor	#$FF
         1F:C425  7D 02 21   			adc.h	__tos, x
         1F:C428  42         			say
         1F:C429  E8         			inx
         1F:C42A  E8         			inx
         1F:C42B  9A         			txs
19678                        		__call		_sgx_spr_x.1
         1F:C42C  20 CB E8   			call	_sgx_spr_x.1
19679                        	
19680                        		.dbg	line,	"include\init.c", 366; sgx_spr_y(player_pos_y + ((i>>2)*32));
19681                        		__ld.um		__init_INTRO_end - 1  /* i */
         1F:C42F  AD 23 2C   			lda	__init_INTRO_end - 1
         1F:C432  C2         			cly
19682                        		__lsr.uiq	2
         1F:C433  4A         			lsr	a
         1F:C434  4A         			lsr	a
19683                        		__asl.wi	5
         1F:C435  85 00      			sta	__temp
         1F:C437  98         			tya
         1F:C438  4A         			lsr	a
         1F:C439  20 C8 E1   			jsr	aslw5
         1F:C43C  29 E0      			and.l	#$FF << 5
19684                        		__add.wm	_player_pos_y
         1F:C43E  18         			clc
         1F:C43F  6D F9 24   			adc.l	_player_pos_y
         1F:C442  42         			say
         1F:C443  6D FA 24   			adc.h	_player_pos_y
         1F:C446  42         			say
19685                        		__call		_sgx_spr_y.1
         1F:C447  20 DA E8   			call	_sgx_spr_y.1
19686                        	
19687                        		.dbg	line,	"include\init.c", 367; sgx_spr_pattern(DRAGON_INTRO_VRAM_ADR + (i*TILES_16));
19688                        		__ld.um		__init_INTRO_end - 1  /* i */
         1F:C44A  AD 23 2C   			lda	__init_INTRO_end - 1
         1F:C44D  C2         			cly
19689                        		__asl.wi	8
         1F:C44E  A8         			tay
         1F:C44F  62         			cla
19690                        		__add.wi	11264
         1F:C450  18         			clc
         1F:C451  69 00      			adc.l	#11264
         1F:C453  42         			say
         1F:C454  69 2C      			adc.h	#11264
         1F:C456  42         			say
19691                        		__call		_sgx_spr_pattern.1
         1F:C457  20 E7 E8   			call	_sgx_spr_pattern.1
19692                        	
19693                        		.dbg	line,	"include\init.c", 368; sgx_spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_32x32);
19694                        		__st.umiq	185, _al
         1F:C45A  A9 B9      			lda.l	#185
         1F:C45C  85 F8      			sta	_al
19695                        		__ld.uiq	17
         1F:C45E  A9 11      			lda	#17
19696                        		__call		_sgx_spr_ctrl.2
         1F:C460  20 FD E8   			call	_sgx_spr_ctrl.2
19697                        	
19698                        		.dbg	line,	"include\init.c", 369; sgx_spr_pal(16);
19699                        		__ld.uiq	16
         1F:C463  A9 10      			lda	#16
19700                        		__call		_sgx_spr_pal.1
         1F:C465  20 0E E9   			call	_sgx_spr_pal.1
19701                        	
19702                        		.dbg	line,	"include\init.c", 370; sgx_spr_pri(FALSE);
19703                        		__ld.uiq	0
         1F:C468  62         			cla
19704                        		__call		_sgx_spr_pri.1
         1F:C469  20 1D E9   			call	_sgx_spr_pri.1
19705                        	
19706                        		.dbg	line,	"include\init.c", 371; }
19707                        		__bra		.LL956
         1F:C46C  4C EA C3   			bra	.LL956
19708    1F:C46F             	.LL958:
19709                        	
19710                        		.dbg	line,	"include\init.c", 372; 
19711                        	
19712                        		.dbg	line,	"include\init.c", 374; //--------------------------------------------------------------------------------------//
19713                        	
19714                        		.dbg	line,	"include\init.c", 375; //                                LOAD SPRITES PALETTES                                 //
19715                        	
19716                        		.dbg	line,	"include\init.c", 376; //--------------------------------------------------------------------------------------//
19717                        	
19718                        		.dbg	line,	"include\init.c", 378; load_palette( 16, palette_SPR_DRAGON_INTRO, 1 );
19719                        		__st.umiq	16, _al
         1F:C46F  A9 10      			lda.l	#16
         1F:C471  85 F8      			sta	_al
19720                        		__farptr	_palette_SPR_DRAGON_INTRO, _bp_bank, _bp
         1F:C473  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_SPR_DRAGON_INTRO))
         1F:C475  85 EC      			sta.l	_bp
         1F:C477  A9 63      			lda.h	#$6000 + ($1FFF & (_palette_SPR_DRAGON_INTRO))
         1F:C479  85 ED      			sta.h	_bp
         1F:C47B  A9 16      			lda	#bank(_palette_SPR_DRAGON_INTRO)
         1F:C47D  85 02      			sta	_bp_bank
19721                        		__st.umiq	1, _ah
         1F:C47F  A9 01      			lda.l	#1
         1F:C481  85 F9      			sta	_ah
19722                        		__call		_load_palette.3
         1F:C483  20 81 FF   			call	_load_palette.3
19723                        	
19724                        		.dbg	line,	"include\init.c", 382; // UPDATE SGX SAT //
19725                        	
19726                        		.dbg	line,	"include\init.c", 383; sgx_satb_update();
19727                        		__call		_sgx_satb_update
         1F:C486  20 9F FF   			call	_sgx_satb_update
19728                        	
19729                        		.dbg	line,	"include\init.c", 385; // UPDATE PCE SAT //
19730                        	
19731                        		.dbg	line,	"include\init.c", 386; satb_update();
19732                        		__call		_satb_update
         1F:C489  20 D7 FE   			call	_satb_update
19733                        	
19734                        		.dbg	line,	"include\init.c", 389; // VSYNC //
19735                        	
19736                        		.dbg	line,	"include\init.c", 390; vsync();
19737                        		__call		_vsync
         1F:C48C  20 1D E3   			call	_vsync
19738                        	
19739                        		.dbg	line,	"include\init.c", 392; // ENABLE DISPLAY //
19740                        	
19741                        		.dbg	line,	"include\init.c", 393; disp_on();
19742                        		__call		_disp_on
         1F:C48F  20 2A E4   			call	_disp_on
19743                        	
19744                        		.dbg	line,	"include\init.c", 394; }
19745    1F:C492             	.LL954:
19746                        		__return	0
         1F:C492  4C EF FF   			jmp	leave_proc
19747                        		.dbg	clear
19748                        		.endp
19749               2310     		.bss
19750    F8:2310             	__init_INTRO_end	.alias	leaf_stack
19751               E31D     		.code
19752                        		.pceas
19753                        	
19754                        		.dbg	line,	"include\init.c", 402; void load_OBJECT_TILES()
19755                        		.dbg	line,	"include\init.c", 403; {
19756                        	;***********************
19757                        	;***********************
19758                        	
19759                        		.hucc
19760    1E:DAB4             		.proc		_load_OBJECT_TILES
19761                        		__enter		_load_OBJECT_TILES
19762                        	
19763                        		.dbg	line,	"include\init.c", 404; sgx_load_vram(POT1_VRAM_ADR, tiles_SPR_POT , SIZEOF(tiles_SPR_POT) >> 1);
19764                        		__st.wmiq	26624, _di
         1E:DAB4  64 F0      			stz.l	_di
         1E:DAB6  A9 68      			lda.h	#26624
         1E:DAB8  85 F1      			sta.h	_di
19765                        		__farptr	_tiles_SPR_POT, _bp_bank, _bp
         1E:DABA  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_POT))
         1E:DABC  85 EC      			sta.l	_bp
         1E:DABE  A9 72      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_POT))
         1E:DAC0  85 ED      			sta.h	_bp
         1E:DAC2  A9 1A      			lda	#bank(_tiles_SPR_POT)
         1E:DAC4  85 02      			sta	_bp_bank
19766                        		__ld.wi		___sizeof__tiles_SPR_POT
         1E:DAC6  A9 00      			lda.l	#___sizeof__tiles_SPR_POT
         1E:DAC8  A0 04      			ldy.h	#___sizeof__tiles_SPR_POT
19767                        		__lsr.wi	1
         1E:DACA  42         			say
         1E:DACB  4A         			lsr	a
         1E:DACC  42         			say
         1E:DACD  6A         			ror	a
19768                        		__st.wmq	_ax
         1E:DACE  85 F8      			sta.l	_ax
         1E:DAD0  84 F9      			sty.h	_ax
19769                        		 _sgx_load_vram.3
         1E:DAD2  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:DAD4  20 FF FE   			call	load_vram_x
19770                        	
19771                        		.dbg	line,	"include\init.c", 405; sgx_load_vram(POW_VRAM_ADR, tiles_SPR_POW , TILES_4);
19772                        		__st.wmiq	27136, _di
         1E:DAD7  64 F0      			stz.l	_di
         1E:DAD9  A9 6A      			lda.h	#27136
         1E:DADB  85 F1      			sta.h	_di
19773                        		__farptr	_tiles_SPR_POW, _bp_bank, _bp
         1E:DADD  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_POW))
         1E:DADF  85 EC      			sta.l	_bp
         1E:DAE1  A9 76      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_POW))
         1E:DAE3  85 ED      			sta.h	_bp
         1E:DAE5  A9 1A      			lda	#bank(_tiles_SPR_POW)
         1E:DAE7  85 02      			sta	_bp_bank
19774                        		__st.wmiq	64, _ax
         1E:DAE9  A9 40      			lda.l	#64
         1E:DAEB  85 F8      			sta.l	_ax
         1E:DAED  64 F9      			stz.h	_ax
19775                        		 _sgx_load_vram.3
         1E:DAEF  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:DAF1  20 FF FE   			call	load_vram_x
19776                        	
19777                        		.dbg	line,	"include\init.c", 406; sgx_load_vram(GRAY_KEY_VRAM_ADR, tiles_SPR_GRAY_KEY , TILES_4);
19778                        		__st.wmiq	27200, _di
         1E:DAF4  A9 40      			lda.l	#27200
         1E:DAF6  85 F0      			sta.l	_di
         1E:DAF8  A9 6A      			lda.h	#27200
         1E:DAFA  85 F1      			sta.h	_di
19779                        		__farptr	_tiles_SPR_GRAY_KEY, _bp_bank, _bp
         1E:DAFC  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_GRAY_KEY))
         1E:DAFE  85 EC      			sta.l	_bp
         1E:DB00  A9 6F      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_GRAY_KEY))
         1E:DB02  85 ED      			sta.h	_bp
         1E:DB04  A9 1A      			lda	#bank(_tiles_SPR_GRAY_KEY)
         1E:DB06  85 02      			sta	_bp_bank
19780                        		__st.wmiq	64, _ax
         1E:DB08  A9 40      			lda.l	#64
         1E:DB0A  85 F8      			sta.l	_ax
         1E:DB0C  64 F9      			stz.h	_ax
19781                        		 _sgx_load_vram.3
         1E:DB0E  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:DB10  20 FF FE   			call	load_vram_x
19782                        	
19783                        		.dbg	line,	"include\init.c", 407; //sgx_load_vram(GOLD_KEY_VRAM_ADR, tiles_SPR_GOLD_KEY , TILES_4);
19784                        	
19785                        		.dbg	line,	"include\init.c", 408; //sgx_load_vram(LIFE_VRAM_ADR, tiles_SPR_LIFE , TILES_4);
19786                        	
19787                        		.dbg	line,	"include\init.c", 409; sgx_load_vram(COIN_1_VRAM_ADR, tiles_SPR_COIN_1 , TILES_4);
19788                        		__st.wmiq	27264, _di
         1E:DB13  A9 80      			lda.l	#27264
         1E:DB15  85 F0      			sta.l	_di
         1E:DB17  A9 6A      			lda.h	#27264
         1E:DB19  85 F1      			sta.h	_di
19789                        		__farptr	_tiles_SPR_COIN_1, _bp_bank, _bp
         1E:DB1B  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_1))
         1E:DB1D  85 EC      			sta.l	_bp
         1E:DB1F  A9 6B      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_1))
         1E:DB21  85 ED      			sta.h	_bp
         1E:DB23  A9 1A      			lda	#bank(_tiles_SPR_COIN_1)
         1E:DB25  85 02      			sta	_bp_bank
19790                        		__st.wmiq	64, _ax
         1E:DB27  A9 40      			lda.l	#64
         1E:DB29  85 F8      			sta.l	_ax
         1E:DB2B  64 F9      			stz.h	_ax
19791                        		 _sgx_load_vram.3
         1E:DB2D  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:DB2F  20 FF FE   			call	load_vram_x
19792                        	
19793                        		.dbg	line,	"include\init.c", 410; sgx_load_vram(COIN_5_VRAM_ADR, tiles_SPR_COIN_5 , TILES_4);
19794                        		__st.wmiq	27328, _di
         1E:DB32  A9 C0      			lda.l	#27328
         1E:DB34  85 F0      			sta.l	_di
         1E:DB36  A9 6A      			lda.h	#27328
         1E:DB38  85 F1      			sta.h	_di
19795                        		__farptr	_tiles_SPR_COIN_5, _bp_bank, _bp
         1E:DB3A  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_5))
         1E:DB3C  85 EC      			sta.l	_bp
         1E:DB3E  A9 6C      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_5))
         1E:DB40  85 ED      			sta.h	_bp
         1E:DB42  A9 1A      			lda	#bank(_tiles_SPR_COIN_5)
         1E:DB44  85 02      			sta	_bp_bank
19796                        		__st.wmiq	64, _ax
         1E:DB46  A9 40      			lda.l	#64
         1E:DB48  85 F8      			sta.l	_ax
         1E:DB4A  64 F9      			stz.h	_ax
19797                        		 _sgx_load_vram.3
         1E:DB4C  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:DB4E  20 FF FE   			call	load_vram_x
19798                        	
19799                        		.dbg	line,	"include\init.c", 411; sgx_load_vram(COIN_10_VRAM_ADR, tiles_SPR_COIN_10 , TILES_4);
19800                        		__st.wmiq	27392, _di
         1E:DB51  64 F0      			stz.l	_di
         1E:DB53  A9 6B      			lda.h	#27392
         1E:DB55  85 F1      			sta.h	_di
19801                        		__farptr	_tiles_SPR_COIN_10, _bp_bank, _bp
         1E:DB57  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_10))
         1E:DB59  85 EC      			sta.l	_bp
         1E:DB5B  A9 6C      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_10))
         1E:DB5D  85 ED      			sta.h	_bp
         1E:DB5F  A9 1A      			lda	#bank(_tiles_SPR_COIN_10)
         1E:DB61  85 02      			sta	_bp_bank
19802                        		__st.wmiq	64, _ax
         1E:DB63  A9 40      			lda.l	#64
         1E:DB65  85 F8      			sta.l	_ax
         1E:DB67  64 F9      			stz.h	_ax
19803                        		 _sgx_load_vram.3
         1E:DB69  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:DB6B  20 FF FE   			call	load_vram_x
19804                        	
19805                        		.dbg	line,	"include\init.c", 412; sgx_load_vram(COIN_50_VRAM_ADR, tiles_SPR_COIN_50 , TILES_4);
19806                        		__st.wmiq	27456, _di
         1E:DB6E  A9 40      			lda.l	#27456
         1E:DB70  85 F0      			sta.l	_di
         1E:DB72  A9 6B      			lda.h	#27456
         1E:DB74  85 F1      			sta.h	_di
19807                        		__farptr	_tiles_SPR_COIN_50, _bp_bank, _bp
         1E:DB76  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_50))
         1E:DB78  85 EC      			sta.l	_bp
         1E:DB7A  A9 6D      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_50))
         1E:DB7C  85 ED      			sta.h	_bp
         1E:DB7E  A9 1A      			lda	#bank(_tiles_SPR_COIN_50)
         1E:DB80  85 02      			sta	_bp_bank
19808                        		__st.wmiq	64, _ax
         1E:DB82  A9 40      			lda.l	#64
         1E:DB84  85 F8      			sta.l	_ax
         1E:DB86  64 F9      			stz.h	_ax
19809                        		 _sgx_load_vram.3
         1E:DB88  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:DB8A  20 FF FE   			call	load_vram_x
19810                        	
19811                        		.dbg	line,	"include\init.c", 413; sgx_load_vram(COIN_100_VRAM_ADR, tiles_SPR_COIN_100 , TILES_4);
19812                        		__st.wmiq	27520, _di
         1E:DB8D  A9 80      			lda.l	#27520
         1E:DB8F  85 F0      			sta.l	_di
         1E:DB91  A9 6B      			lda.h	#27520
         1E:DB93  85 F1      			sta.h	_di
19813                        		__farptr	_tiles_SPR_COIN_100, _bp_bank, _bp
         1E:DB95  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_100))
         1E:DB97  85 EC      			sta.l	_bp
         1E:DB99  A9 6D      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_100))
         1E:DB9B  85 ED      			sta.h	_bp
         1E:DB9D  A9 1A      			lda	#bank(_tiles_SPR_COIN_100)
         1E:DB9F  85 02      			sta	_bp_bank
19814                        		__st.wmiq	64, _ax
         1E:DBA1  A9 40      			lda.l	#64
         1E:DBA3  85 F8      			sta.l	_ax
         1E:DBA5  64 F9      			stz.h	_ax
19815                        		 _sgx_load_vram.3
         1E:DBA7  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:DBA9  20 FF FE   			call	load_vram_x
19816                        	
19817                        		.dbg	line,	"include\init.c", 414; sgx_load_vram(COIN_500_VRAM_ADR, tiles_SPR_COIN_500 , TILES_4);
19818                        		__st.wmiq	27584, _di
         1E:DBAC  A9 C0      			lda.l	#27584
         1E:DBAE  85 F0      			sta.l	_di
         1E:DBB0  A9 6B      			lda.h	#27584
         1E:DBB2  85 F1      			sta.h	_di
19819                        		__farptr	_tiles_SPR_COIN_500, _bp_bank, _bp
         1E:DBB4  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_500))
         1E:DBB6  85 EC      			sta.l	_bp
         1E:DBB8  A9 6E      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_500))
         1E:DBBA  85 ED      			sta.h	_bp
         1E:DBBC  A9 1A      			lda	#bank(_tiles_SPR_COIN_500)
         1E:DBBE  85 02      			sta	_bp_bank
19820                        		__st.wmiq	64, _ax
         1E:DBC0  A9 40      			lda.l	#64
         1E:DBC2  85 F8      			sta.l	_ax
         1E:DBC4  64 F9      			stz.h	_ax
19821                        		 _sgx_load_vram.3
         1E:DBC6  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:DBC8  20 FF FE   			call	load_vram_x
19822                        	
19823                        		.dbg	line,	"include\init.c", 415; sgx_load_vram(COIN_1000_VRAM_ADR, tiles_SPR_COIN_1000 , TILES_4);
19824                        		__st.wmiq	27648, _di
         1E:DBCB  64 F0      			stz.l	_di
         1E:DBCD  A9 6C      			lda.h	#27648
         1E:DBCF  85 F1      			sta.h	_di
19825                        		__farptr	_tiles_SPR_COIN_1000, _bp_bank, _bp
         1E:DBD1  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COIN_1000))
         1E:DBD3  85 EC      			sta.l	_bp
         1E:DBD5  A9 6E      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COIN_1000))
         1E:DBD7  85 ED      			sta.h	_bp
         1E:DBD9  A9 1A      			lda	#bank(_tiles_SPR_COIN_1000)
         1E:DBDB  85 02      			sta	_bp_bank
19826                        		__st.wmiq	64, _ax
         1E:DBDD  A9 40      			lda.l	#64
         1E:DBDF  85 F8      			sta.l	_ax
         1E:DBE1  64 F9      			stz.h	_ax
19827                        		 _sgx_load_vram.3
         1E:DBE3  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:DBE5  20 FF FE   			call	load_vram_x
19828                        	
19829                        		.dbg	line,	"include\init.c", 416; sgx_load_vram(STAR_VRAM_ADR, tiles_SPR_STAR , TILES_4);
19830                        		__st.wmiq	27712, _di
         1E:DBE8  A9 40      			lda.l	#27712
         1E:DBEA  85 F0      			sta.l	_di
         1E:DBEC  A9 6C      			lda.h	#27712
         1E:DBEE  85 F1      			sta.h	_di
19831                        		__farptr	_tiles_SPR_STAR, _bp_bank, _bp
         1E:DBF0  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_STAR))
         1E:DBF2  85 EC      			sta.l	_bp
         1E:DBF4  A9 76      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_STAR))
         1E:DBF6  85 ED      			sta.h	_bp
         1E:DBF8  A9 1A      			lda	#bank(_tiles_SPR_STAR)
         1E:DBFA  85 02      			sta	_bp_bank
19832                        		__st.wmiq	64, _ax
         1E:DBFC  A9 40      			lda.l	#64
         1E:DBFE  85 F8      			sta.l	_ax
         1E:DC00  64 F9      			stz.h	_ax
19833                        		 _sgx_load_vram.3
         1E:DC02  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:DC04  20 FF FE   			call	load_vram_x
19834                        	
19835                        		.dbg	line,	"include\init.c", 417; sgx_load_vram(OCTOPUS_VRAM_ADR, tiles_SPR_OCTOPUS , TILES_4);
19836                        		__st.wmiq	27776, _di
         1E:DC07  A9 80      			lda.l	#27776
         1E:DC09  85 F0      			sta.l	_di
         1E:DC0B  A9 6C      			lda.h	#27776
         1E:DC0D  85 F1      			sta.h	_di
19837                        		__farptr	_tiles_SPR_OCTOPUS, _bp_bank, _bp
         1E:DC0F  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_OCTOPUS))
         1E:DC11  85 EC      			sta.l	_bp
         1E:DC13  A9 71      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_OCTOPUS))
         1E:DC15  85 ED      			sta.h	_bp
         1E:DC17  A9 1A      			lda	#bank(_tiles_SPR_OCTOPUS)
         1E:DC19  85 02      			sta	_bp_bank
19838                        		__st.wmiq	64, _ax
         1E:DC1B  A9 40      			lda.l	#64
         1E:DC1D  85 F8      			sta.l	_ax
         1E:DC1F  64 F9      			stz.h	_ax
19839                        		 _sgx_load_vram.3
         1E:DC21  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:DC23  20 FF FE   			call	load_vram_x
19840                        	
19841                        		.dbg	line,	"include\init.c", 418; sgx_load_vram(FRUIT_VRAM_ADR, tiles_SPR_FRUIT , TILES_4);
19842                        		__st.wmiq	27840, _di
         1E:DC26  A9 C0      			lda.l	#27840
         1E:DC28  85 F0      			sta.l	_di
         1E:DC2A  A9 6C      			lda.h	#27840
         1E:DC2C  85 F1      			sta.h	_di
19843                        		__farptr	_tiles_SPR_FRUIT, _bp_bank, _bp
         1E:DC2E  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_FRUIT))
         1E:DC30  85 EC      			sta.l	_bp
         1E:DC32  A9 6F      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_FRUIT))
         1E:DC34  85 ED      			sta.h	_bp
         1E:DC36  A9 1A      			lda	#bank(_tiles_SPR_FRUIT)
         1E:DC38  85 02      			sta	_bp_bank
19844                        		__st.wmiq	64, _ax
         1E:DC3A  A9 40      			lda.l	#64
         1E:DC3C  85 F8      			sta.l	_ax
         1E:DC3E  64 F9      			stz.h	_ax
19845                        		 _sgx_load_vram.3
         1E:DC40  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:DC42  20 FF FE   			call	load_vram_x
19846                        	
19847                        		.dbg	line,	"include\init.c", 419; sgx_load_vram(BARREL_VRAM_ADR, tiles_SPR_BARREL , TILES_4);
19848                        		__st.wmiq	27904, _di
         1E:DC45  64 F0      			stz.l	_di
         1E:DC47  A9 6D      			lda.h	#27904
         1E:DC49  85 F1      			sta.h	_di
19849                        		__farptr	_tiles_SPR_BARREL, _bp_bank, _bp
         1E:DC4B  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_BARREL))
         1E:DC4D  85 EC      			sta.l	_bp
         1E:DC4F  A9 7F      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_BARREL))
         1E:DC51  85 ED      			sta.h	_bp
         1E:DC53  A9 19      			lda	#bank(_tiles_SPR_BARREL)
         1E:DC55  85 02      			sta	_bp_bank
19850                        		__st.wmiq	64, _ax
         1E:DC57  A9 40      			lda.l	#64
         1E:DC59  85 F8      			sta.l	_ax
         1E:DC5B  64 F9      			stz.h	_ax
19851                        		 _sgx_load_vram.3
         1E:DC5D  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:DC5F  20 FF FE   			call	load_vram_x
19852                        	
19853                        		.dbg	line,	"include\init.c", 420; sgx_load_vram(HOURGLASS_VRAM_ADR, tiles_SPR_HOURGLASS , TILES_4);
19854                        		__st.wmiq	27968, _di
         1E:DC62  A9 40      			lda.l	#27968
         1E:DC64  85 F0      			sta.l	_di
         1E:DC66  A9 6D      			lda.h	#27968
         1E:DC68  85 F1      			sta.h	_di
19855                        		__farptr	_tiles_SPR_HOURGLASS, _bp_bank, _bp
         1E:DC6A  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_HOURGLASS))
         1E:DC6C  85 EC      			sta.l	_bp
         1E:DC6E  A9 70      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_HOURGLASS))
         1E:DC70  85 ED      			sta.h	_bp
         1E:DC72  A9 1A      			lda	#bank(_tiles_SPR_HOURGLASS)
         1E:DC74  85 02      			sta	_bp_bank
19856                        		__st.wmiq	64, _ax
         1E:DC76  A9 40      			lda.l	#64
         1E:DC78  85 F8      			sta.l	_ax
         1E:DC7A  64 F9      			stz.h	_ax
19857                        		 _sgx_load_vram.3
         1E:DC7C  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:DC7E  20 FF FE   			call	load_vram_x
19858                        	
19859                        		.dbg	line,	"include\init.c", 421; sgx_load_vram(BAMBOO_VRAM_ADR, tiles_SPR_BAMBOO , TILES_4);
19860                        		__st.wmiq	28032, _di
         1E:DC81  A9 80      			lda.l	#28032
         1E:DC83  85 F0      			sta.l	_di
         1E:DC85  A9 6D      			lda.h	#28032
         1E:DC87  85 F1      			sta.h	_di
19861                        		__farptr	_tiles_SPR_BAMBOO, _bp_bank, _bp
         1E:DC89  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_BAMBOO))
         1E:DC8B  85 EC      			sta.l	_bp
         1E:DC8D  A9 77      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_BAMBOO))
         1E:DC8F  85 ED      			sta.h	_bp
         1E:DC91  A9 1A      			lda	#bank(_tiles_SPR_BAMBOO)
         1E:DC93  85 02      			sta	_bp_bank
19862                        		__st.wmiq	64, _ax
         1E:DC95  A9 40      			lda.l	#64
         1E:DC97  85 F8      			sta.l	_ax
         1E:DC99  64 F9      			stz.h	_ax
19863                        		 _sgx_load_vram.3
         1E:DC9B  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:DC9D  20 FF FE   			call	load_vram_x
19864                        	
19865                        		.dbg	line,	"include\init.c", 422; sgx_load_vram(YASHICHI_VRAM_ADR, tiles_SPR_YASHICHI , TILES_4);
19866                        		__st.wmiq	28096, _di
         1E:DCA0  A9 C0      			lda.l	#28096
         1E:DCA2  85 F0      			sta.l	_di
         1E:DCA4  A9 6D      			lda.h	#28096
         1E:DCA6  85 F1      			sta.h	_di
19867                        		__farptr	_tiles_SPR_YASHICHI, _bp_bank, _bp
         1E:DCA8  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_YASHICHI))
         1E:DCAA  85 EC      			sta.l	_bp
         1E:DCAC  A9 77      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_YASHICHI))
         1E:DCAE  85 ED      			sta.h	_bp
         1E:DCB0  A9 1A      			lda	#bank(_tiles_SPR_YASHICHI)
         1E:DCB2  85 02      			sta	_bp_bank
19868                        		__st.wmiq	64, _ax
         1E:DCB4  A9 40      			lda.l	#64
         1E:DCB6  85 F8      			sta.l	_ax
         1E:DCB8  64 F9      			stz.h	_ax
19869                        		 _sgx_load_vram.3
         1E:DCBA  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:DCBC  20 FF FE   			call	load_vram_x
19870                        	
19871                        		.dbg	line,	"include\init.c", 423; sgx_load_vram(ELEPHANT_VRAM_ADR, tiles_SPR_ELEPHANT , TILES_4);
19872                        		__st.wmiq	28160, _di
         1E:DCBF  64 F0      			stz.l	_di
         1E:DCC1  A9 6E      			lda.h	#28160
         1E:DCC3  85 F1      			sta.h	_di
19873                        		__farptr	_tiles_SPR_ELEPHANT, _bp_bank, _bp
         1E:DCC5  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_ELEPHANT))
         1E:DCC7  85 EC      			sta.l	_bp
         1E:DCC9  A9 78      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_ELEPHANT))
         1E:DCCB  85 ED      			sta.h	_bp
         1E:DCCD  A9 1A      			lda	#bank(_tiles_SPR_ELEPHANT)
         1E:DCCF  85 02      			sta	_bp_bank
19874                        		__st.wmiq	64, _ax
         1E:DCD1  A9 40      			lda.l	#64
         1E:DCD3  85 F8      			sta.l	_ax
         1E:DCD5  64 F9      			stz.h	_ax
19875                        		 _sgx_load_vram.3
         1E:DCD7  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:DCD9  20 FF FE   			call	load_vram_x
19876                        	
19877                        		.dbg	line,	"include\init.c", 424; sgx_load_vram(DRAGONFLY_VRAM_ADR, tiles_SPR_DRAGONFLY , TILES_4);
19878                        		__st.wmiq	28224, _di
         1E:DCDC  A9 40      			lda.l	#28224
         1E:DCDE  85 F0      			sta.l	_di
         1E:DCE0  A9 6E      			lda.h	#28224
         1E:DCE2  85 F1      			sta.h	_di
19879                        		__farptr	_tiles_SPR_DRAGONFLY, _bp_bank, _bp
         1E:DCE4  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_DRAGONFLY))
         1E:DCE6  85 EC      			sta.l	_bp
         1E:DCE8  A9 78      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_DRAGONFLY))
         1E:DCEA  85 ED      			sta.h	_bp
         1E:DCEC  A9 1A      			lda	#bank(_tiles_SPR_DRAGONFLY)
         1E:DCEE  85 02      			sta	_bp_bank
19880                        		__st.wmiq	64, _ax
         1E:DCF0  A9 40      			lda.l	#64
         1E:DCF2  85 F8      			sta.l	_ax
         1E:DCF4  64 F9      			stz.h	_ax
19881                        		 _sgx_load_vram.3
         1E:DCF6  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:DCF8  20 FF FE   			call	load_vram_x
19882                        	
19883                        		.dbg	line,	"include\init.c", 425; sgx_load_vram(COW_VRAM_ADR, tiles_SPR_COW , TILES_4);
19884                        		__st.wmiq	28288, _di
         1E:DCFB  A9 80      			lda.l	#28288
         1E:DCFD  85 F0      			sta.l	_di
         1E:DCFF  A9 6E      			lda.h	#28288
         1E:DD01  85 F1      			sta.h	_di
19885                        		__farptr	_tiles_SPR_COW, _bp_bank, _bp
         1E:DD03  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_COW))
         1E:DD05  85 EC      			sta.l	_bp
         1E:DD07  A9 79      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_COW))
         1E:DD09  85 ED      			sta.h	_bp
         1E:DD0B  A9 1A      			lda	#bank(_tiles_SPR_COW)
         1E:DD0D  85 02      			sta	_bp_bank
19886                        		__st.wmiq	64, _ax
         1E:DD0F  A9 40      			lda.l	#64
         1E:DD11  85 F8      			sta.l	_ax
         1E:DD13  64 F9      			stz.h	_ax
19887                        		 _sgx_load_vram.3
         1E:DD15  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:DD17  20 FF FE   			call	load_vram_x
19888                        	
19889                        		.dbg	line,	"include\init.c", 426; sgx_load_vram(MOBICHAN_VRAM_ADR, tiles_SPR_MOBICHAN , TILES_4);
19890                        		__st.wmiq	28352, _di
         1E:DD1A  A9 C0      			lda.l	#28352
         1E:DD1C  85 F0      			sta.l	_di
         1E:DD1E  A9 6E      			lda.h	#28352
         1E:DD20  85 F1      			sta.h	_di
19891                        		__farptr	_tiles_SPR_MOBICHAN, _bp_bank, _bp
         1E:DD22  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_MOBICHAN))
         1E:DD24  85 EC      			sta.l	_bp
         1E:DD26  A9 79      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_MOBICHAN))
         1E:DD28  85 ED      			sta.h	_bp
         1E:DD2A  A9 1A      			lda	#bank(_tiles_SPR_MOBICHAN)
         1E:DD2C  85 02      			sta	_bp_bank
19892                        		__st.wmiq	64, _ax
         1E:DD2E  A9 40      			lda.l	#64
         1E:DD30  85 F8      			sta.l	_ax
         1E:DD32  64 F9      			stz.h	_ax
19893                        		 _sgx_load_vram.3
         1E:DD34  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:DD36  20 FF FE   			call	load_vram_x
19894                        	
19895                        		.dbg	line,	"include\init.c", 427; }
19896    1E:DD39             	.LL959:
19897                        		__return	0
         1E:DD39  4C EF FF   			jmp	leave_proc
19898                        		.dbg	clear
19899                        		.endp
19900                        		.pceas
19901                        	
19902                        		.dbg	line,	"include\init.c", 430; void load_CHEST_TILES()
19903                        		.dbg	line,	"include\init.c", 431; {
19904                        	;***********************
19905                        	;***********************
19906                        	
19907                        		.hucc
19908    01:DFD6             		.proc		_load_CHEST_TILES
19909                        		__enter		_load_CHEST_TILES
19910                        	
19911                        		.dbg	line,	"include\init.c", 432; sgx_load_vram(CHEST_VRAM_ADR, tiles_SPR_CHEST , SIZEOF(tiles_SPR_CHEST) >> 1);
19912                        		__st.wmiq	28416, _di
         01:DFD6  64 F0      			stz.l	_di
         01:DFD8  A9 6F      			lda.h	#28416
         01:DFDA  85 F1      			sta.h	_di
19913                        		__farptr	_tiles_SPR_CHEST, _bp_bank, _bp
         01:DFDC  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_CHEST))
         01:DFDE  85 EC      			sta.l	_bp
         01:DFE0  A9 7F      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_CHEST))
         01:DFE2  85 ED      			sta.h	_bp
         01:DFE4  A9 19      			lda	#bank(_tiles_SPR_CHEST)
         01:DFE6  85 02      			sta	_bp_bank
19914                        		__ld.wi		___sizeof__tiles_SPR_CHEST
         01:DFE8  A9 00      			lda.l	#___sizeof__tiles_SPR_CHEST
         01:DFEA  A0 0C      			ldy.h	#___sizeof__tiles_SPR_CHEST
19915                        		__lsr.wi	1
         01:DFEC  42         			say
         01:DFED  4A         			lsr	a
         01:DFEE  42         			say
         01:DFEF  6A         			ror	a
19916                        		__st.wmq	_ax
         01:DFF0  85 F8      			sta.l	_ax
         01:DFF2  84 F9      			sty.h	_ax
19917                        		 _sgx_load_vram.3
         01:DFF4  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         01:DFF6  20 FF FE   			call	load_vram_x
19918                        	
19919                        		.dbg	line,	"include\init.c", 433; }
19920    01:DFF9             	.LL960:
19921                        		__return	0
         01:DFF9  4C EF FF   			jmp	leave_proc
19922                        		.dbg	clear
19923                        		.endp
19924                        		.pceas
19925                        	
19926                        		.dbg	line,	"include\init.c", 436; void load_NPC_TILES()
19927                        		.dbg	line,	"include\init.c", 437; {
19928                        	;***********************
19929                        	;***********************
19930                        	
19931                        		.hucc
19932    1F:DCC9             		.proc		_load_NPC_TILES
19933                        		__enter		_load_NPC_TILES
19934                        	
19935                        		.dbg	line,	"include\init.c", 438; sgx_load_vram(NPC_1_VRAM_ADR, tiles_SPR_NPC , SIZEOF(tiles_SPR_NPC) >> 1);
19936                        		__st.wmiq	29952, _di
         1F:DCC9  64 F0      			stz.l	_di
         1F:DCCB  A9 75      			lda.h	#29952
         1F:DCCD  85 F1      			sta.h	_di
19937                        		__farptr	_tiles_SPR_NPC, _bp_bank, _bp
         1F:DCCF  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_NPC))
         1F:DCD1  85 EC      			sta.l	_bp
         1F:DCD3  A9 7E      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_NPC))
         1F:DCD5  85 ED      			sta.h	_bp
         1F:DCD7  A9 1A      			lda	#bank(_tiles_SPR_NPC)
         1F:DCD9  85 02      			sta	_bp_bank
19938                        		__ld.wi		___sizeof__tiles_SPR_NPC
         1F:DCDB  A9 00      			lda.l	#___sizeof__tiles_SPR_NPC
         1F:DCDD  A0 0C      			ldy.h	#___sizeof__tiles_SPR_NPC
19939                        		__lsr.wi	1
         1F:DCDF  42         			say
         1F:DCE0  4A         			lsr	a
         1F:DCE1  42         			say
         1F:DCE2  6A         			ror	a
19940                        		__st.wmq	_ax
         1F:DCE3  85 F8      			sta.l	_ax
         1F:DCE5  84 F9      			sty.h	_ax
19941                        		 _sgx_load_vram.3
         1F:DCE7  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1F:DCE9  20 FF FE   			call	load_vram_x
19942                        	
19943                        		.dbg	line,	"include\init.c", 439; }
19944    1F:DCEC             	.LL961:
19945                        		__return	0
         1F:DCEC  4C EF FF   			jmp	leave_proc
19946                        		.dbg	clear
19947                        		.endp
19948                        		.pceas
19949                        	
19950                        		.dbg	line,	"include\init.c", 442; void init_OBJECT_LV1()
19951                        		.dbg	line,	"include\init.c", 443; {
19952                        	;***********************
19953                        	;***********************
19954                        	
19955                        		.hucc
19956    1F:CD8F             		.proc		_init_OBJECT_LV1
19957                        		__enter		_init_OBJECT_LV1
19958                        	
19959                        		.dbg	line,	"include\init.c", 444; signed char i;
19960                        	
19961                        		.dbg	line,	"include\init.c", 446; for(i=0 ; i<level_object_number ; i++)
19962                        		__st.umiq	0, __init_OBJECT_LV1_end - 1  /* i */
         1F:CD8F  9C 23 2C   			stz	__init_OBJECT_LV1_end - 1
19963    1F:CD92             	.LL963:
19964                        		__ld.bm		__init_OBJECT_LV1_end - 1  /* i */
         1F:CD92  AD 23 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:CD95  C2         			cly
         1F:CD96  10 01      			bpl	!+
         1F:CD98  88         			dey
         1F:CD99             	!:
19965                        		__slt_w.um	_level_object_number
         1F:CD99  CD 38 23   			cmp	_level_object_number		; Subtract memory from Y:A.
         1F:CD9C  98         			tya
         1F:CD9D  E9 00      			sbc	#0
         1F:CD9F  50 02      			bvc	!+
         1F:CDA1  49 80      			eor	#$80		; -ve if Y:A < memory (signed).
         1F:CDA3  0A         	!:		asl	a
19966                        		__btrue		.LL965
         1F:CDA4  B0 08      			bcs	.LL965
19967                        		__bra		.LL966
         1F:CDA6  4C CC CE   			bra	.LL966
19968    1F:CDA9             	.LL964:
19969                        		__inc.umq	__init_OBJECT_LV1_end - 1  /* i */
         1F:CDA9  EE 23 2C   			inc	__init_OBJECT_LV1_end - 1
19970                        		__bra		.LL963
         1F:CDAC  80 E4      			bra	.LL963
19971    1F:CDAE             	.LL965:
19972                        	
19973                        		.dbg	line,	"include\init.c", 447; {
19974                        	
19975                        		.dbg	line,	"include\init.c", 448; // SET OBJECT PROPERTIES //
19976                        	
19977                        		.dbg	line,	"include\init.c", 449; list_object_type[i] = TABLE_OBJECT_TYPE_LV1[i];
19978                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:CDAE  AE 23 2C   			ldx	__init_OBJECT_LV1_end - 1
19979                        		__ld.uax	_TABLE_OBJECT_TYPE_LV1
         1F:CDB1  BD C1 61   			lda	_TABLE_OBJECT_TYPE_LV1, x
         1F:CDB4  C2         			cly
19980                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:CDB5  AE 23 2C   			ldx	__init_OBJECT_LV1_end - 1
19981                        		__st.uaxq	_list_object_type
         1F:CDB8  9D 3A 23   			sta	_list_object_type, x
19982                        	
19983                        		.dbg	line,	"include\init.c", 450; list_object_x_pos_ref[i] = TABLE_OBJECT_X_POS_REF_LV1[i];
19984                        		__ld2x.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:CDBB  AD 23 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:CDBE  0A         			asl	a
         1F:CDBF  AA         			tax
19985                        		__ld.wax	_TABLE_OBJECT_X_POS_REF_LV1
         1F:CDC0  BD D8 61   			lda.l	_TABLE_OBJECT_X_POS_REF_LV1, x
         1F:CDC3  BC D9 61   			ldy.h	_TABLE_OBJECT_X_POS_REF_LV1, x
19986                        		__ld2x.bm	__init_OBJECT_LV1_end - 1  /* i */
         1F:CDC6  AA         			tax
         1F:CDC7  AD 23 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:CDCA  0A         			asl	a
         1F:CDCB  22         			sax
19987                        		__st.waxq	_list_object_x_pos_ref
         1F:CDCC  9D 65 25   			sta.l	_list_object_x_pos_ref, x
         1F:CDCF  98         			tya
         1F:CDD0  9D 66 25   			sta.h	_list_object_x_pos_ref, x
19988                        	
19989                        		.dbg	line,	"include\init.c", 451; list_object_y_pos_ref[i] = TABLE_OBJECT_Y_POS_REF_LV1[i];
19990                        		__ld2x.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:CDD3  AD 23 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:CDD6  0A         			asl	a
         1F:CDD7  AA         			tax
19991                        		__ld.wax	_TABLE_OBJECT_Y_POS_REF_LV1
         1F:CDD8  BD 06 62   			lda.l	_TABLE_OBJECT_Y_POS_REF_LV1, x
         1F:CDDB  BC 07 62   			ldy.h	_TABLE_OBJECT_Y_POS_REF_LV1, x
19992                        		__ld2x.bm	__init_OBJECT_LV1_end - 1  /* i */
         1F:CDDE  AA         			tax
         1F:CDDF  AD 23 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:CDE2  0A         			asl	a
         1F:CDE3  22         			sax
19993                        		__st.waxq	_list_object_y_pos_ref
         1F:CDE4  9D 97 25   			sta.l	_list_object_y_pos_ref, x
         1F:CDE7  98         			tya
         1F:CDE8  9D 98 25   			sta.h	_list_object_y_pos_ref, x
19994                        	
19995                        		.dbg	line,	"include\init.c", 452; list_object_x_pos[i] = -16;
19996                        		__ld2x.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:CDEB  AD 23 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:CDEE  0A         			asl	a
         1F:CDEF  AA         			tax
19997                        		__st.waxiq	-16, _list_object_x_pos
         1F:CDF0  A9 F0      			lda.l	#-16
         1F:CDF2  9D 01 25   			sta.l	_list_object_x_pos, x
         1F:CDF5  A9 FF      			lda.h	#-16
         1F:CDF7  9D 02 25   			sta.h	_list_object_x_pos, x
19998                        	
19999                        		.dbg	line,	"include\init.c", 453; list_object_y_pos[i] = -16;
20000                        		__ld2x.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:CDFA  AD 23 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:CDFD  0A         			asl	a
         1F:CDFE  AA         			tax
20001                        		__st.waxiq	-16, _list_object_y_pos
         1F:CDFF  A9 F0      			lda.l	#-16
         1F:CE01  9D 33 25   			sta.l	_list_object_y_pos, x
         1F:CE04  A9 FF      			lda.h	#-16
         1F:CE06  9D 34 25   			sta.h	_list_object_y_pos, x
20002                        	
20003                        		.dbg	line,	"include\init.c", 454; 
20004                        	
20005                        		.dbg	line,	"include\init.c", 455; // IF THE PLAYERS ENTERS THE LEVEL FOR THE 1RST TIME //
20006                        	
20007                        		.dbg	line,	"include\init.c", 456; // ALL OBJECTS ARE ACTIVE //
20008                        	
20009                        		.dbg	line,	"include\init.c", 457; if(respawn == FALSE)
20010                        		__not.um	_respawn
         1F:CE09  AD 17 23   			lda	_respawn
         1F:CE0C  18         			clc
         1F:CE0D  D0 01      			bne	!+
         1F:CE0F  38         			sec
         1F:CE10             	!:
20011                        		__bfalse	.LL967
         1F:CE10  90 08      			bcc	.LL967
20012                        	
20013                        		.dbg	line,	"include\init.c", 458; {
20014                        	
20015                        		.dbg	line,	"include\init.c", 459; list_object_state[i] = STATE_ACTIVE;
20016                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:CE12  AE 23 2C   			ldx	__init_OBJECT_LV1_end - 1
20017                        		__st.uaxiq	1, _list_object_state
         1F:CE15  A9 01      			lda.l	#1
         1F:CE17  9D 53 23   			sta	_list_object_state, x
20018                        	
20019                        		.dbg	line,	"include\init.c", 460; }
20020                        	
20021                        		.dbg	line,	"include\init.c", 463; // SET OBJECT SPRITE //
20022                        	
20023                        		.dbg	line,	"include\init.c", 464; sgx_spr_set(i + object_start_index);
20024    1F:CE1A             	.LL967:
20025                        		__ld.bm		__init_OBJECT_LV1_end - 1  /* i */
         1F:CE1A  AD 23 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:CE1D  C2         			cly
         1F:CE1E  10 01      			bpl	!+
         1F:CE20  88         			dey
         1F:CE21             	!:
20026                        		__add.um	_object_start_index
         1F:CE21  18         			clc
         1F:CE22  6D 37 23   			adc	_object_start_index
         1F:CE25  90 01      			bcc	!+
         1F:CE27  C8         			iny
         1F:CE28             	!:
20027                        		__call		_sgx_spr_set.1
         1F:CE28  20 9E E8   			call	_sgx_spr_set.1
20028                        	
20029                        		.dbg	line,	"include\init.c", 465; sgx_spr_x(list_object_x_pos[i]);
20030                        		__ld2x.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:CE2B  AD 23 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:CE2E  0A         			asl	a
         1F:CE2F  AA         			tax
20031                        		__ld.wax	_list_object_x_pos
         1F:CE30  BD 01 25   			lda.l	_list_object_x_pos, x
         1F:CE33  BC 02 25   			ldy.h	_list_object_x_pos, x
20032                        		__call		_sgx_spr_x.1
         1F:CE36  20 CB E8   			call	_sgx_spr_x.1
20033                        	
20034                        		.dbg	line,	"include\init.c", 466; sgx_spr_y(list_object_y_pos[i]);
20035                        		__ld2x.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:CE39  AD 23 2C   			lda	__init_OBJECT_LV1_end - 1
         1F:CE3C  0A         			asl	a
         1F:CE3D  AA         			tax
20036                        		__ld.wax	_list_object_y_pos
         1F:CE3E  BD 33 25   			lda.l	_list_object_y_pos, x
         1F:CE41  BC 34 25   			ldy.h	_list_object_y_pos, x
20037                        		__call		_sgx_spr_y.1
         1F:CE44  20 DA E8   			call	_sgx_spr_y.1
20038                        	
20039                        		.dbg	line,	"include\init.c", 467; sgx_spr_pri(TRUE);
20040                        		__ld.uiq	1
         1F:CE47  A9 01      			lda	#1
20041                        		__call		_sgx_spr_pri.1
         1F:CE49  20 1D E9   			call	_sgx_spr_pri.1
20042                        	
20043                        		.dbg	line,	"include\init.c", 470; if(list_object_type[i] == TYPE_HOURGLASS)
20044                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:CE4C  AE 23 2C   			ldx	__init_OBJECT_LV1_end - 1
20045                        		__not.uax	_list_object_type
         1F:CE4F  BD 3A 23   			lda	_list_object_type, x
         1F:CE52  18         			clc
         1F:CE53  D0 01      			bne	!+
         1F:CE55  38         			sec
         1F:CE56             	!:
20046                        		__bfalse	.LL968
         1F:CE56  90 1D      			bcc	.LL968
20047                        	
20048                        		.dbg	line,	"include\init.c", 471; {
20049                        	
20050                        		.dbg	line,	"include\init.c", 472; list_object_energy[i] = 0;
20051                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:CE58  AE 23 2C   			ldx	__init_OBJECT_LV1_end - 1
20052                        		__st.uaxiq	0, _list_object_energy
         1F:CE5B  9E 6C 23   			stz	_list_object_energy, x
20053                        	
20054                        		.dbg	line,	"include\init.c", 473; sgx_spr_pal(18);
20055                        		__ld.uiq	18
         1F:CE5E  A9 12      			lda	#18
20056                        		__call		_sgx_spr_pal.1
         1F:CE60  20 0E E9   			call	_sgx_spr_pal.1
20057                        	
20058                        		.dbg	line,	"include\init.c", 474; sgx_spr_pattern(HOURGLASS_VRAM_ADR);
20059                        		__ld.wi		27968
         1F:CE63  A9 40      			lda.l	#27968
         1F:CE65  A0 6D      			ldy.h	#27968
20060                        		__call		_sgx_spr_pattern.1
         1F:CE67  20 E7 E8   			call	_sgx_spr_pattern.1
20061                        	
20062                        		.dbg	line,	"include\init.c", 475; sgx_spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_16x16);
20063                        		__st.umiq	185, _al
         1F:CE6A  A9 B9      			lda.l	#185
         1F:CE6C  85 F8      			sta	_al
20064                        		__ld.uiq	0
         1F:CE6E  62         			cla
20065                        		__call		_sgx_spr_ctrl.2
         1F:CE6F  20 FD E8   			call	_sgx_spr_ctrl.2
20066                        	
20067                        		.dbg	line,	"include\init.c", 476; }
20068                        	
20069                        		.dbg	line,	"include\init.c", 478; else if(list_object_type[i] == TYPE_POT)
20070                        		__bra		.LL969
         1F:CE72  4C A9 CD   			bra	.LL969
20071    1F:CE75             	.LL968:
20072                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:CE75  AE 23 2C   			ldx	__init_OBJECT_LV1_end - 1
20073                        		__ld.uaxq	_list_object_type
         1F:CE78  BD 3A 23   			lda	_list_object_type, x
20074                        		__equ_b.uiq	1
         1F:CE7B  C9 01      			cmp	#1
         1F:CE7D  F0 01      			beq	!+
         1F:CE7F  18         			clc
         1F:CE80             	!:
20075                        		__bfalse	.LL970
         1F:CE80  90 1E      			bcc	.LL970
20076                        	
20077                        		.dbg	line,	"include\init.c", 479; {
20078                        	
20079                        		.dbg	line,	"include\init.c", 480; list_object_energy[i] = 2;
20080                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:CE82  AE 23 2C   			ldx	__init_OBJECT_LV1_end - 1
20081                        		__st.uaxiq	2, _list_object_energy
         1F:CE85  A9 02      			lda.l	#2
         1F:CE87  9D 6C 23   			sta	_list_object_energy, x
20082                        	
20083                        		.dbg	line,	"include\init.c", 481; sgx_spr_pal(17);
20084                        		__ld.uiq	17
         1F:CE8A  A9 11      			lda	#17
20085                        		__call		_sgx_spr_pal.1
         1F:CE8C  20 0E E9   			call	_sgx_spr_pal.1
20086                        	
20087                        		.dbg	line,	"include\init.c", 482; sgx_spr_pattern(POT1_VRAM_ADR);
20088                        		__ld.wi		26624
         1F:CE8F  62         			cla
         1F:CE90  A0 68      			ldy.h	#26624
20089                        		__call		_sgx_spr_pattern.1
         1F:CE92  20 E7 E8   			call	_sgx_spr_pattern.1
20090                        	
20091                        		.dbg	line,	"include\init.c", 483; sgx_spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_16x16);
20092                        		__st.umiq	185, _al
         1F:CE95  A9 B9      			lda.l	#185
         1F:CE97  85 F8      			sta	_al
20093                        		__ld.uiq	0
         1F:CE99  62         			cla
20094                        		__call		_sgx_spr_ctrl.2
         1F:CE9A  20 FD E8   			call	_sgx_spr_ctrl.2
20095                        	
20096                        		.dbg	line,	"include\init.c", 484; }
20097                        	
20098                        		.dbg	line,	"include\init.c", 486; else if(list_object_type[i] == TYPE_POW)
20099                        		__bra		.LL971
         1F:CE9D  4C A9 CD   			bra	.LL971
20100    1F:CEA0             	.LL970:
20101                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:CEA0  AE 23 2C   			ldx	__init_OBJECT_LV1_end - 1
20102                        		__ld.uaxq	_list_object_type
         1F:CEA3  BD 3A 23   			lda	_list_object_type, x
20103                        		__equ_b.uiq	2
         1F:CEA6  C9 02      			cmp	#2
         1F:CEA8  F0 01      			beq	!+
         1F:CEAA  18         			clc
         1F:CEAB             	!:
20104                        		__bfalse	.LL972
         1F:CEAB  B0 03 4C A9			bcc	.LL972
         1F:CEAF  CD          
20105                        	
20106                        		.dbg	line,	"include\init.c", 487; {
20107                        	
20108                        		.dbg	line,	"include\init.c", 488; list_object_energy[i] = 0;
20109                        		__ldx.bmq	__init_OBJECT_LV1_end - 1  /* i */
         1F:CEB0  AE 23 2C   			ldx	__init_OBJECT_LV1_end - 1
20110                        		__st.uaxiq	0, _list_object_energy
         1F:CEB3  9E 6C 23   			stz	_list_object_energy, x
20111                        	
20112                        		.dbg	line,	"include\init.c", 489; sgx_spr_pal(18);
20113                        		__ld.uiq	18
         1F:CEB6  A9 12      			lda	#18
20114                        		__call		_sgx_spr_pal.1
         1F:CEB8  20 0E E9   			call	_sgx_spr_pal.1
20115                        	
20116                        		.dbg	line,	"include\init.c", 490; sgx_spr_pattern(POW_VRAM_ADR);
20117                        		__ld.wi		27136
         1F:CEBB  62         			cla
         1F:CEBC  A0 6A      			ldy.h	#27136
20118                        		__call		_sgx_spr_pattern.1
         1F:CEBE  20 E7 E8   			call	_sgx_spr_pattern.1
20119                        	
20120                        		.dbg	line,	"include\init.c", 491; sgx_spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_16x16);
20121                        		__st.umiq	185, _al
         1F:CEC1  A9 B9      			lda.l	#185
         1F:CEC3  85 F8      			sta	_al
20122                        		__ld.uiq	0
         1F:CEC5  62         			cla
20123                        		__call		_sgx_spr_ctrl.2
         1F:CEC6  20 FD E8   			call	_sgx_spr_ctrl.2
20124                        	
20125                        		.dbg	line,	"include\init.c", 492; }
20126                        	
20127                        		.dbg	line,	"include\init.c", 493; }
20128    1F:CEC9             	.LL972	.alias		.LL964
20129    1F:CEC9             	.LL971	.alias		.LL964
20130    1F:CEC9             	.LL969	.alias		.LL964
20131                        		__bra		.LL964
         1F:CEC9  4C A9 CD   			bra	.LL964
20132    1F:CECC             	.LL966:
20133                        	
20134                        		.dbg	line,	"include\init.c", 494; }
20135    1F:CECC             	.LL962:
20136                        		__return	0
         1F:CECC  4C EF FF   			jmp	leave_proc
20137                        		.dbg	clear
20138                        		.endp
20139               2310     		.bss
20140    F8:2310             	__init_OBJECT_LV1_end	.alias	leaf_stack
20141               E31D     		.code
20142                        		.pceas
20143                        	
20144                        		.dbg	line,	"include\init.c", 497; void init_CHEST_LV1()
20145                        		.dbg	line,	"include\init.c", 498; {
20146                        	;***********************
20147                        	;***********************
20148                        	
20149                        		.hucc
20150    1F:D3CF             		.proc		_init_CHEST_LV1
20151                        		__enter		_init_CHEST_LV1
20152                        	
20153                        		.dbg	line,	"include\init.c", 499; signed char i;
20154                        	
20155                        		.dbg	line,	"include\init.c", 501; for(i=0 ; i<level_chest_number ; i++)
20156                        		__st.umiq	0, __init_CHEST_LV1_end - 1  /* i */
         1F:D3CF  9C 23 2C   			stz	__init_CHEST_LV1_end - 1
20157    1F:D3D2             	.LL974:
20158                        		__ld.bm		__init_CHEST_LV1_end - 1  /* i */
         1F:D3D2  AD 23 2C   			lda	__init_CHEST_LV1_end - 1
         1F:D3D5  C2         			cly
         1F:D3D6  10 01      			bpl	!+
         1F:D3D8  88         			dey
         1F:D3D9             	!:
20159                        		__slt_w.um	_level_chest_number
         1F:D3D9  CD C0 23   			cmp	_level_chest_number		; Subtract memory from Y:A.
         1F:D3DC  98         			tya
         1F:D3DD  E9 00      			sbc	#0
         1F:D3DF  50 02      			bvc	!+
         1F:D3E1  49 80      			eor	#$80		; -ve if Y:A < memory (signed).
         1F:D3E3  0A         	!:		asl	a
20160                        		__btrue		.LL976
         1F:D3E4  B0 08      			bcs	.LL976
20161                        		__bra		.LL977
         1F:D3E6  4C 96 D4   			bra	.LL977
20162    1F:D3E9             	.LL975:
20163                        		__inc.umq	__init_CHEST_LV1_end - 1  /* i */
         1F:D3E9  EE 23 2C   			inc	__init_CHEST_LV1_end - 1
20164                        		__bra		.LL974
         1F:D3EC  80 E4      			bra	.LL974
20165    1F:D3EE             	.LL976:
20166                        	
20167                        		.dbg	line,	"include\init.c", 502; {
20168                        	
20169                        		.dbg	line,	"include\init.c", 503; // SET CHEST PROPERTIES //
20170                        	
20171                        		.dbg	line,	"include\init.c", 504; list_chest_x_pos_ref[i] = TABLE_CHEST_X_POS_REF_LV1[i];
20172                        		__ld2x.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:D3EE  AD 23 2C   			lda	__init_CHEST_LV1_end - 1
         1F:D3F1  0A         			asl	a
         1F:D3F2  AA         			tax
20173                        		__ld.wax	_TABLE_CHEST_X_POS_REF_LV1
         1F:D3F3  BD 79 62   			lda.l	_TABLE_CHEST_X_POS_REF_LV1, x
         1F:D3F6  BC 7A 62   			ldy.h	_TABLE_CHEST_X_POS_REF_LV1, x
20174                        		__ld2x.bm	__init_CHEST_LV1_end - 1  /* i */
         1F:D3F9  AA         			tax
         1F:D3FA  AD 23 2C   			lda	__init_CHEST_LV1_end - 1
         1F:D3FD  0A         			asl	a
         1F:D3FE  22         			sax
20175                        		__st.waxq	_list_chest_x_pos_ref
         1F:D3FF  9D E9 25   			sta.l	_list_chest_x_pos_ref, x
         1F:D402  98         			tya
         1F:D403  9D EA 25   			sta.h	_list_chest_x_pos_ref, x
20176                        	
20177                        		.dbg	line,	"include\init.c", 505; list_chest_y_pos_ref[i] = TABLE_CHEST_Y_POS_REF_LV1[i];
20178                        		__ld2x.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:D406  AD 23 2C   			lda	__init_CHEST_LV1_end - 1
         1F:D409  0A         			asl	a
         1F:D40A  AA         			tax
20179                        		__ld.wax	_TABLE_CHEST_Y_POS_REF_LV1
         1F:D40B  BD 7D 62   			lda.l	_TABLE_CHEST_Y_POS_REF_LV1, x
         1F:D40E  BC 7E 62   			ldy.h	_TABLE_CHEST_Y_POS_REF_LV1, x
20180                        		__ld2x.bm	__init_CHEST_LV1_end - 1  /* i */
         1F:D411  AA         			tax
         1F:D412  AD 23 2C   			lda	__init_CHEST_LV1_end - 1
         1F:D415  0A         			asl	a
         1F:D416  22         			sax
20181                        		__st.waxq	_list_chest_y_pos_ref
         1F:D417  9D F9 25   			sta.l	_list_chest_y_pos_ref, x
         1F:D41A  98         			tya
         1F:D41B  9D FA 25   			sta.h	_list_chest_y_pos_ref, x
20182                        	
20183                        		.dbg	line,	"include\init.c", 506; list_chest_x_pos[i] = -32;
20184                        		__ld2x.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:D41E  AD 23 2C   			lda	__init_CHEST_LV1_end - 1
         1F:D421  0A         			asl	a
         1F:D422  AA         			tax
20185                        		__st.waxiq	-32, _list_chest_x_pos
         1F:D423  A9 E0      			lda.l	#-32
         1F:D425  9D C9 25   			sta.l	_list_chest_x_pos, x
         1F:D428  A9 FF      			lda.h	#-32
         1F:D42A  9D CA 25   			sta.h	_list_chest_x_pos, x
20186                        	
20187                        		.dbg	line,	"include\init.c", 507; list_chest_y_pos[i] = -32;
20188                        		__ld2x.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:D42D  AD 23 2C   			lda	__init_CHEST_LV1_end - 1
         1F:D430  0A         			asl	a
         1F:D431  AA         			tax
20189                        		__st.waxiq	-32, _list_chest_y_pos
         1F:D432  A9 E0      			lda.l	#-32
         1F:D434  9D D9 25   			sta.l	_list_chest_y_pos, x
         1F:D437  A9 FF      			lda.h	#-32
         1F:D439  9D DA 25   			sta.h	_list_chest_y_pos, x
20190                        	
20191                        		.dbg	line,	"include\init.c", 509; if(respawn == FALSE)
20192                        		__not.um	_respawn
         1F:D43C  AD 17 23   			lda	_respawn
         1F:D43F  18         			clc
         1F:D440  D0 01      			bne	!+
         1F:D442  38         			sec
         1F:D443             	!:
20193                        		__bfalse	.LL978
         1F:D443  90 08      			bcc	.LL978
20194                        	
20195                        		.dbg	line,	"include\init.c", 510; {
20196                        	
20197                        		.dbg	line,	"include\init.c", 511; list_chest_state[i] = STATE_ACTIVE;
20198                        		__ldx.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:D445  AE 23 2C   			ldx	__init_CHEST_LV1_end - 1
20199                        		__st.uaxiq	1, _list_chest_state
         1F:D448  A9 01      			lda.l	#1
         1F:D44A  9D C2 23   			sta	_list_chest_state, x
20200                        	
20201                        		.dbg	line,	"include\init.c", 512; }
20202                        	
20203                        		.dbg	line,	"include\init.c", 515; // SET CHEST SPRITE //
20204                        	
20205                        		.dbg	line,	"include\init.c", 516; sgx_spr_set(i + chest_start_index);
20206    1F:D44D             	.LL978:
20207                        		__ld.bm		__init_CHEST_LV1_end - 1  /* i */
         1F:D44D  AD 23 2C   			lda	__init_CHEST_LV1_end - 1
         1F:D450  C2         			cly
         1F:D451  10 01      			bpl	!+
         1F:D453  88         			dey
         1F:D454             	!:
20208                        		__add.um	_chest_start_index
         1F:D454  18         			clc
         1F:D455  6D BF 23   			adc	_chest_start_index
         1F:D458  90 01      			bcc	!+
         1F:D45A  C8         			iny
         1F:D45B             	!:
20209                        		__call		_sgx_spr_set.1
         1F:D45B  20 9E E8   			call	_sgx_spr_set.1
20210                        	
20211                        		.dbg	line,	"include\init.c", 517; sgx_spr_x(list_chest_x_pos[i]);
20212                        		__ld2x.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:D45E  AD 23 2C   			lda	__init_CHEST_LV1_end - 1
         1F:D461  0A         			asl	a
         1F:D462  AA         			tax
20213                        		__ld.wax	_list_chest_x_pos
         1F:D463  BD C9 25   			lda.l	_list_chest_x_pos, x
         1F:D466  BC CA 25   			ldy.h	_list_chest_x_pos, x
20214                        		__call		_sgx_spr_x.1
         1F:D469  20 CB E8   			call	_sgx_spr_x.1
20215                        	
20216                        		.dbg	line,	"include\init.c", 518; sgx_spr_y(list_chest_y_pos[i]);
20217                        		__ld2x.bmq	__init_CHEST_LV1_end - 1  /* i */
         1F:D46C  AD 23 2C   			lda	__init_CHEST_LV1_end - 1
         1F:D46F  0A         			asl	a
         1F:D470  AA         			tax
20218                        		__ld.wax	_list_chest_y_pos
         1F:D471  BD D9 25   			lda.l	_list_chest_y_pos, x
         1F:D474  BC DA 25   			ldy.h	_list_chest_y_pos, x
20219                        		__call		_sgx_spr_y.1
         1F:D477  20 DA E8   			call	_sgx_spr_y.1
20220                        	
20221                        		.dbg	line,	"include\init.c", 519; sgx_spr_pri(TRUE);
20222                        		__ld.uiq	1
         1F:D47A  A9 01      			lda	#1
20223                        		__call		_sgx_spr_pri.1
         1F:D47C  20 1D E9   			call	_sgx_spr_pri.1
20224                        	
20225                        		.dbg	line,	"include\init.c", 522; sgx_spr_pal(18);
20226                        		__ld.uiq	18
         1F:D47F  A9 12      			lda	#18
20227                        		__call		_sgx_spr_pal.1
         1F:D481  20 0E E9   			call	_sgx_spr_pal.1
20228                        	
20229                        		.dbg	line,	"include\init.c", 523; sgx_spr_pattern(CHEST_VRAM_ADR);
20230                        		__ld.wi		28416
         1F:D484  62         			cla
         1F:D485  A0 6F      			ldy.h	#28416
20231                        		__call		_sgx_spr_pattern.1
         1F:D487  20 E7 E8   			call	_sgx_spr_pattern.1
20232                        	
20233                        		.dbg	line,	"include\init.c", 524; sgx_spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_32x32);
20234                        		__st.umiq	185, _al
         1F:D48A  A9 B9      			lda.l	#185
         1F:D48C  85 F8      			sta	_al
20235                        		__ld.uiq	17
         1F:D48E  A9 11      			lda	#17
20236                        		__call		_sgx_spr_ctrl.2
         1F:D490  20 FD E8   			call	_sgx_spr_ctrl.2
20237                        	
20238                        		.dbg	line,	"include\init.c", 525; }
20239                        		__bra		.LL975
         1F:D493  4C E9 D3   			bra	.LL975
20240    1F:D496             	.LL977:
20241                        	
20242                        		.dbg	line,	"include\init.c", 526; }
20243    1F:D496             	.LL973:
20244                        		__return	0
         1F:D496  4C EF FF   			jmp	leave_proc
20245                        		.dbg	clear
20246                        		.endp
20247               2310     		.bss
20248    F8:2310             	__init_CHEST_LV1_end	.alias	leaf_stack
20249               E31D     		.code
20250                        		.pceas
20251                        	
20252                        		.dbg	line,	"include\init.c", 529; void init_NPC_LV1()
20253                        		.dbg	line,	"include\init.c", 530; {
20254                        	;***********************
20255                        	;***********************
20256                        	
20257                        		.hucc
20258    1F:D2F8             		.proc		_init_NPC_LV1
20259                        		__enter		_init_NPC_LV1
20260                        	
20261                        		.dbg	line,	"include\init.c", 531; signed char i;
20262                        	
20263                        		.dbg	line,	"include\init.c", 533; for(i=0 ; i<level_npc_number ; i++)
20264                        		__st.umiq	0, __init_NPC_LV1_end - 1  /* i */
         1F:D2F8  9C 23 2C   			stz	__init_NPC_LV1_end - 1
20265    1F:D2FB             	.LL980:
20266                        		__ld.bm		__init_NPC_LV1_end - 1  /* i */
         1F:D2FB  AD 23 2C   			lda	__init_NPC_LV1_end - 1
         1F:D2FE  C2         			cly
         1F:D2FF  10 01      			bpl	!+
         1F:D301  88         			dey
         1F:D302             	!:
20267                        		__slt_w.um	_level_npc_number
         1F:D302  CD D3 23   			cmp	_level_npc_number		; Subtract memory from Y:A.
         1F:D305  98         			tya
         1F:D306  E9 00      			sbc	#0
         1F:D308  50 02      			bvc	!+
         1F:D30A  49 80      			eor	#$80		; -ve if Y:A < memory (signed).
         1F:D30C  0A         	!:		asl	a
20268                        		__btrue		.LL982
         1F:D30D  B0 08      			bcs	.LL982
20269                        		__bra		.LL983
         1F:D30F  4C CC D3   			bra	.LL983
20270    1F:D312             	.LL981:
20271                        		__inc.umq	__init_NPC_LV1_end - 1  /* i */
         1F:D312  EE 23 2C   			inc	__init_NPC_LV1_end - 1
20272                        		__bra		.LL980
         1F:D315  80 E4      			bra	.LL980
20273    1F:D317             	.LL982:
20274                        	
20275                        		.dbg	line,	"include\init.c", 534; {
20276                        	
20277                        		.dbg	line,	"include\init.c", 535; // SET NPC PROPERTIES //
20278                        	
20279                        		.dbg	line,	"include\init.c", 536; list_npc_type[i] = TABLE_NPC_TYPE_LV1[i];
20280                        		__ldx.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:D317  AE 23 2C   			ldx	__init_NPC_LV1_end - 1
20281                        		__ld.uax	_TABLE_NPC_TYPE_LV1
         1F:D31A  BD B7 61   			lda	_TABLE_NPC_TYPE_LV1, x
         1F:D31D  C2         			cly
20282                        		__ldx.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:D31E  AE 23 2C   			ldx	__init_NPC_LV1_end - 1
20283                        		__st.uaxq	_list_npc_type
         1F:D321  9D D6 23   			sta	_list_npc_type, x
20284                        	
20285                        		.dbg	line,	"include\init.c", 537; list_npc_x_pos_ref[i] = TABLE_NPC_X_POS_REF_LV1[i];
20286                        		__ld2x.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:D324  AD 23 2C   			lda	__init_NPC_LV1_end - 1
         1F:D327  0A         			asl	a
         1F:D328  AA         			tax
20287                        		__ld.wax	_TABLE_NPC_X_POS_REF_LV1
         1F:D329  BD B9 61   			lda.l	_TABLE_NPC_X_POS_REF_LV1, x
         1F:D32C  BC BA 61   			ldy.h	_TABLE_NPC_X_POS_REF_LV1, x
20288                        		__ld2x.bm	__init_NPC_LV1_end - 1  /* i */
         1F:D32F  AA         			tax
         1F:D330  AD 23 2C   			lda	__init_NPC_LV1_end - 1
         1F:D333  0A         			asl	a
         1F:D334  22         			sax
20289                        		__st.waxq	_list_npc_x_pos_ref
         1F:D335  9D 2D 26   			sta.l	_list_npc_x_pos_ref, x
         1F:D338  98         			tya
         1F:D339  9D 2E 26   			sta.h	_list_npc_x_pos_ref, x
20290                        	
20291                        		.dbg	line,	"include\init.c", 538; list_npc_y_pos_ref[i] = TABLE_NPC_Y_POS_REF_LV1[i];
20292                        		__ld2x.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:D33C  AD 23 2C   			lda	__init_NPC_LV1_end - 1
         1F:D33F  0A         			asl	a
         1F:D340  AA         			tax
20293                        		__ld.wax	_TABLE_NPC_Y_POS_REF_LV1
         1F:D341  BD BD 61   			lda.l	_TABLE_NPC_Y_POS_REF_LV1, x
         1F:D344  BC BE 61   			ldy.h	_TABLE_NPC_Y_POS_REF_LV1, x
20294                        		__ld2x.bm	__init_NPC_LV1_end - 1  /* i */
         1F:D347  AA         			tax
         1F:D348  AD 23 2C   			lda	__init_NPC_LV1_end - 1
         1F:D34B  0A         			asl	a
         1F:D34C  22         			sax
20295                        		__st.waxq	_list_npc_y_pos_ref
         1F:D34D  9D 3F 26   			sta.l	_list_npc_y_pos_ref, x
         1F:D350  98         			tya
         1F:D351  9D 40 26   			sta.h	_list_npc_y_pos_ref, x
20296                        	
20297                        		.dbg	line,	"include\init.c", 539; list_npc_x_pos[i] = -32;
20298                        		__ld2x.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:D354  AD 23 2C   			lda	__init_NPC_LV1_end - 1
         1F:D357  0A         			asl	a
         1F:D358  AA         			tax
20299                        		__st.waxiq	-32, _list_npc_x_pos
         1F:D359  A9 E0      			lda.l	#-32
         1F:D35B  9D 09 26   			sta.l	_list_npc_x_pos, x
         1F:D35E  A9 FF      			lda.h	#-32
         1F:D360  9D 0A 26   			sta.h	_list_npc_x_pos, x
20300                        	
20301                        		.dbg	line,	"include\init.c", 540; list_npc_y_pos[i] = -32;
20302                        		__ld2x.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:D363  AD 23 2C   			lda	__init_NPC_LV1_end - 1
         1F:D366  0A         			asl	a
         1F:D367  AA         			tax
20303                        		__st.waxiq	-32, _list_npc_y_pos
         1F:D368  A9 E0      			lda.l	#-32
         1F:D36A  9D 1B 26   			sta.l	_list_npc_y_pos, x
         1F:D36D  A9 FF      			lda.h	#-32
         1F:D36F  9D 1C 26   			sta.h	_list_npc_y_pos, x
20304                        	
20305                        		.dbg	line,	"include\init.c", 542; if(respawn == FALSE)
20306                        		__not.um	_respawn
         1F:D372  AD 17 23   			lda	_respawn
         1F:D375  18         			clc
         1F:D376  D0 01      			bne	!+
         1F:D378  38         			sec
         1F:D379             	!:
20307                        		__bfalse	.LL984
         1F:D379  90 08      			bcc	.LL984
20308                        	
20309                        		.dbg	line,	"include\init.c", 543; {
20310                        	
20311                        		.dbg	line,	"include\init.c", 544; list_npc_state[i] = STATE_ACTIVE;
20312                        		__ldx.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:D37B  AE 23 2C   			ldx	__init_NPC_LV1_end - 1
20313                        		__st.uaxiq	1, _list_npc_state
         1F:D37E  A9 01      			lda.l	#1
         1F:D380  9D DF 23   			sta	_list_npc_state, x
20314                        	
20315                        		.dbg	line,	"include\init.c", 545; }
20316                        	
20317                        		.dbg	line,	"include\init.c", 548; // SET NPC SPRITE //
20318                        	
20319                        		.dbg	line,	"include\init.c", 549; sgx_spr_set(i + npc_start_index);
20320    1F:D383             	.LL984:
20321                        		__ld.bm		__init_NPC_LV1_end - 1  /* i */
         1F:D383  AD 23 2C   			lda	__init_NPC_LV1_end - 1
         1F:D386  C2         			cly
         1F:D387  10 01      			bpl	!+
         1F:D389  88         			dey
         1F:D38A             	!:
20322                        		__add.um	_npc_start_index
         1F:D38A  18         			clc
         1F:D38B  6D D2 23   			adc	_npc_start_index
         1F:D38E  90 01      			bcc	!+
         1F:D390  C8         			iny
         1F:D391             	!:
20323                        		__call		_sgx_spr_set.1
         1F:D391  20 9E E8   			call	_sgx_spr_set.1
20324                        	
20325                        		.dbg	line,	"include\init.c", 550; sgx_spr_x(list_npc_x_pos[i]);
20326                        		__ld2x.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:D394  AD 23 2C   			lda	__init_NPC_LV1_end - 1
         1F:D397  0A         			asl	a
         1F:D398  AA         			tax
20327                        		__ld.wax	_list_npc_x_pos
         1F:D399  BD 09 26   			lda.l	_list_npc_x_pos, x
         1F:D39C  BC 0A 26   			ldy.h	_list_npc_x_pos, x
20328                        		__call		_sgx_spr_x.1
         1F:D39F  20 CB E8   			call	_sgx_spr_x.1
20329                        	
20330                        		.dbg	line,	"include\init.c", 551; sgx_spr_y(list_npc_y_pos[i]);
20331                        		__ld2x.bmq	__init_NPC_LV1_end - 1  /* i */
         1F:D3A2  AD 23 2C   			lda	__init_NPC_LV1_end - 1
         1F:D3A5  0A         			asl	a
         1F:D3A6  AA         			tax
20332                        		__ld.wax	_list_npc_y_pos
         1F:D3A7  BD 1B 26   			lda.l	_list_npc_y_pos, x
         1F:D3AA  BC 1C 26   			ldy.h	_list_npc_y_pos, x
20333                        		__call		_sgx_spr_y.1
         1F:D3AD  20 DA E8   			call	_sgx_spr_y.1
20334                        	
20335                        		.dbg	line,	"include\init.c", 552; sgx_spr_pri(TRUE);
20336                        		__ld.uiq	1
         1F:D3B0  A9 01      			lda	#1
20337                        		__call		_sgx_spr_pri.1
         1F:D3B2  20 1D E9   			call	_sgx_spr_pri.1
20338                        	
20339                        		.dbg	line,	"include\init.c", 555; sgx_spr_pal(17);
20340                        		__ld.uiq	17
         1F:D3B5  A9 11      			lda	#17
20341                        		__call		_sgx_spr_pal.1
         1F:D3B7  20 0E E9   			call	_sgx_spr_pal.1
20342                        	
20343                        		.dbg	line,	"include\init.c", 556; sgx_spr_pattern(NPC_1_VRAM_ADR);
20344                        		__ld.wi		29952
         1F:D3BA  62         			cla
         1F:D3BB  A0 75      			ldy.h	#29952
20345                        		__call		_sgx_spr_pattern.1
         1F:D3BD  20 E7 E8   			call	_sgx_spr_pattern.1
20346                        	
20347                        		.dbg	line,	"include\init.c", 557; sgx_spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_32x32);
20348                        		__st.umiq	185, _al
         1F:D3C0  A9 B9      			lda.l	#185
         1F:D3C2  85 F8      			sta	_al
20349                        		__ld.uiq	17
         1F:D3C4  A9 11      			lda	#17
20350                        		__call		_sgx_spr_ctrl.2
         1F:D3C6  20 FD E8   			call	_sgx_spr_ctrl.2
20351                        	
20352                        		.dbg	line,	"include\init.c", 558; }
20353                        		__bra		.LL981
         1F:D3C9  4C 12 D3   			bra	.LL981
20354    1F:D3CC             	.LL983:
20355                        	
20356                        		.dbg	line,	"include\init.c", 559; }
20357    1F:D3CC             	.LL979:
20358                        		__return	0
         1F:D3CC  4C EF FF   			jmp	leave_proc
20359                        		.dbg	clear
20360                        		.endp
20361               2310     		.bss
20362    F8:2310             	__init_NPC_LV1_end	.alias	leaf_stack
20363               E31D     		.code
20364                        		.pceas
20365                        	
20366                        		.dbg	line,	"include\init.c", 566; void init_HUD()
20367                        		.dbg	line,	"include\init.c", 567; {
20368                        	;***********************
20369                        	;***********************
20370                        	
20371                        		.hucc
20372    01:DCDD             		.proc		_init_HUD
20373                        		__enter		_init_HUD
20374                        	
20375                        		.dbg	line,	"include\init.c", 568; //**************************************************************************************//
20376                        	
20377                        		.dbg	line,	"include\init.c", 569; //                                                                                      //
20378                        	
20379                        		.dbg	line,	"include\init.c", 570; //                                        VDC 1                                         //
20380                        	
20381                        		.dbg	line,	"include\init.c", 571; //                                                                                      //
20382                        	
20383                        		.dbg	line,	"include\init.c", 572; //**************************************************************************************//
20384                        	
20385                        		.dbg	line,	"include\init.c", 574; //--------------------------------------------------------------------------------------//
20386                        	
20387                        		.dbg	line,	"include\init.c", 575; //                                      LOAD FONT                                       //
20388                        	
20389                        		.dbg	line,	"include\init.c", 576; //--------------------------------------------------------------------------------------//
20390                        	
20391                        		.dbg	line,	"include\init.c", 578; set_font_addr(0x0800);
20392                        		__ld.wi		2048
         01:DCDD  62         			cla
         01:DCDE  A0 08      			ldy.h	#2048
20393                        		__call		_set_font_addr.1
         01:DCE0  20 D9 E5   			call	_set_font_addr.1
20394                        	
20395                        		.dbg	line,	"include\init.c", 580; load_vram( 0x0800, tileset_FONT_TITLE, SIZEOF(tileset_FONT_TITLE) >> 1 );
20396                        		__st.wmiq	2048, _di
         01:DCE3  64 F0      			stz.l	_di
         01:DCE5  A9 08      			lda.h	#2048
         01:DCE7  85 F1      			sta.h	_di
20397                        		__farptr	_tileset_FONT_TITLE, _bp_bank, _bp
         01:DCE9  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_FONT_TITLE))
         01:DCEB  85 EC      			sta.l	_bp
         01:DCED  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_FONT_TITLE))
         01:DCEF  85 ED      			sta.h	_bp
         01:DCF1  A9 12      			lda	#bank(_tileset_FONT_TITLE)
         01:DCF3  85 02      			sta	_bp_bank
20398                        		__ld.wi		___sizeof__tileset_FONT_TITLE
         01:DCF5  A9 00      			lda.l	#___sizeof__tileset_FONT_TITLE
         01:DCF7  A0 0C      			ldy.h	#___sizeof__tileset_FONT_TITLE
20399                        		__lsr.wi	1
         01:DCF9  42         			say
         01:DCFA  4A         			lsr	a
         01:DCFB  42         			say
         01:DCFC  6A         			ror	a
20400                        		__st.wmq	_ax
         01:DCFD  85 F8      			sta.l	_ax
         01:DCFF  84 F9      			sty.h	_ax
20401                        		 _load_vram.3
         01:DD01  82         			clx				; Offset to PCE VDC.
         01:DD02  20 FF FE   			call	load_vram_x
20402                        	
20403                        		.dbg	line,	"include\init.c", 582; set_font_pal(15);
20404                        		__ld.uiq	15
         01:DD05  A9 0F      			lda	#15
20405                        		__call		_set_font_pal.1
         01:DD07  20 00 E6   			call	_set_font_pal.1
20406                        	
20407                        		.dbg	line,	"include\init.c", 585; //--------------------------------------------------------------------------------------//
20408                        	
20409                        		.dbg	line,	"include\init.c", 586; //                                    LOAD TILESET                                      //
20410                        	
20411                        		.dbg	line,	"include\init.c", 587; //--------------------------------------------------------------------------------------//
20412                        	
20413                        		.dbg	line,	"include\init.c", 589; load_vram( 0x1000, tileset_HUD, SIZEOF(tileset_HUD) >> 1 );
20414                        		__st.wmiq	4096, _di
         01:DD0A  64 F0      			stz.l	_di
         01:DD0C  A9 10      			lda.h	#4096
         01:DD0E  85 F1      			sta.h	_di
20415                        		__farptr	_tileset_HUD, _bp_bank, _bp
         01:DD10  A9 A0      			lda.l	#$6000 + ($1FFF & (_tileset_HUD))
         01:DD12  85 EC      			sta.l	_bp
         01:DD14  A9 79      			lda.h	#$6000 + ($1FFF & (_tileset_HUD))
         01:DD16  85 ED      			sta.h	_bp
         01:DD18  A9 0D      			lda	#bank(_tileset_HUD)
         01:DD1A  85 02      			sta	_bp_bank
20416                        		__ld.wi		___sizeof__tileset_HUD
         01:DD1C  A9 E0      			lda.l	#___sizeof__tileset_HUD
         01:DD1E  A0 0A      			ldy.h	#___sizeof__tileset_HUD
20417                        		__lsr.wi	1
         01:DD20  42         			say
         01:DD21  4A         			lsr	a
         01:DD22  42         			say
         01:DD23  6A         			ror	a
20418                        		__st.wmq	_ax
         01:DD24  85 F8      			sta.l	_ax
         01:DD26  84 F9      			sty.h	_ax
20419                        		 _load_vram.3
         01:DD28  82         			clx				; Offset to PCE VDC.
         01:DD29  20 FF FE   			call	load_vram_x
20420                        	
20421                        		.dbg	line,	"include\init.c", 592; //--------------------------------------------------------------------------------------//
20422                        	
20423                        		.dbg	line,	"include\init.c", 593; //                                 LOAD LIFEBAR TILES                                   //
20424                        	
20425                        		.dbg	line,	"include\init.c", 594; //--------------------------------------------------------------------------------------//
20426                        	
20427                        		.dbg	line,	"include\init.c", 596; load_vram( LIFEBAR_1_VRAM_ADR, tileset_LIFE_RED, SIZEOF(tileset_LIFE_RED) >> 1 );
20428                        		__st.wmiq	4096, _di
         01:DD2C  64 F0      			stz.l	_di
         01:DD2E  A9 10      			lda.h	#4096
         01:DD30  85 F1      			sta.h	_di
20429                        		__farptr	_tileset_LIFE_RED, _bp_bank, _bp
         01:DD32  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_LIFE_RED))
         01:DD34  85 EC      			sta.l	_bp
         01:DD36  A9 70      			lda.h	#$6000 + ($1FFF & (_tileset_LIFE_RED))
         01:DD38  85 ED      			sta.h	_bp
         01:DD3A  A9 07      			lda	#bank(_tileset_LIFE_RED)
         01:DD3C  85 02      			sta	_bp_bank
20430                        		__ld.wi		___sizeof__tileset_LIFE_RED
         01:DD3E  A9 40      			lda.l	#___sizeof__tileset_LIFE_RED
         01:DD40  A0 00      			ldy.h	#___sizeof__tileset_LIFE_RED
20431                        		__lsr.wi	1
         01:DD42  42         			say
         01:DD43  4A         			lsr	a
         01:DD44  42         			say
         01:DD45  6A         			ror	a
20432                        		__st.wmq	_ax
         01:DD46  85 F8      			sta.l	_ax
         01:DD48  84 F9      			sty.h	_ax
20433                        		 _load_vram.3
         01:DD4A  82         			clx				; Offset to PCE VDC.
         01:DD4B  20 FF FE   			call	load_vram_x
20434                        	
20435                        		.dbg	line,	"include\init.c", 597; load_vram( LIFEBAR_2_VRAM_ADR, tileset_LIFE_ORANGE, SIZEOF(tileset_LIFE_ORANGE) >> 1 );
20436                        		__st.wmiq	4128, _di
         01:DD4E  A9 20      			lda.l	#4128
         01:DD50  85 F0      			sta.l	_di
         01:DD52  A9 10      			lda.h	#4128
         01:DD54  85 F1      			sta.h	_di
20437                        		__farptr	_tileset_LIFE_ORANGE, _bp_bank, _bp
         01:DD56  A9 20      			lda.l	#$6000 + ($1FFF & (_tileset_LIFE_ORANGE))
         01:DD58  85 EC      			sta.l	_bp
         01:DD5A  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_LIFE_ORANGE))
         01:DD5C  85 ED      			sta.h	_bp
         01:DD5E  A9 07      			lda	#bank(_tileset_LIFE_ORANGE)
         01:DD60  85 02      			sta	_bp_bank
20438                        		__ld.wi		___sizeof__tileset_LIFE_ORANGE
         01:DD62  A9 40      			lda.l	#___sizeof__tileset_LIFE_ORANGE
         01:DD64  A0 00      			ldy.h	#___sizeof__tileset_LIFE_ORANGE
20439                        		__lsr.wi	1
         01:DD66  42         			say
         01:DD67  4A         			lsr	a
         01:DD68  42         			say
         01:DD69  6A         			ror	a
20440                        		__st.wmq	_ax
         01:DD6A  85 F8      			sta.l	_ax
         01:DD6C  84 F9      			sty.h	_ax
20441                        		 _load_vram.3
         01:DD6E  82         			clx				; Offset to PCE VDC.
         01:DD6F  20 FF FE   			call	load_vram_x
20442                        	
20443                        		.dbg	line,	"include\init.c", 598; load_vram( LIFEBAR_3_VRAM_ADR, tileset_LIFE_YELLOW, SIZEOF(tileset_LIFE_YELLOW) >> 1 );
20444                        		__st.wmiq	4160, _di
         01:DD72  A9 40      			lda.l	#4160
         01:DD74  85 F0      			sta.l	_di
         01:DD76  A9 10      			lda.h	#4160
         01:DD78  85 F1      			sta.h	_di
20445                        		__farptr	_tileset_LIFE_YELLOW, _bp_bank, _bp
         01:DD7A  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_LIFE_YELLOW))
         01:DD7C  85 EC      			sta.l	_bp
         01:DD7E  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_LIFE_YELLOW))
         01:DD80  85 ED      			sta.h	_bp
         01:DD82  A9 07      			lda	#bank(_tileset_LIFE_YELLOW)
         01:DD84  85 02      			sta	_bp_bank
20446                        		__ld.wi		___sizeof__tileset_LIFE_YELLOW
         01:DD86  A9 40      			lda.l	#___sizeof__tileset_LIFE_YELLOW
         01:DD88  A0 00      			ldy.h	#___sizeof__tileset_LIFE_YELLOW
20447                        		__lsr.wi	1
         01:DD8A  42         			say
         01:DD8B  4A         			lsr	a
         01:DD8C  42         			say
         01:DD8D  6A         			ror	a
20448                        		__st.wmq	_ax
         01:DD8E  85 F8      			sta.l	_ax
         01:DD90  84 F9      			sty.h	_ax
20449                        		 _load_vram.3
         01:DD92  82         			clx				; Offset to PCE VDC.
         01:DD93  20 FF FE   			call	load_vram_x
20450                        	
20451                        		.dbg	line,	"include\init.c", 599; load_vram( LIFEBAR_4_VRAM_ADR, tileset_LIFE_YELLOW, SIZEOF(tileset_LIFE_YELLOW) >> 1 );
20452                        		__st.wmiq	4192, _di
         01:DD96  A9 60      			lda.l	#4192
         01:DD98  85 F0      			sta.l	_di
         01:DD9A  A9 10      			lda.h	#4192
         01:DD9C  85 F1      			sta.h	_di
20453                        		__farptr	_tileset_LIFE_YELLOW, _bp_bank, _bp
         01:DD9E  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_LIFE_YELLOW))
         01:DDA0  85 EC      			sta.l	_bp
         01:DDA2  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_LIFE_YELLOW))
         01:DDA4  85 ED      			sta.h	_bp
         01:DDA6  A9 07      			lda	#bank(_tileset_LIFE_YELLOW)
         01:DDA8  85 02      			sta	_bp_bank
20454                        		__ld.wi		___sizeof__tileset_LIFE_YELLOW
         01:DDAA  A9 40      			lda.l	#___sizeof__tileset_LIFE_YELLOW
         01:DDAC  A0 00      			ldy.h	#___sizeof__tileset_LIFE_YELLOW
20455                        		__lsr.wi	1
         01:DDAE  42         			say
         01:DDAF  4A         			lsr	a
         01:DDB0  42         			say
         01:DDB1  6A         			ror	a
20456                        		__st.wmq	_ax
         01:DDB2  85 F8      			sta.l	_ax
         01:DDB4  84 F9      			sty.h	_ax
20457                        		 _load_vram.3
         01:DDB6  82         			clx				; Offset to PCE VDC.
         01:DDB7  20 FF FE   			call	load_vram_x
20458                        	
20459                        		.dbg	line,	"include\init.c", 600; load_vram( LIFEBAR_5_VRAM_ADR, tileset_LIFE_EMPTY, SIZEOF(tileset_LIFE_EMPTY) >> 1 );
20460                        		__st.wmiq	4224, _di
         01:DDBA  A9 80      			lda.l	#4224
         01:DDBC  85 F0      			sta.l	_di
         01:DDBE  A9 10      			lda.h	#4224
         01:DDC0  85 F1      			sta.h	_di
20461                        		__farptr	_tileset_LIFE_EMPTY, _bp_bank, _bp
         01:DDC2  A9 A0      			lda.l	#$6000 + ($1FFF & (_tileset_LIFE_EMPTY))
         01:DDC4  85 EC      			sta.l	_bp
         01:DDC6  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_LIFE_EMPTY))
         01:DDC8  85 ED      			sta.h	_bp
         01:DDCA  A9 07      			lda	#bank(_tileset_LIFE_EMPTY)
         01:DDCC  85 02      			sta	_bp_bank
20462                        		__ld.wi		___sizeof__tileset_LIFE_EMPTY
         01:DDCE  A9 40      			lda.l	#___sizeof__tileset_LIFE_EMPTY
         01:DDD0  A0 00      			ldy.h	#___sizeof__tileset_LIFE_EMPTY
20463                        		__lsr.wi	1
         01:DDD2  42         			say
         01:DDD3  4A         			lsr	a
         01:DDD4  42         			say
         01:DDD5  6A         			ror	a
20464                        		__st.wmq	_ax
         01:DDD6  85 F8      			sta.l	_ax
         01:DDD8  84 F9      			sty.h	_ax
20465                        		 _load_vram.3
         01:DDDA  82         			clx				; Offset to PCE VDC.
         01:DDDB  20 FF FE   			call	load_vram_x
20466                        	
20467                        		.dbg	line,	"include\init.c", 603; //--------------------------------------------------------------------------------------//
20468                        	
20469                        		.dbg	line,	"include\init.c", 604; //                               LOAD WEAPON + ARMOR TILES                              //
20470                        	
20471                        		.dbg	line,	"include\init.c", 605; //--------------------------------------------------------------------------------------//
20472                        	
20473                        		.dbg	line,	"include\init.c", 607; if(weapon_level == 1)
20474                        		__ld.umq	_weapon_level
         01:DDDE  AD 29 23   			lda	_weapon_level
20475                        		__equ_b.uiq	1
         01:DDE1  C9 01      			cmp	#1
         01:DDE3  F0 01      			beq	!+
         01:DDE5  18         			clc
         01:DDE6             	!:
20476                        		__bfalse	.LL986
         01:DDE6  90 27      			bcc	.LL986
20477                        	
20478                        		.dbg	line,	"include\init.c", 608; {
20479                        	
20480                        		.dbg	line,	"include\init.c", 609; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_1, SIZEOF(tileset_WEAPON_1) >> 1 );
20481                        		__st.wmiq	4256, _di
         01:DDE8  A9 A0      			lda.l	#4256
         01:DDEA  85 F0      			sta.l	_di
         01:DDEC  A9 10      			lda.h	#4256
         01:DDEE  85 F1      			sta.h	_di
20482                        		__farptr	_tileset_WEAPON_1, _bp_bank, _bp
         01:DDF0  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_1))
         01:DDF2  85 EC      			sta.l	_bp
         01:DDF4  A9 73      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_1))
         01:DDF6  85 ED      			sta.h	_bp
         01:DDF8  A9 07      			lda	#bank(_tileset_WEAPON_1)
         01:DDFA  85 02      			sta	_bp_bank
20483                        		__ld.wi		___sizeof__tileset_WEAPON_1
         01:DDFC  A9 80      			lda.l	#___sizeof__tileset_WEAPON_1
         01:DDFE  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_1
20484                        		__lsr.wi	1
         01:DE00  42         			say
         01:DE01  4A         			lsr	a
         01:DE02  42         			say
         01:DE03  6A         			ror	a
20485                        		__st.wmq	_ax
         01:DE04  85 F8      			sta.l	_ax
         01:DE06  84 F9      			sty.h	_ax
20486                        		 _load_vram.3
         01:DE08  82         			clx				; Offset to PCE VDC.
         01:DE09  20 FF FE   			call	load_vram_x
20487                        	
20488                        		.dbg	line,	"include\init.c", 610; }
20489                        	
20490                        		.dbg	line,	"include\init.c", 612; else if(weapon_level == 2)
20491                        		__bra		.LL987
         01:DE0C  4C CE DE   			bra	.LL987
20492    01:DE0F             	.LL986:
20493                        		__ld.umq	_weapon_level
         01:DE0F  AD 29 23   			lda	_weapon_level
20494                        		__equ_b.uiq	2
         01:DE12  C9 02      			cmp	#2
         01:DE14  F0 01      			beq	!+
         01:DE16  18         			clc
         01:DE17             	!:
20495                        		__bfalse	.LL988
         01:DE17  90 27      			bcc	.LL988
20496                        	
20497                        		.dbg	line,	"include\init.c", 613; {
20498                        	
20499                        		.dbg	line,	"include\init.c", 614; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_2, SIZEOF(tileset_WEAPON_2) >> 1 );
20500                        		__st.wmiq	4256, _di
         01:DE19  A9 A0      			lda.l	#4256
         01:DE1B  85 F0      			sta.l	_di
         01:DE1D  A9 10      			lda.h	#4256
         01:DE1F  85 F1      			sta.h	_di
20501                        		__farptr	_tileset_WEAPON_2, _bp_bank, _bp
         01:DE21  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_2))
         01:DE23  85 EC      			sta.l	_bp
         01:DE25  A9 74      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_2))
         01:DE27  85 ED      			sta.h	_bp
         01:DE29  A9 07      			lda	#bank(_tileset_WEAPON_2)
         01:DE2B  85 02      			sta	_bp_bank
20502                        		__ld.wi		___sizeof__tileset_WEAPON_2
         01:DE2D  A9 80      			lda.l	#___sizeof__tileset_WEAPON_2
         01:DE2F  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_2
20503                        		__lsr.wi	1
         01:DE31  42         			say
         01:DE32  4A         			lsr	a
         01:DE33  42         			say
         01:DE34  6A         			ror	a
20504                        		__st.wmq	_ax
         01:DE35  85 F8      			sta.l	_ax
         01:DE37  84 F9      			sty.h	_ax
20505                        		 _load_vram.3
         01:DE39  82         			clx				; Offset to PCE VDC.
         01:DE3A  20 FF FE   			call	load_vram_x
20506                        	
20507                        		.dbg	line,	"include\init.c", 615; }
20508                        	
20509                        		.dbg	line,	"include\init.c", 617; else if(weapon_level == 3)
20510                        		__bra		.LL989
         01:DE3D  4C CE DE   			bra	.LL989
20511    01:DE40             	.LL988:
20512                        		__ld.umq	_weapon_level
         01:DE40  AD 29 23   			lda	_weapon_level
20513                        		__equ_b.uiq	3
         01:DE43  C9 03      			cmp	#3
         01:DE45  F0 01      			beq	!+
         01:DE47  18         			clc
         01:DE48             	!:
20514                        		__bfalse	.LL990
         01:DE48  90 26      			bcc	.LL990
20515                        	
20516                        		.dbg	line,	"include\init.c", 618; {
20517                        	
20518                        		.dbg	line,	"include\init.c", 619; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_4, SIZEOF(tileset_WEAPON_4) >> 1 );
20519                        		__st.wmiq	4256, _di
         01:DE4A  A9 A0      			lda.l	#4256
         01:DE4C  85 F0      			sta.l	_di
         01:DE4E  A9 10      			lda.h	#4256
         01:DE50  85 F1      			sta.h	_di
20520                        		__farptr	_tileset_WEAPON_4, _bp_bank, _bp
         01:DE52  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_4))
         01:DE54  85 EC      			sta.l	_bp
         01:DE56  A9 74      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_4))
         01:DE58  85 ED      			sta.h	_bp
         01:DE5A  A9 07      			lda	#bank(_tileset_WEAPON_4)
         01:DE5C  85 02      			sta	_bp_bank
20521                        		__ld.wi		___sizeof__tileset_WEAPON_4
         01:DE5E  A9 80      			lda.l	#___sizeof__tileset_WEAPON_4
         01:DE60  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_4
20522                        		__lsr.wi	1
         01:DE62  42         			say
         01:DE63  4A         			lsr	a
         01:DE64  42         			say
         01:DE65  6A         			ror	a
20523                        		__st.wmq	_ax
         01:DE66  85 F8      			sta.l	_ax
         01:DE68  84 F9      			sty.h	_ax
20524                        		 _load_vram.3
         01:DE6A  82         			clx				; Offset to PCE VDC.
         01:DE6B  20 FF FE   			call	load_vram_x
20525                        	
20526                        		.dbg	line,	"include\init.c", 620; }
20527                        	
20528                        		.dbg	line,	"include\init.c", 622; else if(weapon_level == 4)
20529                        		__bra		.LL991
         01:DE6E  80 5E      			bra	.LL991
20530    01:DE70             	.LL990:
20531                        		__ld.umq	_weapon_level
         01:DE70  AD 29 23   			lda	_weapon_level
20532                        		__equ_b.uiq	4
         01:DE73  C9 04      			cmp	#4
         01:DE75  F0 01      			beq	!+
         01:DE77  18         			clc
         01:DE78             	!:
20533                        		__bfalse	.LL992
         01:DE78  90 26      			bcc	.LL992
20534                        	
20535                        		.dbg	line,	"include\init.c", 623; {
20536                        	
20537                        		.dbg	line,	"include\init.c", 624; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_5, SIZEOF(tileset_WEAPON_5) >> 1 );
20538                        		__st.wmiq	4256, _di
         01:DE7A  A9 A0      			lda.l	#4256
         01:DE7C  85 F0      			sta.l	_di
         01:DE7E  A9 10      			lda.h	#4256
         01:DE80  85 F1      			sta.h	_di
20539                        		__farptr	_tileset_WEAPON_5, _bp_bank, _bp
         01:DE82  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_5))
         01:DE84  85 EC      			sta.l	_bp
         01:DE86  A9 75      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_5))
         01:DE88  85 ED      			sta.h	_bp
         01:DE8A  A9 07      			lda	#bank(_tileset_WEAPON_5)
         01:DE8C  85 02      			sta	_bp_bank
20540                        		__ld.wi		___sizeof__tileset_WEAPON_5
         01:DE8E  A9 80      			lda.l	#___sizeof__tileset_WEAPON_5
         01:DE90  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_5
20541                        		__lsr.wi	1
         01:DE92  42         			say
         01:DE93  4A         			lsr	a
         01:DE94  42         			say
         01:DE95  6A         			ror	a
20542                        		__st.wmq	_ax
         01:DE96  85 F8      			sta.l	_ax
         01:DE98  84 F9      			sty.h	_ax
20543                        		 _load_vram.3
         01:DE9A  82         			clx				; Offset to PCE VDC.
         01:DE9B  20 FF FE   			call	load_vram_x
20544                        	
20545                        		.dbg	line,	"include\init.c", 625; }
20546                        	
20547                        		.dbg	line,	"include\init.c", 627; else if(weapon_level == 5)
20548                        		__bra		.LL993
         01:DE9E  80 2E      			bra	.LL993
20549    01:DEA0             	.LL992:
20550                        		__ld.umq	_weapon_level
         01:DEA0  AD 29 23   			lda	_weapon_level
20551                        		__equ_b.uiq	5
         01:DEA3  C9 05      			cmp	#5
         01:DEA5  F0 01      			beq	!+
         01:DEA7  18         			clc
         01:DEA8             	!:
20552                        		__bfalse	.LL994
         01:DEA8  90 24      			bcc	.LL994
20553                        	
20554                        		.dbg	line,	"include\init.c", 628; {
20555                        	
20556                        		.dbg	line,	"include\init.c", 629; load_vram( WEAPON_ICON_VRAM_ADR, tileset_WEAPON_8, SIZEOF(tileset_WEAPON_8) >> 1 );
20557                        		__st.wmiq	4256, _di
         01:DEAA  A9 A0      			lda.l	#4256
         01:DEAC  85 F0      			sta.l	_di
         01:DEAE  A9 10      			lda.h	#4256
         01:DEB0  85 F1      			sta.h	_di
20558                        		__farptr	_tileset_WEAPON_8, _bp_bank, _bp
         01:DEB2  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_WEAPON_8))
         01:DEB4  85 EC      			sta.l	_bp
         01:DEB6  A9 75      			lda.h	#$6000 + ($1FFF & (_tileset_WEAPON_8))
         01:DEB8  85 ED      			sta.h	_bp
         01:DEBA  A9 07      			lda	#bank(_tileset_WEAPON_8)
         01:DEBC  85 02      			sta	_bp_bank
20559                        		__ld.wi		___sizeof__tileset_WEAPON_8
         01:DEBE  A9 80      			lda.l	#___sizeof__tileset_WEAPON_8
         01:DEC0  A0 00      			ldy.h	#___sizeof__tileset_WEAPON_8
20560                        		__lsr.wi	1
         01:DEC2  42         			say
         01:DEC3  4A         			lsr	a
         01:DEC4  42         			say
         01:DEC5  6A         			ror	a
20561                        		__st.wmq	_ax
         01:DEC6  85 F8      			sta.l	_ax
         01:DEC8  84 F9      			sty.h	_ax
20562                        		 _load_vram.3
         01:DECA  82         			clx				; Offset to PCE VDC.
         01:DECB  20 FF FE   			call	load_vram_x
20563                        	
20564                        		.dbg	line,	"include\init.c", 630; }
20565                        	
20566                        		.dbg	line,	"include\init.c", 635; if(armor_level == 1)
20567    01:DECE             	.LL994:
20568    01:DECE             	.LL993:
20569    01:DECE             	.LL991:
20570    01:DECE             	.LL989:
20571    01:DECE             	.LL987:
20572                        		__ld.umq	_armor_level
         01:DECE  AD 28 23   			lda	_armor_level
20573                        		__equ_b.uiq	1
         01:DED1  C9 01      			cmp	#1
         01:DED3  F0 01      			beq	!+
         01:DED5  18         			clc
         01:DED6             	!:
20574                        		__bfalse	.LL995
         01:DED6  90 27      			bcc	.LL995
20575                        	
20576                        		.dbg	line,	"include\init.c", 636; {
20577                        	
20578                        		.dbg	line,	"include\init.c", 637; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_1, SIZEOF(tileset_ARMOR_1) >> 1 );
20579                        		__st.wmiq	4320, _di
         01:DED8  A9 E0      			lda.l	#4320
         01:DEDA  85 F0      			sta.l	_di
         01:DEDC  A9 10      			lda.h	#4320
         01:DEDE  85 F1      			sta.h	_di
20580                        		__farptr	_tileset_ARMOR_1, _bp_bank, _bp
         01:DEE0  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_1))
         01:DEE2  85 EC      			sta.l	_bp
         01:DEE4  A9 71      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_1))
         01:DEE6  85 ED      			sta.h	_bp
         01:DEE8  A9 07      			lda	#bank(_tileset_ARMOR_1)
         01:DEEA  85 02      			sta	_bp_bank
20581                        		__ld.wi		___sizeof__tileset_ARMOR_1
         01:DEEC  A9 80      			lda.l	#___sizeof__tileset_ARMOR_1
         01:DEEE  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_1
20582                        		__lsr.wi	1
         01:DEF0  42         			say
         01:DEF1  4A         			lsr	a
         01:DEF2  42         			say
         01:DEF3  6A         			ror	a
20583                        		__st.wmq	_ax
         01:DEF4  85 F8      			sta.l	_ax
         01:DEF6  84 F9      			sty.h	_ax
20584                        		 _load_vram.3
         01:DEF8  82         			clx				; Offset to PCE VDC.
         01:DEF9  20 FF FE   			call	load_vram_x
20585                        	
20586                        		.dbg	line,	"include\init.c", 638; }
20587                        	
20588                        		.dbg	line,	"include\init.c", 640; else if(armor_level == 2)
20589                        		__bra		.LL996
         01:DEFC  4C 8D DF   			bra	.LL996
20590    01:DEFF             	.LL995:
20591                        		__ld.umq	_armor_level
         01:DEFF  AD 28 23   			lda	_armor_level
20592                        		__equ_b.uiq	2
         01:DF02  C9 02      			cmp	#2
         01:DF04  F0 01      			beq	!+
         01:DF06  18         			clc
         01:DF07             	!:
20593                        		__bfalse	.LL997
         01:DF07  90 26      			bcc	.LL997
20594                        	
20595                        		.dbg	line,	"include\init.c", 641; {
20596                        	
20597                        		.dbg	line,	"include\init.c", 642; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_2, SIZEOF(tileset_ARMOR_2) >> 1 );
20598                        		__st.wmiq	4320, _di
         01:DF09  A9 E0      			lda.l	#4320
         01:DF0B  85 F0      			sta.l	_di
         01:DF0D  A9 10      			lda.h	#4320
         01:DF0F  85 F1      			sta.h	_di
20599                        		__farptr	_tileset_ARMOR_2, _bp_bank, _bp
         01:DF11  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_2))
         01:DF13  85 EC      			sta.l	_bp
         01:DF15  A9 72      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_2))
         01:DF17  85 ED      			sta.h	_bp
         01:DF19  A9 07      			lda	#bank(_tileset_ARMOR_2)
         01:DF1B  85 02      			sta	_bp_bank
20600                        		__ld.wi		___sizeof__tileset_ARMOR_2
         01:DF1D  A9 80      			lda.l	#___sizeof__tileset_ARMOR_2
         01:DF1F  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_2
20601                        		__lsr.wi	1
         01:DF21  42         			say
         01:DF22  4A         			lsr	a
         01:DF23  42         			say
         01:DF24  6A         			ror	a
20602                        		__st.wmq	_ax
         01:DF25  85 F8      			sta.l	_ax
         01:DF27  84 F9      			sty.h	_ax
20603                        		 _load_vram.3
         01:DF29  82         			clx				; Offset to PCE VDC.
         01:DF2A  20 FF FE   			call	load_vram_x
20604                        	
20605                        		.dbg	line,	"include\init.c", 643; }
20606                        	
20607                        		.dbg	line,	"include\init.c", 645; else if(armor_level == 3)
20608                        		__bra		.LL998
         01:DF2D  80 5E      			bra	.LL998
20609    01:DF2F             	.LL997:
20610                        		__ld.umq	_armor_level
         01:DF2F  AD 28 23   			lda	_armor_level
20611                        		__equ_b.uiq	3
         01:DF32  C9 03      			cmp	#3
         01:DF34  F0 01      			beq	!+
         01:DF36  18         			clc
         01:DF37             	!:
20612                        		__bfalse	.LL999
         01:DF37  90 26      			bcc	.LL999
20613                        	
20614                        		.dbg	line,	"include\init.c", 646; {
20615                        	
20616                        		.dbg	line,	"include\init.c", 647; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_4, SIZEOF(tileset_ARMOR_4) >> 1 );
20617                        		__st.wmiq	4320, _di
         01:DF39  A9 E0      			lda.l	#4320
         01:DF3B  85 F0      			sta.l	_di
         01:DF3D  A9 10      			lda.h	#4320
         01:DF3F  85 F1      			sta.h	_di
20618                        		__farptr	_tileset_ARMOR_4, _bp_bank, _bp
         01:DF41  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_4))
         01:DF43  85 EC      			sta.l	_bp
         01:DF45  A9 72      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_4))
         01:DF47  85 ED      			sta.h	_bp
         01:DF49  A9 07      			lda	#bank(_tileset_ARMOR_4)
         01:DF4B  85 02      			sta	_bp_bank
20619                        		__ld.wi		___sizeof__tileset_ARMOR_4
         01:DF4D  A9 80      			lda.l	#___sizeof__tileset_ARMOR_4
         01:DF4F  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_4
20620                        		__lsr.wi	1
         01:DF51  42         			say
         01:DF52  4A         			lsr	a
         01:DF53  42         			say
         01:DF54  6A         			ror	a
20621                        		__st.wmq	_ax
         01:DF55  85 F8      			sta.l	_ax
         01:DF57  84 F9      			sty.h	_ax
20622                        		 _load_vram.3
         01:DF59  82         			clx				; Offset to PCE VDC.
         01:DF5A  20 FF FE   			call	load_vram_x
20623                        	
20624                        		.dbg	line,	"include\init.c", 648; }
20625                        	
20626                        		.dbg	line,	"include\init.c", 650; else if(armor_level == 4)
20627                        		__bra		.LL1000
         01:DF5D  80 2E      			bra	.LL1000
20628    01:DF5F             	.LL999:
20629                        		__ld.umq	_armor_level
         01:DF5F  AD 28 23   			lda	_armor_level
20630                        		__equ_b.uiq	4
         01:DF62  C9 04      			cmp	#4
         01:DF64  F0 01      			beq	!+
         01:DF66  18         			clc
         01:DF67             	!:
20631                        		__bfalse	.LL1001
         01:DF67  90 24      			bcc	.LL1001
20632                        	
20633                        		.dbg	line,	"include\init.c", 651; {
20634                        	
20635                        		.dbg	line,	"include\init.c", 652; load_vram( ARMOR_VRAM_ADR, tileset_ARMOR_8, SIZEOF(tileset_ARMOR_8) >> 1 );
20636                        		__st.wmiq	4320, _di
         01:DF69  A9 E0      			lda.l	#4320
         01:DF6B  85 F0      			sta.l	_di
         01:DF6D  A9 10      			lda.h	#4320
         01:DF6F  85 F1      			sta.h	_di
20637                        		__farptr	_tileset_ARMOR_8, _bp_bank, _bp
         01:DF71  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_ARMOR_8))
         01:DF73  85 EC      			sta.l	_bp
         01:DF75  A9 73      			lda.h	#$6000 + ($1FFF & (_tileset_ARMOR_8))
         01:DF77  85 ED      			sta.h	_bp
         01:DF79  A9 07      			lda	#bank(_tileset_ARMOR_8)
         01:DF7B  85 02      			sta	_bp_bank
20638                        		__ld.wi		___sizeof__tileset_ARMOR_8
         01:DF7D  A9 80      			lda.l	#___sizeof__tileset_ARMOR_8
         01:DF7F  A0 00      			ldy.h	#___sizeof__tileset_ARMOR_8
20639                        		__lsr.wi	1
         01:DF81  42         			say
         01:DF82  4A         			lsr	a
         01:DF83  42         			say
         01:DF84  6A         			ror	a
20640                        		__st.wmq	_ax
         01:DF85  85 F8      			sta.l	_ax
         01:DF87  84 F9      			sty.h	_ax
20641                        		 _load_vram.3
         01:DF89  82         			clx				; Offset to PCE VDC.
         01:DF8A  20 FF FE   			call	load_vram_x
20642                        	
20643                        		.dbg	line,	"include\init.c", 653; }
20644                        	
20645                        		.dbg	line,	"include\init.c", 658; //--------------------------------------------------------------------------------------//
20646                        	
20647                        		.dbg	line,	"include\init.c", 659; //                                     SET MULTIMAP                                     //
20648                        	
20649                        		.dbg	line,	"include\init.c", 660; //--------------------------------------------------------------------------------------//
20650                        	
20651                        		.dbg	line,	"include\init.c", 662; // multimap is 2 screens wide //
20652                        	
20653                        		.dbg	line,	"include\init.c", 663; set_multimap( multimap_LV1_BG_A , 5 );
20654    01:DF8D             	.LL1001:
20655    01:DF8D             	.LL1000:
20656    01:DF8D             	.LL998:
20657    01:DF8D             	.LL996:
20658                        		__farptr	_multimap_LV1_BG_A, vdc_scr_bank, vdc_scr_addr
         01:DF8D  A9 00      			lda.l	#$6000 + ($1FFF & (_multimap_LV1_BG_A))
         01:DF8F  8D 08 2C   			sta.l	vdc_scr_addr
         01:DF92  A9 60      			lda.h	#$6000 + ($1FFF & (_multimap_LV1_BG_A))
         01:DF94  8D 09 2C   			sta.h	vdc_scr_addr
         01:DF97  A9 10      			lda	#bank(_multimap_LV1_BG_A)
         01:DF99  8D 0A 2C   			sta	vdc_scr_bank
20659                        		__st.umiq	5, vdc_map_scrn_w
         01:DF9C  A9 05      			lda.l	#5
         01:DF9E  8D C9 26   			sta	vdc_map_scrn_w
20660                        		 _set_multimap.2
         01:DFA1  AD C1 26   			lda	vdc_bat_width
         01:DFA4  4A         			lsr	a
         01:DFA5  8D C8 26   			sta	vdc_map_line_w
20661                        	
20662                        		.dbg	line,	"include\init.c", 666; //--------------------------------------------------------------------------------------//
20663                        	
20664                        		.dbg	line,	"include\init.c", 667; //                                    DRAW TILEMAP                                      //
20665                        	
20666                        		.dbg	line,	"include\init.c", 668; //--------------------------------------------------------------------------------------//
20667                        	
20668                        		.dbg	line,	"include\init.c", 670; // The blkmap is drawn using global variables for the top-left coordinate
20669                        	
20670                        		.dbg	line,	"include\init.c", 671; // in pixels, and the draw width and height in terms of 8x8 characters.
20671                        	
20672                        		.dbg	line,	"include\init.c", 673; vdc_map_pxl_x = 0;
20673                        		__st.wmiq	0, _vdc_map_pxl_x
         01:DFA8  9C CA 26   			stz.l	_vdc_map_pxl_x
         01:DFAB  9C CB 26   			stz.h	_vdc_map_pxl_x
20674                        	
20675                        		.dbg	line,	"include\init.c", 674; vdc_map_pxl_y = 0;
20676                        		__st.wmiq	0, _vdc_map_pxl_y
         01:DFAE  9C CC 26   			stz.l	_vdc_map_pxl_y
         01:DFB1  9C CD 26   			stz.h	_vdc_map_pxl_y
20677                        	
20678                        		.dbg	line,	"include\init.c", 676; vdc_map_draw_w = 64;//32
20679                        		__st.umiq	64, _vdc_map_draw_w
         01:DFB4  A9 40      			lda.l	#64
         01:DFB6  8D C6 26   			sta	_vdc_map_draw_w
20680                        	
20681                        		.dbg	line,	"include\init.c", 677; vdc_map_draw_h = 32;//28
20682                        		__st.umiq	32, _vdc_map_draw_h
         01:DFB9  A9 20      			lda.l	#32
         01:DFBB  8D C7 26   			sta	_vdc_map_draw_h
20683                        	
20684                        		.dbg	line,	"include\init.c", 679; draw_map();
20685                        		__call		_draw_map
         01:DFBE  20 CD FE   			call	_draw_map
20686                        	
20687                        		.dbg	line,	"include\init.c", 681; display_LIFE();
20688                        		__call		_display_LIFE
         01:DFC1  20 C3 FE   			call	_display_LIFE
20689                        	
20690                        		.dbg	line,	"include\init.c", 682; display_SCORE();
20691                        		__call		_display_SCORE
         01:DFC4  20 B9 FE   			call	_display_SCORE
20692                        	
20693                        		.dbg	line,	"include\init.c", 683; display_TIME_LEVEL();
20694                        		__call		_display_TIME_LEVEL
         01:DFC7  20 AF FE   			call	_display_TIME_LEVEL
20695                        	
20696                        		.dbg	line,	"include\init.c", 684; display_KEY();
20697                        		__call		_display_KEY
         01:DFCA  20 3B FF   			call	_display_KEY
20698                        	
20699                        		.dbg	line,	"include\init.c", 685; display_POTION();
20700                        		__call		_display_POTION
         01:DFCD  20 F5 FE   			call	_display_POTION
20701                        	
20702                        		.dbg	line,	"include\init.c", 686; display_ZENNY();
20703                        		__call		_display_ZENNY
         01:DFD0  20 31 FF   			call	_display_ZENNY
20704                        	
20705                        		.dbg	line,	"include\init.c", 687; }
20706    01:DFD3             	.LL985:
20707                        		__return	0
         01:DFD3  4C EF FF   			jmp	leave_proc
20708                        		.dbg	clear
20709                        		.endp
20710                        		.pceas
20711                        	
20712                        		.dbg	line,	"include\init.c", 690; void init_LEVEL()
20713                        		.dbg	line,	"include\init.c", 691; {
20714                        	;***********************
20715                        	;***********************
20716                        	
20717                        		.hucc
20718    02:D945             		.proc		_init_LEVEL
20719                        		__enter		_init_LEVEL
20720                        	
20721                        		.dbg	line,	"include\init.c", 692; if(level_id == 1)
20722                        		__ld.umq	_level_id
         02:D945  AD 15 23   			lda	_level_id
20723                        		__equ_b.uiq	1
         02:D948  C9 01      			cmp	#1
         02:D94A  F0 01      			beq	!+
         02:D94C  18         			clc
         02:D94D             	!:
20724                        		__bfalse	.LL1003
         02:D94D  B0 03 4C 2A			bcc	.LL1003
         02:D951  DF          
20725                        	
20726                        		.dbg	line,	"include\init.c", 693; {
20727                        	
20728                        		.dbg	line,	"include\init.c", 694; char i;
20729                        	
20730                        		.dbg	line,	"include\init.c", 695; 
20731                        	
20732                        		.dbg	line,	"include\init.c", 696; // VSYNC //
20733                        	
20734                        		.dbg	line,	"include\init.c", 697; vsync();
20735                        		__call		_vsync
         02:D952  20 1D E3   			call	_vsync
20736                        	
20737                        		.dbg	line,	"include\init.c", 700; // DISABLE DISPLAY //
20738                        	
20739                        		.dbg	line,	"include\init.c", 701; disp_off();
20740                        		__call		_disp_off
         02:D955  20 3D E4   			call	_disp_off
20741                        	
20742                        		.dbg	line,	"include\init.c", 704; // SET VDC 1 SCREEN SIZE (IN TILES) - 64x32 = 512x256 PIXELS
20743                        	
20744                        		.dbg	line,	"include\init.c", 705; set_screen_size(SCR_SIZE_64x32);
20745                        		__st.umiq	1, _al
         02:D958  A9 01      			lda.l	#1
         02:D95A  85 F8      			sta	_al
20746                        		__call		_set_screen_size.1
         02:D95C  20 EB FE   			call	_set_screen_size.1
20747                        	
20748                        		.dbg	line,	"include\init.c", 708; // SET VDC 2 SCREEN SIZE (IN TILES) - 64x32 = 512x256 PIXELS
20749                        	
20750                        		.dbg	line,	"include\init.c", 709; sgx_set_screen_size(SCR_SIZE_64x32);
20751                        		__st.umiq	1, _al
         02:D95F  A9 01      			lda.l	#1
         02:D961  85 F8      			sta	_al
20752                        		__call		_sgx_set_screen_size.1
         02:D963  20 E1 FE   			call	_sgx_set_screen_size.1
20753                        	
20754                        		.dbg	line,	"include\init.c", 712; // INIT SPRITE ATTRIBUTE TABLE //
20755                        	
20756                        		.dbg	line,	"include\init.c", 713; //init_satb();
20757                        	
20758                        		.dbg	line,	"include\init.c", 718; //**************************************************************************************//
20759                        	
20760                        		.dbg	line,	"include\init.c", 719; //                                                                                      //
20761                        	
20762                        		.dbg	line,	"include\init.c", 720; //                                      VARIABLES                                       //
20763                        	
20764                        		.dbg	line,	"include\init.c", 721; //                                                                                      //
20765                        	
20766                        		.dbg	line,	"include\init.c", 722; //**************************************************************************************//
20767                        	
20768                        		.dbg	line,	"include\init.c", 724; time_counter = 0;
20769                        		__st.umiq	0, _time_counter
         02:D966  9C 34 23   			stz	_time_counter
20770                        	
20771                        		.dbg	line,	"include\init.c", 725; 
20772                        	
20773                        		.dbg	line,	"include\init.c", 726; if(respawn == RESPAWN_SHOP)
20774                        		__ld.umq	_respawn
         02:D969  AD 17 23   			lda	_respawn
20775                        		__equ_b.uiq	2
         02:D96C  C9 02      			cmp	#2
         02:D96E  F0 01      			beq	!+
         02:D970  18         			clc
         02:D971             	!:
20776                        		__bfalse	.LL1004
         02:D971  90 10      			bcc	.LL1004
20777                        	
20778                        		.dbg	line,	"include\init.c", 727; {
20779                        	
20780                        		.dbg	line,	"include\init.c", 728; minutes = minutes_backup;
20781                        		__ld.um		_minutes_backup
         02:D973  AD 35 23   			lda	_minutes_backup
         02:D976  C2         			cly
20782                        		__st.umq	_minutes
         02:D977  8D 32 23   			sta	_minutes
20783                        	
20784                        		.dbg	line,	"include\init.c", 729; seconds = seconds_backup;
20785                        		__ld.um		_seconds_backup
         02:D97A  AD 36 23   			lda	_seconds_backup
         02:D97D  C2         			cly
20786                        		__st.umq	_seconds
         02:D97E  8D 33 23   			sta	_seconds
20787                        	
20788                        		.dbg	line,	"include\init.c", 730; }
20789                        	
20790                        		.dbg	line,	"include\init.c", 732; else
20791                        		__bra		.LL1005
         02:D981  80 0A      			bra	.LL1005
20792    02:D983             	.LL1004:
20793                        	
20794                        		.dbg	line,	"include\init.c", 733; {
20795                        	
20796                        		.dbg	line,	"include\init.c", 734; minutes = 1;
20797                        		__st.umiq	1, _minutes
         02:D983  A9 01      			lda.l	#1
         02:D985  8D 32 23   			sta	_minutes
20798                        	
20799                        		.dbg	line,	"include\init.c", 735; seconds = 59;
20800                        		__st.umiq	59, _seconds
         02:D988  A9 3B      			lda.l	#59
         02:D98A  8D 33 23   			sta	_seconds
20801                        	
20802                        		.dbg	line,	"include\init.c", 736; }
20803    02:D98D             	.LL1005:
20804                        	
20805                        		.dbg	line,	"include\init.c", 738; global_counter			= 0;
20806                        		__st.wmiq	0, _global_counter
         02:D98D  9C 51 26   			stz.l	_global_counter
         02:D990  9C 52 26   			stz.h	_global_counter
20807                        	
20808                        		.dbg	line,	"include\init.c", 739; camera_max_y_position	= 768;
20809                        		__st.wmiq	768, _camera_max_y_position
         02:D993  9C FB 24   			stz.l	_camera_max_y_position
         02:D996  A9 03      			lda.h	#768
         02:D998  8D FC 24   			sta.h	_camera_max_y_position
20810                        	
20811                        		.dbg	line,	"include\init.c", 740; jump_max_index			= 34;
20812                        		__st.umiq	34, _jump_max_index
         02:D99B  A9 22      			lda.l	#34
         02:D99D  8D 23 23   			sta	_jump_max_index
20813                        	
20814                        		.dbg	line,	"include\init.c", 741; score					= 0;
20815                        		__st.wmiq	0, _score
         02:D9A0  9C 59 26   			stz.l	_score
         02:D9A3  9C 5A 26   			stz.h	_score
20816                        	
20817                        		.dbg	line,	"include\init.c", 742; level_object_number		= OBJECT_NUMBER_LV1;
20818                        		__st.umiq	23, _level_object_number
         02:D9A6  A9 17      			lda.l	#23
         02:D9A8  8D 38 23   			sta	_level_object_number
20819                        	
20820                        		.dbg	line,	"include\init.c", 743; level_chest_number		= CHEST_NUMBER_LV1;
20821                        		__st.umiq	2, _level_chest_number
         02:D9AB  A9 02      			lda.l	#2
         02:D9AD  8D C0 23   			sta	_level_chest_number
20822                        	
20823                        		.dbg	line,	"include\init.c", 744; level_npc_number		= NPC_NUMBER_LV1;
20824                        		__st.umiq	2, _level_npc_number
         02:D9B0  A9 02      			lda.l	#2
         02:D9B2  8D D3 23   			sta	_level_npc_number
20825                        	
20826                        		.dbg	line,	"include\init.c", 745; object_start_index		= OBJECT_START_INDEX_LV1;
20827                        		__st.umiq	0, _object_start_index
         02:D9B5  9C 37 23   			stz	_object_start_index
20828                        	
20829                        		.dbg	line,	"include\init.c", 746; chest_start_index		= CHEST_START_INDEX_LV1;
20830                        		__st.umiq	23, _chest_start_index
         02:D9B8  A9 17      			lda.l	#23
         02:D9BA  8D BF 23   			sta	_chest_start_index
20831                        	
20832                        		.dbg	line,	"include\init.c", 747; npc_start_index			= NPC_START_INDEX_LV1;
20833                        		__st.umiq	25, _npc_start_index
         02:D9BD  A9 19      			lda.l	#25
         02:D9BF  8D D2 23   			sta	_npc_start_index
20834                        	
20835                        		.dbg	line,	"include\init.c", 748; jump_ladder				= FALSE;
20836                        		__st.umiq	0, _jump_ladder
         02:D9C2  9C 22 23   			stz	_jump_ladder
20837                        	
20838                        		.dbg	line,	"include\init.c", 750; //
20839                        	
20840                        		.dbg	line,	"include\init.c", 751; ptr_REWARD_TYPE     	= TABLE_REWARD_TYPE_LV1;
20841                        		__ld.wi		_TABLE_REWARD_TYPE_LV1
         02:D9C5  A9 34      			lda.l	#_TABLE_REWARD_TYPE_LV1
         02:D9C7  A0 62      			ldy.h	#_TABLE_REWARD_TYPE_LV1
20842                        		__st.wmq	_ptr_REWARD_TYPE
         02:D9C9  8D 90 26   			sta.l	_ptr_REWARD_TYPE
         02:D9CC  8C 91 26   			sty.h	_ptr_REWARD_TYPE
20843                        	
20844                        		.dbg	line,	"include\init.c", 752; ptr_REWARD_VRAM_ADR 	= TABLE_REWARD_VRAM_ADR_LV1;
20845                        		__ld.wi		_TABLE_REWARD_VRAM_ADR_LV1
         02:D9CF  A9 4B      			lda.l	#_TABLE_REWARD_VRAM_ADR_LV1
         02:D9D1  A0 62      			ldy.h	#_TABLE_REWARD_VRAM_ADR_LV1
20846                        		__st.wmq	_ptr_REWARD_VRAM_ADR
         02:D9D3  8D 92 26   			sta.l	_ptr_REWARD_VRAM_ADR
         02:D9D6  8C 93 26   			sty.h	_ptr_REWARD_VRAM_ADR
20847                        	
20848                        		.dbg	line,	"include\init.c", 756; //**************************************************************************************//
20849                        	
20850                        		.dbg	line,	"include\init.c", 757; //                                                                                      //
20851                        	
20852                        		.dbg	line,	"include\init.c", 758; //                                        VDC 2                                         //
20853                        	
20854                        		.dbg	line,	"include\init.c", 759; //                                                                                      //
20855                        	
20856                        		.dbg	line,	"include\init.c", 760; //**************************************************************************************//
20857                        	
20858                        		.dbg	line,	"include\init.c", 762; //--------------------------------------------------------------------------------------//
20859                        	
20860                        		.dbg	line,	"include\init.c", 763; //                                    LOAD TILESET                                      //
20861                        	
20862                        		.dbg	line,	"include\init.c", 764; //--------------------------------------------------------------------------------------//
20863                        	
20864                        		.dbg	line,	"include\init.c", 766; sgx_load_vram( 0x1000, tileset_LV1_BG_B, SIZEOF(tileset_LV1_BG_B) >> 1 );
20865                        		__st.wmiq	4096, _di
         02:D9D9  64 F0      			stz.l	_di
         02:D9DB  A9 10      			lda.h	#4096
         02:D9DD  85 F1      			sta.h	_di
20866                        		__farptr	_tileset_LV1_BG_B, _bp_bank, _bp
         02:D9DF  A9 60      			lda.l	#$6000 + ($1FFF & (_tileset_LV1_BG_B))
         02:D9E1  85 EC      			sta.l	_bp
         02:D9E3  A9 76      			lda.h	#$6000 + ($1FFF & (_tileset_LV1_BG_B))
         02:D9E5  85 ED      			sta.h	_bp
         02:D9E7  A9 07      			lda	#bank(_tileset_LV1_BG_B)
         02:D9E9  85 02      			sta	_bp_bank
20867                        		__ld.wi		___sizeof__tileset_LV1_BG_B
         02:D9EB  A9 E0      			lda.l	#___sizeof__tileset_LV1_BG_B
         02:D9ED  A0 72      			ldy.h	#___sizeof__tileset_LV1_BG_B
20868                        		__lsr.wi	1
         02:D9EF  42         			say
         02:D9F0  4A         			lsr	a
         02:D9F1  42         			say
         02:D9F2  6A         			ror	a
20869                        		__st.wmq	_ax
         02:D9F3  85 F8      			sta.l	_ax
         02:D9F5  84 F9      			sty.h	_ax
20870                        		 _sgx_load_vram.3
         02:D9F7  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         02:D9F9  20 FF FE   			call	load_vram_x
20871                        	
20872                        		.dbg	line,	"include\init.c", 769; //--------------------------------------------------------------------------------------//
20873                        	
20874                        		.dbg	line,	"include\init.c", 770; //                               LOAD WALL & DOOR TILES                                 //
20875                        	
20876                        		.dbg	line,	"include\init.c", 771; //--------------------------------------------------------------------------------------//
20877                        	
20878                        		.dbg	line,	"include\init.c", 773; sgx_load_vram( LV1_WALL_VRAM_ADR, tileset_LV1_WALL, SIZEOF(tileset_LV1_WALL) >> 1 );
20879                        		__st.wmiq	4096, _di
         02:D9FC  64 F0      			stz.l	_di
         02:D9FE  A9 10      			lda.h	#4096
         02:DA00  85 F1      			sta.h	_di
20880                        		__farptr	_tileset_LV1_WALL, _bp_bank, _bp
         02:DA02  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_LV1_WALL))
         02:DA04  85 EC      			sta.l	_bp
         02:DA06  A9 68      			lda.h	#$6000 + ($1FFF & (_tileset_LV1_WALL))
         02:DA08  85 ED      			sta.h	_bp
         02:DA0A  A9 07      			lda	#bank(_tileset_LV1_WALL)
         02:DA0C  85 02      			sta	_bp_bank
20881                        		__ld.wi		___sizeof__tileset_LV1_WALL
         02:DA0E  A9 00      			lda.l	#___sizeof__tileset_LV1_WALL
         02:DA10  A0 02      			ldy.h	#___sizeof__tileset_LV1_WALL
20882                        		__lsr.wi	1
         02:DA12  42         			say
         02:DA13  4A         			lsr	a
         02:DA14  42         			say
         02:DA15  6A         			ror	a
20883                        		__st.wmq	_ax
         02:DA16  85 F8      			sta.l	_ax
         02:DA18  84 F9      			sty.h	_ax
20884                        		 _sgx_load_vram.3
         02:DA1A  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         02:DA1C  20 FF FE   			call	load_vram_x
20885                        	
20886                        		.dbg	line,	"include\init.c", 774; sgx_load_vram( LV1_DOOR_VRAM_ADR, tileset_LV1_DOOR_OPEN, SIZEOF(tileset_LV1_DOOR_OPEN) >> 1 );
20887                        		__st.wmiq	4352, _di
         02:DA1F  64 F0      			stz.l	_di
         02:DA21  A9 11      			lda.h	#4352
         02:DA23  85 F1      			sta.h	_di
20888                        		__farptr	_tileset_LV1_DOOR_OPEN, _bp_bank, _bp
         02:DA25  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_LV1_DOOR_OPEN))
         02:DA27  85 EC      			sta.l	_bp
         02:DA29  A9 6A      			lda.h	#$6000 + ($1FFF & (_tileset_LV1_DOOR_OPEN))
         02:DA2B  85 ED      			sta.h	_bp
         02:DA2D  A9 07      			lda	#bank(_tileset_LV1_DOOR_OPEN)
         02:DA2F  85 02      			sta	_bp_bank
20889                        		__ld.wi		___sizeof__tileset_LV1_DOOR_OPEN
         02:DA31  A9 00      			lda.l	#___sizeof__tileset_LV1_DOOR_OPEN
         02:DA33  A0 03      			ldy.h	#___sizeof__tileset_LV1_DOOR_OPEN
20890                        		__lsr.wi	1
         02:DA35  42         			say
         02:DA36  4A         			lsr	a
         02:DA37  42         			say
         02:DA38  6A         			ror	a
20891                        		__st.wmq	_ax
         02:DA39  85 F8      			sta.l	_ax
         02:DA3B  84 F9      			sty.h	_ax
20892                        		 _sgx_load_vram.3
         02:DA3D  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         02:DA3F  20 FF FE   			call	load_vram_x
20893                        	
20894                        		.dbg	line,	"include\init.c", 777; //--------------------------------------------------------------------------------------//
20895                        	
20896                        		.dbg	line,	"include\init.c", 778; //                                     SET MULTIMAP                                     //
20897                        	
20898                        		.dbg	line,	"include\init.c", 779; //--------------------------------------------------------------------------------------//
20899                        	
20900                        		.dbg	line,	"include\init.c", 781; // multimap is 5 screens wide //
20901                        	
20902                        		.dbg	line,	"include\init.c", 782; sgx_set_multimap( multimap_LV1_BG_B , 5 );
20903                        		__farptr	_multimap_LV1_BG_B, sgx_scr_bank, sgx_scr_addr
         02:DA42  A9 00      			lda.l	#$6000 + ($1FFF & (_multimap_LV1_BG_B))
         02:DA44  8D 18 2C   			sta.l	sgx_scr_addr
         02:DA47  A9 79      			lda.h	#$6000 + ($1FFF & (_multimap_LV1_BG_B))
         02:DA49  8D 19 2C   			sta.h	sgx_scr_addr
         02:DA4C  A9 0D      			lda	#bank(_multimap_LV1_BG_B)
         02:DA4E  8D 1A 2C   			sta	sgx_scr_bank
20904                        		__st.umiq	5, sgx_map_scrn_w
         02:DA51  A9 05      			lda.l	#5
         02:DA53  8D D9 26   			sta	sgx_map_scrn_w
20905                        		 _sgx_set_multimap.2
         02:DA56  AD D1 26   			lda	sgx_bat_width
         02:DA59  4A         			lsr	a
         02:DA5A  8D D8 26   			sta	sgx_map_line_w
20906                        	
20907                        		.dbg	line,	"include\init.c", 785; //--------------------------------------------------------------------------------------//
20908                        	
20909                        		.dbg	line,	"include\init.c", 786; //                                    DRAW TILEMAP                                      //
20910                        	
20911                        		.dbg	line,	"include\init.c", 787; //--------------------------------------------------------------------------------------//
20912                        	
20913                        		.dbg	line,	"include\init.c", 789; // The blkmap is drawn using global variables for the top-left coordinate
20914                        	
20915                        		.dbg	line,	"include\init.c", 790; // in pixels, and the draw width and height in terms of 8x8 characters.
20916                        	
20917                        		.dbg	line,	"include\init.c", 792; if(respawn == FALSE)
20918                        		__not.um	_respawn
         02:DA5D  AD 17 23   			lda	_respawn
         02:DA60  18         			clc
         02:DA61  D0 01      			bne	!+
         02:DA63  38         			sec
         02:DA64             	!:
20919                        		__bfalse	.LL1006
         02:DA64  90 12      			bcc	.LL1006
20920                        	
20921                        		.dbg	line,	"include\init.c", 793; {
20922                        	
20923                        		.dbg	line,	"include\init.c", 794; sgx_map_pxl_x = 96;
20924                        		__st.wmiq	96, _sgx_map_pxl_x
         02:DA66  A9 60      			lda.l	#96
         02:DA68  8D DA 26   			sta.l	_sgx_map_pxl_x
         02:DA6B  9C DB 26   			stz.h	_sgx_map_pxl_x
20925                        	
20926                        		.dbg	line,	"include\init.c", 795; sgx_map_pxl_y = 768;
20927                        		__st.wmiq	768, _sgx_map_pxl_y
         02:DA6E  9C DC 26   			stz.l	_sgx_map_pxl_y
         02:DA71  A9 03      			lda.h	#768
         02:DA73  8D DD 26   			sta.h	_sgx_map_pxl_y
20928                        	
20929                        		.dbg	line,	"include\init.c", 796; }
20930                        	
20931                        		.dbg	line,	"include\init.c", 798; else if(respawn == RESPAWN_SHOP)
20932                        		__bra		.LL1007
         02:DA76  80 22      			bra	.LL1007
20933    02:DA78             	.LL1006:
20934                        		__ld.umq	_respawn
         02:DA78  AD 17 23   			lda	_respawn
20935                        		__equ_b.uiq	2
         02:DA7B  C9 02      			cmp	#2
         02:DA7D  F0 01      			beq	!+
         02:DA7F  18         			clc
         02:DA80             	!:
20936                        		__bfalse	.LL1008
         02:DA80  90 18      			bcc	.LL1008
20937                        	
20938                        		.dbg	line,	"include\init.c", 799; {
20939                        	
20940                        		.dbg	line,	"include\init.c", 800; sgx_map_pxl_x = camera_pos_x_backup;
20941                        		__ld.wm		_camera_pos_x_backup
         02:DA82  AD FD 24   			lda.l	_camera_pos_x_backup
         02:DA85  AC FE 24   			ldy.h	_camera_pos_x_backup
20942                        		__st.wmq	_sgx_map_pxl_x
         02:DA88  8D DA 26   			sta.l	_sgx_map_pxl_x
         02:DA8B  8C DB 26   			sty.h	_sgx_map_pxl_x
20943                        	
20944                        		.dbg	line,	"include\init.c", 801; sgx_map_pxl_y = camera_pos_y_backup;
20945                        		__ld.wm		_camera_pos_y_backup
         02:DA8E  AD FF 24   			lda.l	_camera_pos_y_backup
         02:DA91  AC 00 25   			ldy.h	_camera_pos_y_backup
20946                        		__st.wmq	_sgx_map_pxl_y
         02:DA94  8D DC 26   			sta.l	_sgx_map_pxl_y
         02:DA97  8C DD 26   			sty.h	_sgx_map_pxl_y
20947                        	
20948                        		.dbg	line,	"include\init.c", 802; }
20949                        	
20950                        		.dbg	line,	"include\init.c", 805; sgx_map_draw_w = 63;
20951    02:DA9A             	.LL1008:
20952    02:DA9A             	.LL1007:
20953                        		__st.umiq	63, _sgx_map_draw_w
         02:DA9A  A9 3F      			lda.l	#63
         02:DA9C  8D D6 26   			sta	_sgx_map_draw_w
20954                        	
20955                        		.dbg	line,	"include\init.c", 806; sgx_map_draw_h = 29;
20956                        		__st.umiq	29, _sgx_map_draw_h
         02:DA9F  A9 1D      			lda.l	#29
         02:DAA1  8D D7 26   			sta	_sgx_map_draw_h
20957                        	
20958                        		.dbg	line,	"include\init.c", 808; sgx_draw_map();
20959                        		__call		_sgx_draw_map
         02:DAA4  20 A5 FE   			call	_sgx_draw_map
20960                        	
20961                        		.dbg	line,	"include\init.c", 813; //**************************************************************************************//
20962                        	
20963                        		.dbg	line,	"include\init.c", 814; //                                                                                      //
20964                        	
20965                        		.dbg	line,	"include\init.c", 815; //                                         HUD                                          //
20966                        	
20967                        		.dbg	line,	"include\init.c", 816; //                                                                                      //
20968                        	
20969                        		.dbg	line,	"include\init.c", 817; //**************************************************************************************//
20970                        	
20971                        		.dbg	line,	"include\init.c", 819; init_HUD();
20972                        		__call		_init_HUD
         02:DAA7  20 9B FE   			call	_init_HUD
20973                        	
20974                        		.dbg	line,	"include\init.c", 822; if(display_level_text == TRUE)
20975                        		__ld.umq	_display_level_text
         02:DAAA  AD 16 23   			lda	_display_level_text
20976                        		__equ_b.uiq	1
         02:DAAD  C9 01      			cmp	#1
         02:DAAF  F0 01      			beq	!+
         02:DAB1  18         			clc
         02:DAB2             	!:
20977                        		__bfalse	.LL1009
         02:DAB2  90 67      			bcc	.LL1009
20978                        	
20979                        		.dbg	line,	"include\init.c", 823; {
20980                        	
20981                        		.dbg	line,	"include\init.c", 824; put_string("ROUND",13, 8);
20982                        		__ld.wi		__const1+36
         02:DAB4  A9 24      			lda.l	#__const1+36
         02:DAB6  A0 60      			ldy.h	#__const1+36
20983                        		__st.wmq	_bp
         02:DAB8  85 EC      			sta.l	_bp
         02:DABA  84 ED      			sty.h	_bp
20984                        		__st.umiq	13, _dil
         02:DABC  A9 0D      			lda.l	#13
         02:DABE  85 F0      			sta	_dil
20985                        		__st.umiq	8, _dih
         02:DAC0  A9 08      			lda.l	#8
         02:DAC2  85 F1      			sta	_dih
20986                        		__call		_put_string.3
         02:DAC4  20 5F E6   			call	_put_string.3
20987                        	
20988                        		.dbg	line,	"include\init.c", 825; put_number(level_id,1,19,8);
20989                        		__ld.um		_level_id
         02:DAC7  AD 15 23   			lda	_level_id
         02:DACA  C2         			cly
20990                        		__st.wmq	_bx
         02:DACB  85 FA      			sta.l	_bx
         02:DACD  84 FB      			sty.h	_bx
20991                        		__st.umiq	1, _cl
         02:DACF  A9 01      			lda.l	#1
         02:DAD1  85 FC      			sta	_cl
20992                        		__st.umiq	19, _dil
         02:DAD3  A9 13      			lda.l	#19
         02:DAD5  85 F0      			sta	_dil
20993                        		__st.umiq	8, _dih
         02:DAD7  A9 08      			lda.l	#8
         02:DAD9  85 F1      			sta	_dih
20994                        		__call		_put_number.4
         02:DADB  20 63 FF   			call	_put_number.4
20995                        	
20996                        		.dbg	line,	"include\init.c", 826; put_string("READY PLAYER 1",10,13);
20997                        		__ld.wi		__const1+42
         02:DADE  A9 2A      			lda.l	#__const1+42
         02:DAE0  A0 60      			ldy.h	#__const1+42
20998                        		__st.wmq	_bp
         02:DAE2  85 EC      			sta.l	_bp
         02:DAE4  84 ED      			sty.h	_bp
20999                        		__st.umiq	10, _dil
         02:DAE6  A9 0A      			lda.l	#10
         02:DAE8  85 F0      			sta	_dil
21000                        		__st.umiq	13, _dih
         02:DAEA  A9 0D      			lda.l	#13
         02:DAEC  85 F1      			sta	_dih
21001                        		__call		_put_string.3
         02:DAEE  20 5F E6   			call	_put_string.3
21002                        	
21003                        		.dbg	line,	"include\init.c", 827; put_string("SAVE   LIVES",11,15);
21004                        		__ld.wi		__const1+57
         02:DAF1  A9 39      			lda.l	#__const1+57
         02:DAF3  A0 60      			ldy.h	#__const1+57
21005                        		__st.wmq	_bp
         02:DAF5  85 EC      			sta.l	_bp
         02:DAF7  84 ED      			sty.h	_bp
21006                        		__st.umiq	11, _dil
         02:DAF9  A9 0B      			lda.l	#11
         02:DAFB  85 F0      			sta	_dil
21007                        		__st.umiq	15, _dih
         02:DAFD  A9 0F      			lda.l	#15
         02:DAFF  85 F1      			sta	_dih
21008                        		__call		_put_string.3
         02:DB01  20 5F E6   			call	_put_string.3
21009                        	
21010                        		.dbg	line,	"include\init.c", 828; put_number(life_amount,1,16,15);
21011                        		__ld.um		_life_amount
         02:DB04  AD 2E 23   			lda	_life_amount
         02:DB07  C2         			cly
21012                        		__st.wmq	_bx
         02:DB08  85 FA      			sta.l	_bx
         02:DB0A  84 FB      			sty.h	_bx
21013                        		__st.umiq	1, _cl
         02:DB0C  A9 01      			lda.l	#1
         02:DB0E  85 FC      			sta	_cl
21014                        		__st.umiq	16, _dil
         02:DB10  A9 10      			lda.l	#16
         02:DB12  85 F0      			sta	_dil
21015                        		__st.umiq	15, _dih
         02:DB14  A9 0F      			lda.l	#15
         02:DB16  85 F1      			sta	_dih
21016                        		__call		_put_number.4
         02:DB18  20 63 FF   			call	_put_number.4
21017                        	
21018                        		.dbg	line,	"include\init.c", 829; }
21019                        	
21020                        		.dbg	line,	"include\init.c", 832; 
21021                        	
21022                        		.dbg	line,	"include\init.c", 835; //**************************************************************************************//
21023                        	
21024                        		.dbg	line,	"include\init.c", 836; //                                                                                      //
21025                        	
21026                        		.dbg	line,	"include\init.c", 837; //                                  SETUP SCROLL_SPLIT                                  //
21027                        	
21028                        		.dbg	line,	"include\init.c", 838; //                                                                                      //
21029                        	
21030                        		.dbg	line,	"include\init.c", 839; //**************************************************************************************//
21031                        	
21032                        		.dbg	line,	"include\init.c", 841; //--------------------------------------------------------------------------------------//
21033                        	
21034                        		.dbg	line,	"include\init.c", 842; //                                        VDC 2                                         //
21035                        	
21036                        		.dbg	line,	"include\init.c", 843; //--------------------------------------------------------------------------------------//
21037                        	
21038                        		.dbg	line,	"include\init.c", 845; sgx_scroll_map();
21039    02:DB1B             	.LL1009:
21040                        		__call		_sgx_scroll_map
         02:DB1B  20 59 FF   			call	_sgx_scroll_map
21041                        	
21042                        		.dbg	line,	"include\init.c", 847; sgx_scroll_split(0,   0, sgx_map_pxl_x & (BAT_SIZE_W - 1), sgx_map_pxl_y & (BAT_SIZE_H - 1), BKG_ON | SPR_ON);
21043                        		__st.umiq	0, _al
         02:DB1E  64 F8      			stz	_al
21044                        		__st.umiq	0, _ah
         02:DB20  64 F9      			stz	_ah
21045                        		__ld.wm		_sgx_map_pxl_x
         02:DB22  AD DA 26   			lda.l	_sgx_map_pxl_x
         02:DB25  AC DB 26   			ldy.h	_sgx_map_pxl_x
21046                        		__and.wi	2047
         02:DB28  29 FF      			and.l	#2047
         02:DB2A  42         			say
         02:DB2B  29 07      			and.h	#2047
         02:DB2D  42         			say
21047                        		__st.wmq	_bx
         02:DB2E  85 FA      			sta.l	_bx
         02:DB30  84 FB      			sty.h	_bx
21048                        		__ld.wm		_sgx_map_pxl_y
         02:DB32  AD DC 26   			lda.l	_sgx_map_pxl_y
         02:DB35  AC DD 26   			ldy.h	_sgx_map_pxl_y
21049                        		__and.wi	255
         02:DB38  29 FF      			and	#255
         02:DB3A  C2         			cly
21050                        		__st.wmq	_cx
         02:DB3B  85 FC      			sta.l	_cx
         02:DB3D  84 FD      			sty.h	_cx
21051                        		__st.umiq	192, _dl
         02:DB3F  A9 C0      			lda.l	#192
         02:DB41  85 FE      			sta	_dl
21052                        		__call		_sgx_scroll_split.5
         02:DB43  20 4F FF   			call	_sgx_scroll_split.5
21053                        	
21054                        		.dbg	line,	"include\init.c", 852; //--------------------------------------------------------------------------------------//
21055                        	
21056                        		.dbg	line,	"include\init.c", 853; //                                        VDC 1                                         //
21057                        	
21058                        		.dbg	line,	"include\init.c", 854; //--------------------------------------------------------------------------------------//
21059                        	
21060                        		.dbg	line,	"include\init.c", 856; scroll_split(0,   0, 0,  0, BKG_ON | SPR_ON);
21061                        		__st.umiq	0, _al
         02:DB46  64 F8      			stz	_al
21062                        		__st.umiq	0, _ah
         02:DB48  64 F9      			stz	_ah
21063                        		__st.wmiq	0, _bx
         02:DB4A  64 FA      			stz.l	_bx
         02:DB4C  64 FB      			stz.h	_bx
21064                        		__st.wmiq	0, _cx
         02:DB4E  64 FC      			stz.l	_cx
         02:DB50  64 FD      			stz.h	_cx
21065                        		__st.umiq	192, _dl
         02:DB52  A9 C0      			lda.l	#192
         02:DB54  85 FE      			sta	_dl
21066                        		__call		_scroll_split.5
         02:DB56  20 77 FF   			call	_scroll_split.5
21067                        	
21068                        		.dbg	line,	"include\init.c", 857; scroll_split(1,  48, 0, 48, BKG_ON | SPR_ON);
21069                        		__st.umiq	1, _al
         02:DB59  A9 01      			lda.l	#1
         02:DB5B  85 F8      			sta	_al
21070                        		__st.umiq	48, _ah
         02:DB5D  A9 30      			lda.l	#48
         02:DB5F  85 F9      			sta	_ah
21071                        		__st.wmiq	0, _bx
         02:DB61  64 FA      			stz.l	_bx
         02:DB63  64 FB      			stz.h	_bx
21072                        		__st.wmiq	48, _cx
         02:DB65  A9 30      			lda.l	#48
         02:DB67  85 FC      			sta.l	_cx
         02:DB69  64 FD      			stz.h	_cx
21073                        		__st.umiq	192, _dl
         02:DB6B  A9 C0      			lda.l	#192
         02:DB6D  85 FE      			sta	_dl
21074                        		__call		_scroll_split.5
         02:DB6F  20 77 FF   			call	_scroll_split.5
21075                        	
21076                        		.dbg	line,	"include\init.c", 858; scroll_split(2,  88, 0, 88, BKG_ON | SPR_ON);
21077                        		__st.umiq	2, _al
         02:DB72  A9 02      			lda.l	#2
         02:DB74  85 F8      			sta	_al
21078                        		__st.umiq	88, _ah
         02:DB76  A9 58      			lda.l	#88
         02:DB78  85 F9      			sta	_ah
21079                        		__st.wmiq	0, _bx
         02:DB7A  64 FA      			stz.l	_bx
         02:DB7C  64 FB      			stz.h	_bx
21080                        		__st.wmiq	88, _cx
         02:DB7E  A9 58      			lda.l	#88
         02:DB80  85 FC      			sta.l	_cx
         02:DB82  64 FD      			stz.h	_cx
21081                        		__st.umiq	192, _dl
         02:DB84  A9 C0      			lda.l	#192
         02:DB86  85 FE      			sta	_dl
21082                        		__call		_scroll_split.5
         02:DB88  20 77 FF   			call	_scroll_split.5
21083                        	
21084                        		.dbg	line,	"include\init.c", 862; //--------------------------------------------------------------------------------------//
21085                        	
21086                        		.dbg	line,	"include\init.c", 863; //                                   LOAD BG PALETTES                                   //
21087                        	
21088                        		.dbg	line,	"include\init.c", 864; //--------------------------------------------------------------------------------------//
21089                        	
21090                        		.dbg	line,	"include\init.c", 866; // LOAD ALL PALETTES AT BG PALETTE 0 //
21091                        	
21092                        		.dbg	line,	"include\init.c", 867; load_palette( 0, palette_LV1, 16 );
21093                        		__st.umiq	0, _al
         02:DB8B  64 F8      			stz	_al
21094                        		__farptr	_palette_LV1, _bp_bank, _bp
         02:DB8D  A9 A0      			lda.l	#$6000 + ($1FFF & (_palette_LV1))
         02:DB8F  85 EC      			sta.l	_bp
         02:DB91  A9 60      			lda.h	#$6000 + ($1FFF & (_palette_LV1))
         02:DB93  85 ED      			sta.h	_bp
         02:DB95  A9 10      			lda	#bank(_palette_LV1)
         02:DB97  85 02      			sta	_bp_bank
21095                        		__st.umiq	16, _ah
         02:DB99  A9 10      			lda.l	#16
         02:DB9B  85 F9      			sta	_ah
21096                        		__call		_load_palette.3
         02:DB9D  20 81 FF   			call	_load_palette.3
21097                        	
21098                        		.dbg	line,	"include\init.c", 872; //**************************************************************************************//
21099                        	
21100                        		.dbg	line,	"include\init.c", 873; //                                                                                      //
21101                        	
21102                        		.dbg	line,	"include\init.c", 874; //                                       SPRITES                                        //
21103                        	
21104                        		.dbg	line,	"include\init.c", 875; //                                                                                      //
21105                        	
21106                        		.dbg	line,	"include\init.c", 876; //**************************************************************************************//
21107                        	
21108                        		.dbg	line,	"include\init.c", 878; // HIDE DRAGON SPRITES FROM INTRO //
21109                        	
21110                        		.dbg	line,	"include\init.c", 879; for(i=0 ; i<8 ; i++)
21111                        		__st.umiq	0, __init_LEVEL_end - 1  /* i */
         02:DBA0  9C 10 23   			stz	__init_LEVEL_end - 1
21112    02:DBA3             	.LL1010:
21113                        		__ld.umq	__init_LEVEL_end - 1  /* i */
         02:DBA3  AD 10 23   			lda	__init_LEVEL_end - 1
21114                        		__ult_b.uiq	8
         02:DBA6  C9 08      			cmp	#8		; Subtract integer from A.
         02:DBA8  6A         			ror	a		; CC if A < integer.
         02:DBA9  49 80      			eor	#$80
         02:DBAB  2A         			rol	a
21115                        		__btrue		.LL1012
         02:DBAC  B0 07      			bcs	.LL1012
21116                        		__bra		.LL1013
         02:DBAE  80 10      			bra	.LL1013
21117    02:DBB0             	.LL1011:
21118                        		__inc.umq	__init_LEVEL_end - 1  /* i */
         02:DBB0  EE 10 23   			inc	__init_LEVEL_end - 1
21119                        		__bra		.LL1010
         02:DBB3  80 EE      			bra	.LL1010
21120    02:DBB5             	.LL1012:
21121                        	
21122                        		.dbg	line,	"include\init.c", 880; {
21123                        	
21124                        		.dbg	line,	"include\init.c", 881; sgx_spr_set(i);
21125                        		__ld.umq	__init_LEVEL_end - 1  /* i */
         02:DBB5  AD 10 23   			lda	__init_LEVEL_end - 1
21126                        		__call		_sgx_spr_set.1
         02:DBB8  20 9E E8   			call	_sgx_spr_set.1
21127                        	
21128                        		.dbg	line,	"include\init.c", 882; sgx_spr_hide();
21129                        		__call		_sgx_spr_hide
         02:DBBB  20 B9 E8   			call	_sgx_spr_hide
21130                        	
21131                        		.dbg	line,	"include\init.c", 883; }
21132                        		__bra		.LL1011
         02:DBBE  80 F0      			bra	.LL1011
21133    02:DBC0             	.LL1013:
21134                        	
21135                        		.dbg	line,	"include\init.c", 885; //--------------------------------------------------------------------------------------//
21136                        	
21137                        		.dbg	line,	"include\init.c", 886; //                                        PLAYER                                        //
21138                        	
21139                        		.dbg	line,	"include\init.c", 887; //--------------------------------------------------------------------------------------//
21140                        	
21141                        		.dbg	line,	"include\init.c", 889; // LOAD ALL PLAYER TILES //
21142                        	
21143                        		.dbg	line,	"include\init.c", 890; set_far_base(TABLE_PLAYER_TILES_BANK[player_naked],TABLE_PLAYER_TILES_ADR[player_naked]);
21144                        		__ldx.umq	_player_naked
         02:DBC0  AE 20 23   			ldx	_player_naked
21145                        		__ld.uax	_TABLE_PLAYER_TILES_BANK
         02:DBC3  BD 85 62   			lda	_TABLE_PLAYER_TILES_BANK, x
         02:DBC6  C2         			cly
21146                        		__st.umq	_bp_bank
         02:DBC7  85 02      			sta	_bp_bank
21147                        		__ld2x.umq	_player_naked
         02:DBC9  AD 20 23   			lda	_player_naked
         02:DBCC  0A         			asl	a
         02:DBCD  AA         			tax
21148                        		__ld.wax	_TABLE_PLAYER_TILES_ADR
         02:DBCE  BD 81 62   			lda.l	_TABLE_PLAYER_TILES_ADR, x
         02:DBD1  BC 82 62   			ldy.h	_TABLE_PLAYER_TILES_ADR, x
21149                        		__st.wmq	_bp
         02:DBD4  85 EC      			sta.l	_bp
         02:DBD6  84 ED      			sty.h	_bp
21150                        	
21151                        		.dbg	line,	"include\init.c", 891; far_load_vram(PLAYER_VRAM_ADR,TILES_400);
21152                        		__st.wmiq	6144, _di
         02:DBD8  64 F0      			stz.l	_di
         02:DBDA  A9 18      			lda.h	#6144
         02:DBDC  85 F1      			sta.h	_di
21153                        		__st.wmiq	6400, _ax
         02:DBDE  64 F8      			stz.l	_ax
         02:DBE0  A9 19      			lda.h	#6400
         02:DBE2  85 F9      			sta.h	_ax
21154                        		 _far_load_vram.2
         02:DBE4  82         			clx				; Offset to PCE VDC.
         02:DBE5  20 FF FE   			call	load_vram_x
21155                        	
21156                        		.dbg	line,	"include\init.c", 894; // SELECT PLAYER CORE SPRITE //
21157                        	
21158                        		.dbg	line,	"include\init.c", 895; spr_set(player_id); // PLAYER_START_INDEX
21159                        		__ld.umq	_player_id
         02:DBE8  AD 18 23   			lda	_player_id
21160                        		__call		_spr_set.1
         02:DBEB  20 F1 E7   			call	_spr_set.1
21161                        	
21162                        		.dbg	line,	"include\init.c", 898; player_pos_x = 112;
21163                        		__st.wmiq	112, _player_pos_x
         02:DBEE  A9 70      			lda.l	#112
         02:DBF0  8D F7 24   			sta.l	_player_pos_x
         02:DBF3  9C F8 24   			stz.h	_player_pos_x
21164                        	
21165                        		.dbg	line,	"include\init.c", 899; player_pos_y = PLAYER_BASE_Y_POS;
21166                        		__st.wmiq	128, _player_pos_y
         02:DBF6  A9 80      			lda.l	#128
         02:DBF8  8D F9 24   			sta.l	_player_pos_y
         02:DBFB  9C FA 24   			stz.h	_player_pos_y
21167                        	
21168                        		.dbg	line,	"include\init.c", 902; spr_x(player_pos_x);
21169                        		__ld.wm		_player_pos_x
         02:DBFE  AD F7 24   			lda.l	_player_pos_x
         02:DC01  AC F8 24   			ldy.h	_player_pos_x
21170                        		__call		_spr_x.1
         02:DC04  20 1E E8   			call	_spr_x.1
21171                        	
21172                        		.dbg	line,	"include\init.c", 903; spr_y(player_pos_y);
21173                        		__ld.wm		_player_pos_y
         02:DC07  AD F9 24   			lda.l	_player_pos_y
         02:DC0A  AC FA 24   			ldy.h	_player_pos_y
21174                        		__call		_spr_y.1
         02:DC0D  20 2D E8   			call	_spr_y.1
21175                        	
21176                        		.dbg	line,	"include\init.c", 905; // SET TILES DATA FOR THE PLAYER //
21177                        	
21178                        		.dbg	line,	"include\init.c", 906; spr_pattern(PLAYER_VRAM_ADR);
21179                        		__ld.wi		6144
         02:DC10  62         			cla
         02:DC11  A0 18      			ldy.h	#6144
21180                        		__call		_spr_pattern.1
         02:DC13  20 3A E8   			call	_spr_pattern.1
21181                        	
21182                        		.dbg	line,	"include\init.c", 908; // SET SPRITE FLIP //
21183                        	
21184                        		.dbg	line,	"include\init.c", 909; spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_32x32);
21185                        		__st.umiq	185, _al
         02:DC16  A9 B9      			lda.l	#185
         02:DC18  85 F8      			sta	_al
21186                        		__ld.uiq	17
         02:DC1A  A9 11      			lda	#17
21187                        		__call		_spr_ctrl.2
         02:DC1C  20 50 E8   			call	_spr_ctrl.2
21188                        	
21189                        		.dbg	line,	"include\init.c", 911; 
21190                        	
21191                        		.dbg	line,	"include\init.c", 914; spr_pal(0);
21192                        		__ld.uiq	0
         02:DC1F  62         			cla
21193                        		__call		_spr_pal.1
         02:DC20  20 61 E8   			call	_spr_pal.1
21194                        	
21195                        		.dbg	line,	"include\init.c", 915; spr_pri(TRUE);
21196                        		__ld.uiq	1
         02:DC23  A9 01      			lda	#1
21197                        		__call		_spr_pri.1
         02:DC25  20 70 E8   			call	_spr_pri.1
21198                        	
21199                        		.dbg	line,	"include\init.c", 918; //--------------------------------------------------------------------------------------//
21200                        	
21201                        		.dbg	line,	"include\init.c", 919; //                                        CHAIN                                         //
21202                        	
21203                        		.dbg	line,	"include\init.c", 920; //--------------------------------------------------------------------------------------//
21204                        	
21205                        		.dbg	line,	"include\init.c", 922; load_vram(CHAIN_VRAM_ADR, tiles_SPR_CHAIN , TILES_4);
21206                        		__st.wmiq	31744, _di
         02:DC28  64 F0      			stz.l	_di
         02:DC2A  A9 7C      			lda.h	#31744
         02:DC2C  85 F1      			sta.h	_di
21207                        		__farptr	_tiles_SPR_CHAIN, _bp_bank, _bp
         02:DC2E  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_CHAIN))
         02:DC30  85 EC      			sta.l	_bp
         02:DC32  A9 71      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_CHAIN))
         02:DC34  85 ED      			sta.h	_bp
         02:DC36  A9 19      			lda	#bank(_tiles_SPR_CHAIN)
         02:DC38  85 02      			sta	_bp_bank
21208                        		__st.wmiq	64, _ax
         02:DC3A  A9 40      			lda.l	#64
         02:DC3C  85 F8      			sta.l	_ax
         02:DC3E  64 F9      			stz.h	_ax
21209                        		 _load_vram.3
         02:DC40  82         			clx				; Offset to PCE VDC.
         02:DC41  20 FF FE   			call	load_vram_x
21210                        	
21211                        		.dbg	line,	"include\init.c", 924; for(i=0 ; i<3 ; i++)
21212                        		__st.umiq	0, __init_LEVEL_end - 1  /* i */
         02:DC44  9C 10 23   			stz	__init_LEVEL_end - 1
21213    02:DC47             	.LL1014:
21214                        		__ld.umq	__init_LEVEL_end - 1  /* i */
         02:DC47  AD 10 23   			lda	__init_LEVEL_end - 1
21215                        		__ult_b.uiq	3
         02:DC4A  C9 03      			cmp	#3		; Subtract integer from A.
         02:DC4C  6A         			ror	a		; CC if A < integer.
         02:DC4D  49 80      			eor	#$80
         02:DC4F  2A         			rol	a
21216                        		__btrue		.LL1016
         02:DC50  B0 07      			bcs	.LL1016
21217                        		__bra		.LL1017
         02:DC52  80 2F      			bra	.LL1017
21218    02:DC54             	.LL1015:
21219                        		__inc.umq	__init_LEVEL_end - 1  /* i */
         02:DC54  EE 10 23   			inc	__init_LEVEL_end - 1
21220                        		__bra		.LL1014
         02:DC57  80 EE      			bra	.LL1014
21221    02:DC59             	.LL1016:
21222                        	
21223                        		.dbg	line,	"include\init.c", 925; {
21224                        	
21225                        		.dbg	line,	"include\init.c", 926; spr_set(chain_id+i);
21226                        		__ld.um		_chain_id
         02:DC59  AD 26 23   			lda	_chain_id
         02:DC5C  C2         			cly
21227                        		__add.um	__init_LEVEL_end - 1  /* i */
         02:DC5D  18         			clc
         02:DC5E  6D 10 23   			adc	__init_LEVEL_end - 1
         02:DC61  90 01      			bcc	!+
         02:DC63  C8         			iny
         02:DC64             	!:
21228                        		__call		_spr_set.1
         02:DC64  20 F1 E7   			call	_spr_set.1
21229                        	
21230                        		.dbg	line,	"include\init.c", 927; spr_pattern(CHAIN_VRAM_ADR);
21231                        		__ld.wi		31744
         02:DC67  62         			cla
         02:DC68  A0 7C      			ldy.h	#31744
21232                        		__call		_spr_pattern.1
         02:DC6A  20 3A E8   			call	_spr_pattern.1
21233                        	
21234                        		.dbg	line,	"include\init.c", 928; spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_16x16);
21235                        		__st.umiq	185, _al
         02:DC6D  A9 B9      			lda.l	#185
         02:DC6F  85 F8      			sta	_al
21236                        		__ld.uiq	0
         02:DC71  62         			cla
21237                        		__call		_spr_ctrl.2
         02:DC72  20 50 E8   			call	_spr_ctrl.2
21238                        	
21239                        		.dbg	line,	"include\init.c", 929; spr_hide();
21240                        		__call		_spr_hide
         02:DC75  20 0C E8   			call	_spr_hide
21241                        	
21242                        		.dbg	line,	"include\init.c", 931; spr_pal(0);
21243                        		__ld.uiq	0
         02:DC78  62         			cla
21244                        		__call		_spr_pal.1
         02:DC79  20 61 E8   			call	_spr_pal.1
21245                        	
21246                        		.dbg	line,	"include\init.c", 932; spr_pri(TRUE);
21247                        		__ld.uiq	1
         02:DC7C  A9 01      			lda	#1
21248                        		__call		_spr_pri.1
         02:DC7E  20 70 E8   			call	_spr_pri.1
21249                        	
21250                        		.dbg	line,	"include\init.c", 933; }
21251                        		__bra		.LL1015
         02:DC81  80 D1      			bra	.LL1015
21252    02:DC83             	.LL1017:
21253                        	
21254                        		.dbg	line,	"include\init.c", 934; 
21255                        	
21256                        		.dbg	line,	"include\init.c", 936; //--------------------------------------------------------------------------------------//
21257                        	
21258                        		.dbg	line,	"include\init.c", 937; //                                        WEAPON                                        //
21259                        	
21260                        		.dbg	line,	"include\init.c", 938; //--------------------------------------------------------------------------------------//
21261                        	
21262                        		.dbg	line,	"include\init.c", 940; if(weapon_level == 0)
21263                        		__not.um	_weapon_level
         02:DC83  AD 29 23   			lda	_weapon_level
         02:DC86  18         			clc
         02:DC87  D0 01      			bne	!+
         02:DC89  38         			sec
         02:DC8A             	!:
21264                        		__bfalse	.LL1018
         02:DC8A  90 27      			bcc	.LL1018
21265                        	
21266                        		.dbg	line,	"include\init.c", 941; {
21267                        	
21268                        		.dbg	line,	"include\init.c", 942; load_vram(WEAPON_VRAM_ADR, tiles_SPR_WEAPON_0 , SIZEOF(tiles_SPR_WEAPON_0) >> 1);
21269                        		__st.wmiq	31808, _di
         02:DC8C  A9 40      			lda.l	#31808
         02:DC8E  85 F0      			sta.l	_di
         02:DC90  A9 7C      			lda.h	#31808
         02:DC92  85 F1      			sta.h	_di
21270                        		__farptr	_tiles_SPR_WEAPON_0, _bp_bank, _bp
         02:DC94  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_0))
         02:DC96  85 EC      			sta.l	_bp
         02:DC98  A9 72      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_0))
         02:DC9A  85 ED      			sta.h	_bp
         02:DC9C  A9 19      			lda	#bank(_tiles_SPR_WEAPON_0)
         02:DC9E  85 02      			sta	_bp_bank
21271                        		__ld.wi		___sizeof__tiles_SPR_WEAPON_0
         02:DCA0  A9 80      			lda.l	#___sizeof__tiles_SPR_WEAPON_0
         02:DCA2  A0 02      			ldy.h	#___sizeof__tiles_SPR_WEAPON_0
21272                        		__lsr.wi	1
         02:DCA4  42         			say
         02:DCA5  4A         			lsr	a
         02:DCA6  42         			say
         02:DCA7  6A         			ror	a
21273                        		__st.wmq	_ax
         02:DCA8  85 F8      			sta.l	_ax
         02:DCAA  84 F9      			sty.h	_ax
21274                        		 _load_vram.3
         02:DCAC  82         			clx				; Offset to PCE VDC.
         02:DCAD  20 FF FE   			call	load_vram_x
21275                        	
21276                        		.dbg	line,	"include\init.c", 943; }
21277                        	
21278                        		.dbg	line,	"include\init.c", 945; else if(weapon_level == 1)
21279                        		__bra		.LL1019
         02:DCB0  4C 72 DD   			bra	.LL1019
21280    02:DCB3             	.LL1018:
21281                        		__ld.umq	_weapon_level
         02:DCB3  AD 29 23   			lda	_weapon_level
21282                        		__equ_b.uiq	1
         02:DCB6  C9 01      			cmp	#1
         02:DCB8  F0 01      			beq	!+
         02:DCBA  18         			clc
         02:DCBB             	!:
21283                        		__bfalse	.LL1020
         02:DCBB  90 27      			bcc	.LL1020
21284                        	
21285                        		.dbg	line,	"include\init.c", 946; {
21286                        	
21287                        		.dbg	line,	"include\init.c", 947; load_vram(WEAPON_VRAM_ADR, tiles_SPR_WEAPON_1 , SIZEOF(tiles_SPR_WEAPON_1) >> 1);
21288                        		__st.wmiq	31808, _di
         02:DCBD  A9 40      			lda.l	#31808
         02:DCBF  85 F0      			sta.l	_di
         02:DCC1  A9 7C      			lda.h	#31808
         02:DCC3  85 F1      			sta.h	_di
21289                        		__farptr	_tiles_SPR_WEAPON_1, _bp_bank, _bp
         02:DCC5  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_1))
         02:DCC7  85 EC      			sta.l	_bp
         02:DCC9  A9 74      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_1))
         02:DCCB  85 ED      			sta.h	_bp
         02:DCCD  A9 19      			lda	#bank(_tiles_SPR_WEAPON_1)
         02:DCCF  85 02      			sta	_bp_bank
21290                        		__ld.wi		___sizeof__tiles_SPR_WEAPON_1
         02:DCD1  A9 80      			lda.l	#___sizeof__tiles_SPR_WEAPON_1
         02:DCD3  A0 02      			ldy.h	#___sizeof__tiles_SPR_WEAPON_1
21291                        		__lsr.wi	1
         02:DCD5  42         			say
         02:DCD6  4A         			lsr	a
         02:DCD7  42         			say
         02:DCD8  6A         			ror	a
21292                        		__st.wmq	_ax
         02:DCD9  85 F8      			sta.l	_ax
         02:DCDB  84 F9      			sty.h	_ax
21293                        		 _load_vram.3
         02:DCDD  82         			clx				; Offset to PCE VDC.
         02:DCDE  20 FF FE   			call	load_vram_x
21294                        	
21295                        		.dbg	line,	"include\init.c", 948; }
21296                        	
21297                        		.dbg	line,	"include\init.c", 950; else if(weapon_level == 2)
21298                        		__bra		.LL1021
         02:DCE1  4C 72 DD   			bra	.LL1021
21299    02:DCE4             	.LL1020:
21300                        		__ld.umq	_weapon_level
         02:DCE4  AD 29 23   			lda	_weapon_level
21301                        		__equ_b.uiq	2
         02:DCE7  C9 02      			cmp	#2
         02:DCE9  F0 01      			beq	!+
         02:DCEB  18         			clc
         02:DCEC             	!:
21302                        		__bfalse	.LL1022
         02:DCEC  90 26      			bcc	.LL1022
21303                        	
21304                        		.dbg	line,	"include\init.c", 951; {
21305                        	
21306                        		.dbg	line,	"include\init.c", 952; load_vram(WEAPON_VRAM_ADR, tiles_SPR_WEAPON_2 , SIZEOF(tiles_SPR_WEAPON_2) >> 1);
21307                        		__st.wmiq	31808, _di
         02:DCEE  A9 40      			lda.l	#31808
         02:DCF0  85 F0      			sta.l	_di
         02:DCF2  A9 7C      			lda.h	#31808
         02:DCF4  85 F1      			sta.h	_di
21308                        		__farptr	_tiles_SPR_WEAPON_2, _bp_bank, _bp
         02:DCF6  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_2))
         02:DCF8  85 EC      			sta.l	_bp
         02:DCFA  A9 77      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_2))
         02:DCFC  85 ED      			sta.h	_bp
         02:DCFE  A9 19      			lda	#bank(_tiles_SPR_WEAPON_2)
         02:DD00  85 02      			sta	_bp_bank
21309                        		__ld.wi		___sizeof__tiles_SPR_WEAPON_2
         02:DD02  A9 80      			lda.l	#___sizeof__tiles_SPR_WEAPON_2
         02:DD04  A0 02      			ldy.h	#___sizeof__tiles_SPR_WEAPON_2
21310                        		__lsr.wi	1
         02:DD06  42         			say
         02:DD07  4A         			lsr	a
         02:DD08  42         			say
         02:DD09  6A         			ror	a
21311                        		__st.wmq	_ax
         02:DD0A  85 F8      			sta.l	_ax
         02:DD0C  84 F9      			sty.h	_ax
21312                        		 _load_vram.3
         02:DD0E  82         			clx				; Offset to PCE VDC.
         02:DD0F  20 FF FE   			call	load_vram_x
21313                        	
21314                        		.dbg	line,	"include\init.c", 953; }
21315                        	
21316                        		.dbg	line,	"include\init.c", 955; else if(weapon_level == 3)
21317                        		__bra		.LL1023
         02:DD12  80 5E      			bra	.LL1023
21318    02:DD14             	.LL1022:
21319                        		__ld.umq	_weapon_level
         02:DD14  AD 29 23   			lda	_weapon_level
21320                        		__equ_b.uiq	3
         02:DD17  C9 03      			cmp	#3
         02:DD19  F0 01      			beq	!+
         02:DD1B  18         			clc
         02:DD1C             	!:
21321                        		__bfalse	.LL1024
         02:DD1C  90 26      			bcc	.LL1024
21322                        	
21323                        		.dbg	line,	"include\init.c", 956; {
21324                        	
21325                        		.dbg	line,	"include\init.c", 957; load_vram(WEAPON_VRAM_ADR, tiles_SPR_WEAPON_3 , SIZEOF(tiles_SPR_WEAPON_3) >> 1);
21326                        		__st.wmiq	31808, _di
         02:DD1E  A9 40      			lda.l	#31808
         02:DD20  85 F0      			sta.l	_di
         02:DD22  A9 7C      			lda.h	#31808
         02:DD24  85 F1      			sta.h	_di
21327                        		__farptr	_tiles_SPR_WEAPON_3, _bp_bank, _bp
         02:DD26  A9 C0      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_3))
         02:DD28  85 EC      			sta.l	_bp
         02:DD2A  A9 79      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_3))
         02:DD2C  85 ED      			sta.h	_bp
         02:DD2E  A9 19      			lda	#bank(_tiles_SPR_WEAPON_3)
         02:DD30  85 02      			sta	_bp_bank
21328                        		__ld.wi		___sizeof__tiles_SPR_WEAPON_3
         02:DD32  A9 80      			lda.l	#___sizeof__tiles_SPR_WEAPON_3
         02:DD34  A0 02      			ldy.h	#___sizeof__tiles_SPR_WEAPON_3
21329                        		__lsr.wi	1
         02:DD36  42         			say
         02:DD37  4A         			lsr	a
         02:DD38  42         			say
         02:DD39  6A         			ror	a
21330                        		__st.wmq	_ax
         02:DD3A  85 F8      			sta.l	_ax
         02:DD3C  84 F9      			sty.h	_ax
21331                        		 _load_vram.3
         02:DD3E  82         			clx				; Offset to PCE VDC.
         02:DD3F  20 FF FE   			call	load_vram_x
21332                        	
21333                        		.dbg	line,	"include\init.c", 958; }
21334                        	
21335                        		.dbg	line,	"include\init.c", 960; else if(weapon_level == 4)
21336                        		__bra		.LL1025
         02:DD42  80 2E      			bra	.LL1025
21337    02:DD44             	.LL1024:
21338                        		__ld.umq	_weapon_level
         02:DD44  AD 29 23   			lda	_weapon_level
21339                        		__equ_b.uiq	4
         02:DD47  C9 04      			cmp	#4
         02:DD49  F0 01      			beq	!+
         02:DD4B  18         			clc
         02:DD4C             	!:
21340                        		__bfalse	.LL1026
         02:DD4C  90 24      			bcc	.LL1026
21341                        	
21342                        		.dbg	line,	"include\init.c", 961; {
21343                        	
21344                        		.dbg	line,	"include\init.c", 962; load_vram(WEAPON_VRAM_ADR, tiles_SPR_WEAPON_4 , SIZEOF(tiles_SPR_WEAPON_4) >> 1);
21345                        		__st.wmiq	31808, _di
         02:DD4E  A9 40      			lda.l	#31808
         02:DD50  85 F0      			sta.l	_di
         02:DD52  A9 7C      			lda.h	#31808
         02:DD54  85 F1      			sta.h	_di
21346                        		__farptr	_tiles_SPR_WEAPON_4, _bp_bank, _bp
         02:DD56  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_4))
         02:DD58  85 EC      			sta.l	_bp
         02:DD5A  A9 7C      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_WEAPON_4))
         02:DD5C  85 ED      			sta.h	_bp
         02:DD5E  A9 19      			lda	#bank(_tiles_SPR_WEAPON_4)
         02:DD60  85 02      			sta	_bp_bank
21347                        		__ld.wi		___sizeof__tiles_SPR_WEAPON_4
         02:DD62  A9 80      			lda.l	#___sizeof__tiles_SPR_WEAPON_4
         02:DD64  A0 02      			ldy.h	#___sizeof__tiles_SPR_WEAPON_4
21348                        		__lsr.wi	1
         02:DD66  42         			say
         02:DD67  4A         			lsr	a
         02:DD68  42         			say
         02:DD69  6A         			ror	a
21349                        		__st.wmq	_ax
         02:DD6A  85 F8      			sta.l	_ax
         02:DD6C  84 F9      			sty.h	_ax
21350                        		 _load_vram.3
         02:DD6E  82         			clx				; Offset to PCE VDC.
         02:DD6F  20 FF FE   			call	load_vram_x
21351                        	
21352                        		.dbg	line,	"include\init.c", 963; }		
21353                        	
21354                        		.dbg	line,	"include\init.c", 965; 
21355                        	
21356                        		.dbg	line,	"include\init.c", 966; weapon_id = chain_id-1;
21357    02:DD72             	.LL1026:
21358    02:DD72             	.LL1025:
21359    02:DD72             	.LL1023:
21360    02:DD72             	.LL1021:
21361    02:DD72             	.LL1019:
21362                        		__ld.um		_chain_id
         02:DD72  AD 26 23   			lda	_chain_id
         02:DD75  C2         			cly
21363                        		__sub.wi	1
         02:DD76  38         			sec
         02:DD77  E9 01      			sbc.l	#1
         02:DD79  B0 01      			bcs	!+
         02:DD7B  88         			dey
         02:DD7C             	!:
21364                        		__st.umq	_weapon_id
         02:DD7C  8D 27 23   			sta	_weapon_id
21365                        	
21366                        		.dbg	line,	"include\init.c", 967; spr_set(weapon_id);
21367                        		__ld.umq	_weapon_id
         02:DD7F  AD 27 23   			lda	_weapon_id
21368                        		__call		_spr_set.1
         02:DD82  20 F1 E7   			call	_spr_set.1
21369                        	
21370                        		.dbg	line,	"include\init.c", 968; spr_pattern(WEAPON_VRAM_ADR);
21371                        		__ld.wi		31808
         02:DD85  A9 40      			lda.l	#31808
         02:DD87  A0 7C      			ldy.h	#31808
21372                        		__call		_spr_pattern.1
         02:DD89  20 3A E8   			call	_spr_pattern.1
21373                        	
21374                        		.dbg	line,	"include\init.c", 969; spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_16x16);
21375                        		__st.umiq	185, _al
         02:DD8C  A9 B9      			lda.l	#185
         02:DD8E  85 F8      			sta	_al
21376                        		__ld.uiq	0
         02:DD90  62         			cla
21377                        		__call		_spr_ctrl.2
         02:DD91  20 50 E8   			call	_spr_ctrl.2
21378                        	
21379                        		.dbg	line,	"include\init.c", 971; spr_x(player_pos_x+8);
21380                        		__ld.wm		_player_pos_x
         02:DD94  AD F7 24   			lda.l	_player_pos_x
         02:DD97  AC F8 24   			ldy.h	_player_pos_x
21381                        		__add.wi	8
         02:DD9A  18         			clc
         02:DD9B  69 08      			adc.l	#8
         02:DD9D  90 01      			bcc	!+
         02:DD9F  C8         			iny
         02:DDA0             	!:
21382                        		__call		_spr_x.1
         02:DDA0  20 1E E8   			call	_spr_x.1
21383                        	
21384                        		.dbg	line,	"include\init.c", 972; spr_y(player_pos_y+16);
21385                        		__ld.wm		_player_pos_y
         02:DDA3  AD F9 24   			lda.l	_player_pos_y
         02:DDA6  AC FA 24   			ldy.h	_player_pos_y
21386                        		__add.wi	16
         02:DDA9  18         			clc
         02:DDAA  69 10      			adc.l	#16
         02:DDAC  90 01      			bcc	!+
         02:DDAE  C8         			iny
         02:DDAF             	!:
21387                        		__call		_spr_y.1
         02:DDAF  20 2D E8   			call	_spr_y.1
21388                        	
21389                        		.dbg	line,	"include\init.c", 973; spr_pri(TRUE);
21390                        		__ld.uiq	1
         02:DDB2  A9 01      			lda	#1
21391                        		__call		_spr_pri.1
         02:DDB4  20 70 E8   			call	_spr_pri.1
21392                        	
21393                        		.dbg	line,	"include\init.c", 975; // WEAPON 4 USES PAL2
21394                        	
21395                        		.dbg	line,	"include\init.c", 976; if(weapon_level == 4)
21396                        		__ld.umq	_weapon_level
         02:DDB7  AD 29 23   			lda	_weapon_level
21397                        		__equ_b.uiq	4
         02:DDBA  C9 04      			cmp	#4
         02:DDBC  F0 01      			beq	!+
         02:DDBE  18         			clc
         02:DDBF             	!:
21398                        		__bfalse	.LL1027
         02:DDBF  90 07      			bcc	.LL1027
21399                        	
21400                        		.dbg	line,	"include\init.c", 977; {
21401                        	
21402                        		.dbg	line,	"include\init.c", 978; spr_pal(2);
21403                        		__ld.uiq	2
         02:DDC1  A9 02      			lda	#2
21404                        		__call		_spr_pal.1
         02:DDC3  20 61 E8   			call	_spr_pal.1
21405                        	
21406                        		.dbg	line,	"include\init.c", 979; }
21407                        	
21408                        		.dbg	line,	"include\init.c", 980; // ALL OTHERS USE PAL0
21409                        	
21410                        		.dbg	line,	"include\init.c", 981; else
21411                        		__bra		.LL1028
         02:DDC6  80 04      			bra	.LL1028
21412    02:DDC8             	.LL1027:
21413                        	
21414                        		.dbg	line,	"include\init.c", 982; {
21415                        	
21416                        		.dbg	line,	"include\init.c", 983; spr_pal(0);
21417                        		__ld.uiq	0
         02:DDC8  62         			cla
21418                        		__call		_spr_pal.1
         02:DDC9  20 61 E8   			call	_spr_pal.1
21419                        	
21420                        		.dbg	line,	"include\init.c", 984; }
21421    02:DDCC             	.LL1028:
21422                        	
21423                        		.dbg	line,	"include\init.c", 985; 
21424                        	
21425                        		.dbg	line,	"include\init.c", 986; 
21426                        	
21427                        		.dbg	line,	"include\init.c", 989; //--------------------------------------------------------------------------------------//
21428                        	
21429                        		.dbg	line,	"include\init.c", 990; //                                       OBJECTS                                        //
21430                        	
21431                        		.dbg	line,	"include\init.c", 991; //--------------------------------------------------------------------------------------//
21432                        	
21433                        		.dbg	line,	"include\init.c", 993; load_OBJECT_TILES();
21434                        		__call		_load_OBJECT_TILES
         02:DDCC  20 91 FE   			call	_load_OBJECT_TILES
21435                        	
21436                        		.dbg	line,	"include\init.c", 994; init_OBJECT_LV1();
21437                        		__call		_init_OBJECT_LV1
         02:DDCF  20 87 FE   			call	_init_OBJECT_LV1
21438                        	
21439                        		.dbg	line,	"include\init.c", 995; scroll_object();
21440                        		__call		_scroll_object
         02:DDD2  20 7D FE   			call	_scroll_object
21441                        	
21442                        		.dbg	line,	"include\init.c", 998; //--------------------------------------------------------------------------------------//
21443                        	
21444                        		.dbg	line,	"include\init.c", 999; //                                        CHESTS                                        //
21445                        	
21446                        		.dbg	line,	"include\init.c", 1000; //--------------------------------------------------------------------------------------//
21447                        	
21448                        		.dbg	line,	"include\init.c", 1002; load_CHEST_TILES();
21449                        		__call		_load_CHEST_TILES
         02:DDD5  20 73 FE   			call	_load_CHEST_TILES
21450                        	
21451                        		.dbg	line,	"include\init.c", 1003; init_CHEST_LV1();
21452                        		__call		_init_CHEST_LV1
         02:DDD8  20 69 FE   			call	_init_CHEST_LV1
21453                        	
21454                        		.dbg	line,	"include\init.c", 1004; scroll_chest();
21455                        		__call		_scroll_chest
         02:DDDB  20 5F FE   			call	_scroll_chest
21456                        	
21457                        		.dbg	line,	"include\init.c", 1007; //--------------------------------------------------------------------------------------//
21458                        	
21459                        		.dbg	line,	"include\init.c", 1008; //                                         NPCS                                         //
21460                        	
21461                        		.dbg	line,	"include\init.c", 1009; //--------------------------------------------------------------------------------------//
21462                        	
21463                        		.dbg	line,	"include\init.c", 1011; load_NPC_TILES();
21464                        		__call		_load_NPC_TILES
         02:DDDE  20 55 FE   			call	_load_NPC_TILES
21465                        	
21466                        		.dbg	line,	"include\init.c", 1012; init_NPC_LV1();
21467                        		__call		_init_NPC_LV1
         02:DDE1  20 4B FE   			call	_init_NPC_LV1
21468                        	
21469                        		.dbg	line,	"include\init.c", 1017; //--------------------------------------------------------------------------------------//
21470                        	
21471                        		.dbg	line,	"include\init.c", 1018; //                                       ENEMIES                                        //
21472                        	
21473                        		.dbg	line,	"include\init.c", 1019; //--------------------------------------------------------------------------------------//
21474                        	
21475                        		.dbg	line,	"include\init.c", 1021; load_vram(ORC_VRAM_ADR, tiles_SPR_ORC , SIZEOF(tiles_SPR_ORC) >> 1);
21476                        		__st.wmiq	12544, _di
         02:DDE4  64 F0      			stz.l	_di
         02:DDE6  A9 31      			lda.h	#12544
         02:DDE8  85 F1      			sta.h	_di
21477                        		__farptr	_tiles_SPR_ORC, _bp_bank, _bp
         02:DDEA  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_ORC))
         02:DDEC  85 EC      			sta.l	_bp
         02:DDEE  A9 6C      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_ORC))
         02:DDF0  85 ED      			sta.h	_bp
         02:DDF2  A9 1B      			lda	#bank(_tiles_SPR_ORC)
         02:DDF4  85 02      			sta	_bp_bank
21478                        		__ld.wi		___sizeof__tiles_SPR_ORC
         02:DDF6  A9 00      			lda.l	#___sizeof__tiles_SPR_ORC
         02:DDF8  A0 1D      			ldy.h	#___sizeof__tiles_SPR_ORC
21479                        		__lsr.wi	1
         02:DDFA  42         			say
         02:DDFB  4A         			lsr	a
         02:DDFC  42         			say
         02:DDFD  6A         			ror	a
21480                        		__st.wmq	_ax
         02:DDFE  85 F8      			sta.l	_ax
         02:DE00  84 F9      			sty.h	_ax
21481                        		 _load_vram.3
         02:DE02  82         			clx				; Offset to PCE VDC.
         02:DE03  20 FF FE   			call	load_vram_x
21482                        	
21483                        		.dbg	line,	"include\init.c", 1022; load_vram(SERPENT_VRAM_ADR, tiles_SPR_SERPENT , TILES_96);
21484                        		__st.wmiq	16256, _di
         02:DE06  A9 80      			lda.l	#16256
         02:DE08  85 F0      			sta.l	_di
         02:DE0A  A9 3F      			lda.h	#16256
         02:DE0C  85 F1      			sta.h	_di
21485                        		__farptr	_tiles_SPR_SERPENT, _bp_bank, _bp
         02:DE0E  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_SERPENT))
         02:DE10  85 EC      			sta.l	_bp
         02:DE12  A9 69      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_SERPENT))
         02:DE14  85 ED      			sta.h	_bp
         02:DE16  A9 1C      			lda	#bank(_tiles_SPR_SERPENT)
         02:DE18  85 02      			sta	_bp_bank
21486                        		__st.wmiq	1536, _ax
         02:DE1A  64 F8      			stz.l	_ax
         02:DE1C  A9 06      			lda.h	#1536
         02:DE1E  85 F9      			sta.h	_ax
21487                        		 _load_vram.3
         02:DE20  82         			clx				; Offset to PCE VDC.
         02:DE21  20 FF FE   			call	load_vram_x
21488                        	
21489                        		.dbg	line,	"include\init.c", 1023; load_vram(PLANT_VRAM_ADR, tiles_SPR_PLANT , TILES_160);
21490                        		__st.wmiq	17792, _di
         02:DE24  A9 80      			lda.l	#17792
         02:DE26  85 F0      			sta.l	_di
         02:DE28  A9 45      			lda.h	#17792
         02:DE2A  85 F1      			sta.h	_di
21491                        		__farptr	_tiles_SPR_PLANT, _bp_bank, _bp
         02:DE2C  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_PLANT))
         02:DE2E  85 EC      			sta.l	_bp
         02:DE30  A9 75      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_PLANT))
         02:DE32  85 ED      			sta.h	_bp
         02:DE34  A9 1C      			lda	#bank(_tiles_SPR_PLANT)
         02:DE36  85 02      			sta	_bp_bank
21492                        		__st.wmiq	2560, _ax
         02:DE38  64 F8      			stz.l	_ax
         02:DE3A  A9 0A      			lda.h	#2560
         02:DE3C  85 F9      			sta.h	_ax
21493                        		 _load_vram.3
         02:DE3E  82         			clx				; Offset to PCE VDC.
         02:DE3F  20 FF FE   			call	load_vram_x
21494                        	
21495                        		.dbg	line,	"include\init.c", 1028; // UPDATE PCE SAT //
21496                        	
21497                        		.dbg	line,	"include\init.c", 1029; satb_update();
21498                        		__call		_satb_update
         02:DE42  20 D7 FE   			call	_satb_update
21499                        	
21500                        		.dbg	line,	"include\init.c", 1031; // UPDATE SGX SAT //
21501                        	
21502                        		.dbg	line,	"include\init.c", 1032; sgx_satb_update();
21503                        		__call		_sgx_satb_update
         02:DE45  20 9F FF   			call	_sgx_satb_update
21504                        	
21505                        		.dbg	line,	"include\init.c", 1035; //--------------------------------------------------------------------------------------//
21506                        	
21507                        		.dbg	line,	"include\init.c", 1036; //                                LOAD SPRITES PALETTES                                 //
21508                        	
21509                        		.dbg	line,	"include\init.c", 1037; //--------------------------------------------------------------------------------------//
21510                        	
21511                        		.dbg	line,	"include\init.c", 1039; if(armor_level == 8)
21512                        		__ld.umq	_armor_level
         02:DE48  AD 28 23   			lda	_armor_level
21513                        		__equ_b.uiq	8
         02:DE4B  C9 08      			cmp	#8
         02:DE4D  F0 01      			beq	!+
         02:DE4F  18         			clc
         02:DE50             	!:
21514                        		__bfalse	.LL1029
         02:DE50  90 19      			bcc	.LL1029
21515                        	
21516                        		.dbg	line,	"include\init.c", 1040; {
21517                        	
21518                        		.dbg	line,	"include\init.c", 1041; load_palette( 16, palette_PLAYER_8, 1 );
21519                        		__st.umiq	16, _al
         02:DE52  A9 10      			lda.l	#16
         02:DE54  85 F8      			sta	_al
21520                        		__farptr	_palette_PLAYER_8, _bp_bank, _bp
         02:DE56  A9 C0      			lda.l	#$6000 + ($1FFF & (_palette_PLAYER_8))
         02:DE58  85 EC      			sta.l	_bp
         02:DE5A  A9 6F      			lda.h	#$6000 + ($1FFF & (_palette_PLAYER_8))
         02:DE5C  85 ED      			sta.h	_bp
         02:DE5E  A9 19      			lda	#bank(_palette_PLAYER_8)
         02:DE60  85 02      			sta	_bp_bank
21521                        		__st.umiq	1, _ah
         02:DE62  A9 01      			lda.l	#1
         02:DE64  85 F9      			sta	_ah
21522                        		__call		_load_palette.3
         02:DE66  20 81 FF   			call	_load_palette.3
21523                        	
21524                        		.dbg	line,	"include\init.c", 1042; }
21525                        	
21526                        		.dbg	line,	"include\init.c", 1044; else if(armor_level == 5)
21527                        		__bra		.LL1030
         02:DE69  80 5D      			bra	.LL1030
21528    02:DE6B             	.LL1029:
21529                        		__ld.umq	_armor_level
         02:DE6B  AD 28 23   			lda	_armor_level
21530                        		__equ_b.uiq	5
         02:DE6E  C9 05      			cmp	#5
         02:DE70  F0 01      			beq	!+
         02:DE72  18         			clc
         02:DE73             	!:
21531                        		__bfalse	.LL1031
         02:DE73  90 19      			bcc	.LL1031
21532                        	
21533                        		.dbg	line,	"include\init.c", 1045; {
21534                        	
21535                        		.dbg	line,	"include\init.c", 1046; load_palette( 16, palette_PLAYER_5, 1 );
21536                        		__st.umiq	16, _al
         02:DE75  A9 10      			lda.l	#16
         02:DE77  85 F8      			sta	_al
21537                        		__farptr	_palette_PLAYER_5, _bp_bank, _bp
         02:DE79  A9 C0      			lda.l	#$6000 + ($1FFF & (_palette_PLAYER_5))
         02:DE7B  85 EC      			sta.l	_bp
         02:DE7D  A9 6D      			lda.h	#$6000 + ($1FFF & (_palette_PLAYER_5))
         02:DE7F  85 ED      			sta.h	_bp
         02:DE81  A9 19      			lda	#bank(_palette_PLAYER_5)
         02:DE83  85 02      			sta	_bp_bank
21538                        		__st.umiq	1, _ah
         02:DE85  A9 01      			lda.l	#1
         02:DE87  85 F9      			sta	_ah
21539                        		__call		_load_palette.3
         02:DE89  20 81 FF   			call	_load_palette.3
21540                        	
21541                        		.dbg	line,	"include\init.c", 1047; }
21542                        	
21543                        		.dbg	line,	"include\init.c", 1049; else if(armor_level == 4)
21544                        		__bra		.LL1032
         02:DE8C  80 3A      			bra	.LL1032
21545    02:DE8E             	.LL1031:
21546                        		__ld.umq	_armor_level
         02:DE8E  AD 28 23   			lda	_armor_level
21547                        		__equ_b.uiq	4
         02:DE91  C9 04      			cmp	#4
         02:DE93  F0 01      			beq	!+
         02:DE95  18         			clc
         02:DE96             	!:
21548                        		__bfalse	.LL1033
         02:DE96  90 19      			bcc	.LL1033
21549                        	
21550                        		.dbg	line,	"include\init.c", 1050; {
21551                        	
21552                        		.dbg	line,	"include\init.c", 1051; load_palette( 16, palette_PLAYER_4, 1 );
21553                        		__st.umiq	16, _al
         02:DE98  A9 10      			lda.l	#16
         02:DE9A  85 F8      			sta	_al
21554                        		__farptr	_palette_PLAYER_4, _bp_bank, _bp
         02:DE9C  A9 C0      			lda.l	#$6000 + ($1FFF & (_palette_PLAYER_4))
         02:DE9E  85 EC      			sta.l	_bp
         02:DEA0  A9 6B      			lda.h	#$6000 + ($1FFF & (_palette_PLAYER_4))
         02:DEA2  85 ED      			sta.h	_bp
         02:DEA4  A9 19      			lda	#bank(_palette_PLAYER_4)
         02:DEA6  85 02      			sta	_bp_bank
21555                        		__st.umiq	1, _ah
         02:DEA8  A9 01      			lda.l	#1
         02:DEAA  85 F9      			sta	_ah
21556                        		__call		_load_palette.3
         02:DEAC  20 81 FF   			call	_load_palette.3
21557                        	
21558                        		.dbg	line,	"include\init.c", 1052; }
21559                        	
21560                        		.dbg	line,	"include\init.c", 1054; else
21561                        		__bra		.LL1034
         02:DEAF  80 17      			bra	.LL1034
21562    02:DEB1             	.LL1033:
21563                        	
21564                        		.dbg	line,	"include\init.c", 1055; {
21565                        	
21566                        		.dbg	line,	"include\init.c", 1056; load_palette( 16, palette_PLAYER_1, 1 );
21567                        		__st.umiq	16, _al
         02:DEB1  A9 10      			lda.l	#16
         02:DEB3  85 F8      			sta	_al
21568                        		__farptr	_palette_PLAYER_1, _bp_bank, _bp
         02:DEB5  A9 C0      			lda.l	#$6000 + ($1FFF & (_palette_PLAYER_1))
         02:DEB7  85 EC      			sta.l	_bp
         02:DEB9  A9 69      			lda.h	#$6000 + ($1FFF & (_palette_PLAYER_1))
         02:DEBB  85 ED      			sta.h	_bp
         02:DEBD  A9 19      			lda	#bank(_palette_PLAYER_1)
         02:DEBF  85 02      			sta	_bp_bank
21569                        		__st.umiq	1, _ah
         02:DEC1  A9 01      			lda.l	#1
         02:DEC3  85 F9      			sta	_ah
21570                        		__call		_load_palette.3
         02:DEC5  20 81 FF   			call	_load_palette.3
21571                        	
21572                        		.dbg	line,	"include\init.c", 1057; }
21573    02:DEC8             	.LL1034:
21574    02:DEC8             	.LL1032:
21575    02:DEC8             	.LL1030:
21576                        	
21577                        		.dbg	line,	"include\init.c", 1060; load_palette( 17, palette_objects_1,   1 );
21578                        		__st.umiq	17, _al
         02:DEC8  A9 11      			lda.l	#17
         02:DECA  85 F8      			sta	_al
21579                        		__farptr	_palette_objects_1, _bp_bank, _bp
         02:DECC  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_objects_1))
         02:DECE  85 EC      			sta.l	_bp
         02:DED0  A9 7A      			lda.h	#$6000 + ($1FFF & (_palette_objects_1))
         02:DED2  85 ED      			sta.h	_bp
         02:DED4  A9 1A      			lda	#bank(_palette_objects_1)
         02:DED6  85 02      			sta	_bp_bank
21580                        		__st.umiq	1, _ah
         02:DED8  A9 01      			lda.l	#1
         02:DEDA  85 F9      			sta	_ah
21581                        		__call		_load_palette.3
         02:DEDC  20 81 FF   			call	_load_palette.3
21582                        	
21583                        		.dbg	line,	"include\init.c", 1061; load_palette( 18, palette_objects_2,   1 );
21584                        		__st.umiq	18, _al
         02:DEDF  A9 12      			lda.l	#18
         02:DEE1  85 F8      			sta	_al
21585                        		__farptr	_palette_objects_2, _bp_bank, _bp
         02:DEE3  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_objects_2))
         02:DEE5  85 EC      			sta.l	_bp
         02:DEE7  A9 7C      			lda.h	#$6000 + ($1FFF & (_palette_objects_2))
         02:DEE9  85 ED      			sta.h	_bp
         02:DEEB  A9 1A      			lda	#bank(_palette_objects_2)
         02:DEED  85 02      			sta	_bp_bank
21586                        		__st.umiq	1, _ah
         02:DEEF  A9 01      			lda.l	#1
         02:DEF1  85 F9      			sta	_ah
21587                        		__call		_load_palette.3
         02:DEF3  20 81 FF   			call	_load_palette.3
21588                        	
21589                        		.dbg	line,	"include\init.c", 1062; load_palette( 19, palette_SPR_ORC,  1 );
21590                        		__st.umiq	19, _al
         02:DEF6  A9 13      			lda.l	#19
         02:DEF8  85 F8      			sta	_al
21591                        		__farptr	_palette_SPR_ORC, _bp_bank, _bp
         02:DEFA  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_SPR_ORC))
         02:DEFC  85 EC      			sta.l	_bp
         02:DEFE  A9 6F      			lda.h	#$6000 + ($1FFF & (_palette_SPR_ORC))
         02:DF00  85 ED      			sta.h	_bp
         02:DF02  A9 1D      			lda	#bank(_palette_SPR_ORC)
         02:DF04  85 02      			sta	_bp_bank
21592                        		__st.umiq	1, _ah
         02:DF06  A9 01      			lda.l	#1
         02:DF08  85 F9      			sta	_ah
21593                        		__call		_load_palette.3
         02:DF0A  20 81 FF   			call	_load_palette.3
21594                        	
21595                        		.dbg	line,	"include\init.c", 1063; load_palette( 20, palette_SPR_PLANT,   1 );
21596                        		__st.umiq	20, _al
         02:DF0D  A9 14      			lda.l	#20
         02:DF0F  85 F8      			sta	_al
21597                        		__farptr	_palette_SPR_PLANT, _bp_bank, _bp
         02:DF11  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_SPR_PLANT))
         02:DF13  85 EC      			sta.l	_bp
         02:DF15  A9 71      			lda.h	#$6000 + ($1FFF & (_palette_SPR_PLANT))
         02:DF17  85 ED      			sta.h	_bp
         02:DF19  A9 1D      			lda	#bank(_palette_SPR_PLANT)
         02:DF1B  85 02      			sta	_bp_bank
21598                        		__st.umiq	1, _ah
         02:DF1D  A9 01      			lda.l	#1
         02:DF1F  85 F9      			sta	_ah
21599                        		__call		_load_palette.3
         02:DF21  20 81 FF   			call	_load_palette.3
21600                        	
21601                        		.dbg	line,	"include\init.c", 1068; // VSYNC //
21602                        	
21603                        		.dbg	line,	"include\init.c", 1069; vsync();
21604                        		__call		_vsync
         02:DF24  20 1D E3   			call	_vsync
21605                        	
21606                        		.dbg	line,	"include\init.c", 1071; // ENABLE DISPLAY //
21607                        	
21608                        		.dbg	line,	"include\init.c", 1072; disp_on();
21609                        		__call		_disp_on
         02:DF27  20 2A E4   			call	_disp_on
21610                        	
21611                        		.dbg	line,	"include\init.c", 1073; }
21612                        	
21613                        		.dbg	line,	"include\init.c", 1074; }
21614    02:DF2A             	.LL1003:
21615    02:DF2A             	.LL1002:
21616                        		__return	0
         02:DF2A  4C EF FF   			jmp	leave_proc
21617                        		.dbg	clear
21618                        		.endp
21619               2310     		.bss
21620    F8:2310             			ds	1
21621    F8:2311             	__init_LEVEL_end:
21622               E31D     		.code
21623                        		.pceas
21624                        	
21625                        		.dbg	line,	"include\init.c", 1077; void init_SHOP()
21626                        		.dbg	line,	"include\init.c", 1078; {
21627                        	;***********************
21628                        	;***********************
21629                        	
21630                        		.hucc
21631    1E:CDED             		.proc		_init_SHOP
21632                        		__enter		_init_SHOP
21633                        	
21634                        		.dbg	line,	"include\init.c", 1079; char i;
21635                        	
21636                        		.dbg	line,	"include\init.c", 1080; char item_id;
21637                        	
21638                        		.dbg	line,	"include\init.c", 1083; // DISABLE DISPLAY //
21639                        	
21640                        		.dbg	line,	"include\init.c", 1084; disp_off();
21641                        		__call		_disp_off
         1E:CDED  20 3D E4   			call	_disp_off
21642                        	
21643                        		.dbg	line,	"include\init.c", 1085; 
21644                        	
21645                        		.dbg	line,	"include\init.c", 1087; // VSYNC //
21646                        	
21647                        		.dbg	line,	"include\init.c", 1088; vsync();
21648                        		__call		_vsync
         1E:CDF0  20 1D E3   			call	_vsync
21649                        	
21650                        		.dbg	line,	"include\init.c", 1091; // HIDE ALL LEVEL SPRITES //
21651                        	
21652                        		.dbg	line,	"include\init.c", 1092; hide_LEVEL_SPRITES();
21653                        		__call		_hide_LEVEL_SPRITES
         1E:CDF3  20 41 FE   			call	_hide_LEVEL_SPRITES
21654                        	
21655                        		.dbg	line,	"include\init.c", 1095; // SET VDC 1 SCREEN SIZE (IN TILES) - 32x32 = 256 PIXELS
21656                        	
21657                        		.dbg	line,	"include\init.c", 1096; set_screen_size(SCR_SIZE_64x32);
21658                        		__st.umiq	1, _al
         1E:CDF6  A9 01      			lda.l	#1
         1E:CDF8  85 F8      			sta	_al
21659                        		__call		_set_screen_size.1
         1E:CDFA  20 EB FE   			call	_set_screen_size.1
21660                        	
21661                        		.dbg	line,	"include\init.c", 1099; // SET VDC 2 SCREEN SIZE (IN TILES) - 32x32 = 256 PIXELS
21662                        	
21663                        		.dbg	line,	"include\init.c", 1100; sgx_set_screen_size(SCR_SIZE_32x32);
21664                        		__st.umiq	0, _al
         1E:CDFD  64 F8      			stz	_al
21665                        		__call		_sgx_set_screen_size.1
         1E:CDFF  20 E1 FE   			call	_sgx_set_screen_size.1
21666                        	
21667                        		.dbg	line,	"include\init.c", 1105; //**************************************************************************************//
21668                        	
21669                        		.dbg	line,	"include\init.c", 1106; //                                                                                      //
21670                        	
21671                        		.dbg	line,	"include\init.c", 1107; //                                      VARIABLES                                       //
21672                        	
21673                        		.dbg	line,	"include\init.c", 1108; //                                                                                      //
21674                        	
21675                        		.dbg	line,	"include\init.c", 1109; //**************************************************************************************//
21676                        	
21677                        		.dbg	line,	"include\init.c", 1111; index_x = 0;
21678                        		__st.umiq	0, _index_x
         1E:CE02  9C F1 23   			stz	_index_x
21679                        	
21680                        		.dbg	line,	"include\init.c", 1112; index_y = 0;
21681                        		__st.umiq	0, _index_y
         1E:CE05  9C F2 23   			stz	_index_y
21682                        	
21683                        		.dbg	line,	"include\init.c", 1113; item_index = 0;
21684                        		__st.umiq	0, _item_index
         1E:CE08  9C F3 23   			stz	_item_index
21685                        	
21686                        		.dbg	line,	"include\init.c", 1115; minutes = 0;
21687                        		__st.umiq	0, _minutes
         1E:CE0B  9C 32 23   			stz	_minutes
21688                        	
21689                        		.dbg	line,	"include\init.c", 1116; seconds = 30;
21690                        		__st.umiq	30, _seconds
         1E:CE0E  A9 1E      			lda.l	#30
         1E:CE10  8D 33 23   			sta	_seconds
21691                        	
21692                        		.dbg	line,	"include\init.c", 1118; shop_counter = 0;
21693                        		__st.umiq	0, _shop_counter
         1E:CE13  9C F5 23   			stz	_shop_counter
21694                        	
21695                        		.dbg	line,	"include\init.c", 1119; shop_phase = SHOP_PHASE_ENTER;
21696                        		__st.umiq	0, _shop_phase
         1E:CE16  9C F4 23   			stz	_shop_phase
21697                        	
21698                        		.dbg	line,	"include\init.c", 1121; if(level_id == 1)
21699                        		__ld.umq	_level_id
         1E:CE19  AD 15 23   			lda	_level_id
21700                        		__equ_b.uiq	1
         1E:CE1C  C9 01      			cmp	#1
         1E:CE1E  F0 01      			beq	!+
         1E:CE20  18         			clc
         1E:CE21             	!:
21701                        		__bfalse	.LL1036
         1E:CE21  90 0A      			bcc	.LL1036
21702                        	
21703                        		.dbg	line,	"include\init.c", 1122; {
21704                        	
21705                        		.dbg	line,	"include\init.c", 1123; ptr_SHOP_ITEM_PRICES = &TABLE_SHOP_PRICES_LV1[0];
21706                        		__ld.wi		_TABLE_SHOP_PRICES_LV1
         1E:CE23  A9 F6      			lda.l	#_TABLE_SHOP_PRICES_LV1
         1E:CE25  A0 62      			ldy.h	#_TABLE_SHOP_PRICES_LV1
21707                        		__st.wmq	_ptr_SHOP_ITEM_PRICES
         1E:CE27  8D 94 26   			sta.l	_ptr_SHOP_ITEM_PRICES
         1E:CE2A  8C 95 26   			sty.h	_ptr_SHOP_ITEM_PRICES
21708                        	
21709                        		.dbg	line,	"include\init.c", 1124; }
21710                        	
21711                        		.dbg	line,	"include\init.c", 1125; 
21712                        	
21713                        		.dbg	line,	"include\init.c", 1130; //**************************************************************************************//
21714                        	
21715                        		.dbg	line,	"include\init.c", 1131; //                                                                                      //
21716                        	
21717                        		.dbg	line,	"include\init.c", 1132; //                                        VDC 2                                         //
21718                        	
21719                        		.dbg	line,	"include\init.c", 1133; //                                                                                      //
21720                        	
21721                        		.dbg	line,	"include\init.c", 1134; //**************************************************************************************//
21722                        	
21723                        		.dbg	line,	"include\init.c", 1136; //--------------------------------------------------------------------------------------//
21724                        	
21725                        		.dbg	line,	"include\init.c", 1137; //                                      LOAD FONT                                       //
21726                        	
21727                        		.dbg	line,	"include\init.c", 1138; //--------------------------------------------------------------------------------------//
21728                        	
21729                        		.dbg	line,	"include\init.c", 1140; load_vram( 0x0800, tileset_FONT, SIZEOF(tileset_FONT) >> 1 );
21730    1E:CE2D             	.LL1036:
21731                        		__st.wmiq	2048, _di
         1E:CE2D  64 F0      			stz.l	_di
         1E:CE2F  A9 08      			lda.h	#2048
         1E:CE31  85 F1      			sta.h	_di
21732                        		__farptr	_tileset_FONT, _bp_bank, _bp
         1E:CE33  A9 E0      			lda.l	#$6000 + ($1FFF & (_tileset_FONT))
         1E:CE35  85 EC      			sta.l	_bp
         1E:CE37  A9 7C      			lda.h	#$6000 + ($1FFF & (_tileset_FONT))
         1E:CE39  85 ED      			sta.h	_bp
         1E:CE3B  A9 06      			lda	#bank(_tileset_FONT)
         1E:CE3D  85 02      			sta	_bp_bank
21733                        		__ld.wi		___sizeof__tileset_FONT
         1E:CE3F  A9 00      			lda.l	#___sizeof__tileset_FONT
         1E:CE41  A0 0C      			ldy.h	#___sizeof__tileset_FONT
21734                        		__lsr.wi	1
         1E:CE43  42         			say
         1E:CE44  4A         			lsr	a
         1E:CE45  42         			say
         1E:CE46  6A         			ror	a
21735                        		__st.wmq	_ax
         1E:CE47  85 F8      			sta.l	_ax
         1E:CE49  84 F9      			sty.h	_ax
21736                        		 _load_vram.3
         1E:CE4B  82         			clx				; Offset to PCE VDC.
         1E:CE4C  20 FF FE   			call	load_vram_x
21737                        	
21738                        		.dbg	line,	"include\init.c", 1142; set_font_pal(15);
21739                        		__ld.uiq	15
         1E:CE4F  A9 0F      			lda	#15
21740                        		__call		_set_font_pal.1
         1E:CE51  20 00 E6   			call	_set_font_pal.1
21741                        	
21742                        		.dbg	line,	"include\init.c", 1145; //--------------------------------------------------------------------------------------//
21743                        	
21744                        		.dbg	line,	"include\init.c", 1146; //                                    LOAD TILESET                                      //
21745                        	
21746                        		.dbg	line,	"include\init.c", 1147; //--------------------------------------------------------------------------------------//
21747                        	
21748                        		.dbg	line,	"include\init.c", 1149; sgx_load_vram( 0x1000, tileset_SHOP_BG_B, SIZEOF(tileset_SHOP_BG_B) >> 1 );
21749                        		__st.wmiq	4096, _di
         1E:CE54  64 F0      			stz.l	_di
         1E:CE56  A9 10      			lda.h	#4096
         1E:CE58  85 F1      			sta.h	_di
21750                        		__farptr	_tileset_SHOP_BG_B, _bp_bank, _bp
         1E:CE5A  A9 A0      			lda.l	#$6000 + ($1FFF & (_tileset_SHOP_BG_B))
         1E:CE5C  85 EC      			sta.l	_bp
         1E:CE5E  A9 62      			lda.h	#$6000 + ($1FFF & (_tileset_SHOP_BG_B))
         1E:CE60  85 ED      			sta.h	_bp
         1E:CE62  A9 10      			lda	#bank(_tileset_SHOP_BG_B)
         1E:CE64  85 02      			sta	_bp_bank
21751                        		__ld.wi		___sizeof__tileset_SHOP_BG_B
         1E:CE66  A9 60      			lda.l	#___sizeof__tileset_SHOP_BG_B
         1E:CE68  A0 39      			ldy.h	#___sizeof__tileset_SHOP_BG_B
21752                        		__lsr.wi	1
         1E:CE6A  42         			say
         1E:CE6B  4A         			lsr	a
         1E:CE6C  42         			say
         1E:CE6D  6A         			ror	a
21753                        		__st.wmq	_ax
         1E:CE6E  85 F8      			sta.l	_ax
         1E:CE70  84 F9      			sty.h	_ax
21754                        		 _sgx_load_vram.3
         1E:CE72  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:CE74  20 FF FE   			call	load_vram_x
21755                        	
21756                        		.dbg	line,	"include\init.c", 1152; //--------------------------------------------------------------------------------------//
21757                        	
21758                        		.dbg	line,	"include\init.c", 1153; //                                      LOAD ITEMS                                      //
21759                        	
21760                        		.dbg	line,	"include\init.c", 1154; //--------------------------------------------------------------------------------------//
21761                        	
21762                        		.dbg	line,	"include\init.c", 1156; for(i=0 ; i<10 ; i++)
21763                        		__st.umiq	0, __init_SHOP_end - 1  /* i */
         1E:CE77  9C 12 23   			stz	__init_SHOP_end - 1
21764    1E:CE7A             	.LL1037:
21765                        		__ld.umq	__init_SHOP_end - 1  /* i */
         1E:CE7A  AD 12 23   			lda	__init_SHOP_end - 1
21766                        		__ult_b.uiq	10
         1E:CE7D  C9 0A      			cmp	#10		; Subtract integer from A.
         1E:CE7F  6A         			ror	a		; CC if A < integer.
         1E:CE80  49 80      			eor	#$80
         1E:CE82  2A         			rol	a
21767                        		__btrue		.LL1039
         1E:CE83  B0 07      			bcs	.LL1039
21768                        		__bra		.LL1040
         1E:CE85  80 42      			bra	.LL1040
21769    1E:CE87             	.LL1038:
21770                        		__inc.umq	__init_SHOP_end - 1  /* i */
         1E:CE87  EE 12 23   			inc	__init_SHOP_end - 1
21771                        		__bra		.LL1037
         1E:CE8A  80 EE      			bra	.LL1037
21772    1E:CE8C             	.LL1039:
21773                        	
21774                        		.dbg	line,	"include\init.c", 1157; {
21775                        	
21776                        		.dbg	line,	"include\init.c", 1158; set_far_base(TABLE_SHOP_ITEMS_TILES_BANK[i],TABLE_SHOP_ITEMS_TILES_ADR[i]);
21777                        		__ldx.umq	__init_SHOP_end - 1  /* i */
         1E:CE8C  AE 12 23   			ldx	__init_SHOP_end - 1
21778                        		__ld.uax	_TABLE_SHOP_ITEMS_TILES_BANK
         1E:CE8F  BD 1E 63   			lda	_TABLE_SHOP_ITEMS_TILES_BANK, x
         1E:CE92  C2         			cly
21779                        		__st.umq	_bp_bank
         1E:CE93  85 02      			sta	_bp_bank
21780                        		__ld2x.umq	__init_SHOP_end - 1  /* i */
         1E:CE95  AD 12 23   			lda	__init_SHOP_end - 1
         1E:CE98  0A         			asl	a
         1E:CE99  AA         			tax
21781                        		__ld.wax	_TABLE_SHOP_ITEMS_TILES_ADR
         1E:CE9A  BD 0A 63   			lda.l	_TABLE_SHOP_ITEMS_TILES_ADR, x
         1E:CE9D  BC 0B 63   			ldy.h	_TABLE_SHOP_ITEMS_TILES_ADR, x
21782                        		__st.wmq	_bp
         1E:CEA0  85 EC      			sta.l	_bp
         1E:CEA2  84 ED      			sty.h	_bp
21783                        	
21784                        		.dbg	line,	"include\init.c", 1159; sgx_far_load_vram( 0x1000 + (i * TILES_4), TILES_4 );
21785                        		__ld.um		__init_SHOP_end - 1  /* i */
         1E:CEA4  AD 12 23   			lda	__init_SHOP_end - 1
         1E:CEA7  C2         			cly
21786                        		__asl.wi	6
         1E:CEA8  85 00      			sta	__temp
         1E:CEAA  98         			tya
         1E:CEAB  4A         			lsr	a
         1E:CEAC  20 CB E1   			jsr	aslw6
         1E:CEAF  29 C0      			and.l	#$FF << 6
21787                        		__add.wi	4096
         1E:CEB1  18         			clc
         1E:CEB2  69 00      			adc.l	#4096
         1E:CEB4  42         			say
         1E:CEB5  69 10      			adc.h	#4096
         1E:CEB7  42         			say
21788                        		__st.wmq	_di
         1E:CEB8  85 F0      			sta.l	_di
         1E:CEBA  84 F1      			sty.h	_di
21789                        		__st.wmiq	64, _ax
         1E:CEBC  A9 40      			lda.l	#64
         1E:CEBE  85 F8      			sta.l	_ax
         1E:CEC0  64 F9      			stz.h	_ax
21790                        		 _sgx_far_load_vram.2
         1E:CEC2  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
         1E:CEC4  20 FF FE   			call	load_vram_x
21791                        	
21792                        		.dbg	line,	"include\init.c", 1160; }
21793                        		__bra		.LL1038
         1E:CEC7  80 BE      			bra	.LL1038
21794    1E:CEC9             	.LL1040:
21795                        	
21796                        		.dbg	line,	"include\init.c", 1163; //--------------------------------------------------------------------------------------//
21797                        	
21798                        		.dbg	line,	"include\init.c", 1164; //                                      SET BLOCKS                                      //
21799                        	
21800                        		.dbg	line,	"include\init.c", 1165; //--------------------------------------------------------------------------------------//
21801                        	
21802                        		.dbg	line,	"include\init.c", 1167; sgx_set_blocks( blocks_SHOP_BG_B , tilemap_mask , 256 );
21803                        		__farptr	_blocks_SHOP_BG_B, sgx_blk_bank, sgx_blk_addr
         1E:CEC9  A9 00      			lda.l	#$6000 + ($1FFF & (_blocks_SHOP_BG_B))
         1E:CECB  8D 12 2C   			sta.l	sgx_blk_addr
         1E:CECE  A9 60      			lda.h	#$6000 + ($1FFF & (_blocks_SHOP_BG_B))
         1E:CED0  8D 13 2C   			sta.h	sgx_blk_addr
         1E:CED3  A9 12      			lda	#bank(_blocks_SHOP_BG_B)
         1E:CED5  8D 14 2C   			sta	sgx_blk_bank
21804                        		__farptr	_tilemap_mask, sgx_tbl_bank, sgx_tbl_addr
         1E:CED8  A9 F7      			lda.l	#$6000 + ($1FFF & (_tilemap_mask))
         1E:CEDA  8D 0F 2C   			sta.l	sgx_tbl_addr
         1E:CEDD  A9 63      			lda.h	#$6000 + ($1FFF & (_tilemap_mask))
         1E:CEDF  8D 10 2C   			sta.h	sgx_tbl_addr
         1E:CEE2  A9 F8      			lda	#bank(_tilemap_mask)
         1E:CEE4  8D 11 2C   			sta	sgx_tbl_bank
21805                        		__st.umiq	256, _al
         1E:CEE7  A9 00      			lda.l	#256
         1E:CEE9  85 F8      			sta	_al
21806                        		__call		_sgx_set_blocks.3
         1E:CEEB  20 37 FE   			call	_sgx_set_blocks.3
21807                        	
21808                        		.dbg	line,	"include\init.c", 1171; //--------------------------------------------------------------------------------------//
21809                        	
21810                        		.dbg	line,	"include\init.c", 1172; //                                       SET MAP                                        //
21811                        	
21812                        		.dbg	line,	"include\init.c", 1173; //--------------------------------------------------------------------------------------//
21813                        	
21814                        		.dbg	line,	"include\init.c", 1175; sgx_set_blkmap( map_SHOP_BG_B, COUNTOF(map_SHOP_BG_B) );
21815                        		__farptr	_map_SHOP_BG_B, sgx_map_bank, sgx_map_addr
         1E:CEEE  A9 00      			lda.l	#$6000 + ($1FFF & (_map_SHOP_BG_B))
         1E:CEF0  8D 15 2C   			sta.l	sgx_map_addr
         1E:CEF3  A9 68      			lda.h	#$6000 + ($1FFF & (_map_SHOP_BG_B))
         1E:CEF5  8D 16 2C   			sta.h	sgx_map_addr
         1E:CEF8  A9 12      			lda	#bank(_map_SHOP_BG_B)
         1E:CEFA  8D 17 2C   			sta	sgx_map_bank
21816                        		__ld.wi		___countof__map_SHOP_BG_B
         1E:CEFD  A9 10      			lda.l	#___countof__map_SHOP_BG_B
         1E:CEFF  A0 00      			ldy.h	#___countof__map_SHOP_BG_B
21817                        		__st.umq	sgx_map_line_w
         1E:CF01  8D D8 26   			sta	sgx_map_line_w
21818                        		 _sgx_set_blkmap.2
         1E:CF04  9C 1A 2C   			stz	sgx_scr_bank
21819                        	
21820                        		.dbg	line,	"include\init.c", 1178; //--------------------------------------------------------------------------------------//
21821                        	
21822                        		.dbg	line,	"include\init.c", 1179; //                                    DRAW TILEMAP                                      //
21823                        	
21824                        		.dbg	line,	"include\init.c", 1180; //--------------------------------------------------------------------------------------//
21825                        	
21826                        		.dbg	line,	"include\init.c", 1182; // The blkmap is drawn using global variables for the top-left coordinate
21827                        	
21828                        		.dbg	line,	"include\init.c", 1183; // in pixels, and the draw width and height in terms of 8x8 characters.
21829                        	
21830                        		.dbg	line,	"include\init.c", 1185; sgx_map_pxl_x = 0;
21831                        		__st.wmiq	0, _sgx_map_pxl_x
         1E:CF07  9C DA 26   			stz.l	_sgx_map_pxl_x
         1E:CF0A  9C DB 26   			stz.h	_sgx_map_pxl_x
21832                        	
21833                        		.dbg	line,	"include\init.c", 1186; sgx_map_pxl_y = 0;
21834                        		__st.wmiq	0, _sgx_map_pxl_y
         1E:CF0D  9C DC 26   			stz.l	_sgx_map_pxl_y
         1E:CF10  9C DD 26   			stz.h	_sgx_map_pxl_y
21835                        	
21836                        		.dbg	line,	"include\init.c", 1188; sgx_map_draw_w = 32;
21837                        		__st.umiq	32, _sgx_map_draw_w
         1E:CF13  A9 20      			lda.l	#32
         1E:CF15  8D D6 26   			sta	_sgx_map_draw_w
21838                        	
21839                        		.dbg	line,	"include\init.c", 1189; sgx_map_draw_h = 28;
21840                        		__st.umiq	28, _sgx_map_draw_h
         1E:CF18  A9 1C      			lda.l	#28
         1E:CF1A  8D D7 26   			sta	_sgx_map_draw_h
21841                        	
21842                        		.dbg	line,	"include\init.c", 1192; //**************************************************************************************//
21843                        	
21844                        		.dbg	line,	"include\init.c", 1193; //                                                                                      //
21845                        	
21846                        		.dbg	line,	"include\init.c", 1194; //                                  SETUP SCROLL_SPLIT                                  //
21847                        	
21848                        		.dbg	line,	"include\init.c", 1195; //                                                                                      //
21849                        	
21850                        		.dbg	line,	"include\init.c", 1196; //**************************************************************************************//
21851                        	
21852                        		.dbg	line,	"include\init.c", 1198; sgx_draw_map();
21853                        		__call		_sgx_draw_map
         1E:CF1D  20 A5 FE   			call	_sgx_draw_map
21854                        	
21855                        		.dbg	line,	"include\init.c", 1200; sgx_scroll_split(0,   0, sgx_map_pxl_x & (BAT_SIZE_W - 1), sgx_map_pxl_y & (BAT_SIZE_H - 1), BKG_ON | SPR_ON);
21856                        		__st.umiq	0, _al
         1E:CF20  64 F8      			stz	_al
21857                        		__st.umiq	0, _ah
         1E:CF22  64 F9      			stz	_ah
21858                        		__ld.wm		_sgx_map_pxl_x
         1E:CF24  AD DA 26   			lda.l	_sgx_map_pxl_x
         1E:CF27  AC DB 26   			ldy.h	_sgx_map_pxl_x
21859                        		__and.wi	2047
         1E:CF2A  29 FF      			and.l	#2047
         1E:CF2C  42         			say
         1E:CF2D  29 07      			and.h	#2047
         1E:CF2F  42         			say
21860                        		__st.wmq	_bx
         1E:CF30  85 FA      			sta.l	_bx
         1E:CF32  84 FB      			sty.h	_bx
21861                        		__ld.wm		_sgx_map_pxl_y
         1E:CF34  AD DC 26   			lda.l	_sgx_map_pxl_y
         1E:CF37  AC DD 26   			ldy.h	_sgx_map_pxl_y
21862                        		__and.wi	255
         1E:CF3A  29 FF      			and	#255
         1E:CF3C  C2         			cly
21863                        		__st.wmq	_cx
         1E:CF3D  85 FC      			sta.l	_cx
         1E:CF3F  84 FD      			sty.h	_cx
21864                        		__st.umiq	192, _dl
         1E:CF41  A9 C0      			lda.l	#192
         1E:CF43  85 FE      			sta	_dl
21865                        		__call		_sgx_scroll_split.5
         1E:CF45  20 4F FF   			call	_sgx_scroll_split.5
21866                        	
21867                        		.dbg	line,	"include\init.c", 1205; //**************************************************************************************//
21868                        	
21869                        		.dbg	line,	"include\init.c", 1206; //                                                                                      //
21870                        	
21871                        		.dbg	line,	"include\init.c", 1207; //                                         HUD                                          //
21872                        	
21873                        		.dbg	line,	"include\init.c", 1208; //                                                                                      //
21874                        	
21875                        		.dbg	line,	"include\init.c", 1209; //**************************************************************************************//
21876                        	
21877                        		.dbg	line,	"include\init.c", 1211; init_HUD();
21878                        		__call		_init_HUD
         1E:CF48  20 9B FE   			call	_init_HUD
21879                        	
21880                        		.dbg	line,	"include\init.c", 1214; //--------------------------------------------------------------------------------------//
21881                        	
21882                        		.dbg	line,	"include\init.c", 1215; //                                     DRAW PRICES                                      //
21883                        	
21884                        		.dbg	line,	"include\init.c", 1216; //--------------------------------------------------------------------------------------//
21885                        	
21886                        		.dbg	line,	"include\init.c", 1218; shop_prices[0] = *(ptr_SHOP_ITEM_PRICES);
21887                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1E:CF4B  AD 94 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1E:CF4E  AC 95 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
21888                        		__st.wm		__ptr
         1E:CF51  85 88      			sta.l	__ptr
         1E:CF53  84 89      			sty.h	__ptr
21889                        		__ld.wp		__ptr
         1E:CF55  A0 01      			ldy	#1
         1E:CF57  B1 88      			lda	[__ptr], y
         1E:CF59  A8         			tay
         1E:CF5A  B2 88      			lda	[__ptr]
21890                        		__st.wmq	_shop_prices
         1E:CF5C  8D 5B 26   			sta.l	_shop_prices
         1E:CF5F  8C 5C 26   			sty.h	_shop_prices
21891                        	
21892                        		.dbg	line,	"include\init.c", 1219; shop_prices[1] = *(ptr_SHOP_ITEM_PRICES+1);
21893                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1E:CF62  AD 94 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1E:CF65  AC 95 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
21894                        		__add.wi	2
         1E:CF68  18         			clc
         1E:CF69  69 02      			adc.l	#2
         1E:CF6B  90 01      			bcc	!+
         1E:CF6D  C8         			iny
         1E:CF6E             	!:
21895                        		__st.wm		__ptr
         1E:CF6E  85 88      			sta.l	__ptr
         1E:CF70  84 89      			sty.h	__ptr
21896                        		__ld.wp		__ptr
         1E:CF72  A0 01      			ldy	#1
         1E:CF74  B1 88      			lda	[__ptr], y
         1E:CF76  A8         			tay
         1E:CF77  B2 88      			lda	[__ptr]
21897                        		__st.wmq	_shop_prices + 2
         1E:CF79  8D 5D 26   			sta.l	_shop_prices + 2
         1E:CF7C  8C 5E 26   			sty.h	_shop_prices + 2
21898                        	
21899                        		.dbg	line,	"include\init.c", 1220; shop_prices[2] = *(ptr_SHOP_ITEM_PRICES+2);
21900                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1E:CF7F  AD 94 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1E:CF82  AC 95 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
21901                        		__add.wi	4
         1E:CF85  18         			clc
         1E:CF86  69 04      			adc.l	#4
         1E:CF88  90 01      			bcc	!+
         1E:CF8A  C8         			iny
         1E:CF8B             	!:
21902                        		__st.wm		__ptr
         1E:CF8B  85 88      			sta.l	__ptr
         1E:CF8D  84 89      			sty.h	__ptr
21903                        		__ld.wp		__ptr
         1E:CF8F  A0 01      			ldy	#1
         1E:CF91  B1 88      			lda	[__ptr], y
         1E:CF93  A8         			tay
         1E:CF94  B2 88      			lda	[__ptr]
21904                        		__st.wmq	_shop_prices + 4
         1E:CF96  8D 5F 26   			sta.l	_shop_prices + 4
         1E:CF99  8C 60 26   			sty.h	_shop_prices + 4
21905                        	
21906                        		.dbg	line,	"include\init.c", 1221; shop_prices[3] = *(ptr_SHOP_ITEM_PRICES+3);
21907                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1E:CF9C  AD 94 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1E:CF9F  AC 95 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
21908                        		__add.wi	6
         1E:CFA2  18         			clc
         1E:CFA3  69 06      			adc.l	#6
         1E:CFA5  90 01      			bcc	!+
         1E:CFA7  C8         			iny
         1E:CFA8             	!:
21909                        		__st.wm		__ptr
         1E:CFA8  85 88      			sta.l	__ptr
         1E:CFAA  84 89      			sty.h	__ptr
21910                        		__ld.wp		__ptr
         1E:CFAC  A0 01      			ldy	#1
         1E:CFAE  B1 88      			lda	[__ptr], y
         1E:CFB0  A8         			tay
         1E:CFB1  B2 88      			lda	[__ptr]
21911                        		__st.wmq	_shop_prices + 6
         1E:CFB3  8D 61 26   			sta.l	_shop_prices + 6
         1E:CFB6  8C 62 26   			sty.h	_shop_prices + 6
21912                        	
21913                        		.dbg	line,	"include\init.c", 1222; shop_prices[4] = *(ptr_SHOP_ITEM_PRICES+4);
21914                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1E:CFB9  AD 94 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1E:CFBC  AC 95 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
21915                        		__add.wi	8
         1E:CFBF  18         			clc
         1E:CFC0  69 08      			adc.l	#8
         1E:CFC2  90 01      			bcc	!+
         1E:CFC4  C8         			iny
         1E:CFC5             	!:
21916                        		__st.wm		__ptr
         1E:CFC5  85 88      			sta.l	__ptr
         1E:CFC7  84 89      			sty.h	__ptr
21917                        		__ld.wp		__ptr
         1E:CFC9  A0 01      			ldy	#1
         1E:CFCB  B1 88      			lda	[__ptr], y
         1E:CFCD  A8         			tay
         1E:CFCE  B2 88      			lda	[__ptr]
21918                        		__st.wmq	_shop_prices + 8
         1E:CFD0  8D 63 26   			sta.l	_shop_prices + 8
         1E:CFD3  8C 64 26   			sty.h	_shop_prices + 8
21919                        	
21920                        		.dbg	line,	"include\init.c", 1223; 
21921                        	
21922                        		.dbg	line,	"include\init.c", 1224; shop_prices[5] = *(ptr_SHOP_ITEM_PRICES+5);
21923                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1E:CFD6  AD 94 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1E:CFD9  AC 95 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
21924                        		__add.wi	10
         1E:CFDC  18         			clc
         1E:CFDD  69 0A      			adc.l	#10
         1E:CFDF  90 01      			bcc	!+
         1E:CFE1  C8         			iny
         1E:CFE2             	!:
21925                        		__st.wm		__ptr
         1E:CFE2  85 88      			sta.l	__ptr
         1E:CFE4  84 89      			sty.h	__ptr
21926                        		__ld.wp		__ptr
         1E:CFE6  A0 01      			ldy	#1
         1E:CFE8  B1 88      			lda	[__ptr], y
         1E:CFEA  A8         			tay
         1E:CFEB  B2 88      			lda	[__ptr]
21927                        		__st.wmq	_shop_prices + 10
         1E:CFED  8D 65 26   			sta.l	_shop_prices + 10
         1E:CFF0  8C 66 26   			sty.h	_shop_prices + 10
21928                        	
21929                        		.dbg	line,	"include\init.c", 1225; shop_prices[6] = *(ptr_SHOP_ITEM_PRICES+6);
21930                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1E:CFF3  AD 94 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1E:CFF6  AC 95 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
21931                        		__add.wi	12
         1E:CFF9  18         			clc
         1E:CFFA  69 0C      			adc.l	#12
         1E:CFFC  90 01      			bcc	!+
         1E:CFFE  C8         			iny
         1E:CFFF             	!:
21932                        		__st.wm		__ptr
         1E:CFFF  85 88      			sta.l	__ptr
         1E:D001  84 89      			sty.h	__ptr
21933                        		__ld.wp		__ptr
         1E:D003  A0 01      			ldy	#1
         1E:D005  B1 88      			lda	[__ptr], y
         1E:D007  A8         			tay
         1E:D008  B2 88      			lda	[__ptr]
21934                        		__st.wmq	_shop_prices + 12
         1E:D00A  8D 67 26   			sta.l	_shop_prices + 12
         1E:D00D  8C 68 26   			sty.h	_shop_prices + 12
21935                        	
21936                        		.dbg	line,	"include\init.c", 1226; shop_prices[7] = *(ptr_SHOP_ITEM_PRICES+7);
21937                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1E:D010  AD 94 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1E:D013  AC 95 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
21938                        		__add.wi	14
         1E:D016  18         			clc
         1E:D017  69 0E      			adc.l	#14
         1E:D019  90 01      			bcc	!+
         1E:D01B  C8         			iny
         1E:D01C             	!:
21939                        		__st.wm		__ptr
         1E:D01C  85 88      			sta.l	__ptr
         1E:D01E  84 89      			sty.h	__ptr
21940                        		__ld.wp		__ptr
         1E:D020  A0 01      			ldy	#1
         1E:D022  B1 88      			lda	[__ptr], y
         1E:D024  A8         			tay
         1E:D025  B2 88      			lda	[__ptr]
21941                        		__st.wmq	_shop_prices + 14
         1E:D027  8D 69 26   			sta.l	_shop_prices + 14
         1E:D02A  8C 6A 26   			sty.h	_shop_prices + 14
21942                        	
21943                        		.dbg	line,	"include\init.c", 1227; shop_prices[8] = *(ptr_SHOP_ITEM_PRICES+8);
21944                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1E:D02D  AD 94 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1E:D030  AC 95 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
21945                        		__add.wi	16
         1E:D033  18         			clc
         1E:D034  69 10      			adc.l	#16
         1E:D036  90 01      			bcc	!+
         1E:D038  C8         			iny
         1E:D039             	!:
21946                        		__st.wm		__ptr
         1E:D039  85 88      			sta.l	__ptr
         1E:D03B  84 89      			sty.h	__ptr
21947                        		__ld.wp		__ptr
         1E:D03D  A0 01      			ldy	#1
         1E:D03F  B1 88      			lda	[__ptr], y
         1E:D041  A8         			tay
         1E:D042  B2 88      			lda	[__ptr]
21948                        		__st.wmq	_shop_prices + 16
         1E:D044  8D 6B 26   			sta.l	_shop_prices + 16
         1E:D047  8C 6C 26   			sty.h	_shop_prices + 16
21949                        	
21950                        		.dbg	line,	"include\init.c", 1228; shop_prices[9] = *(ptr_SHOP_ITEM_PRICES+9);
21951                        		__ld.wm		_ptr_SHOP_ITEM_PRICES
         1E:D04A  AD 94 26   			lda.l	_ptr_SHOP_ITEM_PRICES
         1E:D04D  AC 95 26   			ldy.h	_ptr_SHOP_ITEM_PRICES
21952                        		__add.wi	18
         1E:D050  18         			clc
         1E:D051  69 12      			adc.l	#18
         1E:D053  90 01      			bcc	!+
         1E:D055  C8         			iny
         1E:D056             	!:
21953                        		__st.wm		__ptr
         1E:D056  85 88      			sta.l	__ptr
         1E:D058  84 89      			sty.h	__ptr
21954                        		__ld.wp		__ptr
         1E:D05A  A0 01      			ldy	#1
         1E:D05C  B1 88      			lda	[__ptr], y
         1E:D05E  A8         			tay
         1E:D05F  B2 88      			lda	[__ptr]
21955                        		__st.wmq	_shop_prices + 18
         1E:D061  8D 6D 26   			sta.l	_shop_prices + 18
         1E:D064  8C 6E 26   			sty.h	_shop_prices + 18
21956                        	
21957                        		.dbg	line,	"include\init.c", 1231; put_number(shop_prices[0],4,2,20);
21958                        		__ld.wm		_shop_prices
         1E:D067  AD 5B 26   			lda.l	_shop_prices
         1E:D06A  AC 5C 26   			ldy.h	_shop_prices
21959                        		__st.wmq	_bx
         1E:D06D  85 FA      			sta.l	_bx
         1E:D06F  84 FB      			sty.h	_bx
21960                        		__st.umiq	4, _cl
         1E:D071  A9 04      			lda.l	#4
         1E:D073  85 FC      			sta	_cl
21961                        		__st.umiq	2, _dil
         1E:D075  A9 02      			lda.l	#2
         1E:D077  85 F0      			sta	_dil
21962                        		__st.umiq	20, _dih
         1E:D079  A9 14      			lda.l	#20
         1E:D07B  85 F1      			sta	_dih
21963                        		__call		_put_number.4
         1E:D07D  20 63 FF   			call	_put_number.4
21964                        	
21965                        		.dbg	line,	"include\init.c", 1232; put_number(shop_prices[1],4,7,20);
21966                        		__ld.wm		_shop_prices + 2
         1E:D080  AD 5D 26   			lda.l	_shop_prices + 2
         1E:D083  AC 5E 26   			ldy.h	_shop_prices + 2
21967                        		__st.wmq	_bx
         1E:D086  85 FA      			sta.l	_bx
         1E:D088  84 FB      			sty.h	_bx
21968                        		__st.umiq	4, _cl
         1E:D08A  A9 04      			lda.l	#4
         1E:D08C  85 FC      			sta	_cl
21969                        		__st.umiq	7, _dil
         1E:D08E  A9 07      			lda.l	#7
         1E:D090  85 F0      			sta	_dil
21970                        		__st.umiq	20, _dih
         1E:D092  A9 14      			lda.l	#20
         1E:D094  85 F1      			sta	_dih
21971                        		__call		_put_number.4
         1E:D096  20 63 FF   			call	_put_number.4
21972                        	
21973                        		.dbg	line,	"include\init.c", 1233; put_number(shop_prices[2],4,12,20);
21974                        		__ld.wm		_shop_prices + 4
         1E:D099  AD 5F 26   			lda.l	_shop_prices + 4
         1E:D09C  AC 60 26   			ldy.h	_shop_prices + 4
21975                        		__st.wmq	_bx
         1E:D09F  85 FA      			sta.l	_bx
         1E:D0A1  84 FB      			sty.h	_bx
21976                        		__st.umiq	4, _cl
         1E:D0A3  A9 04      			lda.l	#4
         1E:D0A5  85 FC      			sta	_cl
21977                        		__st.umiq	12, _dil
         1E:D0A7  A9 0C      			lda.l	#12
         1E:D0A9  85 F0      			sta	_dil
21978                        		__st.umiq	20, _dih
         1E:D0AB  A9 14      			lda.l	#20
         1E:D0AD  85 F1      			sta	_dih
21979                        		__call		_put_number.4
         1E:D0AF  20 63 FF   			call	_put_number.4
21980                        	
21981                        		.dbg	line,	"include\init.c", 1234; put_number(shop_prices[3],4,17,20);
21982                        		__ld.wm		_shop_prices + 6
         1E:D0B2  AD 61 26   			lda.l	_shop_prices + 6
         1E:D0B5  AC 62 26   			ldy.h	_shop_prices + 6
21983                        		__st.wmq	_bx
         1E:D0B8  85 FA      			sta.l	_bx
         1E:D0BA  84 FB      			sty.h	_bx
21984                        		__st.umiq	4, _cl
         1E:D0BC  A9 04      			lda.l	#4
         1E:D0BE  85 FC      			sta	_cl
21985                        		__st.umiq	17, _dil
         1E:D0C0  A9 11      			lda.l	#17
         1E:D0C2  85 F0      			sta	_dil
21986                        		__st.umiq	20, _dih
         1E:D0C4  A9 14      			lda.l	#20
         1E:D0C6  85 F1      			sta	_dih
21987                        		__call		_put_number.4
         1E:D0C8  20 63 FF   			call	_put_number.4
21988                        	
21989                        		.dbg	line,	"include\init.c", 1235; put_number(shop_prices[4],4,22,20);
21990                        		__ld.wm		_shop_prices + 8
         1E:D0CB  AD 63 26   			lda.l	_shop_prices + 8
         1E:D0CE  AC 64 26   			ldy.h	_shop_prices + 8
21991                        		__st.wmq	_bx
         1E:D0D1  85 FA      			sta.l	_bx
         1E:D0D3  84 FB      			sty.h	_bx
21992                        		__st.umiq	4, _cl
         1E:D0D5  A9 04      			lda.l	#4
         1E:D0D7  85 FC      			sta	_cl
21993                        		__st.umiq	22, _dil
         1E:D0D9  A9 16      			lda.l	#22
         1E:D0DB  85 F0      			sta	_dil
21994                        		__st.umiq	20, _dih
         1E:D0DD  A9 14      			lda.l	#20
         1E:D0DF  85 F1      			sta	_dih
21995                        		__call		_put_number.4
         1E:D0E1  20 63 FF   			call	_put_number.4
21996                        	
21997                        		.dbg	line,	"include\init.c", 1237; put_number(shop_prices[5],4,2,23);
21998                        		__ld.wm		_shop_prices + 10
         1E:D0E4  AD 65 26   			lda.l	_shop_prices + 10
         1E:D0E7  AC 66 26   			ldy.h	_shop_prices + 10
21999                        		__st.wmq	_bx
         1E:D0EA  85 FA      			sta.l	_bx
         1E:D0EC  84 FB      			sty.h	_bx
22000                        		__st.umiq	4, _cl
         1E:D0EE  A9 04      			lda.l	#4
         1E:D0F0  85 FC      			sta	_cl
22001                        		__st.umiq	2, _dil
         1E:D0F2  A9 02      			lda.l	#2
         1E:D0F4  85 F0      			sta	_dil
22002                        		__st.umiq	23, _dih
         1E:D0F6  A9 17      			lda.l	#23
         1E:D0F8  85 F1      			sta	_dih
22003                        		__call		_put_number.4
         1E:D0FA  20 63 FF   			call	_put_number.4
22004                        	
22005                        		.dbg	line,	"include\init.c", 1238; put_number(shop_prices[6],4,7,23);
22006                        		__ld.wm		_shop_prices + 12
         1E:D0FD  AD 67 26   			lda.l	_shop_prices + 12
         1E:D100  AC 68 26   			ldy.h	_shop_prices + 12
22007                        		__st.wmq	_bx
         1E:D103  85 FA      			sta.l	_bx
         1E:D105  84 FB      			sty.h	_bx
22008                        		__st.umiq	4, _cl
         1E:D107  A9 04      			lda.l	#4
         1E:D109  85 FC      			sta	_cl
22009                        		__st.umiq	7, _dil
         1E:D10B  A9 07      			lda.l	#7
         1E:D10D  85 F0      			sta	_dil
22010                        		__st.umiq	23, _dih
         1E:D10F  A9 17      			lda.l	#23
         1E:D111  85 F1      			sta	_dih
22011                        		__call		_put_number.4
         1E:D113  20 63 FF   			call	_put_number.4
22012                        	
22013                        		.dbg	line,	"include\init.c", 1239; put_number(shop_prices[7],4,12,23);
22014                        		__ld.wm		_shop_prices + 14
         1E:D116  AD 69 26   			lda.l	_shop_prices + 14
         1E:D119  AC 6A 26   			ldy.h	_shop_prices + 14
22015                        		__st.wmq	_bx
         1E:D11C  85 FA      			sta.l	_bx
         1E:D11E  84 FB      			sty.h	_bx
22016                        		__st.umiq	4, _cl
         1E:D120  A9 04      			lda.l	#4
         1E:D122  85 FC      			sta	_cl
22017                        		__st.umiq	12, _dil
         1E:D124  A9 0C      			lda.l	#12
         1E:D126  85 F0      			sta	_dil
22018                        		__st.umiq	23, _dih
         1E:D128  A9 17      			lda.l	#23
         1E:D12A  85 F1      			sta	_dih
22019                        		__call		_put_number.4
         1E:D12C  20 63 FF   			call	_put_number.4
22020                        	
22021                        		.dbg	line,	"include\init.c", 1240; put_number(shop_prices[8],4,17,23);
22022                        		__ld.wm		_shop_prices + 16
         1E:D12F  AD 6B 26   			lda.l	_shop_prices + 16
         1E:D132  AC 6C 26   			ldy.h	_shop_prices + 16
22023                        		__st.wmq	_bx
         1E:D135  85 FA      			sta.l	_bx
         1E:D137  84 FB      			sty.h	_bx
22024                        		__st.umiq	4, _cl
         1E:D139  A9 04      			lda.l	#4
         1E:D13B  85 FC      			sta	_cl
22025                        		__st.umiq	17, _dil
         1E:D13D  A9 11      			lda.l	#17
         1E:D13F  85 F0      			sta	_dil
22026                        		__st.umiq	23, _dih
         1E:D141  A9 17      			lda.l	#23
         1E:D143  85 F1      			sta	_dih
22027                        		__call		_put_number.4
         1E:D145  20 63 FF   			call	_put_number.4
22028                        	
22029                        		.dbg	line,	"include\init.c", 1241; put_number(shop_prices[9],4,22,23);
22030                        		__ld.wm		_shop_prices + 18
         1E:D148  AD 6D 26   			lda.l	_shop_prices + 18
         1E:D14B  AC 6E 26   			ldy.h	_shop_prices + 18
22031                        		__st.wmq	_bx
         1E:D14E  85 FA      			sta.l	_bx
         1E:D150  84 FB      			sty.h	_bx
22032                        		__st.umiq	4, _cl
         1E:D152  A9 04      			lda.l	#4
         1E:D154  85 FC      			sta	_cl
22033                        		__st.umiq	22, _dil
         1E:D156  A9 16      			lda.l	#22
         1E:D158  85 F0      			sta	_dil
22034                        		__st.umiq	23, _dih
         1E:D15A  A9 17      			lda.l	#23
         1E:D15C  85 F1      			sta	_dih
22035                        		__call		_put_number.4
         1E:D15E  20 63 FF   			call	_put_number.4
22036                        	
22037                        		.dbg	line,	"include\init.c", 1246; //--------------------------------------------------------------------------------------//
22038                        	
22039                        		.dbg	line,	"include\init.c", 1247; //                                   LOAD BG PALETTES                                   //
22040                        	
22041                        		.dbg	line,	"include\init.c", 1248; //--------------------------------------------------------------------------------------//
22042                        	
22043                        		.dbg	line,	"include\init.c", 1250; load_palette( 0, palette_SHOP, 16 );
22044                        		__st.umiq	0, _al
         1E:D161  64 F8      			stz	_al
22045                        		__farptr	_palette_SHOP, _bp_bank, _bp
         1E:D163  A9 E0      			lda.l	#$6000 + ($1FFF & (_palette_SHOP))
         1E:D165  85 EC      			sta.l	_bp
         1E:D167  A9 6D      			lda.h	#$6000 + ($1FFF & (_palette_SHOP))
         1E:D169  85 ED      			sta.h	_bp
         1E:D16B  A9 12      			lda	#bank(_palette_SHOP)
         1E:D16D  85 02      			sta	_bp_bank
22046                        		__st.umiq	16, _ah
         1E:D16F  A9 10      			lda.l	#16
         1E:D171  85 F9      			sta	_ah
22047                        		__call		_load_palette.3
         1E:D173  20 81 FF   			call	_load_palette.3
22048                        	
22049                        		.dbg	line,	"include\init.c", 1255; //**************************************************************************************//
22050                        	
22051                        		.dbg	line,	"include\init.c", 1256; //                                                                                      //
22052                        	
22053                        		.dbg	line,	"include\init.c", 1257; //                                       SPRITES                                        //
22054                        	
22055                        		.dbg	line,	"include\init.c", 1258; //                                                                                      //
22056                        	
22057                        		.dbg	line,	"include\init.c", 1259; //**************************************************************************************//
22058                        	
22059                        		.dbg	line,	"include\init.c", 1261; //--------------------------------------------------------------------------------------//
22060                        	
22061                        		.dbg	line,	"include\init.c", 1262; //                                   HIDE ALL SPRITES                                   //
22062                        	
22063                        		.dbg	line,	"include\init.c", 1263; //--------------------------------------------------------------------------------------//
22064                        	
22065                        		.dbg	line,	"include\init.c", 1265; for(i=0 ; i<63 ; i++)
22066                        		__st.umiq	0, __init_SHOP_end - 1  /* i */
         1E:D176  9C 12 23   			stz	__init_SHOP_end - 1
22067    1E:D179             	.LL1041:
22068                        		__ld.umq	__init_SHOP_end - 1  /* i */
         1E:D179  AD 12 23   			lda	__init_SHOP_end - 1
22069                        		__ult_b.uiq	63
         1E:D17C  C9 3F      			cmp	#63		; Subtract integer from A.
         1E:D17E  6A         			ror	a		; CC if A < integer.
         1E:D17F  49 80      			eor	#$80
         1E:D181  2A         			rol	a
22070                        		__btrue		.LL1043
         1E:D182  B0 07      			bcs	.LL1043
22071                        		__bra		.LL1044
         1E:D184  80 19      			bra	.LL1044
22072    1E:D186             	.LL1042:
22073                        		__inc.umq	__init_SHOP_end - 1  /* i */
         1E:D186  EE 12 23   			inc	__init_SHOP_end - 1
22074                        		__bra		.LL1041
         1E:D189  80 EE      			bra	.LL1041
22075    1E:D18B             	.LL1043:
22076                        	
22077                        		.dbg	line,	"include\init.c", 1266; {
22078                        	
22079                        		.dbg	line,	"include\init.c", 1267; spr_set(i);
22080                        		__ld.umq	__init_SHOP_end - 1  /* i */
         1E:D18B  AD 12 23   			lda	__init_SHOP_end - 1
22081                        		__call		_spr_set.1
         1E:D18E  20 F1 E7   			call	_spr_set.1
22082                        	
22083                        		.dbg	line,	"include\init.c", 1268; spr_hide();
22084                        		__call		_spr_hide
         1E:D191  20 0C E8   			call	_spr_hide
22085                        	
22086                        		.dbg	line,	"include\init.c", 1270; sgx_spr_set(i);
22087                        		__ld.umq	__init_SHOP_end - 1  /* i */
         1E:D194  AD 12 23   			lda	__init_SHOP_end - 1
22088                        		__call		_sgx_spr_set.1
         1E:D197  20 9E E8   			call	_sgx_spr_set.1
22089                        	
22090                        		.dbg	line,	"include\init.c", 1271; sgx_spr_hide();
22091                        		__call		_sgx_spr_hide
         1E:D19A  20 B9 E8   			call	_sgx_spr_hide
22092                        	
22093                        		.dbg	line,	"include\init.c", 1272; }
22094                        		__bra		.LL1042
         1E:D19D  80 E7      			bra	.LL1042
22095    1E:D19F             	.LL1044:
22096                        	
22097                        		.dbg	line,	"include\init.c", 1274; //--------------------------------------------------------------------------------------//
22098                        	
22099                        		.dbg	line,	"include\init.c", 1275; //                                        CURSOR                                        //
22100                        	
22101                        		.dbg	line,	"include\init.c", 1276; //--------------------------------------------------------------------------------------//
22102                        	
22103                        		.dbg	line,	"include\init.c", 1278; // LOAD CURSOR TILES //
22104                        	
22105                        		.dbg	line,	"include\init.c", 1279; load_vram(0x2000, tiles_SPR_CURSOR , TILES_16);
22106                        		__st.wmiq	8192, _di
         1E:D19F  64 F0      			stz.l	_di
         1E:D1A1  A9 20      			lda.h	#8192
         1E:D1A3  85 F1      			sta.h	_di
22107                        		__farptr	_tiles_SPR_CURSOR, _bp_bank, _bp
         1E:D1A5  A9 40      			lda.l	#$6000 + ($1FFF & (_tiles_SPR_CURSOR))
         1E:D1A7  85 EC      			sta.l	_bp
         1E:D1A9  A9 6A      			lda.h	#$6000 + ($1FFF & (_tiles_SPR_CURSOR))
         1E:D1AB  85 ED      			sta.h	_bp
         1E:D1AD  A9 1B      			lda	#bank(_tiles_SPR_CURSOR)
         1E:D1AF  85 02      			sta	_bp_bank
22108                        		__st.wmiq	256, _ax
         1E:D1B1  64 F8      			stz.l	_ax
         1E:D1B3  A9 01      			lda.h	#256
         1E:D1B5  85 F9      			sta.h	_ax
22109                        		 _load_vram.3
         1E:D1B7  82         			clx				; Offset to PCE VDC.
         1E:D1B8  20 FF FE   			call	load_vram_x
22110                        	
22111                        		.dbg	line,	"include\init.c", 1282; // SELECT CURSOR SPRITE //
22112                        	
22113                        		.dbg	line,	"include\init.c", 1283; spr_set(0);
22114                        		__ld.uiq	0
         1E:D1BB  62         			cla
22115                        		__call		_spr_set.1
         1E:D1BC  20 F1 E7   			call	_spr_set.1
22116                        	
22117                        		.dbg	line,	"include\init.c", 1284; spr_hide();
22118                        		__call		_spr_hide
         1E:D1BF  20 0C E8   			call	_spr_hide
22119                        	
22120                        		.dbg	line,	"include\init.c", 1287; //spr_x(24);
22121                        	
22122                        		.dbg	line,	"include\init.c", 1288; //spr_y(144);
22123                        	
22124                        		.dbg	line,	"include\init.c", 1290; // SET TILES DATA FOR THE CURSOR //
22125                        	
22126                        		.dbg	line,	"include\init.c", 1291; spr_pattern(0x2000);
22127                        		__ld.wi		8192
         1E:D1C2  62         			cla
         1E:D1C3  A0 20      			ldy.h	#8192
22128                        		__call		_spr_pattern.1
         1E:D1C5  20 3A E8   			call	_spr_pattern.1
22129                        	
22130                        		.dbg	line,	"include\init.c", 1294; spr_ctrl(FLIP_MAS|SIZE_MAS, NO_FLIP|SZ_32x32);
22131                        		__st.umiq	185, _al
         1E:D1C8  A9 B9      			lda.l	#185
         1E:D1CA  85 F8      			sta	_al
22132                        		__ld.uiq	17
         1E:D1CC  A9 11      			lda	#17
22133                        		__call		_spr_ctrl.2
         1E:D1CE  20 50 E8   			call	_spr_ctrl.2
22134                        	
22135                        		.dbg	line,	"include\init.c", 1297; spr_pal(16);
22136                        		__ld.uiq	16
         1E:D1D1  A9 10      			lda	#16
22137                        		__call		_spr_pal.1
         1E:D1D3  20 61 E8   			call	_spr_pal.1
22138                        	
22139                        		.dbg	line,	"include\init.c", 1298; spr_pri(TRUE);
22140                        		__ld.uiq	1
         1E:D1D6  A9 01      			lda	#1
22141                        		__call		_spr_pri.1
         1E:D1D8  20 70 E8   			call	_spr_pri.1
22142                        	
22143                        		.dbg	line,	"include\init.c", 1301; // UPDATE PCE SAT //
22144                        	
22145                        		.dbg	line,	"include\init.c", 1302; satb_update();
22146                        		__call		_satb_update
         1E:D1DB  20 D7 FE   			call	_satb_update
22147                        	
22148                        		.dbg	line,	"include\init.c", 1303; sgx_satb_update();
22149                        		__call		_sgx_satb_update
         1E:D1DE  20 9F FF   			call	_sgx_satb_update
22150                        	
22151                        		.dbg	line,	"include\init.c", 1307; //--------------------------------------------------------------------------------------//
22152                        	
22153                        		.dbg	line,	"include\init.c", 1308; //                                LOAD SPRITES PALETTES                                 //
22154                        	
22155                        		.dbg	line,	"include\init.c", 1309; //--------------------------------------------------------------------------------------//
22156                        	
22157                        		.dbg	line,	"include\init.c", 1311; load_palette( 16, palette_objects_2, 1 );
22158                        		__st.umiq	16, _al
         1E:D1E1  A9 10      			lda.l	#16
         1E:D1E3  85 F8      			sta	_al
22159                        		__farptr	_palette_objects_2, _bp_bank, _bp
         1E:D1E5  A9 40      			lda.l	#$6000 + ($1FFF & (_palette_objects_2))
         1E:D1E7  85 EC      			sta.l	_bp
         1E:D1E9  A9 7C      			lda.h	#$6000 + ($1FFF & (_palette_objects_2))
         1E:D1EB  85 ED      			sta.h	_bp
         1E:D1ED  A9 1A      			lda	#bank(_palette_objects_2)
         1E:D1EF  85 02      			sta	_bp_bank
22160                        		__st.umiq	1, _ah
         1E:D1F1  A9 01      			lda.l	#1
         1E:D1F3  85 F9      			sta	_ah
22161                        		__call		_load_palette.3
         1E:D1F5  20 81 FF   			call	_load_palette.3
22162                        	
22163                        		.dbg	line,	"include\init.c", 1315; // VSYNC //
22164                        	
22165                        		.dbg	line,	"include\init.c", 1316; vsync();
22166                        		__call		_vsync
         1E:D1F8  20 1D E3   			call	_vsync
22167                        	
22168                        		.dbg	line,	"include\init.c", 1318; // ENABLE DISPLAY //
22169                        	
22170                        		.dbg	line,	"include\init.c", 1319; disp_on();
22171                        		__call		_disp_on
         1E:D1FB  20 2A E4   			call	_disp_on
22172                        	
22173                        		.dbg	line,	"include\init.c", 1320; }
22174    1E:D1FE             	.LL1035:
22175                        		__return	0
         1E:D1FE  4C EF FF   			jmp	leave_proc
22176                        		.dbg	clear
22177                        		.endp
22178               2311     		.bss
22179    F8:2311             			ds	2
22180    F8:2313             	__init_SHOP_end:
22181               E31D     		.code
22182                        		.pceas
22183                        	
22184                        		.dbg	line,	"main.c", 37; main()
22185                        		.dbg	line,	"main.c", 38; {
22186                        	;***********************
22187                        	;***********************
22188                        	
22189                        		.hucc
22190    1E:D823             		.proc		_main
22191                        		__enter		_main
22192                        	
22193                        		.dbg	line,	"main.c", 39; if(!sgx_detect())
22194                        		 _sgx_detect
         1E:D823  AD E8 22   			lda	sgx_detected
         1E:D826  C2         			cly
22195                        		__not.wr
         1E:D827  84 00      			sty	__temp
         1E:D829  05 00      			ora	__temp
         1E:D82B  18         			clc
         1E:D82C  D0 01      			bne	!+
         1E:D82E  38         			sec
         1E:D82F             	!:
22196                        		__bfalse	.LL1046
         1E:D82F  90 15      			bcc	.LL1046
22197                        	
22198                        		.dbg	line,	"main.c", 40; {
22199                        	
22200                        		.dbg	line,	"main.c", 41; put_string("Halt: SGX hardware not found", 2, 13);
22201                        		__ld.wi		__const1+70
         1E:D831  A9 46      			lda.l	#__const1+70
         1E:D833  A0 60      			ldy.h	#__const1+70
22202                        		__st.wmq	_bp
         1E:D835  85 EC      			sta.l	_bp
         1E:D837  84 ED      			sty.h	_bp
22203                        		__st.umiq	2, _dil
         1E:D839  A9 02      			lda.l	#2
         1E:D83B  85 F0      			sta	_dil
22204                        		__st.umiq	13, _dih
         1E:D83D  A9 0D      			lda.l	#13
         1E:D83F  85 F1      			sta	_dih
22205                        		__call		_put_string.3
         1E:D841  20 5F E6   			call	_put_string.3
22206                        	
22207                        		.dbg	line,	"main.c", 43; for(;;)
22208    1E:D844             	.LL1047	.alias		.LL1049
22209    1E:D844             	.LL1048	.alias		.LL1049
22210    1E:D844             	.LL1049:
22211                        	
22212                        		.dbg	line,	"main.c", 44; {
22213                        	
22214                        		.dbg	line,	"main.c", 45; // INFINITE LOOP //
22215                        	
22216                        		.dbg	line,	"main.c", 46; }
22217                        		__bra		.LL1049
         1E:D844  80 FE      			bra	.LL1049
22218    1E:D846             	.LL1050:
22219                        	
22220                        		.dbg	line,	"main.c", 47; }
22221                        	
22222                        		.dbg	line,	"main.c", 52; init_SYSTEM();
22223    1E:D846             	.LL1046:
22224                        		__call		_init_SYSTEM
         1E:D846  20 2D FE   			call	_init_SYSTEM
22225                        	
22226                        		.dbg	line,	"main.c", 53; 
22227                        	
22228                        		.dbg	line,	"main.c", 54; 
22229                        	
22230                        		.dbg	line,	"main.c", 55; init_VARIABLES();
22231                        		__call		_init_VARIABLES
         1E:D849  20 23 FE   			call	_init_VARIABLES
22232                        	
22233                        		.dbg	line,	"main.c", 58; init_PLAYER();
22234                        		__call		_init_PLAYER
         1E:D84C  20 19 FE   			call	_init_PLAYER
22235                        	
22236                        		.dbg	line,	"main.c", 63; //**************************************************************************************//
22237                        	
22238                        		.dbg	line,	"main.c", 64; //                                                                                      //
22239                        	
22240                        		.dbg	line,	"main.c", 65; //                                         MAIN                                         //
22241                        	
22242                        		.dbg	line,	"main.c", 66; //                                                                                      //
22243                        	
22244                        		.dbg	line,	"main.c", 67; //**************************************************************************************//
22245                        	
22246                        		.dbg	line,	"main.c", 68; for(;;)
22247    1E:D84F             	.LL1051:
22248    1E:D84F             	.LL1052:
22249    1E:D84F             	.LL1053:
22250                        	
22251                        		.dbg	line,	"main.c", 69; {
22252                        	
22253                        		.dbg	line,	"main.c", 70; switch(sequence_id)
22254                        		__ld.umq	_sequence_id
         1E:D84F  AD 13 23   			lda	_sequence_id
22255                        		__bra		.LL1055
         1E:D852  4C 94 DA   			bra	.LL1055
22256                        	
22257                        		.dbg	line,	"main.c", 71; {
22258                        	
22259                        		.dbg	line,	"main.c", 72; //-----------------------------------------------------------------------------//
22260                        	
22261                        		.dbg	line,	"main.c", 73; //                                    TITLE                                    //
22262                        	
22263                        		.dbg	line,	"main.c", 74; //-----------------------------------------------------------------------------//
22264                        	
22265                        		.dbg	line,	"main.c", 75; case SEQUENCE_TITLE:
22266    1E:D855             	.LL1057:
22267                        		__case		0
22268                        	
22269                        		.dbg	line,	"main.c", 76; if(sequence_loaded == FALSE)
22270                        		__not.um	_sequence_loaded
         1E:D855  AD 14 23   			lda	_sequence_loaded
         1E:D858  18         			clc
         1E:D859  D0 01      			bne	!+
         1E:D85B  38         			sec
         1E:D85C             	!:
22271                        		__bfalse	.LL1058
         1E:D85C  90 0A      			bcc	.LL1058
22272                        	
22273                        		.dbg	line,	"main.c", 77; {
22274                        	
22275                        		.dbg	line,	"main.c", 78; init_TITLE();
22276                        		__call		_init_TITLE
         1E:D85E  20 0F FE   			call	_init_TITLE
22277                        	
22278                        		.dbg	line,	"main.c", 80; sequence_loaded = TRUE;
22279                        		__st.umiq	1, _sequence_loaded
         1E:D861  A9 01      			lda.l	#1
         1E:D863  8D 14 23   			sta	_sequence_loaded
22280                        	
22281                        		.dbg	line,	"main.c", 81; }
22282                        	
22283                        		.dbg	line,	"main.c", 83; else
22284                        		__bra		.LL1059
         1E:D866  80 E7      			bra	.LL1059
22285    1E:D868             	.LL1058:
22286                        	
22287                        		.dbg	line,	"main.c", 84; {
22288                        	
22289                        		.dbg	line,	"main.c", 85; vsync();
22290                        		__call		_vsync
         1E:D868  20 1D E3   			call	_vsync
22291                        	
22292                        		.dbg	line,	"main.c", 87; joypad_BUTTONS_TITLE();
22293                        		__call		_joypad_BUTTONS_TITLE
         1E:D86B  20 05 FE   			call	_joypad_BUTTONS_TITLE
22294                        	
22295                        		.dbg	line,	"main.c", 88; 
22296                        	
22297                        		.dbg	line,	"main.c", 89; satb_update();
22298                        		__call		_satb_update
         1E:D86E  20 D7 FE   			call	_satb_update
22299                        	
22300                        		.dbg	line,	"main.c", 90; }
22301    1E:D871             	.LL1059	.alias		.LL1056
22302                        	
22303                        		.dbg	line,	"main.c", 92; break;
22304                        		__bra		.LL1056
         1E:D871  80 DC      			bra	.LL1056
22305                        	
22306                        		.dbg	line,	"main.c", 95; //-----------------------------------------------------------------------------//
22307                        	
22308                        		.dbg	line,	"main.c", 96; //                                    INTRO                                    //
22309                        	
22310                        		.dbg	line,	"main.c", 97; //-----------------------------------------------------------------------------//
22311                        	
22312                        		.dbg	line,	"main.c", 98; case SEQUENCE_INTRO:
22313    1E:D873             	.LL1060:
22314                        		__case		1
22315                        	
22316                        		.dbg	line,	"main.c", 99; if(sequence_loaded == FALSE)
22317                        		__not.um	_sequence_loaded
         1E:D873  AD 14 23   			lda	_sequence_loaded
         1E:D876  18         			clc
         1E:D877  D0 01      			bne	!+
         1E:D879  38         			sec
         1E:D87A             	!:
22318                        		__bfalse	.LL1061
         1E:D87A  90 0A      			bcc	.LL1061
22319                        	
22320                        		.dbg	line,	"main.c", 100; {
22321                        	
22322                        		.dbg	line,	"main.c", 101; init_INTRO();
22323                        		__call		_init_INTRO
         1E:D87C  20 FB FD   			call	_init_INTRO
22324                        	
22325                        		.dbg	line,	"main.c", 103; sequence_loaded = TRUE;
22326                        		__st.umiq	1, _sequence_loaded
         1E:D87F  A9 01      			lda.l	#1
         1E:D881  8D 14 23   			sta	_sequence_loaded
22327                        	
22328                        		.dbg	line,	"main.c", 104; }
22329                        	
22330                        		.dbg	line,	"main.c", 106; else
22331                        		__bra		.LL1062
         1E:D884  80 C9      			bra	.LL1062
22332    1E:D886             	.LL1061:
22333                        	
22334                        		.dbg	line,	"main.c", 107; {
22335                        	
22336                        		.dbg	line,	"main.c", 108; vsync();
22337                        		__call		_vsync
         1E:D886  20 1D E3   			call	_vsync
22338                        	
22339                        		.dbg	line,	"main.c", 110; //put_number(vdc_map_pxl_x,3,0,0);
22340                        	
22341                        		.dbg	line,	"main.c", 111; sequence_INTRO();
22342                        		__call		_sequence_INTRO
         1E:D889  20 F1 FD   			call	_sequence_INTRO
22343                        	
22344                        		.dbg	line,	"main.c", 112; 
22345                        	
22346                        		.dbg	line,	"main.c", 113; joypad_BUTTONS_INTRO();
22347                        		__call		_joypad_BUTTONS_INTRO
         1E:D88C  20 E7 FD   			call	_joypad_BUTTONS_INTRO
22348                        	
22349                        		.dbg	line,	"main.c", 115; sgx_satb_update();
22350                        		__call		_sgx_satb_update
         1E:D88F  20 9F FF   			call	_sgx_satb_update
22351                        	
22352                        		.dbg	line,	"main.c", 116; }
22353    1E:D892             	.LL1062	.alias		.LL1056
22354                        	
22355                        		.dbg	line,	"main.c", 118; break;
22356                        		__bra		.LL1056
         1E:D892  80 BB      			bra	.LL1056
22357                        	
22358                        		.dbg	line,	"main.c", 121; //-----------------------------------------------------------------------------//
22359                        	
22360                        		.dbg	line,	"main.c", 122; //                                    LEVEL                                    //
22361                        	
22362                        		.dbg	line,	"main.c", 123; //-----------------------------------------------------------------------------//
22363                        	
22364                        		.dbg	line,	"main.c", 124; case SEQUENCE_LEVEL:
22365    1E:D894             	.LL1063:
22366                        		__case		2
22367                        	
22368                        		.dbg	line,	"main.c", 125; switch(level_id)
22369                        		__ld.umq	_level_id
         1E:D894  AD 15 23   			lda	_level_id
22370                        		__bra		.LL1064
         1E:D897  4C 5F D9   			bra	.LL1064
22371                        	
22372                        		.dbg	line,	"main.c", 126; {
22373                        	
22374                        		.dbg	line,	"main.c", 127; case 1:
22375    1E:D89A             	.LL1066:
22376                        		__case		1
22377                        	
22378                        		.dbg	line,	"main.c", 128; if(sequence_loaded == FALSE)
22379                        		__not.um	_sequence_loaded
         1E:D89A  AD 14 23   			lda	_sequence_loaded
         1E:D89D  18         			clc
         1E:D89E  D0 01      			bne	!+
         1E:D8A0  38         			sec
         1E:D8A1             	!:
22380                        		__bfalse	.LL1067
         1E:D8A1  90 0A      			bcc	.LL1067
22381                        	
22382                        		.dbg	line,	"main.c", 129; {
22383                        	
22384                        		.dbg	line,	"main.c", 130; init_LEVEL();
22385                        		__call		_init_LEVEL
         1E:D8A3  20 DD FD   			call	_init_LEVEL
22386                        	
22387                        		.dbg	line,	"main.c", 132; sequence_loaded = TRUE;
22388                        		__st.umiq	1, _sequence_loaded
         1E:D8A6  A9 01      			lda.l	#1
         1E:D8A8  8D 14 23   			sta	_sequence_loaded
22389                        	
22390                        		.dbg	line,	"main.c", 133; }
22391                        	
22392                        		.dbg	line,	"main.c", 135; else
22393                        		__bra		.LL1068
         1E:D8AB  80 A2      			bra	.LL1068
22394    1E:D8AD             	.LL1067:
22395                        	
22396                        		.dbg	line,	"main.c", 136; {
22397                        	
22398                        		.dbg	line,	"main.c", 137; //
22399                        	
22400                        		.dbg	line,	"main.c", 138; while(display_level_text == TRUE)
22401    1E:D8AD             	.LL1069:
22402                        		__ld.umq	_display_level_text
         1E:D8AD  AD 16 23   			lda	_display_level_text
22403                        		__equ_b.uiq	1
         1E:D8B0  C9 01      			cmp	#1
         1E:D8B2  F0 01      			beq	!+
         1E:D8B4  18         			clc
         1E:D8B5             	!:
22404                        		__bfalse	.LL1070
         1E:D8B5  90 60      			bcc	.LL1070
22405                        	
22406                        		.dbg	line,	"main.c", 139; {
22407                        	
22408                        		.dbg	line,	"main.c", 140; vsync();
22409                        		__call		_vsync
         1E:D8B7  20 1D E3   			call	_vsync
22410                        	
22411                        		.dbg	line,	"main.c", 141; 
22412                        	
22413                        		.dbg	line,	"main.c", 142; global_counter += 1;
22414                        		__add_st.wmiq	1, _global_counter
         1E:D8BA  EE 51 26   			inc.l	_global_counter
         1E:D8BD  D0 03      			bne	!+
         1E:D8BF  EE 52 26   			inc.h	_global_counter
         1E:D8C2             	!:
22415                        	
22416                        		.dbg	line,	"main.c", 144; if(global_counter == 120)
22417                        		__ld.wm		_global_counter
         1E:D8C2  AD 51 26   			lda.l	_global_counter
         1E:D8C5  AC 52 26   			ldy.h	_global_counter
22418                        		__equ_w.wi	120
         1E:D8C8  C9 78      			cmp.l	#120
         1E:D8CA  D0 04      			bne	!false+
         1E:D8CC  C0 00      			cpy.h	#120
         1E:D8CE  F0 01      			beq	!+
         1E:D8D0  18         	!false:		clc
         1E:D8D1             	!:
22419                        		__bfalse	.LL1071
         1E:D8D1  90 DA      			bcc	.LL1071
22420                        	
22421                        		.dbg	line,	"main.c", 145; {
22422                        	
22423                        		.dbg	line,	"main.c", 146; put_string("       ",13, 8);
22424                        		__ld.wi		__const1+99
         1E:D8D3  A9 63      			lda.l	#__const1+99
         1E:D8D5  A0 60      			ldy.h	#__const1+99
22425                        		__st.wmq	_bp
         1E:D8D7  85 EC      			sta.l	_bp
         1E:D8D9  84 ED      			sty.h	_bp
22426                        		__st.umiq	13, _dil
         1E:D8DB  A9 0D      			lda.l	#13
         1E:D8DD  85 F0      			sta	_dil
22427                        		__st.umiq	8, _dih
         1E:D8DF  A9 08      			lda.l	#8
         1E:D8E1  85 F1      			sta	_dih
22428                        		__call		_put_string.3
         1E:D8E3  20 5F E6   			call	_put_string.3
22429                        	
22430                        		.dbg	line,	"main.c", 147; put_string("              ",10,13);
22431                        		__ld.wi		__const1+107
         1E:D8E6  A9 6B      			lda.l	#__const1+107
         1E:D8E8  A0 60      			ldy.h	#__const1+107
22432                        		__st.wmq	_bp
         1E:D8EA  85 EC      			sta.l	_bp
         1E:D8EC  84 ED      			sty.h	_bp
22433                        		__st.umiq	10, _dil
         1E:D8EE  A9 0A      			lda.l	#10
         1E:D8F0  85 F0      			sta	_dil
22434                        		__st.umiq	13, _dih
         1E:D8F2  A9 0D      			lda.l	#13
         1E:D8F4  85 F1      			sta	_dih
22435                        		__call		_put_string.3
         1E:D8F6  20 5F E6   			call	_put_string.3
22436                        	
22437                        		.dbg	line,	"main.c", 148; put_string("            ",11,15);
22438                        		__ld.wi		__const1+122
         1E:D8F9  A9 7A      			lda.l	#__const1+122
         1E:D8FB  A0 60      			ldy.h	#__const1+122
22439                        		__st.wmq	_bp
         1E:D8FD  85 EC      			sta.l	_bp
         1E:D8FF  84 ED      			sty.h	_bp
22440                        		__st.umiq	11, _dil
         1E:D901  A9 0B      			lda.l	#11
         1E:D903  85 F0      			sta	_dil
22441                        		__st.umiq	15, _dih
         1E:D905  A9 0F      			lda.l	#15
         1E:D907  85 F1      			sta	_dih
22442                        		__call		_put_string.3
         1E:D909  20 5F E6   			call	_put_string.3
22443                        	
22444                        		.dbg	line,	"main.c", 149; 
22445                        	
22446                        		.dbg	line,	"main.c", 150; global_counter = 0;
22447                        		__st.wmiq	0, _global_counter
         1E:D90C  9C 51 26   			stz.l	_global_counter
         1E:D90F  9C 52 26   			stz.h	_global_counter
22448                        	
22449                        		.dbg	line,	"main.c", 152; display_level_text = FALSE;
22450                        		__st.umiq	0, _display_level_text
         1E:D912  9C 16 23   			stz	_display_level_text
22451                        	
22452                        		.dbg	line,	"main.c", 153; }
22453                        	
22454                        		.dbg	line,	"main.c", 154; }
22455    1E:D915             	.LL1071	.alias		.LL1069
22456                        		__bra		.LL1069
         1E:D915  80 96      			bra	.LL1069
22457    1E:D917             	.LL1070:
22458                        	
22459                        		.dbg	line,	"main.c", 158; vsync();
22460                        		__call		_vsync
         1E:D917  20 1D E3   			call	_vsync
22461                        	
22462                        		.dbg	line,	"main.c", 160; update_PLAYER();
22463                        		__call		_update_PLAYER
         1E:D91A  20 D3 FD   			call	_update_PLAYER
22464                        	
22465                        		.dbg	line,	"main.c", 161; update_WEAPON();
22466                        		__call		_update_WEAPON
         1E:D91D  20 C9 FD   			call	_update_WEAPON
22467                        	
22468                        		.dbg	line,	"main.c", 162; //put_number(player_counter_attack,2,0,6);
22469                        	
22470                        		.dbg	line,	"main.c", 164; 
22471                        	
22472                        		.dbg	line,	"main.c", 165; scroll_object();
22473                        		__call		_scroll_object
         1E:D920  20 7D FE   			call	_scroll_object
22474                        	
22475                        		.dbg	line,	"main.c", 166; scroll_chest();
22476                        		__call		_scroll_chest
         1E:D923  20 5F FE   			call	_scroll_chest
22477                        	
22478                        		.dbg	line,	"main.c", 167; scroll_npc();
22479                        		__call		_scroll_npc
         1E:D926  20 BF FD   			call	_scroll_npc
22480                        	
22481                        		.dbg	line,	"main.c", 169; collision_PLAYER_OBJECT();
22482                        		__call		_collision_PLAYER_OBJECT
         1E:D929  20 B5 FD   			call	_collision_PLAYER_OBJECT
22483                        	
22484                        		.dbg	line,	"main.c", 170; collision_PLAYER_NPC();
22485                        		__call		_collision_PLAYER_NPC
         1E:D92C  20 AB FD   			call	_collision_PLAYER_NPC
22486                        	
22487                        		.dbg	line,	"main.c", 172; anim_OBJECTS();
22488                        		__call		_anim_OBJECTS
         1E:D92F  20 A1 FD   			call	_anim_OBJECTS
22489                        	
22490                        		.dbg	line,	"main.c", 174; display_TIME_LEVEL();
22491                        		__call		_display_TIME_LEVEL
         1E:D932  20 AF FE   			call	_display_TIME_LEVEL
22492                        	
22493                        		.dbg	line,	"main.c", 176; satb_update();
22494                        		__call		_satb_update
         1E:D935  20 D7 FE   			call	_satb_update
22495                        	
22496                        		.dbg	line,	"main.c", 177; sgx_satb_update();
22497                        		__call		_sgx_satb_update
         1E:D938  20 9F FF   			call	_sgx_satb_update
22498                        	
22499                        		.dbg	line,	"main.c", 179; scroll_BG();
22500                        		__call		_scroll_BG
         1E:D93B  20 97 FD   			call	_scroll_BG
22501                        	
22502                        		.dbg	line,	"main.c", 181; joypad_DIR();
22503                        		__call		_joypad_DIR
         1E:D93E  20 8D FD   			call	_joypad_DIR
22504                        	
22505                        		.dbg	line,	"main.c", 182; joypad_BUTTONS();
22506                        		__call		_joypad_BUTTONS
         1E:D941  20 83 FD   			call	_joypad_BUTTONS
22507                        	
22508                        		.dbg	line,	"main.c", 183; }
22509    1E:D944             	.LL1068	.alias		.LL1065
22510                        	
22511                        		.dbg	line,	"main.c", 185; break;
22512                        		__bra		.LL1065
         1E:D944  4C 4F D8   			bra	.LL1065
22513                        	
22514                        		.dbg	line,	"main.c", 188; case 2:
22515    1E:D947             	.LL1072:
22516                        		__case		2
22517                        	
22518                        		.dbg	line,	"main.c", 189; vsync();
22519                        		__call		_vsync
         1E:D947  20 1D E3   			call	_vsync
22520                        	
22521                        		.dbg	line,	"main.c", 190; break;
22522                        		__bra		.LL1065
         1E:D94A  4C 4F D8   			bra	.LL1065
22523                        	
22524                        		.dbg	line,	"main.c", 193; case 3:
22525    1E:D94D             	.LL1073:
22526                        		__case		3
22527                        	
22528                        		.dbg	line,	"main.c", 194; vsync();
22529                        		__call		_vsync
         1E:D94D  20 1D E3   			call	_vsync
22530                        	
22531                        		.dbg	line,	"main.c", 195; break;
22532                        		__bra		.LL1065
         1E:D950  4C 4F D8   			bra	.LL1065
22533                        	
22534                        		.dbg	line,	"main.c", 198; case 4:
22535    1E:D953             	.LL1074:
22536                        		__case		4
22537                        	
22538                        		.dbg	line,	"main.c", 199; vsync();
22539                        		__call		_vsync
         1E:D953  20 1D E3   			call	_vsync
22540                        	
22541                        		.dbg	line,	"main.c", 200; break;
22542                        		__bra		.LL1065
         1E:D956  4C 4F D8   			bra	.LL1065
22543                        	
22544                        		.dbg	line,	"main.c", 203; case 5:
22545    1E:D959             	.LL1075:
22546                        		__case		5
22547                        	
22548                        		.dbg	line,	"main.c", 204; vsync();
22549                        		__call		_vsync
         1E:D959  20 1D E3   			call	_vsync
22550                        	
22551                        		.dbg	line,	"main.c", 205; break;
22552                        		__bra		.LL1065
         1E:D95C  4C 4F D8   			bra	.LL1065
22553                        	
22554                        		.dbg	line,	"main.c", 207; }
22555    1E:D95F             	.LL1064:
22556                        		__switch_r.ur	0, 5
         1E:D95F  C9 06      			cmp	#(5 - 0) + 1
         1E:D961  90 02      			bcc	!found+
         1E:D963  A9 06      	!default:	lda	#(5 - 0) + 1
         1E:D965  0A         	!found:		asl	a
         1E:D966  AA         			tax
         1E:D967  7C 6A D9   			jmp	[!table+, x]
22557                        	
22558    1E:D96A  4F D8      	!table:		dw	.LL1065, .LL1066, .LL1072, .LL1073, .LL1074, .LL1075
         1E:D96C  9A D8       
         1E:D96E  47 D9       
         1E:D970  4D D9       
         1E:D972  53 D9       
         1E:D974  59 D9       
22559    1E:D976  4F D8      			dw	.LL1065
22560    1E:D978             	.LL1065	.alias		.LL1056
22561                        	
22562                        		.dbg	line,	"main.c", 209; break;
22563                        		__bra		.LL1056
         1E:D978  4C 4F D8   			bra	.LL1056
22564                        	
22565                        		.dbg	line,	"main.c", 212; //-----------------------------------------------------------------------------//
22566                        	
22567                        		.dbg	line,	"main.c", 213; //                                     NPC                                     //
22568                        	
22569                        		.dbg	line,	"main.c", 214; //-----------------------------------------------------------------------------//
22570                        	
22571                        		.dbg	line,	"main.c", 215; case SEQUENCE_NPC:
22572    1E:D97B             	.LL1076:
22573                        		__case		3
22574                        	
22575                        		.dbg	line,	"main.c", 216; break;
22576                        		__bra		.LL1056
         1E:D97B  4C 4F D8   			bra	.LL1056
22577                        	
22578                        		.dbg	line,	"main.c", 219; //-----------------------------------------------------------------------------//
22579                        	
22580                        		.dbg	line,	"main.c", 220; //                                     NPC                                     //
22581                        	
22582                        		.dbg	line,	"main.c", 221; //-----------------------------------------------------------------------------//
22583                        	
22584                        		.dbg	line,	"main.c", 222; case SEQUENCE_ENTER_SHOP:
22585    1E:D97E             	.LL1077:
22586                        		__case		4
22587                        	
22588                        		.dbg	line,	"main.c", 223; sequence_ENTER_SHOP();
22589                        		__call		_sequence_ENTER_SHOP
         1E:D97E  20 79 FD   			call	_sequence_ENTER_SHOP
22590                        	
22591                        		.dbg	line,	"main.c", 224; break;
22592                        		__bra		.LL1056
         1E:D981  4C 4F D8   			bra	.LL1056
22593                        	
22594                        		.dbg	line,	"main.c", 227; //-----------------------------------------------------------------------------//
22595                        	
22596                        		.dbg	line,	"main.c", 228; //                                    SHOP                                     //
22597                        	
22598                        		.dbg	line,	"main.c", 229; //-----------------------------------------------------------------------------//
22599                        	
22600                        		.dbg	line,	"main.c", 230; case SEQUENCE_SHOP:
22601    1E:D984             	.LL1078:
22602                        		__case		5
22603                        	
22604                        		.dbg	line,	"main.c", 231; if(sequence_loaded == FALSE)
22605                        		__not.um	_sequence_loaded
         1E:D984  AD 14 23   			lda	_sequence_loaded
         1E:D987  18         			clc
         1E:D988  D0 01      			bne	!+
         1E:D98A  38         			sec
         1E:D98B             	!:
22606                        		__bfalse	.LL1079
         1E:D98B  90 0B      			bcc	.LL1079
22607                        	
22608                        		.dbg	line,	"main.c", 232; {
22609                        	
22610                        		.dbg	line,	"main.c", 233; init_SHOP();
22611                        		__call		_init_SHOP
         1E:D98D  20 6F FD   			call	_init_SHOP
22612                        	
22613                        		.dbg	line,	"main.c", 235; sequence_loaded = TRUE;
22614                        		__st.umiq	1, _sequence_loaded
         1E:D990  A9 01      			lda.l	#1
         1E:D992  8D 14 23   			sta	_sequence_loaded
22615                        	
22616                        		.dbg	line,	"main.c", 236; }
22617                        	
22618                        		.dbg	line,	"main.c", 237; 
22619                        	
22620                        		.dbg	line,	"main.c", 238; else
22621                        		__bra		.LL1080
         1E:D995  4C 4F D8   			bra	.LL1080
22622    1E:D998             	.LL1079:
22623                        	
22624                        		.dbg	line,	"main.c", 239; {
22625                        	
22626                        		.dbg	line,	"main.c", 240; switch(shop_phase)
22627                        		__ld.umq	_shop_phase
         1E:D998  AD F4 23   			lda	_shop_phase
22628                        		__bra		.LL1081
         1E:D99B  4C 7E DA   			bra	.LL1081
22629                        	
22630                        		.dbg	line,	"main.c", 241; {
22631                        	
22632                        		.dbg	line,	"main.c", 242; case SHOP_PHASE_ENTER:
22633    1E:D99E             	.LL1083:
22634                        		__case		0
22635                        	
22636                        		.dbg	line,	"main.c", 243; vsync();
22637                        		__call		_vsync
         1E:D99E  20 1D E3   			call	_vsync
22638                        	
22639                        		.dbg	line,	"main.c", 245; if(shop_counter == 0)
22640                        		__not.um	_shop_counter
         1E:D9A1  AD F5 23   			lda	_shop_counter
         1E:D9A4  18         			clc
         1E:D9A5  D0 01      			bne	!+
         1E:D9A7  38         			sec
         1E:D9A8             	!:
22641                        		__bfalse	.LL1084
         1E:D9A8  90 28      			bcc	.LL1084
22642                        	
22643                        		.dbg	line,	"main.c", 246; {
22644                        	
22645                        		.dbg	line,	"main.c", 247; put_string("Maybe, i can sell you" ,  2 , 15);
22646                        		__ld.wi		__const1+135
         1E:D9AA  A9 87      			lda.l	#__const1+135
         1E:D9AC  A0 60      			ldy.h	#__const1+135
22647                        		__st.wmq	_bp
         1E:D9AE  85 EC      			sta.l	_bp
         1E:D9B0  84 ED      			sty.h	_bp
22648                        		__st.umiq	2, _dil
         1E:D9B2  A9 02      			lda.l	#2
         1E:D9B4  85 F0      			sta	_dil
22649                        		__st.umiq	15, _dih
         1E:D9B6  A9 0F      			lda.l	#15
         1E:D9B8  85 F1      			sta	_dih
22650                        		__call		_put_string.3
         1E:D9BA  20 5F E6   			call	_put_string.3
22651                        	
22652                        		.dbg	line,	"main.c", 248; put_string("something..." , 18 , 16);
22653                        		__ld.wi		__const1+157
         1E:D9BD  A9 9D      			lda.l	#__const1+157
         1E:D9BF  A0 60      			ldy.h	#__const1+157
22654                        		__st.wmq	_bp
         1E:D9C1  85 EC      			sta.l	_bp
         1E:D9C3  84 ED      			sty.h	_bp
22655                        		__st.umiq	18, _dil
         1E:D9C5  A9 12      			lda.l	#18
         1E:D9C7  85 F0      			sta	_dil
22656                        		__st.umiq	16, _dih
         1E:D9C9  A9 10      			lda.l	#16
         1E:D9CB  85 F1      			sta	_dih
22657                        		__call		_put_string.3
         1E:D9CD  20 5F E6   			call	_put_string.3
22658                        	
22659                        		.dbg	line,	"main.c", 249; }
22660                        	
22661                        		.dbg	line,	"main.c", 251; else if(shop_counter == 120)
22662                        		__bra		.LL1085
         1E:D9D0  80 44      			bra	.LL1085
22663    1E:D9D2             	.LL1084:
22664                        		__ld.umq	_shop_counter
         1E:D9D2  AD F5 23   			lda	_shop_counter
22665                        		__equ_b.uiq	120
         1E:D9D5  C9 78      			cmp	#120
         1E:D9D7  F0 01      			beq	!+
         1E:D9D9  18         			clc
         1E:D9DA             	!:
22666                        		__bfalse	.LL1086
         1E:D9DA  90 3A      			bcc	.LL1086
22667                        	
22668                        		.dbg	line,	"main.c", 252; {
22669                        	
22670                        		.dbg	line,	"main.c", 253; put_string("                     " ,  2 , 15);
22671                        		__ld.wi		__const1+170
         1E:D9DC  A9 AA      			lda.l	#__const1+170
         1E:D9DE  A0 60      			ldy.h	#__const1+170
22672                        		__st.wmq	_bp
         1E:D9E0  85 EC      			sta.l	_bp
         1E:D9E2  84 ED      			sty.h	_bp
22673                        		__st.umiq	2, _dil
         1E:D9E4  A9 02      			lda.l	#2
         1E:D9E6  85 F0      			sta	_dil
22674                        		__st.umiq	15, _dih
         1E:D9E8  A9 0F      			lda.l	#15
         1E:D9EA  85 F1      			sta	_dih
22675                        		__call		_put_string.3
         1E:D9EC  20 5F E6   			call	_put_string.3
22676                        	
22677                        		.dbg	line,	"main.c", 254; put_string("            " , 18 , 16);
22678                        		__ld.wi		__const1+192
         1E:D9EF  A9 C0      			lda.l	#__const1+192
         1E:D9F1  A0 60      			ldy.h	#__const1+192
22679                        		__st.wmq	_bp
         1E:D9F3  85 EC      			sta.l	_bp
         1E:D9F5  84 ED      			sty.h	_bp
22680                        		__st.umiq	18, _dil
         1E:D9F7  A9 12      			lda.l	#18
         1E:D9F9  85 F0      			sta	_dil
22681                        		__st.umiq	16, _dih
         1E:D9FB  A9 10      			lda.l	#16
         1E:D9FD  85 F1      			sta	_dih
22682                        		__call		_put_string.3
         1E:D9FF  20 5F E6   			call	_put_string.3
22683                        	
22684                        		.dbg	line,	"main.c", 256; spr_x(24);
22685                        		__ld.wi		24
         1E:DA02  A9 18      			lda.l	#24
         1E:DA04  C2         			cly
22686                        		__call		_spr_x.1
         1E:DA05  20 1E E8   			call	_spr_x.1
22687                        	
22688                        		.dbg	line,	"main.c", 257; spr_y(144);
22689                        		__ld.wi		144
         1E:DA08  A9 90      			lda.l	#144
         1E:DA0A  C2         			cly
22690                        		__call		_spr_y.1
         1E:DA0B  20 2D E8   			call	_spr_y.1
22691                        	
22692                        		.dbg	line,	"main.c", 258; satb_update();
22693                        		__call		_satb_update
         1E:DA0E  20 D7 FE   			call	_satb_update
22694                        	
22695                        		.dbg	line,	"main.c", 260; shop_phase = SHOP_PHASE_BUY;
22696                        		__st.umiq	1, _shop_phase
         1E:DA11  A9 01      			lda.l	#1
         1E:DA13  8D F4 23   			sta	_shop_phase
22697                        	
22698                        		.dbg	line,	"main.c", 261; }
22699                        	
22700                        		.dbg	line,	"main.c", 263; shop_counter++;
22701    1E:DA16             	.LL1086:
22702    1E:DA16             	.LL1085:
22703                        		__inc.umq	_shop_counter
         1E:DA16  EE F5 23   			inc	_shop_counter
22704                        	
22705                        		.dbg	line,	"main.c", 265; break;
22706                        		__bra		.LL1082
         1E:DA19  4C 4F D8   			bra	.LL1082
22707                        	
22708                        		.dbg	line,	"main.c", 266; 
22709                        	
22710                        		.dbg	line,	"main.c", 268; case SHOP_PHASE_BUY:
22711    1E:DA1C             	.LL1087:
22712                        		__case		1
22713                        	
22714                        		.dbg	line,	"main.c", 269; vsync();
22715                        		__call		_vsync
         1E:DA1C  20 1D E3   			call	_vsync
22716                        	
22717                        		.dbg	line,	"main.c", 271; joypad_BUTTONS_SHOP();
22718                        		__call		_joypad_BUTTONS_SHOP
         1E:DA1F  20 65 FD   			call	_joypad_BUTTONS_SHOP
22719                        	
22720                        		.dbg	line,	"main.c", 272; display_TIME_SHOP();
22721                        		__call		_display_TIME_SHOP
         1E:DA22  20 5B FD   			call	_display_TIME_SHOP
22722                        	
22723                        		.dbg	line,	"main.c", 273; satb_update();
22724                        		__call		_satb_update
         1E:DA25  20 D7 FE   			call	_satb_update
22725                        	
22726                        		.dbg	line,	"main.c", 275; break;
22727                        		__bra		.LL1082
         1E:DA28  4C 4F D8   			bra	.LL1082
22728                        	
22729                        		.dbg	line,	"main.c", 278; case SHOP_PHASE_EXIT:
22730    1E:DA2B             	.LL1088:
22731                        		__case		2
22732                        	
22733                        		.dbg	line,	"main.c", 279; vsync();
22734                        		__call		_vsync
         1E:DA2B  20 1D E3   			call	_vsync
22735                        	
22736                        		.dbg	line,	"main.c", 281; if(shop_counter == 0)
22737                        		__not.um	_shop_counter
         1E:DA2E  AD F5 23   			lda	_shop_counter
         1E:DA31  18         			clc
         1E:DA32  D0 01      			bne	!+
         1E:DA34  38         			sec
         1E:DA35             	!:
22738                        		__bfalse	.LL1089
         1E:DA35  90 1F      			bcc	.LL1089
22739                        	
22740                        		.dbg	line,	"main.c", 282; {
22741                        	
22742                        		.dbg	line,	"main.c", 283; put_string("GOOD LUCK!" , 11 , 16);
22743                        		__ld.wi		__const1+205
         1E:DA37  A9 CD      			lda.l	#__const1+205
         1E:DA39  A0 60      			ldy.h	#__const1+205
22744                        		__st.wmq	_bp
         1E:DA3B  85 EC      			sta.l	_bp
         1E:DA3D  84 ED      			sty.h	_bp
22745                        		__st.umiq	11, _dil
         1E:DA3F  A9 0B      			lda.l	#11
         1E:DA41  85 F0      			sta	_dil
22746                        		__st.umiq	16, _dih
         1E:DA43  A9 10      			lda.l	#16
         1E:DA45  85 F1      			sta	_dih
22747                        		__call		_put_string.3
         1E:DA47  20 5F E6   			call	_put_string.3
22748                        	
22749                        		.dbg	line,	"main.c", 285; // HIDE CURSOR //
22750                        	
22751                        		.dbg	line,	"main.c", 286; spr_set(0);
22752                        		__ld.uiq	0
         1E:DA4A  62         			cla
22753                        		__call		_spr_set.1
         1E:DA4B  20 F1 E7   			call	_spr_set.1
22754                        	
22755                        		.dbg	line,	"main.c", 287; spr_hide();
22756                        		__call		_spr_hide
         1E:DA4E  20 0C E8   			call	_spr_hide
22757                        	
22758                        		.dbg	line,	"main.c", 288; satb_update();
22759                        		__call		_satb_update
         1E:DA51  20 D7 FE   			call	_satb_update
22760                        	
22761                        		.dbg	line,	"main.c", 289; }
22762                        	
22763                        		.dbg	line,	"main.c", 291; else if(shop_counter == 120)
22764                        		__bra		.LL1090
         1E:DA54  80 22      			bra	.LL1090
22765    1E:DA56             	.LL1089:
22766                        		__ld.umq	_shop_counter
         1E:DA56  AD F5 23   			lda	_shop_counter
22767                        		__equ_b.uiq	120
         1E:DA59  C9 78      			cmp	#120
         1E:DA5B  F0 01      			beq	!+
         1E:DA5D  18         			clc
         1E:DA5E             	!:
22768                        		__bfalse	.LL1091
         1E:DA5E  90 18      			bcc	.LL1091
22769                        	
22770                        		.dbg	line,	"main.c", 292; {
22771                        	
22772                        		.dbg	line,	"main.c", 293; disp_off();
22773                        		__call		_disp_off
         1E:DA60  20 3D E4   			call	_disp_off
22774                        	
22775                        		.dbg	line,	"main.c", 295; // REINIT PLAYER //
22776                        	
22777                        		.dbg	line,	"main.c", 296; init_PLAYER();
22778                        		__call		_init_PLAYER
         1E:DA63  20 19 FE   			call	_init_PLAYER
22779                        	
22780                        		.dbg	line,	"main.c", 298; shop_phase = SHOP_PHASE_EXIT;
22781                        		__st.umiq	2, _shop_phase
         1E:DA66  A9 02      			lda.l	#2
         1E:DA68  8D F4 23   			sta	_shop_phase
22782                        	
22783                        		.dbg	line,	"main.c", 299; respawn = RESPAWN_SHOP;
22784                        		__st.umiq	2, _respawn
         1E:DA6B  A9 02      			lda.l	#2
         1E:DA6D  8D 17 23   			sta	_respawn
22785                        	
22786                        		.dbg	line,	"main.c", 300; sequence_loaded = FALSE;
22787                        		__st.umiq	0, _sequence_loaded
         1E:DA70  9C 14 23   			stz	_sequence_loaded
22788                        	
22789                        		.dbg	line,	"main.c", 301; sequence_id = SEQUENCE_LEVEL;
22790                        		__st.umiq	2, _sequence_id
         1E:DA73  A9 02      			lda.l	#2
         1E:DA75  8D 13 23   			sta	_sequence_id
22791                        	
22792                        		.dbg	line,	"main.c", 302; }
22793                        	
22794                        		.dbg	line,	"main.c", 304; shop_counter++;
22795    1E:DA78             	.LL1091:
22796    1E:DA78             	.LL1090:
22797                        		__inc.umq	_shop_counter
         1E:DA78  EE F5 23   			inc	_shop_counter
22798                        	
22799                        		.dbg	line,	"main.c", 306; break;
22800                        		__bra		.LL1082
         1E:DA7B  4C 4F D8   			bra	.LL1082
22801                        	
22802                        		.dbg	line,	"main.c", 307; }
22803    1E:DA7E             	.LL1081:
22804                        		__switch_r.ur	0, 2
         1E:DA7E  C9 03      			cmp	#(2 - 0) + 1
         1E:DA80  90 02      			bcc	!found+
         1E:DA82  A9 03      	!default:	lda	#(2 - 0) + 1
         1E:DA84  0A         	!found:		asl	a
         1E:DA85  AA         			tax
         1E:DA86  7C 89 DA   			jmp	[!table+, x]
22805                        	
22806    1E:DA89  9E D9      	!table:		dw	.LL1083, .LL1087, .LL1088
         1E:DA8B  1C DA       
         1E:DA8D  2B DA       
22807    1E:DA8F  4F D8      			dw	.LL1082
22808    1E:DA91             	.LL1082	.alias		.LL1056
22809                        	
22810                        		.dbg	line,	"main.c", 308; }
22811    1E:DA91             	.LL1080	.alias		.LL1056
22812                        	
22813                        		.dbg	line,	"main.c", 310; break;
22814                        		__bra		.LL1056
         1E:DA91  4C 4F D8   			bra	.LL1056
22815                        	
22816                        		.dbg	line,	"main.c", 311; }
22817    1E:DA94             	.LL1055:
22818                        		__switch_r.ur	0, 5
         1E:DA94  C9 06      			cmp	#(5 - 0) + 1
         1E:DA96  90 02      			bcc	!found+
         1E:DA98  A9 06      	!default:	lda	#(5 - 0) + 1
         1E:DA9A  0A         	!found:		asl	a
         1E:DA9B  AA         			tax
         1E:DA9C  7C 9F DA   			jmp	[!table+, x]
22819                        	
22820    1E:DA9F  55 D8      	!table:		dw	.LL1057, .LL1060, .LL1063, .LL1076, .LL1077, .LL1078
         1E:DAA1  73 D8       
         1E:DAA3  94 D8       
         1E:DAA5  7B D9       
         1E:DAA7  7E D9       
         1E:DAA9  84 D9       
22821    1E:DAAB  4F D8      			dw	.LL1056
22822    1E:DAAD             	.LL1056	.alias		.LL1053
22823                        	
22824                        		.dbg	line,	"main.c", 312; }
22825                        		__bra		.LL1053
         1E:DAAD  4C 4F D8   			bra	.LL1053
22826    1E:DAB0             	.LL1054:
22827                        	
22828                        		.dbg	line,	"main.c", 313; }
22829    1E:DAB0             	.LL1045:
22830                        		__return	1
         1E:DAB0  AA         			tax
         1E:DAB1  4C EF FF   			jmp	leave_proc
22831                        		.dbg	clear
22832                        		.endp
22833                        		.pceas
22834                        	
22835                        		.dbg	clear
22836               6000     		.rodata
22837    01:6000             	__const1:
22838    01:6000  53 54 41 52			db	'S','T','A','R','T',' ','G','A'
         01:6004  54 20 47 41 
22839    01:6008  4D 45 00 4C			db	'M','E',$00,'L','I','F','E',$00
         01:600C  49 46 45 00 
22840    01:6010  43 52 45 44			db	'C','R','E','D','I','T','S',$00
         01:6014  49 54 53 00 
22841    01:6018  43 41 50 43			db	'C','A','P','C','O','M',' ','1'
         01:601C  4F 4D 20 31 
22842    01:6020  39 38 37 00			db	'9','8','7',$00,'R','O','U','N'
         01:6024  52 4F 55 4E 
22843    01:6028  44 00 52 45			db	'D',$00,'R','E','A','D','Y',' '
         01:602C  41 44 59 20 
22844    01:6030  50 4C 41 59			db	'P','L','A','Y','E','R',' ','1'
         01:6034  45 52 20 31 
22845    01:6038  00 53 41 56			db	$00,'S','A','V','E',' ',' ',' '
         01:603C  45 20 20 20 
22846    01:6040  4C 49 56 45			db	'L','I','V','E','S',$00,'H','a'
         01:6044  53 00 48 61 
22847    01:6048  6C 74 3A 20			db	'l','t',':',' ','S','G','X',' '
         01:604C  53 47 58 20 
22848    01:6050  68 61 72 64			db	'h','a','r','d','w','a','r','e'
         01:6054  77 61 72 65 
22849    01:6058  20 6E 6F 74			db	' ','n','o','t',' ','f','o','u'
         01:605C  20 66 6F 75 
22850    01:6060  6E 64 00 20			db	'n','d',$00,' ',' ',' ',' ',' '
         01:6064  20 20 20 20 
22851    01:6068  20 20 00 20			db	' ',' ',$00,' ',' ',' ',' ',' '
         01:606C  20 20 20 20 
22852    01:6070  20 20 20 20			db	' ',' ',' ',' ',' ',' ',' ',' '
         01:6074  20 20 20 20 
22853    01:6078  20 00 20 20			db	' ',$00,' ',' ',' ',' ',' ',' '
         01:607C  20 20 20 20 
22854    01:6080  20 20 20 20			db	' ',' ',' ',' ',' ',' ',$00,'M'
         01:6084  20 20 00 4D 
22855    01:6088  61 79 62 65			db	'a','y','b','e',',',' ','i',' '
         01:608C  2C 20 69 20 
22856    01:6090  63 61 6E 20			db	'c','a','n',' ','s','e','l','l'
         01:6094  73 65 6C 6C 
22857    01:6098  20 79 6F 75			db	' ','y','o','u',$00,'s','o','m'
         01:609C  00 73 6F 6D 
22858    01:60A0  65 74 68 69			db	'e','t','h','i','n','g','.','.'
         01:60A4  6E 67 2E 2E 
22859    01:60A8  2E 00 20 20			db	'.',$00,' ',' ',' ',' ',' ',' '
         01:60AC  20 20 20 20 
22860    01:60B0  20 20 20 20			db	' ',' ',' ',' ',' ',' ',' ',' '
         01:60B4  20 20 20 20 
22861    01:60B8  20 20 20 20			db	' ',' ',' ',' ',' ',' ',' ',$00
         01:60BC  20 20 20 00 
22862    01:60C0  20 20 20 20			db	' ',' ',' ',' ',' ',' ',' ',' '
         01:60C4  20 20 20 20 
22863    01:60C8  20 20 20 20			db	' ',' ',' ',' ',$00,'G','O','O'
         01:60CC  00 47 4F 4F 
22864    01:60D0  44 20 4C 55			db	'D',' ','L','U','C','K','!',$00
         01:60D4  43 4B 21 00 
22865    01:60D8             	_TABLE_INTRO_TEXT:
22866    01:60D8  4C 6F 6E 67			db	"Long Long ago, three dragonsdescended from skies above  with a rolling thunder and  destroyed a kingdom into    darkness.                   From lengthy suffering and  darkness of the kingdom     came one brave fighter.    "
         01:60DC  20 4C 6F 6E 
         01:60E0  67 20 61 67 
         01:60E4  6F 2C 20 74 
         01:60E8  68 72 65 65 
         01:60EC  20 64 72 61 
         01:60F0  67 6F 6E 73 
         01:60F4  64 65 73 63 
         01:60F8  65 6E 64 65 
         01:60FC  64 20 66 72 
         01:6100  6F 6D 20 73 
         01:6104  6B 69 65 73 
         01:6108  20 61 62 6F 
         01:610C  76 65 20 20 
         01:6110  77 69 74 68 
         01:6114  20 61 20 72 
         01:6118  6F 6C 6C 69 
         01:611C  6E 67 20 74 
         01:6120  68 75 6E 64 
         01:6124  65 72 20 61 
         01:6128  6E 64 20 20 
         01:612C  64 65 73 74 
         01:6130  72 6F 79 65 
         01:6134  64 20 61 20 
         01:6138  6B 69 6E 67 
         01:613C  64 6F 6D 20 
         01:6140  69 6E 74 6F 
         01:6144  20 20 20 20 
         01:6148  64 61 72 6B 
         01:614C  6E 65 73 73 
         01:6150  2E 20 20 20 
         01:6154  20 20 20 20 
         01:6158  20 20 20 20 
         01:615C  20 20 20 20 
         01:6160  20 20 20 20 
         01:6164  46 72 6F 6D 
         01:6168  20 6C 65 6E 
         01:616C  67 74 68 79 
         01:6170  20 73 75 66 
         01:6174  66 65 72 69 
         01:6178  6E 67 20 61 
         01:617C  6E 64 20 20 
         01:6180  64 61 72 6B 
         01:6184  6E 65 73 73 
         01:6188  20 6F 66 20 
         01:618C  74 68 65 20 
         01:6190  6B 69 6E 67 
         01:6194  64 6F 6D 20 
         01:6198  20 20 20 20 
         01:619C  63 61 6D 65 
         01:61A0  20 6F 6E 65 
         01:61A4  20 62 72 61 
         01:61A8  76 65 20 66 
         01:61AC  69 67 68 74 
         01:61B0  65 72 2E 20 
         01:61B4  20 20 20    
22867    01:61B7             	_TABLE_NPC_TYPE_LV1:
22868    01:61B7  01         			db	1
22869    01:61B8  00         			db	0
22870    01:61B9             	_TABLE_NPC_X_POS_REF_LV1:
22871    01:61B9  90 03      			dw	912
22872    01:61BB  D0 04      			dw	1232
22873    01:61BD             	_TABLE_NPC_Y_POS_REF_LV1:
22874    01:61BD  40 02      			dw	576
22875    01:61BF  90 01      			dw	400
22876    01:61C1             	_TABLE_OBJECT_TYPE_LV1:
22877    01:61C1  00         			db	0
22878    01:61C2  01         			db	1
22879    01:61C3  01         			db	1
22880    01:61C4  01         			db	1
22881    01:61C5  01         			db	1
22882    01:61C6  01         			db	1
22883    01:61C7  01         			db	1
22884    01:61C8  02         			db	2
22885    01:61C9  01         			db	1
22886    01:61CA  01         			db	1
22887    01:61CB  01         			db	1
22888    01:61CC  01         			db	1
22889    01:61CD  01         			db	1
22890    01:61CE  01         			db	1
22891    01:61CF  01         			db	1
22892    01:61D0  01         			db	1
22893    01:61D1  01         			db	1
22894    01:61D2  01         			db	1
22895    01:61D3  01         			db	1
22896    01:61D4  01         			db	1
22897    01:61D5  01         			db	1
22898    01:61D6  01         			db	1
22899    01:61D7  01         			db	1
22900    01:61D8             	_TABLE_OBJECT_X_POS_REF_LV1:
22901    01:61D8  90 06      			dw	1680
22902    01:61DA  00 05      			dw	1280
22903    01:61DC  C0 05      			dw	1472
22904    01:61DE  A0 05      			dw	1440
22905    01:61E0  90 04      			dw	1168
22906    01:61E2  B0 04      			dw	1200
22907    01:61E4  C0 03      			dw	960
22908    01:61E6  D8 03      			dw	984
22909    01:61E8  50 05      			dw	1360
22910    01:61EA  70 05      			dw	1392
22911    01:61EC  10 06      			dw	1552
22912    01:61EE  90 06      			dw	1680
22913    01:61F0  B0 06      			dw	1712
22914    01:61F2  D0 06      			dw	1744
22915    01:61F4  E0 04      			dw	1248
22916    01:61F6  00 05      			dw	1280
22917    01:61F8  90 04      			dw	1168
22918    01:61FA  10 04      			dw	1040
22919    01:61FC  80 02      			dw	640
22920    01:61FE  A0 02      			dw	672
22921    01:6200  50 01      			dw	336
22922    01:6202  70 01      			dw	368
22923    01:6204  A0 01      			dw	416
22924    01:6206             	_TABLE_OBJECT_Y_POS_REF_LV1:
22925    01:6206  80 01      			dw	384
22926    01:6208  A0 01      			dw	416
22927    01:620A  E0 01      			dw	480
22928    01:620C  F0 01      			dw	496
22929    01:620E  30 02      			dw	560
22930    01:6210  30 02      			dw	560
22931    01:6212  50 02      			dw	592
22932    01:6214  50 02      			dw	592
22933    01:6216  50 02      			dw	592
22934    01:6218  50 02      			dw	592
22935    01:621A  C0 02      			dw	704
22936    01:621C  D0 02      			dw	720
22937    01:621E  D0 02      			dw	720
22938    01:6220  D0 02      			dw	720
22939    01:6222  E0 02      			dw	736
22940    01:6224  E0 02      			dw	736
22941    01:6226  F0 02      			dw	752
22942    01:6228  50 03      			dw	848
22943    01:622A  70 03      			dw	880
22944    01:622C  70 03      			dw	880
22945    01:622E  80 03      			dw	896
22946    01:6230  80 03      			dw	896
22947    01:6232  80 03      			dw	896
22948    01:6234             	_TABLE_REWARD_TYPE_LV1:
22949    01:6234  63         			db	99
22950    01:6235  04         			db	4
22951    01:6236  08         			db	8
22952    01:6237  08         			db	8
22953    01:6238  04         			db	4
22954    01:6239  09         			db	9
22955    01:623A  09         			db	9
22956    01:623B  63         			db	99
22957    01:623C  04         			db	4
22958    01:623D  00         			db	0
22959    01:623E  09         			db	9
22960    01:623F  00         			db	0
22961    01:6240  04         			db	4
22962    01:6241  09         			db	9
22963    01:6242  04         			db	4
22964    01:6243  09         			db	9
22965    01:6244  08         			db	8
22966    01:6245  09         			db	9
22967    01:6246  08         			db	8
22968    01:6247  09         			db	9
22969    01:6248  04         			db	4
22970    01:6249  08         			db	8
22971    01:624A  04         			db	4
22972    01:624B             	_TABLE_REWARD_VRAM_ADR_LV1:
22973    01:624B  63 00      			dw	99
22974    01:624D  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22975    01:624F  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22976    01:6251  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22977    01:6253  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22978    01:6255  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22979    01:6257  00 6B      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64+64
22980    01:6259  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22981    01:625B  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22982    01:625D  40 6D      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64
22983    01:625F  00 6B      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64+64
22984    01:6261  40 6D      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64+64
22985    01:6263  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22986    01:6265  00 6B      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64+64
22987    01:6267  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22988    01:6269  00 6B      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64+64
22989    01:626B  C0 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64
22990    01:626D  00 6B      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64+64
22991    01:626F  C0 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64
22992    01:6271  00 6B      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64+64
22993    01:6273  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22994    01:6275  C0 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64+64+64
22995    01:6277  40 6A      			dw	0x6800+64+64+64+64+64+64+64+64+64
22996    01:6279             	_TABLE_CHEST_X_POS_REF_LV1:
22997    01:6279  30 04      			dw	1072
22998    01:627B  30 03      			dw	816
22999    01:627D             	_TABLE_CHEST_Y_POS_REF_LV1:
23000    01:627D  40 03      			dw	832
23001    01:627F  50 03      			dw	848
23002    01:6281             	_TABLE_PLAYER_TILES_ADR:
23003    01:6281  C0 65      			dw	_tiles_SPR_PLAYER_ARMOR
23004    01:6283  C0 77      			dw	_tiles_SPR_PLAYER_NAKED
23005    01:6285             	_TABLE_PLAYER_TILES_BANK:
23006    01:6285  16         			db	^_tiles_SPR_PLAYER_ARMOR
23007    01:6286  17         			db	^_tiles_SPR_PLAYER_NAKED
23008    01:6287             	_TABLE_PLAYER_JUMP_V:
23009    01:6287  FC         			db	-4
23010    01:6288  FB         			db	-5
23011    01:6289  F6         			db	-10
23012    01:628A  FC         			db	-4
23013    01:628B  FC         			db	-4
23014    01:628C  F9         			db	-7
23015    01:628D  FA         			db	-6
23016    01:628E  FD         			db	-3
23017    01:628F  FB         			db	-5
23018    01:6290  FE         			db	-2
23019    01:6291  FC         			db	-4
23020    01:6292  FF         			db	-1
23021    01:6293  FF         			db	-1
23022    01:6294  FF         			db	-1
23023    01:6295  FF         			db	-1
23024    01:6296  00         			db	0
23025    01:6297  00         			db	0
23026    01:6298  00         			db	0
23027    01:6299  00         			db	0
23028    01:629A  01         			db	1
23029    01:629B  01         			db	1
23030    01:629C  01         			db	1
23031    01:629D  01         			db	1
23032    01:629E  04         			db	4
23033    01:629F  02         			db	2
23034    01:62A0  05         			db	5
23035    01:62A1  03         			db	3
23036    01:62A2  06         			db	6
23037    01:62A3  07         			db	7
23038    01:62A4  04         			db	4
23039    01:62A5  04         			db	4
23040    01:62A6  0A         			db	10
23041    01:62A7  04         			db	4
23042    01:62A8  04         			db	4
23043    01:62A9  05         			db	5
23044    01:62AA             	_TABLE_PLAYER_FALL:
23045    01:62AA  00         			db	0
23046    01:62AB  00         			db	0
23047    01:62AC  00         			db	0
23048    01:62AD  00         			db	0
23049    01:62AE  01         			db	1
23050    01:62AF  01         			db	1
23051    01:62B0  01         			db	1
23052    01:62B1  01         			db	1
23053    01:62B2  02         			db	2
23054    01:62B3  02         			db	2
23055    01:62B4  02         			db	2
23056    01:62B5  02         			db	2
23057    01:62B6  03         			db	3
23058    01:62B7  03         			db	3
23059    01:62B8  03         			db	3
23060    01:62B9  04         			db	4
23061    01:62BA  04         			db	4
23062    01:62BB  04         			db	4
23063    01:62BC  04         			db	4
23064    01:62BD  04         			db	4
23065    01:62BE  05         			db	5
23066    01:62BF             	_TABLE_PLAYER_JUMP_LADDER:
23067    01:62BF  FC         			db	-4
23068    01:62C0  FC         			db	-4
23069    01:62C1  FD         			db	-3
23070    01:62C2  FD         			db	-3
23071    01:62C3  FD         			db	-3
23072    01:62C4  FE         			db	-2
23073    01:62C5  FE         			db	-2
23074    01:62C6  FE         			db	-2
23075    01:62C7  FF         			db	-1
23076    01:62C8  FF         			db	-1
23077    01:62C9  FF         			db	-1
23078    01:62CA  FF         			db	-1
23079    01:62CB  FF         			db	-1
23080    01:62CC  00         			db	0
23081    01:62CD  00         			db	0
23082    01:62CE  00         			db	0
23083    01:62CF  00         			db	0
23084    01:62D0  01         			db	1
23085    01:62D1  01         			db	1
23086    01:62D2  01         			db	1
23087    01:62D3  01         			db	1
23088    01:62D4  01         			db	1
23089    01:62D5  02         			db	2
23090    01:62D6  02         			db	2
23091    01:62D7  02         			db	2
23092    01:62D8  03         			db	3
23093    01:62D9  03         			db	3
23094    01:62DA  03         			db	3
23095    01:62DB  04         			db	4
23096    01:62DC  04         			db	4
23097    01:62DD             	_TABLE_WEAPON_TILES_ADR:
23098    01:62DD  40 72      			dw	_tiles_SPR_WEAPON_0
23099    01:62DF  C0 74      			dw	_tiles_SPR_WEAPON_1
23100    01:62E1  40 77      			dw	_tiles_SPR_WEAPON_2
23101    01:62E3  C0 79      			dw	_tiles_SPR_WEAPON_3
23102    01:62E5  40 7C      			dw	_tiles_SPR_WEAPON_4
23103    01:62E7             	_TABLE_WEAPON_TILES_BANK:
23104    01:62E7  19         			db	^_tiles_SPR_WEAPON_0
23105    01:62E8  19         			db	^_tiles_SPR_WEAPON_1
23106    01:62E9  19         			db	^_tiles_SPR_WEAPON_2
23107    01:62EA  19         			db	^_tiles_SPR_WEAPON_3
23108    01:62EB  19         			db	^_tiles_SPR_WEAPON_4
23109    01:62EC             	_TABLE_SHOP_ITEMS_LV1:
23110    01:62EC  00         			db	0
23111    01:62ED  01         			db	1
23112    01:62EE  02         			db	2
23113    01:62EF  03         			db	3
23114    01:62F0  04         			db	4
23115    01:62F1  05         			db	5
23116    01:62F2  06         			db	6
23117    01:62F3  07         			db	7
23118    01:62F4  08         			db	8
23119    01:62F5  09         			db	9
23120    01:62F6             	_TABLE_SHOP_PRICES_LV1:
23121    01:62F6  64 00      			dw	100
23122    01:62F8  E8 03      			dw	1000
23123    01:62FA  60 09      			dw	2400
23124    01:62FC  80 25      			dw	9600
23125    01:62FE  1E 00      			dw	30
23126    01:6300  50 00      			dw	80
23127    01:6302  2C 01      			dw	300
23128    01:6304  20 03      			dw	800
23129    01:6306  40 06      			dw	1600
23130    01:6308  96 00      			dw	150
23131    01:630A             	_TABLE_SHOP_ITEMS_TILES_ADR:
23132    01:630A  E0 68      			dw	_tiles_ITEM_WEAPON_2
23133    01:630C  60 69      			dw	_tiles_ITEM_WEAPON_3
23134    01:630E  E0 69      			dw	_tiles_ITEM_WEAPON_4
23135    01:6310  60 6A      			dw	_tiles_ITEM_WEAPON_5
23136    01:6312  E0 6A      			dw	_tiles_ITEM_KEY
23137    01:6314  60 6B      			dw	_tiles_ITEM_ARMOR_2
23138    01:6316  E0 6B      			dw	_tiles_ITEM_ARMOR_3
23139    01:6318  60 6C      			dw	_tiles_ITEM_ARMOR_4
23140    01:631A  E0 6C      			dw	_tiles_ITEM_ARMOR_5
23141    01:631C  60 6D      			dw	_tiles_ITEM_POTION
23142    01:631E             	_TABLE_SHOP_ITEMS_TILES_BANK:
23143    01:631E  12         			db	^_tiles_ITEM_WEAPON_2
23144    01:631F  12         			db	^_tiles_ITEM_WEAPON_3
23145    01:6320  12         			db	^_tiles_ITEM_WEAPON_4
23146    01:6321  12         			db	^_tiles_ITEM_WEAPON_5
23147    01:6322  12         			db	^_tiles_ITEM_KEY
23148    01:6323  12         			db	^_tiles_ITEM_ARMOR_2
23149    01:6324  12         			db	^_tiles_ITEM_ARMOR_3
23150    01:6325  12         			db	^_tiles_ITEM_ARMOR_4
23151    01:6326  12         			db	^_tiles_ITEM_ARMOR_5
23152    01:6327  12         			db	^_tiles_ITEM_POTION
23153    01:6328             	_TABLE_CURSOR_POS_X:
23154    01:6328  18         			db	24
23155    01:6329  38         			db	56
23156    01:632A  60         			db	96
23157    01:632B  88         			db	136
23158    01:632C  B0         			db	176
23159    01:632D  18         			db	24
23160    01:632E  38         			db	56
23161    01:632F  60         			db	96
23162    01:6330  88         			db	136
23163    01:6331  B0         			db	176
23164    01:6332  D4         			db	212
23165                        	
23166               2313     		.bss
23167    F8:2313             	_sequence_id:
23168    F8:2313             			ds	1
23169    F8:2314             	_sequence_loaded:
23170    F8:2314             			ds	1
23171    F8:2315             	_level_id:
23172    F8:2315             			ds	1
23173    F8:2316             	_display_level_text:
23174    F8:2316             			ds	1
23175    F8:2317             	_respawn:
23176    F8:2317             			ds	1
23177    F8:2318             	_player_id:
23178    F8:2318             			ds	1
23179    F8:2319             	_player_state:
23180    F8:2319             			ds	1
23181    F8:231A             	_player_axis:
23182    F8:231A             			ds	1
23183    F8:231B             	_player_previous_axis:
23184    F8:231B             			ds	1
23185    F8:231C             	_player_counter_anim:
23186    F8:231C             			ds	1
23187    F8:231D             	_player_index_jump:
23188    F8:231D             			ds	1
23189    F8:231E             	_player_index_fall:
23190    F8:231E             			ds	1
23191    F8:231F             	_player_counter_attack:
23192    F8:231F             			ds	1
23193    F8:2320             	_player_naked:
23194    F8:2320             			ds	1
23195    F8:2321             	_player_attack:
23196    F8:2321             			ds	1
23197    F8:2322             	_jump_ladder:
23198    F8:2322             			ds	1
23199    F8:2323             	_jump_max_index:
23200    F8:2323             			ds	1
23201    F8:2324             	_fall_ladder:
23202    F8:2324             			ds	1
23203    F8:2325             	_hit_wall:
23204    F8:2325             			ds	1
23205    F8:2326             	_chain_id:
23206    F8:2326             			ds	1
23207    F8:2327             	_weapon_id:
23208    F8:2327             			ds	1
23209    F8:2328             	_armor_level:
23210    F8:2328             			ds	1
23211    F8:2329             	_weapon_level:
23212    F8:2329             			ds	1
23213    F8:232A             	_chain_unfold:
23214    F8:232A             			ds	1
23215    F8:232B             	_list_chain_active:
23216    F8:232B             			ds	3
23217    F8:232E             	_life_amount:
23218    F8:232E             			ds	1
23219    F8:232F             	_credits_amount:
23220    F8:232F             			ds	1
23221    F8:2330             	_key_amount:
23222    F8:2330             			ds	1
23223    F8:2331             	_potion_amount:
23224    F8:2331             			ds	1
23225    F8:2332             	_minutes:
23226    F8:2332             			ds	1
23227    F8:2333             	_seconds:
23228    F8:2333             			ds	1
23229    F8:2334             	_time_counter:
23230    F8:2334             			ds	1
23231    F8:2335             	_minutes_backup:
23232    F8:2335             			ds	1
23233    F8:2336             	_seconds_backup:
23234    F8:2336             			ds	1
23235    F8:2337             	_object_start_index:
23236    F8:2337             			ds	1
23237    F8:2338             	_level_object_number:
23238    F8:2338             			ds	1
23239    F8:2339             	_onscreen_object_number:
23240    F8:2339             			ds	1
23241    F8:233A             	_list_object_type:
23242    F8:233A             			ds	25
23243    F8:2353             	_list_object_state:
23244    F8:2353             			ds	25
23245    F8:236C             	_list_object_energy:
23246    F8:236C             			ds	25
23247    F8:2385             	_list_reward_type:
23248    F8:2385             			ds	25
23249    F8:239E             	_list_object_counter:
23250    F8:239E             			ds	25
23251    F8:23B7             	_list_onscreen_object:
23252    F8:23B7             			ds	8
23253    F8:23BF             	_chest_start_index:
23254    F8:23BF             			ds	1
23255    F8:23C0             	_level_chest_number:
23256    F8:23C0             			ds	1
23257    F8:23C1             	_onscreen_chest_number:
23258    F8:23C1             			ds	1
23259    F8:23C2             	_list_chest_state:
23260    F8:23C2             			ds	8
23261    F8:23CA             	_list_onscreen_chest:
23262    F8:23CA             			ds	8
23263    F8:23D2             	_npc_start_index:
23264    F8:23D2             			ds	1
23265    F8:23D3             	_level_npc_number:
23266    F8:23D3             			ds	1
23267    F8:23D4             	_onscreen_npc_number:
23268    F8:23D4             			ds	1
23269    F8:23D5             	_selected_npc:
23270    F8:23D5             			ds	1
23271    F8:23D6             	_list_npc_type:
23272    F8:23D6             			ds	9
23273    F8:23DF             	_list_npc_state:
23274    F8:23DF             			ds	9
23275    F8:23E8             	_list_onscreen_npc:
23276    F8:23E8             			ds	9
23277    F8:23F1             	_index_x:
23278    F8:23F1             			ds	1
23279    F8:23F2             	_index_y:
23280    F8:23F2             			ds	1
23281    F8:23F3             	_item_index:
23282    F8:23F3             			ds	1
23283    F8:23F4             	_shop_phase:
23284    F8:23F4             			ds	1
23285    F8:23F5             	_shop_counter:
23286    F8:23F5             			ds	1
23287    F8:23F6             	_palette_step:
23288    F8:23F6             			ds	1
23289    F8:23F7             	_tilemap_mask:
23290    F8:23F7             			ds	256
23291    F8:24F7             	_player_pos_x:
23292    F8:24F7             			ds	2
23293    F8:24F9             	_player_pos_y:
23294    F8:24F9             			ds	2
23295    F8:24FB             	_camera_max_y_position:
23296    F8:24FB             			ds	2
23297    F8:24FD             	_camera_pos_x_backup:
23298    F8:24FD             			ds	2
23299    F8:24FF             	_camera_pos_y_backup:
23300    F8:24FF             			ds	2
23301    F8:2501             	_list_object_x_pos:
23302    F8:2501             			ds	50
23303    F8:2533             	_list_object_y_pos:
23304    F8:2533             			ds	50
23305    F8:2565             	_list_object_x_pos_ref:
23306    F8:2565             			ds	50
23307    F8:2597             	_list_object_y_pos_ref:
23308    F8:2597             			ds	50
23309    F8:25C9             	_list_chest_x_pos:
23310    F8:25C9             			ds	16
23311    F8:25D9             	_list_chest_y_pos:
23312    F8:25D9             			ds	16
23313    F8:25E9             	_list_chest_x_pos_ref:
23314    F8:25E9             			ds	16
23315    F8:25F9             	_list_chest_y_pos_ref:
23316    F8:25F9             			ds	16
23317    F8:2609             	_list_npc_x_pos:
23318    F8:2609             			ds	18
23319    F8:261B             	_list_npc_y_pos:
23320    F8:261B             			ds	18
23321    F8:262D             	_list_npc_x_pos_ref:
23322    F8:262D             			ds	18
23323    F8:263F             	_list_npc_y_pos_ref:
23324    F8:263F             			ds	18
23325    F8:2651             	_global_counter:
23326    F8:2651             			ds	2
23327    F8:2653             	_letter_index:
23328    F8:2653             			ds	2
23329    F8:2655             	_letter_counter:
23330    F8:2655             			ds	2
23331    F8:2657             	_zenny_amount:
23332    F8:2657             			ds	2
23333    F8:2659             	_score:
23334    F8:2659             			ds	2
23335    F8:265B             	_shop_prices:
23336    F8:265B             			ds	20
23337    F8:266F             	_palette_buffer:
23338    F8:266F             			ds	32
23339    F8:268F             	_weapon_y_offset:
23340    F8:268F             			ds	1
23341    F8:2690             	_ptr_REWARD_TYPE:
23342    F8:2690             			ds	2
23343    F8:2692             	_ptr_REWARD_VRAM_ADR:
23344    F8:2692             			ds	2
23345    F8:2694             	_ptr_SHOP_ITEM_PRICES:
23346    F8:2694             			ds	2
23347                        	
23348               E31D     		.code
23349               0001     		.if		leaf_needs < 7
23350               0007     	leaf_needs	.set	7
23351                        		.endif
23352                        	
23353                        	;0 error(s) in compilation
23354                        	;	literal pool:216
23355                        	;	constant pool:381
23356                        	;	global pool:585
23357                        	;	Macro pool:332
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-final.asm
    5                        	;
    6                        	; PCEAS auto-includes this file at the end of every pass in HuCC or SDCC.
    7                        	;
    8                        	; Copyright John Brandwood 2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; This is used to select which assembly-language library files to include in
   18                        	; a HuCC project, using labels defined in the compiler's header files.
   19                        	;
   20                        	; ***************************************************************************
   21                        	; ***************************************************************************
   22                        	
   23                        			; Allow projects to customize what is included at the end
   24                        			; of a pass without replacing the entire "hucc-final.asm".
   25                        	
   26               E31D     			.code
   27               0000     			.bank	CORE_BANK
   28               E31D     			.page	CORE_PAGE
   29                        	
                             #[3]   "..\..\..\include\hucc\hucc-final-extra.asm"
   30                        			include	"hucc-final-extra.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-final-extra.asm
    5                        	;
    6                        	; hucc-final.asm includes this file at the end of every pass in HuCC or SDCC.
    7                        	;
    8                        	; Copyright John Brandwood 2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; This is used to select which assembly-language library files to include in
   18                        	; a HuCC project, using labels defined in the compiler's header files.
   19                        	;
   20                        	; ***************************************************************************
   21                        	; ***************************************************************************
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   31                        	
   32                        			; Libraries required for basic functionality.
   33                        	
   34               E31D     			.code
   35               0000     			.bank	CORE_BANK
   36               E31D     			.page	CORE_PAGE
   37                        	
                             #[3]   "..\..\..\include\hucc\common.asm"
   38                        			include	"common.asm"		; Common helpers.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; common.asm
    5                        	;
    6                        	; Small, generic, PCE subroutines that are commonly useful when developing.
    7                        	;
    8                        	; These should be located in permanently-accessible memory!
    9                        	;
   10                        	; Copyright John Brandwood 2021-2024.
   11                        	;
   12                        	; Distributed under the Boost Software License, Version 1.0.
   13                        	; (See accompanying file LICENSE_1_0.txt or copy at
   14                        	;  http://www.boost.org/LICENSE_1_0.txt)
   15                        	;
   16                        	; ***************************************************************************
   17                        	; ***************************************************************************
   18                        	
   19                        	
   20                        	
   21                        	; ***************************************************************************
   22                        	; ***************************************************************************
   23                        	;
   24                        	; Wait for the next VBLANK IRQ.
   25                        	;
   26                        	
   27    00:E31D  AD 41 22   	wait_vsync:	lda	irq_cnt			; System Card variable, changed
   28    00:E320  CD 41 22   	.loop:		cmp	irq_cnt			; every VBLANK interrupt.
   29    00:E323  F0 FB      			beq	.loop
   30               0001     		.ifdef	HUCC
   31    00:E325  8D EB 22   			sta	old_cnt			; Remember the frame count.
   32                        		.endif
   33    00:E328  60         			rts
   34                        	
   35                        	
   36                        	
   37                        	; ***************************************************************************
   38                        	; ***************************************************************************
   39                        	;
   40                        	; Delay for the next Y VBLANK IRQs.
   41                        	;
   42                        	
   43               0001     		.ifdef	HUCC
   44    00:E329             	_vsync		.alias	wait_vsync
   45                        	
   46    00:E329  AD 41 22   	_vsync.1:	lda	irq_cnt			; HuCC's vsync(n) was defined
   47    00:E32C  38         			sec				; as frames from the previous
   48    00:E32D  ED EB 22   			sbc	old_cnt			; vsync() call, 1 to 255.
   49    00:E330  38         			sec
   50    00:E331  E5 F8      			sbc	<_al
   51    00:E333  90 02      			bcc	!+
   52    00:E335  A9 FF      			lda	#$FF
   53    00:E337  49 FF      	!:		eor	#$FF
   54    00:E339  1A         			inc	a
   55    00:E33A  A8         			tay
   56                        		.endif
   57                        	
   58    00:E33B  44 E0      	wait_nvsync:	bsr	wait_vsync		; # of VBLANK IRQs to wait in
   59    00:E33D  88         			dey				; the Y register.
   60    00:E33E  D0 FB      			bne	wait_nvsync
   61    00:E340  60         			rts
   62                        	
   63                        	
   64                        	
   65               0000     		.ifndef	HUCC
  101                        		.endif
  102                        	
  103                        	
  104                        	
  105                        	; ***************************************************************************
  106                        	; ***************************************************************************
  107                        	;
  108                        	; Map the _bp data far-pointer into MPR3 (& MPR4).
  109                        	;
  110                        	; Because the 16KB RAM region at $2000-$5FFF is composed of two separate
  111                        	; banks, with the 2nd bank having no specific relation to the 1st, there
  112                        	; is no way to deal with a bank-increment, so do not map that region.
  113                        	;
  114                        	; N.B. Library code relies on this preserving X and V!
  115                        	;
  116                        	
  117    00:E341  98         	map_bp_to_mpr3:	tya				; Put bank into MPR3.
  118    00:E342  F0 0A      			beq	!+
  119    00:E344  53 08      			tam3
  120    00:E346  A5 ED      			lda.h	<_bp			; Do not remap a ptr to RAM,
  121    00:E348  29 1F      			and	#$1F			; Remap ptr to MPR3.
  122    00:E34A  09 60      			ora	#$60
  123    00:E34C  85 ED      			sta.h	<_bp
  124    00:E34E  60         	!:		rts
  125                        	
  126    00:E34F  98         	map_bp_to_mpr34:tya				; Put bank into MPR3.
  127    00:E350  F0 0D      			beq	!+
  128    00:E352  53 08      			tam3
  129    00:E354  1A         			inc	a			; Put next into MPR4.
  130    00:E355  53 10      			tam4
  131    00:E357  A5 ED      			lda.h	<_bp			; Do not remap a ptr to RAM,
  132    00:E359  29 1F      			and	#$1F			; Remap ptr to MPR3.
  133    00:E35B  09 60      			ora	#$60
  134    00:E35D  85 ED      			sta.h	<_bp
  135    00:E35F  60         	!:		rts
  136                        	
  137                        	
  138                        	
  139                        	; ***************************************************************************
  140                        	; ***************************************************************************
  141                        	;
  142                        	; Increment the hi-byte of _bp and change TMA3 if necessary.
  143                        	;
  144                        	; N.B. Library code relies on this preserving A,X,Y and V!
  145                        	;
  146                        	
  147    00:E360  E6 ED      	inc.h_bp_mpr3:	inc.h	<_bp			; Increment hi-byte of _bp.
  148    00:E362  10 0B      			bpl	!+			; OK if within MPR0-MPR3.
  149    00:E364  48         			pha				; Increment the bank in MPR3,
  150    00:E365  43 08      			tma3				; usually when pointer moves
  151    00:E367  1A         			inc	a			; from $7FFF -> $8000.
  152    00:E368  53 08      			tam3
  153    00:E36A  A9 60      			lda	#$60
  154    00:E36C  85 ED      			sta.h	<_bp
  155    00:E36E  68         			pla
  156    00:E36F  60         	!:		rts
  157                        	
  158                        	
  159                        	
  160                        	; ***************************************************************************
  161                        	; ***************************************************************************
  162                        	;
  163                        	; Increment the hi-byte of _bp and change TMA3 and TMA4 if necessary.
  164                        	;
  165                        	; N.B. Library code relies on this preserving A,X,Y and V!
  166                        	;
  167                        	
  168    00:E370  E6 ED      	inc.h_bp_mpr34:	inc.h	<_bp			; Increment hi-byte of _bp.
  169    00:E372  10 0D      			bpl	!+			; OK if within MPR0-MPR3.
  170    00:E374  48         			pha				; Increment the bank in MPR3,
  171    00:E375  43 10      			tma4				; usually when pointer moves
  172    00:E377  53 08      			tam3				; from $7FFF -> $8000.
  173    00:E379  1A         			inc	a
  174    00:E37A  53 10      			tam4
  175    00:E37C  A9 60      			lda	#$60
  176    00:E37E  85 ED      			sta.h	<_bp
  177    00:E380  68         			pla
  178    00:E381  60         	!:		rts
  179                        	
  180                        	
  181                        	
  182                        	; ***************************************************************************
  183                        	; ***************************************************************************
  184                        	;
  185                        	; Put the _di data pointer into the VDC's MARR or MAWR register.
  186                        	;
  187                        	; N.B. Library code relies on this preserving Y!
  188                        	;
  189                        	
  190               0001     		.if	SUPPORT_SGX
  191    00:E382  A2 10      	sgx_di_to_marr:	ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  192    00:E384  F0         			db	$F0			; Turn "clx" into a "beq".
  193                        		.endif
  194                        	
  195    00:E385  82         	vdc_di_to_marr:	clx				; Offset to PCE VDC.
  196                        	
  197    00:E386  A9 01      	set_di_to_marr	lda	#VDC_MARR		; Set VDC or SGX destination
  198    00:E388  95 F7      			sta	<vdc_reg, x		; address.
  199    00:E38A  9D 00 02   			sta	VDC_AR, x
  200    00:E38D  80 09      			bra	!+
  201                        	
  202               0001     		.if	SUPPORT_SGX
  203    00:E38F  A2 10      	sgx_di_to_mawr:	ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  204    00:E391  F0         			db	$F0			; Turn "clx" into a "beq".
  205                        		.endif
  206                        	
  207    00:E392  82         	vdc_di_to_mawr:	clx				; Offset to PCE VDC.
  208                        	
  209    00:E393             	set_di_to_mawr;	lda	#VDC_MAWR		; Set VDC or SGX destination
  210    00:E393  74 F7      			stz	<vdc_reg, x		; address.
  211    00:E395  9E 00 02   			stz	VDC_AR, x
  212                        	
  213    00:E398  A5 F0      	!:		lda	<_di + 0
  214    00:E39A  9D 02 02   			sta	VDC_DL, x
  215    00:E39D  A5 F1      			lda	<_di + 1
  216    00:E39F  9D 03 02   			sta	VDC_DH, x
  217                        	
  218    00:E3A2  A9 02      			lda	#VDC_VWR		; Select the VRR/VWR data
  219    00:E3A4  95 F7      			sta	<vdc_reg, x		; register.
  220    00:E3A6  9D 00 02   			sta	VDC_AR, x
  221    00:E3A9  60         			rts
  222                        	
  223                        	
  224                        	
  225                        	; ***************************************************************************
  226                        	; ***************************************************************************
  227                        	;
  228                        	; Increment the hi-byte of _di and change TMA4 if necessary.
  229                        	;
  230                        	
  231               0000     		.if	0				; Save memory, for now.
  250                        		.endif
  251                        	
  252                        	
  253                        	
  254                        	; ***************************************************************************
  255                        	; ***************************************************************************
  256                        	;
  257                        	; Far-call a function in another bank.
  258                        	;
  259                        	; This is a potential alternative procedure call trampoline that uses only 10
  260                        	; bytes of common memory per bank of procedures, instead of 10 bytes for each
  261                        	; individual procedure call, BUT it uses the X register as a procedure-index,
  262                        	; and it needs a table of addresses at the end of every procedure bank.
  263                        	;
  264                        	; To use this ...
  265                        	;
  266                        	;  ldx #procedure-index
  267                        	;  jsr far_call_nn
  268                        	;
  269                        	; The called .PROC routine must exit with "jmp leave_proc" and not "rts".
  270                        	;
  271                        	; leave_proc:	pla
  272                        	;		tam6
  273                        	;		tya
  274                        	;		rts
  275                        	;
  276                        	; N.B. This costs 21 cycles vs 18 for the .newproc trampoline code (when you
  277                        	;      exclude preserving YA in zero-page).
  278                        	;
  279                        	; N.B. This was written as an excerise, and definitely not for HuC!
  280                        	;
  281                        	
  282               0000     		.if	0
  295                        		.endif					; 21
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
                             #[3]   "..\..\..\include\hucc\vce.asm"
   39                        			include	"vce.asm"		; Useful VCE routines.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; vce.asm
    5                        	;
    6                        	; Useful routines for operating the HuC6260 Video Color Encoder
    7                        	;
    8                        	; These should be located in permanently-accessible memory!
    9                        	;
   10                        	; Copyright John Brandwood 2021-2025.
   11                        	;
   12                        	; Distributed under the Boost Software License, Version 1.0.
   13                        	; (See accompanying file LICENSE_1_0.txt or copy at
   14                        	;  http://www.boost.org/LICENSE_1_0.txt)
   15                        	;
   16                        	; ***************************************************************************
   17                        	; ***************************************************************************
   18                        	
   19                        	;
   20                        	; Configure Library ...
   21                        	;
   22                        	
   23               0000     		.ifndef VCE_SPLIT_CROSS
   25                        		.endif
   26                        	
   27                        	
   28                        	
   29                        	; ***************************************************************************
   30                        	; ***************************************************************************
   31                        	;
   32                        	; xfer_palettes - Update the VCE with the queued palettes changes.
   33                        	;
   34                        	; This is normally called in a developer's vsync_hook handler, but it can
   35                        	; be called manually as long as it will not also be called in an interrupt.
   36                        	;
   37                        	; The queued transfers are split into 32-byte chunks so that an HSYNC and/or
   38                        	; TIMER IRQ is not delayed for too long during the VBLANK.
   39                        	;
   40                        	
   41    00:E3AA  A9 80      	xfer_palettes:	lda	#$80			; Acquire color mutex to avoid
   42    00:E3AC  0C 96 26   			tsb	color_mutex		; conflict with a delayed VBL.
   43    00:E3AF  30 5F      			bmi	.busy
   44                        	
   45    00:E3B1  AC 97 26   			ldy	color_queue_r		; Are there any palette xfers
   46    00:E3B4  CC 98 26   			cpy	color_queue_w		; queued up?
   47    00:E3B7  F0 54      			beq	.exit
   48                        	
   49    00:E3B9  08         			php				; Enable interrupts so that an
   50    00:E3BA  58         			cli				; HSYNC or TIMER IRQ can occur.
   51                        	
   52    00:E3BB  43 08      			tma3				; Preserve MPR3 & MPR4 because
   53    00:E3BD  48         			pha				; this normally runs in the
   54    00:E3BE  43 10      			tma4				; VBLANK IRQ.
   55    00:E3C0  48         			pha
   56                        	
   57               0001     		.if	!CDROM
   58    00:E3C1  73 16 E4 86			tii	.tia_func, color_tia, 8 ; Copy TIA to RAM.
         00:E3C5  22 08 00    
   59                        		.endif
   60                        	
   61    00:E3C8  B9 99 26   	.next_item:	lda	color_index, y		; Get the next set of palettes
   62    00:E3CB  0A         			asl	a			; from the queue.
   63    00:E3CC  0A         			asl	a
   64    00:E3CD  0A         			asl	a
   65    00:E3CE  0A         			asl	a
   66    00:E3CF  8D 02 04   			sta	VCE_CTA + 0
   67    00:E3D2  62         			cla
   68    00:E3D3  2A         			rol	a
   69    00:E3D4  8D 03 04   			sta	VCE_CTA + 1
   70                        	
   71    00:E3D7  BE A1 26   			ldx	color_count,y		; How many palettes to xfer?
   72                        	
   73    00:E3DA  B9 B9 26   			lda	color_bank, y		; Map data into MPR3 & MPR4.
   74    00:E3DD  53 08      			tam3
   75    00:E3DF  1A         			inc	a
   76    00:E3E0  53 10      			tam4
   77    00:E3E2  B9 B1 26   			lda	color_addr_h, y
   78    00:E3E5  8D 88 22   			sta	.ram_tia + 2
   79    00:E3E8  B9 A9 26   			lda	color_addr_l, y
   80    00:E3EB  8D 87 22   	.palette_loop:	sta	.ram_tia + 1
   81                        	
   82               0000     		.if	CDROM
   84                        		.else
   85    00:E3EE  20 86 22   			jsr	.ram_tia		; Copy 32-bytes to the VCE.
   86                        		.endif
   87                        	
   88    00:E3F1  18         			clc				; Increment the data ptr to
   89    00:E3F2  69 20      			adc	#32			; the next 32-byte palette.
   90    00:E3F4  B0 1B      			bcs	.next_page
   91                        	
   92    00:E3F6  CA         	.next_palette:	dex				; Any palettes left to xfer?
   93    00:E3F7  D0 F2      			bne	.palette_loop
   94                        	
   95    00:E3F9  C8         			iny				; Increment the queue index.
   96    00:E3FA  98         			tya
   97    00:E3FB  29 07      			and	#7
   98    00:E3FD  A8         			tay
   99                        	
  100    00:E3FE  CC 98 26   			cpy	color_queue_w		; Any more items in the queue?
  101    00:E401  D0 C5      			bne	.next_item
  102    00:E403  8C 97 26   			sty	color_queue_r		; Signal the queue is empty.
  103                        	
  104    00:E406  68         			pla				; Restore MPR3 & MPR4.
  105    00:E407  53 10      			tam4
  106    00:E409  68         			pla
  107    00:E40A  53 08      			tam3
  108                        	
  109    00:E40C  28         			plp				; Restore interrupt state.
  110                        	
  111    00:E40D  9C 96 26   	.exit:		stz	color_mutex		; Release color mutex.
  112                        	
  113    00:E410  60         	.busy:		rts
  114                        	
  115    00:E411  EE 88 22   	.next_page:	inc	.ram_tia + 2
  116    00:E414  80 E0      			bra	.next_palette
  117                        	
  118               0001     		.if	!CDROM
  119               2286     	.ram_tia	=	color_tia		; Use a TIA in RAM.
  120                        	
  121    00:E416  E3 00 00 04	.tia_func:	tia	0, VCE_CTW, 32
         00:E41A  04 20 00    
  122    00:E41D  60         			rts
  123                        		.endif	!CDROM
  124                        	
  125               2696     			.bss
  126                        	
  127    F8:2696             	color_mutex:	ds	1			; Mutex for VCE changes.
  128    F8:2697             	color_queue_r:	ds	1			; Ring buffer read index.
  129    F8:2698             	color_queue_w:	ds	1			; Ring buffer write index.
  130    F8:2699             	color_index:	ds	8			; Ring buffer - Palette index.
  131    F8:26A1             	color_count:	ds	8			; Ring buffer - Palette count.
  132    F8:26A9             	color_addr_l:	ds	8			; Ring buffer - Data Ptr (lo).
  133    F8:26B1             	color_addr_h:	ds	8			; Ring buffer - Data Ptr (hi).
  134    F8:26B9             	color_bank:	ds	8			; Ring buffer - Data Ptr (bank).
  135                        	
  136               E41E     			.code
  137                        	
  138                        	
  139                        	
  140                        	; ***************************************************************************
  141                        	; ***************************************************************************
  142                        	;
  143                        	; load_palettes - Queue a set of palettes to upload to the VCE next VBLANK.
  144                        	;
  145                        	; Args: _al = Palette index (0..15 for BG, 16..31 for SPR).
  146                        	; Args: _ah = Palette count (1..32).
  147                        	; Args: _bp = Pointer to palette data.
  148                        	; Args:   Y = Bank to map into MPR3 & MPR4, or zero to leave unchanged.
  149                        	;
  150                        	; N.B. Y==0 is only useful if the palette data is permanently mapped!
  151                        	;
  152                        	
  153                        	load_palettes	.proc
  179                        			.endp
  180                        	
  181                        	
  182                        	
  183                        	; ***************************************************************************
  184                        	; ***************************************************************************
  185                        	;
  186                        	; clear_vce - Clear all 512 of the VCE's palette entries.
  187                        	;
  188                        	
  189    1F:DD67             	clear_vce	.proc
  190                        	
  191    1F:DD67  08         			php				; Disable interrupts to avoid
  192    1F:DD68  78         			sei				; VBLANK palette upload.
  193    1F:DD69  C2         			cly
  194    1F:DD6A  9C 02 04   			stz	VCE_CTA+0		; Set VCE write address.
  195    1F:DD6D  9C 03 04   			stz	VCE_CTA+1
  196    1F:DD70  9C 04 04   	.loop:		stz	VCE_CTW+0		; Set lo-byte of color.
  197    1F:DD73  9C 05 04   			stz	VCE_CTW+1		; Write 1 color value.
  198    1F:DD76  9C 04 04   			stz	VCE_CTW+0		; Set lo-byte of color.
  199    1F:DD79  9C 05 04   			stz	VCE_CTW+1		; Write 1 color value.
  200    1F:DD7C  88         			dey
  201    1F:DD7D  D0 F1      			bne	.loop
  202    1F:DD7F  28         			plp
  203                        	
  204                        			leave				; All done, phew!
         1F:DD80  4C EF FF   			jmp	leave_proc
  205                        	
  206                        			.endp
  207                        	
  208               0001     		.ifdef	HUCC
  209    00:E41E             			.alias	_clear_palette		= clear_vce
  210                        		.endif
  211                        	
  212                        	
  213                        	
  214                        	; ***************************************************************************
  215                        	; ***************************************************************************
  216                        	;
  217                        	; read_palettes - Read palettes from the VCE into a buffer in RAM.
  218                        	;
  219                        	; Args: _al = Palette index (0..15 for BG, 16..31 for SPR).
  220                        	; Args: _ah = Palette count (1..32).
  221                        	; Args: _di = Pointer to palette data destination in RAM.
  222                        	;
  223                        	; The transfer is split into 32-byte chunks so that an HSYNC and/or TIMER
  224                        	; IRQ is not delayed for too long while executing.
  225                        	;
  226                        	
  227    1F:DA72             	read_palettes	.proc
  228                        	
  229    1F:DA72  A9 80      	.wait:		lda	#$80			; Acquire color mutex to avoid
  230    1F:DA74  0C 96 26   			tsb	color_mutex		; conflict with xfer_palettes.
  231    1F:DA77  30 F9      			bmi	.wait
  232                        	
  233               0001     		.if	!CDROM
  234    1F:DA79  73 B0 DA 86			tii	.tai_func, color_tia, 8 ; Copy TAI to RAM.
         1F:DA7D  22 08 00    
  235                        		.endif
  236                        	
  237    1F:DA80  A5 F8      	.next_item:	lda	<_al			; Get the palette number.
  238    1F:DA82  0A         			asl	a
  239    1F:DA83  0A         			asl	a
  240    1F:DA84  0A         			asl	a
  241    1F:DA85  0A         			asl	a
  242    1F:DA86  8D 02 04   			sta	VCE_CTA + 0
  243    1F:DA89  62         			cla
  244    1F:DA8A  2A         			rol	a
  245    1F:DA8B  8D 03 04   			sta	VCE_CTA + 1
  246                        	
  247    1F:DA8E  A6 F9      			ldx	<_ah			; How many palettes to xfer?
  248                        	
  249    1F:DA90  A5 F1      			lda.h	<_di
  250    1F:DA92  8D 8A 22   			sta	.ram_tai + 4
  251    1F:DA95  A5 F0      			lda.l	<_di
  252    1F:DA97  8D 89 22   	.palette_loop:	sta	.ram_tai + 3
  253                        	
  254               0000     		.if	CDROM
  256                        		.else
  257    1F:DA9A  20 86 22   			jsr	.ram_tai		; Copy 32-bytes from the VCE.
  258                        		.endif
  259                        	
  260    1F:DA9D  18         			clc				; Increment the data ptr to
  261    1F:DA9E  69 20      			adc	#32			; the next 32-byte palette.
  262    1F:DAA0  B0 09      			bcs	.next_page
  263                        	
  264    1F:DAA2  CA         	.next_palette:	dex				; Any palettes left to xfer?
  265    1F:DAA3  D0 F2      			bne	.palette_loop
  266                        	
  267    1F:DAA5  9C 96 26   			stz	color_mutex		; Release color mutex.
  268                        	
  269                        			leave
         1F:DAA8  4C EF FF   			jmp	leave_proc
  270                        	
  271    1F:DAAB  EE 8A 22   	.next_page:	inc	.ram_tai + 4
  272    1F:DAAE  80 F2      			bra	.next_palette
  273                        	
  274               0001     		.if	!CDROM
  275               2286     	.ram_tai	=	color_tia		; Use a TIA in RAM.
  276                        	
  277    1F:DAB0  F3 04 04 00	.tai_func:	tai	VCE_CTR, 0, 32
         1F:DAB4  00 20 00    
  278    1F:DAB7  60         			rts
  279                        		.endif	!CDROM
  280                        	
  281                        			.endp
  282                        	
  283               0001     		.ifdef	HUCC
  284    00:E41E             			.alias	_read_palette.3		= read_palettes
  285                        		.endif
  286                        	
  287                        	
  288                        	
  289                        	vce_fade_funcs	.procgroup
  516                        			.endprocgroup
  517                        	
  518                        	
  519                        	
  520                        	; ***************************************************************************
  521                        	; ***************************************************************************
  522                        	;
  523                        	; cross_fade_to - Cross fade a palette in RAM towards a reference palette.
  524                        	;
  525                        	; Args: _al = Number of colors (1..256).
  526                        	; Args: _di = Pointer to faded palette destination in RAM.
  527                        	; Args: _bp = Pointer to reference palette data.
  528                        	; Args:   Y = Bank to map into MPR3 & MPR4, or zero to leave unchanged.
  529                        	;
  530                        	; N.B. Y==0 is only useful if the reference palette data is already mapped!
  531                        	;
  532                        	; N.B. This only updates the palette in RAM by 1 RGB step, so it will need
  533                        	;      to be called 7 times to guarantee that you've reached the target.
  534                        	;
  535                        	
  536    1F:D5DB             	cross_fade_to	.proc
  537                        	
  538    1F:D5DB  43 08      			tma3				; Preserve MPR3.
  539    1F:D5DD  48         			pha
  540    1F:D5DE  43 10      			tma4				; Preserve MPR4.
  541    1F:D5E0  48         			pha
  542                        	
  543    1F:D5E1  98         			tya				; Is there a bank to map?
  544    1F:D5E2  F0 03      			beq	!+
  545                        	
  546    1F:D5E4  20 4F E3   			jsr	map_bp_to_mpr34		; Map data to MPR3 & MPR4.
  547                        	
  548    1F:D5E7  A5 F8      	!:		lda	<_al			; # of colors (1..256).
  549    1F:D5E9  F0 05      			beq	.next_page		; Exactly 256 colors?
  550    1F:D5EB  0A         	!:		asl	a
  551    1F:D5EC  90 07      			bcc	.page_loop
  552    1F:D5EE  F0 FB      			beq	!-			; Exactly 128 colors?
  553                        	
  554    1F:D5F0  38         	.next_page:	sec				; More than 128 colors.
  555    1F:D5F1  E6 ED      			inc.h	<_bp
  556    1F:D5F3  E6 F1      			inc.h	<_di
  557                        	
  558    1F:D5F5  08         	.page_loop:	php				; C is set if more than 128
  559    1F:D5F6  A8         			tay				; colors left to fade.
  560                        	
  561    1F:D5F7  88         	.green:		dey				; Is target green > fade green?
  562               0001     		.if	VCE_SPLIT_CROSS
  563    1F:D5F8  8F F9 31   			bbs0	<_ah, .red
  564                        		.endif
  565    1F:D5FB  B1 EC      			lda	[_bp], y
  566    1F:D5FD  4A         			lsr	a
  567    1F:D5FE  88         			dey
  568    1F:D5FF  B1 EC      			lda	[_bp], y
  569    1F:D601  6A         			ror	a
  570    1F:D602  29 E0      			and	#%11100000
  571    1F:D604  85 00      			sta	<__temp
  572    1F:D606  C8         			iny
  573    1F:D607  B1 F0      			lda	[_di], y
  574    1F:D609  4A         			lsr	a
  575    1F:D60A  88         			dey
  576    1F:D60B  B1 F0      			lda	[_di], y
  577    1F:D60D  6A         			ror	a
  578    1F:D60E  08         			php
  579    1F:D60F  AA         			tax
  580    1F:D610  29 E0      			and	#%11100000
  581    1F:D612  38         			sec
  582    1F:D613  E5 00      			sbc	<__temp
  583    1F:D615  22         			sax				; Move X to A but keep Z.
  584    1F:D616  F0 08      			beq	.set_green		; Don't update if equal green.
  585    1F:D618  B0 04      			bcs	.dec_green
  586    1F:D61A  69 20      	.inc_green:	adc	#%00100000
  587    1F:D61C  80 02      			bra	.set_green
  588    1F:D61E  E9 20      	.dec_green:	sbc	#%00100000
  589    1F:D620  28         	.set_green:	plp
  590    1F:D621  2A         			rol	a
  591               0001     		.if	VCE_SPLIT_CROSS
  592    1F:D622  91 F0      			sta	[_di], y		; Save lo-byte of updated color.
  593                        		.else
  595                        		.endif
  596    1F:D624  62         			cla
  597    1F:D625  2A         			rol	a
  598    1F:D626  C8         			iny
  599    1F:D627  91 F0      			sta	[_di], y		; Save hi-byte of updated color.
  600               0001     		.if	VCE_SPLIT_CROSS
  601    1F:D629  88         			dey
  602    1F:D62A  80 34      			bra	.next_color
  603                        		.endif
  604                        	
  605    1F:D62C  88         	.red:		dey
  606    1F:D62D  B1 EC      			lda	[_bp], y		; Is target red > fade red?
  607    1F:D62F  29 38      			and	#%00111000
  608    1F:D631  85 00      			sta	<__temp
  609               0001     		.if	VCE_SPLIT_CROSS
  610    1F:D633  B1 F0      			lda	[_di], y
  611    1F:D635  AA         			tax
  612                        		.else
  614                        		.endif
  615    1F:D636  29 38      			and	#%00111000
  616    1F:D638  38         			sec
  617    1F:D639  E5 00      			sbc	<__temp
  618    1F:D63B  22         			sax				; Move X to A but keep Z.
  619    1F:D63C  F0 08      			beq	.set_red		; Don't update if equal red.
  620    1F:D63E  B0 04      			bcs	.dec_red
  621    1F:D640  69 08      	.inc_red:	adc	#%00001000
  622    1F:D642  80 02      			bra	.set_red
  623    1F:D644  E9 08      	.dec_red:	sbc	#%00001000
  624    1F:D646  AA         	.set_red:	tax
  625                        	
  626    1F:D647  B1 EC      	.blue:		lda	[_bp], y		; Is target blue > fade blue?
  627    1F:D649  29 07      			and	#%00000111
  628    1F:D64B  85 00      			sta	<__temp
  629    1F:D64D  8A         			txa
  630    1F:D64E  29 07      			and	#%00000111
  631    1F:D650  38         			sec
  632    1F:D651  E5 00      			sbc	<__temp
  633    1F:D653  22         			sax				; Move X to A but keep Z.
  634    1F:D654  F0 08      			beq	.set_blue		; Don't update if equal blue.
  635    1F:D656  B0 04      			bcs	.dec_blue
  636    1F:D658  69 01      	.inc_blue:	adc	#%00000001
  637    1F:D65A  80 02      			bra	.set_blue
  638    1F:D65C  E9 01      	.dec_blue:	sbc	#%00000001
  639    1F:D65E  91 F0      	.set_blue:	sta	[_di], y		; Save lo-byte of updated color.
  640                        	
  641    1F:D660  98         	.next_color:	tya				; Last color in the page?
  642    1F:D661  D0 94      			bne	.green
  643    1F:D663  28         			plp				; Are there another 128 colors?
  644    1F:D664  90 07      			bcc	.finished
  645                        	
  646    1F:D666  C6 ED      			dec.h	<_bp			; Fade the 1st 128 colors if
  647    1F:D668  C6 F1      			dec.h	<_di			; there were more than 128.
  648    1F:D66A  18         			clc
  649    1F:D66B  80 88      			bra	.page_loop
  650                        	
  651    1F:D66D  68         	.finished:	pla				; Restore MPR4.
  652    1F:D66E  53 10      			tam4
  653    1F:D670  68         			pla				; Restore MPR3.
  654    1F:D671  53 08      			tam3
  655                        	
  656                        			leave				; All done, phew!
         1F:D673  4C EF FF   			jmp	leave_proc
  657                        	
  658                        			.endp
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
                             #[3]   "..\..\..\include\hucc\vdc.asm"
   40                        			include	"vdc.asm"		; Useful VDC routines.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; vdc.asm
    5                        	;
    6                        	; Useful routines for operating the HuC6270 Video Display Controller.
    7                        	;
    8                        	; These should be located in permanently-accessible memory!
    9                        	;
   10                        	; Copyright John Brandwood 2021-2025.
   11                        	;
   12                        	; Distributed under the Boost Software License, Version 1.0.
   13                        	; (See accompanying file LICENSE_1_0.txt or copy at
   14                        	;  http://www.boost.org/LICENSE_1_0.txt)
   15                        	;
   16                        	; ***************************************************************************
   17                        	; ***************************************************************************
   18                        	
   19                        	;
   20                        	; Include dependancies ...
   21                        	;
   22                        	
   23                        			include "common.asm"		; Common helpers.
   24                        			include "vce.asm"		; Useful VCE routines.
   25                        	
   26                        	;
   27                        	; Choose how much to transfer to VRAM in a single chunk, normally 16-bytes.
   28                        	;
   29                        	; The cycle timings for a TIA-to-VRAM depend upon how the VDC's MWR CPU slots
   30                        	; line up to the CPU's writes, and how long the VDC has to halt the CPU while
   31                        	; it fetches the next scanline's sprite data.
   32                        	;
   33                        	; These cycle timings are for 0 sprites (best) and 16 sprites (worst) ...
   34                        	;
   35                        	; 32-byte TIA takes 270..364 cycles in 5MHz, 242..312 cycles in 7MHz. (8.44 cycles-per-byte best-case at 5MHz.)
   36                        	; 24-byte TIA takes 210..298 cycles in 5MHz, 186..256 cycles in 7MHz. (8.75 cycles-per-byte best-case at 5MHz.)
   37                        	; 16-byte TIA takes 142..234 cycles in 5MHz, 128..200 cycles in 7MHz. (8.88 cycles-per-byte best-case at 5MHz.)
   38                        	;
   39                        	; If a user wishes to be able to put RCR interrupts one-line-after-another,
   40                        	; then it is only safe to use 32-byte chunks if there are no TIMER or IRQ2
   41                        	; interrupts ... which is almost-impossible to rely on in library code!
   42                        	;
   43                        	
   44               0000     		.ifndef	VRAM_XFER_SIZE
   46                        		.endif
   47                        	
   48                        	;
   49                        	; Enable BG & SPR layers, and RCR interrupt.
   50                        	;
   51                        	
   52    00:E41E  A9 04      	set_rcron:	lda	#$04			; Enable RCR interrupt.
   53    00:E420  80 0A      			bra	!+
   54                        	
   55    00:E422  A9 80      	set_bgon:	lda	#$80			; Enable BG layer.
   56    00:E424  80 06      			bra	!+
   57                        	
   58    00:E426  A9 40      	set_spron:	lda	#$40			; Enable SPR layer.
   59    00:E428  80 02      			bra	!+
   60                        	
   61    00:E42A  A9 C0      	set_dspon:	lda	#$C0			; Enable BG & SPR layers.
   62                        	
   63    00:E42C  04 F3      	!:		tsb	<vdc_crl		; These take effect when
   64               0001     		.if	SUPPORT_SGX			; the next VBLANK occurs.
   65    00:E42E  04 03      			tsb	<sgx_crl
   66                        		.endif
   67    00:E430  60         			rts
   68                        	
   69                        	;
   70                        	; Disable BG & SPR layers, and RCR interrupt.
   71                        	;
   72                        	
   73    00:E431  A9 04      	set_rcroff:	lda	#$04			; Disable RCR interrupt.
   74    00:E433  80 0A      			bra	!+
   75                        	
   76    00:E435  A9 80      	set_bgoff:	lda	#$80			; Disable BG layer.
   77    00:E437  80 06      			bra	!+
   78                        	
   79    00:E439  A9 40      	set_sproff:	lda	#$40			; Disable SPR layer.
   80    00:E43B  80 02      			bra	!+
   81                        	
   82    00:E43D  A9 C0      	set_dspoff:	lda	#$C0			; Disable BG & SPR layers.
   83                        	
   84    00:E43F  14 F3      	!:		trb	<vdc_crl		; These take effect when
   85               0001     		.if	SUPPORT_SGX			; the next VBLANK occurs.
   86    00:E441  14 03      			trb	<sgx_crl
   87                        		.endif
   88    00:E443  60         			rts
   89                        	
   90                        	
   91                        	
   92                        	; ***************************************************************************
   93                        	; ***************************************************************************
   94                        	;
   95                        	; Put the _di data pointer into the VDC's MARR or MAWR register.
   96                        	;
   97                        	; N.B. Library code relies on this preserving Y!
   98                        	;
   99                        	; Args: _di + 0 = BAT X coordinate.
  100                        	; Args: _di + 1 = BAT Y coordinate.
  101                        	;
  102                        	; Here because it relies on the "vdc_bat_width" that is defined in this file.
  103                        	;
  104                        	
  105               0001     		.if	SUPPORT_SGX
  106    00:E444  A2 10      	sgx_di_xy_marr:	ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  107    00:E446  F0         			db	$F0			; Turn "clx" into a "beq".
  108                        		.endif
  109                        	
  110    00:E447  82         	vdc_di_xy_marr:	clx				; Offset to PCE VDC.
  111                        	
  112    00:E448  62         	set_di_xy_mawr:	cla
  113    00:E449  3C C1 26   			bit	vdc_bat_width, x	; Set by set_bat_size().
  114    00:E44C  30 08      			bmi	.w128
  115    00:E44E  70 03      			bvs	.w64
  116    00:E450  46 F1      	.w32:		lsr.h	<_di
  117    00:E452  6A         			ror	a
  118    00:E453  46 F1      	.w64:		lsr.h	<_di
  119    00:E455  6A         			ror	a
  120    00:E456  46 F1      	.w128:		lsr.h	<_di
  121    00:E458  6A         			ror	a
  122    00:E459  05 F0      			ora.l	<_di
  123    00:E45B  85 F0      			sta.l	<_di
  124    00:E45D  4C 93 E3   			jmp	set_di_to_mawr		; In "common.asm".
  125                        	
  126                        	
  127                        	
  128    1F:DAB8             	vdc_clear_vram	.procgroup			; These routines share code!
  129                        	
  130                        	; ***************************************************************************
  131                        	; ***************************************************************************
  132                        	;
  133                        	; clear_vram_sgx - Clear all of VRAM in the SGX VDC.
  134                        	; clear_vram_vdc - Clear all of VRAM in the PCE VDC.
  135                        	;
  136                        	; Args: _ax = word value to write to the BAT.
  137                        	; Args: _bl = hi-byte of size of BAT (# of words).
  138                        	;
  139                        	
  140               0001     		.if	SUPPORT_SGX
  141    1F:DAB8             	clear_vram_sgx	.proc
  142                        	
  143    1F:DAB8  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  144    1F:DABA  F0         			db	$F0			; Turn "clx" into a "beq".
  145                        	
  146    1F:DABB             			.ref	clear_vram_vdc		; Need clear_vram_vdc
  147                        			.endp
  148                        		.endif
  149                        	
  150    1F:DABB             	clear_vram_vdc	.proc
  151                        	
  152    1F:DABB  82         			clx				; Offset to PCE VDC.
  153                        	
  154    1F:DABC  20 47 FD   	clear_vram_x:	call	clear_bat_x		; Clear the BAT.
  155                        	
  156    1F:DABF  A9 80      			lda	#$80			; Xvert hi-byte of # words
  157    1F:DAC1  38         			sec				; in screen to loop count.
  158    1F:DAC2  E5 FA      			sbc	<_bl
  159    1F:DAC4  4A         			lsr	a
  160                        	
  161                        	;		cly				; Clear the rest of VRAM.
  162    1F:DAC5  9E 02 02   			stz	VDC_DL, x
  163    1F:DAC8  9E 03 02   	.clr_loop:	stz	VDC_DH, x		; Seperate writes to minimize
  164    1F:DACB  88         			dey				; VDC MWR penalty.
  165    1F:DACC  9E 03 02   			stz	VDC_DH, x
  166    1F:DACF  D0 F7      			bne	.clr_loop
  167    1F:DAD1  3A         			dec	a
  168    1F:DAD2  D0 F4      			bne	.clr_loop
  169                        	
  170                        			leave				; All done, phew!
         1F:DAD4  4C EF FF   			jmp	leave_proc
  171                        	
  172                        			.endp
  173                        	
  174                        	
  175                        	
  176                        	; ***************************************************************************
  177                        	; ***************************************************************************
  178                        	;
  179                        	; clear_bat_sgx - Clear the BAT in the SGX VDC.
  180                        	; clear_bat_vdc - Clear the BAT in the PCE VDC.
  181                        	;
  182                        	; Args: _ax = word value to write to the BAT.
  183                        	; Args: _bl = hi-byte of size of BAT (# of words).
  184                        	;
  185                        	
  186               0001     		.if	SUPPORT_SGX
  187                        	clear_bat_sgx	.proc
  193                        			.endp
  194                        		.endif
  195                        	
  196    1F:DAD7             	clear_bat_vdc	.proc
  197                        	
  198    1F:DAD7  82         			clx				; Offset to PCE VDC.
  199                        	
  200    1F:DAD8             			.ref	clear_bat_x		; Need clear_bat_x
  201                        			.endp
  202                        	
  203    1F:DAD8             	clear_bat_x	.proc				; HuCC uses this entry point.
  204                        	
  205    1F:DAD8  64 F0      			stz	<_di + 0		; Set VDC or SGX destination
  206    1F:DADA  64 F1      			stz	<_di + 1		; address.
  207    1F:DADC  20 93 E3   			jsr	set_di_to_mawr
  208                        	
  209    1F:DADF  A5 FA      			lda	<_bl			; Xvert hi-byte of # words
  210    1F:DAE1  4A         			lsr	a			; in screen to loop count.
  211                        	
  212    1F:DAE2  C2         			cly
  213    1F:DAE3  48         	.bat_loop:	pha
  214    1F:DAE4  A5 F8      			lda	<_ax + 0
  215    1F:DAE6  9D 02 02   			sta	VDC_DL, x
  216    1F:DAE9  A5 F9      			lda	<_ax + 1
  217    1F:DAEB  9D 03 02   	.bat_pair:	sta	VDC_DH, x		; Seperate writes to minimize
  218    1F:DAEE  88         			dey				; VDC MWR penalty.
  219    1F:DAEF  9D 03 02   			sta	VDC_DH, x
  220    1F:DAF2  D0 F7      			bne	.bat_pair
  221                        	
  222    1F:DAF4  68         			pla
  223    1F:DAF5  3A         			dec	a
  224    1F:DAF6  D0 EB      			bne	.bat_loop
  225                        	
  226                        			leave
         1F:DAF8  4C EF FF   			jmp	leave_proc
  227                        	
  228                        			.endp
  229                        	
  230                        			.endprocgroup
  231                        	
  232                        	;
  233                        	;
  234                        	;
  235                        	
  236    1F:D219             	vdc_set_mode	.procgroup			; These routines share code!
  237                        	
  238                        	; ***************************************************************************
  239                        	; ***************************************************************************
  240                        	;
  241                        	; set_mode_sgx - Set video hardware registers from a data table.
  242                        	; set_mode_vdc - Set video hardware registers from a data table.
  243                        	;
  244                        	; Args: _bp, Y = _farptr to data table mapped into MPR3 & MPR4.
  245                        	;
  246                        	
  247               0001     		.if	SUPPORT_SGX
  248    1F:D219             	set_mode_sgx	.proc
  249                        	
  250    1F:D219  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  251    1F:D21B  F0         			db	$F0			; Turn "clx" into a "beq".
  252                        	
  253                        			.endp
  254                        		.endif
  255                        	
  256    1F:D21C             	set_mode_vdc	.proc
  257                        	
  258    1F:D21C  82         			clx				; Offset to PCE VDC.
  259                        	
  260    1F:D21D  F7 F8      			smb7	<_al			; Signal no set_bat_size() yet.
  261                        	
  262    1F:D21F  43 08      			tma3				; Preserve MPR3.
  263    1F:D221  48         			pha
  264    1F:D222  43 10      			tma4				; Preserve MPR4.
  265    1F:D224  48         			pha
  266                        	
  267    1F:D225  20 4F E3   			jsr	map_bp_to_mpr34		; Map data to MPR3 & MPR4.
  268                        	
  269    1F:D228  08         			php				; Disable interrupts.
  270    1F:D229  78         			sei
  271                        	
  272    1F:D22A  C2         			cly				; Table size is < 256 bytes.
  273                        	
  274    1F:D22B  B1 EC      	.loop:		lda	[_bp], y		; Get the register #, +ve for
  275    1F:D22D  F0 46      			beq	.done			; VDC, -128 for VCE_CR.
  276    1F:D22F  10 0C      			bpl	.set_vdc_reg
  277                        	
  278                        			; Set the VCE_CR register.
  279                        	
  280    1F:D231  C8         	.set_vce_cr:	iny
  281                        	
  282    1F:D232  B1 EC      			lda	[_bp], y		; Get lo-byte of register.
  283    1F:D234  C8         			iny
  284    1F:D235  8D 44 22   			sta	vce_cr			; No SGX shadow for this!
  285    1F:D238  8D 00 04   			sta	VCE_CR			; Set the VCE clock speed.
  286    1F:D23B  80 EE      			bra	.loop			; Do not set VDC_MWR reg bits!
  287                        	
  288                        			; Set a VDC register.
  289                        	
  290    1F:D23D  C8         	.set_vdc_reg:	iny
  291    1F:D23E  9D 00 02   			sta	VDC_AR, x		; Set which VDC register.
  292                        	
  293    1F:D241  C9 05      			cmp	#VDC_CR			; CS if VDC_CR or higher.
  294    1F:D243  F0 14      			beq	.skip_cc
  295    1F:D245  18         			clc				; CC if not VDC_CR.
  296                        	
  297    1F:D246  49 09      			eor	#VDC_MWR		; Check if this the VDC_MWR
  298    1F:D248  D0 0F      			bne	.skip_cc		; without changing CC.
  299                        	
  300    1F:D24A  B1 EC      			lda	[_bp], y		; Remember the BAT size so that
  301    1F:D24C  8D 42 22   			sta	vdc_mwr			; set_bat_size() can be called.
  302    1F:D24F  4A         			lsr	a
  303    1F:D250  4A         			lsr	a
  304    1F:D251  4A         			lsr	a
  305    1F:D252  4A         			lsr	a
  306    1F:D253  85 F8      			sta	<_al
  307    1F:D255  C8         			iny
  308    1F:D256  C8         			iny
  309    1F:D257  80 D2      			bra	.loop
  310                        	
  311    1F:D259  B1 EC      	.skip_cc:	lda	[_bp], y		; Get lo-byte of register.
  312    1F:D25B  C8         			iny
  313    1F:D25C  90 08      			bcc	.not_vdc_cr
  314                        	
  315               0001     		.if	SUPPORT_SGX
  316    1F:D25E  E0 00      			cpx	#0			; Writing to the VDC or SGX?
  317    1F:D260  F0 02      			beq	.save_crl
  318    1F:D262  29 F7      			and	#$F7			; We only need 1 vblank IRQ!
  319                        		.endif
  320                        	
  321    1F:D264  95 F3      	.save_crl:	sta	<vdc_crl, x		; Save VDC_CR shadow register.
  322                        	
  323    1F:D266  9D 02 02   	.not_vdc_cr:	sta	VDC_DL, x		; Write to VDC.
  324                        	
  325    1F:D269  B1 EC      			lda	[_bp], y		; Get hi-byte of register.
  326    1F:D26B  C8         			iny
  327    1F:D26C  9D 03 02   			sta	VDC_DH, x
  328    1F:D26F  90 BA      			bcc	.loop			; Next register, please!
  329                        	
  330    1F:D271  95 F4      			sta	<vdc_crh, x		; Save VDC_CR shadow register.
  331                        	
  332    1F:D273  80 B6      			bra	.loop			; Next register, please!
  333                        	
  334                        			; All registers set!
  335                        	
  336    1F:D275  A9 02      	.done:		lda	#VDC_VWR		; Leave with VDC_VWR set.
  337    1F:D277  95 F7      			sta	<vdc_reg, x
  338                        	;		lda	<vdc_reg, x		; Restore previous VDC_AR from
  339    1F:D279  9D 00 02   			sta	VDC_AR, x		; the shadow variable.
  340                        	
  341    1F:D27C  28         			plp				; Restore interrupts.
  342                        	
  343    1F:D27D  68         			pla				; Restore MPR4.
  344    1F:D27E  53 10      			tam4
  345    1F:D280  68         			pla				; Restore MPR3.
  346    1F:D281  53 08      			tam3
  347                        	
  348    1F:D283  7F F8 07   			bbr7	<_al, set_bat_size	; Update if BAT size changed.
  349                        	
  350                        			leave				; All done, phew!
         1F:D286  4C EF FF   			jmp	leave_proc
  351                        	
  352    1F:D289             			.ref	set_bat_vdc
  353                        			.endp
  354                        	
  355                        	
  356                        	
  357                        	; ***************************************************************************
  358                        	; ***************************************************************************
  359                        	;
  360                        	; set_bat_sgx - Change the SGX BAT size and initialize variables based on it.
  361                        	; set_bat_vdc - Change the PCE BAT size and initialize variables based on it.
  362                        	;
  363                        	; Args: _al = new size (0-7).
  364                        	;
  365                        	; (VDC_MWR_32x32  >> 4) or in HuCC, SCR_SIZE_32x32.
  366                        	; (VDC_MWR_32x64  >> 4) or in HuCC, SCR_SIZE_32x64.
  367                        	; (VDC_MWR_64x32  >> 4) or in HuCC, SCR_SIZE_64x32.
  368                        	; (VDC_MWR_64x64  >> 4) or in HuCC, SCR_SIZE_64x64.
  369                        	; (VDC_MWR_128x32 >> 4) or in HuCC, SCR_SIZE_128x32.
  370                        	; (VDC_MWR_128x64 >> 4) or in HuCC, SCR_SIZE_128x64.
  371                        	;
  372                        	
  373               0001     		.if	SUPPORT_SGX
  374    1F:D289             	set_bat_sgx	.proc
  375                        	
  376    1F:D289  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  377    1F:D28B  F0         			db	$F0			; Turn "clx" into a "beq".
  378                        	
  379    1F:D28C             			.ref	set_bat_vdc
  380                        			.endp
  381                        		.endif
  382                        	
  383    1F:D28C             	set_bat_vdc	.proc
  384                        	
  385    1F:D28C  82         			clx				; Offset to PCE VDC.
  386                        	
  387    1F:D28D  A5 F8      	set_bat_size:	lda	<_al			; Get BAT size value.
  388    1F:D28F  29 07      			and	#7			; Sanitize screen size value.
  389    1F:D291  A8         			tay
  390    1F:D292  0A         			asl	a			; Put it in bits 4..6.
  391    1F:D293  0A         			asl	a
  392    1F:D294  0A         			asl	a
  393    1F:D295  0A         			asl	a
  394    1F:D296  85 00      			sta	<__temp
  395                        	
  396    1F:D298  B9 D8 D2   			lda	.width, y
  397    1F:D29B  9D C1 26   			sta	vdc_bat_width, x
  398    1F:D29E  3A         			dec	a
  399    1F:D29F  9D C3 26   			sta	vdc_bat_x_mask, x
  400                        	
  401    1F:D2A2  B9 E0 D2   			lda	.height, y
  402    1F:D2A5  9D C2 26   			sta	vdc_bat_height, x
  403    1F:D2A8  3A         			dec	a
  404    1F:D2A9  9D C4 26   			sta	vdc_bat_y_mask, x
  405                        	
  406    1F:D2AC  B9 E8 D2   			lda	.limit, y
  407    1F:D2AF  9D C5 26   			sta	vdc_bat_limit, x
  408                        	
  409    1F:D2B2  B9 F0 D2   			lda	.increment, y		; Put the VRAM increment for a
  410    1F:D2B5  95 F4      			sta	<vdc_crh, x		; line into vdc_crh for later.
  411                        	
  412    1F:D2B7  08         			php
  413    1F:D2B8  78         			sei
  414                        	
  415    1F:D2B9  A9 09      			lda	#VDC_MWR
  416    1F:D2BB  9D 00 02   			sta	VDC_AR, x
  417                        	
  418    1F:D2BE  AD 42 22   			lda	vdc_mwr			; Get the MWR access width bits.
  419    1F:D2C1  29 8F      			and	#%10001111
  420    1F:D2C3  05 00      			ora	<__temp
  421               0001     		.if	SUPPORT_SGX
  422    1F:D2C5  E0 00      			cpx	#PCE_VDC_OFFSET		; This has no SGX shadow!
  423    1F:D2C7  D0 03      			bne	!+
  424                        		.endif
  425    1F:D2C9  8D 42 22   			sta	vdc_mwr
  426    1F:D2CC  9D 02 02   	!:		sta	VDC_DL, x
  427                        	
  428    1F:D2CF  B5 F7      			lda	<vdc_reg, x		; Restore previous VDC_AR from
  429    1F:D2D1  9D 00 02   			sta	VDC_AR, x		; the shadow variable.
  430                        	
  431    1F:D2D4  28         			plp
  432                        	
  433                        			leave
         1F:D2D5  4C EF FF   			jmp	leave_proc
  434                        	
  435    1F:D2D8  20 40 80 80	.width:		db	$20,$40,$80,$80,$20,$40,$80,$80
         1F:D2DC  20 40 80 80 
  436    1F:D2E0  20 20 20 20	.height:	db	$20,$20,$20,$20,$40,$40,$40,$40
         1F:D2E4  40 40 40 40 
  437    1F:D2E8  03 07 0F 0F	.limit:		db	$03,$07,$0F,$0F,$07,$0F,$1F,$1F
         1F:D2EC  07 0F 1F 1F 
  438    1F:D2F0  08 10 18 18	.increment	db	$08,$10,$18,$18,$08,$10,$18,$18
         1F:D2F4  08 10 18 18 
  439                        	
  440               26C1     			.bss
  441                        	
  442                        	; **************
  443                        	; 16-bytes of VDC BAT information.
  444                        	;
  445                        	; N.B. MUST be 16-bytes before the SGX versions to use PCE_VDC_OFFSET.
  446                        	;
  447                        	; N.B. Declared inside this .proc so that they can be stripped if unused.
  448                        	
  449                        	; Initialized by set_bat_vdc.
  450    F8:26C1             	vdc_bat_width:	ds	1	; $20, $40, $80
  451    F8:26C2             	vdc_bat_height:	ds	1	; $20, $40
  452    F8:26C3             	vdc_bat_x_mask:	ds	1	; $1F, $3F, $7F
  453    F8:26C4             	vdc_bat_y_mask:	ds	1	; $1F, $3F
  454    F8:26C5             	vdc_bat_limit:	ds	1	; (>$03FF), (>$07FF), (>$0FFF), (>$1FFF)
  455                        	
  456                        	; From blkmap.asm just to avoid wasting .bss space with padding.
  457    F8:26C6             	vdc_map_draw_w:	ds	1	; (SCR_WIDTH / 8) + 1
  458    F8:26C7             	vdc_map_draw_h:	ds	1	; (SCR_HEIGHT / 8) + 1
  459    F8:26C8             	vdc_map_line_w:	ds	1	; Line width of map data in tiles.
  460    F8:26C9             	vdc_map_scrn_w:	ds	1	; Line width of map data in screens.
  461    F8:26CA             	vdc_map_pxl_x:	ds	2	; Current top-left X in pixels.
  462    F8:26CC             	vdc_map_pxl_y:	ds	2	; Current top-left Y in pixels.
  463    F8:26CE             	vdc_map_option:	ds	1	; Flags to disable BAT alignment.
  464                        	
  465                        	; From hucc-old-spr.asm just to avoid wasting .bss space with padding.
  466    F8:26CF             	spr_max:	ds	1
  467    F8:26D0             	spr_clr:	ds	1
  468                        	
  469               0001     		.if	SUPPORT_SGX
  470                        	
  471                        	; **************
  472                        	; 16-bytes of SGX BAT information.
  473                        	;
  474                        	; N.B. MUST be 16-bytes after the VDC versions to use SGX_VDC_OFFSET.
  475                        	;
  476                        	; N.B. Declared inside this .proc so that they can be stripped if unused.
  477                        	
  478                        	; Initialized by set_bat_sgx.
  479    F8:26D1             	sgx_bat_width:	ds	1	; $20, $40, $80
  480    F8:26D2             	sgx_bat_height:	ds	1	; $20, $40
  481    F8:26D3             	sgx_bat_x_mask:	ds	1	; $1F, $3F, $7F
  482    F8:26D4             	sgx_bat_y_mask:	ds	1	; $1F, $3F
  483    F8:26D5             	sgx_bat_limit:	ds	1	; (>$03FF), (>$07FF), (>$0FFF), (>$1FFF)
  484                        	
  485                        	; From blkmap.asm just to avoid wasting .bss space with padding.
  486    F8:26D6             	sgx_map_draw_w:	ds	1	; (SCR_WIDTH / 8) + 1
  487    F8:26D7             	sgx_map_draw_h:	ds	1	; (SCR_HEIGHT / 8) + 1
  488    F8:26D8             	sgx_map_line_w:	ds	1	; Line width of map data in tiles.
  489    F8:26D9             	sgx_map_scrn_w:	ds	1	; Line width of map data in screens.
  490    F8:26DA             	sgx_map_pxl_x:	ds	2	; Current top-left X in pixels.
  491    F8:26DC             	sgx_map_pxl_y:	ds	2	; Current top-left Y in pixels.
  492    F8:26DE             	sgx_map_option:	ds	1	; Flags to disable BAT alignment.
  493                        	
  494                        	; From hucc-old-spr.asm just to avoid wasting .bss space with padding.
  495    F8:26DF             	sgx_spr_max:	ds	1
  496    F8:26E0             	sgx_spr_clr:	ds	1
  497                        	
  498                        		.endif
  499                        	
  500               D2F8     			.code
  501                        	
  502                        			.endp
  503                        	
  504                        			.endprocgroup
  505                        	
  506                        	
  507                        	
  508                        	; ***************************************************************************
  509                        	; ***************************************************************************
  510                        	;
  511                        	; sgx_detect - Detect whether we're running on a SuperGrafx (and init VPC).
  512                        	;
  513                        	; Returns: X,C-flag, and "sgx_detected" = NZ, CS if detected.
  514                        	;
  515                        	; ***************************************************************************
  516                        	;
  517                        	; https://web.archive.org/web/20161129055659/http://cgfm2.emuviews.com/txt/sgxtech.txt
  518                        	;
  519                        	; ***************************************************************************
  520                        	;
  521                        	; HuC6202 VIDEO PRIORITY CONTROLLER (huge thanks to Charles MacDonald!)
  522                        	;
  523                        	; The VPC has no access to sprite priority data, it can only sort pixels
  524                        	; based upon which VDC and whether they are "sprite" or "background".
  525                        	;
  526                        	; This can sometimes lead to unexpected results with low-priority sprites.
  527                        	;
  528                        	; VPC registers $0008 and $0009 make up four 4-bit values that define the
  529                        	; enabled layers and priority setting for the four possible window areas.
  530                        	;
  531                        	; Bits 3-0 of $0008 are for the region where Window 1 and 2 overlap
  532                        	; Bits 7-4 of $0008 are for the region occupied by only Window 2
  533                        	; Bits 3-0 of $0009 are for the region occupied by only Window 1
  534                        	; Bits 7-4 of $0009 are for the region where no Window is present
  535                        	;
  536                        	;  Each 4-bit value has the same format:
  537                        	;
  538                        	;  Bit 0: VDC #1 graphics are 0=disabled, 1=enabled
  539                        	;  Bit 1: VDC #2 graphics are 0=disabled, 1=enabled
  540                        	;  Bit 2: Bit 0 of priority setting
  541                        	;  Bit 3: Bit 1 of priority setting
  542                        	;
  543                        	;   Priority Setting 0b00xx: (useful when VDC #1 is a fullscreen HUD)
  544                        	;
  545                        	;    FRONT
  546                        	;     SP1 = VDC #1 (pce) sprite pixels
  547                        	;     BG1 = VDC #1 (pce) background pixels
  548                        	;     SP2 = VDC #2 (sgx) sprite pixels
  549                        	;     BG2 = VDC #2 (sgx) background pixels
  550                        	;    BACK
  551                        	;
  552                        	;   Priority Setting 0b01xx: (useful for parallax backgrounds)
  553                        	;
  554                        	;    FRONT
  555                        	;     SP1 = VDC #1 (pce) sprite pixels
  556                        	;     SP2 = VDC #2 (sgx) sprite pixels
  557                        	;     BG1 = VDC #1 (pce) background pixels
  558                        	;     BG2 = VDC #2 (sgx) background pixels
  559                        	;    BACK
  560                        	;
  561                        	;   Priority Setting 0b10xx: (only useful for special effects)
  562                        	;
  563                        	;    FRONT
  564                        	;     BG1 = VDC #1 (pce) background pixels (transparent where sprites)
  565                        	;     BG2 = VDC #2 (sgx) background pixels
  566                        	;     SP1 = VDC #1 (pce) sprite pixels
  567                        	;     SP2 = VDC #2 (sgx) sprite pixels
  568                        	;    BACK
  569                        	
  570               0001     		.if	SUPPORT_SGX
  571               0001     		.if	1
  572    1F:DAFB             	sgx_detect	.proc
  573                        	
  574    1F:DAFB  A0 7F      			ldy	#$7F			; Use VRAM address $7F7F
  575    1F:DAFD  84 F0      			sty.l	<_di			; because it won't cause
  576    1F:DAFF  84 F1      			sty.h	<_di			; a screen glitch.
  577                        	
  578    1F:DB01  20 8F E3   			jsr	sgx_di_to_mawr		; Write $0001 to SGX VRAM.
  579    1F:DB04  A0 01      			ldy	#$01
  580    1F:DB06  8C 12 02   			sty	SGX_DL
  581    1F:DB09  9C 13 02   			stz	SGX_DH
  582                        	
  583    1F:DB0C  20 92 E3   			jsr	vdc_di_to_mawr		; Write $0000 to VDC VRAM.
  584    1F:DB0F  9C 02 02   			stz	VDC_DL
  585    1F:DB12  9C 03 02   			stz	VDC_DH
  586                        	
  587    1F:DB15  20 82 E3   			jsr	sgx_di_to_marr		; Check value in SGX VRAM.
  588    1F:DB18  AC 12 02   			ldy	SGX_DL			; $01 if found, $00 if not.
  589    1F:DB1B  8C E8 22   			sty	sgx_detected
  590    1F:DB1E  F0 10      			beq	!+			; Skip the rest if not SGX.
  591                        	
  592    1F:DB20  20 8F E3   			jsr	sgx_di_to_mawr		; Write $0000 to SGX VRAM
  593    1F:DB23  9C 12 02   			stz	SGX_DL			; to clean VRAM contents.
  594    1F:DB26  9C 13 02   			stz	SGX_DH
  595                        	
  596    1F:DB29  73 36 DB 08			tii	.vpc_mode, VPC_CR, 8	; Initialize the HuC6202 VPC.
         1F:DB2D  02 08 00    
  597                        	
  598    1F:DB30  98         	!:		tya
  599    1F:DB31  AA         			tax				; "leave" copies X back to A.
  600    1F:DB32  4A         			lsr	a			; Also CC if PCE, CS if SGX.
  601                        	
  602                        			leave				; All done, phew!
         1F:DB33  4C EF FF   			jmp	leave_proc
  603                        		.else
  618                        		.endif
  619                        	
  620               0000     		.ifndef	SGX_PARALLAX
  622                        		.endif
  623                        	
  624               0000     		.if	SGX_PARALLAX
  629                        		.else
  630    1F:DB36  00 30      	.vpc_mode:	dw	$3000			; Use SGX as the background
  631    1F:DB38  00 00      			dw	$0000			; behind a fullscreen HUD.
  632    1F:DB3A  00 00      			dw	$0000
  633    1F:DB3C  00 00      			dw	$0000
  634                        		.endif	SGX_PARALLAX
  635                        	
  636                        			.endp
  637                        	
  638               0000     		.ifndef	CORE_VERSION			; CORE has this in the kernel.
  642                        		.endif	CORE_VERSION
  643                        	
  644                        		.endif	SUPPORT_SGX
  645                        	
  646                        	
  647                        	
  648                        	
  649                        	vdc_copy_to	.procgroup			; These routines share code!
  799                        			.endprocgroup
  800                        	
  801                        	
  802                        	
  803                        	; ***************************************************************************
  804                        	; ***************************************************************************
  805                        	;
  806                        	; init_240x208 - An example of initializing screen and VRAM.
  807                        	;
  808                        	; This can be used as-is, or copied to your own program and modified.
  809                        	;
  810                        	
  811                        	init_240x208	.proc
  892                        			.endp
  893                        	
  894                        	
  895                        	
  896                        	; ***************************************************************************
  897                        	; ***************************************************************************
  898                        	;
  899                        	; init_256x224 - An example of initializing screen and VRAM.
  900                        	;
  901                        	; This can be used as-is, or copied to your own program and modified.
  902                        	;
  903                        	
  904                        	init_256x224	.proc
  985                        			.endp
  986                        	
  987                        	
  988                        	
  989                        	; ***************************************************************************
  990                        	; ***************************************************************************
  991                        	;
  992                        	; init_352x224 - An example of initializing screen and VRAM.
  993                        	;
  994                        	; This can be used as-is, or copied to your own program and modified.
  995                        	;
  996                        	
  997                        	init_352x224	.proc
 1078                        			.endp
 1079                        	
 1080                        	
 1081                        	
 1082                        	; ***************************************************************************
 1083                        	; ***************************************************************************
 1084                        	;
 1085                        	; init_512x224 - An example of initializing screen and VRAM.
 1086                        	;
 1087                        	; This can be used as-is, or copied to your own program and modified.
 1088                        	;
 1089                        	
 1090                        	init_512x224	.proc
 1171                        			.endp
 1172                        	
 1173                        	
 1174                        	
 1175                        	; ***************************************************************************
 1176                        	; ***************************************************************************
 1177                        	;
 1178                        	; init_320x208 - An example of initializing screen and VRAM.
 1179                        	;
 1180                        	; This can be used as-is, or copied to your own program and modified.
 1181                        	;
 1182                        	; This resolution is rarely-seen, but it has no overscan, so it has a use.
 1183                        	;
 1184                        	
 1185                        	init_320x208	.proc
 1266                        			.endp
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   41                        	
                             #[3]   "..\..\..\include\hucc\hucc-math.asm"
   42                        			include	"hucc-math.asm"		; HuCC multiply and divide.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-math.asm
    5                        	;
    6                        	; Basic (i.e. very slow) 8-bit and 16-bit multiply and divide routines.
    7                        	;
    8                        	; Copyright John Brandwood 2021-2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; This is basically a set of SDCC-compatible routines, but using Y:A for the
   18                        	; primary register instead of X:A.
   19                        	;
   20                        	; Using Y:A makes the routines instantly usable with HuCC, and it also makes
   21                        	; them usable with SDCC with just an "sxy" before and after the call.
   22                        	;
   23                        	; ***************************************************************************
   24                        	; ***************************************************************************
   25                        	
   26               E460     			.code
   27                        	
   28               2000     	multiplier	=	__temp
   29               2094     	multiplicand	=	___SDCC_m6502_ret0
   30               2094     	product		=	multiplicand
   31                        	
   32               2000     	__mulint_PARM_2	=	multiplier
   33                        	
   34               2000     	divisor		=	__temp
   35               2094     	dividend	=	___SDCC_m6502_ret0
   36               2094     	quotient	=	dividend
   37               2096     	remainder	=	___SDCC_m6502_ret2
   38                        	
   39               2000     	__moduint_PARM_2 =	divisor
   40               2000     	__modsint_PARM_2 =	divisor
   41               2000     	__divuint_PARM_2 =	divisor
   42               2000     	__divsint_PARM_2 =	divisor
   43                        	
   44                        	
   45                        	
   46                        	; ***************************************************************************
   47                        	; int
   48                        	; _mulint (int a, int b)
   49                        	;
   50                        	; 1st parameter in Y:A (multiplicand)
   51                        	; 2nd parameter in __mulint_PARM_2 (multiplier)
   52                        	; result in Y:A
   53                        	;
   54                        	; N.B. signed and unsigned multiply only differ in the top 16 of the 32bits!
   55                        	
   56    00:E460  85 94      	__mulint:	sta	<multiplicand + 0
   57    00:E462  84 95      			sty	<multiplicand + 1
   58                        	
   59    00:E464  A2 10      			ldx	#16			; Loop 16 times.
   60                        	
   61    00:E466  46 95      			lsr	<multiplicand + 1	; Divide multiplicand by 2
   62    00:E468  66 94      			ror	<multiplicand + 0	; and clear the 16th bit.
   63                        	
   64    00:E46A  62         			cla				; Clear top word of product.
   65    00:E46B  85 96      			sta.l	<multiplicand + 2
   66    00:E46D  90 0B      			bcc	.rotate
   67                        	
   68    00:E46F  A8         	.add:		tay				; Add the 16-bit multiplier to
   69    00:E470  18         			clc				; top 16-bits of the product.
   70    00:E471  A5 96      			lda	<multiplicand + 2
   71    00:E473  65 00      			adc.l	<multiplier
   72    00:E475  85 96      			sta	<multiplicand + 2
   73    00:E477  98         			tya
   74    00:E478  65 01      			adc.h	<multiplier
   75                        	
   76    00:E47A  6A         	.rotate:	ror	a			; Rotate product into the top
   77    00:E47B  66 96      			ror	<multiplicand + 2	; bits of the multiplicand ...
   78    00:E47D  66 95      			ror	<multiplicand + 1	; and divide multiplicand by 2.
   79    00:E47F  66 94      			ror	<multiplicand + 0
   80                        	
   81    00:E481  CA         			dex
   82    00:E482  B0 EB      			bcs	.add			; Add multiplier to top word?
   83    00:E484  D0 F4      			bne	.rotate			; Completed 16 bits?
   84                        	
   85    00:E486  85 97      			sta	<multiplicand + 3	; Save top byte of product.
   86                        	
   87    00:E488  A5 94      			lda.l	<multiplicand		; Return the bottom 16-bits of
   88    00:E48A  A4 95      			ldy.h	<multiplicand		; the 32-bit product.
   89                        	
   90    00:E48C  60         			rts
   91                        	
   92                        	
   93                        	
   94                        	; ***************************************************************************
   95                        	; unsigned int
   96                        	; _divuint (unsigned int x, unsigned int y)
   97                        	;
   98                        	; 1st parameter in Y:A (unsigned dividend)
   99                        	; 2nd parameter in __divuint_PARM_2 (unsigned divisor)
  100                        	; result in Y:A
  101                        	
  102    00:E48D  20 95 E4   	__divuint:	jsr	__moduint		; Call the basic uint division.
  103                        	
  104    00:E490  A5 94      			lda.l	<quotient		; Then get the result from where
  105    00:E492  A4 95      			ldy.h	<quotient		; it was calculated.
  106    00:E494  60         			rts
  107                        	
  108                        	
  109                        	
  110                        	; ***************************************************************************
  111                        	; unsigned int
  112                        	; _moduint (unsigned int x, unsigned int y)
  113                        	;
  114                        	; 1st parameter in Y:A (unsigned dividend)
  115                        	; 2nd parameter in __moduint_PARM_2 (unsigned divisor)
  116                        	; result in Y:A
  117                        	;
  118                        	; If the dividend has more bits than the divisor, then we need to check the
  119                        	; 17th bit of the remainder!
  120                        	
  121               0000     		.if	0
  176                        		.else
  177                        	
  178    00:E495  85 94      	__moduint:	sta.l	<dividend		; 1st SDCC parameter in Y:A.
  179    00:E497  84 95      			sty.h	<dividend
  180                        	
  181    00:E499  A5 00      	divmoduint:	lda.l	<divisor		; Check for a divide-by-zero.
  182    00:E49B  05 01      			ora.h	<divisor
  183    00:E49D  F0 FE      	.zero:		beq	.zero
  184                        	
  185    00:E49F  A2 11      			ldx	#16 + 1
  186                        	
  187    00:E4A1  C2         			cly				; Clear remainder.
  188    00:E4A2  84 97      			sty.h	<remainder
  189                        	
  190    00:E4A4  98         	.skip:		tya				; Restore remainder lo-byte.
  191                        	
  192    00:E4A5  26 94      	.loop:		rol.l	<dividend		; Quotient bit -> dividend LSB.
  193    00:E4A7  26 95      			rol.h	<dividend		; Rotate dividend, MSB -> C.
  194                        	
  195    00:E4A9  CA         			dex
  196    00:E4AA  F0 14      			beq	.finished
  197                        	
  198    00:E4AC  2A         			rol	a			; Rotate C into remainder.
  199    00:E4AD  26 97      			rol.h	<remainder
  200                        	;		php				; Preserve remainder 17th bit.
  201                        	
  202    00:E4AF  A8         			tay				; Preserve remainder lo-byte.
  203                        	
  204    00:E4B0  C5 00      			cmp.l	<divisor		; Test divisor.
  205    00:E4B2  A5 97      			lda.h	<remainder
  206    00:E4B4  E5 01      			sbc.h	<divisor
  207    00:E4B6  90 EC      			bcc	.skip			; CC if divisor > remainder.
  208                        	
  209                        	;		cmp.l	<divisor		; If the dividend has more bits
  210                        	;		lda.h	<remainder		; than the divisor then we need
  211                        	;		sbc.h	<divisor		; to check the remainder hi-bit.
  212                        	;		bcs	.subtract		; CS if divisor <= remainder.
  213                        	;		plp				; Restore remainder 17th bit.
  214                        	;		bcc	.skip			; CC if divisor > remainder.
  215                        	;		db	$90			; Turn "plp" into "bcc" to skip.
  216                        	;.subtract:	plp				; Discard remainder 17th bit.
  217                        	;		sec
  218                        	
  219    00:E4B8  85 97      			sta.h	<remainder		; Subtract divisor.
  220    00:E4BA  98         			tya
  221    00:E4BB  E5 00      			sbc.l	<divisor
  222    00:E4BD  38         			sec				
  223    00:E4BE  80 E5      			bra	.loop
  224                        	
  225    00:E4C0  A4 97      	.finished:	ldy.h	<remainder		; Get the remainder hi-byte.
  226                        	
  227    00:E4C2  60         			rts
  228                        	
  229                        		.endif
  230                        	
  231                        	
  232                        	
  233                        	; ***************************************************************************
  234                        	; int
  235                        	; _divsint (int x, int y)
  236                        	;
  237                        	; 1st parameter in Y:A (signed dividend)
  238                        	; 2nd parameter in __divsint_PARM_2 (signed divisor)
  239                        	; result in Y:A
  240                        	
  241    00:E4C3  20 CB E4   	__divsint:	jsr	__modsint		; Call the basic sint division.
  242                        	
  243    00:E4C6  A5 94      			lda.l	<quotient		; Then get the result from where
  244    00:E4C8  A4 95      			ldy.h	<quotient		; it was calculated.
  245    00:E4CA  60         			rts
  246                        	
  247                        	
  248                        	
  249                        	; ***************************************************************************
  250                        	; int
  251                        	; _modsint (int x, int y)
  252                        	;
  253                        	; 1st parameter in Y:A (signed dividend)
  254                        	; 2nd parameter in __modsint_PARM_2 (signed divisor)
  255                        	; result in Y:A
  256                        	
  257    00:E4CB  84 95      	__modsint:	sty.h	<dividend
  258                        	
  259    00:E4CD  C0 80      			cpy	#$80			; Remainder -ve if dividend
  260    00:E4CF  08         			php				; was -ve.
  261    00:E4D0  90 03      			bcc	!+
  262    00:E4D2  20 22 E5   			jsr	neg_yacs		; Negate the dividend.
  263                        	
  264    00:E4D5  85 94      	!:		sta.l	<dividend		; Store the dividend.
  265    00:E4D7  A5 95      			lda.h	<dividend
  266    00:E4D9  84 95      			sty.h	<dividend
  267                        	
  268    00:E4DB  45 01      			eor.h	<divisor		; Quotient is -ve if divisor
  269    00:E4DD  08         			php				; and dividend signs differ.
  270                        	
  271    00:E4DE  A5 01      			lda.h	<divisor		; Is the divisor -ve?
  272    00:E4E0  10 0B      			bpl	!+
  273                        	
  274    00:E4E2  38         			sec				; Negate the divisor.
  275    00:E4E3  62         			cla
  276    00:E4E4  E5 00      			sbc.l	<divisor
  277    00:E4E6  85 00      			sta.l	<divisor
  278    00:E4E8  62         			cla
  279    00:E4E9  E5 01      			sbc.h	<divisor
  280    00:E4EB  85 01      			sta.h	<divisor
  281                        	
  282    00:E4ED  20 99 E4   	!:		jsr	divmoduint		; Do the unsigned division.
  283                        	
  284    00:E4F0  28         	.result:	plp				; Should the quotient be -ve?
  285    00:E4F1  10 0D      			bpl	.remainder
  286                        	
  287    00:E4F3  AA         			tax				; Preserve remainder lo-byte.
  288                        	
  289    00:E4F4  38         			sec				; Then negate the quotient.
  290    00:E4F5  62         			cla
  291    00:E4F6  E5 94      			sbc.l	<dividend
  292    00:E4F8  85 94      			sta.l	<dividend
  293    00:E4FA  62         			cla
  294    00:E4FB  E5 95      			sbc.h	<dividend
  295    00:E4FD  85 95      			sta.h	<dividend
  296                        	
  297    00:E4FF  8A         			txa				; Restore remainder lo-byte.
  298                        	
  299    00:E500  28         	.remainder:	plp				; Was the dividend -ve?
  300    00:E501  B0 1F      			bcs	neg_yacs		; Then negate the remainder.
  301    00:E503  60         			rts
  302                        	
  303                        	
  304                        	
  305                        	; ***************************************************************************
  306                        	; unsigned int
  307                        	; _muluchar (unsigned char x, unsigned char y)
  308                        	;
  309                        	; 1st parameter in A (unsigned multiplicand)
  310                        	; 2nd parameter in Y (unsigned multiplier)
  311                        	; result in Y:A
  312                        	
  313    00:E504  84 00      	__muluchar:	sty	<multiplier
  314                        	
  315    00:E506  A0 08      	muluchar_a:	ldy	#8			; Loop 8 times.
  316                        	
  317    00:E508  4A         			lsr	a			; Divide multiplicand by 2
  318    00:E509  85 94      			sta	<multiplicand		; and clear the 8th bit.
  319                        	
  320    00:E50B  62         			cla				; Clear top byte of product.
  321    00:E50C  90 03      			bcc	.rotate
  322                        	
  323    00:E50E  18         	.add:		clc				; Add the 8-bit multiplier to
  324    00:E50F  65 00      			adc	<multiplier		; top 8-bits of the product.
  325                        	
  326    00:E511  6A         	.rotate:	ror	a			; Rotate product into the top
  327    00:E512  66 94      			ror	<multiplicand		; bits of the multiplicand.
  328                        	
  329    00:E514  88         			dey
  330    00:E515  B0 F7      			bcs	.add			; Add multiplier to top byte?
  331    00:E517  D0 F8      			bne	.rotate			; Completed 8 bits?
  332                        	
  333    00:E519  A8         			tay				; Return the 16-bit product.
  334    00:E51A  A5 94      			lda	<multiplicand
  335                        	
  336    00:E51C  60         			rts
  337                        	
  338                        	
  339                        	
  340                        	; ***************************************************************************
  341                        	; signed int
  342                        	; abs (signed int x)
  343                        	;
  344                        	; 1st parameter in Y:A (signed)
  345                        	; result in Y:A
  346                        	
  347    00:E51D  C0 80      	_abs:		cpy	#$80			; Is the hi-byte -ve?
  348    00:E51F  90 0B      			bcc	!+
  349                        	
  350    00:E521  38         	neg_ya:		sec
  351    00:E522  49 FF      	neg_yacs:	eor	#$FF
  352    00:E524  69 00      			adc	#0
  353    00:E526  42         			say
  354    00:E527  49 FF      			eor	#$FF
  355    00:E529  69 00      			adc	#0
  356    00:E52B  42         			say
  357    00:E52C  60         	!:		rts
  358                        	
  359    00:E52D             	_abs.1		.alias	_abs
  360                        	
  361                        	
  362                        	
  363                        	; ***************************************************************************
  364                        	; signed int
  365                        	; _mulschar (signed char x, signed char y)
  366                        	;
  367                        	; 1st parameter in A (signed multiplicand)
  368                        	; 2nd parameter in Y (signed multiplier)
  369                        	; result in Y:A
  370                        	;
  371                        	; N.B. Y and A get swapped to make the code shorter.
  372                        	
  373    00:E52D  85 94      	__mulschar:	sta	<multiplicand		; Remember multiplicand sign.
  374                        	
  375    00:E52F  C9 80      			cmp	#$80			; Is the multiplicand -ve?
  376    00:E531  90 03      			bcc	!+
  377    00:E533  49 FF      			eor	#$FF			; Negate the multiplicand.
  378    00:E535  1A         			inc	a
  379    00:E536  85 00      	!:		sta	<multiplier		; Then save it as multiplier.
  380                        	
  381    00:E538  98         			tya				; Product -ve if multiplicand
  382    00:E539  45 94      			eor	<multiplicand		; and multiplier signs differ.
  383    00:E53B  08         			php				; Remember product sign.
  384                        	
  385    00:E53C  98         			tya				; Is the multiplicand -ve?
  386    00:E53D  10 03      			bpl	!+
  387    00:E53F  49 FF      			eor	#$FF			; Negate the multiplicand.
  388    00:E541  1A         			inc	a
  389                        	
  390    00:E542  20 06 E5   	!:		jsr	muluchar_a		; Multiplier already saved.
  391                        	
  392    00:E545  28         			plp				; Is the product -ve?
  393    00:E546  30 D9      			bmi	neg_ya
  394    00:E548  60         			rts
  395                        	
  396                        	
  397                        	
  398                        	; ***************************************************************************
  399                        	; unsigned int
  400                        	; _mulsuchar (signed char x, signed char y)
  401                        	;
  402                        	; 1st parameter in A (unsigned multiplicand)
  403                        	; 2nd parameter in Y (signed multiplier)
  404                        	; result in Y:A
  405                        	;
  406                        	; N.B. Y and A get swapped to make the code shorter.
  407                        	
  408    00:E549  42         	__mulsuchar:	say				; Put the signed param in A.
  409                        			; drop through to __muluschar
  410                        	
  411                        	
  412                        	
  413                        	; ***************************************************************************
  414                        	; signed int
  415                        	; _muluschar (unsigned char x, unsigned char y)
  416                        	;
  417                        	; 1st parameter in A (signed multiplicand)
  418                        	; 2nd parameter in Y (unsigned multiplier)
  419                        	; result in Y:A
  420                        	
  421    00:E54A  C9 80      	__muluschar:	cmp	#$80			; Is multiplicand -ve?
  422    00:E54C  08         			php				; Remember the sign.
  423    00:E54D  90 03      			bcc	!+
  424    00:E54F  49 FF      			eor	#$FF			; Negate multiplicand.
  425    00:E551  1A         			inc	a
  426                        	
  427    00:E552  20 04 E5   	!:		jsr	__muluchar		; Do the unsigned multiply.
  428                        	
  429    00:E555  28         			plp				; Was multiplicand -ve?
  430    00:E556  B0 CA      			bcs	neg_yacs		; Then negate the product.
  431    00:E558  60         			rts
  432                        	
  433                        	
  434                        	
  435                        	; ***************************************************************************
  436                        	; unsigned int
  437                        	; _moduchar (unsigned char x, unsigned char y)
  438                        	;
  439                        	; 1st parameter in A (unsigned dividend)
  440                        	; 2nd parameter in Y (unsigned divisor)
  441                        	; result in Y:A
  442                        	
  443    00:E559  84 00      	__moduchar:	sty.l	<divisor
  444                        	
  445    00:E55B  0A         	divmodu8_a:	asl	a			; Rotate dividend, MSB -> C.
  446    00:E55C  85 94      			sta.l	<dividend
  447    00:E55E  64 95      			stz.h	<dividend		; Clear quotient hi-byte.
  448                        	
  449    00:E560  A0 08      			ldy	#8
  450    00:E562  62         			cla				; Clear remainder.
  451    00:E563  2A         	.loop:		rol	a			; Rotate C into remainder.
  452    00:E564  C5 00      			cmp	<divisor		; Test divisor.
  453    00:E566  90 02      			bcc	.skip			; CC if divisor > remainder.
  454    00:E568  E5 00      			sbc	<divisor		; Subtract divisor.
  455    00:E56A  26 94      	.skip:		rol	<dividend		; Quotient bit -> dividend LSB.
  456    00:E56C  88         			dey
  457    00:E56D  D0 F4      			bne	.loop
  458                        	
  459    00:E56F  C2         			cly				; Clear hi-byte of return.
  460    00:E570  60         			rts				; Return the 16-bit remainder.
  461                        	
  462                        	
  463                        	
  464                        	; ***************************************************************************
  465                        	; unsigned int
  466                        	; _divuchar (unsigned char x, unsigned char y)
  467                        	;
  468                        	; 1st parameter in A (unsigned dividend)
  469                        	; 2nd parameter in Y (unsigned divisor)
  470                        	; result in Y:A
  471                        	
  472    00:E571  20 59 E5   	__divuchar:	jsr	__moduchar
  473                        	
  474    00:E574  A5 94      			lda	<dividend		; Get the dividend lo-byte.
  475    00:E576  60         			rts				; Return the 16-bit dividend.
  476                        	
  477                        	
  478                        	
  479                        	; ***************************************************************************
  480                        	; signed int
  481                        	; _modschar (signed char x, signed char y)
  482                        	;
  483                        	; 1st parameter in A (signed dividend)
  484                        	; 2nd parameter in Y (signed divisor)
  485                        	; result in Y:A
  486                        	
  487    00:E577  AA         	__modschar:	tax				; Preserve the dividend.
  488    00:E578  08         			php				; Remember remainder sign.
  489                        	
  490    00:E579  84 00      			sty	<divisor		; Quotient negative if divisor
  491    00:E57B  45 00      			eor	<divisor		; and dividend signs differ.
  492    00:E57D  08         			php				; Remember the quotient sign.
  493                        	
  494    00:E57E  98         			tya				; Is the divisor -ve?
  495    00:E57F  10 05      			bpl	!+
  496    00:E581  49 FF      			eor	#$FF			; Negate the divisor.
  497    00:E583  1A         			inc	a
  498    00:E584  85 00      			sta	<divisor
  499                        	
  500    00:E586  8A         	!:		txa				; Is the dividend -ve?
  501    00:E587  10 03      			bpl	divmods8_a
  502                        	
  503    00:E589  49 FF      	divmods8_neg:	eor	#$FF			; Negate the dividend.
  504    00:E58B  1A         			inc	a
  505                        	
  506    00:E58C  20 5B E5   	divmods8_a:	jsr	divmodu8_a		; Do the unsigned division.
  507                        	
  508    00:E58F  28         			plp				; Should the quotient be -ve?
  509    00:E590  10 0C      			bpl	!+
  510                        	
  511    00:E592  AA         			tax				; Preserve remainder lo-byte.
  512                        	
  513    00:E593  38         			sec				; Negate the quotient.
  514    00:E594  62         			cla
  515    00:E595  E5 94      			sbc.l	<dividend
  516    00:E597  85 94      			sta.l	<dividend
  517    00:E599  A9 FF      			lda	#$FF
  518    00:E59B  85 95      			sta.h	<dividend
  519                        	
  520    00:E59D  8A         			txa				; Restore remainder lo-byte.
  521                        	
  522    00:E59E  28         	!:		plp				; Was the dividend -ve?
  523    00:E59F  10 05      			bpl	!+
  524                        	
  525    00:E5A1  49 FF      			eor	#$FF			; Then negate the remainder.
  526    00:E5A3  1A         			inc	a
  527    00:E5A4  A0 FF      			ldy	#$FF
  528                        	
  529    00:E5A6  60         	!:		rts
  530                        	
  531                        	
  532                        	
  533                        	; ***************************************************************************
  534                        	; signed int
  535                        	; _moduschar (unsigned char x, unsigned char y)
  536                        	;
  537                        	; 1st parameter in A (signed dividend)
  538                        	; 2nd parameter in Y (unsigned divisor)
  539                        	; result in Y:A
  540                        	
  541    00:E5A7  84 00      	__moduschar:	sty.l	<divisor
  542                        	
  543    00:E5A9  A8         			tay				; Is the dividend -ve?
  544    00:E5AA  08         			php				; Remember remainder sign.
  545    00:E5AB  08         			php				; Remember quotient sign.
  546    00:E5AC  30 DB      			bmi	divmods8_neg
  547    00:E5AE  80 DC      			bra	divmods8_a
  548                        	
  549                        	
  550                        	
  551                        	; ***************************************************************************
  552                        	; unsigned int
  553                        	; _modsuchar (signed char x, signed char y)
  554                        	;
  555                        	; 1st parameter in A (unsigned dividend)
  556                        	; 2nd parameter in Y (signed divisor)
  557                        	; result in Y:A
  558                        	
  559    00:E5B0  AA         	__modsuchar:	tax				; Preserve the dividend.
  560    00:E5B1  08         			php				; Remember remainder sign.
  561                        	
  562    00:E5B2  98         			tya				; Check the divisor sign.
  563    00:E5B3  08         			php				; Remember quotient sign.
  564    00:E5B4  10 03      			bpl	!+
  565    00:E5B6  49 FF      			eor	#$FF			; Negate the divisor.
  566    00:E5B8  1A         			inc	a
  567    00:E5B9  85 00      	!:		sta.l	<divisor
  568                        	
  569    00:E5BB  8A         			txa				; Restore the dividend.
  570    00:E5BC  80 CE      			bra	divmods8_a
  571                        	
  572                        	
  573                        	
  574                        	; ***************************************************************************
  575                        	; signed int
  576                        	; _divschar (signed char x, signed char y)
  577                        	;
  578                        	; 1st parameter in A (signed dividend)
  579                        	; 2nd parameter in Y (signed divisor)
  580                        	; result in Y:A
  581                        	
  582    00:E5BE  20 77 E5   	__divschar:	jsr	__modschar
  583                        	
  584    00:E5C1  A5 94      			lda.l	<dividend
  585    00:E5C3  A4 95      			ldy.h	<dividend
  586    00:E5C5  60         			rts
  587                        	
  588                        	
  589                        	
  590                        	; ***************************************************************************
  591                        	; signed int
  592                        	; _divuschar (unsigned char x, unsigned char y)
  593                        	;
  594                        	; 1st parameter in A (signed dividend)
  595                        	; 2nd parameter in Y (unsigned divisor)
  596                        	; result in Y:A
  597                        	
  598    00:E5C6  20 A7 E5   	__divuschar:	jsr	__moduschar
  599                        	
  600    00:E5C9  A5 94      			lda.l	<dividend
  601    00:E5CB  A4 95      			ldy.h	<dividend
  602    00:E5CD  60         			rts
  603                        	
  604                        	
  605                        	
  606                        	; ***************************************************************************
  607                        	; unsigned int
  608                        	; _divsuchar (signed char x, signed char y)
  609                        	;
  610                        	; 1st parameter in A (unsigned dividend)
  611                        	; 2nd parameter in Y (signed divisor)
  612                        	; result in Y:A
  613                        	
  614    00:E5CE  20 B0 E5   	__divsuchar:	jsr	__modsuchar
  615                        	
  616    00:E5D1  A5 94      			lda.l	<dividend
  617    00:E5D3  A4 95      			ldy.h	<dividend
  618    00:E5D5  60         			rts
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
                             #[3]   "..\..\..\include\hucc\hucc-gfx.asm"
   43                        			include	"hucc-gfx.asm"		; Used by HuCC's core_main.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; huc-gfx.asm
    5                        	;
    6                        	; Based on the original HuC and MagicKit functions by David Michel and the
    7                        	; other original HuC developers.
    8                        	;
    9                        	; Modifications copyright John Brandwood 2024-2025.
   10                        	;
   11                        	; Distributed under the Boost Software License, Version 1.0.
   12                        	; (See accompanying file LICENSE_1_0.txt or copy at
   13                        	;  http://www.boost.org/LICENSE_1_0.txt)
   14                        	;
   15                        	; ***************************************************************************
   16                        	; ***************************************************************************
   17                        	
   18                        	;
   19                        	; Include dependancies ...
   20                        	;
   21                        	
   22                        			include "common.asm"		; Common helpers.
   23                        			include "vce.asm"		; Useful VCE routines.
   24                        			include "vdc.asm"		; Useful VCE routines.
   25                        	
   26                        	
   27                        	
   28                        	; ***************************************************************************
   29                        	; ***************************************************************************
   30                        	;
   31                        	; void __fastcall disp_on( void );
   32                        	; void __fastcall disp_off( void );
   33                        	
   34    00:E5D6             			.alias	_disp_on		= set_dspon
   35    00:E5D6             			.alias	_disp_off		= set_dspoff
   36                        	
   37                        	
   38                        	
   39                        	; ***************************************************************************
   40                        	; ***************************************************************************
   41                        	;
   42                        	; void __fastcall set_screen_size( unsigned char value<_al> );
   43                        	; void __fastcall sgx_set_screen_size( unsigned char value<_al> );
   44                        	;
   45                        	
   46    00:E5D6             			.alias	_set_screen_size.1	= set_bat_vdc
   47    00:E5D6             			.alias	_sgx_set_screen_size.1	= set_bat_sgx
   48                        	
   49                        	
   50                        	
   51                        	; ***************************************************************************
   52                        	; ***************************************************************************
   53                        	;
   54                        	; void __fastcall init_256x224( void );
   55                        	
   56    1F:D9C2             	_init_256x224	.proc
   57                        	
   58               0800     	.BAT_SIZE	=	64 * 32
   59               0080     	.CHR_0x20	=	.BAT_SIZE / 16		; 1st tile # after the BAT.
   60               7F00     	.SAT_ADDR	=	$7F00			; SAT takes 16 tiles of VRAM.
   61                        	
   62    1F:D9C2  08         			php				; Disable interrupts.
   63    1F:D9C3  78         			sei
   64                        	
   65    1F:D9C4  20 3D FD   			call	clear_vce		; Clear all palettes.
   66                        	
   67    1F:D9C7  A9 80      			lda.l	#.CHR_0x20		; CHR # of ASCII ' '.
   68    1F:D9C9  85 F8      			sta.l	<_ax
   69    1F:D9CB  A9 00      			lda.h	#.CHR_0x20
   70    1F:D9CD  85 F9      			sta.h	<_ax
   71                        	
   72    1F:D9CF  A9 08      			lda	#>.BAT_SIZE		; Size of BAT in words.
   73    1F:D9D1  85 FA      			sta	<_bl
   74                        	
   75    1F:D9D3  20 51 FD   			call	clear_vram_vdc		; Clear VRAM.
   76               0001     		.if	SUPPORT_SGX
   77    1F:D9D6  20 33 FD   			call	clear_vram_sgx
   78                        		.endif
   79                        	
   80    1F:D9D9  A9 FD      			lda	#<.mode_256x224		; Disable BKG & SPR layers but
   81    1F:D9DB  85 EC      			sta.l	<_bp			; enable RCR & VBLANK IRQ.
   82    1F:D9DD  A9 D9      			lda	#>.mode_256x224
   83    1F:D9DF  85 ED      			sta.h	<_bp
   84                        	
   85               0001     		.if	SUPPORT_SGX
   86    1F:D9E1  20 29 FD   			call	sgx_detect		; Are we really on an SGX?
   87    1F:D9E4  90 05      			bcc	!+
   88    1F:D9E6  A0 1F      			ldy	#^.mode_256x224		; Set SGX 1st, with no VBL.
   89    1F:D9E8  20 1F FD   			call	set_mode_sgx
   90                        		.endif
   91    1F:D9EB  A0 1F      	!:		ldy	#^.mode_256x224		; Set VDC 2nd, VBL allowed.
   92    1F:D9ED  20 15 FD   			call	set_mode_vdc
   93                        	
   94               0001     		.if	SUPPORT_SGX
   95    1F:D9F0  2C 10 02   			bit	SGX_SR			; Purge any overdue RCR.
   96                        		.endif
   97    1F:D9F3  2C 00 02   			bit	VDC_SR			; Purge any overdue VBL.
   98    1F:D9F6  28         			plp				; Restore interrupts.
   99                        	
  100    1F:D9F7  20 1D E3   			call	wait_vsync		; Wait for the next VBLANK.
  101                        	
  102                        			leave				; All done, phew!
         1F:D9FA  4C EF FF   			jmp	leave_proc
  103                        	
  104                        			; A standard 256x224 screen with overscan.
  105                        	
  106    1F:D9FD  80         	.mode_256x224:	db	$80			; VCE Control Register.
  107    1F:D9FE  04         			db	VCE_CR_5MHz + XRES_SOFT	;   Video Clock + Artifact Reduction
  108                        	
  109    1F:D9FF  09         			db	VDC_MWR			; Memory-access Width Register
  110    1F:DA00  10 00      			dw	VDC_MWR_64x32 + VDC_MWR_1CYCLE
  111    1F:DA02  0A         			db	VDC_HSR			; Horizontal Sync Register
  112    1F:DA03  02 02      			dw	VDC_HSR_256
  113    1F:DA05  0B         			db	VDC_HDR			; Horizontal Display Register
  114    1F:DA06  1F 04      			dw	VDC_HDR_256
  115    1F:DA08  0C         			db	VDC_VPR			; Vertical Sync Register
  116    1F:DA09  02 17      			dw	VDC_VPR_224
  117    1F:DA0B  0D         			db	VDC_VDW			; Vertical Display Register
  118    1F:DA0C  DF 00      			dw	VDC_VDW_224
  119    1F:DA0E  0E         			db	VDC_VCR			; Vertical Display END position Register
  120    1F:DA0F  FF 00      			dw	VDC_VCR_224
  121    1F:DA11  0F         			db	VDC_DCR			; DMA Control Register
  122    1F:DA12  10 00      			dw	$0010			;   Enable automatic VRAM->SATB
  123    1F:DA14  13         			db	VDC_DVSSR		; VRAM->SATB address $7F00
  124    1F:DA15  00 7F      			dw	.SAT_ADDR
  125    1F:DA17  07         			db	VDC_BXR			; Background X-Scroll Register
  126    1F:DA18  00 00      			dw	$0000
  127    1F:DA1A  08         			db	VDC_BYR			; Background Y-Scroll Register
  128    1F:DA1B  00 00      			dw	$0000
  129    1F:DA1D  06         			db	VDC_RCR			; Raster Counter Register
  130    1F:DA1E  00 00      			dw	$0000			;   Never occurs!
  131    1F:DA20  05         			db	VDC_CR			; Control Register
  132    1F:DA21  0C 00      			dw	$000C			;   Enable VSYNC & RCR IRQ
  133    1F:DA23  00         			db	0
  134                        	
  135                        			.endp
  136                        	
  137                        	
  138                        	
  139                        	; ***************************************************************************
  140                        	; ***************************************************************************
  141                        	;
  142                        	; void __fastcall init_240x208( void );
  143                        	
  144                        	_init_240x208	.proc
  223                        			.endp
  224                        	
  225                        	
  226                        	
  227                        	; ***************************************************************************
  228                        	; ***************************************************************************
  229                        	;
  230                        	; void __fastcall _macro set_xres( unsigned int x_pixels<_ax> );
  231                        	; void __fastcall _macro sgx_set_xres( unsigned int x_pixels<_ax> );
  232                        	;
  233                        	; void __fastcall set_xres( unsigned int x_pixels<_ax>, unsigned char blur_flag<_bl> );
  234                        	; void __fastcall sgx_set_xres( unsigned int x_pixels<_ax>, unsigned char blur_flag<_bl> );
  235                        	;
  236                        	; blur_flag = XRES_SOFT (default if not specified), XRES_SHARP or XRES_KEEP
  237                        	
  238                        	set_xres_group	.procgroup			; These routines share code!
  337                        			.endprocgroup	; set_xres_group
  338                        	
  339                        	
  340                        	
  341                        	; ***************************************************************************
  342                        	; ***************************************************************************
  343                        	;
  344                        	; HuC VRAM Functions
  345                        	;
  346                        	; ***************************************************************************
  347                        	; ***************************************************************************
  348                        	
  349                        	
  350    1F:D8F4             	load_vram_group	.procgroup			; These routines share code!
  351                        	
  352                        	; ***************************************************************************
  353                        	; ***************************************************************************
  354                        	;
  355                        	; void __fastcall load_vram( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_words<_ax> );
  356                        	; void __fastcall sgx_load_vram( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned int num_words<_ax> );
  357                        	;
  358                        	; void __fastcall far_load_vram( unsigned int vram<_di>, unsigned int num_words<_ax> );
  359                        	; void __fastcall sgx_far_load_vram( unsigned int vram<_di>, unsigned int num_words<_ax> );
  360                        	;
  361                        	; load_vram_sgx -  copy a block of memory to VRAM
  362                        	; load_vram_vdc -  copy a block of memory to VRAM
  363                        	;
  364                        	; _bp		= BAT memory location
  365                        	; _bp_bank	= BAT bank
  366                        	; _di		= VRAM base address
  367                        	; _ax		= nb of words to copy
  368                        	; ----
  369                        	; N.B. BAT data *must* be word-aligned!
  370                        	
  371               0000     		.ifndef	VRAM_XFER_SIZE
  373                        		.endif
  374                        	
  375    1F:D8F4             	load_vram_x	.proc
  376                        	
  377    1F:D8F4  43 08      			tma3
  378    1F:D8F6  48         			pha
  379    1F:D8F7  43 10      			tma4
  380    1F:D8F9  48         			pha
  381                        	
  382    1F:D8FA  A4 02      			ldy	<_bp_bank
  383    1F:D8FC  20 4F E3   			jsr	map_bp_to_mpr34		; Map data to MPR3 & MPR4.
  384                        	
  385    1F:D8FF  20 93 E3   			jsr	set_di_to_mawr
  386                        	
  387                        	;		tii	.vdc_tai, ram_tia, 8
  388                        	
  389               0001     		.if	SUPPORT_SGX
  390    1F:D902  8A         			txa				; Select which VDC to write
  391    1F:D903  1A         			inc	a			; to.
  392    1F:D904  1A         			inc	a
  393    1F:D905  8D F3 22   			sta.l	ram_tia_dst
  394                        		.endif
  395                        	
  396    1F:D908  A9 10      			lda	#VRAM_XFER_SIZE		; Split into 16-byte chunks
  397    1F:D90A  8D F5 22   			sta.l	ram_tia_len		; for stable IRQ response.
  398                        	
  399    1F:D90D  A6 EC      			ldx.l	<_bp
  400    1F:D90F  8E F1 22   			stx.l	ram_tia_src
  401    1F:D912  A4 ED      			ldy.h	<_bp
  402    1F:D914  8C F2 22   			sty.h	ram_tia_src
  403                        	
  404    1F:D917  A5 F8      			lda.l	<_ax			; Length in words.
  405    1F:D919  48         			pha				; Preserve length.l
  406                        	
  407    1F:D91A  46 F9      			lsr.h	<_ax
  408    1F:D91C  6A         			ror	a
  409    1F:D91D  46 F9      			lsr.h	<_ax
  410    1F:D91F  6A         			ror	a
  411    1F:D920  46 F9      			lsr.h	<_ax
  412    1F:D922  6A         			ror	a
  413               0000     		.if	VRAM_XFER_SIZE == 32
  416                        		.endif
  417                        	
  418    1F:D923  22         			sax				; x=chunks-lo
  419    1F:D924  F0 1F      			beq	.next_block		; a=source-lo, y=source-hi
  420                        	
  421    1F:D926  20 F0 22   	.chunk_loop:	jsr	ram_tia			; transfer 16-bytes
  422                        	
  423    1F:D929  18         			clc				; increment source
  424    1F:D92A  69 10      			adc	#VRAM_XFER_SIZE
  425    1F:D92C  8D F1 22   			sta.l	ram_tia_src
  426    1F:D92F  90 11      			bcc	.same_page
  427    1F:D931  C8         			iny
  428    1F:D932  10 0B      			bpl	.same_bank		; remap_data
  429                        	
  430    1F:D934  42         			say
  431    1F:D935  43 10      			tma4
  432    1F:D937  53 08      			tam3
  433    1F:D939  1A         			inc	a
  434    1F:D93A  53 10      			tam4
  435    1F:D93C  A9 60      			lda	#$60
  436    1F:D93E  42         			say
  437                        	
  438    1F:D93F  8C F2 22   	.same_bank:	sty.h	ram_tia_src
  439                        	
  440    1F:D942  CA         	.same_page:	dex
  441    1F:D943  D0 E1      			bne	.chunk_loop
  442                        	
  443    1F:D945  C6 F9      	.next_block:	dec.h	<_ax
  444    1F:D947  10 DD      			bpl	.chunk_loop
  445                        	
  446    1F:D949  68         			pla				; Restore length.l
  447    1F:D94A  29 07      			and	#VRAM_XFER_SIZE / 2 - 1
  448    1F:D94C  F0 07      			beq	.done
  449                        	
  450    1F:D94E  0A         			asl	a			; Convert words to bytes.
  451    1F:D94F  8D F5 22   			sta.l	ram_tia_len
  452                        	
  453    1F:D952  20 F0 22   			jsr	ram_tia			; transfer remainder
  454                        	
  455    1F:D955  68         	.done:		pla
  456    1F:D956  53 10      			tam4
  457    1F:D958  68         			pla
  458    1F:D959  53 08      			tam3
  459                        	
  460                        			leave
         1F:D95B  4C EF FF   			jmp	leave_proc
  461                        	
  462                        			.endp
  463                        	
  464                        			.endprocgroup	; load_vram_group
  465                        	
  466                        	
  467                        	
  468                        	; ***************************************************************************
  469                        	; ***************************************************************************
  470                        	;
  471                        	; void __fastcall load_bat( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  472                        	; void __fastcall sgx_load_bat( unsigned int vram<_di>, unsigned char __far *data<_bp_bank:_bp>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  473                        	;
  474                        	; void __fastcall far_load_bat( unsigned int vram<_di>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  475                        	; void __fastcall sgx_far_load_bat( unsigned int vram<_di>, unsigned char tiles_w<_al>, unsigned char tiles_h<_ah> );
  476                        	;
  477                        	; load_bat_sgx - transfer a BAT to VRAM
  478                        	; load_bat_vdc - transfer a BAT to VRAM
  479                        	;
  480                        	; transfer a BAT to VRAM
  481                        	; ----
  482                        	; _bp		= BAT memory location
  483                        	; _bp_bank	= BAT bank
  484                        	; _di		= VRAM base address
  485                        	; _al		= nb of column to copy
  486                        	; _ah		= nb of row
  487                        	; ----
  488                        	; N.B. BAT data *must* be word-aligned!
  489                        	
  490               20EC     	_gfx_load_bat_PARM_2	=	_bp
  491               20F0     	_gfx_load_bat_PARM_3	=	_di
  492               20F8     	_gfx_load_bat_PARM_4	=	_al
  493               20F9     	_gfx_load_bat_PARM_5	=	_ah
  494                        	
  495    1F:DB80             	load_bat_group	.procgroup			; These routines share code!
  496                        	
  497               0001     		.if	SUPPORT_SGX
  498                        			.proc	_sgx_load_bat.4
  505                        			.endp
  506                        		.endif
  507                        	
  508    1F:DB80             			.proc	_load_bat.4
  509    1F:DB80             			.alias	_far_load_bat.3		= _load_bat.4
  510                        	
  511    1F:DB80  82         			clx				; Offset to PCE VDC.
  512                        	
  513    1F:DB81  43 08      			tma3
  514    1F:DB83  48         			pha
  515                        	
  516    1F:DB84  A4 02      			ldy	<_bp_bank
  517    1F:DB86  20 41 E3   			jsr	map_bp_to_mpr3		; Map data to MPR3.
  518                        	
  519    1F:DB89  A4 EC      			ldy.l	<_bp
  520    1F:DB8B  64 EC      			stz.l	<_bp
  521                        	
  522    1F:DB8D  20 93 E3   	.line_loop:	jsr	set_di_to_mawr
  523                        	
  524    1F:DB90  A5 F8      			lda	<_al
  525    1F:DB92  85 00      			sta	<__temp
  526    1F:DB94  B1 EC      	.tile_loop:	lda	[_bp], y
  527    1F:DB96  9D 02 02   			sta	VDC_DL, x
  528    1F:DB99  C8         			iny
  529    1F:DB9A  B1 EC      			lda	[_bp], y
  530    1F:DB9C  9D 03 02   			sta	VDC_DH, x
  531    1F:DB9F  C8         			iny
  532    1F:DBA0  D0 03      			bne	!+
  533    1F:DBA2  20 60 E3   			jsr	inc.h_bp_mpr3
  534    1F:DBA5  C6 00      	!:		dec	<__temp
  535    1F:DBA7  D0 EB      			bne	.tile_loop
  536                        	
  537    1F:DBA9  BD C1 26   			lda	vdc_bat_width, x
  538    1F:DBAC  18         			clc
  539    1F:DBAD  65 F0      			adc.l	<_di
  540    1F:DBAF  85 F0      			sta.l	<_di
  541    1F:DBB1  90 02      			bcc	!+
  542    1F:DBB3  E6 F1      			inc.h	<_di
  543                        	
  544    1F:DBB5  C6 F9      	!:		dec	<_ah
  545    1F:DBB7  D0 D4      			bne	.line_loop
  546                        	
  547    1F:DBB9  68         			pla
  548    1F:DBBA  53 08      			tam3
  549                        	
  550                        			leave
         1F:DBBC  4C EF FF   			jmp	leave_proc
  551                        	
  552                        			.endp
  553                        	
  554                        			.endprocgroup	; load_bat_group
  555                        	
  556                        	
  557                        	
  558                        	; ***************************************************************************
  559                        	; ***************************************************************************
  560                        	;
  561                        	; void __fastcall load_palette( unsigned char palette<_al>, unsigned char __far *data<_bp_bank:_bp>, unsigned char num_palettes<_ah> );
  562                        	;
  563                        	; void __fastcall far_load_palette( unsigned char palette<_al>, unsigned char num_palettes<_ah> );
  564                        	
  565    1F:DC9E             			.proc	_load_palette.3
  566    1F:DC9E             			.alias	_far_load_palette.2	= _load_palette.3
  567                        	
  568    1F:DC9E  AC 98 26   			ldy	color_queue_w		; Get the queue's write index.
  569                        	
  570    1F:DCA1  A5 EC      			lda.l	<_bp			; Add this set of palettes to
  571    1F:DCA3  99 A9 26   			sta	color_addr_l, y		; the queue.
  572    1F:DCA6  A5 ED      			lda.h	<_bp
  573    1F:DCA8  99 B1 26   			sta	color_addr_h, y
  574    1F:DCAB  A5 02      			lda	<_bp_bank
  575    1F:DCAD  99 B9 26   			sta	color_bank, y
  576    1F:DCB0  A5 F8      			lda	<_al
  577    1F:DCB2  99 99 26   			sta	color_index, y
  578    1F:DCB5  A5 F9      			lda	<_ah
  579    1F:DCB7  99 A1 26   			sta	color_count, y
  580                        	
  581    1F:DCBA  C8         			iny				; Increment the queue index.
  582    1F:DCBB  98         			tya
  583    1F:DCBC  29 07      			and	#7
  584                        	
  585    1F:DCBE  CD 97 26   	.wait:		cmp	color_queue_r		; If the queue is full, wait
  586    1F:DCC1  F0 FB      			beq	.wait			; for the next VBLANK.
  587                        	
  588    1F:DCC3  8D 98 26   			sta	color_queue_w		; Signal item is in the queue.
  589                        	
  590                        			leave				; All done, phew!
         1F:DCC6  4C EF FF   			jmp	leave_proc
  591                        	
  592                        			.endp
  593                        	
  594                        	
  595                        	
  596               0000     		.if	0
  620                        		.endif
  621                        	
  622                        	
  623                        	
  624                        	; ***************************************************************************
  625                        	; ***************************************************************************
  626                        	;
  627                        	; void __fastcall load_background( unsigned char __far *tiles<_bp_bank:_bp>, unsigned char __far *palettes<__fbank:__fptr>, unsigned char __far *bat<_cl:_bx>, unsigned char w<_dl>, unsigned char w<_dh> );
  628                        	
  629                        			.proc	_load_background.5
  667                        			.endp
  668                        	
  669                        	
  670                        	
  671                        	; ***************************************************************************
  672                        	; ***************************************************************************
  673                        	;
  674                        	; void __fastcall vram2vram( unsigned int vram_dst<_ax>, unsigned int vram_src<_bx>, unsigned int word_len<_cx> );
  675                        	; void __fastcall sgx_vram2vram( unsigned int vram_dst<_ax>, unsigned int vram_src<_bx>, unsigned int word_len<_cx> );
  676                        	;
  677                        	
  678               0001     		.if	SUPPORT_SGX
  679                        			.proc	_sgx_vram2vram.3
  685                        			.endp
  686                        		.endif
  687                        	
  688    1F:DBBF             			.proc	_vram2vram.3
  689                        	
  690    1F:DBBF  82         			clx				; Offset to PCE VDC.
  691                        	
  692    1F:DBC0  08         			php
  693    1F:DBC1  78         			sei
  694    1F:DBC2  A9 11      			lda	#VDC_DESR
  695    1F:DBC4  9D 00 02   			sta	VDC_AR, x
  696    1F:DBC7  A5 F8      			lda.l	<_ax
  697    1F:DBC9  9D 02 02   			sta	VDC_DL, x
  698    1F:DBCC  A5 F9      			lda.h	<_ax
  699    1F:DBCE  9D 03 02   			sta	VDC_DH, x
  700                        	
  701    1F:DBD1  A9 10      			lda	#VDC_SOUR
  702    1F:DBD3  9D 00 02   			sta	VDC_AR, x
  703    1F:DBD6  A5 FA      			lda.l	<_bx
  704    1F:DBD8  9D 02 02   			sta	VDC_DL, x
  705    1F:DBDB  A5 FB      			lda.h	<_bx
  706    1F:DBDD  9D 03 02   			sta	VDC_DH, x
  707                        	
  708    1F:DBE0  A9 12      			lda	#VDC_LENR
  709    1F:DBE2  9D 00 02   			sta	VDC_AR, x
  710    1F:DBE5  18         			clc
  711    1F:DBE6  A5 FC      			lda.l	<_cx
  712    1F:DBE8  69 FF      			adc	#$FF
  713    1F:DBEA  9D 02 02   			sta	VDC_DL, x
  714    1F:DBED  A5 FD      			lda.h	<_cx
  715    1F:DBEF  69 FF      			adc	#$FF
  716    1F:DBF1  9D 03 02   			sta	VDC_DH, x
  717                        	
  718    1F:DBF4  B5 F7      			lda	<vdc_reg, x
  719    1F:DBF6  8D 00 02   			sta	VDC_AR
  720    1F:DBF9  28         			plp
  721                        	
  722                        			leave
         1F:DBFA  4C EF FF   			jmp	leave_proc
  723                        	
  724                        			.endp
  725                        	
  726                        	
  727                        	
  728                        	; ***************************************************************************
  729                        	; ***************************************************************************
  730                        	;
  731                        	; HuC Font Functions
  732                        	;
  733                        	; ***************************************************************************
  734                        	; ***************************************************************************
  735                        	
  736                        	
  737                        	
  738               26E1     			.bss
  739                        	
  740                        	; **************
  741                        	; 16-bytes of VDC BAT information.
  742                        	;
  743                        	; N.B. MUST be 16-bytes before the SGX versions to use PCE_VDC_OFFSET.
  744                        	
  745    F8:26E1             	_vdc_font_base:	ds	2	; Tile number of ASCII '\0'.
  746                        	
  747                        	; From hucc-printf.asm just to avoid wasting .bss space with padding.
  748    F8:26E3             	_vdc_tty_x_lhs:	ds	1	; TTY minimum X position.
  749    F8:26E4             	_vdc_tty_y_top:	ds	1	; TTY minimum Y position.
  750    F8:26E5             	_vdc_tty_x:	ds	1	; TTY current X position.
  751    F8:26E6             	_vdc_tty_y:	ds	1	; TTY current Y position.
  752                        	
  753               0001     		.if	SUPPORT_SGX
  754                        	
  755                        	; **************
  756                        	; 16-bytes of SGX BAT information.
  757                        	;
  758                        	; N.B. MUST be 16-bytes after the VDC versions to use SGX_VDC_OFFSET.
  759                        	
  760    F8:26E7             			ds	10	; Padding to ensure the 16-byte delta.
  761                        	
  762    F8:26F1             	_sgx_font_base:	ds	2	; Tile number of ASCII '\0'.
  763                        	
  764                        	; From hucc-printf.asm just to avoid wasting .bss space with padding.
  765    F8:26F3             	_sgx_tty_x_lhs:	ds	1	; TTY minimum X position.
  766    F8:26F4             	_sgx_tty_y_top:	ds	1	; TTY minimum Y position.
  767    F8:26F5             	_sgx_tty_x:	ds	1	; TTY current X position.
  768    F8:26F6             	_sgx_tty_y:	ds	1	; TTY current Y position.
  769                        	
  770                        		.endif
  771                        	
  772                        	;_font_base	.alias	vdc_font_base
  773                        	
  774               E5D6     			.code
  775                        	
  776                        	
  777                        	
  778                        	; ***************************************************************************
  779                        	; ***************************************************************************
  780                        	;
  781                        	; void __fastcall set_font_addr( unsigned int vram<acc> );
  782                        	; void __fastcall sgx_set_font_addr( unsigned int vram<acc> );
  783                        	
  784               0001     		.if	SUPPORT_SGX
  785    00:E5D6             	_sgx_set_font_addr.1:
  786    00:E5D6  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  787    00:E5D8  F0         			db	$F0			; Turn "clx" into a "beq".
  788                        		.endif
  789                        	
  790    00:E5D9             	_set_font_addr.1:
  791    00:E5D9  82         			clx				; Offset to PCE VDC.
  792                        	
  793    00:E5DA  84 00      	set_font_addr:	sty	<__temp
  794    00:E5DC  46 00      			lsr	<__temp
  795    00:E5DE  6A         			ror	a
  796    00:E5DF  46 00      			lsr	<__temp
  797    00:E5E1  6A         			ror	a
  798    00:E5E2  46 00      			lsr	<__temp
  799    00:E5E4  6A         			ror	a
  800    00:E5E5  46 00      			lsr	<__temp
  801    00:E5E7  6A         			ror	a
  802    00:E5E8  38         			sec
  803    00:E5E9  E9 20      			sbc	#$20
  804    00:E5EB  9D E1 26   			sta.l	_vdc_font_base,x
  805    00:E5EE  B0 02      			bcs	!+
  806    00:E5F0  C6 00      			dec	<__temp
  807                        	
  808    00:E5F2  BD E2 26   	!:		lda.h	_vdc_font_base, x
  809    00:E5F5  29 F0      			and	#$F0
  810    00:E5F7  05 00      			ora	<__temp
  811    00:E5F9  9D E2 26   			sta.h	_vdc_font_base, x
  812    00:E5FC  60         			rts
  813                        	
  814                        	
  815                        	
  816                        	; ***************************************************************************
  817                        	; ***************************************************************************
  818                        	;
  819                        	; void __fastcall set_font_pal( unsigned char palette<acc> );
  820                        	; void __fastcall sgx_set_font_pal( unsigned char palette<acc> );
  821                        	
  822               0001     		.if	SUPPORT_SGX
  823    00:E5FD             	_sgx_set_font_pal.1:
  824    00:E5FD  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  825    00:E5FF  F0         			db	$F0			; Turn "clx" into a "beq".
  826                        		.endif
  827                        	
  828    00:E600             	_set_font_pal:					; For compatibility with HuC.
  829    00:E600             	_set_font_pal.1:
  830    00:E600  82         			clx				; Offset to PCE VDC.
  831    00:E601  0A         			asl	a
  832    00:E602  0A         			asl	a
  833    00:E603  0A         			asl	a
  834    00:E604  0A         			asl	a
  835    00:E605  85 00      			sta	<__temp
  836                        	
  837    00:E607  BD E2 26   			lda.h	_vdc_font_base, x
  838    00:E60A  29 0F      			and	#$0F
  839    00:E60C  05 00      			ora	<__temp
  840    00:E60E  9D E2 26   			sta.h	_vdc_font_base, x
  841    00:E611  60         			rts
  842                        	
  843                        	
  844                        	
  845                        	; ***************************************************************************
  846                        	; ***************************************************************************
  847                        	;
  848                        	; void __fastcall load_font( char far *font<_bp_bank:_bp>, unsigned char count<_al> );
  849                        	;
  850                        	; void __fastcall load_font( char far *font<_bp_bank:_bp>, unsigned char count<_al>, unsigned int vram<acc> );
  851                        	; void __fastcall sgx_load_font( char far *font<_bp_bank:_bp>, unsigned char count<_al>, unsigned int vram<acc> );
  852                        	;
  853                        	; void __fastcall far_load_font( unsigned char count<_al>, unsigned int vram<acc> );
  854                        	; void __fastcall sgx_far_load_font( unsigned char count<_al>, unsigned int vram<acc> );
  855                        	
  856    00:E612  AC C5 26   	_load_font.2:	ldy	vdc_bat_limit		; Load the font directly
  857    00:E615  C8         			iny				; after the BAT (stupid!).
  858    00:E616  62         			cla
  859    00:E617  80 03      			bra	_load_font.3
  860                        	
  861               0001     		.if	SUPPORT_SGX
  862    00:E619             	_sgx_load_font.3:
  863    00:E619  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  864    00:E61B  F0         			db	$F0			; Turn "clx" into a "beq".
  865                        		.endif
  866                        	
  867    00:E61C  82         	_load_font.3:	clx				; Offset to PCE VDC.
  868                        	
  869    00:E61D  85 F0      			sta.l	<_di			; Load the font directly
  870    00:E61F  84 F1      			sty.h	<_di			; after the BAT (stupid!).
  871                        	
  872    00:E621  20 DA E5   			jsr	set_font_addr		; Set xxx_font_base from addr.
  873                        	
  874    00:E624  A5 F8      			lda	<__al			; Convert #tiles into #words.
  875    00:E626  64 F9      			stz	<__ah
  876    00:E628  0A         			asl	a
  877    00:E629  26 F9      			rol	<__ah
  878    00:E62B  0A         			asl	a
  879    00:E62C  26 F9      			rol	<__ah
  880    00:E62E  0A         			asl	a
  881    00:E62F  26 F9      			rol	<__ah
  882    00:E631  0A         			asl	a
  883    00:E632  26 F9      			rol	<__ah
  884    00:E634  85 F8      			sta	<__al
  885    00:E636  4C FF FE   			jmp	load_vram_x
  886                        	
  887    00:E639             			.alias	_far_load_font.2	= _load_font.3
  888    00:E639             			.alias	_sgx_far_load_font.2	= _sgx_load_font.3
  889                        	
  890                        	
  891                        	
  892                        	; ***************************************************************************
  893                        	; ***************************************************************************
  894                        	;
  895                        	; void __fastcall cls();
  896                        	; void __fastcall sgx_cls();
  897                        	;
  898                        	; void __fastcall cls( int tile<acc> );
  899                        	; void __fastcall sgx_cls( int tile<acc> );
  900                        	
  901               0001     		.if	SUPPORT_SGX
  902    00:E639  A2 10      	_sgx_cls:	ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  903    00:E63B  F0         			db	$F0			; Turn "clx" into a "beq".
  904                        		.endif
  905                        	
  906    00:E63C  82         	_cls:		clx				; Offset to PCE VDC.
  907                        	
  908    00:E63D  BD E1 26   	clear_tty_x:	lda.l	_vdc_font_base, x
  909    00:E640  BC E2 26   			ldy.h	_vdc_font_base, x
  910    00:E643  18         			clc
  911    00:E644  69 20      			adc	#' '
  912    00:E646  90 07      			bcc	!+
  913    00:E648  C8         			iny
  914    00:E649  80 04      			bra	!+
  915                        	
  916               0001     		.if	SUPPORT_SGX
  917    00:E64B  A2 10      	_sgx_cls.1:	ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  918    00:E64D  F0         			db	$F0			; Turn "clx" into a "beq".
  919                        		.endif
  920                        	
  921    00:E64E  82         	_cls.1:		clx
  922                        	
  923    00:E64F  85 F8      	!:		sta.l	<_ax			; VRAM word to write.
  924    00:E651  84 F9      			sty.h	<_ax
  925    00:E653  BD C5 26   			lda	vdc_bat_limit, x	; BAT size hi-byte.
  926    00:E656  1A         			inc	a
  927    00:E657  85 FA      			sta	<_bl
  928    00:E659  4C 47 FD   			jmp	clear_bat_x
  929                        	
  930                        	
  931                        	
  932                        	; ***************************************************************************
  933                        	; ***************************************************************************
  934                        	;
  935                        	; void __fastcall __macro load_default_font( void );
  936                        	; void __fastcall __macro sgx_load_default_font( void );
  937                        	;
  938                        	; Args: _bp, _bp_bank = _farptr to font data mapped into MPR3 & MPR4.
  939                        	; Args: _di = VRAM destination address.
  940                        	; Args: monofont_fg = font color (0..15)
  941                        	; Args: monofont_bg = background color (0..15)
  942                        	; Args: _al = number of tiles (aka characters) 0==256
  943                        	
  944    1E:D201             	huc_monofont_x	.proc
  945                        	
  946               26F7     			.bss
  947    F8:26F7             	monofont_fg:	.ds	1
  948    F8:26F8             	monofont_bg:	.ds	1
  949               D201     			.code
  950                        	
  951    1E:D201  BC C5 26   			ldy	vdc_bat_limit, x	; BAT limit mask hi-byte.
  952    1E:D204  C8         			iny
  953    1E:D205  62         			cla
  954    1E:D206  85 F0      			sta.l	<_di			; Load the font directly
  955    1E:D208  84 F1      			sty.h	<_di			; after the BAT (stupid!).
  956                        	
  957    1E:D20A  20 DA E5   			jsr	set_font_addr		; Set xxx_font_base from addr.
  958                        	
  959    1E:D20D  A9 91      			lda.l	#.font
  960    1E:D20F  85 EC      			sta.l	<_bp
  961    1E:D211  A9 D2      			lda.h	#.font
  962    1E:D213  85 ED      			sta.h	<_bp
  963                        	
  964    1E:D215  A9 60      			lda	#$60			; #characters.
  965    1E:D217  85 F8      			sta	<_al
  966                        	
  967    1E:D219  20 93 E3   			jsr	set_di_to_mawr
  968                        	
  969    1E:D21C  AD F7 26   			lda	monofont_fg		; Foreground pixel color.
  970    1E:D21F  85 00      			sta	<__temp
  971    1E:D221  AD F8 26   			lda	monofont_bg		; Background pixel color.
  972    1E:D224  DA         			phx
  973    1E:D225  A2 FC      			ldx.l	#_cx			; Create a bit mask for each
  974    1E:D227  9E 00 20   	.bg_loop:	stz	$2000, x		; plane of the background.
  975    1E:D22A  4A         			lsr	a
  976    1E:D22B  90 03      			bcc	.bg_plane
  977    1E:D22D  DE 00 20   			dec	$2000, x
  978    1E:D230  E8         	.bg_plane:	inx
  979    1E:D231  D0 F4      			bne	.bg_loop
  980    1E:D233  FA         			plx
  981                        	
  982    1E:D234  C2         	.tile_loop:	cly
  983                        	
  984    1E:D235  B1 EC      	.plane01:	lda	[_bp], y		; Get font byte.
  985    1E:D237  8F 00 06   			bbs0	<__temp, .set_plane0
  986    1E:D23A  49 FF      	.clr_plane0:	eor	#$FF			; Clr font bits in background.
  987    1E:D23C  25 FC      			and	<_cx + 0
  988    1E:D23E  80 02      			bra	.put_plane0
  989    1E:D240  05 FC      	.set_plane0:	ora	<_cx + 0		; Set font bits in background.
  990    1E:D242  9D 02 02   	.put_plane0:	sta	VDC_DL, x
  991                        	
  992    1E:D245  B1 EC      			lda	[_bp], y		; Get font byte.
  993    1E:D247  9F 00 06   			bbs1	<__temp, .set_plane1
  994    1E:D24A  49 FF      	.clr_plane1:	eor	#$FF			; Clr font bits in background.
  995    1E:D24C  25 FD      			and	<_cx + 1
  996    1E:D24E  80 02      			bra	.put_plane1
  997    1E:D250  05 FD      	.set_plane1:	ora	<_cx + 1		; Set font bits in background.
  998    1E:D252  9D 03 02   	.put_plane1:	sta	VDC_DH, x
  999                        	
 1000    1E:D255  C8         			iny
 1001    1E:D256  C0 08      			cpy	#8
 1002    1E:D258  90 DB      			bcc	.plane01
 1003                        	
 1004    1E:D25A  C2         			cly
 1005                        	
 1006    1E:D25B  B1 EC      	.plane23:	lda	[_bp], y		; Get font byte.
 1007    1E:D25D  AF 00 06   			bbs2	<__temp, .set_plane2
 1008    1E:D260  49 FF      	.clr_plane2:	eor	#$FF			; Clr font bits in background.
 1009    1E:D262  25 FE      			and	<_cx + 2
 1010    1E:D264  80 02      			bra	.put_plane2
 1011    1E:D266  05 FE      	.set_plane2:	ora	<_cx + 2		; Set font bits in background.
 1012    1E:D268  9D 02 02   	.put_plane2:	sta	VDC_DL, x
 1013                        	
 1014    1E:D26B  B1 EC      			lda	[_bp], y		; Get font byte.
 1015    1E:D26D  BF 00 06   			bbs3	<__temp, .set_plane3
 1016    1E:D270  49 FF      	.clr_plane3:	eor	#$FF			; Clr font bits in background.
 1017    1E:D272  25 FF      			and	<_cx + 3
 1018    1E:D274  80 02      			bra	.put_plane3
 1019    1E:D276  05 FF      	.set_plane3:	ora	<_cx + 3		; Set font bits in background.
 1020    1E:D278  9D 03 02   	.put_plane3:	sta	VDC_DH, x
 1021                        	
 1022    1E:D27B  C8         			iny
 1023    1E:D27C  C0 08      			cpy	#8
 1024    1E:D27E  90 DB      			bcc	.plane23
 1025                        	
 1026    1E:D280  A5 EC      			lda.l	<_bp
 1027    1E:D282  69 07      			adc	#8-1
 1028    1E:D284  85 EC      			sta.l	<_bp
 1029    1E:D286  90 02      			bcc	!+
 1030    1E:D288  E6 ED      			inc.h	<_bp
 1031                        	
 1032    1E:D28A  C6 F8      	!:		dec	<_al
 1033    1E:D28C  D0 A6      			bne	.tile_loop
 1034                        	
 1035                        			leave				; All done, phew!
         1E:D28E  4C EF FF   			jmp	leave_proc
 1036                        	
 1037    1E:D291             	.font:		incbin	"data/font8x8-bold-short-iso646-fr.dat", 128
 1038                        	
 1039                        			.endp
 1040                        	
 1041                        	
 1042                        	
 1043                        	; ***************************************************************************
 1044                        	; ***************************************************************************
 1045                        	;
 1046                        	; HuC Text Output
 1047                        	;
 1048                        	; ***************************************************************************
 1049                        	; ***************************************************************************
 1050                        	
 1051                        	
 1052                        	
 1053    02:DF2D             	vdc_tty_out	.procgroup			; These routines share code!
 1054                        	
 1055                        	; ***************************************************************************
 1056                        	; ***************************************************************************
 1057                        	;
 1058                        	; void __fastcall put_char( unsigned char digit<_bl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
 1059                        	
 1060               0001     		.if	SUPPORT_SGX
 1061                        	put_char_sgx	.proc
 1067                        			.endp
 1068                        		.endif
 1069                        	
 1070    02:DF2D             	put_char_vdc	.proc
 1071                        	
 1072    02:DF2D  82         			clx				; Offset to PCE VDC.
 1073                        	
 1074    02:DF2E  20 EC DF   			jsr	put_di_xy_wrap		; Comply with HuC's wrapping.
 1075                        	
 1076    02:DF31  62         			cla				; Push EOL marker.
 1077    02:DF32  48         			pha
 1078                        	
 1079    02:DF33  A5 FA      			lda	<_bl
 1080    02:DF35  48         			pha				; Push character to output.
 1081    02:DF36  80 58      			bra	!output+
 1082                        	
 1083    02:DF38             			.ref	put_hex_vdc		; Need put_number_vdc
 1084                        			.endp
 1085                        	
 1086    02:DF38             			.alias	_put_char.3		= put_char_vdc
 1087                        	
 1088                        	
 1089                        	
 1090                        	; ***************************************************************************
 1091                        	; ***************************************************************************
 1092                        	;
 1093                        	; void __fastcall put_digit( unsigned char digit<_bl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
 1094                        	
 1095               0001     		.if	SUPPORT_SGX
 1096                        	put_digit_sgx	.proc
 1102                        			.endp
 1103                        		.endif
 1104                        	
 1105    02:DF38             	put_digit_vdc	.proc
 1106                        	
 1107    02:DF38  82         			clx				; Offset to PCE VDC.
 1108                        	
 1109    02:DF39  20 EC DF   			jsr	put_di_xy_wrap		; Comply with HuC's wrapping.
 1110                        	
 1111    02:DF3C  62         			cla				; Push EOL marker.
 1112    02:DF3D  48         			pha
 1113                        	
 1114    02:DF3E  A5 FA      			lda	<_bl			; Convert hex digit to ASCII.
 1115    02:DF40  29 0F      			and	#$0F
 1116    02:DF42  C9 0A      			cmp	#10
 1117    02:DF44  90 02      			bcc	!+
 1118    02:DF46  69 06      			adc	#6
 1119    02:DF48  69 30      	!:		adc	#'0'
 1120    02:DF4A  48         			pha				; Push character to output.
 1121    02:DF4B  80 43      			bra	!output+
 1122                        	
 1123    02:DF4D             			.ref	put_hex_vdc		; Need put_number_vdc
 1124                        			.endp
 1125                        	
 1126    02:DF4D             			.alias	_put_digit.3		= put_digit_vdc
 1127                        	
 1128                        	
 1129                        	
 1130                        	; ***************************************************************************
 1131                        	; ***************************************************************************
 1132                        	;
 1133                        	; void __fastcall put_hex( unsigned int number<_bx>, unsigned char length<_cl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
 1134                        	
 1135               0001     		.if	SUPPORT_SGX
 1136                        	put_hex_sgx	.proc
 1141                        			.endp
 1142                        		.endif
 1143                        	
 1144    02:DF4D             	put_hex_vdc	.proc
 1145                        	
 1146    02:DF4D  82         			clx				; Offset to PCE VDC.
 1147                        	
 1148    02:DF4E  20 EC DF   			jsr	put_di_xy_wrap		; Comply with HuC's wrapping.
 1149                        	
 1150    02:DF51  A4 FC      			ldy	<_cl			; Total #characters to print,
 1151    02:DF53  F0 3E      			beq	!exit+			; NOT minimum #characters!
 1152                        	
 1153    02:DF55  86 00      			stx	<__temp			; Preserve which VDC.
 1154                        	
 1155    02:DF57  82         			clx				; Push EOL marker.
 1156    02:DF58  DA         			phx
 1157                        	
 1158    02:DF59  B5 FA      	.hex_byte:	lda.l	<_bx, x			; Convert hex digit to ASCII.
 1159    02:DF5B  29 0F      			and	#$0F
 1160    02:DF5D  C9 0A      			cmp	#10
 1161    02:DF5F  90 02      			bcc	!+
 1162    02:DF61  69 06      			adc	#6
 1163    02:DF63  69 30      	!:		adc	#'0'
 1164    02:DF65  48         			pha				; Push character to output.
 1165    02:DF66  88         			dey
 1166    02:DF67  F0 15      			beq	.hex_done
 1167                        	
 1168    02:DF69  B5 FA      			lda.l	<_bx, x			; Convert hex digit to ASCII.
 1169    02:DF6B  4A         			lsr	a
 1170    02:DF6C  4A         			lsr	a
 1171    02:DF6D  4A         			lsr	a
 1172    02:DF6E  4A         			lsr	a
 1173    02:DF6F  C9 0A      			cmp	#10
 1174    02:DF71  90 02      			bcc	!+
 1175    02:DF73  69 06      			adc	#6
 1176    02:DF75  69 30      	!:		adc	#'0'
 1177    02:DF77  48         			pha				; Push character to output.
 1178    02:DF78  88         			dey
 1179    02:DF79  F0 03      			beq	.hex_done
 1180                        	
 1181    02:DF7B  E8         			inx
 1182    02:DF7C  80 DB      			bra	.hex_byte
 1183                        	
 1184    02:DF7E  A6 00      	.hex_done:	ldx	<__temp			; Restore which VDC.
 1185    02:DF80  80 0E      			bra	!output+
 1186                        	
 1187    02:DF82  18         	.write:		clc
 1188    02:DF83  7D E1 26   			adc.l	_vdc_font_base, x
 1189    02:DF86  9D 02 02   			sta	VDC_DL, x
 1190    02:DF89  62         			cla
 1191    02:DF8A  7D E2 26   			adc.h	_vdc_font_base, x
 1192    02:DF8D  9D 03 02   			sta	VDC_DH, x
 1193                        	
 1194    02:DF90  68         	!output:	pla				; Pop the digits and output.
 1195    02:DF91  D0 EF      			bne	.write
 1196                        	
 1197                        	!exit:		leave				; All done!
         02:DF93  4C EF FF   			jmp	leave_proc
 1198                        	
 1199                        			.endp
 1200                        	
 1201    02:DF96             			.alias	_put_hex.4 = put_hex_vdc
 1202                        	
 1203                        	
 1204                        	
 1205                        	; ***************************************************************************
 1206                        	; ***************************************************************************
 1207                        	;
 1208                        	; void __fastcall put_number( unsigned int number<_bx>, unsigned char length<_cl>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
 1209                        	
 1210               0001     		.if	SUPPORT_SGX
 1211                        	put_number_sgx	.proc
 1216                        			.endp
 1217                        		.endif
 1218                        	
 1219    02:DF96             	put_number_vdc	.proc
 1220                        	
 1221    02:DF96  82         			clx				; Offset to PCE VDC.
 1222                        	
 1223    02:DF97  20 EC DF   			jsr	put_di_xy_wrap		; Comply with HuC's wrapping.
 1224                        	
 1225    02:DF9A  A4 FC      			ldy	<_cl			; Total #characters to print,
 1226    02:DF9C  F0 F5      			beq	!exit-			; NOT minimum #characters!
 1227                        	
 1228    02:DF9E  86 00      			stx	<__temp			; Preserve which VDC.
 1229                        	
 1230    02:DFA0  82         			clx				; Push EOL marker.
 1231    02:DFA1  DA         			phx
 1232                        	
 1233    02:DFA2  A6 FB      			ldx.h	<_bx			; Is the number -ve?
 1234    02:DFA4  86 FC      			stx	<_cl			; Remember this.
 1235    02:DFA6  10 10      			bpl	.divide_by_ten
 1236                        	
 1237    02:DFA8  38         			sec				; Make the number +ve.
 1238    02:DFA9  A5 FA      			lda.l	<_bx
 1239    02:DFAB  49 FF      			eor	#$FF
 1240    02:DFAD  69 00      			adc	#0
 1241    02:DFAF  85 FA      			sta.l	<_bx
 1242    02:DFB1  8A         			txa
 1243    02:DFB2  49 FF      			eor	#$FF
 1244    02:DFB4  69 00      			adc	#0
 1245    02:DFB6  85 FB      			sta.h	<_bx
 1246                        	
 1247    02:DFB8  A2 10      	.divide_by_ten:	ldx	#16
 1248    02:DFBA  62         			cla				; Clear Remainder.
 1249    02:DFBB  06 FA      			asl.l	<_bx			; Rotate Dividend, MSB -> C.
 1250    02:DFBD  26 FB      			rol.h	<_bx
 1251    02:DFBF  2A         	.divide_loop:	rol	a			; Rotate C into Remainder.
 1252    02:DFC0  C9 0A      			cmp	#10			; Test Divisor.
 1253    02:DFC2  90 02      			bcc	.divide_less		; CC if Divisor > Remainder.
 1254    02:DFC4  E9 0A      			sbc	#10			; Subtract Divisor.
 1255    02:DFC6  26 FA      	.divide_less:	rol.l	<_bx			; Quotient bit -> Dividend LSB.
 1256    02:DFC8  26 FB      			rol.h	<_bx			; Rotate Dividend, MSB -> C.
 1257    02:DFCA  CA         			dex
 1258    02:DFCB  D0 F2      			bne	.divide_loop
 1259                        	
 1260    02:DFCD  18         			clc
 1261    02:DFCE  69 30      			adc	#'0'			; Always leaves C clr.
 1262    02:DFD0  48         			pha				; Push character to output.
 1263    02:DFD1  88         			dey
 1264    02:DFD2  F0 10      			beq	!pad+
 1265    02:DFD4  A5 FA      			lda.l	<_bx			; Repeat while non-zero.
 1266    02:DFD6  05 FB      			ora.h	<_bx
 1267    02:DFD8  D0 DE      			bne	.divide_by_ten
 1268                        	
 1269    02:DFDA  A6 00      			ldx	<__temp			; Restore which VDC.
 1270                        	
 1271    02:DFDC  A5 FC      			lda	<_cl			; Was the number -ve?
 1272    02:DFDE  10 04      			bpl	!pad+
 1273    02:DFE0  A9 2D      			lda	#'-'			; Output a leading '-'.
 1274    02:DFE2  48         			pha
 1275    02:DFE3  88         			dey
 1276                        	
 1277    02:DFE4  A9 20      	!pad:		lda	#' '			; Add padding characters.
 1278    02:DFE6  88         	.loop:		dey
 1279    02:DFE7  30 A7      			bmi	!output-
 1280    02:DFE9  48         			pha
 1281    02:DFEA  80 FA      			bra	.loop
 1282                        	
 1283    02:DFEC             			.ref	put_hex_vdc		; Need put_number_vdc
 1284                        	
 1285                        			.endp
 1286                        	
 1287    02:DFEC             			.alias	_put_number.4 = put_number_vdc
 1288                        	
 1289                        	
 1290                        	
 1291                        	; ***************************************************************************
 1292                        	; ***************************************************************************
 1293                        	;
 1294                        	; void __fastcall put_raw( unsigned int data<_bx>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
 1295                        	
 1296               0001     		.if	SUPPORT_SGX
 1297                        	put_raw_sgx	.proc
 1302                        			.endp
 1303                        		.endif
 1304                        	
 1305                        	put_raw_vdc	.proc
 1318                        			.endp
 1319                        	
 1320    02:DFEC             			.alias	_put_raw.3		= put_raw_vdc
 1321                        	
 1322                        			;
 1323                        			; Ugly hack to wrap the X & Y coordinates like HuC.
 1324                        			;
 1325                        	
 1326    02:DFEC  A5 F0      	put_di_xy_wrap:	lda.l	<_di			; Sanitize X coordinate.
 1327    02:DFEE  3D C3 26   			and	vdc_bat_x_mask, x
 1328    02:DFF1  85 F0      			sta.l	<_di
 1329                        	
 1330    02:DFF3  A5 F1      			lda.h	<_di			; Sanitize Y coordinate.
 1331    02:DFF5  3D C4 26   			and	vdc_bat_y_mask, x
 1332    02:DFF8  85 F1      			sta.h	<_di
 1333                        	
 1334    02:DFFA  4C 48 E4   			jmp	set_di_xy_mawr		; In "common.asm".
 1335                        	
 1336                        			.endprocgroup			; vdc_tty_out
 1337                        	
 1338                        	
 1339                        	
 1340                        	; ***************************************************************************
 1341                        	; ***************************************************************************
 1342                        	;
 1343                        	; void __fastcall put_string( unsigned char *string<_bp>, unsigned char bat_x<_dil>, unsigned char bat_y<_dih> );
 1344                        	;
 1345                        	; N.B. This is not a .proc right now because it is called from procedures
 1346                        	; that contain embedded strings, and the string aren't banked in before
 1347                        	; printing (yet).
 1348                        	
 1349               0001     		.if	SUPPORT_SGX
 1350    00:E65C             	_sgx_put_string.3:
 1351    00:E65C  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
 1352    00:E65E  F0         			db	$F0			; Turn "clx" into a "beq".
 1353                        		.endif
 1354                        	
 1355    00:E65F  82         	_put_string.3:	clx				; Offset to PCE VDC.
 1356                        	
 1357    00:E660  20 48 E4   			jsr	set_di_xy_mawr
 1358                        	
 1359    00:E663  C2         			cly
 1360    00:E664  B1 EC      	.chr_loop:	lda	[_bp], y
 1361    00:E666  F0 15      			beq	.done
 1362                        	
 1363    00:E668  18         			clc
 1364    00:E669  7D E1 26   			adc.l	_vdc_font_base, x
 1365    00:E66C  9D 02 02   			sta	VDC_DL, x
 1366    00:E66F  62         			cla
 1367    00:E670  7D E2 26   			adc.h	_vdc_font_base, x
 1368    00:E673  9D 03 02   			sta	VDC_DH, x
 1369                        	
 1370    00:E676  C8         			iny
 1371    00:E677  D0 EB      			bne	.chr_loop
 1372    00:E679  E6 ED      			inc.h	<_bp
 1373    00:E67B  80 E7      			bra	.chr_loop
 1374                        	
 1375    00:E67D  60         	.done:		rts
 1376                        	
 1377                        	
 1378                        	
 1379                        	; ***************************************************************************
 1380                        	; ***************************************************************************
 1381                        	;
 1382                        	; void __fastcall set_color_rgb( unsigned int index<VCE_CTA>, unsigned char r<_al>, unsigned char g<_ah>, unsigned char b<acc> );
 1383                        	;
 1384                        	; r:	red	RED:	bit 3-5
 1385                        	; g:	green	GREEN:	bit 6-8
 1386                        	; b:	blue	BLUE:	bit 0-2
 1387                        	
 1388    00:E67E             	_set_color_rgb.4:
 1389                        	;		and	#7
 1390    00:E67E  85 00      			sta	<__temp
 1391    00:E680  A5 F8      			lda	<_al
 1392                        	;		and	#7
 1393    00:E682  0A         			asl	a
 1394    00:E683  0A         			asl	a
 1395    00:E684  0A         			asl	a
 1396    00:E685  05 00      			ora	<__temp
 1397    00:E687  0A         			asl	a
 1398    00:E688  0A         			asl	a
 1399    00:E689  85 00      			sta	<__temp
 1400    00:E68B  A5 F9      			lda	<_ah
 1401                        	;		and	#7
 1402    00:E68D  4A         			lsr	a
 1403    00:E68E  66 00      			ror	<__temp
 1404    00:E690  4A         			lsr	a
 1405    00:E691  66 00      			ror	<__temp
 1406    00:E693  A8         			tay
 1407    00:E694  A5 00      			lda	<__temp
 1408    00:E696  8D 04 04   			sta.l	VCE_CTW
 1409    00:E699  8C 05 04   			sty.h	VCE_CTW
 1410    00:E69C  60         			rts
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   44                        	
   45                        			; Define in hucc-config.inc to remove this.
   46                        	
   47               0001     		.ifndef	HUCC_NO_DEFAULT_RANDOM
                             #[3]   "..\..\..\include\hucc\random.asm"
   48                        			include	"random.asm"		; Random number generator.
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; random.asm
    5                        	;
    6                        	; Pseudo-random number generator (https://github.com/bbbradsmith/prng_6502)
    7                        	;
    8                        	; Copyright Brad Smith 2019.
    9                        	;
   10                        	; License:
   11                        	;
   12                        	; This code and may be used, reused, and modified for any purpose, commercial
   13                        	; or non-commercial.
   14                        	;
   15                        	; Attribution in released binaries or documentation is appreciated but not
   16                        	; required.
   17                        	;
   18                        	; ***************************************************************************
   19                        	; ***************************************************************************
   20                        	;
   21                        	; This is a linear feedback shift register (LFSR) in Galois form, which is
   22                        	; iterated 8 times to produce an 8-bit pseudo-random number.
   23                        	;
   24                        	; Two widths of LFSR are provided:
   25                        	;
   26                        	;  24-bit requires 3 bytes, and repeats after 16777215 calls.
   27                        	;  32-bit requires 4 bytes, and repeats after 4294967295 calls.
   28                        	;
   29                        	; Usage:
   30                        	;
   31                        	;  Initialize the zero-page "random" variable to any value other than 0.
   32                        	;  The size of "random" is 3 or 4 bytes, depending on the width of LFSR
   33                        	;  chosen.
   34                        	;
   35                        	;  Call one of the RNG functions and an 8-bit result will be returned in the
   36                        	;  A-register (with flags), and the Y-register will be clobbered.
   37                        	;
   38                        	;  Do not mix RNGs of different width in the same program, unless you can
   39                        	;  give them each separate "random" state storage.
   40                        	;
   41                        	; ***************************************************************************
   42                        	; ***************************************************************************
   43                        	
   44                        	
   45               0001     		.ifndef	_KICKC				; Variables defined in C?
   46               2098     			.zp
   47    F8:2098             	random:		.ds	4			; Seed is 3 or 4 bytes.
   48               E69D     			.code
   49                        		.endif	_KICKC
   50                        	
   51                        	
   52                        	
   53                        	; ***************************************************************************
   54                        	; ***************************************************************************
   55                        	;
   56                        	; init_random - Initialize a 32-bit LFSR using an 8-bit seed value in Y.
   57                        	;
   58                        	; The LFSR is initialized to n'th entry of a standard CRC-32 lookup-table,
   59                        	; which gives it a decent distribution of bits.
   60                        	;
   61                        	; Since seed is an 8-bit value, there are 255 (256-1) possible starting
   62                        	; states for the LFSR, because 0 would generate a 0 state.
   63                        	;
   64                        	; CRC-32 code by Paul Guertin. See http://6502.org/source/integers/crc.htm
   65                        	;
   66                        	
   67    1F:DBFD             	init_random	.proc
   68                        	
   69    1F:DBFD  A9 01      			lda	#1			; Init CRC-32 table value.
   70    1F:DBFF  85 98      			sta	<random + 0
   71    1F:DC01  98         			tya				; Get and check the seed value.
   72    1F:DC02  D0 01      			bne	.reverse_seed
   73    1F:DC04  3A         			dec	a			; Which must be non-zero!
   74    1F:DC05  4A         	.reverse_seed:	lsr	a			; Reverse the bits so that small changes
   75    1F:DC06  26 98      			rol	<random + 0		; in the seed make larger differences in
   76    1F:DC08  90 FB      			bcc	.reverse_seed		; the initial state.
   77                        	
   78    1F:DC0A  64 99      			stz	<random + 1		; A contains the high byte of the CRC-32.
   79    1F:DC0C  64 9A      			stz	<random + 2		; The other three bytes are in memory.
   80    1F:DC0E  62         			cla
   81                        	
   82    1F:DC0F  A0 08      			ldy	#8			; Y counts bits in a byte.
   83    1F:DC11  4A         	.bit_loop:	lsr	a			; The CRC-32 algorithm is similar to CRC-16
   84    1F:DC12  66 9A      			ror	<random + 2		; except that it is reversed (originally for
   85    1F:DC14  66 99      			ror	<random + 1		; hardware reasons). This is why we shift
   86    1F:DC16  66 98      			ror	<random + 0		; right instead of left here.
   87    1F:DC18  90 16      			bcc	.no_add			; Do nothing if no overflow,
   88    1F:DC1A  49 ED      			eor	#$ED			; else add CRC-32 polynomial $EDB88320.
   89                        	
   90    1F:DC1C  48         			pha				; Save high byte while we do others.
   91    1F:DC1D  A5 9A      			lda	<random + 2
   92    1F:DC1F  49 B8      			eor	#$B8			; Most reference books give the CRC-32 poly
   93    1F:DC21  85 9A      			sta	<random + 2		; as $04C11DB7. This is actually the same if
   94    1F:DC23  A5 99      			lda	<random + 1		; you write it in binary and read it right-
   95    1F:DC25  49 83      			eor	#$83			; to-left instead of left-to-right. Doing it
   96    1F:DC27  85 99      			sta	<random + 1		; this way means we won't have to explicitly
   97    1F:DC29  A5 98      			lda	<random + 0		; reverse things afterwards.
   98    1F:DC2B  49 20      			eor	#$20
   99    1F:DC2D  85 98      			sta	<random + 0
  100    1F:DC2F  68         			pla				; Restore high byte.
  101                        	
  102    1F:DC30  88         	.no_add:	dey				; Do next bit.
  103    1F:DC31  D0 DE      			bne	.bit_loop
  104                        	
  105    1F:DC33  85 9B      			sta	<random + 3		; Save CRC-32 high-byte.
  106                        	
  107                        			leave				; All done!
         1F:DC35  4C EF FF   			jmp	leave_proc
  108                        	
  109                        			.endp
  110                        	
  111                        	
  112                        	
  113                        	; ***************************************************************************
  114                        	; ***************************************************************************
  115                        	;
  116                        	; get_random - 8-bit LFSR pseudo-random number with a 24-bit cycle.
  117                        	;
  118                        	; The pseudo-random sequence repeats after (2^24)-1 calls.
  119                        	;
  120                        	; Written by Wim Couwenberg, see ...
  121                        	;
  122                        	; "https://wimcouwenberg.wordpress.com/2020/11/15/ ...
  123                        	;  a-fast-24-bit-prng-algorithm-for-the-6502-processor/"
  124                        	;
  125                        	; Takes 68 cycles on the HuC6280, incl JSR & RTS.
  126                        	;
  127                        	; N.B. HuCC library code relies on this preserving X and Y!
  128                        	;
  129                        	
  130    00:E69D  C2         	_rand8:		cly				; Entry point for HuCC.
  131                        	
  132    00:E69E  A5 98      	get_random:	lda	<random + 0		; Operation 7 (with carry clear).
  133    00:E6A0  0A         			asl	a
  134    00:E6A1  45 99      			eor	<random + 1
  135    00:E6A3  85 99      			sta	<random + 1
  136    00:E6A5  2A         			rol	a             		; Operation 9.
  137    00:E6A6  45 9A      			eor	<random + 2
  138    00:E6A8  85 9A      			sta	<random + 2
  139    00:E6AA  45 98      			eor	<random + 0		; Operation 5.
  140    00:E6AC  85 98      			sta	<random + 0
  141    00:E6AE  A5 99      			lda	<random + 1		; Operation 15.
  142    00:E6B0  6A         			ror	a
  143    00:E6B1  45 9A      			eor	<random + 2
  144    00:E6B3  85 9A      			sta	<random + 2
  145    00:E6B5  45 99      			eor	<random + 1		; Operation 6.
  146    00:E6B7  85 99      			sta	<random + 1
  147    00:E6B9  60         			rts
  148                        	
  149                        	
  150                        	
  151               0000     		.if	0
  316                        		.endif
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   49                        		.endif
   50                        	
   51                        			; Optional libraries that get used when their header files
   52                        			; are included in a HuCC project.
   53                        			;
   54                        			; When the HuCC compiler is invoked with the "--legacy"
   55                        			; option to compile old projects, then the "huc.h" file
   56                        			; is automatically included, which then includes a list
   57                        			; of specific headers corresponding to HuC's library.
   58                        	
   59               0001     		.ifdef	HUCC_USES_STRING		; Set in hucc_string.h
                             #[3]   "..\..\..\include\hucc\hucc-string.asm"
   60                        			include	"hucc-string.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-string.asm
    5                        	;
    6                        	; Not-quite-standard, but fast, replacements for <string.h>.
    7                        	;
    8                        	; Copyright John Brandwood 2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; !!! WARNING : non-standard return values !!!
   18                        	;
   19                        	; Strings are limited to a maximum of 255 characters (+ the terminator)!
   20                        	;
   21                        	; The memcpy(), strcpy() and strcat() functions do NOT return the destination
   22                        	; address, and they are declared "void" to check that the value is not used.
   23                        	;
   24                        	; mempcpy() is provided which returns the end address instead of the starting
   25                        	; address, because this is typically more useful.
   26                        	;
   27                        	; Please note that both memcpy() and memset() are implemented using a TII for
   28                        	; speed, and so the length should be < 16 bytes if used in time-critical bits
   29                        	; of code (such as when using a split screen) because they delay interrupts.
   30                        	;
   31                        	; strncpy() and strncat() are not provided, because strncpy() was not created
   32                        	; for the purpose of avoiding string overruns, and strncat() is just a poorly
   33                        	; designed function.
   34                        	;
   35                        	; POSIX strlcpy() and strlcat() are provided instead, but once again they are
   36                        	; slightly non-standard in that the return value when there is an overflow is
   37                        	; the buffer size (so that the overflow can be detected), instead of the full
   38                        	; size of the destination string that was too big to fit in the buffer.
   39                        	;
   40                        	; ***************************************************************************
   41                        	; ***************************************************************************
   42                        	
   43                        	
   44                        	
   45                        	; ***************************************************************************
   46                        	; ***************************************************************************
   47                        	;
   48                        	; void __fastcall strcpy( char *destination<_di>, char *source<_bp> );
   49                        	; void __fastcall strcat( char *destination<_di>, char *source<_bp> );
   50                        	;
   51                        	; unsigned int __fastcall strlcpy( char *destination<_di>, char *source<_bp>, unsigned char size<acc> );
   52                        	; unsigned int __fastcall strlcat( char *destination<_di>, char *source<_bp>, unsigned char size<acc> );
   53                        	; unsigned int __fastcall strlen( char *source<_bp> );
   54                        	;
   55                        	; NOT WORKING YET (needs compiler changes) ...
   56                        	;
   57                        	; void __fastcall strcpy( char *destination<_di>, char __far *source<_bp_bank:_bp> );
   58                        	; void __fastcall strcat( char *destination<_di>, char __far *source<_bp_bank:_bp> );
   59                        	;
   60                        	; unsigned int __fastcall strlcpy( char *destination<_di>, char __far *source<_bp_bank:_bp>, unsigned char size<acc> );
   61                        	; unsigned int __fastcall strlcat( char *destination<_di>, char __far *source<_bp_bank:_bp>, unsigned char size<acc> );
   62                        	; unsigned int __fastcall strlen( char __far *source<_bp_bank:_bp> );
   63                        	
   64    00:E6BA  62         	_strcat:	cla				; Max string length == 256!
   65    00:E6BB  A0 01      			ldy.h	#256
   66                        	
   67    00:E6BD  AA         	_strlcat:	tax				; X = buffer length (1..256).
   68                        	
   69               0000     		.ifdef	_DEBUG
   74                        		.endif
   75                        	
   76    00:E6BE  43 08      			tma3				; Preserve MPR3 and MPR4.
   77    00:E6C0  48         			pha
   78    00:E6C1  43 10      			tma4
   79    00:E6C3  48         			pha
   80                        	
   81                        	;		ldy	<_bp_bank		; Map the source string.
   82                        	;		beq	.no_bank
   83                        	;		jsr	map_bp_to_mpr34
   84                        	
   85    00:E6C4  C2         	.no_bank:	cly
   86                        	
   87    00:E6C5  B1 F0      	.find:		lda	[_di], y		; Find the end of the string.
   88    00:E6C7  F0 08      			beq	.adjust
   89    00:E6C9  C8         			iny
   90    00:E6CA  CA         			dex
   91    00:E6CB  D0 F8      			bne	.find
   92    00:E6CD  98         			tya				; A:Y = buffer length.
   93    00:E6CE  62         			cla
   94    00:E6CF  80 28      			bra	str_overflow
   95                        	
   96    00:E6D1  98         	.adjust:	tya				; Subtract Y from _bp so that
   97    00:E6D2  49 FF      			eor	#$FF			; _bp and _di use the same Y.
   98    00:E6D4  38         			sec
   99    00:E6D5  65 EC      			adc.l	<_bp
  100    00:E6D7  85 EC      			sta.l	<_bp
  101    00:E6D9  B0 0F      			bcs	str_copy
  102    00:E6DB  C6 ED      			dec.h	<_bp
  103    00:E6DD  80 0B      			bra	str_copy
  104                        	
  105                        			;
  106                        	
  107    00:E6DF  62         	_strcpy:	cla				; Max string length == 256!
  108    00:E6E0  A0 01      			ldy.h	#256
  109                        	
  110    00:E6E2  AA         	_strlcpy:	tax				; X = buffer length (1..256).
  111                        	
  112               0000     		.ifdef	_DEBUG
  117                        		.endif
  118                        	
  119    00:E6E3  43 08      			tma3				; Preserve MPR3 and MPR4.
  120    00:E6E5  48         			pha
  121    00:E6E6  43 10      			tma4
  122    00:E6E8  48         			pha
  123                        	
  124                        	;		ldy	<_bp_bank		; Map the source string.
  125                        	;		beq	.no_bank
  126                        	;		jsr	map_bp_to_mpr34
  127                        	
  128    00:E6E9  C2         	.no_bank:	cly
  129                        	
  130    00:E6EA  B1 EC      	str_copy:	lda	[_bp], y
  131    00:E6EC  91 F0      			sta	[_di], y
  132    00:E6EE  F0 1E      			beq	str_exit		; A:Y = string length.
  133    00:E6F0  C8         			iny
  134    00:E6F1  CA         			dex
  135    00:E6F2  D0 F6      			bne	str_copy
  136                        	
  137    00:E6F4  88         			dey
  138    00:E6F5  62         			cla
  139    00:E6F6  91 F0      			sta	[_di], y
  140    00:E6F8  C8         			iny				; A:Y = buffer length.
  141    00:E6F9  D0 13      	str_overflow:	bne	str_exit
  142    00:E6FB  1A         			inc	a			; A:Y = buffer length = 256.
  143    00:E6FC  80 10      			bra	str_exit
  144                        	
  145                        			;
  146                        	
  147    00:E6FE  43 08      	_strlen:	tma3
  148    00:E700  48         			pha
  149    00:E701  43 10      			tma4
  150    00:E703  48         			pha
  151                        	
  152                        	;		ldy	<_bp_bank
  153                        	;		beq	.no_bank
  154                        	;		jsr	map_bp_to_mpr34
  155                        	
  156    00:E704  C2         	.no_bank:	cly
  157                        	
  158    00:E705  B1 EC      	.find:		lda	[_bp], y
  159    00:E707  F0 05      			beq	str_exit
  160    00:E709  C8         			iny
  161    00:E70A  D0 F9      			bne	.find
  162    00:E70C  A9 01      			lda.h	#256			; A:Y = overflow length = 256.
  163                        	
  164    00:E70E  AA         	str_exit:	tax				; X:Y = string or buffer length.
  165                        	
  166    00:E70F  68         			pla				; Restore MPR3 and MPR4.
  167    00:E710  53 10      			tam4
  168    00:E712  68         			pla
  169    00:E713  53 08      			tam3
  170                        	
  171    00:E715  8A         			txa				; A:Y = string or buffer length.
  172    00:E716  42         			say				; Y:A = string or buffer length.
  173                        	
  174    00:E717  60         			rts
  175                        	
  176    00:E718             			.alias	_strlen.1		= _strlen
  177    00:E718             			.alias	_strcpy.2		= _strcpy
  178    00:E718             			.alias	_strcat.2		= _strcat
  179    00:E718             			.alias	_strlcpy.3		= _strlcpy
  180    00:E718             			.alias	_strlcat.3		= _strlcat
  181                        	
  182                        	
  183                        	
  184                        	; ***************************************************************************
  185                        	; ***************************************************************************
  186                        	;
  187                        	; void __fastcall memcpy( unsigned char *destination<ram_tii_dst>, unsigned char  *source<ram_tii_src>, unsigned int count<acc> );
  188                        	; unsigned char * __fastcall mempcpy( unsigned char *destination<ram_tii_dst>, unsigned char  *source<ram_tii_src>, unsigned int count<acc> );
  189                        	;
  190                        	; void __fastcall farmemcpy( unsigned char *destination<ram_tii_dst>, unsigned char __far *source<_bp_bank:ram_tii_src>, unsigned int count<acc> );
  191                        	; unsigned char * __fastcall farmempcpy( unsigned char *destination<ram_tii_dst>, unsigned char __far *source<_bp_bank:ram_tii_src>, unsigned int count<acc> );
  192                        	;
  193                        	; void __fastcall far_memcpy( unsigned char *destination<ram_tii_dst>, unsigned int count<acc> );
  194                        	; unsigned char * __fastcall far_mempcpy( unsigned char *destination<ram_tii_dst>, unsigned int count<acc> );
  195                        	;
  196                        	
  197    00:E718             	_memcpy.3:
  198    00:E718  64 02      	_mempcpy.3:	stz	<_bp_bank		; Map the source memory.
  199                        	
  200    00:E71A             	_farmemcpy.3:
  201    00:E71A  8C FE 22   	_farmempcpy.3:	sty.h	ram_tii_len		; Check for zero length.
  202    00:E71D  8D FD 22   			sta.l	ram_tii_len
  203    00:E720  0D FE 22   			ora.h	ram_tii_len
  204    00:E723  F0 18      			beq	.zero_length
  205                        	
  206    00:E725  43 08      			tma3				; Preserve MPR3 and MPR4.
  207    00:E727  48         			pha
  208    00:E728  43 10      			tma4
  209    00:E72A  48         			pha
  210                        	
  211    00:E72B  A5 02      			lda	<_bp_bank		; Map the source memory.
  212    00:E72D  F0 05      			beq	.no_bank
  213                        	
  214    00:E72F  53 08      			tam3				; Put bank into MPR3.
  215    00:E731  1A         			inc	a
  216    00:E732  53 10      			tam4				; Put next into MPR4.
  217                        	
  218                        	;		lda.h	ram_tii_src		; Remap ptr to MPR3.
  219                        	;		and	#$1F
  220                        	;		ora	#$60
  221                        	;		sta.h	ram_tii_src
  222                        	
  223    00:E734  20 F8 22   	.no_bank:	jsr	ram_tii			; Copy the memory.
  224                        	
  225    00:E737  68         			pla				; Restore MPR3 and MPR4.
  226    00:E738  53 10      			tam4
  227    00:E73A  68         			pla
  228    00:E73B  53 08      			tam3
  229                        	
  230    00:E73D  18         	.zero_length:	clc				; Return the end address
  231    00:E73E  AD FB 22   			lda.l	ram_tii_dst		; like mempcpy().
  232    00:E741  6D FD 22   			adc.l	ram_tii_len
  233    00:E744  A8         			tay
  234    00:E745  AD FC 22   			lda.h	ram_tii_dst
  235    00:E748  6D FE 22   			adc.h	ram_tii_len
  236    00:E74B  42         			say
  237                        	
  238    00:E74C  60         			rts
  239                        	
  240    00:E74D             			.alias	_far_memcpy.2		= _farmemcpy.3
  241    00:E74D             			.alias	_far_mempcpy.2		= _farmempcpy.3
  242                        	
  243                        	
  244                        	
  245                        	; ***************************************************************************
  246                        	; ***************************************************************************
  247                        	;
  248                        	; void __fastcall memset( unsigned char *destination<ram_tii_src>, unsigned char value<_al>, unsigned int count<acc> );
  249                        	
  250    00:E74D  C9 00      	_memset:	cmp	#0			; Decrement the length, check
  251    00:E74F  D0 05      			bne	!+			; for zero and set C. 
  252    00:E751  C0 00      			cpy	#0
  253    00:E753  F0 23      			beq	.zero_length
  254    00:E755  88         			dey
  255    00:E756  3A         	!:		dec	a
  256    00:E757  8D FD 22   			sta.l	ram_tii_len
  257    00:E75A  8C FE 22   			sty.h	ram_tii_len
  258                        	
  259    00:E75D  AD F9 22   			lda.l	ram_tii_src		; ram_tii_dst = ram_tii_src + 1
  260    00:E760  85 88      			sta.l	<__ptr
  261    00:E762  69 00      			adc	#0
  262    00:E764  8D FB 22   			sta.l	ram_tii_dst
  263    00:E767  AD FA 22   			lda.h	ram_tii_src
  264    00:E76A  85 89      			sta.h	<__ptr
  265    00:E76C  69 00      			adc	#0
  266    00:E76E  8D FC 22   			sta.h	ram_tii_dst
  267                        	
  268    00:E771  A5 F8      			lda	<_al			; Set the fill value.
  269    00:E773  92 88      			sta	[__ptr]
  270                        	
  271    00:E775  4C F8 22   			jmp	ram_tii			; Copy the memory.
  272                        	
  273    00:E778  60         	.zero_length:	rts
  274                        	
  275    00:E779             			.alias	_memset.3		= _memset
  276                        	
  277                        	
  278                        	
  279                        	; ***************************************************************************
  280                        	; ***************************************************************************
  281                        	;
  282                        	; int __fastcall strcmp( char *string1<_di>, char *string2<_bp> );
  283                        	; int __fastcall strncmp( char *string1<_di>, char *string2<_bp>, unsigned int count<_ax> );
  284                        	;
  285                        	; int __fastcall __macro memcmp( unsigned char *string1<_di>, unsigned char *string2<_bp>, unsigned int count<_ax> );
  286                        	; int __fastcall farmemcmp( unsigned char *string1<_di>, unsigned char __far *string2<_bp_bank:_bp>, unsigned int count<_ax> );
  287                        	; int __fastcall far_memcmp( unsigned char *string1<_di>, unsigned int count<_ax> );
  288                        	;
  289                        	;  0 	if strings are equal
  290                        	;  1 	if the first non-matching character in string1 > string2 (in ASCII).
  291                        	; -1 	if the first non-matching character in string1 < string2 (in ASCII).
  292                        	
  293    1E:DFB3             	hucc_memcmp	.procgroup
  294                        	
  295                        	_strcmp.2	.proc
  300                        			.endp				; Fall through.
  301                        	
  302    1E:DFB3             	_strncmp.3	.proc
  303    1E:DFB3  64 02      			stz	<_bp_bank		; Assume strings are mapped.
  304    1E:DFB5  89 40      			bit	#$40			; Set the V bit for strcmp.
  305    1E:DFB7  50         			db	$50			; Turn "clv" into "bvc".
  306    1E:DFB8             			.ref	_farmemcmp.3		; Don't strip _farmemcmp.3!
  307                        			.endp				; Fall through.
  308                        	
  309    1E:DFB8             	_farmemcmp.3	.proc
  310    1E:DFB8  B8         			clv				; Clr the V bit for memcmp.
  311                        	
  312    1E:DFB9  43 08      			tma3				; Preserve MPR3 and MPR4.
  313    1E:DFBB  48         			pha
  314    1E:DFBC  43 10      			tma4
  315    1E:DFBE  48         			pha
  316                        	
  317    1E:DFBF  A4 02      			ldy	<_bp_bank		; Map string2.
  318    1E:DFC1  F0 03      			beq	.no_bank
  319                        	
  320    1E:DFC3  20 4F E3   			jsr	map_bp_to_mpr34
  321                        	
  322    1E:DFC6  C2         	.no_bank:	cly
  323                        	
  324    1E:DFC7  A6 F8      			ldx.l	<_ax			; Increment length.l
  325    1E:DFC9  E8         			inx
  326    1E:DFCA  CA         	.loop:		dex				; Decrement length.l
  327    1E:DFCB  F0 17      			beq	.page
  328    1E:DFCD  B1 F0      	.test:		lda	[_di], y		; string1 - string2
  329    1E:DFCF  D1 EC      			cmp	[_bp], y
  330    1E:DFD1  90 1E      			bcc	.return_neg		; string1 < string2 
  331    1E:DFD3  D0 17      			bne	.return_pos		; string1 > string2
  332    1E:DFD5  50 04      			bvc	!+			; Only check for end-of-string
  333    1E:DFD7  C9 00      			cmp	#0			; if the V flag is set.
  334    1E:DFD9  F0 0D      			beq	.return_same
  335    1E:DFDB  C8         	!:		iny
  336    1E:DFDC  D0 EC      			bne	.loop
  337    1E:DFDE  E6 F1      			inc.h	<_di
  338    1E:DFE0  E6 ED      			inc.h	<_bp			; Limited to 8KB maximum!
  339                        	;		jsr	inc.h_bp_mpr34
  340    1E:DFE2  80 E6      			bra	.loop
  341                        	
  342    1E:DFE4  C6 F9      	.page:		dec.h	<_ax			; Decrement length.h 
  343    1E:DFE6  10 E5      			bpl	.test			; Limit comparison to 32KB.
  344                        	;		bra	cmp_same
  345                        	
  346    1E:DFE8  82         	.return_same:	clx				; Return code in Y:X, X -> A.
  347    1E:DFE9  C2         			cly
  348    1E:DFEA  80 09      			bra	!+
  349                        	
  350    1E:DFEC  A2 01      	.return_pos:	ldx	#$01			; Return code in Y:X, X -> A.
  351    1E:DFEE  C2         			cly
  352    1E:DFEF  80 04      			bra	!+
  353                        	
  354    1E:DFF1  A2 FF      	.return_neg:	ldx	#$FF			; Return code in Y:X, X -> A.
  355    1E:DFF3  A0 FF      			ldy	#$FF
  356                        	
  357    1E:DFF5  68         	!:		pla				; Restore MPR3 and MPR4.
  358    1E:DFF6  53 10      			tam4
  359    1E:DFF8  68         			pla
  360    1E:DFF9  53 08      			tam3
  361                        	
  362                        			leave				; Return and copy X -> A.
         1E:DFFB  4C EF FF   			jmp	leave_proc
  363                        	
  364                        			.endp
  365                        	
  366                        			.endprocgroup			; hucc_memcmp
  367                        	
  368    00:E779             			.alias	_far_memcmp.2		= _farmemcmp.3
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   61                        		.endif
   62                        	
   63               0001     		.ifdef	HUCC_USES_NEW_SCROLL		; Set in hucc_scroll.h
                             #[3]   "..\..\..\include\hucc\hucc-scroll.asm"
   64                        			include	"hucc-scroll.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-scroll.asm
    5                        	;
    6                        	; Routines for a fast split-screen scrolling system.
    7                        	;
    8                        	; Copyright John Brandwood 2024.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; The maximum number of splits for each screen layer is set in your project's
   18                        	; "hucc-config.inc" file, with the library having a limit of 128-per-layer.
   19                        	;
   20                        	; Your first active split must be defined to start at screen line 0, and then
   21                        	; the rest of the active splits must be in increasing line order to match the
   22                        	; way that the PC Engine displays the output image.
   23                        	;
   24                        	; You can have disabled splits interleaved with your active splits.
   25                        	;
   26                        	; Splits that are normally disabled can be used to create full screen effects
   27                        	; such as bouncing the screen up and down by adding blank areas at the top or
   28                        	; bottom of the screen, and then rapidly changing the height of those areas.
   29                        	;
   30                        	; ***************************************************************************
   31                        	; ***************************************************************************
   32                        	
   33                        	
   34                        	
   35               0000     		.ifndef	HUCC_PCE_SPLITS
   37                        		.endif
   38                        	
   39               0000     		.ifndef	HUCC_SGX_SPLITS
   41                        		.endif
   42                        	
   43               0000     		.if	(HUCC_PCE_SPLITS < 2) || (HUCC_PCE_SPLITS > 128)
   45                        		.endif
   46                        	
   47               0000     		.if	(HUCC_SGX_SPLITS < 2) || (HUCC_SGX_SPLITS > 128)
   49                        		.endif
   50                        	
   51               0144     	HUCC_1ST_RCR	=	$144
   52               00E0     	HUCC_SCR_HEIGHT	=	224
   53                        	
   54               E779     			.code
   55                        	
   56                        	
   57                        	
   58                        	; ***************************************************************************
   59                        	; ***************************************************************************
   60                        	;
   61                        	; void __fastcall scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
   62                        	; void __fastcall sgx_scroll_split( unsigned char index<_al>, unsigned char screen_line<_ah>, unsigned int bat_x<_bx>, unsigned int bat_y<_cx>, unsigned char display_flags<_dl> );
   63                        	;
   64                        	; set screen scrolling
   65                        	
   66    1F:D676             			.proc	_scroll_split.5
   67                        	
   68    1F:D676  08         			php				; Disable interrupts while
   69    1F:D677  78         			sei				; updating this structure.
   70                        	
   71    1F:D678  A6 F8      			ldx	<_al			; Region number.
   72    1F:D67A  E0 08      			cpx	#HUCC_PCE_SPLITS
   73    1F:D67C  B0 FE      	.hang:		bcs	.hang			; Better a hang than a crash!
   74                        	
   75    1F:D67E  BD F9 26   			lda	vdc_region_sel, x	; Update the parameter copy
   76    1F:D681  5D 01 27   			eor	vdc_region_new, x	; that is not displayed now.
   77    1F:D684  D0 3B      			bne	.regionA
   78                        	
   79    1F:D686  A5 F9      	.regionB:	lda	<_ah			; Scanline (i.e. top).
   80    1F:D688  C9 E0      			cmp	#HUCC_SCR_HEIGHT	; Skip if offscreen.
   81    1F:D68A  B0 31      			bcs	!done+
   82    1F:D68C  9D 21 27   			sta	vdc_regionB_rcr, x
   83                        	
   84    1F:D68F  C9 00      			cmp	#0			; Either Y at top of the frame
   85    1F:D691  F0 01      			beq	!+			; or Y-1 because the RCR code
   86    1F:D693  18         			clc				; sets it on the line before.
   87    1F:D694  A5 FC      	!:		lda.l	<_cx
   88    1F:D696  E9 00      			sbc	#0
   89    1F:D698  9D 51 27   			sta	vdc_regionB_yl, x
   90    1F:D69B  A5 FD      			lda.h	<_cx
   91    1F:D69D  E9 00      			sbc	#0
   92    1F:D69F  9D 61 27   			sta	vdc_regionB_yh, x
   93                        	
   94    1F:D6A2  A5 FA      			lda.l	<_bx
   95    1F:D6A4  9D 31 27   			sta	vdc_regionB_xl, x
   96    1F:D6A7  A5 FB      			lda.h	<_bx
   97    1F:D6A9  9D 41 27   			sta	vdc_regionB_xh, x
   98                        	
   99    1F:D6AC  A5 FE      			lda	<_dl			; Flags (mark it as enabled).
  100    1F:D6AE  29 C0      			and	#$C0
  101    1F:D6B0  09 0C      			ora	#$0C
  102    1F:D6B2  9D 11 27   			sta	vdc_regionB_crl, x
  103                        	
  104    1F:D6B5  A9 01      			lda	#1			; Mark that we've changed the
  105    1F:D6B7  9D 01 27   			sta	vdc_region_new, x	; selected region.
  106    1F:D6BA  9D F9 26   			sta	vdc_region_sel, x
  107                        	
  108    1F:D6BD  28         	!done:		plp				; Restore interrupts.
  109                        			leave				; All done!
         1F:D6BE  4C EF FF   			jmp	leave_proc
  110                        	
  111    1F:D6C1  A5 F9      	.regionA:	lda	<_ah			; Scanline (i.e. top).
  112    1F:D6C3  C9 E0      			cmp	#HUCC_SCR_HEIGHT	; Skip if offscreen.
  113    1F:D6C5  B0 31      			bcs	!done+
  114    1F:D6C7  9D 19 27   			sta	vdc_regionA_rcr, x
  115                        	
  116    1F:D6CA  C9 00      			cmp	#0			; Either Y at top of the frame
  117    1F:D6CC  F0 01      			beq	!+			; or Y-1 because the RCR code
  118    1F:D6CE  18         			clc				; sets it on the line before.
  119    1F:D6CF  A5 FC      	!:		lda.l	<_cx
  120    1F:D6D1  E9 00      			sbc	#0
  121    1F:D6D3  9D 49 27   			sta	vdc_regionA_yl, x
  122    1F:D6D6  A5 FD      			lda.h	<_cx
  123    1F:D6D8  E9 00      			sbc	#0
  124    1F:D6DA  9D 59 27   			sta	vdc_regionA_yh, x
  125                        	
  126    1F:D6DD  A5 FA      			lda.l	<_bx
  127    1F:D6DF  9D 29 27   			sta	vdc_regionA_xl, x
  128    1F:D6E2  A5 FB      			lda.h	<_bx
  129    1F:D6E4  9D 39 27   			sta	vdc_regionA_xh, x
  130                        	
  131    1F:D6E7  A5 FE      			lda	<_dl			; Flags (mark it as enabled).
  132    1F:D6E9  29 C0      			and	#$C0
  133    1F:D6EB  09 0C      			ora	#$0C
  134    1F:D6ED  9D 09 27   			sta	vdc_regionA_crl, x
  135                        	
  136    1F:D6F0  A9 01      			lda	#1			; Mark that we've changed the
  137    1F:D6F2  9D 01 27   			sta	vdc_region_new, x	; selected region.
  138    1F:D6F5  9E F9 26   			stz	vdc_region_sel, x
  139                        	
  140    1F:D6F8  28         	!done:		plp				; Restore interrupts.
  141                        			leave				; All done!
         1F:D6F9  4C EF FF   			jmp	leave_proc
  142                        	
  143                        			.endp
  144                        	
  145               0001     		.if	SUPPORT_SGX
  146                        	
  147    1F:D6FC             			.proc	_sgx_scroll_split.5
  148                        	
  149    1F:D6FC  08         			php				; Disable interrupts while
  150    1F:D6FD  78         			sei				; updating this structure.
  151                        	
  152    1F:D6FE  A6 F8      			ldx	<_al			; Region number.
  153    1F:D700  E0 08      			cpx	#HUCC_SGX_SPLITS
  154    1F:D702  B0 FE      	.hang:		bcs	.hang			; Better a hang than a crash!
  155                        	
  156    1F:D704  BD 7A 27   			lda	sgx_region_sel, x	; Update the parameter copy
  157    1F:D707  5D 82 27   			eor	sgx_region_new, x	; that is not displayed now.
  158    1F:D70A  D0 3B      			bne	.regionA
  159                        	
  160    1F:D70C  A5 F9      	.regionB:	lda	<_ah			; Scanline (i.e. top).
  161    1F:D70E  C9 E0      			cmp	#HUCC_SCR_HEIGHT	; Skip if offscreen.
  162    1F:D710  B0 31      			bcs	!done+
  163    1F:D712  9D A2 27   			sta	sgx_regionB_rcr, x
  164                        	
  165    1F:D715  C9 00      			cmp	#0			; Either Y at top of the frame
  166    1F:D717  F0 01      			beq	!+			; or Y-1 because the RCR code
  167    1F:D719  18         			clc				; sets it on the line before.
  168    1F:D71A  A5 FC      	!:		lda.l	<_cx
  169    1F:D71C  E9 00      			sbc	#0
  170    1F:D71E  9D D2 27   			sta	sgx_regionB_yl, x
  171    1F:D721  A5 FD      			lda.h	<_cx
  172    1F:D723  E9 00      			sbc	#0
  173    1F:D725  9D E2 27   			sta	sgx_regionB_yh, x
  174                        	
  175    1F:D728  A5 FA      			lda.l	<_bx
  176    1F:D72A  9D B2 27   			sta	sgx_regionB_xl, x
  177    1F:D72D  A5 FB      			lda.h	<_bx
  178    1F:D72F  9D C2 27   			sta	sgx_regionB_xh, x
  179                        	
  180    1F:D732  A5 FE      			lda	<_dl
  181    1F:D734  29 C0      			and	#$C0			; Flags (mark it as enabled).
  182    1F:D736  09 0C      			ora	#$0C
  183    1F:D738  9D 92 27   			sta	sgx_regionB_crl, x
  184                        	
  185    1F:D73B  A9 01      			lda	#1			; Mark that we've changed the
  186    1F:D73D  9D 82 27   			sta	sgx_region_new, x	; selected region.
  187    1F:D740  9D 7A 27   			sta	sgx_region_sel, x
  188                        	
  189    1F:D743  28         	!done:		plp				; Restore interrupts.
  190                        			leave				; All done!
         1F:D744  4C EF FF   			jmp	leave_proc
  191                        	
  192    1F:D747  A5 F9      	.regionA:	lda	<_ah			; Scanline (i.e. top).
  193    1F:D749  C9 E0      			cmp	#HUCC_SCR_HEIGHT	; Skip if offscreen.
  194    1F:D74B  B0 31      			bcs	!done+
  195    1F:D74D  9D 9A 27   			sta	sgx_regionA_rcr, x
  196                        	
  197    1F:D750  C9 00      			cmp	#0			; Either Y at top of the frame
  198    1F:D752  F0 01      			beq	!+			; or Y-1 because the RCR code
  199    1F:D754  18         			clc				; sets it on the line before.
  200    1F:D755  A5 FC      	!:		lda.l	<_cx
  201    1F:D757  E9 00      			sbc	#0
  202    1F:D759  9D CA 27   			sta	sgx_regionA_yl, x
  203    1F:D75C  A5 FD      			lda.h	<_cx
  204    1F:D75E  E9 00      			sbc	#0
  205    1F:D760  9D DA 27   			sta	sgx_regionA_yh, x
  206                        	
  207    1F:D763  A5 FA      			lda.l	<_bx
  208    1F:D765  9D AA 27   			sta	sgx_regionA_xl, x
  209    1F:D768  A5 FB      			lda.h	<_bx
  210    1F:D76A  9D BA 27   			sta	sgx_regionA_xh, x
  211                        	
  212    1F:D76D  A5 FE      			lda	<_dl
  213    1F:D76F  29 C0      			and	#$C0			; Flags (mark it as enabled).
  214    1F:D771  09 0C      			ora	#$0C
  215    1F:D773  9D 8A 27   			sta	sgx_regionA_crl, x
  216                        	
  217    1F:D776  A9 01      			lda	#1			; Mark that we've changed the
  218    1F:D778  9D 82 27   			sta	sgx_region_new, x	; selected region.
  219    1F:D77B  9E 7A 27   			stz	sgx_region_sel, x
  220                        	
  221    1F:D77E  28         	!done:		plp				; Restore interrupts.
  222                        			leave				; All done!
         1F:D77F  4C EF FF   			jmp	leave_proc
  223                        	
  224                        			.endp
  225                        	
  226                        		.endif	SUPPORT_SGX
  227                        	
  228                        	
  229                        	
  230                        	; ***************************************************************************
  231                        	; ***************************************************************************
  232                        	;
  233                        	; void __fastcall disable_split( unsigned char index<acc> );
  234                        	; void __fastcall sgx_disable_split( unsigned char index<acc> );
  235                        	;
  236                        	; disable screen scrolling for a scroll region
  237                        	
  238    00:E779             	_disable_split.1:
  239    00:E779  08         			php				; Disable interrupts while
  240    00:E77A  78         			sei				; updating this structure.
  241                        	
  242    00:E77B  C9 08      			cmp	#HUCC_PCE_SPLITS	; Better a hang than a crash!
  243    00:E77D  B0 FE      	.hang:		bcs	.hang
  244    00:E77F  AA         			tax
  245                        	
  246    00:E780  BD F9 26   			lda	vdc_region_sel, x	; Update the parameter copy
  247    00:E783  5D 01 27   			eor	vdc_region_new, x	; that is not displayed now.
  248    00:E786  D0 0D      			bne	.regionA
  249                        	
  250    00:E788  9E 11 27   	.regionB:	stz	vdc_regionB_crl, x	; Region disabled if $00.
  251                        	
  252    00:E78B  A9 01      			lda	#1			; Mark that we've changed the
  253    00:E78D  9D 01 27   			sta	vdc_region_new, x	; selected region.
  254    00:E790  9D F9 26   			sta	vdc_region_sel, x
  255                        	
  256    00:E793  28         			plp				; Restore interrupts.
  257    00:E794  60         			rts
  258                        	
  259    00:E795  9E 09 27   	.regionA:	stz	vdc_regionA_crl, x	; Region disabled if $00.
  260                        	
  261    00:E798  A9 01      			lda	#1			; Mark that we've changed the
  262    00:E79A  9D 01 27   			sta	vdc_region_new, x	; selected region.
  263    00:E79D  9E F9 26   			stz	vdc_region_sel, x
  264                        	
  265    00:E7A0  28         			plp				; Restore interrupts.
  266    00:E7A1  60         			rts
  267                        	
  268               0001     		.if	SUPPORT_SGX
  269                        	
  270    00:E7A2             	_sgx_disable_split.1:
  271    00:E7A2  08         			php				; Disable interrupts while
  272    00:E7A3  78         			sei				; updating this structure.
  273                        	
  274    00:E7A4  C9 08      			cmp	#HUCC_SGX_SPLITS	; Better a hang than a crash!
  275    00:E7A6  B0 FE      	.hang:		bcs	.hang
  276    00:E7A8  AA         			tax
  277                        	
  278    00:E7A9  BD 7A 27   			lda	sgx_region_sel, x	; Update the parameter copy
  279    00:E7AC  5D 82 27   			eor	sgx_region_new, x	; that is not displayed now.
  280    00:E7AF  D0 0D      			bne	.regionA
  281                        	
  282    00:E7B1  9E 92 27   	.regionB:	stz	sgx_regionB_crl, x	; Region disabled if $00.
  283                        	
  284    00:E7B4  A9 01      			lda	#1			; Mark that we've changed the
  285    00:E7B6  9D 82 27   			sta	sgx_region_new, x	; selected region.
  286    00:E7B9  9D 7A 27   			sta	sgx_region_sel, x
  287                        	
  288    00:E7BC  28         			plp				; Restore interrupts.
  289    00:E7BD  60         			rts
  290                        	
  291    00:E7BE  9E 8A 27   	.regionA:	stz	sgx_regionA_crl, x	; Region disabled if $00.
  292                        	
  293    00:E7C1  A9 01      			lda	#1			; Mark that we've changed the
  294    00:E7C3  9D 82 27   			sta	sgx_region_new, x	; selected region.
  295    00:E7C6  9E 7A 27   			stz	sgx_region_sel, x
  296                        	
  297    00:E7C9  28         			plp				; Restore interrupts.
  298    00:E7CA  60         			rts
  299                        	
  300                        		.endif	SUPPORT_SGX
  301                        	
  302                        	
  303                        	
  304                        	; ***************************************************************************
  305                        	; ***************************************************************************
  306                        	;
  307                        	; vbl_init_scroll
  308                        	;
  309                        	; From Charles MacDonald's pcetech.txt ...
  310                        	;
  311                        	;  Raster Compare Register (RCR):
  312                        	;
  313                        	;  The range of the RCR is 263 lines, relative to the start of the active
  314                        	;  display period. (defined by VSW, VDS, and VCR) The VDC treats the first
  315                        	;  scanline of the active display period as $0040, so the valid ranges for
  316                        	;  the RCR register are $0040 to $0146.
  317                        	;
  318                        	;  For example, assume VSW=$02, VDS=$17. This positions the first line of
  319                        	;  the active display period at line 25 of the frame. An RCR value of $0040
  320                        	;  (zero) causes an interrupt at line 25, and a value of $0146 (262) causes an
  321                        	;  interrupt at line 24 of the next frame.
  322                        	;
  323                        	;  Any other RCR values that are out of range ($00-$3F, $147-$3FF) will never
  324                        	;  result in a successful line compare.
  325                        	;
  326                        	; Processing time:
  327                        	;
  328                        	; Old HuC rcr_init: 2148 cycles if all 8 regions pre-sorted
  329                        	; Old HuC rcr_init: 4346 cycles if all 8 regions need sorting
  330                        	;
  331                        	; New HuCC vbl_init_scroll:   8 disabled splits:  290 cycles
  332                        	; New HuCC vbl_init_scroll:   8  enabled splits:  384 cycles
  333                        	;
  334                        	; New HuCC vbl_init_scroll:  16 disabled splits:  506 cycles
  335                        	; New HuCC vbl_init_scroll:  16  enabled splits:  672 cycles
  336                        	;
  337                        	; New HuCC vbl_init_scroll:  32 disabled splits:  953 cycles
  338                        	; New HuCC vbl_init_scroll:  32  enabled splits: 1263 cycles
  339                        	;
  340                        	; New HuCC vbl_init_scroll:  64 disabled splits: 1802 cycles
  341                        	; New HuCC vbl_init_scroll:  64  enabled splits: 2400 cycles
  342                        	;
  343                        	; New HuCC vbl_init_scroll: 128 disabled splits: 3530 cycles
  344                        	; New HuCC vbl_init_scroll: 128  enabled splits: 4704 cycles
  345                        	;
  346                        	; Memory used is 16 bytes per scroll per VDC!
  347                        	
  348               26F9     			.bss
  349                        	
  350    F8:26F9             	vdc_region_sel:	.ds	HUCC_PCE_SPLITS		; Use A or B region next frame?
  351    F8:2701             	vdc_region_new:	.ds	HUCC_PCE_SPLITS		; 1 if vdc_region_sel modified.
  352                        	
  353    F8:2709             	vdc_regionA_crl:.ds	HUCC_PCE_SPLITS		; Two copies of each setting
  354    F8:2711             	vdc_regionB_crl:.ds	HUCC_PCE_SPLITS		; HUCC_PCE_SPLITS bytes apart,
  355    F8:2719             	vdc_regionA_rcr:.ds	HUCC_PCE_SPLITS		; one setting for the current
  356    F8:2721             	vdc_regionB_rcr:.ds	HUCC_PCE_SPLITS		; frame, and one setting that
  357    F8:2729             	vdc_regionA_xl:	.ds	HUCC_PCE_SPLITS		; gets modified and then used
  358    F8:2731             	vdc_regionB_xl:	.ds	HUCC_PCE_SPLITS		; on the next frame after the
  359    F8:2739             	vdc_regionA_xh:	.ds	HUCC_PCE_SPLITS		; change is made.
  360    F8:2741             	vdc_regionB_xh:	.ds	HUCC_PCE_SPLITS		; Regions will have different
  361    F8:2749             	vdc_regionA_yl:	.ds	HUCC_PCE_SPLITS		; A or B currently active!
  362    F8:2751             	vdc_regionB_yl:	.ds	HUCC_PCE_SPLITS
  363    F8:2759             	vdc_regionA_yh:	.ds	HUCC_PCE_SPLITS
  364    F8:2761             	vdc_regionB_yh:	.ds	HUCC_PCE_SPLITS
  365                        	
  366    F8:2769             	vdc_next_region:.ds	1			; Linked list of region indexes
  367    F8:276A             	vdc_regionA_nxt:.ds	HUCC_PCE_SPLITS		; for the current frame.
  368    F8:2772             	vdc_regionB_nxt:.ds	HUCC_PCE_SPLITS
  369                        	
  370               0001     		.if	SUPPORT_SGX
  371                        	
  372    F8:277A             	sgx_region_sel:	.ds	HUCC_SGX_SPLITS		; Use A or B region next frame?
  373    F8:2782             	sgx_region_new:	.ds	HUCC_SGX_SPLITS		; 1 if sgx_region_sel modified.
  374                        	
  375    F8:278A             	sgx_regionA_crl:.ds	HUCC_SGX_SPLITS		; Two copies of each setting
  376    F8:2792             	sgx_regionB_crl:.ds	HUCC_SGX_SPLITS		; HUCC_SGX_SPLITS bytes apart,
  377    F8:279A             	sgx_regionA_rcr:.ds	HUCC_SGX_SPLITS		; one setting for the current
  378    F8:27A2             	sgx_regionB_rcr:.ds	HUCC_SGX_SPLITS		; frame, and one setting that
  379    F8:27AA             	sgx_regionA_xl:	.ds	HUCC_SGX_SPLITS		; gets modified and then used
  380    F8:27B2             	sgx_regionB_xl:	.ds	HUCC_SGX_SPLITS		; on the next frame after the
  381    F8:27BA             	sgx_regionA_xh:	.ds	HUCC_SGX_SPLITS		; change is made.
  382    F8:27C2             	sgx_regionB_xh:	.ds	HUCC_SGX_SPLITS		; Regions will have different
  383    F8:27CA             	sgx_regionA_yl:	.ds	HUCC_SGX_SPLITS		; A or B currently active!
  384    F8:27D2             	sgx_regionB_yl:	.ds	HUCC_SGX_SPLITS
  385    F8:27DA             	sgx_regionA_yh:	.ds	HUCC_SGX_SPLITS
  386    F8:27E2             	sgx_regionB_yh:	.ds	HUCC_SGX_SPLITS
  387                        	
  388    F8:27EA             	sgx_next_region:.ds	1			; Linked list of region indexes
  389    F8:27EB             	sgx_regionA_nxt:.ds	HUCC_SGX_SPLITS		; for the current frame.
  390    F8:27F3             	sgx_regionB_nxt:.ds	HUCC_SGX_SPLITS
  391                        	
  392                        		.endif
  393                        	
  394               E7CB     			.code
  395                        	
  396    1F:D782             	vbl_init_scroll	.proc
  397                        	
  398    1F:D782  62         			cla				; A = previous active index
  399    1F:D783  A2 08      			ldx	#HUCC_PCE_SPLITS	; so $00 for end-of-screen.
  400                        	
  401    1F:D785  18         			clc				; For regionB indexes.
  402                        	
  403    1F:D786  CA         	!next_region:	dex				; All regions updated?
  404    1F:D787  30 20      			bmi	!save_first+
  405                        	
  406    1F:D789  9E 01 27   			stz	vdc_region_new, x	; Clear region modified flag.
  407                        	
  408    1F:D78C  BC F9 26   			ldy	vdc_region_sel, x	; 0=regionA or 1=regionB.
  409    1F:D78F  F0 0D      			beq	!use_regionA+
  410                        	
  411    1F:D791  BC 11 27   	!use_regionB:	ldy	vdc_regionB_crl, x	; Region disabled if $00.
  412    1F:D794  F0 F0      			beq	!next_region-
  413    1F:D796  9D 72 27   			sta	vdc_regionB_nxt, x	; Save index of next region.
  414    1F:D799  8A         			txa				; A = current region index.
  415    1F:D79A  69 08      			adc	#HUCC_PCE_SPLITS	; Always leaves CC!
  416    1F:D79C  80 E8      			bra	!next_region-
  417                        	
  418    1F:D79E  BC 09 27   	!use_regionA:	ldy	vdc_regionA_crl, x	; Region disabled if $00.
  419    1F:D7A1  F0 E3      			beq	!next_region-
  420    1F:D7A3  9D 6A 27   			sta	vdc_regionA_nxt, x	; Save index of next region.
  421    1F:D7A6  8A         			txa				; A = current region index.
  422    1F:D7A7  80 DD      			bra	!next_region-
  423                        	
  424    1F:D7A9  8D 69 27   	!save_first:	sta	vdc_next_region		; Save index of 1st region.
  425                        	
  426    1F:D7AC  AA         			tax				; NZ if first active region
  427    1F:D7AD  D0 03      			bne	!init_first+		; is not region 0.
  428    1F:D7AF  98         			tya				; NZ if region 0 is active.
  429    1F:D7B0  F0 0F      			beq	!+			; If no active leave RCR=0.
  430                        	
  431    1F:D7B2  A9 06      	!init_first:	lda	#VDC_RCR		; 1st RCR always happens just
  432    1F:D7B4  8D 00 02   			sta	VDC_AR			; before the display starts.
  433    1F:D7B7  A9 44      			lda.l	#HUCC_1ST_RCR
  434    1F:D7B9  8D 02 02   			sta	VDC_DL
  435    1F:D7BC  A9 01      			lda.h	#HUCC_1ST_RCR
  436    1F:D7BE  8D 03 02   			sta	VDC_DH
  437                        	
  438               0001     		.if	SUPPORT_SGX
  439                        	
  440    1F:D7C1  62         	!:		cla				; A = previous active index
  441    1F:D7C2  A2 08      			ldx	#HUCC_SGX_SPLITS	; so $00 for end-of-screen.
  442                        	
  443    1F:D7C4  18         			clc				; For regionB indexes.
  444                        	
  445    1F:D7C5  CA         	!next_region:	dex				; All regions updated?
  446    1F:D7C6  30 20      			bmi	!save_first+
  447                        	
  448    1F:D7C8  9E 82 27   			stz	sgx_region_new, x	; Clear region modified flag.
  449                        	
  450    1F:D7CB  BC 7A 27   			ldy	sgx_region_sel, x	; 0=regionA or 1=regionB.
  451    1F:D7CE  F0 0D      			beq	!use_regionA+
  452                        	
  453    1F:D7D0  BC 92 27   	!use_regionB:	ldy	sgx_regionB_crl, x	; Region disabled if $00.
  454    1F:D7D3  F0 F0      			beq	!next_region-
  455    1F:D7D5  9D F3 27   			sta	sgx_regionB_nxt, x	; Save index of next region.
  456    1F:D7D8  8A         			txa				; A = current region index.
  457    1F:D7D9  69 08      			adc	#HUCC_SGX_SPLITS	; Always leaves CC!
  458    1F:D7DB  80 E8      			bra	!next_region-
  459                        	
  460    1F:D7DD  BC 8A 27   	!use_regionA:	ldy	sgx_regionA_crl, x	; Region disabled if $00.
  461    1F:D7E0  F0 E3      			beq	!next_region-
  462    1F:D7E2  9D EB 27   			sta	sgx_regionA_nxt, x	; Save index of next region.
  463    1F:D7E5  8A         			txa				; A = current region index.
  464    1F:D7E6  80 DD      			bra	!next_region-
  465                        	
  466    1F:D7E8  8D EA 27   	!save_first:	sta	sgx_next_region		; Save index of 1st region.
  467                        	
  468    1F:D7EB  AA         			tax				; NZ if first active region
  469    1F:D7EC  D0 03      			bne	!init_first+		; is not region 0.
  470    1F:D7EE  98         			tya				; NZ if region 0 is active.
  471    1F:D7EF  F0 0F      			beq	!+			; If no active leave RCR=0.
  472                        	
  473    1F:D7F1  A9 06      	!init_first:	lda	#VDC_RCR		; 1st RCR always happens just
  474    1F:D7F3  8D 10 02   			sta	SGX_AR			; before the display starts.
  475    1F:D7F6  A9 44      			lda.l	#HUCC_1ST_RCR
  476    1F:D7F8  8D 12 02   			sta	SGX_DL
  477    1F:D7FB  A9 01      			lda.h	#HUCC_1ST_RCR
  478    1F:D7FD  8D 13 02   			sta	SGX_DH
  479                        	
  480                        		.endif	SUPPORT_SGX
  481                        	
  482                        	!:		leave				; All done!
         1F:D800  4C EF FF   			jmp	leave_proc
  483                        	
  484                        			.endp
  485                        	
  486                        	
  487                        	
  488               0001     		.if	SUPPORT_SGX
  489                        	
  490                        	; ***************************************************************************
  491                        	; ***************************************************************************
  492                        	;
  493                        	; VDC_RCR_MACRO and SGX_RCR_MACRO
  494                        	;
  495                        	; A 16-byte TIA takes 142..234 cycles in 5MHz, 128..200 cycles in 7MHz.
  496                        	; A 32-byte TIA takes 270..364 cycles in 5MHz, 242..312 cycles in 7MHz. (527 DUO)
  497                        	;
  498                        	; You need to write the last RCR setting within 540 cycles in order to catch
  499                        	; the next line (at 256/336/512 resolution).
  500                        	;
  501                        	; That gives 305 cycles from the RCR to write the last setting, or there
  502                        	; will be a visible glitch on the screen.
  503                        	
  504               0000     		.ifndef	USING_RCR_MACROS
  506                        		.endif
  507                        	
  508                        	;		;;;				; 8 (cycles for the INT)
  509                        	;		bbs1	<irq_vec, .hook		; 8
  510                        	;		jmp	[irq1_hook]		; 7
  511                        	
  512                        	;		;;;				; 8 (cycles for the INT)
  513                        	;		jmp	irq1_handler		; 4
  514                        	
  515                        	;irq1_handler:	pha				; 3 Save all registers.
  516                        	;		phx				; 3
  517                        	;		phy				; 3
  518                        	;
  519                        	;		lda	VDC_SR			; 6 Acknowledge the VDC's IRQ.
  520                        	;		sta	<vdc_sr			; 4 Remember what caused it.
  521                        	;
  522                        	;		ldx	SGX_SR			; 6 Read SGX_SR after VDC_SR in
  523                        	;		stx	<sgx_sr			; 4 case this is not an SGX!
  524                        	;
  525                        	;!:		and	#$04			; 2 Is this an HSYNC interrupt?
  526                        	;		beq	!+			; 2
  527                        	
  528                        			.macro	VDC_RCR_MACRO
  529                        	
  530                        			st0	#VDC_RCR		; 5
  531                        	
  532                        			ldx	vdc_next_region		; 5 X and Y can be greater than
  533                        			ldy	vdc_regionA_nxt, x	; 5 HUCC_PCE_SPLITS if regionB!
  534                        			clc				; 2
  535                        			bne	!set_next_rcr+		; 4 Stop RCR if next line is 0.
  536                        	
  537                        			and	const_0000		; 5 A=$00 with the same #cycles
  538                        			bra	!clr_next_rcr+		; 4 as if the branch were taken.
  539                        	
  540                        	!set_next_rcr:	lda	vdc_regionA_rcr, y	; 5 Set next RCR 1 line before
  541                        			adc	#64-1			; 2 the region begins, or 0 to
  542                        	!clr_next_rcr:	sta	VDC_DL			; 6 disable.
  543                        			cla				; 2
  544                        			rol	a			; 2
  545                        			sta	VDC_DH			; 6
  546                        	
  547                        			st0	#VDC_BYR		; 5 Do BYR first to mitigate the
  548                        			lda	vdc_regionA_yl, x	; 5 glitch if the IRQ is delayed.
  549                        			sta	VDC_DL			; 6 = 105 cycles from RCR on SGX
  550                        			lda	vdc_regionA_yh, x	; 5
  551                        			sta	VDC_DH			; 6
  552                        	
  553                        			st0	#VDC_CR			; 5
  554                        			lda	vdc_regionA_crl, x	; 5
  555                        	;		asl	a
  556                        			sta	VDC_DL			; 6
  557                        	
  558                        			st0	#VDC_BXR		; 2
  559                        			lda	vdc_regionA_xl, x	; 5
  560                        			sta	VDC_DL			; 6
  561                        			lda	vdc_regionA_xh, x	; 5
  562                        			sta	VDC_DH			; 6 = 156 cycles from RCR if DUO
  563                        	
  564                        	;		bcc	!+
  565                        	;		lda	vdc_regionA_yh, x	; 5
  566                        	;		sta.l	VCE_CTW			; 6
  567                        	
  568                        			sty	vdc_next_region		; 5
  569                        	
  570                        			.endm
  571                        	
  572                        	;!:		bbr2	<sgx_sr, !+		; 6 Is this an HSYNC interrupt?
  573                        	
  574                        			.macro	SGX_RCR_MACRO
  575                        	
  576                        			lda	#VDC_RCR		; 2
  577                        			sta	SGX_AR			; 6
  578                        	
  579                        			ldx	sgx_next_region		; 5 X and Y can be greater than
  580                        			ldy	sgx_regionA_nxt, x	; 5 HUCC_SGX_SPLITS if regionB!
  581                        			clc				; 2
  582                        			bne	!set_next_rcr+		; 4 Stop RCR if next line is 0.
  583                        	
  584                        			and	const_0000		; 5 A=$00 with the same #cycles
  585                        			bra	!clr_next_rcr+		; 4 as if the branch were taken.
  586                        	
  587                        	!set_next_rcr:	lda	sgx_regionA_rcr, y	; 5 Set next RCR 1 line before
  588                        			adc	#64-1			; 2 the region begins, or 0 to
  589                        	!clr_next_rcr:	sta	SGX_DL			; 6 disable.
  590                        			cla				; 2
  591                        			rol	a			; 2
  592                        			sta	SGX_DH			; 6
  593                        	
  594                        			lda	#VDC_BYR		; 2 Do BYR first to mitigate the
  595                        			sta	SGX_AR			; 6 glitch if the IRQ is delayed.
  596                        			lda	sgx_regionA_yl, x	; 5
  597                        			sta	SGX_DL			; 6
  598                        			lda	sgx_regionA_yh, x	; 5
  599                        			sta	SGX_DH			; 6
  600                        	
  601                        			lda	#VDC_CR			; 2
  602                        			sta	SGX_AR			; 6
  603                        			lda	sgx_regionA_crl, x	; 5
  604                        			sta	SGX_DL			; 6
  605                        	
  606                        			lda	#VDC_BXR		; 2
  607                        			sta	SGX_AR			; 6
  608                        			lda	sgx_regionA_xl, x	; 5
  609                        			sta	SGX_DL			; 6
  610                        			lda	sgx_regionA_xh, x	; 5
  611                        			sta	SGX_DH			; 6 = 293 cycles (282 if no YH)
  612                        	
  613                        			sty	sgx_next_region		; 5
  614                        	
  615                        			.endm
  616                        	
  617                        		.else	SUPPORT_SGX
  697                        		.endif	SUPPORT_SGX
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   65                        		.else
   69                        		.endif	HUCC_USES_NEW_SCROLL
   70                        	
   71               0001     		.ifdef	HUCC_USES_OLD_SPR		; Set in hucc_old_spr.h
                             #[3]   "..\..\..\include\hucc\hucc-old-spr.asm"
   72                        			include	"hucc-old-spr.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-old-spr.asm
    5                        	;
    6                        	; Based on the original HuC and MagicKit functions by David Michel and the
    7                        	; other original HuC developers.
    8                        	;
    9                        	; Modifications copyright John Brandwood 2024.
   10                        	;
   11                        	; Distributed under the Boost Software License, Version 1.0.
   12                        	; (See accompanying file LICENSE_1_0.txt or copy at
   13                        	;  http://www.boost.org/LICENSE_1_0.txt)
   14                        	;
   15                        	; ***************************************************************************
   16                        	; ***************************************************************************
   17                        	
   18                        	;
   19                        	; Include dependancies ...
   20                        	;
   21                        	
   22                        			include "common.asm"		; Common helpers.
   23                        			include "vce.asm"		; Useful VCE routines.
   24                        			include "vdc.asm"		; Useful VCE routines.
   25                        	
   26                        	
   27                        	
   28                        	; ***************************************************************************
   29                        	; ***************************************************************************
   30                        	;
   31                        	; HuC Sprite Functions
   32                        	;
   33                        	; ***************************************************************************
   34                        	; ***************************************************************************
   35                        	
   36               209C     			.zp
   37    F8:209C             	spr_ptr:	ds	2
   38               27FB     			.bss
   39    F8:27FB             	spr_sat:	ds	512
   40               E7CB     			.code
   41                        	
   42               0001     		.if	SUPPORT_SGX
   43               209E     			.zp
   44    F8:209E             	sgx_spr_ptr:	ds	2
   45               29FB     			.bss
   46    F8:29FB             	sgx_spr_sat:	ds	512	; N.B. Directly after spr_sat!
   47               E7CB     			.code
   48                        		.endif
   49                        	
   50                        	; Moved to hucc-old-map.asm just to save space. This NEEDS to be changed!
   51                        	;
   52                        	;		.bss
   53                        	;spr_max:	ds	1
   54                        	;spr_clr:	ds	1
   55                        	;	.if	SUPPORT_SGX
   56                        	;sgx_spr_max:	ds	1
   57                        	;sgx_spr_clr:	ds	1
   58                        	;	.endif
   59                        	;		.code
   60                        	
   61                        	
   62                        	
   63                        	; ***************************************************************************
   64                        	; ***************************************************************************
   65                        	;
   66                        	; void __fastcall init_satb( void );
   67                        	; void __fastcall reset_satb( void );
   68                        	;
   69                        	; void __fastcall sgx_init_satb( void );
   70                        	; void __fastcall sgx_reset_satb( void );
   71                        	
   72    00:E7CB             	_reset_satb:
   73    00:E7CB  C2         	_init_satb:	cly
   74    00:E7CC  62         			cla
   75    00:E7CD  99 FB 27   	!:		sta	spr_sat + $0000, y
   76    00:E7D0  99 FB 28   			sta	spr_sat + $0100, y
   77    00:E7D3  C8         			iny
   78    00:E7D4  D0 F7      			bne	!-
   79    00:E7D6  8C CF 26   			sty	spr_max
   80    00:E7D9  C8         			iny
   81    00:E7DA  8C D0 26   			sty	spr_clr
   82    00:E7DD  60         			rts
   83                        	
   84               0001     		.if	SUPPORT_SGX
   85    00:E7DE             	_sgx_reset_satb:
   86    00:E7DE  C2         	_sgx_init_satb:	cly
   87    00:E7DF  62         			cla
   88    00:E7E0  99 FB 29   	!:		sta	sgx_spr_sat + $0000, y
   89    00:E7E3  99 FB 2A   			sta	sgx_spr_sat + $0100, y
   90    00:E7E6  C8         			iny
   91    00:E7E7  D0 F7      			bne	!-
   92    00:E7E9  8C DF 26   			sty	sgx_spr_max
   93    00:E7EC  C8         			iny
   94    00:E7ED  8C E0 26   			sty	sgx_spr_clr
   95    00:E7F0  60         			rts
   96                        		.endif
   97                        	
   98                        	
   99                        	
  100                        	; ***************************************************************************
  101                        	; ***************************************************************************
  102                        	;
  103                        	; void __fastcall satb_update( void );
  104                        	; void __fastcall sgx_satb_update( void );
  105                        	
  106    1F:DA24             	old_satb_group	.procgroup
  107                        	
  108               0001     		.if	SUPPORT_SGX
  109    1F:DA24             			.proc	_sgx_satb_update
  110                        	
  111    1F:DA24  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  112    1F:DA26  F0         			db	$F0			; Turn "clx" into a "beq".
  113                        	
  114    1F:DA27             			.ref	_satb_update
  115                        			.endp
  116                        		.endif
  117                        	
  118    1F:DA27             			.proc	_satb_update
  119                        	
  120    1F:DA27  82         			clx				; Offset to PCE VDC.
  121                        	
  122    1F:DA28  A9 7F      			lda.h	#$7F00			; HuC puts the SAT here in VRAM
  123                        	;		lda.h	#$0800			; but we put it here instead
  124    1F:DA2A  64 F0      			stz.l	<_di
  125    1F:DA2C  85 F1      			sta.h	<_di
  126    1F:DA2E  20 93 E3   			jsr	set_di_to_mawr
  127                        	
  128               0001     		.if	SUPPORT_SGX
  129    1F:DA31  8A         			txa				; Select which VDC to write
  130    1F:DA32  1A         			inc	a			; to.
  131    1F:DA33  1A         			inc	a
  132    1F:DA34  8D F3 22   			sta.l	ram_tia_dst
  133                        		.endif
  134                        	
  135    1F:DA37  A9 10      			lda	#VRAM_XFER_SIZE		; Split into 16-byte chunks
  136    1F:DA39  8D F5 22   			sta.l	ram_tia_len		; for stable IRQ response.
  137                        	
  138    1F:DA3C  BC CF 26   			ldy	spr_max, x		; Highest sprite that was set.
  139    1F:DA3F  C8         			iny
  140                        	
  141    1F:DA40  BD D0 26   			lda	spr_clr, x
  142    1F:DA43  F0 05      			beq	!+
  143    1F:DA45  9E D0 26   			stz	spr_clr, x
  144    1F:DA48  A0 40      			ldy	#64
  145                        	
  146    1F:DA4A  98         	!:		tya
  147    1F:DA4B  F0 22      			beq	.exit
  148                        	
  149    1F:DA4D  3A         			dec	a			; round up to the next group of 2 sprites
  150    1F:DA4E  4A         			lsr	a
  151               0000     		.if	VRAM_XFER_SIZE == 32
  153                        		.endif
  154    1F:DA4F  1A         			inc	a
  155    1F:DA50  A8         			tay
  156                        	
  157    1F:DA51  A9 27      			lda.h	#spr_sat
  158                        	
  159               0001     		.if	SUPPORT_SGX
  160    1F:DA53  E0 00      			cpx	#0
  161    1F:DA55  F0 02      			beq	!+
  162                        	
  163    1F:DA57  A9 29      			lda.h	#sgx_spr_sat
  164                        		.endif
  165                        	
  166    1F:DA59  8D F2 22   	!:		sta.h	ram_tia_src
  167                        	
  168    1F:DA5C  A9 FB      			lda.l	#spr_sat		; Same for SGX and PCE!
  169    1F:DA5E  8D F1 22   	.chunk_loop:	sta.l	ram_tia_src
  170                        	
  171    1F:DA61  20 F0 22   			jsr	ram_tia			; transfer 16-bytes
  172                        	
  173    1F:DA64  18         			clc				; increment source
  174    1F:DA65  69 10      			adc	#VRAM_XFER_SIZE
  175    1F:DA67  90 03      			bcc	.same_page
  176    1F:DA69  EE F2 22   			inc.h	ram_tia_src
  177                        	
  178    1F:DA6C  88         	.same_page:	dey
  179    1F:DA6D  D0 EF      			bne	.chunk_loop
  180                        	
  181                        	.exit:		leave
         1F:DA6F  4C EF FF   			jmp	leave_proc
  182                        	
  183                        			.endp
  184                        	
  185                        			.endprocgroup	; old_satb_group
  186                        	
  187                        	
  188                        	
  189                        	; ***************************************************************************
  190                        	; ***************************************************************************
  191                        	;
  192                        	; void __fastcall spr_set( unsigned char num<acc> );
  193                        	
  194    00:E7F1  CD CF 26   	_spr_set.1:	cmp	spr_max
  195    00:E7F4  90 03      			bcc	!+
  196    00:E7F6  8D CF 26   			sta	spr_max
  197    00:E7F9  A0 27      	!:		ldy.h	#spr_sat
  198    00:E7FB  0A         			asl	a
  199    00:E7FC  0A         			asl	a
  200    00:E7FD  0A         			asl	a
  201    00:E7FE  90 02      			bcc	!+
  202    00:E800  C8         			iny
  203    00:E801  18         			clc
  204    00:E802  69 FB      	!:		adc.l	#spr_sat
  205    00:E804  85 9C      			sta.l	<spr_ptr
  206    00:E806  90 01      			bcc	!+
  207    00:E808  C8         			iny
  208    00:E809  84 9D      	!:		sty.h	<spr_ptr
  209    00:E80B  60         			rts
  210                        	
  211                        	
  212                        	
  213                        	; ***************************************************************************
  214                        	; ***************************************************************************
  215                        	;
  216                        	; void __fastcall spr_hide( void );
  217                        	
  218    00:E80C  A0 01      	_spr_hide:	ldy	#1
  219    00:E80E  B1 9C      			lda	[spr_ptr], y
  220    00:E810  09 02      			ora	#2
  221    00:E812  91 9C      			sta	[spr_ptr], y
  222    00:E814  60         			rts
  223                        	
  224                        	
  225                        	
  226                        	; ***************************************************************************
  227                        	; ***************************************************************************
  228                        	;
  229                        	; void __fastcall spr_show( void );
  230                        	
  231    00:E815  A0 01      	_spr_show:	ldy	#1
  232    00:E817  B1 9C      			lda	[spr_ptr], y
  233    00:E819  29 01      			and	#1
  234    00:E81B  91 9C      			sta	[spr_ptr], y
  235    00:E81D  60         			rts
  236                        	
  237                        	
  238                        	
  239                        	; ***************************************************************************
  240                        	; ***************************************************************************
  241                        	;
  242                        	; void __fastcall spr_x( unsigned int value<acc> );
  243                        	
  244    00:E81E  02         	_spr_x.1:	sxy
  245    00:E81F  18         			clc
  246    00:E820  69 20      			adc	#32
  247    00:E822  A0 02      			ldy	#2
  248    00:E824  91 9C      			sta	[spr_ptr], y
  249    00:E826  8A         			txa
  250    00:E827  69 00      			adc	#0
  251    00:E829  C8         			iny
  252    00:E82A  91 9C      			sta	[spr_ptr], y
  253    00:E82C  60         			rts
  254                        	
  255                        	
  256                        	
  257                        	; ***************************************************************************
  258                        	; ***************************************************************************
  259                        	;
  260                        	; void __fastcall spr_y( unsigned int value<acc> );
  261                        	
  262    00:E82D  18         	_spr_y.1:	clc
  263    00:E82E  69 40      			adc	#64
  264    00:E830  92 9C      			sta	[spr_ptr]
  265    00:E832  98         			tya
  266    00:E833  69 00      			adc	#0
  267    00:E835  A0 01      			ldy	#1
  268    00:E837  91 9C      			sta	[spr_ptr], y
  269    00:E839  60         			rts
  270                        			
  271                        	
  272                        	
  273                        	; ***************************************************************************
  274                        	; ***************************************************************************
  275                        	;
  276                        	; void __fastcall spr_pattern( unsigned int vaddr<acc> );
  277                        	
  278    00:E83A  84 00      	_spr_pattern.1:	sty	<__temp		;     zp=fedcba98 a=76543210
  279    00:E83C  0A         			asl	a		; c=f zp=edcba987 a=6543210_
  280    00:E83D  26 00      			rol	<__temp
  281    00:E83F  2A         			rol	a		; c=e zp=dcba9876 a=543210_f
  282    00:E840  26 00      			rol	<__temp
  283    00:E842  2A         			rol	a		; c=d zp=cba98765 a=43210_fe
  284    00:E843  26 00      			rol	<__temp
  285    00:E845  2A         			rol	a		; c=4 zp=cba98765 a=3210_fed
  286    00:E846  A0 05      			ldy	#5
  287    00:E848  91 9C      			sta	[spr_ptr], y
  288    00:E84A  A5 00      			lda	<__temp
  289    00:E84C  88         			dey
  290    00:E84D  91 9C      			sta	[spr_ptr], y
  291    00:E84F  60         			rts
  292                        	
  293                        	
  294                        	
  295                        	; ***************************************************************************
  296                        	; ***************************************************************************
  297                        	;
  298                        	; void __fastcall spr_ctrl( unsigned char mask<_al>, unsigned char value<acc> );
  299                        	
  300    00:E850  25 F8      	_spr_ctrl.2:	and	<_al
  301    00:E852  85 00      			sta	<__temp
  302    00:E854  A5 F8      			lda	<_al
  303    00:E856  49 FF      			eor	#$FF
  304    00:E858  A0 07      			ldy	#7
  305    00:E85A  31 9C      			and	[spr_ptr], y
  306    00:E85C  05 00      			ora	<__temp
  307    00:E85E  91 9C      			sta	[spr_ptr], y
  308    00:E860  60         			rts
  309                        	
  310                        	
  311                        	
  312                        	; ***************************************************************************
  313                        	; ***************************************************************************
  314                        	;
  315                        	; void __fastcall spr_pal( unsigned char palette<acc> )
  316                        	
  317    00:E861  29 0F      	_spr_pal.1:	and	#$0F
  318    00:E863  85 00      			sta	<__temp
  319    00:E865  A0 06      			ldy	#6
  320    00:E867  B1 9C      			lda	[spr_ptr], y
  321    00:E869  29 F0      			and	#$F0
  322    00:E86B  05 00      			ora	<__temp
  323    00:E86D  91 9C      			sta	[spr_ptr], y
  324    00:E86F  60         			rts
  325                        	
  326                        	
  327                        	
  328                        	; ***************************************************************************
  329                        	; ***************************************************************************
  330                        	;
  331                        	; void __fastcall spr_pri( unsigned char priority<acc> )
  332                        	
  333    00:E870  C9 01      	_spr_pri.1:	cmp	#1
  334    00:E872  A0 06      			ldy	#6
  335    00:E874  B1 9C      			lda	[spr_ptr], y
  336    00:E876  29 7F      			and	#$7F
  337    00:E878  90 02      			bcc	!+
  338    00:E87A  09 80      			ora	#$80
  339    00:E87C  91 9C      	!:		sta	[spr_ptr], y
  340    00:E87E  60         			rts
  341                        	
  342                        	
  343                        	
  344                        	; ***************************************************************************
  345                        	; ***************************************************************************
  346                        	;
  347                        	; unsigned int __fastcall spr_get_x( void );
  348                        	
  349    00:E87F  38         	_spr_get_x:	sec
  350    00:E880  A0 02      			ldy	#2
  351    00:E882  B1 9C      			lda	[spr_ptr], y
  352    00:E884  E9 20      			sbc	#32
  353    00:E886  AA         			tax
  354    00:E887  C8         			iny
  355    00:E888  B1 9C      			lda	[spr_ptr], y
  356    00:E88A  E9 00      			sbc	#0
  357    00:E88C  A8         			tay
  358    00:E88D  8A         			txa
  359    00:E88E  60         			rts
  360                        	
  361                        	
  362                        	
  363                        	; ***************************************************************************
  364                        	; ***************************************************************************
  365                        	;
  366                        	; unsigned int __fastcall spr_get_y( void );
  367                        	
  368    00:E88F  38         	_spr_get_y:	sec
  369    00:E890  B2 9C      			lda	[spr_ptr]
  370    00:E892  E9 40      			sbc	#64
  371    00:E894  AA         			tax
  372    00:E895  A0 01      			ldy	#1
  373    00:E897  B1 9C      			lda	[spr_ptr], y
  374    00:E899  E9 00      			sbc	#0
  375    00:E89B  A8         			tay
  376    00:E89C  8A         			txa
  377    00:E89D  60         			rts
  378                        	
  379                        	
  380                        	
  381               0001     		.if	SUPPORT_SGX
  382                        	
  383                        	; ***************************************************************************
  384                        	; ***************************************************************************
  385                        	;
  386                        	; void __fastcall sgx_spr_set( unsigned char num<acc> );
  387                        	
  388    00:E89E  CD DF 26   	_sgx_spr_set.1:	cmp	sgx_spr_max
  389    00:E8A1  90 03      			bcc	!+
  390    00:E8A3  8D DF 26   			sta	sgx_spr_max
  391    00:E8A6  A0 29      	!:		ldy.h	#sgx_spr_sat
  392    00:E8A8  0A         			asl	a
  393    00:E8A9  0A         			asl	a
  394    00:E8AA  0A         			asl	a
  395    00:E8AB  90 02      			bcc	!+
  396    00:E8AD  C8         			iny
  397    00:E8AE  18         			clc
  398    00:E8AF  69 FB      	!:		adc.l	#sgx_spr_sat
  399    00:E8B1  85 9E      			sta.l	<sgx_spr_ptr
  400    00:E8B3  90 01      			bcc	!+
  401    00:E8B5  C8         			iny
  402    00:E8B6  84 9F      	!:		sty.h	<sgx_spr_ptr
  403    00:E8B8  60         			rts
  404                        	
  405                        	
  406                        	
  407                        	; ***************************************************************************
  408                        	; ***************************************************************************
  409                        	;
  410                        	; void __fastcall sgx_spr_hide( void );
  411                        	
  412    00:E8B9  A0 01      	_sgx_spr_hide:	ldy	#1
  413    00:E8BB  B1 9E      			lda	[sgx_spr_ptr], y
  414    00:E8BD  09 02      			ora	#2
  415    00:E8BF  91 9E      			sta	[sgx_spr_ptr], y
  416    00:E8C1  60         			rts
  417                        	
  418                        	
  419                        	
  420                        	; ***************************************************************************
  421                        	; ***************************************************************************
  422                        	;
  423                        	; void __fastcall sgx_spr_show( void );
  424                        	
  425    00:E8C2  A0 01      	_sgx_spr_show:	ldy	#1
  426    00:E8C4  B1 9E      			lda	[sgx_spr_ptr], y
  427    00:E8C6  29 01      			and	#1
  428    00:E8C8  91 9E      			sta	[sgx_spr_ptr], y
  429    00:E8CA  60         			rts
  430                        	
  431                        	
  432                        	
  433                        	; ***************************************************************************
  434                        	; ***************************************************************************
  435                        	;
  436                        	; void __fastcall sgx_spr_x( unsigned int value<acc> );
  437                        	
  438    00:E8CB  02         	_sgx_spr_x.1:	sxy
  439    00:E8CC  18         			clc
  440    00:E8CD  69 20      			adc	#32
  441    00:E8CF  A0 02      			ldy	#2
  442    00:E8D1  91 9E      			sta	[sgx_spr_ptr], y
  443    00:E8D3  8A         			txa
  444    00:E8D4  69 00      			adc	#0
  445    00:E8D6  C8         			iny
  446    00:E8D7  91 9E      			sta	[sgx_spr_ptr], y
  447    00:E8D9  60         			rts
  448                        	
  449                        	
  450                        	
  451                        	; ***************************************************************************
  452                        	; ***************************************************************************
  453                        	;
  454                        	; void __fastcall sgx_spr_y( unsigned int value<acc> );
  455                        	
  456    00:E8DA  18         	_sgx_spr_y.1:	clc
  457    00:E8DB  69 40      			adc	#64
  458    00:E8DD  92 9E      			sta	[sgx_spr_ptr]
  459    00:E8DF  98         			tya
  460    00:E8E0  69 00      			adc	#0
  461    00:E8E2  A0 01      			ldy	#1
  462    00:E8E4  91 9E      			sta	[sgx_spr_ptr], y
  463    00:E8E6  60         			rts
  464                        			
  465                        	
  466                        	
  467                        	; ***************************************************************************
  468                        	; ***************************************************************************
  469                        	;
  470                        	; void __fastcall sgx_spr_pattern( unsigned int vaddr<acc> );
  471                        	
  472    00:E8E7             	_sgx_spr_pattern.1:
  473    00:E8E7  84 00      			sty	<__temp		;     zp=fedcba98 a=76543210
  474    00:E8E9  0A         			asl	a		; c=f zp=edcba987 a=6543210_
  475    00:E8EA  26 00      			rol	<__temp
  476    00:E8EC  2A         			rol	a		; c=e zp=dcba9876 a=543210_f
  477    00:E8ED  26 00      			rol	<__temp
  478    00:E8EF  2A         			rol	a		; c=d zp=cba98765 a=43210_fe
  479    00:E8F0  26 00      			rol	<__temp
  480    00:E8F2  2A         			rol	a		; c=4 zp=cba98765 a=3210_fed
  481    00:E8F3  A0 05      			ldy	#5
  482    00:E8F5  91 9E      			sta	[sgx_spr_ptr], y
  483    00:E8F7  A5 00      			lda	<__temp
  484    00:E8F9  88         			dey
  485    00:E8FA  91 9E      			sta	[sgx_spr_ptr], y
  486    00:E8FC  60         			rts
  487                        	
  488                        	
  489                        	
  490                        	; ***************************************************************************
  491                        	; ***************************************************************************
  492                        	;
  493                        	; void __fastcall sgx_spr_ctrl( unsigned char mask<_al>, unsigned char value<acc> );
  494                        	
  495    00:E8FD  25 F8      	_sgx_spr_ctrl.2:and	<_al
  496    00:E8FF  85 00      			sta	<__temp
  497    00:E901  A5 F8      			lda	<_al
  498    00:E903  49 FF      			eor	#$FF
  499    00:E905  A0 07      			ldy	#7
  500    00:E907  31 9E      			and	[sgx_spr_ptr], y
  501    00:E909  05 00      			ora	<__temp
  502    00:E90B  91 9E      			sta	[sgx_spr_ptr], y
  503    00:E90D  60         			rts
  504                        	
  505                        	
  506                        	
  507                        	; ***************************************************************************
  508                        	; ***************************************************************************
  509                        	;
  510                        	; void __fastcall sgx_spr_pal( unsigned char palette<acc> )
  511                        	
  512    00:E90E  29 0F      	_sgx_spr_pal.1:	and	#$0F
  513    00:E910  85 00      			sta	<__temp
  514    00:E912  A0 06      			ldy	#6
  515    00:E914  B1 9E      			lda	[sgx_spr_ptr], y
  516    00:E916  29 F0      			and	#$F0
  517    00:E918  05 00      			ora	<__temp
  518    00:E91A  91 9E      			sta	[sgx_spr_ptr], y
  519    00:E91C  60         			rts
  520                        	
  521                        	
  522                        	
  523                        	; ***************************************************************************
  524                        	; ***************************************************************************
  525                        	;
  526                        	; void __fastcall sgx_spr_pri( unsigned char priority<acc> )
  527                        	
  528    00:E91D  C9 01      	_sgx_spr_pri.1:	cmp	#1
  529    00:E91F  A0 06      			ldy	#6
  530    00:E921  B1 9E      			lda	[sgx_spr_ptr], y
  531    00:E923  29 7F      			and	#$7F
  532    00:E925  90 02      			bcc	!+
  533    00:E927  09 80      			ora	#$80
  534    00:E929  91 9E      	!:		sta	[sgx_spr_ptr], y
  535    00:E92B  60         			rts
  536                        	
  537                        	
  538                        	
  539                        	; ***************************************************************************
  540                        	; ***************************************************************************
  541                        	;
  542                        	; unsigned int __fastcall sgx_spr_get_x( void );
  543                        	
  544    00:E92C  38         	_sgx_spr_get_x:	sec
  545    00:E92D  A0 02      			ldy	#2
  546    00:E92F  B1 9E      			lda	[sgx_spr_ptr], y
  547    00:E931  E9 20      			sbc	#32
  548    00:E933  AA         			tax
  549    00:E934  C8         			iny
  550    00:E935  B1 9E      			lda	[sgx_spr_ptr], y
  551    00:E937  E9 00      			sbc	#0
  552    00:E939  A8         			tay
  553    00:E93A  8A         			txa
  554    00:E93B  60         			rts
  555                        	
  556                        	
  557                        	
  558                        	; ***************************************************************************
  559                        	; ***************************************************************************
  560                        	;
  561                        	; unsigned int __fastcall sgx_spr_get_y( void );
  562                        	
  563    00:E93C  38         	_sgx_spr_get_y:	sec
  564    00:E93D  B2 9E      			lda	[sgx_spr_ptr]
  565    00:E93F  E9 40      			sbc	#64
  566    00:E941  AA         			tax
  567    00:E942  A0 01      			ldy	#1
  568    00:E944  B1 9E      			lda	[sgx_spr_ptr], y
  569    00:E946  E9 00      			sbc	#0
  570    00:E948  A8         			tay
  571    00:E949  8A         			txa
  572    00:E94A  60         			rts
  573                        	
  574                        		.endif	SUPPORT_SGX
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   73                        		.endif
   74                        	
   75               0001     		.ifdef	HUCC_USES_BLKMAP		; Set in hucc_blkmap.h
                             #[3]   "..\..\..\include\hucc\blkmap.asm"
   76                        			include	"blkmap.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; blkmap.asm
    5                        	;
    6                        	; A map system based on 16x16 meta-tiles (aka "blocks", aka CHR/BLK/MAP).
    7                        	;
    8                        	; Copyright John Brandwood 2025.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; The maximum X and Y size for blkmaps is 128 blocks (2048 pixels).
   18                        	;
   19                        	; The maximum total size for a blkmap is 16KBytes, which allows for maps up
   20                        	; to 128x128 blocks (2048x2048 pixels).
   21                        	;
   22                        	; Huge multi-screen blkmaps are also supported (optionally).
   23                        	;
   24                        	; The maximum X and Y for multi-screen maps is 128 screens (32768 pixels).
   25                        	;
   26                        	; The maximum total size for a multi-screen map is 8KBytes, which allows for
   27                        	; a total of 1024 screens.
   28                        	;
   29                        	; ***************************************************************************
   30                        	; ***************************************************************************
   31                        	
   32                        	;
   33                        	; Include dependancies ...
   34                        	;
   35                        	
   36                        			include "common.asm"		; Common helpers.
   37                        			include "vce.asm"		; Useful VCE routines.
   38                        			include "vdc.asm"		; Useful VCE routines.
   39                        	
   40                        	;
   41                        	; Support large blkmaps up to 16KBytes instead of the regular 8KBytes?
   42                        	;
   43                        	; The maximum X and Y size for regular blkmaps is 128 tiles (2048 pixels).
   44                        	;
   45                        	; This allows for individual maps up to 128x128 tiles (2048x2048 pixels) vs
   46                        	; default limit of 128x64 or 64x128.
   47                        	;
   48                        	
   49               0000     		.ifndef	BLKMAP_LARGEMAP
   51                        		.endif
   52                        	
   53                        	;
   54                        	; Support huge multi-screen maps, up to 32768 pixels wide/high?
   55                        	;
   56                        	; These are sectorized maps split into individual BAT-sized "screens", with
   57                        	; a maximum of 1024 screens per map.
   58                        	;
   59                        	; The BAT size that is used when drawing *must* be the same as the BAT size
   60                        	; that was chosen when creating the multi-screen map.
   61                        	;
   62                        	; Each screen can use a unique set of block definitions, or it might choose
   63                        	; to share the same block definitions that are used on another screen.
   64                        	;
   65                        	; Each screen may choose which 8KByte banks of character data to select for
   66                        	; the 4 banks (32KBytes) of VRAM that its block definitions use, with a max
   67                        	; of 16 banks of characters per multi-screen map.
   68                        	;
   69                        	; Loading those character banks dynamically is an exercise for the user!
   70                        	;
   71                        	; Enabling support adds extra library code, and slightly slows down the use
   72                        	; of regular blkmaps.
   73                        	;
   74                        	
   75               0000     		.ifndef	BLKMAP_MULTISCR
   77                        		.endif
   78                        	
   79                        	;
   80                        	; Block definitions can either use character data from VRAM $1000..$7FFF or
   81                        	; they can be limited to use the 32KByte of characters in VRAM $1000..$4FFF
   82                        	; which then frees up 2-bits for flag information for each character in the
   83                        	; block.
   84                        	;
   85                        	; These 2-bits are perfect for using as collision information in game maps,
   86                        	; allowing storage of states like transparent, solid, up-slope, down-slope.
   87                        	;
   88                        	; Typically this flag information is set by the map conversion tools from a
   89                        	; seperate "collision" map layer.
   90                        	;
   91                        	
   92               0000     		.ifndef	BLKDEF_CHR_FLAG
   94                        		.endif
   95                        	
   96                        	;
   97                        	; Block definitions are accessed in MPR2 ($4000..$5FFF), and must not cross
   98                        	; the bank boundary.
   99                        	;
  100                        	; When working this way, 8 pointers in ZP are used to access the individual
  101                        	; bytes in the block definition. This is fine when using a regular map on a
  102                        	; PC Engine, but it is awfully slow when using multi-screen maps or drawing
  103                        	; maps on both VDC chips in a SuperGRAFX because the pointer values must be
  104                        	; constantly changed.
  105                        	;
  106                        	; When using multi-screen maps, or when developing a SuperGRAFX game, or if
  107                        	; developing a CDROM game, then it is usually preferable to store the block
  108                        	; definitions with 2KByte alignment, especially if they are normally stored
  109                        	; compressed and then decompressed into a 2KByte buffer in RAM when needed.
  110                        	;
  111                        	; This option controls whether the definitions are stored 2KByte aligned or
  112                        	; if pointers should be used instead.
  113                        	;
  114                        	
  115               0000     		.ifndef	BLKDEF_POINTERS
  117                        		.endif
  118                        	
  119                        	;
  120                        	; Add a timing bar to the scroll_map() to see how long the drawing takes?
  121                        	;
  122                        	
  123               0000     		.ifndef	BLKMAP_TIMETEST
  125                        		.endif
  126                        	
  127                        	;
  128                        	;
  129                        	;
  130                        	
  131               0000     		.if	BLKDEF_POINTERS
  144                        		.else
  145                        	
  146                        		; If the block definititions are 2KByte aligned.
  147                        	
  148               4000     	BLK_4000_TL_L	=	$4000
  149               4100     	BLK_4000_TR_L	=	$4100
  150               4200     	BLK_4000_BL_L	=	$4200
  151               4300     	BLK_4000_BR_L	=	$4300
  152               4400     	BLK_4000_TL_H	=	$4400
  153               4500     	BLK_4000_TR_H	=	$4500
  154               4600     	BLK_4000_BL_H	=	$4600
  155               4700     	BLK_4000_BR_H	=	$4700
  156                        	
  157               4800     	BLK_4800_TL_L	=	$4800
  158               4900     	BLK_4800_TR_L	=	$4900
  159               4A00     	BLK_4800_BL_L	=	$4A00
  160               4B00     	BLK_4800_BR_L	=	$4B00
  161               4C00     	BLK_4800_TL_H	=	$4C00
  162               4D00     	BLK_4800_TR_H	=	$4D00
  163               4E00     	BLK_4800_BL_H	=	$4E00
  164               4F00     	BLK_4800_BR_H	=	$4F00
  165                        	
  166               5000     	BLK_5000_TL_L	=	$5000
  167               5100     	BLK_5000_TR_L	=	$5100
  168               5200     	BLK_5000_BL_L	=	$5200
  169               5300     	BLK_5000_BR_L	=	$5300
  170               5400     	BLK_5000_TL_H	=	$5400
  171               5500     	BLK_5000_TR_H	=	$5500
  172               5600     	BLK_5000_BL_H	=	$5600
  173               5700     	BLK_5000_BR_H	=	$5700
  174                        	
  175               5800     	BLK_5800_TL_L	=	$5800
  176               5900     	BLK_5800_TR_L	=	$5900
  177               5A00     	BLK_5800_BL_L	=	$5A00
  178               5B00     	BLK_5800_BR_L	=	$5B00
  179               5C00     	BLK_5800_TL_H	=	$5C00
  180               5D00     	BLK_5800_TR_H	=	$5D00
  181               5E00     	BLK_5800_BL_H	=	$5E00
  182               5F00     	BLK_5800_BR_H	=	$5F00
  183                        	
  184                        		.endif
  185                        	
  186               0080     	MAP_UNALIGNED_X	=	$80
  187               0040     	MAP_UNALIGNED_Y	=	$40
  188                        	
  189                        	;
  190                        	;
  191                        	;
  192                        	
  193               2BFB     			.bss
  194                        	
  195                        	; **************
  196                        	; 8-byte (or 2-byte) entry for each SCREEN in the MULTI_MAP.
  197                        	
  198               0000     			.rsset	0
  199               0000     		.if	BLKDEF_POINTERS
  202                        		.else
  203               0000     	SCR_MAP_PAGE	.rs	1	; 256-byte aligned.
  204               0001     	SCR_MAP_BANK	.rs	1
  205               0002     	SCR_BLK_PAGE	.rs	1	; >$4000, >$4800, >$5000, or >$5800.
  206               0003     	SCR_BLK_BANK	.rs	1
  207               0004     	SCR_TBL_PAGE	.rs	1	; 256-byte aligned.
  208               0005     	SCR_TBL_BANK	.rs	1
  209               0006     	SCR_CHR_12	.rs	1	; Which CHR banks are used by the BLK, with
  210               0007     	SCR_CHR_34	.rs	1	; a max of 16 CHR banks per MULTI_MAP.
  211                        		.endif
  212                        	
  213                        			; A simple macro to help build a multi-screen map.
  214                        	
  215               0000     		.ifndef	SCREEN
  224                        		.endif
  225                        	
  226    F8:2BFB             	map_blk_flag:	ds	1	; Returned from _get_map_block().
  227    F8:2BFC             	map_blk_mask:	ds	1	; Returned from _get_map_block().
  228                        	
  229                        	; **************
  230                        	; 16-bytes of VDC blkmap info.
  231                        	;
  232                        	; N.B. MUST be 16-bytes before the SGX versions to use PCE_VDC_OFFSET.
  233                        	
  234    F8:2BFD             	vdc_old_chr_x:	ds	1	; Previous top-left X in CHR (lo-byte only).
  235    F8:2BFE             	vdc_old_chr_y:	ds	1	; Previous top-left Y in CHR (lo-byte only).
  236                        	
  237    F8:2BFF             	vdc_tbl_addr:	ds	2	; 256-byte aligned.
  238    F8:2C01             	vdc_tbl_bank:	ds	1
  239                        	
  240    F8:2C02             	vdc_blk_addr:	ds	2	; 2KBytes of data, 256-byte aligned.
  241    F8:2C04             	vdc_blk_bank:	ds	1
  242                        	
  243    F8:2C05             	vdc_map_addr:	ds	2	; Mapped into MPR3..MPR5, max 16KBytes.
  244    F8:2C07             	vdc_map_bank:	ds	1
  245                        	
  246    F8:2C08             	vdc_scr_addr:	ds	2	; 8KByte maximum size.
  247    F8:2C0A             	vdc_scr_bank:	ds	1
  248    F8:2C0B             	vdc_scr_chr12:	ds	1	; Which CHR banks are used by the BLK, with
  249    F8:2C0C             	vdc_scr_chr34:	ds	1	; a max of 16 banks per multi-screen map.
  250                        	
  251               0001     		.if	SUPPORT_SGX
  252                        	
  253                        	; **************
  254                        	; 16-bytes of SGX blkmap info.
  255                        	;
  256                        	; N.B. MUST be 16-bytes after the VDC versions to use SGX_VDC_OFFSET.
  257                        	
  258    F8:2C0D             	sgx_old_chr_x:	ds	1	; Previous top-left X in CHR (lo-byte only).
  259    F8:2C0E             	sgx_old_chr_y:	ds	1	; Previous top-left Y in CHR (lo-byte only).
  260                        	
  261    F8:2C0F             	sgx_tbl_addr:	ds	2	; 256-byte aligned.
  262    F8:2C11             	sgx_tbl_bank:	ds	1
  263                        	
  264    F8:2C12             	sgx_blk_addr:	ds	2	; 2KBytes of data, 256-byte aligned.
  265    F8:2C14             	sgx_blk_bank:	ds	1
  266                        	
  267    F8:2C15             	sgx_map_addr:	ds	2	; Mapped into MPR3..MPR4, max 8KBytes.
  268    F8:2C17             	sgx_map_bank:	ds	1
  269                        	
  270    F8:2C18             	sgx_scr_addr:	ds	2	; 8KByte maximum size.
  271    F8:2C1A             	sgx_scr_bank:	ds	1
  272    F8:2C1B             	sgx_scr_chr12:	ds	1	; Which CHR banks are used by the BLK, with
  273    F8:2C1C             	sgx_scr_chr34:	ds	1	; a max of 16 banks per multi-screen map.
  274                        	
  275                        		.endif	SUPPORT_SGX
  276                        	
  277               0000     		.if	0
  310                        		.endif	0
  311                        	
  312                        	; **************
  313                        	; Aliases for the asm variable names in HuCC.
  314                        	;
  315                        	
  316               0001     		.ifdef	HUCC
  317                        	
  318    F8:2C1D             	_map_blk_flag	.alias	map_blk_flag
  319    F8:2C1D             	_map_blk_mask	.alias	map_blk_mask
  320                        	
  321    F8:2C1D             	_vdc_map_draw_w	.alias	vdc_map_draw_w
  322    F8:2C1D             	_vdc_map_draw_h	.alias	vdc_map_draw_h
  323    F8:2C1D             	_vdc_map_pxl_x	.alias	vdc_map_pxl_x
  324    F8:2C1D             	_vdc_map_pxl_y	.alias	vdc_map_pxl_y
  325    F8:2C1D             	_vdc_old_chr_x	.alias	vdc_old_chr_x
  326    F8:2C1D             	_vdc_old_chr_y	.alias	vdc_old_chr_y
  327    F8:2C1D             	_vdc_tbl_addr	.alias	vdc_tbl_addr
  328    F8:2C1D             	_vdc_tbl_bank	.alias	vdc_tbl_bank
  329    F8:2C1D             	_vdc_blk_addr	.alias	vdc_blk_addr
  330    F8:2C1D             	_vdc_blk_bank	.alias	vdc_blk_bank
  331    F8:2C1D             	_vdc_map_line_w	.alias	vdc_map_line_w
  332    F8:2C1D             	_vdc_map_scrn_w	.alias	vdc_map_scrn_w
  333    F8:2C1D             	_vdc_map_addr	.alias	vdc_map_addr
  334    F8:2C1D             	_vdc_map_bank	.alias	vdc_map_bank
  335    F8:2C1D             	_vdc_scr_addr	.alias	vdc_scr_addr
  336    F8:2C1D             	_vdc_scr_bank	.alias	vdc_scr_bank
  337    F8:2C1D             	_vdc_scr_chr12	.alias	vdc_scr_chr12
  338    F8:2C1D             	_vdc_scr_chr34	.alias	vdc_scr_chr34
  339                        	
  340               0001     		.if	SUPPORT_SGX
  341    F8:2C1D             	_sgx_map_draw_w	.alias	sgx_map_draw_w
  342    F8:2C1D             	_sgx_map_draw_h	.alias	sgx_map_draw_h
  343    F8:2C1D             	_sgx_map_pxl_x	.alias	sgx_map_pxl_x
  344    F8:2C1D             	_sgx_map_pxl_y	.alias	sgx_map_pxl_y
  345    F8:2C1D             	_sgx_old_chr_x	.alias	sgx_old_chr_x
  346    F8:2C1D             	_sgx_old_chr_y	.alias	sgx_old_chr_y
  347    F8:2C1D             	_sgx_tbl_addr	.alias	sgx_tbl_addr
  348    F8:2C1D             	_sgx_tbl_bank	.alias	sgx_tbl_bank
  349    F8:2C1D             	_sgx_blk_addr	.alias	sgx_blk_addr
  350    F8:2C1D             	_sgx_blk_bank	.alias	sgx_blk_bank
  351    F8:2C1D             	_sgx_map_line_w	.alias	sgx_map_line_w
  352    F8:2C1D             	_sgx_map_scrn_w	.alias	sgx_map_scrn_w
  353    F8:2C1D             	_sgx_map_addr	.alias	sgx_map_addr
  354    F8:2C1D             	_sgx_map_bank	.alias	sgx_map_bank
  355    F8:2C1D             	_sgx_scr_addr	.alias	sgx_scr_addr
  356    F8:2C1D             	_sgx_scr_bank	.alias	sgx_scr_bank
  357    F8:2C1D             	_sgx_scr_chr12	.alias	sgx_scr_chr12
  358    F8:2C1D             	_sgx_scr_chr34	.alias	sgx_scr_chr34
  359                        		.endif	SUPPORT_SGX
  360                        	
  361                        		.endif	HUCC
  362                        	
  363                        	; **************
  364                        	; Temporary variables for drawing, using common zero-page locations.
  365                        	;
  366                        	
  367               20F8     	map_bat_x	=	_al	; Set by draw_map(), scroll_map() if drawing
  368               20F9     	map_bat_y	=	_ah	; aligned, or as parameters to blit_map().
  369                        	
  370               20FA     	map_draw_w	=	_bl	; Set by draw_map(), scroll_map(), but given
  371               20FB     	map_draw_h	=	_bh	; as parameters to blit_map().
  372                        	
  373               20FC     	map_pxl_x	=	_cx	; Set by draw_map(), scroll_map() and also by
  374               20FC     	map_chr_x	=	_cl	; blit__map(), from current vdc_map_pxl_x.
  375               20FD     	map_scrn_x	=	_ch
  376                        	
  377               20FE     	map_pxl_y	=	_dx	; Set by draw_map(), scroll_map() and also by
  378               20FE     	map_chr_y	=	_dl	; blit__map(), from current vdc_map_pxl_y.
  379               20FF     	map_scrn_y	=	_dh
  380                        	
  381               20EE     	map_line	=	_si	; Start of map data line being drawn.
  382                        	
  383               2000     	map_count	=	__temp + 0
  384               2001     	map_drawn	=	__temp + 1
  385                        	
  386               E94B     			.code
  387                        	
  388                        	
  389                        	
  390    1E:C000             	blkmap_group	.procgroup
  391                        	
  392                        	; ***************************************************************************
  393                        	; ***************************************************************************
  394                        	;
  395                        	; _set_blocks - Initialize the block definition pointers.
  396                        	; _sgx_set_blocks - Initialize the block definition pointers.
  397                        	;
  398                        	; void __fastcall set_blocks( unsigned char __far *blk_def<vdc_blk_bank:vdc_blk_addr>, unsigned char __far *flg_def<vdc_tbl_bank:vdc_tbl_addr>, unsigned char number_of_blk<_al> );
  399                        	; void __fastcall sgx_set_blocks( unsigned char __far *blk_def<sgx_blk_bank:sgx_blk_addr>, unsigned char __far *flg_def<sgx_tbl_bank:sgx_tbl_addr>, unsigned char number_of_blk<_al> );
  400                        	;
  401                        	
  402               0001     		.if	SUPPORT_SGX
  403                        	
  404    1E:C000             			.proc	_sgx_set_blocks.3
  405                        	
  406    1E:C000  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  407    1E:C002  F0         			db	$F0			; Turn "clx" into a "beq".
  408                        	
  409    1E:C003             			.ref	_set_blocks.3
  410                        			.endp
  411                        		.endif
  412                        	
  413    1E:C003             			.proc	_set_blocks.3
  414                        	
  415    1E:C003  82         			clx				; Offset to PCE VDC.
  416                        	
  417    1E:C004  BD 00 2C   			lda.h	vdc_tbl_addr, x		; Remap the address to MPR2.
  418    1E:C007  29 1F      			and	#$1F
  419    1E:C009  09 40      			ora	#$40
  420    1E:C00B  9D 00 2C   			sta.h	vdc_tbl_addr, x
  421                        	
  422    1E:C00E  BD 03 2C   			lda.h	vdc_blk_addr, x		; Remap the address to MPR2.
  423    1E:C011  29 1F      			and	#$1F
  424    1E:C013  09 40      			ora	#$40
  425    1E:C015  9D 03 2C   			sta.h	vdc_blk_addr, x
  426                        	
  427               0000     		.if	BLKDEF_POINTERS
  479                        		.endif	BLKDEF_POINTERS
  480                        	
  481                        			leave
         1E:C018  4C EF FF   			jmp	leave_proc
  482                        	
  483                        			.endp
  484                        	
  485                        	
  486                        	
  487                        	; ***************************************************************************
  488                        	; ***************************************************************************
  489                        	;
  490                        	; _draw_map - Draw the entire screen at the current coordinates.
  491                        	; _sgx_draw_map - Draw the entire screen at the current coordinates.
  492                        	;
  493                        	; void __fastcall draw_map( void );
  494                        	; void __fastcall sgx_draw_map( void );
  495                        	;
  496                        	
  497               0001     		.if	SUPPORT_SGX
  498                        	
  499    1E:C01B             	_sgx_draw_map	.proc
  500                        	
  501    1E:C01B  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  502    1E:C01D  F0         			db	$F0			; Turn "clx" into a "beq".
  503                        	
  504    1E:C01E             			.ref	_draw_map
  505                        			.endp
  506                        		.endif
  507                        	
  508    1E:C01E             	_draw_map	.proc
  509                        	
  510    1E:C01E  82         			clx				; Offset to PCE VDC.
  511                        	
  512    1E:C01F  43 04      			tma2				; Preserve MPR2..MPR4.
  513    1E:C021  48         			pha
  514    1E:C022  43 08      			tma3
  515    1E:C024  48         			pha
  516    1E:C025  43 10      			tma4
  517    1E:C027  48         			pha
  518               0000     		.if	BLKMAP_LARGEMAP
  521                        		.endif
  522                        	
  523    1E:C028  20 2A C1   			jsr	map_pxl_2_chr		; Set up the draw coordinates.
  524                        	
  525    1E:C02B  A5 FC      			lda	<map_chr_x		; Reset previous X position.
  526    1E:C02D  9D FD 2B   			sta	vdc_old_chr_x, x
  527                        	
  528    1E:C030  A5 FE      			lda	<map_chr_y		; Reset previous Y position,
  529    1E:C032  1A         			inc	a			; ready to draw multiple rows.
  530    1E:C033  9D FE 2B   			sta	vdc_old_chr_y, x
  531                        	
  532    1E:C036  BD C6 26   			lda	vdc_map_draw_w, x	; Draw the whole screen.
  533    1E:C039  85 FA      			sta	<map_draw_w
  534    1E:C03B  BD C7 26   			lda	vdc_map_draw_h, x
  535    1E:C03E  85 FB      			sta	<map_draw_h
  536                        	
  537    1E:C040  20 80 C3   			jsr	map_scroll_y		; Draw N row of CHR to the BAT.
  538                        	
  539               0000     		.if	BLKMAP_LARGEMAP
  542                        		.endif
  543    1E:C043  68         			pla				; Restore MPR2..MPR4.
  544    1E:C044  53 10      			tam4
  545    1E:C046  68         			pla
  546    1E:C047  53 08      			tam3
  547    1E:C049  68         			pla
  548    1E:C04A  53 04      			tam2
  549                        	
  550                        			leave
         1E:C04C  4C EF FF   			jmp	leave_proc
  551                        	
  552                        			.endp
  553                        	
  554                        	
  555                        	
  556                        	; ***************************************************************************
  557                        	; ***************************************************************************
  558                        	;
  559                        	; _scroll_map - Draw a single row of CHR into the BAT to update the edge.
  560                        	; _sgx_scroll_map - Draw a single row of CHR into the BAT to update the edge.
  561                        	;
  562                        	; void __fastcall scroll_map( void );
  563                        	; void __fastcall sgx_scroll_map( void );
  564                        	;
  565                        	
  566               0001     		.if	SUPPORT_SGX
  567                        	
  568    1E:C04F             	_sgx_scroll_map	.proc
  569                        	
  570    1E:C04F  A2 10      			ldx	#SGX_VDC_OFFSET		; Offset to SGX VDC.
  571    1E:C051  F0         			db	$F0			; Turn "clx" into a "beq".
  572                        	
  573    1E:C052             			.ref	_scroll_map
  574                        			.endp
  575                        		.endif
  576                        	
  577    1E:C052             	_scroll_map	.proc
  578                        	
  579    1E:C052  82         			clx				; Offset to PCE VDC.
  580                        	
  581               0000     		.if	BLKMAP_TIMETEST
  587                        		.endif
  588                        	
  589    1E:C053  43 04      			tma2				; Preserve MPR2..MPR4.
  590    1E:C055  48         			pha
  591    1E:C056  43 08      			tma3
  592    1E:C058  48         			pha
  593    1E:C059  43 10      			tma4
  594    1E:C05B  48         			pha
  595               0000     		.if	BLKMAP_LARGEMAP
  598                        		.endif
  599                        	
  600    1E:C05C  20 2A C1   			jsr	map_pxl_2_chr		; Set up the draw coordinates.
  601                        	
  602               0001     		.if	BLKMAP_MULTISCR
  603    1E:C05F  A5 FD      			lda	<map_scrn_x		; map_scroll_x can change this!
  604    1E:C061  48         			pha
  605                        		.endif
  606                        	
  607    1E:C062  BD C7 26   			lda	vdc_map_draw_h, x	; Draw new LHS or RHS if needed.
  608    1E:C065  85 FB      			sta	<map_draw_h
  609                        	;		lda	#1			; map_scroll_x only ever draws a
  610                        	;		sta	<map_draw_w		; single column.
  611    1E:C067  20 61 C2   			jsr	map_scroll_x
  612                        	
  613    1E:C06A  BD FD 2B   			lda	vdc_old_chr_x, x	; Restore map_chr_x which could
  614    1E:C06D  85 FC      			sta	<map_chr_x		; be changed by map_scroll_x.
  615                        	
  616               0001     		.if	BLKMAP_MULTISCR
  617    1E:C06F  68         			pla				; Restore before map_scroll_y.
  618    1E:C070  85 FD      			sta	<map_scrn_x
  619                        		.endif
  620                        	
  621    1E:C072  BD C6 26   			lda	vdc_map_draw_w, x	; Draw new TOP or BTM if needed.
  622    1E:C075  85 FA      			sta	<map_draw_w
  623    1E:C077  A9 01      			lda	#1
  624    1E:C079  85 FB      			sta	<map_draw_h
  625    1E:C07B  20 80 C3   			jsr	map_scroll_y
  626                        	
  627               0000     		.if	BLKMAP_LARGEMAP
  630                        		.endif
  631    1E:C07E  68         			pla				; Restore MPR2..MPR4.
  632    1E:C07F  53 10      			tam4
  633    1E:C081  68         			pla
  634    1E:C082  53 08      			tam3
  635    1E:C084  68         			pla
  636    1E:C085  53 04      			tam2
  637                        	
  638               0000     		.if	BLKMAP_TIMETEST
  640                        		.endif
  641                        	
  642                        			leave
         1E:C087  4C EF FF   			jmp	leave_proc
  643                        	
  644                        			.endp
  645                        	
  646                        	
  647                        	
  648                        	; ***************************************************************************
  649                        	; ***************************************************************************
  650                        	;
  651                        	; _blit_map - Draw a map rectangle to specific BAT coordinates.
  652                        	; _sgx_blit_map - Draw a map rectangle to specific BAT coordinates.
  653                        	;
  654                        	; void __fastcall blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
  655                        	; void __fastcall sgx_blit_map( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
  656                        	;
  657                        	; Normally you'd just use _draw_map() and _scroll_map(), but for those folks
  658                        	; who really wish to take manual control, you can use this.
  659                        	;
  660                        	
  661               0001     		.if	SUPPORT_SGX
  662                        	
  663                        	_sgx_blit_map	.proc
  669                        			.endp
  670                        		.endif
  671                        	
  672    1E:C08A             	_blit_map	.proc
  673                        	
  674    1E:C08A  82         			clx				; Offset to PCE VDC.
  675                        	
  676    1E:C08B  BD 0A 2C   			lda	vdc_scr_bank, x		; Skip this if a multi-screen
  677    1E:C08E  D0 36      			bne	.exit			; blkmap.
  678                        	
  679    1E:C090  43 04      			tma2				; Preserve MPR2..MPR4.
  680    1E:C092  48         			pha
  681    1E:C093  43 08      			tma3
  682    1E:C095  48         			pha
  683    1E:C096  43 10      			tma4
  684    1E:C098  48         			pha
  685               0000     		.if	BLKMAP_LARGEMAP
  688                        		.endif
  689                        	
  690    1E:C099  BD CE 26   			lda	vdc_map_option, x	; Preserve current map options.
  691    1E:C09C  48         			pha
  692    1E:C09D  09 C0      			ora	#MAP_UNALIGNED_X | MAP_UNALIGNED_Y
  693    1E:C09F  9D CE 26   			sta	vdc_map_option, x
  694                        	
  695    1E:C0A2  20 2A C1   			jsr	map_pxl_2_chr		; Set up the draw coordinates.
  696                        	
  697    1E:C0A5  A5 FA      			lda	<map_draw_w		; Are we drawing just 1 column?
  698    1E:C0A7  C9 01      			cmp	#1
  699    1E:C0A9  F0 1E      			beq	.draw_column
  700                        	
  701                        			; Draw N rows.
  702                        	
  703    1E:C0AB  A5 FC      	.draw_rows:	lda	<map_chr_x		; Reset previous X position.
  704    1E:C0AD  9D FD 2B   			sta	vdc_old_chr_x, x
  705                        	
  706    1E:C0B0  A5 FE      			lda	<map_chr_y		; Reset previous Y position,
  707    1E:C0B2  1A         			inc	a			; ready to draw rows upwards.
  708    1E:C0B3  9D FE 2B   			sta	vdc_old_chr_y, x
  709                        	
  710    1E:C0B6  20 80 C3   			jsr	map_scroll_y		; Draw a row of CHR to the BAT.
  711                        	
  712                        			; Drawing completed.
  713                        	
  714    1E:C0B9  68         	.finished:	pla				; Restore previous map options.
  715    1E:C0BA  9D CE 26   			sta	vdc_map_option, x
  716                        	
  717               0000     		.if	BLKMAP_LARGEMAP
  720                        		.endif
  721    1E:C0BD  68         			pla				; Restore MPR2..MPR4.
  722    1E:C0BE  53 10      			tam4
  723    1E:C0C0  68         			pla
  724    1E:C0C1  53 08      			tam3
  725    1E:C0C3  68         			pla
  726    1E:C0C4  53 04      			tam2
  727                        	
  728                        	.exit:		leave
         1E:C0C6  4C EF FF   			jmp	leave_proc
  729                        	
  730                        			; Draw 1 column.
  731                        	
  732    1E:C0C9  A5 FC      	.draw_column:	lda	<map_chr_x		; Reset previous X position.
  733    1E:C0CB  1A         			inc	a			; ready to draw 1 column.
  734    1E:C0CC  9D FD 2B   			sta	vdc_old_chr_x, x
  735                        	
  736    1E:C0CF  A5 FE      			lda	<map_chr_y		; Reset previous Y position.
  737    1E:C0D1  9D FE 2B   			sta	vdc_old_chr_y, x
  738                        	
  739    1E:C0D4  20 61 C2   			jsr	map_scroll_x		; Draw a single column of CHR.
  740                        	
  741    1E:C0D7  80 E0      			bra	.finished
  742                        	
  743                        			.endp
  744                        	
  745                        	
  746                        	
  747                        	; ***************************************************************************
  748                        	; ***************************************************************************
  749                        	;
  750                        	; _get_map_block - Get the block number used at a map pixel coordinate.
  751                        	; _sgx_get_map_block - Get the block number used at a map pixel coordinate.
  752                        	;
  753                        	; unsigned char __fastcall _get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
  754                        	; unsigned char __fastcall _sgx_get_map_block( unsigned int x<map_pxl_x>, unsigned int y<map_pxl_y> );
  755                        	;
  756                        	
  757               0001     		.if	SUPPORT_SGX
  758                        	
  759                        			.proc	_sgx_get_map_block.2
  765                        			.endp
  766                        		.endif
  767                        	
  768    1E:C0D9             			.proc	_get_map_block.2
  769                        	
  770    1E:C0D9  82         			clx				; Offset to PCE VDC.
  771                        	
  772    1E:C0DA  43 04      			tma2				; Preserve MPR2..MPR4.
  773    1E:C0DC  48         			pha
  774    1E:C0DD  43 08      			tma3
  775    1E:C0DF  48         			pha
  776    1E:C0E0  43 10      			tma4
  777    1E:C0E2  48         			pha
  778               0000     		.if	BLKMAP_LARGEMAP
  781                        		.endif
  782                        	
  783    1E:C0E3  20 3E C1   			jsr	xvt_pxl_2_chr		; Set up the query coordinates.
  784                        	
  785    1E:C0E6  20 6C C1   			jsr	map_chr_2_data		; Page in the map address.
  786                        	
  787    1E:C0E9  B2 EC      			lda	[_bp]			; Read the BLK from the map.
  788    1E:C0EB  A8         			tay
  789                        	
  790    1E:C0EC  A5 FC      			lda	<map_chr_x		; Calc the BLK address offset
  791    1E:C0EE  4A         			lsr	a			; use depending upon even/odd
  792    1E:C0EF  A5 FE      			lda	<map_chr_y		; CHR coordinates (not BAT to
  793    1E:C0F1  29 01      			and	#1			; support unaligned drawing).
  794    1E:C0F3  2A         			rol	a
  795    1E:C0F4  09 04      			ora	#4			; Offset to BLK table top byte.
  796    1E:C0F6  7D 03 2C   			adc.h	vdc_blk_addr, x		; What is the BLK data address?
  797    1E:C0F9  85 ED      			sta.h	<_bp			; $4000, $4800, $5000 or $5800.
  798    1E:C0FB  64 EC      			stz.l	<_bp
  799    1E:C0FD  B1 EC      			lda	[_bp], y		; Read the collision flags from
  800    1E:C0FF  29 0C      			and	#%00001100		; the top byte of the CHR.
  801    1E:C101  4A         			lsr	a
  802    1E:C102  4A         			lsr	a
  803    1E:C103  4A         			lsr	a			; Swizzle the bottom bit to get
  804    1E:C104  90 02      			bcc	!+			; the same bit order as used in
  805    1E:C106  09 02      			ora	#2			; .HALTMAP layer.
  806    1E:C108  8D FB 2B   	!:		sta	map_blk_flag
  807                        	
  808    1E:C10B  BD 01 2C   			lda	vdc_tbl_bank, x		; Is there a table of flags?
  809    1E:C10E  F0 09      			beq	!+
  810    1E:C110  53 08      			tam3
  811                        	;		inc	a
  812                        	;		tam4
  813                        	;		lda.l	vdc_tbl_addr, x
  814                        	;		sta.l	<_bp
  815    1E:C112  BD 00 2C   			lda.h	vdc_tbl_addr, x		; If so, it must be aligned!
  816    1E:C115  85 ED      			sta.h	<_bp
  817    1E:C117  B1 EC      			lda	[_bp], y		; Read the .MASKMAP/.OVERMAP
  818    1E:C119  8D FC 2B   	!:		sta	map_blk_mask		; flag value for this BLK.
  819                        	
  820               0000     		.if	BLKMAP_LARGEMAP
  823                        		.endif
  824    1E:C11C  68         			pla				; Restore MPR2..MPR4.
  825    1E:C11D  53 10      			tam4
  826    1E:C11F  68         			pla
  827    1E:C120  53 08      			tam3
  828    1E:C122  68         			pla
  829    1E:C123  53 04      			tam2
  830                        	
  831    1E:C125  02         			sxy				; Put the BLK number in X.
  832    1E:C126  C2         			cly
  833                        	
  834                        			leave				; All done!
         1E:C127  4C EF FF   			jmp	leave_proc
  835                        	
  836                        			.endp
  837                        	
  838                        	
  839                        	
  840                        	; ***************************************************************************
  841                        	; ***************************************************************************
  842                        	;
  843                        	; map_pxl_2_chr - Convert PXL to CHR, BLK and SCR coordinates.
  844                        	;
  845                        	
  846    1E:C12A  BD CC 26   	map_pxl_2_chr:	lda.l	vdc_map_pxl_y, x	; Get current map Y coordinate.
  847    1E:C12D  85 FE      			sta.l	<map_pxl_y
  848    1E:C12F  BD CD 26   			lda.h	vdc_map_pxl_y, x
  849    1E:C132  85 FF      			sta.h	<map_pxl_y
  850                        	
  851    1E:C134  BD CA 26   			lda.l	vdc_map_pxl_x, x	; Get current map X coordinate.
  852    1E:C137  85 FC      			sta.l	<map_pxl_x
  853    1E:C139  BD CB 26   			lda.h	vdc_map_pxl_x, x
  854    1E:C13C  85 FD      			sta.h	<map_pxl_x
  855                        	
  856    1E:C13E  A5 FD      	xvt_pxl_2_chr:	lda.h	<map_pxl_x		; Xvert map_pxl_x to map_chr_x.
  857               0001     		.if	BLKMAP_MULTISCR
  858    1E:C140  A8         			tay				; Xvert map_pxl_x to map_scrn_x.
  859    1E:C141  3C C1 26   			bit	vdc_bat_width, x
  860    1E:C144  70 03      			bvs	.w64
  861    1E:C146  10 02      			bpl	.w32
  862    1E:C148  4A         	.w128:		lsr	a
  863    1E:C149  4A         	.w64:		lsr	a
  864    1E:C14A  85 FD      	.w32:		sta	<map_scrn_x
  865    1E:C14C  98         			tya
  866                        		.endif
  867    1E:C14D  4A         			lsr	a
  868    1E:C14E  66 FC      			ror.l	<map_pxl_x
  869    1E:C150  4A         			lsr	a
  870    1E:C151  66 FC      			ror.l	<map_pxl_x
  871    1E:C153  4A         			lsr	a
  872    1E:C154  66 FC      			ror.l	<map_pxl_x		; Max map width is 256 CHR.
  873                        	
  874    1E:C156  A5 FF      			lda.h	<map_pxl_y		; Xvert map_pxl_y to map_chr_y.
  875               0001     		.if	BLKMAP_MULTISCR
  876    1E:C158  A8         			tay				; Xvert map_pxl_y to map_scrn_y.
  877    1E:C159  3C C2 26   			bit	vdc_bat_height, x
  878    1E:C15C  50 01      			bvc	.h32
  879    1E:C15E  4A         	.h64:		lsr	a
  880    1E:C15F  85 FF      	.h32:		sta	<map_scrn_y
  881    1E:C161  98         			tya
  882                        		.endif
  883    1E:C162  4A         			lsr	a
  884    1E:C163  66 FE      			ror.l	<map_pxl_y
  885    1E:C165  4A         			lsr	a
  886    1E:C166  66 FE      			ror.l	<map_pxl_y
  887    1E:C168  4A         			lsr	a
  888    1E:C169  66 FE      			ror.l	<map_pxl_y		; Max map width is 256 CHR.
  889                        	
  890    1E:C16B  60         			rts
  891                        	
  892                        	
  893                        	
  894                        	; ***************************************************************************
  895                        	; ***************************************************************************
  896                        	;
  897                        	; map_chr_2_data - Page in the MAP address for the CHR coordinates.
  898                        	;
  899                        	
  900    1E:C16C             	map_chr_2_data:
  901                        	
  902               0001     		.if	BLKMAP_MULTISCR
  903                        	
  904                        			; Initialization for a multi-screen map.
  905                        	
  906    1E:C16C  BD 0A 2C   			lda	vdc_scr_bank, x		; Skip this if regular blkmap.
  907    1E:C16F  F0 3A      			beq	.regular
  908                        	
  909    1E:C171  A5 FC      	.multiscreen:	lda	<map_chr_x		; Compare old_x with cur_x.
  910    1E:C173  3D C3 26   			and	vdc_bat_x_mask, x
  911    1E:C176  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
  912                        	
  913    1E:C178  A5 FE      			lda	<map_chr_y		; Save BAT Y chr coordinate.
  914    1E:C17A  3D C4 26   			and	vdc_bat_y_mask, x
  915    1E:C17D  85 F9      			sta	<map_bat_y
  916    1E:C17F  4A         			lsr	a			; Map BLK Y coordinate.
  917    1E:C180  85 EF      			sta.h	<map_line
  918    1E:C182  62         			cla
  919    1E:C183  3C C1 26   			bit	vdc_bat_width, x
  920    1E:C186  30 08      			bmi	.w128
  921    1E:C188  70 03      			bvs	.w64
  922    1E:C18A  46 EF      	.w32:		lsr.h	<map_line
  923    1E:C18C  6A         			ror	a
  924    1E:C18D  46 EF      	.w64:		lsr.h	<map_line
  925    1E:C18F  6A         			ror	a
  926    1E:C190  46 EF      	.w128:		lsr.h	<map_line
  927    1E:C192  6A         			ror	a
  928    1E:C193  46 EF      			lsr.h	<map_line		; Hi-byte of (BLK Y * width).
  929    1E:C195  6A         			ror	a
  930    1E:C196  85 EE      			sta.l	<map_line		; Lo-byte of (BLK Y * width).
  931                        	
  932    1E:C198  20 EC C1   			jsr	map_set_screen		; Put BLK & MAP in MPR2-MPR5.
  933                        	
  934    1E:C19B  A5 F8      			lda	<map_bat_x		; Calc map data pointer.
  935    1E:C19D  4A         			lsr	a			; Map BLK X coordinate.
  936    1E:C19E  05 EE      			ora.l	<map_line
  937    1E:C1A0  85 EC      			sta.l	<_bp
  938    1E:C1A2  A5 EF      			lda.h	<map_line
  939    1E:C1A4  18         			clc
  940    1E:C1A5  7D 06 2C   			adc.h	vdc_map_addr, x		; N.B. 256-byte aligned!
  941    1E:C1A8  85 ED      			sta.h	<_bp
  942                        	
  943    1E:C1AA  60         			rts
  944                        	
  945                        		.endif	BLKMAP_MULTISCR
  946                        	
  947                        			; Initialization for a regular map.
  948                        	
  949    1E:C1AB  A5 FC      	.regular:	lda	<map_chr_x		; Compare old_x with cur_x.
  950                        	;		bit	vdc_map_option, x	; Set bit7 to disable aligning
  951                        	;		bmi	!+			; BAT X with the map X.
  952    1E:C1AD  3D C3 26   			and	vdc_bat_x_mask, x
  953    1E:C1B0  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
  954                        	
  955    1E:C1B2  A5 FE      	!:		lda	<map_chr_y		; A = map CHR Y coordinate.
  956    1E:C1B4  A8         			tay
  957    1E:C1B5  4A         			lsr	a
  958    1E:C1B6  42         			say				; Y = map BLK Y coordinate.
  959                        	
  960                        	;		bit	vdc_map_option, x	; Set bit6 to disable aligning
  961                        	;		bvs	!+			; BAT Y with the map Y.
  962    1E:C1B7  3D C4 26   			and	vdc_bat_y_mask, x
  963    1E:C1BA  85 F9      			sta	<map_bat_y		; Save BAT Y chr coordinate.
  964                        	
  965               0000     		.if	BLKMAP_LARGEMAP
  970                        		.endif
  971                        	
  972    1E:C1BC  BD C8 26   	!:		lda	vdc_map_line_w, x	; Map width in BLK.
  973               0000     		.if	FAST_MULTIPLY
  986                        		.else
  987    1E:C1BF  84 EF      			sty.h	<map_line		; Takes 144..176 cycles.
  988    1E:C1C1  A0 08      			ldy	#8
  989    1E:C1C3  4A         			lsr	a
  990    1E:C1C4  85 EE      			sta.l	<map_line
  991    1E:C1C6  62         			cla
  992    1E:C1C7  90 03      			bcc	.rotate
  993    1E:C1C9  18         	.add:		clc
  994    1E:C1CA  65 EF      			adc.h	<map_line
  995    1E:C1CC  6A         	.rotate:	ror	a
  996    1E:C1CD  66 EE      			ror.l	<map_line		; Lo-byte of (BLK Y * width).
  997    1E:C1CF  88         			dey
  998    1E:C1D0  B0 F7      			bcs	.add
  999    1E:C1D2  D0 F8      			bne	.rotate
 1000    1E:C1D4  A8         			tay				; Hi-byte of (BLK Y * width).
 1001                        		.endif
 1002                        	
 1003    1E:C1D5  A5 FC      	!:		lda	<map_chr_x		; Map CHR X coordinate.
 1004    1E:C1D7  4A         			lsr	a			; Map BLK X coordinate.
 1005    1E:C1D8  18         			clc
 1006    1E:C1D9  65 EE      			adc.l	<map_line		; Lo-byte of (BLK Y * width).
 1007    1E:C1DB  90 01      			bcc	!+
 1008    1E:C1DD  C8         			iny				; Hi-byte of (BLK Y * width).
 1009                        	
 1010    1E:C1DE  18         	!:		clc				; Calc map data pointer.
 1011    1E:C1DF  7D 05 2C   			adc.l	vdc_map_addr, x
 1012    1E:C1E2  85 EC      			sta.l	<_bp			; Maximum map size is 16KBytes
 1013    1E:C1E4  98         			tya				; so we don't need to consider
 1014    1E:C1E5  7D 06 2C   			adc.h	vdc_map_addr, x		; bank overflow.
 1015    1E:C1E8  85 ED      			sta.h	<_bp
 1016                        	
 1017    1E:C1EA  80 66      			bra	map_set_banks		; Put BLK & MAP in MPR2-MPR5.
 1018                        	
 1019                        	
 1020                        	
 1021               0001     		.if	BLKMAP_MULTISCR
 1022                        	
 1023                        	; ***************************************************************************
 1024                        	; ***************************************************************************
 1025                        	;
 1026                        	; map_set_screen -
 1027                        	;
 1028                        	; Maximum X and Y dimension of 128 screens (32768 pixels).
 1029                        	; Maximum 8KByte total size of screen data (1024 screens).
 1030                        	;
 1031                        	
 1032    1E:C1EC  A4 FF      	map_set_screen:	ldy	<map_scrn_y		; Map SCR Y coordinate.
 1033    1E:C1EE  BD C9 26   			lda	vdc_map_scrn_w, x	; Map width in SCREENS.
 1034                        	
 1035               0000     		.if	FAST_MULTIPLY
 1048                        		.else
 1049    1E:C1F1  84 ED      			sty.h	<_bp			; Takes 144..176 cycles.
 1050    1E:C1F3  A0 08      			ldy	#8
 1051    1E:C1F5  4A         			lsr	a
 1052    1E:C1F6  85 EC      			sta.l	<_bp
 1053    1E:C1F8  62         			cla
 1054    1E:C1F9  90 03      			bcc	.rotate
 1055    1E:C1FB  18         	.add:		clc
 1056    1E:C1FC  65 ED      			adc.h	<_bp
 1057    1E:C1FE  6A         	.rotate:	ror	a
 1058    1E:C1FF  66 EC      			ror.l	<_bp			; Lo-byte of (SCR Y * width).
 1059    1E:C201  88         			dey
 1060    1E:C202  B0 F7      			bcs	.add
 1061    1E:C204  D0 F8      			bne	.rotate
 1062    1E:C206  A8         			tay				; Hi-byte of (SCR Y * width).
 1063                        		.endif
 1064                        	
 1065    1E:C207  A5 FD      			lda	<map_scrn_x		; Map SCR X coordinate.
 1066    1E:C209  18         			clc
 1067    1E:C20A  65 EC      			adc.l	<_bp
 1068    1E:C20C  90 01      			bcc	!+
 1069    1E:C20E  C8         			iny
 1070                        	
 1071    1E:C20F  84 ED      	!:		sty.h	<_bp			; 2 bytes per screen entry, max
 1072    1E:C211  0A         			asl	a			; 8KByte screen table.
 1073    1E:C212  26 ED      			rol.h	<_bp
 1074               0001     		.if	BLKDEF_POINTERS == 0
 1075    1E:C214  0A         			asl	a			; 8 bytes per screen entry when
 1076    1E:C215  26 ED      			rol.h	<_bp			; not using BLK pointers.
 1077    1E:C217  0A         			asl	a
 1078    1E:C218  26 ED      			rol.h	<_bp
 1079                        		.endif
 1080                        	
 1081    1E:C21A  7D 08 2C   			adc.l	vdc_scr_addr, x		; Calc screen data pointer.
 1082    1E:C21D  85 EC      			sta.l	<_bp			; Maximum data size is 8KBytes
 1083    1E:C21F  A5 ED      			lda.h	<_bp			; so we don't need to consider
 1084    1E:C221  7D 09 2C   			adc.h	vdc_scr_addr, x		; bank overflow.
 1085    1E:C224  85 ED      			sta.h	<_bp
 1086                        	
 1087    1E:C226  BD 0A 2C   			lda	vdc_scr_bank, x		; Map the SCR data in MPR3..MPR4.
 1088    1E:C229  53 08      			tam3
 1089    1E:C22B  1A         			inc	a
 1090    1E:C22C  53 10      			tam4
 1091                        	
 1092    1E:C22E  C2         			cly
 1093    1E:C22F  B1 EC      			lda	[_bp], y		; Get SCR_MAP_PAGE.
 1094    1E:C231  9D 06 2C   			sta.h	vdc_map_addr, x
 1095    1E:C234  C8         			iny
 1096    1E:C235  B1 EC      			lda	[_bp], y		; Get SCR_MAP_BANK.
 1097    1E:C237  9D 07 2C   			sta	vdc_map_bank, x
 1098                        	
 1099               0001     		.if	BLKDEF_POINTERS == 0
 1100    1E:C23A  C8         			iny
 1101    1E:C23B  B1 EC      			lda	[_bp], y		; Get SCR_BLK_PAGE.
 1102    1E:C23D  9D 03 2C   			sta.h	vdc_blk_addr, x
 1103    1E:C240  C8         			iny
 1104    1E:C241  B1 EC      			lda	[_bp], y		; Get SCR_BLK_BANK.
 1105    1E:C243  9D 04 2C   			sta	vdc_blk_bank, x
 1106    1E:C246  C8         			iny
 1107    1E:C247  B1 EC      			lda	[_bp], y		; Get SCR_TBL_PAGE.
 1108    1E:C249  9D 00 2C   			sta.h	vdc_tbl_addr, x
 1109    1E:C24C  C8         			iny
 1110    1E:C24D  B1 EC      			lda	[_bp], y		; Get SCR_TBL_BANK.
 1111    1E:C24F  9D 01 2C   			sta	vdc_tbl_bank, x
 1112               0000     		.if	0				; These are not currently used.
 1119                        		.endif
 1120                        		.endif
 1121                        	
 1122                        	;		lda	vdc_bat_width, x	; Set up the map width.
 1123                        	;		lsr	a			; This should have been set
 1124                        	;		sta	vdc_map_line_w, x	; with the multi-screen map.
 1125                        	
 1126                        	;		jmp	map_set_banks		; Put BLK & MAP in MPR2-MPR5.
 1127                        	
 1128                        			; Fall through to map_set_banks.
 1129                        	
 1130                        		.endif	BLKMAP_MULTISCR
 1131                        	
 1132                        	
 1133                        	
 1134                        	; ***************************************************************************
 1135                        	; ***************************************************************************
 1136                        	;
 1137                        	; map_set_banks - Put BLK & MAP in MPR2-MPR5.
 1138                        	;
 1139                        	
 1140    1E:C252  BD 04 2C   	map_set_banks:	lda	vdc_blk_bank, x		; Put the BLK into MPR2.
 1141    1E:C255  53 04      			tam2
 1142                        	
 1143    1E:C257  BD 07 2C   			lda	vdc_map_bank, x		; Put the MAP into MPR3-MPR5.
 1144    1E:C25A  53 08      			tam3
 1145    1E:C25C  1A         			inc	a
 1146    1E:C25D  53 10      			tam4
 1147               0000     		.if	BLKMAP_LARGEMAP
 1156                        		.endif
 1157                        	
 1158    1E:C25F  60         	!:		rts
 1159                        	
 1160                        	
 1161                        	
 1162                        	; ***************************************************************************
 1163                        	; ***************************************************************************
 1164                        	;
 1165                        	; map_scroll_x - Update the BAT when X coordinate changes.
 1166                        	;
 1167                        	; N.B. This will alter map_chr_x and map_scrn_x if moved in +ve direction!
 1168                        	;
 1169                        	; N.B. This only ever draws a single column!
 1170                        	;
 1171                        	
 1172    1E:C260  60         	!no_change:	rts
 1173                        	
 1174    1E:C261             	map_scroll_x:
 1175                        	
 1176               0001     		.if	BLKMAP_MULTISCR
 1177                        	
 1178                        			; Initialization for a multi-screen map.
 1179                        	
 1180    1E:C261  BD 0A 2C   			lda	vdc_scr_bank, x		; Skip this if regular blkmap.
 1181    1E:C264  F0 56      			beq	.regular
 1182                        	
 1183    1E:C266  A5 FC      	.multiscreen:	lda	<map_chr_x		; Compare old_x with cur_x.
 1184    1E:C268  DD FD 2B   			cmp	vdc_old_chr_x, x
 1185               0001     		.if	BLKMAP_TIMETEST == 0
 1186    1E:C26B  F0 F3      			beq	!no_change-		; Do nothing if no change.
 1187                        		.endif
 1188    1E:C26D  9D FD 2B   			sta	vdc_old_chr_x, x
 1189    1E:C270  30 11      			bmi	!+			; Test the sign of the change.
 1190                        	
 1191    1E:C272  18         			clc				; Draw RHS if chr_x >= old_x.
 1192    1E:C273  3D C3 26   			and	vdc_bat_x_mask, x
 1193    1E:C276  7D C6 26   			adc	vdc_map_draw_w, x	; Usually (SCR_WIDTH / 8) + 1.
 1194    1E:C279  3A         			dec	a
 1195    1E:C27A  85 FC      			sta	<map_chr_x		; Update CHR X chr coordinate.
 1196    1E:C27C  3C C1 26   			bit	vdc_bat_width, x
 1197    1E:C27F  F0 02      			beq	!+
 1198    1E:C281  E6 FD      			inc	<map_scrn_x		; Wrapped to the next screen.
 1199                        	
 1200    1E:C283  3D C3 26   	!:		and	vdc_bat_x_mask, x
 1201    1E:C286  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
 1202                        	
 1203    1E:C288  A5 FE      			lda	<map_chr_y		; Save BAT Y chr coordinate.
 1204    1E:C28A  3D C4 26   			and	vdc_bat_y_mask, x
 1205    1E:C28D  85 F9      			sta	<map_bat_y
 1206    1E:C28F  4A         			lsr	a			; Map BLK Y coordinate.
 1207    1E:C290  85 EF      			sta.h	<map_line
 1208    1E:C292  62         			cla
 1209    1E:C293  3C C1 26   			bit	vdc_bat_width, x
 1210    1E:C296  30 08      			bmi	.w128
 1211    1E:C298  70 03      			bvs	.w64
 1212    1E:C29A  46 EF      	.w32:		lsr.h	<map_line
 1213    1E:C29C  6A         			ror	a
 1214    1E:C29D  46 EF      	.w64:		lsr.h	<map_line
 1215    1E:C29F  6A         			ror	a
 1216    1E:C2A0  46 EF      	.w128:		lsr.h	<map_line
 1217    1E:C2A2  6A         			ror	a
 1218    1E:C2A3  46 EF      			lsr.h	<map_line		; Hi-byte of (BLK Y * width).
 1219    1E:C2A5  6A         			ror	a
 1220    1E:C2A6  85 EE      			sta.l	<map_line		; Lo-byte of (BLK Y * width).
 1221                        	
 1222    1E:C2A8  20 EC C1   			jsr	map_set_screen		; Put BLK & MAP in MPR2-MPR5.
 1223                        	
 1224    1E:C2AB  A5 F8      			lda	<map_bat_x		; Calc map data pointer.
 1225    1E:C2AD  4A         			lsr	a			; Map BLK X coordinate.
 1226    1E:C2AE  05 EE      			ora.l	<map_line
 1227    1E:C2B0  85 EC      			sta.l	<_bp
 1228    1E:C2B2  A5 EF      			lda.h	<map_line
 1229    1E:C2B4  18         			clc
 1230    1E:C2B5  7D 06 2C   			adc.h	vdc_map_addr, x		; N.B. 256-byte aligned!
 1231    1E:C2B8  85 ED      			sta.h	<_bp
 1232                        	
 1233    1E:C2BA  80 5D      			bra	.draw_col		; Now draw it.
 1234                        	
 1235                        		.endif	BLKMAP_MULTISCR
 1236                        	
 1237                        			; Initialization for a regular map.
 1238                        	
 1239    1E:C2BC  A5 FC      	.regular:	lda	<map_chr_x		; Compare old_x with cur_x.
 1240    1E:C2BE  DD FD 2B   			cmp	vdc_old_chr_x, x
 1241               0001     		.if	BLKMAP_TIMETEST == 0
 1242    1E:C2C1  F0 9D      			beq	!no_change-		; Do nothing if no change.
 1243                        		.endif
 1244    1E:C2C3  9D FD 2B   			sta	vdc_old_chr_x, x
 1245    1E:C2C6  30 07      			bmi	!+			; Test the sign of the change.
 1246                        	
 1247    1E:C2C8  18         			clc				; Draw RHS if chr_x >= old_x.
 1248    1E:C2C9  7D C6 26   			adc	vdc_map_draw_w, x	; Usually (SCR_WIDTH / 8) + 1.
 1249    1E:C2CC  3A         			dec	a
 1250    1E:C2CD  85 FC      			sta	<map_chr_x		; Update CHR X chr coordinate.
 1251                        	
 1252    1E:C2CF  3C CE 26   	!:		bit	vdc_map_option, x	; Set bit7 to disable aligning
 1253    1E:C2D2  30 05      			bmi	!+			; BAT X with the map X.
 1254    1E:C2D4  3D C3 26   			and	vdc_bat_x_mask, x
 1255    1E:C2D7  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
 1256                        	
 1257    1E:C2D9  A5 FE      	!:		lda	<map_chr_y		; A = map CHR Y coordinate.
 1258    1E:C2DB  A8         			tay
 1259    1E:C2DC  4A         			lsr	a
 1260    1E:C2DD  42         			say				; Y = map BLK Y coordinate.
 1261                        	
 1262    1E:C2DE  3C CE 26   			bit	vdc_map_option, x	; Set bit6 to disable aligning
 1263    1E:C2E1  70 05      			bvs	!+			; BAT Y with the map Y.
 1264    1E:C2E3  3D C4 26   			and	vdc_bat_y_mask, x
 1265    1E:C2E6  85 F9      			sta	<map_bat_y		; Save BAT Y chr coordinate.
 1266                        	
 1267               0000     		.if	BLKMAP_LARGEMAP
 1272                        		.endif
 1273                        	
 1274    1E:C2E8  BD C8 26   	!:		lda	vdc_map_line_w, x	; Map width in BLK.
 1275               0000     		.if	FAST_MULTIPLY
 1288                        		.else
 1289    1E:C2EB  84 EF      			sty.h	<map_line		; Takes 144..176 cycles.
 1290    1E:C2ED  A0 08      			ldy	#8
 1291    1E:C2EF  4A         			lsr	a
 1292    1E:C2F0  85 EE      			sta.l	<map_line
 1293    1E:C2F2  62         			cla
 1294    1E:C2F3  90 03      			bcc	.rotate
 1295    1E:C2F5  18         	.add:		clc
 1296    1E:C2F6  65 EF      			adc.h	<map_line
 1297    1E:C2F8  6A         	.rotate:	ror	a
 1298    1E:C2F9  66 EE      			ror.l	<map_line		; Lo-byte of (BLK Y * width).
 1299    1E:C2FB  88         			dey
 1300    1E:C2FC  B0 F7      			bcs	.add
 1301    1E:C2FE  D0 F8      			bne	.rotate
 1302    1E:C300  A8         			tay				; Hi-byte of (BLK Y * width).
 1303                        		.endif
 1304                        	
 1305    1E:C301  A5 FC      	!:		lda	<map_chr_x		; Map CHR X coordinate.
 1306    1E:C303  4A         			lsr	a			; Map BLK X coordinate.
 1307    1E:C304  18         			clc
 1308    1E:C305  65 EE      			adc.l	<map_line		; Lo-byte of (BLK Y * width).
 1309    1E:C307  90 01      			bcc	!+
 1310    1E:C309  C8         			iny				; Hi-byte of (BLK Y * width).
 1311                        	
 1312    1E:C30A  18         	!:		clc				; Calc map data pointer.
 1313    1E:C30B  7D 05 2C   			adc.l	vdc_map_addr, x
 1314    1E:C30E  85 EC      			sta.l	<_bp			; Maximum map size is 16KBytes
 1315    1E:C310  98         			tya				; so we don't need to consider
 1316    1E:C311  7D 06 2C   			adc.h	vdc_map_addr, x		; bank overflow.
 1317    1E:C314  85 ED      			sta.h	<_bp
 1318                        	
 1319    1E:C316  20 52 C2   			jsr	map_set_banks		; Put BLK & MAP in MPR2-MPR5.
 1320                        	
 1321                        			; Draw the first part of the column.
 1322                        	
 1323    1E:C319  A5 F8      	.draw_col:	lda	<map_bat_x		; Set the BAT VRAM destination
 1324    1E:C31B  85 F0      			sta.l	<_di			; coordinates.
 1325    1E:C31D  A5 F9      			lda	<map_bat_y
 1326    1E:C31F  85 F1      			sta.h	<_di
 1327                        	
 1328    1E:C321  5D C4 26   			eor	vdc_bat_y_mask, x	; Calc CHR before wrap.
 1329    1E:C324  1A         			inc	a
 1330    1E:C325  DD C7 26   			cmp	vdc_map_draw_h, x	; Usually (SCR_HEIGHT / 8) + 1.
 1331    1E:C328  90 03      			bcc	!+
 1332    1E:C32A  BD C7 26   			lda	vdc_map_draw_h, x	; Maximum CHR to draw.
 1333    1E:C32D  85 00      	!:		sta	<map_count		; Set number of CHR to draw.
 1334    1E:C32F  85 01      			sta	<map_drawn		; Preserve number of CHR drawn.
 1335                        	
 1336    1E:C331  A9 05      			lda	#VDC_CR			; Set VDC auto-increment from
 1337    1E:C333  95 F7      			sta	<vdc_reg, x		; the BAT width, which is set
 1338    1E:C335  9D 00 02   			sta	VDC_AR, x		; up by set_screen_size().
 1339    1E:C338  B5 F4      			lda	<vdc_crh, x
 1340    1E:C33A  9D 03 02   			sta	VDC_DH, x
 1341                        	
 1342    1E:C33D  20 7F C6   			jsr	blk_col_strip		; Draw top of vertical strip.
 1343                        	
 1344                        			; Wrap around and draw the rest of the column (if needed).
 1345                        	
 1346    1E:C340  38         			sec				; Are there any more CHR that
 1347    1E:C341  BD C7 26   			lda	vdc_map_draw_h, x	; need to be drawn?
 1348    1E:C344  E5 01      			sbc	<map_drawn
 1349    1E:C346  F0 2C      			beq	.done
 1350                        	
 1351    1E:C348  85 00      			sta	<map_count		; Set number of CHR to draw.
 1352                        	
 1353    1E:C34A  A5 FE      			lda	<map_chr_y		; Update CHR Y coordinate for
 1354    1E:C34C  48         			pha				; drawing unaligned tiles.
 1355    1E:C34D  18         			clc
 1356    1E:C34E  65 01      			adc	<map_drawn
 1357    1E:C350  85 FE      			sta	<map_chr_y
 1358                        	
 1359               0001     		.if	BLKMAP_MULTISCR
 1360    1E:C352  BD 0A 2C   			lda	vdc_scr_bank, x		; Skip this if regular blkmap.
 1361    1E:C355  F0 0F      			beq	!+
 1362                        	
 1363    1E:C357  E6 FF      			inc	<map_scrn_y		; Wrapped to the next screen.
 1364                        	
 1365    1E:C359  20 EC C1   			jsr	map_set_screen		; Put BLK & MAP in MPR2-MPR5.
 1366                        	
 1367    1E:C35C  A5 F8      			lda	<map_bat_x		; Calc map data pointer.
 1368    1E:C35E  4A         			lsr	a			; Map BLK X coordinate.
 1369    1E:C35F  85 EC      			sta.l	<_bp
 1370    1E:C361  BD 06 2C   			lda.h	vdc_map_addr, x		; N.B. 256-byte aligned!
 1371    1E:C364  85 ED      			sta.h	<_bp
 1372                        		.endif
 1373                        	
 1374    1E:C366  A5 F8      	!:		lda	<map_bat_x		; Set the BAT VRAM destination
 1375    1E:C368  85 F0      			sta.l	<_di			; coordinates.
 1376    1E:C36A  64 F1      			stz.h	<_di			; Reset 1st row to draw.
 1377                        	
 1378    1E:C36C  20 7F C6   			jsr	blk_col_strip		; Draw btm of vertical strip.
 1379                        	
 1380               0001     		.if	BLKMAP_MULTISCR
 1381    1E:C36F  C6 FF      			dec	<map_scrn_y		; Restore, no check if should.
 1382                        		.endif
 1383                        	
 1384    1E:C371  68         			pla				; Restore CHR Y coordinate, we
 1385    1E:C372  85 FE      			sta	<map_chr_y		; might draw another column!
 1386                        	
 1387    1E:C374  A9 05      	.done:		lda	#VDC_CR			; Set VDC auto-increment to 1.
 1388    1E:C376  95 F7      			sta	<vdc_reg, x
 1389    1E:C378  9D 00 02   			sta	VDC_AR, x
 1390    1E:C37B  9E 03 02   			stz	VDC_DH, x
 1391                        	
 1392    1E:C37E  60         			rts
 1393                        	
 1394                        	
 1395                        	
 1396                        	; ***************************************************************************
 1397                        	; ***************************************************************************
 1398                        	;
 1399                        	; map_scroll_y - Update the BAT when Y coordinate changes.
 1400                        	;
 1401                        	; N.B. This will alter map_chr_y and map_scrn_y if moved in +ve direction!
 1402                        	;
 1403                        	; N.B. This draws multiple rows when called from _draw_map or _blit_map.
 1404                        	;
 1405                        	
 1406    1E:C37F  60         	!no_change:	rts
 1407                        	
 1408    1E:C380             	map_scroll_y:
 1409                        	
 1410               0001     		.if	BLKMAP_MULTISCR
 1411                        	
 1412                        			; Initialization for a multi-screen map.
 1413                        	
 1414    1E:C380  BD 0A 2C   			lda	vdc_scr_bank, x		; Skip this if regular blkmap.
 1415    1E:C383  F0 56      			beq	.regular
 1416                        	
 1417    1E:C385  A5 FE      	.multiscr:	lda	<map_chr_y		; Compare old_y with cur_y.
 1418    1E:C387  DD FE 2B   			cmp	vdc_old_chr_y, x
 1419               0001     		.if	BLKMAP_TIMETEST == 0
 1420    1E:C38A  F0 F3      			beq	!no_change-		; Do nothing if no change.
 1421                        		.endif
 1422    1E:C38C  9D FE 2B   			sta	vdc_old_chr_y, x
 1423    1E:C38F  30 11      			bmi	!+			; Test the sign of the change.
 1424                        	
 1425    1E:C391  18         			clc				; Draw bottom if chr_y >= old_y.
 1426    1E:C392  3D C4 26   			and	vdc_bat_y_mask, x
 1427    1E:C395  7D C7 26   			adc	vdc_map_draw_h, x	; Usually (SCR_HEIGHT / 8) + 1.
 1428    1E:C398  3A         			dec	a
 1429    1E:C399  85 FE      			sta	<map_chr_y		; Update CHR Y chr coordinate.
 1430    1E:C39B  3C C2 26   			bit	vdc_bat_height, x
 1431    1E:C39E  F0 02      			beq	!+
 1432    1E:C3A0  E6 FF      			inc	<map_scrn_y		; Wrapped to the next screen.
 1433                        	
 1434    1E:C3A2  3D C4 26   	!:		and	vdc_bat_y_mask, x
 1435    1E:C3A5  85 F9      			sta	<map_bat_y		; Save BAT Y chr coordinate.
 1436                        	
 1437    1E:C3A7  4A         			lsr	a			; Map BLK Y coordinate.
 1438    1E:C3A8  85 EF      			sta.h	<map_line
 1439    1E:C3AA  62         			cla
 1440    1E:C3AB  3C C1 26   			bit	vdc_bat_width, x
 1441    1E:C3AE  30 08      			bmi	.w128
 1442    1E:C3B0  70 03      			bvs	.w64
 1443    1E:C3B2  46 EF      	.w32:		lsr.h	<map_line
 1444    1E:C3B4  6A         			ror	a
 1445    1E:C3B5  46 EF      	.w64:		lsr.h	<map_line
 1446    1E:C3B7  6A         			ror	a
 1447    1E:C3B8  46 EF      	.w128:		lsr.h	<map_line
 1448    1E:C3BA  6A         			ror	a
 1449    1E:C3BB  46 EF      			lsr.h	<map_line		; Hi-byte of (BLK Y * width).
 1450    1E:C3BD  6A         			ror	a
 1451    1E:C3BE  85 EE      			sta.l	<map_line		; Lo-byte of (BLK Y * width).
 1452                        	
 1453    1E:C3C0  A5 FC      			lda	<map_chr_x
 1454    1E:C3C2  3D C3 26   			and	vdc_bat_x_mask, x
 1455    1E:C3C5  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
 1456                        	
 1457                        			; Loop to here if drawing multiple multi-screen rows.
 1458                        	
 1459    1E:C3C7  20 EC C1   	.multiscr_row:	jsr	map_set_screen		; Put BLK & MAP in MPR2-MPR5.
 1460                        	
 1461    1E:C3CA  A5 F8      			lda	<map_bat_x		; Calc map data pointer.
 1462    1E:C3CC  4A         			lsr	a			; Map BLK X coordinate.
 1463    1E:C3CD  05 EE      			ora.l	<map_line
 1464    1E:C3CF  85 EC      			sta.l	<_bp
 1465    1E:C3D1  A5 EF      			lda.h	<map_line
 1466    1E:C3D3  18         			clc
 1467    1E:C3D4  7D 06 2C   			adc.h	vdc_map_addr, x		; N.B. 256-byte aligned!
 1468    1E:C3D7  85 ED      			sta.h	<_bp
 1469                        	
 1470    1E:C3D9  80 60      			bra	.draw_row		; Now draw it.
 1471                        	
 1472                        		.endif	BLKMAP_MULTISCR
 1473                        	
 1474                        			; Initialization for a regular blkmap.
 1475                        	
 1476    1E:C3DB  A5 FE      	.regular:	lda	<map_chr_y		; Compare old_y with cur_y.
 1477    1E:C3DD  DD FE 2B   			cmp	vdc_old_chr_y, x
 1478               0001     		.if	BLKMAP_TIMETEST == 0
 1479    1E:C3E0  F0 9D      			beq	!no_change-		; Do nothing if no change.
 1480                        		.endif
 1481    1E:C3E2  9D FE 2B   			sta	vdc_old_chr_y, x
 1482    1E:C3E5  30 07      			bmi	!+			; Test the sign of the change.
 1483                        	
 1484    1E:C3E7  18         			clc				; Draw bottom if chr_y >= old_y.
 1485    1E:C3E8  7D C7 26   			adc	vdc_map_draw_h, x	; Usually (SCR_HEIGHT / 8) + 1.
 1486    1E:C3EB  3A         			dec	a
 1487    1E:C3EC  85 FE      			sta	<map_chr_y		; Update CHR Y chr coordinate.
 1488                        	
 1489    1E:C3EE  A8         	!:		tay				; A = map CHR Y coordinate.
 1490    1E:C3EF  4A         			lsr	a
 1491    1E:C3F0  42         			say				; Y = map BLK Y coordinate.
 1492                        	
 1493    1E:C3F1  3C CE 26   			bit	vdc_map_option, x	; Set bit6 to disable aligning
 1494    1E:C3F4  70 05      			bvs	!+			; BAT Y with the map Y.
 1495    1E:C3F6  3D C4 26   			and	vdc_bat_y_mask, x
 1496    1E:C3F9  85 F9      			sta	<map_bat_y		; Save BAT Y chr coordinate.
 1497                        	
 1498    1E:C3FB  3C CE 26   	!:		bit	vdc_map_option, x	; Set bit7 to disable aligning
 1499    1E:C3FE  30 07      			bmi	!+			; BAT X with the map X.
 1500    1E:C400  A5 FC      			lda	<map_chr_x
 1501    1E:C402  3D C3 26   			and	vdc_bat_x_mask, x
 1502    1E:C405  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
 1503    1E:C407             	!:
 1504                        	
 1505               0000     		.if	BLKMAP_LARGEMAP
 1510                        		.endif
 1511                        	
 1512    1E:C407  BD C8 26   			lda	vdc_map_line_w, x	; Map width in BLK.
 1513               0000     		.if	FAST_MULTIPLY
 1526                        		.else
 1527    1E:C40A  84 EF      			sty.h	<map_line		; Takes 144..176 cycles.
 1528    1E:C40C  A0 08      			ldy	#8
 1529    1E:C40E  4A         			lsr	a
 1530    1E:C40F  85 EE      			sta.l	<map_line
 1531    1E:C411  62         			cla
 1532    1E:C412  90 03      			bcc	.rotate
 1533    1E:C414  18         	.add:		clc
 1534    1E:C415  65 EF      			adc.h	<map_line
 1535    1E:C417  6A         	.rotate:	ror	a
 1536    1E:C418  66 EE      			ror.l	<map_line		; Lo-byte of (BLK Y * width).
 1537    1E:C41A  88         			dey
 1538    1E:C41B  B0 F7      			bcs	.add
 1539    1E:C41D  D0 F8      			bne	.rotate
 1540    1E:C41F  85 EF      			sta.h	<map_line		; Hi-byte of (BLK Y * width).
 1541                        		.endif
 1542                        	
 1543    1E:C421  20 52 C2   			jsr	map_set_banks		; Put BLK & MAP in MPR2-MPR5.
 1544                        	
 1545                        			; Loop to here if drawing multiple regular blkmap rows.
 1546                        	
 1547    1E:C424  A4 EF      	.regular_row:	ldy.h	<map_line		; Hi-byte of (BLK Y * width).
 1548    1E:C426  A5 FC      			lda	<map_chr_x		; Map CHR X coordinate.
 1549    1E:C428  4A         			lsr	a			; Map BLK X coordinate.
 1550    1E:C429  18         			clc
 1551    1E:C42A  65 EE      			adc.l	<map_line		; Lo-byte of (BLK Y * width).
 1552    1E:C42C  90 01      			bcc	!+
 1553    1E:C42E  C8         			iny
 1554    1E:C42F  18         	!:		clc				; Calc map data pointer.
 1555    1E:C430  7D 05 2C   			adc.l	vdc_map_addr, x
 1556    1E:C433  85 EC      			sta.l	<_bp			; Maximum map size is 16KBytes
 1557    1E:C435  98         			tya				; so we don't need to consider
 1558    1E:C436  7D 06 2C   			adc.h	vdc_map_addr, x		; bank overflow.
 1559    1E:C439  85 ED      			sta.h	<_bp
 1560                        	
 1561                        			; Draw the first part of the row.
 1562                        	
 1563    1E:C43B  A5 F9      	.draw_row:	lda	<map_bat_y		; Set the BAT VRAM destination
 1564    1E:C43D  85 F1      			sta.h	<_di			; coordinates.
 1565    1E:C43F  A5 F8      			lda	<map_bat_x
 1566    1E:C441  85 F0      			sta.l	<_di
 1567                        	
 1568    1E:C443  5D C3 26   			eor	vdc_bat_x_mask, x	; Calc CHR before wrap.
 1569    1E:C446  1A         			inc	a
 1570    1E:C447  C5 FA      			cmp	<map_draw_w		; Usually (SCR_WIDTH / 8) + 1.
 1571    1E:C449  90 02      			bcc	!+
 1572    1E:C44B  A5 FA      			lda	<map_draw_w		; Maximum CHR to draw.
 1573    1E:C44D  85 00      	!:		sta	<map_count		; Set number of CHR to draw.
 1574    1E:C44F  85 01      			sta	<map_drawn		; Preserve number of CHR drawn.
 1575                        	
 1576    1E:C451  20 C1 C4   			jsr	blk_row_strip		; Draw lhs of horizontal strip.
 1577                        	
 1578                        			; Wrap around and draw the rest of the row (if needed).
 1579                        	
 1580    1E:C454  38         			sec				; Are there any more CHR that
 1581    1E:C455  A5 FA      			lda	<map_draw_w		; need to be drawn?
 1582    1E:C457  E5 01      			sbc	<map_drawn
 1583    1E:C459  F0 2E      			beq	.done_row
 1584                        	
 1585    1E:C45B  85 00      			sta	<map_count		; Set number of CHR to draw.
 1586                        	
 1587    1E:C45D  A5 FC      			lda	<map_chr_x		; Update CHR X coordinate for
 1588    1E:C45F  48         			pha				; drawing unaligned tiles.
 1589    1E:C460  18         			clc
 1590    1E:C461  65 01      			adc	<map_drawn
 1591    1E:C463  85 FC      			sta	<map_chr_x
 1592                        	
 1593               0001     		.if	BLKMAP_MULTISCR
 1594    1E:C465  BD 0A 2C   			lda	vdc_scr_bank, x		; Skip this if regular blkmap.
 1595    1E:C468  F0 11      			beq	!+
 1596                        	
 1597    1E:C46A  E6 FD      			inc	<map_scrn_x		; Wrapped to the next screen.
 1598                        	
 1599    1E:C46C  20 EC C1   			jsr	map_set_screen		; Locate screen's BLK and MAP.
 1600                        	
 1601    1E:C46F  18         			clc				; Calc map data pointer.
 1602    1E:C470  A5 EE      			lda.l	<map_line
 1603    1E:C472  85 EC      			sta.l	<_bp
 1604    1E:C474  A5 EF      			lda.h	<map_line
 1605    1E:C476  7D 06 2C   			adc.h	vdc_map_addr, x		; N.B. 256-byte aligned!
 1606    1E:C479  85 ED      			sta.h	<_bp
 1607                        		.endif
 1608                        	
 1609    1E:C47B  A5 F9      	!:		lda	<map_bat_y		; Set the BAT VRAM destination
 1610    1E:C47D  85 F1      			sta.h	<_di			; coordinates.
 1611    1E:C47F  64 F0      			stz.l	<_di			; Reset 1st column to draw.
 1612                        	
 1613    1E:C481  20 C1 C4   			jsr	blk_row_strip		; Draw rhs of horizontal strip.
 1614                        	
 1615               0001     		.if	BLKMAP_MULTISCR
 1616    1E:C484  C6 FD      			dec	<map_scrn_x		; Restore, no check if should.
 1617                        		.endif	BLKMAP_MULTISCR
 1618                        	
 1619    1E:C486  68         			pla				; Restore CHR X coordinate, we
 1620    1E:C487  85 FC      			sta	<map_chr_x		; might draw another row!
 1621                        	
 1622    1E:C489  C6 FB      	.done_row:	dec	<map_draw_h		; Are all desired rows drawn?
 1623    1E:C48B  F0 33      			beq	.finished
 1624                        	
 1625    1E:C48D  E6 FE      			inc	<map_chr_y		; Move CHR Y down by 1.
 1626                        	
 1627    1E:C48F  A5 FE      			lda	<map_chr_y		; If new BLK then ...
 1628    1E:C491  4A         			lsr	a
 1629    1E:C492  B0 0B      			bcs	!+
 1630    1E:C494  BD C8 26   			lda	vdc_map_line_w, x	; Move the map line pointer to
 1631    1E:C497  65 EE      			adc.l	<map_line		; the next line.
 1632    1E:C499  85 EE      			sta.l	<map_line
 1633    1E:C49B  90 02      			bcc	!+
 1634    1E:C49D  E6 EF      			inc.h	<map_line
 1635                        	
 1636    1E:C49F  A5 F9      	!:		lda	<map_bat_y		; Move BAT Y down by 1.
 1637    1E:C4A1  1A         			inc	a
 1638    1E:C4A2  3D C4 26   			and	vdc_bat_y_mask, x
 1639    1E:C4A5  85 F9      			sta	<map_bat_y
 1640                        	
 1641               0001     		.if	BLKMAP_MULTISCR
 1642    1E:C4A7  BC 0A 2C   			ldy	vdc_scr_bank, x		; Skip this if regular blkmap.
 1643    1E:C4AA  D0 03 4C 24			beq	.regular_row
         1E:C4AE  C4          
 1644                        	
 1645    1E:C4AF  A8         			tay				; If wrapped to the top line of
 1646    1E:C4B0  D0 0B      			bne	!+			; of the BAT then increment the
 1647    1E:C4B2  E6 FF      			inc	<map_scrn_y		; screen.
 1648                        	
 1649    1E:C4B4  BD C5 26   			lda	vdc_bat_limit, x	; The map line must wrap around
 1650    1E:C4B7  4A         			lsr	a			; too. This is simple since its
 1651    1E:C4B8  4A         			lsr	a			; size (in bytes) is 1/4 of the
 1652    1E:C4B9  25 EF      			and.h	<map_line		; BAT size (in words) and it is
 1653    1E:C4BB  85 EF      			sta.h	<map_line		; a power-of-2.
 1654                        	
 1655    1E:C4BD  4C C7 C3   	!:		jmp	.multiscr_row		; Draw next row.
 1656                        		.else
 1658                        		.endif	BLKMAP_MULTISCR
 1659                        	
 1660    1E:C4C0  60         	.finished:	rts
 1661                        	
 1662                        	
 1663                        	
 1664               0000     		.if	BLKDEF_POINTERS
 1858                        		.else	BLKDEF_POINTERS
 1859                        	
 1860                        	
 1861                        	
 1862                        	; ***************************************************************************
 1863                        	; ***************************************************************************
 1864                        	;
 1865                        	; blk_row_strip - Draw a single row of CHR into the BAT.
 1866                        	;
 1867                        	
 1868    1E:C4C1  20 48 E4   	blk_row_strip:	jsr	set_di_xy_mawr		; Set the BAT VRAM destination.
 1869                        	
 1870    1E:C4C4  A5 FC      			lda	<map_chr_x		; Select what drawing code to
 1871    1E:C4C6  4A         			lsr	a			; use depending upon even/odd
 1872    1E:C4C7  A5 FE      			lda	<map_chr_y		; CHR coordinates (not BAT to
 1873    1E:C4C9  29 01      			and	#1			; support unaligned drawing).
 1874    1E:C4CB  2A         			rol	a
 1875    1E:C4CC  0A         			asl	a
 1876    1E:C4CD  1D 03 2C   			ora.h	vdc_blk_addr, x		; What is the BLK data address?
 1877    1E:C4D0  29 1E      			and	#%00011110		; $4000, $4800, $5000 or $5800.
 1878    1E:C4D2  A8         			tay
 1879    1E:C4D3  B9 E0 C4   			lda.h	.jump_table, y		; Push the address of the code.
 1880    1E:C4D6  48         			pha
 1881    1E:C4D7  B9 DF C4   			lda.l	.jump_table, y
 1882    1E:C4DA  48         			pha
 1883                        	
 1884    1E:C4DB  B2 EC      			lda	[_bp]			; Get the first BLK number.
 1885    1E:C4DD  A8         			tay
 1886                        	
 1887    1E:C4DE  60         			rts				; Jump to the drawing code.
 1888                        	
 1889    1E:C4DF  01 C5      	.jump_table:	dw	b4000_top_even - 1
 1890    1E:C4E1  14 C5      			dw	b4000_top_odd - 1
 1891    1E:C4E3  31 C5      			dw	b4000_btm_even - 1
 1892    1E:C4E5  44 C5      			dw	b4000_btm_odd - 1
 1893                        	
 1894    1E:C4E7  61 C5      			dw	b4800_top_even - 1
 1895    1E:C4E9  74 C5      			dw	b4800_top_odd - 1
 1896    1E:C4EB  91 C5      			dw	b4800_btm_even - 1
 1897    1E:C4ED  A4 C5      			dw	b4800_btm_odd - 1
 1898                        	
 1899    1E:C4EF  C1 C5      			dw	b5000_top_even - 1
 1900    1E:C4F1  D4 C5      			dw	b5000_top_odd - 1
 1901    1E:C4F3  F1 C5      			dw	b5000_btm_even - 1
 1902    1E:C4F5  04 C6      			dw	b5000_btm_odd - 1
 1903                        	
 1904    1E:C4F7  21 C6      			dw	b5800_top_even - 1
 1905    1E:C4F9  34 C6      			dw	b5800_top_odd - 1
 1906    1E:C4FB  51 C6      			dw	b5800_btm_even - 1
 1907    1E:C4FD  64 C6      			dw	b5800_btm_odd - 1
 1908                        	
 1909                        			; top horizontal (32+2 rept)
 1910                        			;
 1911                        			; 89 cycles per block * 17 -> 1513 cycles
 1912                        	
 1913    1E:C4FF  B2 EC      	!repeat:	lda	[_bp]			; 7
 1914    1E:C501  A8         			tay				; 2
 1915                        	
 1916    1E:C502  B9 00 40   	b4000_top_even:	lda	BLK_4000_TL_L, y	; 5
 1917    1E:C505  9D 02 02   			sta	VDC_DL, x		; 6
 1918    1E:C508  B9 00 44   			lda	BLK_4000_TL_H, y	; 5
 1919               0001     		.if	BLKDEF_CHR_FLAG
 1920    1E:C50B  29 F3      			and	#%11110011		; 2
 1921                        		.endif
 1922    1E:C50D  1A         			inc	a			; 2
 1923    1E:C50E  9D 03 02   			sta	VDC_DH, x		; 6
 1924                        	
 1925    1E:C511  C6 00      			dec	<map_count		; 6
 1926    1E:C513  F0 19      			beq	!end+			; 2
 1927                        	
 1928    1E:C515  B9 00 41   	b4000_top_odd:	lda	BLK_4000_TR_L, y	; 5
 1929    1E:C518  9D 02 02   			sta	VDC_DL, x		; 6
 1930    1E:C51B  B9 00 45   			lda	BLK_4000_TR_H, y	; 5
 1931               0001     		.if	BLKDEF_CHR_FLAG
 1932    1E:C51E  29 F3      			and	#%11110011		; 2
 1933                        		.endif
 1934    1E:C520  1A         			inc	a			; 2
 1935    1E:C521  9D 03 02   			sta	VDC_DH, x		; 6
 1936                        	
 1937    1E:C524  E6 EC      			inc.l	<_bp			; 6
 1938    1E:C526  D0 02      			bne	!+			; 2/4
 1939    1E:C528  E6 ED      			inc.h	<_bp			; 6
 1940                        	
 1941    1E:C52A  C6 00      	!:		dec	<map_count		; 6
 1942    1E:C52C  D0 D1      			bne	!repeat-		; 4
 1943                        	
 1944    1E:C52E  60         	!end:		rts
 1945                        	
 1946                        			; btm horizontal (32+2 rept)
 1947                        			;
 1948                        			; 89 cycles per block * 17 -> 1513 cycles
 1949                        	
 1950    1E:C52F  B2 EC      	!repeat:	lda	[_bp]			; 7
 1951    1E:C531  A8         			tay				; 2
 1952                        	
 1953    1E:C532  B9 00 42   	b4000_btm_even:	lda	BLK_4000_BL_L, y	; 5
 1954    1E:C535  9D 02 02   			sta	VDC_DL, x		; 6
 1955    1E:C538  B9 00 46   			lda	BLK_4000_BL_H, y	; 5
 1956               0001     		.if	BLKDEF_CHR_FLAG
 1957    1E:C53B  29 F3      			and	#%11110011		; 2
 1958                        		.endif
 1959    1E:C53D  1A         			inc	a			; 2
 1960    1E:C53E  9D 03 02   			sta	VDC_DH, x		; 6
 1961                        	
 1962    1E:C541  C6 00      			dec	<map_count		; 6
 1963    1E:C543  F0 19      			beq	!end+			; 2
 1964                        	
 1965    1E:C545  B9 00 43   	b4000_btm_odd:	lda	BLK_4000_BR_L, y	; 5
 1966    1E:C548  9D 02 02   			sta	VDC_DL, x		; 6
 1967    1E:C54B  B9 00 47   			lda	BLK_4000_BR_H, y	; 5
 1968               0001     		.if	BLKDEF_CHR_FLAG
 1969    1E:C54E  29 F3      			and	#%11110011		; 2
 1970                        		.endif
 1971    1E:C550  1A         			inc	a			; 2
 1972    1E:C551  9D 03 02   			sta	VDC_DH, x		; 6
 1973                        	
 1974    1E:C554  E6 EC      			inc.l	<_bp			; 6
 1975    1E:C556  D0 02      			bne	!+			; 2/4
 1976    1E:C558  E6 ED      			inc.h	<_bp			; 6
 1977                        	
 1978    1E:C55A  C6 00      	!:		dec	<map_count		; 6
 1979    1E:C55C  D0 D1      			bne	!repeat-		; 4
 1980                        	
 1981    1E:C55E  60         	!end:		rts
 1982                        	
 1983                        			; top horizontal (32+2 rept)
 1984                        			;
 1985                        			; 89 cycles per block * 17 -> 1513 cycles
 1986                        	
 1987    1E:C55F  B2 EC      	!repeat:	lda	[_bp]			; 7
 1988    1E:C561  A8         			tay				; 2
 1989                        	
 1990    1E:C562  B9 00 48   	b4800_top_even:	lda	BLK_4800_TL_L, y	; 5
 1991    1E:C565  9D 02 02   			sta	VDC_DL, x		; 6
 1992    1E:C568  B9 00 4C   			lda	BLK_4800_TL_H, y	; 5
 1993               0001     		.if	BLKDEF_CHR_FLAG
 1994    1E:C56B  29 F3      			and	#%11110011		; 2
 1995                        		.endif
 1996    1E:C56D  1A         			inc	a			; 2
 1997    1E:C56E  9D 03 02   			sta	VDC_DH, x		; 6
 1998                        	
 1999    1E:C571  C6 00      			dec	<map_count		; 6
 2000    1E:C573  F0 19      			beq	!end+			; 2
 2001                        	
 2002    1E:C575  B9 00 49   	b4800_top_odd:	lda	BLK_4800_TR_L, y	; 5
 2003    1E:C578  9D 02 02   			sta	VDC_DL, x		; 6
 2004    1E:C57B  B9 00 4D   			lda	BLK_4800_TR_H, y	; 5
 2005               0001     		.if	BLKDEF_CHR_FLAG
 2006    1E:C57E  29 F3      			and	#%11110011		; 2
 2007                        		.endif
 2008    1E:C580  1A         			inc	a			; 2
 2009    1E:C581  9D 03 02   			sta	VDC_DH, x		; 6
 2010                        	
 2011    1E:C584  E6 EC      			inc.l	<_bp			; 6
 2012    1E:C586  D0 02      			bne	!+			; 2/4
 2013    1E:C588  E6 ED      			inc.h	<_bp			; 6
 2014                        	
 2015    1E:C58A  C6 00      	!:		dec	<map_count		; 6
 2016    1E:C58C  D0 D1      			bne	!repeat-		; 4
 2017                        	
 2018    1E:C58E  60         	!end:		rts
 2019                        	
 2020                        			; btm horizontal (32+2 rept)
 2021                        			;
 2022                        			; 89 cycles per block * 17 -> 1513 cycles
 2023                        	
 2024    1E:C58F  B2 EC      	!repeat:	lda	[_bp]			; 7
 2025    1E:C591  A8         			tay				; 2
 2026                        	
 2027    1E:C592  B9 00 4A   	b4800_btm_even:	lda	BLK_4800_BL_L, y	; 5
 2028    1E:C595  9D 02 02   			sta	VDC_DL, x		; 6
 2029    1E:C598  B9 00 4E   			lda	BLK_4800_BL_H, y	; 5
 2030               0001     		.if	BLKDEF_CHR_FLAG
 2031    1E:C59B  29 F3      			and	#%11110011		; 2
 2032                        		.endif
 2033    1E:C59D  1A         			inc	a			; 2
 2034    1E:C59E  9D 03 02   			sta	VDC_DH, x		; 6
 2035                        	
 2036    1E:C5A1  C6 00      			dec	<map_count		; 6
 2037    1E:C5A3  F0 19      			beq	!end+			; 2
 2038                        	
 2039    1E:C5A5  B9 00 4B   	b4800_btm_odd:	lda	BLK_4800_BR_L, y	; 5
 2040    1E:C5A8  9D 02 02   			sta	VDC_DL, x		; 6
 2041    1E:C5AB  B9 00 4F   			lda	BLK_4800_BR_H, y	; 5
 2042               0001     		.if	BLKDEF_CHR_FLAG
 2043    1E:C5AE  29 F3      			and	#%11110011		; 2
 2044                        		.endif
 2045    1E:C5B0  1A         			inc	a			; 2
 2046    1E:C5B1  9D 03 02   			sta	VDC_DH, x		; 6
 2047                        	
 2048    1E:C5B4  E6 EC      			inc.l	<_bp			; 6
 2049    1E:C5B6  D0 02      			bne	!+			; 2/4
 2050    1E:C5B8  E6 ED      			inc.h	<_bp			; 6
 2051                        	
 2052    1E:C5BA  C6 00      	!:		dec	<map_count		; 6
 2053    1E:C5BC  D0 D1      			bne	!repeat-		; 4
 2054                        	
 2055    1E:C5BE  60         	!end:		rts
 2056                        	
 2057                        			; top horizontal (32+2 rept)
 2058                        			;
 2059                        			; 89 cycles per block * 17 -> 1513 cycles
 2060                        	
 2061    1E:C5BF  B2 EC      	!repeat:	lda	[_bp]			; 7
 2062    1E:C5C1  A8         			tay				; 2
 2063                        	
 2064    1E:C5C2  B9 00 50   	b5000_top_even:	lda	BLK_5000_TL_L, y	; 5
 2065    1E:C5C5  9D 02 02   			sta	VDC_DL, x		; 6
 2066    1E:C5C8  B9 00 54   			lda	BLK_5000_TL_H, y	; 5
 2067               0001     		.if	BLKDEF_CHR_FLAG
 2068    1E:C5CB  29 F3      			and	#%11110011		; 2
 2069                        		.endif
 2070    1E:C5CD  1A         			inc	a			; 2
 2071    1E:C5CE  9D 03 02   			sta	VDC_DH, x		; 6
 2072                        	
 2073    1E:C5D1  C6 00      			dec	<map_count		; 6
 2074    1E:C5D3  F0 19      			beq	!end+			; 2
 2075                        	
 2076    1E:C5D5  B9 00 51   	b5000_top_odd:	lda	BLK_5000_TR_L, y	; 5
 2077    1E:C5D8  9D 02 02   			sta	VDC_DL, x		; 6
 2078    1E:C5DB  B9 00 55   			lda	BLK_5000_TR_H, y	; 5
 2079               0001     		.if	BLKDEF_CHR_FLAG
 2080    1E:C5DE  29 F3      			and	#%11110011		; 2
 2081                        		.endif
 2082    1E:C5E0  1A         			inc	a			; 2
 2083    1E:C5E1  9D 03 02   			sta	VDC_DH, x		; 6
 2084                        	
 2085    1E:C5E4  E6 EC      			inc.l	<_bp			; 6
 2086    1E:C5E6  D0 02      			bne	!+			; 2/4
 2087    1E:C5E8  E6 ED      			inc.h	<_bp			; 6
 2088                        	
 2089    1E:C5EA  C6 00      	!:		dec	<map_count		; 6
 2090    1E:C5EC  D0 D1      			bne	!repeat-		; 4
 2091                        	
 2092    1E:C5EE  60         	!end:		rts
 2093                        	
 2094                        			; btm horizontal (32+2 rept)
 2095                        			;
 2096                        			; 89 cycles per block * 17 -> 1513 cycles
 2097                        	
 2098    1E:C5EF  B2 EC      	!repeat:	lda	[_bp]			; 7
 2099    1E:C5F1  A8         			tay				; 2
 2100                        	
 2101    1E:C5F2  B9 00 52   	b5000_btm_even:	lda	BLK_5000_BL_L, y	; 5
 2102    1E:C5F5  9D 02 02   			sta	VDC_DL, x		; 6
 2103    1E:C5F8  B9 00 56   			lda	BLK_5000_BL_H, y	; 5
 2104               0001     		.if	BLKDEF_CHR_FLAG
 2105    1E:C5FB  29 F3      			and	#%11110011		; 2
 2106                        		.endif
 2107    1E:C5FD  1A         			inc	a			; 2
 2108    1E:C5FE  9D 03 02   			sta	VDC_DH, x		; 6
 2109                        	
 2110    1E:C601  C6 00      			dec	<map_count		; 6
 2111    1E:C603  F0 19      			beq	!end+			; 2
 2112                        	
 2113    1E:C605  B9 00 53   	b5000_btm_odd:	lda	BLK_5000_BR_L, y	; 5
 2114    1E:C608  9D 02 02   			sta	VDC_DL, x		; 6
 2115    1E:C60B  B9 00 57   			lda	BLK_5000_BR_H, y	; 5
 2116               0001     		.if	BLKDEF_CHR_FLAG
 2117    1E:C60E  29 F3      			and	#%11110011		; 2
 2118                        		.endif
 2119    1E:C610  1A         			inc	a			; 2
 2120    1E:C611  9D 03 02   			sta	VDC_DH, x		; 6
 2121                        	
 2122    1E:C614  E6 EC      			inc.l	<_bp			; 6
 2123    1E:C616  D0 02      			bne	!+			; 2/4
 2124    1E:C618  E6 ED      			inc.h	<_bp			; 6
 2125                        	
 2126    1E:C61A  C6 00      	!:		dec	<map_count		; 6
 2127    1E:C61C  D0 D1      			bne	!repeat-		; 4
 2128                        	
 2129    1E:C61E  60         	!end:		rts
 2130                        	
 2131                        			; top horizontal (32+2 rept)
 2132                        			;
 2133                        			; 89 cycles per block * 17 -> 1513 cycles
 2134                        	
 2135    1E:C61F  B2 EC      	!repeat:	lda	[_bp]			; 7
 2136    1E:C621  A8         			tay				; 2
 2137                        	
 2138    1E:C622  B9 00 58   	b5800_top_even:	lda	BLK_5800_TL_L, y	; 5
 2139    1E:C625  9D 02 02   			sta	VDC_DL, x		; 6
 2140    1E:C628  B9 00 5C   			lda	BLK_5800_TL_H, y	; 5
 2141               0001     		.if	BLKDEF_CHR_FLAG
 2142    1E:C62B  29 F3      			and	#%11110011		; 2
 2143                        		.endif
 2144    1E:C62D  1A         			inc	a			; 2
 2145    1E:C62E  9D 03 02   			sta	VDC_DH, x		; 6
 2146                        	
 2147    1E:C631  C6 00      			dec	<map_count		; 6
 2148    1E:C633  F0 19      			beq	!end+			; 2
 2149                        	
 2150    1E:C635  B9 00 59   	b5800_top_odd:	lda	BLK_5800_TR_L, y	; 5
 2151    1E:C638  9D 02 02   			sta	VDC_DL, x		; 6
 2152    1E:C63B  B9 00 5D   			lda	BLK_5800_TR_H, y	; 5
 2153               0001     		.if	BLKDEF_CHR_FLAG
 2154    1E:C63E  29 F3      			and	#%11110011		; 2
 2155                        		.endif
 2156    1E:C640  1A         			inc	a			; 2
 2157    1E:C641  9D 03 02   			sta	VDC_DH, x		; 6
 2158                        	
 2159    1E:C644  E6 EC      			inc.l	<_bp			; 6
 2160    1E:C646  D0 02      			bne	!+			; 2/4
 2161    1E:C648  E6 ED      			inc.h	<_bp			; 6
 2162                        	
 2163    1E:C64A  C6 00      	!:		dec	<map_count		; 6
 2164    1E:C64C  D0 D1      			bne	!repeat-		; 4
 2165                        	
 2166    1E:C64E  60         	!end:		rts
 2167                        	
 2168                        			; btm horizontal (32+2 rept)
 2169                        			;
 2170                        			; 89 cycles per block * 17 -> 1513 cycles
 2171                        	
 2172    1E:C64F  B2 EC      	!repeat:	lda	[_bp]		; 7
 2173    1E:C651  A8         			tay				; 2
 2174                        	
 2175    1E:C652  B9 00 5A   	b5800_btm_even:	lda	BLK_5800_BL_L, y	; 5
 2176    1E:C655  9D 02 02   			sta	VDC_DL, x		; 6
 2177    1E:C658  B9 00 5E   			lda	BLK_5800_BL_H, y	; 5
 2178               0001     		.if	BLKDEF_CHR_FLAG
 2179    1E:C65B  29 F3      			and	#%11110011		; 2
 2180                        		.endif
 2181    1E:C65D  1A         			inc	a			; 2
 2182    1E:C65E  9D 03 02   			sta	VDC_DH, x		; 6
 2183                        	
 2184    1E:C661  C6 00      			dec	<map_count		; 6
 2185    1E:C663  F0 19      			beq	!end+			; 2
 2186                        	
 2187    1E:C665  B9 00 5B   	b5800_btm_odd:	lda	BLK_5800_BR_L, y	; 5
 2188    1E:C668  9D 02 02   			sta	VDC_DL, x		; 6
 2189    1E:C66B  B9 00 5F   			lda	BLK_5800_BR_H, y	; 5
 2190               0001     		.if	BLKDEF_CHR_FLAG
 2191    1E:C66E  29 F3      			and	#%11110011		; 2
 2192                        		.endif
 2193    1E:C670  1A         			inc	a			; 2
 2194    1E:C671  9D 03 02   			sta	VDC_DH, x		; 6
 2195                        	
 2196    1E:C674  E6 EC      			inc.l	<_bp			; 6
 2197    1E:C676  D0 02      			bne	!+			; 2/4
 2198    1E:C678  E6 ED      			inc.h	<_bp			; 6
 2199                        	
 2200    1E:C67A  C6 00      	!:		dec	<map_count		; 6
 2201    1E:C67C  D0 D1      			bne	!repeat-		; 4
 2202                        	
 2203    1E:C67E  60         	!end:		rts
 2204                        	
 2205                        	
 2206                        	
 2207                        	; ***************************************************************************
 2208                        	; ***************************************************************************
 2209                        	;
 2210                        	; blk_col_strip - Draw a single column of CHR into the BAT.
 2211                        	;
 2212                        	
 2213    1E:C67F  20 48 E4   	blk_col_strip:	jsr	set_di_xy_mawr		; Set the BAT VRAM destination.
 2214                        	
 2215    1E:C682  A5 FC      			lda	<map_chr_x		; Select what drawing code to
 2216    1E:C684  4A         			lsr	a			; use depending upon even/odd
 2217    1E:C685  A5 FE      			lda	<map_chr_y		; CHR coordinates (not BAT to
 2218    1E:C687  29 01      			and	#1			; support unaligned drawing).
 2219    1E:C689  2A         			rol	a
 2220    1E:C68A  0A         			asl	a			; N.B. Always leaves C clear.
 2221    1E:C68B  1D 03 2C   			ora.h	vdc_blk_addr, x		; What is the BLK data address?
 2222    1E:C68E  29 1E      			and	#%00011110		; $4000, $4800, $5000 or $5800.
 2223    1E:C690  A8         			tay
 2224    1E:C691  B9 9E C6   			lda.h	.jump_table, y		; Push the address of the code.
 2225    1E:C694  48         			pha
 2226    1E:C695  B9 9D C6   			lda.l	.jump_table, y
 2227    1E:C698  48         			pha
 2228                        	
 2229    1E:C699  B2 EC      			lda	[_bp]			; Get the first BLK number.
 2230    1E:C69B  A8         			tay
 2231                        	
 2232    1E:C69C  60         			rts				; Jump to the drawing code.
 2233                        	
 2234    1E:C69D  BF C6      	.jump_table:	dw	b4000_lhs_even - 1
 2235    1E:C69F  F5 C6      			dw	b4000_rhs_even - 1
 2236    1E:C6A1  D2 C6      			dw	b4000_lhs_odd - 1
 2237    1E:C6A3  08 C7      			dw	b4000_rhs_odd - 1
 2238                        	
 2239    1E:C6A5  2B C7      			dw	b4800_lhs_even - 1
 2240    1E:C6A7  61 C7      			dw	b4800_rhs_even - 1
 2241    1E:C6A9  3E C7      			dw	b4800_lhs_odd - 1
 2242    1E:C6AB  74 C7      			dw	b4800_rhs_odd - 1
 2243                        	
 2244    1E:C6AD  97 C7      			dw	b5000_lhs_even - 1
 2245    1E:C6AF  CD C7      			dw	b5000_rhs_even - 1
 2246    1E:C6B1  AA C7      			dw	b5000_lhs_odd - 1
 2247    1E:C6B3  E0 C7      			dw	b5000_rhs_odd - 1
 2248                        	
 2249    1E:C6B5  03 C8      			dw	b5800_lhs_even - 1
 2250    1E:C6B7  39 C8      			dw	b5800_rhs_even - 1
 2251    1E:C6B9  16 C8      			dw	b5800_lhs_odd - 1
 2252    1E:C6BB  4C C8      			dw	b5800_rhs_odd - 1
 2253                        	
 2254                        			; lhs vertical (28+2 rept)
 2255                        			;
 2256                        			; N.B. C is always clear on entry.
 2257                        			;
 2258                        			; 100 cycles per block * 15 -> 1500 cycles
 2259                        	
 2260    1E:C6BD  B2 EC      	!repeat:	lda	[_bp]			; 7
 2261    1E:C6BF  A8         			tay				; 2
 2262                        	
 2263    1E:C6C0  B9 00 40   	b4000_lhs_even:	lda	BLK_4000_TL_L, y	; 5
 2264    1E:C6C3  9D 02 02   			sta	VDC_DL, x		; 6
 2265    1E:C6C6  B9 00 44   			lda	BLK_4000_TL_H, y	; 5
 2266               0001     		.if	BLKDEF_CHR_FLAG
 2267    1E:C6C9  29 F3      			and	#%11110011		; 2
 2268                        		.endif
 2269    1E:C6CB  1A         			inc	a			; 2
 2270    1E:C6CC  9D 03 02   			sta	VDC_DH, x		; 6
 2271                        	
 2272    1E:C6CF  C6 00      			dec	<map_count		; 6
 2273    1E:C6D1  F0 1F      			beq	!end+			; 2
 2274                        	
 2275    1E:C6D3  B9 00 42   	b4000_lhs_odd:	lda	BLK_4000_BL_L, y	; 5
 2276    1E:C6D6  9D 02 02   			sta	VDC_DL, x		; 6
 2277    1E:C6D9  B9 00 46   			lda	BLK_4000_BL_H, y	; 5
 2278               0001     		.if	BLKDEF_CHR_FLAG
 2279    1E:C6DC  29 F3      			and	#%11110011		; 2
 2280                        		.endif
 2281    1E:C6DE  1A         			inc	a			; 2
 2282    1E:C6DF  9D 03 02   			sta	VDC_DH, x		; 6
 2283                        	
 2284    1E:C6E2  BD C8 26   			lda	vdc_map_line_w, x	; 5
 2285    1E:C6E5  65 EC      			adc.l	<_bp			; 4
 2286    1E:C6E7  85 EC      			sta.l	<_bp			; 4
 2287    1E:C6E9  90 03      			bcc	!+			; 2/4
 2288    1E:C6EB  E6 ED      			inc.h	<_bp			; 6
 2289    1E:C6ED  18         			clc				; 2
 2290                        	
 2291    1E:C6EE  C6 00      	!:		dec	<map_count		; 6
 2292    1E:C6F0  D0 CB      			bne	!repeat-		; 4
 2293                        	
 2294    1E:C6F2  60         	!end:		rts
 2295                        	
 2296                        			; rhs vertical (28+2 rept)
 2297                        			;
 2298                        			; N.B. C is always clear on entry.
 2299                        			;
 2300                        			; 100 cycles per block * 15 -> 1500 cycles
 2301                        	
 2302    1E:C6F3  B2 EC      	!repeat:	lda	[_bp]			; 7
 2303    1E:C6F5  A8         			tay				; 2
 2304                        	
 2305    1E:C6F6  B9 00 41   	b4000_rhs_even:	lda	BLK_4000_TR_L, y	; 5
 2306    1E:C6F9  9D 02 02   			sta	VDC_DL, x		; 6
 2307    1E:C6FC  B9 00 45   			lda	BLK_4000_TR_H, y	; 5
 2308               0001     		.if	BLKDEF_CHR_FLAG
 2309    1E:C6FF  29 F3      			and	#%11110011		; 2
 2310                        		.endif
 2311    1E:C701  1A         			inc	a			; 2
 2312    1E:C702  9D 03 02   			sta	VDC_DH, x		; 6
 2313                        	
 2314    1E:C705  C6 00      			dec	<map_count		; 6
 2315    1E:C707  F0 1F      			beq	!end+			; 2
 2316                        	
 2317    1E:C709  B9 00 43   	b4000_rhs_odd:	lda	BLK_4000_BR_L, y	; 5
 2318    1E:C70C  9D 02 02   			sta	VDC_DL, x		; 6
 2319    1E:C70F  B9 00 47   			lda	BLK_4000_BR_H, y	; 5
 2320               0001     		.if	BLKDEF_CHR_FLAG
 2321    1E:C712  29 F3      			and	#%11110011		; 2
 2322                        		.endif
 2323    1E:C714  1A         			inc	a			; 2
 2324    1E:C715  9D 03 02   			sta	VDC_DH, x		; 6
 2325                        	
 2326    1E:C718  BD C8 26   			lda	vdc_map_line_w, x	; 5
 2327    1E:C71B  65 EC      			adc.l	<_bp			; 4
 2328    1E:C71D  85 EC      			sta.l	<_bp			; 4
 2329    1E:C71F  90 03      			bcc	!+			; 2/4
 2330    1E:C721  E6 ED      			inc.h	<_bp			; 6
 2331    1E:C723  18         			clc				; 2
 2332                        	
 2333    1E:C724  C6 00      	!:		dec	<map_count		; 6
 2334    1E:C726  D0 CB      			bne	!repeat-		; 4
 2335                        	
 2336    1E:C728  60         	!end:		rts
 2337                        	
 2338                        			; lhs vertical (28+2 rept)
 2339                        			;
 2340                        			; N.B. C is always clear on entry.
 2341                        			;
 2342                        			; 100 cycles per block * 15 -> 1500 cycles
 2343                        	
 2344    1E:C729  B2 EC      	!repeat:	lda	[_bp]			; 7
 2345    1E:C72B  A8         			tay				; 2
 2346                        	
 2347    1E:C72C  B9 00 48   	b4800_lhs_even:	lda	BLK_4800_TL_L, y	; 5
 2348    1E:C72F  9D 02 02   			sta	VDC_DL, x		; 6
 2349    1E:C732  B9 00 4C   			lda	BLK_4800_TL_H, y	; 5
 2350               0001     		.if	BLKDEF_CHR_FLAG
 2351    1E:C735  29 F3      			and	#%11110011		; 2
 2352                        		.endif
 2353    1E:C737  1A         			inc	a			; 2
 2354    1E:C738  9D 03 02   			sta	VDC_DH, x		; 6
 2355                        	
 2356    1E:C73B  C6 00      			dec	<map_count		; 6
 2357    1E:C73D  F0 1F      			beq	!end+			; 2
 2358                        	
 2359    1E:C73F  B9 00 4A   	b4800_lhs_odd:	lda	BLK_4800_BL_L, y	; 5
 2360    1E:C742  9D 02 02   			sta	VDC_DL, x		; 6
 2361    1E:C745  B9 00 4E   			lda	BLK_4800_BL_H, y	; 5
 2362               0001     		.if	BLKDEF_CHR_FLAG
 2363    1E:C748  29 F3      			and	#%11110011		; 2
 2364                        		.endif
 2365    1E:C74A  1A         			inc	a			; 2
 2366    1E:C74B  9D 03 02   			sta	VDC_DH, x		; 6
 2367                        	
 2368    1E:C74E  BD C8 26   			lda	vdc_map_line_w, x	; 5
 2369    1E:C751  65 EC      			adc.l	<_bp			; 4
 2370    1E:C753  85 EC      			sta.l	<_bp			; 4
 2371    1E:C755  90 03      			bcc	!+			; 2/4
 2372    1E:C757  E6 ED      			inc.h	<_bp			; 6
 2373    1E:C759  18         			clc				; 2
 2374                        	
 2375    1E:C75A  C6 00      	!:		dec	<map_count		; 6
 2376    1E:C75C  D0 CB      			bne	!repeat-		; 4
 2377                        	
 2378    1E:C75E  60         	!end:		rts
 2379                        	
 2380                        			; rhs vertical (28+2 rept)
 2381                        			;
 2382                        			; N.B. C is always clear on entry.
 2383                        			;
 2384                        			; 100 cycles per block * 15 -> 1500 cycles
 2385                        	
 2386    1E:C75F  B2 EC      	!repeat:	lda	[_bp]			; 7
 2387    1E:C761  A8         			tay				; 2
 2388                        	
 2389    1E:C762  B9 00 49   	b4800_rhs_even:	lda	BLK_4800_TR_L, y	; 5
 2390    1E:C765  9D 02 02   			sta	VDC_DL, x		; 6
 2391    1E:C768  B9 00 4D   			lda	BLK_4800_TR_H, y	; 5
 2392               0001     		.if	BLKDEF_CHR_FLAG
 2393    1E:C76B  29 F3      			and	#%11110011		; 2
 2394                        		.endif
 2395    1E:C76D  1A         			inc	a			; 2
 2396    1E:C76E  9D 03 02   			sta	VDC_DH, x		; 6
 2397                        	
 2398    1E:C771  C6 00      			dec	<map_count		; 6
 2399    1E:C773  F0 1F      			beq	!end+			; 2
 2400                        	
 2401    1E:C775  B9 00 4B   	b4800_rhs_odd:	lda	BLK_4800_BR_L, y	; 5
 2402    1E:C778  9D 02 02   			sta	VDC_DL, x		; 6
 2403    1E:C77B  B9 00 4F   			lda	BLK_4800_BR_H, y	; 5
 2404               0001     		.if	BLKDEF_CHR_FLAG
 2405    1E:C77E  29 F3      			and	#%11110011		; 2
 2406                        		.endif
 2407    1E:C780  1A         			inc	a			; 2
 2408    1E:C781  9D 03 02   			sta	VDC_DH, x		; 6
 2409                        	
 2410    1E:C784  BD C8 26   			lda	vdc_map_line_w, x	; 5
 2411    1E:C787  65 EC      			adc.l	<_bp			; 4
 2412    1E:C789  85 EC      			sta.l	<_bp			; 4
 2413    1E:C78B  90 03      			bcc	!+			; 2/4
 2414    1E:C78D  E6 ED      			inc.h	<_bp			; 6
 2415    1E:C78F  18         			clc				; 2
 2416                        	
 2417    1E:C790  C6 00      	!:		dec	<map_count		; 6
 2418    1E:C792  D0 CB      			bne	!repeat-		; 4
 2419                        	
 2420    1E:C794  60         	!end:		rts
 2421                        	
 2422                        			; lhs vertical (28+2 rept)
 2423                        			;
 2424                        			; N.B. C is always clear on entry.
 2425                        			;
 2426                        			; 100 cycles per block * 15 -> 1500 cycles
 2427                        	
 2428    1E:C795  B2 EC      	!repeat:	lda	[_bp]			; 7
 2429    1E:C797  A8         			tay				; 2
 2430                        	
 2431    1E:C798  B9 00 50   	b5000_lhs_even:	lda	BLK_5000_TL_L, y	; 5
 2432    1E:C79B  9D 02 02   			sta	VDC_DL, x		; 6
 2433    1E:C79E  B9 00 54   			lda	BLK_5000_TL_H, y	; 5
 2434               0001     		.if	BLKDEF_CHR_FLAG
 2435    1E:C7A1  29 F3      			and	#%11110011		; 2
 2436                        		.endif
 2437    1E:C7A3  1A         			inc	a			; 2
 2438    1E:C7A4  9D 03 02   			sta	VDC_DH, x		; 6
 2439                        	
 2440    1E:C7A7  C6 00      			dec	<map_count		; 6
 2441    1E:C7A9  F0 1F      			beq	!end+			; 2
 2442                        	
 2443    1E:C7AB  B9 00 52   	b5000_lhs_odd:	lda	BLK_5000_BL_L, y	; 5
 2444    1E:C7AE  9D 02 02   			sta	VDC_DL, x		; 6
 2445    1E:C7B1  B9 00 56   			lda	BLK_5000_BL_H, y	; 5
 2446               0001     		.if	BLKDEF_CHR_FLAG
 2447    1E:C7B4  29 F3      			and	#%11110011		; 2
 2448                        		.endif
 2449    1E:C7B6  1A         			inc	a			; 2
 2450    1E:C7B7  9D 03 02   			sta	VDC_DH, x		; 6
 2451                        	
 2452    1E:C7BA  BD C8 26   			lda	vdc_map_line_w, x	; 5
 2453    1E:C7BD  65 EC      			adc.l	<_bp			; 4
 2454    1E:C7BF  85 EC      			sta.l	<_bp			; 4
 2455    1E:C7C1  90 03      			bcc	!+			; 2/4
 2456    1E:C7C3  E6 ED      			inc.h	<_bp			; 6
 2457    1E:C7C5  18         			clc				; 2
 2458                        	
 2459    1E:C7C6  C6 00      	!:		dec	<map_count		; 6
 2460    1E:C7C8  D0 CB      			bne	!repeat-		; 4
 2461                        	
 2462    1E:C7CA  60         	!end:		rts
 2463                        	
 2464                        			; rhs vertical (28+2 rept)
 2465                        			;
 2466                        			; N.B. C is always clear on entry.
 2467                        			;
 2468                        			; 100 cycles per block * 15 -> 1500 cycles
 2469                        	
 2470    1E:C7CB  B2 EC      	!repeat:	lda	[_bp]			; 7
 2471    1E:C7CD  A8         			tay				; 2
 2472                        	
 2473    1E:C7CE  B9 00 51   	b5000_rhs_even:	lda	BLK_5000_TR_L, y	; 5
 2474    1E:C7D1  9D 02 02   			sta	VDC_DL, x		; 6
 2475    1E:C7D4  B9 00 55   			lda	BLK_5000_TR_H, y	; 5
 2476               0001     		.if	BLKDEF_CHR_FLAG
 2477    1E:C7D7  29 F3      			and	#%11110011		; 2
 2478                        		.endif
 2479    1E:C7D9  1A         			inc	a			; 2
 2480    1E:C7DA  9D 03 02   			sta	VDC_DH, x		; 6
 2481                        	
 2482    1E:C7DD  C6 00      			dec	<map_count		; 6
 2483    1E:C7DF  F0 1F      			beq	!end+			; 2
 2484                        	
 2485    1E:C7E1  B9 00 53   	b5000_rhs_odd:	lda	BLK_5000_BR_L, y	; 5
 2486    1E:C7E4  9D 02 02   			sta	VDC_DL, x		; 6
 2487    1E:C7E7  B9 00 57   			lda	BLK_5000_BR_H, y	; 5
 2488               0001     		.if	BLKDEF_CHR_FLAG
 2489    1E:C7EA  29 F3      			and	#%11110011		; 2
 2490                        		.endif
 2491    1E:C7EC  1A         			inc	a			; 2
 2492    1E:C7ED  9D 03 02   			sta	VDC_DH, x		; 6
 2493                        	
 2494    1E:C7F0  BD C8 26   			lda	vdc_map_line_w, x	; 5
 2495    1E:C7F3  65 EC      			adc.l	<_bp			; 4
 2496    1E:C7F5  85 EC      			sta.l	<_bp			; 4
 2497    1E:C7F7  90 03      			bcc	!+			; 2/4
 2498    1E:C7F9  E6 ED      			inc.h	<_bp			; 6
 2499    1E:C7FB  18         			clc				; 2
 2500                        	
 2501    1E:C7FC  C6 00      	!:		dec	<map_count		; 6
 2502    1E:C7FE  D0 CB      			bne	!repeat-		; 4
 2503                        	
 2504    1E:C800  60         	!end:		rts
 2505                        	
 2506                        			; lhs vertical (28+2 rept)
 2507                        			;
 2508                        			; N.B. C is always clear on entry.
 2509                        			;
 2510                        			; 100 cycles per block * 15 -> 1500 cycles
 2511                        	
 2512    1E:C801  B2 EC      	!repeat:	lda	[_bp]			; 7
 2513    1E:C803  A8         			tay				; 2
 2514                        	
 2515    1E:C804  B9 00 58   	b5800_lhs_even:	lda	BLK_5800_TL_L, y	; 5
 2516    1E:C807  9D 02 02   			sta	VDC_DL, x		; 6
 2517    1E:C80A  B9 00 5C   			lda	BLK_5800_TL_H, y	; 5
 2518               0001     		.if	BLKDEF_CHR_FLAG
 2519    1E:C80D  29 F3      			and	#%11110011		; 2
 2520                        		.endif
 2521    1E:C80F  1A         			inc	a			; 2
 2522    1E:C810  9D 03 02   			sta	VDC_DH, x		; 6
 2523                        	
 2524    1E:C813  C6 00      			dec	<map_count		; 6
 2525    1E:C815  F0 1F      			beq	!end+			; 2
 2526                        	
 2527    1E:C817  B9 00 5A   	b5800_lhs_odd:	lda	BLK_5800_BL_L, y	; 5
 2528    1E:C81A  9D 02 02   			sta	VDC_DL, x		; 6
 2529    1E:C81D  B9 00 5E   			lda	BLK_5800_BL_H, y	; 5
 2530               0001     		.if	BLKDEF_CHR_FLAG
 2531    1E:C820  29 F3      			and	#%11110011		; 2
 2532                        		.endif
 2533    1E:C822  1A         			inc	a			; 2
 2534    1E:C823  9D 03 02   			sta	VDC_DH, x		; 6
 2535                        	
 2536    1E:C826  BD C8 26   			lda	vdc_map_line_w, x	; 5
 2537    1E:C829  65 EC      			adc.l	<_bp			; 4
 2538    1E:C82B  85 EC      			sta.l	<_bp			; 4
 2539    1E:C82D  90 03      			bcc	!+			; 2/4
 2540    1E:C82F  E6 ED      			inc.h	<_bp			; 6
 2541    1E:C831  18         			clc				; 2
 2542                        	
 2543    1E:C832  C6 00      	!:		dec	<map_count		; 6
 2544    1E:C834  D0 CB      			bne	!repeat-		; 4
 2545                        	
 2546    1E:C836  60         	!end:		rts
 2547                        	
 2548                        			; rhs vertical (28+2 rept)
 2549                        			;
 2550                        			; N.B. C is always clear on entry.
 2551                        			;
 2552                        			; 100 cycles per block * 15 -> 1500 cycles
 2553                        	
 2554    1E:C837  B2 EC      	!repeat:	lda	[_bp]			; 7
 2555    1E:C839  A8         			tay				; 2
 2556                        	
 2557    1E:C83A  B9 00 59   	b5800_rhs_even:	lda	BLK_5800_TR_L, y	; 5
 2558    1E:C83D  9D 02 02   			sta	VDC_DL, x		; 6
 2559    1E:C840  B9 00 5D   			lda	BLK_5800_TR_H, y	; 5
 2560               0001     		.if	BLKDEF_CHR_FLAG
 2561    1E:C843  29 F3      			and	#%11110011		; 2
 2562                        		.endif
 2563    1E:C845  1A         			inc	a			; 2
 2564    1E:C846  9D 03 02   			sta	VDC_DH, x		; 6
 2565                        	
 2566    1E:C849  C6 00      			dec	<map_count		; 6
 2567    1E:C84B  F0 1F      			beq	!end+			; 2
 2568                        	
 2569    1E:C84D  B9 00 5B   	b5800_rhs_odd:	lda	BLK_5800_BR_L, y	; 5
 2570    1E:C850  9D 02 02   			sta	VDC_DL, x		; 6
 2571    1E:C853  B9 00 5F   			lda	BLK_5800_BR_H, y	; 5
 2572               0001     		.if	BLKDEF_CHR_FLAG
 2573    1E:C856  29 F3      			and	#%11110011		; 2
 2574                        		.endif
 2575    1E:C858  1A         			inc	a			; 2
 2576    1E:C859  9D 03 02   			sta	VDC_DH, x		; 6
 2577                        	
 2578    1E:C85C  BD C8 26   			lda	vdc_map_line_w, x	; 5
 2579    1E:C85F  65 EC      			adc.l	<_bp			; 4
 2580    1E:C861  85 EC      			sta.l	<_bp			; 4
 2581    1E:C863  90 03      			bcc	!+			; 2/4
 2582    1E:C865  E6 ED      			inc.h	<_bp			; 6
 2583    1E:C867  18         			clc				; 2
 2584                        	
 2585    1E:C868  C6 00      	!:		dec	<map_count		; 6
 2586    1E:C86A  D0 CB      			bne	!repeat-		; 4
 2587                        	
 2588    1E:C86C  60         	!end:		rts
 2589                        	
 2590                        		.endif	BLKDEF_POINTERS
 2591                        	
 2592                        		.endprocgroup	; blkmap_group
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   77                        		.else
   81                        		.endif	HUCC_USES_BLKMAP
   82                        	
   83               0001     		.ifdef	HUCC_USES_CHRMAP		; Set in hucc_chrmap.h
                             #[3]   "..\..\..\include\hucc\chrmap.asm"
   84                        			include	"chrmap.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; chrmap.asm
    5                        	;
    6                        	; A simple map system based on 8x8 characters (aka "tiles") in BAT format.
    7                        	;
    8                        	; Copyright John Brandwood 2025.
    9                        	;
   10                        	; Distributed under the Boost Software License, Version 1.0.
   11                        	; (See accompanying file LICENSE_1_0.txt or copy at
   12                        	;  http://www.boost.org/LICENSE_1_0.txt)
   13                        	;
   14                        	; ***************************************************************************
   15                        	; ***************************************************************************
   16                        	;
   17                        	; The maximum X and Y size for chrmaps is 256 characters (2048 pixels).
   18                        	;
   19                        	; The maximum total size for a chrmap is 16KBytes, which allows for maps up
   20                        	; to 256x32 tiles (2048x256 pixels).
   21                        	;
   22                        	; ***************************************************************************
   23                        	; ***************************************************************************
   24                        	
   25                        	;
   26                        	; Include dependancies ...
   27                        	;
   28                        	
   29                        			include "blkmap.asm"		; This defines the variables.
   30                        	
   31                        	;
   32                        	; Chrmaps in BAT format normally address all of VRAM from $0400..$7FFF, but
   33                        	; they can be limited to use the 32KByte of characters in VRAM $1000..$4FFF
   34                        	; which then frees up 2-bits for flag information for each character in the
   35                        	; BAT entry.
   36                        	;
   37                        	; These 2-bits are perfect for using as collision information in game maps,
   38                        	; allowing storage of states like transparent, solid, up-slope, down-slope.
   39                        	;
   40                        	; Typically this flag information is set by the map conversion tools from a
   41                        	; seperate "collision" map layer.
   42                        	;
   43                        	
   44               0000     		.ifndef	CHRMAP_BAT_FLAG
   46                        		.endif
   47                        	
   48                        	;
   49                        	;
   50                        	;
   51                        	
   52                        	
   53                        	
   54    1E:D591             	chrmap_group	.procgroup
   55                        	
   56                        	; ***************************************************************************
   57                        	; ***************************************************************************
   58                        	;
   59                        	; _draw_bat - Draw the entire screen at the current coordinates.
   60                        	; _sgx_draw_bat - Draw the entire screen at the current coordinates.
   61                        	;
   62                        	; void __fastcall draw_bat( void );
   63                        	; void __fastcall sgx_draw_bat( void );
   64                        	;
   65                        	
   66               0001     		.if	SUPPORT_SGX
   67                        	
   68                        	_sgx_draw_bat	.proc
   74                        			.endp
   75                        		.endif
   76                        	
   77    1E:D591             	_draw_bat	.proc
   78                        	
   79    1E:D591  82         			clx				; Offset to PCE VDC.
   80                        	
   81    1E:D592  43 08      			tma3				; Preserve MPR3..MPR5.
   82    1E:D594  48         			pha
   83    1E:D595  43 10      			tma4
   84    1E:D597  48         			pha
   85    1E:D598  43 20      			tma5
   86    1E:D59A  48         			pha
   87                        	
   88    1E:D59B  20 3E D6   			jsr	bat_pxl_2_chr		; Set up the draw coordinates.
   89                        	
   90    1E:D59E  A5 FC      			lda	<map_chr_x		; Reset previous X position.
   91    1E:D5A0  9D FD 2B   			sta	vdc_old_chr_x, x
   92                        	
   93    1E:D5A3  A5 FE      			lda	<map_chr_y		; Reset previous Y position,
   94    1E:D5A5  1A         			inc	a			; ready to draw rows upwards.
   95    1E:D5A6  9D FE 2B   			sta	vdc_old_chr_y, x
   96                        	
   97    1E:D5A9  BD C6 26   			lda	vdc_map_draw_w, x	; Draw the whole screen.
   98    1E:D5AC  85 FA      			sta	<map_draw_w
   99    1E:D5AE  BD C7 26   			lda	vdc_map_draw_h, x
  100    1E:D5B1  85 FB      			sta	<map_draw_h
  101                        	
  102    1E:D5B3  20 21 D7   			jsr	bat_scroll_y		; Draw N row of CHR to the BAT.
  103                        	
  104    1E:D5B6  68         			pla				; Restore MPR3..MPR5.
  105    1E:D5B7  53 20      			tam5
  106    1E:D5B9  68         			pla
  107    1E:D5BA  53 10      			tam4
  108    1E:D5BC  68         			pla
  109    1E:D5BD  53 08      			tam3
  110                        	
  111                        			leave
         1E:D5BF  4C EF FF   			jmp	leave_proc
  112                        	
  113                        			.endp
  114                        	
  115                        	
  116                        	
  117                        	; ***************************************************************************
  118                        	; ***************************************************************************
  119                        	;
  120                        	; _scroll_bat - Draw a single row of CHR into the BAT to update the edge.
  121                        	; _sgx_scroll_bat - Draw a single row of CHR into the BAT to update the edge.
  122                        	;
  123                        	; void __fastcall scroll_bat( void );
  124                        	; void __fastcall sgx_scroll_bat( void );
  125                        	;
  126                        	
  127               0001     		.if	SUPPORT_SGX
  128                        	
  129                        	_sgx_scroll_bat	.proc
  135                        			.endp
  136                        		.endif
  137                        	
  138    1E:D5C2             	_scroll_bat	.proc
  139                        	
  140    1E:D5C2  82         			clx				; Offset to PCE VDC.
  141                        	
  142    1E:D5C3  43 08      			tma3				; Preserve MPR3..MPR5.
  143    1E:D5C5  48         			pha
  144    1E:D5C6  43 10      			tma4
  145    1E:D5C8  48         			pha
  146    1E:D5C9  43 20      			tma5
  147    1E:D5CB  48         			pha
  148                        	
  149    1E:D5CC  20 3E D6   			jsr	bat_pxl_2_chr		; Set up the draw coordinates.
  150                        	
  151    1E:D5CF  BD C7 26   			lda	vdc_map_draw_h, x	; Draw new LHS or RHS if needed.
  152    1E:D5D2  85 FB      			sta	<map_draw_h
  153                        	;		lda	#1			; bat_scroll_x only ever draws a
  154                        	;		sta	<map_draw_w		; single column.
  155    1E:D5D4  20 62 D6   			jsr	bat_scroll_x
  156                        	
  157    1E:D5D7  BD FD 2B   			lda	vdc_old_chr_x, x	; Restore map_chr_x which could
  158    1E:D5DA  85 FC      			sta	<map_chr_x		; be changed by bat_scroll_x.
  159                        	
  160    1E:D5DC  BD C6 26   			lda	vdc_map_draw_w, x	; Draw new TOP or BTM if needed.
  161    1E:D5DF  85 FA      			sta	<map_draw_w
  162    1E:D5E1  A9 01      			lda	#1
  163    1E:D5E3  85 FB      			sta	<map_draw_h
  164    1E:D5E5  20 21 D7   			jsr	bat_scroll_y
  165                        	
  166    1E:D5E8  68         			pla				; Restore MPR3..MPR5.
  167    1E:D5E9  53 20      			tam5
  168    1E:D5EB  68         			pla
  169    1E:D5EC  53 10      			tam4
  170    1E:D5EE  68         			pla
  171    1E:D5EF  53 08      			tam3
  172                        	
  173                        			leave
         1E:D5F1  4C EF FF   			jmp	leave_proc
  174                        	
  175                        			.endp
  176                        	
  177                        	
  178                        	
  179                        	; ***************************************************************************
  180                        	; ***************************************************************************
  181                        	;
  182                        	; _blit_bat - Draw a map rectangle to specific BAT coordinates.
  183                        	; _sgx_blit_bat - Draw a map rectangle to specific BAT coordinates.
  184                        	;
  185                        	; void __fastcall blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
  186                        	; void __fastcall sgx_blit_bat( unsigned char tile_x<map_bat_x>, unsigned char tile_y<map_bat_y>, unsigned char tile_w<map_draw_x>, unsigned char tile_h<map_draw_y> );
  187                        	;
  188                        	; Normally you'd just use _draw_bat() and _scroll_bat(), but for those folks
  189                        	; who really wish to take manual control, you can use this.
  190                        	;
  191                        	
  192               0001     		.if	SUPPORT_SGX
  193                        	
  194                        	_sgx_blit_bat	.proc
  200                        			.endp
  201                        		.endif
  202                        	
  203    1E:D5F4             	_blit_bat	.proc
  204                        	
  205    1E:D5F4  82         			clx				; Offset to PCE VDC.
  206                        	
  207    1E:D5F5  43 08      			tma3				; Preserve MPR3..MPR5.
  208    1E:D5F7  48         			pha
  209    1E:D5F8  43 10      			tma4
  210    1E:D5FA  48         			pha
  211    1E:D5FB  43 20      			tma5
  212    1E:D5FD  48         			pha
  213                        	
  214    1E:D5FE  BD CE 26   			lda	vdc_map_option, x	; Preserve current map options.
  215    1E:D601  48         			pha
  216    1E:D602  09 C0      			ora	#MAP_UNALIGNED_X | MAP_UNALIGNED_Y
  217    1E:D604  9D CE 26   			sta	vdc_map_option, x
  218                        	
  219    1E:D607  20 3E D6   			jsr	bat_pxl_2_chr		; Set up the draw coordinates.
  220                        	
  221    1E:D60A  A5 FA      			lda	<map_draw_w		; Are we drawing just 1 column?
  222    1E:D60C  C9 01      			cmp	#1
  223    1E:D60E  F0 1E      			beq	.draw_column
  224                        	
  225                        			; Draw N rows.
  226                        	
  227    1E:D610  A5 FC      	.draw_rows:	lda	<map_chr_x		; Reset previous X position.
  228    1E:D612  9D FD 2B   			sta	vdc_old_chr_x, x
  229                        	
  230    1E:D615  A5 FE      			lda	<map_chr_y		; Reset previous Y position,
  231    1E:D617  1A         			inc	a			; ready to draw rows upwards.
  232    1E:D618  9D FE 2B   			sta	vdc_old_chr_y, x
  233                        	
  234    1E:D61B  20 21 D7   			jsr	bat_scroll_y		; Draw a row of CHR to the BAT.
  235                        	
  236                        			; Drawing completed.
  237                        	
  238    1E:D61E  68         	.finished:	pla				; Restore previous map options.
  239    1E:D61F  9D CE 26   			sta	vdc_map_option, x
  240                        	
  241    1E:D622  68         			pla				; Restore MPR3..MPR5.
  242    1E:D623  53 20      			tam5
  243    1E:D625  68         			pla
  244    1E:D626  53 10      			tam4
  245    1E:D628  68         			pla
  246    1E:D629  53 08      			tam3
  247                        	
  248                        	.exit:		leave
         1E:D62B  4C EF FF   			jmp	leave_proc
  249                        	
  250                        			; Draw 1 column.
  251                        	
  252    1E:D62E  A5 FC      	.draw_column:	lda	<map_chr_x		; Reset previous X position.
  253    1E:D630  1A         			inc	a			; ready to draw 1 column.
  254    1E:D631  9D FD 2B   			sta	vdc_old_chr_x, x
  255                        	
  256    1E:D634  A5 FE      			lda	<map_chr_y		; Reset previous Y position.
  257    1E:D636  9D FE 2B   			sta	vdc_old_chr_y, x
  258                        	
  259    1E:D639  20 62 D6   			jsr	bat_scroll_x		; Draw a single column of CHR.
  260                        	
  261    1E:D63C  80 E0      			bra	.finished
  262                        	
  263                        			.endp
  264                        	
  265                        	
  266                        	
  267                        	; ***************************************************************************
  268                        	; ***************************************************************************
  269                        	;
  270                        	
  271    1E:D63E  BD CA 26   	bat_pxl_2_chr:	lda.l	vdc_map_pxl_x, x	; Get current map X coordinate.
  272    1E:D641  85 FC      			sta.l	<map_pxl_x
  273    1E:D643  BD CB 26   			lda.h	vdc_map_pxl_x, x	; Xvert map_pxl_x to map_chr_x.
  274    1E:D646  4A         			lsr	a
  275    1E:D647  66 FC      			ror.l	<map_pxl_x
  276    1E:D649  4A         			lsr	a
  277    1E:D64A  66 FC      			ror.l	<map_pxl_x
  278    1E:D64C  4A         			lsr	a
  279    1E:D64D  66 FC      			ror.l	<map_pxl_x		; Max map width is 256 CHR.
  280                        	
  281    1E:D64F  BD CC 26   			lda.l	vdc_map_pxl_y, x	; Get current map Y coordinate.
  282    1E:D652  85 FE      			sta.l	<map_pxl_y
  283    1E:D654  BD CD 26   			lda.h	vdc_map_pxl_y, x	; Xvert map_pxl_y to map_chr_y.
  284    1E:D657  4A         			lsr	a
  285    1E:D658  66 FE      			ror.l	<map_pxl_y
  286    1E:D65A  4A         			lsr	a
  287    1E:D65B  66 FE      			ror.l	<map_pxl_y
  288    1E:D65D  4A         			lsr	a
  289    1E:D65E  66 FE      			ror.l	<map_pxl_y		; Max map width is 256 CHR.
  290                        	
  291    1E:D660  60         			rts
  292                        	
  293                        	
  294                        	
  295                        	; ***************************************************************************
  296                        	; ***************************************************************************
  297                        	;
  298                        	; bat_scroll_x - Update the BAT when X coordinate changes.
  299                        	;
  300                        	; N.B. This only ever draws a single column!
  301                        	;
  302                        	
  303    1E:D661  60         	!no_change:	rts
  304                        	
  305    1E:D662  A5 FC      	bat_scroll_x:	lda	<map_chr_x		; Compare old_x with cur_x.
  306    1E:D664  DD FD 2B   			cmp	vdc_old_chr_x, x
  307    1E:D667  F0 F8      			beq	!no_change-		; Do nothing if no change.
  308    1E:D669  9D FD 2B   			sta	vdc_old_chr_x, x
  309    1E:D66C  30 05      			bmi	.moved			; Test the sign of the change.
  310                        	
  311    1E:D66E  18         			clc				; Draw RHS if chr_x >= old_x.
  312    1E:D66F  7D C6 26   			adc	vdc_map_draw_w, x	; Usually (SCR_WIDTH / 8) + 1.
  313    1E:D672  3A         			dec	a
  314                        	
  315    1E:D673  48         	.moved:		pha				; Push chr_x in map section.
  316                        	
  317    1E:D674  3C CE 26   			bit	vdc_map_option, x	; Set bit7 to disable aligning
  318    1E:D677  30 05      			bmi	!+			; BAT X with the map X.
  319    1E:D679  3D C3 26   			and	vdc_bat_x_mask, x
  320    1E:D67C  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
  321                        	
  322    1E:D67E  A5 FE      	!:		lda	<map_chr_y		; Y = chr_y in map section.
  323    1E:D680  A8         			tay
  324                        	
  325    1E:D681  3C CE 26   			bit	vdc_map_option, x	; Set bit6 to disable aligning
  326    1E:D684  70 05      			bvs	!+			; BAT Y with the map Y.
  327    1E:D686  3D C4 26   			and	vdc_bat_y_mask, x
  328    1E:D689  85 F9      			sta	<map_bat_y		; Save BAT Y chr coordinate.
  329                        	
  330               0000     		.if	FAST_MULTIPLY
  333                        		.endif
  334                        	
  335    1E:D68B  BD C8 26   	!:		lda	vdc_map_line_w, x	; Map width in CHR (0 == 256).
  336    1E:D68E  D0 05      			bne	!+
  337                        	
  338    1E:D690  64 EE      			stz.l	<map_line		; Multiply by 256 is easy!
  339    1E:D692  98         			tya
  340    1E:D693  80 15      			bra	.double
  341                        	
  342               0000     		.if	FAST_MULTIPLY
  354                        		.else
  355    1E:D695  84 EF      	!:		sty.h	<map_line		; Takes 144..176 cycles.
  356    1E:D697  A0 08      			ldy	#8
  357    1E:D699  4A         			lsr	a
  358    1E:D69A  85 EE      			sta.l	<map_line
  359    1E:D69C  62         			cla
  360    1E:D69D  90 03      			bcc	.rotate
  361    1E:D69F  18         	.add:		clc
  362    1E:D6A0  65 EF      			adc.h	<map_line
  363    1E:D6A2  6A         	.rotate:	ror	a
  364    1E:D6A3  66 EE      			ror.l	<map_line		; Lo-byte of (CHR Y * width).
  365    1E:D6A5  88         			dey
  366    1E:D6A6  B0 F7      			bcs	.add
  367    1E:D6A8  D0 F8      			bne	.rotate
  368                        		.endif
  369                        	
  370    1E:D6AA  06 EE      	.double:	asl.l	<map_line		; Lo-byte of (CHR Y * width * 2).
  371    1E:D6AC  2A         			rol	a
  372    1E:D6AD  A8         			tay				; Hi-byte of (CHR Y * width * 2).
  373                        	
  374    1E:D6AE  BD 07 2C   			lda	vdc_map_bank, x		; Put the MAP into MPR3-MPR5.
  375    1E:D6B1  53 08      			tam3				; Allow for 16KByte chrmap.
  376    1E:D6B3  1A         			inc	a
  377    1E:D6B4  53 10      			tam4
  378    1E:D6B6  1A         			inc	a
  379    1E:D6B7  53 20      			tam5
  380                        	
  381    1E:D6B9  68         			pla				; Pop chr_x in map section.
  382    1E:D6BA  0A         			asl	a			; 2-bytes for a BAT value.
  383    1E:D6BB  90 02      			bcc	!+
  384    1E:D6BD  C8         			iny				; Hi-byte of (CHR Y * width * 2).
  385    1E:D6BE  18         			clc
  386    1E:D6BF  65 EE      	!:		adc.l	<map_line		; Lo-byte of (CHR Y * width * 2).
  387    1E:D6C1  90 01      			bcc	!+
  388    1E:D6C3  C8         			iny
  389                        	
  390    1E:D6C4  18         	!:		clc				; Calc map data pointer.
  391    1E:D6C5  7D 05 2C   			adc.l	vdc_map_addr, x
  392    1E:D6C8  85 EC      			sta.l	<_bp			; Maximum map size is 16KBytes
  393    1E:D6CA  98         			tya				; so we don't need to consider
  394    1E:D6CB  7D 06 2C   			adc.h	vdc_map_addr, x		; bank overflow.
  395    1E:D6CE  85 ED      			sta.h	<_bp
  396                        	
  397    1E:D6D0  C2         			cly				; Calculate the map line delta
  398    1E:D6D1  BD C8 26   			lda	vdc_map_line_w, x	; in bytes.
  399    1E:D6D4  D0 01      			bne	!+
  400    1E:D6D6  C8         			iny
  401    1E:D6D7  0A         	!:		asl	a
  402    1E:D6D8  85 EE      			sta.l	<map_line
  403    1E:D6DA  98         			tya
  404    1E:D6DB  2A         			rol	a
  405    1E:D6DC  85 EF      			sta.h	<map_line
  406                        	
  407                        			; Draw the first part of the column.
  408                        	
  409    1E:D6DE  A5 F8      	.draw_col:	lda	<map_bat_x		; Set the BAT VRAM destination
  410    1E:D6E0  85 F0      			sta.l	<_di			; coordinates.
  411    1E:D6E2  A5 F9      			lda	<map_bat_y
  412    1E:D6E4  85 F1      			sta.h	<_di
  413                        	
  414    1E:D6E6  5D C4 26   			eor	vdc_bat_y_mask, x	; Calc CHR before wrap.
  415    1E:D6E9  1A         			inc	a
  416    1E:D6EA  C5 FB      			cmp	<map_draw_h		; Usually (SCR_HEIGHT / 8) + 1.
  417    1E:D6EC  90 02      			bcc	!+
  418    1E:D6EE  A5 FB      			lda	<map_draw_h		; Maximum CHR to draw.
  419    1E:D6F0  85 00      	!:		sta	<map_count		; Set number of CHR to draw.
  420    1E:D6F2  85 01      			sta	<map_drawn		; Preserve number of CHR drawn.
  421                        	
  422    1E:D6F4  A9 05      			lda	#VDC_CR			; Set VDC auto-increment from
  423    1E:D6F6  95 F7      			sta	<vdc_reg, x		; the BAT width, which is set
  424    1E:D6F8  9D 00 02   			sta	VDC_AR, x		; up by set_screen_size().
  425    1E:D6FB  B5 F4      			lda	<vdc_crh, x
  426    1E:D6FD  9D 03 02   			sta	VDC_DH, x
  427                        	
  428    1E:D700  20 02 D8   			jsr	bat_col_strip		; Draw top of vertical strip.
  429                        	
  430                        			; Wrap around and draw the rest of the column (if needed).
  431                        	
  432    1E:D703  38         			sec				; Are there any more CHR that
  433    1E:D704  A5 FB      			lda	<map_draw_h		; need to be drawn?
  434    1E:D706  E5 01      			sbc	<map_drawn
  435    1E:D708  F0 0B      			beq	.done
  436                        	
  437    1E:D70A  85 00      			sta	<map_count		; Set number of CHR to draw.
  438                        	
  439    1E:D70C  A5 F8      			lda	<map_bat_x		; Set the BAT VRAM destination
  440    1E:D70E  85 F0      			sta.l	<_di			; coordinates.
  441    1E:D710  64 F1      			stz.h	<_di			; Reset 1st row to draw.
  442                        	
  443    1E:D712  20 02 D8   			jsr	bat_col_strip		; Draw btm of vertical strip.
  444                        	
  445    1E:D715  A9 05      	.done:		lda	#VDC_CR			; Set VDC auto-increment to 1.
  446    1E:D717  95 F7      			sta	<vdc_reg, x
  447    1E:D719  9D 00 02   			sta	VDC_AR, x
  448    1E:D71C  9E 03 02   			stz	VDC_DH, x
  449                        	
  450    1E:D71F  60         			rts
  451                        	
  452                        	
  453                        	
  454                        	; ***************************************************************************
  455                        	; ***************************************************************************
  456                        	;
  457                        	; bat_scroll_y - Update the BAT when Y coordinate changes.
  458                        	;
  459                        	; N.B. This draws multiple rows when called from _draw_bat or _blit_bat.
  460                        	;
  461                        	
  462    1E:D720  60         	!no_change:	rts
  463                        	
  464    1E:D721  A5 FE      	bat_scroll_y:	lda	<map_chr_y		; Compare old_y with cur_y.
  465    1E:D723  DD FE 2B   			cmp	vdc_old_chr_y, x
  466    1E:D726  F0 F8      			beq	!no_change-		; Do nothing if no change.
  467    1E:D728  9D FE 2B   			sta	vdc_old_chr_y, x
  468    1E:D72B  30 05      			bmi	.moved			; Test the sign of the change.
  469                        	
  470    1E:D72D  18         			clc				; Draw bottom if chr_y >= old_y.
  471    1E:D72E  7D C7 26   			adc	vdc_map_draw_h, x	; Usually (SCR_HEIGHT / 8) + 1.
  472    1E:D731  3A         			dec	a
  473                        	
  474    1E:D732  A8         	.moved:		tay				; Y = chr_y in map section.
  475                        	
  476    1E:D733  3C CE 26   			bit	vdc_map_option, x	; Set bit6 to disable aligning
  477    1E:D736  70 05      			bvs	!+			; BAT Y with the map Y.
  478    1E:D738  3D C4 26   			and	vdc_bat_y_mask, x
  479    1E:D73B  85 F9      			sta	<map_bat_y		; Save BAT Y chr coordinate.
  480                        	
  481    1E:D73D  3C CE 26   	!:		bit	vdc_map_option, x	; Set bit7 to disable aligning
  482    1E:D740  30 07      			bmi	!+			; BAT X with the map X.
  483    1E:D742  A5 FC      			lda	<map_chr_x
  484    1E:D744  3D C3 26   			and	vdc_bat_x_mask, x
  485    1E:D747  85 F8      			sta	<map_bat_x		; Save BAT X chr coordinate.
  486                        	
  487               0000     		.if	FAST_MULTIPLY
  490                        		.endif
  491                        	
  492    1E:D749  BD C8 26   	!:		lda	vdc_map_line_w, x	; Map width in CHR (0 == 256).
  493    1E:D74C  D0 05      			bne	!+
  494                        	
  495    1E:D74E  64 EE      			stz.l	<map_line		; Multiply by 256 is easy!
  496    1E:D750  98         			tya
  497    1E:D751  80 15      			bra	.double
  498                        	
  499               0000     		.if	FAST_MULTIPLY
  511                        		.else
  512    1E:D753  84 EF      	!:		sty.h	<map_line		; Takes 144..176 cycles.
  513    1E:D755  A0 08      			ldy	#8
  514    1E:D757  4A         			lsr	a
  515    1E:D758  85 EE      			sta.l	<map_line
  516    1E:D75A  62         			cla
  517    1E:D75B  90 03      			bcc	.rotate
  518    1E:D75D  18         	.add:		clc
  519    1E:D75E  65 EF      			adc.h	<map_line
  520    1E:D760  6A         	.rotate:	ror	a
  521    1E:D761  66 EE      			ror.l	<map_line		; Lo-byte of (CHR Y * width).
  522    1E:D763  88         			dey
  523    1E:D764  B0 F7      			bcs	.add
  524    1E:D766  D0 F8      			bne	.rotate
  525                        		.endif
  526                        	
  527    1E:D768  06 EE      	.double:	asl.l	<map_line		; Lo-byte of (CHR Y * width * 2).
  528    1E:D76A  2A         			rol	a
  529    1E:D76B  85 EF      			sta.h	<map_line		; Hi-byte of (CHR Y * width * 2).
  530    1E:D76D  A8         			tay
  531                        	
  532    1E:D76E  BD 07 2C   			lda	vdc_map_bank, x		; Put the MAP into MPR3-MPR5.
  533    1E:D771  53 08      			tam3				; Allow for 16KByte chrmap.
  534    1E:D773  1A         			inc	a
  535    1E:D774  53 10      			tam4
  536    1E:D776  1A         			inc	a
  537    1E:D777  53 20      			tam5
  538                        	
  539                        			; Loop to here if drawing multiple rows.
  540                        	
  541    1E:D779  A5 FC      	.next_row:	lda	<map_chr_x		; Map CHR X coordinate.
  542    1E:D77B  0A         			asl	a			; 2-bytes for a BAT value!
  543    1E:D77C  90 02      			bcc	!+
  544    1E:D77E  C8         			iny				; Hi-byte of (CHR Y * width * 2).
  545    1E:D77F  18         			clc
  546    1E:D780  65 EE      	!:		adc.l	<map_line		; Lo-byte of (CHR Y * width * 2).
  547    1E:D782  90 01      			bcc	!+
  548    1E:D784  C8         			iny
  549    1E:D785  18         	!:		clc				; Calc map data pointer.
  550    1E:D786  7D 05 2C   			adc.l	vdc_map_addr, x
  551    1E:D789  85 EC      			sta.l	<_bp			; Maximum map size is 16KBytes
  552    1E:D78B  98         			tya				; so we don't need to consider
  553    1E:D78C  7D 06 2C   			adc.h	vdc_map_addr, x		; bank overflow.
  554    1E:D78F  85 ED      			sta.h	<_bp
  555                        	
  556                        			; Draw the first part of the row.
  557                        	
  558    1E:D791  A5 F9      	.draw_row:	lda	<map_bat_y		; Set the BAT VRAM destination
  559    1E:D793  85 F1      			sta.h	<_di			; coordinates.
  560    1E:D795  A5 F8      			lda	<map_bat_x
  561    1E:D797  85 F0      			sta.l	<_di
  562                        	
  563    1E:D799  5D C3 26   			eor	vdc_bat_x_mask, x	; Calc CHR before wrap.
  564    1E:D79C  1A         			inc	a
  565    1E:D79D  C5 FA      			cmp	<map_draw_w		; Usually (SCR_WIDTH / 8) + 1.
  566    1E:D79F  90 02      			bcc	!+
  567    1E:D7A1  A5 FA      			lda	<map_draw_w		; Maximum CHR to draw.
  568    1E:D7A3  85 00      	!:		sta	<map_count		; Set number of CHR to draw.
  569    1E:D7A5  85 01      			sta	<map_drawn		; Preserve number of CHR drawn.
  570                        	
  571    1E:D7A7  20 E1 D7   			jsr	bat_row_strip		; Draw lhs of horizontal strip.
  572                        	
  573                        			; Wrap around and draw the rest of the row (if needed).
  574                        	
  575    1E:D7AA  38         			sec				; Are there any more CHR that
  576    1E:D7AB  A5 FA      			lda	<map_draw_w		; need to be drawn?
  577    1E:D7AD  E5 01      			sbc	<map_drawn
  578    1E:D7AF  F0 0B      			beq	.done_row
  579                        	
  580    1E:D7B1  85 00      			sta	<map_count		; Set number of CHR to draw.
  581                        	
  582    1E:D7B3  A5 F9      			lda	<map_bat_y		; Set the BAT VRAM destination
  583    1E:D7B5  85 F1      			sta.h	<_di			; coordinates.
  584    1E:D7B7  64 F0      			stz.l	<_di			; Reset 1st column to draw.
  585                        	
  586    1E:D7B9  20 E1 D7   			jsr	bat_row_strip		; Draw rhs of horizontal strip.
  587                        	
  588    1E:D7BC  C6 FB      	.done_row:	dec	<map_draw_h		; Are all desired rows drawn?
  589    1E:D7BE  F0 20      			beq	.finished
  590                        	
  591    1E:D7C0  A5 F9      			lda	<map_bat_y		; Move BAT Y down by 1.
  592    1E:D7C2  1A         			inc	a
  593    1E:D7C3  3D C4 26   			and	vdc_bat_y_mask, x
  594    1E:D7C6  85 F9      			sta	<map_bat_y
  595                        	
  596    1E:D7C8  A4 EF      			ldy.h	<map_line		; Move the map line pointer to
  597    1E:D7CA  C8         			iny				; the next line.
  598    1E:D7CB  BD C8 26   			lda	vdc_map_line_w, x
  599    1E:D7CE  F0 0B      			beq	!++			; vdc_map_line_w == 0 == 256.
  600    1E:D7D0  0A         			asl	a			; 2-bytes for a BAT value!
  601    1E:D7D1  B0 01      			bcs	!+
  602    1E:D7D3  88         			dey				; Fix if vdc_map_line_w <= 127.
  603    1E:D7D4  18         	!:		clc
  604    1E:D7D5  65 EE      			adc.l	<map_line
  605    1E:D7D7  85 EE      			sta.l	<map_line
  606    1E:D7D9  90 01      			bcc	!++
  607    1E:D7DB  C8         	!:		iny
  608    1E:D7DC  84 EF      	!:		sty.h	<map_line		; Needed for .next_row!
  609                        	
  610    1E:D7DE  80 99      			bra	.next_row		; Draw next row.
  611                        	
  612    1E:D7E0  60         	.finished:	rts
  613                        	
  614                        	
  615                        	
  616                        	; ***************************************************************************
  617                        	; ***************************************************************************
  618                        	;
  619                        	; bat_row_strip - Draw a single row of CHR into the BAT.
  620                        	;
  621                        	
  622    1E:D7E1  20 48 E4   	bat_row_strip:	jsr	set_di_xy_mawr		; Set the BAT VRAM destination.
  623                        	
  624    1E:D7E4  C2         			cly				; 2
  625    1E:D7E5  B1 EC      	.repeat:	lda	[_bp], y		; 7
  626    1E:D7E7  9D 02 02   			sta	VDC_DL, x		; 6
  627    1E:D7EA  C8         			iny				; 2
  628    1E:D7EB  B1 EC      			lda	[_bp], y		; 7
  629               0000     		.if	CHRMAP_BAT_FLAG
  634                        		.endif
  635    1E:D7ED  9D 03 02   			sta	VDC_DH, x		; 6
  636    1E:D7F0  C8         			iny				; 2
  637                        	
  638    1E:D7F1  C6 00      	!:		dec	<map_count		; 6
  639    1E:D7F3  D0 F0      			bne	.repeat			; 4
  640                        	
  641    1E:D7F5  98         			tya				; 2
  642    1E:D7F6  F0 07      			beq	!+			; 2/4
  643    1E:D7F8  18         			clc				; 2
  644    1E:D7F9  65 EC      			adc.l	<_bp			; 4
  645    1E:D7FB  85 EC      			sta.l	<_bp			; 4
  646    1E:D7FD  90 02      			bcc	.done			; 2/4
  647    1E:D7FF  E6 ED      	!:		inc.h	<_bp			; 6
  648                        	
  649    1E:D801  60         	.done:		rts
  650                        	
  651                        	
  652                        	
  653                        	; ***************************************************************************
  654                        	; ***************************************************************************
  655                        	;
  656                        	; bat_col_strip - Draw a single column of CHR into the BAT.
  657                        	;
  658                        	
  659    1E:D802  20 48 E4   	bat_col_strip:	jsr	set_di_xy_mawr		; Set the BAT VRAM destination.
  660                        	
  661    1E:D805  A0 01      			ldy	#1			; 2
  662    1E:D807  B2 EC      	.repeat:	lda	[_bp]			; 7
  663    1E:D809  9D 02 02   			sta	VDC_DL, x		; 6
  664    1E:D80C  B1 EC      			lda	[_bp], y		; 7
  665               0000     		.if	CHRMAP_BAT_FLAG
  670                        		.endif
  671    1E:D80E  9D 03 02   			sta	VDC_DH, x		; 6
  672                        	
  673    1E:D811  18         			clc				; 2
  674    1E:D812  A5 EE      			lda.l	<map_line		; 4
  675    1E:D814  65 EC      			adc.l	<_bp			; 4
  676    1E:D816  85 EC      			sta.l	<_bp			; 4
  677    1E:D818  A5 EF      			lda.h	<map_line		; 4
  678    1E:D81A  65 ED      			adc.h	<_bp			; 4
  679    1E:D81C  85 ED      			sta.h	<_bp			; 4
  680                        	
  681    1E:D81E  C6 00      			dec	<map_count		; 6
  682    1E:D820  D0 E5      			bne	.repeat			; 4
  683                        	
  684    1E:D822  60         			rts
  685                        	
  686                        		.endprocgroup	; chrmap_group
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   85                        		.endif	HUCC_USES_CHRMAP
   86                        	
   87               0001     		.ifdef	HUCC_USES_OLD_LINE		; Set in hucc_old_line.h
                             #[3]   "..\..\..\include\hucc\hucc-old-line.asm"
   88                        			include	"hucc-old-line.asm"
    1                        	; ***************************************************************************
    2                        	; ***************************************************************************
    3                        	;
    4                        	; hucc-old-line.asm
    5                        	;
    6                        	; Based on the original HuC and MagicKit functions by David Michel and the
    7                        	; other original HuC developers.
    8                        	;
    9                        	; Modifications copyright John Brandwood 2024-2025.
   10                        	;
   11                        	; Distributed under the Boost Software License, Version 1.0.
   12                        	; (See accompanying file LICENSE_1_0.txt or copy at
   13                        	;  http://www.boost.org/LICENSE_1_0.txt)
   14                        	;
   15                        	; ***************************************************************************
   16                        	; ***************************************************************************
   17                        	
   18                        	
   19                        	
   20                        	; ***************************************************************************
   21                        	; ***************************************************************************
   22                        	;
   23                        	; void __fastcall gfx_init( unsigned int start_vram_addr<_ax> );
   24                        	;
   25                        	; initialize graphics mode
   26                        	; - points graphics map to tiles at start_vram_addr
   27                        	
   28                        	_gfx_init.1	.proc
   73                        			.endp
   74                        	
   75                        	
   76                        	
   77                        	; ***************************************************************************
   78                        	; ***************************************************************************
   79                        	;
   80                        	; void __fastcall gfx_clear( unsigned int start_vram_addr<_di> );
   81                        	;
   82                        	; Clear the values in the graphics tiles
   83                        	; - places zeroes in graphics tiles at start_vram_addr
   84                        	
   85                        	_gfx_clear.1	.proc
  105                        			.endp
  106                        	
  107                        	
  108                        	
  109                        	; ***************************************************************************
  110                        	; ***************************************************************************
  111                        	;
  112                        	; void __fastcall gfx_line( unsigned int x1<_gfx_x1>, unsigned int y1<_gfx_y1>, unsigned int x2<_gfx_x2>, unsigned int y2<_gfx_y2>, unsigned char color<_gfx_color> );
  113                        	
  114                        	huc_gfx_line	.procgroup
  459                        			.endprocgroup	; huc_gfx_line
                             #[2]   "..\..\..\include\hucc\hucc-final.asm"
   89                        		.endif
   90                        	
   91               0000     		.ifdef	HUCC_USES_ZX0			; Set in hucc_zx0.h
   93                        		.endif
   94                        	
   95                        	
   96                        	
   97                        	; ***************************************************************************
   98                        	; ***************************************************************************
   99                        	;
  100                        	; Allocate space for the "-fnon-recursive" leaf function stack if needed.
  101                        	;
  102                        	
  103               0007     		.if		leaf_needs
  104               2C1D     			.bss
  105    F8:2C1D             			ds	leaf_needs
  106    F8:2C24             	leaf_stack:
  107                        		.endif
  108                        	
  109                        	
  110                        	
  111                        	; ***************************************************************************
  112                        	; ***************************************************************************
  113                        	;
  114                        	; Check that C "__zp" declarations aren't overwriting System Card variables.
  115                        	;
  116                        	
  117               20A0     			.zp
  118               0000     		.if	(* > zpg_sys_top) || (USING_PSGDRIVER && (* > zpg_psg_top))
  120                        		.endif
  121                        	
  122                        	
  123                        	
  124                        	; ***************************************************************************
  125                        	; ***************************************************************************
  126                        	;
  127                        	; Check that there isn't too much C "const" data in the ".RODATA" section.
  128                        	;
  129                        	
  130               2C24     			.xdata
  131    F8:2C24             	_xdata_end:					; End of initialized vars in BSS.
  132                        	
  133               6333     			.xinit
  134    01:6333             	_xinit_end:					; End of initialized data in ROM.
  135                        	
  136               6333     			.xstrz
  137    01:6333             	_xstrz_end:					; End of anonymous C strings.
  138    01:6333             	_rodata_end:					; End of .RODATA section.
  139               E94B     			.code
  140                        	
  141               0000     		.if	_rodata_end >= 0xA000
  143                        		.endif
                             #[1]   "main.s"

PROCEDURE LIST (in order of size):

Size: $19AA, Addr: $01:C333,      .proc _update_PLAYER
Size: $0FC9, Addr: $02:C000,      .proc _sequence_INTRO
Size: $0A61, Addr: $1D:D340,      .proc _joypad_DIR
Size: $097C, Addr: $02:CFC9,      .proc _update_WEAPON
Size: $086D, Addr: $1E:C000, .procgroup blkmap_group
Size: $05E8, Addr: $02:D945,      .proc _init_LEVEL
Size: $0580, Addr: $1E:C86D,      .proc _joypad_BUTTONS_SHOP
Size: $0414, Addr: $1E:CDED,      .proc _init_SHOP
Size: $03AA, Addr: $11:DC00,      .proc _anim_OBJECTS
Size: $0390, Addr: $1E:D201,      .proc huc_monofont_x
Size: $02F9, Addr: $01:DCDD,      .proc _init_HUD
Size: $0292, Addr: $1E:D591, .procgroup chrmap_group
Size: $0291, Addr: $1E:D823,      .proc _main
Size: $0288, Addr: $1E:DAB4,      .proc _load_OBJECT_TILES
Size: $0277, Addr: $1E:DD3C,      .proc _joypad_BUTTONS
Size: $026F, Addr: $1F:C000,      .proc _sequence_ENTER_SHOP
Size: $024D, Addr: $1D:DDA1,      .proc _joypad_BUTTONS_TITLE
Size: $0226, Addr: $1F:C26F,      .proc _init_INTRO
Size: $021C, Addr: $1F:C495,      .proc _collision_PLAYER_OBJECT
Size: $0170, Addr: $1F:C6B1,      .proc _init_TITLE
Size: $0163, Addr: $1F:C821,      .proc _scroll_object
Size: $0163, Addr: $1F:C984,      .proc _scroll_chest
Size: $0163, Addr: $1F:CAE7,      .proc _scroll_npc
Size: $0145, Addr: $1F:CC4A,      .proc _collision_PLAYER_NPC
Size: $0140, Addr: $1F:CD8F,      .proc _init_OBJECT_LV1
Size: $013B, Addr: $1F:CECF,      .proc _collision_WEAPON_OBJECTS
Size: $0108, Addr: $1F:D00A,      .proc read_joypads
Size: $0107, Addr: $1F:D112,      .proc _recenter_CAMERA
Size: $00DF, Addr: $1F:D219, .procgroup vdc_set_mode
Size: $00D7, Addr: $1F:D2F8,      .proc _init_NPC_LV1
Size: $00D0, Addr: $02:DF2D, .procgroup vdc_tty_out
Size: $00CA, Addr: $1F:D3CF,      .proc _init_CHEST_LV1
Size: $00A5, Addr: $1F:D499,      .proc _display_TIME_SHOP
Size: $009D, Addr: $1F:D53E,      .proc _display_TIME_LEVEL
Size: $009B, Addr: $1F:D5DB,      .proc cross_fade_to
Size: $0086, Addr: $1F:D676,      .proc _scroll_split.5
Size: $0086, Addr: $1F:D6FC,      .proc _sgx_scroll_split.5
Size: $0081, Addr: $1F:D782,      .proc vbl_init_scroll
Size: $007A, Addr: $1F:D803,      .proc _check_TILE_DEPTH
Size: $0077, Addr: $1F:D87D,      .proc core_main
Size: $006A, Addr: $1F:D8F4, .procgroup load_vram_group
Size: $0064, Addr: $1F:D95E,      .proc _collision_PLAYER_BG
Size: $0062, Addr: $1F:D9C2,      .proc _init_256x224
Size: $004F, Addr: $11:DFAA,      .proc _init_VARIABLES
Size: $004E, Addr: $1F:DA24, .procgroup old_satb_group
Size: $004B, Addr: $1E:DFB3, .procgroup hucc_memcmp
Size: $0046, Addr: $1F:DA72,      .proc read_palettes
Size: $0043, Addr: $1F:DAB8, .procgroup vdc_clear_vram
Size: $0043, Addr: $1F:DAFB,      .proc sgx_detect
Size: $0042, Addr: $1F:DB3E,      .proc _init_PLAYER
Size: $003F, Addr: $1F:DB80, .procgroup load_bat_group
Size: $003E, Addr: $1F:DBBF,      .proc _vram2vram.3
Size: $003B, Addr: $1F:DBFD,      .proc init_random
Size: $0038, Addr: $1F:DC38,      .proc _joypad_BUTTONS_INTRO
Size: $002E, Addr: $1F:DC70,      .proc _scroll_BG
Size: $002B, Addr: $1F:DC9E,      .proc _load_palette.3
Size: $0026, Addr: $01:DFD6,      .proc _load_CHEST_TILES
Size: $0026, Addr: $1F:DCC9,      .proc _load_NPC_TILES
Size: $0023, Addr: $1F:DCEF,      .proc _hide_LEVEL_SPRITES
Size: $001D, Addr: $1F:DD12,      .proc _init_SYSTEM
Size: $001C, Addr: $1F:DD2F,      .proc _display_SCORE
Size: $001C, Addr: $1F:DD4B,      .proc _display_ZENNY
Size: $001C, Addr: $1F:DD67,      .proc clear_vce
Size: $001A, Addr: $1F:DD83,      .proc _display_KEY
Size: $001A, Addr: $1F:DD9D,      .proc _display_POTION
Size: $0018, Addr: $1F:DDB7,      .proc _display_LIFE
